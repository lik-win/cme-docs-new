<<<<<<< HEAD
(function(_i,zt){typeof exports=="object"&&typeof module<"u"?zt(exports):typeof define=="function"&&define.amd?define(["exports"],zt):(_i=typeof globalThis<"u"?globalThis:_i||self,zt(_i.CMECore={}))})(this,function(_i){"use strict";var gW=Object.defineProperty;var mW=(_i,zt,Pr)=>zt in _i?gW(_i,zt,{enumerable:!0,configurable:!0,writable:!0,value:Pr}):_i[zt]=Pr;var Ze=(_i,zt,Pr)=>mW(_i,typeof zt!="symbol"?zt+"":zt,Pr);function zt(i){return(t,...e)=>d6(i,t,e)}function Pr(i,t){return zt(Mv(i,t).get)}const{apply:d6,construct:_W,defineProperty:IW,get:EW,getOwnPropertyDescriptor:Mv,getPrototypeOf:p2,has:yW,ownKeys:p6,set:bW,setPrototypeOf:CW}=Reflect,{iterator:dx,species:vW,toStringTag:g6,for:wW}=Symbol,m6=Object,{create:g2,defineProperty:_6,freeze:BW,is:SW}=m6,Rv=Array.prototype[dx],I6=zt(Rv),Tv=ArrayBuffer,E6=Tv.prototype;Pr(E6,"byteLength");const Dv=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;Dv&&Pr(Dv.prototype,"byteLength");const Qv=p2(Uint8Array);Qv.from;const Ii=Qv.prototype;Ii[dx],zt(Ii.keys),zt(Ii.values),zt(Ii.entries),zt(Ii.set),zt(Ii.reverse),zt(Ii.fill),zt(Ii.copyWithin),zt(Ii.sort),zt(Ii.slice),zt(Ii.subarray),Pr(Ii,"buffer"),Pr(Ii,"byteOffset"),Pr(Ii,"length"),Pr(Ii,g6);const y6=Uint8Array,Lv=Uint16Array,m2=Uint32Array,b6=Float32Array,px=p2([][dx]()),Fv=zt(px.next),C6=zt(function*(){}().next),v6=p2(px),w6=DataView.prototype,B6=zt(w6.getUint16),_2=WeakMap,kv=_2.prototype,Pv=zt(kv.get),S6=zt(kv.set),Uv=new _2,M6=g2(null,{next:{value:function(){const t=Pv(Uv,this);return Fv(t)}},[dx]:{value:function(){return this}}});function R6(i){if(i[dx]===Rv&&px.next===Fv)return i;const t=g2(M6);return S6(Uv,t,I6(i)),t}const T6=new _2,D6=g2(v6,{next:{value:function(){const t=Pv(T6,this);return C6(t)},writable:!0,configurable:!0}});for(const i of p6(px))i!=="next"&&_6(D6,i,Mv(px,i));const Nv=new Tv(4),Q6=new b6(Nv),L6=new m2(Nv),as=new Lv(512),os=new y6(512);for(let i=0;i<256;++i){const t=i-127;t<-24?(as[i]=0,as[i|256]=32768,os[i]=24,os[i|256]=24):t<-14?(as[i]=1024>>-t-14,as[i|256]=1024>>-t-14|32768,os[i]=-t-1,os[i|256]=-t-1):t<=15?(as[i]=t+15<<10,as[i|256]=t+15<<10|32768,os[i]=13,os[i|256]=13):t<128?(as[i]=31744,as[i|256]=64512,os[i]=24,os[i|256]=24):(as[i]=31744,as[i|256]=64512,os[i]=13,os[i|256]=13)}const I2=new m2(2048);for(let i=1;i<1024;++i){let t=i<<13,e=0;for(;!(t&8388608);)t<<=1,e-=8388608;t&=-8388609,e+=947912704,I2[i]=t|e}for(let i=1024;i<2048;++i)I2[i]=939524096+(i-1024<<13);const q0=new m2(64);for(let i=1;i<31;++i)q0[i]=i<<23;q0[31]=1199570944,q0[32]=2147483648;for(let i=33;i<63;++i)q0[i]=2147483648+(i-32<<23);q0[63]=3347054592;const Ov=new Lv(64);for(let i=1;i<64;++i)i!==32&&(Ov[i]=1024);function F6(i){const t=i>>10;return L6[0]=I2[Ov[t]+(i&1023)]+q0[t],Q6[0]}function Gv(i,t,...e){return F6(B6(i,t,...R6(e)))}function kh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var E2={exports:{}};function zv(i,t,e){const n=e&&e.debug||!1;n&&console.log("[xml-utils] getting "+t+" in "+i);const r=typeof i=="object"?i.outer:i,s=r.slice(0,r.indexOf(">")+1),a=['"',"'"];for(let o=0;o<a.length;o++){const l=a[o],c=t+"\\="+l+"([^"+l+"]*)"+l;n&&console.log("[xml-utils] pattern:",c);const u=new RegExp(c).exec(s);if(n&&console.log("[xml-utils] match:",u),u)return u[1]}}E2.exports=zv,E2.exports.default=zv;var k6=E2.exports;const y2=kh(k6);var b2={exports:{}},C2={exports:{}},v2={exports:{}};function Vv(i,t,e){const r=new RegExp(t).exec(i.slice(e));return r?e+r.index:-1}v2.exports=Vv,v2.exports.default=Vv;var P6=v2.exports,w2={exports:{}};function Hv(i,t,e){const r=new RegExp(t).exec(i.slice(e));return r?e+r.index+r[0].length-1:-1}w2.exports=Hv,w2.exports.default=Hv;var U6=w2.exports,B2={exports:{}};function qv(i,t){const e=new RegExp(t,"g"),n=i.match(e);return n?n.length:0}B2.exports=qv,B2.exports.default=qv;var N6=B2.exports;const O6=P6,S2=U6,Yv=N6;function Wv(i,t,e){const n=e&&e.debug||!1,r=!(e&&typeof e.nested===!1),s=e&&e.startIndex||0;n&&console.log("[xml-utils] starting findTagByName with",t," and ",e);const a=O6(i,`<${t}[ 
>/]`,s);if(n&&console.log("[xml-utils] start:",a),a===-1)return;const o=i.slice(a+t.length);let l=S2(o,"^[^<]*[ /]>",0);const c=l!==-1&&o[l-1]==="/";if(n&&console.log("[xml-utils] selfClosing:",c),c===!1)if(r){let h=0,A=1,p=0;for(;(l=S2(o,"[ /]"+t+">",h))!==-1;){const d=o.substring(h,l+1);if(A+=Yv(d,"<"+t+`[ 
	>]`),p+=Yv(d,"</"+t+">"),p>=A)break;h=l}}else l=S2(o,"[ /]"+t+">",0);const x=a+t.length+l+1;if(n&&console.log("[xml-utils] end:",x),x===-1)return;const u=i.slice(a,x);let f;return c?f=null:f=u.slice(u.indexOf(">")+1,u.lastIndexOf("<")),{inner:f,outer:u,start:a,end:x}}C2.exports=Wv,C2.exports.default=Wv;var G6=C2.exports;const z6=G6;function Xv(i,t,e){const n=[],r=e&&e.debug||!1,s=e&&typeof e.nested=="boolean"?e.nested:!0;let a=e&&e.startIndex||0,o;for(;o=z6(i,t,{debug:r,startIndex:a});)s?a=o.start+1+t.length:a=o.end,n.push(o);return r&&console.log("findTagsByName found",n.length,"tags"),n}b2.exports=Xv,b2.exports.default=Xv;var V6=b2.exports;const H6=kh(V6),gx={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},cs={};for(const i in gx)gx.hasOwnProperty(i)&&(cs[gx[i]]=parseInt(i,10));const q6=[cs.BitsPerSample,cs.ExtraSamples,cs.SampleFormat,cs.StripByteCounts,cs.StripOffsets,cs.StripRowCounts,cs.TileByteCounts,cs.TileOffsets,cs.SubIFDs],M2={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},at={};for(const i in M2)M2.hasOwnProperty(i)&&(at[M2[i]]=parseInt(i,10));const nr={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},Y6={Unspecified:0,Assocalpha:1,Unassalpha:2},W6={Version:0,AddCompression:1},R2={None:0,Deflate:1,Zstandard:2},X6={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"};function K6(i,t){const{width:e,height:n}=i,r=new Uint8Array(e*n*3);let s;for(let a=0,o=0;a<i.length;++a,o+=3)s=256-i[a]/t*256,r[o]=s,r[o+1]=s,r[o+2]=s;return r}function J6(i,t){const{width:e,height:n}=i,r=new Uint8Array(e*n*3);let s;for(let a=0,o=0;a<i.length;++a,o+=3)s=i[a]/t*256,r[o]=s,r[o+1]=s,r[o+2]=s;return r}function j6(i,t){const{width:e,height:n}=i,r=new Uint8Array(e*n*3),s=t.length/3,a=t.length/3*2;for(let o=0,l=0;o<i.length;++o,l+=3){const c=i[o];r[l]=t[c]/65536*256,r[l+1]=t[c+s]/65536*256,r[l+2]=t[c+a]/65536*256}return r}function Z6(i){const{width:t,height:e}=i,n=new Uint8Array(t*e*3);for(let r=0,s=0;r<i.length;r+=4,s+=3){const a=i[r],o=i[r+1],l=i[r+2],c=i[r+3];n[s]=255*((255-a)/256)*((255-c)/256),n[s+1]=255*((255-o)/256)*((255-c)/256),n[s+2]=255*((255-l)/256)*((255-c)/256)}return n}function $6(i){const{width:t,height:e}=i,n=new Uint8ClampedArray(t*e*3);for(let r=0,s=0;r<i.length;r+=3,s+=3){const a=i[r],o=i[r+1],l=i[r+2];n[s]=a+1.402*(l-128),n[s+1]=a-.34414*(o-128)-.71414*(l-128),n[s+2]=a+1.772*(o-128)}return n}const eR=.95047,tR=1,nR=1.08883;function iR(i){const{width:t,height:e}=i,n=new Uint8Array(t*e*3);for(let r=0,s=0;r<i.length;r+=3,s+=3){const a=i[r+0],o=i[r+1]<<24>>24,l=i[r+2]<<24>>24;let c=(a+16)/116,x=o/500+c,u=c-l/200,f,h,A;x=eR*(x*x*x>.008856?x*x*x:(x-16/116)/7.787),c=tR*(c*c*c>.008856?c*c*c:(c-16/116)/7.787),u=nR*(u*u*u>.008856?u*u*u:(u-16/116)/7.787),f=x*3.2406+c*-1.5372+u*-.4986,h=x*-.9689+c*1.8758+u*.0415,A=x*.0557+c*-.204+u*1.057,f=f>.0031308?1.055*f**(1/2.4)-.055:12.92*f,h=h>.0031308?1.055*h**(1/2.4)-.055:12.92*h,A=A>.0031308?1.055*A**(1/2.4)-.055:12.92*A,n[s]=Math.max(0,Math.min(1,f))*255,n[s+1]=Math.max(0,Math.min(1,h))*255,n[s+2]=Math.max(0,Math.min(1,A))*255}return n}const Kv=new Map;function Ra(i,t){Array.isArray(i)||(i=[i]),i.forEach(e=>Kv.set(e,t))}async function Jv(i){const t=Kv.get(i.Compression);if(!t)throw new Error(`Unknown compression method identifier: ${i.Compression}`);const e=await t();return new e(i)}Ra([void 0,1],()=>Promise.resolve().then(()=>EH).then(i=>i.default)),Ra(5,()=>Promise.resolve().then(()=>wH).then(i=>i.default)),Ra(6,()=>{throw new Error("old style JPEG compression is not supported.")}),Ra(7,()=>Promise.resolve().then(()=>TH).then(i=>i.default)),Ra([8,32946],()=>Promise.resolve().then(()=>$Y).then(i=>i.default)),Ra(32773,()=>Promise.resolve().then(()=>tW).then(i=>i.default)),Ra(34887,()=>Promise.resolve().then(()=>aW).then(async i=>(await i.zstd.init(),i)).then(i=>i.default)),Ra(50001,()=>Promise.resolve().then(()=>cW).then(i=>i.default));function Ph(i,t,e,n=1){return new(Object.getPrototypeOf(i)).constructor(t*e*n)}function rR(i,t,e,n,r){const s=t/n,a=e/r;return i.map(o=>{const l=Ph(o,n,r);for(let c=0;c<r;++c){const x=Math.min(Math.round(a*c),e-1);for(let u=0;u<n;++u){const f=Math.min(Math.round(s*u),t-1),h=o[x*t+f];l[c*n+u]=h}}return l})}function Y0(i,t,e){return(1-e)*i+e*t}function sR(i,t,e,n,r){const s=t/n,a=e/r;return i.map(o=>{const l=Ph(o,n,r);for(let c=0;c<r;++c){const x=a*c,u=Math.floor(x),f=Math.min(Math.ceil(x),e-1);for(let h=0;h<n;++h){const A=s*h,p=A%1,d=Math.floor(A),g=Math.min(Math.ceil(A),t-1),m=o[u*t+d],_=o[u*t+g],I=o[f*t+d],y=o[f*t+g],E=Y0(Y0(m,_,p),Y0(I,y,p),x%1);l[c*n+h]=E}}return l})}function aR(i,t,e,n,r,s="nearest"){switch(s.toLowerCase()){case"nearest":return rR(i,t,e,n,r);case"bilinear":case"linear":return sR(i,t,e,n,r);default:throw new Error(`Unsupported resampling method: '${s}'`)}}function oR(i,t,e,n,r,s){const a=t/n,o=e/r,l=Ph(i,n,r,s);for(let c=0;c<r;++c){const x=Math.min(Math.round(o*c),e-1);for(let u=0;u<n;++u){const f=Math.min(Math.round(a*u),t-1);for(let h=0;h<s;++h){const A=i[x*t*s+f*s+h];l[c*n*s+u*s+h]=A}}}return l}function cR(i,t,e,n,r,s){const a=t/n,o=e/r,l=Ph(i,n,r,s);for(let c=0;c<r;++c){const x=o*c,u=Math.floor(x),f=Math.min(Math.ceil(x),e-1);for(let h=0;h<n;++h){const A=a*h,p=A%1,d=Math.floor(A),g=Math.min(Math.ceil(A),t-1);for(let m=0;m<s;++m){const _=i[u*t*s+d*s+m],I=i[u*t*s+g*s+m],y=i[f*t*s+d*s+m],E=i[f*t*s+g*s+m],b=Y0(Y0(_,I,p),Y0(y,E,p),x%1);l[c*n*s+h*s+m]=b}}}return l}function lR(i,t,e,n,r,s,a="nearest"){switch(a.toLowerCase()){case"nearest":return oR(i,t,e,n,r,s);case"bilinear":case"linear":return cR(i,t,e,n,r,s);default:throw new Error(`Unsupported resampling method: '${a}'`)}}function xR(i,t,e){let n=0;for(let r=t;r<e;++r)n+=i[r];return n}function T2(i,t,e){switch(i){case 1:if(t<=8)return new Uint8Array(e);if(t<=16)return new Uint16Array(e);if(t<=32)return new Uint32Array(e);break;case 2:if(t===8)return new Int8Array(e);if(t===16)return new Int16Array(e);if(t===32)return new Int32Array(e);break;case 3:switch(t){case 16:case 32:return new Float32Array(e);case 64:return new Float64Array(e)}break}throw Error("Unsupported data format/bitsPerSample")}function uR(i,t){return(i===1||i===2)&&t<=32&&t%8===0?!1:!(i===3&&(t===16||t===32||t===64))}function fR(i,t,e,n,r,s,a){const o=new DataView(i),l=e===2?a*s:a*s*n,c=e===2?1:n,x=T2(t,r,l),u=parseInt("1".repeat(r),2);if(t===1){let f;e===1?f=n*r:f=r;let h=s*f;h&7&&(h=h+7&-8);for(let A=0;A<a;++A){const p=A*h;for(let d=0;d<s;++d){const g=p+d*c*r;for(let m=0;m<c;++m){const _=g+m*r,I=(A*s+d)*c+m,y=Math.floor(_/8),E=_%8;if(E+r<=8)x[I]=o.getUint8(y)>>8-r-E&u;else if(E+r<=16)x[I]=o.getUint16(y)>>16-r-E&u;else if(E+r<=24){const b=o.getUint16(y)<<8|o.getUint8(y+2);x[I]=b>>24-r-E&u}else x[I]=o.getUint32(y)>>32-r-E&u}}}}return x.buffer}class hR{constructor(t,e,n,r,s,a){this.fileDirectory=t,this.geoKeys=e,this.dataView=n,this.littleEndian=r,this.tiles=s?{}:null,this.isTiled=!t.StripOffsets;const o=t.PlanarConfiguration;if(this.planarConfiguration=typeof o>"u"?1:o,this.planarConfiguration!==1&&this.planarConfiguration!==2)throw new Error("Invalid planar configuration.");this.source=a}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return typeof this.fileDirectory.SamplesPerPixel<"u"?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:typeof this.fileDirectory.RowsPerStrip<"u"?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(t){return this.isTiled||(t+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-t*this.getTileHeight()}getBytesPerPixel(){let t=0;for(let e=0;e<this.fileDirectory.BitsPerSample.length;++e)t+=this.getSampleByteSize(e);return t}getSampleByteSize(t){if(t>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${t} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[t]/8)}getReaderForSample(t){const e=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[t]:1,n=this.fileDirectory.BitsPerSample[t];switch(e){case 1:if(n<=8)return DataView.prototype.getUint8;if(n<=16)return DataView.prototype.getUint16;if(n<=32)return DataView.prototype.getUint32;break;case 2:if(n<=8)return DataView.prototype.getInt8;if(n<=16)return DataView.prototype.getInt16;if(n<=32)return DataView.prototype.getInt32;break;case 3:switch(n){case 16:return function(r,s){return Gv(this,r,s)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}break}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(t=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[t]:1}getBitsPerSample(t=0){return this.fileDirectory.BitsPerSample[t]}getArrayForSample(t,e){const n=this.getSampleFormat(t),r=this.getBitsPerSample(t);return T2(n,r,e)}async getTileOrStrip(t,e,n,r,s){const a=Math.ceil(this.getWidth()/this.getTileWidth()),o=Math.ceil(this.getHeight()/this.getTileHeight());let l;const{tiles:c}=this;this.planarConfiguration===1?l=e*a+t:this.planarConfiguration===2&&(l=n*a*o+e*a+t);let x,u;this.isTiled?(x=this.fileDirectory.TileOffsets[l],u=this.fileDirectory.TileByteCounts[l]):(x=this.fileDirectory.StripOffsets[l],u=this.fileDirectory.StripByteCounts[l]);const f=(await this.source.fetch([{offset:x,length:u}],s))[0];let h;return c===null||!c[l]?(h=(async()=>{let A=await r.decode(this.fileDirectory,f);const p=this.getSampleFormat(),d=this.getBitsPerSample();return uR(p,d)&&(A=fR(A,p,this.planarConfiguration,this.getSamplesPerPixel(),d,this.getTileWidth(),this.getBlockHeight(e))),A})(),c!==null&&(c[l]=h)):h=c[l],{x:t,y:e,sample:n,data:await h}}async _readRaster(t,e,n,r,s,a,o,l,c){const x=this.getTileWidth(),u=this.getTileHeight(),f=this.getWidth(),h=this.getHeight(),A=Math.max(Math.floor(t[0]/x),0),p=Math.min(Math.ceil(t[2]/x),Math.ceil(f/x)),d=Math.max(Math.floor(t[1]/u),0),g=Math.min(Math.ceil(t[3]/u),Math.ceil(h/u)),m=t[2]-t[0];let _=this.getBytesPerPixel();const I=[],y=[];for(let w=0;w<e.length;++w)this.planarConfiguration===1?I.push(xR(this.fileDirectory.BitsPerSample,0,e[w])/8):I.push(0),y.push(this.getReaderForSample(e[w]));const E=[],{littleEndian:b}=this;for(let w=d;w<g;++w)for(let C=A;C<p;++C){let v;this.planarConfiguration===1&&(v=this.getTileOrStrip(C,w,0,s,c));for(let B=0;B<e.length;++B){const S=B,T=e[B];this.planarConfiguration===2&&(_=this.getSampleByteSize(T),v=this.getTileOrStrip(C,w,T,s,c));const Q=v.then(M=>{const D=M.data,U=new DataView(D),F=this.getBlockHeight(M.y),z=M.y*u,H=M.x*x,P=z+F,Z=(M.x+1)*x,ce=y[S],G=Math.min(F,F-(P-t[3]),h-z),O=Math.min(x,x-(Z-t[2]),f-H);for(let j=Math.max(0,t[1]-z);j<G;++j)for(let J=Math.max(0,t[0]-H);J<O;++J){const le=(j*x+J)*_,he=ce.call(U,le+I[S],b);let Ee;r?(Ee=(j+z-t[1])*m*e.length+(J+H-t[0])*e.length+S,n[Ee]=he):(Ee=(j+z-t[1])*m+J+H-t[0],n[S][Ee]=he)}});E.push(Q)}}if(await Promise.all(E),a&&t[2]-t[0]!==a||o&&t[3]-t[1]!==o){let w;return r?w=lR(n,t[2]-t[0],t[3]-t[1],a,o,e.length,l):w=aR(n,t[2]-t[0],t[3]-t[1],a,o,l),w.width=a,w.height=o,w}return n.width=a||t[2]-t[0],n.height=o||t[3]-t[1],n}async readRasters({window:t,samples:e=[],interleave:n,pool:r=null,width:s,height:a,resampleMethod:o,fillValue:l,signal:c}={}){const x=t||[0,0,this.getWidth(),this.getHeight()];if(x[0]>x[2]||x[1]>x[3])throw new Error("Invalid subsets");const u=x[2]-x[0],f=x[3]-x[1],h=u*f,A=this.getSamplesPerPixel();if(!e||!e.length)for(let m=0;m<A;++m)e.push(m);else for(let m=0;m<e.length;++m)if(e[m]>=A)return Promise.reject(new RangeError(`Invalid sample index '${e[m]}'.`));let p;if(n){const m=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,_=Math.max.apply(null,this.fileDirectory.BitsPerSample);p=T2(m,_,h*e.length),l&&p.fill(l)}else{p=[];for(let m=0;m<e.length;++m){const _=this.getArrayForSample(e[m],h);Array.isArray(l)&&m<l.length?_.fill(l[m]):l&&!Array.isArray(l)&&_.fill(l),p.push(_)}}const d=r||await Jv(this.fileDirectory);return await this._readRaster(x,e,p,n,d,s,a,o,c)}async readRGB({window:t,interleave:e=!0,pool:n=null,width:r,height:s,resampleMethod:a,enableAlpha:o=!1,signal:l}={}){const c=t||[0,0,this.getWidth(),this.getHeight()];if(c[0]>c[2]||c[1]>c[3])throw new Error("Invalid subsets");const x=this.fileDirectory.PhotometricInterpretation;if(x===nr.RGB){let g=[0,1,2];if(this.fileDirectory.ExtraSamples!==Y6.Unspecified&&o){g=[];for(let m=0;m<this.fileDirectory.BitsPerSample.length;m+=1)g.push(m)}return this.readRasters({window:t,interleave:e,samples:g,pool:n,width:r,height:s,resampleMethod:a,signal:l})}let u;switch(x){case nr.WhiteIsZero:case nr.BlackIsZero:case nr.Palette:u=[0];break;case nr.CMYK:u=[0,1,2,3];break;case nr.YCbCr:case nr.CIELab:u=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const f={window:c,interleave:!0,samples:u,pool:n,width:r,height:s,resampleMethod:a,signal:l},{fileDirectory:h}=this,A=await this.readRasters(f),p=2**this.fileDirectory.BitsPerSample[0];let d;switch(x){case nr.WhiteIsZero:d=K6(A,p);break;case nr.BlackIsZero:d=J6(A,p);break;case nr.Palette:d=j6(A,h.ColorMap);break;case nr.CMYK:d=Z6(A);break;case nr.YCbCr:d=$6(A);break;case nr.CIELab:d=iR(A);break;default:throw new Error("Unsupported photometric interpretation.")}if(!e){const g=new Uint8Array(d.length/3),m=new Uint8Array(d.length/3),_=new Uint8Array(d.length/3);for(let I=0,y=0;I<d.length;I+=3,++y)g[y]=d[I],m[y]=d[I+1],_[y]=d[I+2];d=[g,m,_]}return d.width=A.width,d.height=A.height,d}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const t=[];for(let e=0;e<this.fileDirectory.ModelTiepoint.length;e+=6)t.push({i:this.fileDirectory.ModelTiepoint[e],j:this.fileDirectory.ModelTiepoint[e+1],k:this.fileDirectory.ModelTiepoint[e+2],x:this.fileDirectory.ModelTiepoint[e+3],y:this.fileDirectory.ModelTiepoint[e+4],z:this.fileDirectory.ModelTiepoint[e+5]});return t}getGDALMetadata(t=null){const e={};if(!this.fileDirectory.GDAL_METADATA)return null;const n=this.fileDirectory.GDAL_METADATA;let r=H6(n,"Item");t===null?r=r.filter(s=>y2(s,"sample")===void 0):r=r.filter(s=>Number(y2(s,"sample"))===t);for(let s=0;s<r.length;++s){const a=r[s];e[y2(a,"name")]=a.inner}return e}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const t=this.fileDirectory.GDAL_NODATA;return Number(t.substring(0,t.length-1))}getOrigin(){const t=this.fileDirectory.ModelTiepoint,e=this.fileDirectory.ModelTransformation;if(t&&t.length===6)return[t[3],t[4],t[5]];if(e)return[e[3],e[7],e[11]];throw new Error("The image does not have an affine transformation.")}getResolution(t=null){const e=this.fileDirectory.ModelPixelScale,n=this.fileDirectory.ModelTransformation;if(e)return[e[0],-e[1],e[2]];if(n)return n[1]===0&&n[4]===0?[n[0],-n[5],n[10]]:[Math.sqrt(n[0]*n[0]+n[4]*n[4]),-Math.sqrt(n[1]*n[1]+n[5]*n[5]),n[10]];if(t){const[r,s,a]=t.getResolution();return[r*t.getWidth()/this.getWidth(),s*t.getHeight()/this.getHeight(),a*t.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return this.geoKeys.GTRasterTypeGeoKey===1}getBoundingBox(t=!1){const e=this.getHeight(),n=this.getWidth();if(this.fileDirectory.ModelTransformation&&!t){const[r,s,a,o,l,c,x,u]=this.fileDirectory.ModelTransformation,h=[[0,0],[0,e],[n,0],[n,e]].map(([d,g])=>[o+r*d+s*g,u+l*d+c*g]),A=h.map(d=>d[0]),p=h.map(d=>d[1]);return[Math.min(...A),Math.min(...p),Math.max(...A),Math.max(...p)]}else{const r=this.getOrigin(),s=this.getResolution(),a=r[0],o=r[1],l=a+s[0]*n,c=o+s[1]*e;return[Math.min(a,l),Math.min(o,c),Math.max(a,l),Math.max(o,c)]}}}class AR{constructor(t){this._dataView=new DataView(t)}get buffer(){return this._dataView.buffer}getUint64(t,e){const n=this.getUint32(t,e),r=this.getUint32(t+4,e);let s;if(e){if(s=n+2**32*r,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}if(s=2**32*n+r,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}getInt64(t,e){let n=0;const r=(this._dataView.getUint8(t+(e?7:0))&128)>0;let s=!0;for(let a=0;a<8;a++){let o=this._dataView.getUint8(t+(e?a:7-a));r&&(s?o!==0&&(o=~(o-1)&255,s=!1):o=~o&255),n+=o*256**a}return r&&(n=-n),n}getUint8(t,e){return this._dataView.getUint8(t,e)}getInt8(t,e){return this._dataView.getInt8(t,e)}getUint16(t,e){return this._dataView.getUint16(t,e)}getInt16(t,e){return this._dataView.getInt16(t,e)}getUint32(t,e){return this._dataView.getUint32(t,e)}getInt32(t,e){return this._dataView.getInt32(t,e)}getFloat16(t,e){return Gv(this._dataView,t,e)}getFloat32(t,e){return this._dataView.getFloat32(t,e)}getFloat64(t,e){return this._dataView.getFloat64(t,e)}}class dR{constructor(t,e,n,r){this._dataView=new DataView(t),this._sliceOffset=e,this._littleEndian=n,this._bigTiff=r}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(t,e){return this.sliceOffset<=t&&this.sliceTop>=t+e}readUint8(t){return this._dataView.getUint8(t-this._sliceOffset,this._littleEndian)}readInt8(t){return this._dataView.getInt8(t-this._sliceOffset,this._littleEndian)}readUint16(t){return this._dataView.getUint16(t-this._sliceOffset,this._littleEndian)}readInt16(t){return this._dataView.getInt16(t-this._sliceOffset,this._littleEndian)}readUint32(t){return this._dataView.getUint32(t-this._sliceOffset,this._littleEndian)}readInt32(t){return this._dataView.getInt32(t-this._sliceOffset,this._littleEndian)}readFloat32(t){return this._dataView.getFloat32(t-this._sliceOffset,this._littleEndian)}readFloat64(t){return this._dataView.getFloat64(t-this._sliceOffset,this._littleEndian)}readUint64(t){const e=this.readUint32(t),n=this.readUint32(t+4);let r;if(this._littleEndian){if(r=e+2**32*n,!Number.isSafeInteger(r))throw new Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}if(r=2**32*e+n,!Number.isSafeInteger(r))throw new Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}readInt64(t){let e=0;const n=(this._dataView.getUint8(t+(this._littleEndian?7:0))&128)>0;let r=!0;for(let s=0;s<8;s++){let a=this._dataView.getUint8(t+(this._littleEndian?s:7-s));n&&(r?a!==0&&(a=~(a-1)&255,r=!1):a=~a&255),e+=a*256**s}return n&&(e=-e),e}readOffset(t){return this._bigTiff?this.readUint64(t):this.readUint32(t)}}const pR=typeof navigator<"u"&&navigator.hardwareConcurrency||2;class jv{constructor(t=pR,e){this.workers=null,this._awaitingDecoder=null,this.size=t,this.messageId=0,t&&(this._awaitingDecoder=e?Promise.resolve(e):new Promise(n=>{Promise.resolve().then(()=>uW).then(r=>{n(r.create)})}),this._awaitingDecoder.then(n=>{this._awaitingDecoder=null,this.workers=[];for(let r=0;r<t;r++)this.workers.push({worker:n(),idle:!0})}))}async decode(t,e){return this._awaitingDecoder&&await this._awaitingDecoder,this.size===0?Jv(t).then(n=>n.decode(t,e)):new Promise(n=>{const r=this.workers.find(o=>o.idle)||this.workers[Math.floor(Math.random()*this.size)];r.idle=!1;const s=this.messageId++,a=o=>{o.data.id===s&&(r.idle=!0,n(o.data.decoded),r.worker.removeEventListener("message",a))};r.worker.addEventListener("message",a),r.worker.postMessage({fileDirectory:t,buffer:e,id:s},[e])})}destroy(){this.workers&&(this.workers.forEach(t=>{t.worker.terminate()}),this.workers=null)}}const Zv=`\r
\r
`;function $v(i){if(typeof Object.fromEntries<"u")return Object.fromEntries(i);const t={};for(const[e,n]of i)t[e.toLowerCase()]=n;return t}function gR(i){const t=i.split(`\r
`).map(e=>{const n=e.split(":").map(r=>r.trim());return n[0]=n[0].toLowerCase(),n});return $v(t)}function mR(i){const[t,...e]=i.split(";").map(r=>r.trim()),n=e.map(r=>r.split("="));return{type:t,params:$v(n)}}function D2(i){let t,e,n;return i&&([,t,e,n]=i.match(/bytes (\d+)-(\d+)\/(\d+)/),t=parseInt(t,10),e=parseInt(e,10),n=parseInt(n,10)),{start:t,end:e,total:n}}function _R(i,t){let e=null;const n=new TextDecoder("ascii"),r=[],s=`--${t}`,a=`${s}--`;for(let o=0;o<10;++o)n.decode(new Uint8Array(i,o,s.length))===s&&(e=o);if(e===null)throw new Error("Could not find initial boundary");for(;e<i.byteLength;){const o=n.decode(new Uint8Array(i,e,Math.min(s.length+1024,i.byteLength-e)));if(o.length===0||o.startsWith(a))break;if(!o.startsWith(s))throw new Error("Part does not start with boundary");const l=o.substr(s.length+2);if(l.length===0)break;const c=l.indexOf(Zv),x=gR(l.substr(0,c)),{start:u,end:f,total:h}=D2(x["content-range"]),A=e+s.length+c+Zv.length,p=parseInt(f,10)+1-parseInt(u,10);r.push({headers:x,data:i.slice(A,A+p),offset:u,length:p,fileSize:h}),e=A+p+4}return r}class e3{async fetch(t,e=void 0){return Promise.all(t.map(n=>this.fetchSlice(n,e)))}async fetchSlice(t){throw new Error(`fetching of slice ${t} not possible, not implemented`)}get fileSize(){return null}async close(){}}class IR extends Map{constructor(t={}){if(super(),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof t.maxAge=="number"&&t.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=t.maxSize,this.maxAge=t.maxAge||Number.POSITIVE_INFINITY,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(t){if(typeof this.onEviction=="function")for(const[e,n]of t)this.onEviction(e,n.value)}_deleteIfExpired(t,e){return typeof e.expiry=="number"&&e.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(t,e.value),this.delete(t)):!1}_getOrDeleteIfExpired(t,e){if(this._deleteIfExpired(t,e)===!1)return e.value}_getItemValue(t,e){return e.expiry?this._getOrDeleteIfExpired(t,e):e.value}_peek(t,e){const n=e.get(t);return this._getItemValue(t,n)}_set(t,e){this.cache.set(t,e),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(t,e){this.oldCache.delete(t),this._set(t,e)}*_entriesAscending(){for(const t of this.oldCache){const[e,n]=t;this.cache.has(e)||this._deleteIfExpired(e,n)===!1&&(yield t)}for(const t of this.cache){const[e,n]=t;this._deleteIfExpired(e,n)===!1&&(yield t)}}get(t){if(this.cache.has(t)){const e=this.cache.get(t);return this._getItemValue(t,e)}if(this.oldCache.has(t)){const e=this.oldCache.get(t);if(this._deleteIfExpired(t,e)===!1)return this._moveToRecent(t,e),e.value}}set(t,e,{maxAge:n=this.maxAge}={}){const r=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;return this.cache.has(t)?this.cache.set(t,{value:e,expiry:r}):this._set(t,{value:e,expiry:r}),this}has(t){return this.cache.has(t)?!this._deleteIfExpired(t,this.cache.get(t)):this.oldCache.has(t)?!this._deleteIfExpired(t,this.oldCache.get(t)):!1}peek(t){if(this.cache.has(t))return this._peek(t,this.cache);if(this.oldCache.has(t))return this._peek(t,this.oldCache)}delete(t){const e=this.cache.delete(t);return e&&this._size--,this.oldCache.delete(t)||e}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(t){if(!(t&&t>0))throw new TypeError("`maxSize` must be a number greater than 0");const e=[...this._entriesAscending()],n=e.length-t;n<0?(this.cache=new Map(e),this.oldCache=new Map,this._size=e.length):(n>0&&this._emitEvictions(e.slice(0,n)),this.oldCache=new Map(e.slice(n)),this.cache=new Map,this._size=0),this.maxSize=t}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache){const[e,n]=t;this._deleteIfExpired(e,n)===!1&&(yield[e,n.value])}for(const t of this.oldCache){const[e,n]=t;this.cache.has(e)||this._deleteIfExpired(e,n)===!1&&(yield[e,n.value])}}*entriesDescending(){let t=[...this.cache];for(let e=t.length-1;e>=0;--e){const n=t[e],[r,s]=n;this._deleteIfExpired(r,s)===!1&&(yield[r,s.value])}t=[...this.oldCache];for(let e=t.length-1;e>=0;--e){const n=t[e],[r,s]=n;this.cache.has(r)||this._deleteIfExpired(r,s)===!1&&(yield[r,s.value])}}*entriesAscending(){for(const[t,e]of this._entriesAscending())yield[t,e.value]}get size(){if(!this._size)return this.oldCache.size;let t=0;for(const e of this.oldCache.keys())this.cache.has(e)||t++;return Math.min(this._size+t,this.maxSize)}entries(){return this.entriesAscending()}forEach(t,e=this){for(const[n,r]of this.entriesAscending())t.call(e,r,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}async function ER(i){return new Promise(t=>setTimeout(t,i))}function yR(i,t){const e=Array.isArray(i)?i:Array.from(i),n=Array.isArray(t)?t:Array.from(t);return e.map((r,s)=>[r,n[s]])}class W0 extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,W0),this.name="AbortError"}}class bR extends Error{constructor(t,e){super(e),this.errors=t,this.message=e,this.name="AggregateError"}}const CR=bR;class vR{constructor(t,e,n=null){this.offset=t,this.length=e,this.data=n}get top(){return this.offset+this.length}}class t3{constructor(t,e,n){this.offset=t,this.length=e,this.blockIds=n}}class wR extends e3{constructor(t,{blockSize:e=65536,cacheSize:n=100}={}){super(),this.source=t,this.blockSize=e,this.blockCache=new IR({maxSize:n,onEviction:(r,s)=>{this.evictedBlocks.set(r,s)}}),this.evictedBlocks=new Map,this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(t,e){const n=[],r=[],s=[];this.evictedBlocks.clear();for(const{offset:f,length:h}of t){let A=f+h;const{fileSize:p}=this;p!==null&&(A=Math.min(A,p));const d=Math.floor(f/this.blockSize)*this.blockSize;for(let g=d;g<A;g+=this.blockSize){const m=Math.floor(g/this.blockSize);!this.blockCache.has(m)&&!this.blockRequests.has(m)&&(this.blockIdsToFetch.add(m),r.push(m)),this.blockRequests.has(m)&&n.push(this.blockRequests.get(m)),s.push(m)}}await ER(),this.fetchBlocks(e);const a=[];for(const f of r)this.blockRequests.has(f)&&a.push(this.blockRequests.get(f));await Promise.allSettled(n),await Promise.allSettled(a);const o=[],l=s.filter(f=>this.abortedBlockIds.has(f)||!this.blockCache.has(f));if(l.forEach(f=>this.blockIdsToFetch.add(f)),l.length>0&&e&&!e.aborted){this.fetchBlocks(null);for(const f of l){const h=this.blockRequests.get(f);if(!h)throw new Error(`Block ${f} is not in the block requests`);o.push(h)}await Promise.allSettled(o)}if(e&&e.aborted)throw new W0("Request was aborted");const c=s.map(f=>this.blockCache.get(f)||this.evictedBlocks.get(f)),x=c.filter(f=>!f);if(x.length)throw new CR(x,"Request failed");const u=new Map(yR(s,c));return this.readSliceData(t,u)}fetchBlocks(t){if(this.blockIdsToFetch.size>0){const e=this.groupBlocks(this.blockIdsToFetch),n=this.source.fetch(e,t);for(let r=0;r<e.length;++r){const s=e[r];for(const a of s.blockIds)this.blockRequests.set(a,(async()=>{try{const o=(await n)[r],l=a*this.blockSize,c=l-o.offset,x=Math.min(c+this.blockSize,o.data.byteLength),u=o.data.slice(c,x),f=new vR(l,u.byteLength,u,a);this.blockCache.set(a,f),this.abortedBlockIds.delete(a)}catch(o){if(o.name==="AbortError")o.signal=t,this.blockCache.delete(a),this.abortedBlockIds.add(a);else throw o}finally{this.blockRequests.delete(a)}})())}this.blockIdsToFetch.clear()}}groupBlocks(t){const e=Array.from(t).sort((a,o)=>a-o);if(e.length===0)return[];let n=[],r=null;const s=[];for(const a of e)r===null||r+1===a?(n.push(a),r=a):(s.push(new t3(n[0]*this.blockSize,n.length*this.blockSize,n)),n=[a],r=a);return s.push(new t3(n[0]*this.blockSize,n.length*this.blockSize,n)),s}readSliceData(t,e){return t.map(n=>{let r=n.offset+n.length;this.fileSize!==null&&(r=Math.min(this.fileSize,r));const s=Math.floor(n.offset/this.blockSize),a=Math.floor(r/this.blockSize),o=new ArrayBuffer(n.length),l=new Uint8Array(o);for(let c=s;c<=a;++c){const x=e.get(c),u=x.offset-n.offset,f=x.top-r;let h=0,A=0,p;u<0?h=-u:u>0&&(A=u),f<0?p=x.length-h:p=r-x.offset-h;const d=new Uint8Array(x.data,h,p);l.set(d,A)}return o})}}class Q2{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(t){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class L2{constructor(t){this.url=t}async request({headers:t,signal:e}={}){throw new Error("request is not implemented")}}class BR extends Q2{constructor(t){super(),this.response=t}get status(){return this.response.status}getHeader(t){return this.response.headers.get(t)}async getData(){return this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer}}class SR extends L2{constructor(t,e){super(t),this.credentials=e}async request({headers:t,signal:e}={}){const n=await fetch(this.url,{headers:t,credentials:this.credentials,signal:e});return new BR(n)}}class MR extends Q2{constructor(t,e){super(),this.xhr=t,this.data=e}get status(){return this.xhr.status}getHeader(t){return this.xhr.getResponseHeader(t)}async getData(){return this.data}}class RR extends L2{constructRequest(t,e){return new Promise((n,r)=>{const s=new XMLHttpRequest;s.open("GET",this.url),s.responseType="arraybuffer";for(const[a,o]of Object.entries(t))s.setRequestHeader(a,o);s.onload=()=>{const a=s.response;n(new MR(s,a))},s.onerror=r,s.onabort=()=>r(new W0("Request aborted")),s.send(),e&&(e.aborted&&s.abort(),e.addEventListener("abort",()=>s.abort()))})}async request({headers:t,signal:e}={}){return await this.constructRequest(t,e)}}const F2={};class TR extends Q2{constructor(t,e){super(),this.response=t,this.dataPromise=e}get status(){return this.response.statusCode}getHeader(t){return this.response.headers[t]}async getData(){return await this.dataPromise}}class DR extends L2{constructor(t){super(t),this.parsedUrl=F2.parse(this.url),this.httpApi=(this.parsedUrl.protocol==="http:",F2)}constructRequest(t,e){return new Promise((n,r)=>{const s=this.httpApi.get({...this.parsedUrl,headers:t},a=>{const o=new Promise(l=>{const c=[];a.on("data",x=>{c.push(x)}),a.on("end",()=>{const x=Buffer.concat(c).buffer;l(x)}),a.on("error",r)});n(new TR(a,o))});s.on("error",r),e&&(e.aborted&&s.destroy(new W0("Request aborted")),e.addEventListener("abort",()=>s.destroy(new W0("Request aborted"))))})}async request({headers:t,signal:e}={}){return await this.constructRequest(t,e)}}class k2 extends e3{constructor(t,e,n,r){super(),this.client=t,this.headers=e,this.maxRanges=n,this.allowFullFile=r,this._fileSize=null}async fetch(t,e){return this.maxRanges>=t.length?this.fetchSlices(t,e):(this.maxRanges>0&&t.length>1,Promise.all(t.map(n=>this.fetchSlice(n,e))))}async fetchSlices(t,e){const n=await this.client.request({headers:{...this.headers,Range:`bytes=${t.map(({offset:r,length:s})=>`${r}-${r+s}`).join(",")}`},signal:e});if(n.ok)if(n.status===206){const{type:r,params:s}=mR(n.getHeader("content-type"));if(r==="multipart/byteranges"){const u=_R(await n.getData(),s.boundary);return this._fileSize=u[0].fileSize||null,u}const a=await n.getData(),{start:o,end:l,total:c}=D2(n.getHeader("content-range"));this._fileSize=c||null;const x=[{data:a,offset:o,length:l-o}];if(t.length>1){const u=await Promise.all(t.slice(1).map(f=>this.fetchSlice(f,e)));return x.concat(u)}return x}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const r=await n.getData();return this._fileSize=r.byteLength,[{data:r,offset:0,length:r.byteLength}]}else throw new Error("Error fetching data.")}async fetchSlice(t,e){const{offset:n,length:r}=t,s=await this.client.request({headers:{...this.headers,Range:`bytes=${n}-${n+r}`},signal:e});if(s.ok)if(s.status===206){const a=await s.getData(),{total:o}=D2(s.getHeader("content-range"));return this._fileSize=o||null,{data:a,offset:n,length:r}}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const a=await s.getData();return this._fileSize=a.byteLength,{data:a,offset:0,length:a.byteLength}}else throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function P2(i,{blockSize:t,cacheSize:e}){return t===null?i:new wR(i,{blockSize:t,cacheSize:e})}function QR(i,{headers:t={},credentials:e,maxRanges:n=0,allowFullFile:r=!1,...s}={}){const a=new SR(i,e),o=new k2(a,t,n,r);return P2(o,s)}function LR(i,{headers:t={},maxRanges:e=0,allowFullFile:n=!1,...r}={}){const s=new RR(i),a=new k2(s,t,e,n);return P2(a,r)}function FR(i,{headers:t={},maxRanges:e=0,allowFullFile:n=!1,...r}={}){const s=new DR(i),a=new k2(s,t,e,n);return P2(a,r)}function kR(i,{forceXHR:t=!1,...e}={}){return typeof fetch=="function"&&!t?QR(i,e):typeof XMLHttpRequest<"u"?LR(i,e):FR(i,e)}function PR(i,t){let e=i.length-t,n=0;do{for(let r=t;r>0;r--)i[n+t]+=i[n],n++;e-=t}while(e>0)}function UR(i,t,e){let n=0,r=i.length;const s=r/e;for(;r>t;){for(let o=t;o>0;--o)i[n+t]+=i[n],++n;r-=t}const a=i.slice();for(let o=0;o<s;++o)for(let l=0;l<e;++l)i[e*o+l]=a[(e-l-1)*s+o]}function NR(i,t,e,n,r,s){if(!t||t===1)return i;for(let l=0;l<r.length;++l){if(r[l]%8!==0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(r[l]!==r[0])throw new Error("When decoding with predictor, all samples must have the same size.")}const a=r[0]/8,o=s===2?1:r.length;for(let l=0;l<n&&!(l*o*e*a>=i.byteLength);++l){let c;if(t===2){switch(r[0]){case 8:c=new Uint8Array(i,l*o*e*a,o*e*a);break;case 16:c=new Uint16Array(i,l*o*e*a,o*e*a/2);break;case 32:c=new Uint32Array(i,l*o*e*a,o*e*a/4);break;default:throw new Error(`Predictor 2 not allowed with ${r[0]} bits per sample.`)}PR(c,o)}else t===3&&(c=new Uint8Array(i,l*o*e*a,o*e*a),UR(c,o,a))}return i}class Fo{async decode(t,e){const n=await this.decodeBlock(e),r=t.Predictor||1;if(r!==1){const s=!t.StripOffsets,a=s?t.TileWidth:t.ImageWidth,o=s?t.TileLength:t.RowsPerStrip||t.ImageLength;return NR(n,r,a,o,t.BitsPerSample,t.PlanarConfiguration)}return n}}function U2(i){switch(i){case at.BYTE:case at.ASCII:case at.SBYTE:case at.UNDEFINED:return 1;case at.SHORT:case at.SSHORT:return 2;case at.LONG:case at.SLONG:case at.FLOAT:case at.IFD:return 4;case at.RATIONAL:case at.SRATIONAL:case at.DOUBLE:case at.LONG8:case at.SLONG8:case at.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${i}`)}}function OR(i){const t=i.GeoKeyDirectory;if(!t)return null;const e={};for(let n=4;n<=t[3]*4;n+=4){const r=X6[t[n]],s=t[n+1]?gx[t[n+1]]:null,a=t[n+2],o=t[n+3];let l=null;if(!s)l=o;else{if(l=i[s],typeof l>"u"||l===null)throw new Error(`Could not get value of geoKey '${r}'.`);typeof l=="string"?l=l.substring(o,o+a-1):l.subarray&&(l=l.subarray(o,o+a),a===1&&(l=l[0]))}e[r]=l}return e}function X0(i,t,e,n){let r=null,s=null;const a=U2(t);switch(t){case at.BYTE:case at.ASCII:case at.UNDEFINED:r=new Uint8Array(e),s=i.readUint8;break;case at.SBYTE:r=new Int8Array(e),s=i.readInt8;break;case at.SHORT:r=new Uint16Array(e),s=i.readUint16;break;case at.SSHORT:r=new Int16Array(e),s=i.readInt16;break;case at.LONG:case at.IFD:r=new Uint32Array(e),s=i.readUint32;break;case at.SLONG:r=new Int32Array(e),s=i.readInt32;break;case at.LONG8:case at.IFD8:r=new Array(e),s=i.readUint64;break;case at.SLONG8:r=new Array(e),s=i.readInt64;break;case at.RATIONAL:r=new Uint32Array(e*2),s=i.readUint32;break;case at.SRATIONAL:r=new Int32Array(e*2),s=i.readInt32;break;case at.FLOAT:r=new Float32Array(e),s=i.readFloat32;break;case at.DOUBLE:r=new Float64Array(e),s=i.readFloat64;break;default:throw new RangeError(`Invalid field type: ${t}`)}if(t===at.RATIONAL||t===at.SRATIONAL)for(let o=0;o<e;o+=2)r[o]=s.call(i,n+o*a),r[o+1]=s.call(i,n+(o*a+4));else for(let o=0;o<e;++o)r[o]=s.call(i,n+o*a);return t===at.ASCII?new TextDecoder("utf-8").decode(r):r}class GR{constructor(t,e,n){this.fileDirectory=t,this.geoKeyDirectory=e,this.nextIFDByteOffset=n}}class Uh extends Error{constructor(t){super(`No image at index ${t}`),this.index=t}}class zR{async readRasters(t={}){const{window:e,width:n,height:r}=t;let{resX:s,resY:a,bbox:o}=t;const l=await this.getImage();let c=l;const x=await this.getImageCount(),u=l.getBoundingBox();if(e&&o)throw new Error('Both "bbox" and "window" passed.');if(n||r){if(e){const[A,p]=l.getOrigin(),[d,g]=l.getResolution();o=[A+e[0]*d,p+e[1]*g,A+e[2]*d,p+e[3]*g]}const h=o||u;if(n){if(s)throw new Error("Both width and resX passed");s=(h[2]-h[0])/n}if(r){if(a)throw new Error("Both width and resY passed");a=(h[3]-h[1])/r}}if(s||a){const h=[];for(let A=0;A<x;++A){const p=await this.getImage(A),{SubfileType:d,NewSubfileType:g}=p.fileDirectory;(A===0||d===2||g&1)&&h.push(p)}h.sort((A,p)=>A.getWidth()-p.getWidth());for(let A=0;A<h.length;++A){const p=h[A],d=(u[2]-u[0])/p.getWidth(),g=(u[3]-u[1])/p.getHeight();if(c=p,s&&s>d||a&&a>g)break}}let f=e;if(o){const[h,A]=l.getOrigin(),[p,d]=c.getResolution(l);f=[Math.round((o[0]-h)/p),Math.round((o[1]-A)/d),Math.round((o[2]-h)/p),Math.round((o[3]-A)/d)],f=[Math.min(f[0],f[2]),Math.min(f[1],f[3]),Math.max(f[0],f[2]),Math.max(f[1],f[3])]}return c.readRasters({...t,window:f})}}class N2 extends zR{constructor(t,e,n,r,s={}){super(),this.source=t,this.littleEndian=e,this.bigTiff=n,this.firstIFDOffset=r,this.cache=s.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(t,e){const n=this.bigTiff?4048:1024;return new dR((await this.source.fetch([{offset:t,length:typeof e<"u"?e:n}]))[0],t,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(t){const e=this.bigTiff?20:12,n=this.bigTiff?8:2;let r=await this.getSlice(t);const s=this.bigTiff?r.readUint64(t):r.readUint16(t),a=s*e+(this.bigTiff?16:6);r.covers(t,a)||(r=await this.getSlice(t,a));const o={};let l=t+(this.bigTiff?8:2);for(let u=0;u<s;l+=e,++u){const f=r.readUint16(l),h=r.readUint16(l+2),A=this.bigTiff?r.readUint64(l+4):r.readUint32(l+4);let p,d;const g=U2(h),m=l+(this.bigTiff?12:8);if(g*A<=(this.bigTiff?8:4))p=X0(r,h,A,m);else{const _=r.readOffset(m),I=U2(h)*A;if(r.covers(_,I))p=X0(r,h,A,_);else{const y=await this.getSlice(_,I);p=X0(y,h,A,_)}}A===1&&q6.indexOf(f)===-1&&!(h===at.RATIONAL||h===at.SRATIONAL)?d=p[0]:d=p,o[gx[f]]=d}const c=OR(o),x=r.readOffset(t+n+e*s);return new GR(o,c,x)}async requestIFD(t){if(this.ifdRequests[t])return this.ifdRequests[t];if(t===0)return this.ifdRequests[t]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[t];if(!this.ifdRequests[t-1])try{this.ifdRequests[t-1]=this.requestIFD(t-1)}catch(e){throw e instanceof Uh?new Uh(t):e}return this.ifdRequests[t]=(async()=>{const e=await this.ifdRequests[t-1];if(e.nextIFDByteOffset===0)throw new Uh(t);return this.parseFileDirectoryAt(e.nextIFDByteOffset)})(),this.ifdRequests[t]}async getImage(t=0){const e=await this.requestIFD(t);return new hR(e.fileDirectory,e.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let t=0,e=!0;for(;e;)try{await this.requestIFD(t),++t}catch(n){if(n instanceof Uh)e=!1;else throw n}return t}async getGhostValues(){const t=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const e="GDAL_STRUCTURAL_METADATA_SIZE=",n=e.length+100;let r=await this.getSlice(t,n);if(e===X0(r,at.ASCII,e.length,t)){const a=X0(r,at.ASCII,n,t).split(`
`)[0],o=Number(a.split("=")[1].split(" ")[0])+a.length;o>n&&(r=await this.getSlice(t,o));const l=X0(r,at.ASCII,o,t);this.ghostValues={},l.split(`
`).filter(c=>c.length>0).map(c=>c.split("=")).forEach(([c,x])=>{this.ghostValues[c]=x})}return this.ghostValues}static async fromSource(t,e,n){const r=(await t.fetch([{offset:0,length:1024}],n))[0],s=new AR(r),a=s.getUint16(0,0);let o;if(a===18761)o=!0;else if(a===19789)o=!1;else throw new TypeError("Invalid byte order value.");const l=s.getUint16(2,o);let c;if(l===42)c=!1;else if(l===43){if(c=!0,s.getUint16(4,o)!==8)throw new Error("Unsupported offset byte-size.")}else throw new TypeError("Invalid magic number.");const x=c?s.getUint64(8,o):s.getUint32(4,o);return new N2(t,o,c,x,e)}close(){return typeof this.source.close=="function"?this.source.close():!1}}async function n3(i,t={},e){return N2.fromSource(kR(i,t),e)}class VR{constructor(t){this.option=t,this.abortController=new AbortController,this.url=t.url,this.tiff,this.imageCount,this.images,this.metadata,this.bbox,this.coordType=1,this.fristImage,this.bandsNumber=1,this.imageWidth=0,this.imageheight=0,this.imageBbox=[0,0,0,0],this.resolutionX,this.resolutionY,this.rasterData,this.rasterDatas=[],this.dataExtent,this.interpolationParams={la1:0,la2:0,lo1:0,lo2:0,nx:0,ny:0,dx:0,dy:0},this.grid=[],this.project="EPSG:4326"}getWorkerPool(){let t;return t||(t=new jv),t}async fetchTiff(){this.tiff=await n3(this.url,this.abortController.singal);const t=await this.tiff.getImage(),e=await t.readRasters({pool:this.getWorkerPool()});this.imagewidth=t.getWidth(),this.imageheight=t.getHeight(),this.project=t.getGeoKeys().GeogCitationGeoKey,this.project=="WGS 84"&&(this.project="EPSG:4326"),this.bandsNumber=e.length,this.imageCount=await this.tiff.getImageCount();const n=new Array(this.imageCount);for(let s=0;s<this.imageCount;s++){const a=await this.tiff.getImage(s);n[s]={image:a};const o=a.getResolution(n[0].image);n[s]={image:a,res:[o[0],o[1]]}}const r=n[0].image;this.fristImage=r,this.metadata=this._parseMetaData(r.getGDALMetadata()),this.bbox=r.getBoundingBox(),this.coordType=this.getCoordType(this.bbox),this.images=n}matchImageByRes(t){let e=0;for(e=0;e<this.images.length;e++){const[n,r]=this.images[e].res;if(t<Math.abs(n)||t<Math.abs(r))break}return e=e>0?e-1:0,this.images[e]}_parseMetaData(t){var e,n,r,s,a,o,l,c,x,u,f,h,A,p,d,g,m,_,I,y,E,b,w,C,v,B,S,T;return t?(t.max=((n=(e=this.option)==null?void 0:e.metadata)==null?void 0:n.max)||parseFloat(t.max||9999),t.min=((s=(r=this.option)==null?void 0:r.metadata)==null?void 0:s.min)|parseFloat(t.min||-9999),t.nodata=((o=(a=this.option)==null?void 0:a.metadata)==null?void 0:o.nodata)||parseFloat(t.nodata||-9999),t.offset=((c=(l=this.option)==null?void 0:l.metadata)==null?void 0:c.offset)||parseFloat(t.offset||0),t.unit=((u=(x=this.option)==null?void 0:x.metadata)==null?void 0:u.unit)||parseFloat(t.unit||0),(h=(f=this.option)==null?void 0:f.metadata)!=null&&h.scale&&(t.customScale=((p=(A=this.option)==null?void 0:A.metadata)==null?void 0:p.scale)/parseFloat(t.scale||1),((g=(d=this.option)==null?void 0:d.metadata)==null?void 0:g.unit)=="C"?(t.max=t.max-273.15,t.min=t.min-273.15):(t.max=t.max,t.min=t.min)),t.scale=((_=(m=this.option)==null?void 0:m.metadata)==null?void 0:_.scale)||parseFloat(t.scale||1)):(t={},t.max=((y=(I=this.option)==null?void 0:I.metadata)==null?void 0:y.max)||9999,t.min=((b=(E=this.option)==null?void 0:E.metadata)==null?void 0:b.min)||-9999,t.nodata=((C=(w=this.option)==null?void 0:w.metadata)==null?void 0:C.nodata)||-9999,t.offset=((B=(v=this.option)==null?void 0:v.metadata)==null?void 0:B.offset)||0,t.scale=((T=(S=this.option)==null?void 0:S.metadata)==null?void 0:T.scale)||1),t}async getDataByBbox(t,e,n){this.abortController.abort(),this.abortController=new AbortController;const r=this.abortController.signal,[s,a]=this.fristImage.getOrigin(),o=t.image,[l,c]=o.getResolution(this.fristImage);let x=[];const u=this.bbox,f=this._fixBbox(u,n),h=this.calBboxes(f,e,"x");this.rasterDatas=[];for(let A of h){let p=this._normBbox(A),d=[(p[0]-s)/l,(p[1]-a)/c,(p[2]-s)/l,(p[3]-a)/c];if(d=[Math.floor(Math.min(d[0],d[2])),Math.floor(Math.min(d[1],d[3])),Math.ceil(Math.max(d[0],d[2])),Math.ceil(Math.max(d[1],d[3]))],Math.abs(d[2]-d[0])<=1||Math.abs(d[3]-d[1])<=1){let m=2;d[2]+m<this.imagewidth?d[2]=d[2]+m:(d[2]=this.imagewidth,d[0]=d[2]-m),d[0]-m<0?d[0]=0:d[0]=d[0]-m,d[3]+m<this.imageheight?d[3]=d[3]+m:d[3]=this.imageheight,d[1]-m<0?d[1]=0:d[1]=d[1]-m}p=[d[0]*l+s,d[1]*c+a,d[2]*l+s,d[3]*c+a],x=[p[0],p[3],p[2],p[1]];const g=await o.readRasters({fillValue:this.metadata.nodata,window:d,signal:r});g.wnd=d,g.dataBbox=p,g.bbox=x,g.metaData=JSON.parse(JSON.stringify(this.metadata)),this.interpolationParams.nx=g.width,this.interpolationParams.ny=g.height,this.interpolationParams.dx=t.res[0],this.interpolationParams.dy=t.res[0],this.interpolationParams.lo1=p[0],this.interpolationParams.la1=p[1],this.interpolationParams.lo2=p[2],this.interpolationParams.la2=p[3],this.metadata.bandsNumber=this.bandsNumber,g.window=d,g.params={interpolationParams:JSON.parse(JSON.stringify(this.interpolationParams)),bbox:JSON.parse(JSON.stringify(this.bbox)),viewBBox:x,bandsNumber:JSON.parse(JSON.stringify(this.bandsNumber)),metadata:JSON.parse(JSON.stringify(this.metadata)),project:this.project},this.rasterDatas.push(g)}return this.rasterDatas}getCoordType(t){const[e,n,r,s]=t;return e>=0&&r>180?2:1}isNoData(t){return t==this.metadata.nodata}handleData(t){const e=[];return t.forEach(n=>{const r={width:n.width,height:n.height,dataBbox:n.dataBbox,series:null};if(this.bandsNumber==1){const s=n[0],a=new Float32Array(s.length);for(let o=0;o<s.length;o++)a[o]=this.getRealValue(s[o]);r.series=a,e.push(r)}else if(this.bandsNumber==2){const s=n[0],a=n[1],o=new Float32Array(s.length);for(let l=0;l<s.length;l++)o[l]=this.getRealMultiValue(s[l],a[l]);r.series=o,e.push(r)}}),e}getRealMultiValue(t,e,n=this.metadata.nodata){if(this.isNoData(t))return n;{const r=t/this.metadata.scale+this.metadata.offset,s=e/this.metadata.scale+this.metadata.offset;return Math.sqrt(r*r+s*s)}}getRealValue(t,e=this.metadata.nodata){if(this.bandsNumber==1)return this.isNoData(t)?e:t/this.metadata.scale+this.metadata.offset}_normBbox(t){const e=Math.floor((t[0]+180)/360),n=Math.floor((t[1]+90)/180),r=t[0]-360*e,s=t[2]-360*e,a=t[1]-180*n,o=t[3]-180*n;return[r,a,s,o]}_fixBbox(t,e){const n=e.getView().getProjection().worldExtent_,r=Math.max(n[0],t[0]),s=Math.min(n[2],t[2]),a=Math.max(n[1],t[1]),o=Math.min(n[3],t[3]);return[r,a,s,o]}calBboxes(t,e,n="xy"){const r=Math.floor((e[0]+180)/360),s=Math.floor((e[2]+180-1e-6)/360),a=Math.floor((e[1]+90)/180),o=Math.floor((e[3]+90-1e-6)/180),l=[];if(n.includes("xy"))for(let c=r;c<=s;c++){let x=360*c+t[0];c===r&&(x=Math.max(x,e[0]));let u=360*c+t[2];c===s&&(u=Math.min(u,e[2]));for(let f=a;f<=o;f++){let h=180*f+t[1];f===a&&(h=Math.max(h,e[1]));let A=180*f+t[3];f===o&&(A=Math.min(A,e[3])),l.push([x,h,u,A])}}else if(n.includes("x"))for(let c=r;c<=s;c++){let x=360*c+t[0];c===r&&(x=Math.max(x,e[0]));let u=360*c+t[2];c===s&&(u=Math.min(u,e[2]));const f=Math.max(-90,t[1],e[1]),h=Math.min(90,t[3],e[3]);l.push([x,f,u,h])}else{const c=Math.max(-180,t[0],e[0]),x=Math.min(180,t[2],e[2]);for(let u=a;u<=o;u++){let f=180*u+t[1];u===a&&(f=Math.max(f,e[1]));let h=180*u+t[3];u===o&&(h=Math.min(h,e[3])),l.push([c,f,x,h])}}return l}bboxIntersect(t){const e=this.bbox;if(this.isBboxIntersectOrContain(t,e)){const n=Math.max(t[0],e[0]),r=Math.min(t[2],e[2]),s=Math.max(t[1],e[1]),a=Math.min(t[3],e[3]);return[n,s,r,a]}else return!1}isBboxIntersectOrContain(t,e){const[n,r,s,a]=t,[o,l,c,x]=e;return!(n>=c||s<=o||a<=l||r>=x)}coordConvert(t,e=1,n=2){return t=(t%360+360)%360,n==1&&(t=t>=180?t-360:t),t}}const i3=Nh;(function(i,t){const e=Nh,n=i();for(;;)try{if(-parseInt(e(116))/1*(parseInt(e(125))/2)+parseInt(e(119))/3*(-parseInt(e(123))/4)+parseInt(e(122))/5+-parseInt(e(120))/6*(parseInt(e(117))/7)+parseInt(e(121))/8+-parseInt(e(124))/9+parseInt(e(127))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Oh,895013),i3(126),i3(118);function Nh(i,t){const e=Oh();return Nh=function(n,r){return n=n-116,e[n]},Nh(i,t)}function Oh(){const i=["us-ft","13843450uFtnfU","705oRMwjJ","58849mSntqB","degrees","587964HYQCld","24iTzotY","2053896noLfAD","7365625CeQnsl","24QADCIF","540027ZcOUom","2694GxTkug"];return Oh=function(){return i},Oh()}const Ta={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var Pn=ko;(function(i,t){for(var e=ko,n=i();;)try{var r=-parseInt(e(316))/1*(-parseInt(e(318))/2)+parseInt(e(328))/3+parseInt(e(306))/4+-parseInt(e(321))/5+parseInt(e(305))/6*(parseInt(e(298))/7)+parseInt(e(303))/8+-parseInt(e(324))/9;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gh,229629);function Gh(){var i=["2GpPDCC","setGetPointResolution","398090UeMFZc","setExtent","setDefaultTileGrid","1013650RpyrpZ","code","metersPerUnit","7370388SYrWrP","units","extent","extent_","1249515FkmMeD","getPointResolutionFunc_","worldExtent_","code_","getPointResolutionFunc","defaultTileGrid_","46921KNywOv","setGlobal","global","axisOrientation","isGlobal","64256mooXRi","canWrapX_","378hKFRpE","25500hJCrIn","getExtent","getMetersPerUnit","getPointResolution","setWorldExtent","getWorldExtent","enu","units_","worldExtent","global_"];return Gh=function(){return i},Gh()}function ko(i,t){var e=Gh();return ko=function(n,r){n=n-296;var s=e[n];return s},ko(i,t)}class O2{constructor(t){var e=ko;this.code_=t[e(322)],this[e(313)]=t[e(325)],this.extent_=t[e(326)]!==void 0?t[e(326)]:null,this[e(330)]=t[e(314)]!==void 0?t[e(314)]:null,this.axisOrientation_=t[e(301)]!==void 0?t[e(301)]:e(312),this[e(315)]=t[e(300)]!==void 0?t.global:!1,this[e(304)]=!!(this[e(315)]&&this[e(327)]),this.getPointResolutionFunc_=t[e(309)],this.defaultTileGrid_=null,this.metersPerUnit_=t[e(323)]}canWrapX(){var t=ko;return this[t(304)]}getCode(){var t=ko;return this[t(331)]}[Pn(307)](){var t=Pn;return this[t(327)]}getUnits(){return this.units_}[Pn(308)](){return this.metersPerUnit_||Ta[this.units_]}[Pn(311)](){var t=Pn;return this[t(330)]}getAxisOrientation(){return this.axisOrientation_}[Pn(302)](){var t=Pn;return this[t(315)]}[Pn(299)](t){var e=Pn;this[e(315)]=t,this.canWrapX_=!!(t&&this[e(327)])}getDefaultTileGrid(){var t=Pn;return this[t(297)]}[Pn(320)](t){var e=Pn;this[e(297)]=t}[Pn(319)](t){var e=Pn;this.extent_=t,this[e(304)]=!!(this[e(315)]&&t)}[Pn(310)](t){var e=Pn;this[e(330)]=t}[Pn(317)](t){this.getPointResolutionFunc_=t}[Pn(296)](){var t=Pn;return this[t(329)]}}const Vs=mx;(function(i,t){const e=mx,n=i();for(;;)try{if(parseInt(e(296))/1*(-parseInt(e(303))/2)+-parseInt(e(289))/3+parseInt(e(292))/4*(-parseInt(e(291))/5)+parseInt(e(294))/6+parseInt(e(290))/7*(parseInt(e(299))/8)+-parseInt(e(295))/9*(-parseInt(e(293))/10)+parseInt(e(307))/11*(parseInt(e(300))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vh,490762);function mx(i,t){const e=Vh();return mx=function(n,r){return n=n-287,e[n]},mx(i,t)}const _x=6378137,K0=Math.PI*_x,HR=[-K0,-K0,K0,K0],qR=[-180,-85,180,85],zh=_x*Math[Vs(288)](Math[Vs(305)](Math.PI/2));function Vh(){const i=["length","cosh","log","1233489TzHhvs","5810945QFbJWI","5ggDpBa","2579012JznXDo","33990HHgYuY","4080678niUXsd","99ggEmAL","10969Fbiaof","EPSG:102113","EPSG:102100","8FkKPII","5964rRZNNP","slice","EPSG:900913","140sJTpmG","EPSG:3857","tan","http://www.opengis.net/gml/srs/epsg.xml#3857","16973fvvOMC"];return Vh=function(){return i},Vh()}class J0 extends O2{constructor(t){super({code:t,units:"m",extent:HR,global:!0,worldExtent:qR,getPointResolution:function(e,n){return e/Math[mx(287)](n[1]/_x)}})}}const r3=[new J0(Vs(304)),new J0(Vs(298)),new J0(Vs(297)),new J0(Vs(302)),new J0("http://www.opengis.net/def/crs/EPSG/0/3857"),new J0(Vs(306))];function YR(i,t,e,n){const r=Vs,s=i[r(308)];e=e>1?e:2,n=n??e,t===void 0&&(e>2?t=i[r(301)]():t=new Array(s));for(let a=0;a<s;a+=n){t[a]=K0*i[a]/180;let o=_x*Math.log(Math.tan(Math.PI*(+i[a+1]+90)/360));o>zh?o=zh:o<-zh&&(o=-zh),t[a+1]=o}return t}function WR(i,t,e,n){const r=Vs,s=i[r(308)];e=e>1?e:2,n=n??e,t===void 0&&(e>2?t=i[r(301)]():t=new Array(s));for(let a=0;a<s;a+=n)t[a]=180*i[a]/K0,t[a+1]=360*Math.atan(Math.exp(i[a+1]/_x))/Math.PI-90;return t}const j0=Ix;(function(i,t){const e=Ix,n=i();for(;;)try{if(-parseInt(e(385))/1+-parseInt(e(395))/2*(parseInt(e(386))/3)+parseInt(e(384))/4+parseInt(e(387))/5*(-parseInt(e(383))/6)+-parseInt(e(397))/7+-parseInt(e(392))/8+parseInt(e(393))/9*(parseInt(e(396))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hh,888317);const XR=6378137,s3=[-180,-90,180,90];function Hh(){const i=["8177224BrXkrq","15144282htEDYM","neu","831892BAmCNO","20XNTvbL","1889874fCPOTv","EPSG:4326","276UEeFwn","3754772digVDt","1412049KWagYa","3npVHHa","32135MGbUCq","urn:ogc:def:crs:OGC:2:84","CRS:84","urn:ogc:def:crs:OGC:1.3:CRS84","degrees"];return Hh=function(){return i},Hh()}const KR=Math.PI*XR/180;function Ix(i,t){const e=Hh();return Ix=function(n,r){return n=n-383,e[n]},Ix(i,t)}class Po extends O2{constructor(t,e){const n=Ix;super({code:t,units:n(391),extent:s3,axisOrientation:e,global:!0,metersPerUnit:KR,worldExtent:s3})}}const a3=[new Po(j0(389)),new Po(j0(398),j0(394)),new Po(j0(390)),new Po(j0(388)),new Po("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Po("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Po("http://www.opengis.net/def/crs/EPSG/0/4326",j0(394))];(function(i,t){const e=qh,n=i();for(;;)try{if(-parseInt(e(403))/1+-parseInt(e(405))/2+parseInt(e(412))/3+-parseInt(e(402))/4*(-parseInt(e(401))/5)+-parseInt(e(409))/6*(parseInt(e(406))/7)+parseInt(e(407))/8*(-parseInt(e(410))/9)+parseInt(e(408))/10*(parseInt(e(411))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Yh,653864);let G2={};function qh(i,t){const e=Yh();return qh=function(n,r){return n=n-401,e[n]},qh(i,t)}function Yh(){const i=["16545ePQXsu","1108scfeZd","1262288tMRMmL","EPSG:$3","1371586senMKh","791pzHVeA","8rVzmBl","10pzFpyu","4254KWMIoa","9386946IQmoTC","17193539HPXCzA","3736242JZnkiB","replace"];return Yh=function(){return i},Yh()}function JR(i){const t=qh;return G2[i]||G2[i[t(413)](/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,t(404))]||null}function jR(i,t){G2[i]=t}function Ex(i){for(const t in i)delete i[t]}function Da(i){let t;for(t in i)return!1;return!t}function Wh(){const i=["1gWiLpL","771oeNRGG","1885640eMMxTO","4819509ddbbfs","14sHkKki","396244JMZdqw","6148zNTljO","getCode","3829376rSvERr","27071iOEtfz","1310zZDCgD","482214tCBVQs"];return Wh=function(){return i},Wh()}(function(i,t){const e=Kh,n=i();for(;;)try{if(parseInt(e(158))/1*(parseInt(e(151))/2)+-parseInt(e(159))/3*(-parseInt(e(152))/4)+-parseInt(e(148))/5+parseInt(e(157))/6*(-parseInt(e(150))/7)+parseInt(e(154))/8+-parseInt(e(149))/9+-parseInt(e(156))/10*(-parseInt(e(155))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wh,320827);let Z0={};function Xh(i,t,e){const n=Kh,r=i[n(153)](),s=t[n(153)]();!(r in Z0)&&(Z0[r]={}),Z0[r][s]=e}function Kh(i,t){const e=Wh();return Kh=function(n,r){return n=n-148,e[n]},Kh(i,t)}function ZR(i,t){let e;return i in Z0&&t in Z0[i]&&(e=Z0[i][t]),e}(function(i,t){for(var e=z2,n=i();;)try{var r=parseInt(e(201))/1*(parseInt(e(207))/2)+parseInt(e(204))/3+parseInt(e(205))/4*(parseInt(e(202))/5)+-parseInt(e(208))/6+-parseInt(e(203))/7+parseInt(e(209))/8+parseInt(e(206))/9;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Jh,624996);function z2(i,t){var e=Jh();return z2=function(n,r){n=n-201;var s=e[n];return s},z2(i,t)}const qn={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Jh(){var i=["4321038WLjFbK","5502424GstlZD","1kpeotG","555SNwEkc","1750147iyEOZN","1130511jftMov","7660LXgsAM","1147941iXhvzu","380872UtPOqG"];return Jh=function(){return i},Jh()}(function(i,t){const e=Li,n=i();for(;;)try{if(-parseInt(e(148))/1+-parseInt(e(142))/2*(-parseInt(e(153))/3)+parseInt(e(155))/4+-parseInt(e(151))/5+parseInt(e(160))/6+parseInt(e(158))/7+-parseInt(e(162))/8*(parseInt(e(168))/9)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(tA,344369);function V2(i){const t=Li,e=ir();for(let n=0,r=i[t(149)];n<r;++n)yx(e,i[n]);return e}function $R(i,t,e){const n=Li,r=Math[n(159)].apply(null,i),s=Math[n(159)][n(150)](null,t),a=Math[n(154)][n(150)](null,i),o=Math.max[n(150)](null,t);return Hs(r,s,a,o,e)}function Qa(i,t,e){return e?(e[0]=i[0]-t,e[1]=i[1]-t,e[2]=i[2]+t,e[3]=i[3]+t,e):[i[0]-t,i[1]-t,i[2]+t,i[3]+t]}function o3(i,t){return t?(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t):i.slice()}function Uo(i,t,e){let n,r;return t<i[0]?n=i[0]-t:i[2]<t?n=t-i[2]:n=0,e<i[1]?r=i[1]-e:i[3]<e?r=e-i[3]:r=0,n*n+r*r}function No(i,t){return H2(i,t[0],t[1])}function Ur(i,t){return i[0]<=t[0]&&t[2]<=i[2]&&i[1]<=t[1]&&t[3]<=i[3]}function H2(i,t,e){return i[0]<=t&&t<=i[2]&&i[1]<=e&&e<=i[3]}function q2(i,t){const e=Li,n=i[0],r=i[1],s=i[2],a=i[3],o=t[0],l=t[1];let c=qn[e(166)];return o<n?c=c|qn[e(163)]:o>s&&(c=c|qn.RIGHT),l<r?c=c|qn[e(170)]:l>a&&(c=c|qn.ABOVE),c===qn[e(166)]&&(c=qn[e(145)]),c}function ir(){return[1/0,1/0,-1/0,-1/0]}function Hs(i,t,e,n,r){return r?(r[0]=i,r[1]=t,r[2]=e,r[3]=n,r):[i,t,e,n]}function $0(i){return Hs(1/0,1/0,-1/0,-1/0,i)}function c3(i,t){const e=i[0],n=i[1];return Hs(e,n,e,n,t)}function Y2(i,t,e,n,r){const s=$0(r);return l3(s,i,t,e,n)}function qs(i,t){return i[0]==t[0]&&i[2]==t[2]&&i[1]==t[1]&&i[3]==t[3]}function W2(i,t){return t[0]<i[0]&&(i[0]=t[0]),t[2]>i[2]&&(i[2]=t[2]),t[1]<i[1]&&(i[1]=t[1]),t[3]>i[3]&&(i[3]=t[3]),i}function yx(i,t){t[0]<i[0]&&(i[0]=t[0]),t[0]>i[2]&&(i[2]=t[0]),t[1]<i[1]&&(i[1]=t[1]),t[1]>i[3]&&(i[3]=t[1])}function l3(i,t,e,n,r){for(;e<n;e+=r)eT(i,t[e],t[e+1]);return i}function eT(i,t,e){const n=Li;i[0]=Math[n(159)](i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math[n(154)](i[3],e)}function x3(i,t){let e;return e=t(jh(i)),e||(e=t(Zh(i)),e)||(e=t(eA(i)),e)||(e=t(Nr(i)),e)?e:!1}function bx(i){let t=0;return!Oo(i)&&(t=lt(i)*rn(i)),t}function jh(i){return[i[0],i[1]]}function Li(i,t){const e=tA();return Li=function(n,r){return n=n-142,e[n]},Li(i,t)}function Zh(i){return[i[2],i[1]]}function Er(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function tT(i,t){const e=Li;let n;if(t===e(171))n=jh(i);else if(t===e(164))n=Zh(i);else if(t===e(147))n=Nr(i);else if(t==="top-right")n=eA(i);else throw new Error(e(169));return n}function $h(i,t,e,n,r){const s=Li,[a,o,l,c,x,u,f,h]=nT(i,t,e,n);return Hs(Math[s(159)](a,l,x,f),Math.min(o,c,u,h),Math[s(154)](a,l,x,f),Math[s(154)](o,c,u,h),r)}function nT(i,t,e,n){const r=Li,s=t*n[0]/2,a=t*n[1]/2,o=Math[r(157)](e),l=Math[r(152)](e),c=s*o,x=s*l,u=a*o,f=a*l,h=i[0],A=i[1];return[h-c+f,A-x-u,h-c-f,A-x+u,h+c-f,A+x+u,h+c+f,A+x-u,h-c+f,A-x-u]}function rn(i){return i[3]-i[1]}function Ei(i,t,e){const n=e||ir();return gn(i,t)?(i[0]>t[0]?n[0]=i[0]:n[0]=t[0],i[1]>t[1]?n[1]=i[1]:n[1]=t[1],i[2]<t[2]?n[2]=i[2]:n[2]=t[2],i[3]<t[3]?n[3]=i[3]:n[3]=t[3]):$0(n),n}function Nr(i){return[i[0],i[3]]}function eA(i){return[i[2],i[3]]}function lt(i){return i[2]-i[0]}function gn(i,t){return i[0]<=t[2]&&i[2]>=t[0]&&i[1]<=t[3]&&i[3]>=t[1]}function Oo(i){return i[2]<i[0]||i[3]<i[1]}function iT(i,t){return t?(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t):i}function rT(i,t){const e=(i[2]-i[0])/2*(t-1),n=(i[3]-i[1])/2*(t-1);i[0]-=e,i[2]+=e,i[1]-=n,i[3]+=n}function tA(){const i=["bottom-right","abs","UNKNOWN","ABOVE","1766169TvcvrJ","Invalid corner","BELOW","bottom-left","14hlDSOs","canWrapX","floor","INTERSECTING","push","top-left","545457LzKeUA","length","apply","1070290mCAZCI","sin","2802HhaliI","max","2047940GATYFS","getExtent","cos","1767843pTdBwY","min","3174318bJmdko","RIGHT","8ETZuem","LEFT"];return tA=function(){return i},tA()}function sT(i,t,e){const n=Li;let r=!1;const s=q2(i,t),a=q2(i,e);if(s===qn[n(145)]||a===qn[n(145)])r=!0;else{const o=i[0],l=i[1],c=i[2],x=i[3],u=t[0],f=t[1],h=e[0],A=e[1],p=(A-f)/(h-u);let d,g;a&qn[n(167)]&&!(s&qn[n(167)])&&(d=h-(A-x)/p,r=d>=o&&d<=c),!r&&a&qn[n(161)]&&!(s&qn[n(161)])&&(g=A-(h-c)*p,r=g>=l&&g<=x),!r&&a&qn.BELOW&&!(s&qn[n(170)])&&(d=h-(A-l)/p,r=d>=o&&d<=c),!r&&a&qn.LEFT&&!(s&qn[n(163)])&&(g=A-(h-o)*p,r=g>=l&&g<=x)}return r}function u3(i,t,e,n){const r=Li;if(Oo(i))return $0(e);let s=[];s=[i[0],i[1],i[2],i[1],i[2],i[3],i[0],i[3]],t(s,s,2);const a=[],o=[];for(let l=0,c=s.length;l<c;l+=2)a[r(146)](s[l]),o.push(s[l+1]);return $R(a,o,e)}function f3(i,t){const e=Li,n=t.getExtent(),r=Er(i);if(t[e(143)]()&&(r[0]<n[0]||r[0]>=n[2])){const s=lt(n),a=Math[e(144)]((r[0]-n[0])/s),o=a*s;i[0]-=o,i[2]-=o}return i}function X2(i,t,e){const n=Li;if(t[n(143)]()){const r=t[n(156)]();if(!isFinite(i[0])||!isFinite(i[2]))return[[r[0],i[1],r[2],i[3]]];f3(i,t);const s=lt(r);if(lt(i)>s&&!e)return[[r[0],i[1],r[2],i[3]]];if(i[0]<r[0])return[[i[0]+s,i[1],r[2],i[3]],[r[0],i[1],i[2],i[3]]];if(i[2]>r[2])return[[i[0],i[1],r[2],i[3]],[r[0],i[1],i[2]-s,i[3]]]}return[i]}(function(i,t){const e=La,n=i();for(;;)try{if(parseInt(e(397))/1+parseInt(e(410))/2*(-parseInt(e(407))/3)+-parseInt(e(401))/4*(parseInt(e(396))/5)+parseInt(e(403))/6*(parseInt(e(406))/7)+parseInt(e(392))/8+parseInt(e(400))/9*(-parseInt(e(402))/10)+-parseInt(e(393))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(nA,126243);function mn(i,t,e){const n=La;return Math[n(408)](Math[n(395)](i,t),e)}function aT(i,t,e,n,r,s){const a=r-e,o=s-n;if(a!==0||o!==0){const l=((i-e)*a+(t-n)*o)/(a*a+o*o);l>1?(e=r,n=s):l>0&&(e+=a*l,n+=o*l)}return Go(i,t,e,n)}function Go(i,t,e,n){const r=e-i,s=n-t;return r*r+s*s}function oT(i){const t=La,e=i[t(409)];for(let r=0;r<e;r++){let s=r,a=Math[t(399)](i[r][r]);for(let l=r+1;l<e;l++){const c=Math[t(399)](i[l][r]);c>a&&(a=c,s=l)}if(a===0)return null;const o=i[s];i[s]=i[r],i[r]=o;for(let l=r+1;l<e;l++){const c=-i[l][r]/i[r][r];for(let x=r;x<e+1;x++)r==x?i[l][x]=0:i[l][x]+=c*i[r][x]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=i[r][e]/i[r][r];for(let s=r-1;s>=0;s--)i[s][e]-=i[s][r]*n[r]}return n}function nA(){const i=["min","length","4300OpSwMD","1588680EURfuZ","758021mJIlOE","floor","max","497950QHFiBG","222344DbMxYY","ceil","abs","171PGtiQO","8OtIiff","8390XFfPBq","12XgZIXF","pow","round","737786HrrUuq","309MIyotW"];return nA=function(){return i},nA()}function iA(i){return i*Math.PI/180}function ec(i,t){const e=i%t;return e*t<0?e+t:e}function rr(i,t,e){return i+e*(t-i)}function K2(i,t){const e=La,n=Math[e(404)](10,t);return Math.round(i*n)/n}function La(i,t){const e=nA();return La=function(n,r){return n=n-392,e[n]},La(i,t)}function rA(i,t){return Math[La(394)](K2(i,t))}function Fa(i,t){return Math[La(398)](K2(i,t))}(function(i,t){const e=zo,n=i();for(;;)try{if(-parseInt(e(403))/1+-parseInt(e(419))/2*(-parseInt(e(401))/3)+parseInt(e(416))/4*(parseInt(e(409))/5)+parseInt(e(418))/6*(parseInt(e(412))/7)+-parseInt(e(421))/8*(-parseInt(e(411))/9)+-parseInt(e(414))/10*(parseInt(e(420))/11)+parseInt(e(402))/12===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(aA,592260);function cT(i,t){return i[0]+=+t[0],i[1]+=+t[1],i}function zo(i,t){const e=aA();return zo=function(n,r){return n=n-398,e[n]},zo(i,t)}function sA(i,t){const e=zo;let n=!0;for(let r=i[e(404)]-1;r>=0;--r)if(i[r]!=t[r]){n=!1;break}return n}function J2(i,t){const e=zo,n=Math[e(407)](t),r=Math.sin(t),s=i[0]*n-i[1]*r,a=i[1]*n+i[0]*r;return i[0]=s,i[1]=a,i}function lT(i,t){return i[0]*=t,i[1]*=t,i}function aA(){const i=["floor","199756sflXoZ","getExtent","2406JVzoQT","75596hwBGSL","12510047FLapTQ","8qjHDbU","getCenter","charAt","{x}","abs","getRadius","{y}","9bkdXtr","3931488iuaFFf","418977ebPNna","length","toFixed","replace","cos","{x}, {y}","50CUIwsX","sqrt","7541847FemzlB","6461MbWWjU","canWrapX","10dMNdTz"];return aA=function(){return i},aA()}function j2(i,t){const e=zo;if(t[e(413)]()){const n=lt(t[e(417)]()),r=xT(i,t,n);r&&(i[0]-=r*n)}return i}function xT(i,t,e){const n=zo,r=t[n(417)]();let s=0;return t.canWrapX()&&(i[0]<r[0]||i[0]>r[2])&&(e=e||lt(r),s=Math[n(415)]((i[0]-r[0])/e)),s}(function(i,t){const e=cA,n=i();for(;;)try{if(parseInt(e(191))/1*(parseInt(e(180))/2)+-parseInt(e(192))/3+-parseInt(e(186))/4*(parseInt(e(178))/5)+parseInt(e(173))/6*(-parseInt(e(164))/7)+parseInt(e(176))/8+parseInt(e(179))/9+-parseInt(e(187))/10*(-parseInt(e(174))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(oA,891779);const uT=63710088e-1;function h3(i,t,e){const n=cA;e=e||uT;const r=iA(i[1]),s=iA(t[1]),a=(s-r)/2,o=iA(t[0]-i[0])/2,l=Math[n(190)](a)*Math[n(190)](a)+Math.sin(o)*Math[n(190)](o)*Math.cos(r)*Math.cos(s);return 2*e*Math.atan2(Math[n(168)](l),Math.sqrt(1-l))}function oA(){const i=["Unsupported geometry type: ","abs","cos","sqrt","MultiPoint","atan2","LineString","getGeometries","2283882yntUJZ","15909938fYpjKO","Point","3353136EMFFUT","Polygon","166250ntfFXE","8296443QRRzzN","2SnFmVt","GeometryCollection","length","getType","projection","getCoordinates","4xCBquk","10epluyy","radius","EPSG:4326","sin","893773vEwqhq","4842390cPSQov","EPSG:3857","transform","LinearRing","clone","MultiLineString","21vJanAI"];return oA=function(){return i},oA()}function cA(i,t){const e=oA();return cA=function(n,r){return n=n-161,e[n]},cA(i,t)}function lA(){const i=["5aodgqQ","3236976BjcSYx","653356TQYfah","error","415718qqaamV","609000ZmpveX","192PmUxkF","4135868ioOIrS","warn","41139cJwHbJ","log","3132192MqlTGV","info"];return lA=function(){return i},lA()}const A3=xA;function xA(i,t){const e=lA();return xA=function(n,r){return n=n-128,e[n]},xA(i,t)}(function(i,t){const e=xA,n=i();for(;;)try{if(parseInt(e(139))/1+parseInt(e(137))/2+-parseInt(e(140))/3+parseInt(e(129))/4*(-parseInt(e(135))/5)+parseInt(e(133))/6+-parseInt(e(131))/7*(-parseInt(e(128))/8)+parseInt(e(136))/9===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(lA,528173);const d3={info:1,warn:2,error:3,none:4};let fT=d3[A3(134)];function p3(...i){fT>d3[A3(130)]||console.warn(...i)}(function(i,t){const e=ui,n=i();for(;;)try{if(parseInt(e(272))/1+parseInt(e(292))/2*(-parseInt(e(288))/3)+parseInt(e(283))/4*(parseInt(e(273))/5)+parseInt(e(271))/6+-parseInt(e(274))/7*(-parseInt(e(285))/8)+-parseInt(e(286))/9*(-parseInt(e(278))/10)+parseInt(e(284))/11*(-parseInt(e(290))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(uA,464465);function uA(){const i=["canWrapX","2590gXtlBD","getCode","string","length","forEach","8YsmPyA","11bNXUtn","5820272ffBPza","5877orYPiN","getExtent","6ytNcTE","degrees","18435876CQQXRS","getMetersPerUnit","151666IqSnji","slice","EPSG:4326","getUnits","2505612RUzSWG","209189jpKgFX","1572505fenmpD","7xBWhqr","EPSG:3857","Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates."];return uA=function(){return i},uA()}function ui(i,t){const e=uA();return ui=function(n,r){return n=n-269,e[n]},ui(i,t)}let Z2=!0;function g3(i){Z2=!1}function $2(i,t){if(t!==void 0){for(let e=0,n=i.length;e<n;++e)t[e]=i[e];t=t}else t=i.slice();return t}function m3(i,t){const e=ui;if(t!==void 0&&i!==t){for(let n=0,r=i[e(281)];n<r;++n)t[n]=i[n];i=t}return i}function hT(i){jR(i[ui(279)](),i),Xh(i,i,$2)}function AT(i){i[ui(282)](hT)}function Wt(i){return typeof i=="string"?JR(i):i||null}function eI(i,t,e,n){const r=ui;i=Wt(i);let s;const a=i.getPointResolutionFunc();if(a){if(s=a(t,e),n&&n!==i[r(270)]()){const o=i[r(291)]();o&&(s=s*o/Ta[n])}}else{const o=i[r(270)]();if(o==r(289)&&!n||n=="degrees")s=t;else{const l=Cx(i,Wt(r(269)));if(l===m3&&o!==r(289))s=t*i.getMetersPerUnit();else{let x=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2];x=l(x,x,2);const u=h3(x.slice(0,2),x.slice(2,4)),f=h3(x[r(293)](4,6),x[r(293)](6,8));s=(u+f)/2}const c=n?Ta[n]:i[r(291)]();c!==void 0&&(s/=c)}}return s}function _3(i){AT(i),i.forEach(function(t){i[ui(282)](function(n){t!==n&&Xh(t,n,$2)})})}function dT(i,t,e,n){i[ui(282)](function(s){t.forEach(function(a){Xh(s,a,e),Xh(a,s,n)})})}function tI(i,t){const e=ui;return i?typeof i===e(280)?Wt(i):i:Wt(t)}function pT(i){return function(t,e,n,r){const s=ui,a=t[s(281)];n=n!==void 0?n:2,r=r??n,e=e!==void 0?e:new Array(a);for(let o=0;o<a;o+=r){const l=i(t[s(293)](o,o+n)),c=l[s(281)];for(let x=0,u=r;x<u;++x)e[o+x]=x>=c?t[o+x]:l[x]}return e}}function nI(i,t){const e=ui;return g3(),sr(i,e(269),t!==void 0?t:e(275))}function Vo(i,t){const e=ui;if(i===t)return!0;const n=i.getUnits()===t.getUnits();return(i[e(279)]()===t[e(279)]()||Cx(i,t)===$2)&&n}function Cx(i,t){const e=ui,n=i[e(279)](),r=t[e(279)]();let s=ZR(n,r);return!s&&(s=m3),s}function tc(i,t){const e=Wt(i),n=Wt(t);return Cx(e,n)}function sr(i,t,e){const n=ui;return tc(t,e)(i,void 0,i[n(281)])}function iI(i,t,e,n){const r=tc(t,e);return u3(i,r,void 0)}let gT=null;function mT(){return gT}function rI(i,t){return i}function Ys(i,t){const e=ui;return Z2&&!sA(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(Z2=!1,p3(e(276))),i}function sI(i,t){return i}function ls(i,t){return i}function _T(){_3(r3),_3(a3),dT(a3,r3,YR,WR)}_T();function IT(i){const t=i.getView().getProjection().getCode();let e=i.getView().calculateExtent(i.getSize());return t!=="EPSG:4326"&&(e=iI(e,t,"EPSG:4326")),e}function nc(i,t){let e;const n=i.getView().getProjection().getCode();return n!="EPSG:4326"?e=sr(t,n,"EPSG:4326"):e=t,e}function ET(i,t){let e=t;const n=i.getView().getProjection().getCode();return n!=="EPSG:4326"&&(e=sr(t,"EPSG:4326",n)),e}class yT{constructor(t,e){this.map=t,this.options=e,this._tiffObject=null,this.updateRender=!1,this.initBool=!1,this._zoomResolution=[1,1,.5,.5,.25,.25,.125,.125,.0625,.0625,.03125,.03125,.015625,.015625,.007,.007,.0035,.0035,.0018,.0018,9e-4,9e-4]}_render(){return this._tiffObject=new VR(this.options),this._tiffObject.fetchTiff().then(()=>(this.initBool=!0,!0))}getData(){return new Promise((t,e)=>{this.updateRender=!1,this.worldExtent=this.map.getView().calculateExtent(this.map.getSize()),this.worldExtent=IT(this.map,this.worldExtent);const n=this.map.getView().getZoom(),r=this._zoomResolution[Math.floor(n)],s=this._tiffObject.matchImageByRes(r);return this._tiffObject.getDataByBbox(s,this.worldExtent,this.map).then(a=>(this.updateRender=!0,t(a)))})}}const bT={id:"4575782",name:"",font_family:"iconfont",css_prefix_text:"icon-",description:"",glyphs:[{icon_id:"41669603",name:"",font_class:"jiantou",unicode:"e7c7",unicode_decimal:59335},{icon_id:"41669531",name:"_3",font_class:"fan_3ji",unicode:"e7c5",unicode_decimal:59333},{icon_id:"41669529",name:"_1",font_class:"fan_1ji",unicode:"e7c6",unicode_decimal:59334},{icon_id:"41669551",name:"_16",font_class:"fan_16ji",unicode:"e7b2",unicode_decimal:59314},{icon_id:"41669552",name:"_26",font_class:"fan_26ji",unicode:"e7b3",unicode_decimal:59315},{icon_id:"41669549",name:"_21",font_class:"fan_21ji",unicode:"e7b4",unicode_decimal:59316},{icon_id:"41669543",name:"_20",font_class:"fan_20ji",unicode:"e7b5",unicode_decimal:59317},{icon_id:"41669548",name:"_25",font_class:"fan_25ji",unicode:"e7b6",unicode_decimal:59318},{icon_id:"41669541",name:"_13",font_class:"fan_13ji",unicode:"e7b7",unicode_decimal:59319},{icon_id:"41669546",name:"_23",font_class:"fan_23ji",unicode:"e7b8",unicode_decimal:59320},{icon_id:"41669544",name:"_14",font_class:"fan_14ji",unicode:"e7b9",unicode_decimal:59321},{icon_id:"41669547",name:"_19",font_class:"fan_19ji",unicode:"e7ba",unicode_decimal:59322},{icon_id:"41669545",name:"_18",font_class:"fan_18ji",unicode:"e7bb",unicode_decimal:59323},{icon_id:"41669542",name:"_11",font_class:"fan_11ji",unicode:"e7bc",unicode_decimal:59324},{icon_id:"41669539",name:"_6",font_class:"fan_6ji",unicode:"e7bd",unicode_decimal:59325},{icon_id:"41669537",name:"_9",font_class:"fan_9ji",unicode:"e7be",unicode_decimal:59326},{icon_id:"41669536",name:"_10",font_class:"fan_10ji",unicode:"e7bf",unicode_decimal:59327},{icon_id:"41669535",name:"_8",font_class:"fan_8ji",unicode:"e7c0",unicode_decimal:59328},{icon_id:"41669534",name:"_7",font_class:"fan_7ji",unicode:"e7c1",unicode_decimal:59329},{icon_id:"41669533",name:"_5",font_class:"fan_5ji",unicode:"e7c2",unicode_decimal:59330},{icon_id:"41669532",name:"_2",font_class:"fan_2ji",unicode:"e7c3",unicode_decimal:59331},{icon_id:"41669530",name:"_4",font_class:"fan_4ji",unicode:"e7c4",unicode_decimal:59332},{icon_id:"41669558",name:"_15",font_class:"fan_15ji",unicode:"e7a9",unicode_decimal:59305},{icon_id:"41669538",name:"_0",font_class:"fan_0ji",unicode:"e7aa",unicode_decimal:59306},{icon_id:"41669557",name:"_24",font_class:"fan_24ji",unicode:"e7ab",unicode_decimal:59307},{icon_id:"41669556",name:"_29",font_class:"fan_29ji",unicode:"e7ac",unicode_decimal:59308},{icon_id:"41669540",name:"_12",font_class:"fan_12ji",unicode:"e7ad",unicode_decimal:59309},{icon_id:"41669555",name:"_22",font_class:"fan_22ji",unicode:"e7ae",unicode_decimal:59310},{icon_id:"41669553",name:"_28",font_class:"fan_28ji",unicode:"e7af",unicode_decimal:59311},{icon_id:"41669550",name:"_17",font_class:"fan_17ji",unicode:"e7b0",unicode_decimal:59312},{icon_id:"41669554",name:"_27",font_class:"fan_27ji",unicode:"e7b1",unicode_decimal:59313},{icon_id:"41352434",name:"_16",font_class:"zheng_16ji",unicode:"e79b",unicode_decimal:59291},{icon_id:"41352435",name:"_15",font_class:"zheng_15ji",unicode:"e79c",unicode_decimal:59292},{icon_id:"41352433",name:"_14",font_class:"zheng_14ji",unicode:"e78d",unicode_decimal:59277},{icon_id:"41352432",name:"_12",font_class:"zheng_12ji",unicode:"e79d",unicode_decimal:59293},{icon_id:"41352431",name:"_13",font_class:"zheng_13ji",unicode:"e79e",unicode_decimal:59294},{icon_id:"41352430",name:"_11",font_class:"zheng_11ji",unicode:"e79f",unicode_decimal:59295},{icon_id:"41352429",name:"_9",font_class:"zheng_9ji",unicode:"e78c",unicode_decimal:59276},{icon_id:"41352428",name:"_10",font_class:"zheng_10ji",unicode:"e7a0",unicode_decimal:59296},{icon_id:"41352426",name:"_7",font_class:"zheng_7ji",unicode:"e7a1",unicode_decimal:59297},{icon_id:"41352427",name:"_8",font_class:"zheng_8ji",unicode:"e7a2",unicode_decimal:59298},{icon_id:"41352421",name:"_2",font_class:"zheng_2ji",unicode:"e78b",unicode_decimal:59275},{icon_id:"41352425",name:"_5",font_class:"zheng_5ji",unicode:"e7a3",unicode_decimal:59299},{icon_id:"41352424",name:"_6",font_class:"zheng_6ji",unicode:"e7a4",unicode_decimal:59300},{icon_id:"41352423",name:"_4",font_class:"zheng_4ji",unicode:"e7a5",unicode_decimal:59301},{icon_id:"41352422",name:"_3",font_class:"zheng_3ji",unicode:"e7a6",unicode_decimal:59302},{icon_id:"41352420",name:"_1",font_class:"zheng_1ji",unicode:"e7a7",unicode_decimal:59303},{icon_id:"41352419",name:"_0",font_class:"zheng_0ji",unicode:"e7a8",unicode_decimal:59304},{icon_id:"41352447",name:"_29",font_class:"zheng_29ji",unicode:"e790",unicode_decimal:59280},{icon_id:"41352448",name:"_28",font_class:"zheng_28ji",unicode:"e791",unicode_decimal:59281},{icon_id:"41352446",name:"_27",font_class:"zheng_27ji",unicode:"e792",unicode_decimal:59282},{icon_id:"41352445",name:"_24",font_class:"zheng_24ji",unicode:"e793",unicode_decimal:59283},{icon_id:"41352444",name:"_26",font_class:"zheng_26ji",unicode:"e794",unicode_decimal:59284},{icon_id:"41352443",name:"_25",font_class:"zheng_25ji",unicode:"e795",unicode_decimal:59285},{icon_id:"41352442",name:"_23",font_class:"zheng_23ji",unicode:"e78f",unicode_decimal:59279},{icon_id:"41352440",name:"_21",font_class:"zheng_21ji",unicode:"e796",unicode_decimal:59286},{icon_id:"41352441",name:"_22",font_class:"zheng_22ji",unicode:"e797",unicode_decimal:59287},{icon_id:"41352439",name:"_19",font_class:"zheng_19ji",unicode:"e798",unicode_decimal:59288},{icon_id:"41352438",name:"_20",font_class:"zheng_20ji",unicode:"e799",unicode_decimal:59289},{icon_id:"41352437",name:"_17",font_class:"zheng_17ji",unicode:"e78e",unicode_decimal:59278},{icon_id:"41352436",name:"_18",font_class:"zheng_18ji",unicode:"e79a",unicode_decimal:59290}]};function fA(){var i=["1815312YRrBJo","2390144baCfbv","4AqlHQc","125402oybdvT","8361GWhlWQ","12010FuAAtW","2zWlhZS","23223684rerMzY","4436455YWuoAs","2598zIGDBx","15911SKfrYI"];return fA=function(){return i},fA()}function aI(i,t){var e=fA();return aI=function(n,r){n=n-200;var s=e[n];return s},aI(i,t)}(function(i,t){for(var e=aI,n=i();;)try{var r=-parseInt(e(209))/1*(-parseInt(e(206))/2)+-parseInt(e(203))/3+parseInt(e(205))/4*(-parseInt(e(200))/5)+-parseInt(e(201))/6*(parseInt(e(202))/7)+-parseInt(e(204))/8+parseInt(e(207))/9*(parseInt(e(208))/10)+parseInt(e(210))/11;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(fA,577003);const ke={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function vx(i,t){const e=hA();return vx=function(n,r){return n=n-237,e[n]},vx(i,t)}(function(i,t){const e=vx,n=i();for(;;)try{if(-parseInt(e(244))/1*(-parseInt(e(237))/2)+-parseInt(e(245))/3+parseInt(e(247))/4+parseInt(e(241))/5+parseInt(e(240))/6*(-parseInt(e(243))/7)+-parseInt(e(242))/8*(-parseInt(e(239))/9)+-parseInt(e(246))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(hA,512513);function Je(){const i=vx;throw new Error(i(238))}let CT=0;function tt(i){return i[vx(248)]||(i.ol_uid=String(++CT))}function hA(){const i=["2890363EqhvXD","1XelXSh","428859tyMbrz","11943980xDAmaN","2906252hnVGVg","ol_uid","1718342KbqjTM","Unimplemented abstract method.","2118141qyShrO","6tTwYnB","2208450fIhvea","8LMjhTW"];return hA=function(){return i},hA()}function AA(){var i=["635744vukWEX","24oBDSVE","1941537lPBwYx","5zOTknH","878116ShiYZW","1467DYFLWC","123529AZHEYk","3739224LpRaMV","828920eJCBWf","15590BOnhCt"];return AA=function(){return i},AA()}(function(i,t){for(var e=oI,n=i();;)try{var r=-parseInt(e(216))/1+parseInt(e(214))/2+parseInt(e(218))/3+parseInt(e(220))/4*(parseInt(e(219))/5)+parseInt(e(223))/6+-parseInt(e(222))/7*(parseInt(e(217))/8)+parseInt(e(221))/9*(-parseInt(e(215))/10);if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(AA,961570);function oI(i,t){var e=AA();return oI=function(n,r){n=n-214;var s=e[n];return s},oI(i,t)}function I3(i){return i[0]>0&&i[1]>0}function vT(i,t,e){return e===void 0&&(e=[0,0]),e[0]=i[0]*t+.5|0,e[1]=i[1]*t+.5|0,e}function fi(i,t){return Array.isArray(i)?i:(t===void 0?t=[i,i]:(t[0]=i,t[1]=i),t)}const Tt=wx;(function(i,t){const e=wx,n=i();for(;;)try{if(-parseInt(e(373))/1*(parseInt(e(390))/2)+parseInt(e(413))/3*(parseInt(e(388))/4)+parseInt(e(382))/5+parseInt(e(408))/6+-parseInt(e(398))/7*(-parseInt(e(402))/8)+parseInt(e(381))/9*(-parseInt(e(380))/10)+-parseInt(e(404))/11*(parseInt(e(412))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(dA,811040);function dA(){const i=["getRotateWithView","getScaleArray","rotateWithView","11613036AYpUqn","1024035sQjGwL","setRotateWithView","rotateWithView_","getScale","setDisplacement","getSize","16rBSExp","getImageSize","getImage","getImageState","slice","setOpacity","declutterMode_","1884570NrrHCd","27qyCHgM","7084295zfwhWk","isArray","displacement_","getOpacity","getDisplacement","getRotation","4xLhzrS","ready","111968wZZUsl","scale_","rotation_","getHitDetectionImage","load","listenImageChange","clone","opacity_","7aJcpqm","scaleArray_","rotation","scale","856096spTDQb","setScale","11KEuLmI","resolve","getOrigin","getAnchor","8248152exDzvw"];return dA=function(){return i},dA()}function wx(i,t){const e=dA();return wx=function(n,r){return n=n-368,e[n]},wx(i,t)}class Bx{constructor(t){const e=wx;this[e(397)]=t.opacity,this[e(369)]=t[e(411)],this[e(392)]=t[e(400)],this[e(391)]=t[e(401)],this[e(399)]=fi(t[e(401)]),this[e(384)]=t.displacement,this[e(379)]=t.declutterMode}[Tt(396)](){const t=Tt,e=this[t(370)]();return new Bx({opacity:this[t(385)](),scale:Array[t(383)](e)?e.slice():e,rotation:this[t(387)](),rotateWithView:this.getRotateWithView(),displacement:this[t(386)]()[t(377)](),declutterMode:this.getDeclutterMode()})}[Tt(385)](){return this.opacity_}[Tt(409)](){return this[Tt(369)]}[Tt(387)](){return this[Tt(392)]}[Tt(370)](){return this[Tt(391)]}[Tt(410)](){return this[Tt(399)]}[Tt(386)](){return this[Tt(384)]}getDeclutterMode(){return this[Tt(379)]}[Tt(407)](){return Je()}[Tt(375)](t){return Je()}[Tt(393)](){return Je()}getPixelRatio(t){return 1}[Tt(376)](){return Je()}[Tt(374)](){return Je()}[Tt(406)](){return Je()}[Tt(372)](){return Je()}[Tt(371)](t){this.displacement_=t}[Tt(378)](t){const e=Tt;this[e(397)]=t}[Tt(368)](t){this.rotateWithView_=t}setRotation(t){const e=Tt;this[e(392)]=t}[Tt(403)](t){const e=Tt;this[e(391)]=t,this.scaleArray_=fi(t)}[Tt(395)](t){Je()}[Tt(394)](){Je()}unlistenImageChange(t){Je()}[Tt(389)](){return Promise[Tt(405)]()}}const Sx={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var Zn={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};Zn.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}},Zn.max=Zn.whitepoint[2].D65,Zn.rgb=function(i,t){t=t||Zn.whitepoint[2].E;var e=i[0]/t[0],n=i[1]/t[1],r=i[2]/t[2],s,a,o;return s=e*3.240969941904521+n*-1.537383177570093+r*-.498610760293,a=e*-.96924363628087+n*1.87596750150772+r*.041555057407175,o=e*.055630079696993+n*-.20397695888897+r*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[s*255,a*255,o*255]},Sx.xyz=function(i,t){var e=i[0]/255,n=i[1]/255,r=i[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=e*.41239079926595+n*.35758433938387+r*.18048078840183,a=e*.21263900587151+n*.71516867876775+r*.072192315360733,o=e*.019330818715591+n*.11919477979462+r*.95053215224966;return t=t||Zn.whitepoint[2].E,[s*t[0],a*t[1],o*t[2]]};const cI={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(i,t,e){var n,r,s,a,o,l,c,x,u,f,h,A,p;if(s=i[0],a=i[1],o=i[2],s===0)return[0,0,0];var d=.0011070564598794539;return t=t||"D65",e=e||2,u=Zn.whitepoint[e][t][0],f=Zn.whitepoint[e][t][1],h=Zn.whitepoint[e][t][2],A=4*u/(u+15*f+3*h),p=9*f/(u+15*f+3*h),n=a/(13*s)+A||0,r=o/(13*s)+p||0,c=s>8?f*Math.pow((s+16)/116,3):f*s*d,l=c*9*n/(4*r)||0,x=c*(12-3*n-20*r)/(4*r)||0,[l,c,x]}};Zn.luv=function(i,t,e){var n,r,s,a,o,l,c,x,u,f,h,A,p,d=.008856451679035631,g=903.2962962962961;t=t||"D65",e=e||2,u=Zn.whitepoint[e][t][0],f=Zn.whitepoint[e][t][1],h=Zn.whitepoint[e][t][2],A=4*u/(u+15*f+3*h),p=9*f/(u+15*f+3*h),l=i[0],c=i[1],x=i[2],n=4*l/(l+15*c+3*x)||0,r=9*c/(l+15*c+3*x)||0;var m=c/f;return s=m<=d?g*m:116*Math.pow(m,1/3)-16,a=13*s*(n-A),o=13*s*(r-p),[s,a,o]};var E3={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(i){var t=i[0],e=i[1],n=i[2],r,s,a;return a=n/360*2*Math.PI,r=e*Math.cos(a),s=e*Math.sin(a),[t,r,s]},xyz:function(i){return cI.xyz(E3.luv(i))}};cI.lchuv=function(i){var t=i[0],e=i[1],n=i[2],r=Math.sqrt(e*e+n*n),s=Math.atan2(n,e),a=s*360/2/Math.PI;return a<0&&(a+=360),[t,r,a]},Zn.lchuv=function(i){return cI.lchuv(Zn.luv(i))};const y3={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var b3={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function wT(i){var x,u;var t,e=[],n=1,r;if(typeof i=="number")return{space:"rgb",values:[i>>>16,(i&65280)>>>8,i&255],alpha:1};if(typeof i=="number")return{space:"rgb",values:[i>>>16,(i&65280)>>>8,i&255],alpha:1};if(i=String(i).toLowerCase(),y3[i])e=y3[i].slice(),r="rgb";else if(i==="transparent")n=0,r="rgb",e=[0,0,0];else if(i[0]==="#"){var s=i.slice(1),a=s.length,o=a<=4;n=1,o?(e=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],a===4&&(n=parseInt(s[3]+s[3],16)/255)):(e=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],a===8&&(n=parseInt(s[6]+s[7],16)/255)),e[0]||(e[0]=0),e[1]||(e[1]=0),e[2]||(e[2]=0),r="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(i)){var l=t[1];r=l.replace(/a$/,"");var c=r==="cmyk"?4:r==="gray"?1:3;e=t[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=e.shift()),e=e.map(function(f,h){if(f[f.length-1]==="%")return f=parseFloat(f)/100,h===3?f:r==="rgb"?f*255:r[0]==="h"||r[0]==="l"&&!h?f*100:r==="lab"?f*125:r==="lch"?h<2?f*150:f*360:r[0]==="o"&&!h?f:r==="oklab"?f*.4:r==="oklch"?h<2?f*.4:f*360:f;if(r[h]==="h"||h===2&&r[r.length-1]==="h"){if(b3[f]!==void 0)return b3[f];if(f.endsWith("deg"))return parseFloat(f);if(f.endsWith("turn"))return parseFloat(f)*360;if(f.endsWith("grad"))return parseFloat(f)*360/400;if(f.endsWith("rad"))return parseFloat(f)*180/Math.PI}return f==="none"?0:parseFloat(f)}),n=e.length>c?e.pop():1}else/[0-9](?:\s|\/|,)/.test(i)&&(e=i.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),r=((u=(x=i.match(/([a-z])/ig))==null?void 0:x.join(""))==null?void 0:u.toLowerCase())||"rgb");return{space:r,values:e,alpha:n}}const lI={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(i){var t=i[0]/360,e=i[1]/100,n=i[2]/100,r,s,a,o,l,c=0;if(e===0)return l=n*255,[l,l,l];for(s=n<.5?n*(1+e):n+e-n*e,r=2*n-s,o=[0,0,0];c<3;)a=t+1/3*-(c-1),a<0?a++:a>1&&a--,l=6*a<1?r+(s-r)*6*a:2*a<1?s:3*a<2?r+(s-r)*(2/3-a)*6:r,o[c++]=l*255;return o}};Sx.hsl=function(i){var t=i[0]/255,e=i[1]/255,n=i[2]/255,r=Math.min(t,e,n),s=Math.max(t,e,n),a=s-r,o,l,c;return s===r?o=0:t===s?o=(e-n)/a:e===s?o=2+(n-t)/a:n===s&&(o=4+(t-e)/a),o=Math.min(o*60,360),o<0&&(o+=360),c=(r+s)/2,s===r?l=0:c<=.5?l=a/(s+r):l=a/(2-s-r),[o,l*100,c*100]};function BT(i){Array.isArray(i)&&i.raw&&(i=String.raw(...arguments)),i instanceof Number&&(i=+i);var t,e=wT(i);if(!e.space)return[];const n=e.space[0]==="h"?lI.min:Sx.min,r=e.space[0]==="h"?lI.max:Sx.max;return t=Array(3),t[0]=Math.min(Math.max(e.values[0],n[0]),r[0]),t[1]=Math.min(Math.max(e.values[1],n[1]),r[1]),t[2]=Math.min(Math.max(e.values[2],n[2]),r[2]),e.space[0]==="h"&&(t=lI.rgb(t)),t.push(Math.min(Math.max(e.alpha,0),1)),t}(function(i,t){const e=xs,n=i();for(;;)try{if(-parseInt(e(265))/1*(-parseInt(e(276))/2)+parseInt(e(281))/3*(-parseInt(e(264))/4)+-parseInt(e(279))/5+-parseInt(e(273))/6*(parseInt(e(274))/7)+-parseInt(e(267))/8+parseInt(e(285))/9*(-parseInt(e(269))/10)+parseInt(e(272))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(pA,183907);function pA(){const i=["724pyHQBS","644DQzavS","round","1620440lJHgul",'" as color',"20YFtmKq","rgba(","xyz","11404613ArOfHC","57900slHePv","196iiMqLU","length","314GIPNsb","slice","isArray","689850ZvSLWF","none","5433abhNxc","rgb","string","lchuv","69606bscKcs",'failed to parse "'];return pA=function(){return i},pA()}const xI=[NaN,NaN,NaN,0];function Ws(i){return typeof i===xs(283)?i:hI(i)}const ST=1024,Mx={};let uI=0;function MT(i){const t=xs;if(i[t(275)]===4)return i;const e=i[t(277)]();return e[3]=1,e}function C3(i){const t=xs,e=Zn[t(284)](Sx.xyz(i));return e[3]=i[3],e}function RT(i){const t=xs,e=Zn[t(282)](E3[t(271)](i));return e[3]=i[3],e}function xs(i,t){const e=pA();return xs=function(n,r){return n=n-263,e[n]},xs(i,t)}function fI(i){const t=xs;if(i===t(280))return xI;if(Mx.hasOwnProperty(i))return Mx[i];if(uI>=ST){let n=0;for(const r in Mx)!(n++&3)&&(delete Mx[r],--uI)}const e=BT(i);if(e[t(275)]!==4)throw new Error(t(263)+i+t(268));for(const n of e)if(isNaN(n))throw new Error(t(263)+i+t(268));return v3(e),Mx[i]=e,++uI,e}function Rx(i){return Array[xs(278)](i)?i:fI(i)}function v3(i){return i[0]=mn(i[0]+.5|0,0,255),i[1]=mn(i[1]+.5|0,0,255),i[2]=mn(i[2]+.5|0,0,255),i[3]=mn(i[3],0,1),i}function hI(i){const t=xs;let e=i[0];e!=(e|0)&&(e=e+.5|0);let n=i[1];n!=(n|0)&&(n=n+.5|0);let r=i[2];r!=(r|0)&&(r=r+.5|0);const s=i[3]===void 0?1:Math[t(266)](i[3]*1e3)/1e3;return t(270)+e+","+n+","+r+","+s+")"}const cn=mA;(function(i,t){const e=mA,n=i();for(;;)try{if(parseInt(e(480))/1*(parseInt(e(482))/2)+parseInt(e(503))/3+-parseInt(e(498))/4*(parseInt(e(505))/5)+-parseInt(e(496))/6+-parseInt(e(501))/7+-parseInt(e(481))/8+-parseInt(e(500))/9*(-parseInt(e(494))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(gA,187089);const ka=typeof navigator<"u"&&typeof navigator[cn(490)]<"u"?navigator[cn(490)][cn(491)]():"",TT=ka[cn(492)](cn(499));function gA(){const i=["firefox","223569yJQvyE","173131fdJIcv","defineProperty","108909ZKxYyS","version/15.4","166150drGDML","1bvolbu","35624pSBEKN","507674NwZUkX","function","edge","decode","undefined","chrom","safari","passive","userAgent","toLowerCase","includes","webkit","50SybUXw","prototype","191520FxhMeP","test","20MlqdGP"];return gA=function(){return i},gA()}ka[cn(492)](cn(488))&&!ka[cn(492)](cn(487))&&(ka[cn(492)](cn(504))||/cpu (os|iphone os) 15_4 like mac os x/[cn(497)](ka));const DT=ka[cn(492)](cn(493))&&!ka[cn(492)](cn(484));function mA(i,t){const e=gA();return mA=function(n,r){return n=n-480,e[n]},mA(i,t)}const w3=ka[cn(492)]("macintosh"),_A=typeof devicePixelRatio<"u"?devicePixelRatio:1,AI=typeof WorkerGlobalScope!==cn(486)&&typeof OffscreenCanvas!==cn(486)&&self instanceof WorkerGlobalScope,B3=typeof Image!==cn(486)&&Image[cn(495)][cn(485)];cn(483);const S3=function(){const i=cn;let t=!1;try{const e=Object[i(502)]({},i(489),{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();(function(i,t){const e=Pa,n=i();for(;;)try{if(-parseInt(e(283))/1*(parseInt(e(291))/2)+-parseInt(e(294))/3*(-parseInt(e(286))/4)+parseInt(e(292))/5*(parseInt(e(289))/6)+parseInt(e(279))/7+parseInt(e(293))/8+parseInt(e(282))/9*(parseInt(e(288))/10)+parseInt(e(297))/11*(-parseInt(e(276))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(EA,128790);function ln(i,t,e,n){const r=Pa;let s;return e&&e[r(275)]?s=e[r(287)]():AI?s=new OffscreenCanvas(i||300,t||300):s=document[r(296)](r(269)),i&&(s[r(274)]=i),t&&(s[r(268)]=t),s[r(284)]("2d",n)}let dI;function IA(){return!dI&&(dI=ln(1,1)),dI}function Tx(i){const t=Pa,e=i[t(269)];e[t(274)]=1,e.height=1,i[t(272)](0,0,1,1)}function Pa(i,t){const e=EA();return Pa=function(n,r){return n=n-268,e[n]},Pa(i,t)}function M3(i,t){const e=Pa,n=t.parentNode;n&&n[e(270)](i,t)}function QT(i){const t=Pa;for(;i.lastChild;)i[t(280)][t(290)]()}function LT(i,t){const e=Pa,n=i[e(285)];for(let r=0;;++r){const s=n[r],a=t[r];if(!s&&!a)break;if(s!==a){if(!s){i.appendChild(a);continue}if(!a){i[e(271)](s),--r;continue}i[e(278)](a,s)}}}function EA(){const i=["marginBottom","createElement","429GesqFH","marginRight","height","canvas","replaceChild","removeChild","clearRect","marginLeft","width","length","111828dLuLjV","marginTop","insertBefore","503034IRGcUl","lastChild","offsetWidth","63kPVxQV","63zzyFIF","getContext","childNodes","8808PYYTSB","shift","258630vIzEFb","20532BszNZs","remove","3922RrrTBf","25KKxCaO","1233496rAHcTs","261JCluPF"];return EA=function(){return i},EA()}var pI=Dx;(function(i,t){for(var e=Dx,n=i();;)try{var r=parseInt(e(297))/1+-parseInt(e(302))/2*(parseInt(e(296))/3)+parseInt(e(292))/4+-parseInt(e(299))/5+parseInt(e(301))/6+parseInt(e(293))/7*(parseInt(e(294))/8)+-parseInt(e(303))/9;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(yA,343011);function Dx(i,t){var e=yA();return Dx=function(n,r){n=n-292;var s=e[n];return s},Dx(i,t)}class Qx{constructor(){var t=Dx;this[t(298)]=!1}[pI(295)](){var t=pI;!this.disposed&&(this[t(298)]=!0,this[t(300)]())}[pI(300)](){}}function yA(){var i=["disposed","350495mBVHMI","disposeInternal","1825920lwQSjI","1198HRjMdR","5606982awrqFn","924068buLOlM","3149461cavfxU","8mWTehG","dispose","1095VJPuRZ","269483MzSsBO"];return yA=function(){return i},yA()}var FT=Lx;function Lx(i,t){var e=bA();return Lx=function(n,r){n=n-443;var s=e[n];return s},Lx(i,t)}(function(i,t){for(var e=Lx,n=i();;)try{var r=-parseInt(e(452))/1*(parseInt(e(443))/2)+parseInt(e(445))/3+-parseInt(e(444))/4*(-parseInt(e(458))/5)+parseInt(e(447))/6*(-parseInt(e(454))/7)+parseInt(e(456))/8*(-parseInt(e(460))/9)+parseInt(e(448))/10*(-parseInt(e(450))/11)+parseInt(e(451))/12;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(bA,502453);class yr{constructor(t){var e=Lx;this[e(457)],this[e(459)],this[e(455)]=t,this[e(446)]=null}preventDefault(){this.defaultPrevented=!0}[FT(449)](){this.propagationStopped=!0}}function bA(){var i=["8190828gJQWFG","6IOyCCU","preventDefault","413KhCItq","type","68536Ercxag","propagationStopped","18195WAxFAZ","defaultPrevented","288RulCQF","131946WxaTdg","744jjBuEb","1217049CSnhfF","target","12414lzEwEE","3250ZAFzLM","stopPropagation","15928izEACk"];return bA=function(){return i},bA()}(function(i,t){const e=Ua,n=i();for(;;)try{if(parseInt(e(110))/1*(-parseInt(e(106))/2)+parseInt(e(119))/3+parseInt(e(114))/4+parseInt(e(115))/5*(-parseInt(e(109))/6)+-parseInt(e(120))/7*(-parseInt(e(111))/8)+parseInt(e(116))/9+parseInt(e(112))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(vA,417146);function kT(i,t,e){const n=Ua;let r,s;e=e||us;let a=0,o=i[n(121)],l=!1;for(;a<o;)r=a+(o-a>>1),s=+e(i[r],t),s<0?a=r+1:(o=r,l=!s);return l?a:~a}function us(i,t){return i>t?1:i<t?-1:0}function CA(i,t,e){const n=Ua;if(i[0]<=t)return 0;const r=i[n(121)];if(t<=i[r-1])return r-1;if(typeof e===n(113)){for(let s=1;s<r;++s){const a=i[s];if(a===t)return s;if(a<t)return e(t,i[s-1],a)>0?s-1:s}return r-1}if(e>0){for(let s=1;s<r;++s)if(i[s]<t)return s-1;return r-1}if(e<0){for(let s=1;s<r;++s)if(i[s]<=t)return s;return r-1}for(let s=1;s<r;++s){if(i[s]==t)return s;if(i[s]<t)return i[s-1]-t<t-i[s]?s-1:s}return r-1}function Ua(i,t){const e=vA();return Ua=function(n,r){return n=n-105,e[n]},Ua(i,t)}function PT(i,t,e){for(;t<e;){const n=i[t];i[t]=i[e],i[e]=n,++t,--e}}function fs(i,t){const e=Ua,n=Array[e(107)](t)?t:[t],r=n[e(121)];for(let s=0;s<r;s++)i[i.length]=n[s]}function vA(){const i=["isArray","splice","1717026KqEUDi","1QysQdJ","8DWrQvP","1621940jkHSsN","function","604800AxrSxh","10VfNXRi","2750715ZMntXu","value","every","477447YgRPna","2790529xUJVrl","length","index","374674rlEhQz"];return vA=function(){return i},vA()}function Na(i,t){const e=Ua,n=i[e(121)];if(n!==t[e(121)])return!1;for(let r=0;r<n;r++)if(i[r]!==t[r])return!1;return!0}function UT(i,t,e){const n=Ua,r=t||us;return i[n(118)](function(s,a){if(a===0)return!0;const o=r(i[a-1],s);return!(o>0||e&&o===0)})}(function(i,t){const e=kx,n=i();for(;;)try{if(-parseInt(e(449))/1+-parseInt(e(452))/2+-parseInt(e(445))/3*(parseInt(e(446))/4)+parseInt(e(448))/5+parseInt(e(447))/6+parseInt(e(443))/7*(-parseInt(e(450))/8)+parseInt(e(444))/9*(parseInt(e(455))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(BA,493653);function Fx(){return!0}function wA(){return!1}function ic(){}function R3(i){let t,e,n;return function(){const r=kx,s=Array[r(453)][r(454)][r(456)](arguments);return(!e||this!==n||!Na(s,e))&&(n=this,e=s,t=i.apply(this,arguments)),t}}function kx(i,t){const e=BA();return kx=function(n,r){return n=n-443,e[n]},kx(i,t)}function rc(i){function t(){const e=kx;let n;try{n=i()}catch(r){return Promise.reject(r)}return n instanceof Promise?n:Promise[e(451)](n)}return t()}function BA(){const i=["1183baBSwO","16487703UVMySv","1861239yaZEkE","4pxKgqr","1424796cuXxzU","1458255VOvvsz","548604LTAdmU","16232qYDoIO","resolve","711026wvFazA","prototype","slice","10AzjsBC","call"];return BA=function(){return i},BA()}const Oa=Ho;(function(i,t){const e=Ho,n=i();for(;;)try{if(-parseInt(e(478))/1+-parseInt(e(465))/2+parseInt(e(487))/3*(parseInt(e(476))/4)+parseInt(e(475))/5+parseInt(e(464))/6+-parseInt(e(492))/7*(parseInt(e(491))/8)+-parseInt(e(477))/9*(-parseInt(e(483))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(SA,600405);function Ho(i,t){const e=SA();return Ho=function(n,r){return n=n-464,e[n]},Ho(i,t)}function SA(){const i=["392lvfGcs","4437870jNYgov","942740xqoBoZ","length","pendingRemovals_","target","type","call","keys","hasListener","getListeners","listeners_","5951440eBDWax","4441748NEbNnp","348849ONBrSZ","1156333wXePOy","propagationStopped","handleEvent","disposeInternal","indexOf","20oobihe","splice","dispatching_","eventTarget_","3IOOxeu","string","push","removeEventListener","127112DoQcjF"];return SA=function(){return i},SA()}class Px extends Qx{constructor(t){const e=Ho;super(),this[e(486)]=t,this[e(467)]=null,this[e(485)]=null,this[e(474)]=null}addEventListener(t,e){const n=Ho;if(!t||!e)return;const r=this.listeners_||(this.listeners_={}),s=r[t]||(r[t]=[]);!s.includes(e)&&s[n(489)](e)}dispatchEvent(t){const e=Ho,n=typeof t===e(488),r=n?t:t[e(469)],s=this[e(474)]&&this[e(474)][r];if(!s)return;const a=n?new yr(t):t;!a[e(468)]&&(a[e(468)]=this[e(486)]||this);const o=this[e(485)]||(this[e(485)]={}),l=this[e(467)]||(this.pendingRemovals_={});!(r in o)&&(o[r]=0,l[r]=0),++o[r];let c;for(let x=0,u=s[e(466)];x<u;++x)if(e(480)in s[x]?c=s[x][e(480)](a):c=s[x][e(470)](this,a),c===!1||a[e(479)]){c=!1;break}if(--o[r]===0){let x=l[r];for(delete l[r];x--;)this[e(490)](r,ic);delete o[r]}return c}[Oa(481)](){this[Oa(474)]&&Ex(this.listeners_)}[Oa(473)](t){return this[Oa(474)]&&this.listeners_[t]||void 0}[Oa(472)](t){const e=Oa;return this[e(474)]?t?t in this[e(474)]:Object[e(471)](this[e(474)]).length>0:!1}[Oa(490)](t,e){const n=Oa;if(!this[n(474)])return;const r=this.listeners_[t];if(!r)return;const s=r[n(482)](e);s!==-1&&(this[n(467)]&&t in this[n(467)]?(r[s]=ic,++this[n(467)][t]):(r[n(484)](s,1),r[n(466)]===0&&delete this.listeners_[t]))}}var Or=MA;function MA(i,t){var e=RA();return MA=function(n,r){n=n-284;var s=e[n];return s},MA(i,t)}function RA(){var i=["touchmove","keypress","wheel","361835uziIcT","resize","8TDDYsN","drop","keydown","4290256YOvstl","172622tHOnKh","contextmenu","change","337446mrjdbb","304029xkFIFt","105490HvONdl","dragover","253104YPweTy","clear","dblclick"];return RA=function(){return i},RA()}(function(i,t){for(var e=MA,n=i();;)try{var r=parseInt(e(290))/1+parseInt(e(286))/2+parseInt(e(293))/3+parseInt(e(301))/4*(parseInt(e(299))/5)+parseInt(e(289))/6+parseInt(e(291))/7+-parseInt(e(285))/8;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(RA,154471);const Ye={CHANGE:Or(288),ERROR:"error",BLUR:"blur",CLEAR:Or(294),CONTEXTMENU:Or(287),CLICK:"click",DBLCLICK:Or(295),DRAGENTER:"dragenter",DRAGOVER:Or(292),DROP:Or(302),FOCUS:"focus",KEYDOWN:Or(284),KEYPRESS:Or(297),LOAD:"load",RESIZE:Or(300),TOUCHMOVE:Or(296),WHEEL:Or(298)};(function(i,t){const e=sc,n=i();for(;;)try{if(parseInt(e(285))/1+-parseInt(e(292))/2*(parseInt(e(291))/3)+parseInt(e(279))/4+-parseInt(e(286))/5*(-parseInt(e(282))/6)+parseInt(e(289))/7*(parseInt(e(287))/8)+-parseInt(e(293))/9*(parseInt(e(277))/10)+-parseInt(e(281))/11*(parseInt(e(294))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(DA,637288);function yt(i,t,e,n,r){const s=sc;if(r){const o=e;e=function(){const l=sc;i[l(280)](t,e),o[l(284)](n??this,arguments)}}else n&&n!==i&&(e=e.bind(n));const a={target:i,type:t,listener:e};return i[s(288)](t,e),a}function TA(i,t,e,n){return yt(i,t,e,n,!0)}function DA(){const i=["41652MUzvfb","10FcYNuO","listener","3983968TnalbK","removeEventListener","3212FTZvif","18lJTNwl","type","apply","726583wFWkOw","1675225vtTNWG","369944saTVXN","addEventListener","28ZSbPAY","target","854103sfiBCu","2ZHbZZj","8794449ZWOIcJ"];return DA=function(){return i},DA()}function sc(i,t){const e=DA();return sc=function(n,r){return n=n-277,e[n]},sc(i,t)}function Xt(i){const t=sc;i&&i[t(290)]&&(i[t(290)][t(280)](i[t(283)],i[t(278)]),Ex(i))}const Yn=Ga;function QA(){const i=["width","ERROR","loader","then","function","forEach","addEventListener","setImage","setResolution","error","getState","519755Gqiqzk","isArray","complete","getResolution","pixelRatio","Image load error","catch","state","112iiZJXt","IDLE","image_","67550GuJTbO","getImage","295338qZFwBd","32lctspW","load","dispatchEvent","13942AxOiQa","LOADING","1259655RTTgdu","changed","getPixelRatio","262180hutmnL","resolution","push","getExtent","3477888VMbSsK","8cqTCnV","removeEventListener","src","LOADED","CHANGE","image","pixelRatio_","extent","LOAD","decode","990RFqllR"];return QA=function(){return i},QA()}(function(i,t){const e=Ga,n=i();for(;;)try{if(-parseInt(e(305))/1+-parseInt(e(300))/2+parseInt(e(302))/3+parseInt(e(346))/4*(parseInt(e(332))/5)+parseInt(e(345))/6*(-parseInt(e(340))/7)+-parseInt(e(310))/8*(parseInt(e(309))/9)+parseInt(e(343))/10*(parseInt(e(320))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(QA,416292);function Ga(i,t){const e=QA();return Ga=function(n,r){return n=n-300,e[n]},Ga(i,t)}class gI extends Px{constructor(t,e,n,r){const s=Ga;super(),this[s(317)]=t,this.pixelRatio_=n,this[s(306)]=e,this.state=typeof r===s(325)?ke.IDLE:r,this[s(342)]=null,this[s(323)]=typeof r===s(325)?r:null}[Yn(303)](){const t=Yn;this[t(348)](Ye[t(314)])}[Yn(308)](){return this[Yn(317)]}[Yn(344)](){return this[Yn(342)]}[Yn(304)](){return this[Yn(316)]}[Yn(335)](){return this.resolution}[Yn(331)](){return this[Yn(339)]}[Yn(347)](){const t=Yn;if(this[t(339)]==ke[t(341)]&&this[t(323)]){this.state=ke[t(301)],this[t(303)]();const e=this[t(335)](),n=Array[t(333)](e)?e[0]:e;rc(()=>this[t(323)](this[t(308)](),n,this.getPixelRatio()))[t(324)](r=>{const s=t;s(315)in r&&(this[s(342)]=r[s(315)]),"extent"in r&&(this[s(317)]=r.extent),"resolution"in r&&(this[s(306)]=r.resolution),s(336)in r&&(this[s(316)]=r[s(336)]),(r instanceof HTMLImageElement||r instanceof ImageBitmap||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement)&&(this[s(342)]=r),this[s(339)]=ke[s(313)]}).catch(r=>{const s=t;this[s(339)]=ke.ERROR,console[s(330)](r)}).finally(()=>this.changed())}}[Yn(328)](t){const e=Yn;this[e(342)]=t}[Yn(329)](t){this.resolution=t}}function NT(i,t,e){const n=Yn,r=i;let s=!0,a=!1,o=!1;const l=[TA(r,Ye[n(318)],function(){o=!0,!a&&t()})];return r[n(312)]&&B3?(a=!0,r[n(319)]()[n(324)](function(){s&&t()})[n(338)](function(c){s&&(o?t():e())})):l[n(307)](TA(r,Ye[n(322)],e)),function(){const x=n;s=!1,l[x(326)](Xt)}}function OT(i,t){return new Promise((e,n)=>{const r=Ga;function s(){o(),e(i)}function a(){const l=Ga;o(),n(new Error(l(337)))}function o(){const l=Ga;i[l(311)](l(347),s),i[l(311)](l(330),a)}i[r(327)](r(347),s),i[r(327)](r(330),a)})}function GT(i,t){const e=Yn;return t&&(i[e(312)]=t),i[e(312)]&&B3?new Promise((n,r)=>i[e(319)]()[e(324)](()=>n(i)).catch(s=>i[e(334)]&&i[e(321)]?n(i):r(s))):OT(i)}const hs=qo;(function(i,t){const e=qo,n=i();for(;;)try{if(parseInt(e(415))/1*(-parseInt(e(428))/2)+parseInt(e(420))/3+-parseInt(e(416))/4+parseInt(e(431))/5*(-parseInt(e(430))/6)+-parseInt(e(441))/7+parseInt(e(425))/8*(-parseInt(e(427))/9)+parseInt(e(440))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(LA,313320);function LA(){const i=["createPattern","then","18161260gjjsLG","705334txtvhZ","56493RtFMwg","1132140GALiYv","IDLE","canExpireCache","expire","483669YuIYlh","getImageState","patternCache_","get","cache_","8QOkcOp","getPattern","5593329qLtdhl","10rbudDv","setSize","12MndxeK","940715WkYdCd","LOADING","repeat","getImage","null","maxCacheSize_","cacheSize_"];return LA=function(){return i},LA()}function qo(i,t){const e=LA();return qo=function(n,r){return n=n-415,e[n]},qo(i,t)}class zT{constructor(){const t=qo;this[t(424)]={},this[t(422)]={},this[t(437)]=0,this[t(436)]=32}clear(){const t=qo;this[t(424)]={},this[t(422)]={},this[t(437)]=0}canExpireCache(){const t=qo;return this.cacheSize_>this[t(436)]}[hs(419)](){const t=hs;if(this[t(418)]()){let e=0;for(const n in this.cache_){const r=this[t(424)][n];!(e++&3)&&!r.hasListener()&&(delete this[t(424)][n],delete this[t(422)][n],--this.cacheSize_)}}}[hs(423)](t,e,n){const r=hs,s=mI(t,e,n);return s in this[r(424)]?this[r(424)][s]:null}[hs(426)](t,e,n){const r=hs,s=mI(t,e,n);return s in this[r(422)]?this[r(422)][s]:null}set(t,e,n,r,s){const a=hs,o=mI(t,e,n),l=o in this.cache_;this.cache_[o]=r,s&&(r.getImageState()===ke[a(417)]&&r.load(),r[a(421)]()===ke[a(432)]?r.ready()[a(439)](()=>{const c=a;this[c(422)][o]=IA()[c(438)](r[c(434)](1),c(433))}):this[a(422)][o]=IA()[a(438)](r[a(434)](1),"repeat")),!l&&++this[a(437)]}[hs(429)](t){const e=hs;this[e(436)]=t,this[e(419)]()}}function mI(i,t,e){const n=hs,r=e?Rx(e):n(435);return t+":"+i+":"+r}const As=new zT;function Yo(i,t){const e=FA();return Yo=function(n,r){return n=n-451,e[n]},Yo(i,t)}const dn=Yo;(function(i,t){const e=Yo,n=i();for(;;)try{if(-parseInt(e(478))/1+parseInt(e(465))/2+parseInt(e(503))/3+parseInt(e(502))/4*(-parseInt(e(472))/5)+-parseInt(e(458))/6*(parseInt(e(456))/7)+-parseInt(e(501))/8*(-parseInt(e(494))/9)+parseInt(e(461))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(FA,281407);function FA(){const i=["7PinELH","addEventListener","2298174pSvBJB","multiply","width","5138400MpDUnd","ERROR","imageState_","isTainted_","426142sWWWlG","set","getSrc","LOADED","crossOrigin_","fillRect","size_","5ayiPVd","get","tainted_","src_","globalCompositeOperation","getSize","469889otOtuj","initializeImage_","getHitDetectionImage","src","removeEventListener","ceil","IDLE","LOADING","getPattern","replaceColor_","handleImageError_","scale","getImage","color_","dispatchChangeEvent_","load","153wVZjec","bind","getPixelRatio","canvas","getImageState","hitDetectionImage_","image_","59288nUqaUY","220964KmpAQl","1010004SEgdTH","fillStyle","height","CHANGE","ready_","canvas_","catch","handleImageLoad_","drawImage","getImageData"];return FA=function(){return i},FA()}let Ux=null;class T3 extends Px{constructor(t,e,n,r,s){const a=Yo;super(),this[a(499)]=null,this.image_=t,this[a(469)]=n,this.canvas_={},this[a(491)]=s,this[a(463)]=r===void 0?ke.IDLE:r,this[a(471)]=t&&t.width&&t.height?[t.width,t[a(505)]]:null,this[a(475)]=e,this.tainted_,this[a(507)]=null}initializeImage_(){const t=Yo;this.image_=new Image,this[t(469)]!==null&&(this[t(500)].crossOrigin=this[t(469)])}isTainted_(){const t=Yo;if(this[t(474)]===void 0&&this[t(463)]===ke[t(468)]){!Ux&&(Ux=ln(1,1,void 0,{willReadFrequently:!0})),Ux[t(454)](this[t(500)],0,0);try{Ux[t(455)](0,0,1,1),this[t(474)]=!1}catch{Ux=null,this[t(474)]=!0}}return this[t(474)]===!0}[dn(492)](){const t=dn;this.dispatchEvent(Ye[t(506)])}[dn(488)](){const t=dn;this[t(463)]=ke[t(462)],this[t(492)]()}[dn(453)](){const t=dn;this[t(463)]=ke.LOADED,this[t(471)]=[this[t(500)][t(460)],this[t(500)][t(505)]],this[t(492)]()}[dn(490)](t){const e=dn;return!this[e(500)]&&this[e(479)](),this[e(487)](t),this[e(451)][t]?this[e(451)][t]:this.image_}[dn(496)](t){const e=dn;return this.replaceColor_(t),this[e(451)][t]?t:1}[dn(498)](){return this[dn(463)]}[dn(480)](){const t=dn;if(!this.image_&&this[t(479)](),!this[t(499)])if(this[t(464)]()){const e=this.size_[0],n=this[t(471)][1],r=ln(e,n);r.fillRect(0,0,e,n),this[t(499)]=r.canvas}else this[t(499)]=this.image_;return this.hitDetectionImage_}[dn(477)](){return this[dn(471)]}[dn(467)](){return this.src_}[dn(493)](){const t=dn;if(this[t(463)]===ke[t(484)]){!this[t(500)]&&this.initializeImage_(),this[t(463)]=ke[t(485)];try{this[t(475)]!==void 0&&(this[t(500)].src=this[t(475)])}catch{this[t(488)]()}this.image_ instanceof HTMLImageElement&&GT(this.image_,this[t(475)]).then(e=>{const n=t;this[n(500)]=e,this[n(453)]()})[t(452)](this.handleImageError_[t(495)](this))}}[dn(487)](t){const e=dn;if(!this[e(491)]||this[e(451)][t]||this.imageState_!==ke.LOADED)return;const n=this.image_,r=ln(Math[e(483)](n[e(460)]*t),Math[e(483)](n[e(505)]*t)),s=r[e(497)];r[e(489)](t,t),r[e(454)](n,0,0),r.globalCompositeOperation=e(459),r[e(504)]=Ws(this[e(491)]),r[e(470)](0,0,s[e(460)]/t,s[e(505)]/t),r[e(476)]="destination-in",r.drawImage(n,0,0),this[e(451)][t]=s}ready(){const t=dn;return!this.ready_&&(this[t(507)]=new Promise(e=>{const n=t;if(this[n(463)]===ke[n(468)]||this.imageState_===ke.ERROR)e();else{const r=()=>{const s=n;(this[s(463)]===ke[s(468)]||this[s(463)]===ke.ERROR)&&(this[s(482)](Ye[s(506)],r),e())};this[n(457)](Ye.CHANGE,r)}})),this[t(507)]}}function _I(i,t,e,n,r,s){const a=dn;let o=t===void 0?void 0:As[a(473)](t,e,r);return!o&&(o=new T3(i,i&&a(481)in i?i[a(481)]||void 0:t,e,n,r),As.set(t,e,r,o,s)),s&&o&&!As[a(486)](t,e,r)&&As[a(466)](t,e,r,o,s),o}(function(i,t){const e=Nx,n=i();for(;;)try{if(parseInt(e(319))/1*(parseInt(e(315))/2)+-parseInt(e(323))/3*(-parseInt(e(327))/4)+parseInt(e(309))/5+parseInt(e(311))/6*(parseInt(e(313))/7)+-parseInt(e(304))/8*(parseInt(e(307))/9)+-parseInt(e(320))/10*(-parseInt(e(324))/11)+-parseInt(e(305))/12===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(kA,260824);function Nx(i,t){const e=kA();return Nx=function(n,r){return n=n-304,e[n]},Nx(i,t)}function kA(){const i=["230921JFyxiz","3549730bNWKvf","color","size","403689KJtVqu","11rHHbiE","LOADED","src","4kNQbmy","offset","824KfeDBG","4628148iUtpKP","drawImage","40860vDnNKD","isArray","1247845qKxPxM","anonymous","864582PZPzRS","canvas","7jsqSKj","get","2egEdjb","getImageState","getPattern","object"];return kA=function(){return i},kA()}function ds(i){const t=Nx;return i?Array[t(308)](i)?hI(i):typeof i===t(318)&&t(326)in i?VT(i):i:null}function VT(i){const t=Nx;if(!i.offset||!i[t(322)])return As[t(317)](i[t(326)],t(310),i[t(321)]);const e=i.src+":"+i[t(328)],n=As.getPattern(e,void 0,i[t(321)]);if(n)return n;const r=As[t(314)](i.src,t(310),null);if(r[t(316)]()!==ke[t(325)])return null;const s=ln(i[t(322)][0],i.size[1]);return s[t(306)](r.getImage(1),i[t(328)][0],i[t(328)][1],i[t(322)][0],i[t(322)][1],0,0,i[t(322)][0],i.size[1]),_I(s[t(312)],e,void 0,ke[t(325)],i[t(321)],!0),As[t(317)](e,void 0,i[t(321)])}function PA(){var i=["5612968oQywxC","9biFTys","336728BEnqjw","108HIwzMk","1424106srsAVO","1868570zGoSsW","26961070OtpCBk","21IbBXxt","propertychange","2923496rvptcG","77252wPzrts"];return PA=function(){return i},PA()}var HT=UA;function UA(i,t){var e=PA();return UA=function(n,r){n=n-406;var s=e[n];return s},UA(i,t)}(function(i,t){for(var e=UA,n=i();;)try{var r=parseInt(e(410))/1+parseInt(e(408))/2*(parseInt(e(413))/3)+parseInt(e(406))/4+-parseInt(e(411))/5+parseInt(e(409))/6*(parseInt(e(416))/7)+-parseInt(e(415))/8*(parseInt(e(407))/9)+-parseInt(e(412))/10;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(PA,769286);const ac={PROPERTYCHANGE:HT(414)},ar=Ox;(function(i,t){const e=Ox,n=i();for(;;)try{if(parseInt(e(302))/1*(parseInt(e(305))/2)+parseInt(e(304))/3*(-parseInt(e(306))/4)+parseInt(e(323))/5*(parseInt(e(309))/6)+-parseInt(e(322))/7+parseInt(e(314))/8*(parseInt(e(300))/9)+parseInt(e(324))/10+-parseInt(e(312))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(NA,563485);function Ox(i,t){const e=NA();return Ox=function(n,r){return n=n-300,e[n]},Ox(i,t)}class Gx extends Px{constructor(){const t=Ox;super(),this.on=this[t(311)],this[t(313)]=this[t(310)],this.un=this[t(301)],this.revision_=0}[ar(320)](){const t=ar;++this[t(315)],this[t(318)](Ye[t(317)])}[ar(316)](){return this[ar(315)]}onInternal(t,e){const n=ar;if(Array[n(319)](t)){const r=t[n(303)],s=new Array(r);for(let a=0;a<r;++a)s[a]=yt(this,t[a],e);return s}return yt(this,t,e)}[ar(310)](t,e){const n=ar;let r;if(Array[n(319)](t)){const s=t[n(303)];r=new Array(s);for(let a=0;a<s;++a)r[a]=TA(this,t[a],e)}else r=TA(this,t,e);return e[n(321)]=r,r}[ar(301)](t,e){const n=ar,r=e[n(321)];if(r)qT(r);else if(Array[n(319)](t))for(let s=0,a=t[n(303)];s<a;++s)this[n(308)](t[s],e);else this[n(308)](t,e)}}function NA(){const i=["prototype","removeEventListener","4584LWxiHW","onceInternal","onInternal","26530460jnLYaK","once","19112IMGwwU","revision_","getRevision","CHANGE","dispatchEvent","isArray","changed","ol_key","832146rygMTH","4835AYZIZd","6307210YyNrNS","3987rhBeDP","unInternal","2vjWVdu","length","3IVaVvC","1096890cTEmus","1722012RrnAgp"];return NA=function(){return i},NA()}Gx[ar(307)].on,Gx[ar(307)].once,Gx[ar(307)].un;function qT(i){if(Array[ar(319)](i))for(let e=0,n=i.length;e<n;++e)Xt(i[e]);else Xt(i)}function oc(i,t){const e=OA();return oc=function(n,r){return n=n-196,e[n]},oc(i,t)}function OA(){const i=["hasProperties","2063188QWbBMc","174MXIQOD","2156499cquSBo","320586IoKCcg","736INyLXC","removeEventListener","114813AgOStS","addChangeListener","PROPERTYCHANGE","2600563KNyqMc","notify","getKeys","getProperties","removeChangeListener","1667342aOCXnk","change:","hasOwnProperty","once","values_","get","unset","setProperties","107560pYRAoe","dispatchEvent","set","oldValue"];return OA=function(){return i},OA()}const Bn=oc;(function(i,t){const e=oc,n=i();for(;;)try{if(parseInt(e(202))/1+-parseInt(e(213))/2+parseInt(e(201))/3+-parseInt(e(199))/4+-parseInt(e(221))/5*(parseInt(e(200))/6)+parseInt(e(208))/7+parseInt(e(203))/8*(parseInt(e(205))/9)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(OA,611256);class D3 extends yr{constructor(t,e,n){const r=oc;super(t),this.key=e,this[r(197)]=n}}class ps extends Gx{constructor(t){const e=oc;super(),this.on,this[e(216)],this.un,tt(this),this[e(217)]=null,t!==void 0&&this.setProperties(t)}[Bn(218)](t){const e=Bn;let n;return this[e(217)]&&this[e(217)][e(215)](t)&&(n=this[e(217)][t]),n}[Bn(210)](){const t=Bn;return this[t(217)]&&Object.keys(this[t(217)])||[]}[Bn(211)](){const t=Bn;return this[t(217)]&&Object.assign({},this[t(217)])||{}}getPropertiesInternal(){return this[Bn(217)]}[Bn(198)](){return!!this[Bn(217)]}[Bn(209)](t,e){const n=Bn;let r;r="change:"+t,this.hasListener(r)&&this.dispatchEvent(new D3(r,t,e)),r=ac[n(207)],this.hasListener(r)&&this[n(222)](new D3(r,t,e))}[Bn(206)](t,e){const n=Bn;this.addEventListener(n(214)+t,e)}[Bn(212)](t,e){const n=Bn;this[n(204)](n(214)+t,e)}[Bn(196)](t,e,n){const r=Bn,s=this[r(217)]||(this[r(217)]={});if(n)s[t]=e;else{const a=s[t];s[t]=e,a!==e&&this.notify(t,a)}}[Bn(220)](t,e){for(const n in t)this.set(n,t[n],e)}applyProperties(t){const e=Bn;t[e(217)]&&Object.assign(this[e(217)]||(this[e(217)]={}),t.values_)}[Bn(219)](t,e){const n=Bn;if(this[n(217)]&&t in this[n(217)]){const r=this.values_[t];delete this.values_[t],Da(this[n(217)])&&(this[n(217)]=null),!e&&this[n(209)](t,r)}}}const Gr=VA;(function(i,t){const e=VA,n=i();for(;;)try{if(-parseInt(e(199))/1*(parseInt(e(188))/2)+-parseInt(e(177))/3+parseInt(e(181))/4*(parseInt(e(189))/5)+parseInt(e(190))/6*(parseInt(e(193))/7)+parseInt(e(200))/8+-parseInt(e(178))/9*(parseInt(e(195))/10)+-parseInt(e(191))/11*(-parseInt(e(186))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(GA,833801);function GA(){const i=["join","length","1XZiRLx","4275976jrdiKu","1.2em","ol-control","families",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`,"4763586EBmhOC","103851ajDiJS","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","4rwKRcE","normal","size","weight","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","520092qDhXOM","variant","805982zzjRQB","5704670kYtOBk","6bJrVWY","484AMVyRr","family","1157373RKfBav","split","800VBgSUm","match"];return GA=function(){return i},GA()}const zA="ol-hidden";function VA(i,t){const e=GA();return VA=function(n,r){return n=n-173,e[n]},VA(i,t)}const HA="ol-unselectable",II=Gr(174),Q3="ol-collapsed",YT=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)",Gr(179),"(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?",Gr(185),Gr(180),Gr(176)][Gr(197)](""),"i"),L3=["style",Gr(187),Gr(184),Gr(183),"lineHeight",Gr(192)],F3=function(i){const t=Gr,e=i[t(196)](YT);if(!e)return null;const n={lineHeight:t(182),size:t(173),style:"normal",weight:t(182),variant:t(182)};for(let r=0,s=L3[t(198)];r<s;++r){const a=e[r+1];a!==void 0&&(n[L3[r]]=a)}return n[t(175)]=n[t(192)][t(194)](/,\s?/),n},zr=Yx;(function(i,t){const e=Yx,n=i();for(;;)try{if(parseInt(e(189))/1*(parseInt(e(180))/2)+parseInt(e(167))/3*(parseInt(e(154))/4)+-parseInt(e(192))/5+-parseInt(e(196))/6*(parseInt(e(179))/7)+parseInt(e(144))/8+parseInt(e(186))/9+parseInt(e(175))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(WA,847702);const k3="10px sans-serif",Fi=zr(169),cc="round",Xs=[],Ks=0,lc=zr(197),zx=10,Vx=zr(169),Hx=zr(190),qA=zr(145),Wo=[0,0,0,0],qx=1,gs=new ps;let xc=null,EI;function Yx(i,t){const e=WA();return Yx=function(n,r){return n=n-142,e[n]},Yx(i,t)}const yI={},P3=function(){const i=zr,t=100,e=i(143),n=["monospace",i(148)],r=n.length,s=i(162);let a,o;function l(x,u,f){let h=!0;for(let A=0;A<r;++A){const p=n[A];if(o=YA(x+" "+u+" "+e+p,s),f!=p){const d=YA(x+" "+u+" "+e+f+","+p,s);h=h&&d!=o}}return!!h}function c(){const x=i;let u=!0;const f=gs[x(185)]();for(let h=0,A=f.length;h<A;++h){const p=f[h];if(gs[x(171)](p)<t){const[d,g,m]=p[x(155)](`
`);l(d,g,m)?(Ex(yI),xc=null,EI=void 0,gs[x(191)](p,t)):(gs[x(191)](p,gs[x(171)](p)+1,!0),u=!1)}}u&&(clearInterval(a),a=void 0)}return function(x){const u=i,f=F3(x);if(!f)return;const h=f.families;for(let A=0,p=h.length;A<p;++A){const d=h[A],g=f.style+`
`+f[u(177)]+`
`+d;gs[u(171)](g)===void 0&&(gs[u(191)](g,t,!0),!l(f[u(194)],f[u(177)],d)&&(gs[u(191)](g,0,!0),a===void 0&&(a=setInterval(c,32))))}}}(),WT=function(){let i;return function(t){const e=Yx;let n=yI[t];if(n==null){if(AI){const r=F3(t),s=U3(t,"g");n=(isNaN(Number(r[e(160)]))?1.2:Number(r[e(160)]))*(s[e(147)]+s.actualBoundingBoxDescent)}else!i&&(i=document[e(152)](e(166)),i[e(193)]="M",i[e(194)][e(153)]="0",i[e(194)][e(161)]=e(181),i.style[e(163)]=e(182),i[e(194)][e(183)]="0",i[e(194)].border=e(181),i[e(194)][e(172)]=e(165),i[e(194)].display="block",i[e(194)].left=e(156)),i[e(194)].font=t,document.body[e(178)](i),n=i[e(188)],document[e(164)][e(176)](i);yI[t]=n}return n}}();function U3(i,t){const e=zr;return!xc&&(xc=ln(1,1)),i!=EI&&(xc[e(158)]=i,EI=xc[e(158)]),xc[e(157)](t)}function YA(i,t){return U3(i,t).width}function N3(i,t,e){const n=zr;if(t in e)return e[t];const r=t.split(`
`)[n(159)]((s,a)=>Math[n(168)](s,YA(i,a)),0);return e[t]=r,r}function WA(){const i=["4404675VEAcUV","innerHTML","style","save","6KGHoKV","round","push","32px ","665720zCnQiA","middle","scale","actualBoundingBoxAscent","serif","globalAlpha","translate","contextInstructions","createElement","minHeight","143692PVfhEt","split","-99999px","measureText","font","reduce","lineHeight","maxHeight","wmytzilWMYTZIL@#/&?$%10","height","body","absolute","div","6WVNgXW","max","#000","rotate","get","position","restore","drawImage","2275390dWUrIK","removeChild","weight","appendChild","3844498FmbnND","10PENPie","none","auto","padding","length","getKeys","6772239tGoYsG","transform","offsetHeight","228556LVGkBB","center","set"];return WA=function(){return i},WA()}function XT(i,t){const e=zr,n=[],r=[],s=[];let a=0,o=0,l=0,c=0;for(let x=0,u=t[e(184)];x<=u;x+=2){const f=t[x];if(f===`
`||x===u){a=Math[e(168)](a,o),s[e(142)](o),o=0,l+=c,c=0;continue}const h=t[x+1]||i[e(158)],A=YA(h,f);n.push(A),o+=A;const p=WT(h);r[e(142)](p),c=Math[e(168)](c,p)}return{width:a,height:l,widths:n,heights:r,lineWidths:s}}function KT(i,t,e,n,r,s,a,o,l,c,x){const u=zr;i[u(195)](),e!==1&&(i.globalAlpha===void 0?i[u(149)]=f=>f.globalAlpha*=e:i[u(149)]*=e),t&&i[u(187)].apply(i,t),n[u(151)]?(i[u(150)](l,c),i[u(146)](x[0],x[1]),JT(n,i)):x[0]<0||x[1]<0?(i[u(150)](l,c),i.scale(x[0],x[1]),i[u(174)](n,r,s,a,o,0,0,a,o)):i.drawImage(n,r,s,a,o,l,c,a*x[0],o*x[1]),i[u(173)]()}function JT(i,t){const e=zr,n=i[e(151)];for(let r=0,s=n[e(184)];r<s;r+=2)Array.isArray(n[r+1])?t[n[r]].apply(t,n[r+1]):t[n[r]]=n[r+1]}const dt=uc;(function(i,t){const e=uc,n=i();for(;;)try{if(parseInt(e(193))/1*(-parseInt(e(213))/2)+-parseInt(e(172))/3*(-parseInt(e(147))/4)+-parseInt(e(202))/5*(parseInt(e(148))/6)+parseInt(e(209))/7+-parseInt(e(152))/8*(-parseInt(e(190))/9)+-parseInt(e(224))/10*(-parseInt(e(203))/11)+parseInt(e(171))/12*(-parseInt(e(161))/13)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(XA,672197);function uc(i,t){const e=XA();return uc=function(n,r){return n=n-146,e[n]},uc(i,t)}function XA(){const i=["declutterMode","sin","stroke","ready","getRotateWithView","hitDetectionCanvas_","rotateWithView","closePath","calculateLineJoinSize_","canvas","4HSBtqe","82254XLYoDp","clone","fill","getImageSize","78520ViICcE","lineJoin","setFill","getRotation","getRadius","lineWidth","LOADED","cos","setLineDash","13tKCJnX","string","length","miter","createHitDetectionCanvas_","getOrigin","points","size","stroke_","lineDashOffset","997248tkdeQm","858183XevWNx","LOADING","getSize","angle_","getImage","createPath_","fillStyle","getWidth","points_","bevel","strokeStyle","getRadius2","getFill","getMiterLimit","draw_","getHitDetectionImage","setStroke","setOpacity","1098gWLVsr","fill_","getScaleArray","1337299FbxikJ","load","getLineCap","render","imageState_","drawHitDetectionCanvas_","getDisplacement","angle","arc","300cemPFh","22uqhDGG","getPoints","max","translate","getColor","lineTo","4010573PAyfeA","getStroke","slice","listenImageChange","2eSUNfU","lineCap","createRenderOptions","renderOptions_","lineDash","displacement","radius2_","miterLimit","getImageState","then","sqrt","4293550NXTZnx","getLineDashOffset","size_","radius","strokeWidth","getAnchor","scale","isArray","getAngle","origin_","canvases_","resolve"];return XA=function(){return i},XA()}class fc extends Bx{constructor(t){const e=uc;super({opacity:1,rotateWithView:t[e(242)]!==void 0?t[e(242)]:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t[e(230)]:1,displacement:t[e(218)]!==void 0?t[e(218)]:[0,0],declutterMode:t[e(236)]}),this[e(234)],this[e(241)]=null,this[e(191)]=t.fill!==void 0?t[e(150)]:null,this.origin_=[0,0],this.points_=t[e(167)],this[e(227)]=t[e(227)],this[e(219)]=t.radius2,this[e(175)]=t[e(200)]!==void 0?t[e(200)]:0,this.stroke_=t[e(238)]!==void 0?t[e(238)]:null,this.size_,this[e(216)],this[e(197)]=this[e(191)]&&this.fill_.loading()?ke[e(173)]:ke[e(158)],this[e(197)]===ke[e(173)]&&this[e(239)]()[e(222)](()=>this[e(197)]=ke[e(158)]),this[e(196)]()}clone(){const t=uc,e=this.getScale(),n=new fc({fill:this[t(184)]()?this[t(184)]()[t(149)]():void 0,points:this[t(204)](),radius:this[t(156)](),radius2:this[t(183)](),angle:this[t(232)](),stroke:this[t(210)]()?this[t(210)]()[t(149)]():void 0,rotation:this[t(155)](),rotateWithView:this[t(240)](),scale:Array[t(231)](e)?e.slice():e,displacement:this[t(199)]()[t(211)](),declutterMode:this.getDeclutterMode()});return n[t(189)](this.getOpacity()),n}[dt(229)](){const t=dt,e=this.size_,n=this[t(199)](),r=this[t(192)]();return[e[0]/2-n[0]/r[0],e[1]/2+n[1]/r[1]]}[dt(232)](){return this.angle_}getFill(){return this[dt(191)]}[dt(154)](t){const e=dt;this[e(191)]=t,this[e(196)]()}[dt(187)](){const t=dt;return!this[t(241)]&&(this.hitDetectionCanvas_=this[t(165)](this[t(216)])),this[t(241)]}getImage(t){const e=dt;let n=this[e(234)][t];if(!n){const r=this.renderOptions_,s=ln(r[e(168)]*t,r.size*t);this[e(186)](r,s,t),n=s.canvas,this[e(234)][t]=n}return n}getPixelRatio(t){return t}[dt(151)](){return this[dt(226)]}[dt(221)](){return this[dt(197)]}[dt(166)](){return this[dt(233)]}getPoints(){return this.points_}[dt(156)](){return this[dt(227)]}[dt(183)](){return this.radius2_}[dt(174)](){return this[dt(226)]}[dt(210)](){return this.stroke_}[dt(188)](t){const e=dt;this[e(169)]=t,this[e(196)]()}[dt(212)](t){}[dt(194)](){}unlistenImageChange(t){}[dt(244)](t,e,n){const r=dt;if(e===0||this.points_===1/0||t!==r(181)&&t!==r(164))return e;let s=this[r(227)],a=this[r(219)]===void 0?s:this[r(219)];if(s<a){const b=s;s=a,a=b}const o=this.radius2_===void 0?this[r(180)]:this[r(180)]*2,l=2*Math.PI/o,c=a*Math[r(237)](l),x=Math[r(223)](a*a-c*c),u=s-x,f=Math.sqrt(c*c+u*u),h=f/c;if(t===r(164)&&h<=n)return h*e;const A=e/2/h,p=e/2*(u/f),d=Math[r(223)]((s+A)*(s+A)+p*p),g=d-s;if(this[r(219)]===void 0||t===r(181))return g*2;const m=s*Math[r(237)](l),_=Math[r(223)](s*s-m*m),I=a-_,y=Math[r(223)](m*m+I*I),E=y/m;if(E<=n){const b=E*e/2-a-s;return 2*Math.max(g,b)}return g*2}createRenderOptions(){const t=dt;let e=cc,n=lc,r=0,s=null,a=0,o,l=0;this[t(169)]&&(o=ds(this[t(169)][t(207)]()??Vx),l=this[t(169)][t(179)]()??qx,s=this[t(169)].getLineDash(),a=this[t(169)][t(225)]()??0,n=this[t(169)].getLineJoin()??lc,e=this.stroke_[t(195)]()??cc,r=this[t(169)][t(185)]()??zx);const c=this[t(244)](n,l,r),x=Math[t(205)](this[t(227)],this[t(219)]||0),u=Math.ceil(2*x+c);return{strokeStyle:o,strokeWidth:l,size:u,lineCap:e,lineDash:s,lineDashOffset:a,lineJoin:n,miterLimit:r}}[dt(196)](){const t=dt;this[t(216)]=this[t(215)]();const e=this[t(216)][t(168)];this[t(234)]={},this[t(241)]=null,this.size_=[e,e]}[dt(186)](t,e,n){const r=dt;if(e.scale(n,n),e[r(206)](t[r(168)]/2,t[r(168)]/2),this[r(177)](e),this[r(191)]){let s=this.fill_.getColor();s===null&&(s=Fi),e.fillStyle=ds(s),e.fill()}t[r(182)]&&(e.strokeStyle=t[r(182)],e[r(157)]=t[r(228)],t.lineDash&&(e.setLineDash(t[r(217)]),e[r(170)]=t.lineDashOffset),e[r(214)]=t[r(214)],e[r(153)]=t[r(153)],e[r(220)]=t[r(220)],e.stroke())}createHitDetectionCanvas_(t){const e=dt;let n;if(this.fill_){let r=this[e(191)][e(207)](),s=0;typeof r===e(162)&&(r=Rx(r)),r===null?s=1:Array[e(231)](r)&&(s=r[e(163)]===4?r[3]:1),s===0&&(n=ln(t.size,t[e(168)]),this[e(198)](t,n))}return n?n[e(146)]:this[e(176)](1)}[dt(177)](t){const e=dt;let n=this[e(180)];const r=this[e(227)];if(n===1/0)t[e(201)](0,0,r,0,2*Math.PI);else{const s=this[e(219)]===void 0?r:this[e(219)];this[e(219)]!==void 0&&(n*=2);const a=this[e(175)]-Math.PI/2,o=2*Math.PI/n;for(let l=0;l<n;l++){const c=a+l*o,x=l%2===0?r:s;t[e(208)](x*Math[e(159)](c),x*Math.sin(c))}t[e(243)]()}}drawHitDetectionCanvas_(t,e){const n=dt;e[n(206)](t[n(168)]/2,t.size/2),this.createPath_(e),e[n(178)]=Fi,e.fill(),t[n(182)]&&(e.strokeStyle=t[n(182)],e.lineWidth=t.strokeWidth,t[n(217)]&&(e[n(160)](t[n(217)]),e[n(170)]=t[n(170)]),e[n(153)]=t[n(153)],e[n(220)]=t[n(220)],e[n(238)]())}ready(){const t=dt;return this.fill_?this[t(191)][t(239)]():Promise[t(235)]()}}var ms=class extends fc{constructor(t){t=t||{};var e=0;t.stroke&&(e=t.stroke.getWidth()),t.displacement||(t.displacement=[t.offsetX||0,-t.offsetY||0]),super({radius:t.radius,fill:t.fill,rotation:t.rotation,displacement:t.displacement,rotateWithView:t.rotateWithView,declutterMode:t.declutterMode}),typeof t.opacity=="number"&&this.setOpacity(t.opacity),this._color=t.color,this._fontSize=t.fontSize||1,this._fontStyle=t.fontStyle||"",this._stroke=t.stroke,this._fill=t.fill,this._radius=t.radius-e,this._form=t.form||"none",this._gradient=t.gradient,this._offset=[t.offsetX?t.offsetX:0,t.offsetY?t.offsetY:0],t.glyph?this._glyph=this.getGlyph(t.glyph):this._glyph=this.getTextGlyph(t.text||"",t.font),this.getDisplacement||this.getImage()}static addDefs(t,e){var n=t;if(typeof t=="string"&&(n={font:t,name:t,copyright:""}),!(!n.font||typeof n.font!="string")){var r=n.font;ms.defs.fonts[r]=n;for(var s in e){var a=e[s];typeof a=="string"&&(a.length==1||a.length==2)&&(a={char:a}),ms.defs.glyphs[s]={font:n.font,char:a.char||""+String.fromCharCode(a.code)||"",theme:a.theme||n.name,name:a.name||s,search:a.search||""}}}}clone(){var t=new ms({text:this._glyph.char,font:this._glyph.font,color:this._color,fontSize:this._fontSize,fontStyle:this._fontStyle,stroke:this._stroke,fill:this._fill,radius:this._radius+(this._stroke?this._stroke.getWidth():0),form:this._form,gradient:this._gradient,offsetX:this._offset[0],offsetY:this._offset[1],opacity:this.getOpacity(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),declutterMode:this.getDeclutterMode?this.getDeclutterMode():null});return t.setScale(this.getScale()),t}getFill(){return this._fill}getStroke(){return this._stroke}getGlyph(t){return t?ms.defs.glyphs[t]||{font:"sans-serif",char:t.charAt(0),theme:"none",name:"none",search:""}:this._glyph}getTextGlyph(t,e){return{font:e||"sans-serif",char:String(t),theme:"none",name:"none",search:""}}getGlyphName(){for(var t in ms.defs.glyphs)if(ms.defs.glyphs[t]===this._glyph)return t;return""}getFontInfo(t){return ms.defs.fonts[t.font]}getImage(t){t=t||1;var e=super.getImage(t),n,r=0;this._stroke&&(n=Ws(this._stroke.getColor()),r=this._stroke.getWidth());var s={strokeStyle:n,strokeWidth:r,size:e.width/t},a=e.getContext("2d");if(a.clearRect(0,0,e.width,e.height),this.drawMarker_(s,a,0,0,t),!this.getDisplacement){var o=this.getAnchor();o[0]=e.width/2-this._offset[0],o[1]=e.width/2-this._offset[1]}return e}drawPath_(t,e){var n=2*this._radius+t.strokeWidth,r=t.strokeWidth/2,s=t.size/2,a={fac:1,posX:t.size/2,posY:t.size/2};switch(e.lineJoin="round",e.lineCap="round",e.beginPath(),this._form){case"none":{a.fac=1;break}case"circle":case"ban":{e.arc(s,s,n/2,0,2*Math.PI,!0);break}case"poi":{e.arc(s,s-.4*this._radius,.6*this._radius,.15*Math.PI,.85*Math.PI,!0),e.lineTo(s-.89*.05*n,(.95+.45*.05)*n+r),e.arc(s,.95*n+r,.05*n,.85*Math.PI,.15*Math.PI,!0),a={fac:.45,posX:s,posY:s-.35*this._radius};break}case"bubble":{e.arc(s,s-.2*this._radius,.8*this._radius,.4*Math.PI,.6*Math.PI,!0),e.lineTo(.5*n+r,n+r),a={fac:.7,posX:s,posY:s-.2*this._radius};break}case"marker":{e.arc(s,s-.2*this._radius,.8*this._radius,.25*Math.PI,.75*Math.PI,!0),e.lineTo(.5*n+r,n+r),a={fac:.7,posX:s,posY:s-.2*this._radius};break}case"coma":{e.moveTo(s+.8*this._radius,s-.2*this._radius),e.quadraticCurveTo(.95*n+r,.75*n+r,.5*n+r,n+r),e.arc(s,s-.2*this._radius,.8*this._radius,.45*Math.PI,0,!1),a={fac:.7,posX:s,posY:s-.2*this._radius};break}default:{var o;switch(this._form){case"shield":{o=[.05,0,.95,0,.95,.8,.5,1,.05,.8,.05,0],a.posY=.45*n+r;break}case"blazon":{o=[.1,0,.9,0,.9,.8,.6,.8,.5,1,.4,.8,.1,.8,.1,0],a.fac=.8,a.posY=.4*n+r;break}case"bookmark":{o=[.05,0,.95,0,.95,1,.5,.8,.05,1,.05,0],a.fac=.9,a.posY=.4*n+r;break}case"hexagon":{o=[.05,.2,.5,0,.95,.2,.95,.8,.5,1,.05,.8,.05,.2],a.fac=.9,a.posY=.5*n+r;break}case"diamond":{o=[.25,0,.75,0,1,.2,1,.4,.5,1,0,.4,0,.2,.25,0],a.fac=.75,a.posY=.35*n+r;break}case"triangle":{o=[0,0,1,0,.5,1,0,0],a.fac=.6,a.posY=.3*n+r;break}case"sign":{o=[.5,.05,1,.95,0,.95,.5,.05],a.fac=.7,a.posY=.65*n+r;break}case"lozenge":{o=[.5,0,1,.5,.5,1,0,.5,.5,0],a.fac=.7;break}case"square":default:{o=[0,0,1,0,1,1,0,1,0,0];break}}for(var l=0;l<o.length;l+=2)e.lineTo(o[l]*n+r,o[l+1]*n+r)}}return e.closePath(),a}drawMarker_(t,e,n,r,s){var a=this._fill?this._fill.getColor():"#000",o=this._stroke?this._stroke.getColor():"#000";this._form=="none"&&this._stroke&&this._fill&&(o=this._fill.getColor(),a=this._stroke.getColor()),e.setTransform(s,0,0,s,0,0),e.translate(n,r);var l=this.drawPath_(t,e,s);if(this._fill){if(this._gradient&&this._form!="none"){var c=e.createLinearGradient(0,0,t.size/2,t.size);c.addColorStop(1,Ws(a)),c.addColorStop(0,Ws(o)),e.fillStyle=c}else e.fillStyle=Ws(a);e.fill()}if(this._stroke&&t.strokeWidth&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.stroke()),this._glyph.char){e.font=this._fontStyle+" "+2*l.fac*this._radius*this._fontSize+"px "+this._glyph.font,e.strokeStyle=e.fillStyle,e.lineWidth=t.strokeWidth*(this._form=="none"?2:1),e.fillStyle=Ws(this._color||o),e.textAlign="center",e.textBaseline="middle";var x=this._glyph.char;t.strokeWidth&&o!="transparent"&&e.strokeText(x,l.posX,l.posY),e.fillText(x,l.posX,l.posY)}if(this._form=="ban"&&this._stroke&&t.strokeWidth){e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth;var u=this._radius+t.strokeWidth,f=this._radius*Math.cos(Math.PI/4);e.moveTo(u+f,u-f),e.lineTo(u-f,u+f),e.stroke()}}getChecksum(){var t=this._stroke!==null?this._stroke.getChecksum():"-",e=this._fill!==null?this._fill.getChecksum():"-",n=this.checksums_===null||t!=this.checksums_[1]||e!=this.checksums_[2]||this._radius!=this.checksums_[3]||this._form+"-"+this.glyphs_!=this.checksums_[4];if(n){var r="c"+t+e+(this._radius!==void 0?this._radius.toString():"-")+this._form+"-"+this.glyphs_;this.checksums_=[r,t,e,this._radius,this._form+"-"+this.glyphs_]}return this.checksums_[0]}};ms.defs={fonts:{},glyphs:{}};function jT(){const i=bT;let t={},e=i.font_family,n=i.css_prefix_text,r=i.glyphs;for(let a=0;a<r.length;a++){let o=r[a];t[n+o.font_class]={font:e,code:o.unicode_decimal,name:o.name,search:n+o.font_class}}let s={font:{font:e,copyright:""},glyphs:t};return ms.addDefs(s.font,s.glyphs),s}const hc=Wx;(function(i,t){const e=Wx,n=i();for(;;)try{if(-parseInt(e(323))/1+parseInt(e(338))/2*(parseInt(e(336))/3)+parseInt(e(315))/4*(-parseInt(e(318))/5)+-parseInt(e(329))/6*(parseInt(e(324))/7)+parseInt(e(314))/8+parseInt(e(319))/9*(-parseInt(e(320))/10)+-parseInt(e(327))/11*(-parseInt(e(337))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(KA,160029);function Wx(i,t){const e=KA();return Wx=function(n,r){return n=n-314,e[n]},Wx(i,t)}function KA(){const i=["canvas_","32520BlbVKm","LOADED","changed","LOADING","error_","getError","bind","530709wEjfGE","3023280jjhcPf","2HucKUW","2143528QdpqtS","9692jAOOfl","loader_","ERROR","505VKYjPG","144zkqgPP","31570kOcTJx","load","IDLE","154800GvlKyc","112njZqwC","handleLoad_","state","11SpnKMR"];return KA=function(){return i},KA()}class O3 extends gI{constructor(t,e,n,r,s){const a=Wx,o=s!==void 0?ke[a(322)]:ke[a(330)];super(t,e,n,o),this[a(316)]=s!==void 0?s:null,this[a(328)]=r,this[a(333)]=null}[hc(334)](){return this[hc(333)]}handleLoad_(t){const e=hc;t?(this[e(333)]=t,this[e(326)]=ke[e(317)]):this[e(326)]=ke.LOADED,this[e(331)]()}[hc(321)](){const t=hc;this[t(326)]==ke[t(322)]&&(this[t(326)]=ke[t(332)],this[t(331)](),this.loader_(this[t(325)][t(335)](this)))}getImage(){return this[hc(328)]}}const bI=.5;function Mt(i,t){if(!i)throw new Error(t)}(function(i,t){const e=Xx,n=i();for(;;)try{if(parseInt(e(319))/1*(-parseInt(e(312))/2)+parseInt(e(314))/3+-parseInt(e(307))/4*(-parseInt(e(313))/5)+parseInt(e(311))/6+-parseInt(e(318))/7+parseInt(e(316))/8*(-parseInt(e(305))/9)+parseInt(e(309))/10*(parseInt(e(308))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(JA,636464);const G3=new Array(6);function ki(){return[1,0,0,1,0,0]}function z3(i){return vI(i,1,0,0,1,0,0)}function CI(i,t){const e=i[0],n=i[1],r=i[2],s=i[3],a=i[4],o=i[5],l=t[0],c=t[1],x=t[2],u=t[3],f=t[4],h=t[5];return i[0]=e*l+r*c,i[1]=n*l+s*c,i[2]=e*x+r*u,i[3]=n*x+s*u,i[4]=e*f+r*h+a,i[5]=n*f+s*h+o,i}function vI(i,t,e,n,r,s,a){return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i[4]=s,i[5]=a,i}function ZT(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i}function Dn(i,t){const e=t[0],n=t[1];return t[0]=i[0]*e+i[2]*n+i[4],t[1]=i[1]*e+i[3]*n+i[5],t}function wI(i,t,e){return CI(i,vI(G3,t,0,0,e,0,0))}function Xx(i,t){const e=JA();return Xx=function(n,r){return n=n-305,e[n]},Xx(i,t)}function $T(i,t,e){return CI(i,vI(G3,1,0,0,1,t,e))}function _s(i,t,e,n,r,s,a,o){const l=Xx,c=Math[l(310)](s),x=Math[l(320)](s);return i[0]=n*x,i[1]=r*c,i[2]=-n*c,i[3]=r*x,i[4]=a*n*x-o*n*c+t,i[5]=a*r*c+o*r*x+e,i}function V3(i,t){const e=eD(t);Mt(e!==0,"Transformation matrix cannot be inverted");const n=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5];return i[0]=a/e,i[1]=-r/e,i[2]=-s/e,i[3]=n/e,i[4]=(s*l-a*o)/e,i[5]=-(n*l-r*o)/e,i}function eD(i){return i[0]*i[3]-i[1]*i[2]}const H3=[1e6,1e6,1e6,1e6,2,2];function JA(){const i=["1787580JDsRBy","round","3171952MmMKJK","join","5932640tDSzuu","1uZPYMX","cos","map","27LmQRAJ","matrix(","896Zpkzhu","198EtHyuq","387030dcqfXp","sin","4471998hAauoe","415034qdSthn","18820mmLLVj"];return JA=function(){return i},JA()}function tD(i){const t=Xx;return t(306)+i[t(321)]((n,r)=>Math[t(315)](n*H3[r])/H3[r])[t(317)](", ")+")"}const Ac=dc;(function(i,t){const e=dc,n=i();for(;;)try{if(-parseInt(e(208))/1+parseInt(e(186))/2+-parseInt(e(192))/3*(-parseInt(e(204))/4)+parseInt(e(189))/5*(parseInt(e(188))/6)+parseInt(e(202))/7*(-parseInt(e(207))/8)+parseInt(e(193))/9+parseInt(e(191))/10*(-parseInt(e(187))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(jA,913303);function dc(i,t){const e=jA();return dc=function(n,r){return n=n-182,e[n]},dc(i,t)}function jA(){const i=["sourceProj_","targetWorldWidth_","max","min","addTriangle_","isGlobal","canWrapX","abs","triangles_","targetProj_","getTriangles","sourceWorldWidth_","409654CZCWaG","11jXxOAm","1686kywCnt","11435uXiCbd","getExtent","13741460YhOIqh","3LpCgPt","13829337RUTIcb","transformInv_","addQuad_","wrapsXInSource_","forEach","calculateSourceExtent","canWrapXInSource_","push","errorThresholdSquared_","791tKMqLb","maxSourceExtent_","3870668ejevsd","ceil","source","11608oNToYV","900322yuLduQ"];return jA=function(){return i},jA()}const nD=10,q3=.25;class BI{constructor(t,e,n,r,s,a,o){const l=dc;this[l(209)]=t,this.targetProj_=e;let c={};const x=o?pT(I=>Dn(o,sr(I,this[l(183)],this.sourceProj_))):tc(this[l(183)],this[l(209)]);this[l(194)]=function(I){const y=I[0]+"/"+I[1];return!c[y]&&(c[y]=x(I)),c[y]},this[l(203)]=r,this[l(201)]=s*s,this.triangles_=[],this[l(196)]=!1,this[l(199)]=this.sourceProj_[l(215)]()&&!!r&&!!this.sourceProj_.getExtent()&&lt(r)>=lt(this[l(209)][l(190)]()),this[l(185)]=this[l(209)][l(190)]()?lt(this[l(209)][l(190)]()):null,this[l(210)]=this[l(183)].getExtent()?lt(this.targetProj_[l(190)]()):null;const u=Nr(n),f=eA(n),h=Zh(n),A=jh(n),p=this[l(194)](u),d=this.transformInv_(f),g=this[l(194)](h),m=this[l(194)](A),_=nD+(a?Math[l(211)](0,Math[l(205)](Math.log2(bx(n)/(a*a*256*256)))):0);if(this[l(195)](u,f,h,A,p,d,g,m,_),this[l(196)]){let I=1/0;this.triangles_[l(197)](function(y,E,b){const w=l;I=Math[w(212)](I,y[w(206)][0][0],y.source[1][0],y.source[2][0])}),this[l(182)].forEach(y=>{const E=l;if(Math[E(211)](y[E(206)][0][0],y[E(206)][1][0],y[E(206)][2][0])-I>this.sourceWorldWidth_/2){const b=[[y[E(206)][0][0],y[E(206)][0][1]],[y[E(206)][1][0],y[E(206)][1][1]],[y[E(206)][2][0],y[E(206)][2][1]]];b[0][0]-I>this[E(185)]/2&&(b[0][0]-=this[E(185)]),b[1][0]-I>this[E(185)]/2&&(b[1][0]-=this[E(185)]),b[2][0]-I>this[E(185)]/2&&(b[2][0]-=this[E(185)]);const w=Math.min(b[0][0],b[1][0],b[2][0]);Math.max(b[0][0],b[1][0],b[2][0])-w<this[E(185)]/2&&(y[E(206)]=b)}})}c={}}addTriangle_(t,e,n,r,s,a){const o=dc;this.triangles_[o(200)]({source:[r,s,a],target:[t,e,n]})}[Ac(195)](t,e,n,r,s,a,o,l,c){const x=Ac,u=V2([s,a,o,l]),f=this[x(185)]?lt(u)/this[x(185)]:null,h=this[x(185)],A=this[x(209)][x(215)]()&&f>.5&&f<1;let p=!1;if(c>0){if(this[x(183)].isGlobal()&&this[x(210)]){const g=V2([t,e,n,r]);p=lt(g)/this.targetWorldWidth_>q3||p}!A&&this.sourceProj_[x(214)]()&&f&&(p=f>q3||p)}if(!p&&this[x(203)]&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!gn(u,this[x(203)]))return;let d=0;if(!p&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)p=!0;else if(d=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),d!=1&&d!=2&&d!=4&&d!=8)return}if(c>0){if(!p){const g=[(t[0]+n[0])/2,(t[1]+n[1])/2],m=this[x(194)](g);let _;A?_=(ec(s[0],h)+ec(o[0],h))/2-ec(m[0],h):_=(s[0]+o[0])/2-m[0];const I=(s[1]+o[1])/2-m[1];p=_*_+I*I>this[x(201)]}if(p){if(Math[x(216)](t[0]-n[0])<=Math.abs(t[1]-n[1])){const g=[(e[0]+n[0])/2,(e[1]+n[1])/2],m=this[x(194)](g),_=[(r[0]+t[0])/2,(r[1]+t[1])/2],I=this[x(194)](_);this[x(195)](t,e,g,_,s,a,m,I,c-1),this.addQuad_(_,g,n,r,I,m,o,l,c-1)}else{const g=[(t[0]+e[0])/2,(t[1]+e[1])/2],m=this[x(194)](g),_=[(n[0]+r[0])/2,(n[1]+r[1])/2],I=this.transformInv_(_);this[x(195)](t,g,_,r,s,m,I,l,c-1),this[x(195)](g,e,n,_,m,a,o,I,c-1)}return}}if(A){if(!this[x(199)])return;this[x(196)]=!0}!(d&11)&&this[x(213)](t,n,r,s,o,l),!(d&14)&&this[x(213)](t,n,e,s,o,a),d&&(!(d&13)&&this[x(213)](e,r,t,a,l,s),!(d&7)&&this[x(213)](e,r,n,a,l,o))}[Ac(198)](){const t=Ac,e=ir();return this[t(182)][t(197)](function(n,r,s){const a=t,o=n[a(206)];yx(e,o[0]),yx(e,o[1]),yx(e,o[2])}),e}[Ac(184)](){return this[Ac(182)]}}(function(i,t){const e=za,n=i();for(;;)try{if(-parseInt(e(443))/1*(-parseInt(e(438))/2)+-parseInt(e(430))/3*(parseInt(e(407))/4)+parseInt(e(442))/5+-parseInt(e(425))/6+parseInt(e(444))/7+parseInt(e(432))/8*(parseInt(e(437))/9)+-parseInt(e(415))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(ZA,159182);function za(i,t){const e=ZA();return za=function(n,r){return n=n-407,e[n]},za(i,t)}function ZA(){const i=["3QHPjVk","abs","100112vbhJVV","image","scale","max","getExtent","108HmUIfw","5114AYRKlD","forEach","rect","beginPath","1127875lQmuBa","98iNbwUW","364105dtJtxd","closePath","source","target","rgba(210, 0, 0, 0.75)","round","lineTo","imageSmoothingEnabled","black","getImageData","moveTo","pow","550980kGhJsn","push","clipExtent","clip","stroke","height","strokeStyle","getMetersPerUnit","2377360jouSZc","restore","save","translate","canvas","globalCompositeOperation","lighter","extent","getTriangles","drawImage","862086PhtyMM","transform","lineWidth","data","width"];return ZA=function(){return i},ZA()}let SI;const pc=[];function Y3(i,t,e,n,r){const s=za;i.beginPath(),i.moveTo(0,0),i[s(450)](t,e),i[s(450)](n,r),i[s(445)](),i[s(417)](),i[s(410)](),i.fillRect(0,0,Math[s(435)](t,n)+1,Math.max(e,r)),i[s(416)]()}function MI(i,t){const e=za;return Math.abs(i[t*4]-210)>2||Math[e(431)](i[t*4+3]-.75*255)>2}function iD(){const i=za;if(SI===void 0){const t=ln(6,6,pc);t.globalCompositeOperation=i(421),t.fillStyle=i(448),Y3(t,4,5,4,0),Y3(t,4,5,0,5);const e=t[i(453)](0,0,3,3)[i(428)];SI=MI(e,0)||MI(e,4)||MI(e,8),Tx(t),pc[i(408)](t.canvas)}return SI}function RI(i,t,e,n){const r=za,s=sr(e,t,i);let a=eI(t,n,e);const o=t.getMetersPerUnit();o!==void 0&&(a*=o);const l=i[r(414)]();l!==void 0&&(a/=l);const c=i[r(436)]();if(!c||No(c,s)){const x=eI(i,a,s)/a;isFinite(x)&&x>0&&(a/=x)}return a}function W3(i,t,e,n){const r=Er(e);let s=RI(i,t,r,n);return(!isFinite(s)||s<=0)&&x3(e,function(a){return s=RI(i,t,a,n),isFinite(s)&&s>0}),s}function X3(i,t,e,n,r,s,a,o,l,c,x,u,f,h){const A=za,p=ln(Math[A(449)](e*i),Math[A(449)](e*t),pc);if(!u&&(p[A(451)]=!1),l.length===0)return p[A(419)];p[A(434)](e,e);function d(E){return Math[A(449)](E*e)/e}p[A(420)]=A(421);const g=ir();l.forEach(function(E,b,w){W2(g,E[A(422)])});let m;const _=e/n,I=(u?1:1+Math[A(455)](2,-24))/_;if(!f||l.length!==1||c!==0){if(m=ln(Math[A(449)](lt(g)*_),Math[A(449)](rn(g)*_),pc),!u&&(m[A(451)]=!1),r&&h){const E=(r[0]-g[0])*_,b=-(r[3]-g[3])*_,w=lt(r)*_,C=rn(r)*_;m[A(440)](E,b,w,C),m[A(410)]()}l[A(439)](function(E,b,w){const C=A;if(E[C(433)].width>0&&E[C(433)][C(412)]>0){if(E[C(409)]){m[C(417)]();const Q=(E[C(409)][0]-g[0])*_,M=-(E[C(409)][3]-g[3])*_,D=lt(E[C(409)])*_,U=rn(E[C(409)])*_;m.rect(u?Q:Math[C(449)](Q),u?M:Math[C(449)](M),u?D:Math[C(449)](Q+D)-Math[C(449)](Q),u?U:Math[C(449)](M+U)-Math[C(449)](M)),m[C(410)]()}const v=(E[C(422)][0]-g[0])*_,B=-(E[C(422)][3]-g[3])*_,S=lt(E.extent)*_,T=rn(E[C(422)])*_;m[C(424)](E[C(433)],c,c,E.image[C(429)]-2*c,E[C(433)][C(412)]-2*c,u?v:Math[C(449)](v),u?B:Math[C(449)](B),u?S:Math.round(v+S)-Math[C(449)](v),u?T:Math[C(449)](B+T)-Math.round(B)),E[C(409)]&&m[C(416)]()}})}const y=Nr(a);return o[A(423)]()[A(439)](function(E,b,w){const C=A,v=E[C(446)],B=E[C(447)];let S=v[0][0],T=v[0][1],Q=v[1][0],M=v[1][1],D=v[2][0],U=v[2][1];const F=d((B[0][0]-y[0])/s),z=d(-(B[0][1]-y[1])/s),H=d((B[1][0]-y[0])/s),P=d(-(B[1][1]-y[1])/s),Z=d((B[2][0]-y[0])/s),ce=d(-(B[2][1]-y[1])/s),G=S,O=T;S=0,T=0,Q-=G,M-=O,D-=G,U-=O;const j=[[Q,M,0,0,H-F],[D,U,0,0,Z-F],[0,0,Q,M,P-z],[0,0,D,U,ce-z]],J=oT(j);if(!J)return;if(p[C(417)](),p.beginPath(),iD()||!u){p[C(454)](H,P);const he=4,Ee=F-H,ae=z-P;for(let Se=0;Se<he;Se++)p[C(450)](H+d((Se+1)*Ee/he),P+d(Se*ae/(he-1))),Se!=he-1&&p[C(450)](H+d((Se+1)*Ee/he),P+d((Se+1)*ae/(he-1)));p[C(450)](Z,ce)}else p[C(454)](H,P),p[C(450)](F,z),p.lineTo(Z,ce);p[C(410)](),p[C(426)](J[0],J[2],J[1],J[3],F,z),p[C(418)](g[0]-G,g[3]-O);let le;if(m)le=m[C(419)],p[C(434)](I,-I);else{const he=l[0],Ee=he.extent;le=he[C(433)],p[C(434)](lt(Ee)/le[C(429)],-rn(Ee)/le.height)}p[C(424)](le,0,0),p.restore()}),m&&(Tx(m),pc[A(408)](m[A(419)])),x&&(p[A(417)](),p.globalCompositeOperation="source-over",p[A(413)]=A(452),p[A(427)]=1,o[A(423)]()[A(439)](function(E,b,w){const C=A,v=E.target,B=(v[0][0]-y[0])/s,S=-(v[0][1]-y[1])/s,T=(v[1][0]-y[0])/s,Q=-(v[1][1]-y[1])/s,M=(v[2][0]-y[0])/s,D=-(v[2][1]-y[1])/s;p[C(441)](),p[C(454)](T,Q),p[C(450)](B,S),p[C(450)](M,D),p[C(445)](),p[C(411)]()}),p.restore()),p[A(419)]}function $A(i,t){var e=ed();return $A=function(n,r){n=n-471;var s=e[n];return s},$A(i,t)}function ed(){var i=["30792eCYjZS","11347028OjqQkD","21437720YYehTZ","min","2408868UTJYHy","54qxuUsc","5118687MZkVkd","165GzLepk","91736VdgdUh","1LHQFEt","2895614tTYKbE"];return ed=function(){return i},ed()}(function(i,t){for(var e=$A,n=i();;)try{var r=parseInt(e(477))/1*(-parseInt(e(478))/2)+parseInt(e(474))/3+-parseInt(e(479))/4*(parseInt(e(475))/5)+parseInt(e(472))/6+-parseInt(e(480))/7+-parseInt(e(476))/8*(-parseInt(e(473))/9)+parseInt(e(481))/10;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(ed,997436);function TI(i){var t=$A;return Array.isArray(i)?Math[t(471)](...i):i}const Is=Kx;(function(i,t){const e=Kx,n=i();for(;;)try{if(parseInt(e(391))/1*(-parseInt(e(374))/2)+-parseInt(e(378))/3+-parseInt(e(381))/4*(-parseInt(e(398))/5)+-parseInt(e(369))/6+parseInt(e(366))/7+parseInt(e(383))/8+-parseInt(e(375))/9*(-parseInt(e(401))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(td,481443);function td(){const i=["EMPTY","20PdGgJF","getPixelRatio","2003344qIUXTm","IDLE","targetExtent_","calculateSourceExtent","state","ERROR","getProjection","reproject_","5AeZtHi","CHANGE","sourcePixelRatio_","load","canvas_","unlistenSource_","sourceListenerKey_","283575jCcRmW","getExtent","interpolate_","10Rcyyby","triangulation_","slice","changed","637287uuTYKv","getState","sourceImage_","4542660gcfNes","targetResolution_","targetProj_","maxSourceExtent_","LOADED","93400LKuNqg","15538689FRLeAJ","canWrapX","disposeInternal","2638506CFvrlO","LOADING"];return td=function(){return i},td()}function Kx(i,t){const e=td();return Kx=function(n,r){return n=n-363,e[n]},Kx(i,t)}class rD extends gI{constructor(t,e,n,r,s,a,o){const l=Kx;let c=t.getExtent();c&&t[l(376)]()&&(c=c[l(364)](),c[0]=-1/0,c[2]=1/0);let x=e[l(399)]();x&&e[l(376)]()&&(x=x[l(364)](),x[0]=-1/0,x[2]=1/0);const u=x?Ei(n,x):n,f=Er(u),h=RI(t,e,f,r),A=bI,p=new BI(t,e,u,c,h*A,r),d=p[l(386)](),g=Oo(d)?null:a(d,h,s),m=g?ke[l(384)]:ke[l(380)],_=g?g[l(382)]():1;super(n,r,_,m),this[l(371)]=e,this.maxSourceExtent_=c,this[l(363)]=p,this[l(370)]=r,this.targetExtent_=n,this[l(368)]=g,this.sourcePixelRatio_=_,this[l(400)]=o,this[l(395)]=null,this[l(397)]=null}[Is(377)](){const t=Is;this[t(387)]==ke[t(379)]&&this[t(396)](),super[t(377)]()}getImage(){return this[Is(395)]}[Is(389)](){return this[Is(371)]}reproject_(){const t=Is,e=this[t(368)][t(367)]();if(e==ke[t(373)]){const n=lt(this.targetExtent_)/this[t(370)],r=rn(this[t(385)])/this[t(370)];this[t(395)]=X3(n,r,this[t(393)],TI(this[t(368)].getResolution()),this[t(372)],this[t(370)],this[t(385)],this[t(363)],[{extent:this[t(368)][t(399)](),image:this[t(368)].getImage()}],0,void 0,this[t(400)],!0)}this.state=e,this[t(365)]()}[Is(394)](){const t=Is;if(this.state==ke[t(384)]){this[t(387)]=ke[t(379)],this.changed();const e=this.sourceImage_[t(367)]();e==ke[t(373)]||e==ke[t(388)]?this.reproject_():(this[t(397)]=yt(this[t(368)],Ye[t(392)],n=>{const r=t,s=this[r(368)][r(367)]();(s==ke[r(373)]||s==ke[r(388)])&&(this[r(396)](),this[r(390)]())}),this[t(368)][t(394)]())}}[Is(396)](){const t=Is;Xt(this[t(397)]),this[t(397)]=null}}function Jx(i,t){const e=nd();return Jx=function(n,r){return n=n-476,e[n]},Jx(i,t)}const Wn=Jx;(function(i,t){const e=Jx,n=i();for(;;)try{if(-parseInt(e(488))/1+-parseInt(e(505))/2+parseInt(e(487))/3+-parseInt(e(506))/4*(parseInt(e(478))/5)+parseInt(e(485))/6*(-parseInt(e(476))/7)+-parseInt(e(492))/8*(parseInt(e(508))/9)+parseInt(e(510))/10*(parseInt(e(479))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(nd,118243);function nd(){const i=["534tnmvUt","changed","7290NoVjeK","10694qiCZfw","refresh","state","viewPromise_","48qyIWHZ","projection","getInterpolate","setState","viewResolver","getProjection","getResolutions","isArray","attributions","attributions_","wrapX","setAttributions","loading","205250DuLAjj","381188shCoya","getWrapX","48879xHZVPQ","wrapX_","5608030fomXzB","attributionsCollapsible","ready","viewRejector","getState","getView","8533InFdKN","attributionsCollapsible_","10lUJFmy","11RKgQES","interpolate_","getAttributionsCollapsible","getAttributions","interpolate","function"];return nd=function(){return i},nd()}let gc=class extends ps{constructor(t){const e=Jx;super(),this[e(493)]=Wt(t[e(493)]),this[e(501)]=K3(t[e(500)]),this[e(477)]=t[e(511)]??!0,this[e(504)]=!1,this.state_=t[e(490)]!==void 0?t.state:e(512),this[e(509)]=t[e(502)]!==void 0?t[e(502)]:!1,this[e(480)]=!!t[e(483)],this[e(496)]=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,s){const a=e;n[a(496)]=r,n[a(513)]=s})}[Wn(482)](){return this[Wn(501)]}[Wn(481)](){return this[Wn(477)]}[Wn(497)](){return this.projection}[Wn(498)](t){return null}[Wn(515)](){return this[Wn(491)]}[Wn(514)](){return this.state_}[Wn(507)](){return this[Wn(509)]}[Wn(494)](){return this.interpolate_}[Wn(489)](){this[Wn(486)]()}[Wn(503)](t){const e=Wn;this[e(501)]=K3(t),this.changed()}[Wn(495)](t){this.state_=t,this.changed()}};function K3(i){const t=Wn;return i?typeof i===t(484)?i:(!Array[t(499)](i)&&(i=[i]),e=>i):null}function id(){const i=["905707RJFcoG","4bmXjLP","1250385InIDCc","184iaiGmw","53072rcHubZ","100GGVmoK","1.3.0","1835855nNfZOC","837905fsqHko","1206762ocEESN","72108ptjouu","13YwgSkg"];return id=function(){return i},id()}const sD=rd;(function(i,t){const e=rd,n=i();for(;;)try{if(-parseInt(e(202))/1*(-parseInt(e(195))/2)+parseInt(e(193))/3+-parseInt(e(192))/4*(-parseInt(e(199))/5)+parseInt(e(200))/6+-parseInt(e(198))/7+parseInt(e(194))/8*(parseInt(e(201))/9)+-parseInt(e(196))/10*(parseInt(e(203))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(id,229112),sD(197);function rd(i,t){const e=id();return rd=function(n,r){return n=n-192,e[n]},rd(i,t)}const sd=4,Pi=ad;(function(i,t){const e=ad,n=i();for(;;)try{if(parseInt(e(379))/1*(parseInt(e(358))/2)+parseInt(e(365))/3*(-parseInt(e(357))/4)+parseInt(e(353))/5+-parseInt(e(349))/6+parseInt(e(347))/7*(parseInt(e(369))/8)+-parseInt(e(387))/9*(parseInt(e(346))/10)+parseInt(e(382))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(od,146025);function ad(i,t){const e=od();return ad=function(n,r){return n=n-341,e[n]},ad(i,t)}const DI={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:Pi(363)};function od(){const i=["attributions","resolutions_","static_","getProjection","reprojectedImage_","3dUPJHm","wantedExtent_","loading","2009887TbcZVV","handleImageChange","hasListener","getState","reprojectedRevision_","72pgaBVI","once","interpolate","LOADED","wantedResolution_","resolutions","345890gSAzQI","1351CqUCEh","wantedProjection_","234372TvLElH","CHANGE","getInterpolate","length","842780axLpka","projection","getImageInternal","target","41024zQsHFh","105426jrkCjP","findNearestResolution","getResolution","getImage","bind","imageloaderror","loader","15AUzzYK","addEventListener","dispose","LOADING","152mOGDIr","image","getRevision","getResolutions","IMAGELOADSTART"];return od=function(){return i},od()}class aD extends yr{constructor(t,e){const n=Pi;super(t),this[n(370)]=e}}class QI extends gc{constructor(t){const e=Pi;super({attributions:t[e(374)],projection:t[e(354)],state:t.state,interpolate:t.interpolate!==void 0?t[e(342)]:!0}),this.on,this[e(341)],this.un,this[e(364)]=t.loader||null,this[e(375)]=t[e(345)]!==void 0?t[e(345)]:null,this.reprojectedImage_=null,this[e(386)]=0,this[e(370)]=null,this[e(380)],this[e(344)],this.static_=t[e(364)]?t[e(364)][e(352)]===0:!1,this.wantedProjection_=null}[Pi(372)](){return this[Pi(375)]}setResolutions(t){const e=Pi;this[e(375)]=t}[Pi(359)](t){const e=Pi,n=this[e(372)]();if(n){const r=CA(n,t,0);t=n[r]}return t}[Pi(361)](t,e,n,r){const s=Pi,a=this[s(377)]();if(!a||!r||Vo(a,r))return a&&(r=a),this[s(355)](t,e,n,r);if(this[s(378)]){if(this.reprojectedRevision_==this[s(371)]()&&Vo(this[s(378)][s(377)](),r)&&this[s(378)][s(360)]()==e&&qs(this[s(378)].getExtent(),t))return this[s(378)];this[s(378)][s(367)](),this[s(378)]=null}return this[s(378)]=new rD(a,r,t,e,n,(o,l,c)=>this.getImageInternal(o,l,c,a),this[s(351)]()),this[s(386)]=this[s(371)](),this[s(378)]}[Pi(355)](t,e,n,r){const s=Pi;if(this[s(364)]){const a=oD(t,e,n,1),o=this[s(359)](e);if(this[s(370)]&&(this[s(376)]||this[s(348)]===r&&(this.wantedExtent_&&Ur(this.wantedExtent_,a)||Ur(this[s(370)].getExtent(),a))&&(this[s(344)]&&TI(this[s(344)])===o||TI(this[s(370)].getResolution())===o)))return this.image;this.wantedProjection_=r,this[s(380)]=a,this[s(344)]=o,this[s(370)]=new gI(a,o,n,this[s(364)]),this[s(370)][s(366)](Ye[s(350)],this[s(383)][s(362)](this))}return this[s(370)]}[Pi(383)](t){const e=Pi,n=t[e(356)];let r;switch(n[e(385)]()){case ke[e(368)]:this.loading=!0,r=DI[e(373)];break;case ke[e(343)]:this[e(381)]=!1,r=DI.IMAGELOADEND;break;case ke.ERROR:this.loading=!1,r=DI.IMAGELOADERROR;break;default:return}this[e(384)](r)&&this.dispatchEvent(new aD(r,n))}}function oD(i,t,e,n){const r=t/e,s=Er(i),a=Fa(lt(i)/r,sd),o=Fa(rn(i)/r,sd),l=Fa((n-1)*a/2,sd),c=a+2*l,x=Fa((n-1)*o/2,sd),u=o+2*x;return $h(s,r,0,[c,u])}const J3=jx;function cd(){const i=["call","canvasFunction","attributions","interpolate","projection","getResolution","resolutions","524151CyhRqZ","renderedRevision_","canvas_","2558214NumqWr","getPixelRatio","ratio_","getImageInternal","530754PHUJZO","104Tsctlp","3195360ODoHrt","1838424ImLILj","getRevision","ratio","707483ccHCmo","23691liDHgj","60LVLUqI","canvasFunction_"];return cd=function(){return i},cd()}function jx(i,t){const e=cd();return jx=function(n,r){return n=n-244,e[n]},jx(i,t)}(function(i,t){const e=jx,n=i();for(;;)try{if(parseInt(e(255))/1+-parseInt(e(249))/2+-parseInt(e(256))/3*(parseInt(e(257))/4)+parseInt(e(251))/5+parseInt(e(245))/6+parseInt(e(252))/7+parseInt(e(250))/8*(-parseInt(e(266))/9)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(cd,894617);class j3 extends QI{constructor(t){const e=jx;t=t||{},super({attributions:t[e(261)],interpolate:t[e(262)],projection:t[e(263)],resolutions:t[e(265)],state:t.state}),this[e(258)]=t[e(260)],this[e(244)]=null,this[e(267)]=0,this[e(247)]=t[e(254)]!==void 0?t[e(254)]:1.5}[J3(248)](t,e,n,r){const s=J3;e=this.findNearestResolution(e);let a=this[s(244)];if(a&&this[s(267)]==this[s(253)]()&&a[s(264)]()==e&&a[s(246)]()==n&&Ur(a.getExtent(),t))return a;t=t.slice(),rT(t,this.ratio_);const o=lt(t)/e,l=rn(t)/e,c=[o*n,l*n],x=this[s(258)][s(259)](this,t,e,n,c,r);return x&&(a=new O3(t,e,n,x)),this.canvas_=a,this[s(267)]=this[s(253)](),a}}var mc=xd;function ld(){var i=["316680ibvvij","1626MFwuWx","76pOtAyQ","source","maxZoom","122214uzODwE","3647405WAzlqN","12pJYIpv","zIndex","maxResolution","358guitcm","opacity","6WyYZQE","291760GPWKyj","42cTevMV","map","4067829gbHwJD","15695647VCSaeO"];return ld=function(){return i},ld()}(function(i,t){for(var e=xd,n=i();;)try{var r=parseInt(e(174))/1*(-parseInt(e(165))/2)+parseInt(e(160))/3*(parseInt(e(157))/4)+parseInt(e(161))/5*(-parseInt(e(167))/6)+parseInt(e(169))/7*(-parseInt(e(168))/8)+-parseInt(e(171))/9+parseInt(e(173))/10+-parseInt(e(172))/11*(-parseInt(e(162))/12);if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(ld,541231);function xd(i,t){var e=ld();return xd=function(n,r){n=n-157;var s=e[n];return s},xd(i,t)}const Vt={OPACITY:mc(166),VISIBLE:"visible",EXTENT:"extent",Z_INDEX:mc(163),MAX_RESOLUTION:mc(164),MIN_RESOLUTION:"minResolution",MAX_ZOOM:mc(159),MIN_ZOOM:"minZoom",SOURCE:mc(158),MAP:mc(170)},pt=_c;(function(i,t){const e=_c,n=i();for(;;)try{if(parseInt(e(446))/1+-parseInt(e(438))/2+parseInt(e(434))/3*(-parseInt(e(425))/4)+-parseInt(e(448))/5+-parseInt(e(433))/6*(-parseInt(e(443))/7)+-parseInt(e(455))/8*(parseInt(e(431))/9)+parseInt(e(484))/10*(parseInt(e(439))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(ud,294598);function ud(){const i=["maxZoom","disposeInternal","getVisible","className_","background","getSourceState","getZIndex","setExtent","background_","MIN_ZOOM","state_","MIN_RESOLUTION","set","properties","setBackground","setMinResolution","setVisible","changed","374150mYympd","getMinZoom","getMaxResolution","MAX_RESOLUTION","getLayersArray","setMaxZoom","1366696WDJvng","round","extent","layer","minZoom","once","90zSuiiy","object","254190HMrVeh","3HMPUrc","get","opacity","setProperties","582404sqHJBf","132FiRnzh","setMaxResolution","getExtent","getOpacity","70hMeTwd","assign","getMaxZoom","243667tKqigK","Z_INDEX","796565QFzgUD","managed","maxResolution","OPACITY","visible","className","minResolution","23608JvwALb","zIndex","MAX_ZOOM","number","VISIBLE","getMinResolution","EXTENT","getLayerState","setMinZoom","Layer opacity must be a number","getLayerStatesArray"];return ud=function(){return i},ud()}function _c(i,t){const e=ud();return _c=function(n,r){return n=n-424,e[n]},_c(i,t)}class Z3 extends ps{constructor(t){const e=_c;super(),this.on,this[e(430)],this.un,this[e(474)]=t[e(470)];const n=Object[e(444)]({},t);typeof t[e(479)]===e(432)&&(delete n.properties,Object[e(444)](n,t[e(479)])),n[Vt[e(451)]]=t[e(436)]!==void 0?t.opacity:1,Mt(typeof n[Vt.OPACITY]=="number",e(464)),n[Vt[e(459)]]=t[e(452)]!==void 0?t[e(452)]:!0,n[Vt[e(447)]]=t[e(456)],n[Vt[e(487)]]=t.maxResolution!==void 0?t[e(450)]:1/0,n[Vt.MIN_RESOLUTION]=t.minResolution!==void 0?t[e(454)]:0,n[Vt[e(475)]]=t.minZoom!==void 0?t[e(429)]:-1/0,n[Vt.MAX_ZOOM]=t.maxZoom!==void 0?t[e(466)]:1/0,this[e(469)]=n[e(453)]!==void 0?n[e(453)]:"ol-layer",delete n[e(453)],this[e(437)](n),this.state_=null}getBackground(){return this.background_}getClassName(){return this[_c(469)]}[pt(462)](t){const e=pt,n=this[e(476)]||{layer:this,managed:t===void 0?!0:t},r=this[e(472)]();return n.opacity=mn(Math[e(426)](this.getOpacity()*100)/100,0,1),n[e(452)]=this[e(468)](),n[e(427)]=this[e(441)](),n[e(456)]=r===void 0&&!n[e(449)]?1/0:r,n[e(450)]=this.getMaxResolution(),n[e(454)]=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n[e(466)]=this[e(445)](),this.state_=n,n}[pt(488)](t){return Je()}[pt(465)](t){return Je()}getExtent(){const t=pt;return this[t(435)](Vt[t(461)])}[pt(486)](){return this[pt(435)](Vt.MAX_RESOLUTION)}[pt(460)](){const t=pt;return this.get(Vt[t(477)])}[pt(485)](){const t=pt;return this[t(435)](Vt[t(475)])}[pt(445)](){const t=pt;return this[t(435)](Vt[t(457)])}[pt(442)](){const t=pt;return this[t(435)](Vt[t(451)])}[pt(471)](){return Je()}[pt(468)](){const t=pt;return this.get(Vt[t(459)])}[pt(472)](){const t=pt;return this[t(435)](Vt[t(447)])}[pt(480)](t){const e=pt;this[e(474)]=t,this[e(483)]()}[pt(473)](t){const e=pt;this[e(478)](Vt[e(461)],t)}[pt(440)](t){this[pt(478)](Vt.MAX_RESOLUTION,t)}[pt(481)](t){this[pt(478)](Vt.MIN_RESOLUTION,t)}[pt(424)](t){const e=pt;this[e(478)](Vt[e(457)],t)}[pt(463)](t){const e=pt;this[e(478)](Vt[e(475)],t)}setOpacity(t){const e=pt;Mt(typeof t===e(458),e(464)),this[e(478)](Vt.OPACITY,t)}[pt(482)](t){this[pt(478)](Vt.VISIBLE,t)}setZIndex(t){const e=pt;this.set(Vt[e(447)],t)}disposeInternal(){const t=pt;this.state_&&(this[t(476)][t(428)]=null,this[t(476)]=null),super[t(467)]()}}var $3=hd;(function(i,t){for(var e=hd,n=i();;)try{var r=-parseInt(e(455))/1+parseInt(e(458))/2+-parseInt(e(452))/3*(parseInt(e(453))/4)+-parseInt(e(460))/5+parseInt(e(459))/6+parseInt(e(457))/7+-parseInt(e(456))/8;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(fd,662884);function fd(){var i=["4yRWcwo","rendercomplete","1322807gwSdZX","2112952NIVSmX","6464983vydZag","1609734psnLbo","7828638YUuJcY","500060rZUZhq","precompose","2050161oplmaH"];return fd=function(){return i},fd()}function hd(i,t){var e=fd();return hd=function(n,r){n=n-451;var s=e[n];return s},hd(i,t)}const br={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:$3(451),POSTCOMPOSE:"postcompose",RENDERCOMPLETE:$3(454)};function Ad(){var i=["25621vwklNX","1050bJsLjn","167512ixOUKJ","584817wXVmbt","72LOQwcz","6ojgfTM","12985miPLKg","3417099scDMvI","2063592JCtzUm","13332230pBCWcL"];return Ad=function(){return i},Ad()}(function(i,t){for(var e=LI,n=i();;)try{var r=parseInt(e(150))/1*(-parseInt(e(145))/2)+-parseInt(e(143))/3+parseInt(e(148))/4+-parseInt(e(146))/5*(parseInt(e(151))/6)+-parseInt(e(147))/7+-parseInt(e(142))/8*(parseInt(e(144))/9)+parseInt(e(149))/10;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ad,467175);function LI(i,t){var e=Ad();return LI=function(n,r){n=n-142;var s=e[n];return s},LI(i,t)}const xn={ANIMATING:0,INTERACTING:1};function dd(i,t){var e=pd();return dd=function(n,r){n=n-294;var s=e[n];return s},dd(i,t)}function pd(){var i=["2349ZRmsxy","808OnaiDr","90mXnihY","1820152aFqeou","489878QgCmGE","3338013CnmvFp","center","139714UGcEYz","1003074Tzbpxb","resolution","6DKhuUH","rotation","5LSHRkC","1228711VVXquK"];return pd=function(){return i},pd()}var FI=dd;(function(i,t){for(var e=dd,n=i();;)try{var r=-parseInt(e(305))/1+parseInt(e(294))/2+-parseInt(e(295))/3+parseInt(e(304))/4*(parseInt(e(299))/5)+-parseInt(e(297))/6*(parseInt(e(306))/7)+parseInt(e(302))/8*(parseInt(e(301))/9)+parseInt(e(303))/10*(parseInt(e(300))/11);if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(pd,255470);const Vr={CENTER:FI(307),RESOLUTION:FI(296),ROTATION:FI(298)},ew=42,kI=256;(function(i,t){const e=gd,n=i();for(;;)try{if(parseInt(e(255))/1+parseInt(e(257))/2*(-parseInt(e(250))/3)+-parseInt(e(249))/4*(parseInt(e(259))/5)+-parseInt(e(251))/6*(parseInt(e(258))/7)+-parseInt(e(256))/8+parseInt(e(253))/9*(parseInt(e(248))/10)+parseInt(e(252))/11*(parseInt(e(260))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(md,311554);function tw(i,t,e){return function(n,r,s,a,o){const l=gd;if(!n)return;if(!r&&!t)return n;const c=t?0:s[0]*r,x=t?0:s[1]*r,u=o?o[0]:0,f=o?o[1]:0;let h=i[0]+c/2+u,A=i[2]-c/2+u,p=i[1]+x/2+f,d=i[3]-x/2+f;h>A&&(h=(A+h)/2,A=h),p>d&&(p=(d+p)/2,d=p);let g=mn(n[0],h,A),m=mn(n[1],p,d);if(a&&e&&r){const _=30*r;g+=-_*Math[l(261)](1+Math[l(254)](0,h-n[0])/_)+_*Math.log(1+Math[l(254)](0,n[0]-A)/_),m+=-_*Math.log(1+Math[l(254)](0,p-n[1])/_)+_*Math[l(261)](1+Math[l(254)](0,n[1]-d)/_)}return[g,m]}}function cD(i){return i}function gd(i,t){const e=md();return gd=function(n,r){return n=n-248,e[n]},gd(i,t)}function md(){const i=["333264DnJIQs","2okwbvB","2093CkZnfp","94670jsxWeJ","472344MmkkZo","log","383410rcVbcF","28YqydQE","1181217ForJFb","1542yHOGeo","209UpjxdC","9vLCczc","max","170113IZyGmU"];return md=function(){return i},md()}(function(i,t){const e=Xo,n=i();for(;;)try{if(parseInt(e(479))/1+parseInt(e(481))/2+parseInt(e(485))/3*(parseInt(e(488))/4)+-parseInt(e(482))/5*(parseInt(e(476))/6)+-parseInt(e(475))/7+parseInt(e(483))/8+parseInt(e(484))/9===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(_d,279317);function _d(){const i=["195777rfkJJZ","81GbvzRl","floor","log","58556yrFSsL","max","min","3330789WvluQh","102CXNjVu","ceil","length","452607mksEjs","pow","413764BnddRQ","119190eSYxBC","671160BoVnKt"];return _d=function(){return i},_d()}function PI(i,t,e,n){const r=Xo,s=lt(t)/e[0],a=rn(t)/e[1];return n?Math[r(490)](i,Math.max(s,a)):Math[r(490)](i,Math[r(490)](s,a))}function Xo(i,t){const e=_d();return Xo=function(n,r){return n=n-475,e[n]},Xo(i,t)}function UI(i,t,e){const n=Xo;let r=Math[n(490)](i,t);const s=50;return r*=Math[n(487)](1+s*Math[n(489)](0,i/t-1))/s+1,e&&(r=Math.max(r,e),r/=Math[n(487)](1+s*Math.max(0,e/i-1))/s+1),mn(r,e/2,t*2)}function lD(i,t,e,n){return t=t!==void 0?t:!0,function(r,s,a,o){const l=Xo;if(r!==void 0){const c=i[0],x=i[i[l(478)]-1],u=e?PI(c,e,a,n):c;if(o)return t?UI(r,u,x):mn(r,x,u);const f=Math.min(u,r),h=Math[l(486)](CA(i,f,s));return i[h]>u&&h<i[l(478)]-1?i[h+1]:i[h]}}}function xD(i,t,e,n,r,s){return n=n!==void 0?n:!0,e=e!==void 0?e:0,function(a,o,l,c){const x=Xo;if(a!==void 0){const u=r?PI(t,r,l,s):t;if(c)return n?UI(a,u,e):mn(a,e,u);const f=1e-9,h=Math[x(477)](Math[x(487)](t/u)/Math[x(487)](i)-f),A=-o*(.5-f)+.5,p=Math[x(490)](u,a),d=Math.floor(Math[x(487)](t/p)/Math.log(i)+A),g=Math[x(489)](h,d),m=t/Math[x(480)](i,g);return mn(m,e,u)}}}function nw(i,t,e,n,r){return e=e!==void 0?e:!0,function(s,a,o,l){if(s!==void 0){const c=n?PI(i,n,o,r):i;return!e||!l?mn(s,t,c):UI(s,c,t)}}}(function(i,t){const e=Zx,n=i();for(;;)try{if(-parseInt(e(418))/1*(parseInt(e(417))/2)+parseInt(e(413))/3*(-parseInt(e(420))/4)+parseInt(e(414))/5*(parseInt(e(416))/6)+-parseInt(e(422))/7*(parseInt(e(423))/8)+parseInt(e(419))/9+-parseInt(e(415))/10+parseInt(e(424))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Id,922454);function Id(){const i=["floor","7tSIXwW","13607816jrQmeG","45323817iILAtq","abs","7134qacEtF","435ASEcth","18214380UUtJZz","49332lPVTed","812vnZzBQ","1761upPDdR","15608952PJHcvy","2372wffzOR"];return Id=function(){return i},Id()}function NI(i){if(i!==void 0)return 0}function iw(i){if(i!==void 0)return i}function uD(i){const t=2*Math.PI/i;return function(e,n){const r=Zx;if(n)return e;if(e!==void 0)return e=Math[r(421)](e/t+.5)*t,e}}function Zx(i,t){const e=Id();return Zx=function(n,r){return n=n-412,e[n]},Zx(i,t)}function fD(i){const t=iA(5);return function(e,n){const r=Zx;return n||e===void 0?e:Math[r(412)](e)<=t?0:e}}function OI(i,t){var e=Ed();return OI=function(n,r){n=n-476;var s=e[n];return s},OI(i,t)}(function(i,t){for(var e=OI,n=i();;)try{var r=-parseInt(e(477))/1*(parseInt(e(483))/2)+-parseInt(e(481))/3+parseInt(e(478))/4+parseInt(e(482))/5+-parseInt(e(480))/6*(-parseInt(e(479))/7)+parseInt(e(476))/8+-parseInt(e(484))/9;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ed,762521);function rw(i){return Math.pow(i,3)}function Ed(){var i=["306942qFWwDJ","5262777UpCYbv","5593400tgrBsi","9JoqWZC","1983152gNbZuq","90594wShoGy","702ogZwYs","1385868CreSFS","2406460tGQaZz"];return Ed=function(){return i},Ed()}function Ic(i){return 1-rw(1-i)}function hD(i){return 3*i*i-2*i*i*i}function AD(i){return i}function Ko(i,t){const e=yd();return Ko=function(n,r){return n=n-390,e[n]},Ko(i,t)}(function(i,t){const e=Ko,n=i();for(;;)try{if(parseInt(e(396))/1+parseInt(e(395))/2*(-parseInt(e(397))/3)+-parseInt(e(393))/4+-parseInt(e(392))/5*(parseInt(e(391))/6)+parseInt(e(399))/7+-parseInt(e(390))/8+parseInt(e(398))/9===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(yd,869455);function yd(){const i=["184726XkgQOf","9PhYWfK","21984633JjhjVp","9576763KQUlor","cos","8287616THwgzD","392100RhKdmI","125nGILeu","680056gNWvOF","length","190934UDNNun"];return yd=function(){return i},yd()}function Va(i,t,e,n,r,s,a){const o=Ko;s=s||[],a=a||2;let l=0;for(let c=t;c<e;c+=n){const x=i[c],u=i[c+1];s[l++]=r[0]*x+r[2]*u+r[4],s[l++]=r[1]*x+r[3]*u+r[5];for(let f=2;f<a;f++)s[l++]=i[c+f]}return s&&s[o(394)]!=l&&(s[o(394)]=l),s}function sw(i,t,e,n,r,s,a){const o=Ko;a=a||[];const l=Math[o(400)](r),c=Math.sin(r),x=s[0],u=s[1];let f=0;for(let h=t;h<e;h+=n){const A=i[h]-x,p=i[h+1]-u;a[f++]=x+A*l-p*c,a[f++]=u+A*c+p*l;for(let d=h+2;d<h+n;++d)a[f++]=i[d]}return a&&a[o(394)]!=f&&(a[o(394)]=f),a}function dD(i,t,e,n,r,s,a,o){const l=Ko;o=o||[];const c=a[0],x=a[1];let u=0;for(let f=t;f<e;f+=n){const h=i[f]-c,A=i[f+1]-x;o[u++]=c+r*h,o[u++]=x+s*A;for(let p=f+2;p<f+n;++p)o[u++]=i[p]}return o&&o[l(394)]!=u&&(o[l(394)]=u),o}function pD(i,t,e,n,r,s,a){const o=Ko;a=a||[];let l=0;for(let c=t;c<e;c+=n){a[l++]=i[c]+r,a[l++]=i[c+1]+s;for(let x=c+2;x<c+n;++x)a[l++]=i[x]}return a&&a[o(394)]!=l&&(a[o(394)]=l),a}const Xn=Ec;(function(i,t){const e=Ec,n=i();for(;;)try{if(-parseInt(e(193))/1*(parseInt(e(183))/2)+parseInt(e(165))/3+parseInt(e(182))/4+parseInt(e(175))/5*(parseInt(e(196))/6)+parseInt(e(179))/7*(-parseInt(e(187))/8)+-parseInt(e(181))/9+parseInt(e(186))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(bd,356941);function Ec(i,t){const e=bd();return Ec=function(n,r){return n=n-165,e[n]},Ec(i,t)}function bd(){const i=["5vYgYmo","closestPointXY","applyTransform","6nkgaCy","425634okgXwC","getSimplifiedGeometry","scale","getClosestPoint","simplifyTransformedInternal","getRevision","intersectsCoordinate","rotate","getExtent","containsXY","1314770ZzYzHo","clone","extent_","computeExtent","2857463hvNGdm","length","263763iETOyN","574148YIuasO","62464eukGtt","extentRevision_","translate","4022480HQZrep","8EtZlGD","getType","getUnits","tile-pixels","intersectsExtent","simplify"];return bd=function(){return i},bd()}const aw=ki();class ow extends ps{constructor(){const t=Ec;super(),this.extent_=ir(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this[t(169)]=R3((e,n,r)=>{const s=t;if(!r)return this.getSimplifiedGeometry(n);const a=this.clone();return a[s(195)](r),a.getSimplifiedGeometry(n)})}simplifyTransformed(t,e){const n=Ec;return this.simplifyTransformedInternal(this[n(170)](),t,e)}[Xn(176)](){return Je()}[Xn(194)](t,e,n,r){return Je()}containsXY(t,e){const n=Xn,r=this[n(168)]([t,e]);return r[0]===t&&r[1]===e}[Xn(168)](t,e){const n=Xn;return e=e||[NaN,NaN],this[n(194)](t[0],t[1],e,1/0),e}[Xn(171)](t){return this[Xn(174)](t[0],t[1])}[Xn(178)](t){return Je()}getExtent(t){const e=Xn;if(this[e(184)]!=this[e(170)]()){const n=this[e(178)](this[e(177)]);(isNaN(n[0])||isNaN(n[1]))&&$0(n),this[e(184)]=this[e(170)]()}return iT(this[e(177)],t)}[Xn(172)](t,e){Je()}[Xn(167)](t,e,n){Je()}[Xn(192)](t){return this.getSimplifiedGeometry(t*t)}[Xn(166)](t){return Je()}[Xn(188)](){return Je()}[Xn(195)](t){Je()}[Xn(191)](t){return Je()}[Xn(185)](t,e){Je()}transform(t,e){const n=Xn,r=Wt(t),s=r[n(189)]()==n(190)?function(a,o,l){const c=n,x=r[c(173)](),u=r.getWorldExtent(),f=rn(u)/rn(x);return _s(aw,u[0],u[3],f,-f,0,0,0),Va(a,0,a[c(180)],l,aw,o),tc(r,e)(a,o,l)}:tc(r,e);return this[n(195)](s),this}}const Kt=$x;(function(i,t){const e=$x,n=i();for(;;)try{if(-parseInt(e(301))/1+parseInt(e(304))/2+parseInt(e(302))/3*(-parseInt(e(318))/4)+parseInt(e(308))/5+-parseInt(e(300))/6*(parseInt(e(306))/7)+parseInt(e(325))/8*(parseInt(e(296))/9)+-parseInt(e(319))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Cd,259125);function $x(i,t){const e=Cd();return $x=function(n,r){return n=n-294,e[n]},$x(i,t)}function Cd(){const i=["length","setLayout","changed","1986oxhSap","230346QbAIia","219zoOQFo","stride","931740qTcXlH","XYZ","70FdsOQu","setCoordinates","1969360uGoGkp","XYM","slice","getStride","flatCoordinates","XYZM","getSimplifiedGeometry","simplifiedGeometryMaxMinSquaredTolerance","rotate","layout","3900vvGUpn","3393060ghRgZx","getFlatCoordinates","getRevision","getCoordinates","simplifiedGeometryRevision","setFlatCoordinates","272djBujp","scale","getExtent","applyTransform","translate","startsWith","computeExtent","getSimplifiedGeometryInternal","11520xLDbwM"];return Cd=function(){return i},Cd()}class Jo extends ow{constructor(){const t=$x;super(),this[t(317)]="XY",this[t(303)]=2,this[t(312)]}[Kt(294)](t){const e=Kt;return Y2(this[e(312)],0,this[e(312)][e(297)],this[e(303)],t)}[Kt(322)](){return Je()}getFirstCoordinate(){const t=Kt;return this[t(312)][t(310)](0,this[t(303)])}getFlatCoordinates(){return this[Kt(312)]}getLastCoordinate(){const t=Kt;return this[t(312)][t(310)](this[t(312)][t(297)]-this[t(303)])}getLayout(){return this[Kt(317)]}[Kt(314)](t){const e=Kt;if(this[e(323)]!==this[e(321)]()&&(this[e(315)]=0,this[e(323)]=this[e(321)]()),t<0||this[e(315)]!==0&&t<=this[e(315)])return this;const n=this[e(295)](t);return n.getFlatCoordinates()[e(297)]<this[e(312)][e(297)]?n:(this[e(315)]=t,this)}[Kt(295)](t){return this}[Kt(311)](){return this[Kt(303)]}[Kt(324)](t,e){const n=Kt;this[n(303)]=cw(t),this.layout=t,this[n(312)]=e}[Kt(307)](t,e){Je()}[Kt(298)](t,e,n){const r=Kt;let s;if(t)s=cw(t);else{for(let a=0;a<n;++a){if(e[r(297)]===0){this[r(317)]="XY",this[r(303)]=2;return}e=e[0]}s=e[r(297)],t=jo(s)}this[r(317)]=t,this[r(303)]=s}[Kt(328)](t){const e=Kt;this.flatCoordinates&&(t(this[e(312)],this[e(312)],this[e(317)][e(330)]("XYZ")?3:2,this[e(303)]),this[e(299)]())}[Kt(316)](t,e){const n=Kt,r=this[n(320)]();if(r){const s=this[n(311)]();sw(r,0,r[n(297)],s,t,e,r),this[n(299)]()}}[Kt(326)](t,e,n){const r=Kt;e===void 0&&(e=t),!n&&(n=Er(this[r(327)]()));const s=this[r(320)]();if(s){const a=this[r(311)]();dD(s,0,s[r(297)],a,t,e,n,s),this.changed()}}[Kt(329)](t,e){const n=Kt,r=this[n(320)]();if(r){const s=this[n(311)]();pD(r,0,r.length,s,t,e,r),this[n(299)]()}}}function jo(i){const t=Kt;let e;return i==2?e="XY":i==3?e=t(305):i==4&&(e=t(313)),e}function cw(i){const t=Kt;let e;return i=="XY"?e=2:i==t(305)||i==t(309)?e=3:i==t(313)&&(e=4),e}function gD(i,t,e){const n=Kt,r=i[n(320)]();if(!r)return null;const s=i[n(311)]();return Va(r,0,r[n(297)],s,t,e)}(function(i,t){const e=Ha,n=i();for(;;)try{if(-parseInt(e(429))/1*(-parseInt(e(435))/2)+parseInt(e(434))/3+-parseInt(e(425))/4+-parseInt(e(432))/5+parseInt(e(433))/6*(parseInt(e(424))/7)+-parseInt(e(431))/8*(parseInt(e(426))/9)+-parseInt(e(423))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(vd,900624);function Ha(i,t){const e=vd();return Ha=function(n,r){return n=n-423,e[n]},Ha(i,t)}function lw(i,t,e,n,r,s,a){const o=Ha,l=i[t],c=i[t+1],x=i[e]-l,u=i[e+1]-c;let f;if(x===0&&u===0)f=t;else{const h=((r-l)*x+(s-c)*u)/(x*x+u*u);if(h>1)f=e;else if(h>0){for(let A=0;A<n;++A)a[A]=rr(i[t+A],i[e+A],h);a[o(428)]=n;return}else f=t}for(let h=0;h<n;++h)a[h]=i[f+h];a[o(428)]=n}function GI(i,t,e,n,r){let s=i[t],a=i[t+1];for(t+=n;t<e;t+=n){const o=i[t],l=i[t+1],c=Go(s,a,o,l);c>r&&(r=c),s=o,a=l}return r}function zI(i,t,e,n,r){const s=Ha;for(let a=0,o=e[s(428)];a<o;++a){const l=e[a];r=GI(i,t,l,n,r),t=l}return r}function mD(i,t,e,n,r){const s=Ha;for(let a=0,o=e[s(428)];a<o;++a){const l=e[a];r=zI(i,t,l,n,r),t=l[l[s(428)]-1]}return r}function VI(i,t,e,n,r,s,a,o,l,c,x){const u=Ha;if(t==e)return c;let f,h;if(r===0){if(h=Go(a,o,i[t],i[t+1]),h<c){for(f=0;f<n;++f)l[f]=i[t+f];return l.length=n,h}return c}x=x||[NaN,NaN];let A=t+n;for(;A<e;)if(lw(i,A-n,A,n,a,o,x),h=Go(a,o,x[0],x[1]),h<c){for(c=h,f=0;f<n;++f)l[f]=x[f];l[u(428)]=n,A+=n}else A+=n*Math[u(427)]((Math[u(430)](h)-Math[u(430)](c))/r|0,1);if(s&&(lw(i,e-n,t,n,a,o,x),h=Go(a,o,x[0],x[1]),h<c)){for(c=h,f=0;f<n;++f)l[f]=x[f];l[u(428)]=n}return c}function HI(i,t,e,n,r,s,a,o,l,c,x){x=x||[NaN,NaN];for(let u=0,f=e.length;u<f;++u){const h=e[u];c=VI(i,t,h,n,r,s,a,o,l,c,x),t=h}return c}function vd(){const i=["135varurY","max","length","10415rZAaoZ","sqrt","356344LlNHhD","1761070qRbpts","1029864SrDgkI","2901426WaGJip","156VjDQQd","10722310VRLAaO","56kaLKNW","637800JsIOEu"];return vd=function(){return i},vd()}function _D(i,t,e,n,r,s,a,o,l,c,x){const u=Ha;x=x||[NaN,NaN];for(let f=0,h=e[u(428)];f<h;++f){const A=e[f];c=HI(i,t,A,n,r,s,a,o,l,c,x),t=A[A[u(428)]-1]}return c}(function(i,t){const e=Zo,n=i();for(;;)try{if(parseInt(e(450))/1+-parseInt(e(451))/2*(parseInt(e(449))/3)+-parseInt(e(458))/4+parseInt(e(453))/5+-parseInt(e(459))/6*(-parseInt(e(455))/7)+-parseInt(e(454))/8+parseInt(e(457))/9*(-parseInt(e(452))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(wd,379092);function wd(){const i=["1119zskgTi","690357uFMGsf","944EhIYNq","230UaJAku","434845Iukuyj","1464856CPIXJe","2075402ykJEiY","length","1251FTekVh","2515384nacUoP","12yYOTsl"];return wd=function(){return i},wd()}function ID(i,t,e,n){const r=Zo;for(let s=0,a=e[r(456)];s<a;++s)i[t++]=e[s];return t}function Bd(i,t,e,n){const r=Zo;for(let s=0,a=e[r(456)];s<a;++s){const o=e[s];for(let l=0;l<n;++l)i[t++]=o[l]}return t}function eu(i,t,e,n,r){const s=Zo;r=r||[];let a=0;for(let o=0,l=e[s(456)];o<l;++o){const c=Bd(i,t,e[o],n);r[a++]=c,t=c}return r[s(456)]=a,r}function Zo(i,t){const e=wd();return Zo=function(n,r){return n=n-449,e[n]},Zo(i,t)}function xw(i,t,e,n,r){const s=Zo;r=r||[];let a=0;for(let o=0,l=e[s(456)];o<l;++o){const c=eu(i,t,e[o],n,r[a]);c[s(456)]===0&&(c[0]=t),r[a++]=c,t=c[c.length-1]}return r[s(456)]=a,r}(function(i,t){const e=$o,n=i();for(;;)try{if(parseInt(e(208))/1+parseInt(e(206))/2*(-parseInt(e(199))/3)+-parseInt(e(211))/4+parseInt(e(207))/5+-parseInt(e(201))/6+parseInt(e(202))/7*(parseInt(e(210))/8)+parseInt(e(209))/9*(parseInt(e(200))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Sd,732534);function Sd(){const i=["push","length","34elcjuU","1258205JDxMOm","969129rFFWHb","13206357HZbKXA","10280SWTHOd","3472520ldcckX","204669rIvMAV","10CCbJbB","4230678FlksbM","4235SGKocf","pop"];return Sd=function(){return i},Sd()}function $o(i,t){const e=Sd();return $o=function(n,r){return n=n-199,e[n]},$o(i,t)}function Md(i,t,e,n,r,s,a){const o=$o,l=(e-t)/n;if(l<3){for(;t<e;t+=n)s[a++]=i[t],s[a++]=i[t+1];return a}const c=new Array(l);c[0]=1,c[l-1]=1;const x=[t,e-n];let u=0;for(;x[o(205)]>0;){const f=x[o(203)](),h=x[o(203)]();let A=0;const p=i[h],d=i[h+1],g=i[f],m=i[f+1];for(let _=h+n;_<f;_+=n){const I=i[_],y=i[_+1],E=aT(I,y,p,d,g,m);E>A&&(u=_,A=E)}A>r&&(c[(u-t)/n]=1,h+n<u&&x.push(h,u),u+n<f&&x.push(u,f))}for(let f=0;f<l;++f)c[f]&&(s[a++]=i[t+f*n],s[a++]=i[t+f*n+1]);return a}function uw(i,t,e,n,r,s,a,o){const l=$o;for(let c=0,x=e[l(205)];c<x;++c){const u=e[c];a=Md(i,t,u,n,r,s,a),o.push(a),t=u}return a}function e0(i,t){return t*Math.round(i/t)}function ED(i,t,e,n,r,s,a){if(t==e)return a;let o=e0(i[t],r),l=e0(i[t+1],r);t+=n,s[a++]=o,s[a++]=l;let c,x;do if(c=e0(i[t],r),x=e0(i[t+1],r),t+=n,t==e)return s[a++]=c,s[a++]=x,a;while(c==o&&x==l);for(;t<e;){const u=e0(i[t],r),f=e0(i[t+1],r);if(t+=n,u==c&&f==x)continue;const h=c-o,A=x-l,p=u-o,d=f-l;if(h*d==A*p&&(h<0&&p<h||h==p||h>0&&p>h)&&(A<0&&d<A||A==d||A>0&&d>A)){c=u,x=f;continue}s[a++]=c,s[a++]=x,o=c,l=x,c=u,x=f}return s[a++]=c,s[a++]=x,a}function qI(i,t,e,n,r,s,a,o){const l=$o;for(let c=0,x=e[l(205)];c<x;++c){const u=e[c];a=ED(i,t,u,n,r,s,a),o[l(204)](a),t=u}return a}function yD(i,t,e,n,r,s,a,o){const l=$o;for(let c=0,x=e[l(205)];c<x;++c){const u=e[c],f=[];a=qI(i,t,u,n,r,s,a,f),o[l(204)](f),t=u[u[l(205)]-1]}return a}function tu(i,t){const e=Rd();return tu=function(n,r){return n=n-420,e[n]},tu(i,t)}(function(i,t){const e=tu,n=i();for(;;)try{if(parseInt(e(425))/1+parseInt(e(427))/2+parseInt(e(428))/3+-parseInt(e(424))/4+parseInt(e(421))/5*(-parseInt(e(422))/6)+parseInt(e(423))/7+-parseInt(e(426))/8===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Rd,819280);function qa(i,t,e,n,r){r=r!==void 0?r:[];let s=0;for(let a=t;a<e;a+=n)r[s++]=i.slice(a,a+n);return r.length=s,r}function Rd(){const i=["2202868vhWEeF","906387zNKxbn","length","635500kOwZAc","6NYoerH","8820070ErWuRN","1655088DsHvlE","1130447ByInfq","19470944VPkdss"];return Rd=function(){return i},Rd()}function nu(i,t,e,n,r){const s=tu;r=r!==void 0?r:[];let a=0;for(let o=0,l=e[s(420)];o<l;++o){const c=e[o];r[a++]=qa(i,t,c,n,r[a]),t=c}return r[s(420)]=a,r}function YI(i,t,e,n,r){const s=tu;r=r!==void 0?r:[];let a=0;for(let o=0,l=e[s(420)];o<l;++o){const c=e[o];r[a++]=c.length===1&&c[0]===t?[]:nu(i,t,c,n,r[a]),t=c[c[s(420)]-1]}return r.length=a,r}(function(i,t){const e=Td,n=i();for(;;)try{if(-parseInt(e(146))/1+-parseInt(e(149))/2*(parseInt(e(138))/3)+parseInt(e(140))/4*(parseInt(e(139))/5)+-parseInt(e(143))/6*(parseInt(e(145))/7)+-parseInt(e(147))/8*(parseInt(e(148))/9)+-parseInt(e(141))/10*(-parseInt(e(144))/11)+parseInt(e(142))/12===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Dd,765626);function fw(i,t,e,n){let r=0;const s=i[e-n],a=i[e-n+1];let o=0,l=0;for(;t<e;t+=n){const c=i[t]-s,x=i[t+1]-a;r+=l*c-o*x,o=c,l=x}return r/2}function Td(i,t){const e=Dd();return Td=function(n,r){return n=n-137,e[n]},Td(i,t)}function Dd(){const i=["67237CelxoL","64npfDhA","1432737HhPMeY","398hwEHYR","length","5547kHQyLW","10iJJENL","2827280vRODIq","52320dUPyDI","27518616SkEayo","8744856AgbrLT","473yMfWsi","7TYQOrk"];return Dd=function(){return i},Dd()}function hw(i,t,e,n){let r=0;for(let s=0,a=e.length;s<a;++s){const o=e[s];r+=fw(i,t,o,n),t=o}return r}function bD(i,t,e,n){const r=Td;let s=0;for(let a=0,o=e[r(137)];a<o;++a){const l=e[a];s+=hw(i,t,l,n),t=l[l[r(137)]-1]}return s}const Ui=iu;function Qd(){const i=["getCoordinates","24ZKtEHT","106140QwkIhN","2537370pozShA","slice","setFlatCoordinates","getArea","maxDeltaRevision_","1100369fAvMMG","clone","length","LinearRing","42IFqaUx","setLayout","6249336jpSmNk","intersectsExtent","setCoordinates","layout","4016712Lnbvtw","12165KgqjBZ","maxDelta_","33rhUspb","isArray","closestPointXY","sqrt","588DpmiRP","getSimplifiedGeometryInternal","13858614leZKgw","stride","getRevision","getType","flatCoordinates"];return Qd=function(){return i},Qd()}(function(i,t){const e=iu,n=i();for(;;)try{if(-parseInt(e(361))/1+parseInt(e(346))/2*(parseInt(e(372))/3)+-parseInt(e(367))/4+-parseInt(e(355))/5*(parseInt(e(365))/6)+-parseInt(e(371))/7*(-parseInt(e(354))/8)+parseInt(e(348))/9+parseInt(e(356))/10*(-parseInt(e(342))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qd,880954);function iu(i,t){const e=Qd();return iu=function(n,r){return n=n-341,e[n]},iu(i,t)}class ru extends Jo{constructor(t,e){const n=iu;super(),this[n(341)]=-1,this[n(360)]=-1,e!==void 0&&!Array[n(343)](t[0])?this[n(358)](e,t):this[n(369)](t,e)}[Ui(362)](){const t=Ui;return new ru(this[t(352)][t(357)](),this[t(370)])}[Ui(344)](t,e,n,r){const s=Ui;return r<Uo(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this[s(350)]()&&(this.maxDelta_=Math[s(345)](GI(this[s(352)],0,this[s(352)].length,this.stride,0)),this[s(360)]=this[s(350)]()),VI(this.flatCoordinates,0,this[s(352)].length,this[s(349)],this[s(341)],!0,t,e,n,r))}[Ui(359)](){const t=Ui;return fw(this[t(352)],0,this[t(352)][t(363)],this.stride)}[Ui(353)](){const t=Ui;return qa(this.flatCoordinates,0,this[t(352)][t(363)],this[t(349)])}[Ui(347)](t){const e=Ui,n=[];return n[e(363)]=Md(this[e(352)],0,this[e(352)][e(363)],this.stride,t,n,0),new ru(n,"XY")}[Ui(351)](){return Ui(364)}[Ui(368)](t){return!1}setCoordinates(t,e){const n=Ui;this[n(366)](e,t,1),!this[n(352)]&&(this[n(352)]=[]),this[n(352)][n(363)]=Bd(this[n(352)],0,t,this[n(349)]),this.changed()}}function Ld(){const i=["applyProperties","11GsKRis","length","stride","1431367gUzZTW","changed","29972WJMvqE","flatCoordinates","setLayout","computeExtent","1183644lheGEs","1133512mIyCPF","8624132QVQmSE","slice","getCoordinates","85LYFsWm","closestPointXY","10zTSUhn","setCoordinates","2662lGnEja","layout","clone","getType","6kPmURD","234378knhEJI"];return Ld=function(){return i},Ld()}const Cr=Fd;(function(i,t){const e=Fd,n=i();for(;;)try{if(parseInt(e(323))/1*(parseInt(e(341))/2)+-parseInt(e(346))/3+-parseInt(e(328))/4*(parseInt(e(337))/5)+parseInt(e(345))/6*(-parseInt(e(326))/7)+-parseInt(e(333))/8+parseInt(e(332))/9*(-parseInt(e(339))/10)+parseInt(e(334))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ld,115460);class Js extends Jo{constructor(t,e){super(),this.setCoordinates(t,e)}[Cr(343)](){const t=Cr,e=new Js(this[t(329)][t(335)](),this[t(342)]);return e[t(347)](this),e}[Cr(338)](t,e,n,r){const s=Cr,a=this[s(329)],o=Go(t,e,a[0],a[1]);if(o<r){const l=this[s(325)];for(let c=0;c<l;++c)n[c]=a[c];return n[s(324)]=l,o}return r}[Cr(336)](){const t=Cr;return this[t(329)][t(335)]()}[Cr(331)](t){return c3(this[Cr(329)],t)}[Cr(344)](){return"Point"}intersectsExtent(t){const e=Cr;return H2(t,this[e(329)][0],this[e(329)][1])}[Cr(340)](t,e){const n=Cr;this[n(330)](e,t,0),!this[n(329)]&&(this.flatCoordinates=[]),this[n(329)][n(324)]=ID(this[n(329)],0,t,this[n(325)]),this[n(327)]()}}function Fd(i,t){const e=Ld();return Fd=function(n,r){return n=n-323,e[n]},Fd(i,t)}(function(i,t){const e=su,n=i();for(;;)try{if(-parseInt(e(350))/1+-parseInt(e(344))/2*(parseInt(e(345))/3)+-parseInt(e(348))/4*(parseInt(e(341))/5)+-parseInt(e(343))/6+parseInt(e(342))/7*(parseInt(e(351))/8)+-parseInt(e(346))/9+parseInt(e(347))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(kd,658244);function CD(i,t,e,n,r){return!x3(r,function(a){return!t0(i,t,e,n,a[0],a[1])})}function kd(){const i=["length","277377iciFqx","46520KsQbku","12140isOMwW","959yRgWzB","3110574IgvgrF","2274tMIYpt","654PSKlWQ","11001762lUGWQK","28390830qnXcwG","1172XXvNrX"];return kd=function(){return i},kd()}function t0(i,t,e,n,r,s){let a=0,o=i[e-n],l=i[e-n+1];for(;t<e;t+=n){const c=i[t],x=i[t+1];l<=s?x>s&&(c-o)*(s-l)-(r-o)*(x-l)>0&&a++:x<=s&&(c-o)*(s-l)-(r-o)*(x-l)<0&&a--,o=c,l=x}return a!==0}function WI(i,t,e,n,r,s){const a=su;if(e[a(349)]===0||!t0(i,t,e[0],n,r,s))return!1;for(let o=1,l=e[a(349)];o<l;++o)if(t0(i,e[o-1],e[o],n,r,s))return!1;return!0}function su(i,t){const e=kd();return su=function(n,r){return n=n-341,e[n]},su(i,t)}function vD(i,t,e,n,r,s){const a=su;if(e[a(349)]===0)return!1;for(let o=0,l=e.length;o<l;++o){const c=e[o];if(WI(i,t,c,n,r,s))return!0;t=c[c[a(349)]-1]}return!1}(function(i,t){const e=au,n=i();for(;;)try{if(-parseInt(e(173))/1+-parseInt(e(167))/2+-parseInt(e(160))/3*(-parseInt(e(172))/4)+-parseInt(e(170))/5*(parseInt(e(171))/6)+-parseInt(e(168))/7+parseInt(e(163))/8*(-parseInt(e(169))/9)+parseInt(e(165))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Pd,854079);function XI(i,t,e,n,r,s,a){const o=au;let l,c,x,u,f,h,A;const p=r[s+1],d=[];for(let _=0,I=e[o(166)];_<I;++_){const y=e[_];for(u=i[y-n],h=i[y-n+1],l=t;l<y;l+=n)f=i[l],A=i[l+1],(p<=h&&A<=p||h<=p&&p<=A)&&(x=(p-h)/(A-h)*(f-u)+u,d[o(161)](x)),u=f,h=A}let g=NaN,m=-1/0;for(d[o(162)](us),u=d[0],l=1,c=d[o(166)];l<c;++l){f=d[l];const _=Math[o(164)](f-u);_>m&&(x=(u+f)/2,WI(i,t,e,n,x,p)&&(g=x,m=_)),u=f}return isNaN(g)&&(g=r[s]),a?(a[o(161)](g,p,m),a):[g,p,m]}function Pd(){const i=["44381380tUwfDi","length","535854ojbtmq","3267817GoAaRn","13430655IjBwwQ","460205iwLKtJ","96eQKvAU","16zFtLQs","1095342LAdrjq","908244Xrkhqi","push","sort","8mNhwvL","abs"];return Pd=function(){return i},Pd()}function au(i,t){const e=Pd();return au=function(n,r){return n=n-160,e[n]},au(i,t)}function Aw(i,t,e,n,r){const s=au;let a=[];for(let o=0,l=e[s(166)];o<l;++o){const c=e[o];a=XI(i,t,c,n,r,2*o,a),t=c[c[s(166)]-1]}return a}function Ud(i,t){const e=Nd();return Ud=function(n,r){return n=n-181,e[n]},Ud(i,t)}(function(i,t){const e=Ud,n=i();for(;;)try{if(parseInt(e(186))/1+-parseInt(e(182))/2*(-parseInt(e(188))/3)+parseInt(e(189))/4+-parseInt(e(184))/5*(-parseInt(e(183))/6)+-parseInt(e(185))/7+parseInt(e(187))/8+-parseInt(e(181))/9===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Nd,999735);function dw(i,t,e,n,r){const s=Ud;let a;for(t+=n;t<e;t+=n)if(a=r(i[s(190)](t-n,t),i[s(190)](t,t+n)),a)return a;return!1}function Nd(){const i=["2843915FnbzYX","9858695QBWRwQ","436632TRWxWH","182760OmhDjf","3669XFkfVQ","4073492AzAWBi","slice","24650946aEtMTI","3210dwtGBS","18dPQMoD"];return Nd=function(){return i},Nd()}(function(i,t){const e=yc,n=i();for(;;)try{if(parseInt(e(277))/1*(parseInt(e(282))/2)+-parseInt(e(283))/3*(-parseInt(e(276))/4)+-parseInt(e(278))/5+-parseInt(e(281))/6+-parseInt(e(285))/7*(parseInt(e(275))/8)+parseInt(e(284))/9+parseInt(e(280))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Od,139930);function yc(i,t){const e=Od();return yc=function(n,r){return n=n-275,e[n]},yc(i,t)}function Od(){const i=["634668porKUK","16siziXR","30aZjbXf","25092ldmawo","39018qhuZaP","400feiQEC","103720BdGjDK","6981GNnVpT","156965jmxTjM","length","2378650vJreaG"];return Od=function(){return i},Od()}function Gd(i,t,e,n,r){const s=l3(ir(),i,t,e,n);return gn(r,s)?Ur(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:dw(i,t,e,n,function(a,o){return sT(r,a,o)}):!1}function wD(i,t,e,n,r){const s=yc;for(let a=0,o=e[s(279)];a<o;++a){if(Gd(i,t,e[a],n,r))return!0;t=e[a]}return!1}function pw(i,t,e,n,r){return!!(Gd(i,t,e,n,r)||t0(i,t,e,n,r[0],r[1])||t0(i,t,e,n,r[0],r[3])||t0(i,t,e,n,r[2],r[1])||t0(i,t,e,n,r[2],r[3]))}function gw(i,t,e,n,r){const s=yc;if(!pw(i,t,e[0],n,r))return!1;if(e[s(279)]===1)return!0;for(let a=1,o=e.length;a<o;++a)if(CD(i,e[a-1],e[a],n,r)&&!Gd(i,e[a-1],e[a],n,r))return!1;return!0}function BD(i,t,e,n,r){const s=yc;for(let a=0,o=e.length;a<o;++a){const l=e[a];if(gw(i,t,l,n,r))return!0;t=l[l[s(279)]-1]}return!1}function SD(i,t,e,n){for(;t<e-n;){for(let r=0;r<n;++r){const s=i[t+r];i[t+r]=i[e-n+r],i[e-n+r]=s}t+=n,e-=n}}(function(i,t){const e=Ya,n=i();for(;;)try{if(-parseInt(e(231))/1+-parseInt(e(245))/2*(-parseInt(e(234))/3)+-parseInt(e(236))/4*(parseInt(e(240))/5)+-parseInt(e(235))/6*(-parseInt(e(239))/7)+parseInt(e(241))/8*(parseInt(e(230))/9)+-parseInt(e(237))/10*(parseInt(e(243))/11)+parseInt(e(233))/12*(parseInt(e(232))/13)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vd,144813);function KI(i,t,e,n){let r=0,s=i[e-n],a=i[e-n+1];for(;t<e;t+=n){const o=i[t],l=i[t+1];r+=(o-s)*(l+a),s=o,a=l}return r===0?void 0:r>0}function JI(i,t,e,n,r){const s=Ya;r=r!==void 0?r:!1;for(let a=0,o=e[s(238)];a<o;++a){const l=e[a],c=KI(i,t,l,n);if(a===0){if(r&&c||!r&&!c)return!1}else if(r&&!c||!r&&c)return!1;t=l}return!0}function mw(i,t,e,n,r){const s=Ya;for(let a=0,o=e[s(238)];a<o;++a){const l=e[a];if(!JI(i,t,l,n,r))return!1;l[s(238)]&&(t=l[l[s(238)]-1])}return!0}function zd(i,t,e,n,r){const s=Ya;r=r!==void 0?r:!1;for(let a=0,o=e[s(238)];a<o;++a){const l=e[a],c=KI(i,t,l,n);(a===0?r&&c||!r&&!c:r&&!c||!r&&c)&&SD(i,t,l,n),t=l}return t}function jI(i,t,e,n,r){const s=Ya;for(let a=0,o=e[s(238)];a<o;++a)t=zd(i,t,e[a],n,r);return t}function Ya(i,t){const e=Vd();return Ya=function(n,r){return n=n-230,e[n]},Ya(i,t)}function _w(i,t){const e=Ya,n=[];let r=0,s=0,a;for(let o=0,l=t[e(238)];o<l;++o){const c=t[o],x=KI(i,r,c,2);if(a===void 0&&(a=x),x===a)n[e(244)](t[e(242)](s,o+1));else{if(n.length===0)continue;n[n[e(238)]-1][e(244)](t[s])}s=o+1,r=c}return n}function Vd(){const i=["150276pRpOCT","4lLbEPE","60lnNMoD","length","7xnWEWr","78140PHadSq","536816rfWAlJ","slice","240383XxqccL","push","4sFAPcK","9GynbgV","263363CDVAOs","1264289cvdnMK","48xMMPhg","110643mcoYGp"];return Vd=function(){return i},Vd()}const wt=ou;(function(i,t){const e=ou,n=i();for(;;)try{if(parseInt(e(222))/1+-parseInt(e(197))/2*(parseInt(e(236))/3)+parseInt(e(238))/4+-parseInt(e(214))/5+parseInt(e(207))/6+parseInt(e(232))/7*(parseInt(e(231))/8)+parseInt(e(234))/9*(-parseInt(e(227))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hd,687610);function Hd(){const i=["setCoordinates","getCoordinates","clone","layout","length","getLinearRing","getType","Cannot create polygon from empty extent","maxDelta_","807870rSdTUR","getFlatCoordinates","cos","getOrientedFlatCoordinates","getSimplifiedGeometryInternal","ends_","slice","103905YkEfhP","XYM","changed","flatInteriorPoint_","getCenter","getEnds","appendLinearRing","getLinearRings","66112pLIbxe","flatCoordinates","sqrt","getStride","orientedFlatCoordinates_","40QRqKNH","getInteriorPoint","flatInteriorPointRevision_","getRadius","20616CZNsuS","2653ZQGyXt","Polygon","2361501hJmNZI","getFlatInteriorPoint","151782IwTzKT","setFlatCoordinates","4952916GexnVI","setLayout","orientedRevision_","push","maxDeltaRevision_","getRevision","closestPointXY","containsXY","intersectsExtent","getLayout","applyProperties","getLinearRingCount","getExtent","stride","26bpRZsB"];return Hd=function(){return i},Hd()}function ou(i,t){const e=Hd();return ou=function(n,r){return n=n-191,e[n]},ou(i,t)}class js extends Jo{constructor(t,e,n){const r=ou;super(),this[r(212)]=[],this[r(229)]=-1,this[r(217)]=null,this[r(206)]=-1,this.maxDeltaRevision_=-1,this[r(240)]=-1,this[r(226)]=null,e!==void 0&&n?(this[r(237)](e,t),this[r(212)]=n):this.setCoordinates(t,e)}[wt(220)](t){const e=wt;this.flatCoordinates?fs(this[e(223)],t[e(208)]()):this[e(223)]=t[e(208)]().slice(),this[e(212)][e(241)](this[e(223)][e(202)]),this[e(216)]()}[wt(200)](){const t=wt,e=new js(this[t(223)][t(213)](),this[t(201)],this[t(212)][t(213)]());return e[t(193)](this),e}[wt(244)](t,e,n,r){const s=wt;return r<Uo(this[s(195)](),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this[s(206)]=Math[s(224)](zI(this[s(223)],0,this[s(212)],this[s(196)],0)),this[s(242)]=this.getRevision()),HI(this[s(223)],0,this[s(212)],this[s(196)],this[s(206)],!0,t,e,n,r))}[wt(245)](t,e){const n=wt;return WI(this[n(210)](),0,this[n(212)],this[n(196)],t,e)}getArea(){const t=wt;return hw(this[t(210)](),0,this[t(212)],this[t(196)])}[wt(199)](t){const e=wt;let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),zd(n,0,this[e(212)],this[e(196)],t)):n=this[e(223)],nu(n,0,this[e(212)],this[e(196)])}[wt(219)](){return this[wt(212)]}[wt(235)](){const t=wt;if(this.flatInteriorPointRevision_!=this[t(243)]()){const e=Er(this[t(195)]());this[t(217)]=XI(this.getOrientedFlatCoordinates(),0,this.ends_,this[t(196)],e,0),this[t(229)]=this.getRevision()}return this[t(217)]}[wt(228)](){const t=wt;return new Js(this.getFlatInteriorPoint(),t(215))}[wt(194)](){const t=wt;return this.ends_[t(202)]}[wt(203)](t){const e=wt;return t<0||this[e(212)][e(202)]<=t?null:new ru(this[e(223)][e(213)](t===0?0:this[e(212)][t-1],this[e(212)][t]),this.layout)}[wt(221)](){const t=wt,e=this.layout,n=this.flatCoordinates,r=this.ends_,s=[];let a=0;for(let o=0,l=r[t(202)];o<l;++o){const c=r[o],x=new ru(n.slice(a,c),e);s[t(241)](x),a=c}return s}[wt(210)](){const t=wt;if(this.orientedRevision_!=this[t(243)]()){const e=this[t(223)];JI(e,0,this[t(212)],this[t(196)])?this[t(226)]=e:(this.orientedFlatCoordinates_=e.slice(),this[t(226)][t(202)]=zd(this[t(226)],0,this[t(212)],this.stride)),this[t(240)]=this[t(243)]()}return this.orientedFlatCoordinates_}[wt(211)](t){const e=wt,n=[],r=[];return n[e(202)]=qI(this[e(223)],0,this[e(212)],this[e(196)],Math[e(224)](t),n,0,r),new js(n,"XY",r)}[wt(204)](){return wt(233)}[wt(191)](t){const e=wt;return gw(this[e(210)](),0,this[e(212)],this.stride,t)}[wt(198)](t,e){const n=wt;this[n(239)](e,t,2),!this[n(223)]&&(this[n(223)]=[]);const r=eu(this[n(223)],0,t,this.stride,this[n(212)]);this[n(223)][n(202)]=r[n(202)]===0?0:r[r.length-1],this[n(216)]()}}function Iw(i){const t=wt;if(Oo(i))throw new Error(t(205));const e=i[0],n=i[1],r=i[2],s=i[3],a=[e,n,e,s,r,s,r,n,e,n];return new js(a,"XY",[a.length])}const ie=cu;(function(i,t){const e=cu,n=i();for(;;)try{if(-parseInt(e(308))/1+parseInt(e(193))/2*(parseInt(e(175))/3)+parseInt(e(337))/4*(-parseInt(e(273))/5)+-parseInt(e(323))/6+-parseInt(e(264))/7+-parseInt(e(276))/8+parseInt(e(312))/9*(parseInt(e(256))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Yd,403157);function cu(i,t){const e=Yd();return cu=function(n,r){return n=n-172,e[n]},cu(i,t)}const ZI=0;class Es extends ps{constructor(t){const e=cu;super(),this.on,this[e(277)],this.un,t=Object.assign({},t),this[e(185)]=[0,0],this[e(298)]=[],this[e(218)],this[e(231)]=tI(t[e(174)],e(220)),this[e(173)]=[100,100],this.targetCenter_=null,this[e(306)],this[e(226)],this.nextCenter_=null,this[e(305)],this.nextRotation_,this[e(316)]=void 0,t[e(174)]&&g3(),t[e(318)]&&(t[e(318)]=Ys(t[e(318)],this[e(231)])),t[e(188)]&&(t[e(188)]=ls(t[e(188)],this.projection_)),this.applyOptions_(t)}[ie(246)](t){const e=ie,n=Object[e(307)]({},t);for(const l in Vr)delete n[l];this[e(327)](n,!0);const r=RD(t);this[e(335)]=r.maxResolution,this[e(296)]=r.minResolution,this[e(322)]=r[e(244)],this.resolutions_=t[e(211)],this[e(319)]=t[e(257)],this[e(205)]=r[e(258)];const s=MD(t),a=r[e(295)],o=TD(t);this.constraints_={center:s,resolution:a,rotation:o},this[e(279)](t[e(176)]!==void 0?t[e(176)]:0),this[e(217)](t[e(318)]!==void 0?t.center:null),t[e(262)]!==void 0?this[e(208)](t.resolution):t[e(329)]!==void 0&&this.setZoom(t.zoom)}get[ie(257)](){return this[ie(319)]}set padding(t){const e=ie;let n=this.padding_;this.padding_=t;const r=this.getCenterInternal();if(r){const s=t||[0,0,0,0];n=n||[0,0,0,0];const a=this[e(172)](),o=a/2*(s[3]-n[3]+n[1]-s[1]),l=a/2*(s[0]-n[0]+n[2]-s[2]);this[e(217)]([r[0]+o,r[1]-l])}}[ie(203)](t){const e=ie,n=this.getProperties();return n[e(262)]!==void 0?n[e(262)]=this[e(172)]():n[e(329)]=this.getZoom(),n[e(318)]=this[e(214)](),n[e(176)]=this[e(207)](),Object[e(307)]({},n,t)}[ie(332)](t){const e=ie;this[e(271)]()&&!this[e(266)]()&&this.resolveConstraints(0);const n=new Array(arguments[e(192)]);for(let r=0;r<n.length;++r){let s=arguments[r];s[e(318)]&&(s=Object[e(307)]({},s),s[e(318)]=Ys(s[e(318)],this[e(201)]())),s[e(228)]&&(s=Object[e(307)]({},s),s[e(228)]=Ys(s[e(228)],this[e(201)]())),n[r]=s}this.animateInternal[e(317)](this,n)}[ie(300)](t){const e=ie;let n=arguments.length,r;n>1&&typeof arguments[n-1]===e(261)&&(r=arguments[n-1],--n);let s=0;for(;s<n&&!this[e(271)]();++s){const u=arguments[s];u[e(318)]&&this.setCenterInternal(u[e(318)]),u[e(329)]!==void 0?this[e(334)](u.zoom):u[e(262)]&&this[e(208)](u[e(262)]),u.rotation!==void 0&&this.setRotation(u[e(176)])}if(s===n){r&&qd(r,!0);return}let a=Date[e(253)](),o=this.targetCenter_.slice(),l=this[e(306)],c=this[e(226)];const x=[];for(;s<n;++s){const u=arguments[s],f={start:a,complete:!1,anchor:u[e(228)],duration:u.duration!==void 0?u[e(259)]:1e3,easing:u[e(212)]||hD,callback:r};if(u[e(318)]&&(f[e(285)]=o,f[e(225)]=u[e(318)][e(283)](),o=f[e(225)]),u.zoom!==void 0?(f[e(292)]=l,f.targetResolution=this[e(280)](u[e(329)]),l=f[e(210)]):u.resolution&&(f[e(292)]=l,f[e(210)]=u.resolution,l=f.targetResolution),u[e(176)]!==void 0){f[e(180)]=c;const h=ec(u[e(176)]-c+Math.PI,2*Math.PI)-Math.PI;f[e(200)]=c+h,c=f[e(200)]}DD(f)?f.complete=!0:a+=f.duration,x[e(227)](f)}this[e(298)][e(227)](x),this[e(247)](xn.ANIMATING,1),this.updateAnimations_()}[ie(266)](){return this[ie(185)][xn.ANIMATING]>0}getInteracting(){const t=ie;return this[t(185)][xn[t(182)]]>0}[ie(243)](){const t=ie;this[t(247)](xn.ANIMATING,-this.hints_[xn.ANIMATING]);let e;for(let n=0,r=this.animations_[t(192)];n<r;++n){const s=this[t(298)][n];if(s[0][t(224)]&&qd(s[0][t(224)],!1),!e)for(let a=0,o=s[t(192)];a<o;++a){const l=s[a];if(!l[t(330)]){e=l[t(228)];break}}}this.animations_.length=0,this[t(316)]=e,this[t(268)]=null,this[t(305)]=NaN,this[t(189)]=NaN}[ie(195)](){const t=ie;if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this[t(218)]=void 0),!this[t(266)]())return;const e=Date[t(253)]();let n=!1;for(let r=this[t(298)][t(192)]-1;r>=0;--r){const s=this[t(298)][r];let a=!0;for(let o=0,l=s[t(192)];o<l;++o){const c=s[o];if(c.complete)continue;const x=e-c[t(204)];let u=c[t(259)]>0?x/c[t(259)]:1;u>=1?(c.complete=!0,u=1):a=!1;const f=c[t(212)](u);if(c[t(285)]){const h=c[t(285)][0],A=c[t(285)][1],p=c.targetCenter[0],d=c[t(225)][1];this[t(268)]=c[t(225)];const g=h+f*(p-h),m=A+f*(d-A);this.targetCenter_=[g,m]}if(c[t(292)]&&c[t(210)]){const h=f===1?c[t(210)]:c[t(292)]+f*(c[t(210)]-c[t(292)]);if(c.anchor){const A=this.getViewportSize_(this[t(207)]()),p=this[t(333)].resolution(h,0,A,!0);this.targetCenter_=this[t(209)](p,c[t(228)])}this[t(305)]=c[t(210)],this[t(306)]=h,this[t(286)](!0)}if(c.sourceRotation!==void 0&&c[t(200)]!==void 0){const h=f===1?ec(c[t(200)]+Math.PI,2*Math.PI)-Math.PI:c[t(180)]+f*(c.targetRotation-c[t(180)]);if(c.anchor){const A=this[t(333)].rotation(h,!0);this[t(194)]=this[t(191)](A,c[t(228)])}this[t(189)]=c[t(200)],this[t(226)]=h}if(this[t(286)](!0),n=!0,!c[t(330)])break}if(a){this.animations_[r]=null,this[t(247)](xn[t(284)],-1),this.nextCenter_=null,this[t(305)]=NaN,this[t(189)]=NaN;const o=s[0][t(224)];o&&qd(o,!0)}}this.animations_=this[t(298)].filter(Boolean),n&&this[t(218)]===void 0&&(this[t(218)]=requestAnimationFrame(this[t(195)][t(303)](this)))}calculateCenterRotate(t,e){const n=ie;let r;const s=this[n(214)]();return s!==void 0&&(r=[s[0]-e[0],s[1]-e[1]],J2(r,t-this[n(207)]()),cT(r,e)),r}[ie(209)](t,e){const n=ie;let r;const s=this[n(214)](),a=this.getResolution();if(s!==void 0&&a!==void 0){const o=e[0]-t*(e[0]-s[0])/a,l=e[1]-t*(e[1]-s[1])/a;r=[o,l]}return r}[ie(321)](t){const e=ie,n=this[e(173)];if(t){const r=n[0],s=n[1];return[Math[e(289)](r*Math[e(336)](t))+Math.abs(s*Math.sin(t)),Math.abs(r*Math[e(239)](t))+Math[e(289)](s*Math[e(336)](t))]}return n}[ie(272)](t){const e=ie;this[e(173)]=Array[e(282)](t)?t.slice():[100,100],!this[e(266)]()&&this[e(186)](0)}[ie(301)](){const t=ie,e=this[t(214)]();return e&&rI(e,this[t(201)]())}[ie(214)](){return this[ie(325)](Vr.CENTER)}[ie(331)](){return this[ie(333)]}getConstrainResolution(){const t=ie;return this[t(325)](t(265))}[ie(251)](t){const e=ie;return t!==void 0?(t[0]=this[e(185)][0],t[1]=this.hints_[1],t):this.hints_[e(283)]()}[ie(270)](t){const e=ie,n=this[e(278)](t);return sI(n,this[e(201)]())}[ie(278)](t){const e=ie;t=t||this[e(197)]();const n=this[e(214)]();Mt(n,e(206));const r=this.getResolution();Mt(r!==void 0,"The view resolution is not defined");const s=this[e(207)]();return Mt(s!==void 0,e(255)),$h(n,r,s,t)}[ie(230)](){return this[ie(335)]}[ie(235)](){return this[ie(296)]}[ie(288)](){const t=ie;return this[t(294)](this[t(296)])}[ie(281)](t){const e=ie;this[e(246)](this[e(203)]({maxZoom:t}))}[ie(304)](){const t=ie;return this.getZoomForResolution(this[t(335)])}[ie(313)](t){this[ie(246)](this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){const e=ie;this[e(246)](this[e(203)]({constrainResolution:t}))}[ie(201)](){return this[ie(231)]}getResolution(){const t=ie;return this[t(325)](Vr[t(311)])}[ie(181)](){return this[ie(187)]}[ie(326)](t,e){const n=ie;return this.getResolutionForExtentInternal(ls(t,this[n(201)]()),e)}[ie(254)](t,e){const n=ie;e=e||this[n(197)]();const r=lt(t)/e[0],s=rn(t)/e[1];return Math[n(179)](r,s)}[ie(290)](t){const e=ie;t=t||2;const n=this[e(245)](this[e(335)]),r=this[e(296)],s=Math[e(248)](n/r)/Math[e(248)](t);return function(a){return n/Math[e(242)](t,a*s)}}[ie(207)](){return this[ie(325)](Vr.ROTATION)}[ie(229)](t){const e=ie,n=Math.log(t||2),r=this[e(245)](this.maxResolution_),s=this[e(296)],a=Math[e(248)](r/s)/n;return function(o){return Math[e(248)](r/o)/n/a}}[ie(197)](t){const e=ie;let n=this.getViewportSize_(t);const r=this[e(319)];return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}[ie(202)](){const t=ie,e=this[t(201)](),n=this[t(172)](),r=this[t(207)]();let s=this.getCenterInternal();const a=this[t(319)];if(a){const o=this[t(197)]();s=$I(s,this.getViewportSize_(),[o[0]/2+a[3],o[1]/2+a[0]],n,r)}return{center:s[t(283)](0),projection:e!==void 0?e:null,resolution:n,nextCenter:this[t(268)],nextResolution:this.nextResolution_,nextRotation:this[t(189)],rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){const t=ie;let e;const n=this.getResolution();return n!==void 0&&(e=this[t(294)](n)),e}getZoomForResolution(t){const e=ie;let n=this[e(205)]||0,r,s;if(this[e(187)]){const a=CA(this.resolutions_,t,1);n=a,r=this[e(187)][a],a==this[e(187)][e(192)]-1?s=2:s=r/this[e(187)][a+1]}else r=this[e(335)],s=this[e(322)];return n+Math[e(248)](r/t)/Math[e(248)](s)}[ie(280)](t){var n;const e=ie;if((n=this[e(187)])!=null&&n[e(192)]){if(this[e(187)][e(192)]===1)return this[e(187)][0];const r=mn(Math[e(178)](t),0,this[e(187)].length-2),s=this.resolutions_[r]/this[e(187)][r+1];return this[e(187)][r]/Math[e(242)](s,mn(t-r,0,1))}return this.maxResolution_/Math[e(242)](this[e(322)],t-this[e(205)])}[ie(275)](t,e){const n=ie;let r;if(Mt(Array[n(282)](t)||typeof t.getSimplifiedGeometry===n(261),n(287)),Array[n(282)](t)){Mt(!Oo(t),n(219));const s=ls(t,this[n(201)]());r=Iw(s)}else if(t[n(233)]()===n(267)){const s=ls(t[n(314)](),this[n(201)]());r=Iw(s),r.rotate(this.getRotation(),Er(s))}else r=t;this.fitInternal(r,e)}[ie(234)](t){const e=ie,n=this.getRotation(),r=Math[e(336)](n),s=Math[e(239)](-n),a=t[e(324)](),o=t[e(310)]();let l=1/0,c=1/0,x=-1/0,u=-1/0;for(let f=0,h=a.length;f<h;f+=o){const A=a[f]*r-a[f+1]*s,p=a[f]*s+a[f+1]*r;l=Math.min(l,A),c=Math[e(184)](c,p),x=Math[e(179)](x,A),u=Math[e(179)](u,p)}return[l,c,x,u]}[ie(232)](t,e){const n=ie;e=e||{};let r=e.size;!r&&(r=this[n(197)]());const s=e[n(257)]!==void 0?e[n(257)]:[0,0,0,0],a=e[n(196)]!==void 0?e.nearest:!1;let o;e[n(199)]!==void 0?o=e[n(199)]:e[n(299)]!==void 0?o=this[n(280)](e.maxZoom):o=0;const l=this[n(234)](t);let c=this[n(254)](l,[r[0]-s[1]-s[3],r[1]-s[0]-s[2]]);c=isNaN(c)?o:Math.max(c,o),c=this[n(245)](c,a?0:1);const x=this[n(207)](),u=Math[n(239)](x),f=Math[n(336)](x),h=Er(l);h[0]+=(s[1]-s[3])/2*c,h[1]+=(s[0]-s[2])/2*c;const A=h[0]*f-h[1]*u,p=h[1]*f+h[0]*u,d=this[n(297)]([A,p],c),g=e[n(224)]?e.callback:ic;e.duration!==void 0?this[n(300)]({resolution:c,center:d,duration:e.duration,easing:e[n(212)]},g):(this[n(306)]=c,this[n(194)]=d,this.applyTargetState_(!1,!0),qd(g,!0))}[ie(177)](t,e,n){const r=ie;this.centerOnInternal(Ys(t,this[r(201)]()),e,n)}centerOnInternal(t,e,n){const r=ie;this[r(217)]($I(t,e,n,this[r(172)](),this[r(207)]()))}calculateCenterShift(t,e,n,r){const s=ie;let a;const o=this[s(319)];if(o&&t){const l=this[s(197)](-n),c=$I(t,r,[l[0]/2+o[3],l[1]/2+o[0]],e,n);a=[t[0]-c[0],t[1]-c[1]]}return a}[ie(271)](){return!!this[ie(214)]()&&this.getResolution()!==void 0}[ie(237)](t){const e=ie,n=rI(this[e(194)],this[e(201)]());this[e(190)]([n[0]+t[0],n[1]+t[1]])}[ie(223)](t){const e=ie,n=this[e(194)];this[e(217)]([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,e){const n=ie;e=e&&Ys(e,this[n(201)]()),this[n(309)](t,e)}[ie(309)](t,e){const n=ie,r=this[n(266)]()||this[n(260)](),s=this[n(321)](this[n(207)]()),a=this[n(333)].resolution(this[n(306)]*t,0,s,r);e&&(this.targetCenter_=this[n(209)](a,e)),this[n(306)]*=t,this[n(286)]()}[ie(241)](t,e){const n=ie;this.adjustResolution(Math[n(242)](this[n(322)],-t),e)}adjustRotation(t,e){e&&(e=Ys(e,this[ie(201)]())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const n=ie,r=this[n(266)]()||this[n(260)](),s=this[n(333)][n(176)](this[n(226)]+t,r);e&&(this[n(194)]=this[n(191)](s,e)),this[n(226)]+=t,this.applyTargetState_()}[ie(190)](t){const e=ie;this[e(217)](t&&Ys(t,this[e(201)]()))}setCenterInternal(t){const e=ie;this.targetCenter_=t,this[e(286)]()}setHint(t,e){const n=ie;return this[n(185)][t]+=e,this[n(328)](),this[n(185)][t]}setResolution(t){const e=ie;this[e(306)]=t,this[e(286)]()}[ie(279)](t){const e=ie;this.targetRotation_=t,this[e(286)]()}[ie(334)](t){const e=ie;this[e(208)](this[e(280)](t))}[ie(286)](t,e){const n=ie,r=this.getAnimating()||this[n(260)]()||e,s=this[n(333)].rotation(this[n(226)],r),a=this[n(321)](s),o=this[n(333)][n(262)](this[n(306)],0,a,r),l=this[n(333)][n(318)](this[n(194)],o,a,r,this[n(221)](this.targetCenter_,o,s,a));this[n(325)](Vr[n(315)])!==s&&this[n(238)](Vr[n(315)],s),this[n(325)](Vr[n(311)])!==o&&(this[n(238)](Vr[n(311)],o),this[n(238)](n(329),this[n(216)](),!0)),(!l||!this[n(325)](Vr[n(215)])||!sA(this[n(325)](Vr[n(215)]),l))&&this[n(238)](Vr[n(215)],l),this[n(266)]()&&!t&&this[n(243)](),this[n(316)]=void 0}resolveConstraints(t,e,n){const r=ie;t=t!==void 0?t:200;const s=e||0,a=this[r(333)].rotation(this.targetRotation_),o=this.getViewportSize_(a),l=this[r(333)][r(262)](this.targetResolution_,s,o),c=this.constraints_[r(318)](this.targetCenter_,l,o,!1,this[r(221)](this[r(194)],l,a,o));if(t===0&&!this[r(316)]){this[r(306)]=l,this[r(226)]=a,this[r(194)]=c,this[r(286)]();return}n=n||(t===0?this[r(316)]:void 0),this[r(316)]=void 0,(this[r(172)]()!==l||this[r(207)]()!==a||!this.getCenterInternal()||!sA(this.getCenterInternal(),c))&&(this[r(266)]()&&this[r(243)](),this[r(300)]({rotation:a,center:c,resolution:l,duration:t,easing:Ic,anchor:n}))}beginInteraction(){const t=ie;this[t(186)](0),this[t(247)](xn[t(182)],1)}[ie(240)](t,e,n){const r=ie;n=n&&Ys(n,this[r(201)]()),this[r(320)](t,e,n)}[ie(320)](t,e,n){const r=ie;this[r(260)]()&&(this[r(247)](xn[r(182)],-1),this[r(186)](t,e,n))}[ie(297)](t,e){const n=ie,r=this[n(321)](this[n(207)]());return this[n(333)][n(318)](t,e||this[n(172)](),r)}[ie(236)](t,e){const n=ie,r=this.getResolutionForZoom(t);return this[n(294)](this.getConstrainedResolution(r,e))}[ie(245)](t,e){const n=ie;e=e||0;const r=this.getViewportSize_(this[n(207)]());return this[n(333)][n(262)](t,e,r)}}function qd(i,t){setTimeout(function(){i(t)},0)}function MD(i){const t=ie;if(i[t(188)]!==void 0){const n=i[t(249)]!==void 0?i.smoothExtentConstraint:!0;return tw(i.extent,i[t(183)],n)}const e=tI(i[t(174)],"EPSG:3857");if(i.multiWorld!==!0&&e[t(222)]()){const n=e[t(314)]().slice();return n[0]=-1/0,n[2]=1/0,tw(n,!1,!1)}return cD}function RD(i){const t=ie;let e,n,r;const s=28,a=2;let o=i[t(258)]!==void 0?i.minZoom:ZI,l=i[t(299)]!==void 0?i[t(299)]:s;const c=i[t(244)]!==void 0?i[t(244)]:a,x=i[t(198)]!==void 0?i[t(198)]:!1,u=i.smoothResolutionConstraint!==void 0?i[t(252)]:!0,f=i[t(263)]!==void 0?i[t(263)]:!1,h=tI(i[t(174)],"EPSG:3857"),A=h.getExtent();let p=i[t(183)],d=i[t(188)];if(!x&&!d&&h[t(222)]()&&(p=!1,d=A),i[t(211)]!==void 0){const g=i.resolutions;n=g[o],r=g[l]!==void 0?g[l]:g[g[t(192)]-1],i.constrainResolution?e=lD(g,u,!p&&d,f):e=nw(n,r,u,!p&&d,f)}else{const g=A?Math[t(179)](lt(A),rn(A)):360*Ta[t(213)]/h[t(250)](),m=g/kI/Math[t(242)](a,ZI),_=m/Math[t(242)](a,s-ZI);n=i.maxResolution,n!==void 0?o=0:n=m/Math.pow(c,o),r=i[t(199)],r===void 0&&(i.maxZoom!==void 0?i[t(274)]!==void 0?r=n/Math[t(242)](c,l):r=m/Math[t(242)](c,l):r=_),l=o+Math[t(178)](Math[t(248)](n/r)/Math[t(248)](c)),r=n/Math[t(242)](c,l-o),i[t(265)]?e=xD(c,n,r,u,!p&&d,f):e=nw(n,r,u,!p&&d,f)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:c}}function TD(i){const t=ie;if(i.enableRotation!==void 0?i[t(293)]:!0){const n=i[t(291)];return n===void 0||n===!0?fD():n===!1?iw:typeof n===t(302)?uD(n):iw}return NI}function Yd(){const i=["length","252hWRoGj","targetCenter_","updateAnimations_","nearest","getViewportSizeMinusPadding_","multiWorld","minResolution","targetRotation","getProjection","getState","getUpdatedOptions_","start","minZoom_","The view center is not defined","getRotation","setResolution","calculateCenterZoom","targetResolution","resolutions","easing","degrees","getCenterInternal","CENTER","getZoom","setCenterInternal","updateAnimationKey_","Cannot fit empty extent provided as `geometry`","EPSG:3857","calculateCenterShift","isGlobal","adjustCenterInternal","callback","targetCenter","targetRotation_","push","anchor","getValueForResolutionFunction","getMaxResolution","projection_","fitInternal","getType","rotatedExtentForGeometry","getMinResolution","getConstrainedZoom","adjustCenter","set","sin","endInteraction","adjustZoom","pow","cancelAnimations","zoomFactor","getConstrainedResolution","applyOptions_","setHint","log","smoothExtentConstraint","getMetersPerUnit","getHints","smoothResolutionConstraint","now","getResolutionForExtentInternal","The view rotation is not defined","10BpAxKF","padding","minZoom","duration","getInteracting","function","resolution","showFullExtent","2454158VsqcSf","constrainResolution","getAnimating","Circle","nextCenter_","clone","calculateExtent","isDef","setViewportSize","5ihSZFS","maxResolution","fit","4921824bxENwS","once","calculateExtentInternal","setRotation","getResolutionForZoom","setMaxZoom","isArray","slice","ANIMATING","sourceCenter","applyTargetState_","Invalid extent or geometry provided as `geometry`","getMaxZoom","abs","getResolutionForValueFunction","constrainRotation","sourceResolution","enableRotation","getZoomForResolution","constraint","minResolution_","getConstrainedCenter","animations_","maxZoom","animateInternal","getCenter","number","bind","getMinZoom","nextResolution_","targetResolution_","assign","562245mxHBlt","adjustResolutionInternal","getStride","RESOLUTION","22027779BdmDSv","setMinZoom","getExtent","ROTATION","cancelAnchor_","apply","center","padding_","endInteractionInternal","getViewportSize_","zoomFactor_","3508572SOhqAQ","getFlatCoordinates","get","getResolutionForExtent","setProperties","changed","zoom","complete","getConstraints","animate","constraints_","setZoom","maxResolution_","cos","970556EIasbc","getResolution","viewportSize_","projection","7407aJzaPu","rotation","centerOn","floor","max","sourceRotation","getResolutions","INTERACTING","constrainOnlyCenter","min","hints_","resolveConstraints","resolutions_","extent","nextRotation_","setCenter","calculateCenterRotate"];return Yd=function(){return i},Yd()}function DD(i){const t=ie;return!(i[t(285)]&&i[t(225)]&&!sA(i[t(285)],i[t(225)])||i[t(292)]!==i[t(210)]||i[t(180)]!==i.targetRotation)}function $I(i,t,e,n,r){const s=ie,a=Math[s(336)](-r);let o=Math.sin(-r),l=i[0]*a-i[1]*o,c=i[1]*a+i[0]*o;l+=(t[0]/2-e[0])*n,c+=(e[1]-t[1]/2)*n,o=-o;const x=l*a-c*o,u=c*a+l*o;return[x,u]}const gt=bc;(function(i,t){const e=bc,n=i();for(;;)try{if(-parseInt(e(484))/1+parseInt(e(481))/2*(-parseInt(e(449))/3)+parseInt(e(438))/4+parseInt(e(465))/5*(-parseInt(e(437))/6)+parseInt(e(466))/7*(-parseInt(e(444))/8)+-parseInt(e(424))/9+parseInt(e(446))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wd,429095);function Wd(){const i=["SOURCE","calculateExtent","MAP","changed","unrender","dispose","handlePrecompose_","layer","map","ready","getLayerGroup","2596842OZgngW","getSourceState","disposeInternal","getAttributions","hasRenderer","getMapInternal","get","PRECOMPOSE","getSource","maxResolution","getLayerStatesArray","setSource","resolution","6sDlBUD","2859868ZhRWQW","isVisible","set","resolve","sourceChangeKey_","rendered","8EAukHZ","setMap","21370020qzkHTx","sourceReady_","getData","165KqNVnr","createRenderer","layerStatesArray","source","frameState","handleSourcePropertyChange_","handleSourceChange_","setMapInternal","render","getView","renderer_","extent","maxZoom","push","minResolution","addChangeListener","3641105JAZKnR","5878663sxQPok","getRenderer","assign","getLayerState","getExtent","mapRenderKey_","isArray","getState","sourceready","A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both.","undefined","mapPrecomposeKey_","CHANGE","getViewStateAndExtent","renderDeferred","20556NTGSmi","zoom","dispatchEvent","1016suAewu","getFeatures"];return Wd=function(){return i},Wd()}let n0=class extends Z3{constructor(t){const e=bc,n=Object[e(468)]({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this[e(471)]=null,this.sourceChangeKey_=null,this[e(459)]=null,this[e(447)]=!1,this[e(443)]=!1,t[e(457)]&&(this[e(457)]=t.render),t[e(421)]&&this[e(445)](t.map),this[e(464)](Vt[e(486)],this[e(454)]);const r=t[e(452)]?t.source:null;this[e(435)](r)}getLayersArray(t){const e=bc;return t=t||[],t[e(462)](this),t}[gt(434)](t){const e=gt;return t=t||[],t[e(462)](this.getLayerState()),t}[gt(432)](){const t=gt;return this[t(430)](Vt[t(486)])||null}getRenderSource(){return this.getSource()}[gt(425)](){const t=gt,e=this[t(432)]();return e?e[t(473)]():t(476)}handleSourceChange_(){const t=gt;this[t(416)](),!(this[t(447)]||this[t(432)]()[t(473)]()!=="ready")&&(this[t(447)]=!0,this.dispatchEvent(t(474)))}[gt(454)](){const t=gt;this[t(442)]&&(Xt(this[t(442)]),this[t(442)]=null),this[t(447)]=!1;const e=this[t(432)]();e&&(this[t(442)]=yt(e,Ye[t(478)],this[t(455)],this),e.getState()===t(422)&&(this.sourceReady_=!0,setTimeout(()=>{const n=t;this[n(483)](n(474))},0))),this.changed()}[gt(485)](t){const e=gt;return this[e(459)]?this.renderer_[e(485)](t):Promise[e(441)]([])}[gt(448)](t){const e=gt;return!this[e(459)]||!this[e(443)]?null:this.renderer_.getData(t)}[gt(439)](t){const e=gt;let n;const r=this[e(429)]();!t&&r&&(t=r[e(458)]()),t instanceof Es?n={viewState:t[e(473)](),extent:t[e(487)]()}:n=t,!n[e(451)]&&r&&(n[e(451)]=r[e(423)]()[e(434)]());let s;if(n[e(451)]){if(s=n[e(451)].find(o=>o.layer===this),!s)return!1}else s=this[e(469)]();const a=this[e(470)]();return eE(s,n.viewState)&&(!a||gn(a,n[e(460)]))}[gt(427)](t){var a;const e=gt;if(!this.isVisible(t))return[];const n=(a=this[e(432)]())==null?void 0:a[e(427)]();if(!n)return[];const r=t instanceof Es?t[e(479)]():t;let s=n(r);return!Array[e(472)](s)&&(s=[s]),s}[gt(457)](t,e){const n=gt,r=this[n(467)]();return r.prepareFrame(t)?(this[n(443)]=!0,r.renderFrame(t,e)):null}[gt(417)](){this.rendered=!1}getDeclutter(){}renderDeclutter(t,e){}[gt(480)](t){const e=gt,n=this.getRenderer();n&&n[e(480)](t)}[gt(456)](t){const e=gt;!t&&this.unrender(),this[e(440)](Vt[e(488)],t)}getMapInternal(){const t=gt;return this[t(430)](Vt[t(488)])}[gt(445)](t){const e=gt;this[e(477)]&&(Xt(this[e(477)]),this[e(477)]=null),!t&&this.changed(),this[e(471)]&&(Xt(this[e(471)]),this.mapRenderKey_=null),t&&(this[e(477)]=yt(t,br[e(431)],this.handlePrecompose_,this),this[e(471)]=yt(this,Ye.CHANGE,t[e(457)],t),this[e(416)]())}[gt(419)](t){const e=gt,n=t[e(453)].layerStatesArray,r=this[e(469)](!1);Mt(!n.some(s=>s[e(420)]===r[e(420)]),e(475)),n.push(r)}[gt(435)](t){const e=gt;this[e(440)](Vt[e(486)],t)}getRenderer(){const t=gt;return!this.renderer_&&(this[t(459)]=this[t(450)]()),this.renderer_}[gt(428)](){return!!this[gt(459)]}createRenderer(){return null}[gt(426)](){const t=gt;this.renderer_&&(this[t(459)][t(418)](),delete this[t(459)]),this[t(435)](null),super[t(426)]()}};function bc(i,t){const e=Wd();return bc=function(n,r){return n=n-416,e[n]},bc(i,t)}function eE(i,t){const e=gt;if(!i.visible)return!1;const n=t[e(436)];if(n<i[e(463)]||n>=i[e(433)])return!1;const r=t[e(482)];return r>i.minZoom&&r<=i[e(461)]}function Xd(){var i=["680DiUMpW","8701kcXFTo","9289wHAAmp","921876ezuQAw","1551196nUFmdA","29682TosJgO","98AdltDI","2461716dpinqG","988460ezuXte","190GvtLxt","5ZllVSk"];return Xd=function(){return i},Xd()}(function(i,t){for(var e=tE,n=i();;)try{var r=parseInt(e(115))/1*(-parseInt(e(109))/2)+-parseInt(e(117))/3+-parseInt(e(107))/4*(-parseInt(e(113))/5)+parseInt(e(110))/6+parseInt(e(116))/7*(parseInt(e(114))/8)+-parseInt(e(108))/9*(-parseInt(e(112))/10)+parseInt(e(111))/11;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Xd,329761);class QD extends n0{constructor(t){t=t||{},super(t)}}function tE(i,t){var e=Xd();return tE=function(n,r){n=n-107;var s=e[n];return s},tE(i,t)}const Qn=lu;(function(i,t){const e=lu,n=i();for(;;)try{if(-parseInt(e(416))/1*(-parseInt(e(428))/2)+parseInt(e(404))/3+-parseInt(e(418))/4*(-parseInt(e(405))/5)+parseInt(e(392))/6*(parseInt(e(406))/7)+-parseInt(e(431))/8*(-parseInt(e(395))/9)+-parseInt(e(430))/10+-parseInt(e(397))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Kd,425251);function lu(i,t){const e=Kd();return lu=function(n,r){return n=n-392,e[n]},lu(i,t)}const LD=5;class FD extends Gx{constructor(t){const e=lu;super(),this.ready=!0,this[e(394)]=this[e(421)][e(402)](this),this[e(414)]=t,this[e(415)]=new Array,this[e(429)]=LD}[Qn(403)](){return this.staleKeys_}[Qn(409)](t){const e=Qn;this.staleKeys_.unshift(t),this.staleKeys_[e(412)]>this[e(429)]&&(this[e(415)].length=this[e(429)])}[Qn(396)](t){return Je()}[Qn(401)](t){return null}[Qn(427)](t){return Je()}[Qn(424)](t,e){return Je()}[Qn(422)](t,e,n,r,s){}[Qn(398)](){return this[Qn(414)]}[Qn(407)](){}[Qn(421)](t){const e=Qn,n=t.target;(n[e(425)]()===ke.LOADED||n[e(425)]()===ke[e(399)])&&this[e(420)]()}[Qn(423)](t){const e=Qn;let n=t[e(425)]();return n!=ke.LOADED&&n!=ke[e(399)]&&t[e(408)](Ye[e(413)],this.boundHandleImageChange_),n==ke[e(411)]&&(t[e(426)](),n=t[e(425)]()),n==ke[e(417)]}[Qn(420)](){const t=Qn,e=this[t(398)]();e&&e[t(419)]()&&e[t(410)]()==="ready"&&e.changed()}[Qn(400)](t){}[Qn(393)](){const t=Qn;delete this[t(414)],super[t(393)]()}}function Kd(){const i=["getVisible","renderIfReadyAndVisible","handleImageChange_","forEachFeatureAtCoordinate","loadImage","renderFrame","getState","load","prepareFrame","2xIgqhS","maxStaleKeys","1425380BrXIbB","1055320hrsIik","538908tRcaDj","disposeInternal","boundHandleImageChange_","18PAzOQK","getFeatures","11375694SeiYoi","getLayer","ERROR","renderDeferred","getData","bind","getStaleKeys","1293624AwYUiQ","43390wRQuje","7euClSh","handleFontsChanged","addEventListener","prependStaleKey","getSourceState","IDLE","length","CHANGE","layer_","staleKeys_","548069gQlOKM","LOADED","124czEnmN"];return Kd=function(){return i},Kd()}(function(i,t){for(var e=jd,n=i();;)try{var r=parseInt(e(241))/1*(parseInt(e(234))/2)+parseInt(e(246))/3+parseInt(e(245))/4*(parseInt(e(242))/5)+-parseInt(e(235))/6*(parseInt(e(239))/7)+parseInt(e(243))/8+parseInt(e(240))/9+-parseInt(e(244))/10;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Jd,800169);function Jd(){var i=["316876gOfLBq","819645YhObLU","94GgyaNc","6PeXeUM","inversePixelTransform","context","frameState","4626482mHzcRJ","13062186beCydd","28654alzjLB","10gauLMj","10981904PNDQdR","31413880EPbvvh"];return Jd=function(){return i},Jd()}function jd(i,t){var e=Jd();return jd=function(n,r){n=n-234;var s=e[n];return s},jd(i,t)}class Ew extends yr{constructor(t,e,n,r){var s=jd;super(t),this[s(236)]=e,this[s(238)]=n,this[s(237)]=r}}const ys=Cc;function Cc(i,t){const e=Zd();return Cc=function(n,r){return n=n-340,e[n]},Cc(i,t)}function Zd(){const i=["offset_","155LHrUCW","569267fdPicb","push","4410468ZUquRU","pushFunction","17176000razifd","context_","forEach","clear","offset","instructions_","draw","length","pushMethodArgs_","538762RoIyep","4428sxFBkJ","34288BqCOGV","zIndex","getContext","3928SbFJOo","function","2523423ypegnX","2OqnrnZ"];return Zd=function(){return i},Zd()}(function(i,t){const e=Cc,n=i();for(;;)try{if(-parseInt(e(346))/1*(parseInt(e(343))/2)+-parseInt(e(342))/3+-parseInt(e(361))/4*(parseInt(e(345))/5)+parseInt(e(348))/6+-parseInt(e(359))/7+-parseInt(e(340))/8*(parseInt(e(360))/9)+parseInt(e(350))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Zd,458e3);class nE{constructor(){Ze(this,"pushMethodArgs_",(...t)=>(this[Cc(355)][this.zIndex+this.offset_].push(t),this));const t=Cc;this[t(355)]=[],this.zIndex=0,this[t(344)]=0,this.context_=new Proxy(IA(),{get:(e,n)=>{const r=t;if(typeof IA()[n]===r(341))return!this.instructions_[this[r(362)]+this[r(344)]]&&(this.instructions_[this.zIndex+this[r(344)]]=[]),this[r(355)][this[r(362)]+this[r(344)]].push(n),this[r(358)]},set:(e,n,r)=>{const s=t;return!this[s(355)][this[s(362)]+this[s(344)]]&&(this[s(355)][this[s(362)]+this[s(344)]]=[]),this[s(355)][this.zIndex+this[s(344)]][s(347)](n,r),!0}})}[ys(349)](t){const e=ys;this[e(355)][this[e(362)]+this[e(344)]][e(347)](t)}[ys(363)](){return this[ys(351)]}[ys(356)](t){const e=ys;this[e(355)][e(352)](n=>{const r=e;for(let s=0,a=n[r(357)];s<a;++s){const o=n[s];if(typeof o===r(341)){o(t);continue}const l=n[++s];if(typeof t[o]=="function")t[o](...l);else{if(typeof l=="function"){t[o]=l(t);continue}t[o]=l}}})}[ys(353)](){const t=ys;this.instructions_.length=0,this[t(362)]=0,this.offset_=0}[ys(354)](){const t=ys;this[t(344)]=this[t(355)][t(357)],this[t(362)]=0}}const _n=xu;(function(i,t){const e=xu,n=i();for(;;)try{if(parseInt(e(401))/1*(-parseInt(e(361))/2)+parseInt(e(363))/3+parseInt(e(369))/4*(-parseInt(e(405))/5)+parseInt(e(366))/6*(parseInt(e(381))/7)+parseInt(e(394))/8*(-parseInt(e(374))/9)+parseInt(e(346))/10*(parseInt(e(343))/11)+-parseInt(e(350))/12*(-parseInt(e(371))/13)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})($d,731947);function xu(i,t){const e=$d();return xu=function(n,r){return n=n-338,e[n]},xu(i,t)}function $d(){const i=["div","renderedResolution","1266958uXEgTm","createElement","2291190NAQvsn","inversePixelTransform","prepareContainer","109182BHnDId","top left","transformOrigin","4ZBjIHN","size","65507kbgnEm","clipUnrotated","resolution","1620711aIFiaa","viewState","backgroundColor","firstElementChild","absolute","clip","declutter","259gVrJsO","getRenderContext","dispatchRenderEvent_","preRender","deferredContext_","save","disposeInternal","position","postRender","coordinateToPixelTransform","getClassName","100%","rotation","8kEIbTF","getRenderTransform","PRERENDER","left","context","style","frameState","1aZbdaS","width","className","containerReused","5796215jdcRLZ","tempTransform","POSTRENDER","clearRect","getBackground","pixelTransform","extent","appendChild","beginPath","pixelRatio","renderDeferredInternal","renderDeferred","484TbJRna","height","canvas","110610PUxuoL","drawImage","container","lineTo","1860gAyVCJ","dispatchEvent","data","getImageData","useContainer","transform","getContext","getLayer","round"];return $d=function(){return i},$d()}const yw=[];let vc=null;function kD(){vc=ln(1,1,void 0,{willReadFrequently:!0})}class iE extends FD{constructor(t){const e=xu;super(t),this[e(348)]=null,this[e(360)],this[e(406)]=ki(),this.pixelTransform=ki(),this.inversePixelTransform=ki(),this.context=null,this[e(385)]=null,this[e(404)]=!1,this.frameState=null}[_n(353)](t,e,n){const r=_n;!vc&&kD(),vc[r(408)](0,0,1,1);let s;try{vc[r(347)](t,e,n,1,1,0,0,1,1),s=vc.getImageData(0,0,1,1)[r(352)]}catch{return vc=null,null}return s}getBackground(t){const e=_n;let r=this[e(357)]()[e(409)]();return typeof r=="function"&&(r=r(t.viewState[e(373)])),r||void 0}[_n(354)](t,e,n){const r=_n,s=this[r(357)]()[r(391)]();let a,o;if(t&&t[r(403)]===s&&(!n||t&&t[r(399)][r(376)]&&Na(Rx(t.style.backgroundColor),Rx(n)))){const l=t[r(377)];l instanceof HTMLCanvasElement&&(o=l[r(356)]("2d"))}if(o&&o[r(345)][r(399)][r(355)]===e?(this[r(348)]=t,this[r(398)]=o,this[r(404)]=!0):this[r(404)]?(this[r(348)]=null,this[r(398)]=null,this[r(404)]=!1):this[r(348)]&&(this.container[r(399)].backgroundColor=null),!this[r(348)]){a=document[r(362)](r(359)),a.className=s;let l=a[r(399)];l[r(388)]="absolute",l.width=r(392),l[r(344)]=r(392),o=ln();const c=o[r(345)];a[r(338)](c),l=c[r(399)],l[r(388)]=r(378),l[r(397)]="0",l[r(368)]=r(367),this[r(348)]=a,this.context=o}!this[r(404)]&&n&&!this[r(348)].style[r(376)]&&(this[r(348)][r(399)][r(376)]=n)}[_n(372)](t,e,n){const r=_n,s=Nr(n),a=eA(n),o=Zh(n),l=jh(n);Dn(e[r(390)],s),Dn(e.coordinateToPixelTransform,a),Dn(e[r(390)],o),Dn(e[r(390)],l);const c=this[r(364)];Dn(c,s),Dn(c,a),Dn(c,o),Dn(c,l),t[r(386)](),t[r(339)](),t.moveTo(Math[r(358)](s[0]),Math[r(358)](s[1])),t[r(349)](Math[r(358)](a[0]),Math[r(358)](a[1])),t[r(349)](Math[r(358)](o[0]),Math[r(358)](o[1])),t[r(349)](Math[r(358)](l[0]),Math.round(l[1])),t[r(379)]()}[_n(365)](t,e){const n=_n,r=t[n(411)],s=t[n(375)][n(373)],a=t[n(375)][n(393)],o=t[n(340)],l=Math[n(358)](lt(r)/s*o),c=Math[n(358)](rn(r)/s*o);_s(this.pixelTransform,t.size[0]/2,t[n(370)][1]/2,1/o,1/o,a,-l/2,-c/2),V3(this[n(364)],this[n(410)]);const x=tD(this[n(410)]);if(this[n(354)](e,x,this[n(409)](t)),!this[n(404)]){const u=this[n(398)][n(345)];u[n(402)]!=l||u.height!=c?(u[n(402)]=l,u[n(344)]=c):this[n(398)].clearRect(0,0,l,c),x!==u[n(399)][n(355)]&&(u[n(399)].transform=x)}}dispatchRenderEvent_(t,e,n){const r=_n,s=this[r(357)]();if(s.hasListener(t)){const a=new Ew(t,this.inversePixelTransform,n,e);s[r(351)](a)}}[_n(384)](t,e){const n=_n;this.frameState=e,!e.declutter&&this[n(383)](br[n(396)],t,e)}[_n(389)](t,e){const n=_n;e.declutter||this[n(383)](br[n(407)],t,e)}[_n(341)](t){}[_n(382)](t){const e=_n;return t[e(380)]&&!this[e(385)]&&(this.deferredContext_=new nE),t[e(380)]?this.deferredContext_[e(356)]():this[e(398)]}[_n(342)](t){const e=_n;t[e(380)]&&(this.dispatchRenderEvent_(br.PRERENDER,this[e(398)],t),t.declutter&&this[e(385)]&&(this[e(385)].draw(this[e(398)]),this.deferredContext_.clear()),this.renderDeferredInternal(t),this[e(383)](br.POSTRENDER,this[e(398)],t))}[_n(395)](t,e,n,r,s,a,o){const l=s/2,c=a/2,x=r/e,u=-x,f=-t[0]+o,h=-t[1];return _s(this.tempTransform,l,c,x,u,-n,f,h)}[_n(387)](){const t=_n;delete this[t(400)],super[t(387)]()}}function uu(i,t){const e=e1();return uu=function(n,r){return n=n-333,e[n]},uu(i,t)}const Wa=uu;(function(i,t){const e=uu,n=i();for(;;)try{if(parseInt(e(373))/1*(parseInt(e(368))/2)+-parseInt(e(357))/3+parseInt(e(352))/4+parseInt(e(383))/5*(parseInt(e(359))/6)+parseInt(e(382))/7*(parseInt(e(363))/8)+-parseInt(e(355))/9+-parseInt(e(370))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(e1,267128);function e1(){const i=["EMPTY","4290GXyhGe","loadImage","clipUnrotated","getExtent","24PKbWhc","getState","drawImage","imageSmoothingEnabled","preRender","262QjPIkp","viewState","3346780aBqKDi","pixelRatio","prepareFrame","2287TbrPhT","isArray","projection","getData","floor","layerStatesArray","prepareContainer","postRender","resolution","158011DiBWTP","1535YpytFt","ANIMATING","context","renderedResolution","getImage","image","tempTransform","getLayer","getResolution","getPixelRatio","globalAlpha","extent","opacity","width","container","frameState","canvas","getInterpolate","getSource","center","restore","layerIndex","587540ilMMQn","renderFrame","pixelToCoordinateTransform","233208TKUoLB","height","317964KHnBwW"];return e1=function(){return i},e1()}class PD extends iE{constructor(t){const e=uu;super(t),this[e(335)]=null}[Wa(334)](){const t=Wa;return this.image?this.image[t(334)]():null}[Wa(372)](t){const e=Wa,n=t.layerStatesArray[t.layerIndex],r=t[e(371)],s=t.viewState,a=s[e(381)],o=this[e(337)]().getSource(),l=t.viewHints;let c=t.extent;if(n[e(341)]!==void 0&&(c=Ei(c,ls(n[e(341)],s.projection))),!l[xn[e(384)]]&&!l[xn.INTERACTING]&&!Oo(c))if(o){const x=s[e(375)],u=o.getImage(c,a,r,x);u&&(this[e(360)](u)?this[e(335)]=u:u[e(364)]()===ke[e(358)]&&(this[e(335)]=null))}else this[e(335)]=null;return!!this[e(335)]}[Wa(376)](t){const e=Wa,n=this[e(345)];if(!n)return null;const r=this[e(337)](),s=Dn(n[e(354)],t.slice()),a=r[e(362)]();if(a&&!No(a,s))return null;const o=this[e(335)].getExtent(),l=this[e(335)][e(334)](),c=lt(o),x=Math[e(377)](l.width*((s[0]-o[0])/c));if(x<0||x>=l[e(343)])return null;const u=rn(o),f=Math.floor(l[e(356)]*((o[3]-s[1])/u));return f<0||f>=l[e(356)]?null:this.getImageData(l,x,f)}[Wa(353)](t,e){const n=Wa,r=this[n(335)],s=r[n(362)](),a=r[n(338)](),[o,l]=Array[n(374)](a)?a:[a,a],c=r[n(339)](),x=t[n(378)][t[n(351)]],u=t.pixelRatio,f=t[n(369)],h=f[n(349)],A=f.resolution,p=u*o/(A*c),d=u*l/(A*c);this[n(379)](t,e);const g=this.context.canvas[n(343)],m=this[n(385)][n(346)].height,_=this.getRenderContext(t);let I=!1,y=!0;if(x[n(341)]){const v=ls(x.extent,f[n(375)]);y=gn(v,t.extent),I=y&&!Ur(v,t.extent),I&&this[n(361)](_,t,v)}const E=r.getImage(),b=_s(this[n(336)],g/2,m/2,p,d,0,c*(s[0]-h[0])/o,c*(h[1]-s[3])/l);this[n(333)]=l*u/c;const w=E[n(343)]*b[0],C=E[n(356)]*b[3];if(!this[n(337)]()[n(348)]()[n(347)]()&&(_[n(366)]=!1),this[n(367)](_,t),y&&w>=.5&&C>=.5){const v=b[4],B=b[5],S=x[n(342)];S!==1&&(_.save(),_[n(340)]=S),_[n(365)](E,0,0,+E[n(343)],+E[n(356)],v,B,w,C),S!==1&&_[n(350)]()}return this[n(380)](this[n(385)],t),I&&_[n(350)](),_[n(366)]=!0,this[n(344)]}}var bw=t1;(function(i,t){for(var e=t1,n=i();;)try{var r=parseInt(e(441))/1*(parseInt(e(433))/2)+-parseInt(e(442))/3*(-parseInt(e(440))/4)+-parseInt(e(436))/5+-parseInt(e(438))/6*(parseInt(e(439))/7)+parseInt(e(432))/8+parseInt(e(435))/9*(-parseInt(e(434))/10)+-parseInt(e(437))/11;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(n1,534530);function t1(i,t){var e=n1();return t1=function(n,r){n=n-430;var s=e[n];return s},t1(i,t)}function n1(){var i=["12dPRNSl","getData","createRenderer","8156024whJIIX","254FsQJNR","190zZJhZw","201303OUQxsq","3844050wIMXGa","5372609ZFXvkb","2985582UDzISP","7fAJGKP","983372zGOBIZ","5602KitzgH"];return n1=function(){return i},n1()}class i1 extends QD{constructor(t){super(t)}[bw(431)](){return new PD(this)}getData(t){var e=bw;return super[e(430)](t)}}function Cw(i,t,e=0,n=i.length-1,r=UD){for(;n>e;){if(n-e>600){const l=n-e+1,c=t-e+1,x=Math.log(l),u=.5*Math.exp(2*x/3),f=.5*Math.sqrt(x*u*(l-u)/l)*(c-l/2<0?-1:1),h=Math.max(e,Math.floor(t-c*u/l+f)),A=Math.min(n,Math.floor(t+(l-c)*u/l+f));Cw(i,t,h,A,r)}const s=i[t];let a=e,o=n;for(fu(i,e,t),r(i[n],s)>0&&fu(i,e,n);a<o;){for(fu(i,a,o),a++,o--;r(i[a],s)<0;)a++;for(;r(i[o],s)>0;)o--}r(i[e],s)===0?fu(i,e,o):(o++,fu(i,o,n)),o<=t&&(e=o+1),t<=o&&(n=o-1)}}function fu(i,t,e){const n=i[t];i[t]=i[e],i[e]=n}function UD(i,t){return i<t?-1:i>t?1:0}let vw=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const n=[];if(!s1(t,e))return n;const r=this.toBBox,s=[];for(;e;){for(let a=0;a<e.children.length;a++){const o=e.children[a],l=e.leaf?r(o):o;s1(t,l)&&(e.leaf?n.push(o):sE(t,l)?this._all(o,n):s.push(o))}e=s.pop()}return n}collides(t){let e=this.data;if(!s1(t,e))return!1;const n=[];for(;e;){for(let r=0;r<e.children.length;r++){const s=e.children[r],a=e.leaf?this.toBBox(s):s;if(s1(t,a)){if(e.leaf||sE(t,a))return!0;n.push(s)}}e=n.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let n=0;n<t.length;n++)this.insert(t[n]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const n=this.data;this.data=e,e=n}this._insert(e,this.data.height-e.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Bc([]),this}remove(t,e){if(!t)return this;let n=this.data;const r=this.toBBox(t),s=[],a=[];let o,l,c;for(;n||s.length;){if(n||(n=s.pop(),l=s[s.length-1],o=a.pop(),c=!0),n.leaf){const x=ND(t,n.children,e);if(x!==-1)return n.children.splice(x,1),s.push(n),this._condense(s),this}!c&&!n.leaf&&sE(n,r)?(s.push(n),a.push(o),o=0,l=n,n=n.children[0]):l?(o++,n=l.children[o],c=!1):n=null}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const n=[];for(;t;)t.leaf?e.push(...t.children):n.push(...t.children),t=n.pop();return e}_build(t,e,n,r){const s=n-e+1;let a=this._maxEntries,o;if(s<=a)return o=Bc(t.slice(e,n+1)),wc(o,this.toBBox),o;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),o=Bc([]),o.leaf=!1,o.height=r;const l=Math.ceil(s/a),c=l*Math.ceil(Math.sqrt(a));ww(t,e,n,c,this.compareMinX);for(let x=e;x<=n;x+=c){const u=Math.min(x+c-1,n);ww(t,x,u,l,this.compareMinY);for(let f=x;f<=u;f+=l){const h=Math.min(f+l-1,u);o.children.push(this._build(t,f,h,r-1))}}return wc(o,this.toBBox),o}_chooseSubtree(t,e,n,r){for(;r.push(e),!(e.leaf||r.length-1===n);){let s=1/0,a=1/0,o;for(let l=0;l<e.children.length;l++){const c=e.children[l],x=rE(c),u=zD(t,c)-x;u<a?(a=u,s=x<s?x:s,o=c):u===a&&x<s&&(s=x,o=c)}e=o||e.children[0]}return e}_insert(t,e,n){const r=n?t:this.toBBox(t),s=[],a=this._chooseSubtree(r,this.data,e,s);for(a.children.push(t),Au(a,r);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(r,s,e)}_split(t,e){const n=t[e],r=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,r);const a=this._chooseSplitIndex(n,s,r),o=Bc(n.children.splice(a,n.children.length-a));o.height=n.height,o.leaf=n.leaf,wc(n,this.toBBox),wc(o,this.toBBox),e?t[e-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,e){this.data=Bc([t,e]),this.data.height=t.height+1,this.data.leaf=!1,wc(this.data,this.toBBox)}_chooseSplitIndex(t,e,n){let r,s=1/0,a=1/0;for(let o=e;o<=n-e;o++){const l=hu(t,0,o,this.toBBox),c=hu(t,o,n,this.toBBox),x=VD(l,c),u=rE(l)+rE(c);x<s?(s=x,r=o,a=u<a?u:a):x===s&&u<a&&(a=u,r=o)}return r||n-e}_chooseSplitAxis(t,e,n){const r=t.leaf?this.compareMinX:OD,s=t.leaf?this.compareMinY:GD,a=this._allDistMargin(t,e,n,r),o=this._allDistMargin(t,e,n,s);a<o&&t.children.sort(r)}_allDistMargin(t,e,n,r){t.children.sort(r);const s=this.toBBox,a=hu(t,0,e,s),o=hu(t,n-e,n,s);let l=r1(a)+r1(o);for(let c=e;c<n-e;c++){const x=t.children[c];Au(a,t.leaf?s(x):x),l+=r1(a)}for(let c=n-e-1;c>=e;c--){const x=t.children[c];Au(o,t.leaf?s(x):x),l+=r1(o)}return l}_adjustParentBBoxes(t,e,n){for(let r=n;r>=0;r--)Au(e[r],t)}_condense(t){for(let e=t.length-1,n;e>=0;e--)t[e].children.length===0?e>0?(n=t[e-1].children,n.splice(n.indexOf(t[e]),1)):this.clear():wc(t[e],this.toBBox)}};function ND(i,t,e){if(!e)return t.indexOf(i);for(let n=0;n<t.length;n++)if(e(i,t[n]))return n;return-1}function wc(i,t){hu(i,0,i.children.length,t,i)}function hu(i,t,e,n,r){r||(r=Bc(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=t;s<e;s++){const a=i.children[s];Au(r,i.leaf?n(a):a)}return r}function Au(i,t){return i.minX=Math.min(i.minX,t.minX),i.minY=Math.min(i.minY,t.minY),i.maxX=Math.max(i.maxX,t.maxX),i.maxY=Math.max(i.maxY,t.maxY),i}function OD(i,t){return i.minX-t.minX}function GD(i,t){return i.minY-t.minY}function rE(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function r1(i){return i.maxX-i.minX+(i.maxY-i.minY)}function zD(i,t){return(Math.max(t.maxX,i.maxX)-Math.min(t.minX,i.minX))*(Math.max(t.maxY,i.maxY)-Math.min(t.minY,i.minY))}function VD(i,t){const e=Math.max(i.minX,t.minX),n=Math.max(i.minY,t.minY),r=Math.min(i.maxX,t.maxX),s=Math.min(i.maxY,t.maxY);return Math.max(0,r-e)*Math.max(0,s-n)}function sE(i,t){return i.minX<=t.minX&&i.minY<=t.minY&&t.maxX<=i.maxX&&t.maxY<=i.maxY}function s1(i,t){return t.minX<=i.maxX&&t.minY<=i.maxY&&t.maxX>=i.minX&&t.maxY>=i.minY}function Bc(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ww(i,t,e,n,r){const s=[t,e];for(;s.length;){if(e=s.pop(),t=s.pop(),e-t<=n)continue;const a=t+Math.ceil((e-t)/n/2)*n;Cw(i,a,t,e,r),s.push(t,a,a,e)}}function a1(){const i=["getRotateWithView","rotation","319wdlVVm","getRotation","6569962fyjkmu","setOpacity","3303Nymcdk","slice","18398yPRBMA","scale","clone","getScale","getDisplacement","39XCWTsh","19192cqhDlE","radius","isArray","fill","getOpacity","3176871JkdIOY","462UKidNz","getFill","declutterMode","displacement","rotateWithView","620310GPhmKK","getRadius","getDeclutterMode","26490sCfuyl","3217568ODYmUW","getStroke","render"];return a1=function(){return i},a1()}const aE=du;function du(i,t){const e=a1();return du=function(n,r){return n=n-177,e[n]},du(i,t)}(function(i,t){const e=du,n=i();for(;;)try{if(-parseInt(e(185))/1*(-parseInt(e(180))/2)+-parseInt(e(191))/3+-parseInt(e(201))/4+parseInt(e(200))/5*(parseInt(e(192))/6)+-parseInt(e(208))/7+-parseInt(e(186))/8*(-parseInt(e(178))/9)+-parseInt(e(197))/10*(-parseInt(e(206))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(a1,644124);class Sc extends fc{constructor(t){const e=du;t=t||{radius:5},super({points:1/0,fill:t[e(189)],radius:t[e(187)],stroke:t.stroke,scale:t[e(181)]!==void 0?t.scale:1,rotation:t[e(205)]!==void 0?t.rotation:0,rotateWithView:t[e(196)]!==void 0?t[e(196)]:!1,displacement:t[e(195)]!==void 0?t.displacement:[0,0],declutterMode:t[e(194)]})}[aE(182)](){const t=aE,e=this[t(183)](),n=new Sc({fill:this[t(193)]()?this.getFill()[t(182)]():void 0,stroke:this.getStroke()?this[t(202)]().clone():void 0,radius:this[t(198)](),scale:Array[t(188)](e)?e[t(179)]():e,rotation:this[t(207)](),rotateWithView:this[t(204)](),displacement:this[t(184)]()[t(179)](),declutterMode:this[t(199)]()});return n[t(177)](this[t(190)]()),n}setRadius(t){const e=aE;this[e(187)]=t,this[e(203)]()}}const Zs=pu;(function(i,t){const e=pu,n=i();for(;;)try{if(-parseInt(e(382))/1*(-parseInt(e(393))/2)+parseInt(e(373))/3*(parseInt(e(396))/4)+parseInt(e(371))/5+parseInt(e(395))/6*(parseInt(e(390))/7)+parseInt(e(376))/8*(parseInt(e(394))/9)+-parseInt(e(388))/10+parseInt(e(383))/11*(-parseInt(e(372))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(o1,794419);function pu(i,t){const e=o1();return pu=function(n,r){return n=n-371,e[n]},pu(i,t)}class Ni{constructor(t){const e=pu;t=t||{},this[e(380)]=null,this.color_=null,t.color!==void 0&&this[e(386)](t[e(375)])}[Zs(387)](){const t=Zs,e=this[t(391)]();return new Ni({color:Array[t(381)](e)?e.slice():e||void 0})}[Zs(391)](){return this[Zs(399)]}setColor(t){const e=Zs;if(t!==null&&typeof t===e(400)&&e(398)in t){const n=_I(null,t[e(398)],e(374),void 0,t[e(384)]?null:t[e(375)]?t[e(375)]:null,!(t[e(384)]&&t[e(397)]));n[e(389)]()[e(378)](()=>{const r=e;this[r(380)]=null}),n.getImageState()===ke.IDLE&&n.load(),n[e(377)]()===ke[e(385)]&&(this[e(380)]=n)}this[e(399)]=t}[Zs(392)](){return!!this[Zs(380)]}[Zs(389)](){const t=Zs;return this.patternImage_?this.patternImage_.ready():Promise[t(379)]()}}function o1(){const i=["color","95464RXKBWB","getImageState","then","resolve","patternImage_","isArray","1IAwofE","13255jkgHDT","offset","LOADING","setColor","clone","15385710omwDgK","ready","2637859MTCyiE","getColor","loading","252306RwsutX","1026uBRfUt","6UQawEp","5501456vLpMqu","size","src","color_","object","7569570pRlaOy","24096UomgfK","3qtJBxE","anonymous"];return o1=function(){return i},o1()}function gu(i,t){const e=c1();return gu=function(n,r){return n=n-228,e[n]},gu(i,t)}const Sn=gu;(function(i,t){const e=gu,n=i();for(;;)try{if(parseInt(e(229))/1*(parseInt(e(248))/2)+parseInt(e(258))/3+parseInt(e(241))/4*(-parseInt(e(250))/5)+-parseInt(e(239))/6*(-parseInt(e(260))/7)+parseInt(e(235))/8*(-parseInt(e(266))/9)+parseInt(e(264))/10*(parseInt(e(257))/11)+parseInt(e(245))/12===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(c1,838759);class yi{constructor(t){const e=gu;t=t||{},this[e(261)]=t[e(255)]!==void 0?t[e(255)]:null,this[e(232)]=t[e(265)],this[e(254)]=t[e(247)]!==void 0?t.lineDash:null,this[e(230)]=t[e(242)],this[e(249)]=t[e(228)],this[e(259)]=t[e(231)],this[e(251)]=t.width}[Sn(263)](){const t=Sn,e=this.getColor();return new yi({color:Array[t(252)](e)?e[t(238)]():e||void 0,lineCap:this[t(244)](),lineDash:this[t(246)]()?this[t(246)]()[t(238)]():void 0,lineDashOffset:this[t(236)](),lineJoin:this[t(243)](),miterLimit:this[t(240)](),width:this[t(253)]()})}getColor(){return this[Sn(261)]}[Sn(244)](){return this[Sn(232)]}[Sn(246)](){return this.lineDash_}getLineDashOffset(){return this[Sn(230)]}[Sn(243)](){return this[Sn(249)]}[Sn(240)](){return this.miterLimit_}getWidth(){return this[Sn(251)]}setColor(t){this.color_=t}[Sn(262)](t){const e=Sn;this[e(232)]=t}[Sn(233)](t){const e=Sn;this[e(254)]=t}[Sn(234)](t){const e=Sn;this[e(230)]=t}setLineJoin(t){const e=Sn;this[e(249)]=t}[Sn(237)](t){this.miterLimit_=t}[Sn(256)](t){const e=Sn;this[e(251)]=t}}function c1(){const i=["lineCap","3438BhvubZ","lineJoin","2RyhLcv","lineDashOffset_","miterLimit","lineCap_","setLineDash","setLineDashOffset","33120bOeZzl","getLineDashOffset","setMiterLimit","slice","6GizIDe","getMiterLimit","20GDNqWK","lineDashOffset","getLineJoin","getLineCap","13070208mVstvz","getLineDash","lineDash","256120rrLKDb","lineJoin_","815505TibrpU","width_","isArray","getWidth","lineDash_","color","setWidth","319byKEZl","98808TOEZQk","miterLimit_","4717489apYhGi","color_","setLineCap","clone","408130pwPpHE"];return c1=function(){return i},c1()}function l1(){const i=["863656LJEihk","1557957NPvSzC","renderer","MultiPoint","getGeometryFunction","setZIndex","image_","setText","hitDetectionRenderer_","image","410661VSmRjU","text","Expected an `Style` or an array of `Style`","fill","hitDetectionRenderer","480HWXLVr","GeometryCollection","isArray","getHitDetectionRenderer","Circle","21880euubfl","setHitDetectionRenderer","21aWVeUJ","get","geometry_","58VMWFGo","LineString","setFill","getFill","geometryFunction_","object","zIndex","function","renderer_","setRenderer","10061TqBIdS","geometry","getImage","MultiLineString","rgba(255,255,255,0.4)","concat","fill_","Polygon","setStroke","MultiPolygon","#3399CC","Point","getGeometry","160RaNTHh","zIndex_","clone","3642960fWhVWF","stroke","getZIndex","setImage","getText","10384484LbMwkS","getRenderer","stroke_","text_","getStroke"];return l1=function(){return i},l1()}const kt=mu;(function(i,t){const e=mu,n=i();for(;;)try{if(parseInt(e(370))/1*(-parseInt(e(360))/2)+-parseInt(e(336))/3+-parseInt(e(355))/4*(-parseInt(e(350))/5)+-parseInt(e(325))/6+parseInt(e(357))/7*(-parseInt(e(335))/8)+parseInt(e(345))/9*(parseInt(e(322))/10)+parseInt(e(330))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(l1,457109);function mu(i,t){const e=l1();return mu=function(n,r){return n=n-322,e[n]},mu(i,t)}class Bt{constructor(t){const e=mu;t=t||{},this[e(359)]=null,this[e(364)]=Sw,t[e(371)]!==void 0&&this.setGeometry(t[e(371)]),this[e(376)]=t.fill!==void 0?t[e(348)]:null,this[e(341)]=t.image!==void 0?t[e(344)]:null,this[e(368)]=t[e(337)]!==void 0?t.renderer:null,this[e(343)]=t[e(349)]!==void 0?t[e(349)]:null,this[e(332)]=t[e(326)]!==void 0?t.stroke:null,this[e(333)]=t[e(346)]!==void 0?t[e(346)]:null,this[e(323)]=t[e(366)]}[kt(324)](){const t=kt;let e=this[t(382)]();return e&&typeof e===t(365)&&(e=e[t(324)]()),new Bt({geometry:e??void 0,fill:this[t(363)]()?this[t(363)]().clone():void 0,image:this[t(372)]()?this[t(372)]()[t(324)]():void 0,renderer:this[t(331)]()??void 0,stroke:this[t(334)]()?this[t(334)]()[t(324)]():void 0,text:this[t(329)]()?this[t(329)]()[t(324)]():void 0,zIndex:this[t(327)]()})}getRenderer(){return this.renderer_}[kt(369)](t){this.renderer_=t}[kt(356)](t){const e=kt;this[e(343)]=t}[kt(353)](){return this[kt(343)]}[kt(382)](){return this[kt(359)]}[kt(339)](){return this[kt(364)]}[kt(363)](){return this[kt(376)]}[kt(362)](t){this.fill_=t}[kt(372)](){return this.image_}[kt(328)](t){this.image_=t}[kt(334)](){return this[kt(332)]}[kt(378)](t){const e=kt;this[e(332)]=t}[kt(329)](){return this[kt(333)]}[kt(342)](t){const e=kt;this[e(333)]=t}[kt(327)](){return this[kt(323)]}setGeometry(t){const e=kt;typeof t=="function"?this[e(364)]=t:typeof t=="string"?this.geometryFunction_=function(n){return n[e(358)](t)}:t?t!==void 0&&(this[e(364)]=function(){return t}):this[e(364)]=Sw,this[e(359)]=t}[kt(340)](t){const e=kt;this[e(323)]=t}}function HD(i){const t=kt;let e;if(typeof i=="function")e=i;else{let n;Array[t(352)](i)?n=i:(Mt(typeof i[t(327)]===t(367),t(347)),n=[i]),e=function(){return n}}return e}let oE=null;function Bw(i,t){const e=kt;if(!oE){const n=new Ni({color:e(374)}),r=new yi({color:e(380),width:1.25});oE=[new Bt({image:new Sc({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return oE}function Sw(i){return i.getGeometry()}const Nt=i0;(function(i,t){const e=i0,n=i();for(;;)try{if(parseInt(e(577))/1+parseInt(e(504))/2*(-parseInt(e(537))/3)+parseInt(e(568))/4*(-parseInt(e(503))/5)+-parseInt(e(552))/6*(-parseInt(e(565))/7)+-parseInt(e(510))/8*(parseInt(e(516))/9)+parseInt(e(532))/10*(-parseInt(e(517))/11)+parseInt(e(501))/12*(parseInt(e(551))/13)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(x1,491804);function i0(i,t){const e=x1();return i0=function(n,r){return n=n-500,e[n]},i0(i,t)}function Mw(i,t,e,n){return e!==void 0&&n!==void 0?[e/i,n/t]:e!==void 0?e/i:n!==void 0?n/t:1}function x1(){const i=["478667vMlLzH","getDisplacement","rotateWithView","24IPsMIO","getImageState","3743435woipiT","55706AFpcMj","anchor","getPixelRatio","iconImage_","normalizedAnchor_","getOrigin","2593408drPcZs","LOADED","length","color_","getHeight","isArray","9jlpBZK","2044031HPWQxm","setScale","getScale","crossOrigin_","unlistenImageChange","IDLE","displacement","getImage","listenImageChange","getRotateWithView","color","top-right","crossOrigin","setAnchor","getHitDetectionImage","50NiVYQp","offsetOrigin_","`image` and `src` cannot be provided at the same time","anchorYUnits_","offset","81IotWte","complete","img","anchorOrigin_","top-left","addEventListener","declutterMode","`width` or `height` cannot be provided together with `scale`","getSrc","getOpacity","src","anchorYUnits","origin_","anchorXUnits","13471627kXcQoe","18icYVEN","scale","bottom-left","getScaleArray","ready","CHANGE","offsetOrigin","load","anchor_","anchorXUnits_","initialOptions_","size_","rotation","1620682zmVBnA","width","LOADING","4lmMzXs","offset_","bottom-right","height","fraction","slice","getSize","size","anchorOrigin"];return x1=function(){return i},x1()}class r0 extends Bx{constructor(t){const e=i0;t=t||{};const n=t.opacity!==void 0?t.opacity:1,r=t[e(564)]!==void 0?t[e(564)]:0,s=t[e(553)]!==void 0?t.scale:1,a=t[e(500)]!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:r,scale:s,displacement:t[e(523)]!==void 0?t[e(523)]:[0,0],rotateWithView:a,declutterMode:t[e(543)]}),this.anchor_=t[e(505)]!==void 0?t[e(505)]:[.5,.5],this[e(508)]=null,this[e(540)]=t[e(576)]!==void 0?t[e(576)]:e(541),this[e(561)]=t[e(550)]!==void 0?t[e(550)]:e(572),this[e(535)]=t[e(548)]!==void 0?t[e(548)]:e(572),this.crossOrigin_=t[e(529)]!==void 0?t[e(529)]:null;const o=t[e(539)]!==void 0?t.img:null;let l=t[e(547)];Mt(!(l!==void 0&&o),e(534)),(l===void 0||l.length===0)&&o&&(l=o[e(547)]||tt(o)),Mt(l!==void 0&&l[e(512)]>0,"A defined and non-empty `src` or `image` must be provided"),Mt(!((t[e(566)]!==void 0||t[e(571)]!==void 0)&&t[e(553)]!==void 0),e(544));let c;if(t[e(547)]!==void 0?c=ke[e(522)]:o!==void 0&&(e(538)in o?o[e(538)]?c=o[e(547)]?ke[e(511)]:ke.IDLE:c=ke[e(567)]:c=ke[e(511)]),this[e(513)]=t[e(527)]!==void 0?Rx(t[e(527)]):null,this[e(507)]=_I(o,l,this.crossOrigin_,c,this[e(513)]),this.offset_=t[e(536)]!==void 0?t.offset:[0,0],this.offsetOrigin_=t[e(558)]!==void 0?t[e(558)]:e(541),this[e(549)]=null,this[e(563)]=t[e(575)]!==void 0?t[e(575)]:null,this[e(562)],t[e(566)]!==void 0||t[e(571)]!==void 0){let x,u;if(t[e(575)])[x,u]=t[e(575)];else{const f=this.getImage(1);if(f.width&&f.height)x=f.width,u=f[e(571)];else if(f instanceof HTMLImageElement){this.initialOptions_=t;const h=()=>{const A=e;if(this[A(521)](h),!this[A(562)])return;const p=this[A(507)][A(574)]();this.setScale(Mw(p[0],p[1],t[A(566)],t[A(571)]))};this[e(525)](h);return}}x!==void 0&&this[e(518)](Mw(x,u,t[e(566)],t[e(571)]))}}clone(){const t=i0;let e,n,r;return this.initialOptions_?(n=this[t(562)][t(566)],r=this.initialOptions_[t(571)]):(e=this[t(519)](),e=Array[t(515)](e)?e[t(573)]():e),new r0({anchor:this[t(560)][t(573)](),anchorOrigin:this[t(540)],anchorXUnits:this[t(561)],anchorYUnits:this.anchorYUnits_,color:this[t(513)]&&this[t(513)][t(573)]?this.color_[t(573)]():this[t(513)]||void 0,crossOrigin:this[t(520)],offset:this.offset_.slice(),offsetOrigin:this[t(533)],opacity:this[t(546)](),rotateWithView:this[t(526)](),rotation:this.getRotation(),scale:e,width:n,height:r,size:this.size_!==null?this[t(563)].slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){const t=i0;let e=this.normalizedAnchor_;if(!e){e=this[t(560)];const s=this[t(574)]();if(this[t(561)]==t(572)||this.anchorYUnits_==t(572)){if(!s)return null;e=this[t(560)][t(573)](),this[t(561)]==t(572)&&(e[0]*=s[0]),this.anchorYUnits_==t(572)&&(e[1]*=s[1])}if(this.anchorOrigin_!=t(541)){if(!s)return null;e===this[t(560)]&&(e=this[t(560)].slice()),(this.anchorOrigin_==t(528)||this.anchorOrigin_==t(570))&&(e[0]=-e[0]+s[0]),(this[t(540)]==t(554)||this[t(540)]==t(570))&&(e[1]=-e[1]+s[1])}this[t(508)]=e}const n=this[t(578)](),r=this.getScaleArray();return[e[0]-n[0]/r[0],e[1]+n[1]/r[1]]}[Nt(530)](t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this[Nt(513)]}[Nt(524)](t){return this[Nt(507)].getImage(t)}[Nt(506)](t){const e=Nt;return this[e(507)][e(506)](t)}getImageSize(){return this[Nt(507)].getSize()}[Nt(502)](){const t=Nt;return this[t(507)][t(502)]()}[Nt(531)](){return this[Nt(507)].getHitDetectionImage()}[Nt(509)](){const t=Nt;if(this[t(549)])return this.origin_;let e=this[t(569)];if(this[t(533)]!=t(541)){const n=this[t(574)](),r=this.iconImage_.getSize();if(!n||!r)return null;e=e.slice(),(this[t(533)]==t(528)||this[t(533)]=="bottom-right")&&(e[0]=r[0]-n[0]-e[0]),(this[t(533)]==t(554)||this[t(533)]==t(570))&&(e[1]=r[1]-n[1]-e[1])}return this[t(549)]=e,this.origin_}[Nt(545)](){const t=Nt;return this[t(507)][t(545)]()}[Nt(574)](){const t=Nt;return this[t(563)]?this[t(563)]:this[t(507)][t(574)]()}getWidth(){const t=Nt,e=this.getScaleArray();if(this[t(563)])return this.size_[0]*e[0];if(this.iconImage_[t(502)]()==ke[t(511)])return this.iconImage_[t(574)]()[0]*e[0]}[Nt(514)](){const t=Nt,e=this[t(555)]();if(this[t(563)])return this.size_[1]*e[1];if(this[t(507)].getImageState()==ke[t(511)])return this[t(507)][t(574)]()[1]*e[1]}[Nt(518)](t){const e=Nt;delete this[e(562)],super.setScale(t)}[Nt(525)](t){const e=Nt;this[e(507)][e(542)](Ye[e(557)],t)}[Nt(559)](){const t=Nt;this[t(507)][t(559)]()}[Nt(521)](t){this[Nt(507)].removeEventListener(Ye.CHANGE,t)}[Nt(556)](){const t=Nt;return this[t(507)][t(556)]()}}const Re=f1;function u1(){const i=["backgroundStroke","maxAngle_","setText","getMaxAngle","getFont","repeat_","setBackgroundStroke","setJustify","font_","backgroundStroke_","27457960RalbHR","placement","scaleArray_","setBackgroundFill","getKeepUpright","text_","1323495ATxsqp","getText","text","setRepeat","getOffsetY","declutterMode_","textAlign","repeat","getJustify","setStroke","#333","getTextAlign","scale_","font","textAlign_","justify","setTextBaseline","8982320amAMMJ","overflow","padding","scale","setMaxAngle","backgroundFill_","clone","6VzUKlj","backgroundFill","offsetX","getPlacement","point","setFill","setPadding","5075959SuGBZf","fill","getFill","getTextBaseline","placement_","textBaseline","padding_","22EGuMTj","keepUpright_","5FQTjHe","rotateWithView","getDeclutterMode","offsetY_","setScale","offsetX_","122403tCsPHw","getRotation","getBackgroundFill","getScaleArray","setOverflow","2035528OSIqST","getRepeat","offsetY","getBackgroundStroke","setKeepUpright","getOffsetX","setRotateWithView","setOffsetY","maxAngle","getStroke","overflow_","setPlacement","885439WEhVWr","keepUpright","stroke_","rotation_","getRotateWithView","fill_","getScale","rotateWithView_","textBaseline_","isArray","getOverflow","justify_"];return u1=function(){return i},u1()}(function(i,t){const e=f1,n=i();for(;;)try{if(parseInt(e(203))/1+-parseInt(e(178))/2*(parseInt(e(186))/3)+-parseInt(e(191))/4*(parseInt(e(180))/5)+-parseInt(e(164))/6*(parseInt(e(171))/7)+-parseInt(e(248))/8+-parseInt(e(231))/9+parseInt(e(225))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(u1,678560);const qD=Re(241);class _u{constructor(t){const e=Re;t=t||{},this.font_=t[e(244)],this.rotation_=t.rotation,this[e(210)]=t[e(181)],this.keepUpright_=t[e(204)],this[e(243)]=t[e(251)],this[e(227)]=fi(t[e(251)]!==void 0?t.scale:1),this[e(230)]=t[e(233)],this.textAlign_=t[e(237)],this[e(214)]=t[e(246)],this[e(220)]=t[e(238)],this.textBaseline_=t[e(176)],this[e(208)]=t[e(172)]!==void 0?t[e(172)]:new Ni({color:qD}),this[e(216)]=t.maxAngle!==void 0?t[e(199)]:Math.PI/4,this[e(175)]=t[e(226)]!==void 0?t[e(226)]:e(168),this[e(201)]=!!t[e(249)],this[e(205)]=t.stroke!==void 0?t.stroke:null,this[e(185)]=t[e(166)]!==void 0?t[e(166)]:0,this[e(183)]=t.offsetY!==void 0?t[e(193)]:0,this.backgroundFill_=t[e(165)]?t[e(165)]:null,this.backgroundStroke_=t[e(215)]?t[e(215)]:null,this[e(177)]=t[e(250)]===void 0?null:t[e(250)],this[e(236)]=t.declutterMode}[Re(163)](){const t=Re,e=this[t(209)]();return new _u({font:this[t(219)](),placement:this[t(167)](),repeat:this[t(192)](),maxAngle:this[t(218)](),overflow:this.getOverflow(),rotation:this[t(187)](),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array[t(212)](e)?e.slice():e,text:this[t(232)](),textAlign:this[t(242)](),justify:this[t(239)](),textBaseline:this[t(174)](),fill:this[t(173)]()?this.getFill()[t(163)]():void 0,stroke:this.getStroke()?this[t(200)]()[t(163)]():void 0,offsetX:this[t(196)](),offsetY:this[t(235)](),backgroundFill:this[t(188)]()?this[t(188)]()[t(163)]():void 0,backgroundStroke:this[t(194)]()?this[t(194)]()[t(163)]():void 0,padding:this.getPadding()||void 0,declutterMode:this[t(182)]()})}[Re(213)](){return this.overflow_}getFont(){return this[Re(223)]}[Re(218)](){return this[Re(216)]}[Re(167)](){return this[Re(175)]}[Re(192)](){return this[Re(220)]}[Re(196)](){return this.offsetX_}[Re(235)](){return this[Re(183)]}getFill(){return this[Re(208)]}[Re(207)](){return this[Re(210)]}[Re(229)](){return this[Re(179)]}[Re(187)](){return this[Re(206)]}[Re(209)](){return this[Re(243)]}[Re(189)](){return this[Re(227)]}[Re(200)](){return this[Re(205)]}[Re(232)](){return this[Re(230)]}[Re(242)](){return this.textAlign_}getJustify(){return this.justify_}[Re(174)](){return this[Re(211)]}[Re(188)](){return this[Re(162)]}[Re(194)](){return this[Re(224)]}getPadding(){return this[Re(177)]}getDeclutterMode(){return this.declutterMode_}[Re(190)](t){const e=Re;this[e(201)]=t}setFont(t){const e=Re;this[e(223)]=t}[Re(161)](t){const e=Re;this[e(216)]=t}setOffsetX(t){this.offsetX_=t}[Re(198)](t){const e=Re;this[e(183)]=t}[Re(202)](t){const e=Re;this[e(175)]=t}[Re(234)](t){const e=Re;this[e(220)]=t}[Re(197)](t){const e=Re;this[e(210)]=t}[Re(195)](t){const e=Re;this[e(179)]=t}[Re(169)](t){this.fill_=t}setRotation(t){this.rotation_=t}[Re(184)](t){const e=Re;this[e(243)]=t,this.scaleArray_=fi(t!==void 0?t:1)}[Re(240)](t){const e=Re;this[e(205)]=t}[Re(217)](t){const e=Re;this[e(230)]=t}setTextAlign(t){const e=Re;this[e(245)]=t}[Re(222)](t){const e=Re;this[e(214)]=t}[Re(247)](t){const e=Re;this[e(211)]=t}[Re(228)](t){const e=Re;this[e(162)]=t}[Re(221)](t){const e=Re;this[e(224)]=t}[Re(170)](t){const e=Re;this[e(177)]=t}}function f1(i,t){const e=u1();return f1=function(n,r){return n=n-161,e[n]},f1(i,t)}const ye=Rc;(function(i,t){const e=Rc,n=i();for(;;)try{if(-parseInt(e(271))/1+parseInt(e(264))/2+parseInt(e(246))/3+-parseInt(e(244))/4*(parseInt(e(184))/5)+-parseInt(e(174))/6+-parseInt(e(285))/7+parseInt(e(187))/8*(parseInt(e(237))/9)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(h1,996327);let s0=0;const bi=1<<s0++,bt=1<<s0++,Oi=1<<s0++;function h1(){const i=["GreaterThanOrEqualTo","unknown operator: ","Floor","Has","get",", or ","MultiPoint","30271968wNICcT","All","Atan","type","MultiLineString","failed to parse argument ","Subtract","118644ATZjdE","number","4990407ARvJJa"," for ","expected an odd number of arguments for ","ceil","Get"," operation","expected no arguments for ","variables","Polygon","expected an array of 3 or 4 values for a color, got ","Resolution","GeometryType","the palette color at index ","Coalesce","Point","var","expected a number base for exponential interpolation","substring","2732544JAomBw","atan","keys","got a number, but expected ","failed to parse first argument in palette expression: ","the second argument of palette must be an array","failed to parse argument 1 in interpolate expression: ","858748xSFXle","Band","ToString","expression must be an array or a primitive value","Var","length","cos","expected an array of two values for a size, got ","LineMetric","Zoom","sort","boolean"," argument"," for interpolate expression: ","7312928cIuzGr","palette",'failed to parse "in" expression: the literal operator must be followed by an array',"message","number[]"," or ","expected ","Pow"," instead"," of case expression: ","string","Equal","expected an even number of arguments for operation ","LessThanOrEqualTo","toString","add","value","Cos","between","11528886CNKtEX","false","zoom",'for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions',"geometryType","Any","getType","MultiPolygon","Mod","sqrt","265PMZcAH","pow","any","8Aywrfi","getGeometries","Match","size","time","exponential"," to ","Sin","join","featureId","Round","floor","isArray","got a string, but expected ","Sqrt","expected a string argument for var operation","NotEqual","LessThan","abs","round","expected a string key or numeric array index for a get operation, got ","Time",", got ","true","literal","sin","line-metric","stringify","case","Color","color","expected an array of numbers","match","Interpolate","concat","GreaterThan","slice","untyped","to-string","args","Divide","band","Add"];return h1=function(){return i},h1()}const Hr=1<<s0++,a0=1<<s0++,Iu=1<<s0++,A1=Math[ye(185)](2,s0)-1,cE={[bi]:ye(282),[bt]:ye(245),[Oi]:"string",[Hr]:"color",[a0]:ye(159),[Iu]:ye(190)},YD=Object[ye(266)](cE).map(Number)[ye(281)](us);function WD(i){return i in cE}function Eu(i){const t=ye,e=[];for(const n of YD)yu(i,n)&&e.push(cE[n]);return e[t(276)]===0?t(224):e.length<3?e.join(t(160)):e[t(223)](0,-1)[t(195)](", ")+t(235)+e[e.length-1]}function yu(i,t){return(i&t)===t}function Xa(i,t){return i===t}class Un{constructor(t,e){const n=ye;if(!WD(t))throw new Error("literal expressions must have a specific type, got "+Eu(t));this.type=t,this[n(171)]=e}}class XD{constructor(t,e,...n){const r=ye;this[r(240)]=t,this.operator=e,this[r(226)]=n}}function Rw(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function $n(i,t,e){const n=ye;switch(typeof i){case n(282):{if(Xa(t,Oi))return new Un(Oi,n(i?210:175));if(!yu(t,bi))throw new Error("got a boolean, but expected "+Eu(t));return new Un(bi,i)}case"number":{if(Xa(t,Iu))return new Un(Iu,fi(i));if(Xa(t,bi))return new Un(bi,!!i);if(Xa(t,Oi))return new Un(Oi,i[n(169)]());if(!yu(t,bt))throw new Error(n(267)+Eu(t));return new Un(bt,i)}case n(165):{if(Xa(t,Hr))return new Un(Hr,fI(i));if(Xa(t,bi))return new Un(bi,!!i);if(!yu(t,Oi))throw new Error(n(200)+Eu(t));return new Un(Oi,i)}}if(!Array.isArray(i))throw new Error(n(274));if(i[n(276)]===0)throw new Error("empty expression");if(typeof i[0]===n(165))return sQ(i,t,e);for(const r of i)if(typeof r!==n(245))throw new Error(n(218));if(Xa(t,Iu)){if(i[n(276)]!==2)throw new Error(n(278)+i.length);return new Un(Iu,i)}if(Xa(t,Hr)){if(i.length===3)return new Un(Hr,[...i,1]);if(i[n(276)]===4)return new Un(Hr,i);throw new Error(n(255)+i[n(276)])}if(!yu(t,a0))throw new Error("got an array of numbers, but expected "+Eu(t));return new Un(a0,i)}const re={Get:ye(234),Var:ye(261),Concat:ye(221),GeometryType:"geometry-type",LineMetric:ye(213),Any:ye(186),All:"all",Not:"!",Resolution:"resolution",Zoom:ye(176),Time:ye(191),Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:ye(205),Floor:ye(198),Ceil:ye(249),Round:ye(206),Sin:ye(212),Cos:ye(277),Atan:ye(265),Sqrt:ye(183),Match:ye(219),Between:ye(173),Interpolate:"interpolate",Coalesce:"coalesce",Case:ye(215),In:"in",Number:ye(245),String:"string",Array:"array",Color:ye(217),Id:"id",Band:ye(228),Palette:ye(286),ToString:ye(225),Has:"has"},KD={[re[ye(250)]]:je(ot(1,1/0),Tw),[re[ye(275)]]:je(ot(1,1),JD),[re[ye(233)]]:je(ot(1,1/0),Tw),[re.Id]:je(jD,Mc),[re.Concat]:je(ot(2,1/0),Pt(Oi)),[re[ye(257)]]:je(ZD,Mc),[re[ye(279)]]:je(Mc),[re[ye(256)]]:je(Mc),[re[ye(280)]]:je(Mc),[re[ye(208)]]:je(Mc),[re[ye(179)]]:je(ot(2,1/0),Pt(bi)),[re[ye(238)]]:je(ot(2,1/0),Pt(bi)),[re.Not]:je(ot(1,1),Pt(bi)),[re[ye(166)]]:je(ot(2,2),Pt(A1)),[re[ye(203)]]:je(ot(2,2),Pt(A1)),[re[ye(222)]]:je(ot(2,2),Pt(bt)),[re[ye(230)]]:je(ot(2,2),Pt(bt)),[re[ye(204)]]:je(ot(2,2),Pt(bt)),[re[ye(168)]]:je(ot(2,2),Pt(bt)),[re.Multiply]:je(ot(2,1/0),Dw),[re[ye(259)]]:je(ot(2,1/0),Dw),[re[ye(227)]]:je(ot(2,2),Pt(bt)),[re[ye(229)]]:je(ot(2,1/0),Pt(bt)),[re[ye(243)]]:je(ot(2,2),Pt(bt)),[re.Clamp]:je(ot(3,3),Pt(bt)),[re[ye(182)]]:je(ot(2,2),Pt(bt)),[re[ye(162)]]:je(ot(2,2),Pt(bt)),[re.Abs]:je(ot(1,1),Pt(bt)),[re[ye(232)]]:je(ot(1,1),Pt(bt)),[re.Ceil]:je(ot(1,1),Pt(bt)),[re[ye(197)]]:je(ot(1,1),Pt(bt)),[re[ye(194)]]:je(ot(1,1),Pt(bt)),[re[ye(172)]]:je(ot(1,1),Pt(bt)),[re[ye(239)]]:je(ot(1,2),Pt(bt)),[re[ye(201)]]:je(ot(1,1),Pt(bt)),[re[ye(189)]]:je(ot(4,1/0),Qw,eQ),[re.Between]:je(ot(3,3),Pt(bt)),[re[ye(220)]]:je(ot(6,1/0),Qw,tQ),[re.Case]:je(ot(3,1/0),$D,nQ),[re.In]:je(ot(2,2),iQ),[re.Number]:je(ot(1,1/0),Pt(A1)),[re.String]:je(ot(1,1/0),Pt(A1)),[re.Array]:je(ot(1,1/0),Pt(bt)),[re[ye(216)]]:je(ot(1,4),Pt(bt)),[re[ye(272)]]:je(ot(1,3),Pt(bt)),[re.Palette]:je(ot(2,2),rQ),[re[ye(273)]]:je(ot(1,1),Pt(bi|bt|Oi|Hr))};function Tw(i,t,e){const n=ye,r=i[n(276)]-1,s=new Array(r);for(let a=0;a<r;++a){const o=i[a+1];switch(typeof o){case"number":{s[a]=new Un(bt,o);break}case n(165):{s[a]=new Un(Oi,o);break}default:throw new Error(n(207)+o)}a===0&&e.properties[n(170)](String(o))}return s}function JD(i,t,e){const n=ye,r=i[1];if(typeof r!="string")throw new Error(n(202));return e[n(253)][n(170)](r),[new Un(Oi,r)]}function jD(i,t,e){const n=ye;e[n(196)]=!0}function ZD(i,t,e){const n=ye;e[n(178)]=!0}function Mc(i,t,e){const n=ye,r=i[0];if(i.length!==1)throw new Error(n(252)+r+n(251));return[]}function ot(i,t){return function(e,n,r){const s=Rc,a=e[0],o=e[s(276)]-1;if(i===t){if(o!==i){const l=i===1?"":"s";throw new Error(s(161)+i+s(283)+l+s(247)+a+", got "+o)}}else if(o<i||o>t){const l=t===1/0?i+" or more":i+s(193)+t;throw new Error(s(161)+l+" arguments for "+a+s(209)+o)}}}function Dw(i,t,e){const n=ye,r=i[n(276)]-1,s=new Array(r);for(let a=0;a<r;++a){const o=$n(i[a+1],t,e);s[a]=o}return s}function Pt(i){return function(t,e,n){const r=t.length-1,s=new Array(r);for(let a=0;a<r;++a){const o=$n(t[a+1],i,n);s[a]=o}return s}}function $D(i,t,e){const n=ye,r=i[0],s=i.length-1;if(s%2===0)throw new Error(n(248)+r+n(209)+s+n(163))}function Qw(i,t,e){const n=ye,r=i[0],s=i[n(276)]-1;if(s%2===1)throw new Error(n(167)+r+n(209)+s+n(163))}function eQ(i,t,e){const n=ye,r=i[n(276)]-1,s=Oi|bt|bi,a=$n(i[1],s,e),o=$n(i[i[n(276)]-1],t,e),l=new Array(r-2);for(let c=0;c<r-2;c+=2){try{const x=$n(i[c+2],a[n(240)],e);l[c]=x}catch(x){throw new Error(n(242)+(c+1)+" of match expression: "+x[n(158)])}try{const x=$n(i[c+3],o[n(240)],e);l[c+1]=x}catch(x){throw new Error(n(242)+(c+2)+" of match expression: "+x[n(158)])}}return[a,...l,o]}function tQ(i,t,e){const n=ye,r=i[1];let s;switch(r[0]){case"linear":s=1;break;case n(192):const c=r[1];if(typeof c!==n(245)||c<=0)throw new Error(n(262)+(", got "+JSON.stringify(c)+n(163)));s=c;break;default:throw new Error("invalid interpolation type: "+JSON[n(214)](r))}const a=new Un(bt,s);let o;try{o=$n(i[2],bt,e)}catch(c){throw new Error(n(270)+c.message)}const l=new Array(i.length-3);for(let c=0;c<l[n(276)];c+=2){try{const x=$n(i[c+3],bt,e);l[c]=x}catch(x){throw new Error(n(242)+(c+2)+" for interpolate expression: "+x[n(158)])}try{const x=$n(i[c+4],t,e);l[c+1]=x}catch(x){throw new Error(n(242)+(c+3)+n(284)+x[n(158)])}}return[a,o,...l]}function Rc(i,t){const e=h1();return Rc=function(n,r){return n=n-158,e[n]},Rc(i,t)}function nQ(i,t,e){const n=ye,r=$n(i[i[n(276)]-1],t,e),s=new Array(i[n(276)]-1);for(let a=0;a<s[n(276)]-1;a+=2){try{const o=$n(i[a+1],bi,e);s[a]=o}catch(o){throw new Error(n(242)+a+n(164)+o[n(158)])}try{const o=$n(i[a+2],r.type,e);s[a+1]=o}catch(o){throw new Error(n(242)+(a+1)+n(164)+o[n(158)])}}return s[s.length-1]=r,s}function iQ(i,t,e){const n=ye;let r=i[2];if(!Array[n(199)](r))throw new Error('the second argument for the "in" operator must be an array');let s;if(typeof r[0]===n(165)){if(r[0]!==n(211))throw new Error(n(177));if(!Array[n(199)](r[1]))throw new Error(n(287));r=r[1],s=Oi}else s=bt;const a=new Array(r[n(276)]);for(let l=0;l<a[n(276)];l++)try{const c=$n(r[l],s,e);a[l]=c}catch(c){throw new Error("failed to parse haystack item "+l+' for "in" expression: '+c[n(158)])}return[$n(i[1],s,e),...a]}function rQ(i,t,e){const n=ye;let r;try{r=$n(i[1],bt,e)}catch(o){throw new Error(n(268)+o[n(158)])}const s=i[2];if(!Array[n(199)](s))throw new Error(n(269));const a=new Array(s.length);for(let o=0;o<a[n(276)];o++){let l;try{l=$n(s[o],Hr,e)}catch(c){throw new Error("failed to parse color at index "+o+" in palette expression: "+c.message)}if(!(l instanceof Un))throw new Error(n(258)+o+" must be a literal value");a[o]=l}return[r,...a]}function je(...i){return function(t,e,n){const r=Rc,s=t[0];let a;for(let o=0;o<i[r(276)];o++){const l=i[o](t,e,n);if(o==i[r(276)]-1){if(!l)throw new Error("expected last argument validator to return the parsed args");a=l}}return new XD(e,s,...a)}}function sQ(i,t,e){const n=ye,r=i[0],s=KD[r];if(!s)throw new Error(n(231)+r);return s(i,t,e)}function Lw(i){const t=ye;if(!i)return"";const e=i[t(180)]();switch(e){case t(260):case"LineString":case t(254):return e;case t(236):case t(241):case t(181):return e[t(263)](5);case"Circle":return t(254);case"GeometryCollection":return Lw(i[t(188)]()[0]);default:return""}}(function(i,t){const e=Gi,n=i();for(;;)try{if(-parseInt(e(266))/1+parseInt(e(327))/2*(parseInt(e(278))/3)+parseInt(e(330))/4+parseInt(e(271))/5+-parseInt(e(287))/6+-parseInt(e(285))/7*(-parseInt(e(303))/8)+-parseInt(e(273))/9*(-parseInt(e(329))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(d1,687518);function Fw(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Gi(i,t){const e=d1();return Gi=function(n,r){return n=n-266,e[n]},Gi(i,t)}function $s(i,t,e){const n=$n(i,t,e);return qr(n)}function qr(i,t){const e=Gi;if(i instanceof Un){if(i[e(314)]===Hr&&typeof i.value===e(281)){const r=fI(i[e(312)]);return function(){return r}}return function(){return i.value}}const n=i[e(308)];switch(n){case re.Number:case re[e(335)]:case re.Coalesce:return aQ(i);case re[e(336)]:case re[e(316)]:case re[e(297)]:return oQ(i);case re.Id:return r=>r[e(270)];case re.GeometryType:return r=>r.geometryType;case re[e(289)]:{const r=i[e(318)][e(323)](s=>qr(s));return s=>""[e(280)](...r[e(323)](a=>a(s)[e(337)]()))}case re[e(317)]:return r=>r[e(282)];case re[e(322)]:case re[e(320)]:case re[e(315)]:case re.In:case re[e(288)]:return lQ(i);case re.Equal:case re[e(296)]:case re[e(309)]:case re[e(272)]:case re[e(307)]:case re[e(291)]:return cQ(i);case re[e(279)]:case re[e(268)]:case re[e(267)]:case re[e(332)]:case re[e(299)]:case re[e(325)]:case re[e(301)]:case re[e(275)]:case re.Floor:case re[e(311)]:case re[e(295)]:case re[e(328)]:case re[e(324)]:case re[e(305)]:case re.Sqrt:return xQ(i);case re[e(302)]:return uQ(i);case re[e(338)]:return fQ(i);case re[e(300)]:return hQ(i);case re[e(333)]:return AQ(i);default:throw new Error(e(306)+n)}}function aQ(i,t){const e=Gi,n=i[e(308)],r=i[e(318)].length,s=new Array(r);for(let a=0;a<r;++a)s[a]=qr(i.args[a]);switch(n){case re.Coalesce:return a=>{const o=e;for(let l=0;l<r;++l){const c=s[l](a);if(typeof c!==o(304)&&c!==null)return c}throw new Error(o(286))};case re[e(290)]:case re[e(335)]:return a=>{for(let o=0;o<r;++o){const l=s[o](a);if(typeof l===n)return l}throw new Error("Expected one of the values to be a "+n)};default:throw new Error(e(313)+n)}}function oQ(i,t){const e=Gi,n=i[e(318)][0],r=n[e(312)];switch(i[e(308)]){case re[e(336)]:return s=>{const a=e,o=i[a(318)];let l=s.properties[r];for(let c=1,x=o[a(269)];c<x;++c){const u=o[c],f=u[a(312)];l=l[f]}return l};case re[e(316)]:return s=>s.variables[r];case re[e(297)]:return s=>{const a=e,o=i.args;if(!(r in s.properties))return!1;let l=s[a(334)][r];for(let c=1,x=o[a(269)];c<x;++c){const u=o[c],f=u[a(312)];if(!l||!Object.hasOwn(l,f))return!1;l=l[f]}return!0};default:throw new Error(e(326)+i[e(308)])}}function cQ(i,t){const e=Gi,n=i[e(308)],r=qr(i[e(318)][0]),s=qr(i[e(318)][1]);switch(n){case re[e(331)]:return a=>r(a)===s(a);case re[e(296)]:return a=>r(a)!==s(a);case re[e(309)]:return a=>r(a)<s(a);case re[e(272)]:return a=>r(a)<=s(a);case re.GreaterThan:return a=>r(a)>s(a);case re[e(291)]:return a=>r(a)>=s(a);default:throw new Error("Unsupported comparison operator "+n)}}function lQ(i,t){const e=Gi,n=i.operator,r=i[e(318)].length,s=new Array(r);for(let a=0;a<r;++a)s[a]=qr(i[e(318)][a]);switch(n){case re[e(322)]:return a=>{for(let o=0;o<r;++o)if(s[o](a))return!0;return!1};case re[e(320)]:return a=>{for(let o=0;o<r;++o)if(!s[o](a))return!1;return!0};case re[e(315)]:return a=>{const o=s[0](a),l=s[1](a),c=s[2](a);return o>=l&&o<=c};case re.In:return a=>{const o=s[0](a);for(let l=1;l<r;++l)if(o===s[l](a))return!0;return!1};case re.Not:return a=>!s[0](a);default:throw new Error(e(294)+n)}}function xQ(i,t){const e=Gi,n=i[e(308)],r=i.args[e(269)],s=new Array(r);for(let a=0;a<r;++a)s[a]=qr(i[e(318)][a]);switch(n){case re[e(279)]:return a=>{let o=1;for(let l=0;l<r;++l)o*=s[l](a);return o};case re[e(268)]:return a=>s[0](a)/s[1](a);case re[e(267)]:return a=>{let o=0;for(let l=0;l<r;++l)o+=s[l](a);return o};case re[e(332)]:return a=>s[0](a)-s[1](a);case re.Clamp:return a=>{const o=s[0](a),l=s[1](a);if(o<l)return l;const c=s[2](a);return o>c?c:o};case re[e(325)]:return a=>s[0](a)%s[1](a);case re[e(301)]:return a=>Math[e(284)](s[0](a),s[1](a));case re.Abs:return a=>Math[e(283)](s[0](a));case re.Floor:return a=>Math.floor(s[0](a));case re[e(311)]:return a=>Math.ceil(s[0](a));case re.Round:return a=>Math[e(277)](s[0](a));case re[e(328)]:return a=>Math.sin(s[0](a));case re[e(324)]:return a=>Math[e(321)](s[0](a));case re.Atan:return r===2?a=>Math[e(293)](s[0](a),s[1](a)):a=>Math[e(298)](s[0](a));case re[e(319)]:return a=>Math[e(274)](s[0](a));default:throw new Error(e(310)+n)}}function uQ(i,t){const e=Gi,n=i.args.length,r=new Array(n);for(let s=0;s<n;++s)r[s]=qr(i[e(318)][s]);return s=>{for(let a=0;a<n-1;a+=2)if(r[a](s))return r[a+1](s);return r[n-1](s)}}function fQ(i,t){const e=Gi,n=i[e(318)][e(269)],r=new Array(n);for(let s=0;s<n;++s)r[s]=qr(i[e(318)][s]);return s=>{const a=r[0](s);for(let o=1;o<n;o+=2)if(a===r[o](s))return r[o+1](s);return r[n-1](s)}}function d1(){const i=["string","resolution","abs","pow","21763BwSCZV","Expected one of the values to be non-null","6076002KIodFm","Not","Concat","Number","GreaterThanOrEqualTo","isArray","atan2","Unsupported logical operator ","Round","NotEqual","Has","atan","Clamp","Interpolate","Pow","Case","1048ZJfYkf","undefined","Atan","Unsupported operator ","GreaterThan","operator","LessThan","Unsupported numeric operator ","Ceil","value","Unsupported assertion operator ","type","Between","Var","Resolution","args","Sqrt","All","cos","Any","map","Cos","Mod","Unsupported accessor operator ","349968BZUXjP","Sin","657010ivndgS","2920568CyEqYr","Equal","Subtract","ToString","properties","String","Get","toString","Match","1116929EDHCaW","Add","Divide","length","featureId","628220EogJsh","LessThanOrEqualTo","117dnSiIg","sqrt","Abs","Unsupported convert operator ","round","12tCrcTL","Multiply","concat"];return d1=function(){return i},d1()}function hQ(i,t){const e=Gi,n=i.args[e(269)],r=new Array(n);for(let s=0;s<n;++s)r[s]=qr(i.args[s]);return s=>{const a=e,o=r[0](s),l=r[1](s);let c,x;for(let u=2;u<n;u+=2){const f=r[u](s);let h=r[u+1](s);const A=Array[a(292)](h);if(A&&(h=MT(h)),f>=l)return u===2?h:A?dQ(o,l,c,x,f,h):bu(o,l,c,x,f,h);c=f,x=h}return x}}function AQ(i,t){const e=Gi,n=i[e(308)],r=i[e(318)].length,s=new Array(r);for(let a=0;a<r;++a)s[a]=qr(i.args[a]);switch(n){case re[e(333)]:return a=>{const o=e,l=s[0](a);return i[o(318)][0].type===Hr?hI(l):l[o(337)]()};default:throw new Error(e(276)+n)}}function bu(i,t,e,n,r,s){const a=Gi,o=r-e;if(o===0)return n;const l=t-e,c=i===1?l/o:(Math[a(284)](i,l)-1)/(Math[a(284)](i,o)-1);return n+c*(s-n)}function dQ(i,t,e,n,r,s){if(r-e===0)return n;const o=C3(n),l=C3(s);let c=l[2]-o[2];c>180?c-=360:c<-180&&(c+=360);const x=[bu(i,t,e,o[0],r,l[0]),bu(i,t,e,o[1],r,l[1]),o[2]+bu(i,t,e,0,r,c),bu(i,t,e,n[3],r,s[3])];return v3(RT(x))}(function(i,t){const e=Jt,n=i();for(;;)try{if(parseInt(e(311))/1+parseInt(e(421))/2*(-parseInt(e(442))/3)+-parseInt(e(429))/4+parseInt(e(344))/5*(parseInt(e(390))/6)+parseInt(e(323))/7+parseInt(e(437))/8*(-parseInt(e(366))/9)+parseInt(e(396))/10*(parseInt(e(334))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(_1,266247);function Jt(i,t){const e=_1();return Jt=function(n,r){return n=n-309,e[n]},Jt(i,t)}function pQ(i){return!0}function gQ(i){const t=Rw(),e=mQ(i,t),n=Fw();return function(r,s){const a=Jt;if(n[a(319)]=r[a(383)](),n[a(412)]=s,t[a(371)]){const o=r[a(316)]();o!==void 0?n.featureId=o:n[a(371)]=null}return t[a(345)]&&(n[a(345)]=Lw(r[a(315)]())),e(n)}}function kw(i){const t=Jt,e=Rw(),n=i[t(431)],r=new Array(n);for(let o=0;o<n;++o)r[o]=lE(i[o],e);const s=Fw(),a=new Array(n);return function(o,l){const c=t;if(s[c(319)]=o[c(383)](),s[c(412)]=l,e[c(371)]){const u=o[c(316)]();u!==void 0?s.featureId=u:s[c(371)]=null}let x=0;for(let u=0;u<n;++u){const f=r[u](s);f&&(a[x]=f,x+=1)}return a[c(431)]=x,a}}function mQ(i,t){const e=Jt,n=i[e(431)],r=new Array(n);for(let s=0;s<n;++s){const a=i[s],o="filter"in a?$s(a[e(399)],bi,t):pQ;let l;if(Array[e(348)](a[e(332)])){const c=a.style[e(431)];l=new Array(c);for(let x=0;x<c;++x)l[x]=lE(a.style[x],t)}else l=[lE(a[e(332)],t)];r[s]={filter:o,styles:l}}return function(s){const a=e,o=[];let l=!1;for(let c=0;c<n;++c){const x=r[c][a(399)];if(x(s)&&!(i[c][a(380)]&&l)){l=!0;for(const u of r[c][a(342)]){const f=u(s);f&&o[a(406)](f)}}}return o}}function lE(i,t){const e=Jt,n=Cu(i,"",t),r=vu(i,"",t),s=_Q(i,t),a=IQ(i,t),o=zi(i,e(413),t);if(!n&&!r&&!s&&!a&&!Da(i))throw new Error(e(313)+JSON[e(414)](i));const l=new Bt;return function(c){const x=e;let u=!0;if(n){const f=n(c);f&&(u=!1),l[x(349)](f)}if(r){const f=r(c);f&&(u=!1),l[x(400)](f)}if(s){const f=s(c);f&&(u=!1),l[x(405)](f)}if(a){const f=a(c);f&&(u=!1),l.setImage(f)}return o&&l.setZIndex(o(c)),u?null:l}}function Cu(i,t,e){const n=Jt;let r;if(t+n(374)in i)r=CQ(i,t+n(434),e);else{if(i[t+"fill-color"]===n(379))return a=>null;r=xE(i,t+n(321),e)}if(!r)return null;const s=new Ni;return function(a){const o=r(a);return o===xI?null:(s.setColor(o),s)}}function vu(i,t,e){const n=Jt,r=zi(i,t+n(402),e),s=xE(i,t+n(441),e);if(!r&&!s)return null;const a=ea(i,t+"stroke-line-cap",e),o=ea(i,t+n(335),e),l=Pw(i,t+"stroke-line-dash",e),c=zi(i,t+n(432),e),x=zi(i,t+n(326),e),u=new yi;return function(f){const h=n;if(s){const A=s(f);if(A===xI)return null;u[h(367)](A)}if(r&&u[h(363)](r(f)),a){const A=a(f);if(A!==h(430)&&A!==h(360)&&A!==h(385))throw new Error(h(357));u[h(439)](A)}if(o){const A=o(f);if(A!=="bevel"&&A!=="round"&&A!==h(312))throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(A)}return l&&u[h(381)](l(f)),c&&u[h(341)](c(f)),x&&u[h(340)](x(f)),u}}function _Q(i,t){const e=Jt,n="text-",r=ea(i,n+e(362),t);if(!r)return null;const s=Cu(i,n,t),a=Cu(i,n+e(392),t),o=vu(i,n,t),l=vu(i,n+e(392),t),c=ea(i,n+"font",t),x=zi(i,n+e(343),t),u=zi(i,n+"offset-x",t),f=zi(i,n+e(393),t),h=wu(i,n+"overflow",t),A=ea(i,n+e(435),t),p=zi(i,n+e(354),t),d=g1(i,n+e(320),t),g=wu(i,n+"rotate-with-view",t),m=zi(i,n+"rotation",t),_=ea(i,n+e(403),t),I=ea(i,n+e(389),t),y=ea(i,n+"baseline",t),E=Pw(i,n+"padding",t),b=I1(i,n+e(426)),w=new _u({declutterMode:b});return function(C){const v=e;if(w[v(405)](r(C)),s&&w[v(349)](s(C)),a&&w[v(325)](a(C)),o&&w[v(400)](o(C)),l&&w[v(386)](l(C)),c&&w[v(384)](c(C)),x&&w[v(369)](x(C)),u&&w[v(355)](u(C)),f&&w[v(425)](f(C)),h&&w[v(372)](h(C)),A){const B=A(C);if(B!==v(328)&&B!=="line")throw new Error(v(388));w[v(382)](B)}if(p&&w[v(351)](p(C)),d&&w[v(410)](d(C)),g&&w[v(411)](g(C)),m&&w.setRotation(m(C)),_){const B=_(C);if(B!==v(424)&&B!==v(375)&&B!==v(408)&&B!=="end"&&B!==v(419))throw new Error(v(359));w.setTextAlign(B)}if(I){const B=I(C);if(B!=="left"&&B!=="right"&&B!=="center")throw new Error("Expected left, right, or center for text-justify");w[v(394)](B)}if(y){const B=y(C);if(B!==v(433)&&B!==v(407)&&B!==v(364)&&B!=="alphabetic"&&B!==v(310))throw new Error(v(443));w[v(370)](B)}return E&&w[v(358)](E(C)),w}}function IQ(i,t){const e=Jt;return e(427)in i?EQ(i,t):e(395)in i?yQ(i,t):e(420)in i?bQ(i,t):null}function EQ(i,t){const e=Jt,n="icon-",r=n+e(336),s=Gw(i[r],r),a=p1(i,n+e(329),t),o=g1(i,n+e(320),t),l=zi(i,n+e(387),t),c=p1(i,n+e(324),t),x=zi(i,n+e(356),t),u=wu(i,n+"rotate-with-view",t),f=Nw(i,n+e(365)),h=Ow(i,n+"anchor-x-units"),A=Ow(i,n+e(318)),p=SQ(i,n+e(361)),d=wQ(i,n+e(317)),g=BQ(i,n+e(409)),m=Nw(i,n+"offset-origin"),_=m1(i,n+e(314)),I=m1(i,n+e(338)),y=vQ(i,n+e(416)),E=I1(i,n+e(426)),b=new r0({src:s,anchorOrigin:f,anchorXUnits:h,anchorYUnits:A,color:p,crossOrigin:d,offset:g,offsetOrigin:m,height:I,width:_,size:y,declutterMode:E});return function(w){const C=e;return l&&b[C(398)](l(w)),c&&b[C(418)](c(w)),x&&b[C(422)](x(w)),u&&b[C(411)](u(w)),o&&b[C(410)](o(w)),a&&b[C(415)](a(w)),b}}function yQ(i,t){const e=Jt,n=e(352),r=n+e(423),s=n+e(436),a=uE(i[r],r),o=uE(i[s],s),l=Cu(i,n,t),c=vu(i,n,t),x=g1(i,n+e(320),t),u=p1(i,n+e(324),t),f=zi(i,n+e(356),t),h=wu(i,n+e(401),t),A=m1(i,n+e(333)),p=m1(i,n+"angle"),d=I1(i,n+e(426)),g=new fc({points:a,radius:o,radius2:A,angle:p,declutterMode:d});return function(m){const _=e;return l&&g[_(349)](l(m)),c&&g.setStroke(c(m)),u&&g[_(418)](u(m)),f&&g[_(422)](f(m)),h&&g.setRotateWithView(h(m)),x&&g[_(410)](x(m)),g}}function bQ(i,t){const e=Jt,n=e(397),r=Cu(i,n,t),s=vu(i,n,t),a=zi(i,n+"radius",t),o=g1(i,n+e(320),t),l=p1(i,n+e(324),t),c=zi(i,n+e(356),t),x=wu(i,n+e(401),t),u=I1(i,n+e(426)),f=new Sc({radius:5,declutterMode:u});return function(h){const A=e;return a&&f.setRadius(a(h)),r&&f[A(349)](r(h)),s&&f[A(400)](s(h)),l&&f[A(418)](l(h)),c&&f[A(422)](c(h)),x&&f[A(411)](x(h)),o&&f[A(410)](o(h)),f}}function zi(i,t,e){if(!(t in i))return;const n=$s(i[t],bt,e);return function(r){return uE(n(r),t)}}function ea(i,t,e){if(!(t in i))return null;const n=$s(i[t],Oi,e);return function(r){return Gw(n(r),t)}}function CQ(i,t,e){const n=Jt,r=ea(i,t+n(331),e),s=Uw(i,t+n(377),e),a=Uw(i,t+n(417),e),o=xE(i,t+"color",e);return function(l){return{src:r(l),offset:s&&s(l),size:a&&a(l),color:o&&o(l)}}}function wu(i,t,e){if(!(t in i))return null;const n=$s(i[t],bi,e);return function(r){const s=Jt,a=n(r);if(typeof a!==s(373))throw new Error(s(353)+t);return a}}function xE(i,t,e){if(!(t in i))return null;const n=$s(i[t],Hr,e);return function(r){return zw(n(r),t)}}function Pw(i,t,e){if(!(t in i))return null;const n=$s(i[t],a0,e);return function(r){return Bu(n(r),t)}}function p1(i,t,e){if(!(t in i))return null;const n=$s(i[t],a0,e);return function(r){const s=Jt,a=Bu(n(r),t);if(a[s(431)]!==2)throw new Error(s(404)+t);return a}}function Uw(i,t,e){if(!(t in i))return null;const n=$s(i[t],a0,e);return function(r){return Vw(n(r),t)}}function g1(i,t,e){if(!(t in i))return null;const n=$s(i[t],a0|bt,e);return function(r){return MQ(n(r),t)}}function m1(i,t){const e=Jt,n=i[t];if(n!==void 0){if(typeof n!==e(428))throw new Error("Expected a number for "+t);return n}}function vQ(i,t){const e=Jt,n=i[t];if(n!==void 0){if(typeof n===e(428))return fi(n);if(!Array[e(348)](n))throw new Error(e(368)+t);if(n[e(431)]!==2||typeof n[0]!==e(428)||typeof n[1]!==e(428))throw new Error(e(368)+t);return n}}function wQ(i,t){const e=Jt,n=i[t];if(n!==void 0){if(typeof n!==e(309))throw new Error(e(391)+t);return n}}function _1(){const i=["top-left","stroke-color","10110azpdva","Expected bottom, top, middle, alphabetic, or hanging for text-baseline","string","hanging","276535aAIhZk","miter","No fill, stroke, point, or text symbolizer properties in style: ","width","getGeometry","getId","cross-origin","anchor-y-units","properties","scale","fill-color","Expected an array of two numbers for ","1235192NHXgBE","displacement","setBackgroundFill","stroke-miter-limit","bottom-left","point","anchor","Expected declutter, obstacle, or none for ","pattern-src","style","radius2","55joYbpG","stroke-line-join","src","Expected an array of numbers for ","height","Expected a color with 3 or 4 values for ","setMiterLimit","setLineDashOffset","styles","max-angle","145UfshCv","geometryType","obstacle","pixels","isArray","setFill","Expected bottom-left, bottom-right, top-left, or top-right for ","setRepeat","shape-","Expected a boolean for ","repeat","setOffsetX","rotation","Expected butt, round, or square line cap","setPadding","Expected left, right, center, start, or end for text-align","round","color","value","setWidth","middle","anchor-origin","315PtBJWD","setColor","Expected a number or size array for ","setMaxAngle","setTextBaseline","featureId","setOverflow","boolean","fill-pattern-src","center","Expected pixels or fraction for ","pattern-offset","Expected an array for ","none","else","setLineDash","setPlacement","getPropertiesInternal","setFont","square","setBackgroundStroke","opacity","Expected point or line for text-placement","justify","76422cBeeLH","Expected a string for ","background-","offset-y","setJustify","shape-points","350510jabWjI","circle-","setOpacity","filter","setStroke","rotate-with-view","stroke-width","align","Expected two numbers for ","setText","push","top","right","offset","setScale","setRotateWithView","resolution","z-index","stringify","setAnchor","size","pattern-size","setDisplacement","start","circle-radius","262zCnxvn","setRotation","points","left","setOffsetY","declutter-mode","icon-src","number","182828PMekdN","butt","length","stroke-line-dash-offset","bottom","fill-","placement","radius","55816UApSgW","bottom-right","setLineCap"];return _1=function(){return i},_1()}function Nw(i,t){const e=Jt,n=i[t];if(n!==void 0){if(n!==e(327)&&n!==e(438)&&n!==e(440)&&n!=="top-right")throw new Error(e(350)+t);return n}}function Ow(i,t){const e=Jt,n=i[t];if(n!==void 0){if(n!==e(347)&&n!=="fraction")throw new Error(e(376)+t);return n}}function BQ(i,t){const e=i[t];if(e!==void 0)return Bu(e,t)}function I1(i,t){const e=Jt,n=i[t];if(n!==void 0){if(typeof n!==e(309))throw new Error(e(391)+t);if(n!=="declutter"&&n!==e(346)&&n!=="none")throw new Error(e(330)+t);return n}}function SQ(i,t){const e=i[t];if(e!==void 0)return zw(e,t)}function Bu(i,t){const e=Jt;if(!Array[e(348)](i))throw new Error(e(378)+t);const n=i[e(431)];for(let r=0;r<n;++r)if(typeof i[r]!="number")throw new Error(e(337)+t);return i}function Gw(i,t){const e=Jt;if(typeof i!==e(309))throw new Error(e(391)+t);return i}function uE(i,t){if(typeof i!==Jt(428))throw new Error("Expected a number for "+t);return i}function zw(i,t){const e=Jt;if(typeof i===e(309))return i;const n=Bu(i,t),r=n[e(431)];if(r<3||r>4)throw new Error(e(339)+t);return n}function Vw(i,t){const e=Jt,n=Bu(i,t);if(n[e(431)]!==2)throw new Error(e(322)+t);return n}function MQ(i,t){return typeof i=="number"?i:Vw(i,t)}const pn=E1;function E1(i,t){const e=y1();return E1=function(n,r){return n=n-157,e[n]},E1(i,t)}(function(i,t){const e=E1,n=i();for(;;)try{if(-parseInt(e(190))/1+-parseInt(e(160))/2+parseInt(e(184))/3+parseInt(e(179))/4+-parseInt(e(175))/5+parseInt(e(191))/6*(parseInt(e(170))/7)+parseInt(e(166))/8===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(y1,667370);function y1(){const i=["length","isArray","RENDER_ORDER","115914DCcMrX","getRenderer","changed","set","getDeclutter","getRenderOrder","1322851mqSlDN","195366oyBkrw","renderDeclutter","Expected a list of rules with a style property","getStyleFunction","declutter_","updateWhileInteracting_","style_","assign","style","Expected a list of style instances","1818712gCIZhJ","setStyle","styleFunction_","function","get","getFeatures","11556456uAGHRP","renderBuffer_","updateWhileAnimating","renderBuffer","203axBLLR","getRenderBuffer","declutter","getUpdateWhileAnimating","updateWhileAnimating_","2129280kdELqG","updateWhileInteracting","renderOrder","getStyle","3591876nTuilT","getUpdateWhileInteracting"];return y1=function(){return i},y1()}const Hw={RENDER_ORDER:pn(177)};class fE extends n0{constructor(t){const e=pn;t=t||{};const n=Object[e(157)]({},t);delete n[e(158)],delete n[e(169)],delete n[e(168)],delete n[e(176)],super(n),this[e(195)]=t.declutter?String(t.declutter):void 0,this[e(167)]=t[e(169)]!==void 0?t[e(169)]:100,this[e(197)]=null,this[e(162)]=void 0,this[e(161)](t.style),this.updateWhileAnimating_=t[e(168)]!==void 0?t[e(168)]:!1,this[e(196)]=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}[pn(188)](){return this[pn(195)]}[pn(165)](t){const e=pn;return super[e(165)](t)}[pn(171)](){return this[pn(167)]}[pn(189)](){const t=pn;return this[t(164)](Hw[t(183)])}[pn(178)](){return this[pn(197)]}[pn(194)](){return this[pn(162)]}[pn(173)](){return this[pn(174)]}[pn(180)](){return this[pn(196)]}renderDeclutter(t,e){const n=pn,r=this[n(188)]();!(r in t.declutter)&&(t[n(172)][r]=new vw(9)),this[n(185)]()[n(192)](t,e)}setRenderOrder(t){const e=pn;this[e(187)](Hw[e(183)],t)}[pn(161)](t){const e=pn;this.style_=t===void 0?Bw:t;const n=RQ(t);this[e(162)]=t===null?void 0:HD(n),this[e(186)]()}}function RQ(i){const t=pn;if(i===void 0)return Bw;if(!i)return null;if(typeof i===t(163)||i instanceof Bt)return i;if(!Array[t(182)](i))return kw([i]);if(i[t(181)]===0)return[];const e=i[t(181)],n=i[0];if(n instanceof Bt){const s=new Array(e);for(let a=0;a<e;++a){const o=i[a];if(!(o instanceof Bt))throw new Error(t(159));s[a]=o}return s}if(t(158)in n){const s=new Array(e);for(let a=0;a<e;++a){const o=i[a];if(!(t(158)in o))throw new Error(t(193));s[a]=o}return gQ(s)}return kw(i)}const hE=v1;(function(i,t){const e=v1,n=i();for(;;)try{if(parseInt(e(170))/1+parseInt(e(171))/2+-parseInt(e(161))/3*(parseInt(e(169))/4)+-parseInt(e(163))/5+parseInt(e(160))/6*(-parseInt(e(162))/7)+-parseInt(e(168))/8*(parseInt(e(172))/9)+-parseInt(e(173))/10*(-parseInt(e(167))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(C1,746375);const He={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},b1=[He.FILL];function C1(){const i=["35XyDHKq","6925680voITIj","BEGIN_PATH","STROKE","CLOSE_PATH","20382637xqnzdI","88mUbyme","71860xPofjh","1134400SUhBZn","2740558htzJMJ","23985tQWRQh","10rHxIws","1687632IJsrqu","132aczVJr"];return C1=function(){return i},C1()}const Ka=[He[hE(165)]];function v1(i,t){const e=C1();return v1=function(n,r){return n=n-160,e[n]},v1(i,t)}const o0=[He[hE(164)]],qw=[He[hE(166)]];function w1(i,t){var e=B1();return w1=function(n,r){n=n-340;var s=e[n];return s},w1(i,t)}var or=w1;(function(i,t){for(var e=w1,n=i();;)try{var r=parseInt(e(344))/1+-parseInt(e(358))/2*(-parseInt(e(351))/3)+parseInt(e(357))/4+-parseInt(e(360))/5*(parseInt(e(353))/6)+parseInt(e(347))/7+-parseInt(e(350))/8*(parseInt(e(356))/9)+-parseInt(e(362))/10;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(B1,704296);function B1(){var i=["drawFeature","3990435cKzTBV","drawPolygon","13111200fxWfdY","setTextStyle","drawMultiPolygon","drawGeometry","setFillStrokeStyle","888908kJvXmv","setImageStyle","drawMultiPoint","6747839uYpJRB","setStyle","drawCustom","59920uOuSlW","1341aiKIsG","drawGeometryCollection","6BJouwb","drawLineString","drawMultiLineString","1269EDrOpb","2608068BGYXop","6106rhhLOq"];return B1=function(){return i},B1()}class Yw{[or(349)](t,e,n,r,s){}[or(342)](t){}[or(348)](t){}drawCircle(t,e,n){}[or(359)](t,e,n){}[or(352)](t,e,n){}[or(354)](t,e,n){}[or(355)](t,e,n){}[or(346)](t,e,n){}[or(341)](t,e,n){}drawPoint(t,e,n){}[or(361)](t,e,n){}drawText(t,e,n){}[or(343)](t,e){}[or(345)](t,e){}[or(340)](t,e){}}const Ht=Mu;(function(i,t){const e=Mu,n=i();for(;;)try{if(parseInt(e(171))/1*(parseInt(e(161))/2)+-parseInt(e(201))/3*(parseInt(e(167))/4)+parseInt(e(206))/5*(-parseInt(e(179))/6)+parseInt(e(170))/7*(-parseInt(e(168))/8)+-parseInt(e(180))/9*(-parseInt(e(145))/10)+parseInt(e(185))/11*(-parseInt(e(157))/12)+parseInt(e(189))/13===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(S1,902294);class Su extends Yw{constructor(t,e,n,r){const s=Mu;super(),this[s(181)]=t,this[s(195)]=e,this.pixelRatio=r,this.maxLineWidth=0,this[s(142)]=n,this.beginGeometryInstruction1_=null,this[s(198)]=null,this[s(212)]=null,this.instructions=[],this[s(213)]=[],this.tmpCoordinate_=[],this[s(154)]=[],this.state={}}[Ht(169)](t){const e=Ht,n=this.pixelRatio;return n==1?t:t[e(176)](function(r){return r*n})}[Ht(183)](t,e){const n=Ht,r=this[n(219)](),s=this[n(182)],a=this[n(213)];let o=a[n(173)];for(let l=0,c=t[n(173)];l<c;l+=e)s[0]=t[l],s[1]=t[l+1],No(r,s)&&(a[o++]=s[0],a[o++]=s[1]);return o}appendFlatLineCoordinates(t,e,n,r,s,a){const o=Ht,l=this[o(213)];let c=l[o(173)];const x=this[o(219)]();a&&(e+=r);let u=t[e],f=t[e+1];const h=this[o(182)];let A=!0,p,d,g;for(p=e+r;p<n;p+=r)h[0]=t[p],h[1]=t[p+1],g=q2(x,h),g!==d?(A&&(l[c++]=u,l[c++]=f,A=!1),l[c++]=h[0],l[c++]=h[1]):g===qn.INTERSECTING?(l[c++]=h[0],l[c++]=h[1],A=!1):A=!0,u=h[0],f=h[1],d=g;return(s&&A||p===e+r)&&(l[c++]=u,l[c++]=f),c}drawCustomCoordinates_(t,e,n,r,s){const a=Ht;for(let o=0,l=n[a(173)];o<l;++o){const c=n[o],x=this.appendFlatLineCoordinates(t,e,c,r,!1,!1);s[a(200)](x),e=c}return e}[Ht(190)](t,e,n,r,s){const a=Ht;this.beginGeometry(t,e,s);const o=t[a(193)](),l=t.getStride(),c=this.coordinates[a(173)];let x,u,f,h,A;switch(o){case"MultiPolygon":x=t[a(217)](),h=[];const p=t[a(214)]();A=0;for(let d=0,g=p[a(173)];d<g;++d){const m=[];A=this.drawCustomCoordinates_(x,A,p[d],l,m),h[a(200)](m)}this[a(146)][a(200)]([He[a(192)],c,h,t,n,YI,s]),this[a(154)][a(200)]([He[a(192)],c,h,t,r||n,YI,s]);break;case a(151):case a(208):f=[],x=o==a(151)?t[a(217)]():t[a(197)](),A=this[a(186)](x,0,t.getEnds(),l,f),this[a(146)][a(200)]([He[a(192)],c,f,t,n,nu,s]),this.hitDetectionInstructions[a(200)]([He[a(192)],c,f,t,r||n,nu,s]);break;case a(209):case"Circle":x=t[a(197)](),u=this[a(144)](x,0,x.length,l,!1,!1),this.instructions[a(200)]([He[a(192)],c,u,t,n,qa,s]),this[a(154)][a(200)]([He.CUSTOM,c,u,t,r||n,qa,s]);break;case a(152):x=t.getFlatCoordinates(),u=this[a(183)](x,l),u>c&&(this.instructions[a(200)]([He[a(192)],c,u,t,n,qa,s]),this[a(154)].push([He[a(192)],c,u,t,r||n,qa,s]));break;case a(196):x=t[a(197)](),this.coordinates.push(x[0],x[1]),u=this.coordinates[a(173)],this.instructions.push([He[a(192)],c,u,t,n,void 0,s]),this[a(154)][a(200)]([He.CUSTOM,c,u,t,r||n,void 0,s]);break}this[a(165)](e)}[Ht(143)](t,e,n){const r=Ht;this.beginGeometryInstruction1_=[He.BEGIN_GEOMETRY,e,0,t,n],this.instructions[r(200)](this.beginGeometryInstruction1_),this[r(198)]=[He[r(203)],e,0,t,n],this[r(154)][r(200)](this[r(198)])}[Ht(139)](){const t=Ht;return{instructions:this[t(146)],hitDetectionInstructions:this[t(154)],coordinates:this[t(213)]}}reverseHitDetectionInstructions(){const t=Ht,e=this[t(154)];e[t(166)]();let n;const r=e[t(173)];let s,a,o=-1;for(n=0;n<r;++n)s=e[n],a=s[0],a==He[t(140)]?o=n:a==He[t(203)]&&(s[2]=n,PT(this[t(154)],o,n),o=-1)}[Ht(202)](t,e){const n=Ht,r=this[n(150)];if(t){const s=t.getColor();r.fillPatternScale=s&&typeof s===n(155)&&n(160)in s?this[n(199)]:1,r[n(218)]=ds(s||Fi)}else r.fillStyle=void 0;if(e){const s=e[n(163)]();r.strokeStyle=ds(s||Vx);const a=e.getLineCap();r[n(178)]=a!==void 0?a:cc;const o=e.getLineDash();r[n(184)]=o?o[n(162)]():Xs;const l=e[n(153)]();r[n(191)]=l||Ks;const c=e.getLineJoin();r[n(207)]=c!==void 0?c:lc;const x=e.getWidth();r[n(141)]=x!==void 0?x:qx;const u=e.getMiterLimit();r[n(158)]=u!==void 0?u:zx,r.lineWidth>this[n(188)]&&(this[n(188)]=r[n(141)],this[n(212)]=null)}else r[n(194)]=void 0,r.lineCap=void 0,r[n(184)]=null,r.lineDashOffset=void 0,r[n(207)]=void 0,r.lineWidth=void 0,r[n(158)]=void 0}[Ht(147)](t){const e=Ht,n=t.fillStyle,r=[He[e(148)],n];return typeof n!==e(210)&&r[e(200)](t[e(211)]),r}[Ht(205)](t){const e=Ht;this[e(146)][e(200)](this.createStroke(t))}[Ht(177)](t){const e=Ht;return[He[e(164)],t[e(194)],t[e(141)]*this[e(199)],t[e(178)],t.lineJoin,t.miterLimit,this[e(169)](t[e(184)]),t[e(191)]*this.pixelRatio]}[Ht(156)](t,e){const n=Ht,r=t[n(218)];(typeof r!==n(210)||t[n(216)]!=r)&&(r!==void 0&&this[n(146)][n(200)](e[n(159)](this,t)),t[n(216)]=r)}[Ht(215)](t,e){const n=Ht,r=t[n(194)],s=t.lineCap,a=t.lineDash,o=t[n(191)],l=t[n(207)],c=t[n(141)],x=t.miterLimit;(t[n(175)]!=r||t[n(204)]!=s||a!=t[n(187)]&&!Na(t.currentLineDash,a)||t[n(172)]!=o||t[n(174)]!=l||t[n(149)]!=c||t.currentMiterLimit!=x)&&(r!==void 0&&e[n(159)](this,t),t[n(175)]=r,t[n(204)]=s,t[n(187)]=a,t[n(172)]=o,t[n(174)]=l,t[n(149)]=c,t.currentMiterLimit=x)}[Ht(165)](t){const e=Ht;this[e(138)][2]=this[e(146)][e(173)],this[e(138)]=null,this[e(198)][2]=this[e(154)][e(173)],this[e(198)]=null;const n=[He.END_GEOMETRY,t];this[e(146)].push(n),this[e(154)].push(n)}[Ht(219)](){const t=Ht;if(!this[t(212)]&&(this[t(212)]=o3(this[t(195)]),this[t(188)]>0)){const e=this.resolution*(this[t(188)]+1)/2;Qa(this.bufferedMaxExtent_,e,this[t(212)])}return this[t(212)]}}function Mu(i,t){const e=S1();return Mu=function(n,r){return n=n-138,e[n]},Mu(i,t)}function S1(){const i=["currentLineWidth","state","Polygon","MultiPoint","getLineDashOffset","hitDetectionInstructions","object","updateFillStyle","2676WCpehY","miterLimit","call","src","13492aYKySf","slice","getColor","SET_STROKE_STYLE","endGeometry","reverse","12zYyywo","8FJuYED","applyPixelRatio","10592302KmOuHo","158ZzCNRX","currentLineDashOffset","length","currentLineJoin","currentStrokeStyle","map","createStroke","lineCap","86262Fydcga","9VIjzXk","tolerance","tmpCoordinate_","appendFlatPointCoordinates","lineDash","71104waczFy","drawCustomCoordinates_","currentLineDash","maxLineWidth","19313996XbAJAV","drawCustom","lineDashOffset","CUSTOM","getType","strokeStyle","maxExtent","Point","getFlatCoordinates","beginGeometryInstruction2_","pixelRatio","push","253212ljllFK","setFillStrokeStyle","BEGIN_GEOMETRY","currentLineCap","applyStroke","55fAPogb","lineJoin","MultiLineString","LineString","string","fillPatternScale","bufferedMaxExtent_","coordinates","getEndss","updateStrokeStyle","currentFillStyle","getOrientedFlatCoordinates","fillStyle","getBufferedMaxExtent","beginGeometryInstruction1_","finish","END_GEOMETRY","lineWidth","resolution","beginGeometry","appendFlatLineCoordinates","17167510wSmqOX","instructions","createFill","SET_FILL_STYLE"];return S1=function(){return i},S1()}const Ru=Tc;(function(i,t){const e=Tc,n=i();for(;;)try{if(parseInt(e(396))/1*(-parseInt(e(352))/2)+-parseInt(e(398))/3+-parseInt(e(354))/4*(-parseInt(e(357))/5)+parseInt(e(378))/6+-parseInt(e(373))/7+parseInt(e(380))/8*(-parseInt(e(368))/9)+parseInt(e(377))/10*(parseInt(e(393))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(M1,471603);function M1(){const i=["DRAW_IMAGE","image_","getFlatCoordinates","drawMultiPoint","reverseHitDetectionInstructions","coordinates","getSize","originY_","getOpacity","1260919vYqKCw","declutterImageWithText_","getImage","25052OhTBkG","height_","1089537PPavyb","28OyohPx","beginGeometry","4Gpfwcp","imagePixelRatio_","scale_","512420ESvurb","width_","push","finish","hitDetectionImage_","originX_","anchorY_","endGeometry","rotation_","pixelRatio","instructions","9XqKchC","maxExtent","length","rotateWithView_","opacity_","1153089SLxidu","getPixelRatio","appendFlatPointCoordinates","getStride","110wPxdkc","3943926awzanD","ceil","5363896YZuvsr","declutterMode_","getScaleArray","anchorX_"];return M1=function(){return i},M1()}class TQ extends Su{constructor(t,e,n,r){const s=Tc;super(t,e,n,r),this[s(361)]=null,this[s(385)]=null,this[s(355)]=void 0,this[s(383)]=void 0,this[s(363)]=void 0,this[s(397)]=void 0,this[s(372)]=void 0,this[s(362)]=void 0,this[s(391)]=void 0,this[s(371)]=void 0,this.rotation_=void 0,this[s(356)]=void 0,this[s(358)]=void 0,this[s(381)]=void 0,this[s(394)]=void 0}drawPoint(t,e,n){const r=Tc;if(!this.image_||this[r(369)]&&!No(this.maxExtent,t[r(386)]()))return;this.beginGeometry(t,e,n);const s=t.getFlatCoordinates(),a=t[r(376)](),o=this[r(389)][r(370)],l=this[r(375)](s,a);this[r(367)][r(359)]([He[r(384)],o,l,this[r(385)],this[r(383)]*this[r(355)],this.anchorY_*this[r(355)],Math[r(379)](this.height_*this[r(355)]),this[r(372)],this[r(362)]*this[r(355)],this[r(391)]*this[r(355)],this[r(371)],this[r(365)],[this[r(356)][0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this[r(366)]/this[r(355)]],Math[r(379)](this[r(358)]*this.imagePixelRatio_),this[r(381)],this.declutterImageWithText_]),this.hitDetectionInstructions.push([He[r(384)],o,l,this.hitDetectionImage_,this.anchorX_,this[r(363)],this[r(397)],1,this[r(362)],this[r(391)],this.rotateWithView_,this.rotation_,this[r(356)],this.width_,this[r(381)],this.declutterImageWithText_]),this[r(364)](e)}[Ru(387)](t,e,n){const r=Ru;if(!this[r(385)])return;this[r(353)](t,e,n);const s=t[r(386)](),a=[];for(let c=0,x=s[r(370)];c<x;c+=t.getStride())(!this[r(369)]||No(this[r(369)],s.slice(c,c+2)))&&a[r(359)](s[c],s[c+1]);const o=this[r(389)][r(370)],l=this[r(375)](a,2);this[r(367)][r(359)]([He.DRAW_IMAGE,o,l,this[r(385)],this[r(383)]*this.imagePixelRatio_,this[r(363)]*this[r(355)],Math.ceil(this[r(397)]*this[r(355)]),this[r(372)],this[r(362)]*this[r(355)],this[r(391)]*this[r(355)],this.rotateWithView_,this[r(365)],[this.scale_[0]*this.pixelRatio/this[r(355)],this.scale_[1]*this.pixelRatio/this[r(355)]],Math[r(379)](this[r(358)]*this.imagePixelRatio_),this[r(381)],this[r(394)]]),this.hitDetectionInstructions[r(359)]([He[r(384)],o,l,this[r(361)],this[r(383)],this[r(363)],this[r(397)],1,this[r(362)],this[r(391)],this[r(371)],this[r(365)],this[r(356)],this[r(358)],this[r(381)],this.declutterImageWithText_]),this[r(364)](e)}[Ru(360)](){const t=Ru;return this[t(388)](),this[t(383)]=void 0,this[t(363)]=void 0,this.hitDetectionImage_=null,this.image_=null,this[t(355)]=void 0,this[t(397)]=void 0,this.scale_=void 0,this[t(372)]=void 0,this[t(362)]=void 0,this[t(391)]=void 0,this[t(371)]=void 0,this[t(365)]=void 0,this[t(358)]=void 0,super.finish()}setImageStyle(t,e){const n=Ru,r=t.getAnchor(),s=t[n(390)](),a=t.getOrigin();this.imagePixelRatio_=t[n(374)](this[n(366)]),this[n(383)]=r[0],this.anchorY_=r[1],this[n(361)]=t.getHitDetectionImage(),this[n(385)]=t[n(395)](this.pixelRatio),this.height_=s[1],this.opacity_=t[n(392)](),this[n(362)]=a[0],this[n(391)]=a[1],this[n(371)]=t.getRotateWithView(),this[n(365)]=t.getRotation(),this.scale_=t[n(382)](),this[n(358)]=s[0],this[n(381)]=t.getDeclutterMode(),this[n(394)]=e}}function Tc(i,t){const e=M1();return Tc=function(n,r){return n=n-352,e[n]},Tc(i,t)}const bs=R1;(function(i,t){const e=R1,n=i();for(;;)try{if(parseInt(e(402))/1*(parseInt(e(413))/2)+parseInt(e(409))/3+parseInt(e(401))/4+parseInt(e(403))/5+parseInt(e(398))/6+parseInt(e(411))/7+-parseInt(e(416))/8===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(T1,398423);function R1(i,t){const e=T1();return R1=function(n,r){return n=n-387,e[n]},R1(i,t)}function T1(){const i=["302823MKUkun","1888140uqpKPa","drawMultiLineString","SET_STROKE_STYLE","instructions","appendFlatLineCoordinates","beginGeometry","1188360DxZhBd","getFlatCoordinates","3181745IRcPRC","updateStrokeStyle","2NNGaVt","strokeStyle","lineCap","13696032DYtExD","lineWidth","miterLimit","hitDetectionInstructions","drawLineString","length","endGeometry","applyStroke","drawFlatCoordinates_","push","MOVE_TO_LINE_TO","getEnds","finish","reverseHitDetectionInstructions","getStride","state","1943274XjcQGH","lineJoin","coordinates","1021768PEnQch"];return T1=function(){return i},T1()}class DQ extends Su{constructor(t,e,n,r){super(t,e,n,r)}[bs(390)](t,e,n,r){const s=bs,a=this.coordinates[s(387)],o=this[s(407)](t,e,n,r,!1,!1),l=[He[s(392)],a,o];return this[s(406)][s(391)](l),this[s(419)][s(391)](l),n}[bs(420)](t,e,n){const r=bs,s=this.state,a=s[r(414)],o=s.lineWidth;if(a===void 0||o===void 0)return;this.updateStrokeStyle(s,this[r(389)]),this[r(408)](t,e,n),this[r(419)][r(391)]([He[r(405)],s[r(414)],s[r(417)],s[r(415)],s[r(399)],s[r(418)],Xs,Ks],o0);const l=t[r(410)](),c=t[r(396)]();this.drawFlatCoordinates_(l,0,l[r(387)],c),this[r(419)][r(391)](Ka),this[r(388)](e)}[bs(404)](t,e,n){const r=bs,s=this.state,a=s[r(414)],o=s[r(417)];if(a===void 0||o===void 0)return;this[r(412)](s,this[r(389)]),this.beginGeometry(t,e,n),this[r(419)].push([He[r(405)],s[r(414)],s[r(417)],s[r(415)],s.lineJoin,s[r(418)],Xs,Ks],o0);const l=t[r(393)](),c=t[r(410)](),x=t[r(396)]();let u=0;for(let f=0,h=l[r(387)];f<h;++f)u=this[r(390)](c,u,l[f],x);this[r(419)][r(391)](Ka),this[r(388)](e)}[bs(394)](){const t=bs,e=this[t(397)];return e.lastStroke!=null&&e.lastStroke!=this[t(400)][t(387)]&&this[t(406)][t(391)](Ka),this[t(395)](),this[t(397)]=null,super[t(394)]()}[bs(389)](t){const e=bs;t.lastStroke!=null&&t.lastStroke!=this[e(400)][e(387)]&&(this[e(406)][e(391)](Ka),t.lastStroke=this[e(400)][e(387)]),t.lastStroke=0,super[e(389)](t),this[e(406)][e(391)](o0)}}const Cs=Q1;(function(i,t){const e=Q1,n=i();for(;;)try{if(parseInt(e(184))/1+-parseInt(e(190))/2*(-parseInt(e(167))/3)+-parseInt(e(203))/4*(parseInt(e(193))/5)+-parseInt(e(189))/6*(-parseInt(e(173))/7)+parseInt(e(164))/8*(parseInt(e(163))/9)+parseInt(e(198))/10*(parseInt(e(195))/11)+-parseInt(e(166))/12===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(D1,340143);function D1(){const i=["161179Dtgxlh","miterLimit","updateFillStyle","setFillStrokeStyles_","createFill","36996fLZTgm","38DetmlY","SET_STROKE_STYLE","applyStroke","2225OwBBmT","MOVE_TO_LINE_TO","250239zpIaFE","lineJoin","drawMultiPolygon","200SBTCZv","SET_FILL_STYLE","push","getFlatCoordinates","reverseHitDetectionInstructions","2636QkTxqq","endGeometry","fillStyle","getEndss","72YLvhdy","329008jHyIMH","lineWidth","6967236qcOOOd","18108LsbRtU","strokeStyle","getStride","coordinates","appendFlatLineCoordinates","CIRCLE","175UxWXYf","beginGeometry","hitDetectionInstructions","drawPolygon","getOrientedFlatCoordinates","lineCap","finish","instructions","drawFlatCoordinatess_","state","length"];return D1=function(){return i},D1()}function Q1(i,t){const e=D1();return Q1=function(n,r){return n=n-161,e[n]},Q1(i,t)}class Ww extends Su{constructor(t,e,n,r){super(t,e,n,r)}[Cs(181)](t,e,n,r){const s=Cs,a=this[s(182)],o=a[s(161)]!==void 0,l=a.strokeStyle!==void 0,c=n.length;this[s(180)][s(200)](o0),this[s(175)][s(200)](o0);for(let x=0;x<c;++x){const u=n[x],f=this[s(170)].length,h=this[s(171)](t,e,u,r,!0,!l),A=[He[s(194)],f,h];this.instructions[s(200)](A),this[s(175)].push(A),l&&(this.instructions.push(qw),this[s(175)][s(200)](qw)),e=u}return o&&(this[s(180)][s(200)](b1),this[s(175)].push(b1)),l&&(this[s(180)][s(200)](Ka),this[s(175)][s(200)](Ka)),e}drawCircle(t,e,n){const r=Cs,s=this[r(182)],a=s[r(161)],o=s.strokeStyle;if(a===void 0&&o===void 0)return;this[r(187)](),this[r(174)](t,e,n),s[r(161)]!==void 0&&this[r(175)][r(200)]([He.SET_FILL_STYLE,Fi]),s.strokeStyle!==void 0&&this[r(175)][r(200)]([He[r(191)],s[r(168)],s[r(165)],s[r(178)],s[r(196)],s[r(185)],Xs,Ks]);const l=t[r(201)](),c=t[r(169)](),x=this.coordinates.length;this[r(171)](l,0,l[r(183)],c,!1,!1);const u=[He[r(172)],x];this[r(180)][r(200)](o0,u),this[r(175)][r(200)](o0,u),s[r(161)]!==void 0&&(this[r(180)][r(200)](b1),this[r(175)].push(b1)),s[r(168)]!==void 0&&(this[r(180)][r(200)](Ka),this[r(175)][r(200)](Ka)),this[r(204)](e)}[Cs(176)](t,e,n){const r=Cs,s=this.state,a=s[r(161)],o=s.strokeStyle;if(a===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this[r(174)](t,e,n),s[r(161)]!==void 0&&this.hitDetectionInstructions[r(200)]([He[r(199)],Fi]),s[r(168)]!==void 0&&this[r(175)][r(200)]([He[r(191)],s[r(168)],s[r(165)],s[r(178)],s[r(196)],s.miterLimit,Xs,Ks]);const l=t.getEnds(),c=t[r(177)](),x=t.getStride();this[r(181)](c,0,l,x),this.endGeometry(e)}[Cs(197)](t,e,n){const r=Cs,s=this[r(182)],a=s[r(161)],o=s[r(168)];if(a===void 0&&o===void 0)return;this[r(187)](),this[r(174)](t,e,n),s[r(161)]!==void 0&&this[r(175)][r(200)]([He.SET_FILL_STYLE,Fi]),s[r(168)]!==void 0&&this.hitDetectionInstructions[r(200)]([He.SET_STROKE_STYLE,s[r(168)],s[r(165)],s[r(178)],s[r(196)],s[r(185)],Xs,Ks]);const l=t[r(162)](),c=t[r(177)](),x=t[r(169)]();let u=0;for(let f=0,h=l.length;f<h;++f)u=this[r(181)](c,u,l[f],x);this.endGeometry(e)}finish(){const t=Cs;this[t(202)](),this[t(182)]=null;const e=this.tolerance;if(e!==0){const n=this[t(170)];for(let r=0,s=n[t(183)];r<s;++r)n[r]=e0(n[r],e)}return super[t(179)]()}[Cs(187)](){const t=Cs,e=this[t(182)];e[t(161)]!==void 0&&this[t(186)](e,this[t(188)]),e[t(168)]!==void 0&&this.updateStrokeStyle(e,this[t(192)])}}function L1(){const i=["6NrjPAS","226401yfLmLN","14105568SBAFGD","20CFQjie","1624311zbkiLW","2006616sjurCk","166413mvAZlx","155755xweVql","push","8hmcAyJ","2917eTacLV","sqrt","218dlBbtd","11TFQxtZ","slice"];return L1=function(){return i},L1()}(function(i,t){const e=F1,n=i();for(;;)try{if(-parseInt(e(310))/1*(parseInt(e(312))/2)+-parseInt(e(306))/3+parseInt(e(309))/4*(parseInt(e(307))/5)+-parseInt(e(315))/6*(-parseInt(e(316))/7)+-parseInt(e(305))/8+-parseInt(e(304))/9*(parseInt(e(318))/10)+-parseInt(e(313))/11*(-parseInt(e(317))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(L1,284900);function F1(i,t){const e=L1();return F1=function(n,r){return n=n-304,e[n]},F1(i,t)}function QQ(i,t,e,n,r){const s=F1,a=[];let o=e,l=0,c=t.slice(e,2);for(;l<i&&o+r<n;){const[x,u]=c[s(314)](-2),f=t[o+r],h=t[o+r+1],A=Math[s(311)]((f-x)*(f-x)+(h-u)*(h-u));if(l+=A,l>=i){const p=(i-l+A)/A,d=rr(x,f,p),g=rr(u,h,p);c[s(308)](d,g),a[s(308)](c),c=[d,g],l==i&&(o+=r),l=0}else if(l<i)c[s(308)](t[o+r],t[o+r+1]),o+=r;else{const p=A-l,d=rr(x,f,p/A),g=rr(u,h,p/A);c[s(308)](d,g),a[s(308)](c),c=[d,g],l=0,o+=r}}return l>0&&a[s(308)](c),a}function k1(){const i=["57711DhdkiB","sqrt","506359WzsYdC","6274780lmVIdH","128kzGNbJ","1reJMIN","18195Exvjlk","1455874pwRHqt","370053IOhEIh","276URmVBa","39280488EOWEJV","2220EOXNEF","acos","22zXEdHD"];return k1=function(){return i},k1()}function P1(i,t){const e=k1();return P1=function(n,r){return n=n-111,e[n]},P1(i,t)}(function(i,t){const e=P1,n=i();for(;;)try{if(-parseInt(e(118))/1*(parseInt(e(120))/2)+-parseInt(e(113))/3*(-parseInt(e(122))/4)+-parseInt(e(119))/5*(parseInt(e(124))/6)+parseInt(e(115))/7+-parseInt(e(117))/8*(parseInt(e(121))/9)+parseInt(e(116))/10*(-parseInt(e(112))/11)+parseInt(e(123))/12===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(k1,685869);function LQ(i,t,e,n,r){const s=P1;let a=e,o=e,l=0,c=0,x=e,u,f,h,A,p,d,g,m,_,I;for(f=e;f<n;f+=r){const y=t[f],E=t[f+1];p!==void 0&&(_=y-p,I=E-d,A=Math[s(114)](_*_+I*I),g!==void 0&&(c+=h,u=Math[s(111)]((g*_+m*I)/(h*A)),u>i&&(c>l&&(l=c,a=x,o=f),c=0,x=f-r)),h=A,g=_,m=I),p=y,d=E}return c+=A,c>l?[x,f]:[a,o]}const Ja=Dc;function Dc(i,t){const e=U1();return Dc=function(n,r){return n=n-137,e[n]},Dc(i,t)}(function(i,t){const e=Dc,n=i();for(;;)try{if(parseInt(e(219))/1+parseInt(e(176))/2+parseInt(e(191))/3*(parseInt(e(181))/4)+parseInt(e(216))/5+-parseInt(e(187))/6+-parseInt(e(192))/7*(-parseInt(e(162))/8)+-parseInt(e(150))/9*(parseInt(e(164))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(U1,783458);function U1(){const i=["getFlatMidpoint","getLineDash","filter","getFlatCoordinates","9362628hcAWPo","resolution","getTextAlign","string","306GFUOXa","2066785OCyXLp","getEnds","miterLimit","getBackgroundStroke","getCenter","backgroundFill","Point","textRotation_","justify","drawChars_","getFlatInteriorPoints","textState_","getTextBaseline","textBaseline","updateStrokeStyle","lineDashOffset","textRotateWithView_","hitDetectionInstructions","fillStyle","padding","text_","getStroke","instructions","textKey_","7109545cyaKVV","fillKey_","DRAW_IMAGE","718793XktQYz","textKeepUpright_","line","getFlatInteriorPoint","applyStroke","strokeStates","finish","getPlacement","font","declutterMode_","setFillStrokeStyle","textStrokeState_","length","maxExtent","endGeometry","textStates","lineCap","MultiPolygon","join","slice","getDeclutterMode","textAlign","pixelRatio","getColor","DRAW_CHARS","drawText","getRepeat","lineDash","labels_","updateFillStyle","textOffsetX_","getLineDashOffset","fillStates","getExtent","createStroke","LineString","overflow","MultiLineString","1341VcsFUV","strokeKey_","maxAngle","map","textOffsetY_","MultiPoint","getFill","getLineJoin","declutterImageWithText_","strokeStyle","getMaxAngle","state","16AugGJq","getText","114590YYwgTq","createFill","scale","setTextStyle","getStride","lineWidth","push","textFillState_","backgroundStroke","Polygon","getOffsetX","lineJoin","964902qcOzaf","getJustify","getBackgroundFill","placement","appendFlatPointCoordinates","32848tXLDbg","saveTextStates_"];return U1=function(){return i},U1()}const N1={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class FQ extends Su{constructor(t,e,n,r){const s=Dc;super(t,e,n,r),this[s(140)]=null,this[s(212)]="",this.textOffsetX_=0,this[s(154)]=0,this[s(208)]=void 0,this[s(220)]=void 0,this[s(199)]=0,this[s(171)]=null,this.fillStates={},this[s(144)][Fi]={fillStyle:Fi},this[s(230)]=null,this[s(224)]={},this.textState_={},this[s(234)]={},this.textKey_="",this.fillKey_="",this[s(151)]="",this.declutterMode_=void 0,this[s(158)]=void 0}finish(){const t=Dc,e=super[t(225)]();return e[t(234)]=this[t(234)],e[t(144)]=this[t(144)],e[t(224)]=this[t(224)],e}[Ja(137)](t,e,n){const r=Ja,s=this.textFillState_,a=this[r(230)],o=this[r(203)];if(this[r(212)]===""||!o||!s&&!a)return;const l=this.coordinates;let c=l[r(231)];const x=t.getType();let u=null,f=t[r(168)]();if(o[r(179)]===r(221)&&(x==r(147)||x==r(149)||x==r(173)||x==r(236))){if(!gn(this[r(232)],t[r(145)]()))return;let h;if(u=t[r(186)](),x==r(147))h=[u.length];else if(x==r(149))h=t[r(193)]();else if(x==r(173))h=t[r(193)]()[r(238)](0,1);else if(x==r(236)){const g=t.getEndss();h=[];for(let m=0,_=g.length;m<_;++m)h.push(g[m][0])}this.beginGeometry(t,e,n);const A=o.repeat,p=A?void 0:o.textAlign;let d=0;for(let g=0,m=h[r(231)];g<m;++g){let _;A?_=QQ(A*this[r(188)],u,d,h[g],f):_=[u.slice(d,h[g])];for(let I=0,y=_[r(231)];I<y;++I){const E=_[I];let b=0,w=E[r(231)];if(p==null){const v=LQ(o.maxAngle,E,0,E.length,2);b=v[0],w=v[1]}for(let v=b;v<w;v+=f)l[r(170)](E[v],E[v+1]);const C=l[r(231)];d=h[g],this.drawChars_(c,C),c=C}}this.endGeometry(e)}else{let h=o[r(148)]?null:[];switch(x){case r(198):case r(155):u=t[r(186)]();break;case"LineString":u=t[r(183)]();break;case"Circle":u=t[r(196)]();break;case r(149):u=t.getFlatMidpoints(),f=2;break;case r(173):u=t[r(222)](),!o.overflow&&h[r(170)](u[2]/this[r(188)]),f=3;break;case r(236):const _=t[r(202)]();u=[];for(let I=0,y=_[r(231)];I<y;I+=3)!o[r(148)]&&h[r(170)](_[I+2]/this[r(188)]),u[r(170)](_[I],_[I+1]);if(u[r(231)]===0)return;f=2;break}const A=this[r(180)](u,f);if(A===c)return;if(h&&(A-c)/2!==u[r(231)]/f){let _=c/2;h=h[r(185)]((I,y)=>{const E=l[(_+y)*2]===u[y*f]&&l[(_+y)*2+1]===u[y*f+1];return!E&&--_,E})}this[r(182)](),(o[r(197)]||o[r(172)])&&(this[r(229)](o.backgroundFill,o.backgroundStroke),o[r(197)]&&this[r(141)](this.state,this[r(165)]),o[r(172)]&&(this[r(206)](this.state,this[r(223)]),this[r(209)][r(170)](this[r(146)](this.state)))),this.beginGeometry(t,e,n);let p=o[r(211)];if(p!=Wo&&(o[r(166)][0]<0||o[r(166)][1]<0)){let _=o[r(211)][0],I=o.padding[1],y=o[r(211)][2],E=o[r(211)][3];o[r(166)][0]<0&&(I=-I,E=-E),o[r(166)][1]<0&&(_=-_,y=-y),p=[_,I,y,E]}const d=this[r(241)];this[r(214)][r(170)]([He[r(218)],c,A,null,NaN,NaN,NaN,1,0,0,this[r(208)],this[r(199)],[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,p==Wo?Wo:p[r(153)](function(_){return _*d}),!!o[r(197)],!!o.backgroundStroke,this.text_,this[r(215)],this[r(151)],this[r(217)],this[r(142)],this[r(154)],h]);const g=1/d,m=this[r(161)][r(210)];o[r(197)]&&(this[r(161)].fillStyle=Fi,this.hitDetectionInstructions[r(170)](this[r(165)](this.state))),this.hitDetectionInstructions.push([He[r(218)],c,A,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[g,g],NaN,this[r(228)],this[r(158)],p,!!o[r(197)],!!o[r(172)],this[r(212)],this[r(215)],this[r(151)],this.fillKey_?Fi:this.fillKey_,this[r(142)],this[r(154)],h]),o[r(197)]&&(this[r(161)].fillStyle=m,this[r(209)][r(170)](this.createFill(this[r(161)]))),this[r(233)](e)}}[Ja(182)](){const t=Ja,e=this[t(230)],n=this[t(203)],r=this.textFillState_,s=this[t(151)];e&&!(s in this.strokeStates)&&(this[t(224)][s]={strokeStyle:e[t(159)],lineCap:e[t(235)],lineDashOffset:e[t(207)],lineWidth:e[t(169)],lineJoin:e.lineJoin,miterLimit:e[t(194)],lineDash:e[t(139)]});const a=this.textKey_;!(a in this[t(234)])&&(this[t(234)][a]={font:n[t(227)],textAlign:n[t(240)]||Hx,justify:n[t(200)],textBaseline:n[t(205)]||qA,scale:n.scale});const o=this[t(217)];r&&!(o in this.fillStates)&&(this[t(144)][o]={fillStyle:r.fillStyle})}[Ja(201)](t,e){const n=Ja,r=this.textStrokeState_,s=this[n(203)],a=this[n(151)],o=this[n(215)],l=this[n(217)];this[n(182)]();const c=this[n(241)],x=N1[s[n(205)]],u=this[n(154)]*c,f=this.text_,h=r?r[n(169)]*Math.abs(s[n(166)][0])/2:0;this[n(214)].push([He[n(243)],t,e,x,s[n(148)],l,s[n(152)],c,u,a,h*c,f,o,1,this[n(228)],this[n(220)]]),this[n(209)][n(170)]([He[n(243)],t,e,x,s[n(148)],l&&Fi,s[n(152)],c,u,a,h*c,f,o,1/c,this[n(228)],this.textKeepUpright_])}[Ja(167)](t,e){const n=Ja;let r,s,a;if(!t)this.text_="";else{const o=t[n(156)]();o?(s=this[n(171)],!s&&(s={},this[n(171)]=s),s[n(210)]=ds(o.getColor()||Fi)):(s=null,this[n(171)]=s);const l=t[n(213)]();if(!l)a=null,this[n(230)]=a;else{a=this[n(230)],!a&&(a={},this[n(230)]=a);const d=l[n(184)](),g=l[n(143)](),m=l.getWidth(),_=l.getMiterLimit();a[n(235)]=l.getLineCap()||cc,a[n(139)]=d?d.slice():Xs,a[n(207)]=g===void 0?Ks:g,a[n(175)]=l[n(157)]()||lc,a[n(169)]=m===void 0?qx:m,a[n(194)]=_===void 0?zx:_,a[n(159)]=ds(l[n(242)]()||Vx)}r=this[n(203)];const c=t.getFont()||k3;P3(c);const x=t.getScaleArray();r.overflow=t.getOverflow(),r.font=c,r[n(152)]=t[n(160)](),r[n(179)]=t[n(226)](),r[n(240)]=t[n(189)](),r.repeat=t[n(138)](),r[n(200)]=t[n(177)](),r[n(205)]=t[n(204)]()||qA,r.backgroundFill=t[n(178)](),r[n(172)]=t[n(195)](),r[n(211)]=t.getPadding()||Wo,r.scale=x===void 0?[1,1]:x;const u=t[n(174)](),f=t.getOffsetY(),h=t.getRotateWithView(),A=t.getKeepUpright(),p=t.getRotation();this[n(212)]=t[n(163)]()||"",this[n(142)]=u===void 0?0:u,this.textOffsetY_=f===void 0?0:f,this[n(208)]=h===void 0?!1:h,this[n(220)]=A===void 0?!0:A,this[n(199)]=p===void 0?0:p,this[n(151)]=a?(typeof a[n(159)]==n(190)?a[n(159)]:tt(a[n(159)]))+a[n(235)]+a.lineDashOffset+"|"+a[n(169)]+a[n(175)]+a[n(194)]+"["+a[n(139)][n(237)]()+"]":"",this.textKey_=r.font+r[n(166)]+(r[n(240)]||"?")+(r.repeat||"?")+(r[n(200)]||"?")+(r.textBaseline||"?"),this[n(217)]=s&&s[n(210)]?typeof s.fillStyle==n(190)?s[n(210)]:"|"+tt(s[n(210)]):""}this[n(228)]=t[n(239)](),this[n(158)]=e}}const O1=Tu;(function(i,t){const e=Tu,n=i();for(;;)try{if(-parseInt(e(266))/1*(-parseInt(e(247))/2)+-parseInt(e(255))/3*(parseInt(e(253))/4)+parseInt(e(250))/5*(-parseInt(e(259))/6)+parseInt(e(252))/7*(parseInt(e(262))/8)+parseInt(e(264))/9*(-parseInt(e(258))/10)+parseInt(e(254))/11+-parseInt(e(251))/12*(-parseInt(e(248))/13)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(G1,856448);function Tu(i,t){const e=G1();return Tu=function(n,r){return n=n-246,e[n]},Tu(i,t)}function G1(){const i=["180690sxaPOW","30vcjXNP","pixelRatio_","toString","8032XUoeZQ","finish","441DircPG","resolution_","1XjMiZW","tolerance_","2506386RaGFvx","255957QVAcAC","getBuilder","956145arBsNt","444iRfkez","4256LfbQlr","822428mEJEaX","3426093AZkPuM","3QpNQtL","maxExtent_","buildersByZIndex_"];return G1=function(){return i},G1()}const kQ={Circle:Ww,Default:Su,Image:TQ,LineString:DQ,Polygon:Ww,Text:FQ};class Xw{constructor(t,e,n,r){const s=Tu;this[s(246)]=t,this[s(256)]=e,this[s(260)]=r,this[s(265)]=n,this[s(257)]={}}[O1(263)](){const t=O1,e={};for(const n in this[t(257)]){e[n]=e[n]||{};const r=this[t(257)][n];for(const s in r){const a=r[s].finish();e[n][s]=a}}return e}[O1(249)](t,e){const n=O1,r=t!==void 0?t[n(261)]():"0";let s=this[n(257)][r];s===void 0&&(s={},this[n(257)][r]=s);let a=s[e];if(a===void 0){const o=kQ[e];a=new o(this[n(246)],this[n(256)],this[n(265)],this[n(260)]),s[e]=a}return a}}function Du(i,t){const e=z1();return Du=function(n,r){return n=n-380,e[n]},Du(i,t)}(function(i,t){const e=Du,n=i();for(;;)try{if(parseInt(e(391))/1*(-parseInt(e(380))/2)+parseInt(e(383))/3+-parseInt(e(395))/4*(parseInt(e(394))/5)+parseInt(e(386))/6*(-parseInt(e(385))/7)+parseInt(e(387))/8+parseInt(e(390))/9*(parseInt(e(381))/10)+-parseInt(e(397))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(z1,942506);function PQ(i,t,e,n,r,s,a,o,l,c,x,u,f=!0){const h=Du;let A=i[t],p=i[t+1],d=0,g=0,m=0,_=0;function I(){const F=Du;d=A,g=p,t+=n,A=i[t],p=i[t+1],_+=m,m=Math[F(396)]((A-d)*(A-d)+(p-g)*(p-g))}do I();while(t<e-n&&_+m<s);let y=m===0?0:(s-_)/m;const E=rr(d,A,y),b=rr(g,p,y),w=t-n,C=_,v=s+o*l(c,r,x);for(;t<e-n&&_+m<v;)I();y=m===0?0:(v-_)/m;const B=rr(d,A,y),S=rr(g,p,y);let T=!1;if(f)if(u){const F=[E,b,B,S];sw(F,0,4,2,u,F,F),T=F[0]>F[2]}else T=E>B;const Q=Math.PI,M=[],D=w+n===t;t=w,m=0,_=C,A=i[t],p=i[t+1];let U;if(D){I(),U=Math[h(382)](p-g,A-d),T&&(U+=U>0?-Q:Q);const F=(B+E)/2,z=(S+b)/2;return M[0]=[F,z,(v-s)/2,U,r],M}r=r[h(393)](/\n/g," ");for(let F=0,z=r[h(389)];F<z;){I();let H=Math[h(382)](p-g,A-d);if(T&&(H+=H>0?-Q:Q),U!==void 0){let j=H-U;if(j+=j>Q?-2*Q:j<-Q?2*Q:0,Math[h(388)](j)>a)return null}U=H;const P=F;let Z=0;for(;F<z;++F){const j=T?z-F-1:F,J=o*l(c,r[j],x);if(t+n<e&&_+m<s+Z+J/2)break;Z+=J}if(F===P)continue;const ce=T?r[h(384)](z-P,z-F):r[h(384)](P,F);y=m===0?0:(s+Z/2-_)/m;const G=rr(d,A,y),O=rr(g,p,y);M[h(392)]([G,O,Z/2,H,ce]),s+=Z}return M}function z1(){const i=["121185PFRbHL","68dhUhFr","sqrt","1265198NdlBWU","498pbNzeb","10vxcYhJ","atan2","3600945nvugqg","substring","7EgnOVz","1874646XLyzrV","2255328AUGSLE","abs","length","3744414LOnaYg","467NjNoVI","push","replace"];return z1=function(){return i},z1()}(function(i,t){const e=AE,n=i();for(;;)try{if(-parseInt(e(153))/1*(parseInt(e(157))/2)+-parseInt(e(152))/3*(-parseInt(e(160))/4)+-parseInt(e(158))/5*(-parseInt(e(155))/6)+parseInt(e(154))/7+-parseInt(e(162))/8+parseInt(e(161))/9*(parseInt(e(159))/10)+-parseInt(e(156))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(V1,628061);function Kw(i,t,e,n){let r=i[t],s=i[t+1],a=0;for(let o=t+n;o<e;o+=n){const l=i[o],c=i[o+1];a+=Math.sqrt((l-r)*(l-r)+(c-s)*(c-s)),r=l,s=c}return a}function AE(i,t){const e=V1();return AE=function(n,r){return n=n-152,e[n]},AE(i,t)}function V1(){const i=["5981794gFUImO","6DbpUKy","15311428vWLjmh","2YQSxJE","4429630KUhjgI","850gEeNgi","4968776RjxgXb","132723DExCUw","7866216KegCFB","3fFuvml","1232871IMnAml"];return V1=function(){return i},V1()}const jt=Qu;(function(i,t){const e=Qu,n=i();for(;;)try{if(-parseInt(e(240))/1+parseInt(e(276))/2*(-parseInt(e(265))/3)+-parseInt(e(295))/4*(parseInt(e(322))/5)+parseInt(e(219))/6*(-parseInt(e(217))/7)+parseInt(e(305))/8*(parseInt(e(281))/9)+parseInt(e(283))/10+parseInt(e(318))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(H1,911788);function Qu(i,t){const e=H1();return Qu=function(n,r){return n=n-213,e[n]},Qu(i,t)}function H1(){const i=["rotate","font","38611727lqpmAz","apply","middle","scale","214685IrkxSc","FILL","drawLabelWithPointPlacement_","save","canvas","minX","test","closePath","fill_","feature","setLineDash","translate","createLabel","replayImageOrLabel_","declutterMode","14XNcMsW","round","4900146YfrpeS","insert","atan2","lineTo","coordinates","reduce","lineDashOffset","CLOSE_PATH","fillStyle","CUSTOM","pixelCoordinates_","originY","height","fill","restore","replayTextBackground_","args","none","instructions","max","anchorX","733907pnlBAy","drawImageH","execute_","STROKE","widths_","map","right","END_GEOMETRY","length","ceil","resolution","maxX","label","labels_","maxY","renderedTransform_","beginPath","originX","collides","isArray","start","miterLimit","declutterBox","lineDash","strokeStyle","651IkYSEb","drawImageY","overlaps","floor","left","calculateImageOrLabelDimensions_","declutter","MOVE_TO_LINE_TO","minY","alignAndScaleFill_","prototype","8510stsYzt","stroke","justify","width","moveTo","12636wvdEwF","SET_FILL_STYLE","5857330YmacvX","lineCap","getZIndexContext","setStrokeStyle_","push","geometry","viewRotation_","drawImageW","anchorY","textBaseline","lineJoin","end","104MiObiR","getExtent","textAlign","coordinateCache_","pixelRatio","lineWidth","BEGIN_GEOMETRY","arc","DRAW_IMAGE","fillText","6968TKhRjs","strokeStates","min","textStates","SET_STROKE_STYLE","hitDetectionInstructions","canvasTransform","zIndexContext_","fromCharCode","fillStates","zIndex"];return H1=function(){return i},H1()}const Qc=ir(),ja=[],ta=[],na=[],Za=[];function Jw(i){const t=Qu;return i[3][t(262)]}const jw=new RegExp("["+String[jt(313)](1425)+"-"+String[jt(313)](2303)+"-"+String[jt(313)](65023)+String[jt(313)](65136)+"-"+String[jt(313)](65276)+String[jt(313)](67584)+"-"+String[jt(313)](69631)+"-"+String[jt(313)](126975)+"]");function dE(i,t){const e=jt;return t===e(260)?t=jw[e(328)](i)?e(246):e(269):t===e(294)&&(t=jw[e(328)](i)?e(269):e(246)),N1[t]}function UQ(i,t,e){return e>0&&i.push(`
`,""),i.push(t,""),i}class NQ{constructor(t,e,n,r,s){const a=jt;this[a(267)]=n,this[a(299)]=e,this[a(250)]=t,this[a(274)],this[a(237)]=r.instructions,this[a(223)]=r.coordinates,this[a(298)]={},this[a(255)]=ki(),this.hitDetectionInstructions=r[a(310)],this[a(229)]=null,this[a(289)]=0,this[a(314)]=r[a(314)]||{},this[a(306)]=r[a(306)]||{},this[a(308)]=r[a(308)]||{},this.widths_={},this[a(253)]={},this[a(312)]=s?new nE:null}[jt(285)](){return this[jt(312)]}createLabel(t,e,n,r){const s=jt,a=t+e+n+r;if(this[s(253)][a])return this[s(253)][a];const o=r?this[s(306)][r]:null,l=n?this[s(314)][n]:null,c=this.textStates[e],x=this[s(299)],u=[c[s(321)][0]*x,c[s(321)][1]*x],f=c[s(278)]?N1[c[s(278)]]:dE(Array[s(259)](t)?t[0]:t,c[s(297)]||Hx),h=r&&o[s(300)]?o[s(300)]:0,A=Array[s(259)](t)?t:String(t).split(`
`)[s(224)](UQ,[]),{width:p,height:d,widths:g,heights:m,lineWidths:_}=XT(c,A),I=p+h,y=[],E=(I+2)*u[0],b=(d+h)*u[1],w={width:E<0?Math[s(268)](E):Math.ceil(E),height:b<0?Math[s(268)](b):Math[s(249)](b),contextInstructions:y};(u[0]!=1||u[1]!=1)&&y.push("scale",u),r&&(y[s(287)]("strokeStyle",o[s(264)]),y.push(s(300),h),y[s(287)]("lineCap",o[s(284)]),y[s(287)]("lineJoin",o[s(293)]),y.push(s(261),o[s(261)]),y[s(287)](s(332),[o[s(263)]]),y[s(287)](s(225),o[s(225)])),n&&y[s(287)](s(227),l[s(227)]),y[s(287)](s(292),s(320)),y[s(287)](s(297),"center");const C=.5-f;let v=f*I+C*h;const B=[],S=[];let T=0,Q=0,M=0,D=0,U;for(let F=0,z=A[s(248)];F<z;F+=2){const H=A[F];if(H===`
`){Q+=T,T=0,v=f*I+C*h,++D;continue}const P=A[F+1]||c[s(317)];P!==U&&(r&&B.push(s(317),P),n&&S[s(287)](s(317),P),U=P),T=Math[s(238)](T,m[M]);const Z=[H,v+C*g[M]+f*(g[M]-_[D]),.5*(h+T)+Q];v+=g[M],r&&B.push("strokeText",Z),n&&S[s(287)](s(304),Z),++M}return Array[s(275)][s(287)][s(319)](y,B),Array[s(275)][s(287)].apply(y,S),this[s(253)][a]=w,w}[jt(234)](t,e,n,r,s,a,o){const l=jt;t.beginPath(),t[l(280)][l(319)](t,e),t[l(222)][l(319)](t,n),t.lineTo.apply(t,r),t[l(222)].apply(t,s),t[l(222)].apply(t,e),a&&(this[l(274)]=a[2],this[l(330)](t)),o&&(this.setStrokeStyle_(t,o),t.stroke())}[jt(270)](t,e,n,r,s,a,o,l,c,x,u,f,h,A,p,d){const g=jt;o*=f[0],l*=f[1];let m=n-o,_=r-l;const I=s+c>t?t-c:s,y=a+x>e?e-x:a,E=A[3]+I*f[0]+A[1],b=A[0]+y*f[1]+A[2],w=m-A[3],C=_-A[0];(p||u!==0)&&(ja[0]=w,Za[0]=w,ja[1]=C,ta[1]=C,ta[0]=w+E,na[0]=ta[0],na[1]=C+b,Za[1]=na[1]);let v;return u!==0?(v=_s(ki(),n,r,1,1,u,-n,-r),Dn(v,ja),Dn(v,ta),Dn(v,na),Dn(v,Za),Hs(Math.min(ja[0],ta[0],na[0],Za[0]),Math[g(307)](ja[1],ta[1],na[1],Za[1]),Math[g(238)](ja[0],ta[0],na[0],Za[0]),Math[g(238)](ja[1],ta[1],na[1],Za[1]),Qc)):Hs(Math.min(w,w+E),Math[g(307)](C,C+b),Math.max(w,w+E),Math[g(238)](C,C+b),Qc),h&&(m=Math[g(218)](m),_=Math[g(218)](_)),{drawImageX:m,drawImageY:_,drawImageW:I,drawImageH:y,originX:c,originY:x,declutterBox:{minX:Qc[0],minY:Qc[1],maxX:Qc[2],maxY:Qc[3],value:d},canvasTransform:v,scale:f}}[jt(215)](t,e,n,r,s,a,o){const l=jt,c=!!(a||o),x=r[l(262)],u=o?o[2]*r.scale[0]/2:0;return x[l(327)]-u<=e[0]&&x[l(251)]+u>=0&&x[l(273)]-u<=e[1]&&x[l(254)]+u>=0&&(c&&this[l(234)](t,ja,ta,na,Za,a,o),KT(t,r[l(311)],s,n,r[l(257)],r[l(230)],r[l(290)],r[l(241)],r.drawImageX,r[l(266)],r[l(321)])),!0}[jt(330)](t){const e=jt,n=this[e(274)];if(n){const r=Dn(this[e(255)],[0,0]),s=512*this[e(299)];t[e(325)](),t[e(213)](r[0]%s,r[1]%s),n!==1&&t[e(321)](n,n),t[e(316)](this.viewRotation_)}t[e(232)](),n&&t[e(233)]()}setStrokeStyle_(t,e){const n=jt;t[n(264)]=e[1],t[n(300)]=e[2],t.lineCap=e[3],t[n(293)]=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t[n(332)](e[6])}[jt(324)](t,e,n,r){const s=jt,a=this[s(308)][e],o=this[s(214)](t,e,r,n),l=this.strokeStates[n],c=this[s(299)],x=dE(Array[s(259)](t)?t[0]:t,a.textAlign||Hx),u=N1[a.textBaseline||qA],f=l&&l.lineWidth?l[s(300)]:0,h=o.width/c-2*a[s(321)][0],A=x*h+2*(.5-x)*f,p=u*o.height/c+2*(.5-u)*f;return{label:o,anchorX:A,anchorY:p}}[jt(242)](t,e,n,r,s,a,o,l){const c=jt,x=this[c(312)];let u;this.pixelCoordinates_&&Na(n,this.renderedTransform_)?u=this[c(229)]:(!this[c(229)]&&(this[c(229)]=[]),u=Va(this[c(223)],0,this[c(223)][c(248)],2,n,this.pixelCoordinates_),ZT(this[c(255)],n));let f=0;const h=r[c(248)];let A=0,p,d,g,m,_,I,y,E,b,w,C,v,B,S=0,T=0,Q=null,M=null;const D=this[c(298)],U=this.viewRotation_,F=Math[c(218)](Math[c(221)](-n[1],n[0])*1e12)/1e12,z={context:t,pixelRatio:this[c(299)],resolution:this.resolution,rotation:U},H=this[c(237)]!=r||this[c(267)]?0:200;let P,Z,ce,G;for(;f<h;){const O=r[f];switch(O[0]){case He[c(301)]:P=O[1],G=O[3],P.getGeometry()?o!==void 0&&!gn(o,G[c(296)]())?f=O[2]+1:++f:f=O[2],x&&(x[c(315)]=O[4]);break;case He.BEGIN_PATH:S>H&&(this[c(330)](t),S=0),T>H&&(t.stroke(),T=0),!S&&!T&&(t[c(256)](),_=NaN,I=NaN),++f;break;case He.CIRCLE:A=O[1];const J=u[A],le=u[A+1],he=u[A+2],Ee=u[A+3],ae=he-J,Se=Ee-le,ft=Math.sqrt(ae*ae+Se*Se);t[c(280)](J+ft,le),t[c(302)](J,le,ft,0,2*Math.PI,!0),++f;break;case He[c(226)]:t[c(329)](),++f;break;case He[c(228)]:A=O[1],p=O[2];const N=O[3],Lt=O[4],Oe=O[5];z[c(288)]=N,z[c(331)]=P,!(f in D)&&(D[f]=[]);const Ne=D[f];Oe?Oe(u,A,p,2,Ne):(Ne[0]=u[A],Ne[1]=u[A+1],Ne[c(248)]=2),x&&(x[c(315)]=O[6]),Lt(Ne,z),++f;break;case He[c(303)]:A=O[1],p=O[2],b=O[3],d=O[4],g=O[5];let Be=O[6];const Pe=O[7],Te=O[8],k=O[9],R=O[10];let W=O[11];const se=O[12];let ne=O[13];m=O[14]||c(271);const K=O[15];if(!b&&O.length>=20){w=O[19],C=O[20],v=O[21],B=O[22];const st=this[c(324)](w,C,v,B);b=st[c(252)],O[3]=b;const Hn=O[23];d=(st[c(239)]-Hn)*this[c(299)],O[4]=d;const vn=O[24];g=(st[c(291)]-vn)*this[c(299)],O[5]=g,Be=b[c(231)],O[6]=Be,ne=b[c(279)],O[13]=ne}let _e;O.length>25&&(_e=O[25]);let Ae,ue,De;O[c(248)]>17?(Ae=O[16],ue=O[17],De=O[18]):(Ae=Wo,ue=!1,De=!1),R&&F?W+=U:!R&&!F&&(W-=U);let xe=0;for(;A<p;A+=2){if(_e&&_e[xe++]<ne/this[c(299)])continue;const st=this.calculateImageOrLabelDimensions_(b.width,b.height,u[A],u[A+1],ne,Be,d,g,Te,k,W,se,s,Ae,ue||De,P),Hn=[t,e,b,st,Pe,ue?Q:null,De?M:null];if(l){let vn,mr,Di;if(K){const on=p-A;if(!K[on]){K[on]={args:Hn,declutterMode:m};continue}const jn=K[on];vn=jn[c(235)],mr=jn[c(216)],delete K[on],Di=Jw(vn)}let li,_r;if(vn&&(mr!==c(271)||!l.collides(Di))&&(li=!0),(m!==c(271)||!l[c(258)](st.declutterBox))&&(_r=!0),mr===c(271)&&m==="declutter"){const on=li&&_r;li=on,_r=on}li&&(mr!=="none"&&l[c(220)](Di),this[c(215)][c(319)](this,vn)),_r&&(m!=="none"&&l[c(220)](st[c(262)]),this.replayImageOrLabel_[c(319)](this,Hn))}else this[c(215)][c(319)](this,Hn)}++f;break;case He.DRAW_CHARS:const ge=O[1],Le=O[2],Ue=O[3],be=O[4];B=O[5];const We=O[6],Qe=O[7],rt=O[8];v=O[9];const V=O[10];w=O[11],C=O[12];const me=[O[13],O[13]];m=O[14]||c(271);const $=O[15],oe=this[c(308)][C],we=oe[c(317)],ve=[oe[c(321)][0]*Qe,oe.scale[1]*Qe];let Ke;we in this[c(244)]?Ke=this[c(244)][we]:(Ke={},this.widths_[we]=Ke);const an=Kw(u,ge,Le,2),Vn=Math.abs(ve[0])*N3(we,w,Ke);if(be||Vn<=an){const st=this[c(308)][C].textAlign,Hn=(an-Vn)*dE(w,st),vn=PQ(u,ge,Le,2,w,Hn,We,Math.abs(ve[0]),N3,we,Ke,F?0:this.viewRotation_,$);e:if(vn){const mr=[];let Di,li,_r,on,jn;if(v)for(Di=0,li=vn.length;Di<li;++Di){jn=vn[Di],_r=jn[4],on=this[c(214)](_r,C,"",v),d=jn[2]+(ve[0]<0?-V:V),g=Ue*on[c(231)]+(.5-Ue)*2*V*ve[1]/ve[0]-rt;const er=this[c(270)](on.width,on.height,jn[0],jn[1],on[c(279)],on.height,d,g,0,0,jn[3],me,!1,Wo,!1,P);if(l&&m===c(271)&&l[c(258)](er.declutterBox))break e;mr[c(287)]([t,e,on,er,1,null,null])}if(B)for(Di=0,li=vn[c(248)];Di<li;++Di){jn=vn[Di],_r=jn[4],on=this[c(214)](_r,C,B,""),d=jn[2],g=Ue*on[c(231)]-rt;const er=this[c(270)](on[c(279)],on.height,jn[0],jn[1],on[c(279)],on[c(231)],d,g,0,0,jn[3],me,!1,Wo,!1,P);if(l&&m===c(271)&&l.collides(er.declutterBox))break e;mr.push([t,e,on,er,1,null,null])}l&&m!==c(236)&&l.load(mr[c(245)](Jw));for(let er=0,A2=mr[c(248)];er<A2;++er)this[c(215)].apply(this,mr[er])}}++f;break;case He[c(247)]:if(a!==void 0){P=O[1];const st=a(P,G,m);if(st)return st}++f;break;case He[c(323)]:H?S++:this[c(330)](t),++f;break;case He[c(272)]:for(A=O[1],p=O[2],Z=u[A],ce=u[A+1],t[c(280)](Z,ce),_=Z+.5|0,I=ce+.5|0,A+=2;A<p;A+=2)Z=u[A],ce=u[A+1],y=Z+.5|0,E=ce+.5|0,(A==p-2||y!==_||E!==I)&&(t[c(222)](Z,ce),_=y,I=E);++f;break;case He[c(282)]:Q=O,this.alignAndScaleFill_=O[2],S&&(this[c(330)](t),S=0,T&&(t.stroke(),T=0)),t.fillStyle=O[1],++f;break;case He[c(309)]:M=O,T&&(t[c(277)](),T=0),this[c(286)](t,O),++f;break;case He[c(243)]:H?T++:t.stroke(),++f;break;default:++f;break}}return S&&this[c(330)](t),T&&t.stroke(),void 0}execute(t,e,n,r,s,a){const o=jt;this.viewRotation_=r,this.execute_(t,e,n,this[o(237)],s,void 0,void 0,a)}executeHitDetection(t,e,n,r,s){const a=jt;return this[a(289)]=n,this.execute_(t,[t[a(326)][a(279)],t.canvas.height],e,this[a(310)],!0,r,s)}}function q1(){const i=["forEachFeatureAtCoordinate","12EbKUKD","executorsByZIndex_","toString","511665FkBsDR","Image","deferredZIndexContexts_","pushFunction","clearRect","getRenderedContext","map","Polygon","none","overlaps_","2125980HjFWKy","includes","getImageData","resolution_","12lkbqZp","executeHitDetection","width","getDeferredZIndexContexts","872584nFsjen","height","length","reverse","564646pZvuqk","clip","renderDeferred","filter","execute","clear","149484SRFpmP","10aRVdRl","createExecutors_","save","421134gDMwFa","pixelRatio_","Text","draw","renderedContext_","canvas","moveTo","7ZjMxFX","sort","lineTo","round","LineString","renderBuffer_","isEmpty","142685zeWNHC","hitDetectionContext_","keys","maxExtent_","push","beginPath","getClipCoords","data"];return q1=function(){return i},q1()}function Y1(i,t){const e=q1();return Y1=function(n,r){return n=n-190,e[n]},Y1(i,t)}const qt=Y1;(function(i,t){const e=Y1,n=i();for(;;)try{if(parseInt(e(196))/1+-parseInt(e(206))/2+-parseInt(e(202))/3*(-parseInt(e(229))/4)+parseInt(e(220))/5*(parseInt(e(246))/6)+parseInt(e(213))/7*(parseInt(e(192))/8)+-parseInt(e(242))/9+parseInt(e(203))/10*(-parseInt(e(232))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(q1,386975);const Lc=[qt(239),"Circle",qt(217),qt(233),qt(208),"Default"],W1=[qt(233),qt(208)],OQ=Lc[qt(199)](i=>!W1[qt(243)](i));class Zw{constructor(t,e,n,r,s,a,o){const l=qt;this[l(223)]=t,this[l(241)]=r,this.pixelRatio_=n,this[l(245)]=e,this[l(218)]=a,this[l(230)]={},this[l(221)]=null,this.hitDetectionTransform_=ki(),this[l(210)]=null,this[l(234)]={},this[l(204)](s,o)}[qt(197)](t,e){const n=qt,r=this.getClipCoords(e);t[n(225)](),t[n(212)](r[0],r[1]),t.lineTo(r[2],r[3]),t.lineTo(r[4],r[5]),t[n(215)](r[6],r[7]),t[n(197)]()}[qt(204)](t,e){const n=qt;for(const r in t){let s=this[n(230)][r];s===void 0&&(s={},this[n(230)][r]=s);const a=t[r];for(const o in a){const l=a[o];s[o]=new NQ(this[n(245)],this[n(207)],this[n(241)],l,e)}}}hasExecutors(t){const e=qt;for(const n in this[e(230)]){const r=this[e(230)][n];for(let s=0,a=t[e(194)];s<a;++s)if(t[s]in r)return!0}return!1}[qt(228)](t,e,n,r,s,a){const o=qt;r=Math[o(216)](r);const l=r*2+1,c=_s(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),x=!this[o(221)];x&&(this.hitDetectionContext_=ln(l,l,void 0,{willReadFrequently:!0}));const u=this[o(221)];u[o(211)].width!==l||u[o(211)][o(193)]!==l?(u[o(211)][o(190)]=l,u.canvas.height=l):!x&&u[o(236)](0,0,l,l);let f;this[o(218)]!==void 0&&(f=ir(),yx(f,t),Qa(f,e*(this[o(218)]+r),f));const h=GQ(r);let A;function p(E,b,w){const C=o,v=u[C(244)](0,0,l,l)[C(227)];for(let B=0,S=h.length;B<S;B++)if(v[h[B]]>0){if(!a||w===C(240)||A!==C(233)&&A!==C(208)||a[C(243)](E)){const T=(h[B]-3)/4,Q=r-T%l,M=r-(T/l|0),D=s(E,b,Q*Q+M*M);if(D)return D}u.clearRect(0,0,l,l);break}}const d=Object[o(222)](this[o(230)])[o(238)](Number);d[o(214)](us);let g,m,_,I,y;for(g=d[o(194)]-1;g>=0;--g){const E=d[g][o(231)]();for(_=this[o(230)][E],m=Lc[o(194)]-1;m>=0;--m)if(A=Lc[m],I=_[A],I!==void 0&&(y=I[o(247)](u,c,n,p,f),y))return y}}[qt(226)](t){const e=qt,n=this[e(223)];if(!n)return null;const r=n[0],s=n[1],a=n[2],o=n[3],l=[r,s,r,o,a,o,a,s];return Va(l,0,8,2,t,l),l}[qt(219)](){return Da(this[qt(230)])}[qt(200)](t,e,n,r,s,a,o){const l=qt,c=Object[l(222)](this.executorsByZIndex_)[l(238)](Number);c[l(214)](us),a=a||Lc;const x=Lc.length;let u,f,h,A,p;for(o&&c[l(195)](),u=0,f=c.length;u<f;++u){const d=c[u][l(231)]();for(p=this[l(230)][d],h=0,A=a.length;h<A;++h){const g=a[h],m=p[g];if(m!==void 0){const _=o===null?void 0:m.getZIndexContext(),I=_?_.getContext():t,y=this[l(223)]&&g!=="Image"&&g!==l(208);if(y&&(I[l(205)](),this[l(197)](I,n)),!_||g==="Text"||g===l(233)?m.execute(I,e,n,r,s,o):_[l(235)](E=>m[l(200)](E,e,n,r,s,o)),y&&I.restore(),_){_.offset();const E=c[u]*x+h;!this[l(234)][E]&&(this[l(234)][E]=[]),this[l(234)][E].push(_)}}}}this.renderedContext_=t}[qt(191)](){return this[qt(234)]}[qt(237)](){return this[qt(210)]}[qt(198)](){const t=qt,e=this[t(234)],n=Object[t(222)](e)[t(238)](Number)[t(214)](us);for(let r=0,s=n[t(194)];r<s;++r)e[n[r]].forEach(a=>{const o=t;a[o(209)](this.renderedContext_),a[o(201)]()}),e[n[r]][t(194)]=0}}const pE={};function GQ(i){const t=qt;if(pE[i]!==void 0)return pE[i];const e=i*2+1,n=i*i,r=new Array(n+1);for(let a=0;a<=i;++a)for(let o=0;o<=i;++o){const l=a*a+o*o;if(l>n)break;let c=r[l];!c&&(c=[],r[l]=c),c[t(224)](((i+a)*e+(i+o))*4+3),a>0&&c[t(224)](((i-a)*e+(i+o))*4+3),o>0&&(c[t(224)](((i+a)*e+(i-o))*4+3),a>0&&c.push(((i-a)*e+(i-o))*4+3))}const s=[];for(let a=0,o=r[t(194)];a<o;++a)r[a]&&s[t(224)](...r[a]);return pE[i]=s,s}const ht=Lu;(function(i,t){const e=Lu,n=i();for(;;)try{if(parseInt(e(190))/1*(parseInt(e(109))/2)+-parseInt(e(194))/3*(parseInt(e(196))/4)+-parseInt(e(129))/5+parseInt(e(235))/6*(parseInt(e(178))/7)+parseInt(e(215))/8*(parseInt(e(153))/9)+parseInt(e(117))/10+-parseInt(e(225))/11*(-parseInt(e(226))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(X1,438802);function Lu(i,t){const e=X1();return Lu=function(n,r){return n=n-102,e[n]},Lu(i,t)}function X1(){const i=["124ftQSPD","getWidth","LineString","reduce","image_","getOffsetY","getStroke","scale","6787840ayRzRH","contextFillState_","drawImage","drawMultiPolygon","getAnchor","getFlatInteriorPoint","imageOriginY_","extent_","getRotateWithView","atan2","drawGeometryCollection","getOrigin","3467495kGCQzq","getLineJoin","setLineDash","contextStrokeState_","Polygon","getTextAlign","textScale_","globalAlpha","lineDashOffset","Circle","drawText_","fill","GeometryCollection","setTextStyle","moveTo","fillStyle","MultiPolygon","stroke","setContextTextState_","transformRotation_","viewRotation_","textRotation_","closePath","setTransform","2724309BABQFO","setStyle","isArray","drawMultiLineString","arc","imageRotation_","userTransform_","text_","getMiterLimit","textOffsetX_","length","rotate","textStrokeState_","imageHeight_","textFillState_","getTextBaseline","imageOriginX_","drawPolygon","getOffsetX","getLineCap","getFlatCoordinates","tmpLocalTransform_","transform_","contextTextState_","drawFeature","329VBHapv","getPixelRatio","restore","getLineDash","translate","drawRings_","setContextStrokeState_","getFont","getColor","getOrientedFlatCoordinates","textBaseline","getStride","3946XlpOPL","getGeometriesArray","imageAnchorY_","moveToLineTo_","15HPLQLU","getExtent","494908NYRmpB","map","imageWidth_","getEnds","getFlatMidpoints","textState_","textOffsetY_","drawLineString","context_","imageScale_","beginPath","getFill","pixelRatio_","strokeText","getOpacity","apply","save","getText","simplifyTransformed","8uWGatq","MultiLineString","font","textAlign","getGeometryFunction","fillState_","getRotation","strokeState_","lineDash","drawPoint","11URZwsq","4306668UTohoR","strokeStyle","lineWidth","imageAnchorX_","drawImages_","imageOpacity_","lineCap","textRotateWithView_","miterLimit","21180BNrUMX","imageRotateWithView_","drawGeometry","drawCircle","setContextFillState_","squaredTolerance_","Point","setFillStrokeStyle","lineTo","fillText","pixelCoordinates_","lineJoin","getFlatMidpoint","getImage","drawMultiPoint"];return X1=function(){return i},X1()}class zQ extends Yw{constructor(t,e,n,r,s,a,o){const l=Lu;super(),this.context_=t,this.pixelRatio_=e,this[l(124)]=n,this[l(175)]=r,this[l(148)]=r?K2(Math[l(126)](r[1],r[0]),10):0,this[l(149)]=s,this.squaredTolerance_=a,this[l(159)]=o,this[l(118)]=null,this.contextStrokeState_=null,this[l(176)]=null,this[l(220)]=null,this[l(222)]=null,this[l(113)]=null,this.imageAnchorX_=0,this[l(192)]=0,this[l(166)]=0,this[l(231)]=0,this[l(169)]=0,this[l(123)]=0,this.imageRotateWithView_=!1,this[l(158)]=0,this[l(205)]=[0,0],this[l(198)]=0,this[l(160)]="",this.textOffsetX_=0,this[l(202)]=0,this.textRotateWithView_=!1,this.textRotation_=0,this[l(135)]=[0,0],this[l(167)]=null,this[l(165)]=null,this[l(201)]=null,this[l(104)]=[],this[l(174)]=ki()}[ht(230)](t,e,n,r){const s=ht;if(!this.image_)return;const a=Va(t,e,n,r,this[s(175)],this[s(104)]),o=this[s(204)],l=this[s(174)],c=o[s(136)];this.imageOpacity_!=1&&(o.globalAlpha=c*this[s(231)]);let x=this[s(158)];this[s(148)]===0&&(x-=this.viewRotation_),this[s(236)]&&(x+=this.viewRotation_);for(let u=0,f=a[s(163)];u<f;u+=2){const h=a[u]-this[s(229)],A=a[u+1]-this[s(192)];if(x!==0||this[s(205)][0]!=1||this[s(205)][1]!=1){const p=h+this[s(229)],d=A+this.imageAnchorY_;_s(l,p,d,1,1,x,-p,-d),o[s(212)](),o.transform[s(211)](o,l),o[s(182)](p,d),o[s(116)](this[s(205)][0],this[s(205)][1]),o[s(119)](this[s(113)],this[s(169)],this[s(123)],this[s(198)],this[s(166)],-this.imageAnchorX_,-this[s(192)],this[s(198)],this[s(166)]),o[s(180)]()}else o[s(119)](this[s(113)],this[s(169)],this[s(123)],this[s(198)],this[s(166)],h,A,this[s(198)],this[s(166)])}this[s(231)]!=1&&(o[s(136)]=c)}[ht(139)](t,e,n,r){const s=ht;if(!this[s(201)]||this[s(160)]==="")return;this.textFillState_&&this[s(239)](this[s(167)]),this.textStrokeState_&&this[s(184)](this.textStrokeState_),this[s(147)](this[s(201)]);const a=Va(t,e,n,r,this[s(175)],this.pixelCoordinates_),o=this.context_;let l=this[s(150)];for(this[s(148)]===0&&(l-=this[s(149)]),this.textRotateWithView_&&(l+=this[s(149)]);e<n;e+=r){const c=a[e]+this.textOffsetX_,x=a[e+1]+this.textOffsetY_;l!==0||this.textScale_[0]!=1||this[s(135)][1]!=1?(o.save(),o[s(182)](c-this.textOffsetX_,x-this[s(202)]),o[s(164)](l),o.translate(this[s(162)],this[s(202)]),o[s(116)](this.textScale_[0],this[s(135)][1]),this[s(165)]&&o.strokeText(this[s(160)],0,0),this[s(167)]&&o[s(103)](this[s(160)],0,0),o.restore()):(this[s(165)]&&o[s(209)](this[s(160)],c,x),this[s(167)]&&o[s(103)](this[s(160)],c,x))}}[ht(193)](t,e,n,r,s){const a=ht,o=this[a(204)],l=Va(t,e,n,r,this.transform_,this[a(104)]);o[a(143)](l[0],l[1]);let c=l[a(163)];s&&(c-=2);for(let x=2;x<c;x+=2)o[a(102)](l[x],l[x+1]);return s&&o[a(151)](),n}drawRings_(t,e,n,r){const s=ht;for(let a=0,o=n.length;a<o;++a)e=this[s(193)](t,e,n[a],r,!0);return e}[ht(238)](t){const e=ht;if(this.squaredTolerance_&&(t=t[e(214)](this[e(240)],this[e(159)])),!!gn(this[e(124)],t[e(195)]())){if(this[e(220)]||this[e(222)]){this[e(220)]&&this[e(239)](this[e(220)]),this.strokeState_&&this[e(184)](this[e(222)]);const n=gD(t,this[e(175)],this[e(104)]),r=n[2]-n[0],s=n[3]-n[1],a=Math.sqrt(r*r+s*s),o=this[e(204)];o[e(206)](),o[e(157)](n[0],n[1],a,0,2*Math.PI),this[e(220)]&&o[e(140)](),this[e(222)]&&o[e(146)]()}this[e(160)]!==""&&this[e(139)](t.getCenter(),0,2,2)}}[ht(154)](t){const e=ht;this[e(242)](t[e(207)](),t[e(115)]()),this.setImageStyle(t[e(107)]()),this.setTextStyle(t[e(213)]())}[ht(152)](t){const e=ht;this[e(175)]=t}[ht(237)](t){const e=ht;switch(t.getType()){case e(241):this[e(224)](t);break;case e(111):this.drawLineString(t);break;case e(133):this[e(170)](t);break;case"MultiPoint":this[e(108)](t);break;case e(216):this.drawMultiLineString(t);break;case e(145):this[e(120)](t);break;case e(141):this.drawGeometryCollection(t);break;case e(138):this[e(238)](t);break}}[ht(177)](t,e){const n=ht,r=e[n(219)]()(t);r&&(this[n(154)](e),this[n(237)](r))}[ht(127)](t){const e=ht,n=t[e(191)]();for(let r=0,s=n[e(163)];r<s;++r)this.drawGeometry(n[r])}drawPoint(t){const e=ht;this[e(240)]&&(t=t[e(214)](this.squaredTolerance_,this[e(159)]));const n=t.getFlatCoordinates(),r=t[e(189)]();this[e(113)]&&this[e(230)](n,0,n[e(163)],r),this.text_!==""&&this[e(139)](n,0,n[e(163)],r)}[ht(108)](t){const e=ht;this.squaredTolerance_&&(t=t[e(214)](this.squaredTolerance_,this[e(159)]));const n=t.getFlatCoordinates(),r=t.getStride();this[e(113)]&&this[e(230)](n,0,n[e(163)],r),this[e(160)]!==""&&this[e(139)](n,0,n[e(163)],r)}[ht(203)](t){const e=ht;if(this[e(240)]&&(t=t.simplifyTransformed(this[e(240)],this[e(159)])),!!gn(this[e(124)],t[e(195)]())){if(this[e(222)]){this[e(184)](this[e(222)]);const n=this[e(204)],r=t[e(173)]();n[e(206)](),this[e(193)](r,0,r[e(163)],t[e(189)](),!1),n[e(146)]()}if(this[e(160)]!==""){const n=t[e(106)]();this[e(139)](n,0,2,2)}}}[ht(156)](t){const e=ht;this[e(240)]&&(t=t[e(214)](this[e(240)],this[e(159)]));const n=t.getExtent();if(gn(this[e(124)],n)){if(this[e(222)]){this[e(184)](this[e(222)]);const r=this.context_,s=t[e(173)]();let a=0;const o=t[e(199)](),l=t[e(189)]();r[e(206)]();for(let c=0,x=o[e(163)];c<x;++c)a=this[e(193)](s,a,o[c],l,!1);r[e(146)]()}if(this[e(160)]!==""){const r=t[e(200)]();this[e(139)](r,0,r.length,2)}}}drawPolygon(t){const e=ht;if(this[e(240)]&&(t=t[e(214)](this[e(240)],this[e(159)])),!!gn(this[e(124)],t[e(195)]())){if(this[e(222)]||this[e(220)]){this[e(220)]&&this[e(239)](this[e(220)]),this[e(222)]&&this[e(184)](this[e(222)]);const n=this.context_;n[e(206)](),this.drawRings_(t[e(187)](),0,t.getEnds(),t[e(189)]()),this.fillState_&&n[e(140)](),this[e(222)]&&n[e(146)]()}if(this.text_!==""){const n=t[e(122)]();this[e(139)](n,0,2,2)}}}[ht(120)](t){const e=ht;if(this[e(240)]&&(t=t.simplifyTransformed(this[e(240)],this[e(159)])),!!gn(this[e(124)],t[e(195)]())){if(this[e(222)]||this[e(220)]){this[e(220)]&&this[e(239)](this[e(220)]),this[e(222)]&&this[e(184)](this[e(222)]);const n=this[e(204)],r=t[e(187)]();let s=0;const a=t.getEndss(),o=t[e(189)]();n.beginPath();for(let l=0,c=a[e(163)];l<c;++l){const x=a[l];s=this[e(183)](r,s,x,o)}this.fillState_&&n.fill(),this[e(222)]&&n[e(146)]()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}[ht(239)](t){const e=ht,n=this.context_,r=this[e(118)];r?r[e(144)]!=t[e(144)]&&(r[e(144)]=t[e(144)],n.fillStyle=t[e(144)]):(n.fillStyle=t.fillStyle,this[e(118)]={fillStyle:t[e(144)]})}setContextStrokeState_(t){const e=ht,n=this[e(204)],r=this[e(132)];r?(r.lineCap!=t[e(232)]&&(r.lineCap=t.lineCap,n[e(232)]=t[e(232)]),!Na(r.lineDash,t[e(223)])&&n[e(131)](r[e(223)]=t[e(223)]),r[e(137)]!=t[e(137)]&&(r[e(137)]=t.lineDashOffset,n[e(137)]=t[e(137)]),r.lineJoin!=t[e(105)]&&(r[e(105)]=t[e(105)],n[e(105)]=t[e(105)]),r[e(228)]!=t[e(228)]&&(r[e(228)]=t[e(228)],n[e(228)]=t[e(228)]),r[e(234)]!=t.miterLimit&&(r[e(234)]=t[e(234)],n[e(234)]=t.miterLimit),r.strokeStyle!=t[e(227)]&&(r.strokeStyle=t[e(227)],n[e(227)]=t.strokeStyle)):(n[e(232)]=t[e(232)],n.setLineDash(t.lineDash),n.lineDashOffset=t[e(137)],n[e(105)]=t[e(105)],n[e(228)]=t[e(228)],n[e(234)]=t[e(234)],n.strokeStyle=t[e(227)],this.contextStrokeState_={lineCap:t.lineCap,lineDash:t[e(223)],lineDashOffset:t.lineDashOffset,lineJoin:t[e(105)],lineWidth:t[e(228)],miterLimit:t[e(234)],strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=ht,n=this[e(204)],r=this[e(176)],s=t[e(218)]?t.textAlign:Hx;r?(r[e(217)]!=t[e(217)]&&(r[e(217)]=t[e(217)],n.font=t.font),r[e(218)]!=s&&(r.textAlign=s,n[e(218)]=s),r.textBaseline!=t[e(188)]&&(r[e(188)]=t[e(188)],n[e(188)]=t[e(188)])):(n[e(217)]=t[e(217)],n[e(218)]=s,n[e(188)]=t[e(188)],this.contextTextState_={font:t.font,textAlign:s,textBaseline:t.textBaseline})}[ht(242)](t,e){const n=ht;if(!t)this[n(220)]=null;else{const r=t[n(186)]();this[n(220)]={fillStyle:ds(r||Fi)}}if(!e)this[n(222)]=null;else{const r=e[n(186)](),s=e[n(172)](),a=e[n(181)](),o=e.getLineDashOffset(),l=e[n(130)](),c=e.getWidth(),x=e[n(161)](),u=a||Xs;this[n(222)]={lineCap:s!==void 0?s:cc,lineDash:this[n(208)]===1?u:u[n(197)](f=>f*this.pixelRatio_),lineDashOffset:(o||Ks)*this[n(208)],lineJoin:l!==void 0?l:lc,lineWidth:(c!==void 0?c:qx)*this[n(208)],miterLimit:x!==void 0?x:zx,strokeStyle:ds(r||Vx)}}}setImageStyle(t){const e=ht;let n;if(!t||!(n=t.getSize())){this[e(113)]=null;return}const r=t[e(179)](this[e(208)]),s=t[e(121)](),a=t[e(128)]();this[e(113)]=t[e(107)](this.pixelRatio_),this.imageAnchorX_=s[0]*r,this[e(192)]=s[1]*r,this[e(166)]=n[1]*r,this[e(231)]=t[e(210)](),this.imageOriginX_=a[0],this.imageOriginY_=a[1],this.imageRotateWithView_=t[e(125)](),this[e(158)]=t[e(221)]();const o=t.getScaleArray();this[e(205)]=[o[0]*this.pixelRatio_/r,o[1]*this.pixelRatio_/r],this[e(198)]=n[0]*r}[ht(142)](t){const e=ht;if(!t)this[e(160)]="";else{const n=t[e(207)]();if(!n)this[e(167)]=null;else{const A=n[e(186)]();this.textFillState_={fillStyle:ds(A||Fi)}}const r=t[e(115)]();if(!r)this[e(165)]=null;else{const A=r[e(186)](),p=r[e(172)](),d=r.getLineDash(),g=r.getLineDashOffset(),m=r[e(130)](),_=r[e(110)](),I=r[e(161)]();this[e(165)]={lineCap:p!==void 0?p:cc,lineDash:d||Xs,lineDashOffset:g||Ks,lineJoin:m!==void 0?m:lc,lineWidth:_!==void 0?_:qx,miterLimit:I!==void 0?I:zx,strokeStyle:ds(A||Vx)}}const s=t[e(185)](),a=t[e(171)](),o=t[e(114)](),l=t.getRotateWithView(),c=t[e(221)](),x=t.getScaleArray(),u=t[e(213)](),f=t[e(134)](),h=t[e(168)]();this[e(201)]={font:s!==void 0?s:k3,textAlign:f!==void 0?f:Hx,textBaseline:h!==void 0?h:qA},this.text_=u!==void 0?Array[e(155)](u)?u[e(112)]((A,p,d)=>A+=d%2?" ":p,""):u:"",this[e(162)]=a!==void 0?this[e(208)]*a:0,this[e(202)]=o!==void 0?this.pixelRatio_*o:0,this[e(233)]=l!==void 0?l:!1,this[e(150)]=c!==void 0?c:0,this[e(135)]=[this[e(208)]*x[0],this[e(208)]*x[1]]}}}(function(i,t){const e=Fu,n=i();for(;;)try{if(-parseInt(e(390))/1*(-parseInt(e(383))/2)+-parseInt(e(391))/3+parseInt(e(392))/4+parseInt(e(406))/5+parseInt(e(385))/6+parseInt(e(394))/7+parseInt(e(423))/8*(-parseInt(e(382))/9)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(K1,188975);function K1(){const i=["getType","pixels","toString","setStyle","getImageSize","padStart","getAnchor","464Updlme","getRotateWithView","replace","sort","getStroke","setText","getStyleFunction","getRotation","getOrigin","round","150957iyHuaz","127176nRRovP","canvas","1322442WMQbgn","Multi","width","getGeometryFunction","push","3zrrCAd","33231ZpshNe","1118036OMrpeG","getSize","1762061fvdyxp","floor","getFill","setColor","clone","Circle","data","imageSmoothingEnabled","getImage","keys","getGeometriesArrayRecursive","drawGeometry","1152415gtrGid","getScale","getImageData","height","GeometryCollection","fillStyle","getExtent","isArray","setImage","length"];return K1=function(){return i},K1()}function Fu(i,t){const e=K1();return Fu=function(n,r){return n=n-380,e[n]},Fu(i,t)}const cr=.5;function $w(i,t,e,n,r,s,a,o,l){const c=Fu,x=l?sI(r):r,u=i[0]*cr,f=i[1]*cr,h=ln(u,f);h[c(401)]=!1;const A=h[c(384)],p=new zQ(h,cr,r,null,a,o,l?Cx(mT(),l):null),d=e[c(415)],g=Math.floor((256*256*256-1)/d),m={};for(let I=1;I<=d;++I){const y=e[I-1],E=y[c(429)]()||n;if(!E)continue;let b=E(y,s);if(!b)continue;!Array[c(413)](b)&&(b=[b]);const w=I*g,C=w[c(418)](16)[c(421)](7,"#00000");for(let v=0,B=b.length;v<B;++v){const S=b[v],T=S[c(388)]()(y);if(!T||!gn(x,T[c(412)]()))continue;const Q=S[c(398)](),M=Q[c(396)]();M&&M.setColor(C);const D=Q[c(427)]();D&&(D[c(397)](C),D.setLineDash(null)),Q[c(428)](void 0);const U=S[c(402)]();if(U){const P=U[c(420)]();if(!P)continue;const Z=ln(P[0],P[1],void 0,{alpha:!1}),ce=Z[c(384)];Z[c(411)]=C,Z.fillRect(0,0,ce.width,ce[c(409)]),Q[c(414)](new r0({img:ce,anchor:U[c(422)](),anchorXUnits:c(417),anchorYUnits:c(417),offset:U[c(380)](),opacity:1,size:U[c(393)](),scale:U[c(407)](),rotation:U[c(430)](),rotateWithView:U[c(424)]()}))}const F=Q.getZIndex()||0;let z=m[F];!z&&(z={},m[F]=z,z.Polygon=[],z[c(399)]=[],z.LineString=[],z.Point=[]);const H=T.getType();if(H===c(410)){const P=T[c(404)]();for(let Z=0,ce=P.length;Z<ce;++Z){const G=P[Z];z[G[c(416)]()[c(425)](c(386),"")][c(389)](G,Q)}}else z[H[c(425)](c(386),"")].push(T,Q)}}const _=Object[c(403)](m).map(Number)[c(426)](us);for(let I=0,y=_[c(415)];I<y;++I){const E=m[_[I]];for(const b in E){const w=E[b];for(let C=0,v=w[c(415)];C<v;C+=2){p[c(419)](w[C+1]);for(let B=0,S=t.length;B<S;++B)p.setTransform(t[B]),p[c(405)](w[C])}}}return h[c(408)](0,0,A.width,A[c(409)])}function eB(i,t,e){const n=Fu,r=[];if(e){const s=Math[n(395)](Math[n(381)](i[0])*cr),a=Math.floor(Math[n(381)](i[1])*cr),o=(mn(s,0,e[n(387)]-1)+mn(a,0,e[n(409)]-1)*e.width)*4,l=e[n(400)][o],c=e.data[o+1],x=e[n(400)][o+2],u=x+256*(c+256*l),f=Math.floor((256*256*256-1)/t[n(415)]);u&&u%f===0&&r[n(389)](t[u/f-1])}return r}(function(i,t){const e=Vi,n=i();for(;;)try{if(parseInt(e(188))/1*(-parseInt(e(171))/2)+-parseInt(e(206))/3*(parseInt(e(190))/4)+parseInt(e(186))/5*(-parseInt(e(194))/6)+parseInt(e(195))/7*(parseInt(e(207))/8)+parseInt(e(175))/9+parseInt(e(185))/10+parseInt(e(196))/11*(parseInt(e(204))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(J1,296162);function J1(){const i=["getBuilder","setFillStrokeStyle","12FZMeBw","setTextStyle","2478SsElYG","12952SPzLwn","setImageStyle","getGeometriesArray","getText","getRenderer","Image","drawMultiLineString","drawMultiPoint","getFill","ERROR","load","length","drawLineString","6HsmWhn","getHitDetectionRenderer","Text","LineString","3488481MDJldu","drawText","LOADED","drawPolygon","getGeometryFunction","getZIndex","getImage","drawMultiPolygon","getGeometries","simplifyTransformed","4878850mMKZMh","462700YLyecH","push","158697KCVIzZ","drawCircle","780bkPyEo","ready","getImageState","getStroke","24FdNxFF","1022aDtVfP","2107765NCRCRd","drawPoint","all","getType","Default","Polygon"];return J1=function(){return i},J1()}const VQ=.5,tB={Point:jQ,LineString:XQ,Polygon:$Q,MultiPoint:ZQ,MultiLineString:KQ,MultiPolygon:JQ,GeometryCollection:WQ,Circle:qQ};function HQ(i,t){return parseInt(tt(i),10)-parseInt(tt(t),10)}function gE(i,t){const e=nB(i,t);return e*e}function nB(i,t){return VQ*i/t}function qQ(i,t,e,n,r){const s=Vi,a=e[s(215)](),o=e[s(193)]();if(a||o){const c=i[s(202)](e[s(180)](),"Circle");c[s(203)](a,o),c[s(189)](t,n,r)}const l=e[s(210)]();if(l&&l[s(210)]()){const c=i.getBuilder(e[s(180)](),s(173));c[s(205)](l),c[s(176)](t,n)}}function j1(i,t,e,n,r,s,a,o){const l=Vi,c=[],x=e[l(181)]();if(x){let h=!0;const A=x[l(192)]();A==ke.LOADED||A==ke[l(216)]?h=!1:A==ke.IDLE&&x[l(168)](),h&&c[l(187)](x[l(191)]())}const u=e.getFill();u&&u.loading()&&c[l(187)](u[l(191)]());const f=c[l(169)]>0;return f&&Promise[l(198)](c).then(()=>r(null)),YQ(i,t,e,n,s,a,o),f}function YQ(i,t,e,n,r,s,a){const o=Vi,l=e[o(179)]()(t);if(!l)return;const c=l[o(184)](n,r);if(e.getRenderer())iB(i,c,e,t,a);else{const u=tB[c[o(199)]()];u(i,c,e,t,a,s)}}function iB(i,t,e,n,r){const s=Vi;if(t[s(199)]()=="GeometryCollection"){const o=t[s(183)]();for(let l=0,c=o[s(169)];l<c;++l)iB(i,o[l],e,n,r);return}i[s(202)](e[s(180)](),s(200)).drawCustom(t,n,e[s(211)](),e[s(172)](),r)}function WQ(i,t,e,n,r,s){const a=Vi,o=t[a(209)]();let l,c;for(l=0,c=o[a(169)];l<c;++l){const x=tB[o[l][a(199)]()];x(i,o[l],e,n,r,s)}}function Vi(i,t){const e=J1();return Vi=function(n,r){return n=n-168,e[n]},Vi(i,t)}function XQ(i,t,e,n,r){const s=Vi,a=e[s(193)]();if(a){const l=i[s(202)](e.getZIndex(),s(174));l[s(203)](null,a),l[s(170)](t,n,r)}const o=e.getText();if(o&&o[s(210)]()){const l=i[s(202)](e[s(180)](),s(173));l[s(205)](o),l.drawText(t,n,r)}}function KQ(i,t,e,n,r){const s=Vi,a=e[s(193)]();if(a){const l=i[s(202)](e.getZIndex(),s(174));l[s(203)](null,a),l[s(213)](t,n,r)}const o=e[s(210)]();if(o&&o[s(210)]()){const l=i[s(202)](e[s(180)](),s(173));l.setTextStyle(o),l[s(176)](t,n,r)}}function JQ(i,t,e,n,r){const s=Vi,a=e[s(215)](),o=e[s(193)]();if(o||a){const c=i[s(202)](e[s(180)](),s(201));c[s(203)](a,o),c[s(182)](t,n,r)}const l=e[s(210)]();if(l&&l[s(210)]()){const c=i[s(202)](e.getZIndex(),s(173));c[s(205)](l),c[s(176)](t,n,r)}}function jQ(i,t,e,n,r,s){const a=Vi,o=e.getImage(),l=e[a(210)](),c=l&&l.getText(),x=s&&o&&c?{}:void 0;if(o){if(o[a(192)]()!=ke[a(177)])return;const u=i[a(202)](e[a(180)](),a(212));u[a(208)](o,x),u[a(197)](t,n,r)}if(c){const u=i[a(202)](e[a(180)](),a(173));u[a(205)](l,x),u[a(176)](t,n,r)}}function ZQ(i,t,e,n,r,s){const a=Vi,o=e.getImage(),l=o&&o.getOpacity()!==0,c=e[a(210)](),x=c&&c.getText(),u=s&&l&&x?{}:void 0;if(l){if(o.getImageState()!=ke[a(177)])return;const f=i[a(202)](e[a(180)](),a(212));f[a(208)](o,u),f[a(214)](t,n,r)}if(x){const f=i[a(202)](e[a(180)](),a(173));f[a(205)](c,u),f.drawText(t,n,r)}}function $Q(i,t,e,n,r){const s=Vi,a=e.getFill(),o=e[s(193)]();if(a||o){const c=i.getBuilder(e[s(180)](),s(201));c[s(203)](a,o),c[s(178)](t,n,r)}const l=e[s(210)]();if(l&&l[s(210)]()){const c=i[s(202)](e[s(180)](),s(173));c.setTextStyle(l),c[s(176)](t,n,r)}}const Ln=Fc;(function(i,t){const e=Fc,n=i();for(;;)try{if(parseInt(e(270))/1*(parseInt(e(248))/2)+parseInt(e(238))/3+-parseInt(e(296))/4*(-parseInt(e(301))/5)+-parseInt(e(229))/6+-parseInt(e(258))/7+parseInt(e(310))/8+parseInt(e(230))/9*(-parseInt(e(245))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Z1,327318);function Z1(){const i=["renderFrame","renderDeferredInternal","POSTRENDER","renderedFrameDeclutter_","renderWorlds","renderedRevision_","rotation","setDrawContext_","getLayer","getFeatures","clipUnrotated","getUpdateWhileInteracting","renderedRenderOrder_","opacity","resetDrawContext_","renderedRotation_","replayGroupChanged","layerStatesArray","getOverlaps","forEachFeatureAtCoordinate","sort","pixelRatio","clipping","projection","globalAlpha","3412pBbiqI","layerIndex","ready","canvas","renderedPixelRatio_","2155vUGTFL","renderedCenter_","wrappedRenderedExtent_","replayGroup_","hitDetectionImageData_","length","slice","clipped_","getUpdateWhileAnimating","5148744OaXiSz","getSource","animatingOrInteracting_","container","ceil","renderedFeatures_","opacity_","targetContext_","renderIfReadyAndVisible","renderedProjection_","isEmpty","splice","frameState","getExtent","renderedResolution_","loadFeatures","declutter","push","3853830cKHAIw","36tLxYfn","geometry","restore","prepareContainer","floor","viewHints","handleStyleImageChange_","PRERENDER","693288SFBoDj","getStyleFunction","center","context","ANIMATING","getRenderOrder","getDeclutter","623230BjFhld","renderFeature","width","68UdzDbB","height","preRender","renderedExtent_","getRenderBuffer","canWrapX","distanceSq","viewState","hasListener","boundHandleStyleImageChange_","532581hqCVbE","round","getRenderTransform","extent","resolution","isArray","some","INTERACTING","getWrapX","lastIndexOf","handleFontsChanged","execute","1549uyzvlb"];return Z1=function(){return i},Z1()}function Fc(i,t){const e=Z1();return Fc=function(n,r){return n=n-227,e[n]},Fc(i,t)}class e9 extends iE{constructor(t){const e=Fc;super(t),this[e(257)]=this[e(236)].bind(this),this.animatingOrInteracting_,this[e(305)]=null,this[e(308)]=!1,this.renderedFeatures_=null,this[e(276)]=-1,this[e(324)]=NaN,this.renderedExtent_=ir(),this[e(303)]=ir(),this[e(286)],this[e(302)]=null,this.renderedProjection_=null,this[e(300)]=1,this[e(283)]=null,this[e(274)],this[e(304)]=null,this[e(287)]=!0,this[e(293)]=!0,this[e(317)]=null,this[e(316)]=1}[Ln(275)](t,e,n){const r=Ln,s=e[r(261)],a=e[r(255)],o=a[r(240)],l=a[r(262)],c=a[r(294)],x=a.rotation,u=c[r(323)](),f=this.getLayer()[r(311)](),h=this[r(279)]()[r(244)](),A=e.pixelRatio,p=e.viewHints,d=!(p[xn[r(242)]]||p[xn[r(265)]]),g=this[r(241)],m=Math[r(259)](lt(s)/l*A),_=Math[r(259)](rn(s)/l*A),I=f[r(266)]()&&c.canWrapX(),y=I?lt(u):null,E=I?Math[r(314)]((s[2]-u[2])/y)+1:1;let b=I?Math[r(234)]((s[0]-u[0])/y):0;do{let w=this[r(260)](o,l,0,A,m,_,b*y);e[r(227)]&&(w=w[r(307)](0)),t[r(269)](g,[g[r(299)][r(247)],g[r(299)][r(249)]],w,x,d,n===void 0?Lc:n?W1:OQ,n?h&&e[r(227)][h]:void 0)}while(++b<E)}[Ln(278)](){const t=Ln;this.opacity_!==1&&(this[t(317)]=this.context,this[t(241)]=ln(this[t(241)].canvas.width,this[t(241)].canvas[t(249)],yw))}resetDrawContext_(){const t=Ln;if(this[t(316)]!==1){const e=this[t(317)][t(295)];this[t(317)].globalAlpha=this[t(316)],this[t(317)].drawImage(this[t(241)][t(299)],0,0),this.targetContext_[t(295)]=e,Tx(this.context),yw[t(228)](this[t(241)][t(299)]),this[t(241)]=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){const e=Ln;!this[e(304)]||!this[e(279)]()[e(244)]()||this[e(275)](this[e(304)],t,!0)}[Ln(272)](t){const e=Ln;this.replayGroup_&&(this.replayGroup_.renderDeferred(),this[e(308)]&&this.context[e(232)](),this[e(285)]())}[Ln(271)](t,e){const n=Ln,r=t[n(288)][t[n(297)]];this.opacity_=r[n(284)];const s=t[n(255)];this[n(233)](t,e);const a=this[n(241)],o=this[n(304)];let l=o&&!o[n(320)]();if(!l&&!(this[n(279)]()[n(256)](br[n(237)])||this[n(279)]()[n(256)](br[n(273)])))return null;if(this[n(278)](),this[n(250)](a,t),s[n(294)],this[n(308)]=!1,l&&r[n(261)]&&this[n(293)]){const c=ls(r[n(261)]);l=gn(c,t[n(261)]),this[n(308)]=l&&!Ur(c,t.extent),this[n(308)]&&this[n(281)](a,t,c)}return l&&this[n(275)](o,t,this.getLayer()[n(244)]()?!1:void 0),!t[n(227)]&&this[n(308)]&&a[n(232)](),this.postRender(a,t),this[n(286)]!==s[n(277)]&&(this[n(286)]=s.rotation,this[n(305)]=null),!t[n(227)]&&this.resetDrawContext_(),this[n(313)]}[Ln(280)](t){return new Promise(e=>{const n=Fc;if(this[n(322)]&&!this.hitDetectionImageData_&&!this[n(312)]){const r=this[n(322)].size.slice(),s=this.renderedCenter_,a=this.renderedResolution_,o=this[n(286)],l=this[n(319)],c=this[n(303)],x=this[n(279)](),u=[],f=r[0]*cr,h=r[1]*cr;u.push(this.getRenderTransform(s,a,o,cr,f,h,0)[n(307)]());const A=x[n(311)](),p=l[n(323)]();if(A[n(266)]()&&l[n(253)]()&&!Ur(p,c)){let d=c[0];const g=lt(p);let m=0,_;for(;d<p[0];)--m,_=g*m,u[n(228)](this[n(260)](s,a,o,cr,f,h,_)[n(307)]()),d+=g;for(m=0,d=c[2];d>p[2];)++m,_=g*m,u.push(this[n(260)](s,a,o,cr,f,h,_)[n(307)]()),d-=g}this[n(305)]=$w(r,u,this.renderedFeatures_,x[n(239)](),c,a,o,gE(a,this[n(300)]),null)}e(eB(t,this[n(315)],this[n(305)]))})}[Ln(290)](t,e,n,r,s){const a=Ln;if(!this[a(304)])return;const o=e[a(255)][a(262)],l=e.viewState[a(277)],c=this.getLayer(),x={},u=function(p,d,g){const m=a,_=tt(p),I=x[_];if(I){if(I!==!0&&g<I[m(254)]){if(g===0)return x[_]=!0,s[m(321)](s[m(267)](I),1),r(p,c,d);I[m(231)]=d,I[m(254)]=g}}else{if(g===0)return x[_]=!0,r(p,c,d);s.push(x[_]={feature:p,layer:c,geometry:d,distanceSq:g,callback:r})}};let f;const h=[this[a(304)]],A=this.getLayer().getDeclutter();return h[a(264)](p=>{const d=a;return f=p[d(290)](t,o,l,n,u,A&&e[d(227)][A]?e[d(227)][A].all().map(g=>g.value):null)}),f}[Ln(268)](){const t=Ln,e=this[t(279)]();e.getVisible()&&this[t(304)]&&e.changed()}[Ln(236)](t){this[Ln(318)]()}prepareFrame(t){const e=Ln,n=this[e(279)](),r=n[e(311)]();if(!r)return!1;const s=t[e(235)][xn[e(242)]],a=t[e(235)][xn[e(265)]],o=n[e(309)](),l=n[e(282)]();if(this[e(298)]&&!o&&s||!l&&a)return this.animatingOrInteracting_=!0,!0;this[e(312)]=!1;const c=t[e(261)],x=t.viewState,u=x.projection,f=x[e(262)],h=t[e(292)],A=n.getRevision(),p=n[e(252)]();let d=n[e(243)]();d===void 0&&(d=HQ);const g=x[e(240)][e(307)](),m=Qa(c,p*f),_=m.slice(),I=[m[e(307)]()],y=u[e(323)]();if(r[e(266)]()&&u[e(253)]()&&!Ur(y,t[e(261)])){const M=lt(y),D=Math.max(lt(m)/2,M);m[0]=y[0]-D,m[2]=y[2]+D,j2(g,u);const U=f3(I[0],u);U[0]<y[0]&&U[2]<y[2]?I[e(228)]([U[0]+M,U[1],U[2]+M,U[3]]):U[0]>y[0]&&U[2]>y[2]&&I.push([U[0]-M,U[1],U[2]-M,U[3]])}if(this[e(298)]&&this.renderedResolution_==f&&this.renderedRevision_==A&&this[e(283)]==d&&this[e(274)]===!!t.declutter&&Ur(this[e(303)],m))return!Na(this[e(251)],_)&&(this[e(305)]=null,this[e(251)]=_),this[e(302)]=g,this[e(287)]=!1,!0;this[e(304)]=null;const E=new Xw(nB(f,h),m,f,h);let b;for(let M=0,D=I[e(306)];M<D;++M)r[e(325)](I[M],f,u);const w=gE(f,h);let C=!0;const v=(M,D)=>{const U=e;let F;const z=M[U(239)]()||n[U(239)]();if(z&&(F=z(M,f)),F){const H=this[U(246)](M,w,F,E,b,this[U(279)]().getDeclutter(),D);C=C&&!H}},B=sI(m),S=r.getFeaturesInExtent(B);d&&S[e(291)](d);for(let M=0,D=S.length;M<D;++M)v(S[M],M);this[e(315)]=S,this[e(298)]=C;const T=E.finish(),Q=new Zw(m,f,h,r[e(289)](),T,n[e(252)](),!!t.declutter);return this[e(324)]=f,this[e(276)]=A,this[e(283)]=d,this[e(274)]=!!t[e(227)],this[e(251)]=_,this[e(303)]=m,this[e(302)]=g,this[e(319)]=u,this[e(300)]=h,this[e(304)]=Q,this[e(305)]=null,this.replayGroupChanged=!0,!0}[Ln(246)](t,e,n,r,s,a,o){const l=Ln;if(!n)return!1;let c=!1;if(Array[l(263)](n))for(let x=0,u=n[l(306)];x<u;++x)c=j1(r,t,n[x],e,this[l(257)],s,a,o)||c;else c=j1(r,t,n,e,this[l(257)],s,a,o);return c}}function $1(i,t){var e=ep();return $1=function(n,r){n=n-258;var s=e[n];return s},$1(i,t)}var t9=$1;function ep(){var i=["2869652EtOQNv","705613dqxUBk","3xoIaFd","4735318gqJYAg","17586SQcMDT","9707313rQnejl","createRenderer","6viLQfP","2810cwdTSU","2lMiCxc","2543616roCltT","4783555pepMZJ"];return ep=function(){return i},ep()}(function(i,t){for(var e=$1,n=i();;)try{var r=parseInt(e(269))/1*(parseInt(e(265))/2)+parseInt(e(258))/3*(-parseInt(e(268))/4)+-parseInt(e(267))/5*(-parseInt(e(263))/6)+parseInt(e(259))/7+parseInt(e(266))/8+-parseInt(e(260))/9*(parseInt(e(264))/10)+-parseInt(e(261))/11;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(ep,507780);class kc extends fE{constructor(t){super(t)}[t9(262)](){return new e9(this)}}function rB(i,t,e,n,r,s){i.getView().setConstrainResolution(!0);let a=s||80,o=[],l=[],c=[],u=sB(i,t).tifPixelLeftTop,{tifPixelLeftTop:f,tifPiexlWidth:h,tifPiexHeight:A}=sB(i,e),p=(f[0]-u[0])%a,d=(f[1]-u[1])%a;f[0]+h/2,f[1]+A/2,nc(i,[t[0],t[1]])[1]<-90&&i.getPixelFromCoordinate([t[0],-90])[1],nc(i,[t[2],t[3]])[1]>90&&(t[3]=90,i.getPixelFromCoordinate([t[0],90])[1]);let g=mE(i,[t[0],t[1]]),m=mE(i,[t[2],t[3]]);g[0],g[1],m[0],m[1];for(let _=p;_<n;_=_+a)for(let I=d;I<r;I=I+a){let y=i.getCoordinateFromPixel([_,I]),E=nc(i,y);E[0]>-180?c.push(parseInt((E[0]+180)/360)):E[0]<=-180&&(parseInt((E[0]-180)/360)==0,c.push(parseInt((E[0]-180)/360)));let b=mE(i,y);if(b[0]>=e[0]&&b[1]>=e[1]&&b[0]<=e[2]&&b[1]<=e[3]){o.push([_,I]);let w=i.getPixelFromCoordinate([b[0],b[1]]);l.push(w)}}return[o,l,c]}function mE(i,t){let e=nc(i,t),n=[e[0],e[1]];return e[0]<=-180&&(n[0]=e[0]%360,n[0]<=-180&&(n[0]=n[0]+360)),e[0]>=180&&(n[0]=n[0]%360,n[0]>=180&&(n[0]=n[0]-360)),ET(i,n)}function sB(i,t){let e=i.getPixelFromCoordinate([t[0],t[1]]),n=i.getPixelFromCoordinate([t[2],t[3]]),r=Math.abs(e[0]-n[0]),s=Math.abs(e[1]-n[1]);return{tifPixelLeftTop:i.getPixelFromCoordinate([t[0],t[3]]),tifPiexlWidth:r,tifPiexHeight:s}}const en=ku;function ku(i,t){const e=tp();return ku=function(n,r){return n=n-283,e[n]},ku(i,t)}(function(i,t){const e=ku,n=i();for(;;)try{if(-parseInt(e(301))/1+-parseInt(e(305))/2+parseInt(e(294))/3*(parseInt(e(287))/4)+-parseInt(e(291))/5+parseInt(e(313))/6+parseInt(e(288))/7*(-parseInt(e(309))/8)+parseInt(e(308))/9===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(tp,656583);class n9{constructor(t){const e=ku;this.highWaterMark=t!==void 0?t:2048,this[e(298)]=0,this[e(304)]={},this.oldest_=null,this[e(302)]=null}[en(295)](){const t=en;return this[t(296)]>0&&this[t(314)]()>this.highWaterMark}expireCache(t){const e=en;for(;this[e(295)]();){const n=this[e(283)]();n instanceof Qx&&n[e(297)]()}}[en(284)](){const t=en;this[t(298)]=0,this[t(304)]={},this[t(303)]=null,this.newest_=null}[en(285)](t){const e=en;return this[e(304)][e(306)](t)}[en(310)](t){const e=en;let n=this.oldest_;for(;n;)t(n[e(289)],n[e(290)],this),n=n[e(300)]}[en(311)](t,e){const n=en,r=this[n(304)][t];return Mt(r!==void 0,n(286)),r===this[n(302)]?r.value_:(r===this.oldest_?(this[n(303)]=this.oldest_[n(300)],this[n(303)].older=null):(r[n(300)][n(299)]=r.older,r.older[n(300)]=r[n(300)]),r[n(300)]=null,r[n(299)]=this[n(302)],this[n(302)].newer=r,this.newest_=r,r[n(289)])}remove(t){const e=en,n=this[e(304)][t];return Mt(n!==void 0,e(286)),n===this[e(302)]?(this[e(302)]=n[e(299)],this[e(302)]&&(this[e(302)].newer=null)):n===this.oldest_?(this[e(303)]=n[e(300)],this.oldest_&&(this.oldest_[e(299)]=null)):(n[e(300)][e(299)]=n.older,n.older[e(300)]=n[e(300)]),delete this[e(304)][t],--this.count_,n.value_}[en(314)](){return this.count_}getKeys(){const t=en,e=new Array(this[t(298)]);let n=0,r;for(r=this.newest_;r;r=r[t(299)])e[n++]=r[t(290)];return e}getValues(){const t=en,e=new Array(this[t(298)]);let n=0,r;for(r=this[t(302)];r;r=r[t(299)])e[n++]=r[t(289)];return e}peekLast(){const t=en;return this[t(303)][t(289)]}peekLastKey(){const t=en;return this[t(303)][t(290)]}[en(307)](){const t=en;return this[t(302)][t(290)]}[en(312)](t){var n;const e=en;return(n=this[e(304)][t])==null?void 0:n[e(289)]}[en(283)](){const t=en,e=this[t(303)];return delete this.entries_[e[t(290)]],e[t(300)]&&(e.newer[t(299)]=null),this.oldest_=e.newer,!this[t(303)]&&(this[t(302)]=null),--this[t(298)],e[t(289)]}replace(t,e){const n=en;this.get(t),this[n(304)][t][n(289)]=e}[en(293)](t,e){const n=en;Mt(!(t in this[n(304)]),"Tried to set a value for a key that is used already");const r={key_:t,newer:null,older:this[n(302)],value_:e};this[n(302)]?this[n(302)].newer=r:this[n(303)]=r,this[n(302)]=r,this.entries_[t]=r,++this[n(298)]}[en(292)](t){this.highWaterMark=t}}function tp(){const i=["setSize","set","3lBfFcW","canExpireCache","highWaterMark","dispose","count_","older","newer","951496yzIzRL","newest_","oldest_","entries_","2590890Yqwdro","hasOwnProperty","peekFirstKey","30229641EJSgeo","10431992bJHzoj","forEach","get","peek","6774174YGkdSq","getCount","pop","clear","containsKey","Tried to get a value for a key that does not exist in the cache","2741380DTAdyL","7MerHYX","value_","key_","4828500FSQQKJ"];return tp=function(){return i},tp()}(function(i,t){for(var e=_E,n=i();;)try{var r=parseInt(e(341))/1*(parseInt(e(339))/2)+parseInt(e(342))/3+parseInt(e(345))/4*(-parseInt(e(337))/5)+-parseInt(e(335))/6+-parseInt(e(338))/7*(parseInt(e(340))/8)+-parseInt(e(336))/9+parseInt(e(343))/10*(parseInt(e(344))/11);if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(np,819023);const de={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function _E(i,t){var e=np();return _E=function(n,r){n=n-335;var s=e[n];return s},_E(i,t)}function np(){var i=["189dWmAKm","1095032WEcgHt","185632rYdymn","1SHgMZJ","2791236DqoQVN","79570mXdIyk","2607rSGFMW","11568lsrInj","4758546uQRwJg","5883471zNKTgw","815DXTVJT"];return np=function(){return i},np()}const ei=Pc;(function(i,t){const e=Pc,n=i();for(;;)try{if(-parseInt(e(437))/1+-parseInt(e(434))/2*(-parseInt(e(457))/3)+-parseInt(e(442))/4+-parseInt(e(451))/5+parseInt(e(438))/6+parseInt(e(446))/7*(-parseInt(e(456))/8)+parseInt(e(448))/9*(parseInt(e(455))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(ip,457280);function ip(){const i=["dispatchEvent","getState","state","208qPopju","transition","EMPTY","104522cJeGEZ","1391784sIwmEB","interpolate","load","disposeInternal","2079796lLAYeZ","getAlpha","endTransition","getKey","4298IKBmSR","Tile load sequence violation","282771ekBSZW","transition_","inTransition","3665150DBEIkL","tileCoord","ERROR","key","610EsSTQa","6152dqaagE","3993SQlpWe","release","transitionStarts_"];return ip=function(){return i},ip()}function Pc(i,t){const e=ip();return Pc=function(n,r){return n=n-433,e[n]},Pc(i,t)}class Pu extends Px{constructor(t,e,n){const r=Pc;super(),n=n||{},this[r(452)]=t,this.state=e,this[r(454)]="",this[r(449)]=n[r(435)]===void 0?250:n[r(435)],this[r(459)]={},this.interpolate=!!n[r(439)]}changed(){this[Pc(460)](Ye.CHANGE)}[ei(458)](){const t=ei;this[t(433)]===de[t(453)]&&this.setState(de[t(436)])}[ei(445)](){const t=ei;return this[t(454)]+"/"+this[t(452)]}getTileCoord(){return this[ei(452)]}[ei(461)](){return this[ei(433)]}setState(t){const e=ei;if(this[e(433)]!==de[e(453)]&&this[e(433)]>t)throw new Error(e(447));this.state=t,this.changed()}[ei(440)](){Je()}[ei(443)](t,e){const n=ei;if(!this[n(449)])return 1;let r=this[n(459)][t];if(!r)r=e,this[n(459)][t]=r;else if(r===-1)return 1;const s=e-r+1e3/60;return s>=this[n(449)]?1:rw(s/this.transition_)}[ei(450)](t){const e=ei;return this[e(449)]?this[e(459)][t]!==-1:!1}[ei(444)](t){const e=ei;this[e(449)]&&(this[e(459)][t]=-1)}[ei(441)](){this[ei(458)](),super.disposeInternal()}}const lr=Uu;(function(i,t){const e=Uu,n=i();for(;;)try{if(parseInt(e(465))/1*(parseInt(e(454))/2)+parseInt(e(480))/3+parseInt(e(464))/4+-parseInt(e(472))/5*(parseInt(e(463))/6)+parseInt(e(456))/7+-parseInt(e(461))/8*(-parseInt(e(460))/9)+-parseInt(e(476))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(rp,744867);function rp(){const i=["rgba(0,0,0,0)","1944VkYAsH","4764068luOLgF","2171jaYpfF","handleImageLoad_","src_","bind","EMPTY","setImage","crossOrigin","5155LLThhg","disposeInternal","crossOrigin_","getImage","23326720OySLpi","handleImageError_","image_","state","2355849MptXXj","unlistenImage_","LOADED","unlisten_","fillStyle","678swuUqE","tileLoadFunction_","1539321ioITHN","changed","naturalWidth","ERROR","4314699txSYKA","8opZubP"];return rp=function(){return i},rp()}function Uu(i,t){const e=rp();return Uu=function(n,r){return n=n-453,e[n]},Uu(i,t)}class aB extends Pu{constructor(t,e,n,r,s,a){const o=Uu;super(t,e,a),this[o(474)]=r,this[o(467)]=n,this.key=n,this[o(478)]=new Image,r!==null&&(this[o(478)][o(471)]=r),this[o(483)]=null,this[o(455)]=s}[lr(475)](){return this[lr(478)]}[lr(470)](t){const e=lr;this[e(478)]=t,this[e(479)]=de.LOADED,this.unlistenImage_(),this.changed()}[lr(477)](){const t=lr;this[t(479)]=de.ERROR,this.unlistenImage_(),this[t(478)]=i9(),this.changed()}[lr(466)](){const t=lr,e=this[t(478)];e[t(458)]&&e.naturalHeight?this.state=de[t(482)]:this[t(479)]=de[t(469)],this[t(481)](),this[t(457)]()}load(){const t=lr;this[t(479)]==de[t(459)]&&(this.state=de.IDLE,this[t(478)]=new Image,this[t(474)]!==null&&(this[t(478)][t(471)]=this.crossOrigin_)),this[t(479)]==de.IDLE&&(this.state=de.LOADING,this[t(457)](),this[t(455)](this,this[t(467)]),this[t(483)]=NT(this[t(478)],this[t(466)][t(468)](this),this[t(477)][t(468)](this)))}unlistenImage_(){const t=lr;this.unlisten_&&(this[t(483)](),this[t(483)]=null)}[lr(473)](){const t=lr;this[t(481)](),this[t(478)]=null,super[t(473)]()}}function i9(){const i=lr,t=ln(1,1);return t[i(453)]=i(462),t.fillRect(0,0,1,1),t.canvas}const vs=Nu;(function(i,t){const e=Nu,n=i();for(;;)try{if(parseInt(e(130))/1*(parseInt(e(157))/2)+parseInt(e(137))/3+parseInt(e(127))/4*(parseInt(e(162))/5)+parseInt(e(173))/6*(-parseInt(e(168))/7)+-parseInt(e(174))/8*(-parseInt(e(175))/9)+-parseInt(e(165))/10+parseInt(e(178))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(sp,490037);function sp(){const i=["40328xqUysX","forEach","getTileRangeForExtentAndZ","45fTJnSt","getExtent","interpolate","getTileSize","minY","changed","sourceTiles_","1432623tfxNne","getImage","sourceZ_","EMPTY","LOADED","tile","getState","floor","getZForResolution","getTileCoordExtent","triangulation_","pixelRatio_","wrappedTileCoord_","reproject_","renderEdges_","IDLE","push","offset","load","maxX","6582CrMvNj","number","targetTileGrid_","minX","sourcesListenerKeys_","25vDzfFj","getContext","tileCoord","7432550yIeqYQ","unlistenSources_","sourceTileGrid_","6727154viaGgm","release","state","length","canWrapX","6pHHWRr","1701464fdeyCs","9jaeksl","calculateSourceExtent","gutter_","14361435DLyUPr","canvas_","maxY","CHANGE","ERROR","slice","getResolution"];return sp=function(){return i},sp()}function Nu(i,t){const e=sp();return Nu=function(n,r){return n=n-122,e[n]},Nu(i,t)}class IE extends Pu{constructor(t,e,n,r,s,a,o,l,c,x,u,f){const h=Nu;super(s,de[h(152)],f),this[h(151)]=u!==void 0?u:!1,this[h(148)]=o,this[h(177)]=l,this[h(179)]=null,this[h(167)]=e,this[h(159)]=r,this[h(149)]=a||s,this[h(136)]=[],this[h(161)]=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t[h(131)]():void 0;const A=r[h(146)](this.wrappedTileCoord_),p=this.targetTileGrid_.getExtent();let d=this[h(167)][h(131)]();const g=p?Ei(A,p):A;if(bx(g)===0){this.state=de[h(140)];return}const m=t.getExtent();m&&(d?d=Ei(d,m):d=m);const _=r[h(126)](this[h(149)][0]),I=W3(t,n,g,_);if(!isFinite(I)||I<=0){this[h(170)]=de.EMPTY;return}const y=x!==void 0?x:bI;if(this[h(147)]=new BI(t,n,g,d,I*y,_),this[h(147)].getTriangles().length===0){this[h(170)]=de[h(140)];return}this[h(139)]=e[h(145)](I);let E=this[h(147)][h(176)]();if(d&&(t[h(172)]()?(E[1]=mn(E[1],d[1],d[3]),E[3]=mn(E[3],d[1],d[3])):E=Ei(E,d)),!bx(E))this.state=de[h(140)];else{let b=0,w=0;t[h(172)]()&&(b=lt(m),w=Math[h(144)]((E[0]-m[0])/b)),X2(E[h(125)](),t,!0)[h(128)](v=>{const B=h,S=e[B(129)](v,this[B(139)]);for(let T=S[B(160)];T<=S[B(156)];T++)for(let Q=S[B(134)];Q<=S[B(122)];Q++){const M=c(this[B(139)],T,Q,o);if(M){const D=w*b;this[B(136)][B(153)]({tile:M,offset:D})}}++w}),this[h(136)][h(171)]===0&&(this.state=de[h(140)])}}[vs(138)](){return this[vs(179)]}[vs(150)](){const t=vs,e=[];if(this[t(136)][t(128)](n=>{var a;const r=t,s=n[r(142)];if(s&&s[r(143)]()==de.LOADED){const o=this[r(167)][r(146)](s[r(164)]);o[0]+=n[r(154)],o[2]+=n[r(154)];const l=(a=this.clipExtent_)==null?void 0:a[r(125)]();l&&(l[0]+=n[r(154)],l[2]+=n[r(154)]),e[r(153)]({extent:o,clipExtent:l,image:s[r(138)]()})}}),this.sourceTiles_[t(171)]=0,e[t(171)]===0)this[t(170)]=de[t(124)];else{const n=this.wrappedTileCoord_[0],r=this[t(159)][t(133)](n),s=typeof r===t(158)?r:r[0],a=typeof r===t(158)?r:r[1],o=this.targetTileGrid_[t(126)](n),l=this[t(167)].getResolution(this.sourceZ_),c=this[t(159)][t(146)](this[t(149)]);this[t(179)]=X3(s,a,this[t(148)],l,this.sourceTileGrid_[t(131)](),o,c,this[t(147)],e,this[t(177)],this[t(151)],this[t(132)]),this.state=de.LOADED}this[t(135)]()}[vs(155)](){const t=vs;if(this[t(170)]==de.IDLE){this[t(170)]=de.LOADING,this[t(135)]();let e=0;this.sourcesListenerKeys_=[],this[t(136)][t(128)](({tile:n})=>{const r=t,s=n[r(143)]();if(s==de[r(152)]||s==de.LOADING){e++;const a=yt(n,Ye[r(123)],o=>{const l=r,c=n[l(143)]();(c==de[l(141)]||c==de[l(124)]||c==de[l(140)])&&(Xt(a),e--,e===0&&(this[l(166)](),this[l(150)]()))});this[r(161)].push(a)}}),e===0?setTimeout(this[t(150)].bind(this),0):this[t(136)][t(128)](function({tile:n},r,s){const a=t;n.getState()==de[a(152)]&&n[a(155)]()})}}[vs(166)](){const t=vs;this[t(161)].forEach(Xt),this[t(161)]=null}[vs(169)](){const t=vs;this[t(179)]&&(Tx(this[t(179)][t(163)]("2d")),pc[t(153)](this[t(179)]),this[t(179)]=null),super.release()}}function ap(i,t){var e=op();return ap=function(n,r){n=n-104;var s=e[n];return s},ap(i,t)}function op(){var i=["tileloadend","30xdwbZn","2138206UujjJT","2924336IcpjaO","tileloadstart","6162070FgqQqn","6feZGvI","tileloaderror","585033POWXqh","313408UxxvHu","8zpBmKE","22OnYRpg","13766013cvXMFz","1325305CdaDFH"];return op=function(){return i},op()}var EE=ap;(function(i,t){for(var e=ap,n=i();;)try{var r=parseInt(e(112))/1+-parseInt(e(107))/2+-parseInt(e(105))/3*(-parseInt(e(113))/4)+-parseInt(e(117))/5*(-parseInt(e(110))/6)+-parseInt(e(106))/7*(-parseInt(e(114))/8)+parseInt(e(116))/9+-parseInt(e(109))/10*(parseInt(e(115))/11);if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(op,774047);const yE={TILELOADSTART:EE(108),TILELOADEND:EE(104),TILELOADERROR:EE(111)};function cp(){var i=["maxX","9bRMTJi","44mWCGBj","contains","3701550DtVzyk","minX","243781RLILfA","36ekFWwG","441759vHcfHp","minY","extend","4ecWADC","12289795QYudWQ","15320904hJlzCT","containsXY","maxY","intersects","553990cdvbST","10938356aLJeYB","getHeight"];return cp=function(){return i},cp()}var Hi=Ou;(function(i,t){for(var e=Ou,n=i();;)try{var r=-parseInt(e(355))/1*(-parseInt(e(340))/2)+-parseInt(e(337))/3*(-parseInt(e(351))/4)+-parseInt(e(346))/5*(parseInt(e(336))/6)+-parseInt(e(341))/7+-parseInt(e(342))/8*(-parseInt(e(350))/9)+parseInt(e(353))/10+-parseInt(e(347))/11;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(cp,977744);function Ou(i,t){var e=cp();return Ou=function(n,r){n=n-336;var s=e[n];return s},Ou(i,t)}class bE{constructor(t,e,n,r){var s=Ou;this[s(354)]=t,this[s(349)]=e,this[s(338)]=n,this[s(344)]=r}[Hi(352)](t){return this.containsXY(t[1],t[2])}containsTileRange(t){var e=Hi;return this[e(354)]<=t[e(354)]&&t[e(349)]<=this[e(349)]&&this[e(338)]<=t[e(338)]&&t[e(344)]<=this.maxY}[Hi(343)](t,e){var n=Hi;return this[n(354)]<=t&&t<=this.maxX&&this[n(338)]<=e&&e<=this.maxY}equals(t){var e=Hi;return this[e(354)]==t.minX&&this[e(338)]==t.minY&&this[e(349)]==t.maxX&&this[e(344)]==t[e(344)]}[Hi(339)](t){var e=Hi;t[e(354)]<this[e(354)]&&(this[e(354)]=t[e(354)]),t[e(349)]>this[e(349)]&&(this[e(349)]=t[e(349)]),t[e(338)]<this[e(338)]&&(this[e(338)]=t.minY),t[e(344)]>this[e(344)]&&(this[e(344)]=t[e(344)])}[Hi(348)](){var t=Hi;return this[t(344)]-this[t(338)]+1}getSize(){var t=Hi;return[this.getWidth(),this[t(348)]()]}getWidth(){var t=Hi;return this[t(349)]-this[t(354)]+1}[Hi(345)](t){var e=Hi;return this[e(354)]<=t[e(349)]&&this[e(349)]>=t.minX&&this.minY<=t.maxY&&this[e(344)]>=t[e(338)]}}function Uc(i,t,e,n,r){var s=Hi;return r!==void 0?(r[s(354)]=i,r.maxX=t,r[s(338)]=e,r.maxY=n,r):new bE(i,t,e,n)}(function(i,t){const e=up,n=i();for(;;)try{if(-parseInt(e(160))/1+parseInt(e(145))/2+parseInt(e(153))/3+parseInt(e(143))/4*(-parseInt(e(150))/5)+-parseInt(e(144))/6*(parseInt(e(149))/7)+-parseInt(e(158))/8*(parseInt(e(142))/9)+parseInt(e(151))/10*(parseInt(e(148))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(xp,492020);function lp(i,t,e,n){return n!==void 0?(n[0]=i,n[1]=t,n[2]=e,n):[i,t,e]}function r9(i,t,e){return i+"/"+t+"/"+e}function xp(){const i=["map","split","1156264HMXrSW","getFullTileRange","247300qRbgtl","9yOtkVF","2489312fYXaYm","3041778mEgRjz","1622424POvccW","containsXY","getMinZoom","260700lNCJyX","7scCAqQ","5zmpDth","410wkfVyL","lastIndexOf","690696NiujwG","substring","length"];return xp=function(){return i},xp()}function up(i,t){const e=xp();return up=function(n,r){return n=n-142,e[n]},up(i,t)}function s9(i){return a9(i[0],i[1],i[2])}function a9(i,t,e){return(t<<i)+e}function o9(i,t){const e=up,n=i[0],r=i[1],s=i[2];if(t[e(147)]()>n||n>t.getMaxZoom())return!1;const a=t[e(159)](n);return a?a[e(146)](r,s):!0}function fp(){const i=["getTileCoordExtent","floor","tileSizes","minX","origins","forEachTileCoordParentTileRange","getResolutions","Number of `tileSizes` and `resolutions` must be equal","maxX","getMinZoom","getTileRangeForTileCoordAndZ","Either `origin` or `origins` must be configured, never both","getTileCoordForCoordAndResolution","extent_","getTileSize","minY","1152UmAksC","tmpExtent_","tileSize","getTileRangeForExtentAndZ","sizes","getTileCoordForXYAndResolution_","getTileCoordResolution","tileSize_","127537GFMorv","847377biKfqZ","282020BMrQgX","minZoom","pow","fullTileRanges_","length","origin","tileSizes_","getResolution","maxZoom","`resolutions` must be sorted in descending order","40vslnVI","getTileCoordForCoordAndZ","getTileCoordForXYAndZ_","getTileCoordCenter","getExtent","420312eALhLH","forEachTileCoord","getFullTileRange","getOrigin","Either `tileSize` or `tileSizes` must be configured, never both","min","2279436OFqBIQ","max","calculateTileRanges_","getZForResolution","15EldbWQ","zoomFactor_","origin_","tmpSize_","maxY","resolutions_","1850105VFvfWJ","origins_","483pGxMoi"];return fp=function(){return i},fp()}const At=Gu;(function(i,t){const e=Gu,n=i();for(;;)try{if(-parseInt(e(397))/1+-parseInt(e(354))/2+parseInt(e(364))/3*(parseInt(e(399))/4)+-parseInt(e(370))/5+parseInt(e(360))/6+-parseInt(e(372))/7*(parseInt(e(389))/8)+-parseInt(e(398))/9*(-parseInt(e(349))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(fp,391393);const Nc=[0,0,0],$a=5;function Gu(i,t){const e=fp();return Gu=function(n,r){return n=n-341,e[n]},Gu(i,t)}class hp{constructor(t){const e=Gu;this[e(400)]=t[e(400)]!==void 0?t[e(400)]:0,this[e(369)]=t.resolutions,Mt(UT(this[e(369)],(s,a)=>a-s,!0),e(348));let n;if(!t[e(377)]){for(let s=0,a=this[e(369)].length-1;s<a;++s)if(!n)n=this[e(369)][s]/this.resolutions_[s+1];else if(this.resolutions_[s]/this[e(369)][s+1]!==n){n=void 0;break}}this[e(365)]=n,this[e(347)]=this[e(369)][e(343)]-1,this[e(366)]=t[e(344)]!==void 0?t[e(344)]:null,this.origins_=null,t.origins!==void 0&&(this[e(371)]=t[e(377)],Mt(this[e(371)].length==this[e(369)][e(343)],"Number of `origins` and `resolutions` must be equal"));const r=t.extent;r!==void 0&&!this[e(366)]&&!this[e(371)]&&(this[e(366)]=Nr(r)),Mt(!this.origin_&&this[e(371)]||this[e(366)]&&!this[e(371)],e(384)),this[e(345)]=null,t[e(375)]!==void 0&&(this[e(345)]=t[e(375)],Mt(this[e(345)][e(343)]==this[e(369)].length,e(380))),this[e(396)]=t[e(391)]!==void 0?t[e(391)]:this[e(345)]?null:kI,Mt(!this[e(396)]&&this[e(345)]||this.tileSize_&&!this.tileSizes_,e(358)),this.extent_=r!==void 0?r:null,this[e(342)]=null,this[e(367)]=[0,0],this[e(390)]=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t[e(393)].map((s,a)=>{const o=e,l=new bE(Math[o(359)](0,s[0]),Math[o(361)](s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(r){const c=this[o(392)](r,a);l[o(376)]=Math.max(c[o(376)],l.minX),l[o(381)]=Math[o(359)](c[o(381)],l[o(381)]),l[o(388)]=Math[o(361)](c.minY,l[o(388)]),l[o(368)]=Math[o(359)](c.maxY,l[o(368)])}return l}):r&&this.calculateTileRanges_(r)}[At(355)](t,e,n){const r=At,s=this[r(392)](t,e);for(let a=s[r(376)],o=s.maxX;a<=o;++a)for(let l=s.minY,c=s[r(368)];l<=c;++l)n([e,a,l])}[At(378)](t,e,n,r){const s=At;let a,o,l,c=null,x=t[0]-1;for(this[s(365)]===2?(o=t[1],l=t[2]):c=this[s(373)](t,r);x>=this[s(400)];){if(o!==void 0&&l!==void 0?(o=Math[s(374)](o/2),l=Math[s(374)](l/2),a=Uc(o,o,l,l,n)):a=this[s(392)](c,x,n),e(x,a))return!0;--x}return!1}[At(353)](){return this[At(386)]}getMaxZoom(){return this.maxZoom}[At(382)](){return this[At(400)]}getOrigin(t){const e=At;return this[e(366)]?this[e(366)]:this[e(371)][t]}[At(346)](t){return this.resolutions_[t]}[At(379)](){return this[At(369)]}getTileCoordChildTileRange(t,e,n){const r=At;if(t[0]<this[r(347)]){if(this[r(365)]===2){const a=t[1]*2,o=t[2]*2;return Uc(a,a+1,o,o+1,e)}const s=this[r(373)](t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null}[At(383)](t,e,n){const r=At;if(e>this[r(347)]||e<this[r(400)])return null;const s=t[0],a=t[1],o=t[2];if(e===s)return Uc(a,o,a,o,n);if(this.zoomFactor_){const c=Math[r(341)](this[r(365)],e-s),x=Math[r(374)](a*c),u=Math[r(374)](o*c);if(e<s)return Uc(x,x,u,u,n);const f=Math[r(374)](c*(a+1))-1,h=Math.floor(c*(o+1))-1;return Uc(x,f,u,h,n)}const l=this[r(373)](t,this.tmpExtent_);return this[r(392)](l,e,n)}[At(392)](t,e,n){const r=At;this[r(351)](t[0],t[3],e,!1,Nc);const s=Nc[1],a=Nc[2];this[r(351)](t[2],t[1],e,!0,Nc);const o=Nc[1],l=Nc[2];return Uc(s,o,a,l,n)}[At(352)](t){const e=At,n=this[e(357)](t[0]),r=this[e(346)](t[0]),s=fi(this[e(387)](t[0]),this[e(367)]);return[n[0]+(t[1]+.5)*s[0]*r,n[1]-(t[2]+.5)*s[1]*r]}[At(373)](t,e){const n=At,r=this.getOrigin(t[0]),s=this[n(346)](t[0]),a=fi(this.getTileSize(t[0]),this[n(367)]),o=r[0]+t[1]*a[0]*s,l=r[1]-(t[2]+1)*a[1]*s,c=o+a[0]*s,x=l+a[1]*s;return Hs(o,l,c,x,e)}[At(385)](t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)}[At(394)](t,e,n,r,s){const a=At,o=this[a(363)](n),l=n/this[a(346)](o),c=this[a(357)](o),x=fi(this[a(387)](o),this[a(367)]);let u=l*(t-c[0])/n/x[0],f=l*(c[1]-e)/n/x[1];return r?(u=Fa(u,$a)-1,f=Fa(f,$a)-1):(u=rA(u,$a),f=rA(f,$a)),lp(o,u,f,s)}[At(351)](t,e,n,r,s){const a=At,o=this[a(357)](n),l=this[a(346)](n),c=fi(this[a(387)](n),this.tmpSize_);let x=(t-o[0])/l/c[0],u=(o[1]-e)/l/c[1];return r?(x=Fa(x,$a)-1,u=Fa(u,$a)-1):(x=rA(x,$a),u=rA(u,$a)),lp(n,x,u,s)}[At(350)](t,e,n){return this[At(351)](t[0],t[1],e,!1,n)}[At(395)](t){return this[At(369)][t[0]]}[At(387)](t){const e=At;return this[e(396)]?this[e(396)]:this[e(345)][t]}[At(356)](t){const e=At;return this[e(342)]?this[e(342)][t]:this.extent_?this[e(392)](this[e(386)],t):null}getZForResolution(t,e){const n=At,r=CA(this[n(369)],t,e||0);return mn(r,this[n(400)],this.maxZoom)}tileCoordIntersectsViewport(t,e){const n=At;return pw(e,0,e.length,2,this[n(373)](t))}[At(362)](t){const e=At,n=this.resolutions_.length,r=new Array(n);for(let s=this[e(400)];s<n;++s)r[s]=this.getTileRangeForExtentAndZ(t,s);this[e(342)]=r}}(function(i,t){const e=ia,n=i();for(;;)try{if(-parseInt(e(156))/1*(-parseInt(e(157))/2)+-parseInt(e(153))/3+parseInt(e(173))/4+parseInt(e(162))/5+-parseInt(e(161))/6*(parseInt(e(158))/7)+parseInt(e(155))/8+parseInt(e(164))/9===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ap,302415);function Ap(){const i=["EPSG:3857","max","getTileCoordForCoordAndZ","maxZoom","1755128ZVGFOQ","extent","tileSize","1405362LRdcLS","getTileCoordCenter","738528oGJYyq","1KcpQDp","541226eigJzk","46578DQcmCn","getExtent","maxResolution","162CgCZhj","412780mTRQdG","getMetersPerUnit","596340uLKlDd","setDefaultTileGrid","degrees","minZoom","top-left"];return Ap=function(){return i},Ap()}function oB(i){const t=ia;let e=i.getDefaultTileGrid();return!e&&(e=x9(i),i[t(165)](e)),e}function c9(i,t,e){const n=ia,r=t[0],s=i[n(154)](t),a=dp(e);if(!No(a,s)){const o=lt(a),l=Math.ceil((a[0]-s[0])/o);return s[0]+=o*l,i[n(171)](s,r)}return t}function ia(i,t){const e=Ap();return ia=function(n,r){return n=n-152,e[n]},ia(i,t)}function l9(i,t,e,n){n=n!==void 0?n:ia(168);const s=cB(i,t,e);return new hp({extent:i,origin:tT(i,n),resolutions:s,tileSize:e})}function CE(i){const t=ia,e=i||{},n=e[t(174)]||Wt(t(169))[t(159)](),r={extent:n,minZoom:e[t(167)],tileSize:e[t(152)],resolutions:cB(n,e[t(172)],e[t(152)],e[t(160)])};return new hp(r)}function cB(i,t,e,n){const r=ia;t=t!==void 0?t:ew,e=fi(e!==void 0?e:kI);const s=rn(i),a=lt(i);n=n>0?n:Math[r(170)](a/e[0],s/e[1]);const o=t+1,l=new Array(o);for(let c=0;c<o;++c)l[c]=n/Math.pow(2,c);return l}function x9(i,t,e,n){const r=dp(i);return l9(r,t,e,n)}function dp(i){const t=ia;i=Wt(i);let e=i[t(159)]();if(!e){const n=180*Ta[t(166)]/i[t(163)]();e=Hs(-n,-n,n,n)}return e}const ti=zu;(function(i,t){const e=zu,n=i();for(;;)try{if(-parseInt(e(453))/1+-parseInt(e(454))/2+parseInt(e(448))/3+parseInt(e(446))/4+parseInt(e(465))/5+parseInt(e(473))/6+parseInt(e(444))/7*(-parseInt(e(452))/8)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(pp,504023);class lB extends gc{constructor(t){const e=zu;super({attributions:t[e(445)],attributionsCollapsible:t[e(440)],projection:t[e(461)],state:t.state,wrapX:t[e(457)],interpolate:t[e(443)]}),this.on,this.once,this.un,this[e(463)]=t.tilePixelRatio!==void 0?t[e(474)]:1,this[e(472)]=t.tileGrid!==void 0?t[e(472)]:null;const n=[256,256];this.tileGrid&&fi(this[e(472)][e(470)](this[e(472)][e(456)]()),n),this[e(467)]=[0,0],this[e(462)]=t[e(439)]||tt(this),this[e(455)]={transition:t[e(459)],interpolate:t[e(443)]},this[e(437)]=t[e(437)]?t[e(437)]:0}[ti(441)](t){return 0}[ti(464)](){return this.key_}setKey(t){const e=ti;this[e(462)]!==t&&(this[e(462)]=t,this[e(460)]())}[ti(438)](t){const e=ti,n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n[e(438)]():null}[ti(442)](t,e,n,r,s){return Je()}[ti(449)](){return this[ti(472)]}getTileGridForProjection(t){const e=ti;return this[e(472)]?this[e(472)]:oB(t)}getTilePixelRatio(t){return this[ti(463)]}[ti(450)](t,e,n){const r=ti,s=this[r(436)](n),a=this[r(447)](e),o=fi(s[r(470)](t),this[r(467)]);return a==1?o:vT(o,a,this[r(467)])}[ti(469)](t,e){const n=ti,r=e!==void 0?e:this[n(458)](),s=e!==void 0?this[n(436)](r):this[n(472)]||this.getTileGridForProjection(r);return this[n(468)]()&&r[n(466)]()&&(t=c9(s,t,r)),o9(t,s)?t:null}[ti(471)](){}[ti(451)](){const t=ti;this.clear(),super[t(451)]()}}class u9 extends yr{constructor(t,e){super(t),this.tile=e}}function pp(){const i=["getTileSize","clear","tileGrid","5394828NDnLXB","tilePixelRatio","getTileGridForProjection","zDirection","getResolutions","key","attributionsCollapsible","getGutterForProjection","getTile","interpolate","619843xvwZgN","attributions","3615968FYFBnS","getTilePixelRatio","187980SuaYhv","getTileGrid","getTilePixelSize","refresh","80yVsFxR","263500sPsVni","937020iGKMOm","tileOptions","getMinZoom","wrapX","getProjection","transition","changed","projection","key_","tilePixelRatio_","getKey","1278665tfEroX","isGlobal","tmpSize","getWrapX","getTileCoordForTileUrlFunction"];return pp=function(){return i},pp()}function zu(i,t){const e=pp();return zu=function(n,r){return n=n-436,e[n]},zu(i,t)}(function(i,t){const e=Vu,n=i();for(;;)try{if(-parseInt(e(369))/1*(parseInt(e(374))/2)+parseInt(e(364))/3+parseInt(e(367))/4+-parseInt(e(370))/5+-parseInt(e(381))/6*(parseInt(e(373))/7)+parseInt(e(371))/8*(-parseInt(e(375))/9)+parseInt(e(380))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(gp,213107);function gp(){const i=["forEach","push","11220820ZhAOKo","6FsIHra","join","70944mPRhKg","If the URL template has a {-y} placeholder, the grid extent must be known","fromCharCode","1144760WCmnom","exec","14982zBRWEd","354665vRWZAX","1026616BLRbPS","toString","2403821WnUDGa","56dlgZmZ","27xhOPhn","replace","charCodeAt"];return gp=function(){return i},gp()}const f9=/\{z\}/g,h9=/\{x\}/g,A9=/\{y\}/g,d9=/\{-y\}/g;function p9(i,t,e,n,r){const s=Vu;return i[s(376)](f9,t[s(372)]())[s(376)](h9,e[s(372)]())[s(376)](A9,n[s(372)]())[s(376)](d9,function(){const a=s;if(r===void 0)throw new Error(a(365));return(r-n)[a(372)]()})}function Vu(i,t){const e=gp();return Vu=function(n,r){return n=n-363,e[n]},Vu(i,t)}function xB(i){const t=Vu,e=[];let n=/\{([a-z])-([a-z])\}/.exec(i);if(n){const r=n[1].charCodeAt(0),s=n[2][t(377)](0);let a;for(a=r;a<=s;++a)e[t(379)](i.replace(n[0],String[t(366)](a)));return e}if(n=/\{(\d+)-(\d+)\}/[t(368)](i),n){const r=parseInt(n[2],10);for(let s=parseInt(n[1],10);s<=r;s++)e.push(i.replace(n[0],s[t(372)]()));return e}return e.push(i),e}(function(i,t){const e=Oc,n=i();for(;;)try{if(parseInt(e(184))/1*(parseInt(e(175))/2)+parseInt(e(181))/3+parseInt(e(183))/4+-parseInt(e(182))/5+parseInt(e(174))/6+parseInt(e(180))/7*(-parseInt(e(179))/8)+-parseInt(e(176))/9===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(mp,686852);function Oc(i,t){const e=mp();return Oc=function(n,r){return n=n-174,e[n]},Oc(i,t)}function g9(i,t){return function(e,n,r){const s=Oc;if(!e)return;let a;const o=e[0];if(t){const l=t.getFullTileRange(o);l&&(a=l[s(177)]()-1)}return p9(i,o,e[1],e[2],a)}}function uB(i,t){const e=Oc,n=i[e(178)],r=new Array(n);for(let s=0;s<n;++s)r[s]=g9(i[s],t);return m9(r)}function m9(i){const t=Oc;return i[t(178)]===1?i[0]:function(e,n,r){const s=t;if(!e)return;const a=s9(e),o=ec(a,i[s(178)]);return i[o](e,n,r)}}function mp(){const i=["4688Kpmanx","1211gHQMkW","1617267JQxwVh","1627105vcGFgt","2193812PjAebR","607154yXyEYY","1610298OqKWvR","2ZUDrFC","7644852OHuFmX","getHeight","length"];return mp=function(){return i},mp()}const hi=Hu;(function(i,t){const e=Hu,n=i();for(;;)try{if(-parseInt(e(406))/1+parseInt(e(365))/2+parseInt(e(377))/3*(parseInt(e(386))/4)+parseInt(e(381))/5+-parseInt(e(372))/6*(-parseInt(e(382))/7)+-parseInt(e(390))/8+-parseInt(e(396))/9===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(_p,491036);function _p(){const i=["attributions","wrapX","zDirection","TILELOADSTART","TILELOADEND","prototype","2659770ArFTsp","tileUrlFunction","getState","setTileLoadFunction","getUrls","6NZAoFQ","generateTileUrlFunction_","tileLoadFunction","getTileUrlFunction","3099735FWUYzl","7iJLndM","bind","interpolate","handleTileChange","1851644wPJdUK","tilePixelRatio","tileGrid","transition","655688rwePBe","tileLoadingKeys_","setKey","state","setUrl","getTileLoadFunction","11623680TbNHTE","TILELOADERROR","ERROR","join","changed","undefined","urls","attributionsCollapsible","cacheSize","url","217118xzLKSO","LOADING","getPrototypeOf","projection","setUrls","target","185142pramuT"];return _p=function(){return i},_p()}class Ip extends lB{constructor(t){const e=Hu;super({attributions:t[e(366)],cacheSize:t[e(404)],projection:t[e(362)],state:t[e(393)],tileGrid:t.tileGrid,tilePixelRatio:t[e(387)],wrapX:t[e(367)],transition:t[e(389)],interpolate:t[e(384)],key:t.key,attributionsCollapsible:t[e(403)],zDirection:t[e(368)]}),this.generateTileUrlFunction_=this[e(373)]===Ip[e(371)].tileUrlFunction,this.tileLoadFunction=t[e(379)],t[e(373)]&&(this[e(373)]=t[e(373)]),this.urls=null,t[e(402)]?this[e(363)](t[e(402)]):t[e(405)]&&this[e(394)](t[e(405)]),this[e(391)]={}}[hi(395)](){return this[hi(379)]}[hi(380)](){const t=hi;return Object[t(361)](this).tileUrlFunction===this[t(373)]?this[t(373)][t(383)](this):this[t(373)]}[hi(376)](){return this[hi(402)]}[hi(385)](t){const e=hi,n=t[e(364)],r=tt(n),s=n[e(374)]();let a;s==de[e(360)]?(this[e(391)][r]=!0,a=yE[e(369)]):r in this[e(391)]&&(delete this[e(391)][r],a=s==de[e(398)]?yE[e(397)]:s==de.LOADED?yE[e(370)]:void 0),a!=null&&this.dispatchEvent(new u9(a,n))}[hi(375)](t){const e=hi;this[e(379)]=t,this[e(400)]()}setTileUrlFunction(t,e){const n=hi;this[n(373)]=t,typeof e!==n(401)?this[n(392)](e):this[n(400)]()}[hi(394)](t){const e=hi,n=xB(t);this.urls=n,this[e(363)](n)}[hi(363)](t){const e=hi;this.urls=t;const n=t[e(399)](`
`);this[e(378)]?this.setTileUrlFunction(uB(t,this[e(388)]),n):this[e(392)](n)}[hi(373)](t,e,n){}}function Hu(i,t){const e=_p();return Hu=function(n,r){return n=n-360,e[n]},Hu(i,t)}const qi=qu;(function(i,t){const e=qu,n=i();for(;;)try{if(parseInt(e(400))/1*(parseInt(e(378))/2)+parseInt(e(402))/3+-parseInt(e(421))/4+-parseInt(e(377))/5*(-parseInt(e(398))/6)+parseInt(e(403))/7*(parseInt(e(376))/8)+parseInt(e(373))/9*(-parseInt(e(401))/10)+-parseInt(e(382))/11*(parseInt(e(385))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ep,908494);function qu(i,t){const e=Ep();return qu=function(n,r){return n=n-369,e[n]},qu(i,t)}class _9 extends Ip{constructor(t){const e=qu;super({attributions:t[e(387)],cacheSize:t[e(413)],projection:t[e(418)],state:t[e(384)],tileGrid:t[e(392)],tileLoadFunction:t.tileLoadFunction?t[e(389)]:I9,tilePixelRatio:t[e(417)],tileUrlFunction:t[e(405)],url:t[e(414)],urls:t.urls,wrapX:t[e(381)],transition:t[e(379)],interpolate:t[e(372)]!==void 0?t[e(372)]:!0,key:t[e(419)],attributionsCollapsible:t[e(408)],zDirection:t[e(369)]}),this.crossOrigin=t[e(393)]!==void 0?t[e(393)]:null,this.tileClass=t[e(388)]!==void 0?t[e(388)]:aB,this[e(394)]={},this.reprojectionErrorThreshold_=t[e(415)],this[e(370)]=!1}[qi(416)](t){const e=qi;return this[e(404)]()&&t&&!Vo(this[e(404)](),t)?0:this[e(375)]()}getGutter(){return 0}[qi(396)](){const t=qi;let e=super[t(396)]();return!this[t(406)]()&&(e+=t(391)),e}[qi(399)](t){const e=qi,n=this.getProjection();if(this[e(392)]&&(!n||Vo(n,t)))return this[e(392)];const r=tt(t);return!(r in this.tileGridForProjection)&&(this[e(394)][r]=oB(t)),this.tileGridForProjection[r]}createTile_(t,e,n,r,s,a){const o=qi,l=[t,e,n],c=this[o(410)](l,s),x=c?this.tileUrlFunction(c,r,s):void 0,u=new this[o(388)](l,x!==void 0?de[o(395)]:de[o(371)],x!==void 0?x:"",this[o(393)],this[o(389)],this[o(411)]);return u[o(419)]=a,u[o(383)](Ye.CHANGE,this[o(412)][o(407)](this)),u}getTile(t,e,n,r,s){const a=qi,o=this.getProjection();if(!o||!s||Vo(o,s))return this[a(409)](t,e,n,r,o||s);const l=[t,e,n],c=this[a(396)](),x=this[a(399)](o),u=this.getTileGridForProjection(s),f=this[a(410)](l,s),h=new IE(o,x,s,u,l,f,this[a(380)](r),this[a(375)](),(A,p,d,g)=>this[a(409)](A,p,d,g,o),this[a(374)],this[a(370)],this[a(411)]);return h.key=c,h}[qi(409)](t,e,n,r,s){const a=qi,o=this[a(396)]();return this[a(386)](t,e,n,r,s,o)}[qi(420)](t){const e=qi;this.renderReprojectionEdges_!=t&&(this[e(370)]=t,this[e(397)]())}setTileGridForProjection(t,e){const n=qi,r=Wt(t);if(r){const s=tt(r);!(s in this[n(394)])&&(this[n(394)][s]=e)}}}function Ep(){const i=["getKey","changed","6WkpbYi","getTileGridForProjection","1Nsyxna","5336270PxARlc","4663593bDNxxg","79793ZDrXvG","getProjection","tileUrlFunction","getInterpolate","bind","attributionsCollapsible","getTileInternal","getTileCoordForTileUrlFunction","tileOptions","handleTileChange","cacheSize","url","reprojectionErrorThreshold","getGutterForProjection","tilePixelRatio","projection","key","setRenderReprojectionEdges","6155020DQdnFm","zDirection","renderReprojectionEdges_","EMPTY","interpolate","27viMaZf","reprojectionErrorThreshold_","getGutter","568pisJtw","4936565dscODG","3401768bHkEYZ","transition","getTilePixelRatio","wrapX","480139QqWuUX","addEventListener","state","276afqpuB","createTile_","attributions","tileClass","tileLoadFunction","getImage",":disable-interpolation","tileGrid","crossOrigin","tileGridForProjection","IDLE"];return Ep=function(){return i},Ep()}function I9(i,t){const e=qi;i[e(390)]().src=t}const Mn=Yu;(function(i,t){const e=Yu,n=i();for(;;)try{if(parseInt(e(238))/1*(-parseInt(e(240))/2)+parseInt(e(209))/3*(parseInt(e(248))/4)+-parseInt(e(226))/5*(parseInt(e(213))/6)+-parseInt(e(214))/7*(-parseInt(e(230))/8)+-parseInt(e(218))/9+parseInt(e(222))/10+parseInt(e(235))/11*(parseInt(e(228))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(yp,871107);function yp(){const i=["geometryChangeKey_","1528046zDZBAR","getStyleFunction","getProperties","setGeometry","set","function","style_","isArray","5690908bjByGY","handleGeometryChanged_","get","id_","3qzJKZM","once","clone","CHANGE","205452VBOqkl","7bPqgGV","removeChangeListener","setId","addChangeListener","6002415bGqUta","getGeometryName","changed","getZIndex","1946720zIsLGn","geometryName_","setGeometryName","hasProperties","155VYYXDv","handleGeometryChange_","36uWXptj","Expected an `ol/style/Style` or an array of `ol/style/Style.js`","4571984XRlIZs","styleFunction_","geometry","setProperties","getStyle","7108541VnVLGV","setStyle","getGeometry","2kNWrWJ"];return yp=function(){return i},yp()}class Gc extends ps{constructor(t){const e=Yu;if(super(),this.on,this[e(210)],this.un,this[e(251)]=void 0,this[e(223)]=e(232),this[e(246)]=null,this[e(231)]=void 0,this.geometryChangeKey_=null,this[e(217)](this[e(223)],this[e(249)]),t)if(typeof t.getSimplifiedGeometry===e(245)){const n=t;this[e(243)](n)}else{const n=t;this[e(233)](n)}}[Mn(211)](){const t=Mn,e=new Gc(this[t(225)]()?this[t(242)]():null);e[t(224)](this[t(219)]());const n=this[t(237)]();n&&e[t(243)](n[t(211)]());const r=this[t(234)]();return r&&e[t(236)](r),e}getGeometry(){const t=Mn;return this[t(250)](this[t(223)])}getId(){return this[Mn(251)]}getGeometryName(){return this[Mn(223)]}[Mn(234)](){return this[Mn(246)]}[Mn(241)](){return this[Mn(231)]}[Mn(227)](){this[Mn(220)]()}[Mn(249)](){const t=Mn;this[t(239)]&&(Xt(this[t(239)]),this.geometryChangeKey_=null);const e=this[t(237)]();e&&(this.geometryChangeKey_=yt(e,Ye[t(212)],this.handleGeometryChange_,this)),this[t(220)]()}[Mn(243)](t){const e=Mn;this[e(244)](this[e(223)],t)}[Mn(236)](t){const e=Mn;this[e(246)]=t,this.styleFunction_=t?E9(t):void 0,this[e(220)]()}[Mn(216)](t){this.id_=t,this.changed()}[Mn(224)](t){const e=Mn;this[e(215)](this[e(223)],this.handleGeometryChanged_),this[e(223)]=t,this[e(217)](this[e(223)],this[e(249)]),this[e(249)]()}}function Yu(i,t){const e=yp();return Yu=function(n,r){return n=n-209,e[n]},Yu(i,t)}function E9(i){const t=Mn;if(typeof i=="function")return i;let e;return Array[t(247)](i)?e=i:(Mt(typeof i[t(221)]===t(245),t(229)),e=[i]),function(){return e}}function bp(i,t){var e=Cp();return bp=function(n,r){n=n-402;var s=e[n];return s},bp(i,t)}function Cp(){var i=["10qgusEa","187528IVHjZQ","6KrZmfG","239654kPGlxK","122740eBNrtJ","196947atJCyx","77545NXzQMZ","add","5549995UJuzux","786723gZwncj","108TeVblT","72vhYrFU"];return Cp=function(){return i},Cp()}var y9=bp;(function(i,t){for(var e=bp,n=i();;)try{var r=parseInt(e(402))/1+-parseInt(e(412))/2+-parseInt(e(411))/3*(parseInt(e(413))/4)+parseInt(e(403))/5*(-parseInt(e(407))/6)+parseInt(e(406))/7+-parseInt(e(410))/8*(parseInt(e(408))/9)+parseInt(e(409))/10*(parseInt(e(405))/11);if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Cp,165994);const Yi={ADD:y9(404),REMOVE:"remove"},tn=vp;function vp(i,t){const e=wp();return vp=function(n,r){return n=n-331,e[n]},vp(i,t)}(function(i,t){const e=vp,n=i();for(;;)try{if(-parseInt(e(334))/1*(-parseInt(e(350))/2)+-parseInt(e(366))/3+parseInt(e(348))/4*(parseInt(e(357))/5)+parseInt(e(358))/6*(parseInt(e(343))/7)+-parseInt(e(367))/8*(parseInt(e(331))/9)+-parseInt(e(365))/10+-parseInt(e(352))/11*(-parseInt(e(345))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(wp,647573);function wp(){const i=["LENGTH","11uNqLCR","setAt","element","push","remove","61195wNhQhQ","99966fATmTu","dispatchEvent","Duplicate item added to a unique collection","array_","assertUnique_","updateLength_","length","3711380yxRzqX","1854087RXyCyP","312noDwgp","splice","211536jDnmye","getLength","forEach","102451bHGtTJ","Index out of bounds: ","item","removeAt","get","pop","unique","ADD","insertAt","427tlLsqU","clear","8202072tacvLx","set","unique_","212ShUHZt","REMOVE","4QqiKpw"];return wp=function(){return i},wp()}const fB={LENGTH:tn(364)};class Bp extends yr{constructor(t,e,n){const r=tn;super(t),this[r(354)]=e,this.index=n}}class ws extends ps{constructor(t,e){const n=tn;if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e[n(340)],this[n(361)]=t||[],this[n(347)])for(let r=0,s=this[n(361)][n(364)];r<s;++r)this.assertUnique_(this[n(361)][r],r);this[n(363)]()}[tn(344)](){const t=tn;for(;this.getLength()>0;)this[t(339)]()}extend(t){const e=tn;for(let n=0,r=t.length;n<r;++n)this[e(355)](t[n]);return this}[tn(333)](t){const e=tn,n=this[e(361)];for(let r=0,s=n.length;r<s;++r)t(n[r],r,n)}getArray(){return this.array_}[tn(336)](t){return this[tn(361)][t]}[tn(332)](){const t=tn;return this[t(338)](fB[t(351)])}[tn(342)](t,e){const n=tn;if(t<0||t>this.getLength())throw new Error(n(335)+t);this[n(347)]&&this[n(362)](e),this[n(361)][n(368)](t,0,e),this[n(363)](),this[n(359)](new Bp(Yi[n(341)],e,t))}[tn(339)](){return this[tn(337)](this.getLength()-1)}[tn(355)](t){const e=tn;this[e(347)]&&this[e(362)](t);const n=this[e(332)]();return this.insertAt(n,t),this.getLength()}[tn(356)](t){const e=tn,n=this[e(361)];for(let r=0,s=n[e(364)];r<s;++r)if(n[r]===t)return this[e(337)](r)}[tn(337)](t){const e=tn;if(t<0||t>=this[e(332)]())return;const n=this.array_[t];return this[e(361)].splice(t,1),this[e(363)](),this[e(359)](new Bp(Yi.REMOVE,n,t)),n}[tn(353)](t,e){const n=tn,r=this.getLength();if(t>=r){this[n(342)](t,e);return}if(t<0)throw new Error(n(335)+t);this[n(347)]&&this[n(362)](e,t);const s=this.array_[t];this.array_[t]=e,this[n(359)](new Bp(Yi[n(349)],s,t)),this[n(359)](new Bp(Yi[n(341)],e,t))}updateLength_(){const t=tn;this[t(346)](fB[t(351)],this[t(361)][t(364)])}[tn(362)](t,e){const n=tn;for(let r=0,s=this[n(361)][n(364)];r<s;++r)if(this.array_[r]===t&&r!==e)throw new Error(n(360))}}const Rn=Wu;(function(i,t){const e=Wu,n=i();for(;;)try{if(-parseInt(e(205))/1*(-parseInt(e(176))/2)+parseInt(e(193))/3*(parseInt(e(207))/4)+parseInt(e(206))/5*(parseInt(e(191))/6)+parseInt(e(190))/7*(parseInt(e(194))/8)+-parseInt(e(197))/9+-parseInt(e(181))/10+-parseInt(e(177))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Sp,185936);function Wu(i,t){const e=Sp();return Wu=function(n,r){return n=n-175,e[n]},Wu(i,t)}class hB{constructor(t){const e=Wu;this[e(180)]=new vw(t),this.items_={}}[Rn(196)](t,e){const n=Rn,r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this[n(180)][n(196)](r),this[n(208)][tt(e)]=r}[Rn(182)](t,e){const n=Rn,r=new Array(e[n(192)]);for(let s=0,a=e[n(192)];s<a;s++){const o=t[s],l=e[s],c={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:l};r[s]=c,this.items_[tt(l)]=c}this[n(180)][n(182)](r)}[Rn(184)](t){const e=Rn,n=tt(t),r=this[e(208)][n];return delete this[e(208)][n],this.rbush_[e(184)](r)!==null}update(t,e){const n=Rn,r=this[n(208)][tt(e)],s=[r[n(175)],r[n(187)],r[n(186)],r[n(201)]];!qs(s,t)&&(this[n(184)](e),this[n(196)](t,e))}getAll(){const t=Rn;return this[t(180)][t(200)]()[t(188)](function(n){return n[t(199)]})}[Rn(198)](t){const e=Rn,n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_[e(202)](n)[e(188)](function(s){return s[e(199)]})}[Rn(183)](t){const e=Rn;return this[e(189)](this[e(195)](),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}[Rn(189)](t,e){let n;for(let r=0,s=t.length;r<s;r++)if(n=e(t[r]),n)return n;return n}[Rn(203)](){return Da(this[Rn(208)])}[Rn(185)](){const t=Rn;this.rbush_[t(185)](),this.items_={}}[Rn(204)](t){const e=Rn,n=this[e(180)][e(179)]();return Hs(n[e(175)],n.minY,n[e(186)],n[e(201)],t)}[Rn(178)](t){const e=Rn;this.rbush_.load(t[e(180)].all());for(const n in t[e(208)])this[e(208)][n]=t[e(208)][n]}}function Sp(){const i=["rbush_","679340AUtHYo","load","forEach","remove","clear","maxX","minY","map","forEach_","14TCmcek","42MeZGjl","length","753HrHDcj","988376MdhlVz","getAll","insert","3289635dlJrly","getInExtent","value","all","maxY","search","isEmpty","getExtent","4MMkHvc","4265EvBPsX","4328GhiPxW","items_","minX","107204vsleQE","1316370AWAdHQ","concat","toJSON"];return Sp=function(){return i},Sp()}const mt=zc;(function(i,t){const e=zc,n=i();for(;;)try{if(parseInt(e(272))/1*(parseInt(e(276))/2)+-parseInt(e(288))/3*(parseInt(e(266))/4)+parseInt(e(262))/5*(-parseInt(e(297))/6)+parseInt(e(280))/7*(parseInt(e(285))/8)+parseInt(e(270))/9+-parseInt(e(273))/10*(parseInt(e(264))/11)+-parseInt(e(275))/12*(-parseInt(e(259))/13)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Mp,648547);function zc(i,t){const e=Mp();return zc=function(n,r){return n=n-256,e[n]},zc(i,t)}function Mp(){const i=["149764oVhZtr","getExtent","setGeometriesArray","rotate","9842346rajXBH","disposeInternal","1IcDnsU","10MHitZK","setGeometries","5604KZQbjf","8038UIyzWO","map","getSimplifiedGeometry","isEmpty","77QrhCQt","applyProperties","changeEventsKeys_","getGeometriesArray","getType","574752gzExcV","simplifiedGeometryRevision","listenGeometriesChange_","96mqKczl","getGeometriesArrayRecursive","push","applyTransform","computeExtent","GeometryCollection","closestPointXY","unlistenGeometriesChange_","concat","99192DHFlFZ","containsXY","getGeometries","clone","scale","geometries_","simplifiedGeometryMaxMinSquaredTolerance","CHANGE","54431YGglIz","changed","length","335nkfBDt","intersectsExtent","9778153OwnoNx","translate"];return Mp=function(){return i},Mp()}class Rp extends ow{constructor(t){const e=zc;super(),this[e(256)]=t,this[e(282)]=[],this[e(287)]()}unlistenGeometriesChange_(){const t=zc;this[t(282)].forEach(Xt),this.changeEventsKeys_[t(261)]=0}[mt(287)](){const t=mt,e=this.geometries_;for(let n=0,r=e[t(261)];n<r;++n)this[t(282)][t(290)](yt(e[n],Ye[t(258)],this.changed,this))}[mt(300)](){const t=mt,e=new Rp(vE(this.geometries_));return e[t(281)](this),e}[mt(294)](t,e,n,r){const s=mt;if(r<Uo(this[s(267)](),t,e))return r;const a=this[s(256)];for(let o=0,l=a[s(261)];o<l;++o)r=a[o].closestPointXY(t,e,n,r);return r}[mt(298)](t,e){const n=mt,r=this[n(256)];for(let s=0,a=r[n(261)];s<a;++s)if(r[s][n(298)](t,e))return!0;return!1}[mt(292)](t){const e=mt;$0(t);const n=this[e(256)];for(let r=0,s=n[e(261)];r<s;++r)W2(t,n[r][e(267)]());return t}[mt(299)](){return vE(this[mt(256)])}[mt(283)](){return this[mt(256)]}[mt(289)](){const t=mt;let e=[];const n=this[t(256)];for(let r=0,s=n.length;r<s;++r)n[r][t(284)]()===this[t(284)]()?e=e[t(296)](n[r][t(289)]()):e[t(290)](n[r]);return e}[mt(278)](t){const e=mt;if(this[e(286)]!==this.getRevision()&&(this[e(257)]=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this[e(257)]!==0&&t<this[e(257)])return this;const n=[],r=this[e(256)];let s=!1;for(let a=0,o=r[e(261)];a<o;++a){const l=r[a],c=l[e(278)](t);n[e(290)](c),c!==l&&(s=!0)}return s?new Rp(n):(this[e(257)]=t,this)}[mt(284)](){return mt(293)}[mt(263)](t){const e=mt,n=this[e(256)];for(let r=0,s=n[e(261)];r<s;++r)if(n[r][e(263)](t))return!0;return!1}[mt(279)](){const t=mt;return this[t(256)][t(261)]===0}rotate(t,e){const n=mt,r=this[n(256)];for(let s=0,a=r[n(261)];s<a;++s)r[s][n(269)](t,e);this[n(260)]()}[mt(301)](t,e,n){const r=mt;!n&&(n=Er(this[r(267)]()));const s=this[r(256)];for(let a=0,o=s.length;a<o;++a)s[a][r(301)](t,e,n);this.changed()}[mt(274)](t){this[mt(268)](vE(t))}setGeometriesArray(t){const e=mt;this[e(295)](),this[e(256)]=t,this[e(287)](),this[e(260)]()}[mt(291)](t){const e=mt,n=this.geometries_;for(let r=0,s=n[e(261)];r<s;++r)n[r][e(291)](t);this[e(260)]()}[mt(265)](t,e){const n=mt,r=this[n(256)];for(let s=0,a=r.length;s<a;++s)r[s].translate(t,e);this[n(260)]()}[mt(271)](){const t=mt;this.unlistenGeometriesChange_(),super[t(271)]()}}function vE(i){const t=mt;return i[t(277)](e=>e[t(300)]())}(function(i,t){const e=Vc,n=i();for(;;)try{if(-parseInt(e(276))/1*(-parseInt(e(278))/2)+-parseInt(e(272))/3*(-parseInt(e(282))/4)+-parseInt(e(285))/5*(parseInt(e(283))/6)+parseInt(e(279))/7+-parseInt(e(275))/8+parseInt(e(280))/9+-parseInt(e(284))/10*(parseInt(e(277))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Tp,297685);function Tp(){const i=["577228ldfxjo","88458IqlqLE","160KpUaeO","115bpDDqt","slice","3MwQfaQ","push","sqrt","3985512LmVHmB","409234FYGTdB","264539JYgiIo","2WbpTpf","2864610qWBslf","5012784fHXkaB","length"];return Tp=function(){return i},Tp()}function Dp(i,t,e,n,r,s,a){const o=Vc;let l,c;const x=(e-t)/n;if(x===1)l=t;else if(x===2)l=t,c=r;else if(x!==0){let u=i[t],f=i[t+1],h=0;const A=[0];for(let g=t+n;g<e;g+=n){const m=i[g],_=i[g+1];h+=Math[o(274)]((m-u)*(m-u)+(_-f)*(_-f)),A[o(273)](h),u=m,f=_}const p=r*h,d=kT(A,p);d<0?(c=(p-A[-d-2])/(A[-d-1]-A[-d-2]),l=t+(-d-2)*n):l=t+d*n}a=a>1?a:2,s=s||new Array(a);for(let u=0;u<a;++u)s[u]=l===void 0?NaN:c===void 0?i[l+u]:rr(i[l+u],i[l+n+u],c);return s}function Vc(i,t){const e=Tp();return Vc=function(n,r){return n=n-271,e[n]},Vc(i,t)}function wE(i,t,e,n,r,s){const a=Vc;if(e==t)return null;let o;if(r<i[t+n-1])return s?(o=i.slice(t,t+n),o[n-1]=r,o):null;if(i[e-1]<r)return s?(o=i[a(271)](e-n,e),o[n-1]=r,o):null;if(r==i[t+n-1])return i[a(271)](t,t+n);let l=t/n,c=e/n;for(;l<c;){const h=l+c>>1;r<i[(h+1)*n-1]?c=h:l=h+1}const x=i[l*n-1];if(r==x)return i[a(271)]((l-1)*n,(l-1)*n+n);const u=i[(l+1)*n-1],f=(r-x)/(u-x);o=[];for(let h=0;h<n-1;++h)o.push(rr(i[(l-1)*n+h],i[l*n+h],f));return o.push(r),o}function b9(i,t,e,n,r,s,a){const o=Vc;if(a)return wE(i,t,e[e[o(281)]-1],n,r,s);let l;if(r<i[n-1])return s?(l=i.slice(0,n),l[n-1]=r,l):null;if(i[i[o(281)]-1]<r)return s?(l=i.slice(i[o(281)]-n),l[n-1]=r,l):null;for(let c=0,x=e.length;c<x;++c){const u=e[c];if(t!=u){if(r<i[t+n-1])return null;if(r<=i[u-1])return wE(i,t,u,n,r,!1);t=u}}return null}const In=Hc;(function(i,t){const e=Hc,n=i();for(;;)try{if(parseInt(e(209))/1*(-parseInt(e(217))/2)+parseInt(e(214))/3*(parseInt(e(205))/4)+parseInt(e(194))/5*(parseInt(e(219))/6)+parseInt(e(226))/7*(-parseInt(e(225))/8)+-parseInt(e(231))/9*(-parseInt(e(221))/10)+parseInt(e(232))/11+parseInt(e(196))/12*(parseInt(e(212))/13)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qp,856270);function Qp(){const i=["flatMidpoint_","8iTbnqy","10710574raPNiA","changed","stride","getType","closestPointXY","18fdDBTe","15134999XGwrQB","LineString","flatMidpointRevision_","maxDelta_","XYM","1810TFjXkQ","setCoordinates","60612zigYCj","applyProperties","setLayout","isArray","setFlatCoordinates","flatCoordinates","getCoordinateAtM","slice","getExtent","881940EDUeMy","maxDeltaRevision_","getLength","getCoordinateAt","1ZliZzl","clone","getRevision","117IxVOwU","length","6cizTet","getCoordinates","getFlatMidpoint","885392JBicsV","getSimplifiedGeometryInternal","8502oGgFoi","XYZM","2268780haHGBE","sqrt","layout"];return Qp=function(){return i},Qp()}function Hc(i,t){const e=Qp();return Hc=function(n,r){return n=n-192,e[n]},Hc(i,t)}class c0 extends Jo{constructor(t,e){const n=Hc;super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this[n(192)]=-1,this[n(206)]=-1,e!==void 0&&!Array[n(199)](t[0])?this[n(200)](e,t):this[n(195)](t,e)}appendCoordinate(t){const e=Hc;fs(this[e(201)],t),this[e(227)]()}[In(210)](){const t=In,e=new c0(this.flatCoordinates[t(203)](),this[t(223)]);return e[t(197)](this),e}[In(230)](t,e,n,r){const s=In;return r<Uo(this[s(204)](),t,e)?r:(this.maxDeltaRevision_!=this[s(211)]()&&(this[s(192)]=Math[s(222)](GI(this.flatCoordinates,0,this[s(201)][s(213)],this[s(228)],0)),this[s(206)]=this.getRevision()),VI(this[s(201)],0,this[s(201)].length,this[s(228)],this[s(192)],!1,t,e,n,r))}forEachSegment(t){const e=In;return dw(this[e(201)],0,this[e(201)][e(213)],this[e(228)],t)}[In(202)](t,e){const n=In;return this.layout!=n(193)&&this[n(223)]!=n(220)?null:(e=e!==void 0?e:!1,wE(this[n(201)],0,this[n(201)][n(213)],this[n(228)],t,e))}[In(215)](){const t=In;return qa(this[t(201)],0,this[t(201)][t(213)],this[t(228)])}[In(208)](t,e){return Dp(this[In(201)],0,this.flatCoordinates.length,this.stride,t,e,this.stride)}[In(207)](){const t=In;return Kw(this.flatCoordinates,0,this[t(201)][t(213)],this[t(228)])}[In(216)](){const t=In;return this[t(234)]!=this[t(211)]()&&(this[t(224)]=this[t(208)](.5,this[t(224)]??void 0),this[t(234)]=this[t(211)]()),this.flatMidpoint_}[In(218)](t){const e=In,n=[];return n[e(213)]=Md(this[e(201)],0,this[e(201)][e(213)],this[e(228)],t,n,0),new c0(n,"XY")}[In(229)](){return In(233)}intersectsExtent(t){const e=In;return Gd(this[e(201)],0,this[e(201)][e(213)],this.stride,t)}[In(195)](t,e){const n=In;this[n(198)](e,t,1),!this.flatCoordinates&&(this[n(201)]=[]),this[n(201)].length=Bd(this[n(201)],0,t,this[n(228)]),this[n(227)]()}}const En=qc;function qc(i,t){const e=Lp();return qc=function(n,r){return n=n-420,e[n]},qc(i,t)}function Lp(){const i=["setFlatCoordinates","isArray","2303232oOLqkZ","setLayout","getRevision","length","XYZM","4046408ZfndEZ","flatCoordinates","clone","intersectsExtent","2405001KHfDzo","sqrt","getFlatMidpoints","1464XLrFpP","setCoordinates","getEnds","ends_","getLineStrings","push","stride","getCoordinates","926734mEFkXo","getType","2MmAegn","slice","changed","layout","getLineString","getFlatCoordinates","88542xsdYya","MultiLineString","4884895uytvGk","getExtent","7931084LuiWZP","getLayout","getCoordinateAtM","XYM","maxDelta_","closestPointXY"];return Lp=function(){return i},Lp()}(function(i,t){const e=qc,n=i();for(;;)try{if(-parseInt(e(448))/1*(parseInt(e(446))/2)+parseInt(e(435))/3+-parseInt(e(431))/4+parseInt(e(456))/5+parseInt(e(426))/6+-parseInt(e(458))/7+-parseInt(e(438))/8*(-parseInt(e(454))/9)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Lp,891524);class Xu extends Jo{constructor(t,e,n){const r=qc;if(super(),this.ends_=[],this[r(422)]=-1,this.maxDeltaRevision_=-1,Array[r(425)](t[0]))this[r(439)](t,e);else if(e!==void 0&&n)this[r(424)](e,t),this.ends_=n;else{const s=t,a=[],o=[];for(let c=0,x=s[r(429)];c<x;++c){const u=s[c];fs(a,u.getFlatCoordinates()),o[r(443)](a[r(429)])}const l=s[r(429)]===0?this[r(459)]():s[0][r(459)]();this[r(424)](l,a),this.ends_=o}}appendLineString(t){const e=qc;fs(this[e(432)],t[e(453)]().slice()),this[e(441)].push(this[e(432)][e(429)]),this[e(450)]()}[En(433)](){const t=En,e=new Xu(this[t(432)][t(449)](),this[t(451)],this.ends_.slice());return e.applyProperties(this),e}[En(423)](t,e,n,r){const s=En;return r<Uo(this[s(457)](),t,e)?r:(this.maxDeltaRevision_!=this[s(428)]()&&(this.maxDelta_=Math[s(436)](zI(this.flatCoordinates,0,this[s(441)],this[s(444)],0)),this.maxDeltaRevision_=this[s(428)]()),HI(this[s(432)],0,this[s(441)],this.stride,this.maxDelta_,!1,t,e,n,r))}[En(420)](t,e,n){const r=En;return this.layout!=r(421)&&this.layout!=r(430)||this.flatCoordinates[r(429)]===0?null:(e=e!==void 0?e:!1,n=n!==void 0?n:!1,b9(this[r(432)],0,this[r(441)],this[r(444)],t,e,n))}[En(445)](){const t=En;return nu(this[t(432)],0,this[t(441)],this[t(444)])}[En(440)](){return this[En(441)]}[En(452)](t){const e=En;return t<0||this.ends_[e(429)]<=t?null:new c0(this[e(432)][e(449)](t===0?0:this[e(441)][t-1],this[e(441)][t]),this[e(451)])}[En(442)](){const t=En,e=this[t(432)],n=this[t(441)],r=this.layout,s=[];let a=0;for(let o=0,l=n.length;o<l;++o){const c=n[o],x=new c0(e[t(449)](a,c),r);s[t(443)](x),a=c}return s}[En(437)](){const t=En,e=[],n=this[t(432)];let r=0;const s=this.ends_,a=this[t(444)];for(let o=0,l=s[t(429)];o<l;++o){const c=s[o],x=Dp(n,r,c,a,.5);fs(e,x),r=c}return e}getSimplifiedGeometryInternal(t){const e=En,n=[],r=[];return n[e(429)]=uw(this[e(432)],0,this.ends_,this[e(444)],t,n,0,r),new Xu(n,"XY",r)}[En(447)](){return En(455)}[En(434)](t){const e=En;return wD(this[e(432)],0,this[e(441)],this.stride,t)}setCoordinates(t,e){const n=En;this[n(427)](e,t,2),!this[n(432)]&&(this.flatCoordinates=[]);const r=eu(this[n(432)],0,t,this[n(444)],this.ends_);this.flatCoordinates[n(429)]=r[n(429)]===0?0:r[r[n(429)]-1],this[n(450)]()}}const Ci=Ku;function Fp(){const i=["layout","flatCoordinates","4172305oEVtHe","getFlatCoordinates","stride","getPoints","slice","isArray","changed","5723MkljVn","6776912OvnNHe","setLayout","2994AljAxM","getCoordinates","applyProperties","728STxWEt","setCoordinates","setFlatCoordinates","118ZsplOL","1441584GcVCvr","getType","5831172JrDprD","2282455BiCzTc","appendPoint","clone","length","getPoint","getExtent"];return Fp=function(){return i},Fp()}(function(i,t){const e=Ku,n=i();for(;;)try{if(-parseInt(e(210))/1*(parseInt(e(219))/2)+parseInt(e(213))/3*(-parseInt(e(216))/4)+parseInt(e(203))/5+-parseInt(e(220))/6+parseInt(e(195))/7+parseInt(e(211))/8+-parseInt(e(194))/9===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Fp,600175);function Ku(i,t){const e=Fp();return Ku=function(n,r){return n=n-194,e[n]},Ku(i,t)}class Ju extends Jo{constructor(t,e){const n=Ku;super(),e&&!Array[n(208)](t[0])?this[n(218)](e,t):this[n(217)](t,e)}[Ci(196)](t){const e=Ci;fs(this[e(202)],t[e(204)]()),this[e(209)]()}[Ci(197)](){const t=Ci,e=new Ju(this.flatCoordinates[t(207)](),this.layout);return e[t(215)](this),e}closestPointXY(t,e,n,r){const s=Ci;if(r<Uo(this[s(200)](),t,e))return r;const a=this.flatCoordinates,o=this[s(205)];for(let l=0,c=a[s(198)];l<c;l+=o){const x=Go(t,e,a[l],a[l+1]);if(x<r){r=x;for(let u=0;u<o;++u)n[u]=a[l+u];n[s(198)]=o}}return r}[Ci(214)](){const t=Ci;return qa(this[t(202)],0,this[t(202)][t(198)],this[t(205)])}[Ci(199)](t){const e=Ci,n=this[e(202)][e(198)]/this[e(205)];return t<0||n<=t?null:new Js(this[e(202)][e(207)](t*this[e(205)],(t+1)*this[e(205)]),this[e(201)])}[Ci(206)](){const t=Ci,e=this[t(202)],n=this[t(201)],r=this.stride,s=[];for(let a=0,o=e[t(198)];a<o;a+=r){const l=new Js(e[t(207)](a,a+r),n);s.push(l)}return s}[Ci(221)](){return"MultiPoint"}intersectsExtent(t){const e=Ci,n=this.flatCoordinates,r=this[e(205)];for(let s=0,a=n[e(198)];s<a;s+=r){const o=n[s],l=n[s+1];if(H2(t,o,l))return!0}return!1}[Ci(217)](t,e){const n=Ci;this[n(212)](e,t,1),!this[n(202)]&&(this[n(202)]=[]),this[n(202)].length=Bd(this.flatCoordinates,0,t,this[n(205)]),this.changed()}}(function(i,t){const e=kp,n=i();for(;;)try{if(-parseInt(e(433))/1*(-parseInt(e(420))/2)+parseInt(e(429))/3*(-parseInt(e(431))/4)+-parseInt(e(430))/5+parseInt(e(425))/6*(parseInt(e(423))/7)+-parseInt(e(424))/8*(parseInt(e(427))/9)+-parseInt(e(422))/10+parseInt(e(421))/11*(parseInt(e(432))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Pp,926171);function kp(i,t){const e=Pp();return kp=function(n,r){return n=n-420,e[n]},kp(i,t)}function AB(i,t,e,n){const r=kp,s=[];let a=ir();for(let o=0,l=e[r(426)];o<l;++o){const c=e[o];a=Y2(i,t,c[0],n),s[r(428)]((a[0]+a[2])/2,(a[1]+a[3])/2),t=c[c.length-1]}return s}function Pp(){const i=["1322Yfghia","8626673TAnzWy","5629230tnGWXF","74473kzalsX","2961176kLSEwK","498nRMnWp","length","9cdJDIx","push","45978nSKQIG","4417140QXqiJr","248svZzGd","24agNhQK","1878JRJmTk"];return Pp=function(){return i},Pp()}const sn=ju;(function(i,t){const e=ju,n=i();for(;;)try{if(-parseInt(e(300))/1*(parseInt(e(327))/2)+parseInt(e(331))/3*(parseInt(e(304))/4)+parseInt(e(323))/5+parseInt(e(339))/6+parseInt(e(313))/7*(-parseInt(e(334))/8)+-parseInt(e(336))/9+-parseInt(e(326))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Up,480822);function Up(){const i=["MultiPolygon","stride","setLayout","getSimplifiedGeometryInternal","push","getOrientedFlatCoordinates","28paKhqT","length","getPolygons","orientedRevision_","closestPointXY","getRevision","clone","sqrt","appendPolygon","XYM","4175945wSaaKl","getExtent","maxDeltaRevision_","4774830PcFSol","2eOtuNo","applyProperties","flatCoordinates","endss_","687Qudzfl","getEnds","maxDelta_","60040PaCifP","changed","607986XUYrmZ","orientedFlatCoordinates_","flatInteriorPoints_","829350dDvIlO","isArray","getFlatCoordinates","getFlatInteriorPoints","slice","intersectsExtent","721783uaoxyz","getLayout","getArea","containsXY","14048ulxhbd","setCoordinates","flatInteriorPointsRevision_"];return Up=function(){return i},Up()}function ju(i,t){const e=Up();return ju=function(n,r){return n=n-300,e[n]},ju(i,t)}class Zu extends Jo{constructor(t,e,n){const r=ju;if(super(),this[r(330)]=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this[r(333)]=-1,this[r(325)]=-1,this.orientedRevision_=-1,this[r(337)]=null,!n&&!Array[r(340)](t[0])){const s=t,a=[],o=[];for(let l=0,c=s[r(314)];l<c;++l){const x=s[l],u=a[r(314)],f=x[r(332)]();for(let h=0,A=f[r(314)];h<A;++h)f[h]+=u;fs(a,x[r(341)]()),o.push(f)}e=s[r(314)]===0?this[r(301)]():s[0][r(301)](),t=a,n=o}e!==void 0&&n?(this.setFlatCoordinates(e,t),this[r(330)]=n):this[r(305)](t,e)}[sn(321)](t){const e=sn;let n;if(!this[e(329)])this[e(329)]=t.getFlatCoordinates().slice(),n=t.getEnds().slice(),this.endss_[e(311)]();else{const r=this[e(329)][e(314)];fs(this[e(329)],t.getFlatCoordinates()),n=t.getEnds()[e(343)]();for(let s=0,a=n.length;s<a;++s)n[s]+=r}this[e(330)].push(n),this[e(335)]()}[sn(319)](){const t=sn,e=this.endss_[t(314)],n=new Array(e);for(let s=0;s<e;++s)n[s]=this[t(330)][s].slice();const r=new Zu(this[t(329)][t(343)](),this.layout,n);return r[t(328)](this),r}[sn(317)](t,e,n,r){const s=sn;return r<Uo(this[s(324)](),t,e)?r:(this[s(325)]!=this.getRevision()&&(this.maxDelta_=Math[s(320)](mD(this[s(329)],0,this.endss_,this.stride,0)),this[s(325)]=this.getRevision()),_D(this[s(312)](),0,this[s(330)],this.stride,this.maxDelta_,!0,t,e,n,r))}[sn(303)](t,e){const n=sn;return vD(this.getOrientedFlatCoordinates(),0,this.endss_,this[n(308)],t,e)}[sn(302)](){const t=sn;return bD(this[t(312)](),0,this[t(330)],this[t(308)])}getCoordinates(t){const e=sn;let n;return t!==void 0?(n=this[e(312)]()[e(343)](),jI(n,0,this.endss_,this.stride,t)):n=this[e(329)],YI(n,0,this.endss_,this[e(308)])}getEndss(){return this[sn(330)]}[sn(342)](){const t=sn;if(this[t(306)]!=this[t(318)]()){const e=AB(this[t(329)],0,this.endss_,this[t(308)]);this[t(338)]=Aw(this[t(312)](),0,this[t(330)],this[t(308)],e),this[t(306)]=this[t(318)]()}return this[t(338)]}getInteriorPoints(){const t=sn;return new Ju(this[t(342)]()[t(343)](),t(322))}getOrientedFlatCoordinates(){const t=sn;if(this[t(316)]!=this.getRevision()){const e=this[t(329)];mw(e,0,this[t(330)],this[t(308)])?this[t(337)]=e:(this[t(337)]=e[t(343)](),this.orientedFlatCoordinates_.length=jI(this.orientedFlatCoordinates_,0,this[t(330)],this.stride)),this.orientedRevision_=this.getRevision()}return this[t(337)]}[sn(310)](t){const e=sn,n=[],r=[];return n[e(314)]=yD(this[e(329)],0,this[e(330)],this[e(308)],Math[e(320)](t),n,0,r),new Zu(n,"XY",r)}getPolygon(t){const e=sn;if(t<0||this[e(330)][e(314)]<=t)return null;let n;if(t===0)n=0;else{const a=this[e(330)][t-1];n=a[a.length-1]}const r=this[e(330)][t][e(343)](),s=r[r[e(314)]-1];if(n!==0)for(let a=0,o=r.length;a<o;++a)r[a]-=n;return new js(this[e(329)][e(343)](n,s),this.layout,r)}[sn(315)](){const t=sn,e=this.layout,n=this[t(329)],r=this[t(330)],s=[];let a=0;for(let o=0,l=r[t(314)];o<l;++o){const c=r[o][t(343)](),x=c[c[t(314)]-1];if(a!==0)for(let f=0,h=c.length;f<h;++f)c[f]-=a;const u=new js(n[t(343)](a,x),e,c);s[t(311)](u),a=x}return s}getType(){return sn(307)}[sn(344)](t){const e=sn;return BD(this[e(312)](),0,this[e(330)],this.stride,t)}setCoordinates(t,e){const n=sn;this[n(309)](e,t,3),!this.flatCoordinates&&(this[n(329)]=[]);const r=xw(this[n(329)],0,t,this.stride,this[n(330)]);if(r[n(314)]===0)this[n(329)][n(314)]=0;else{const s=r[r[n(314)]-1];this[n(329)].length=s[n(314)]===0?0:s[s.length-1]}this.changed()}}const It=$u;(function(i,t){const e=$u,n=i();for(;;)try{if(-parseInt(e(313))/1*(parseInt(e(348))/2)+parseInt(e(326))/3*(-parseInt(e(361))/4)+-parseInt(e(317))/5*(-parseInt(e(356))/6)+-parseInt(e(337))/7*(parseInt(e(332))/8)+-parseInt(e(366))/9+parseInt(e(314))/10+parseInt(e(335))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Np,540917);function $u(i,t){const e=Np();return $u=function(n,r){return n=n-312,e[n]},$u(i,t)}function Np(){const i=["prototype","simplifiedGeometry_","flatMidpoints_","1190550eGmNmi","getFlatInteriorPoint","getEnds","flatCoordinates_","Point","get","112HEnzrP","transform","simplifyTransformed","21550243NJIcYq","type_","498932yxrrIp","slice","getGeometry","Invalid geometry type:","Polygon","getProperties","clone","flatInteriorPoints_","LineString","enableSimplifyTransformed","getSimplifiedGeometry","2jCyaBL","getWorldExtent","properties_","styleFunction","extent_","applyTransform","setProperties","sqrt","3025458EEDIBQ","id_","getStride","getExtent","setGeometry","4lkKoNt","getFlatInteriorPoints","squaredTolerance_","getOrientedFlatCoordinates","setGeometryName","2756295BVvQDZ","MultiLineString","getPropertiesInternal","758734iKJBnX","330210lgEQZO","getFlatCoordinates","getStyleFunction","10CdMpkL","MultiPoint","length","ends_","getId","stride_"];return Np=function(){return i},Np()}const dB=ki();class Ai{constructor(t,e,n,r,s,a){const o=$u;this[o(351)],this[o(352)],this.id_=a,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this[o(325)]=null,this[o(320)]=n||null,this.properties_=s,this[o(363)],this[o(322)]=r,this[o(324)]}[It(331)](t){return this[It(350)][t]}[It(359)](){const t=It;return!this[t(352)]&&(this[t(352)]=this[t(336)]===t(330)?c3(this[t(329)]):Y2(this[t(329)],0,this[t(329)][t(319)],2)),this[t(352)]}[It(327)](){const t=It;if(!this[t(344)]){const e=Er(this[t(359)]());this.flatInteriorPoints_=XI(this[t(329)],0,this.ends_,2,e,0)}return this[t(344)]}[It(362)](){const t=It;if(!this.flatInteriorPoints_){const e=_w(this.flatCoordinates_,this[t(320)]),n=AB(this[t(329)],0,e,2);this.flatInteriorPoints_=Aw(this[t(329)],0,e,2,n)}return this[t(344)]}getFlatMidpoint(){const t=It;return!this[t(325)]&&(this[t(325)]=Dp(this[t(329)],0,this[t(329)][t(319)],2,.5)),this[t(325)]}getFlatMidpoints(){const t=It;if(!this.flatMidpoints_){this[t(325)]=[];const e=this[t(329)];let n=0;const r=this.ends_;for(let s=0,a=r.length;s<a;++s){const o=r[s],l=Dp(e,n,o,2,.5);fs(this.flatMidpoints_,l),n=o}}return this.flatMidpoints_}[It(321)](){return this[It(357)]}[It(364)](){return this.flatCoordinates_}[It(339)](){return this}[It(347)](t){return this}[It(334)](t,e){return this}[It(342)](){return this[It(350)]}[It(312)](){return this[It(350)]}[It(358)](){return this[It(322)]}[It(316)](){return this[It(351)]}getType(){return this.type_}[It(333)](t){const e=It;t=Wt(t);const n=t.getExtent(),r=t[e(349)]();if(n&&r){const s=rn(r)/rn(n);_s(dB,r[0],r[3],s,-s,0,0,0),Va(this.flatCoordinates_,0,this.flatCoordinates_[e(319)],2,dB,this[e(329)])}}[It(353)](t){const e=It;t(this[e(329)],this[e(329)],this[e(322)])}clone(){var e;const t=It;return new Ai(this[t(336)],this.flatCoordinates_[t(338)](),(e=this[t(320)])==null?void 0:e[t(338)](),this[t(322)],Object.assign({},this[t(350)]),this[t(357)])}[It(328)](){return this[It(320)]}[It(346)](){const t=It;return this[t(334)]=R3((e,n)=>{const r=t;if(e===this.squaredTolerance_)return this[r(324)];this[r(324)]=this[r(343)](),n&&this[r(324)][r(353)](n);const s=this[r(324)][r(315)]();let a;switch(this[r(336)]){case r(345):s[r(319)]=Md(s,0,this[r(324)][r(329)][r(319)],this[r(324)][r(322)],e,s,0),a=[s.length];break;case r(367):a=[],s[r(319)]=uw(s,0,this[r(324)][r(320)],this.simplifiedGeometry_.stride_,e,s,0,a);break;case r(341):a=[],s[r(319)]=qI(s,0,this[r(324)][r(320)],this.simplifiedGeometry_[r(322)],Math[r(355)](e),s,0,a);break}return a&&(this[r(324)]=new Ai(this[r(336)],s,a,2,this.properties_,this[r(357)])),this[r(363)]=e,this.simplifiedGeometry_}),this}}Ai.prototype[It(315)]=Ai[It(323)][It(364)];var Yc=Op;(function(i,t){for(var e=Op,n=i();;)try{var r=parseInt(e(403))/1*(-parseInt(e(405))/2)+-parseInt(e(407))/3+-parseInt(e(413))/4*(-parseInt(e(398))/5)+-parseInt(e(404))/6+-parseInt(e(408))/7*(parseInt(e(410))/8)+parseInt(e(399))/9*(-parseInt(e(409))/10)+parseInt(e(414))/11;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gp,391497);const vr={ADDFEATURE:Yc(412),CHANGEFEATURE:"changefeature",CLEAR:Yc(402),REMOVEFEATURE:Yc(411),FEATURESLOADSTART:Yc(401),FEATURESLOADEND:Yc(400),FEATURESLOADERROR:Yc(406)};function Op(i,t){var e=Gp();return Op=function(n,r){n=n-398;var s=e[n];return s},Op(i,t)}function Gp(){var i=["364hJaWNg","20156136ZvfnML","3235noEeXC","51372BbFRQq","featuresloadend","featuresloadstart","clear","7233QlJLLt","4527882cOVNWe","32SdxgRL","featuresloaderror","816261KHtNGs","14wyeFjD","140JefVHp","1109528WLWLWU","removefeature","addfeature"];return Gp=function(){return i},Gp()}(function(i,t){const e=BE,n=i();for(;;)try{if(parseInt(e(394))/1*(-parseInt(e(391))/2)+parseInt(e(383))/3*(-parseInt(e(397))/4)+-parseInt(e(387))/5+-parseInt(e(384))/6+-parseInt(e(386))/7+parseInt(e(393))/8*(parseInt(e(396))/9)+parseInt(e(395))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(zp,118363);function zp(){const i=["getZForResolution","715448qAFURY","20blOQlo","4430240LMZTFq","9ZbGgKx","79432NFUyxb","6LMfEDD","277194qpBMbn","getTileCoordExtent","1135211TNgNWv","694820GmsquN","minX","getTileRangeForExtentAndZ","push","2704NGupty"];return zp=function(){return i},zp()}function C9(i,t){return[[-1/0,-1/0,1/0,1/0]]}function BE(i,t){const e=zp();return BE=function(n,r){return n=n-383,e[n]},BE(i,t)}function v9(i,t){return[i]}(function(i,t){const e=ef,n=i();for(;;)try{if(-parseInt(e(318))/1*(parseInt(e(310))/2)+parseInt(e(299))/3*(-parseInt(e(300))/4)+parseInt(e(304))/5+-parseInt(e(312))/6+parseInt(e(309))/7+parseInt(e(314))/8+parseInt(e(305))/9*(parseInt(e(307))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vp,213875);let w9=!1;function pB(i,t,e,n,r,s,a){const o=ef,l=new XMLHttpRequest;l[o(323)](o(321),typeof i===o(302)?i(e,n,r):i,!0),t.getType()==o(317)&&(l[o(308)]=o(317)),l.withCredentials=w9,l[o(311)]=function(c){const x=o;if(!l.status||l[x(324)]>=200&&l[x(324)]<300){const u=t[x(316)]();try{let f;u==x(303)||u=="json"?f=l[x(315)]:u==x(298)?f=l.responseXML||l[x(315)]:u==x(317)&&(f=l[x(320)]),f?s(t[x(319)](f,{extent:e,featureProjection:r}),t[x(313)](f)):a()}catch{a()}}else a()},l[o(322)]=a,l[o(301)]()}function Vp(){const i=["readProjection","690520NEBZeA","responseText","getType","arraybuffer","628tcNHrq","readFeatures","response","GET","onerror","open","status","xml","18pkyBeK","199504cxEhRd","send","function","text","984740AJGCWy","3357tDeXtf","addFeatures","13710mYHWqV","responseType","1047704zbZPxz","466SWUtPh","onload","1709178LvQUCL"];return Vp=function(){return i},Vp()}function gB(i,t){return function(e,n,r,s,a){const o=this;pB(i,t,e,n,r,function(l,c){o[ef(306)](l),s!==void 0&&s(l)},a||ic)}}function ef(i,t){const e=Vp();return ef=function(n,r){return n=n-298,e[n]},ef(i,t)}const ze=l0;(function(i,t){const e=l0,n=i();for(;;)try{if(parseInt(e(105))/1+parseInt(e(149))/2*(-parseInt(e(198))/3)+-parseInt(e(180))/4*(-parseInt(e(143))/5)+parseInt(e(146))/6+-parseInt(e(195))/7*(parseInt(e(127))/8)+parseInt(e(102))/9+-parseInt(e(188))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hp,846618);function l0(i,t){const e=Hp();return l0=function(n,r){return n=n-100,e[n]},l0(i,t)}function Hp(){const i=["REMOVEFEATURE","indexOf","canWrapX","hasListener","idIndex_","ADDFEATURE","setUrl","intersectsCoordinate","url","push","overlaps","300Oyugct","attributions","useSpatialIndex","2346966eHONUL","refresh","removeFromIdIndex_","30462ObYKPM","nullGeometryFeatures_","uidIndex_","changed","map","setLoader","features","length","load","getWrapX","isArray","closestPointXY","addFeatures","getArray","getFormat","getLength","format_","bindFeaturesCollection_","addToIndex_","intersectsExtent","dispatchEvent","getFeatures","loader","target","addFeaturesInternal","CHANGE","getUrl","addEventListener","getFeaturesCollection","wrapX","addFeatureInternal","75248mSAfBe","forEachFeatureIntersectingExtent","loader_","getExtent","removeLoadedExtent","call","loadingExtentsCount_","removeFeatureInternal","12078770xsVQGc","CHANGEFEATURE","ADD","handleFeatureChange_","toString","element","FEATURESLOADERROR","63AjhRpG","getFeaturesInExtent","FEATURESLOADSTART","279Igguka","featuresCollection_","getFeaturesAtCoordinate","getOverlaps","getGeometry","hasFeature","The passed `feature` was already added to the source","getFeatureByUid","featureChangeKeys_","setupChangeEvents_","9623952pqqSac","strategy","feature","1200792KXpKKB","featuresRtree_","forEachFeature","loadedExtentsRtree_","getId","url_","sqrt","forEachInExtent","getFeatureById","forEachFeatureInExtent","extent","`format` must be set when `url` is set","isEmpty","values","forEachFeatureAtCoordinateDirect","once","slice","getInExtent","insert","overlaps_","CLEAR","clear","283576qzETVa","addFeature","remove","strategy_","forEach"];return Hp=function(){return i},Hp()}class eo extends yr{constructor(t,e,n){const r=l0;super(t),this[r(104)]=e,this[r(155)]=n}}class Wc extends gc{constructor(t){const e=l0;t=t||{},super({attributions:t[e(144)],interpolate:!0,projection:void 0,state:"ready",wrapX:t[e(178)]!==void 0?t[e(178)]:!0}),this.on,this[e(120)],this.un,this[e(182)]=ic,this[e(165)]=t.format||null,this.overlaps_=t[e(142)]===void 0?!0:t[e(142)],this[e(110)]=t[e(140)],t[e(171)]!==void 0?this.loader_=t[e(171)]:this[e(110)]!==void 0&&(Mt(this.format_,e(116)),this.loader_=gB(this[e(110)],this[e(165)])),this[e(130)]=t[e(103)]!==void 0?t[e(103)]:C9;const n=t[e(145)]!==void 0?t[e(145)]:!0;this[e(106)]=n?new hB:null,this[e(108)]=new hB,this[e(186)]=0,this[e(150)]={},this[e(136)]={},this.uidIndex_={},this[e(100)]={},this[e(199)]=null;let r,s;Array.isArray(t[e(155)])?s=t[e(155)]:t[e(155)]&&(r=t[e(155)],s=r[e(162)]()),!n&&r===void 0&&(r=new ws(s)),s!==void 0&&this.addFeaturesInternal(s),r!==void 0&&this.bindFeaturesCollection_(r)}[ze(128)](t){const e=ze;this[e(179)](t),this[e(152)]()}addFeatureInternal(t){const e=ze,n=tt(t);if(!this[e(167)](n,t)){this[e(199)]&&this[e(199)].remove(t);return}this[e(101)](n,t);const r=t.getGeometry();if(r){const s=r.getExtent();this[e(106)]&&this[e(106)].insert(s,t)}else this.nullGeometryFeatures_[n]=t;this[e(169)](new eo(vr[e(137)],t))}setupChangeEvents_(t,e){const n=ze;e instanceof Ai||(this.featureChangeKeys_[t]=[yt(e,Ye[n(174)],this.handleFeatureChange_,this),yt(e,ac.PROPERTYCHANGE,this[n(191)],this)])}[ze(167)](t,e){const n=ze;let r=!0;if(e.getId()!==void 0){const s=String(e.getId());if(!(s in this[n(136)]))this[n(136)][s]=e;else if(e instanceof Ai){const a=this[n(136)][s];a instanceof Ai?Array[n(159)](a)?a[n(141)](e):this[n(136)][s]=[a,e]:r=!1}else r=!1}return r&&(Mt(!(t in this[n(151)]),n(204)),this[n(151)][t]=e),r}[ze(161)](t){const e=ze;this[e(173)](t),this[e(152)]()}[ze(173)](t){const e=ze,n=[],r=[],s=[];for(let a=0,o=t.length;a<o;a++){const l=t[a],c=tt(l);this[e(167)](c,l)&&r.push(l)}for(let a=0,o=r[e(156)];a<o;a++){const l=r[a],c=tt(l);this[e(101)](c,l);const x=l[e(202)]();if(x){const u=x[e(183)]();n[e(141)](u),s[e(141)](l)}else this[e(150)][c]=l}if(this[e(106)]&&this[e(106)][e(157)](n,s),this[e(135)](vr[e(137)]))for(let a=0,o=r[e(156)];a<o;a++)this[e(169)](new eo(vr[e(137)],r[a]))}[ze(166)](t){const e=ze;let n=!1;this[e(176)](vr[e(137)],function(r){const s=e;!n&&(n=!0,t[s(141)](r[s(104)]),n=!1)}),this[e(176)](vr[e(132)],function(r){const s=e;!n&&(n=!0,t[s(129)](r[s(104)]),n=!1)}),t[e(176)](Yi[e(190)],r=>{const s=e;!n&&(n=!0,this[s(128)](r[s(193)]),n=!1)}),t[e(176)](Yi.REMOVE,r=>{!n&&(n=!0,this.removeFeature(r.element),n=!1)}),this[e(199)]=t}[ze(126)](t){const e=ze;if(t){for(const r in this[e(100)])this[e(100)][r][e(131)](Xt);!this[e(199)]&&(this.featureChangeKeys_={},this[e(136)]={},this[e(151)]={})}else if(this[e(106)]){const r=s=>{this[e(187)](s)};this[e(106)].forEach(r);for(const s in this.nullGeometryFeatures_)this[e(187)](this.nullGeometryFeatures_[s])}this.featuresCollection_&&this[e(199)].clear(),this.featuresRtree_&&this[e(106)][e(126)](),this.nullGeometryFeatures_={};const n=new eo(vr[e(125)]);this.dispatchEvent(n),this[e(152)]()}[ze(107)](t){const e=ze;if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this[e(199)]&&this[e(199)][e(131)](t)}[ze(119)](t,e){const n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(r){const s=l0,a=r[s(202)]();if(a instanceof Ai||a[s(139)](t))return e(r)})}[ze(114)](t,e){const n=ze;if(this[n(106)])return this[n(106)][n(112)](t,e);this[n(199)]&&this[n(199)][n(131)](e)}[ze(181)](t,e){const n=ze;return this[n(114)](t,function(r){const s=n,a=r[s(202)]();if(a instanceof Ai||a[s(168)](t)){const o=e(r);if(o)return o}})}[ze(177)](){return this.featuresCollection_}[ze(170)](){const t=ze;let e;return this[t(199)]?e=this[t(199)][t(162)]()[t(121)](0):this[t(106)]&&(e=this[t(106)].getAll(),!Da(this[t(150)])&&fs(e,Object[t(118)](this[t(150)]))),e}[ze(200)](t){const e=ze,n=[];return this[e(119)](t,function(r){n.push(r)}),n}[ze(196)](t,e){const n=ze;if(this[n(106)]){if(!(e&&e[n(134)]()&&this[n(158)]()))return this.featuresRtree_[n(122)](t);const s=X2(t,e);return[].concat(...s[n(153)](a=>this[n(106)][n(122)](a)))}return this.featuresCollection_?this.featuresCollection_[n(162)]().slice(0):[]}getClosestFeatureToCoordinate(t,e){const n=ze,r=t[0],s=t[1];let a=null;const o=[NaN,NaN];let l=1/0;const c=[-1/0,-1/0,1/0,1/0];return e=e||Fx,this[n(106)][n(112)](c,function(x){const u=n;if(e(x)){const f=x[u(202)](),h=l;if(l=f instanceof Ai?0:f[u(160)](r,s,o,l),l<h){a=x;const A=Math[u(111)](l);c[0]=r-A,c[1]=s-A,c[2]=r+A,c[3]=s+A}}}),a}getExtent(t){const e=ze;return this[e(106)][e(183)](t)}[ze(113)](t){const e=ze,n=this[e(136)][t[e(192)]()];return n!==void 0?n:null}[ze(205)](t){const e=ze,n=this[e(151)][t];return n!==void 0?n:null}[ze(163)](){return this[ze(165)]}[ze(201)](){return this.overlaps_}[ze(175)](){return this[ze(110)]}handleFeatureChange_(t){const e=ze,n=t[e(172)],r=tt(n),s=n.getGeometry();if(!s)!(r in this.nullGeometryFeatures_)&&(this[e(106)]&&this.featuresRtree_[e(129)](n),this[e(150)][r]=n);else{const o=s[e(183)]();r in this[e(150)]?(delete this.nullGeometryFeatures_[r],this[e(106)]&&this[e(106)][e(123)](o,n)):this[e(106)]&&this[e(106)].update(o,n)}const a=n.getId();if(a!==void 0){const o=a[e(192)]();this.idIndex_[o]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[o]=n)}else this[e(148)](n),this.uidIndex_[r]=n;this[e(152)](),this[e(169)](new eo(vr[e(189)],n))}[ze(203)](t){const e=ze,n=t[e(109)]();return n!==void 0?n in this[e(136)]:tt(t)in this[e(151)]}[ze(117)](){const t=ze;return this[t(106)]?this[t(106)][t(117)]()&&Da(this.nullGeometryFeatures_):this.featuresCollection_?this[t(199)][t(164)]()===0:!0}loadFeatures(t,e,n){const r=ze,s=this[r(108)],a=this[r(130)](t,e,n);for(let o=0,l=a[r(156)];o<l;++o){const c=a[o];!s[r(112)](c,function(u){return Ur(u[r(115)],c)})&&(++this.loadingExtentsCount_,this[r(169)](new eo(vr[r(197)])),this[r(182)][r(185)](this,c,e,n,u=>{const f=r;--this[f(186)],this[f(169)](new eo(vr.FEATURESLOADEND,void 0,u))},()=>{const u=r;--this.loadingExtentsCount_,this.dispatchEvent(new eo(vr[u(194)]))}),s.insert(c,{extent:c[r(121)]()}))}this.loading=this[r(182)][r(156)]<4?!1:this[r(186)]>0}[ze(147)](){const t=ze;this.clear(!0),this.loadedExtentsRtree_[t(126)](),super[t(147)]()}[ze(184)](t){const e=ze,n=this.loadedExtentsRtree_;let r;n[e(112)](t,function(s){if(qs(s[e(115)],t))return r=s,!0}),r&&n.remove(r)}removeFeatures(t){const e=ze;let n=!1;for(let r=0,s=t[e(156)];r<s;++r)n=this[e(187)](t[r])||n;n&&this[e(152)]()}removeFeature(t){const e=ze;if(!t)return;this[e(187)](t)&&this[e(152)]()}[ze(187)](t){const e=ze,n=tt(t);if(!(n in this[e(151)]))return!1;n in this[e(150)]?delete this[e(150)][n]:this[e(106)]&&this.featuresRtree_.remove(t);const r=this[e(100)][n];r==null||r[e(131)](Xt),delete this[e(100)][n];const s=t.getId();if(s!==void 0){const a=s.toString(),o=this[e(136)][a];o===t?delete this[e(136)][a]:Array.isArray(o)&&(o.splice(o[e(133)](t),1),o[e(156)]===1&&(this.idIndex_[a]=o[0]))}return delete this[e(151)][n],this[e(135)](vr[e(132)])&&this[e(169)](new eo(vr[e(132)],t)),!0}[ze(148)](t){const e=ze;for(const n in this.idIndex_)if(this[e(136)][n]===t){delete this[e(136)][n];break}}[ze(154)](t){const e=ze;this[e(182)]=t}[ze(138)](t){const e=ze;Mt(this[e(165)],e(116)),this[e(110)]=t,this[e(154)](gB(t,this.format_))}setOverlaps(t){const e=ze;this[e(124)]=t,this[e(152)]()}}const xr=Wp;(function(i,t){const e=Wp,n=i();for(;;)try{if(-parseInt(e(205))/1*(-parseInt(e(189))/2)+-parseInt(e(176))/3+-parseInt(e(206))/4*(parseInt(e(197))/5)+-parseInt(e(184))/6+parseInt(e(203))/7+parseInt(e(208))/8+-parseInt(e(199))/9*(-parseInt(e(204))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(qp,133307);function qp(){const i=["state","LOADED","ERROR","getSize","width","size","data","176615lwfVwi","loader_","9ykRNrf","clearRect","transition","size_","1359666lqbLYh","2003190ayckGP","10454NdQwUy","4IlJmft","load","750912IgJKii","data_","height","getError","getImageData","controller","IDLE","error_","709917vsUDnx","changed","controller_","getData","then","tileCoord","canvas","loader","1063428GbWxWc","disposeInternal","disposed","drawImage","interpolate","18uiByhF"];return qp=function(){return i},qp()}function Yp(i){return i instanceof Image||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageBitmap?i:null}function B9(i){return i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Float32Array||i instanceof DataView?i:null}const S9=new Error(xr(186));let Xc=null;function M9(i){const t=xr;!Xc&&(Xc=ln(i.width,i[t(170)],void 0,{willReadFrequently:!0}));const e=Xc[t(182)],n=i[t(194)];e[t(194)]!==n&&(e[t(194)]=n);const r=i.height;return e.height!==r&&(e[t(170)]=r),Xc[t(200)](0,0,n,r),Xc[t(187)](i,0,0),Xc[t(172)](0,0,n,r)[t(196)]}const R9=[256,256];function Wp(i,t){const e=qp();return Wp=function(n,r){return n=n-170,e[n]},Wp(i,t)}class SE extends Pu{constructor(t){const e=xr,n=de.IDLE;super(t[e(181)],n,{transition:t[e(201)],interpolate:t[e(188)]}),this.loader_=t[e(183)],this[e(209)]=null,this[e(175)]=null,this[e(202)]=t[e(195)]||null,this.controller_=t[e(173)]||null}[xr(193)](){const t=xr;if(this[t(202)])return this.size_;const e=Yp(this[t(209)]);return e?[e[t(194)],e[t(170)]]:R9}[xr(179)](){return this[xr(209)]}[xr(171)](){return this[xr(175)]}[xr(207)](){const t=xr;if(this[t(190)]!==de[t(174)]&&this[t(190)]!==de[t(192)])return;this.state=de.LOADING,this[t(177)]();const e=this;this[t(198)]()[t(180)](function(n){const r=t;e[r(209)]=n,e[r(190)]=de[r(191)],e[r(177)]()}).catch(function(n){const r=t;e[r(175)]=n,e[r(190)]=de.ERROR,e[r(177)]()})}[xr(185)](){const t=xr;this[t(178)]&&(this.controller_.abort(S9),this[t(178)]=null),super.disposeInternal()}}function tf(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function T9(i,t){return i[0]=t[0],i[1]=t[1],i[4]=t[2],i[5]=t[3],i[12]=t[4],i[13]=t[5],i}function mB(i,t,e,n,r,s,a){a=a??tf();const o=1/(i-t),l=1/(e-n),c=1/(r-s);return a[0]=-2*o,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*l,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*c,a[11]=0,a[12]=(i+t)*o,a[13]=(n+e)*l,a[14]=(s+r)*c,a[15]=1,a}function _B(i,t,e,n,r){return r=r??tf(),r[0]=i[0]*t,r[1]=i[1]*t,r[2]=i[2]*t,r[3]=i[3]*t,r[4]=i[4]*e,r[5]=i[5]*e,r[6]=i[6]*e,r[7]=i[7]*e,r[8]=i[8]*n,r[9]=i[9]*n,r[10]=i[10]*n,r[11]=i[11]*n,r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],r}function IB(i,t,e,n,r){r=r??tf();let s,a,o,l,c,x,u,f,h,A,p,d;return i===r?(r[12]=i[0]*t+i[4]*e+i[8]*n+i[12],r[13]=i[1]*t+i[5]*e+i[9]*n+i[13],r[14]=i[2]*t+i[6]*e+i[10]*n+i[14],r[15]=i[3]*t+i[7]*e+i[11]*n+i[15]):(s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],x=i[5],u=i[6],f=i[7],h=i[8],A=i[9],p=i[10],d=i[11],r[0]=s,r[1]=a,r[2]=o,r[3]=l,r[4]=c,r[5]=x,r[6]=u,r[7]=f,r[8]=h,r[9]=A,r[10]=p,r[11]=d,r[12]=s*t+c*e+h*n+i[12],r[13]=a*t+x*e+A*n+i[13],r[14]=o*t+u*e+p*n+i[14],r[15]=l*t+f*e+d*n+i[15]),r}function D9(i,t,e,n){return n=n??tf(),n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=i,n[13]=t,n[14]=e,n[15]=1,n}const Xp=Object.freeze(Object.defineProperty({__proto__:null,create:tf,fromTransform:T9,orthographic:mB,scale:_B,translate:IB,translation:D9},Symbol.toStringTag,{value:"Module"})),x0=Jp;(function(i,t){const e=Jp,n=i();for(;;)try{if(-parseInt(e(340))/1+parseInt(e(379))/2*(parseInt(e(368))/3)+-parseInt(e(369))/4*(-parseInt(e(359))/5)+parseInt(e(336))/6*(parseInt(e(383))/7)+-parseInt(e(347))/8+-parseInt(e(381))/9+parseInt(e(338))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Kp,369343);const Q9=x0(387),L9=x0(384);function Kp(){const i=["u_texture","width","2989176yDDPMI","Program creation failed","TEXTURE_2D","TRIANGLES","getAttribLocation","translation","shaderSource","gl_","getUniformLocation","positions","uniform1i","Shader compilation failed","3485RjIhIE","positionLocation","FRAGMENT_SHADER","linkProgram","getShaderInfoLog","bindBuffer","getProgramParameter","Program info log creation failed","attachShader","467379jMOEqx","1892EngVIb","positionBuffer","matrixLocation","canvas","textureMatrixLocation","Shader info log creation failed","height","texcoords","bufferData","compileShader","6wgHOXv","a_position","4981338aUnPTm","orthographic","7xsxNHV",`
  precision mediump float;
=======
(function(Bi,zt){typeof exports=="object"&&typeof module<"u"?zt(exports):typeof define=="function"&&define.amd?define(["exports"],zt):(Bi=typeof globalThis<"u"?globalThis:Bi||self,zt(Bi.CMECore={}))})(this,function(Bi){"use strict";var YJ=Object.defineProperty;var XJ=(Bi,zt,Hr)=>zt in Bi?YJ(Bi,zt,{enumerable:!0,configurable:!0,writable:!0,value:Hr}):Bi[zt]=Hr;var hn=(Bi,zt,Hr)=>XJ(Bi,typeof zt!="symbol"?zt+"":zt,Hr);var ST;function zt(i){return(e,...t)=>FT(i,e,t)}function Hr(i,e){return zt(tw(i,e).get)}const{apply:FT,construct:WJ,defineProperty:jJ,get:KJ,getOwnPropertyDescriptor:tw,getPrototypeOf:dI,has:JJ,ownKeys:LT,set:ZJ,setPrototypeOf:$J}=Reflect,{iterator:Yx,species:eZ,toStringTag:PT,for:tZ}=Symbol,kT=Object,{create:pI,defineProperty:UT,freeze:nZ,is:iZ}=kT,nw=Array.prototype[Yx],NT=zt(nw),iw=ArrayBuffer,OT=iw.prototype;Hr(OT,"byteLength");const rw=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;rw&&Hr(rw.prototype,"byteLength");const sw=dI(Uint8Array);sw.from;const Si=sw.prototype;Si[Yx],zt(Si.keys),zt(Si.values),zt(Si.entries),zt(Si.set),zt(Si.reverse),zt(Si.fill),zt(Si.copyWithin),zt(Si.sort),zt(Si.slice),zt(Si.subarray),Hr(Si,"buffer"),Hr(Si,"byteOffset"),Hr(Si,"length"),Hr(Si,PT);const GT=Uint8Array,aw=Uint16Array,gI=Uint32Array,zT=Float32Array,Xx=dI([][Yx]()),ow=zt(Xx.next),VT=zt(function*(){}().next),HT=dI(Xx),qT=DataView.prototype,YT=zt(qT.getUint16),mI=WeakMap,cw=mI.prototype,lw=zt(cw.get),XT=zt(cw.set),xw=new mI,WT=pI(null,{next:{value:function(){const e=lw(xw,this);return ow(e)}},[Yx]:{value:function(){return this}}});function jT(i){if(i[Yx]===nw&&Xx.next===ow)return i;const e=pI(WT);return XT(xw,e,NT(i)),e}const KT=new mI,JT=pI(HT,{next:{value:function(){const e=lw(KT,this);return VT(e)},writable:!0,configurable:!0}});for(const i of LT(Xx))i!=="next"&&UT(JT,i,tw(Xx,i));const uw=new iw(4),ZT=new zT(uw),$T=new gI(uw),ds=new aw(512),ps=new GT(512);for(let i=0;i<256;++i){const e=i-127;e<-24?(ds[i]=0,ds[i|256]=32768,ps[i]=24,ps[i|256]=24):e<-14?(ds[i]=1024>>-e-14,ds[i|256]=1024>>-e-14|32768,ps[i]=-e-1,ps[i|256]=-e-1):e<=15?(ds[i]=e+15<<10,ds[i|256]=e+15<<10|32768,ps[i]=13,ps[i|256]=13):e<128?(ds[i]=31744,ds[i|256]=64512,ps[i]=24,ps[i|256]=24):(ds[i]=31744,ds[i|256]=64512,ps[i]=13,ps[i|256]=13)}const _I=new gI(2048);for(let i=1;i<1024;++i){let e=i<<13,t=0;for(;!(e&8388608);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,_I[i]=e|t}for(let i=1024;i<2048;++i)_I[i]=939524096+(i-1024<<13);const xc=new gI(64);for(let i=1;i<31;++i)xc[i]=i<<23;xc[31]=1199570944,xc[32]=2147483648;for(let i=33;i<63;++i)xc[i]=2147483648+(i-32<<23);xc[63]=3347054592;const hw=new aw(64);for(let i=1;i<64;++i)i!==32&&(hw[i]=1024);function eD(i){const e=i>>10;return $T[0]=_I[hw[e]+(i&1023)]+xc[e],ZT[0]}function fw(i,e,...t){return eD(YT(i,e,...jT(t)))}function Wx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var II={exports:{}};function Aw(i,e,t){const n=t&&t.debug||!1;n&&console.log("[xml-utils] getting "+e+" in "+i);const r=typeof i=="object"?i.outer:i,s=r.slice(0,r.indexOf(">")+1),a=['"',"'"];for(let o=0;o<a.length;o++){const l=a[o],c=e+"\\="+l+"([^"+l+"]*)"+l;n&&console.log("[xml-utils] pattern:",c);const u=new RegExp(c).exec(s);if(n&&console.log("[xml-utils] match:",u),u)return u[1]}}II.exports=Aw,II.exports.default=Aw;var tD=II.exports;const EI=Wx(tD);var yI={exports:{}},CI={exports:{}},bI={exports:{}};function dw(i,e,t){const r=new RegExp(e).exec(i.slice(t));return r?t+r.index:-1}bI.exports=dw,bI.exports.default=dw;var nD=bI.exports,vI={exports:{}};function pw(i,e,t){const r=new RegExp(e).exec(i.slice(t));return r?t+r.index+r[0].length-1:-1}vI.exports=pw,vI.exports.default=pw;var iD=vI.exports,wI={exports:{}};function gw(i,e){const t=new RegExp(e,"g"),n=i.match(t);return n?n.length:0}wI.exports=gw,wI.exports.default=gw;var rD=wI.exports;const sD=nD,BI=iD,mw=rD;function _w(i,e,t){const n=t&&t.debug||!1,r=!(t&&typeof t.nested===!1),s=t&&t.startIndex||0;n&&console.log("[xml-utils] starting findTagByName with",e," and ",t);const a=sD(i,`<${e}[ 
>/]`,s);if(n&&console.log("[xml-utils] start:",a),a===-1)return;const o=i.slice(a+e.length);let l=BI(o,"^[^<]*[ /]>",0);const c=l!==-1&&o[l-1]==="/";if(n&&console.log("[xml-utils] selfClosing:",c),c===!1)if(r){let f=0,A=1,g=0;for(;(l=BI(o,"[ /]"+e+">",f))!==-1;){const d=o.substring(f,l+1);if(A+=mw(d,"<"+e+`[ 
	>]`),g+=mw(d,"</"+e+">"),g>=A)break;f=l}}else l=BI(o,"[ /]"+e+">",0);const x=a+e.length+l+1;if(n&&console.log("[xml-utils] end:",x),x===-1)return;const u=i.slice(a,x);let h;return c?h=null:h=u.slice(u.indexOf(">")+1,u.lastIndexOf("<")),{inner:h,outer:u,start:a,end:x}}CI.exports=_w,CI.exports.default=_w;var aD=CI.exports;const oD=aD;function Iw(i,e,t){const n=[],r=t&&t.debug||!1,s=t&&typeof t.nested=="boolean"?t.nested:!0;let a=t&&t.startIndex||0,o;for(;o=oD(i,e,{debug:r,startIndex:a});)s?a=o.start+1+e.length:a=o.end,n.push(o);return r&&console.log("findTagsByName found",n.length,"tags"),n}yI.exports=Iw,yI.exports.default=Iw;var cD=yI.exports;const lD=Wx(cD),jx={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},gs={};for(const i in jx)jx.hasOwnProperty(i)&&(gs[jx[i]]=parseInt(i,10));const xD=[gs.BitsPerSample,gs.ExtraSamples,gs.SampleFormat,gs.StripByteCounts,gs.StripOffsets,gs.StripRowCounts,gs.TileByteCounts,gs.TileOffsets,gs.SubIFDs],SI={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},st={};for(const i in SI)SI.hasOwnProperty(i)&&(st[SI[i]]=parseInt(i,10));const sr={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},uD={Unspecified:0,Assocalpha:1,Unassalpha:2},hD={Version:0,AddCompression:1},MI={None:0,Deflate:1,Zstandard:2},fD={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"};function AD(i,e){const{width:t,height:n}=i,r=new Uint8Array(t*n*3);let s;for(let a=0,o=0;a<i.length;++a,o+=3)s=256-i[a]/e*256,r[o]=s,r[o+1]=s,r[o+2]=s;return r}function dD(i,e){const{width:t,height:n}=i,r=new Uint8Array(t*n*3);let s;for(let a=0,o=0;a<i.length;++a,o+=3)s=i[a]/e*256,r[o]=s,r[o+1]=s,r[o+2]=s;return r}function pD(i,e){const{width:t,height:n}=i,r=new Uint8Array(t*n*3),s=e.length/3,a=e.length/3*2;for(let o=0,l=0;o<i.length;++o,l+=3){const c=i[o];r[l]=e[c]/65536*256,r[l+1]=e[c+s]/65536*256,r[l+2]=e[c+a]/65536*256}return r}function gD(i){const{width:e,height:t}=i,n=new Uint8Array(e*t*3);for(let r=0,s=0;r<i.length;r+=4,s+=3){const a=i[r],o=i[r+1],l=i[r+2],c=i[r+3];n[s]=255*((255-a)/256)*((255-c)/256),n[s+1]=255*((255-o)/256)*((255-c)/256),n[s+2]=255*((255-l)/256)*((255-c)/256)}return n}function mD(i){const{width:e,height:t}=i,n=new Uint8ClampedArray(e*t*3);for(let r=0,s=0;r<i.length;r+=3,s+=3){const a=i[r],o=i[r+1],l=i[r+2];n[s]=a+1.402*(l-128),n[s+1]=a-.34414*(o-128)-.71414*(l-128),n[s+2]=a+1.772*(o-128)}return n}const _D=.95047,ID=1,ED=1.08883;function yD(i){const{width:e,height:t}=i,n=new Uint8Array(e*t*3);for(let r=0,s=0;r<i.length;r+=3,s+=3){const a=i[r+0],o=i[r+1]<<24>>24,l=i[r+2]<<24>>24;let c=(a+16)/116,x=o/500+c,u=c-l/200,h,f,A;x=_D*(x*x*x>.008856?x*x*x:(x-16/116)/7.787),c=ID*(c*c*c>.008856?c*c*c:(c-16/116)/7.787),u=ED*(u*u*u>.008856?u*u*u:(u-16/116)/7.787),h=x*3.2406+c*-1.5372+u*-.4986,f=x*-.9689+c*1.8758+u*.0415,A=x*.0557+c*-.204+u*1.057,h=h>.0031308?1.055*h**(1/2.4)-.055:12.92*h,f=f>.0031308?1.055*f**(1/2.4)-.055:12.92*f,A=A>.0031308?1.055*A**(1/2.4)-.055:12.92*A,n[s]=Math.max(0,Math.min(1,h))*255,n[s+1]=Math.max(0,Math.min(1,f))*255,n[s+2]=Math.max(0,Math.min(1,A))*255}return n}const Ew=new Map;function Ha(i,e){Array.isArray(i)||(i=[i]),i.forEach(t=>Ew.set(t,e))}async function yw(i){const e=Ew.get(i.Compression);if(!e)throw new Error(`Unknown compression method identifier: ${i.Compression}`);const t=await e();return new t(i)}Ha([void 0,1],()=>Promise.resolve().then(()=>KW).then(i=>i.default)),Ha(5,()=>Promise.resolve().then(()=>tj).then(i=>i.default)),Ha(6,()=>{throw new Error("old style JPEG compression is not supported.")}),Ha(7,()=>Promise.resolve().then(()=>aj).then(i=>i.default)),Ha([8,32946],()=>Promise.resolve().then(()=>SJ).then(i=>i.default)),Ha(32773,()=>Promise.resolve().then(()=>RJ).then(i=>i.default)),Ha(34887,()=>Promise.resolve().then(()=>LJ).then(async i=>(await i.zstd.init(),i)).then(i=>i.default)),Ha(50001,()=>Promise.resolve().then(()=>kJ).then(i=>i.default));function mA(i,e,t,n=1){return new(Object.getPrototypeOf(i)).constructor(e*t*n)}function CD(i,e,t,n,r){const s=e/n,a=t/r;return i.map(o=>{const l=mA(o,n,r);for(let c=0;c<r;++c){const x=Math.min(Math.round(a*c),t-1);for(let u=0;u<n;++u){const h=Math.min(Math.round(s*u),e-1),f=o[x*e+h];l[c*n+u]=f}}return l})}function uc(i,e,t){return(1-t)*i+t*e}function bD(i,e,t,n,r){const s=e/n,a=t/r;return i.map(o=>{const l=mA(o,n,r);for(let c=0;c<r;++c){const x=a*c,u=Math.floor(x),h=Math.min(Math.ceil(x),t-1);for(let f=0;f<n;++f){const A=s*f,g=A%1,d=Math.floor(A),p=Math.min(Math.ceil(A),e-1),m=o[u*e+d],I=o[u*e+p],_=o[h*e+d],y=o[h*e+p],E=uc(uc(m,I,g),uc(_,y,g),x%1);l[c*n+f]=E}}return l})}function vD(i,e,t,n,r,s="nearest"){switch(s.toLowerCase()){case"nearest":return CD(i,e,t,n,r);case"bilinear":case"linear":return bD(i,e,t,n,r);default:throw new Error(`Unsupported resampling method: '${s}'`)}}function wD(i,e,t,n,r,s){const a=e/n,o=t/r,l=mA(i,n,r,s);for(let c=0;c<r;++c){const x=Math.min(Math.round(o*c),t-1);for(let u=0;u<n;++u){const h=Math.min(Math.round(a*u),e-1);for(let f=0;f<s;++f){const A=i[x*e*s+h*s+f];l[c*n*s+u*s+f]=A}}}return l}function BD(i,e,t,n,r,s){const a=e/n,o=t/r,l=mA(i,n,r,s);for(let c=0;c<r;++c){const x=o*c,u=Math.floor(x),h=Math.min(Math.ceil(x),t-1);for(let f=0;f<n;++f){const A=a*f,g=A%1,d=Math.floor(A),p=Math.min(Math.ceil(A),e-1);for(let m=0;m<s;++m){const I=i[u*e*s+d*s+m],_=i[u*e*s+p*s+m],y=i[h*e*s+d*s+m],E=i[h*e*s+p*s+m],C=uc(uc(I,_,g),uc(y,E,g),x%1);l[c*n*s+f*s+m]=C}}}return l}function SD(i,e,t,n,r,s,a="nearest"){switch(a.toLowerCase()){case"nearest":return wD(i,e,t,n,r,s);case"bilinear":case"linear":return BD(i,e,t,n,r,s);default:throw new Error(`Unsupported resampling method: '${a}'`)}}function MD(i,e,t){let n=0;for(let r=e;r<t;++r)n+=i[r];return n}function RI(i,e,t){switch(i){case 1:if(e<=8)return new Uint8Array(t);if(e<=16)return new Uint16Array(t);if(e<=32)return new Uint32Array(t);break;case 2:if(e===8)return new Int8Array(t);if(e===16)return new Int16Array(t);if(e===32)return new Int32Array(t);break;case 3:switch(e){case 16:case 32:return new Float32Array(t);case 64:return new Float64Array(t)}break}throw Error("Unsupported data format/bitsPerSample")}function RD(i,e){return(i===1||i===2)&&e<=32&&e%8===0?!1:!(i===3&&(e===16||e===32||e===64))}function TD(i,e,t,n,r,s,a){const o=new DataView(i),l=t===2?a*s:a*s*n,c=t===2?1:n,x=RI(e,r,l),u=parseInt("1".repeat(r),2);if(e===1){let h;t===1?h=n*r:h=r;let f=s*h;f&7&&(f=f+7&-8);for(let A=0;A<a;++A){const g=A*f;for(let d=0;d<s;++d){const p=g+d*c*r;for(let m=0;m<c;++m){const I=p+m*r,_=(A*s+d)*c+m,y=Math.floor(I/8),E=I%8;if(E+r<=8)x[_]=o.getUint8(y)>>8-r-E&u;else if(E+r<=16)x[_]=o.getUint16(y)>>16-r-E&u;else if(E+r<=24){const C=o.getUint16(y)<<8|o.getUint8(y+2);x[_]=C>>24-r-E&u}else x[_]=o.getUint32(y)>>32-r-E&u}}}}return x.buffer}class DD{constructor(e,t,n,r,s,a){this.fileDirectory=e,this.geoKeys=t,this.dataView=n,this.littleEndian=r,this.tiles=s?{}:null,this.isTiled=!e.StripOffsets;const o=e.PlanarConfiguration;if(this.planarConfiguration=typeof o>"u"?1:o,this.planarConfiguration!==1&&this.planarConfiguration!==2)throw new Error("Invalid planar configuration.");this.source=a}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return typeof this.fileDirectory.SamplesPerPixel<"u"?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:typeof this.fileDirectory.RowsPerStrip<"u"?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}getBytesPerPixel(){let e=0;for(let t=0;t<this.fileDirectory.BitsPerSample.length;++t)e+=this.getSampleByteSize(t);return e}getSampleByteSize(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${e} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}getReaderForSample(e){const t=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,n=this.fileDirectory.BitsPerSample[e];switch(t){case 1:if(n<=8)return DataView.prototype.getUint8;if(n<=16)return DataView.prototype.getUint16;if(n<=32)return DataView.prototype.getUint32;break;case 2:if(n<=8)return DataView.prototype.getInt8;if(n<=16)return DataView.prototype.getInt16;if(n<=32)return DataView.prototype.getInt32;break;case 3:switch(n){case 16:return function(r,s){return fw(this,r,s)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}break}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(e=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}getBitsPerSample(e=0){return this.fileDirectory.BitsPerSample[e]}getArrayForSample(e,t){const n=this.getSampleFormat(e),r=this.getBitsPerSample(e);return RI(n,r,t)}async getTileOrStrip(e,t,n,r,s){const a=Math.ceil(this.getWidth()/this.getTileWidth()),o=Math.ceil(this.getHeight()/this.getTileHeight());let l;const{tiles:c}=this;this.planarConfiguration===1?l=t*a+e:this.planarConfiguration===2&&(l=n*a*o+t*a+e);let x,u;this.isTiled?(x=this.fileDirectory.TileOffsets[l],u=this.fileDirectory.TileByteCounts[l]):(x=this.fileDirectory.StripOffsets[l],u=this.fileDirectory.StripByteCounts[l]);const h=(await this.source.fetch([{offset:x,length:u}],s))[0];let f;return c===null||!c[l]?(f=(async()=>{let A=await r.decode(this.fileDirectory,h);const g=this.getSampleFormat(),d=this.getBitsPerSample();return RD(g,d)&&(A=TD(A,g,this.planarConfiguration,this.getSamplesPerPixel(),d,this.getTileWidth(),this.getBlockHeight(t))),A})(),c!==null&&(c[l]=f)):f=c[l],{x:e,y:t,sample:n,data:await f}}async _readRaster(e,t,n,r,s,a,o,l,c){const x=this.getTileWidth(),u=this.getTileHeight(),h=this.getWidth(),f=this.getHeight(),A=Math.max(Math.floor(e[0]/x),0),g=Math.min(Math.ceil(e[2]/x),Math.ceil(h/x)),d=Math.max(Math.floor(e[1]/u),0),p=Math.min(Math.ceil(e[3]/u),Math.ceil(f/u)),m=e[2]-e[0];let I=this.getBytesPerPixel();const _=[],y=[];for(let w=0;w<t.length;++w)this.planarConfiguration===1?_.push(MD(this.fileDirectory.BitsPerSample,0,t[w])/8):_.push(0),y.push(this.getReaderForSample(t[w]));const E=[],{littleEndian:C}=this;for(let w=d;w<p;++w)for(let b=A;b<g;++b){let v;this.planarConfiguration===1&&(v=this.getTileOrStrip(b,w,0,s,c));for(let B=0;B<t.length;++B){const R=B,T=t[B];this.planarConfiguration===2&&(I=this.getSampleByteSize(T),v=this.getTileOrStrip(b,w,T,s,c));const F=v.then(M=>{const D=M.data,P=new DataView(D),k=this.getBlockHeight(M.y),V=M.y*u,Y=M.x*x,U=V+k,ne=(M.x+1)*x,xe=y[R],G=Math.min(k,k-(U-e[3]),f-V),O=Math.min(x,x-(ne-e[2]),h-Y);for(let ee=Math.max(0,e[1]-V);ee<G;++ee)for(let K=Math.max(0,e[0]-Y);K<O;++K){const ce=(ee*x+K)*I,Ae=xe.call(P,ce+_[R],C);let ge;r?(ge=(ee+V-e[1])*m*t.length+(K+Y-e[0])*t.length+R,n[ge]=Ae):(ge=(ee+V-e[1])*m+K+Y-e[0],n[R][ge]=Ae)}});E.push(F)}}if(await Promise.all(E),a&&e[2]-e[0]!==a||o&&e[3]-e[1]!==o){let w;return r?w=SD(n,e[2]-e[0],e[3]-e[1],a,o,t.length,l):w=vD(n,e[2]-e[0],e[3]-e[1],a,o,l),w.width=a,w.height=o,w}return n.width=a||e[2]-e[0],n.height=o||e[3]-e[1],n}async readRasters({window:e,samples:t=[],interleave:n,pool:r=null,width:s,height:a,resampleMethod:o,fillValue:l,signal:c}={}){const x=e||[0,0,this.getWidth(),this.getHeight()];if(x[0]>x[2]||x[1]>x[3])throw new Error("Invalid subsets");const u=x[2]-x[0],h=x[3]-x[1],f=u*h,A=this.getSamplesPerPixel();if(!t||!t.length)for(let m=0;m<A;++m)t.push(m);else for(let m=0;m<t.length;++m)if(t[m]>=A)return Promise.reject(new RangeError(`Invalid sample index '${t[m]}'.`));let g;if(n){const m=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,I=Math.max.apply(null,this.fileDirectory.BitsPerSample);g=RI(m,I,f*t.length),l&&g.fill(l)}else{g=[];for(let m=0;m<t.length;++m){const I=this.getArrayForSample(t[m],f);Array.isArray(l)&&m<l.length?I.fill(l[m]):l&&!Array.isArray(l)&&I.fill(l),g.push(I)}}const d=r||await yw(this.fileDirectory);return await this._readRaster(x,t,g,n,d,s,a,o,c)}async readRGB({window:e,interleave:t=!0,pool:n=null,width:r,height:s,resampleMethod:a,enableAlpha:o=!1,signal:l}={}){const c=e||[0,0,this.getWidth(),this.getHeight()];if(c[0]>c[2]||c[1]>c[3])throw new Error("Invalid subsets");const x=this.fileDirectory.PhotometricInterpretation;if(x===sr.RGB){let p=[0,1,2];if(this.fileDirectory.ExtraSamples!==uD.Unspecified&&o){p=[];for(let m=0;m<this.fileDirectory.BitsPerSample.length;m+=1)p.push(m)}return this.readRasters({window:e,interleave:t,samples:p,pool:n,width:r,height:s,resampleMethod:a,signal:l})}let u;switch(x){case sr.WhiteIsZero:case sr.BlackIsZero:case sr.Palette:u=[0];break;case sr.CMYK:u=[0,1,2,3];break;case sr.YCbCr:case sr.CIELab:u=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const h={window:c,interleave:!0,samples:u,pool:n,width:r,height:s,resampleMethod:a,signal:l},{fileDirectory:f}=this,A=await this.readRasters(h),g=2**this.fileDirectory.BitsPerSample[0];let d;switch(x){case sr.WhiteIsZero:d=AD(A,g);break;case sr.BlackIsZero:d=dD(A,g);break;case sr.Palette:d=pD(A,f.ColorMap);break;case sr.CMYK:d=gD(A);break;case sr.YCbCr:d=mD(A);break;case sr.CIELab:d=yD(A);break;default:throw new Error("Unsupported photometric interpretation.")}if(!t){const p=new Uint8Array(d.length/3),m=new Uint8Array(d.length/3),I=new Uint8Array(d.length/3);for(let _=0,y=0;_<d.length;_+=3,++y)p[y]=d[_],m[y]=d[_+1],I[y]=d[_+2];d=[p,m,I]}return d.width=A.width,d.height=A.height,d}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const e=[];for(let t=0;t<this.fileDirectory.ModelTiepoint.length;t+=6)e.push({i:this.fileDirectory.ModelTiepoint[t],j:this.fileDirectory.ModelTiepoint[t+1],k:this.fileDirectory.ModelTiepoint[t+2],x:this.fileDirectory.ModelTiepoint[t+3],y:this.fileDirectory.ModelTiepoint[t+4],z:this.fileDirectory.ModelTiepoint[t+5]});return e}getGDALMetadata(e=null){const t={};if(!this.fileDirectory.GDAL_METADATA)return null;const n=this.fileDirectory.GDAL_METADATA;let r=lD(n,"Item");e===null?r=r.filter(s=>EI(s,"sample")===void 0):r=r.filter(s=>Number(EI(s,"sample"))===e);for(let s=0;s<r.length;++s){const a=r[s];t[EI(a,"name")]=a.inner}return t}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}getOrigin(){const e=this.fileDirectory.ModelTiepoint,t=this.fileDirectory.ModelTransformation;if(e&&e.length===6)return[e[3],e[4],e[5]];if(t)return[t[3],t[7],t[11]];throw new Error("The image does not have an affine transformation.")}getResolution(e=null){const t=this.fileDirectory.ModelPixelScale,n=this.fileDirectory.ModelTransformation;if(t)return[t[0],-t[1],t[2]];if(n)return n[1]===0&&n[4]===0?[n[0],-n[5],n[10]]:[Math.sqrt(n[0]*n[0]+n[4]*n[4]),-Math.sqrt(n[1]*n[1]+n[5]*n[5]),n[10]];if(e){const[r,s,a]=e.getResolution();return[r*e.getWidth()/this.getWidth(),s*e.getHeight()/this.getHeight(),a*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return this.geoKeys.GTRasterTypeGeoKey===1}getBoundingBox(e=!1){const t=this.getHeight(),n=this.getWidth();if(this.fileDirectory.ModelTransformation&&!e){const[r,s,a,o,l,c,x,u]=this.fileDirectory.ModelTransformation,f=[[0,0],[0,t],[n,0],[n,t]].map(([d,p])=>[o+r*d+s*p,u+l*d+c*p]),A=f.map(d=>d[0]),g=f.map(d=>d[1]);return[Math.min(...A),Math.min(...g),Math.max(...A),Math.max(...g)]}else{const r=this.getOrigin(),s=this.getResolution(),a=r[0],o=r[1],l=a+s[0]*n,c=o+s[1]*t;return[Math.min(a,l),Math.min(o,c),Math.max(a,l),Math.max(o,c)]}}}class QD{constructor(e){this._dataView=new DataView(e)}get buffer(){return this._dataView.buffer}getUint64(e,t){const n=this.getUint32(e,t),r=this.getUint32(e+4,t);let s;if(t){if(s=n+2**32*r,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}if(s=2**32*n+r,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}getInt64(e,t){let n=0;const r=(this._dataView.getUint8(e+(t?7:0))&128)>0;let s=!0;for(let a=0;a<8;a++){let o=this._dataView.getUint8(e+(t?a:7-a));r&&(s?o!==0&&(o=~(o-1)&255,s=!1):o=~o&255),n+=o*256**a}return r&&(n=-n),n}getUint8(e,t){return this._dataView.getUint8(e,t)}getInt8(e,t){return this._dataView.getInt8(e,t)}getUint16(e,t){return this._dataView.getUint16(e,t)}getInt16(e,t){return this._dataView.getInt16(e,t)}getUint32(e,t){return this._dataView.getUint32(e,t)}getInt32(e,t){return this._dataView.getInt32(e,t)}getFloat16(e,t){return fw(this._dataView,e,t)}getFloat32(e,t){return this._dataView.getFloat32(e,t)}getFloat64(e,t){return this._dataView.getFloat64(e,t)}}class FD{constructor(e,t,n,r){this._dataView=new DataView(e),this._sliceOffset=t,this._littleEndian=n,this._bigTiff=r}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(e,t){return this.sliceOffset<=e&&this.sliceTop>=e+t}readUint8(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}readInt8(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}readUint16(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}readInt16(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}readUint32(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}readInt32(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}readFloat32(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}readFloat64(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}readUint64(e){const t=this.readUint32(e),n=this.readUint32(e+4);let r;if(this._littleEndian){if(r=t+2**32*n,!Number.isSafeInteger(r))throw new Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}if(r=2**32*t+n,!Number.isSafeInteger(r))throw new Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}readInt64(e){let t=0;const n=(this._dataView.getUint8(e+(this._littleEndian?7:0))&128)>0;let r=!0;for(let s=0;s<8;s++){let a=this._dataView.getUint8(e+(this._littleEndian?s:7-s));n&&(r?a!==0&&(a=~(a-1)&255,r=!1):a=~a&255),t+=a*256**s}return n&&(t=-t),t}readOffset(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}const LD=typeof navigator<"u"&&navigator.hardwareConcurrency||2;class PD{constructor(e=LD,t){this.workers=null,this._awaitingDecoder=null,this.size=e,this.messageId=0,e&&(this._awaitingDecoder=t?Promise.resolve(t):new Promise(n=>{Promise.resolve().then(()=>OJ).then(r=>{n(r.create)})}),this._awaitingDecoder.then(n=>{this._awaitingDecoder=null,this.workers=[];for(let r=0;r<e;r++)this.workers.push({worker:n(),idle:!0})}))}async decode(e,t){return this._awaitingDecoder&&await this._awaitingDecoder,this.size===0?yw(e).then(n=>n.decode(e,t)):new Promise(n=>{const r=this.workers.find(o=>o.idle)||this.workers[Math.floor(Math.random()*this.size)];r.idle=!1;const s=this.messageId++,a=o=>{o.data.id===s&&(r.idle=!0,n(o.data.decoded),r.worker.removeEventListener("message",a))};r.worker.addEventListener("message",a),r.worker.postMessage({fileDirectory:e,buffer:t,id:s},[t])})}destroy(){this.workers&&(this.workers.forEach(e=>{e.worker.terminate()}),this.workers=null)}}const Cw=`\r
\r
`;function bw(i){if(typeof Object.fromEntries<"u")return Object.fromEntries(i);const e={};for(const[t,n]of i)e[t.toLowerCase()]=n;return e}function kD(i){const e=i.split(`\r
`).map(t=>{const n=t.split(":").map(r=>r.trim());return n[0]=n[0].toLowerCase(),n});return bw(e)}function UD(i){const[e,...t]=i.split(";").map(r=>r.trim()),n=t.map(r=>r.split("="));return{type:e,params:bw(n)}}function TI(i){let e,t,n;return i&&([,e,t,n]=i.match(/bytes (\d+)-(\d+)\/(\d+)/),e=parseInt(e,10),t=parseInt(t,10),n=parseInt(n,10)),{start:e,end:t,total:n}}function ND(i,e){let t=null;const n=new TextDecoder("ascii"),r=[],s=`--${e}`,a=`${s}--`;for(let o=0;o<10;++o)n.decode(new Uint8Array(i,o,s.length))===s&&(t=o);if(t===null)throw new Error("Could not find initial boundary");for(;t<i.byteLength;){const o=n.decode(new Uint8Array(i,t,Math.min(s.length+1024,i.byteLength-t)));if(o.length===0||o.startsWith(a))break;if(!o.startsWith(s))throw new Error("Part does not start with boundary");const l=o.substr(s.length+2);if(l.length===0)break;const c=l.indexOf(Cw),x=kD(l.substr(0,c)),{start:u,end:h,total:f}=TI(x["content-range"]),A=t+s.length+c+Cw.length,g=parseInt(h,10)+1-parseInt(u,10);r.push({headers:x,data:i.slice(A,A+g),offset:u,length:g,fileSize:f}),t=A+g+4}return r}class vw{async fetch(e,t=void 0){return Promise.all(e.map(n=>this.fetchSlice(n,t)))}async fetchSlice(e){throw new Error(`fetching of slice ${e} not possible, not implemented`)}get fileSize(){return null}async close(){}}class OD extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(const[t,n]of e)this.onEviction(t,n.value)}_deleteIfExpired(e,t){return typeof t.expiry=="number"&&t.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,t.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,t){if(this._deleteIfExpired(e,t)===!1)return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const n=t.get(e);return this._getItemValue(e,n)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,n]=e;this.cache.has(t)||this._deleteIfExpired(t,n)===!1&&(yield e)}for(const e of this.cache){const[t,n]=e;this._deleteIfExpired(t,n)===!1&&(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(this._deleteIfExpired(e,t)===!1)return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:n=this.maxAge}={}){const r=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;return this.cache.has(e)?this.cache.set(e,{value:t,expiry:r}):this._set(e,{value:t,expiry:r}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],n=t.length-e;n<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(n>0&&this._emitEvictions(t.slice(0,n)),this.oldCache=new Map(t.slice(n)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,n]=e;this._deleteIfExpired(t,n)===!1&&(yield[t,n.value])}for(const e of this.oldCache){const[t,n]=e;this.cache.has(t)||this._deleteIfExpired(t,n)===!1&&(yield[t,n.value])}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const n=e[t],[r,s]=n;this._deleteIfExpired(r,s)===!1&&(yield[r,s.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const n=e[t],[r,s]=n;this.cache.has(r)||this._deleteIfExpired(r,s)===!1&&(yield[r,s.value])}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,t=this){for(const[n,r]of this.entriesAscending())e.call(t,r,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}async function GD(i){return new Promise(e=>setTimeout(e,i))}function zD(i,e){const t=Array.isArray(i)?i:Array.from(i),n=Array.isArray(e)?e:Array.from(e);return t.map((r,s)=>[r,n[s]])}class hc extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,hc),this.name="AbortError"}}class VD extends Error{constructor(e,t){super(t),this.errors=e,this.message=t,this.name="AggregateError"}}const HD=VD;class qD{constructor(e,t,n=null){this.offset=e,this.length=t,this.data=n}get top(){return this.offset+this.length}}class ww{constructor(e,t,n){this.offset=e,this.length=t,this.blockIds=n}}class YD extends vw{constructor(e,{blockSize:t=65536,cacheSize:n=100}={}){super(),this.source=e,this.blockSize=t,this.blockCache=new OD({maxSize:n,onEviction:(r,s)=>{this.evictedBlocks.set(r,s)}}),this.evictedBlocks=new Map,this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(e,t){const n=[],r=[],s=[];this.evictedBlocks.clear();for(const{offset:h,length:f}of e){let A=h+f;const{fileSize:g}=this;g!==null&&(A=Math.min(A,g));const d=Math.floor(h/this.blockSize)*this.blockSize;for(let p=d;p<A;p+=this.blockSize){const m=Math.floor(p/this.blockSize);!this.blockCache.has(m)&&!this.blockRequests.has(m)&&(this.blockIdsToFetch.add(m),r.push(m)),this.blockRequests.has(m)&&n.push(this.blockRequests.get(m)),s.push(m)}}await GD(),this.fetchBlocks(t);const a=[];for(const h of r)this.blockRequests.has(h)&&a.push(this.blockRequests.get(h));await Promise.allSettled(n),await Promise.allSettled(a);const o=[],l=s.filter(h=>this.abortedBlockIds.has(h)||!this.blockCache.has(h));if(l.forEach(h=>this.blockIdsToFetch.add(h)),l.length>0&&t&&!t.aborted){this.fetchBlocks(null);for(const h of l){const f=this.blockRequests.get(h);if(!f)throw new Error(`Block ${h} is not in the block requests`);o.push(f)}await Promise.allSettled(o)}if(t&&t.aborted)throw new hc("Request was aborted");const c=s.map(h=>this.blockCache.get(h)||this.evictedBlocks.get(h)),x=c.filter(h=>!h);if(x.length)throw new HD(x,"Request failed");const u=new Map(zD(s,c));return this.readSliceData(e,u)}fetchBlocks(e){if(this.blockIdsToFetch.size>0){const t=this.groupBlocks(this.blockIdsToFetch),n=this.source.fetch(t,e);for(let r=0;r<t.length;++r){const s=t[r];for(const a of s.blockIds)this.blockRequests.set(a,(async()=>{try{const o=(await n)[r],l=a*this.blockSize,c=l-o.offset,x=Math.min(c+this.blockSize,o.data.byteLength),u=o.data.slice(c,x),h=new qD(l,u.byteLength,u,a);this.blockCache.set(a,h),this.abortedBlockIds.delete(a)}catch(o){if(o.name==="AbortError")o.signal=e,this.blockCache.delete(a),this.abortedBlockIds.add(a);else throw o}finally{this.blockRequests.delete(a)}})())}this.blockIdsToFetch.clear()}}groupBlocks(e){const t=Array.from(e).sort((a,o)=>a-o);if(t.length===0)return[];let n=[],r=null;const s=[];for(const a of t)r===null||r+1===a?(n.push(a),r=a):(s.push(new ww(n[0]*this.blockSize,n.length*this.blockSize,n)),n=[a],r=a);return s.push(new ww(n[0]*this.blockSize,n.length*this.blockSize,n)),s}readSliceData(e,t){return e.map(n=>{let r=n.offset+n.length;this.fileSize!==null&&(r=Math.min(this.fileSize,r));const s=Math.floor(n.offset/this.blockSize),a=Math.floor(r/this.blockSize),o=new ArrayBuffer(n.length),l=new Uint8Array(o);for(let c=s;c<=a;++c){const x=t.get(c),u=x.offset-n.offset,h=x.top-r;let f=0,A=0,g;u<0?f=-u:u>0&&(A=u),h<0?g=x.length-f:g=r-x.offset-f;const d=new Uint8Array(x.data,f,g);l.set(d,A)}return o})}}class DI{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(e){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class QI{constructor(e){this.url=e}async request({headers:e,signal:t}={}){throw new Error("request is not implemented")}}class XD extends DI{constructor(e){super(),this.response=e}get status(){return this.response.status}getHeader(e){return this.response.headers.get(e)}async getData(){return this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer}}class WD extends QI{constructor(e,t){super(e),this.credentials=t}async request({headers:e,signal:t}={}){const n=await fetch(this.url,{headers:e,credentials:this.credentials,signal:t});return new XD(n)}}class jD extends DI{constructor(e,t){super(),this.xhr=e,this.data=t}get status(){return this.xhr.status}getHeader(e){return this.xhr.getResponseHeader(e)}async getData(){return this.data}}class KD extends QI{constructRequest(e,t){return new Promise((n,r)=>{const s=new XMLHttpRequest;s.open("GET",this.url),s.responseType="arraybuffer";for(const[a,o]of Object.entries(e))s.setRequestHeader(a,o);s.onload=()=>{const a=s.response;n(new jD(s,a))},s.onerror=r,s.onabort=()=>r(new hc("Request aborted")),s.send(),t&&(t.aborted&&s.abort(),t.addEventListener("abort",()=>s.abort()))})}async request({headers:e,signal:t}={}){return await this.constructRequest(e,t)}}const FI={};class JD extends DI{constructor(e,t){super(),this.response=e,this.dataPromise=t}get status(){return this.response.statusCode}getHeader(e){return this.response.headers[e]}async getData(){return await this.dataPromise}}class ZD extends QI{constructor(e){super(e),this.parsedUrl=FI.parse(this.url),this.httpApi=(this.parsedUrl.protocol==="http:",FI)}constructRequest(e,t){return new Promise((n,r)=>{const s=this.httpApi.get({...this.parsedUrl,headers:e},a=>{const o=new Promise(l=>{const c=[];a.on("data",x=>{c.push(x)}),a.on("end",()=>{const x=Buffer.concat(c).buffer;l(x)}),a.on("error",r)});n(new JD(a,o))});s.on("error",r),t&&(t.aborted&&s.destroy(new hc("Request aborted")),t.addEventListener("abort",()=>s.destroy(new hc("Request aborted"))))})}async request({headers:e,signal:t}={}){return await this.constructRequest(e,t)}}class LI extends vw{constructor(e,t,n,r){super(),this.client=e,this.headers=t,this.maxRanges=n,this.allowFullFile=r,this._fileSize=null}async fetch(e,t){return this.maxRanges>=e.length?this.fetchSlices(e,t):(this.maxRanges>0&&e.length>1,Promise.all(e.map(n=>this.fetchSlice(n,t))))}async fetchSlices(e,t){const n=await this.client.request({headers:{...this.headers,Range:`bytes=${e.map(({offset:r,length:s})=>`${r}-${r+s}`).join(",")}`},signal:t});if(n.ok)if(n.status===206){const{type:r,params:s}=UD(n.getHeader("content-type"));if(r==="multipart/byteranges"){const u=ND(await n.getData(),s.boundary);return this._fileSize=u[0].fileSize||null,u}const a=await n.getData(),{start:o,end:l,total:c}=TI(n.getHeader("content-range"));this._fileSize=c||null;const x=[{data:a,offset:o,length:l-o}];if(e.length>1){const u=await Promise.all(e.slice(1).map(h=>this.fetchSlice(h,t)));return x.concat(u)}return x}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const r=await n.getData();return this._fileSize=r.byteLength,[{data:r,offset:0,length:r.byteLength}]}else throw new Error("Error fetching data.")}async fetchSlice(e,t){const{offset:n,length:r}=e,s=await this.client.request({headers:{...this.headers,Range:`bytes=${n}-${n+r}`},signal:t});if(s.ok)if(s.status===206){const a=await s.getData(),{total:o}=TI(s.getHeader("content-range"));return this._fileSize=o||null,{data:a,offset:n,length:r}}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const a=await s.getData();return this._fileSize=a.byteLength,{data:a,offset:0,length:a.byteLength}}else throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function PI(i,{blockSize:e,cacheSize:t}){return e===null?i:new YD(i,{blockSize:e,cacheSize:t})}function $D(i,{headers:e={},credentials:t,maxRanges:n=0,allowFullFile:r=!1,...s}={}){const a=new WD(i,t),o=new LI(a,e,n,r);return PI(o,s)}function eQ(i,{headers:e={},maxRanges:t=0,allowFullFile:n=!1,...r}={}){const s=new KD(i),a=new LI(s,e,t,n);return PI(a,r)}function tQ(i,{headers:e={},maxRanges:t=0,allowFullFile:n=!1,...r}={}){const s=new ZD(i),a=new LI(s,e,t,n);return PI(a,r)}function nQ(i,{forceXHR:e=!1,...t}={}){return typeof fetch=="function"&&!e?$D(i,t):typeof XMLHttpRequest<"u"?eQ(i,t):tQ(i,t)}function iQ(i,e){let t=i.length-e,n=0;do{for(let r=e;r>0;r--)i[n+e]+=i[n],n++;t-=e}while(t>0)}function rQ(i,e,t){let n=0,r=i.length;const s=r/t;for(;r>e;){for(let o=e;o>0;--o)i[n+e]+=i[n],++n;r-=e}const a=i.slice();for(let o=0;o<s;++o)for(let l=0;l<t;++l)i[t*o+l]=a[(t-l-1)*s+o]}function sQ(i,e,t,n,r,s){if(!e||e===1)return i;for(let l=0;l<r.length;++l){if(r[l]%8!==0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(r[l]!==r[0])throw new Error("When decoding with predictor, all samples must have the same size.")}const a=r[0]/8,o=s===2?1:r.length;for(let l=0;l<n&&!(l*o*t*a>=i.byteLength);++l){let c;if(e===2){switch(r[0]){case 8:c=new Uint8Array(i,l*o*t*a,o*t*a);break;case 16:c=new Uint16Array(i,l*o*t*a,o*t*a/2);break;case 32:c=new Uint32Array(i,l*o*t*a,o*t*a/4);break;default:throw new Error(`Predictor 2 not allowed with ${r[0]} bits per sample.`)}iQ(c,o)}else e===3&&(c=new Uint8Array(i,l*o*t*a,o*t*a),rQ(c,o,a))}return i}class Jo{async decode(e,t){const n=await this.decodeBlock(t),r=e.Predictor||1;if(r!==1){const s=!e.StripOffsets,a=s?e.TileWidth:e.ImageWidth,o=s?e.TileLength:e.RowsPerStrip||e.ImageLength;return sQ(n,r,a,o,e.BitsPerSample,e.PlanarConfiguration)}return n}}function kI(i){switch(i){case st.BYTE:case st.ASCII:case st.SBYTE:case st.UNDEFINED:return 1;case st.SHORT:case st.SSHORT:return 2;case st.LONG:case st.SLONG:case st.FLOAT:case st.IFD:return 4;case st.RATIONAL:case st.SRATIONAL:case st.DOUBLE:case st.LONG8:case st.SLONG8:case st.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${i}`)}}function aQ(i){const e=i.GeoKeyDirectory;if(!e)return null;const t={};for(let n=4;n<=e[3]*4;n+=4){const r=fD[e[n]],s=e[n+1]?jx[e[n+1]]:null,a=e[n+2],o=e[n+3];let l=null;if(!s)l=o;else{if(l=i[s],typeof l>"u"||l===null)throw new Error(`Could not get value of geoKey '${r}'.`);typeof l=="string"?l=l.substring(o,o+a-1):l.subarray&&(l=l.subarray(o,o+a),a===1&&(l=l[0]))}t[r]=l}return t}function fc(i,e,t,n){let r=null,s=null;const a=kI(e);switch(e){case st.BYTE:case st.ASCII:case st.UNDEFINED:r=new Uint8Array(t),s=i.readUint8;break;case st.SBYTE:r=new Int8Array(t),s=i.readInt8;break;case st.SHORT:r=new Uint16Array(t),s=i.readUint16;break;case st.SSHORT:r=new Int16Array(t),s=i.readInt16;break;case st.LONG:case st.IFD:r=new Uint32Array(t),s=i.readUint32;break;case st.SLONG:r=new Int32Array(t),s=i.readInt32;break;case st.LONG8:case st.IFD8:r=new Array(t),s=i.readUint64;break;case st.SLONG8:r=new Array(t),s=i.readInt64;break;case st.RATIONAL:r=new Uint32Array(t*2),s=i.readUint32;break;case st.SRATIONAL:r=new Int32Array(t*2),s=i.readInt32;break;case st.FLOAT:r=new Float32Array(t),s=i.readFloat32;break;case st.DOUBLE:r=new Float64Array(t),s=i.readFloat64;break;default:throw new RangeError(`Invalid field type: ${e}`)}if(e===st.RATIONAL||e===st.SRATIONAL)for(let o=0;o<t;o+=2)r[o]=s.call(i,n+o*a),r[o+1]=s.call(i,n+(o*a+4));else for(let o=0;o<t;++o)r[o]=s.call(i,n+o*a);return e===st.ASCII?new TextDecoder("utf-8").decode(r):r}class oQ{constructor(e,t,n){this.fileDirectory=e,this.geoKeyDirectory=t,this.nextIFDByteOffset=n}}class _A extends Error{constructor(e){super(`No image at index ${e}`),this.index=e}}class cQ{async readRasters(e={}){const{window:t,width:n,height:r}=e;let{resX:s,resY:a,bbox:o}=e;const l=await this.getImage();let c=l;const x=await this.getImageCount(),u=l.getBoundingBox();if(t&&o)throw new Error('Both "bbox" and "window" passed.');if(n||r){if(t){const[A,g]=l.getOrigin(),[d,p]=l.getResolution();o=[A+t[0]*d,g+t[1]*p,A+t[2]*d,g+t[3]*p]}const f=o||u;if(n){if(s)throw new Error("Both width and resX passed");s=(f[2]-f[0])/n}if(r){if(a)throw new Error("Both width and resY passed");a=(f[3]-f[1])/r}}if(s||a){const f=[];for(let A=0;A<x;++A){const g=await this.getImage(A),{SubfileType:d,NewSubfileType:p}=g.fileDirectory;(A===0||d===2||p&1)&&f.push(g)}f.sort((A,g)=>A.getWidth()-g.getWidth());for(let A=0;A<f.length;++A){const g=f[A],d=(u[2]-u[0])/g.getWidth(),p=(u[3]-u[1])/g.getHeight();if(c=g,s&&s>d||a&&a>p)break}}let h=t;if(o){const[f,A]=l.getOrigin(),[g,d]=c.getResolution(l);h=[Math.round((o[0]-f)/g),Math.round((o[1]-A)/d),Math.round((o[2]-f)/g),Math.round((o[3]-A)/d)],h=[Math.min(h[0],h[2]),Math.min(h[1],h[3]),Math.max(h[0],h[2]),Math.max(h[1],h[3])]}return c.readRasters({...e,window:h})}}class UI extends cQ{constructor(e,t,n,r,s={}){super(),this.source=e,this.littleEndian=t,this.bigTiff=n,this.firstIFDOffset=r,this.cache=s.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(e,t){const n=this.bigTiff?4048:1024;return new FD((await this.source.fetch([{offset:e,length:typeof t<"u"?t:n}]))[0],e,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(e){const t=this.bigTiff?20:12,n=this.bigTiff?8:2;let r=await this.getSlice(e);const s=this.bigTiff?r.readUint64(e):r.readUint16(e),a=s*t+(this.bigTiff?16:6);r.covers(e,a)||(r=await this.getSlice(e,a));const o={};let l=e+(this.bigTiff?8:2);for(let u=0;u<s;l+=t,++u){const h=r.readUint16(l),f=r.readUint16(l+2),A=this.bigTiff?r.readUint64(l+4):r.readUint32(l+4);let g,d;const p=kI(f),m=l+(this.bigTiff?12:8);if(p*A<=(this.bigTiff?8:4))g=fc(r,f,A,m);else{const I=r.readOffset(m),_=kI(f)*A;if(r.covers(I,_))g=fc(r,f,A,I);else{const y=await this.getSlice(I,_);g=fc(y,f,A,I)}}A===1&&xD.indexOf(h)===-1&&!(f===st.RATIONAL||f===st.SRATIONAL)?d=g[0]:d=g,o[jx[h]]=d}const c=aQ(o),x=r.readOffset(e+n+t*s);return new oQ(o,c,x)}async requestIFD(e){if(this.ifdRequests[e])return this.ifdRequests[e];if(e===0)return this.ifdRequests[e]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[e];if(!this.ifdRequests[e-1])try{this.ifdRequests[e-1]=this.requestIFD(e-1)}catch(t){throw t instanceof _A?new _A(e):t}return this.ifdRequests[e]=(async()=>{const t=await this.ifdRequests[e-1];if(t.nextIFDByteOffset===0)throw new _A(e);return this.parseFileDirectoryAt(t.nextIFDByteOffset)})(),this.ifdRequests[e]}async getImage(e=0){const t=await this.requestIFD(e);return new DD(t.fileDirectory,t.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let e=0,t=!0;for(;t;)try{await this.requestIFD(e),++e}catch(n){if(n instanceof _A)t=!1;else throw n}return e}async getGhostValues(){const e=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const t="GDAL_STRUCTURAL_METADATA_SIZE=",n=t.length+100;let r=await this.getSlice(e,n);if(t===fc(r,st.ASCII,t.length,e)){const a=fc(r,st.ASCII,n,e).split(`
`)[0],o=Number(a.split("=")[1].split(" ")[0])+a.length;o>n&&(r=await this.getSlice(e,o));const l=fc(r,st.ASCII,o,e);this.ghostValues={},l.split(`
`).filter(c=>c.length>0).map(c=>c.split("=")).forEach(([c,x])=>{this.ghostValues[c]=x})}return this.ghostValues}static async fromSource(e,t,n){const r=(await e.fetch([{offset:0,length:1024}],n))[0],s=new QD(r),a=s.getUint16(0,0);let o;if(a===18761)o=!0;else if(a===19789)o=!1;else throw new TypeError("Invalid byte order value.");const l=s.getUint16(2,o);let c;if(l===42)c=!1;else if(l===43){if(c=!0,s.getUint16(4,o)!==8)throw new Error("Unsupported offset byte-size.")}else throw new TypeError("Invalid magic number.");const x=c?s.getUint64(8,o):s.getUint32(4,o);return new UI(e,o,c,x,t)}close(){return typeof this.source.close=="function"?this.source.close():!1}}async function Bw(i,e={},t){return UI.fromSource(nQ(i,e),t)}class lQ{constructor(e){this.option=e,this.abortController=new AbortController,this.url=e.url,this.tiff,this.imageCount,this.images,this.metadata,this.bbox,this.coordType=1,this.fristImage,this.bandsNumber=1,this.imageWidth=0,this.imageheight=0,this.imageBbox=[0,0,0,0],this.resolutionX,this.resolutionY,this.rasterData,this.rasterDatas=[],this.dataExtent,this.interpolationParams={la1:0,la2:0,lo1:0,lo2:0,nx:0,ny:0,dx:0,dy:0},this.grid=[],this.project="EPSG:4326"}getWorkerPool(){let e;return e||(e=new PD),e}async fetchTiff(){this.tiff=await Bw(this.url,this.abortController.singal);const e=await this.tiff.getImage(),t=await e.readRasters({pool:this.getWorkerPool()});this.imagewidth=e.getWidth(),this.imageheight=e.getHeight(),this.project=e.getGeoKeys().GeogCitationGeoKey,this.project=="WGS 84"&&(this.project="EPSG:4326"),this.bandsNumber=t.length,this.imageCount=await this.tiff.getImageCount();const n=new Array(this.imageCount);for(let s=0;s<this.imageCount;s++){const a=await this.tiff.getImage(s);n[s]={image:a};const o=a.getResolution(n[0].image);n[s]={image:a,res:[o[0],o[1]]}}const r=n[0].image;this.fristImage=r,this.metadata=this._parseMetaData(r.getGDALMetadata()),this.bbox=r.getBoundingBox(),this.coordType=this.getCoordType(this.bbox),this.images=n}matchImageByRes(e){let t=0;for(t=0;t<this.images.length;t++){const[n,r]=this.images[t].res;if(e<Math.abs(n)||e<Math.abs(r))break}return t=t>0?t-1:0,this.images[t]}_parseMetaData(e){var t,n,r,s,a,o,l,c,x,u,h,f,A,g,d,p,m,I,_,y,E,C,w,b,v,B,R,T;return e?(e.max=((n=(t=this.option)==null?void 0:t.metadata)==null?void 0:n.max)||parseFloat(e.max||9999),e.min=((s=(r=this.option)==null?void 0:r.metadata)==null?void 0:s.min)|parseFloat(e.min||-9999),e.nodata=((o=(a=this.option)==null?void 0:a.metadata)==null?void 0:o.nodata)||parseFloat(e.nodata||-9999),e.offset=((c=(l=this.option)==null?void 0:l.metadata)==null?void 0:c.offset)||parseFloat(e.offset||0),e.unit=((u=(x=this.option)==null?void 0:x.metadata)==null?void 0:u.unit)||parseFloat(e.unit||0),(f=(h=this.option)==null?void 0:h.metadata)!=null&&f.scale&&(e.customScale=((g=(A=this.option)==null?void 0:A.metadata)==null?void 0:g.scale)/parseFloat(e.scale||1),((p=(d=this.option)==null?void 0:d.metadata)==null?void 0:p.unit)=="C"?(e.max=e.max-273.15,e.min=e.min-273.15):(e.max=e.max,e.min=e.min)),e.scale=((I=(m=this.option)==null?void 0:m.metadata)==null?void 0:I.scale)||parseFloat(e.scale||1)):(e={},e.max=((y=(_=this.option)==null?void 0:_.metadata)==null?void 0:y.max)||9999,e.min=((C=(E=this.option)==null?void 0:E.metadata)==null?void 0:C.min)||-9999,e.nodata=((b=(w=this.option)==null?void 0:w.metadata)==null?void 0:b.nodata)||-9999,e.offset=((B=(v=this.option)==null?void 0:v.metadata)==null?void 0:B.offset)||0,e.scale=((T=(R=this.option)==null?void 0:R.metadata)==null?void 0:T.scale)||1),e}async getDataByBbox(e,t){this.abortController.abort(),this.abortController=new AbortController;const n=this.abortController.signal,[r,s]=this.fristImage.getOrigin(),a=e.image,[o,l]=a.getResolution(this.fristImage);let c=[],x=this.calcBbox(t);this.rasterDatas=[];for(let u of x){let h=[(u[0]-r)/o,(u[1]-s)/l,(u[2]-r)/o,(u[3]-s)/l];if(h=[Math.floor(Math.min(h[0],h[2])),Math.floor(Math.min(h[1],h[3])),Math.ceil(Math.max(h[0],h[2])),Math.ceil(Math.max(h[1],h[3]))],Math.abs(h[2]-h[0])<=1||Math.abs(h[3]-h[1])<=1){let A=2;h[2]+A<this.imagewidth?h[2]=h[2]+A:(h[2]=this.imagewidth,h[0]=h[2]-A),h[0]-A<0?h[0]=0:h[0]=h[0]-A,h[3]+A<this.imageheight?h[3]=h[3]+A:h[3]=this.imageheight,h[1]-A<0?h[1]=0:h[1]=h[1]-A}u=[h[0]*o+r,h[1]*l+s,h[2]*o+r,h[3]*l+s],c=[u[0],u[3],u[2],u[1]];const f=await a.readRasters({fillValue:this.metadata.nodata,window:h,signal:n});f.wnd=h,f.dataBbox=u,this.interpolationParams.nx=f.width,this.interpolationParams.ny=f.height,this.interpolationParams.dx=e.res[0],this.interpolationParams.dy=e.res[0],this.interpolationParams.lo1=u[0],this.interpolationParams.la1=u[1],this.interpolationParams.lo2=u[2],this.interpolationParams.la2=u[3],this.metadata.bandsNumber=this.bandsNumber,f.params={interpolationParams:JSON.parse(JSON.stringify(this.interpolationParams)),bbox:JSON.parse(JSON.stringify(this.bbox)),viewBBox:c,bandsNumber:JSON.parse(JSON.stringify(this.bandsNumber)),metadata:JSON.parse(JSON.stringify(this.metadata)),project:this.project},this.rasterDatas.push(f)}return this.rasterDatas}getCoordType(e){const[t,n,r,s]=e;return t>=0&&r>180?2:1}isNoData(e){return e==this.metadata.nodata}handleData(e){const t=[];return e.forEach(n=>{const r={width:n.width,height:n.height,dataBbox:n.dataBbox,series:null};if(this.bandsNumber==1){const s=n[0],a=new Float32Array(s.length);for(let o=0;o<s.length;o++)a[o]=this.getRealValue(s[o]);r.series=a,t.push(r)}else if(this.bandsNumber==2){const s=n[0],a=n[1],o=new Float32Array(s.length);for(let l=0;l<s.length;l++)o[l]=this.getRealMultiValue(s[l],a[l]);r.series=o,t.push(r)}}),t}getRealMultiValue(e,t,n=this.metadata.nodata){if(this.isNoData(e))return n;{const r=e/this.metadata.scale+this.metadata.offset,s=t/this.metadata.scale+this.metadata.offset;return Math.sqrt(r*r+s*s)}}getRealValue(e,t=this.metadata.nodata){if(this.bandsNumber==1)return this.isNoData(e)?t:e/this.metadata.scale+this.metadata.offset}calcBbox(e){let[t,n,r,s]=e;r-t>=360?this.coordType==1?(t=-180,r=180):(t=0,r=360):(t=(t%360+360)%360,r=(r%360+360)%360,r=r==0?360:r,this.coordType==1&&(t=t>=180?t-360:t,r=r>180?r-360:r));let a=[];t>r?this.coordType==1?a=[[t,n,180,s],[-180,n,r,s]]:a=[[t,n,360,s],[0,n,r,s]]:a=[[t,n,r,s]];let o=[];for(let l in a)e=a[l],e=this.bboxIntersect(e),e&&o.push(e);return o}bboxIntersect(e){const t=this.bbox;if(this.isBboxIntersectOrContain(e,t)){const n=Math.max(e[0],t[0]),r=Math.min(e[2],t[2]),s=Math.max(e[1],t[1]),a=Math.min(e[3],t[3]);return[n,s,r,a]}else return!1}isBboxIntersectOrContain(e,t){const[n,r,s,a]=e,[o,l,c,x]=t;return!(n>=c||s<=o||a<=l||r>=x)}coordConvert(e,t=1,n=2){return e=(e%360+360)%360,n==1&&(e=e>=180?e-360:e),e}}const Sw=IA;(function(i,e){const t=IA,n=i();for(;;)try{if(-parseInt(t(163))/1*(parseInt(t(167))/2)+parseInt(t(156))/3*(parseInt(t(161))/4)+-parseInt(t(158))/5*(parseInt(t(162))/6)+parseInt(t(159))/7*(-parseInt(t(169))/8)+-parseInt(t(160))/9+-parseInt(t(164))/10+-parseInt(t(168))/11*(-parseInt(t(166))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(EA,448345),Sw(165),Sw(157);function IA(i,e){const t=EA();return IA=function(n,r){return n=n-156,t[n]},IA(i,e)}function EA(){const i=["208232TJemyg","117750NSdDFY","881KNjmQn","5620530pdMPWE","us-ft","408GjbGFm","442SIuzEk","656843ZOrgOz","4164680snbKaW","6qpTZWh","degrees","5FCGQgy","7OqnzZn","3501441jIArsP"];return EA=function(){return i},EA()}const qa={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var sn=Kx;(function(i,e){for(var t=Kx,n=i();;)try{var r=parseInt(t(285))/1*(parseInt(t(277))/2)+parseInt(t(312))/3+parseInt(t(302))/4*(parseInt(t(306))/5)+-parseInt(t(297))/6+parseInt(t(281))/7*(-parseInt(t(283))/8)+-parseInt(t(308))/9*(-parseInt(t(292))/10)+-parseInt(t(289))/11*(parseInt(t(275))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(yA,489868);let NI=class{constructor(e){var t=Kx;this[t(288)]=e[t(310)],this[t(279)]=e.units,this[t(301)]=e.extent!==void 0?e[t(276)]:null,this.worldExtent_=e[t(309)]!==void 0?e[t(309)]:null,this[t(278)]=e.axisOrientation!==void 0?e.axisOrientation:t(273),this[t(296)]=e[t(284)]!==void 0?e[t(284)]:!1,this[t(300)]=!!(this[t(296)]&&this[t(301)]),this[t(293)]=e[t(294)],this.defaultTileGrid_=null,this.metersPerUnit_=e[t(305)]}[sn(299)](){var e=sn;return this[e(300)]}[sn(304)](){var e=sn;return this[e(288)]}[sn(291)](){return this.extent_}[sn(311)](){var e=sn;return this[e(279)]}[sn(295)](){var e=sn;return this.metersPerUnit_||qa[this[e(279)]]}[sn(286)](){var e=sn;return this[e(274)]}[sn(280)](){return this.axisOrientation_}isGlobal(){var e=sn;return this[e(296)]}[sn(282)](e){var t=sn;this[t(296)]=e,this[t(300)]=!!(e&&this[t(301)])}[sn(298)](){var e=sn;return this[e(287)]}[sn(307)](e){this.defaultTileGrid_=e}[sn(290)](e){var t=sn;this[t(301)]=e,this[t(300)]=!!(this[t(296)]&&e)}[sn(303)](e){var t=sn;this[t(274)]=e}[sn(272)](e){var t=sn;this[t(293)]=e}[sn(271)](){var e=sn;return this[e(293)]}};function Kx(i,e){var t=yA();return Kx=function(n,r){n=n-271;var s=t[n];return s},Kx(i,e)}function yA(){var i=["enu","worldExtent_","12uFkUct","extent","967814SfjLOh","axisOrientation_","units_","getAxisOrientation","67858wscdKE","setGlobal","496NdsxmJ","global","2UdsjwU","getWorldExtent","defaultTileGrid_","code_","10850004spBGQZ","setExtent","getExtent","50YhVjZM","getPointResolutionFunc_","getPointResolution","getMetersPerUnit","global_","2630292EwDuEH","getDefaultTileGrid","canWrapX","canWrapX_","extent_","126332kGSLnz","setWorldExtent","getCode","metersPerUnit","150aChIlT","setDefaultTileGrid","286056mSuvum","worldExtent","code","getUnits","1324254ftMQII","getPointResolutionFunc","setGetPointResolution"];return yA=function(){return i},yA()}const Ya=Zx;(function(i,e){const t=Zx,n=i();for(;;)try{if(parseInt(t(438))/1*(parseInt(t(433))/2)+-parseInt(t(425))/3+-parseInt(t(435))/4+parseInt(t(422))/5+parseInt(t(432))/6*(-parseInt(t(420))/7)+-parseInt(t(431))/8+parseInt(t(421))/9*(parseInt(t(429))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(bA,453575);const Jx=6378137,Ac=Math.PI*Jx,xQ=[-Ac,-Ac,Ac,Ac],uQ=[-180,-85,180,85];function Zx(i,e){const t=bA();return Zx=function(n,r){return n=n-419,t[n]},Zx(i,e)}const CA=Jx*Math[Ya(424)](Math[Ya(428)](Math.PI/2));let dc=class extends NI{constructor(e){super({code:e,units:"m",extent:xQ,global:!0,worldExtent:uQ,getPointResolution:function(t,n){return t/Math[Zx(423)](n[1]/Jx)}})}};const Mw=[new dc(Ya(427)),new dc(Ya(437)),new dc("EPSG:102113"),new dc(Ya(419)),new dc("http://www.opengis.net/def/crs/EPSG/0/3857"),new dc(Ya(439))];function bA(){const i=["1640880QvkMCK","222yVFojk","6918oPDzAa","atan","3060044BMJBpN","length","EPSG:102100","251MGapzt","http://www.opengis.net/gml/srs/epsg.xml#3857","EPSG:900913","110082CyqRNK","13017843tjJJlD","2094705WDTzug","cosh","log","2184057neIBHE","slice","EPSG:3857","tan","10iUmzJG","exp"];return bA=function(){return i},bA()}function hQ(i,e,t){const n=Ya,r=i.length;t=t>1?t:2,e===void 0&&(t>2?e=i[n(426)]():e=new Array(r));for(let s=0;s<r;s+=t){e[s]=Ac*i[s]/180;let a=Jx*Math[n(424)](Math[n(428)](Math.PI*(+i[s+1]+90)/360));a>CA?a=CA:a<-CA&&(a=-CA),e[s+1]=a}return e}function fQ(i,e,t){const n=Ya,r=i[n(436)];t=t>1?t:2,e===void 0&&(t>2?e=i[n(426)]():e=new Array(r));for(let s=0;s<r;s+=t)e[s]=180*i[s]/Ac,e[s+1]=360*Math[n(434)](Math[n(430)](i[s+1]/Jx))/Math.PI-90;return e}const Zo=$x;(function(i,e){const t=$x,n=i();for(;;)try{if(parseInt(t(432))/1*(-parseInt(t(429))/2)+-parseInt(t(426))/3+parseInt(t(434))/4*(-parseInt(t(438))/5)+-parseInt(t(425))/6*(-parseInt(t(442))/7)+parseInt(t(431))/8+-parseInt(t(441))/9*(parseInt(t(436))/10)+parseInt(t(433))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(vA,118231);const AQ=6378137,Rw=[-180,-90,180,90];function $x(i,e){const t=vA();return $x=function(n,r){return n=n-425,t[n]},$x(i,e)}const dQ=Math.PI*AQ/180;let $o=class extends NI{constructor(e,t){const n=$x;super({code:e,units:n(439),extent:Rw,axisOrientation:t,global:!0,metersPerUnit:dQ,worldExtent:Rw})}};function vA(){const i=["http://www.opengis.net/def/crs/EPSG/0/4326","10bUmZbe","neu","10bMmIXJ","degrees","urn:ogc:def:crs:OGC:1.3:CRS84","1314837ulqlIX","7yuTxoG","918354SWZKCT","272979ObLLFi","http://www.opengis.net/def/crs/OGC/1.3/CRS84","http://www.opengis.net/gml/srs/epsg.xml#4326","3086otTyzu","CRS:84","1791184gGxBpw","65YCkPXQ","908083HqgAoo","7796zGIdyR"];return vA=function(){return i},vA()}const Tw=[new $o(Zo(430)),new $o("EPSG:4326","neu"),new $o(Zo(440)),new $o("urn:ogc:def:crs:OGC:2:84"),new $o(Zo(427)),new $o(Zo(428),Zo(437)),new $o(Zo(435),Zo(437))];(function(i,e){const t=wA,n=i();for(;;)try{if(-parseInt(t(365))/1+parseInt(t(372))/2+-parseInt(t(370))/3*(-parseInt(t(366))/4)+parseInt(t(364))/5+parseInt(t(371))/6*(parseInt(t(363))/7)+parseInt(t(373))/8+parseInt(t(369))/9*(-parseInt(t(368))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(BA,163123);let OI={};function pQ(i){const e=wA;return OI[i]||OI[i[e(367)](/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function wA(i,e){const t=BA();return wA=function(n,r){return n=n-363,t[n]},wA(i,e)}function gQ(i,e){OI[i]=e}function BA(){const i=["3303qDdiXJ","3MQMmVk","6bvBedL","540314MijDPr","637808vVwciX","839419rVcwUO","475125taxLxT","149499miSfWj","798296QNAjTM","replace","12310RFGyuZ"];return BA=function(){return i},BA()}function eu(i){for(const e in i)delete i[e]}function Xa(i){let e;for(e in i)return!1;return!e}(function(i,e){const t=SA,n=i();for(;;)try{if(-parseInt(t(505))/1*(parseInt(t(504))/2)+-parseInt(t(499))/3+-parseInt(t(498))/4+parseInt(t(503))/5*(parseInt(t(500))/6)+parseInt(t(501))/7+-parseInt(t(496))/8*(parseInt(t(502))/9)+parseInt(t(495))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(MA,435322);function SA(i,e){const t=MA();return SA=function(n,r){return n=n-495,t[n]},SA(i,e)}let pc={};function MA(){const i=["5LUuGAt","18782uEeWTF","19JRIEew","9024290Zpcekt","16mDNSWp","getCode","1936664ZTQWyp","1719303YuOfpg","3262188evawCu","2982735DLFGgI","905463zNkvLC"];return MA=function(){return i},MA()}function RA(i,e,t){const n=SA,r=i.getCode(),s=e[n(497)]();!(r in pc)&&(pc[r]={}),pc[r][s]=t}function mQ(i,e){let t;return i in pc&&e in pc[i]&&(t=pc[i][e]),t}(function(i,e){for(var t=GI,n=i();;)try{var r=-parseInt(t(411))/1*(parseInt(t(414))/2)+parseInt(t(412))/3*(parseInt(t(408))/4)+-parseInt(t(413))/5*(parseInt(t(417))/6)+-parseInt(t(410))/7*(-parseInt(t(407))/8)+-parseInt(t(415))/9+parseInt(t(416))/10+parseInt(t(409))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(TA,887995);const Jn={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function GI(i,e){var t=TA();return GI=function(n,r){n=n-407;var s=t[n];return s},GI(i,e)}function TA(){var i=["10155jAnzEL","790285uSBwBp","506094dEkQwr","12881448wcQpVI","1988100TkWShd","42ZyugUE","449176wyTkXb","1068NpkxaP","20325129XxHNCI","217idJAnn","5sAGfiL"];return TA=function(){return i},TA()}(function(i,e){const t=ar,n=i();for(;;)try{if(parseInt(t(408))/1+parseInt(t(403))/2+-parseInt(t(389))/3*(-parseInt(t(391))/4)+-parseInt(t(402))/5+parseInt(t(386))/6*(-parseInt(t(405))/7)+parseInt(t(384))/8*(-parseInt(t(409))/9)+parseInt(t(381))/10*(parseInt(t(407))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(FA,292004);function zI(i){const e=yr();for(let t=0,n=i.length;t<n;++t)tu(e,i[t]);return e}function _Q(i,e,t){const n=ar,r=Math.min.apply(null,i),s=Math[n(406)].apply(null,e),a=Math[n(399)].apply(null,i),o=Math[n(399)].apply(null,e);return Ws(r,s,a,o,t)}function Wa(i,e,t){return t?(t[0]=i[0]-e,t[1]=i[1]-e,t[2]=i[2]+e,t[3]=i[3]+e,t):[i[0]-e,i[1]-e,i[2]+e,i[3]+e]}function Dw(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i.slice()}function e0(i,e,t){let n,r;return e<i[0]?n=i[0]-e:i[2]<e?n=e-i[2]:n=0,t<i[1]?r=i[1]-t:i[3]<t?r=t-i[3]:r=0,n*n+r*r}function t0(i,e){return VI(i,e[0],e[1])}function qr(i,e){return i[0]<=e[0]&&e[2]<=i[2]&&i[1]<=e[1]&&e[3]<=i[3]}function VI(i,e,t){return i[0]<=e&&e<=i[2]&&i[1]<=t&&t<=i[3]}function HI(i,e){const t=ar,n=i[0],r=i[1],s=i[2],a=i[3],o=e[0],l=e[1];let c=Jn[t(401)];return o<n?c=c|Jn[t(385)]:o>s&&(c=c|Jn[t(400)]),l<r?c=c|Jn[t(396)]:l>a&&(c=c|Jn[t(404)]),c===Jn.UNKNOWN&&(c=Jn[t(390)]),c}function yr(){return[1/0,1/0,-1/0,-1/0]}function Ws(i,e,t,n,r){return r?(r[0]=i,r[1]=e,r[2]=t,r[3]=n,r):[i,e,t,n]}function gc(i){return Ws(1/0,1/0,-1/0,-1/0,i)}function Qw(i,e){const t=i[0],n=i[1];return Ws(t,n,t,n,e)}function qI(i,e,t,n,r){const s=gc(r);return Lw(s,i,e,t,n)}function js(i,e){return i[0]==e[0]&&i[2]==e[2]&&i[1]==e[1]&&i[3]==e[3]}function Fw(i,e){return e[0]<i[0]&&(i[0]=e[0]),e[2]>i[2]&&(i[2]=e[2]),e[1]<i[1]&&(i[1]=e[1]),e[3]>i[3]&&(i[3]=e[3]),i}function tu(i,e){e[0]<i[0]&&(i[0]=e[0]),e[0]>i[2]&&(i[2]=e[0]),e[1]<i[1]&&(i[1]=e[1]),e[1]>i[3]&&(i[3]=e[1])}function Lw(i,e,t,n,r){for(;t<n;t+=r)IQ(i,e[t],e[t+1]);return i}function IQ(i,e,t){const n=ar;i[0]=Math[n(406)](i[0],e),i[1]=Math.min(i[1],t),i[2]=Math[n(399)](i[2],e),i[3]=Math[n(399)](i[3],t)}function Pw(i,e){let t;return t=e(DA(i)),t||(t=e(QA(i)),t)||(t=e(PA(i)),t)||(t=e(Ks(i)),t)?t:!1}function nu(i){let e=0;return!n0(i)&&(e=ht(i)*vn(i)),e}function DA(i){return[i[0],i[1]]}function QA(i){return[i[2],i[1]]}function FA(){const i=["BELOW","top-left","Invalid corner","max","RIGHT","UNKNOWN","1932075HBsniH","758034DzLvbl","ABOVE","7HFwRQJ","min","8192987mdQuyy","292379VuCQml","207orOarD","10aVSKtF","length","bottom-left","166456YNMeti","LEFT","2997714LHBPvA","abs","getExtent","721158HhEdUm","INTERSECTING","4QsOBdz","bottom-right","cos","canWrapX","push"];return FA=function(){return i},FA()}function Cr(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function EQ(i,e){const t=ar;let n;if(e===t(383))n=DA(i);else if(e===t(392))n=QA(i);else if(e===t(397))n=Ks(i);else if(e==="top-right")n=PA(i);else throw new Error(t(398));return n}function LA(i,e,t,n,r){const s=ar,[a,o,l,c,x,u,h,f]=yQ(i,e,t,n);return Ws(Math[s(406)](a,l,x,h),Math[s(406)](o,c,u,f),Math[s(399)](a,l,x,h),Math.max(o,c,u,f),r)}function yQ(i,e,t,n){const r=ar,s=e*n[0]/2,a=e*n[1]/2,o=Math[r(393)](t),l=Math.sin(t),c=s*o,x=s*l,u=a*o,h=a*l,f=i[0],A=i[1];return[f-c+h,A-x-u,f-c-h,A-x+u,f+c-h,A+x+u,f+c+h,A+x-u,f-c+h,A-x-u]}function vn(i){return i[3]-i[1]}function Mi(i,e,t){const n=t||yr();return wn(i,e)?(i[0]>e[0]?n[0]=i[0]:n[0]=e[0],i[1]>e[1]?n[1]=i[1]:n[1]=e[1],i[2]<e[2]?n[2]=i[2]:n[2]=e[2],i[3]<e[3]?n[3]=i[3]:n[3]=e[3]):gc(n),n}function Ks(i){return[i[0],i[3]]}function PA(i){return[i[2],i[3]]}function ht(i){return i[2]-i[0]}function wn(i,e){return i[0]<=e[2]&&i[2]>=e[0]&&i[1]<=e[3]&&i[3]>=e[1]}function n0(i){return i[2]<i[0]||i[3]<i[1]}function ar(i,e){const t=FA();return ar=function(n,r){return n=n-381,t[n]},ar(i,e)}function CQ(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i}function bQ(i,e){const t=(i[2]-i[0])/2*(e-1),n=(i[3]-i[1])/2*(e-1);i[0]-=t,i[2]+=t,i[1]-=n,i[3]+=n}function vQ(i,e,t){const n=ar;let r=!1;const s=HI(i,e),a=HI(i,t);if(s===Jn[n(390)]||a===Jn[n(390)])r=!0;else{const o=i[0],l=i[1],c=i[2],x=i[3],u=e[0],h=e[1],f=t[0],A=t[1],g=(A-h)/(f-u);let d,p;a&Jn[n(404)]&&!(s&Jn[n(404)])&&(d=f-(A-x)/g,r=d>=o&&d<=c),!r&&a&Jn[n(400)]&&!(s&Jn.RIGHT)&&(p=A-(f-c)*g,r=p>=l&&p<=x),!r&&a&Jn[n(396)]&&!(s&Jn[n(396)])&&(d=f-(A-l)/g,r=d>=o&&d<=c),!r&&a&Jn[n(385)]&&!(s&Jn.LEFT)&&(p=A-(f-o)*g,r=p>=l&&p<=x)}return r}function kw(i,e,t,n){const r=ar;if(n0(i))return gc(t);let s=[];s=[i[0],i[1],i[2],i[1],i[2],i[3],i[0],i[3]],e(s,s,2);const a=[],o=[];for(let l=0,c=s.length;l<c;l+=2)a[r(395)](s[l]),o.push(s[l+1]);return _Q(a,o,t)}function Uw(i,e){const t=ar,n=e[t(388)](),r=Cr(i);if(e[t(394)]()&&(r[0]<n[0]||r[0]>=n[2])){const s=ht(n),a=Math.floor((r[0]-n[0])/s),o=a*s;i[0]-=o,i[2]-=o}return i}function YI(i,e,t){const n=ar;if(e[n(394)]()){const r=e[n(388)]();if(!isFinite(i[0])||!isFinite(i[2]))return[[r[0],i[1],r[2],i[3]]];Uw(i,e);const s=ht(r);if(ht(i)>s&&!t)return[[r[0],i[1],r[2],i[3]]];if(i[0]<r[0])return[[i[0]+s,i[1],r[2],i[3]],[r[0],i[1],i[2],i[3]]];if(i[2]>r[2])return[[i[0],i[1],r[2],i[3]],[r[0],i[1],i[2]-s,i[3]]]}return[i]}(function(i,e){const t=ja,n=i();for(;;)try{if(-parseInt(t(150))/1+parseInt(t(152))/2+parseInt(t(157))/3+parseInt(t(144))/4*(parseInt(t(151))/5)+parseInt(t(153))/6*(parseInt(t(148))/7)+parseInt(t(146))/8+-parseInt(t(156))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(UA,219163);function Bn(i,e,t){const n=ja;return Math[n(143)](Math[n(145)](i,e),t)}function wQ(i,e,t,n,r,s){const a=r-t,o=s-n;if(a!==0||o!==0){const l=((i-t)*a+(e-n)*o)/(a*a+o*o);l>1?(t=r,n=s):l>0&&(t+=a*l,n+=o*l)}return i0(i,e,t,n)}function i0(i,e,t,n){const r=t-i,s=n-e;return r*r+s*s}function BQ(i){const e=ja,t=i[e(154)];for(let r=0;r<t;r++){let s=r,a=Math.abs(i[r][r]);for(let l=r+1;l<t;l++){const c=Math[e(155)](i[l][r]);c>a&&(a=c,s=l)}if(a===0)return null;const o=i[s];i[s]=i[r],i[r]=o;for(let l=r+1;l<t;l++){const c=-i[l][r]/i[r][r];for(let x=r;x<t+1;x++)r==x?i[l][x]=0:i[l][x]+=c*i[r][x]}}const n=new Array(t);for(let r=t-1;r>=0;r--){n[r]=i[r][t]/i[r][r];for(let s=r-1;s>=0;s--)i[s][t]-=i[s][r]*n[r]}return n}function kA(i){return i*Math.PI/180}function UA(){const i=["round","957586OLIloC","ceil","324837bFqMWK","845095XUVSEJ","448964mrzMPm","18SPvRXJ","length","abs","6363738QNZOIv","709119OouYFL","floor","min","8frbHUJ","max","334360iHBNzh"];return UA=function(){return i},UA()}function mc(i,e){const t=i%e;return t*e<0?t+e:t}function or(i,e,t){return i+t*(e-i)}function XI(i,e){const t=ja,n=Math.pow(10,e);return Math[t(147)](i*n)/n}function ja(i,e){const t=UA();return ja=function(n,r){return n=n-143,t[n]},ja(i,e)}function NA(i,e){return Math[ja(158)](XI(i,e))}function Ka(i,e){return Math[ja(149)](XI(i,e))}(function(i,e){const t=r0,n=i();for(;;)try{if(-parseInt(t(462))/1*(parseInt(t(454))/2)+-parseInt(t(460))/3*(parseInt(t(451))/4)+-parseInt(t(453))/5*(-parseInt(t(473))/6)+-parseInt(t(452))/7+-parseInt(t(469))/8+parseInt(t(463))/9*(-parseInt(t(449))/10)+parseInt(t(467))/11*(parseInt(t(459))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(GA,381459);function SQ(i,e){return i[0]+=+e[0],i[1]+=+e[1],i}function OA(i,e){const t=r0;let n=!0;for(let r=i[t(450)]-1;r>=0;--r)if(i[r]!=e[r]){n=!1;break}return n}function GA(){const i=["84CatZXr","3213mZRmgS","sqrt","633416HBCVsq","45LLwLYQ","floor","{x}","canWrapX","2632333zAWeIl","toFixed","2887320xEMAza","getExtent","cos","abs","84ftzhbQ","1135250ysLoMU","length","972kQofLU","1374219eaMYXh","258880uvdiER","2haoIyh","{y}","charAt","{x}, {y}","replace"];return GA=function(){return i},GA()}function WI(i,e){const t=r0,n=Math[t(471)](e),r=Math.sin(e),s=i[0]*n-i[1]*r,a=i[1]*n+i[0]*r;return i[0]=s,i[1]=a,i}function MQ(i,e){return i[0]*=e,i[1]*=e,i}function r0(i,e){const t=GA();return r0=function(n,r){return n=n-449,t[n]},r0(i,e)}function jI(i,e){const t=r0;if(e.canWrapX()){const n=ht(e[t(470)]()),r=RQ(i,e,n);r&&(i[0]-=r*n)}return i}function RQ(i,e,t){const n=r0,r=e[n(470)]();let s=0;return e[n(466)]()&&(i[0]<r[0]||i[0]>r[2])&&(t=t||ht(r),s=Math.floor((i[0]-r[0])/t)),s}(function(i,e){const t=VA,n=i();for(;;)try{if(-parseInt(t(351))/1*(parseInt(t(337))/2)+parseInt(t(332))/3+-parseInt(t(342))/4+-parseInt(t(339))/5*(parseInt(t(335))/6)+parseInt(t(325))/7+-parseInt(t(326))/8+-parseInt(t(348))/9*(-parseInt(t(350))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(zA,758508);const TQ=63710088e-1;function zA(){const i=["getGeometries","sin","6451711VUBBOa","402912NJgITI","cos","MultiLineString","LinearRing","abs","asin","2069130BKSWfR","MultiPoint","EPSG:3857","6032052BfKTDV","GeometryCollection","4rPWgOA","MultiPolygon","5TwYCnr","EPSG:4326","Unsupported geometry type: ","5895900yEwYkW","LineString","transform","getCoordinates","length","radius","10216809YFjsWO","getType","20UqCooA","296798IWbORI","atan2","clone","Point"];return zA=function(){return i},zA()}function Nw(i,e,t){const n=VA;t=t||TQ;const r=kA(i[1]),s=kA(e[1]),a=(s-r)/2,o=kA(e[0]-i[0])/2,l=Math[n(356)](a)*Math[n(356)](a)+Math[n(356)](o)*Math[n(356)](o)*Math.cos(r)*Math.cos(s);return 2*t*Math[n(352)](Math.sqrt(l),Math.sqrt(1-l))}function VA(i,e){const t=zA();return VA=function(n,r){return n=n-325,t[n]},VA(i,e)}(function(i,e){const t=HA,n=i();for(;;)try{if(parseInt(t(450))/1*(-parseInt(t(462))/2)+-parseInt(t(454))/3+-parseInt(t(459))/4+-parseInt(t(458))/5+-parseInt(t(460))/6*(-parseInt(t(461))/7)+parseInt(t(456))/8*(parseInt(t(451))/9)+parseInt(t(453))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(qA,153934);function HA(i,e){const t=qA();return HA=function(n,r){return n=n-450,t[n]},HA(i,e)}const Ow={info:1,warn:2,error:3,none:4};let DQ=Ow.info;function qA(){const i=["300xbtpiJ","34867CoZULE","12452csrmEp","8lEJeyj","162xfruiT","warn","1790600kaVQwV","591537IStcBN","error","40176xtIpoM","info","165610pIVxqT","337852sjrgnG"];return qA=function(){return i},qA()}function Gw(...i){const e=HA;DQ>Ow[e(452)]||console[e(452)](...i)}(function(i,e){const t=di,n=i();for(;;)try{if(parseInt(t(363))/1+-parseInt(t(365))/2*(parseInt(t(377))/3)+-parseInt(t(373))/4+-parseInt(t(369))/5+-parseInt(t(366))/6+parseInt(t(376))/7*(-parseInt(t(370))/8)+-parseInt(t(372))/9*(-parseInt(t(359))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(YA,136941);let KI=!0;function zw(i){KI=!1}function JI(i,e){const t=di;if(e!==void 0){for(let n=0,r=i[t(360)];n<r;++n)e[n]=i[n];e=e}else e=i[t(381)]();return e}function Vw(i,e){const t=di;if(e!==void 0&&i!==e){for(let n=0,r=i[t(360)];n<r;++n)e[n]=i[n];i=e}return i}function QQ(i){gQ(i[di(374)](),i),RA(i,i,JI)}function FQ(i){i.forEach(QQ)}function Kt(i){return typeof i===di(378)?pQ(i):i||null}function ZI(i,e,t,n){const r=di;i=Kt(i);let s;const a=i[r(375)]();if(a){if(s=a(e,t),n&&n!==i.getUnits()){const o=i[r(371)]();o&&(s=s*o/qa[n])}}else{const o=i[r(362)]();if(o==r(364)&&!n||n==r(364))s=e;else{const l=iu(i,Kt(r(379)));if(l===Vw&&o!==r(364))s=e*i.getMetersPerUnit();else{let x=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];x=l(x,x,2);const u=Nw(x.slice(0,2),x[r(381)](2,4)),h=Nw(x[r(381)](4,6),x[r(381)](6,8));s=(u+h)/2}const c=n?qa[n]:i.getMetersPerUnit();c!==void 0&&(s/=c)}}return s}function Hw(i){const e=di;FQ(i),i[e(368)](function(t){i[e(368)](function(r){t!==r&&RA(t,r,JI)})})}function LQ(i,e,t,n){const r=di;i[r(368)](function(s){e[r(368)](function(o){RA(s,o,t),RA(o,s,n)})})}function di(i,e){const t=YA();return di=function(n,r){return n=n-358,t[n]},di(i,e)}function $I(i,e){const t=di;return i?typeof i===t(378)?Kt(i):i:Kt(e)}function eE(i,e){const t=di;return zw(),ms(i,t(379),e!==void 0?e:t(361))}function Js(i,e){const t=di;if(i===e)return!0;const n=i[t(362)]()===e[t(362)]();return(i[t(374)]()===e[t(374)]()||iu(i,e)===JI)&&n}function iu(i,e){const t=di,n=i[t(374)](),r=e[t(374)]();let s=mQ(n,r);return!s&&(s=Vw),s}function _c(i,e){const t=Kt(i),n=Kt(e);return iu(t,n)}function ms(i,e,t){const n=di;return _c(e,t)(i,void 0,i[n(360)])}function tE(i,e,t,n){const r=_c(e,t);return kw(i,r,void 0)}function YA(){const i=["Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.","30RIELoq","length","EPSG:3857","getUnits","147922nYHess","degrees","24dNRxqO","1547334WsoMbD","canWrapX","forEach","832005gbtYDT","3640yteorQ","getMetersPerUnit","2173077cCjeiu","319652ykhxzI","getCode","getPointResolutionFunc","469qnlkRt","50163ZBlZgS","string","EPSG:4326","getExtent","slice"];return YA=function(){return i},YA()}let PQ=null;function kQ(){return PQ}function nE(i,e){return i}function Zs(i,e){const t=di;return KI&&!OA(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(KI=!1,Gw(t(358))),i}function iE(i,e){return i}function _s(i,e){return i}function UQ(){Hw(Mw),Hw(Tw),LQ(Tw,Mw,hQ,fQ)}UQ();function NQ(i){const e=i.getView().getProjection().getCode();let t=i.getView().calculateExtent(i.getSize());return e!=="EPSG:4326"&&(t=tE(t,e,"EPSG:4326")),t}function Ic(i,e){let t;const n=i.getView().getProjection().getCode();return n!="EPSG:4326"?t=ms(e,n,"EPSG:4326"):t=e,t}function OQ(i,e){let t=e;const n=i.getView().getProjection().getCode();return n!=="EPSG:4326"&&(t=ms(e,"EPSG:4326",n)),t}class GQ{constructor(e,t){this.map=e,this.options=t,this._tiffObject=null,this.updateRender=!1,this.initBool=!1,this._zoomResolution=[1,1,.5,.5,.25,.25,.125,.125,.0625,.0625,.03125,.03125,.015625,.015625,.007,.007,.0035,.0035,.0018,.0018,9e-4,9e-4]}_render(){return this._tiffObject=new lQ(this.options),this._tiffObject.fetchTiff().then(()=>(this.initBool=!0,!0))}getData(){return new Promise((e,t)=>{this.updateRender=!1,this.worldExtent=this.map.getView().calculateExtent(this.map.getSize()),this.worldExtent=NQ(this.map,this.worldExtent);const n=this.map.getView().getZoom(),r=this._zoomResolution[Math.floor(n)],s=this._tiffObject.matchImageByRes(r);return this._tiffObject.getDataByBbox(s,this.worldExtent).then(a=>(this.updateRender=!0,e(a)))})}}const zQ={id:"4575782",name:"",font_family:"iconfont",css_prefix_text:"icon-",description:"",glyphs:[{icon_id:"41669603",name:"",font_class:"jiantou",unicode:"e7c7",unicode_decimal:59335},{icon_id:"41669531",name:"_3",font_class:"fan_3ji",unicode:"e7c5",unicode_decimal:59333},{icon_id:"41669529",name:"_1",font_class:"fan_1ji",unicode:"e7c6",unicode_decimal:59334},{icon_id:"41669551",name:"_16",font_class:"fan_16ji",unicode:"e7b2",unicode_decimal:59314},{icon_id:"41669552",name:"_26",font_class:"fan_26ji",unicode:"e7b3",unicode_decimal:59315},{icon_id:"41669549",name:"_21",font_class:"fan_21ji",unicode:"e7b4",unicode_decimal:59316},{icon_id:"41669543",name:"_20",font_class:"fan_20ji",unicode:"e7b5",unicode_decimal:59317},{icon_id:"41669548",name:"_25",font_class:"fan_25ji",unicode:"e7b6",unicode_decimal:59318},{icon_id:"41669541",name:"_13",font_class:"fan_13ji",unicode:"e7b7",unicode_decimal:59319},{icon_id:"41669546",name:"_23",font_class:"fan_23ji",unicode:"e7b8",unicode_decimal:59320},{icon_id:"41669544",name:"_14",font_class:"fan_14ji",unicode:"e7b9",unicode_decimal:59321},{icon_id:"41669547",name:"_19",font_class:"fan_19ji",unicode:"e7ba",unicode_decimal:59322},{icon_id:"41669545",name:"_18",font_class:"fan_18ji",unicode:"e7bb",unicode_decimal:59323},{icon_id:"41669542",name:"_11",font_class:"fan_11ji",unicode:"e7bc",unicode_decimal:59324},{icon_id:"41669539",name:"_6",font_class:"fan_6ji",unicode:"e7bd",unicode_decimal:59325},{icon_id:"41669537",name:"_9",font_class:"fan_9ji",unicode:"e7be",unicode_decimal:59326},{icon_id:"41669536",name:"_10",font_class:"fan_10ji",unicode:"e7bf",unicode_decimal:59327},{icon_id:"41669535",name:"_8",font_class:"fan_8ji",unicode:"e7c0",unicode_decimal:59328},{icon_id:"41669534",name:"_7",font_class:"fan_7ji",unicode:"e7c1",unicode_decimal:59329},{icon_id:"41669533",name:"_5",font_class:"fan_5ji",unicode:"e7c2",unicode_decimal:59330},{icon_id:"41669532",name:"_2",font_class:"fan_2ji",unicode:"e7c3",unicode_decimal:59331},{icon_id:"41669530",name:"_4",font_class:"fan_4ji",unicode:"e7c4",unicode_decimal:59332},{icon_id:"41669558",name:"_15",font_class:"fan_15ji",unicode:"e7a9",unicode_decimal:59305},{icon_id:"41669538",name:"_0",font_class:"fan_0ji",unicode:"e7aa",unicode_decimal:59306},{icon_id:"41669557",name:"_24",font_class:"fan_24ji",unicode:"e7ab",unicode_decimal:59307},{icon_id:"41669556",name:"_29",font_class:"fan_29ji",unicode:"e7ac",unicode_decimal:59308},{icon_id:"41669540",name:"_12",font_class:"fan_12ji",unicode:"e7ad",unicode_decimal:59309},{icon_id:"41669555",name:"_22",font_class:"fan_22ji",unicode:"e7ae",unicode_decimal:59310},{icon_id:"41669553",name:"_28",font_class:"fan_28ji",unicode:"e7af",unicode_decimal:59311},{icon_id:"41669550",name:"_17",font_class:"fan_17ji",unicode:"e7b0",unicode_decimal:59312},{icon_id:"41669554",name:"_27",font_class:"fan_27ji",unicode:"e7b1",unicode_decimal:59313},{icon_id:"41352434",name:"_16",font_class:"zheng_16ji",unicode:"e79b",unicode_decimal:59291},{icon_id:"41352435",name:"_15",font_class:"zheng_15ji",unicode:"e79c",unicode_decimal:59292},{icon_id:"41352433",name:"_14",font_class:"zheng_14ji",unicode:"e78d",unicode_decimal:59277},{icon_id:"41352432",name:"_12",font_class:"zheng_12ji",unicode:"e79d",unicode_decimal:59293},{icon_id:"41352431",name:"_13",font_class:"zheng_13ji",unicode:"e79e",unicode_decimal:59294},{icon_id:"41352430",name:"_11",font_class:"zheng_11ji",unicode:"e79f",unicode_decimal:59295},{icon_id:"41352429",name:"_9",font_class:"zheng_9ji",unicode:"e78c",unicode_decimal:59276},{icon_id:"41352428",name:"_10",font_class:"zheng_10ji",unicode:"e7a0",unicode_decimal:59296},{icon_id:"41352426",name:"_7",font_class:"zheng_7ji",unicode:"e7a1",unicode_decimal:59297},{icon_id:"41352427",name:"_8",font_class:"zheng_8ji",unicode:"e7a2",unicode_decimal:59298},{icon_id:"41352421",name:"_2",font_class:"zheng_2ji",unicode:"e78b",unicode_decimal:59275},{icon_id:"41352425",name:"_5",font_class:"zheng_5ji",unicode:"e7a3",unicode_decimal:59299},{icon_id:"41352424",name:"_6",font_class:"zheng_6ji",unicode:"e7a4",unicode_decimal:59300},{icon_id:"41352423",name:"_4",font_class:"zheng_4ji",unicode:"e7a5",unicode_decimal:59301},{icon_id:"41352422",name:"_3",font_class:"zheng_3ji",unicode:"e7a6",unicode_decimal:59302},{icon_id:"41352420",name:"_1",font_class:"zheng_1ji",unicode:"e7a7",unicode_decimal:59303},{icon_id:"41352419",name:"_0",font_class:"zheng_0ji",unicode:"e7a8",unicode_decimal:59304},{icon_id:"41352447",name:"_29",font_class:"zheng_29ji",unicode:"e790",unicode_decimal:59280},{icon_id:"41352448",name:"_28",font_class:"zheng_28ji",unicode:"e791",unicode_decimal:59281},{icon_id:"41352446",name:"_27",font_class:"zheng_27ji",unicode:"e792",unicode_decimal:59282},{icon_id:"41352445",name:"_24",font_class:"zheng_24ji",unicode:"e793",unicode_decimal:59283},{icon_id:"41352444",name:"_26",font_class:"zheng_26ji",unicode:"e794",unicode_decimal:59284},{icon_id:"41352443",name:"_25",font_class:"zheng_25ji",unicode:"e795",unicode_decimal:59285},{icon_id:"41352442",name:"_23",font_class:"zheng_23ji",unicode:"e78f",unicode_decimal:59279},{icon_id:"41352440",name:"_21",font_class:"zheng_21ji",unicode:"e796",unicode_decimal:59286},{icon_id:"41352441",name:"_22",font_class:"zheng_22ji",unicode:"e797",unicode_decimal:59287},{icon_id:"41352439",name:"_19",font_class:"zheng_19ji",unicode:"e798",unicode_decimal:59288},{icon_id:"41352438",name:"_20",font_class:"zheng_20ji",unicode:"e799",unicode_decimal:59289},{icon_id:"41352437",name:"_17",font_class:"zheng_17ji",unicode:"e78e",unicode_decimal:59278},{icon_id:"41352436",name:"_18",font_class:"zheng_18ji",unicode:"e79a",unicode_decimal:59290}]};function XA(){var i=["1026864XMYVVw","3572100dbuIvp","282LFQQcL","48555ffAYoU","4wzuJjw","108KmyXyz","282251kxDWDw","681972vgHXEa","341VxhgWN","96VbDTOH","7002680hkezOK","134796yUCpYU"];return XA=function(){return i},XA()}(function(i,e){for(var t=rE,n=i();;)try{var r=parseInt(t(406))/1*(-parseInt(t(404))/2)+parseInt(t(405))/3*(-parseInt(t(399))/4)+parseInt(t(403))/5*(-parseInt(t(402))/6)+parseInt(t(401))/7+-parseInt(t(397))/8*(-parseInt(t(400))/9)+-parseInt(t(398))/10+-parseInt(t(408))/11*(-parseInt(t(407))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(XA,706862);function rE(i,e){var t=XA();return rE=function(n,r){n=n-397;var s=t[n];return s},rE(i,e)}const Pe={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function WA(){const i=["4GAPJWV","ol_uid","1767sYmNTz","4205208rYsjFG","7032yEtWdy","211002JDnxHj","156988bJWdVD","3563wceTUb","466645ZZirfG","Unimplemented abstract method.","2703132xTOKtc"];return WA=function(){return i},WA()}(function(i,e){const t=ru,n=i();for(;;)try{if(-parseInt(t(145))/1+parseInt(t(146))/2+-parseInt(t(142))/3+parseInt(t(140))/4*(parseInt(t(148))/5)+-parseInt(t(144))/6*(-parseInt(t(147))/7)+-parseInt(t(143))/8+parseInt(t(139))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(WA,331477);function je(){const i=ru;throw new Error(i(138))}let VQ=0;function ru(i,e){const t=WA();return ru=function(n,r){return n=n-138,t[n]},ru(i,e)}function et(i){const e=ru;return i[e(141)]||(i[e(141)]=String(++VQ))}(function(i,e){for(var t=jA,n=i();;)try{var r=parseInt(t(340))/1*(parseInt(t(344))/2)+-parseInt(t(350))/3+parseInt(t(349))/4*(parseInt(t(342))/5)+-parseInt(t(346))/6+-parseInt(t(347))/7+parseInt(t(341))/8+-parseInt(t(345))/9*(-parseInt(t(343))/10);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(KA,751855);function jA(i,e){var t=KA();return jA=function(n,r){n=n-340;var s=t[n];return s},jA(i,e)}function qw(i){return i[0]>0&&i[1]>0}function HQ(i,e,t){return t===void 0&&(t=[0,0]),t[0]=i[0]*e+.5|0,t[1]=i[1]*e+.5|0,t}function KA(){var i=["1030yCONeu","2weQfIS","55395enoHFe","3087954ElRCrx","186879aEtrha","isArray","148672smynXT","2346417wXtAIu","1282353iUguIm","677568OjsclS","10cQPMIz"];return KA=function(){return i},KA()}function pi(i,e){var t=jA;return Array[t(348)](i)?i:(e===void 0?e=[i,i]:(e[0]=i,e[1]=i),e)}function JA(){const i=["getRotateWithView","opacity_","240355CVyAIz","getDeclutterMode","getImageState","1840544iuFsDj","getPixelRatio","2HDUqkR","scale","2004636IMbpGQ","rotation_","getAnchor","rotateWithView_","setRotation","1160526VkFlSp","displacement","listenImageChange","getRotation","resolve","rotation","clone","displacement_","907739ssAxLS","scale_","declutterMode_","getDisplacement","scaleArray_","unlistenImageChange","setOpacity","816832wwyeyE","getHitDetectionImage","getImage","opacity","258406WnRRrd","getSize","isArray","slice","getScale","load"];return JA=function(){return i},JA()}const en=au;(function(i,e){const t=au,n=i();for(;;)try{if(-parseInt(t(146))/1+-parseInt(t(120))/2*(-parseInt(t(127))/3)+-parseInt(t(142))/4+parseInt(t(154))/5+parseInt(t(122))/6+parseInt(t(135))/7+-parseInt(t(157))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(JA,206014);class su{constructor(e){const t=au;this.opacity_=e[t(145)],this[t(125)]=e.rotateWithView,this[t(123)]=e[t(132)],this[t(136)]=e[t(121)],this[t(139)]=pi(e[t(121)]),this[t(134)]=e[t(128)],this[t(137)]=e.declutterMode}[en(133)](){const e=en,t=this[e(150)]();return new su({opacity:this.getOpacity(),scale:Array[e(148)](t)?t.slice():t,rotation:this[e(130)](),rotateWithView:this[e(152)](),displacement:this[e(138)]()[e(149)](),declutterMode:this[e(155)]()})}getOpacity(){return this.opacity_}[en(152)](){return this[en(125)]}[en(130)](){return this[en(123)]}getScale(){return this[en(136)]}getScaleArray(){return this.scaleArray_}[en(138)](){return this.displacement_}[en(155)](){return this[en(137)]}[en(124)](){return je()}[en(144)](e){return je()}[en(143)](){return je()}[en(119)](e){return 1}[en(156)](){return je()}getImageSize(){return je()}getOrigin(){return je()}[en(147)](){return je()}setDisplacement(e){const t=en;this[t(134)]=e}[en(141)](e){const t=en;this[t(153)]=e}setRotateWithView(e){const t=en;this[t(125)]=e}[en(126)](e){const t=en;this[t(123)]=e}setScale(e){const t=en;this.scale_=e,this[t(139)]=pi(e)}[en(129)](e){je()}[en(151)](){je()}[en(140)](e){je()}ready(){return Promise[en(131)]()}}function au(i,e){const t=JA();return au=function(n,r){return n=n-119,t[n]},au(i,e)}const ou={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var ni={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};ni.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}},ni.max=ni.whitepoint[2].D65,ni.rgb=function(i,e){e=e||ni.whitepoint[2].E;var t=i[0]/e[0],n=i[1]/e[1],r=i[2]/e[2],s,a,o;return s=t*3.240969941904521+n*-1.537383177570093+r*-.498610760293,a=t*-.96924363628087+n*1.87596750150772+r*.041555057407175,o=t*.055630079696993+n*-.20397695888897+r*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[s*255,a*255,o*255]},ou.xyz=function(i,e){var t=i[0]/255,n=i[1]/255,r=i[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=t*.41239079926595+n*.35758433938387+r*.18048078840183,a=t*.21263900587151+n*.71516867876775+r*.072192315360733,o=t*.019330818715591+n*.11919477979462+r*.95053215224966;return e=e||ni.whitepoint[2].E,[s*e[0],a*e[1],o*e[2]]};const sE={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(i,e,t){var n,r,s,a,o,l,c,x,u,h,f,A,g;if(s=i[0],a=i[1],o=i[2],s===0)return[0,0,0];var d=.0011070564598794539;return e=e||"D65",t=t||2,u=ni.whitepoint[t][e][0],h=ni.whitepoint[t][e][1],f=ni.whitepoint[t][e][2],A=4*u/(u+15*h+3*f),g=9*h/(u+15*h+3*f),n=a/(13*s)+A||0,r=o/(13*s)+g||0,c=s>8?h*Math.pow((s+16)/116,3):h*s*d,l=c*9*n/(4*r)||0,x=c*(12-3*n-20*r)/(4*r)||0,[l,c,x]}};ni.luv=function(i,e,t){var n,r,s,a,o,l,c,x,u,h,f,A,g,d=.008856451679035631,p=903.2962962962961;e=e||"D65",t=t||2,u=ni.whitepoint[t][e][0],h=ni.whitepoint[t][e][1],f=ni.whitepoint[t][e][2],A=4*u/(u+15*h+3*f),g=9*h/(u+15*h+3*f),l=i[0],c=i[1],x=i[2],n=4*l/(l+15*c+3*x)||0,r=9*c/(l+15*c+3*x)||0;var m=c/h;return s=m<=d?p*m:116*Math.pow(m,1/3)-16,a=13*s*(n-A),o=13*s*(r-g),[s,a,o]};var Yw={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(i){var e=i[0],t=i[1],n=i[2],r,s,a;return a=n/360*2*Math.PI,r=t*Math.cos(a),s=t*Math.sin(a),[e,r,s]},xyz:function(i){return sE.xyz(Yw.luv(i))}};sE.lchuv=function(i){var e=i[0],t=i[1],n=i[2],r=Math.sqrt(t*t+n*n),s=Math.atan2(n,t),a=s*360/2/Math.PI;return a<0&&(a+=360),[e,r,a]},ni.lchuv=function(i){return sE.lchuv(ni.luv(i))};const Xw={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var Ww={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function qQ(i){var x,u;var e,t=[],n=1,r;if(typeof i=="number")return{space:"rgb",values:[i>>>16,(i&65280)>>>8,i&255],alpha:1};if(typeof i=="number")return{space:"rgb",values:[i>>>16,(i&65280)>>>8,i&255],alpha:1};if(i=String(i).toLowerCase(),Xw[i])t=Xw[i].slice(),r="rgb";else if(i==="transparent")n=0,r="rgb",t=[0,0,0];else if(i[0]==="#"){var s=i.slice(1),a=s.length,o=a<=4;n=1,o?(t=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],a===4&&(n=parseInt(s[3]+s[3],16)/255)):(t=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],a===8&&(n=parseInt(s[6]+s[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(i)){var l=e[1];r=l.replace(/a$/,"");var c=r==="cmyk"?4:r==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=t.shift()),t=t.map(function(h,f){if(h[h.length-1]==="%")return h=parseFloat(h)/100,f===3?h:r==="rgb"?h*255:r[0]==="h"||r[0]==="l"&&!f?h*100:r==="lab"?h*125:r==="lch"?f<2?h*150:h*360:r[0]==="o"&&!f?h:r==="oklab"?h*.4:r==="oklch"?f<2?h*.4:h*360:h;if(r[f]==="h"||f===2&&r[r.length-1]==="h"){if(Ww[h]!==void 0)return Ww[h];if(h.endsWith("deg"))return parseFloat(h);if(h.endsWith("turn"))return parseFloat(h)*360;if(h.endsWith("grad"))return parseFloat(h)*360/400;if(h.endsWith("rad"))return parseFloat(h)*180/Math.PI}return h==="none"?0:parseFloat(h)}),n=t.length>c?t.pop():1}else/[0-9](?:\s|\/|,)/.test(i)&&(t=i.match(/([0-9]+)/g).map(function(h){return parseFloat(h)}),r=((u=(x=i.match(/([a-z])/ig))==null?void 0:x.join(""))==null?void 0:u.toLowerCase())||"rgb");return{space:r,values:t,alpha:n}}const aE={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(i){var e=i[0]/360,t=i[1]/100,n=i[2]/100,r,s,a,o,l,c=0;if(t===0)return l=n*255,[l,l,l];for(s=n<.5?n*(1+t):n+t-n*t,r=2*n-s,o=[0,0,0];c<3;)a=e+1/3*-(c-1),a<0?a++:a>1&&a--,l=6*a<1?r+(s-r)*6*a:2*a<1?s:3*a<2?r+(s-r)*(2/3-a)*6:r,o[c++]=l*255;return o}};ou.hsl=function(i){var e=i[0]/255,t=i[1]/255,n=i[2]/255,r=Math.min(e,t,n),s=Math.max(e,t,n),a=s-r,o,l,c;return s===r?o=0:e===s?o=(t-n)/a:t===s?o=2+(n-e)/a:n===s&&(o=4+(e-t)/a),o=Math.min(o*60,360),o<0&&(o+=360),c=(r+s)/2,s===r?l=0:c<=.5?l=a/(s+r):l=a/(2-s-r),[o,l*100,c*100]};function jw(i){Array.isArray(i)&&i.raw&&(i=String.raw(...arguments)),i instanceof Number&&(i=+i);var e,t=qQ(i);if(!t.space)return[];const n=t.space[0]==="h"?aE.min:ou.min,r=t.space[0]==="h"?aE.max:ou.max;return e=Array(3),e[0]=Math.min(Math.max(t.values[0],n[0]),r[0]),e[1]=Math.min(Math.max(t.values[1],n[1]),r[1]),e[2]=Math.min(Math.max(t.values[2],n[2]),r[2]),t.space[0]==="h"&&(e=aE.rgb(e)),e.push(Math.min(Math.max(t.alpha,0),1)),e}(function(i,e){const t=$s,n=i();for(;;)try{if(-parseInt(t(365))/1+parseInt(t(369))/2*(parseInt(t(373))/3)+parseInt(t(374))/4+-parseInt(t(379))/5*(parseInt(t(364))/6)+-parseInt(t(375))/7+parseInt(t(381))/8+parseInt(t(367))/9*(parseInt(t(377))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ZA,844995);function $s(i,e){const t=ZA();return $s=function(n,r){return n=n-364,t[n]},$s(i,e)}const oE=[NaN,NaN,NaN,0];function ea(i){return typeof i=="string"?i:xE(i)}const YQ=1024,cu={};let cE=0;function XQ(i){const e=$s;if(i.length===4)return i;const t=i[e(382)]();return t[3]=1,t}function Kw(i){const e=$s,t=ni[e(368)](ou[e(370)](i));return t[3]=i[3],t}function WQ(i){const e=$s,t=ni[e(376)](Yw[e(370)](i));return t[3]=i[3],t}function lE(i){const e=$s;if(i===e(366))return oE;if(cu[e(385)](i))return cu[i];if(cE>=YQ){let n=0;for(const r in cu)!(n++&3)&&(delete cu[r],--cE)}const t=jw(i);if(t[e(383)]!==4)throw new Error(e(371)+i+e(380));for(const n of t)if(isNaN(n))throw new Error(e(371)+i+e(380));return Jw(t),cu[i]=t,++cE,t}function lu(i){return Array[$s(372)](i)?i:lE(i)}function Jw(i){return i[0]=Bn(i[0]+.5|0,0,255),i[1]=Bn(i[1]+.5|0,0,255),i[2]=Bn(i[2]+.5|0,0,255),i[3]=Bn(i[3],0,1),i}function xE(i){const e=$s;let t=i[0];t!=(t|0)&&(t=t+.5|0);let n=i[1];n!=(n|0)&&(n=n+.5|0);let r=i[2];r!=(r|0)&&(r=r+.5|0);const s=i[3]===void 0?1:Math[e(384)](i[3]*1e3)/1e3;return e(378)+t+","+n+","+r+","+s+")"}function ZA(){const i=["xyz",'failed to parse "',"isArray","1155744OHihth","5985056fSRHfE","3264016pzJVBj","rgb","6660RJrHMg","rgba(","5lWSvUf",'" as color',"4738832YSteYK","slice","length","round","hasOwnProperty","9698106VJuLyJ","1688754TTDGcb","none","28953JySvgd","lchuv","2Jluctf"];return ZA=function(){return i},ZA()}const En=td;(function(i,e){const t=td,n=i();for(;;)try{if(parseInt(t(484))/1+-parseInt(t(481))/2*(parseInt(t(462))/3)+-parseInt(t(482))/4+parseInt(t(463))/5*(parseInt(t(474))/6)+parseInt(t(485))/7+parseInt(t(483))/8*(-parseInt(t(461))/9)+-parseInt(t(475))/10*(-parseInt(t(478))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})($A,905842);const Ja=typeof navigator<"u"&&typeof navigator[En(486)]<"u"?navigator.userAgent.toLowerCase():"",jQ=Ja.includes(En(476));Ja[En(460)](En(469))&&!Ja[En(460)](En(468))&&(Ja[En(460)](En(470))||/cpu (os|iphone os) 15_4 like mac os x/[En(466)](Ja));const KQ=Ja[En(460)](En(479))&&!Ja[En(460)](En(464));function $A(){const i=["2395PyGpde","edge","decode","test","removeEventListener","chrom","safari","version/15.4","addEventListener","function","prototype","17646ufkNTC","20qSDKIY","firefox","defineProperty","2255253tXHcAJ","webkit","undefined","124RHZnCO","4282040eMHbHm","24sIAqiu","1192167GYVBll","11224563fqcQlu","userAgent","macintosh","includes","3427263EntTOF","72372YiloiR"];return $A=function(){return i},$A()}const Zw=Ja[En(460)](En(459)),ed=typeof devicePixelRatio!==En(480)?devicePixelRatio:1,$w=typeof WorkerGlobalScope!==En(480)&&typeof OffscreenCanvas!==En(480)&&self instanceof WorkerGlobalScope,eB=typeof Image!==En(480)&&Image[En(473)][En(465)];function td(i,e){const t=$A();return td=function(n,r){return n=n-459,t[n]},td(i,e)}En(472);const tB=function(){const i=En;let e=!1;try{const t=Object[i(477)]({},"passive",{get:function(){e=!0}});window[i(471)]("_",null,t),window[i(467)]("_",null,t)}catch{}return e}();(function(i,e){const t=Za,n=i();for(;;)try{if(parseInt(t(432))/1*(-parseInt(t(428))/2)+parseInt(t(414))/3*(-parseInt(t(412))/4)+-parseInt(t(411))/5+-parseInt(t(413))/6+-parseInt(t(416))/7*(parseInt(t(420))/8)+-parseInt(t(418))/9*(-parseInt(t(426))/10)+-parseInt(t(427))/11*(-parseInt(t(419))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(id,786620);function fn(i,e,t,n){const r=Za;let s;return t&&t[r(424)]?s=t[r(429)]():$w?s=new OffscreenCanvas(i||300,e||300):s=document[r(431)](r(435)),i&&(s[r(417)]=i),e&&(s[r(436)]=e),s[r(434)]("2d",n)}let uE;function nd(){return!uE&&(uE=fn(1,1)),uE}function s0(i){const e=Za,t=i[e(435)];t[e(417)]=1,t.height=1,i[e(425)](0,0,1,1)}function id(){const i=["104650OarOoM","width","697923moYkMN","24DoBGGW","16yMZRxV","remove","appendChild","offsetHeight","length","clearRect","60lEpzUw","13231823LxVLCW","4tOQNbO","shift","childNodes","createElement","30686ffCKNZ","replaceChild","getContext","canvas","height","2006665bhffRl","4kysMAV","5072274nNJDpo","2239392zKcvNR","marginLeft"];return id=function(){return i},id()}function nB(i,e){const t=Za,n=e.parentNode;n&&n[t(433)](i,e)}function Za(i,e){const t=id();return Za=function(n,r){return n=n-411,t[n]},Za(i,e)}function JQ(i){const e=Za;for(;i.lastChild;)i.lastChild[e(421)]()}function ZQ(i,e){const t=Za,n=i[t(430)];for(let r=0;;++r){const s=n[r],a=e[r];if(!s&&!a)break;if(s!==a){if(!s){i[t(422)](a);continue}if(!a){i.removeChild(s),--r;continue}i.insertBefore(a,s)}}}var iB=xu;(function(i,e){for(var t=xu,n=i();;)try{var r=-parseInt(t(507))/1*(-parseInt(t(500))/2)+parseInt(t(504))/3+parseInt(t(496))/4+-parseInt(t(502))/5*(parseInt(t(497))/6)+-parseInt(t(501))/7*(parseInt(t(503))/8)+-parseInt(t(508))/9+parseInt(t(505))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(sd,907069);function xu(i,e){var t=sd();return xu=function(n,r){n=n-496;var s=t[n];return s},xu(i,e)}let rd=class{constructor(){var e=xu;this[e(506)]=!1}[iB(499)](){var e=iB;!this[e(506)]&&(this[e(506)]=!0,this[e(498)]())}disposeInternal(){}};function sd(){var i=["1048MueHrP","4259754SnMrxw","6281930IbGJKM","disposed","37qsvOnb","11841129xIkmIN","5337832baONaj","348kluLtZ","disposeInternal","dispose","84122qkyAty","55944zFyifJ","143890IGGmpa"];return sd=function(){return i},sd()}function Ec(i,e){var t=ad();return Ec=function(n,r){n=n-435;var s=t[n];return s},Ec(i,e)}var rB=Ec;(function(i,e){for(var t=Ec,n=i();;)try{var r=-parseInt(t(447))/1*(parseInt(t(451))/2)+parseInt(t(445))/3*(-parseInt(t(437))/4)+-parseInt(t(440))/5*(-parseInt(t(441))/6)+parseInt(t(452))/7+-parseInt(t(449))/8*(parseInt(t(448))/9)+parseInt(t(443))/10+parseInt(t(442))/11*(-parseInt(t(435))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ad,482152);let br=class{constructor(e){var t=Ec;this[t(438)],this[t(436)],this[t(439)]=e,this[t(446)]=null}preventDefault(){var e=Ec;this[e(436)]=!0}[rB(450)](){var e=rB;this[e(438)]=!0}};function ad(){var i=["18579fpYAUJ","target","26OvrcwS","3339Tpnrpw","1064LfjSOs","stopPropagation","9004ThhiPE","2171043YSPVAi","12XWlCEw","defaultPrevented","40euIJnI","propagationStopped","type","9705EtLGSi","2808nEUrHO","14496207wNugPE","8097770FYbTQQ","preventDefault"];return ad=function(){return i},ad()}(function(i,e){const t=a0,n=i();for(;;)try{if(-parseInt(t(338))/1*(parseInt(t(336))/2)+parseInt(t(346))/3+parseInt(t(352))/4*(-parseInt(t(345))/5)+parseInt(t(350))/6*(-parseInt(t(340))/7)+-parseInt(t(347))/8+parseInt(t(348))/9+-parseInt(t(344))/10*(-parseInt(t(337))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(cd,383458);function $Q(i,e,t){const n=a0;let r,s;t=t||Is;let a=0,o=i[n(349)],l=!1;for(;a<o;)r=a+(o-a>>1),s=+t(i[r],e),s<0?a=r+1:(o=r,l=!s);return l?a:~a}function Is(i,e){return i>e?1:i<e?-1:0}function od(i,e,t){const n=a0;if(i[0]<=e)return 0;const r=i[n(349)];if(e<=i[r-1])return r-1;if(typeof t===n(343)){for(let s=1;s<r;++s){const a=i[s];if(a===e)return s;if(a<e)return t(e,i[s-1],a)>0?s-1:s}return r-1}if(t>0){for(let s=1;s<r;++s)if(i[s]<e)return s-1;return r-1}if(t<0){for(let s=1;s<r;++s)if(i[s]<=e)return s;return r-1}for(let s=1;s<r;++s){if(i[s]==e)return s;if(i[s]<e)return i[s-1]-e<e-i[s]?s-1:s}return r-1}function e7(i,e,t){for(;e<t;){const n=i[e];i[e]=i[t],i[t]=n,++e,--t}}function Es(i,e){const t=a0,n=Array[t(339)](e)?e:[e],r=n[t(349)];for(let s=0;s<r;s++)i[i[t(349)]]=n[s]}function $a(i,e){const t=i.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(i[n]!==e[n])return!1;return!0}function cd(){const i=["6552189tYfIRQ","length","42Qkhdqg","indexOf","4052TZPNxF","index","value","239246sDwDMi","11ddZYMb","5HHqIid","isArray","628859CPKOEq","splice","every","function","12797170IqhzUs","415kniVcq","371466gmmkOS","3496392vDxGGY"];return cd=function(){return i},cd()}function a0(i,e){const t=cd();return a0=function(n,r){return n=n-336,t[n]},a0(i,e)}function t7(i,e,t){const n=a0,r=e||Is;return i[n(342)](function(s,a){if(a===0)return!0;const o=r(i[a-1],s);return!(o>0||t&&o===0)})}function uu(i,e){const t=xd();return uu=function(n,r){return n=n-349,t[n]},uu(i,e)}(function(i,e){const t=uu,n=i();for(;;)try{if(parseInt(t(364))/1*(-parseInt(t(349))/2)+-parseInt(t(353))/3+parseInt(t(350))/4*(parseInt(t(354))/5)+-parseInt(t(357))/6*(parseInt(t(361))/7)+parseInt(t(352))/8+-parseInt(t(356))/9*(-parseInt(t(355))/10)+-parseInt(t(359))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(xd,621431);function hu(){return!0}function ld(){return!1}function yc(){}function sB(i){let e,t,n;return function(){const r=uu,s=Array.prototype[r(363)][r(360)](arguments);return(!t||this!==n||!$a(s,t))&&(n=this,t=s,e=i[r(351)](this,arguments)),e}}function xd(){const i=["1251090jGQhal","72jmSJxy","60wagTIA","reject","3873562NLsrPX","call","585242XOanpH","resolve","slice","117790syfPqw","2vaenJf","1206060UfRItB","apply","5445168KLolKZ","166830tsDNIZ","5BeoDJb"];return xd=function(){return i},xd()}function Cc(i){function e(){const t=uu;let n;try{n=i()}catch(r){return Promise[t(358)](r)}return n instanceof Promise?n:Promise[t(362)](n)}return e()}function fu(i,e){const t=ud();return fu=function(n,r){return n=n-289,t[n]},fu(i,e)}function ud(){const i=["387DJGBoZ","handleEvent","85080WUYjcg","1870128siIoAi","listeners_","type","eventTarget_","hasListener","2cWwFiu","splice","1018095xoTBeM","2324862epozjN","298021BngtaZ","2066517MElfRS","target","5231597BZNAuL","indexOf","includes","pendingRemovals_","disposeInternal","dispatchEvent","removeEventListener","getListeners","call","length","string","addEventListener","dispatching_"];return ud=function(){return i},ud()}const Yr=fu;(function(i,e){const t=fu,n=i();for(;;)try{if(parseInt(t(300))/1*(-parseInt(t(296))/2)+parseInt(t(301))/3+-parseInt(t(291))/4+-parseInt(t(298))/5+parseInt(t(299))/6+parseInt(t(303))/7+-parseInt(t(290))/8*(parseInt(t(316))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ud,397210);let Au=class extends rd{constructor(e){const t=fu;super(),this[t(294)]=e,this[t(306)]=null,this[t(315)]=null,this.listeners_=null}[Yr(314)](e,t){const n=Yr;if(!e||!t)return;const r=this[n(292)]||(this[n(292)]={}),s=r[e]||(r[e]=[]);!s[n(305)](t)&&s.push(t)}[Yr(308)](e){const t=Yr,n=typeof e===t(313),r=n?e:e[t(293)],s=this.listeners_&&this[t(292)][r];if(!s)return;const a=n?new br(e):e;!a[t(302)]&&(a[t(302)]=this.eventTarget_||this);const o=this[t(315)]||(this.dispatching_={}),l=this[t(306)]||(this.pendingRemovals_={});!(r in o)&&(o[r]=0,l[r]=0),++o[r];let c;for(let x=0,u=s[t(312)];x<u;++x)if(t(289)in s[x]?c=s[x][t(289)](a):c=s[x][t(311)](this,a),c===!1||a.propagationStopped){c=!1;break}if(--o[r]===0){let x=l[r];for(delete l[r];x--;)this[t(309)](r,yc);delete o[r]}return c}[Yr(307)](){const e=Yr;this[e(292)]&&eu(this[e(292)])}[Yr(310)](e){const t=Yr;return this[t(292)]&&this[t(292)][e]||void 0}[Yr(295)](e){const t=Yr;return this[t(292)]?e?e in this[t(292)]:Object.keys(this[t(292)])[t(312)]>0:!1}removeEventListener(e,t){const n=Yr;if(!this[n(292)])return;const r=this.listeners_[e];if(!r)return;const s=r[n(304)](t);s!==-1&&(this[n(306)]&&e in this.pendingRemovals_?(r[s]=yc,++this[n(306)][e]):(r[n(297)](s,1),r[n(312)]===0&&delete this[n(292)][e]))}};function hd(){var i=["388EKPNSI","1117166ueGYGM","change","resize","192bxMfEY","clear","keydown","1653085hufRcH","30755dohTdK","9670EGRiWz","597348VxeNXc","touchmove","5720PgYCdh","115527KWnDTQ","error","dragenter","load","74QcFfLM","focus","blur","8466924MFHhuQ","dblclick","dragover","keypress"];return hd=function(){return i},hd()}function fd(i,e){var t=hd();return fd=function(n,r){n=n-383;var s=t[n];return s},fd(i,e)}var cr=fd;(function(i,e){for(var t=fd,n=i();;)try{var r=parseInt(t(384))/1+-parseInt(t(400))/2*(parseInt(t(396))/3)+-parseInt(t(383))/4*(-parseInt(t(391))/5)+parseInt(t(403))/6+parseInt(t(390))/7+-parseInt(t(387))/8*(parseInt(t(393))/9)+-parseInt(t(392))/10*(-parseInt(t(395))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(hd,846201);const Ye={CHANGE:cr(385),ERROR:cr(397),BLUR:cr(402),CLEAR:cr(388),CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:cr(404),DRAGENTER:cr(398),DRAGOVER:cr(405),DROP:"drop",FOCUS:cr(401),KEYDOWN:cr(389),KEYPRESS:cr(406),LOAD:cr(399),RESIZE:cr(386),TOUCHMOVE:cr(394),WHEEL:"wheel"};(function(i,e){const t=bc,n=i();for(;;)try{if(-parseInt(t(128))/1+-parseInt(t(137))/2*(parseInt(t(139))/3)+parseInt(t(134))/4*(-parseInt(t(141))/5)+parseInt(t(135))/6*(parseInt(t(140))/7)+-parseInt(t(130))/8*(parseInt(t(136))/9)+-parseInt(t(142))/10+parseInt(t(132))/11*(parseInt(t(138))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ad,891809);function Ad(){const i=["target","apply","615620AOGSWA","bind","849688gIONhz","listener","11500357DKxJRB","removeEventListener","82172mbVCCi","2298bPlpxb","9LYcQiv","2TxTHLu","24jgqdRM","2369838kxHmed","16261lnoDCf","25RxsVZE","4743820sjPBLz"];return Ad=function(){return i},Ad()}function bc(i,e){const t=Ad();return bc=function(n,r){return n=n-128,t[n]},bc(i,e)}function mt(i,e,t,n,r){const s=bc;if(r){const o=t;t=function(){const l=bc;i.removeEventListener(e,t),o[l(144)](n??this,arguments)}}else n&&n!==i&&(t=t[s(129)](n));const a={target:i,type:e,listener:t};return i.addEventListener(e,t),a}function dd(i,e,t,n){return mt(i,e,t,n,!0)}function Jt(i){const e=bc;i&&i[e(143)]&&(i[e(143)][e(133)](i.type,i[e(131)]),eu(i))}const gi=o0;(function(i,e){const t=o0,n=i();for(;;)try{if(-parseInt(t(367))/1+parseInt(t(380))/2+parseInt(t(365))/3+-parseInt(t(368))/4*(-parseInt(t(377))/5)+-parseInt(t(405))/6*(parseInt(t(399))/7)+-parseInt(t(372))/8*(parseInt(t(403))/9)+parseInt(t(374))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(pd,158450);function pd(){const i=["catch","addEventListener","277461jSPGXj","src","77646HJsoti","712647daRhJA","CHANGE","261737RsUIqK","185428YKAKnq","dispatchEvent","resolution","decode","48DbuxNN","isArray","4532610KxcpOP","loader","then","5KoQvXd","state","image_","357156KlPvdZ","LOAD","error","getPixelRatio","LOADING","changed","pixelRatio_","pixelRatio","getImage","width","getResolution","IDLE","complete","load","image","ERROR","function","finally","extent","168dIdqZF","getState"];return pd=function(){return i},pd()}function o0(i,e){const t=pd();return o0=function(n,r){return n=n-365,t[n]},o0(i,e)}let hE=class extends Au{constructor(e,t,n,r){const s=o0;super(),this.extent=e,this.pixelRatio_=n,this[s(370)]=t,this[s(378)]=typeof r===s(396)?Pe[s(391)]:r,this.image_=null,this[s(375)]=typeof r===s(396)?r:null}[gi(385)](){const e=gi;this[e(369)](Ye[e(366)])}getExtent(){return this[gi(398)]}[gi(388)](){return this[gi(379)]}[gi(383)](){return this[gi(386)]}[gi(390)](){return this[gi(370)]}[gi(400)](){return this[gi(378)]}[gi(393)](){const e=gi;if(this.state==Pe.IDLE&&this[e(375)]){this.state=Pe[e(384)],this[e(385)]();const t=this.getResolution(),n=Array[e(373)](t)?t[0]:t;Cc(()=>this[e(375)](this.getExtent(),n,this[e(383)]()))[e(376)](r=>{const s=e;s(394)in r&&(this.image_=r[s(394)]),s(398)in r&&(this[s(398)]=r[s(398)]),s(370)in r&&(this.resolution=r[s(370)]),s(387)in r&&(this[s(386)]=r[s(387)]),(r instanceof HTMLImageElement||r instanceof ImageBitmap||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement)&&(this.image_=r),this[s(378)]=Pe.LOADED})[e(401)](r=>{const s=e;this[s(378)]=Pe.ERROR,console[s(382)](r)})[e(397)](()=>this[e(385)]())}}setImage(e){const t=gi;this[t(379)]=e}setResolution(e){this.resolution=e}};function n7(i,e,t){const n=gi,r=i;let s=!0,a=!1,o=!1;const l=[dd(r,Ye[n(381)],function(){o=!0,!a&&e()})];return r.src&&eB?(a=!0,r[n(371)]()[n(376)](function(){s&&e()})[n(401)](function(c){s&&(o?e():t())})):l.push(dd(r,Ye[n(395)],t)),function(){s=!1,l.forEach(Jt)}}function i7(i,e){return new Promise((t,n)=>{const r=o0;function s(){o(),t(i)}function a(){o(),n(new Error("Image load error"))}function o(){const l=o0;i.removeEventListener(l(393),s),i.removeEventListener(l(382),a)}i[r(402)](r(393),s),i[r(402)](r(382),a)})}function r7(i,e){const t=gi;return e&&(i[t(404)]=e),i.src&&eB?new Promise((n,r)=>i[t(371)]().then(()=>n(i))[t(401)](s=>i[t(392)]&&i[t(389)]?n(i):r(s))):i7(i)}const Xr=du;(function(i,e){const t=du,n=i();for(;;)try{if(-parseInt(t(469))/1*(parseInt(t(467))/2)+parseInt(t(482))/3*(parseInt(t(480))/4)+parseInt(t(485))/5+-parseInt(t(472))/6*(-parseInt(t(479))/7)+-parseInt(t(484))/8+-parseInt(t(474))/9+parseInt(t(475))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(gd,503306);class s7{constructor(){const e=du;this[e(481)]={},this[e(463)]={},this[e(468)]=0,this[e(460)]=32}[Xr(459)](){const e=Xr;this[e(481)]={},this[e(463)]={},this.cacheSize_=0}[Xr(476)](){const e=Xr;return this[e(468)]>this[e(460)]}expire(){const e=Xr;if(this[e(476)]()){let t=0;for(const n in this[e(481)]){const r=this[e(481)][n];!(t++&3)&&!r[e(462)]()&&(delete this[e(481)][n],delete this.patternCache_[n],--this[e(468)])}}}[Xr(461)](e,t,n){const r=Xr,s=fE(e,t,n);return s in this[r(481)]?this[r(481)][s]:null}[Xr(477)](e,t,n){const r=Xr,s=fE(e,t,n);return s in this[r(463)]?this[r(463)][s]:null}set(e,t,n,r,s){const a=Xr,o=fE(e,t,n),l=o in this[a(481)];this[a(481)][o]=r,s&&(r[a(466)]()===Pe[a(471)]&&r[a(464)](),r[a(466)]()===Pe[a(478)]?r.ready().then(()=>{const c=a;this.patternCache_[o]=nd()[c(473)](r[c(483)](1),"repeat")}):this[a(463)][o]=nd()[a(473)](r[a(483)](1),a(470))),!l&&++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function gd(){const i=["8OilOIx","cache_","879153cpxsmW","getImage","6749320vRRsZo","1375090mkJZDP","clear","maxCacheSize_","get","hasListener","patternCache_","load","null","getImageState","562xIVKDa","cacheSize_","757KersCp","repeat","IDLE","6WofXSL","createPattern","3505968MFDdXG","3120610wrRiEe","canExpireCache","getPattern","LOADING","5432413YkncNg"];return gd=function(){return i},gd()}function du(i,e){const t=gd();return du=function(n,r){return n=n-459,t[n]},du(i,e)}function fE(i,e,t){const n=Xr,r=t?lu(t):n(465);return e+":"+i+":"+r}const ys=new s7,an=gu;(function(i,e){const t=gu,n=i();for(;;)try{if(parseInt(t(327))/1*(-parseInt(t(293))/2)+-parseInt(t(297))/3*(parseInt(t(306))/4)+-parseInt(t(291))/5+-parseInt(t(334))/6*(parseInt(t(310))/7)+parseInt(t(287))/8+parseInt(t(320))/9+parseInt(t(299))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(md,958925);let pu=null;class aB extends Au{constructor(e,t,n,r,s){const a=gu;super(),this.hitDetectionImage_=null,this[a(294)]=e,this[a(300)]=n,this.canvas_={},this[a(336)]=s,this[a(323)]=r===void 0?Pe[a(315)]:r,this.size_=e&&e[a(337)]&&e[a(311)]?[e[a(337)],e.height]:null,this[a(305)]=t,this.tainted_,this[a(309)]=null}[an(314)](){const e=an;this[e(294)]=new Image,this.crossOrigin_!==null&&(this[e(294)][e(304)]=this[e(300)])}[an(295)](){const e=an;if(this[e(325)]===void 0&&this[e(323)]===Pe.LOADED){!pu&&(pu=fn(1,1,void 0,{willReadFrequently:!0})),pu[e(302)](this[e(294)],0,0);try{pu[e(331)](0,0,1,1),this[e(325)]=!1}catch{pu=null,this[e(325)]=!0}}return this[e(325)]===!0}[an(286)](){const e=an;this[e(340)](Ye[e(319)])}[an(328)](){const e=an;this[e(323)]=Pe[e(313)],this.dispatchChangeEvent_()}[an(298)](){const e=an;this[e(323)]=Pe[e(307)],this[e(317)]=[this.image_.width,this[e(294)][e(311)]],this.dispatchChangeEvent_()}[an(324)](e){const t=an;return!this.image_&&this[t(314)](),this[t(333)](e),this[t(290)][e]?this[t(290)][e]:this.image_}[an(321)](e){const t=an;return this[t(333)](e),this[t(290)][e]?e:1}getImageState(){return this[an(323)]}[an(341)](){const e=an;if(!this[e(294)]&&this[e(314)](),!this.hitDetectionImage_)if(this[e(295)]()){const t=this[e(317)][0],n=this[e(317)][1],r=fn(t,n);r.fillRect(0,0,t,n),this[e(335)]=r[e(339)]}else this[e(335)]=this.image_;return this[e(335)]}[an(330)](){return this.size_}[an(322)](){return this[an(305)]}[an(288)](){const e=an;if(this[e(323)]===Pe.IDLE){!this[e(294)]&&this[e(314)](),this.imageState_=Pe.LOADING;try{this[e(305)]!==void 0&&(this[e(294)].src=this[e(305)])}catch{this[e(328)]()}this[e(294)]instanceof HTMLImageElement&&r7(this[e(294)],this[e(305)])[e(303)](t=>{const n=e;this[n(294)]=t,this[n(298)]()}).catch(this[e(328)][e(332)](this))}}replaceColor_(e){const t=an;if(!this[t(336)]||this[t(290)][e]||this[t(323)]!==Pe.LOADED)return;const n=this[t(294)],r=document.createElement(t(339));r[t(337)]=Math[t(318)](n[t(337)]*e),r[t(311)]=Math[t(318)](n[t(311)]*e);const s=r[t(338)]("2d");s[t(329)](e,e),s[t(302)](n,0,0),s[t(285)]=t(308),s[t(289)]=ea(this[t(336)]),s.fillRect(0,0,r[t(337)]/e,r[t(311)]/e),s.globalCompositeOperation=t(326),s[t(302)](n,0,0),this[t(290)][e]=r}[an(292)](){const e=an;return!this[e(309)]&&(this.ready_=new Promise(t=>{const n=e;if(this[n(323)]===Pe[n(307)]||this.imageState_===Pe[n(313)])t();else{const r=()=>{const s=n;(this[s(323)]===Pe[s(307)]||this[s(323)]===Pe[s(313)])&&(this[s(301)](Ye.CHANGE,r),t())};this[n(316)](Ye[n(319)],r)}})),this[e(309)]}}function AE(i,e,t,n,r,s){const a=an;let o=e===void 0?void 0:ys.get(e,t,r);return!o&&(o=new aB(i,i&&"src"in i?i.src||void 0:e,t,n,r),ys.set(e,t,r,o,s)),s&&o&&!ys[a(312)](e,t,r)&&ys[a(296)](e,t,r,o,s),o}function gu(i,e){const t=md();return gu=function(n,r){return n=n-285,t[n]},gu(i,e)}function md(){const i=["destination-in","76331DEWKbV","handleImageError_","scale","getSize","getImageData","bind","replaceColor_","24204CcTclN","hitDetectionImage_","color_","width","getContext","canvas","dispatchEvent","getHitDetectionImage","globalCompositeOperation","dispatchChangeEvent_","2873896QHrTcI","load","fillStyle","canvas_","2011080XtDVUS","ready","2RHAJUv","image_","isTainted_","set","6LxaqiJ","handleImageLoad_","18076690cwjmVR","crossOrigin_","removeEventListener","drawImage","then","crossOrigin","src_","1363028ovgMBd","LOADED","multiply","ready_","469gxeFxZ","height","getPattern","ERROR","initializeImage_","IDLE","addEventListener","size_","ceil","CHANGE","2001222CLooBH","getPixelRatio","getSrc","imageState_","getImage","tainted_"];return md=function(){return i},md()}(function(i,e){const t=mu,n=i();for(;;)try{if(-parseInt(t(385))/1+parseInt(t(401))/2*(-parseInt(t(384))/3)+parseInt(t(388))/4+-parseInt(t(390))/5+-parseInt(t(383))/6+-parseInt(t(396))/7+-parseInt(t(402))/8*(-parseInt(t(397))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_d,297367);function _d(){const i=["3xamwtD","461214QBFXQj","offset","size","1975100psxOjQ","getPattern","1885610yRprBx","isArray","canvas","drawImage","src","color","1265488EsIMOe","10053PWSwNS","getImageState","anonymous","LOADED","187498veKviY","6712UbPoyc","object","124212QBXWQK"];return _d=function(){return i},_d()}function mu(i,e){const t=_d();return mu=function(n,r){return n=n-382,t[n]},mu(i,e)}function Cs(i){const e=mu;return i?Array[e(391)](i)?xE(i):typeof i===e(382)&&e(394)in i?a7(i):i:null}function a7(i){const e=mu;if(!i[e(386)]||!i[e(387)])return ys.getPattern(i[e(394)],e(399),i.color);const t=i[e(394)]+":"+i.offset,n=ys.getPattern(t,void 0,i[e(395)]);if(n)return n;const r=ys.get(i[e(394)],e(399),null);if(r[e(398)]()!==Pe[e(400)])return null;const s=fn(i.size[0],i[e(387)][1]);return s[e(393)](r.getImage(1),i[e(386)][0],i[e(386)][1],i[e(387)][0],i[e(387)][1],0,0,i[e(387)][0],i[e(387)][1]),AE(s[e(392)],t,void 0,Pe[e(400)],i[e(395)],!0),ys[e(389)](t,void 0,i.color)}var o7=Id;function Id(i,e){var t=Ed();return Id=function(n,r){n=n-369;var s=t[n];return s},Id(i,e)}(function(i,e){for(var t=Id,n=i();;)try{var r=parseInt(t(378))/1*(-parseInt(t(377))/2)+parseInt(t(375))/3*(parseInt(t(379))/4)+parseInt(t(381))/5*(-parseInt(t(374))/6)+-parseInt(t(380))/7+parseInt(t(373))/8*(-parseInt(t(376))/9)+parseInt(t(372))/10*(-parseInt(t(369))/11)+parseInt(t(370))/12;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ed,242947);const vc={PROPERTYCHANGE:o7(371)};function Ed(){var i=["6lzFoWQ","9663IGPCuV","3519OaobEj","2oNVXkh","107563wItWZy","208MSDqbw","1095486wQyimq","1054695oYrFLc","3377hpzxgZ","12144456woRhbo","propertychange","3560pDHTzm","7208TMmfLs"];return Ed=function(){return i},Ed()}const vr=Iu;(function(i,e){const t=Iu,n=i();for(;;)try{if(parseInt(t(414))/1*(-parseInt(t(398))/2)+parseInt(t(415))/3+parseInt(t(402))/4*(-parseInt(t(406))/5)+parseInt(t(397))/6*(parseInt(t(410))/7)+-parseInt(t(405))/8+parseInt(t(403))/9+parseInt(t(394))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(yd,752500);let _u=class extends Au{constructor(){const e=Iu;super(),this.on=this[e(404)],this.once=this[e(399)],this.un=this[e(412)],this[e(395)]=0}[vr(400)](){const e=vr;++this.revision_,this[e(396)](Ye.CHANGE)}getRevision(){return this.revision_}[vr(404)](e,t){const n=vr;if(Array[n(401)](e)){const r=e[n(409)],s=new Array(r);for(let a=0;a<r;++a)s[a]=mt(this,e[a],t);return s}return mt(this,e,t)}onceInternal(e,t){const n=vr;let r;if(Array.isArray(e)){const s=e[n(409)];r=new Array(s);for(let a=0;a<s;++a)r[a]=dd(this,e[a],t)}else r=dd(this,e,t);return t[n(408)]=r,r}[vr(412)](e,t){const n=vr,r=t[n(408)];if(r)c7(r);else if(Array[n(401)](e))for(let s=0,a=e[n(409)];s<a;++s)this[n(411)](e[s],t);else this[n(411)](e,t)}};function Iu(i,e){const t=yd();return Iu=function(n,r){return n=n-394,t[n]},Iu(i,e)}function yd(){const i=["unInternal","once","3373fKcLTe","3275037hwDDMZ","17091380KyvUCd","revision_","dispatchEvent","12UwSXSV","562DbUuAY","onceInternal","changed","isArray","867028KULrVo","946557xmLxTx","onInternal","11940696AIsKKG","10TTHmMY","prototype","ol_key","length","2521484YtvRFc","removeEventListener"];return yd=function(){return i},yd()}_u[vr(407)].on,_u[vr(407)][vr(413)],_u[vr(407)].un;function c7(i){const e=vr;if(Array[e(401)](i))for(let t=0,n=i[e(409)];t<n;++t)Jt(i[t]);else Jt(i)}function wc(i,e){const t=Cd();return wc=function(n,r){return n=n-102,t[n]},wc(i,e)}const Sn=wc;(function(i,e){const t=wc,n=i();for(;;)try{if(parseInt(t(102))/1+parseInt(t(133))/2*(-parseInt(t(107))/3)+-parseInt(t(120))/4*(-parseInt(t(130))/5)+parseInt(t(122))/6*(parseInt(t(131))/7)+-parseInt(t(121))/8*(-parseInt(t(132))/9)+-parseInt(t(123))/10*(parseInt(t(124))/11)+-parseInt(t(117))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Cd,877030);function Cd(){const i=["get","setProperties","hasListener","3ZsLDDU","PROPERTYCHANGE","addChangeListener","set","getKeys","values_","once","oldValue","assign","getProperties","12590328dEhjAn","removeChangeListener","keys","56DEgpcs","744ADLwrX","58194kOppIP","11679730xnlfTx","11zPvXBr","applyProperties","addEventListener","removeEventListener","unset","change:","309745qjwNCt","938KFcRQw","23949nniqGT","2113058lzrRhA","dispatchEvent","1736301eEuvNT","notify"];return Cd=function(){return i},Cd()}let oB=class extends br{constructor(e,t,n){const r=wc;super(e),this.key=t,this[r(114)]=n}},bs=class extends _u{constructor(e){const t=wc;super(),this.on,this[t(113)],this.un,et(this),this.values_=null,e!==void 0&&this.setProperties(e)}[Sn(104)](e){const t=Sn;let n;return this[t(112)]&&this[t(112)].hasOwnProperty(e)&&(n=this[t(112)][e]),n}[Sn(111)](){const e=Sn;return this[e(112)]&&Object[e(119)](this[e(112)])||[]}[Sn(116)](){const e=Sn;return this[e(112)]&&Object[e(115)]({},this[e(112)])||{}}getPropertiesInternal(){return this[Sn(112)]}hasProperties(){return!!this[Sn(112)]}[Sn(103)](e,t){const n=Sn;let r;r=n(129)+e,this.hasListener(r)&&this[n(134)](new oB(r,e,t)),r=vc[n(108)],this[n(106)](r)&&this[n(134)](new oB(r,e,t))}[Sn(109)](e,t){const n=Sn;this[n(126)](n(129)+e,t)}[Sn(118)](e,t){this[Sn(127)]("change:"+e,t)}[Sn(110)](e,t,n){const r=Sn,s=this[r(112)]||(this[r(112)]={});if(n)s[e]=t;else{const a=s[e];s[e]=t,a!==t&&this[r(103)](e,a)}}[Sn(105)](e,t){const n=Sn;for(const r in e)this[n(110)](r,e[r],t)}[Sn(125)](e){const t=Sn;e[t(112)]&&Object.assign(this[t(112)]||(this[t(112)]={}),e[t(112)])}[Sn(128)](e,t){const n=Sn;if(this[n(112)]&&e in this[n(112)]){const r=this[n(112)][e];delete this[n(112)][e],Xa(this[n(112)])&&(this[n(112)]=null),!t&&this[n(103)](e,r)}}};const lr=wd;(function(i,e){const t=wd,n=i();for(;;)try{if(parseInt(t(303))/1*(parseInt(t(312))/2)+parseInt(t(322))/3*(-parseInt(t(321))/4)+parseInt(t(326))/5+parseInt(t(320))/6+-parseInt(t(313))/7+parseInt(t(310))/8*(-parseInt(t(316))/9)+-parseInt(t(308))/10*(-parseInt(t(318))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Bd,285679);const bd="ol-hidden";lr(309);const vd=lr(323),dE="ol-control";function wd(i,e){const t=Bd();return wd=function(n,r){return n=n-301,t[n]},wd(i,e)}const cB=lr(305),l7=new RegExp([lr(324),"(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)",lr(315),"(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?",lr(307),"(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`][lr(311)](""),"i"),lB=[lr(327),lr(304),lr(325),lr(302),lr(328),"family"];function Bd(){const i=["families","1387716KVbSNJ","124vdgNfZ","25827aAnaIT","ol-unselectable","^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","weight","1778505cnSjEl","style","lineHeight","match","size","1MdQpCL","variant","ol-collapsed","split","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","180340XiNUcX","ol-selectable","548216fxtnJO","join","657164CHlwzD","3374294nDnCwY","normal","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","27xGvalJ","length","198YsSpXD"];return Bd=function(){return i},Bd()}const xB=function(i){const e=lr,t=i[e(301)](l7);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:e(314)};for(let r=0,s=lB[e(317)];r<s;++r){const a=t[r+1];a!==void 0&&(n[lB[r]]=a)}return n[e(319)]=n.family[e(306)](/,\s?/),n},wr=bu;(function(i,e){const t=bu,n=i();for(;;)try{if(-parseInt(t(215))/1+-parseInt(t(251))/2*(-parseInt(t(239))/3)+-parseInt(t(267))/4+parseInt(t(241))/5+-parseInt(t(250))/6+parseInt(t(246))/7+parseInt(t(238))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Sd,697846);const uB=wr(258),Oi=wr(217),Bc=wr(243),ta=[],na=0,Sc=wr(243),Eu=10;function Sd(){const i=["innerHTML","display","length","contextInstructions","rotate","32px ","set","maxHeight","width","offsetHeight","families","16347608VhfwMH","2156562mlysrl","getKeys","1742465KiKhVZ","div","round","auto","middle","2248575JsuzrL","createElement","max","reduce","3932412HHMELb","2kAyYqn","monospace","save","style","absolute","restore","translate","10px sans-serif","-99999px","get","appendChild","isArray","position","drawImage","weight","apply","4764384SIPptV","transform","none","wmytzilWMYTZIL@#/&?$%10","removeChild","body","887679VloslW","minHeight","#000","split","globalAlpha","font","serif","actualBoundingBoxAscent","lineHeight","push","scale","block"];return Sd=function(){return i},Sd()}const yu="#000",Cu="center";function bu(i,e){const t=Sd();return bu=function(n,r){return n=n-215,t[n]},bu(i,e)}const Md=wr(245),c0=[0,0,0,0],vu=1,vs=new bs;let Mc=null,pE;const gE={},hB=function(){const i=wr,e=100,t=i(232),n=[i(252),i(221)],r=n[i(229)],s=i(270);let a,o;function l(x,u,h){let f=!0;for(let A=0;A<r;++A){const g=n[A];if(o=Rd(x+" "+u+" "+t+g,s),h!=g){const d=Rd(x+" "+u+" "+t+h+","+g,s);f=f&&d!=o}}return!!f}function c(){const x=i;let u=!0;const h=vs[x(240)]();for(let f=0,A=h[x(229)];f<A;++f){const g=h[f];if(vs[x(260)](g)<e){const[d,p,m]=g.split(`
`);l(d,p,m)?(eu(gE),Mc=null,pE=void 0,vs[x(233)](g,e)):(vs.set(g,vs[x(260)](g)+1,!0),u=!1)}}u&&(clearInterval(a),a=void 0)}return function(x){const u=i,h=xB(x);if(!h)return;const f=h[u(237)];for(let A=0,g=f[u(229)];A<g;++A){const d=f[A],p=h[u(254)]+`
`+h[u(265)]+`
`+d;vs[u(260)](p)===void 0&&(vs[u(233)](p,e,!0),!l(h.style,h[u(265)],d)&&(vs[u(233)](p,0,!0),a===void 0&&(a=setInterval(c,32))))}}}(),x7=function(){let i;return function(e){const t=bu;let n=gE[e];if(n==null){if($w){const r=xB(e),s=fB(e,"g");n=(isNaN(Number(r[t(223)]))?1.2:Number(r[t(223)]))*(s[t(222)]+s.actualBoundingBoxDescent)}else!i&&(i=document[t(247)](t(242)),i[t(227)]="M",i[t(254)][t(216)]="0",i[t(254)][t(234)]="none",i[t(254)].height=t(244),i.style.padding="0",i[t(254)].border=t(269),i[t(254)][t(263)]=t(255),i[t(254)][t(228)]=t(226),i.style.left=t(259)),i[t(254)][t(220)]=e,document[t(272)][t(261)](i),n=i[t(236)],document[t(272)][t(271)](i);gE[e]=n}return n}}();function fB(i,e){const t=wr;return!Mc&&(Mc=fn(1,1)),i!=pE&&(Mc[t(220)]=i,pE=Mc[t(220)]),Mc.measureText(e)}function Rd(i,e){const t=wr;return fB(i,e)[t(235)]}function AB(i,e,t){const n=wr;if(e in t)return t[e];const r=e[n(218)](`
`)[n(249)]((s,a)=>Math[n(248)](s,Rd(i,a)),0);return t[e]=r,r}function u7(i,e){const t=wr,n=[],r=[],s=[];let a=0,o=0,l=0,c=0;for(let x=0,u=e[t(229)];x<=u;x+=2){const h=e[x];if(h===`
`||x===u){a=Math[t(248)](a,o),s.push(o),o=0,l+=c,c=0;continue}const f=e[x+1]||i[t(220)],A=Rd(f,h);n[t(224)](A),o+=A;const g=x7(f);r[t(224)](g),c=Math[t(248)](c,g)}return{width:a,height:l,widths:n,heights:r,lineWidths:s}}function h7(i,e,t,n,r,s,a,o,l,c,x){const u=wr;i[u(253)](),t!==1&&(i[u(219)]===void 0?i.globalAlpha=h=>h[u(219)]*=t:i[u(219)]*=t),e&&i[u(268)][u(266)](i,e),n[u(230)]?(i[u(257)](l,c),i[u(225)](x[0],x[1]),f7(n,i)):x[0]<0||x[1]<0?(i.translate(l,c),i[u(225)](x[0],x[1]),i[u(264)](n,r,s,a,o,0,0,a,o)):i[u(264)](n,r,s,a,o,l,c,a*x[0],o*x[1]),i[u(256)]()}function f7(i,e){const t=wr,n=i.contextInstructions;for(let r=0,s=n[t(229)];r<s;r+=2)Array[t(262)](n[r+1])?e[n[r]][t(266)](e,n[r+1]):e[n[r]]=n[r+1]}const pt=l0;(function(i,e){const t=l0,n=i();for(;;)try{if(-parseInt(t(255))/1+parseInt(t(274))/2*(-parseInt(t(278))/3)+parseInt(t(293))/4+parseInt(t(233))/5*(parseInt(t(215))/6)+-parseInt(t(249))/7*(parseInt(t(220))/8)+-parseInt(t(275))/9+parseInt(t(259))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Td,766990);function Td(){const i=["miterLimit","lineTo","size_","renderOptions_","getScaleArray","rotateWithView","getSize","slice","radius2","1792QXIkXV","declutterMode","stroke_","bevel","draw_","drawHitDetectionCanvas_","1305547QSRJmK","arc","getRadius","size","26911710YARLNg","displacement","sqrt","canvas","origin_","strokeWidth","radius2_","max","getRotateWithView","getAngle","loading","getFill","clone","getMiterLimit","string","16fXbsPR","1229769LZbcsL","getLineDash","getLineCap","511335jqWmXs","getImageState","fillStyle","strokeStyle","setFill","rotation","unlistenImageChange","ceil","getColor","closePath","cos","getImage","getDisplacement","createRenderOptions","angle","5084020slNurT","getScale","isArray","fill_","LOADING","then","translate","canvases_","angle_","LOADED","scale","getLineDashOffset","calculateLineJoinSize_","getPixelRatio","getOrigin","points","points_","createPath_","18108lWdUBx","lineDash","getHitDetectionImage","getOpacity","getRotation","43576voAIiU","ready","lineCap","getRadius2","getWidth","createHitDetectionCanvas_","lineDashOffset","setLineDash","miter","lineJoin","sin","imageState_","getPoints","1665OzRYzv","render","fill","hitDetectionCanvas_","radius","lineWidth","length"];return Td=function(){return i},Td()}function l0(i,e){const t=Td();return l0=function(n,r){return n=n-212,t[n]},l0(i,e)}class Rc extends su{constructor(e){const t=l0;super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e[t(245)]:!1,rotation:e[t(283)]!==void 0?e.rotation:0,scale:e[t(303)]!==void 0?e[t(303)]:1,displacement:e[t(260)]!==void 0?e[t(260)]:[0,0],declutterMode:e[t(250)]}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e[t(235)]!==void 0?e[t(235)]:null,this[t(263)]=[0,0],this[t(213)]=e[t(212)],this[t(237)]=e[t(237)],this.radius2_=e[t(248)],this[t(301)]=e[t(292)]!==void 0?e[t(292)]:0,this[t(251)]=e.stroke!==void 0?e.stroke:null,this[t(242)],this[t(243)],this.imageState_=this[t(296)]&&this[t(296)][t(269)]()?Pe[t(297)]:Pe[t(302)],this.imageState_===Pe[t(297)]&&this[t(221)]()[t(298)](()=>this[t(231)]=Pe[t(302)]),this[t(234)]()}clone(){const e=l0,t=this[e(294)](),n=new Rc({fill:this[e(270)]()?this[e(270)]()[e(271)]():void 0,points:this[e(232)](),radius:this[e(257)](),radius2:this[e(223)](),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke()[e(271)]():void 0,rotation:this[e(219)](),rotateWithView:this[e(267)](),scale:Array[e(295)](t)?t[e(247)]():t,displacement:this[e(290)]()[e(247)](),declutterMode:this.getDeclutterMode()});return n.setOpacity(this[e(218)]()),n}getAnchor(){const e=l0,t=this.size_,n=this.getDisplacement(),r=this[e(244)]();return[t[0]/2-n[0]/r[0],t[1]/2+n[1]/r[1]]}[pt(268)](){return this[pt(301)]}[pt(270)](){return this[pt(296)]}[pt(282)](e){const t=pt;this[t(296)]=e,this[t(234)]()}[pt(217)](){const e=pt;return!this.hitDetectionCanvas_&&(this.hitDetectionCanvas_=this[e(225)](this.renderOptions_)),this[e(236)]}getImage(e){const t=pt;let n=this[t(300)][e];if(!n){const r=this[t(243)],s=fn(r[t(258)]*e,r.size*e);this[t(253)](r,s,e),n=s.canvas,this.canvases_[e]=n}return n}[pt(306)](e){return e}getImageSize(){return this.size_}[pt(279)](){return this.imageState_}[pt(307)](){return this.origin_}[pt(232)](){return this[pt(213)]}[pt(257)](){return this[pt(237)]}[pt(223)](){return this[pt(265)]}[pt(246)](){return this.size_}getStroke(){return this[pt(251)]}setStroke(e){const t=pt;this[t(251)]=e,this.render()}listenImageChange(e){}load(){}[pt(284)](e){}[pt(305)](e,t,n){const r=pt;if(t===0||this[r(213)]===1/0||e!==r(252)&&e!=="miter")return t;let s=this.radius,a=this[r(265)]===void 0?s:this[r(265)];if(s<a){const C=s;s=a,a=C}const o=this.radius2_===void 0?this[r(213)]:this.points_*2,l=2*Math.PI/o,c=a*Math[r(230)](l),x=Math.sqrt(a*a-c*c),u=s-x,h=Math[r(261)](c*c+u*u),f=h/c;if(e===r(228)&&f<=n)return f*t;const A=t/2/f,g=t/2*(u/h),d=Math[r(261)]((s+A)*(s+A)+g*g),p=d-s;if(this.radius2_===void 0||e===r(252))return p*2;const m=s*Math[r(230)](l),I=Math[r(261)](s*s-m*m),_=a-I,y=Math.sqrt(m*m+_*_),E=y/m;if(E<=n){const C=E*t/2-a-s;return 2*Math[r(266)](p,C)}return p*2}[pt(291)](){const e=pt;let t=Bc,n=Sc,r=0,s=null,a=0,o,l=0;this[e(251)]&&(o=Cs(this.stroke_.getColor()??yu),l=this[e(251)][e(224)]()??vu,s=this[e(251)][e(276)](),a=this[e(251)][e(304)]()??0,n=this.stroke_.getLineJoin()??Sc,t=this[e(251)][e(277)]()??Bc,r=this[e(251)][e(272)]()??Eu);const c=this.calculateLineJoinSize_(n,l,r),x=Math[e(266)](this.radius,this[e(265)]||0),u=Math[e(285)](2*x+c);return{strokeStyle:o,strokeWidth:l,size:u,lineCap:t,lineDash:s,lineDashOffset:a,lineJoin:n,miterLimit:r}}[pt(234)](){const e=pt;this[e(243)]=this[e(291)]();const t=this.renderOptions_[e(258)];this[e(300)]={},this[e(236)]=null,this[e(242)]=[t,t]}[pt(253)](e,t,n){const r=pt;if(t.scale(n,n),t[r(299)](e[r(258)]/2,e[r(258)]/2),this[r(214)](t),this.fill_){let s=this[r(296)].getColor();s===null&&(s=Oi),t[r(280)]=Cs(s),t[r(235)]()}e[r(281)]&&(t[r(281)]=e[r(281)],t[r(238)]=e[r(264)],e[r(216)]&&(t[r(227)](e[r(216)]),t[r(226)]=e[r(226)]),t[r(222)]=e[r(222)],t[r(229)]=e[r(229)],t.miterLimit=e.miterLimit,t.stroke())}[pt(225)](e){const t=pt;let n;if(this[t(296)]){let r=this.fill_[t(286)](),s=0;typeof r===t(273)&&(r=lu(r)),r===null?s=1:Array[t(295)](r)&&(s=r[t(239)]===4?r[3]:1),s===0&&(n=fn(e[t(258)],e[t(258)]),this[t(254)](e,n))}return n?n[t(262)]:this[t(289)](1)}createPath_(e){const t=pt;let n=this.points_;const r=this[t(237)];if(n===1/0)e[t(256)](0,0,r,0,2*Math.PI);else{const s=this[t(265)]===void 0?r:this.radius2_;this[t(265)]!==void 0&&(n*=2);const a=this[t(301)]-Math.PI/2,o=2*Math.PI/n;for(let l=0;l<n;l++){const c=a+l*o,x=l%2===0?r:s;e[t(241)](x*Math[t(288)](c),x*Math[t(230)](c))}e[t(287)]()}}drawHitDetectionCanvas_(e,t){const n=pt;t.translate(e.size/2,e[n(258)]/2),this.createPath_(t),t[n(280)]=Oi,t[n(235)](),e[n(281)]&&(t[n(281)]=e[n(281)],t[n(238)]=e[n(264)],e[n(216)]&&(t.setLineDash(e[n(216)]),t[n(226)]=e[n(226)]),t[n(229)]=e.lineJoin,t[n(240)]=e.miterLimit,t.stroke())}[pt(221)](){const e=pt;return this[e(296)]?this[e(296)][e(221)]():Promise.resolve()}}var ws=class extends Rc{constructor(e){e=e||{};var t=0;e.stroke&&(t=e.stroke.getWidth()),e.displacement||(e.displacement=[e.offsetX||0,-e.offsetY||0]),super({radius:e.radius,fill:e.fill,rotation:e.rotation,displacement:e.displacement,rotateWithView:e.rotateWithView,declutterMode:e.declutterMode}),typeof e.opacity=="number"&&this.setOpacity(e.opacity),this._color=e.color,this._fontSize=e.fontSize||1,this._fontStyle=e.fontStyle||"",this._stroke=e.stroke,this._fill=e.fill,this._radius=e.radius-t,this._form=e.form||"none",this._gradient=e.gradient,this._offset=[e.offsetX?e.offsetX:0,e.offsetY?e.offsetY:0],e.glyph?this._glyph=this.getGlyph(e.glyph):this._glyph=this.getTextGlyph(e.text||"",e.font),this.getDisplacement||this.getImage()}static addDefs(e,t){var n=e;if(typeof e=="string"&&(n={font:e,name:e,copyright:""}),!(!n.font||typeof n.font!="string")){var r=n.font;ws.defs.fonts[r]=n;for(var s in t){var a=t[s];typeof a=="string"&&(a.length==1||a.length==2)&&(a={char:a}),ws.defs.glyphs[s]={font:n.font,char:a.char||""+String.fromCharCode(a.code)||"",theme:a.theme||n.name,name:a.name||s,search:a.search||""}}}}clone(){var e=new ws({text:this._glyph.char,font:this._glyph.font,color:this._color,fontSize:this._fontSize,fontStyle:this._fontStyle,stroke:this._stroke,fill:this._fill,radius:this._radius+(this._stroke?this._stroke.getWidth():0),form:this._form,gradient:this._gradient,offsetX:this._offset[0],offsetY:this._offset[1],opacity:this.getOpacity(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),declutterMode:this.getDeclutterMode?this.getDeclutterMode():null});return e.setScale(this.getScale()),e}getFill(){return this._fill}getStroke(){return this._stroke}getGlyph(e){return e?ws.defs.glyphs[e]||{font:"sans-serif",char:e.charAt(0),theme:"none",name:"none",search:""}:this._glyph}getTextGlyph(e,t){return{font:t||"sans-serif",char:String(e),theme:"none",name:"none",search:""}}getGlyphName(){for(var e in ws.defs.glyphs)if(ws.defs.glyphs[e]===this._glyph)return e;return""}getFontInfo(e){return ws.defs.fonts[e.font]}getImage(e){e=e||1;var t=super.getImage(e),n,r=0;this._stroke&&(n=ea(this._stroke.getColor()),r=this._stroke.getWidth());var s={strokeStyle:n,strokeWidth:r,size:t.width/e},a=t.getContext("2d");if(a.clearRect(0,0,t.width,t.height),this.drawMarker_(s,a,0,0,e),!this.getDisplacement){var o=this.getAnchor();o[0]=t.width/2-this._offset[0],o[1]=t.width/2-this._offset[1]}return t}drawPath_(e,t){var n=2*this._radius+e.strokeWidth,r=e.strokeWidth/2,s=e.size/2,a={fac:1,posX:e.size/2,posY:e.size/2};switch(t.lineJoin="round",t.lineCap="round",t.beginPath(),this._form){case"none":{a.fac=1;break}case"circle":case"ban":{t.arc(s,s,n/2,0,2*Math.PI,!0);break}case"poi":{t.arc(s,s-.4*this._radius,.6*this._radius,.15*Math.PI,.85*Math.PI,!0),t.lineTo(s-.89*.05*n,(.95+.45*.05)*n+r),t.arc(s,.95*n+r,.05*n,.85*Math.PI,.15*Math.PI,!0),a={fac:.45,posX:s,posY:s-.35*this._radius};break}case"bubble":{t.arc(s,s-.2*this._radius,.8*this._radius,.4*Math.PI,.6*Math.PI,!0),t.lineTo(.5*n+r,n+r),a={fac:.7,posX:s,posY:s-.2*this._radius};break}case"marker":{t.arc(s,s-.2*this._radius,.8*this._radius,.25*Math.PI,.75*Math.PI,!0),t.lineTo(.5*n+r,n+r),a={fac:.7,posX:s,posY:s-.2*this._radius};break}case"coma":{t.moveTo(s+.8*this._radius,s-.2*this._radius),t.quadraticCurveTo(.95*n+r,.75*n+r,.5*n+r,n+r),t.arc(s,s-.2*this._radius,.8*this._radius,.45*Math.PI,0,!1),a={fac:.7,posX:s,posY:s-.2*this._radius};break}default:{var o;switch(this._form){case"shield":{o=[.05,0,.95,0,.95,.8,.5,1,.05,.8,.05,0],a.posY=.45*n+r;break}case"blazon":{o=[.1,0,.9,0,.9,.8,.6,.8,.5,1,.4,.8,.1,.8,.1,0],a.fac=.8,a.posY=.4*n+r;break}case"bookmark":{o=[.05,0,.95,0,.95,1,.5,.8,.05,1,.05,0],a.fac=.9,a.posY=.4*n+r;break}case"hexagon":{o=[.05,.2,.5,0,.95,.2,.95,.8,.5,1,.05,.8,.05,.2],a.fac=.9,a.posY=.5*n+r;break}case"diamond":{o=[.25,0,.75,0,1,.2,1,.4,.5,1,0,.4,0,.2,.25,0],a.fac=.75,a.posY=.35*n+r;break}case"triangle":{o=[0,0,1,0,.5,1,0,0],a.fac=.6,a.posY=.3*n+r;break}case"sign":{o=[.5,.05,1,.95,0,.95,.5,.05],a.fac=.7,a.posY=.65*n+r;break}case"lozenge":{o=[.5,0,1,.5,.5,1,0,.5,.5,0],a.fac=.7;break}case"square":default:{o=[0,0,1,0,1,1,0,1,0,0];break}}for(var l=0;l<o.length;l+=2)t.lineTo(o[l]*n+r,o[l+1]*n+r)}}return t.closePath(),a}drawMarker_(e,t,n,r,s){var a=this._fill?this._fill.getColor():"#000",o=this._stroke?this._stroke.getColor():"#000";this._form=="none"&&this._stroke&&this._fill&&(o=this._fill.getColor(),a=this._stroke.getColor()),t.setTransform(s,0,0,s,0,0),t.translate(n,r);var l=this.drawPath_(e,t,s);if(this._fill){if(this._gradient&&this._form!="none"){var c=t.createLinearGradient(0,0,e.size/2,e.size);c.addColorStop(1,ea(a)),c.addColorStop(0,ea(o)),t.fillStyle=c}else t.fillStyle=ea(a);t.fill()}if(this._stroke&&e.strokeWidth&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.stroke()),this._glyph.char){t.font=this._fontStyle+" "+2*l.fac*this._radius*this._fontSize+"px "+this._glyph.font,t.strokeStyle=t.fillStyle,t.lineWidth=e.strokeWidth*(this._form=="none"?2:1),t.fillStyle=ea(this._color||o),t.textAlign="center",t.textBaseline="middle";var x=this._glyph.char;e.strokeWidth&&o!="transparent"&&t.strokeText(x,l.posX,l.posY),t.fillText(x,l.posX,l.posY)}if(this._form=="ban"&&this._stroke&&e.strokeWidth){t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth;var u=this._radius+e.strokeWidth,h=this._radius*Math.cos(Math.PI/4);t.moveTo(u+h,u-h),t.lineTo(u-h,u+h),t.stroke()}}getChecksum(){var e=this._stroke!==null?this._stroke.getChecksum():"-",t=this._fill!==null?this._fill.getChecksum():"-",n=this.checksums_===null||e!=this.checksums_[1]||t!=this.checksums_[2]||this._radius!=this.checksums_[3]||this._form+"-"+this.glyphs_!=this.checksums_[4];if(n){var r="c"+e+t+(this._radius!==void 0?this._radius.toString():"-")+this._form+"-"+this.glyphs_;this.checksums_=[r,e,t,this._radius,this._form+"-"+this.glyphs_]}return this.checksums_[0]}};ws.defs={fonts:{},glyphs:{}};function A7(){const i=zQ;let e={},t=i.font_family,n=i.css_prefix_text,r=i.glyphs;for(let a=0;a<r.length;a++){let o=r[a];e[n+o.font_class]={font:t,code:o.unicode_decimal,name:o.name,search:n+o.font_class}}let s={font:{font:t,copyright:""},glyphs:e};return ws.addDefs(s.font,s.glyphs),s}const Tc=wu;(function(i,e){const t=wu,n=i();for(;;)try{if(parseInt(t(245))/1+-parseInt(t(246))/2+-parseInt(t(241))/3*(parseInt(t(261))/4)+-parseInt(t(260))/5*(-parseInt(t(244))/6)+-parseInt(t(259))/7+parseInt(t(252))/8*(parseInt(t(255))/9)+-parseInt(t(263))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Dd,208632);let dB=class extends hE{constructor(e,t,n,r,s){const a=wu,o=s!==void 0?Pe[a(242)]:Pe[a(248)];super(e,t,n,o),this[a(250)]=s!==void 0?s:null,this[a(253)]=r,this[a(251)]=null}[Tc(249)](){return this.error_}handleLoad_(e){const t=Tc;e?(this.error_=e,this[t(258)]=Pe[t(240)]):this[t(258)]=Pe[t(248)],this[t(257)]()}[Tc(256)](){const e=Tc;this[e(258)]==Pe.IDLE&&(this[e(258)]=Pe[e(247)],this[e(257)](),this[e(250)](this[e(262)][e(243)](this)))}[Tc(254)](){return this[Tc(253)]}};function wu(i,e){const t=Dd();return wu=function(n,r){return n=n-240,t[n]},wu(i,e)}function Dd(){const i=["IDLE","bind","400746nOBlYY","414668cLLYQU","583196ovCZlB","LOADING","LOADED","getError","loader_","error_","17528Jndqhb","canvas_","getImage","801SCdZmZ","load","changed","state","186074pCQbIA","10rkonvo","12fBbKQV","handleLoad_","603080yfuFHG","ERROR","156129oRtLtv"];return Dd=function(){return i},Dd()}const mE=.5,Bu=Su;(function(i,e){const t=Su,n=i();for(;;)try{if(-parseInt(t(336))/1*(-parseInt(t(324))/2)+parseInt(t(318))/3*(-parseInt(t(349))/4)+-parseInt(t(341))/5*(parseInt(t(340))/6)+-parseInt(t(343))/7+parseInt(t(329))/8*(parseInt(t(326))/9)+parseInt(t(321))/10*(parseInt(t(350))/11)+-parseInt(t(330))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qd,668822);function Qd(){const i=["sourceWorldWidth_","transformInv_","4vsjOTs","167893PQbFff","1783698qnTwNE","abs","isGlobal","590EYSMRG","push","ceil","209624cBhxLa","getExtent","87543mHPyCr","log2","source","1064UXMIsp","10532628nEJPTt","sourceProj_","addQuad_","max","canWrapXInSource_","targetWorldWidth_","1pKnhuc","forEach","maxSourceExtent_","canWrapX","6oLdBED","81505RPaqzY","targetProj_","991284IaZuPV","addTriangle_","wrapsXInSource_","triangles_"];return Qd=function(){return i},Qd()}function Su(i,e){const t=Qd();return Su=function(n,r){return n=n-318,t[n]},Su(i,e)}const d7=10,pB=.25;let _E=class{constructor(e,t,n,r,s,a){const o=Su;this[o(331)]=e,this[o(342)]=t;let l={};const c=_c(this.targetProj_,this.sourceProj_);this[o(348)]=function(I){const _=I[0]+"/"+I[1];return!l[_]&&(l[_]=c(I)),l[_]},this[o(338)]=r,this.errorThresholdSquared_=s*s,this[o(346)]=[],this[o(345)]=!1,this[o(334)]=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_[o(325)]()&&ht(r)>=ht(this[o(331)].getExtent()),this[o(347)]=this[o(331)][o(325)]()?ht(this[o(331)][o(325)]()):null,this[o(335)]=this[o(342)].getExtent()?ht(this.targetProj_[o(325)]()):null;const x=Ks(n),u=PA(n),h=QA(n),f=DA(n),A=this.transformInv_(x),g=this[o(348)](u),d=this[o(348)](h),p=this[o(348)](f),m=d7+(a?Math[o(333)](0,Math[o(323)](Math[o(327)](nu(n)/(a*a*256*256)))):0);if(this[o(332)](x,u,h,f,A,g,d,p,m),this[o(345)]){let I=1/0;this[o(346)].forEach(function(_,y,E){const C=o;I=Math.min(I,_[C(328)][0][0],_[C(328)][1][0],_.source[2][0])}),this[o(346)][o(337)](_=>{const y=o;if(Math[y(333)](_[y(328)][0][0],_[y(328)][1][0],_[y(328)][2][0])-I>this[y(347)]/2){const E=[[_[y(328)][0][0],_[y(328)][0][1]],[_[y(328)][1][0],_[y(328)][1][1]],[_[y(328)][2][0],_.source[2][1]]];E[0][0]-I>this[y(347)]/2&&(E[0][0]-=this.sourceWorldWidth_),E[1][0]-I>this[y(347)]/2&&(E[1][0]-=this.sourceWorldWidth_),E[2][0]-I>this[y(347)]/2&&(E[2][0]-=this[y(347)]);const C=Math.min(E[0][0],E[1][0],E[2][0]);Math[y(333)](E[0][0],E[1][0],E[2][0])-C<this[y(347)]/2&&(_.source=E)}})}l={}}[Bu(344)](e,t,n,r,s,a){const o=Bu;this[o(346)][o(322)]({source:[r,s,a],target:[e,t,n]})}[Bu(332)](e,t,n,r,s,a,o,l,c){const x=Bu,u=zI([s,a,o,l]),h=this[x(347)]?ht(u)/this[x(347)]:null,f=this.sourceWorldWidth_,A=this[x(331)][x(339)]()&&h>.5&&h<1;let g=!1;if(c>0){if(this[x(342)].isGlobal()&&this.targetWorldWidth_){const p=zI([e,t,n,r]);g=ht(p)/this[x(335)]>pB||g}!A&&this[x(331)][x(320)]()&&h&&(g=h>pB||g)}if(!g&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!wn(u,this[x(338)]))return;let d=0;if(!g&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)g=!0;else if(d=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),d!=1&&d!=2&&d!=4&&d!=8)return}if(c>0){if(!g){const p=[(e[0]+n[0])/2,(e[1]+n[1])/2],m=this[x(348)](p);let I;A?I=(mc(s[0],f)+mc(o[0],f))/2-mc(m[0],f):I=(s[0]+o[0])/2-m[0];const _=(s[1]+o[1])/2-m[1];g=I*I+_*_>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-n[0])<=Math[x(319)](e[1]-n[1])){const p=[(t[0]+n[0])/2,(t[1]+n[1])/2],m=this.transformInv_(p),I=[(r[0]+e[0])/2,(r[1]+e[1])/2],_=this[x(348)](I);this[x(332)](e,t,p,I,s,a,m,_,c-1),this[x(332)](I,p,n,r,_,m,o,l,c-1)}else{const p=[(e[0]+t[0])/2,(e[1]+t[1])/2],m=this[x(348)](p),I=[(n[0]+r[0])/2,(n[1]+r[1])/2],_=this[x(348)](I);this[x(332)](e,p,I,r,s,m,_,l,c-1),this[x(332)](p,t,n,I,m,a,o,_,c-1)}return}}if(A){if(!this.canWrapXInSource_)return;this[x(345)]=!0}!(d&11)&&this.addTriangle_(e,n,r,s,o,l),!(d&14)&&this.addTriangle_(e,n,t,s,o,a),d&&(!(d&13)&&this.addTriangle_(t,r,e,a,l,s),!(d&7)&&this.addTriangle_(t,r,n,a,l,o))}calculateSourceExtent(){const e=Bu,t=yr();return this[e(346)][e(337)](function(n,r,s){const a=e,o=n[a(328)];tu(t,o[0]),tu(t,o[1]),tu(t,o[2])}),t}getTriangles(){return this.triangles_}};(function(i,e){const t=eo,n=i();for(;;)try{if(parseInt(t(368))/1+-parseInt(t(362))/2+-parseInt(t(378))/3+-parseInt(t(348))/4+parseInt(t(371))/5*(parseInt(t(377))/6)+-parseInt(t(369))/7*(parseInt(t(361))/8)+parseInt(t(379))/9*(parseInt(t(342))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Fd,652845);function eo(i,e){const t=Fd();return eo=function(n,r){return n=n-333,t[n]},eo(i,e)}let IE;const ia=[];function gB(i,e,t,n,r){const s=eo;i[s(343)](),i[s(380)](0,0),i[s(335)](e,t),i[s(335)](n,r),i[s(344)](),i[s(376)](),i[s(358)](),i[s(339)](0,0,Math[s(375)](e,n)+1,Math[s(375)](t,r)),i.restore()}function EE(i,e){const t=eo;return Math.abs(i[e*4]-210)>2||Math[t(355)](i[e*4+3]-.75*255)>2}function Fd(){const i=["657ISSsKE","moveTo","source-over","canvas","lineTo","getTriangles","forEach","black","fillRect","restore","transform","350890KTcupC","beginPath","closePath","length","fillStyle","clipExtent","2298372qEasjH","image","target","drawImage","height","extent","rect","abs","getExtent","scale","clip","lighter","getMetersPerUnit","124240hXutjB","1276506oxmauP","data","globalCompositeOperation","width","lineWidth","translate","245721YMCYUX","574JbKjmY","rgba(210, 0, 0, 0.75)","165hycWSs","round","strokeStyle","imageSmoothingEnabled","max","save","110094SmWhog","820752AEUNpM"];return Fd=function(){return i},Fd()}function p7(){const i=eo;if(IE===void 0){const e=fn(6,6,ia);e[i(364)]="lighter",e[i(346)]=i(370),gB(e,4,5,4,0),gB(e,4,5,0,5);const t=e.getImageData(0,0,3,3)[i(363)];IE=EE(t,0)||EE(t,4)||EE(t,8),s0(e),ia.push(e[i(334)])}return IE}function yE(i,e,t,n){const r=eo,s=ms(t,e,i);let a=ZI(e,n,t);const o=e[r(360)]();o!==void 0&&(a*=o);const l=i.getMetersPerUnit();l!==void 0&&(a/=l);const c=i[r(356)]();if(!c||t0(c,s)){const x=ZI(i,a,s)/a;isFinite(x)&&x>0&&(a/=x)}return a}function mB(i,e,t,n){const r=Cr(t);let s=yE(i,e,r,n);return(!isFinite(s)||s<=0)&&Pw(t,function(a){return s=yE(i,e,a,n),isFinite(s)&&s>0}),s}function CE(i,e,t,n,r,s,a,o,l,c,x,u,h,f){const A=eo,g=fn(Math[A(372)](t*i),Math.round(t*e),ia);if(!u&&(g[A(374)]=!1),l.length===0)return g[A(334)];g[A(357)](t,t);function d(E){return Math[A(372)](E*t)/t}g[A(364)]=A(359);const p=yr();l[A(337)](function(E,C,w){Fw(p,E[A(353)])});let m;const I=t/n,_=(u?1:1+Math.pow(2,-24))/I;if(!h||l[A(345)]!==1||c!==0){if(m=fn(Math[A(372)](ht(p)*I),Math[A(372)](vn(p)*I),ia),!u&&(m[A(374)]=!1),r&&f){const E=(r[0]-p[0])*I,C=-(r[3]-p[3])*I,w=ht(r)*I,b=vn(r)*I;m[A(354)](E,C,w,b),m[A(358)]()}l[A(337)](function(E,C,w){const b=A;if(E[b(349)].width>0&&E[b(349)][b(352)]>0){if(E.clipExtent){m[b(376)]();const F=(E[b(347)][0]-p[0])*I,M=-(E[b(347)][3]-p[3])*I,D=ht(E[b(347)])*I,P=vn(E.clipExtent)*I;m.rect(u?F:Math[b(372)](F),u?M:Math[b(372)](M),u?D:Math[b(372)](F+D)-Math[b(372)](F),u?P:Math.round(M+P)-Math[b(372)](M)),m[b(358)]()}const v=(E[b(353)][0]-p[0])*I,B=-(E[b(353)][3]-p[3])*I,R=ht(E[b(353)])*I,T=vn(E.extent)*I;m[b(351)](E[b(349)],c,c,E.image[b(365)]-2*c,E[b(349)].height-2*c,u?v:Math.round(v),u?B:Math[b(372)](B),u?R:Math[b(372)](v+R)-Math[b(372)](v),u?T:Math.round(B+T)-Math[b(372)](B)),E[b(347)]&&m[b(340)]()}})}const y=Ks(a);return o[A(336)]()[A(337)](function(E,C,w){const b=A,v=E.source,B=E[b(350)];let R=v[0][0],T=v[0][1],F=v[1][0],M=v[1][1],D=v[2][0],P=v[2][1];const k=d((B[0][0]-y[0])/s),V=d(-(B[0][1]-y[1])/s),Y=d((B[1][0]-y[0])/s),U=d(-(B[1][1]-y[1])/s),ne=d((B[2][0]-y[0])/s),xe=d(-(B[2][1]-y[1])/s),G=R,O=T;R=0,T=0,F-=G,M-=O,D-=G,P-=O;const ee=[[F,M,0,0,Y-k],[D,P,0,0,ne-k],[0,0,F,M,U-V],[0,0,D,P,xe-V]],K=BQ(ee);if(!K)return;if(g[b(376)](),g.beginPath(),p7()||!u){g[b(380)](Y,U);const Ae=4,ge=k-Y,oe=V-U;for(let Se=0;Se<Ae;Se++)g.lineTo(Y+d((Se+1)*ge/Ae),U+d(Se*oe/(Ae-1))),Se!=Ae-1&&g[b(335)](Y+d((Se+1)*ge/Ae),U+d((Se+1)*oe/(Ae-1)));g[b(335)](ne,xe)}else g[b(380)](Y,U),g[b(335)](k,V),g[b(335)](ne,xe);g[b(358)](),g[b(341)](K[0],K[2],K[1],K[3],k,V),g[b(367)](p[0]-G,p[3]-O);let ce;if(m)ce=m[b(334)],g[b(357)](_,-_);else{const Ae=l[0],ge=Ae[b(353)];ce=Ae[b(349)],g.scale(ht(ge)/ce.width,-vn(ge)/ce[b(352)])}g[b(351)](ce,0,0),g[b(340)]()}),m&&(s0(m),ia.push(m[A(334)])),x&&(g[A(376)](),g[A(364)]=A(333),g[A(373)]=A(338),g[A(366)]=1,o.getTriangles()[A(337)](function(E,C,w){const b=A,v=E[b(350)],B=(v[0][0]-y[0])/s,R=-(v[0][1]-y[1])/s,T=(v[1][0]-y[0])/s,F=-(v[1][1]-y[1])/s,M=(v[2][0]-y[0])/s,D=-(v[2][1]-y[1])/s;g[b(343)](),g[b(380)](T,F),g[b(335)](B,R),g.lineTo(M,D),g.closePath(),g.stroke()}),g[A(340)]()),g[A(334)]}function Ld(i,e){var t=Pd();return Ld=function(n,r){n=n-451;var s=t[n];return s},Ld(i,e)}function Pd(){var i=["isArray","138zNfhAD","4639173uqsrEO","8zjRfmo","949566QWvEsR","90azfftE","9RNZgHo","2844443dmLkfx","5604ndQJpv","17475MODpVv","110379DzcEXC","2555650yiqyux"];return Pd=function(){return i},Pd()}(function(i,e){for(var t=Ld,n=i();;)try{var r=parseInt(t(455))/1+parseInt(t(461))/2+-parseInt(t(458))/3*(parseInt(t(453))/4)+parseInt(t(454))/5*(parseInt(t(462))/6)+-parseInt(t(452))/7*(-parseInt(t(460))/8)+-parseInt(t(451))/9*(parseInt(t(456))/10)+-parseInt(t(459))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Pd,302182);function bE(i){var e=Ld;return Array[e(457)](i)?Math.min(...i):i}const Wr=Mu;(function(i,e){const t=Mu,n=i();for(;;)try{if(parseInt(t(306))/1*(-parseInt(t(316))/2)+parseInt(t(327))/3*(parseInt(t(299))/4)+-parseInt(t(300))/5+-parseInt(t(338))/6+parseInt(t(324))/7*(parseInt(t(315))/8)+-parseInt(t(323))/9+-parseInt(t(314))/10*(-parseInt(t(339))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(kd,195453);function kd(){const i=["374130RFAHDU","22zyFoJO","362456fWDfxx","1508230MgLUgd","getImage","maxSourceExtent_","CHANGE","slice","getResolution","16zbXJnh","state","getPixelRatio","IDLE","targetProj_","sourceImage_","disposeInternal","unlistenSource_","2282390FpYccS","795344WVRLkm","10808HOLHhQ","canWrapX","getState","reproject_","canvas_","triangulation_","ERROR","5328nkUJpf","7NDOgvE","load","LOADED","3sklhTW","sourceListenerKey_","LOADING","getExtent","changed","EMPTY","sourcePixelRatio_","targetResolution_","getProjection","targetExtent_","interpolate_"];return kd=function(){return i},kd()}function Mu(i,e){const t=kd();return Mu=function(n,r){return n=n-299,t[n]},Mu(i,e)}let g7=class extends hE{constructor(e,t,n,r,s,a,o){const l=Mu;let c=e.getExtent();c&&e[l(317)]()&&(c=c[l(304)](),c[0]=-1/0,c[2]=1/0);let x=t.getExtent();x&&t.canWrapX()&&(x=x[l(304)](),x[0]=-1/0,x[2]=1/0);const u=x?Mi(n,x):n,h=Cr(u),f=yE(e,t,h,r),A=mE,g=new _E(e,t,u,c,f*A,r),d=g.calculateSourceExtent(),p=n0(d)?null:a(d,f,s),m=p?Pe[l(309)]:Pe[l(332)],I=p?p[l(308)]():1;super(n,r,I,m),this[l(310)]=t,this[l(302)]=c,this[l(321)]=g,this[l(334)]=r,this[l(336)]=n,this[l(311)]=p,this[l(333)]=I,this[l(337)]=o,this[l(320)]=null,this[l(328)]=null}[Wr(312)](){const e=Wr;this[e(307)]==Pe[e(329)]&&this[e(313)](),super[e(312)]()}[Wr(301)](){return this[Wr(320)]}[Wr(335)](){return this.targetProj_}[Wr(319)](){const e=Wr,t=this[e(311)][e(318)]();if(t==Pe[e(326)]){const n=ht(this[e(336)])/this[e(334)],r=vn(this[e(336)])/this[e(334)];this[e(320)]=CE(n,r,this[e(333)],bE(this[e(311)][e(305)]()),this[e(302)],this[e(334)],this[e(336)],this.triangulation_,[{extent:this[e(311)][e(330)](),image:this[e(311)][e(301)]()}],0,void 0,this[e(337)],!0)}this[e(307)]=t,this[e(331)]()}[Wr(325)](){const e=Wr;if(this[e(307)]==Pe[e(309)]){this[e(307)]=Pe[e(329)],this[e(331)]();const t=this[e(311)][e(318)]();t==Pe[e(326)]||t==Pe[e(322)]?this[e(319)]():(this.sourceListenerKey_=mt(this[e(311)],Ye[e(303)],n=>{const r=e,s=this.sourceImage_[r(318)]();(s==Pe.LOADED||s==Pe[r(322)])&&(this[r(313)](),this.reproject_())}),this[e(311)][e(325)]())}}[Wr(313)](){const e=Wr;Jt(this[e(328)]),this[e(328)]=null}};const mi=Dc;(function(i,e){const t=Dc,n=i();for(;;)try{if(-parseInt(t(295))/1+parseInt(t(294))/2*(-parseInt(t(272))/3)+parseInt(t(279))/4+parseInt(t(300))/5*(-parseInt(t(274))/6)+parseInt(t(281))/7*(parseInt(t(299))/8)+parseInt(t(276))/9*(-parseInt(t(297))/10)+parseInt(t(271))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ud,666507);function Dc(i,e){const t=Ud();return Dc=function(n,r){return n=n-269,t[n]},Dc(i,e)}let Qc=class extends bs{constructor(e){const t=Dc;super(),this[t(269)]=Kt(e[t(269)]),this[t(277)]=_B(e.attributions),this[t(283)]=e[t(296)]??!0,this[t(302)]=!1,this[t(287)]=e[t(273)]!==void 0?e.state:t(289),this[t(284)]=e.wrapX!==void 0?e.wrapX:!1,this[t(288)]=!!e[t(291)],this[t(275)]=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,s){const a=t;n[a(275)]=r,n[a(282)]=s})}getAttributions(){return this[Dc(277)]}[mi(270)](){return this[mi(283)]}getProjection(){return this[mi(269)]}[mi(278)](e){return null}[mi(286)](){return this.viewPromise_}[mi(301)](){return this[mi(287)]}[mi(293)](){return this.wrapX_}[mi(292)](){return this[mi(288)]}refresh(){this[mi(298)]()}[mi(280)](e){const t=mi;this[t(277)]=_B(e),this[t(298)]()}[mi(290)](e){const t=mi;this.state_=e,this[t(298)]()}};function Ud(){const i=["getAttributionsCollapsible","24945514DsUHHI","6sqAHUN","state","21252IlDOOz","viewResolver","36DogvKd","attributions_","getResolutions","1531508kCFiZp","setAttributions","3843YifgGn","viewRejector","attributionsCollapsible_","wrapX_","isArray","getView","state_","interpolate_","ready","setState","interpolate","getInterpolate","getWrapX","1235902vIAeSd","468204CkLNqO","attributionsCollapsible","1338440uIRXTu","changed","3824kKYfTI","10kCfENb","getState","loading","projection"];return Ud=function(){return i},Ud()}function _B(i){const e=mi;return i?typeof i=="function"?i:(!Array[e(285)](i)&&(i=[i]),t=>i):null}(function(i,e){const t=vE,n=i();for(;;)try{if(-parseInt(t(177))/1+-parseInt(t(176))/2+-parseInt(t(170))/3*(-parseInt(t(172))/4)+parseInt(t(175))/5*(-parseInt(t(178))/6)+-parseInt(t(171))/7+parseInt(t(173))/8+-parseInt(t(174))/9*(-parseInt(t(169))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Nd,992741);function Nd(){const i=["31665177SazTmn","5CYSSZr","200916RBPGcJ","1938731FzsyNU","8449302GhMlNJ","10CRpfSY","4596609PgJjXv","12280233iBCvfW","4idYxkT","9151280FYIAlj"];return Nd=function(){return i},Nd()}function vE(i,e){const t=Nd();return vE=function(n,r){return n=n-169,t[n]},vE(i,e)}const Od=4;function Gd(i,e){const t=zd();return Gd=function(n,r){return n=n-114,t[n]},Gd(i,e)}const xr=Gd;(function(i,e){const t=Gd,n=i();for(;;)try{if(parseInt(t(142))/1*(-parseInt(t(152))/2)+-parseInt(t(117))/3*(-parseInt(t(162))/4)+-parseInt(t(151))/5*(parseInt(t(133))/6)+parseInt(t(136))/7+parseInt(t(160))/8+parseInt(t(150))/9*(-parseInt(t(158))/10)+-parseInt(t(148))/11*(-parseInt(t(135))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(zd,168457);function zd(){const i=["addEventListener","IMAGELOADEND","getImageInternal","wantedResolution_","33tEJXhF","resolutions_","1271502hXZPCV","1630285wzeDuT","267414UtgCaK","getRevision","dispatchEvent","resolutions","reprojectedImage_","length","10bfiand","getExtent","1331992BbTSPr","findNearestResolution","100136MalWgn","getProjection","IMAGELOADSTART","loading","interpolate","39nLzltT","getResolution","target","wantedProjection_","projection","image","getResolutions","wantedExtent_","LOADED","reprojectedRevision_","IMAGELOADERROR","getImage","dispose","imageloaderror","getInterpolate","ERROR","6oLQemq","imageloadstart","126072LXNdla","1722280TCMFBY","state","bind","static_","CHANGE","loader","1aytpnq","handleImageChange"];return zd=function(){return i},zd()}const wE={IMAGELOADSTART:xr(134),IMAGELOADEND:"imageloadend",IMAGELOADERROR:xr(130)};let m7=class extends br{constructor(e,t){const n=xr;super(e),this[n(122)]=t}},BE=class extends Qc{constructor(e){const t=xr;super({attributions:e.attributions,projection:e[t(121)],state:e[t(137)],interpolate:e.interpolate!==void 0?e[t(116)]:!0}),this.on,this.once,this.un,this[t(141)]=e[t(141)]||null,this[t(149)]=e[t(155)]!==void 0?e[t(155)]:null,this.reprojectedImage_=null,this[t(126)]=0,this[t(122)]=null,this[t(124)],this.wantedResolution_,this[t(139)]=e.loader?e[t(141)][t(157)]===0:!1,this[t(120)]=null}[xr(123)](){return this[xr(149)]}setResolutions(e){this.resolutions_=e}[xr(161)](e){const t=xr,n=this[t(123)]();if(n){const r=od(n,e,0);e=n[r]}return e}[xr(128)](e,t,n,r){const s=xr,a=this[s(163)]();if(!a||!r||Js(a,r))return a&&(r=a),this[s(146)](e,t,n,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this[s(153)]()&&Js(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_[s(118)]()==t&&js(this[s(156)][s(159)](),e))return this.reprojectedImage_;this[s(156)][s(129)](),this[s(156)]=null}return this[s(156)]=new g7(a,r,e,t,n,(o,l,c)=>this[s(146)](o,l,c,a),this[s(131)]()),this.reprojectedRevision_=this[s(153)](),this.reprojectedImage_}getImageInternal(e,t,n,r){const s=xr;if(this[s(141)]){const a=_7(e,t,n,1),o=this[s(161)](t);if(this[s(122)]&&(this.static_||this[s(120)]===r&&(this.wantedExtent_&&qr(this.wantedExtent_,a)||qr(this[s(122)][s(159)](),a))&&(this[s(147)]&&bE(this[s(147)])===o||bE(this[s(122)].getResolution())===o)))return this.image;this.wantedProjection_=r,this[s(124)]=a,this[s(147)]=o,this[s(122)]=new hE(a,o,n,this[s(141)]),this[s(122)][s(144)](Ye[s(140)],this.handleImageChange[s(138)](this))}return this[s(122)]}[xr(143)](e){const t=xr,n=e[t(119)];let r;switch(n.getState()){case Pe.LOADING:this[t(115)]=!0,r=wE[t(114)];break;case Pe[t(125)]:this[t(115)]=!1,r=wE[t(145)];break;case Pe[t(132)]:this.loading=!1,r=wE[t(127)];break;default:return}this.hasListener(r)&&this[t(154)](new m7(r,n))}};function _7(i,e,t,n){const r=e/t,s=Cr(i),a=Ka(ht(i)/r,Od),o=Ka(vn(i)/r,Od),l=Ka((n-1)*a/2,Od),c=a+2*l,x=Ka((n-1)*o/2,Od),u=o+2*x;return LA(s,r,0,[c,u])}const IB=Ru;(function(i,e){const t=Ru,n=i();for(;;)try{if(-parseInt(t(450))/1+parseInt(t(453))/2+-parseInt(t(455))/3*(-parseInt(t(464))/4)+-parseInt(t(451))/5*(parseInt(t(469))/6)+parseInt(t(454))/7+parseInt(t(456))/8+parseInt(t(463))/9*(-parseInt(t(448))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vd,223995);function Ru(i,e){const t=Vd();return Ru=function(n,r){return n=n-444,t[n]},Ru(i,e)}function Vd(){const i=["call","getRevision","canvasFunction","ratio_","9QeQGxm","3324xditYg","canvasFunction_","getPixelRatio","slice","getImageInternal","60uiOAbx","renderedRevision_","resolutions","attributions","state","canvas_","3978460wHXMmp","ratio","265565vDyMvp","157445KFUGRM","getResolution","567622QmXMjB","2554272UwNIpt","501zyKsMH","3318496UjkXgN","findNearestResolution","interpolate"];return Vd=function(){return i},Vd()}let EB=class extends BE{constructor(e){const t=Ru;e=e||{},super({attributions:e[t(445)],interpolate:e[t(458)],projection:e.projection,resolutions:e[t(444)],state:e[t(446)]}),this[t(465)]=e[t(461)],this.canvas_=null,this[t(470)]=0,this[t(462)]=e[t(449)]!==void 0?e[t(449)]:1.5}[IB(468)](e,t,n,r){const s=IB;t=this[s(457)](t);let a=this.canvas_;if(a&&this[s(470)]==this.getRevision()&&a[s(452)]()==t&&a[s(466)]()==n&&qr(a.getExtent(),e))return a;e=e[s(467)](),bQ(e,this[s(462)]);const o=ht(e)/t,l=vn(e)/t,c=[o*n,l*n],x=this[s(465)][s(459)](this,e,t,n,c,r);return x&&(a=new dB(e,t,n,x)),this[s(447)]=a,this.renderedRevision_=this[s(460)](),a}};function Hd(){var i=["378872jajZiM","source","355044BAlmCg","opacity","zIndex","maxResolution","39auZHPR","10006173WpenGN","extent","3043885pjHicV","6694JaLpum","map","133gumyei","24665890pxKhKq","6858270tRNZTf","maxZoom","visible","383cCqWjw"];return Hd=function(){return i},Hd()}var to=qd;(function(i,e){for(var t=qd,n=i();;)try{var r=parseInt(t(436))/1*(parseInt(t(429))/2)+parseInt(t(425))/3*(parseInt(t(439))/4)+-parseInt(t(428))/5+parseInt(t(433))/6+-parseInt(t(431))/7*(parseInt(t(437))/8)+parseInt(t(426))/9+-parseInt(t(432))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hd,715449);function qd(i,e){var t=Hd();return qd=function(n,r){n=n-424;var s=t[n];return s},qd(i,e)}const Vt={OPACITY:to(440),VISIBLE:to(435),EXTENT:to(427),Z_INDEX:to(441),MAX_RESOLUTION:to(424),MIN_RESOLUTION:"minResolution",MAX_ZOOM:to(434),MIN_ZOOM:"minZoom",SOURCE:to(438),MAP:to(430)};function yt(i,e){if(!i)throw new Error(e)}const gt=Tu;(function(i,e){const t=Tu,n=i();for(;;)try{if(-parseInt(t(471))/1+parseInt(t(531))/2+-parseInt(t(524))/3+parseInt(t(482))/4*(-parseInt(t(512))/5)+-parseInt(t(476))/6*(-parseInt(t(509))/7)+-parseInt(t(530))/8+-parseInt(t(489))/9*(-parseInt(t(499))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Yd,609809);function Yd(){const i=["getVisible","setMaxZoom","209885WEKPSO","assign","maxResolution","max","getClassName","minResolution","getBackground","getMinResolution","layer","MAX_RESOLUTION","getExtent","setVisible","581223qjZXLy","ol-layer","visible","className","managed","setMaxResolution","179824yMGMAt","545468gAYDEM","object","get","104983JZRvAq","setBackground","disposeInternal","getMinZoom","round","30qzQrcp","setOpacity","properties","background","maxZoom","background_","28VfmBvT","Layer opacity must be a number","className_","minZoom","getMaxResolution","number","changed","43857hFyrUE","set","VISIBLE","getZIndex","getMaxZoom","getLayerStatesArray","once","state_","Z_INDEX","extent","220hcMDcs","opacity","EXTENT","getLayersArray","zIndex","MIN_RESOLUTION","OPACITY","MAX_ZOOM","setProperties","MIN_ZOOM","1182874xQONMG"];return Yd=function(){return i},Yd()}function Tu(i,e){const t=Yd();return Tu=function(n,r){return n=n-469,t[n]},Tu(i,e)}let yB=class extends bs{constructor(e){const t=Tu;super(),this.on,this[t(495)],this.un,this[t(481)]=e[t(479)];const n=Object[t(513)]({},e);typeof e.properties===t(469)&&(delete n[t(478)],Object[t(513)](n,e[t(478)])),n[Vt.OPACITY]=e[t(500)]!==void 0?e[t(500)]:1,yt(typeof n[Vt[t(505)]]===t(487),t(483)),n[Vt[t(491)]]=e[t(526)]!==void 0?e[t(526)]:!0,n[Vt.Z_INDEX]=e[t(503)],n[Vt[t(521)]]=e.maxResolution!==void 0?e[t(514)]:1/0,n[Vt[t(504)]]=e[t(517)]!==void 0?e[t(517)]:0,n[Vt.MIN_ZOOM]=e[t(485)]!==void 0?e.minZoom:-1/0,n[Vt.MAX_ZOOM]=e[t(480)]!==void 0?e[t(480)]:1/0,this.className_=n[t(527)]!==void 0?n[t(527)]:t(525),delete n[t(527)],this[t(507)](n),this[t(496)]=null}[gt(518)](){return this.background_}[gt(516)](){return this[gt(484)]}getLayerState(e){const t=gt,n=this[t(496)]||{layer:this,managed:e===void 0?!0:e},r=this[t(492)]();return n.opacity=Bn(Math[t(475)](this.getOpacity()*100)/100,0,1),n[t(526)]=this[t(510)](),n[t(498)]=this.getExtent(),n[t(503)]=r===void 0&&!n[t(528)]?1/0:r,n[t(514)]=this[t(486)](),n[t(517)]=Math[t(515)](this.getMinResolution(),0),n[t(485)]=this.getMinZoom(),n.maxZoom=this[t(493)](),this.state_=n,n}[gt(502)](e){return je()}[gt(494)](e){return je()}[gt(522)](){return this[gt(470)](Vt.EXTENT)}[gt(486)](){const e=gt;return this.get(Vt[e(521)])}[gt(519)](){const e=gt;return this[e(470)](Vt[e(504)])}[gt(474)](){const e=gt;return this.get(Vt[e(508)])}[gt(493)](){const e=gt;return this.get(Vt[e(506)])}getOpacity(){const e=gt;return this[e(470)](Vt[e(505)])}getSourceState(){return je()}[gt(510)](){const e=gt;return this[e(470)](Vt[e(491)])}getZIndex(){const e=gt;return this[e(470)](Vt[e(497)])}[gt(472)](e){const t=gt;this[t(481)]=e,this[t(488)]()}setExtent(e){const t=gt;this[t(490)](Vt[t(501)],e)}[gt(529)](e){const t=gt;this.set(Vt[t(521)],e)}setMinResolution(e){const t=gt;this[t(490)](Vt[t(504)],e)}[gt(511)](e){const t=gt;this[t(490)](Vt[t(506)],e)}setMinZoom(e){this[gt(490)](Vt.MIN_ZOOM,e)}[gt(477)](e){const t=gt;yt(typeof e===t(487),"Layer opacity must be a number"),this[t(490)](Vt.OPACITY,e)}[gt(523)](e){const t=gt;this[t(490)](Vt[t(491)],e)}setZIndex(e){const t=gt;this[t(490)](Vt[t(497)],e)}[gt(473)](){const e=gt;this.state_&&(this[e(496)][e(520)]=null,this[e(496)]=null),super[e(473)]()}};var SE=Xd;(function(i,e){for(var t=Xd,n=i();;)try{var r=-parseInt(t(315))/1*(-parseInt(t(307))/2)+-parseInt(t(308))/3*(-parseInt(t(303))/4)+-parseInt(t(305))/5*(parseInt(t(304))/6)+parseInt(t(314))/7*(parseInt(t(312))/8)+-parseInt(t(316))/9*(parseInt(t(317))/10)+parseInt(t(313))/11+-parseInt(t(311))/12*(parseInt(t(306))/13);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wd,602754);function Xd(i,e){var t=Wd();return Xd=function(n,r){n=n-303;var s=t[n];return s},Xd(i,e)}function Wd(){var i=["prerender","postcompose","133944HCNjiL","6692992sMvlGY","3742464lgErMP","7drpHke","37YcMIrB","9jikGoO","1769890awdSiA","precompose","148bWXIUR","12WTLFzh","497070VZfKDu","2171daoGOB","27524YSWPue","93777KApUBB"];return Wd=function(){return i},Wd()}const Br={PRERENDER:SE(309),POSTRENDER:"postrender",PRECOMPOSE:SE(318),POSTCOMPOSE:SE(310),RENDERCOMPLETE:"rendercomplete"};function jd(){var i=["3764040lvarsM","107013HvUVWx","1725026WrTzub","39246kUdKBX","2073577XDQWjN","1oLPQPp","76jdhUQE","132skQVoY","154PFyJkh","153FnpANI","1691370XHWuQO","348792CTJqQd"];return jd=function(){return i},jd()}function ME(i,e){var t=jd();return ME=function(n,r){n=n-231;var s=t[n];return s},ME(i,e)}(function(i,e){for(var t=ME,n=i();;)try{var r=parseInt(t(237))/1*(-parseInt(t(234))/2)+-parseInt(t(233))/3*(-parseInt(t(238))/4)+parseInt(t(242))/5+parseInt(t(235))/6*(-parseInt(t(240))/7)+-parseInt(t(231))/8*(parseInt(t(241))/9)+-parseInt(t(232))/10+parseInt(t(236))/11*(parseInt(t(239))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(jd,965598);const An={ANIMATING:0,INTERACTING:1};var CB=Jd;function Kd(){var i=["1792986nKsCkh","13711flguHw","11JXUfIs","4yenzFr","104cvLjVT","1555555cYwwfY","1617696qvoCAM","center","17437810XkMfMl","214CNJNKr","4466105RYTmGD","20619Mcejpz","rotation"];return Kd=function(){return i},Kd()}(function(i,e){for(var t=Jd,n=i();;)try{var r=-parseInt(t(332))/1*(parseInt(t(327))/2)+-parseInt(t(331))/3*(-parseInt(t(334))/4)+-parseInt(t(323))/5+-parseInt(t(324))/6+parseInt(t(328))/7+-parseInt(t(335))/8*(parseInt(t(329))/9)+parseInt(t(326))/10*(parseInt(t(333))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Kd,901871);function Jd(i,e){var t=Kd();return Jd=function(n,r){n=n-323;var s=t[n];return s},Jd(i,e)}const jr={CENTER:CB(325),RESOLUTION:"resolution",ROTATION:CB(330)},bB=42,RE=256;(function(i,e){const t=$d,n=i();for(;;)try{if(parseInt(t(496))/1*(-parseInt(t(500))/2)+parseInt(t(505))/3*(-parseInt(t(499))/4)+-parseInt(t(508))/5*(parseInt(t(506))/6)+-parseInt(t(504))/7+parseInt(t(498))/8+-parseInt(t(497))/9*(parseInt(t(501))/10)+parseInt(t(503))/11*(parseInt(t(509))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Zd,523137);function vB(i,e,t){return function(n,r,s,a,o){const l=$d;if(!n)return;if(!r&&!e)return n;const c=e?0:s[0]*r,x=e?0:s[1]*r,u=o?o[0]:0,h=o?o[1]:0;let f=i[0]+c/2+u,A=i[2]-c/2+u,g=i[1]+x/2+h,d=i[3]-x/2+h;f>A&&(f=(A+f)/2,A=f),g>d&&(g=(d+g)/2,d=g);let p=Bn(n[0],f,A),m=Bn(n[1],g,d);if(a&&t&&r){const I=30*r;p+=-I*Math.log(1+Math.max(0,f-n[0])/I)+I*Math[l(507)](1+Math[l(502)](0,n[0]-A)/I),m+=-I*Math[l(507)](1+Math[l(502)](0,g-n[1])/I)+I*Math[l(507)](1+Math[l(502)](0,n[1]-d)/I)}return[p,m]}}function Zd(){const i=["23234bUxGlG","3436870zwQkXl","max","3883gOyQQV","606641rzKOfF","423498SPdcNA","470082iSvRVc","log","25ZIvhGg","61428OrtRMT","14XXgIgy","27KHzKYK","5364472EWEUEv","8mjQonH"];return Zd=function(){return i},Zd()}function $d(i,e){const t=Zd();return $d=function(n,r){return n=n-496,t[n]},$d(i,e)}function I7(i){return i}(function(i,e){const t=x0,n=i();for(;;)try{if(parseInt(t(188))/1+-parseInt(t(191))/2+parseInt(t(196))/3*(parseInt(t(202))/4)+-parseInt(t(203))/5+parseInt(t(189))/6*(-parseInt(t(197))/7)+parseInt(t(190))/8*(-parseInt(t(193))/9)+parseInt(t(195))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(e1,812772);function e1(){const i=["210LmIpSn","3083448XZDAhX","2135570DqwjDE","min","18jfUzUn","max","47770780oOEXoV","828MIOxcV","259329BFEGng","pow","log","floor","length","576WOZxjx","5261385UVKcpC","183519xWHapq"];return e1=function(){return i},e1()}function TE(i,e,t,n){const r=x0,s=ht(e)/t[0],a=vn(e)/t[1];return n?Math[r(192)](i,Math[r(194)](s,a)):Math[r(192)](i,Math[r(192)](s,a))}function DE(i,e,t){const n=x0;let r=Math[n(192)](i,e);const s=50;return r*=Math.log(1+s*Math.max(0,i/e-1))/s+1,t&&(r=Math[n(194)](r,t),r/=Math[n(199)](1+s*Math[n(194)](0,t/i-1))/s+1),Bn(r,t/2,e*2)}function E7(i,e,t,n){return e=e!==void 0?e:!0,function(r,s,a,o){const l=x0;if(r!==void 0){const c=i[0],x=i[i[l(201)]-1],u=t?TE(c,t,a,n):c;if(o)return e?DE(r,u,x):Bn(r,x,u);const h=Math[l(192)](u,r),f=Math[l(200)](od(i,h,s));return i[f]>u&&f<i[l(201)]-1?i[f+1]:i[f]}}}function y7(i,e,t,n,r,s){return n=n!==void 0?n:!0,t=t!==void 0?t:0,function(a,o,l,c){const x=x0;if(a!==void 0){const u=r?TE(e,r,l,s):e;if(c)return n?DE(a,u,t):Bn(a,t,u);const h=1e-9,f=Math.ceil(Math.log(e/u)/Math[x(199)](i)-h),A=-o*(.5-h)+.5,g=Math[x(192)](u,a),d=Math[x(200)](Math[x(199)](e/g)/Math.log(i)+A),p=Math.max(f,d),m=e/Math[x(198)](i,p);return Bn(m,t,u)}}}function x0(i,e){const t=e1();return x0=function(n,r){return n=n-188,t[n]},x0(i,e)}function wB(i,e,t,n,r){return t=t!==void 0?t:!0,function(s,a,o,l){if(s!==void 0){const c=n?TE(i,n,o,r):i;return!t||!l?Bn(s,e,c):DE(s,c,e)}}}(function(i,e){const t=t1,n=i();for(;;)try{if(parseInt(t(198))/1*(parseInt(t(202))/2)+-parseInt(t(199))/3+parseInt(t(206))/4*(-parseInt(t(200))/5)+parseInt(t(197))/6*(-parseInt(t(203))/7)+parseInt(t(195))/8+-parseInt(t(201))/9+-parseInt(t(205))/10*(-parseInt(t(196))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(n1,439281);function QE(i){if(i!==void 0)return 0}function BB(i){if(i!==void 0)return i}function C7(i){const e=2*Math.PI/i;return function(t,n){const r=t1;if(n)return t;if(t!==void 0)return t=Math[r(204)](t/e+.5)*e,t}}function t1(i,e){const t=n1();return t1=function(n,r){return n=n-195,t[n]},t1(i,e)}function b7(i){const e=kA(5);return function(t,n){return n||t===void 0?t:Math.abs(t)<=e?0:t}}function n1(){const i=["475158JRklef","74164huCsTV","851211zYhwFO","644905KbENwS","3281571occSBs","8VfNXSe","70nSVmRv","floor","15450520XTDDuB","12qpgoId","3398416SQrGWm","11spnHSp"];return n1=function(){return i},n1()}function i1(){var i=["5944190jZfHHX","131mKiNeq","8888210CQIgic","14433kJkqpA","7796607kDaBPG","7450122IfwdMf","11446gwSSxo","8brhSMB","12737538LlvtIH","44EvfmiN"];return i1=function(){return i},i1()}function FE(i,e){var t=i1();return FE=function(n,r){n=n-254;var s=t[n];return s},FE(i,e)}(function(i,e){for(var t=FE,n=i();;)try{var r=-parseInt(t(261))/1*(parseInt(t(256))/2)+-parseInt(t(263))/3*(parseInt(t(259))/4)+-parseInt(t(260))/5+parseInt(t(255))/6+parseInt(t(254))/7+parseInt(t(257))/8*(parseInt(t(258))/9)+-parseInt(t(262))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(i1,890477);function SB(i){return Math.pow(i,3)}function Fc(i){return 1-SB(1-i)}function v7(i){return 3*i*i-2*i*i*i}function w7(i){return i}(function(i,e){const t=Du,n=i();for(;;)try{if(-parseInt(t(382))/1+-parseInt(t(389))/2*(-parseInt(t(379))/3)+-parseInt(t(387))/4*(parseInt(t(392))/5)+-parseInt(t(391))/6*(parseInt(t(388))/7)+parseInt(t(393))/8+parseInt(t(380))/9*(-parseInt(t(386))/10)+parseInt(t(385))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(r1,135925);const MB=new Array(6);function Du(i,e){const t=r1();return Du=function(n,r){return n=n-379,t[n]},Du(i,e)}function Gi(){return[1,0,0,1,0,0]}function RB(i){return PE(i,1,0,0,1,0,0)}function r1(){const i=["355176BZnqJC","93MlPFEX","71334AuHLxN","round","171046vwiPqD","sin","map","4454307jWmGLO","30vfJvVS","2972OJFobo","7FJkRJs","2762PbVMZk","matrix(","500286RRWcAK","525avfKwk"];return r1=function(){return i},r1()}function LE(i,e){const t=i[0],n=i[1],r=i[2],s=i[3],a=i[4],o=i[5],l=e[0],c=e[1],x=e[2],u=e[3],h=e[4],f=e[5];return i[0]=t*l+r*c,i[1]=n*l+s*c,i[2]=t*x+r*u,i[3]=n*x+s*u,i[4]=t*h+r*f+a,i[5]=n*h+s*f+o,i}function PE(i,e,t,n,r,s,a){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i[4]=s,i[5]=a,i}function B7(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i}function Vn(i,e){const t=e[0],n=e[1];return e[0]=i[0]*t+i[2]*n+i[4],e[1]=i[1]*t+i[3]*n+i[5],e}function kE(i,e,t){return LE(i,PE(MB,e,0,0,t,0,0))}function S7(i,e,t){return LE(i,PE(MB,1,0,0,1,e,t))}function Bs(i,e,t,n,r,s,a,o){const l=Du,c=Math[l(383)](s),x=Math.cos(s);return i[0]=n*x,i[1]=r*c,i[2]=-n*c,i[3]=r*x,i[4]=a*n*x-o*n*c+e,i[5]=a*r*c+o*r*x+t,i}function TB(i,e){const t=M7(e);yt(t!==0,"Transformation matrix cannot be inverted");const n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5];return i[0]=a/t,i[1]=-r/t,i[2]=-s/t,i[3]=n/t,i[4]=(s*l-a*o)/t,i[5]=-(n*l-r*o)/t,i}function M7(i){return i[0]*i[3]-i[1]*i[2]}const DB=[1e6,1e6,1e6,1e6,2,2];function R7(i){const e=Du;return e(390)+i[e(384)]((n,r)=>Math[e(381)](n*DB[r])/DB[r]).join(", ")+")"}(function(i,e){const t=u0,n=i();for(;;)try{if(parseInt(t(412))/1+parseInt(t(422))/2+-parseInt(t(419))/3+-parseInt(t(415))/4*(parseInt(t(413))/5)+parseInt(t(414))/6+parseInt(t(421))/7*(parseInt(t(420))/8)+parseInt(t(418))/9*(parseInt(t(417))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(s1,799480);function no(i,e,t,n,r,s){const a=u0;s=s||[];let o=0;for(let l=e;l<t;l+=n){const c=i[l],x=i[l+1];s[o++]=r[0]*c+r[2]*x+r[4],s[o++]=r[1]*c+r[3]*x+r[5]}return s&&s[a(416)]!=o&&(s[a(416)]=o),s}function s1(){const i=["50BECcmF","770949ChpRji","3267402ixDIHw","1633888hojwrr","7CQDpQY","1265708XxnreJ","448139XBuzqi","216490dNwgAq","1310268YkUfvs","4RJAEMp","length"];return s1=function(){return i},s1()}function u0(i,e){const t=s1();return u0=function(n,r){return n=n-412,t[n]},u0(i,e)}function QB(i,e,t,n,r,s,a){const o=u0;a=a||[];const l=Math.cos(r),c=Math.sin(r),x=s[0],u=s[1];let h=0;for(let f=e;f<t;f+=n){const A=i[f]-x,g=i[f+1]-u;a[h++]=x+A*l-g*c,a[h++]=u+A*c+g*l;for(let d=f+2;d<f+n;++d)a[h++]=i[d]}return a&&a[o(416)]!=h&&(a[o(416)]=h),a}function T7(i,e,t,n,r,s,a,o){const l=u0;o=o||[];const c=a[0],x=a[1];let u=0;for(let h=e;h<t;h+=n){const f=i[h]-c,A=i[h+1]-x;o[u++]=c+r*f,o[u++]=x+s*A;for(let g=h+2;g<h+n;++g)o[u++]=i[g]}return o&&o[l(416)]!=u&&(o[l(416)]=u),o}function D7(i,e,t,n,r,s,a){const o=u0;a=a||[];let l=0;for(let c=e;c<t;c+=n){a[l++]=i[c]+r,a[l++]=i[c+1]+s;for(let x=c+2;x<c+n;++x)a[l++]=i[x]}return a&&a[o(416)]!=l&&(a[o(416)]=l),a}const Sr=Lc;(function(i,e){const t=Lc,n=i();for(;;)try{if(-parseInt(t(183))/1+parseInt(t(186))/2*(-parseInt(t(181))/3)+-parseInt(t(190))/4*(parseInt(t(187))/5)+-parseInt(t(179))/6+-parseInt(t(195))/7*(-parseInt(t(193))/8)+-parseInt(t(176))/9*(-parseInt(t(189))/10)+-parseInt(t(185))/11*(-parseInt(t(194))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(a1,721152);function a1(){const i=["computeExtent","3gRAQKi","extentRevision_","882537grNTJq","simplify","3075545MnNBxQ","506774zUMDpo","1565WPxeyI","closestPointXY","9023510diCQjR","13316WOeLWt","extent_","getSimplifiedGeometry","29168IjaEbS","108RmZkhJ","735MRmRto","simplifiedGeometryRevision","getRevision","translate","containsXY","clone","applyTransform","getClosestPoint","getWorldExtent","tile-pixels","simplifyTransformedInternal","9HPhHcm","scale","intersectsCoordinate","5414898tgdRGc"];return a1=function(){return i},a1()}const FB=Gi();let LB=class extends bs{constructor(){const e=Lc;super(),this[e(191)]=yr(),this[e(182)]=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this[e(196)]=0,this.simplifyTransformedInternal=sB((t,n,r)=>{const s=e;if(!r)return this[s(192)](n);const a=this[s(200)]();return a.applyTransform(r),a.getSimplifiedGeometry(n)})}simplifyTransformed(e,t){const n=Lc;return this[n(175)](this[n(197)](),e,t)}[Sr(200)](){return je()}[Sr(188)](e,t,n,r){return je()}[Sr(199)](e,t){const n=Sr,r=this[n(172)]([e,t]);return r[0]===e&&r[1]===t}[Sr(172)](e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}[Sr(178)](e){return this.containsXY(e[0],e[1])}computeExtent(e){return je()}getExtent(e){const t=Sr;if(this[t(182)]!=this.getRevision()){const n=this[t(180)](this.extent_);(isNaN(n[0])||isNaN(n[1]))&&gc(n),this[t(182)]=this[t(197)]()}return CQ(this[t(191)],e)}rotate(e,t){je()}[Sr(177)](e,t,n){je()}[Sr(184)](e){return this[Sr(192)](e*e)}getSimplifiedGeometry(e){return je()}getType(){return je()}applyTransform(e){je()}intersectsExtent(e){return je()}[Sr(198)](e,t){je()}transform(e,t){const n=Sr,r=Kt(e),s=r.getUnits()==n(174)?function(a,o,l){const c=n,x=r.getExtent(),u=r[c(173)](),h=vn(u)/vn(x);return Bs(FB,u[0],u[3],h,-h,0,0,0),no(a,0,a.length,l,FB,o),_c(r,t)(a,o,l)}:_c(r,t);return this[n(171)](s),this}};function Lc(i,e){const t=a1();return Lc=function(n,r){return n=n-171,t[n]},Lc(i,e)}const on=Qu;(function(i,e){const t=Qu,n=i();for(;;)try{if(-parseInt(t(447))/1+parseInt(t(448))/2+parseInt(t(461))/3*(parseInt(t(471))/4)+parseInt(t(452))/5+-parseInt(t(453))/6+-parseInt(t(469))/7*(-parseInt(t(451))/8)+parseInt(t(459))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(o1,465975);function Qu(i,e){const t=o1();return Qu=function(n,r){return n=n-447,t[n]},Qu(i,e)}let h0=class extends LB{constructor(){const e=Qu;super(),this[e(466)]="XY",this[e(473)]=2,this.flatCoordinates}[on(456)](e){const t=on;return qI(this[t(465)],0,this[t(465)][t(457)],this[t(473)],e)}[on(468)](){return je()}getFirstCoordinate(){const e=on;return this[e(465)][e(467)](0,this[e(473)])}getFlatCoordinates(){return this[on(465)]}[on(462)](){const e=on;return this[e(465)][e(467)](this[e(465)][e(457)]-this[e(473)])}[on(449)](){return this[on(466)]}[on(476)](e){const t=on;if(this[t(477)]!==this.getRevision()&&(this[t(472)]=0,this[t(477)]=this.getRevision()),e<0||this[t(472)]!==0&&e<=this[t(472)])return this;const n=this[t(464)](e);return n[t(460)]().length<this[t(465)][t(457)]?n:(this[t(472)]=e,this)}[on(464)](e){return this}[on(455)](){return this.stride}setFlatCoordinates(e,t){const n=on;this[n(473)]=PB(e),this[n(466)]=e,this[n(465)]=t}[on(458)](e,t){je()}[on(475)](e,t,n){const r=on;let s;if(e)s=PB(e);else{for(let a=0;a<n;++a){if(t[r(457)]===0){this.layout="XY",this.stride=2;return}t=t[0]}s=t.length,e=f0(s)}this[r(466)]=e,this.stride=s}[on(470)](e){const t=on;this[t(465)]&&(e(this[t(465)],this[t(465)],this.stride),this[t(454)]())}[on(450)](e,t){const n=on,r=this[n(460)]();if(r){const s=this[n(455)]();QB(r,0,r[n(457)],s,e,t,r),this[n(454)]()}}scale(e,t,n){const r=on;t===void 0&&(t=e),!n&&(n=Cr(this[r(474)]()));const s=this[r(460)]();if(s){const a=this[r(455)]();T7(s,0,s.length,a,e,t,n,s),this.changed()}}translate(e,t){const n=on,r=this[n(460)]();if(r){const s=this[n(455)]();D7(r,0,r[n(457)],s,e,t,r),this.changed()}}};function o1(){const i=["211099vfbMdW","applyTransform","1988jhaRwF","simplifiedGeometryMaxMinSquaredTolerance","stride","getExtent","setLayout","getSimplifiedGeometry","simplifiedGeometryRevision","844917KDXfHI","426640fbmWwg","getLayout","rotate","64HwadRH","1409685nbHRMO","3402042OEvtKF","changed","getStride","computeExtent","length","setCoordinates","4309965KVmYFM","getFlatCoordinates","3999hLQVWC","getLastCoordinate","XYZM","getSimplifiedGeometryInternal","flatCoordinates","layout","slice","getCoordinates"];return o1=function(){return i},o1()}function f0(i){const e=on;let t;return i==2?t="XY":i==3?t="XYZ":i==4&&(t=e(463)),t}function PB(i){const e=on;let t;return i=="XY"?t=2:i=="XYZ"||i=="XYM"?t=3:i==e(463)&&(t=4),t}function Q7(i,e,t){const n=on,r=i[n(460)]();if(!r)return null;const s=i[n(455)]();return no(r,0,r[n(457)],s,e,t)}(function(i,e){const t=io,n=i();for(;;)try{if(-parseInt(t(446))/1*(-parseInt(t(445))/2)+-parseInt(t(452))/3+parseInt(t(451))/4*(-parseInt(t(447))/5)+-parseInt(t(450))/6+parseInt(t(454))/7+-parseInt(t(453))/8+parseInt(t(449))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(c1,277032);function c1(){const i=["2274665UKUYsv","sqrt","11436957oMigpK","2658078VazPwc","4hZFkyc","1159647nYHkBl","269816DcZodD","1064420vBPcYE","length","max","344842oQWbjM","1tntWiQ"];return c1=function(){return i},c1()}function kB(i,e,t,n,r,s,a){const o=io,l=i[e],c=i[e+1],x=i[t]-l,u=i[t+1]-c;let h;if(x===0&&u===0)h=e;else{const f=((r-l)*x+(s-c)*u)/(x*x+u*u);if(f>1)h=t;else if(f>0){for(let A=0;A<n;++A)a[A]=or(i[e+A],i[t+A],f);a[o(443)]=n;return}else h=e}for(let f=0;f<n;++f)a[f]=i[h+f];a[o(443)]=n}function UE(i,e,t,n,r){let s=i[e],a=i[e+1];for(e+=n;e<t;e+=n){const o=i[e],l=i[e+1],c=i0(s,a,o,l);c>r&&(r=c),s=o,a=l}return r}function NE(i,e,t,n,r){const s=io;for(let a=0,o=t[s(443)];a<o;++a){const l=t[a];r=UE(i,e,l,n,r),e=l}return r}function F7(i,e,t,n,r){const s=io;for(let a=0,o=t[s(443)];a<o;++a){const l=t[a];r=NE(i,e,l,n,r),e=l[l[s(443)]-1]}return r}function OE(i,e,t,n,r,s,a,o,l,c,x){const u=io;if(e==t)return c;let h,f;if(r===0){if(f=i0(a,o,i[e],i[e+1]),f<c){for(h=0;h<n;++h)l[h]=i[e+h];return l[u(443)]=n,f}return c}x=x||[NaN,NaN];let A=e+n;for(;A<t;)if(kB(i,A-n,A,n,a,o,x),f=i0(a,o,x[0],x[1]),f<c){for(c=f,h=0;h<n;++h)l[h]=x[h];l[u(443)]=n,A+=n}else A+=n*Math[u(444)]((Math[u(448)](f)-Math[u(448)](c))/r|0,1);if(s&&(kB(i,t-n,e,n,a,o,x),f=i0(a,o,x[0],x[1]),f<c)){for(c=f,h=0;h<n;++h)l[h]=x[h];l[u(443)]=n}return c}function io(i,e){const t=c1();return io=function(n,r){return n=n-443,t[n]},io(i,e)}function GE(i,e,t,n,r,s,a,o,l,c,x){x=x||[NaN,NaN];for(let u=0,h=t.length;u<h;++u){const f=t[u];c=OE(i,e,f,n,r,s,a,o,l,c,x),e=f}return c}function L7(i,e,t,n,r,s,a,o,l,c,x){const u=io;x=x||[NaN,NaN];for(let h=0,f=t[u(443)];h<f;++h){const A=t[h];c=GE(i,e,A,n,r,s,a,o,l,c,x),e=A[A[u(443)]-1]}return c}(function(i,e){const t=A0,n=i();for(;;)try{if(parseInt(t(261))/1*(parseInt(t(267))/2)+parseInt(t(268))/3*(parseInt(t(270))/4)+parseInt(t(265))/5*(parseInt(t(272))/6)+parseInt(t(273))/7*(-parseInt(t(271))/8)+parseInt(t(264))/9+parseInt(t(262))/10*(-parseInt(t(266))/11)+-parseInt(t(263))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(x1,145235);function P7(i,e,t,n){const r=A0;for(let s=0,a=t[r(269)];s<a;++s)i[e++]=t[s];return e}function l1(i,e,t,n){const r=A0;for(let s=0,a=t[r(269)];s<a;++s){const o=t[s];for(let l=0;l<n;++l)i[e++]=o[l]}return e}function A0(i,e){const t=x1();return A0=function(n,r){return n=n-261,t[n]},A0(i,e)}function Fu(i,e,t,n,r){const s=A0;r=r||[];let a=0;for(let o=0,l=t[s(269)];o<l;++o){const c=l1(i,e,t[o],n);r[a++]=c,e=c}return r[s(269)]=a,r}function UB(i,e,t,n,r){const s=A0;r=r||[];let a=0;for(let o=0,l=t.length;o<l;++o){const c=Fu(i,e,t[o],n,r[a]);c[s(269)]===0&&(c[0]=e),r[a++]=c,e=c[c[s(269)]-1]}return r[s(269)]=a,r}function x1(){const i=["595Mrddiv","3gjLVCQ","278470AKJQdX","725244KVyGfc","7155nseGec","233065VBScgZ","33lYfbaH","32866pfJDgh","33MGbeRE","length","73124RuiNCu","808dmCaam","6FzUJRo"];return x1=function(){return i},x1()}(function(i,e){const t=ro,n=i();for(;;)try{if(parseInt(t(258))/1+-parseInt(t(262))/2+parseInt(t(265))/3+parseInt(t(256))/4+parseInt(t(266))/5+parseInt(t(259))/6*(-parseInt(t(257))/7)+-parseInt(t(264))/8*(-parseInt(t(260))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(h1,935503);function u1(i,e,t,n,r,s,a){const o=ro,l=(t-e)/n;if(l<3){for(;e<t;e+=n)s[a++]=i[e],s[a++]=i[e+1];return a}const c=new Array(l);c[0]=1,c[l-1]=1;const x=[e,t-n];let u=0;for(;x.length>0;){const h=x.pop(),f=x.pop();let A=0;const g=i[f],d=i[f+1],p=i[h],m=i[h+1];for(let I=f+n;I<h;I+=n){const _=i[I],y=i[I+1],E=wQ(_,y,g,d,p,m);E>A&&(u=I,A=E)}A>r&&(c[(u-e)/n]=1,f+n<u&&x[o(255)](f,u),u+n<h&&x.push(u,h))}for(let h=0;h<l;++h)c[h]&&(s[a++]=i[e+h*n],s[a++]=i[e+h*n+1]);return a}function NB(i,e,t,n,r,s,a,o){const l=ro;for(let c=0,x=t.length;c<x;++c){const u=t[c];a=u1(i,e,u,n,r,s,a),o[l(255)](a),e=u}return a}function h1(){const i=["push","2223148DlsewV","7NNnHMs","227760YQUNAw","9619602DPOxIA","198grksZv","round","3485372yyHJIu","length","682608XmdSYb","693054ZGGPKD","6948595WkPbym"];return h1=function(){return i},h1()}function d0(i,e){return e*Math[ro(261)](i/e)}function k7(i,e,t,n,r,s,a){if(e==t)return a;let o=d0(i[e],r),l=d0(i[e+1],r);e+=n,s[a++]=o,s[a++]=l;let c,x;do if(c=d0(i[e],r),x=d0(i[e+1],r),e+=n,e==t)return s[a++]=c,s[a++]=x,a;while(c==o&&x==l);for(;e<t;){const u=d0(i[e],r),h=d0(i[e+1],r);if(e+=n,u==c&&h==x)continue;const f=c-o,A=x-l,g=u-o,d=h-l;if(f*d==A*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(A<0&&d<A||A==d||A>0&&d>A)){c=u,x=h;continue}s[a++]=c,s[a++]=x,o=c,l=x,c=u,x=h}return s[a++]=c,s[a++]=x,a}function ro(i,e){const t=h1();return ro=function(n,r){return n=n-255,t[n]},ro(i,e)}function zE(i,e,t,n,r,s,a,o){const l=ro;for(let c=0,x=t[l(263)];c<x;++c){const u=t[c];a=k7(i,e,u,n,r,s,a),o[l(255)](a),e=u}return a}function U7(i,e,t,n,r,s,a,o){const l=ro;for(let c=0,x=t.length;c<x;++c){const u=t[c],h=[];a=zE(i,e,u,n,r,s,a,h),o[l(255)](h),e=u[u[l(263)]-1]}return a}(function(i,e){const t=Pc,n=i();for(;;)try{if(-parseInt(t(390))/1*(parseInt(t(401))/2)+-parseInt(t(391))/3*(parseInt(t(393))/4)+parseInt(t(394))/5+parseInt(t(397))/6*(parseInt(t(398))/7)+parseInt(t(400))/8+-parseInt(t(395))/9+-parseInt(t(392))/10*(-parseInt(t(396))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(f1,874567);function Pc(i,e){const t=f1();return Pc=function(n,r){return n=n-390,t[n]},Pc(i,e)}function f1(){const i=["24ZxEfwO","4939835XqJcfj","11415852nwCbST","22121zsGtbV","78DHGMcK","429352cRjNKO","length","10091544DSDrwf","156egENjD","412zzHgGn","740490kUnPSl","3030LiUjAZ"];return f1=function(){return i},f1()}function so(i,e,t,n,r){const s=Pc;r=r!==void 0?r:[];let a=0;for(let o=e;o<t;o+=n)r[a++]=i.slice(o,o+n);return r[s(399)]=a,r}function Lu(i,e,t,n,r){const s=Pc;r=r!==void 0?r:[];let a=0;for(let o=0,l=t[s(399)];o<l;++o){const c=t[o];r[a++]=so(i,e,c,n,r[a]),e=c}return r.length=a,r}function VE(i,e,t,n,r){const s=Pc;r=r!==void 0?r:[];let a=0;for(let o=0,l=t[s(399)];o<l;++o){const c=t[o];r[a++]=c[s(399)]===1&&c[0]===e?[]:Lu(i,e,c,n,r[a]),e=c[c.length-1]}return r[s(399)]=a,r}(function(i,e){const t=A1,n=i();for(;;)try{if(parseInt(t(221))/1*(-parseInt(t(222))/2)+parseInt(t(227))/3*(-parseInt(t(232))/4)+parseInt(t(223))/5+-parseInt(t(228))/6+parseInt(t(230))/7*(-parseInt(t(229))/8)+-parseInt(t(225))/9*(-parseInt(t(231))/10)+-parseInt(t(226))/11*(-parseInt(t(233))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(d1,702995);function A1(i,e){const t=d1();return A1=function(n,r){return n=n-221,t[n]},A1(i,e)}function OB(i,e,t,n){let r=0;const s=i[t-n],a=i[t-n+1];let o=0,l=0;for(;e<t;e+=n){const c=i[e]-s,x=i[e+1]-a;r+=l*c-o*x,o=c,l=x}return r/2}function GB(i,e,t,n){let r=0;for(let s=0,a=t.length;s<a;++s){const o=t[s];r+=OB(i,e,o,n),e=o}return r}function d1(){const i=["159696jNKinM","2210747nUocjH","15JEzSnN","6787074TwiLff","4278656QKnPEG","7BsZZtY","170xMQktO","256372HSKlWU","108HNkNqf","803tUIetM","182rDHJus","3260515FOjFlG","length"];return d1=function(){return i},d1()}function N7(i,e,t,n){const r=A1;let s=0;for(let a=0,o=t[r(224)];a<o;++a){const l=t[a];s+=GB(i,e,l,n),e=l[l.length-1]}return s}const Kr=kc;(function(i,e){const t=kc,n=i();for(;;)try{if(-parseInt(t(280))/1+-parseInt(t(266))/2*(parseInt(t(282))/3)+parseInt(t(267))/4+-parseInt(t(289))/5+parseInt(t(288))/6+-parseInt(t(281))/7+parseInt(t(286))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(p1,110198);function p1(){const i=["setFlatCoordinates","isArray","getCoordinates","changed","stride","closestPointXY","layout","99388QAMpLj","314055fiSseX","15219pgWqdt","maxDeltaRevision_","length","getType","260672vZSYQJ","getArea","1171356ByzYLu","311725sjUtgX","setLayout","flatCoordinates","22ttoOFl","579156EMsnIC","maxDelta_","getSimplifiedGeometryInternal","getRevision","sqrt","setCoordinates"];return p1=function(){return i},p1()}function kc(i,e){const t=p1();return kc=function(n,r){return n=n-264,t[n]},kc(i,e)}let zB=class Z3 extends h0{constructor(e,t){const n=kc;super(),this[n(268)]=-1,this[n(283)]=-1,t!==void 0&&!Array[n(274)](e[0])?this[n(273)](t,e):this[n(272)](e,t)}clone(){const e=kc;return new Z3(this.flatCoordinates.slice(),this[e(279)])}[Kr(278)](e,t,n,r){const s=Kr;return r<e0(this.getExtent(),e,t)?r:(this[s(283)]!=this[s(270)]()&&(this[s(268)]=Math[s(271)](UE(this[s(265)],0,this[s(265)].length,this[s(277)],0)),this[s(283)]=this[s(270)]()),OE(this[s(265)],0,this[s(265)].length,this[s(277)],this.maxDelta_,!0,e,t,n,r))}[Kr(287)](){const e=Kr;return OB(this.flatCoordinates,0,this[e(265)][e(284)],this[e(277)])}[Kr(275)](){const e=Kr;return so(this.flatCoordinates,0,this[e(265)][e(284)],this[e(277)])}[Kr(269)](e){const t=Kr,n=[];return n.length=u1(this.flatCoordinates,0,this[t(265)][t(284)],this[t(277)],e,n,0),new Z3(n,"XY")}[Kr(285)](){return"LinearRing"}intersectsExtent(e){return!1}[Kr(272)](e,t){const n=Kr;this[n(264)](t,e,1),!this[n(265)]&&(this.flatCoordinates=[]),this[n(265)].length=l1(this.flatCoordinates,0,e,this[n(277)]),this[n(276)]()}};const Jr=g1;(function(i,e){const t=g1,n=i();for(;;)try{if(-parseInt(t(500))/1+-parseInt(t(504))/2+parseInt(t(510))/3+-parseInt(t(501))/4+-parseInt(t(506))/5*(parseInt(t(496))/6)+-parseInt(t(502))/7*(parseInt(t(511))/8)+parseInt(t(508))/9*(parseInt(t(505))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(m1,207835);function g1(i,e){const t=m1();return g1=function(n,r){return n=n-491,t[n]},g1(i,e)}let p0=class DT extends h0{constructor(e,t){super(),this.setCoordinates(e,t)}[Jr(507)](){const e=Jr,t=new DT(this[e(495)][e(498)](),this[e(499)]);return t[e(494)](this),t}[Jr(509)](e,t,n,r){const s=Jr,a=this[s(495)],o=i0(e,t,a[0],a[1]);if(o<r){const l=this.stride;for(let c=0;c<l;++c)n[c]=a[c];return n[s(491)]=l,o}return r}getCoordinates(){const e=Jr;return this.flatCoordinates[e(498)]()}[Jr(492)](e){return Qw(this[Jr(495)],e)}[Jr(493)](){return Jr(497)}intersectsExtent(e){const t=Jr;return VI(e,this[t(495)][0],this[t(495)][1])}setCoordinates(e,t){const n=Jr;this[n(503)](t,e,0),!this.flatCoordinates&&(this.flatCoordinates=[]),this[n(495)][n(491)]=P7(this[n(495)],0,e,this.stride),this.changed()}};function m1(){const i=["flatCoordinates","6CQIxxi","Point","slice","layout","132454YUGnjo","1532512gqVsso","11242FwtMmS","setLayout","107078quDbMu","10rrpGny","1948775GvByuH","clone","9303750yXITIv","closestPointXY","422973MWUmpa","40YDBwHT","length","computeExtent","getType","applyProperties"];return m1=function(){return i},m1()}(function(i,e){const t=Pu,n=i();for(;;)try{if(parseInt(t(172))/1*(-parseInt(t(177))/2)+-parseInt(t(178))/3*(parseInt(t(175))/4)+-parseInt(t(179))/5+-parseInt(t(171))/6+-parseInt(t(180))/7+-parseInt(t(176))/8+parseInt(t(181))/9*(parseInt(t(173))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_1,311674);function Pu(i,e){const t=_1();return Pu=function(n,r){return n=n-171,t[n]},Pu(i,e)}function _1(){const i=["138ukPGbj","20290LojMXh","length","149092HaQxlY","1367480lNoUxv","1372YGXaGl","9ERccNO","2635560OYTBbG","903651HWhVrG","6687RQqgeY","973476rhBdkp"];return _1=function(){return i},_1()}function O7(i,e,t,n,r){return!Pw(r,function(a){return!g0(i,e,t,n,a[0],a[1])})}function g0(i,e,t,n,r,s){let a=0,o=i[t-n],l=i[t-n+1];for(;e<t;e+=n){const c=i[e],x=i[e+1];l<=s?x>s&&(c-o)*(s-l)-(r-o)*(x-l)>0&&a++:x<=s&&(c-o)*(s-l)-(r-o)*(x-l)<0&&a--,o=c,l=x}return a!==0}function HE(i,e,t,n,r,s){const a=Pu;if(t[a(174)]===0||!g0(i,e,t[0],n,r,s))return!1;for(let o=1,l=t[a(174)];o<l;++o)if(g0(i,t[o-1],t[o],n,r,s))return!1;return!0}function G7(i,e,t,n,r,s){const a=Pu;if(t[a(174)]===0)return!1;for(let o=0,l=t[a(174)];o<l;++o){const c=t[o];if(HE(i,e,c,n,r,s))return!0;e=c[c[a(174)]-1]}return!1}function ku(i,e){const t=I1();return ku=function(n,r){return n=n-497,t[n]},ku(i,e)}(function(i,e){const t=ku,n=i();for(;;)try{if(-parseInt(t(509))/1*(-parseInt(t(504))/2)+parseInt(t(500))/3+parseInt(t(510))/4+-parseInt(t(505))/5*(-parseInt(t(501))/6)+parseInt(t(508))/7+-parseInt(t(499))/8+-parseInt(t(497))/9*(parseInt(t(506))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(I1,352358);function I1(){const i=["sort","806576HVdcLU","1511106UzFRMG","19704dqfzWj","push","length","4852BkjFAB","950CJKhfK","4095970LOjjcx","abs","1758736vhyHRl","7DMfbVQ","1144316NkElic","27EVkqmD"];return I1=function(){return i},I1()}function qE(i,e,t,n,r,s,a){const o=ku;let l,c,x,u,h,f,A;const g=r[s+1],d=[];for(let I=0,_=t[o(503)];I<_;++I){const y=t[I];for(u=i[y-n],f=i[y-n+1],l=e;l<y;l+=n)h=i[l],A=i[l+1],(g<=f&&A<=g||f<=g&&g<=A)&&(x=(g-f)/(A-f)*(h-u)+u,d[o(502)](x)),u=h,f=A}let p=NaN,m=-1/0;for(d[o(498)](Is),u=d[0],l=1,c=d.length;l<c;++l){h=d[l];const I=Math[o(507)](h-u);I>m&&(x=(u+h)/2,HE(i,e,t,n,x,g)&&(p=x,m=I)),u=h}return isNaN(p)&&(p=r[s]),a?(a[o(502)](p,g,m),a):[p,g,m]}function VB(i,e,t,n,r){const s=ku;let a=[];for(let o=0,l=t[s(503)];o<l;++o){const c=t[o];a=qE(i,e,c,n,r,2*o,a),e=c[c[s(503)]-1]}return a}(function(i,e){const t=E1,n=i();for(;;)try{if(parseInt(t(118))/1+-parseInt(t(119))/2+parseInt(t(120))/3+-parseInt(t(113))/4*(-parseInt(t(114))/5)+parseInt(t(112))/6+-parseInt(t(115))/7+-parseInt(t(116))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(y1,812274);function E1(i,e){const t=y1();return E1=function(n,r){return n=n-112,t[n]},E1(i,e)}function HB(i,e,t,n,r){const s=E1;let a;for(e+=n;e<t;e+=n)if(a=r(i[s(117)](e-n,e),i.slice(e,e+n)),a)return a;return!1}function y1(){const i=["71250ecnvOZ","812772dpurUw","2832441RQBYab","8625192JvDxwH","942384fsOvBg","15WBPYdH","7040320lOWavq","7482376KQTxFC","slice"];return y1=function(){return i},y1()}(function(i,e){const t=Uc,n=i();for(;;)try{if(-parseInt(t(505))/1*(parseInt(t(500))/2)+parseInt(t(503))/3+parseInt(t(504))/4*(parseInt(t(499))/5)+parseInt(t(507))/6*(-parseInt(t(502))/7)+-parseInt(t(509))/8*(parseInt(t(498))/9)+-parseInt(t(497))/10*(parseInt(t(508))/11)+parseInt(t(506))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(C1,258800);function Uc(i,e){const t=C1();return Uc=function(n,r){return n=n-497,t[n]},Uc(i,e)}function C1(){const i=["1361457cJoCur","24aEdaxI","440gRrzFh","7415352cambaU","6YLNRIH","5299855uVlteI","4504HHmYgK","10diParB","4167DeXpEC","241075LmtlmK","1198OxMerv","length","673547GZPuGX"];return C1=function(){return i},C1()}function b1(i,e,t,n,r){const s=Lw(yr(),i,e,t,n);return wn(r,s)?qr(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:HB(i,e,t,n,function(a,o){return vQ(r,a,o)}):!1}function z7(i,e,t,n,r){const s=Uc;for(let a=0,o=t[s(501)];a<o;++a){if(b1(i,e,t[a],n,r))return!0;e=t[a]}return!1}function qB(i,e,t,n,r){return!!(b1(i,e,t,n,r)||g0(i,e,t,n,r[0],r[1])||g0(i,e,t,n,r[0],r[3])||g0(i,e,t,n,r[2],r[1])||g0(i,e,t,n,r[2],r[3]))}function YB(i,e,t,n,r){const s=Uc;if(!qB(i,e,t[0],n,r))return!1;if(t[s(501)]===1)return!0;for(let a=1,o=t.length;a<o;++a)if(O7(i,t[a-1],t[a],n,r)&&!b1(i,t[a-1],t[a],n,r))return!1;return!0}function V7(i,e,t,n,r){const s=Uc;for(let a=0,o=t.length;a<o;++a){const l=t[a];if(YB(i,e,l,n,r))return!0;e=l[l[s(501)]-1]}return!1}function H7(i,e,t,n){for(;e<t-n;){for(let r=0;r<n;++r){const s=i[e+r];i[e+r]=i[t-n+r],i[t-n+r]=s}e+=n,t-=n}}(function(i,e){const t=ao,n=i();for(;;)try{if(parseInt(t(273))/1*(parseInt(t(265))/2)+parseInt(t(267))/3+parseInt(t(271))/4+parseInt(t(270))/5*(parseInt(t(266))/6)+-parseInt(t(274))/7*(-parseInt(t(272))/8)+parseInt(t(268))/9+-parseInt(t(269))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(v1,278747);function v1(){const i=["5UjrDNx","1274460bSzVTW","46232sPwaQn","8niCrGw","343UtmylI","slice","push","length","102494kiSmZd","2171238vhDNPk","198660hkyWti","3023568JBFgiS","14970600mkhnps"];return v1=function(){return i},v1()}function YE(i,e,t,n){let r=0,s=i[t-n],a=i[t-n+1];for(;e<t;e+=n){const o=i[e],l=i[e+1];r+=(o-s)*(l+a),s=o,a=l}return r===0?void 0:r>0}function ao(i,e){const t=v1();return ao=function(n,r){return n=n-262,t[n]},ao(i,e)}function XE(i,e,t,n,r){const s=ao;r=r!==void 0?r:!1;for(let a=0,o=t[s(264)];a<o;++a){const l=t[a],c=YE(i,e,l,n);if(a===0){if(r&&c||!r&&!c)return!1}else if(r&&!c||!r&&c)return!1;e=l}return!0}function XB(i,e,t,n,r){const s=ao;for(let a=0,o=t.length;a<o;++a){const l=t[a];if(!XE(i,e,l,n,r))return!1;l[s(264)]&&(e=l[l[s(264)]-1])}return!0}function w1(i,e,t,n,r){const s=ao;r=r!==void 0?r:!1;for(let a=0,o=t[s(264)];a<o;++a){const l=t[a],c=YE(i,e,l,n);(a===0?r&&c||!r&&!c:r&&!c||!r&&c)&&H7(i,e,l,n),e=l}return e}function WE(i,e,t,n,r){const s=ao;for(let a=0,o=t[s(264)];a<o;++a)e=w1(i,e,t[a],n,r);return e}function WB(i,e){const t=ao,n=[];let r=0,s=0,a;for(let o=0,l=e[t(264)];o<l;++o){const c=e[o],x=YE(i,r,c,2);if(a===void 0&&(a=x),x===a)n.push(e[t(262)](s,o+1));else{if(n.length===0)continue;n[n[t(264)]-1][t(263)](e[s])}s=o+1,r=c}return n}const tn=m0;(function(i,e){const t=m0,n=i();for(;;)try{if(-parseInt(t(302))/1+-parseInt(t(304))/2*(parseInt(t(288))/3)+-parseInt(t(292))/4*(-parseInt(t(270))/5)+parseInt(t(269))/6+-parseInt(t(271))/7+parseInt(t(273))/8+parseInt(t(300))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(B1,298621);function B1(){const i=["getLinearRingCount","maxDelta_","getLinearRings","getRadius","ends_","intersectsExtent","getCoordinates","cos","slice","3487992XagleF","5EjZGip","1345057aSkbnw","flatCoordinates","3470088APExfy","getExtent","Polygon","getOrientedFlatCoordinates","stride","applyProperties","getEnds","getCenter","getStride","setCoordinates","getArea","layout","orientedFlatCoordinates_","getRevision","push","1649766ilSdbl","flatInteriorPointRevision_","orientedRevision_","maxDeltaRevision_","883928aGFoNT","sqrt","getFlatInteriorPoint","XYM","length","changed","getLinearRing","closestPointXY","2154609zrDXaF","flatInteriorPoint_","434782mjpVnJ","getFlatCoordinates","2amizCg"];return B1=function(){return i},B1()}function m0(i,e){const t=B1();return m0=function(n,r){return n=n-268,t[n]},m0(i,e)}let Nc=class $3 extends h0{constructor(e,t,n){const r=m0;super(),this.ends_=[],this[r(289)]=-1,this[r(301)]=null,this[r(306)]=-1,this[r(291)]=-1,this[r(290)]=-1,this.orientedFlatCoordinates_=null,t!==void 0&&n?(this.setFlatCoordinates(t,e),this[r(309)]=n):this.setCoordinates(e,t)}appendLinearRing(e){const t=m0;this[t(272)]?Es(this[t(272)],e.getFlatCoordinates()):this[t(272)]=e[t(303)]()[t(268)](),this[t(309)][t(287)](this[t(272)][t(296)]),this[t(297)]()}clone(){const e=m0,t=new $3(this[e(272)][e(268)](),this.layout,this[e(309)][e(268)]());return t[e(278)](this),t}[tn(299)](e,t,n,r){const s=tn;return r<e0(this[s(274)](),e,t)?r:(this[s(291)]!=this[s(286)]()&&(this[s(306)]=Math.sqrt(NE(this[s(272)],0,this[s(309)],this.stride,0)),this[s(291)]=this[s(286)]()),GE(this.flatCoordinates,0,this[s(309)],this[s(277)],this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){const n=tn;return HE(this[n(276)](),0,this[n(309)],this[n(277)],e,t)}[tn(283)](){const e=tn;return GB(this.getOrientedFlatCoordinates(),0,this[e(309)],this[e(277)])}[tn(311)](e){const t=tn;let n;return e!==void 0?(n=this[t(276)]()[t(268)](),w1(n,0,this[t(309)],this.stride,e)):n=this[t(272)],Lu(n,0,this.ends_,this[t(277)])}[tn(279)](){return this[tn(309)]}[tn(294)](){const e=tn;if(this[e(289)]!=this[e(286)]()){const t=Cr(this.getExtent());this[e(301)]=qE(this[e(276)](),0,this[e(309)],this[e(277)],t,0),this[e(289)]=this[e(286)]()}return this[e(301)]}getInteriorPoint(){const e=tn;return new p0(this[e(294)](),e(295))}[tn(305)](){const e=tn;return this[e(309)][e(296)]}[tn(298)](e){const t=tn;return e<0||this.ends_[t(296)]<=e?null:new zB(this[t(272)][t(268)](e===0?0:this[t(309)][e-1],this.ends_[e]),this.layout)}[tn(307)](){const e=tn,t=this[e(284)],n=this[e(272)],r=this[e(309)],s=[];let a=0;for(let o=0,l=r[e(296)];o<l;++o){const c=r[o],x=new zB(n[e(268)](a,c),t);s[e(287)](x),a=c}return s}[tn(276)](){const e=tn;if(this[e(290)]!=this.getRevision()){const t=this[e(272)];XE(t,0,this[e(309)],this.stride)?this[e(285)]=t:(this.orientedFlatCoordinates_=t[e(268)](),this[e(285)][e(296)]=w1(this[e(285)],0,this[e(309)],this[e(277)])),this[e(290)]=this[e(286)]()}return this[e(285)]}getSimplifiedGeometryInternal(e){const t=tn,n=[],r=[];return n[t(296)]=zE(this.flatCoordinates,0,this[t(309)],this[t(277)],Math[t(293)](e),n,0,r),new $3(n,"XY",r)}getType(){return tn(275)}[tn(310)](e){const t=tn;return YB(this.getOrientedFlatCoordinates(),0,this.ends_,this[t(277)],e)}[tn(282)](e,t){const n=tn;this.setLayout(t,e,2),!this[n(272)]&&(this[n(272)]=[]);const r=Fu(this[n(272)],0,e,this[n(277)],this[n(309)]);this.flatCoordinates[n(296)]=r[n(296)]===0?0:r[r[n(296)]-1],this.changed()}};function jB(i){const e=tn;if(n0(i))throw new Error("Cannot create polygon from empty extent");const t=i[0],n=i[1],r=i[2],s=i[3],a=[t,n,t,s,r,s,r,n,t,n];return new Nc(a,"XY",[a[e(296)]])}const ie=Uu;(function(i,e){const t=Uu,n=i();for(;;)try{if(parseInt(t(615))/1*(parseInt(t(465))/2)+parseInt(t(597))/3*(-parseInt(t(480))/4)+parseInt(t(622))/5*(parseInt(t(525))/6)+parseInt(t(535))/7+-parseInt(t(623))/8+-parseInt(t(599))/9+parseInt(t(574))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(S1,281411);function Uu(i,e){const t=S1();return Uu=function(n,r){return n=n-454,t[n]},Uu(i,e)}function S1(){const i=["sourceCenter","getType","length","assign","minZoom_","adjustResolutionInternal","nextRotation_","calculateCenterShift","adjustCenterInternal","minResolution","getRotation","showFullExtent","getZoomForResolution","getViewportSizeMinusPadding_","slice","resolutions_","getValueForResolutionFunction","cancelAnchor_","setConstrainResolution","resolutions","resolution","zoomFactor_","getCenter","constrainResolution","getViewportSize_","RESOLUTION","easing","adjustRotationInternal","getConstrainedZoom","2755370MTesDJ","targetResolution_","constraints_","getResolutionForZoom","getConstrainedCenter","getHints","isArray","centerOn","Invalid extent or geometry provided as `geometry`","updateAnimationKey_","minResolution_","start","applyOptions_","getConstrainedResolution","center","adjustCenter","projection","setMaxZoom","zoom","The view center is not defined","animations_","setProperties","getMinZoom","13947MhqGfN","complete","2120355BWXEBP","duration","push","getResolutionForValueFunction","fit","clone","endInteractionInternal","targetCenter_","anchor","sin","maxZoom","adjustZoom","constraint","ROTATION","getResolution","maxResolution","183UqyxaN","isGlobal","getStride","getSimplifiedGeometry","transform","set","padding","95BrRhlw","1581056OYOxlU","getCenterInternal","isDef","applyTargetState_","log","targetCenter","nearest","setResolution","smoothExtentConstraint","getProjection","INTERACTING","zoomFactor","732LSrjLs","CENTER","viewportSize_","calculateCenterRotate","once","getUpdatedOptions_","floor","filter","setHint","ANIMATING","getResolutions","nextResolution_","getFlatCoordinates","centerOnInternal","rotatedExtentForGeometry","20vRztkw","targetResolution","getMetersPerUnit","getState","getConstraints","getExtent","getZoom","getMinResolution","hints_","EPSG:3857","setMinZoom","setCenterInternal","calculateExtent","adjustRotation","animate","now","projection_","rotate","constrainOnlyCenter","maxResolution_","bind","constrainRotation","calculateCenterZoom","endInteraction","targetRotation","setViewportSize","get","getViewStateAndExtent","rotation","pow","abs","beginInteraction","setRotation","callback","getResolutionForExtentInternal","setZoom","max","changed","minZoom","setCenter","size","cos","sourceRotation","animateInternal","function","73434PlLqOO","padding_","degrees","extent","getInteracting","sourceResolution","min","multiWorld","number","adjustResolution","1139789HyNURc","enableRotation","nextCenter_","calculateExtentInternal","getAnimating","resolveConstraints","targetRotation_","getConstrainResolution","smoothResolutionConstraint","cancelAnimations"];return S1=function(){return i},S1()}const jE=0;let Ss=class extends bs{constructor(e){const t=Uu;super(),this.on,this[t(469)],this.un,e=Object[t(548)]({},e),this.hints_=[0,0],this[t(594)]=[],this[t(583)],this.projection_=$I(e[t(590)],t(489)),this[t(467)]=[100,100],this[t(606)]=null,this[t(575)],this[t(541)],this.nextCenter_=null,this[t(476)],this.nextRotation_,this[t(562)]=void 0,e[t(590)]&&zw(),e[t(588)]&&(e.center=Zs(e[t(588)],this[t(496)])),e[t(528)]&&(e[t(528)]=_s(e.extent,this[t(496)])),this[t(586)](e)}[ie(586)](e){const t=ie,n=Object[t(548)]({},e);for(const l in jr)delete n[l];this[t(595)](n,!0);const r=Y7(e);this.maxResolution_=r[t(614)],this.minResolution_=r[t(554)],this[t(566)]=r[t(464)],this.resolutions_=e[t(564)],this[t(526)]=e[t(621)],this[t(549)]=r[t(518)];const s=q7(e),a=r[t(611)],o=X7(e);this[t(576)]={center:s,resolution:a,rotation:o},this.setRotation(e[t(508)]!==void 0?e[t(508)]:0),this[t(491)](e.center!==void 0?e[t(588)]:null),e[t(565)]!==void 0?this[t(460)](e[t(565)]):e[t(592)]!==void 0&&this[t(515)](e[t(592)])}get[ie(621)](){return this[ie(526)]}set padding(e){const t=ie;let n=this[t(526)];this[t(526)]=e;const r=this.getCenterInternal();if(r){const s=e||[0,0,0,0];n=n||[0,0,0,0];const a=this[t(613)](),o=a/2*(s[3]-n[3]+n[1]-s[1]),l=a/2*(s[0]-n[0]+n[2]-s[2]);this[t(491)]([r[0]+o,r[1]-l])}}getUpdatedOptions_(e){const t=ie,n=this.getProperties();return n.resolution!==void 0?n[t(565)]=this[t(613)]():n[t(592)]=this[t(486)](),n.center=this[t(454)](),n[t(508)]=this[t(555)](),Object.assign({},n,e)}[ie(494)](e){const t=ie;this[t(455)]()&&!this.getAnimating()&&this[t(540)](0);const n=new Array(arguments[t(547)]);for(let r=0;r<n[t(547)];++r){let s=arguments[r];s[t(588)]&&(s=Object.assign({},s),s.center=Zs(s[t(588)],this[t(462)]())),s.anchor&&(s=Object.assign({},s),s[t(607)]=Zs(s.anchor,this[t(462)]())),n[r]=s}this.animateInternal.apply(this,n)}[ie(523)](e){const t=ie;let n=arguments[t(547)],r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let s=0;for(;s<n&&!this[t(455)]();++s){const u=arguments[s];u[t(588)]&&this[t(491)](u[t(588)]),u[t(592)]!==void 0?this.setZoom(u.zoom):u[t(565)]&&this[t(460)](u[t(565)]),u[t(508)]!==void 0&&this[t(512)](u[t(508)])}if(s===n){r&&M1(r,!0);return}let a=Date[t(495)](),o=this.targetCenter_.slice(),l=this[t(575)],c=this.targetRotation_;const x=[];for(;s<n;++s){const u=arguments[s],h={start:a,complete:!1,anchor:u[t(607)],duration:u[t(600)]!==void 0?u.duration:1e3,easing:u[t(571)]||v7,callback:r};if(u[t(588)]&&(h.sourceCenter=o,h[t(458)]=u[t(588)][t(559)](),o=h[t(458)]),u[t(592)]!==void 0?(h[t(530)]=l,h[t(481)]=this[t(577)](u[t(592)]),l=h[t(481)]):u.resolution&&(h[t(530)]=l,h.targetResolution=u.resolution,l=h[t(481)]),u[t(508)]!==void 0){h[t(522)]=c;const f=mc(u[t(508)]-c+Math.PI,2*Math.PI)-Math.PI;h[t(504)]=c+f,c=h[t(504)]}W7(h)?h[t(598)]=!0:a+=h[t(600)],x[t(601)](h)}this[t(594)][t(601)](x),this.setHint(An[t(474)],1),this.updateAnimations_()}[ie(539)](){const e=ie;return this[e(488)][An[e(474)]]>0}[ie(529)](){const e=ie;return this[e(488)][An[e(463)]]>0}cancelAnimations(){const e=ie;this.setHint(An[e(474)],-this[e(488)][An[e(474)]]);let t;for(let n=0,r=this[e(594)].length;n<r;++n){const s=this.animations_[n];if(s[0][e(513)]&&M1(s[0].callback,!1),!t)for(let a=0,o=s.length;a<o;++a){const l=s[a];if(!l[e(598)]){t=l[e(607)];break}}}this.animations_[e(547)]=0,this[e(562)]=t,this[e(537)]=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){const e=ie;if(this[e(583)]!==void 0&&(cancelAnimationFrame(this[e(583)]),this[e(583)]=void 0),!this[e(539)]())return;const t=Date.now();let n=!1;for(let r=this[e(594)][e(547)]-1;r>=0;--r){const s=this.animations_[r];let a=!0;for(let o=0,l=s[e(547)];o<l;++o){const c=s[o];if(c[e(598)])continue;const x=t-c[e(585)];let u=c[e(600)]>0?x/c[e(600)]:1;u>=1?(c[e(598)]=!0,u=1):a=!1;const h=c.easing(u);if(c.sourceCenter){const f=c[e(545)][0],A=c.sourceCenter[1],g=c[e(458)][0],d=c[e(458)][1];this[e(537)]=c.targetCenter;const p=f+h*(g-f),m=A+h*(d-A);this[e(606)]=[p,m]}if(c[e(530)]&&c.targetResolution){const f=h===1?c[e(481)]:c[e(530)]+h*(c[e(481)]-c[e(530)]);if(c[e(607)]){const A=this[e(569)](this[e(555)]()),g=this.constraints_[e(565)](f,0,A,!0);this[e(606)]=this[e(502)](g,c.anchor)}this[e(476)]=c.targetResolution,this.targetResolution_=f,this[e(456)](!0)}if(c.sourceRotation!==void 0&&c[e(504)]!==void 0){const f=h===1?mc(c[e(504)]+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+h*(c[e(504)]-c.sourceRotation);if(c[e(607)]){const A=this[e(576)].rotation(f,!0);this[e(606)]=this.calculateCenterRotate(A,c[e(607)])}this[e(551)]=c.targetRotation,this[e(541)]=f}if(this.applyTargetState_(!0),n=!0,!c[e(598)])break}if(a){this.animations_[r]=null,this.setHint(An[e(474)],-1),this[e(537)]=null,this[e(476)]=NaN,this[e(551)]=NaN;const o=s[0][e(513)];o&&M1(o,!0)}}this.animations_=this.animations_[e(472)](Boolean),n&&this[e(583)]===void 0&&(this[e(583)]=requestAnimationFrame(this.updateAnimations_[e(500)](this)))}calculateCenterRotate(e,t){const n=ie;let r;const s=this[n(454)]();return s!==void 0&&(r=[s[0]-t[0],s[1]-t[1]],WI(r,e-this[n(555)]()),SQ(r,t)),r}[ie(502)](e,t){const n=ie;let r;const s=this[n(454)](),a=this[n(613)]();if(s!==void 0&&a!==void 0){const o=t[0]-e*(t[0]-s[0])/a,l=t[1]-e*(t[1]-s[1])/a;r=[o,l]}return r}[ie(569)](e){const t=ie,n=this[t(467)];if(e){const r=n[0],s=n[1];return[Math[t(510)](r*Math.cos(e))+Math[t(510)](s*Math[t(608)](e)),Math[t(510)](r*Math.sin(e))+Math[t(510)](s*Math[t(521)](e))]}return n}[ie(505)](e){const t=ie;this[t(467)]=Array[t(580)](e)?e[t(559)]():[100,100],!this[t(539)]()&&this[t(540)](0)}[ie(567)](){const e=ie,t=this[e(454)]();return t&&nE(t,this[e(462)]())}getCenterInternal(){const e=ie;return this.get(jr[e(466)])}[ie(484)](){return this[ie(576)]}[ie(542)](){const e=ie;return this.get(e(568))}[ie(579)](e){const t=ie;return e!==void 0?(e[0]=this[t(488)][0],e[1]=this[t(488)][1],e):this[t(488)][t(559)]()}[ie(492)](e){const t=ie,n=this[t(538)](e);return iE(n,this[t(462)]())}calculateExtentInternal(e){const t=ie;e=e||this[t(558)]();const n=this.getCenterInternal();yt(n,t(593));const r=this[t(613)]();yt(r!==void 0,"The view resolution is not defined");const s=this[t(555)]();return yt(s!==void 0,"The view rotation is not defined"),LA(n,r,s,e)}getMaxResolution(){return this[ie(499)]}[ie(487)](){return this[ie(584)]}getMaxZoom(){const e=ie;return this.getZoomForResolution(this[e(584)])}[ie(591)](e){const t=ie;this[t(586)](this[t(470)]({maxZoom:e}))}[ie(596)](){const e=ie;return this[e(557)](this[e(499)])}[ie(490)](e){const t=ie;this[t(586)](this[t(470)]({minZoom:e}))}[ie(563)](e){const t=ie;this[t(586)](this[t(470)]({constrainResolution:e}))}[ie(462)](){return this[ie(496)]}[ie(613)](){const e=ie;return this[e(506)](jr[e(570)])}[ie(475)](){return this.resolutions_}getResolutionForExtent(e,t){return this[ie(514)](_s(e,this.getProjection()),t)}[ie(514)](e,t){t=t||this[ie(558)]();const r=ht(e)/t[0],s=vn(e)/t[1];return Math.max(r,s)}[ie(602)](e){const t=ie;e=e||2;const n=this[t(587)](this.maxResolution_),r=this[t(584)],s=Math.log(n/r)/Math[t(457)](e);return function(a){return n/Math[t(509)](e,a*s)}}[ie(555)](){return this[ie(506)](jr.ROTATION)}[ie(561)](e){const t=ie,n=Math.log(e||2),r=this[t(587)](this[t(499)]),s=this[t(584)],a=Math.log(r/s)/n;return function(o){return Math[t(457)](r/o)/n/a}}getViewportSizeMinusPadding_(e){let n=this[ie(569)](e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}[ie(483)](){const e=ie,t=this[e(462)](),n=this.getResolution(),r=this.getRotation();let s=this.getCenterInternal();const a=this[e(526)];if(a){const o=this.getViewportSizeMinusPadding_();s=KE(s,this[e(569)](),[o[0]/2+a[3],o[1]/2+a[0]],n,r)}return{center:s[e(559)](0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this[e(551)],rotation:r,zoom:this.getZoom()}}[ie(507)](){return{viewState:this.getState(),extent:this.calculateExtent()}}[ie(486)](){const e=ie;let t;const n=this.getResolution();return n!==void 0&&(t=this[e(557)](n)),t}[ie(557)](e){const t=ie;let n=this[t(549)]||0,r,s;if(this[t(560)]){const a=od(this[t(560)],e,1);n=a,r=this[t(560)][a],a==this[t(560)][t(547)]-1?s=2:s=r/this[t(560)][a+1]}else r=this[t(499)],s=this[t(566)];return n+Math[t(457)](r/e)/Math[t(457)](s)}[ie(577)](e){const t=ie;if(this[t(560)]){if(this[t(560)][t(547)]<=1)return 0;const n=Bn(Math[t(471)](e),0,this[t(560)][t(547)]-2),r=this[t(560)][n]/this[t(560)][n+1];return this[t(560)][n]/Math[t(509)](r,Bn(e-n,0,1))}return this[t(499)]/Math[t(509)](this.zoomFactor_,e-this[t(549)])}[ie(603)](e,t){const n=ie;let r;if(yt(Array[n(580)](e)||typeof e[n(618)]===n(524),n(582)),Array[n(580)](e)){yt(!n0(e),"Cannot fit empty extent provided as `geometry`");const s=_s(e,this[n(462)]());r=jB(s)}else if(e[n(546)]()==="Circle"){const s=_s(e[n(485)](),this[n(462)]());r=jB(s),r[n(497)](this[n(555)](),Cr(s))}else r=e;this.fitInternal(r,t)}rotatedExtentForGeometry(e){const t=ie,n=this[t(555)](),r=Math[t(521)](n),s=Math.sin(-n),a=e[t(477)](),o=e[t(617)]();let l=1/0,c=1/0,x=-1/0,u=-1/0;for(let h=0,f=a.length;h<f;h+=o){const A=a[h]*r-a[h+1]*s,g=a[h]*s+a[h+1]*r;l=Math[t(531)](l,A),c=Math.min(c,g),x=Math[t(516)](x,A),u=Math[t(516)](u,g)}return[l,c,x,u]}fitInternal(e,t){const n=ie;t=t||{};let r=t[n(520)];!r&&(r=this[n(558)]());const s=t[n(621)]!==void 0?t[n(621)]:[0,0,0,0],a=t.nearest!==void 0?t[n(459)]:!1;let o;t.minResolution!==void 0?o=t[n(554)]:t[n(609)]!==void 0?o=this[n(577)](t[n(609)]):o=0;const l=this[n(479)](e);let c=this[n(514)](l,[r[0]-s[1]-s[3],r[1]-s[0]-s[2]]);c=isNaN(c)?o:Math[n(516)](c,o),c=this[n(587)](c,a?0:1);const x=this[n(555)](),u=Math[n(608)](x),h=Math[n(521)](x),f=Cr(l);f[0]+=(s[1]-s[3])/2*c,f[1]+=(s[0]-s[2])/2*c;const A=f[0]*h-f[1]*u,g=f[1]*h+f[0]*u,d=this[n(578)]([A,g],c),p=t[n(513)]?t[n(513)]:yc;t[n(600)]!==void 0?this[n(523)]({resolution:c,center:d,duration:t[n(600)],easing:t[n(571)]},p):(this[n(575)]=c,this[n(606)]=d,this[n(456)](!1,!0),M1(p,!0))}[ie(581)](e,t,n){const r=ie;this[r(478)](Zs(e,this[r(462)]()),t,n)}[ie(478)](e,t,n){const r=ie;this[r(491)](KE(e,t,n,this[r(613)](),this[r(555)]()))}[ie(552)](e,t,n,r){const s=ie;let a;const o=this[s(526)];if(o&&e){const l=this[s(558)](-n),c=KE(e,r,[l[0]/2+o[3],l[1]/2+o[0]],t,n);a=[e[0]-c[0],e[1]-c[1]]}return a}isDef(){const e=ie;return!!this[e(454)]()&&this[e(613)]()!==void 0}[ie(589)](e){const t=ie,n=nE(this.targetCenter_,this[t(462)]());this[t(519)]([n[0]+e[0],n[1]+e[1]])}[ie(553)](e){const t=ie,n=this[t(606)];this[t(491)]([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,t){const n=ie;t=t&&Zs(t,this[n(462)]()),this[n(550)](e,t)}[ie(550)](e,t){const n=ie,r=this[n(539)]()||this[n(529)](),s=this[n(569)](this.getRotation()),a=this[n(576)][n(565)](this.targetResolution_*e,0,s,r);t&&(this.targetCenter_=this[n(502)](a,t)),this[n(575)]*=e,this.applyTargetState_()}[ie(610)](e,t){const n=ie;this[n(534)](Math[n(509)](this[n(566)],-e),t)}[ie(493)](e,t){const n=ie;t&&(t=Zs(t,this[n(462)]())),this[n(572)](e,t)}[ie(572)](e,t){const n=ie,r=this[n(539)]()||this.getInteracting(),s=this[n(576)].rotation(this[n(541)]+e,r);t&&(this[n(606)]=this[n(468)](s,t)),this[n(541)]+=e,this[n(456)]()}[ie(519)](e){this.setCenterInternal(e&&Zs(e,this.getProjection()))}[ie(491)](e){const t=ie;this[t(606)]=e,this.applyTargetState_()}[ie(473)](e,t){const n=ie;return this.hints_[e]+=t,this[n(517)](),this.hints_[e]}[ie(460)](e){const t=ie;this[t(575)]=e,this[t(456)]()}[ie(512)](e){const t=ie;this[t(541)]=e,this[t(456)]()}setZoom(e){const t=ie;this[t(460)](this[t(577)](e))}applyTargetState_(e,t){const n=ie,r=this[n(539)]()||this.getInteracting()||t,s=this[n(576)][n(508)](this[n(541)],r),a=this[n(569)](s),o=this[n(576)][n(565)](this.targetResolution_,0,a,r),l=this[n(576)].center(this.targetCenter_,o,a,r,this.calculateCenterShift(this.targetCenter_,o,s,a));this.get(jr[n(612)])!==s&&this[n(620)](jr[n(612)],s),this[n(506)](jr.RESOLUTION)!==o&&(this.set(jr[n(570)],o),this.set(n(592),this[n(486)](),!0)),(!l||!this.get(jr[n(466)])||!OA(this[n(506)](jr[n(466)]),l))&&this[n(620)](jr[n(466)],l),this.getAnimating()&&!e&&this[n(544)](),this[n(562)]=void 0}resolveConstraints(e,t,n){const r=ie;e=e!==void 0?e:200;const s=t||0,a=this[r(576)].rotation(this[r(541)]),o=this[r(569)](a),l=this.constraints_[r(565)](this[r(575)],s,o),c=this[r(576)].center(this[r(606)],l,o,!1,this[r(552)](this[r(606)],l,a,o));if(e===0&&!this[r(562)]){this[r(575)]=l,this.targetRotation_=a,this[r(606)]=c,this.applyTargetState_();return}n=n||(e===0?this[r(562)]:void 0),this[r(562)]=void 0,(this[r(613)]()!==l||this[r(555)]()!==a||!this[r(454)]()||!OA(this[r(454)](),c))&&(this[r(539)]()&&this[r(544)](),this[r(523)]({rotation:a,center:c,resolution:l,duration:e,easing:Fc,anchor:n}))}[ie(511)](){const e=ie;this[e(540)](0),this[e(473)](An.INTERACTING,1)}[ie(503)](e,t,n){const r=ie;n=n&&Zs(n,this.getProjection()),this[r(605)](e,t,n)}[ie(605)](e,t,n){const r=ie;this[r(529)]()&&(this[r(473)](An.INTERACTING,-1),this.resolveConstraints(e,t,n))}getConstrainedCenter(e,t){const n=ie,r=this[n(569)](this[n(555)]());return this[n(576)].center(e,t||this[n(613)](),r)}[ie(573)](e,t){const n=ie,r=this[n(577)](e);return this.getZoomForResolution(this[n(587)](r,t))}[ie(587)](e,t){const n=ie;t=t||0;const r=this[n(569)](this[n(555)]());return this[n(576)][n(565)](e,t,r)}};function M1(i,e){setTimeout(function(){i(e)},0)}function q7(i){const e=ie;if(i[e(528)]!==void 0){const n=i[e(461)]!==void 0?i.smoothExtentConstraint:!0;return vB(i[e(528)],i[e(498)],n)}const t=$I(i[e(590)],e(489));if(i[e(532)]!==!0&&t[e(616)]()){const n=t[e(485)]()[e(559)]();return n[0]=-1/0,n[2]=1/0,vB(n,!1,!1)}return I7}function Y7(i){const e=ie;let t,n,r;const s=28,a=2;let o=i[e(518)]!==void 0?i[e(518)]:jE,l=i[e(609)]!==void 0?i[e(609)]:s;const c=i[e(464)]!==void 0?i[e(464)]:a,x=i[e(532)]!==void 0?i.multiWorld:!1,u=i[e(543)]!==void 0?i[e(543)]:!0,h=i[e(556)]!==void 0?i[e(556)]:!1,f=$I(i[e(590)],"EPSG:3857"),A=f.getExtent();let g=i[e(498)],d=i[e(528)];if(!x&&!d&&f[e(616)]()&&(g=!1,d=A),i.resolutions!==void 0){const p=i[e(564)];n=p[o],r=p[l]!==void 0?p[l]:p[p[e(547)]-1],i.constrainResolution?t=E7(p,u,!g&&d,h):t=wB(n,r,u,!g&&d,h)}else{const p=A?Math[e(516)](ht(A),vn(A)):360*qa[e(527)]/f[e(482)](),m=p/RE/Math[e(509)](a,jE),I=m/Math[e(509)](a,s-jE);n=i[e(614)],n!==void 0?o=0:n=m/Math[e(509)](c,o),r=i[e(554)],r===void 0&&(i[e(609)]!==void 0?i.maxResolution!==void 0?r=n/Math[e(509)](c,l):r=m/Math[e(509)](c,l):r=I),l=o+Math[e(471)](Math[e(457)](n/r)/Math[e(457)](c)),r=n/Math[e(509)](c,l-o),i[e(568)]?t=y7(c,n,r,u,!g&&d,h):t=wB(n,r,u,!g&&d,h)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:c}}function X7(i){const e=ie;if(i[e(536)]!==void 0?i[e(536)]:!0){const n=i[e(501)];return n===void 0||n===!0?b7():n===!1?BB:typeof n===e(533)?C7(n):BB}return QE}function W7(i){const e=ie;return!(i[e(545)]&&i.targetCenter&&!OA(i[e(545)],i.targetCenter)||i[e(530)]!==i[e(481)]||i.sourceRotation!==i[e(504)])}function KE(i,e,t,n,r){const s=ie,a=Math.cos(-r);let o=Math[s(608)](-r),l=i[0]*a-i[1]*o,c=i[1]*a+i[0]*o;l+=(e[0]/2-t[0])*n,c+=(t[1]-e[1]/2)*n,o=-o;const x=l*a-c*o,u=c*a+l*o;return[x,u]}const tt=Nu;(function(i,e){const t=Nu,n=i();for(;;)try{if(-parseInt(t(168))/1+parseInt(t(121))/2+parseInt(t(170))/3+-parseInt(t(175))/4*(parseInt(t(122))/5)+parseInt(t(145))/6+parseInt(t(123))/7+-parseInt(t(172))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(R1,757858);function R1(){const i=["map","getLayersArray","maxResolution","source","setMap","handleSourceChange_","getMapInternal","createRenderer","renderDeferred","sourceready","hasRenderer","setSource","960746yIBgkl","dispose","1363296hdINou","layerStatesArray","14472264cELVPH","rendered","sourceChangeKey_","1222572IPfbLi","getRenderer","ready","setMapInternal","CHANGE","assign","changed","prepareFrame","getLayerState","sourceReady_","unrender","getSource","undefined","getState","maxZoom","MAP","getLayerStatesArray","1913512UgFzwz","5qWHvdf","7611009gIzXHR","push","extent","zoom","resolve","render","A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both.","getExtent","disposeInternal","renderDeclutter","getViewStateAndExtent","resolution","some","PRECOMPOSE","getAttributions","layer","renderer_","isArray","mapPrecomposeKey_","set","mapRenderKey_","calculateExtent","8008830zJrLnN","getFeatures","handleSourcePropertyChange_","isVisible","SOURCE","minZoom","addChangeListener","dispatchEvent","getData","once","getSourceState"];return R1=function(){return i},R1()}function Nu(i,e){const t=R1();return Nu=function(n,r){return n=n-108,t[n]},Nu(i,e)}let _0=class extends yB{constructor(e){const t=Nu,n=Object[t(109)]({},e);delete n[t(159)],super(n),this.on,this[t(154)],this.un,this[t(141)]=null,this[t(143)]=null,this[t(174)]=null,this[t(139)]=null,this[t(113)]=!1,this[t(173)]=!1,e[t(128)]&&(this[t(128)]=e[t(128)]),e[t(156)]&&this.setMap(e[t(156)]),this[t(151)](Vt[t(149)],this[t(147)]);const r=e[t(159)]?e[t(159)]:null;this[t(167)](r)}[tt(157)](e){const t=tt;return e=e||[],e[t(124)](this),e}[tt(120)](e){const t=tt;return e=e||[],e.push(this[t(112)]()),e}[tt(115)](){const e=tt;return this.get(Vt[e(149)])||null}getRenderSource(){return this[tt(115)]()}[tt(155)](){const e=tt,t=this[e(115)]();return t?t[e(117)]():e(116)}[tt(161)](){const e=tt;this[e(110)](),!(this.sourceReady_||this.getSource()[e(117)]()!==e(177))&&(this[e(113)]=!0,this[e(152)]("sourceready"))}[tt(147)](){const e=tt;this[e(174)]&&(Jt(this[e(174)]),this[e(174)]=null),this[e(113)]=!1;const t=this.getSource();t&&(this[e(174)]=mt(t,Ye.CHANGE,this[e(161)],this),t[e(117)]()===e(177)&&(this[e(113)]=!0,setTimeout(()=>{const n=e;this[n(152)](n(165))},0))),this[e(110)]()}[tt(146)](e){const t=tt;return this[t(139)]?this[t(139)][t(146)](e):Promise[t(127)]([])}getData(e){const t=tt;return!this[t(139)]||!this[t(173)]?null:this.renderer_[t(153)](e)}[tt(148)](e){const t=tt;let n;const r=this[t(162)]();!e&&r&&(e=r.getView()),e instanceof Ss?n={viewState:e[t(117)](),extent:e[t(144)]()}:n=e,!n.layerStatesArray&&r&&(n[t(171)]=r.getLayerGroup().getLayerStatesArray());let s;n[t(171)]?s=n[t(171)].find(o=>o.layer===this):s=this[t(112)]();const a=this[t(130)]();return JE(s,n.viewState)&&(!a||wn(a,n[t(125)]))}[tt(137)](e){var a;const t=tt;if(!this[t(148)](e))return[];const n=(a=this.getSource())==null?void 0:a.getAttributions();if(!n)return[];const r=e instanceof Ss?e[t(133)]():e;let s=n(r);return!Array[t(140)](s)&&(s=[s]),s}[tt(128)](e,t){const n=tt,r=this[n(176)]();return r[n(111)](e)?(this.rendered=!0,r.renderFrame(e,t)):null}[tt(114)](){const e=tt;this[e(173)]=!1}getDeclutter(){}[tt(132)](e,t){}[tt(164)](e){const t=tt,n=this[t(176)]();n&&n[t(164)](e)}[tt(178)](e){!e&&this[tt(114)](),this.set(Vt.MAP,e)}[tt(162)](){const e=tt;return this.get(Vt[e(119)])}[tt(160)](e){const t=tt;this[t(141)]&&(Jt(this.mapPrecomposeKey_),this[t(141)]=null),!e&&this[t(110)](),this.mapRenderKey_&&(Jt(this[t(143)]),this.mapRenderKey_=null),e&&(this[t(141)]=mt(e,Br[t(136)],n=>{const r=t,s=n,a=s.frameState[r(171)],o=this[r(112)](!1);yt(!a[r(135)](function(l){const c=r;return l[c(138)]===o[c(138)]}),r(129)),a[r(124)](o)}),this.mapRenderKey_=mt(this,Ye[t(108)],e[t(128)],e),this[t(110)]())}[tt(167)](e){const t=tt;this[t(142)](Vt[t(149)],e)}[tt(176)](){const e=tt;return!this.renderer_&&(this.renderer_=this.createRenderer()),this[e(139)]}[tt(166)](){return!!this[tt(139)]}[tt(163)](){return null}disposeInternal(){const e=tt;this[e(139)]&&(this.renderer_[e(169)](),delete this[e(139)]),this.setSource(null),super[e(131)]()}};function JE(i,e){const t=tt;if(!i.visible)return!1;const n=e[t(134)];if(n<i.minResolution||n>=i[t(158)])return!1;const r=e[t(126)];return r>i[t(150)]&&r<=i[t(118)]}(function(i,e){for(var t=ZE,n=i();;)try{var r=-parseInt(t(368))/1*(-parseInt(t(361))/2)+-parseInt(t(365))/3*(parseInt(t(366))/4)+parseInt(t(362))/5*(-parseInt(t(364))/6)+-parseInt(t(367))/7+-parseInt(t(359))/8+-parseInt(t(363))/9+parseInt(t(360))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(T1,736022);function ZE(i,e){var t=T1();return ZE=function(n,r){n=n-359;var s=t[n];return s},ZE(i,e)}let j7=class extends _0{constructor(e){e=e||{},super(e)}};function T1(){var i=["5381019cHcQer","8114odQkrh","8266896uWXUnQ","42522760YpHdUL","302LZFCAL","1822725VWFIEa","7947234NFSlVu","18sHXTNB","312DwGcpT","37028AzsRYb"];return T1=function(){return i},T1()}const Hn=Ou;(function(i,e){const t=Ou,n=i();for(;;)try{if(parseInt(t(435))/1*(-parseInt(t(433))/2)+parseInt(t(413))/3+parseInt(t(422))/4+parseInt(t(426))/5+parseInt(t(427))/6+-parseInt(t(424))/7*(parseInt(t(429))/8)+parseInt(t(398))/9*(-parseInt(t(419))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(D1,126845);function Ou(i,e){const t=D1();return Ou=function(n,r){return n=n-398,t[n]},Ou(i,e)}const K7=5;function D1(){const i=["ERROR","getLayer","forEachFeatureAtCoordinate","bind","changed","getStaleKeys","layer_","renderIfReadyAndVisible","447873iiboDJ","disposeInternal","target","length","addEventListener","CHANGE","30ZFSUrB","unshift","maxStaleKeys","173160TDXdqM","boundHandleImageChange_","15701tdoNHw","LOADED","990085qOSdax","740796wdOOwE","handleImageChange_","856EOXAvC","ready","IDLE","renderFrame","28xrpwJz","prepareFrame","8191dpTIOW","handleFontsChanged","97632KwtbPh","getState","staleKeys_","renderDeferred","getFeatures","getData","getVisible"];return D1=function(){return i},D1()}let J7=class extends _u{constructor(e){const t=Ou;super(),this.ready=!0,this[t(423)]=this[t(428)][t(408)](this),this[t(411)]=e,this.staleKeys_=new Array,this[t(421)]=K7}[Hn(410)](){return this[Hn(400)]}prependStaleKey(e){const t=Hn;this.staleKeys_[t(420)](e),this[t(400)].length>this[t(421)]&&(this[t(400)][t(416)]=this[t(421)])}[Hn(402)](e){return je()}[Hn(403)](e){return null}[Hn(434)](e){return je()}[Hn(432)](e,t){return je()}[Hn(407)](e,t,n,r,s){}[Hn(406)](){return this[Hn(411)]}[Hn(436)](){}[Hn(428)](e){const t=Hn,n=e[t(415)];(n[t(399)]()===Pe[t(425)]||n[t(399)]()===Pe[t(405)])&&this.renderIfReadyAndVisible()}loadImage(e){const t=Hn;let n=e[t(399)]();return n!=Pe[t(425)]&&n!=Pe.ERROR&&e[t(417)](Ye[t(418)],this[t(423)]),n==Pe[t(431)]&&(e.load(),n=e[t(399)]()),n==Pe[t(425)]}[Hn(412)](){const e=Hn,t=this[e(406)]();t&&t[e(404)]()&&t.getSourceState()===e(430)&&t[e(409)]()}[Hn(401)](e){}[Hn(414)](){const e=Hn;delete this.layer_,super[e(414)]()}};(function(i,e){for(var t=$E,n=i();;)try{var r=-parseInt(t(312))/1+parseInt(t(311))/2*(-parseInt(t(301))/3)+-parseInt(t(305))/4*(parseInt(t(307))/5)+parseInt(t(306))/6*(parseInt(t(302))/7)+-parseInt(t(303))/8*(-parseInt(t(309))/9)+-parseInt(t(310))/10+parseInt(t(304))/11*(parseInt(t(308))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Q1,166784);function $E(i,e){var t=Q1();return $E=function(n,r){n=n-301;var s=t[n];return s},$E(i,e)}function Q1(){var i=["164jiQxIv","96156ZYxiSe","27535SXBfnH","12CXKFRA","63qZkJnq","172710dmSJNF","4qTioIf","27456UgZFqG","15450dzqBnx","49HHhdIS","161848sAoCQF","2131789GzrrRm"];return Q1=function(){return i},Q1()}let KB=class extends br{constructor(e,t,n,r){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=r}};function Gu(i,e){const t=F1();return Gu=function(n,r){return n=n-339,t[n]},Gu(i,e)}const Zr=Gu;(function(i,e){const t=Gu,n=i();for(;;)try{if(-parseInt(t(362))/1*(parseInt(t(351))/2)+-parseInt(t(354))/3*(-parseInt(t(342))/4)+parseInt(t(349))/5+parseInt(t(358))/6*(-parseInt(t(361))/7)+-parseInt(t(350))/8+-parseInt(t(345))/9+parseInt(t(344))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(F1,666715);let ey=class{constructor(){hn(this,ST,(...e)=>{const t=Zr;return this[t(346)][this[t(353)]+this.offset_][t(339)](e),this});const e=Gu;this.instructions_=[],this[e(353)]=0,this[e(352)]=0,this[e(359)]=new Proxy(nd(),{get:(t,n)=>{const r=e;if(typeof nd()[n]===r(360))return!this[r(346)][this.zIndex+this[r(352)]]&&(this[r(346)][this[r(353)]+this[r(352)]]=[]),this[r(346)][this[r(353)]+this[r(352)]].push(n),this.pushMethodArgs_},set:(t,n,r)=>{const s=e;return!this[s(346)][this[s(353)]+this.offset_]&&(this[s(346)][this[s(353)]+this[s(352)]]=[]),this[s(346)][this[s(353)]+this.offset_][s(339)](n,r),!0}})}[(ST=Zr(341),Zr(340))](e){const t=Zr;this[t(346)][this[t(353)]+this[t(352)]][t(339)](e)}[Zr(347)](){return this.context_}[Zr(355)](e){const t=Zr;this[t(346)][t(357)](n=>{const r=t;for(let s=0,a=n[r(356)];s<a;++s){const o=n[s];if(typeof o===r(360)){o(e);continue}const l=n[++s];if(typeof e[o]===r(360))e[o](...l);else{if(typeof l=="function"){e[o]=l(e);continue}e[o]=l}}})}[Zr(343)](){const e=Zr;this[e(346)][e(356)]=0,this[e(353)]=0,this[e(352)]=0}[Zr(348)](){const e=Zr;this[e(352)]=this.instructions_.length,this[e(353)]=0}};function F1(){const i=["3nGczZe","draw","length","forEach","5622hfLYqu","context_","function","8995eDazFI","2731URTDoW","push","pushFunction","pushMethodArgs_","4947284tQLJqA","clear","26804760CvjRbl","9638802obsYhO","instructions_","getContext","offset","2333940mbYrhV","2581096OlkJxw","820wEYIHP","offset_","zIndex"];return F1=function(){return i},F1()}const qn=zu;(function(i,e){const t=zu,n=i();for(;;)try{if(-parseInt(t(312))/1*(parseInt(t(320))/2)+-parseInt(t(271))/3+parseInt(t(295))/4+-parseInt(t(309))/5*(-parseInt(t(331))/6)+-parseInt(t(326))/7+parseInt(t(293))/8*(-parseInt(t(300))/9)+parseInt(t(277))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(L1,290645);function L1(){const i=["container","containerReused","canvas","32364SxtIjX","height","useContainer","lineTo","41901teuAYy","context","coordinateToPixelTransform","100%","renderedResolution","save","14195850njsmsQ","dispatchRenderEvent_","drawImage","appendChild","data","frameState","renderDeferredInternal","extent","tempTransform","transform","getClassName","dispatchEvent","firstElementChild","hasListener","declutter","backgroundColor","3682424kAKKIT","clip","1436664yIpPML","transformOrigin","absolute","getLayer","getContext","9xBjnti","className","resolution","prepareContainer","clearRect","left","pixelTransform","round","size","85bTbmCN","getBackground","POSTRENDER","273Ipepzl","getRenderTransform","pixelRatio","position","disposeInternal","width","deferredContext_","viewState","4142kmTbTY","top left","inversePixelTransform","getImageData","createElement","style","3781057VvohlO","getRenderContext"];return L1=function(){return i},L1()}const JB=[];let Oc=null;function Z7(){Oc=fn(1,1,void 0,{willReadFrequently:!0})}function zu(i,e){const t=L1();return zu=function(n,r){return n=n-268,t[n]},zu(i,e)}let ty=class extends J7{constructor(e){const t=zu;super(e),this[t(328)]=null,this[t(275)],this[t(285)]=Gi(),this[t(306)]=Gi(),this[t(322)]=Gi(),this[t(272)]=null,this[t(318)]=null,this[t(329)]=!1,this[t(282)]=null}[qn(323)](e,t,n){const r=qn;!Oc&&Z7(),Oc.clearRect(0,0,1,1);let s;try{Oc[r(279)](e,t,n,1,1,0,0,1,1),s=Oc[r(323)](0,0,1,1)[r(281)]}catch{return Oc=null,null}return s}[qn(310)](e){const t=qn;let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e[t(319)][t(302)])),r||void 0}[qn(269)](e,t,n){const r=qn,s=this[r(298)]()[r(287)]();let a,o;if(e&&e[r(301)]===s&&(!n||e&&e[r(325)].backgroundColor&&$a(lu(e[r(325)][r(292)]),lu(n)))){const l=e[r(289)];l instanceof HTMLCanvasElement&&(o=l[r(299)]("2d"))}if(o&&o[r(330)][r(325)][r(286)]===t?(this[r(328)]=e,this.context=o,this.containerReused=!0):this[r(329)]?(this[r(328)]=null,this[r(272)]=null,this.containerReused=!1):this[r(328)]&&(this[r(328)][r(325)][r(292)]=null),!this[r(328)]){a=document[r(324)]("div"),a.className=s;let l=a.style;l[r(315)]=r(297),l[r(317)]=r(274),l[r(268)]=r(274),o=fn();const c=o.canvas;a[r(280)](c),l=c[r(325)],l[r(315)]=r(297),l[r(305)]="0",l[r(296)]=r(321),this.container=a,this[r(272)]=o}!this[r(329)]&&n&&!this[r(328)][r(325)].backgroundColor&&(this.container.style[r(292)]=n)}clipUnrotated(e,t,n){const r=qn,s=Ks(n),a=PA(n),o=QA(n),l=DA(n);Vn(t[r(273)],s),Vn(t[r(273)],a),Vn(t[r(273)],o),Vn(t.coordinateToPixelTransform,l);const c=this[r(322)];Vn(c,s),Vn(c,a),Vn(c,o),Vn(c,l),e[r(276)](),e.beginPath(),e.moveTo(Math[r(307)](s[0]),Math[r(307)](s[1])),e[r(270)](Math.round(a[0]),Math[r(307)](a[1])),e[r(270)](Math[r(307)](o[0]),Math[r(307)](o[1])),e[r(270)](Math[r(307)](l[0]),Math.round(l[1])),e[r(294)]()}[qn(303)](e,t){const n=qn,r=e[n(284)],s=e.viewState[n(302)],a=e[n(319)].rotation,o=e[n(314)],l=Math[n(307)](ht(r)/s*o),c=Math[n(307)](vn(r)/s*o);Bs(this[n(306)],e[n(308)][0]/2,e.size[1]/2,1/o,1/o,a,-l/2,-c/2),TB(this[n(322)],this.pixelTransform);const x=R7(this[n(306)]);if(this.useContainer(t,x,this[n(310)](e)),!this[n(329)]){const u=this.context.canvas;u[n(317)]!=l||u.height!=c?(u[n(317)]=l,u[n(268)]=c):this[n(272)][n(304)](0,0,l,c),x!==u[n(325)][n(286)]&&(u.style[n(286)]=x)}}[qn(278)](e,t,n){const r=qn,s=this[r(298)]();if(s[r(290)](e)){const a=new KB(e,this[r(322)],n,t);s[r(288)](a)}}preRender(e,t){const n=qn;this.frameState=t,!t[n(291)]&&this[n(278)](Br.PRERENDER,e,t)}postRender(e,t){const n=qn;t[n(291)]||this.dispatchRenderEvent_(Br[n(311)],e,t)}[qn(283)](e){}[qn(327)](e){const t=qn;return e[t(291)]&&!this[t(318)]&&(this[t(318)]=new ey),e.declutter?this[t(318)][t(299)]():this.context}renderDeferred(e){const t=qn;e.declutter&&(this.dispatchRenderEvent_(Br.PRERENDER,this[t(272)],e),e[t(291)]&&this[t(318)]&&(this[t(318)].draw(this[t(272)]),this[t(318)].clear()),this[t(283)](e),this.dispatchRenderEvent_(Br[t(311)],this[t(272)],e))}[qn(313)](e,t,n,r,s,a,o){const l=s/2,c=a/2,x=r/t,u=-x,h=-e[0]+o,f=-e[1];return Bs(this.tempTransform,l,c,x,u,-n,h,f)}disposeInternal(){const e=qn;delete this.frameState,super[e(316)]()}};function Vu(i,e){const t=P1();return Vu=function(n,r){return n=n-103,t[n]},Vu(i,e)}const oo=Vu;(function(i,e){const t=Vu,n=i();for(;;)try{if(-parseInt(t(131))/1+parseInt(t(118))/2+parseInt(t(113))/3+-parseInt(t(114))/4*(-parseInt(t(134))/5)+parseInt(t(154))/6+parseInt(t(132))/7+-parseInt(t(105))/8*(parseInt(t(130))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(P1,341020);function P1(){const i=["layerStatesArray","getResolution","getExtent","getImageData","clipUnrotated","projection","2763540FDrtIA","container","image","186704ybkgCB","floor","getInterpolate","INTERACTING","viewState","renderedResolution","frameState","resolution","2010276FGLTEp","12pKqOFr","pixelToCoordinateTransform","getImage","width","953302LBXtVS","pixelRatio","getData","tempTransform","globalAlpha","context","getPixelRatio","getState","slice","getLayer","renderFrame","imageSmoothingEnabled","675xmZPwP","296738Ldueod","2153158RKRogW","extent","788635RSSSgy","canvas","getRenderContext","ANIMATING","preRender","prepareFrame","restore","postRender","drawImage","layerIndex","getSource","opacity","loadImage","height"];return P1=function(){return i},P1()}let $7=class extends ty{constructor(e){const t=Vu;super(e),this[t(104)]=null}[oo(116)](){const e=oo;return this[e(104)]?this[e(104)][e(116)]():null}[oo(139)](e){const t=oo,n=e.layerStatesArray[e[t(143)]],r=e[t(119)],s=e.viewState,a=s[t(112)],o=this[t(127)]()[t(144)](),l=e.viewHints;let c=e[t(133)];if(n[t(133)]!==void 0&&(c=Mi(c,_s(n[t(133)],s[t(153)]))),!l[An[t(137)]]&&!l[An[t(108)]]&&!n0(c))if(o){const x=s[t(153)],u=o[t(116)](c,a,r,x);u&&(this[t(146)](u)?this[t(104)]=u:u[t(125)]()===Pe.EMPTY&&(this[t(104)]=null))}else this[t(104)]=null;return!!this.image}[oo(120)](e){const t=oo,n=this[t(111)];if(!n)return null;const r=this[t(127)](),s=Vn(n[t(115)],e[t(126)]()),a=r.getExtent();if(a&&!t0(a,s))return null;const o=this[t(104)][t(150)](),l=this[t(104)].getImage(),c=ht(o),x=Math[t(106)](l[t(117)]*((s[0]-o[0])/c));if(x<0||x>=l[t(117)])return null;const u=vn(o),h=Math[t(106)](l[t(147)]*((o[3]-s[1])/u));return h<0||h>=l[t(147)]?null:this[t(151)](l,x,h)}[oo(128)](e,t){const n=oo,r=this[n(104)],s=r[n(150)](),a=r[n(149)](),[o,l]=Array.isArray(a)?a:[a,a],c=r[n(124)](),x=e[n(148)][e[n(143)]],u=e[n(119)],h=e[n(109)],f=h.center,A=h[n(112)],g=u*o/(A*c),d=u*l/(A*c);this.prepareContainer(e,t);const p=this.context[n(135)][n(117)],m=this[n(123)][n(135)].height,I=this[n(136)](e);let _=!1,y=!0;if(x[n(133)]){const v=_s(x.extent,h[n(153)]);y=wn(v,e.extent),_=y&&!qr(v,e[n(133)]),_&&this[n(152)](I,e,v)}const E=r[n(116)](),C=Bs(this[n(121)],p/2,m/2,g,d,0,c*(s[0]-f[0])/o,c*(f[1]-s[3])/l);this[n(110)]=l*u/c;const w=E.width*C[0],b=E[n(147)]*C[3];if(!this[n(127)]()[n(144)]()[n(107)]()&&(I.imageSmoothingEnabled=!1),this[n(138)](I,e),y&&w>=.5&&b>=.5){const v=C[4],B=C[5],R=x[n(145)];R!==1&&(I.save(),I[n(122)]=R),I[n(142)](E,0,0,+E[n(117)],+E[n(147)],v,B,w,b),R!==1&&I[n(140)]()}return this[n(141)](this[n(123)],e),_&&I[n(140)](),I[n(129)]=!0,this[n(103)]}};(function(i,e){for(var t=k1,n=i();;)try{var r=-parseInt(t(235))/1+parseInt(t(233))/2+-parseInt(t(230))/3+-parseInt(t(237))/4+parseInt(t(228))/5+parseInt(t(232))/6*(parseInt(t(229))/7)+parseInt(t(231))/8*(parseInt(t(234))/9);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(U1,343158);function k1(i,e){var t=U1();return k1=function(n,r){n=n-228;var s=t[n];return s},k1(i,e)}function U1(){var i=["84492MKhOZA","1137300CVBRtT","9WToDOP","170574OsRwIU","getData","2545352pjzWQD","342120naYmZj","273hBupZU","284967yKpCex","470296DJhtKK"];return U1=function(){return i},U1()}let ny=class extends j7{constructor(e){super(e)}createRenderer(){return new $7(this)}getData(e){var t=k1;return super[t(236)](e)}};function ZB(i,e,t){const n=i.createShader(e);if(i.shaderSource(n,t),i.compileShader(n),!i.getShaderParameter(n,i.COMPILE_STATUS))throw new Error(i.getShaderInfoLog(n));return n}function e9(i,e,t){const n=i.createProgram(),r=ZB(i,i.VERTEX_SHADER,e),s=ZB(i,i.FRAGMENT_SHADER,t);if(i.attachShader(n,r),i.attachShader(n,s),i.linkProgram(n),!i.getProgramParameter(n,i.LINK_STATUS))throw new Error(i.getProgramInfoLog(n));const a={program:n},o=i.getProgramParameter(n,i.ACTIVE_ATTRIBUTES);for(let c=0;c<o;c++){const x=i.getActiveAttrib(n,c);a[x.name]=i.getAttribLocation(n,x.name)}const l=i.getProgramParameter(n,i.ACTIVE_UNIFORMS);for(let c=0;c<l;c++){const x=i.getActiveUniform(n,c);a[x.name]=i.getUniformLocation(n,x.name)}return a}function iy(i,e,t,n,r){const s=i.createTexture();return i.bindTexture(i.TEXTURE_2D,s),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),t instanceof Uint8Array?i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n,r,0,i.RGBA,i.UNSIGNED_BYTE,t):t instanceof Float32Array?i.texImage2D(i.TEXTURE_2D,0,i.R32F,n,r,0,i.RED,i.FLOAT,t):t instanceof Int32Array?i.texImage2D(i.TEXTURE_2D,0,i.R32I,n,r,0,i.RED_INTEGER,i.INT,t):i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t),i.bindTexture(i.TEXTURE_2D,null),s}function ry(i,e,t){i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,e)}function sy(i,e){const t=i.createBuffer();return i.bindBuffer(i.ARRAY_BUFFER,t),i.bufferData(i.ARRAY_BUFFER,e,i.STATIC_DRAW),t}function $B(i,e,t,n){i.bindBuffer(i.ARRAY_BUFFER,e),i.enableVertexAttribArray(t),i.vertexAttribPointer(t,n,i.FLOAT,!1,0,0)}const t9=`#version 300 es
in vec2 aVertexCoords;
in vec2 aPixelCoords;
out vec2 vPixelCoords;
void main(void) {
    gl_Position = vec4(aVertexCoords , 1.0, 1.0);
    // vTextureCoords = aTextureCoords;
    // vCRSCoords = aCRSCoords;
    vPixelCoords = aPixelCoords;
}`,n9=`#version 300 es
precision highp float;
in vec2 vPixelCoords;
out vec4 outColor;
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3

  varying vec2 v_texcoord;

  uniform sampler2D u_texture;

  void main() {
    if (
      v_texcoord.x < 0.0 ||
      v_texcoord.y < 0.0 ||
      v_texcoord.x > 1.0 ||
      v_texcoord.y > 1.0
    ) {
      discard;
    }
    gl_FragColor = texture2D(u_texture, v_texcoord);
  }
`,"textureLocation","program_",`
  attribute vec4 a_position;
  attribute vec4 a_texcoord;

  uniform mat4 u_matrix;
  uniform mat4 u_textureMatrix;

  varying vec2 v_texcoord;

  void main() {
    gl_Position = u_matrix * a_position;
    vec2 texcoord = (u_textureMatrix * a_texcoord).xy;
    v_texcoord = texcoord;
  }
`,"FLOAT","ARRAY_BUFFER","length","texcoordLocation","createShader","uniformMatrix4fv","drawImage","useProgram","636522BhEIme","getShaderParameter","8262360egzGxo","texcoordBuffer","432911FRKDxM","scale","VERTEX_SHADER","enableVertexAttribArray","createProgram"];return Kp=function(){return i},Kp()}class F9{constructor(t){const e=x0;this.gl_=t,this.program_=ME(t,L9,Q9),this.positionLocation=t[e(351)](this[e(386)],e(380)),this[e(331)]=t.getAttribLocation(this.program_,"a_texcoord"),this[e(371)]=t[e(355)](this[e(386)],"u_matrix"),this.textureMatrixLocation=t[e(355)](this[e(386)],"u_textureMatrix"),this[e(385)]=t[e(355)](this[e(386)],e(345)),this.positionBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer),this[e(356)]=[0,0,0,1,1,0,1,0,0,1,1,1],t[e(377)](t[e(389)],new Float32Array(this[e(356)]),t.STATIC_DRAW),this[e(339)]=t.createBuffer(),t[e(364)](t[e(389)],this[e(339)]),this[e(376)]=[0,0,0,1,1,0,1,0,0,1,1,1],t.bufferData(t[e(389)],new Float32Array(this.texcoords),t.STATIC_DRAW)}[x0(334)](t,e,n,r,s,a,o,l,c,x,u,f,h){const A=x0,p=this[A(354)];l===void 0&&(l=r),c===void 0&&(c=s),a===void 0&&(a=e),o===void 0&&(o=n),x===void 0&&(x=a),u===void 0&&(u=o),f===void 0&&(f=p[A(372)][A(346)]),h===void 0&&(h=p[A(372)][A(375)]),p.bindTexture(p[A(349)],t),p[A(335)](this[A(386)]),p[A(364)](p[A(389)],this[A(370)]),p[A(343)](this[A(360)]),p.vertexAttribPointer(this[A(360)],2,p[A(388)],!1,0,0),p[A(364)](p[A(389)],this[A(339)]),p[A(343)](this.texcoordLocation),p.vertexAttribPointer(this.texcoordLocation,2,p[A(388)],!1,0,0);let d=Xp[A(382)](0,f,0,h,-1,1);d=IB(d,l,c,0),d=_B(d,x,u,1),p[A(333)](this[A(371)],!1,d);let g=Xp[A(352)](r/e,s/n,0);g=Xp[A(341)](g,a/e,o/n,1),p.uniformMatrix4fv(this[A(373)],!1,g),p[A(357)](this.textureLocation,0),p.drawArrays(p[A(350)],0,this[A(356)][A(330)]/2)}}function EB(i,t,e){const n=x0,r=i[n(332)](t);if(r===null)throw new Error(n(358));if(i[n(353)](r,e),i[n(378)](r),!i[n(337)](r,i.COMPILE_STATUS)){const s=i[n(363)](r);throw s===null?new Error(n(374)):new Error(s)}return r}function Jp(i,t){const e=Kp();return Jp=function(n,r){return n=n-330,e[n]},Jp(i,t)}function ME(i,t,e){const n=x0,r=i[n(344)](),s=EB(i,i[n(342)],e),a=EB(i,i[n(361)],t);if(r===null)throw new Error(n(348));if(i[n(367)](r,s),i[n(367)](r,a),i[n(362)](r),!i[n(365)](r,i.LINK_STATUS))throw i.getProgramInfoLog(r)===null?new Error(n(366)):new Error;return r}function jp(i,t){const e=Zp();return jp=function(n,r){return n=n-446,e[n]},jp(i,t)}const nf=jp;(function(i,t){const e=jp,n=i();for(;;)try{if(parseInt(e(465))/1*(parseInt(e(455))/2)+parseInt(e(462))/3+-parseInt(e(467))/4+parseInt(e(491))/5+-parseInt(e(504))/6+-parseInt(e(460))/7+parseInt(e(448))/8===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Zp,833560);function Zp(){const i=["width","3816520oqTQVJ","orthographic","TEXTURE_WRAP_T","deleteFramebuffer","FLOAT","scissor","STATIC_DRAW","bindFramebuffer","FRAMEBUFFER","RGBA","clipExtent","texParameteri","getParameter","Could not create framebuffer","height","uniformMatrix4fv","TEXTURE_WRAP_S","enableVertexAttribArray","u_matrix","getAttribLocation","LINES","concat","bufferData","source","3467530fLVaVd","length","ARRAY_BUFFER","canvas","a_position","viewport","createBuffer","getTriangles","bindBuffer","framebufferTexture2D","push","createTexture","SCISSOR_TEST","9809826DbeWeS","vertexAttribPointer","drawArrays","STENCIL_BUFFER_BIT",`
  precision mediump float;

  varying vec2 v_texcoord;

  uniform sampler2D u_texture;

  void main() {
    if (v_texcoord.x < 0.0 || v_texcoord.x > 1.0 || v_texcoord.y < 0.0 || v_texcoord.y > 1.0) {
      discard;
    }
<<<<<<< HEAD
    gl_FragColor = texture2D(u_texture, v_texcoord);
  }
`,"useProgram","getContext","MAX_TEXTURE_SIZE","isArray","getUniformLocation","TEXTURE_2D","clear","CLAMP_TO_EDGE","Could not create texture","max","DEPTH_BUFFER_BIT","createElement","forEach","reduce","LINEAR","NEAREST","extent","texture","webgl","16854408aemLOR","createFramebuffer","drawImage","bindTexture",`
  precision mediump float;

  uniform vec4 u_val;
  void main() {
     gl_FragColor = u_val;
  }
`,"texImage2D","disable","4bIQrdF","COLOR_BUFFER_BIT","uniform4iv","target","uniform4fv","4994094LJkUwG","TEXTURE_MIN_FILTER","2158080kSbSDe","round","TEXTURE_MAG_FILTER","308218WdvDrW"];return Zp=function(){return i},Zp()}const k9=`
  attribute vec4 a_position;

  uniform mat4 u_matrix;

  void main() {
     gl_Position = u_matrix * a_position;
  }
`,P9=nf(452),U9=`
  attribute vec4 a_position;
  attribute vec2 a_texcoord;

  varying vec2 v_texcoord;

  uniform mat4 u_matrix;

  void main() {
     gl_Position = u_matrix * a_position;
     v_texcoord = a_texcoord;
  }
`,N9=nf(508);function O9(i,t,e,n){const r=nf;let s;return e&&e[r(492)]?s=e.shift():AI?s=new OffscreenCanvas(i||300,t||300):s=document[r(520)](r(494)),i&&(s[r(466)]=i),t&&(s.height=t),s[r(510)](r(447),n)}function G9(i){const t=nf,e=i[t(494)];e[t(466)]=1,e.height=1,i[t(515)](i[t(456)]|i[t(519)]|i[t(507)])}const yB=[];function z9(i,t,e,n,r,s,a,o,l,c,x,u,f,h){const A=nf,p=Math[A(463)](n*t),d=Math[A(463)](n*e);i.canvas[A(466)]=p,i[A(494)].height=d;let g,m;if(m=i[A(502)](),i[A(451)](i[A(514)],m),i[A(478)](i.TEXTURE_2D,i[A(483)],i[A(516)]),i[A(478)](i[A(514)],i.TEXTURE_WRAP_T,i[A(516)]),f?(i[A(478)](i[A(514)],i[A(461)],i[A(523)]),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i[A(523)])):(i[A(478)](i[A(514)],i[A(461)],i[A(524)]),i.texParameteri(i[A(514)],i[A(464)],i[A(524)])),i[A(453)](i[A(514)],0,i[A(476)],p,d,0,i[A(476)],x,null),g=i.createFramebuffer(),i[A(474)](i.FRAMEBUFFER,g),i[A(500)](i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i[A(514)],m,0),g===null)throw new Error(A(480));if(m===null)throw new Error(A(517));if(l.length===0)return{width:p,height:d,framebuffer:g,texture:m};const _=ir();l[A(521)](function(B,S,T){W2(_,B[A(525)])});let I,y,E;const b=1/r;{if(I=i[A(502)](),m===null)throw new Error("Could not create texture");y=Math.round(lt(_)*b),E=Math.round(rn(_)*b);const B=i[A(479)](i[A(511)]),S=Math[A(518)](y,E),T=S>B?B/S:1,Q=Math[A(463)](y*T),M=Math[A(463)](E*T);i.bindTexture(i[A(514)],I),i[A(478)](i.TEXTURE_2D,i.TEXTURE_WRAP_S,i[A(516)]),i[A(478)](i.TEXTURE_2D,i[A(469)],i[A(516)]),f?(i[A(478)](i[A(514)],i[A(461)],i[A(523)]),i[A(478)](i[A(514)],i[A(464)],i[A(523)])):(i[A(478)](i.TEXTURE_2D,i[A(461)],i[A(524)]),i[A(478)](i[A(514)],i[A(464)],i.NEAREST)),i.texImage2D(i.TEXTURE_2D,0,i[A(476)],Q,M,0,i.RGBA,x,null);const D=i[A(449)]();i[A(474)](i[A(475)],D),i[A(500)](i[A(475)],i.COLOR_ATTACHMENT0,i[A(514)],I,0);const U=new F9(i);l.forEach(function(F,z,H){const P=A,Z=(F[P(525)][0]-_[0])*b*T,ce=-(F.extent[3]-_[3])*b*T,G=lt(F[P(525)])*b*T,O=rn(F.extent)*b*T;if(i[P(474)](i[P(475)],D),i.viewport(0,0,Q,M),F[P(477)]){const j=(F[P(477)][0]-_[0])*b*T,J=-(F[P(477)][3]-_[3])*b*T,le=lt(F[P(477)])*b*T,he=rn(F[P(477)])*b*T;i.enable(i[P(503)]),i[P(472)](f?j:Math.round(j),f?J:Math[P(463)](J),f?le:Math.round(j+le)-Math[P(463)](j),f?he:Math[P(463)](J+he)-Math[P(463)](J))}U[P(450)](F[P(446)],F.width,F[P(481)],c,c,F[P(466)]-2*c,F[P(481)]-2*c,f?Z:Math[P(463)](Z),f?ce:Math[P(463)](ce),f?G:Math[P(463)](Z+G)-Math[P(463)](Z),f?O:Math[P(463)](ce+O)-Math[P(463)](ce),Q,M),i[P(454)](i.SCISSOR_TEST)}),i[A(470)](D)}const w=Nr(a),C=Nr(_),v=B=>{const S=(B[0][0]-w[0])/s*n,T=-(B[0][1]-w[1])/s*n,Q=(B[1][0]-w[0])/s*n,M=-(B[1][1]-w[1])/s*n,D=(B[2][0]-w[0])/s*n,U=-(B[2][1]-w[1])/s*n;return{u1:Q,v1:M,u0:S,v0:T,u2:D,v2:U}};i.bindFramebuffer(i[A(475)],g),i[A(496)](0,0,p,d);{const B=[],S=[],T=ME(i,N9,U9);i[A(509)](T);const Q=i[A(513)](T,"u_texture");i[A(451)](i[A(514)],I),i.uniform1i(Q,0),o[A(498)]()[A(521)](function(P,Z,ce){const G=A,O=P[G(490)],j=P[G(458)],{u1:J,v1:le,u0:he,v0:Ee,u2:ae,v2:Se}=v(j),ft=(O[0][0]-C[0])/r/y,N=-(O[0][1]-C[1])/r/E,Lt=(O[1][0]-C[0])/r/y,Oe=-(O[1][1]-C[1])/r/E,Ne=(O[2][0]-C[0])/r/y,Be=-(O[2][1]-C[1])/r/E;B[G(501)](J,le,he,Ee,ae,Se),S[G(501)](Lt,Oe,ft,N,Ne,Be)});const M=Xp[A(468)](0,p,d,0,-1,1),D=i[A(513)](T,A(485));i[A(482)](D,!1,M);const U=i[A(486)](T,"a_position"),F=i[A(497)]();i[A(499)](i[A(493)],F),i[A(489)](i.ARRAY_BUFFER,new Float32Array(B),i[A(473)]),i[A(505)](U,2,i[A(471)],!1,0,0),i.enableVertexAttribArray(U);const z=i[A(486)](T,"a_texcoord"),H=i.createBuffer();i.bindBuffer(i[A(493)],H),i[A(489)](i[A(493)],new Float32Array(S),i.STATIC_DRAW),i[A(505)](z,2,i[A(471)],!1,0,0),i[A(484)](z),i.drawArrays(i.TRIANGLES,0,B.length/2)}if(u){const B=ME(i,P9,k9);i[A(509)](B);const S=mB(0,p,d,0,-1,1),T=i[A(513)](B,A(485));i[A(482)](T,!1,S);const Q=Array[A(512)](u)?u:[0,0,0,255],M=i[A(513)](B,"u_val");!0?i[A(459)](M,Q):i[A(457)](M,Q);const U=i[A(486)](B,A(495)),F=i[A(497)]();i[A(499)](i[A(493)],F),i.vertexAttribPointer(U,2,i[A(471)],!1,0,0),i[A(484)](U);const z=o[A(498)]()[A(522)](function(H,P){const Z=A,ce=P[Z(458)],{u1:G,v1:O,u0:j,v0:J,u2:le,v2:he}=v(ce);return H[Z(488)]([G,O,j,J,j,J,le,he,le,he,G,O])},[]);i.bufferData(i[A(493)],new Float32Array(z),i[A(473)]),i[A(506)](i[A(487)],0,z[A(492)]/2)}return{width:p,height:d,framebuffer:g,texture:m}}function $p(){const i=["reprojData_","targetTileGrid_","sourceTileGrid","reprojError_","state","wrappedTileCoord_","TEXTURE_2D","triangulation_","texImage2D","dataType","RGBA","reproject_","changed","sourceProj","pixelRatio","interpolate","pixelRatio_","resolve","IDLE","pixelSize","slice","sourceZ_","getError","LOADING","sourcesListenerKeys_","WEBGL_color_buffer_float","5248674kzOcsp","648830eADHVz","getTileRangeForExtentAndZ","getSize","2SOqBdy","extent","maxX","createTexture","bandCount","getTileSize","sourceTileGrid_","getExtension","3AobJMs","tile","LINEAR","load","UNSIGNED_BYTE","OES_texture_float","FLOAT","tileCoord","clipExtent_","2554585qvyFPq","LOADED","415352VgXtQs","CHANGE","1259019kOWDEc","getExtent","push","maxY","canWrapX","texParameteri","renderEdges_","getState","ERROR","canvas","sourceTiles_","reprojSize_","minY","clipExtent","EXT_float_blend","length","1155956qgGPNQ","buffer","OES_texture_float_linear","CLAMP_TO_EDGE","getTileCoordExtent","BYTES_PER_ELEMENT","errorThreshold","transition","TEXTURE_MAG_FILTER","gutter_","targetProj","140ucUPmW","forEach","getZForResolution","floor","TEXTURE_MIN_FILTER","148101ClUilw","getTriangles","byteLength","getData","FRAMEBUFFER","TEXTURE_WRAP_S","EMPTY","number","unlistenSources_","offset","targetTileGrid","putImageData","readPixels"];return $p=function(){return i},$p()}const to=Kc;(function(i,t){const e=Kc,n=i();for(;;)try{if(-parseInt(e(509))/1*(-parseInt(e(456))/2)+parseInt(e(464))/3*(-parseInt(e(493))/4)+-parseInt(e(473))/5+-parseInt(e(452))/6+parseInt(e(453))/7+parseInt(e(475))/8+-parseInt(e(477))/9*(-parseInt(e(504))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})($p,576499);function Kc(i,t){const e=$p();return Kc=function(n,r){return n=n-442,e[n]},Kc(i,t)}class V9 extends SE{constructor(t){const e=Kc;super({tileCoord:t[e(471)],loader:()=>Promise[e(443)](new Uint8ClampedArray(4)),interpolate:t.interpolate,transition:t[e(500)]}),this[e(483)]=t.renderEdges!==void 0?t.renderEdges:!1,this[e(442)]=t[e(536)],this[e(502)]=t.gutter,this[e(522)]=null,this[e(525)]=null,this[e(488)]=void 0,this[e(462)]=t[e(524)],this[e(523)]=t[e(519)],this.wrappedTileCoord_=t.wrappedTileCoord||t.tileCoord,this[e(487)]=[],this.sourcesListenerKeys_=null,this[e(447)]=0;const n=t[e(535)],r=n[e(478)](),s=t.sourceTileGrid.getExtent();this[e(472)]=n[e(481)]()?s?Ei(r,s):r:s;const a=this[e(523)][e(497)](this[e(527)]),o=this[e(523)][e(478)]();let l=this[e(462)].getExtent();const c=o?Ei(a,o):a;if(bx(c)===0){this[e(526)]=de[e(515)];return}r&&(l?l=Ei(l,r):l=r);const x=this[e(523)].getResolution(this[e(527)][0]),u=t[e(503)],f=W3(n,u,c,x);if(!isFinite(f)||f<=0){this.state=de[e(515)];return}const h=t[e(499)]!==void 0?t.errorThreshold:bI;if(this[e(529)]=new BI(n,u,c,l,f*h,x,t.transformMatrix),this[e(529)][e(510)]()[e(492)]===0){this[e(526)]=de[e(515)];return}this[e(447)]=this[e(462)][e(506)](f);let A=this.triangulation_.calculateSourceExtent();if(l&&(n[e(481)]()?(A[1]=mn(A[1],l[1],l[3]),A[3]=mn(A[3],l[1],l[3])):A=Ei(A,l)),!bx(A))this[e(526)]=de.EMPTY;else{let p=0,d=0;n[e(481)]()&&(p=lt(r),d=Math[e(507)]((A[0]-r[0])/p)),X2(A[e(446)](),n,!0)[e(505)](m=>{const _=e,I=this[_(462)][_(454)](m,this[_(447)]),y=t.getTileFunction;for(let E=I.minX;E<=I[_(458)];E++)for(let b=I[_(489)];b<=I[_(480)];b++){const w=y(this[_(447)],E,b,this[_(442)]);if(w){const C=d*p;this[_(487)][_(479)]({tile:w,offset:C})}}++d}),this[e(487)][e(492)]===0&&(this[e(526)]=de[e(515)])}}getSize(){return this[Kc(488)]}[to(512)](){return this[to(522)]}[to(448)](){return this.reprojError_}reproject_(){const t=to,e=[];let n=!1;if(this[t(487)].forEach(y=>{var ce;const E=t,b=y[E(465)];if(!b||b[E(484)]()!==de[E(474)])return;const w=b[E(455)](),C=this.gutter_;let v;const B=B9(b[E(512)]());B?v=B:(n=!0,v=M9(Yp(b[E(512)]())));const S=[w[0]+2*C,w[1]+2*C],T=v instanceof Float32Array,Q=S[0]*S[1],M=T?Float32Array:Uint8ClampedArray,D=new M(v[E(494)]),U=M[E(498)],F=U*D[E(492)]/Q,z=D[E(511)]/S[1],H=Math.floor(z/U/S[0]),P=this[E(462)][E(497)](b[E(471)]);P[0]+=y[E(518)],P[2]+=y[E(518)];const Z=(ce=this.clipExtent_)==null?void 0:ce[E(446)]();Z&&(Z[0]+=y[E(518)],Z[2]+=y[E(518)]),e[E(479)]({extent:P,clipExtent:Z,data:D,dataType:M,bytesPerPixel:F,pixelSize:S,bandCount:H})}),this[t(487)][t(492)]=0,e[t(492)]===0){this[t(526)]=de[t(485)],this[t(534)]();return}const r=this[t(527)][0],s=this[t(523)][t(461)](r),a=typeof s===t(516)?s:s[0],o=typeof s===t(516)?s:s[1],l=a*this.pixelRatio_,c=o*this.pixelRatio_,x=this[t(523)].getResolution(r),u=this[t(462)].getResolution(this.sourceZ_),f=this[t(523)].getTileCoordExtent(this[t(527)]),h=e[0][t(460)],A=new e[0][t(531)](h*l*c),p=O9(l,c,yB,{premultipliedAlpha:!1,antialias:!1});let d;const g=p[t(532)];let m;e[0].dataType==Float32Array?(m=p[t(470)],p[t(463)](t(451)),p.getExtension(t(469)),p[t(463)](t(491)),d=p[t(463)](t(495))!==null&&this[t(537)]):(m=p[t(468)],d=this.interpolate);const _=4,I=Math.ceil(h/_);for(let y=I-1;y>=0;--y){const E=[];for(let Q=0,M=e[t(492)];Q<M;++Q){const D=e[Q],U=D[t(445)],F=U[0],z=U[1],H=new D[t(531)](_*F*z),P=D.data;let Z=y*_;for(let G=0,O=H.length;G<O;G+=_)H[G]=P[Z],H[G+1]=P[Z+1],H[G+2]=P[Z+2],H[G+3]=P[Z+3],Z+=h;const ce=p[t(459)]();p.bindTexture(p[t(528)],ce),d?(p[t(482)](p[t(528)],p[t(508)],p[t(466)]),p[t(482)](p[t(528)],p[t(501)],p.LINEAR)):(p.texParameteri(p[t(528)],p.TEXTURE_MIN_FILTER,p.NEAREST),p[t(482)](p[t(528)],p[t(501)],p.NEAREST)),p.texParameteri(p[t(528)],p[t(514)],p.CLAMP_TO_EDGE),p[t(482)](p[t(528)],p.TEXTURE_WRAP_T,p[t(496)]),p[t(530)](p[t(528)],0,g,F,z,0,g,m,H),E[t(479)]({extent:D[t(457)],clipExtent:D[t(490)],texture:ce,width:F,height:z})}const{framebuffer:b,width:w,height:C}=z9(p,a,o,this.pixelRatio_,u,x,f,this[t(529)],E,this[t(502)],m,this.renderEdges_,d),v=w,B=C*_,S=new e[0][t(531)](v*B);p.bindFramebuffer(p[t(513)],b),p[t(521)](0,0,w,C,p.RGBA,m,S);let T=y*_;for(let Q=0,M=S[t(492)];Q<M;Q+=_){const D=(v-1-(Q/B|0))*B+Q%B;A[T]=S[D],A[T+1]=S[D+1],A[T+2]=S[D+2],A[T+3]=S[D+3],T+=h}}if(G9(p),yB.push(p[t(486)]),n){const y=ln(a,o),E=new ImageData(A,a);y[t(520)](E,0,0),this[t(522)]=y.canvas}else this[t(522)]=A;this[t(488)]=[Math.round(l),Math.round(c)],this[t(526)]=de[t(474)],this[t(534)]()}[to(467)](){const t=to;if(this[t(526)]!==de[t(444)]&&this[t(526)]!==de[t(485)])return;this[t(526)]=de[t(449)],this[t(534)]();let e=0;this[t(450)]=[],this[t(487)][t(505)](({tile:n})=>{const r=t,s=n[r(484)]();if(s!==de[r(444)]&&s!==de[r(449)])return;e++;const a=yt(n,Ye[r(476)],()=>{const o=r,l=n[o(484)]();(l==de[o(474)]||l==de[o(485)]||l==de[o(515)])&&(Xt(a),e--,e===0&&(this[o(517)](),this[o(533)]()))});this[r(450)][r(479)](a)}),e===0?setTimeout(this[t(533)].bind(this),0):this[t(487)][t(505)](function({tile:n}){const r=t;n[r(484)]()==de[r(444)]&&n[r(467)]()})}[to(517)](){const t=to;this.sourcesListenerKeys_.forEach(Xt),this[t(450)]=null}}(function(i,t){const e=tg,n=i();for(;;)try{if(parseInt(e(388))/1*(parseInt(e(379))/2)+-parseInt(e(389))/3+parseInt(e(383))/4*(parseInt(e(370))/5)+parseInt(e(375))/6+-parseInt(e(386))/7*(-parseInt(e(399))/8)+-parseInt(e(407))/9*(parseInt(e(371))/10)+-parseInt(e(396))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(eg,819406);function H9(i,t,e,n){const r=tg,s=document[r(369)]("script"),a="olc_"+tt(t);function o(){const c=r;delete window[a],s.parentNode[c(400)](s)}s.async=!0,s[r(408)]=i+(i[r(384)]("?")?"&":"?")+"callback="+a;const l=setTimeout(function(){o(),e&&e()},1e4);window[a]=function(c){clearTimeout(l),o(),t(c)},document[r(387)][r(404)](s)}function eg(){const i=["head","9631xJrHzm","1010649BdlsaA","responseText","client","target","ClientError","GET","setRequestHeader","1189056NDwpTE","Accept","parse","101272qVIlVj","removeChild","://","message","status","appendChild","name","open","747uaskSR","src","ResponseError","Unexpected response status: ","href","createElement","65885HvVFSy","142570IavyOO","response","XMLHttpRequest","Error parsing response text as JSON: ","4724298EDunvZ","undefined","send","addEventListener","84jjchLI","Failed to issue request","error","application/json","20QuTNTe","includes","load","658PyLkNO"];return eg=function(){return i},eg()}function tg(i,t){const e=eg();return tg=function(n,r){return n=n-368,e[n]},tg(i,t)}function ng(){var i=["1686537lcPNzH","56XlcNjL","30NMYmSc","state","onError","597014uOxEyW","projection","loader_","extent","getFeatures","5991624XGObYn","LOADED","getFormat","url_","ERROR","load","resolution","280903tbQOuc","983083QAwqpT","setLoader","features_","138JJosPm","setFeatures","tileLoadFunction_","2479162scOOAK","50732rRJamU","3MkQhqL","185QZnYqO","setState","format_","LOADING"];return ng=function(){return i},ng()}function Jc(i,t){var e=ng();return Jc=function(n,r){n=n-234;var s=e[n];return s},Jc(i,t)}var Yr=Jc;(function(i,t){for(var e=Jc,n=i();;)try{var r=parseInt(e(264))/1+-parseInt(e(239))/2*(-parseInt(e(241))/3)+parseInt(e(240))/4*(-parseInt(e(242))/5)+parseInt(e(236))/6*(parseInt(e(263))/7)+parseInt(e(247))/8*(-parseInt(e(246))/9)+-parseInt(e(248))/10*(parseInt(e(251))/11)+-parseInt(e(256))/12;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(ng,702485);let bB=class extends Pu{constructor(t,e,n,r,s,a){var o=Jc;super(t,e,a),this[o(254)]=null,this[o(244)]=r,this.features_=null,this.loader_,this.projection=null,this.resolution,this[o(238)]=s,this[o(259)]=n,this.key=n}getTileUrl(){var t=Jc;return this[t(259)]}[Yr(258)](){return this.format_}[Yr(255)](){var t=Yr;return this[t(235)]}[Yr(261)](){var t=Yr;this[t(249)]==de.IDLE&&(this[t(243)](de[t(245)]),this[t(238)](this,this[t(259)]),this.loader_&&this[t(253)](this.extent,this[t(262)],this[t(252)]))}onLoad(t,e){this.setFeatures(t)}[Yr(250)](){var t=Yr;this[t(243)](de[t(260)])}[Yr(237)](t){var e=Yr;this[e(235)]=t,this[e(243)](de[e(257)])}[Yr(234)](t){var e=Yr;this[e(253)]=t}};function rf(i,t){const e=ig();return rf=function(n,r){return n=n-136,e[n]},rf(i,t)}const Wr=rf;function ig(){const i=["hitDetectionImageData","wrappedTileCoord","canvas","4833784mjNufY","498861AyklGe","getImage","push","3072342QZXCDA","removeSourceTiles_","bind","release","getContext","3lulaiq","errorTileKeys","length","getReplayState","14LUoPcX","context_","1708515WDZBGE","getSourceTiles","hasContext","4626868rIzxAw","load","wantedResolution","sourceTiles","loadingSourceTiles","1759250bXyydO","replayState_","179116hAjcGu"];return ig=function(){return i},ig()}(function(i,t){const e=rf,n=i();for(;;)try{if(parseInt(e(152))/1+parseInt(e(150))/2+parseInt(e(136))/3*(-parseInt(e(145))/4)+parseInt(e(142))/5+parseInt(e(160))/6*(parseInt(e(140))/7)+-parseInt(e(156))/8+-parseInt(e(157))/9===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(ig,608189);const CB=[];class q9 extends Pu{constructor(t,e,n,r,s){const a=rf;super(t,e,{transition:0}),this[a(141)]=null,this.executorGroups=[],this[a(149)]=0,this[a(153)]={},this[a(151)]={},this[a(148)]=[],this[a(137)]={},this[a(147)],this[a(143)]=r[a(162)](void 0,this),this[a(161)]=s,this[a(154)]=n}[Wr(164)](){const t=Wr;return!this.context_&&(this[t(141)]=ln(1,1,CB)),this[t(141)]}[Wr(144)](){return!!this[Wr(141)]}[Wr(158)](){const t=Wr;return this[t(144)]()?this[t(164)]()[t(155)]:null}[Wr(139)](t){const e=Wr,n=tt(t);return!(n in this[e(151)])&&(this.replayState_[n]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this[e(151)][n]}[Wr(146)](){this.getSourceTiles()}[Wr(163)](){const t=Wr;this[t(141)]&&(Tx(this.context_),CB[t(159)](this.context_[t(155)]),this[t(141)]=null),this[t(161)](this),this.sourceTiles[t(138)]=0,super.release()}}const Wi=sf;(function(i,t){const e=sf,n=i();for(;;)try{if(-parseInt(e(551))/1*(parseInt(e(537))/2)+parseInt(e(515))/3+parseInt(e(500))/4*(-parseInt(e(575))/5)+parseInt(e(505))/6+-parseInt(e(533))/7+parseInt(e(554))/8+-parseInt(e(559))/9*(-parseInt(e(511))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(rg,486533);function rg(){const i=["getTileGrid","maxResolution","tmpSize","zDirection","5724586BgnKCJ","getTilePixelSize","transition","push","4bjFjrJ","getFormat","getState","attributionsCollapsible","extent","handleTileChange","getTileCoordExtent","getTileGridForProjection","minZoom","tileUrlFunction","getOrigin","cacheSize","format","LOADING","418265IQbqeZ","getTileSize","getSourceTiles","7564032tArydT","ERROR","urls","length","onLoad","18xvXzBh","getResolutions","getTilePixelRatio","errorTileKeys","tileLoadFunction","map","forEachTileCoord","onError","some","tileClass","wrappedTileCoord","getResolution","addEventListener","getTileCoordForTileUrlFunction","getTile","setLoader","2293325cHLeOi","getExtent","overlaps","getOverlaps","bind","tileGrids_","IDLE","8DkLCwz","key","LOADED","getCode","CHANGE","3606156JvwXRA","EMPTY","wrapX","sourceTiles","projection","getKey","3179170xLSdLV","maxZoom","changed","round","2627481FjaDcI","removeSourceTiles","tileGrid","sourceTiles_","loadingSourceTiles","tileKeysBySourceTileUrl_","overlaps_","getZForResolution","getTileUrl","url","removeEventListener","format_","setState","state"];return rg=function(){return i},rg()}class RE extends Ip{constructor(t){const e=sf,n=t[e(509)]||"EPSG:3857",r=t[e(541)]||dp(n),s=t.tileGrid||CE({extent:r,maxResolution:t[e(530)],maxZoom:t[e(512)]!==void 0?t[e(512)]:22,minZoom:t[e(545)],tileSize:t.tileSize||512});super({attributions:t.attributions,attributionsCollapsible:t[e(540)],cacheSize:t[e(548)],interpolate:!0,projection:n,state:t[e(528)],tileGrid:s,tileLoadFunction:t[e(563)]?t[e(563)]:vB,tileUrlFunction:t.tileUrlFunction,url:t[e(524)],urls:t[e(556)],wrapX:t.wrapX===void 0?!0:t[e(507)],transition:t[e(535)],zDirection:t[e(532)]===void 0?1:t[e(532)]}),this.format_=t[e(549)]?t.format:null,this[e(520)]={},this[e(518)]={},this[e(521)]=t[e(577)]==null?!0:t[e(577)],this[e(568)]=t[e(568)]?t[e(568)]:bB,this[e(580)]={}}[Wi(578)](){return this[Wi(521)]}[Wi(553)](t,e,n){const r=Wi;if(n.getState()===de[r(499)]){n.setState(de[r(550)]);const s=n[r(569)],a=this[r(544)](e),o=a[r(543)](s),l=s[0],c=a[r(570)](l);Qa(o,-c,o);const x=this[r(517)],u=x[r(576)]();u&&Ei(o,u,o);const f=x[r(522)](c,this[r(532)]);x[r(565)](o,f,h=>{const A=r,p=this[A(546)](h,t,e);!this[A(518)][p]&&(this[A(518)][p]=new this[A(568)](h,p?de[A(499)]:de[A(506)],p,this[A(526)],this[A(563)]));const d=this[A(518)][p];n[A(508)][A(536)](d),!this[A(520)][p]&&(this[A(520)][p]=[]),this[A(520)][p][A(536)](n[A(510)]());const g=d[A(539)]();if(g<de[A(502)]){const m=_=>{const I=A;this[I(542)](_);const y=d[I(539)]();if(y===de.LOADED||y===de[I(555)]){const E=d.getKey();E in n[I(562)]?d[I(539)]()===de[I(502)]&&delete n[I(562)][E]:n.loadingSourceTiles--,y===de.ERROR?n.errorTileKeys[E]=!0:d[I(525)](Ye[I(504)],m),n[I(519)]===0&&n[I(527)](Da(n[I(562)])?de[I(502)]:de.ERROR)}};d[A(571)](Ye[A(504)],m),n[A(519)]++}g===de[A(499)]&&(d[A(541)]=x[A(543)](h),d[A(509)]=e,d.resolution=x[A(570)](h[0]),d.load())}),!n.loadingSourceTiles&&n[r(527)](n[r(508)][r(567)](h=>h[r(539)]()===de.ERROR)?de.ERROR:de.LOADED)}return n[r(508)]}[Wi(516)](t){const e=Wi,n=t[e(508)];for(let r=0,s=n[e(557)];r<s;++r){const a=n[r][e(523)](),o=this.getKey();if(!this.tileKeysBySourceTileUrl_[a])return;const l=this.tileKeysBySourceTileUrl_[a][o];l!==-1&&(this[e(520)][a].splice(l,1),this.tileKeysBySourceTileUrl_[a].length===0&&(delete this[e(520)][a],delete this[e(518)][a]))}}[Wi(573)](t,e,n,r,s){const a=Wi,o=[t,e,n];let l=this[a(572)](o,s);const c=this[a(529)]()[a(576)](),x=this[a(544)](s);if(l&&c){const h=x[a(543)](l);Qa(h,-x[a(570)](t),h),!gn(c,h)&&(l=null)}let u=!0;if(l!==null){const h=this[a(517)],A=x.getResolution(t),p=h[a(522)](A,1),d=x[a(543)](l);Qa(d,-A,d),h.forEachTileCoord(d,p,g=>{u=u&&!this.tileUrlFunction(g,r,s)})}const f=new q9(o,u?de[a(506)]:de[a(499)],l,this[a(553)][a(579)](this,r,s),this.removeSourceTiles[a(579)](this));return f[a(501)]=this[a(510)](),f}getTileGridForProjection(t){const e=Wi,n=t[e(503)]();let r=this[e(580)][n];if(!r){const s=this[e(517)],a=s[e(560)]().slice(),o=a[e(564)](function(x,u){return s[e(547)](u)}),l=a[e(564)](function(x,u){return s.getTileSize(u)}),c=ew+1;for(let x=a[e(557)];x<c;++x)a[e(536)](a[x-1]/2),o[e(536)](o[x-1]),l[e(536)](l[x-1]);r=new hp({extent:s[e(576)](),origins:o,resolutions:a,tileSizes:l}),this[e(580)][n]=r}return r}[Wi(561)](t){return t}[Wi(534)](t,e,n){const r=Wi,s=this.getTileGridForProjection(n),a=fi(s[r(552)](t),this[r(531)]);return[Math.round(a[0]*e),Math[r(514)](a[1]*e)]}setOverlaps(t){const e=Wi;this[e(521)]=t,this[e(513)]()}}function sf(i,t){const e=rg();return sf=function(n,r){return n=n-499,e[n]},sf(i,t)}function vB(i,t){const e=Wi;i[e(574)](function(n,r,s){const a=e;pB(t,i[a(538)](),n,r,s,i[a(558)][a(579)](i),i[a(566)][a(579)](i))})}var Y9=sg;(function(i,t){for(var e=sg,n=i();;)try{var r=parseInt(e(246))/1+-parseInt(e(244))/2+-parseInt(e(251))/3*(-parseInt(e(245))/4)+parseInt(e(254))/5*(parseInt(e(242))/6)+-parseInt(e(250))/7*(parseInt(e(253))/8)+parseInt(e(249))/9*(-parseInt(e(248))/10)+-parseInt(e(243))/11*(-parseInt(e(247))/12);if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(ag,882763);function sg(i,t){var e=ag();return sg=function(n,r){n=n-242;var s=e[n];return s},sg(i,t)}function ag(){var i=["5407633PTwvXo","9sSWUQX","preload","16uXsOrn","5465xauSsE","3594aWPJrM","22egAGJJ","1515622rGbUoD","2109244UPncYi","1427266oSHeHf","6444816PmlPMu","110CqvLaf","1270170flnTBk"];return ag=function(){return i},ag()}const no={PRELOAD:Y9(252),USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},ra=af;(function(i,t){const e=af,n=i();for(;;)try{if(parseInt(e(278))/1+parseInt(e(281))/2+-parseInt(e(275))/3+parseInt(e(286))/4+-parseInt(e(279))/5*(-parseInt(e(271))/6)+parseInt(e(285))/7*(-parseInt(e(287))/8)+parseInt(e(291))/9*(-parseInt(e(290))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(og,778637);class W9 extends n0{constructor(t){const e=af;t=t||{};const n=Object[e(276)]({},t),r=t[e(270)];delete t.cacheSize,delete n.preload,delete n[e(274)],super(n),this.on,this.once,this.un,this.cacheSize_=r,this[e(273)](t.preload!==void 0?t.preload:0),this[e(284)](t[e(274)]!==void 0?t.useInterimTilesOnError:!0)}[ra(283)](){return this[ra(272)]}getPreload(){const t=ra;return this.get(no[t(282)])}[ra(273)](t){const e=ra;this[e(280)](no[e(282)],t)}getUseInterimTilesOnError(){const t=ra;return this[t(289)](no[t(288)])}[ra(284)](t){const e=ra;this[e(280)](no[e(288)],t)}getData(t){const e=ra;return super[e(277)](t)}}function af(i,t){const e=og();return af=function(n,r){return n=n-270,e[n]},af(i,t)}function og(){const i=["get","20XBSThS","6379218zrwGXn","cacheSize","8266560uufixw","cacheSize_","setPreload","useInterimTilesOnError","2484063VFbmwf","assign","getData","950936eFdoip","5KRbAZn","set","891052zSFFYt","PRELOAD","getCacheSize","setUseInterimTilesOnError","277620LVyZwt","5918000XnOxJH","248Iuiqrc","USE_INTERIM_TILES_ON_ERROR"];return og=function(){return i},og()}const un=io;(function(i,t){const e=io,n=i();for(;;)try{if(-parseInt(e(482))/1*(-parseInt(e(511))/2)+parseInt(e(500))/3*(parseInt(e(459))/4)+-parseInt(e(472))/5*(-parseInt(e(433))/6)+parseInt(e(541))/7*(parseInt(e(447))/8)+parseInt(e(485))/9+parseInt(e(428))/10+-parseInt(e(465))/11*(parseInt(e(534))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(cg,919410);function cg(){const i=["get","frameState","set","maxStaleKeys","delete","renderedSourceRevision_","extentChanged","updateUsedTiles","time","getTileRangeForExtentAndZ","map","renderedResolution","min","zDirection","getExtent","tileCache_","renderedPixelRatio","4757220OJyYfy","endTransition","beginPath","tempTileCoord_","drawTile","3291114zdSGgY","keys","opacity","getTileCache","renderedRevision_","animate","maxX","getTilePixelRatio","tileQueue","getRenderSource","getData","renderedRevision","usedTiles","prepareContainer","744lVPpQH","nextExtent","max","lineTo","projection","minX","has","center","getResolutionForZoom","updateCacheSize","preRender","tempExtent","114332QQZDjW","renderedProjection_","sort","minY","maxY","layerStatesArray","48525939BWrvPe","EMPTY","prepareFrame","getView","findAltTiles_","getLayer","drawImage","10IJWHKg","context","getTileGridForProjection","extent","moveTo","getImageData","clip","tempTransform","cacheSize","getTileCoordExtent","1FtzNFA","renderFrame","getInterpolate","12744972wRCmQt","add","getKey","getResolution","containsKey","round","renderedProjection","clipUnrotated","renderedExtent_","highWaterMark","tileCoord","getTileImage","length","floor","restore","99etmGbh","Rendering array data is not yet supported","LOADED","getPreload","getOrCreateTile","resolution","width","getSource","renderedTiles","renderComplete","clear","2250106PFcNwp","getRenderContext","tempTileRange_","postRenderFunctions","findStaleTile_","getRevision","pixelRatio","getTilePixelSize","prependStaleKey","getMaxResolution","layerIndex","height","canvas","getImage","globalAlpha","postRender","getTileCoordForCoordAndZ","wantedTiles","viewState","enqueueTiles","getOrigin","getState","getMinZoom","12fgPBzR","getWrapX","getZForResolution","push","getTile","container","enqueue","20601KuZWsP","imageSmoothingEnabled","save","expireCache","renderedSourceKey_"];return cg=function(){return i},cg()}function TE(i,t,e,n){return i+","+r9(t,e,n)}function io(i,t){const e=cg();return io=function(n,r){return n=n-425,e[n]},io(i,t)}function DE(i,t,e){const n=io;if(!(e in i))return i[e]=new Set([t]),!0;const r=i[e],s=r[n(453)](t);return!s&&r[n(486)](t),!s}function X9(i,t,e){const n=io,r=i[e];return r?r[n(550)](t):!1}function wB(i,t){const e=io,n=i[e(464)][i[e(521)]];n[e(475)]&&(t=Ei(t,ls(n[e(475)],i[e(529)][e(451)])));const r=n.layer[e(442)]();if(!r[e(535)]()){const s=r[e(474)](i[e(529)][e(451)])[e(425)]();s&&(t=Ei(t,s))}return t}class BB extends iE{constructor(t,e){const n=io;super(t),e=e||{},this.extentChanged=!0,this[n(509)]=!1,this[n(493)]=null,this[n(427)],this[n(491)]=null,this[n(444)],this[n(508)]=[],this[n(545)],this[n(551)],this[n(458)]=ir(),this.tempTileRange_=new bE(0,0,0,0),this.tempTileCoord_=lp(0,0,0);const r=e[n(480)]!==void 0?e[n(480)]:512;this[n(426)]=new n9(r),this[n(460)]=void 0,this[n(549)]=r*.5}[un(436)](){return this.tileCache_}[un(504)](t,e,n,r){const s=un,a=this.tileCache_,o=this[s(470)](),l=o[s(507)](),c=TE(l[s(487)](),t,e,n);let x;if(a[s(489)](c))x=a[s(546)](c);else{if(x=l[s(538)](t,e,n,r[s(517)],r.viewState[s(451)]),!x)return null;a[s(548)](c,x)}return x}[un(538)](t,e,n,r){const s=this.getOrCreateTile(t,e,n,r);return s||null}[un(443)](t){const e=un,n=this[e(547)];if(!n)return null;const r=this[e(470)](),s=Dn(n.pixelToCoordinateTransform,t.slice()),a=r[e(425)]();if(a&&!No(a,s))return null;const o=n.viewState,l=r[e(442)](),c=l.getTileGridForProjection(o[e(451)]),x=l[e(440)](n[e(517)]);for(let u=c[e(536)](o[e(505)]);u>=c[e(533)]();--u){const f=c.getTileCoordForCoordAndZ(s,u),h=this.getTile(u,f[1],f[2],n);if(!h||h[e(532)]()!==de[e(502)])continue;const A=c[e(531)](u),p=fi(c.getTileSize(u)),d=c[e(488)](u);let g;if(h instanceof aB||h instanceof IE)g=h[e(524)]();else if(h instanceof SE){if(g=Yp(h[e(443)]()),!g)continue}else continue;const m=Math[e(498)](x*((s[0]-A[0])/d-f[1]*p[0])),_=Math.floor(x*((A[1]-s[1])/d-f[2]*p[1])),I=Math.round(x*l.getGutterForProjection(o.projection));return this[e(477)](g,m+I,_+I)}return null}[un(467)](t){const e=un;this[e(460)]?t[e(529)][e(451)]!==this[e(460)]&&(this[e(426)][e(510)](),this[e(460)]=t.viewState[e(451)]):this.renderedProjection_=t[e(529)][e(451)];const n=this[e(470)]()[e(507)]();if(!n)return!1;const r=n[e(516)]();return this[e(437)]?this[e(437)]!==r&&(this[e(437)]=r,this.renderedSourceKey_===n[e(487)]()&&this[e(426)][e(510)]()):this[e(437)]=r,!0}[un(530)](t,e,n,r,s){const a=un,o=t[a(529)],l=this[a(470)](),c=l.getRenderSource(),x=c[a(474)](o[a(451)]),u=tt(c);!(u in t[a(528)])&&(t[a(528)][u]={});const f=t.wantedTiles[u],h=l.getMapInternal(),A=Math.max(n-s,x[a(533)](),x.getZForResolution(Math[a(558)](l[a(520)](),h?h[a(468)]()[a(455)](Math[a(449)](l[a(533)](),0)):x[a(488)](0)),c[a(559)]));for(let p=n;p>=A;--p){const d=x[a(555)](e,p,this[a(513)]),g=x.getResolution(p);for(let m=d[a(452)];m<=d[a(439)];++m)for(let _=d[a(462)];_<=d.maxY;++_){const I=this.getTile(p,m,_,t);if(!I||!DE(r,I,p))continue;const E=I[a(487)]();if(f[E]=!0,I[a(532)]()===de.IDLE&&!t.tileQueue.isKeyQueued(E)){const b=lp(p,m,_,this[a(431)]);t[a(441)][a(540)]([I,u,x.getTileCoordCenter(b),g])}}}}[un(515)](t,e){const n=un,r=this[n(426)],s=t[0],a=t[1],o=t[2],l=this.getStaleKeys();for(let c=0;c<l.length;++c){const x=TE(l[c],s,a,o);if(r[n(489)](x)){const u=r.get(x);if(u[n(532)]()===de[n(502)])return u.endTransition(tt(this)),DE(e,u,s),!0}}return!1}[un(469)](t,e,n,r){const s=un,a=t.getTileRangeForTileCoordAndZ(e,n,this[s(513)]);if(!a)return!1;let o=!0;const l=this[s(426)],c=this[s(470)]()[s(442)](),x=c[s(487)]();for(let u=a[s(452)];u<=a[s(439)];++u)for(let f=a[s(462)];f<=a[s(463)];++f){const h=TE(x,n,u,f);let A=!1;if(l[s(489)](h)){const p=l[s(546)](h);p[s(532)]()===de.LOADED&&(DE(r,p,n),A=!0)}!A&&(o=!1)}return o}[un(483)](t,e){const n=un;this.renderComplete=!0;const r=t[n(464)][t[n(521)]],s=t.viewState,a=s[n(451)],o=s.resolution,l=s[n(454)],c=t[n(517)],x=this[n(470)](),u=x[n(507)](),f=u[n(516)](),h=u[n(474)](a),A=h.getZForResolution(o,u[n(559)]),p=h[n(488)](A),d=u.getKey();this.renderedSourceKey_?this[n(545)]!==d&&(this[n(519)](this[n(545)]),this[n(545)]=d):this[n(545)]=d;let g=t[n(475)];const m=u[n(440)](c);this[n(446)](t,e);const _=this[n(473)][n(523)][n(506)],I=this[n(473)][n(523)][n(522)],y=r[n(475)]&&ls(r[n(475)]);y&&(g=Ei(g,ls(r.extent)));const E=p*_/2/m,b=p*I/2/m,w=[l[0]-E,l[1]-b,l[0]+E,l[1]+b],C={};this[n(508)][n(497)]=0;const v=x[n(503)]();if(t[n(448)]){const P=h.getZForResolution(s.nextResolution,u[n(559)]),Z=wB(t,t[n(448)]);this[n(530)](t,Z,P,C,v)}const B=wB(t,g);if(this[n(530)](t,B,A,C,0),v>0&&setTimeout(()=>{this.enqueueTiles(t,B,A-1,C,v-1)},0),!(A in C))return this[n(539)];const S=tt(this),T=t[n(554)];for(const P of C[A]){const Z=P[n(532)]();if((P instanceof IE||P instanceof V9)&&Z===de[n(466)])continue;const ce=P[n(495)];if(Z===de[n(502)]&&P.getAlpha(S,T)===1){P[n(429)](S);continue}if(this.renderComplete=!1,this[n(515)](ce,C)){X9(C,P,A),t[n(438)]=!0;continue}if(this[n(469)](h,ce,A+1,C))continue;const j=h[n(533)]();for(let J=A-1;J>=j&&!this.findAltTiles_(h,ce,J,C);--J);}const Q=p/o*c/m,M=this.getRenderContext(t);_s(this[n(479)],_/2,I/2,Q,Q,0,-_/2,-I/2),r.extent&&this[n(492)](M,t,y),!u[n(484)]()&&(M[n(542)]=!1),this[n(457)](M,t);const D=Object[n(434)](C)[n(556)](Number);D[n(461)](us);let U;const F=[],z=[];for(let P=D[n(497)]-1;P>=0;--P){const Z=D[P],ce=u[n(518)](Z,c,a),G=h[n(488)](Z),O=G/p,j=ce[0]*O*Q,J=ce[1]*O*Q,le=h[n(527)](Nr(w),Z),he=h[n(481)](le),Ee=Dn(this[n(479)],[m*(he[0]-w[0])/p,m*(w[3]-he[3])/p]),ae=m*u.getGutterForProjection(a);for(const Se of C[Z]){if(Se[n(532)]()!==de[n(502)])continue;const ft=Se[n(495)],N=le[1]-ft[1],Lt=Math[n(490)](Ee[0]-(N-1)*j),Oe=le[2]-ft[2],Ne=Math.round(Ee[1]-(Oe-1)*J),Be=Math[n(490)](Ee[0]-N*j),Pe=Math.round(Ee[1]-Oe*J),Te=Lt-Be,k=Ne-Pe,R=D[n(497)]===1;let W=!1;U=[Be,Pe,Be+Te,Pe,Be+Te,Pe+k,Be,Pe+k];for(let se=0,ne=F.length;se<ne;++se)if(!R&&Z<z[se]){const K=F[se];gn([Be,Pe,Be+Te,Pe+k],[K[0],K[3],K[4],K[7]])&&(!W&&(M[n(543)](),W=!0),M[n(430)](),M[n(476)](U[0],U[1]),M[n(450)](U[2],U[3]),M[n(450)](U[4],U[5]),M.lineTo(U[6],U[7]),M.moveTo(K[6],K[7]),M[n(450)](K[4],K[5]),M.lineTo(K[2],K[3]),M.lineTo(K[0],K[1]),M[n(478)]())}F.push(U),z.push(Z),this[n(432)](Se,t,Be,Pe,Te,k,ae,R),W&&M[n(499)](),this[n(508)].unshift(Se),this[n(553)](t[n(445)],u,Se)}}this[n(444)]=f,this[n(557)]=p,this[n(552)]=!this[n(493)]||!qs(this[n(493)],w),this.renderedExtent_=w,this[n(427)]=c,this.renderedProjection=a,this[n(526)](this[n(473)],t),r[n(475)]&&M.restore(),M.imageSmoothingEnabled=!0;const H=(P,Z)=>{const ce=n,G=tt(u),O=Z[ce(528)][G],j=O?Object[ce(434)](O)[ce(497)]:0;this.updateCacheSize(j),this[ce(426)][ce(544)]()};return t[n(514)][n(537)](H),this[n(539)]}[un(456)](t){const e=un;this[e(426)][e(494)]=Math[e(449)](this[e(426)][e(494)],t*2)}[un(432)](t,e,n,r,s,a,o,l){const c=un;let x;if(t instanceof SE){if(x=Yp(t.getData()),!x)throw new Error(c(501))}else x=this[c(496)](t);if(!x)return;const u=this[c(512)](e),f=tt(this),h=e[c(464)][e[c(521)]],A=h.opacity*(l?t.getAlpha(f,e[c(554)]):1),p=A!==u[c(525)];p&&(u[c(543)](),u[c(525)]=A),u[c(471)](x,o,o,x[c(506)]-2*o,x.height-2*o,n,r,s,a),p&&u[c(499)](),A!==h[c(435)]?e[c(438)]=!0:l&&t[c(429)](f)}getImage(){const t=un,e=this[t(473)];return e?e[t(523)]:null}[un(496)](t){return t.getImage()}[un(553)](t,e,n){const r=un,s=tt(e);!(s in t)&&(t[s]={}),t[s][n[r(487)]()]=!0}}(function(i,t){for(var e=lg,n=i();;)try{var r=parseInt(e(471))/1*(parseInt(e(469))/2)+-parseInt(e(467))/3+parseInt(e(460))/4*(-parseInt(e(466))/5)+parseInt(e(470))/6+-parseInt(e(464))/7+-parseInt(e(465))/8*(-parseInt(e(468))/9)+-parseInt(e(462))/10*(-parseInt(e(463))/11);if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(xg,284988);function lg(i,t){var e=xg();return lg=function(n,r){n=n-460;var s=e[n];return s},lg(i,t)}class QE extends W9{constructor(t){super(t)}createRenderer(){var t=lg;return new BB(this,{cacheSize:this[t(461)]()})}}function xg(){var i=["2097385iwRsUB","528120fADucV","16164GOXJSJ","152852Pfvsah","2275560RYWNHC","3rnoXMz","4SaXCry","getCacheSize","1237510OTpmTO","33iSsTxq","1361318fEFaHV","424gIjTSS"];return xg=function(){return i},xg()}const yn=of;(function(i,t){const e=of,n=i();for(;;)try{if(-parseInt(e(328))/1*(parseInt(e(324))/2)+parseInt(e(335))/3+parseInt(e(337))/4+-parseInt(e(349))/5+parseInt(e(327))/6*(-parseInt(e(344))/7)+parseInt(e(342))/8+parseInt(e(346))/9===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(ug,598055);function ug(){const i=["clear","length","getRightChildIndex_","isEmpty","queuedElements_","siftUp_","1859526glcEoX","priorities_","238540Ayncga","elements_","dequeue","priorityFunction_","getParentIndex_","6738160eliWNX","siftDown_","14EQXdrL","enqueue","4488453aESHxF","heapify_","isKeyQueued","3024220JSEggP","push","getCount","getLeftChildIndex_","10vlVNlO","keyFunction_","pop","2432910jtRVer","1319ccyLJN"];return ug=function(){return i},ug()}function of(i,t){const e=ug();return of=function(n,r){return n=n-322,e[n]},of(i,t)}const fg=1/0;class K9{constructor(t,e){const n=of;this[n(340)]=t,this.keyFunction_=e,this[n(338)]=[],this[n(336)]=[],this[n(333)]={}}[yn(329)](){const t=yn;this[t(338)][t(330)]=0,this[t(336)][t(330)]=0,Ex(this[t(333)])}[yn(339)](){const t=yn,e=this[t(338)],n=this[t(336)],r=e[0];e[t(330)]==1?(e[t(330)]=0,n[t(330)]=0):(e[0]=e[t(326)](),n[0]=n[t(326)](),this[t(334)](0));const s=this[t(325)](r);return delete this[t(333)][s],r}[yn(345)](t){const e=yn;Mt(!(this[e(325)](t)in this[e(333)]),"Tried to enqueue an `element` that was already added to the queue");const n=this[e(340)](t);return n!=fg?(this[e(338)].push(t),this.priorities_[e(350)](n),this[e(333)][this.keyFunction_(t)]=!0,this[e(343)](0,this[e(338)][e(330)]-1),!0):!1}[yn(322)](){const t=yn;return this[t(338)][t(330)]}[yn(323)](t){return t*2+1}[yn(331)](t){return t*2+2}[yn(341)](t){return t-1>>1}[yn(347)](){const t=yn;let e;for(e=(this.elements_[t(330)]>>1)-1;e>=0;e--)this[t(334)](e)}[yn(332)](){const t=yn;return this[t(338)][t(330)]===0}[yn(348)](t){return t in this[yn(333)]}isQueued(t){const e=yn;return this[e(348)](this[e(325)](t))}[yn(334)](t){const e=yn,n=this[e(338)],r=this[e(336)],s=n[e(330)],a=n[t],o=r[t],l=t;for(;t<s>>1;){const c=this[e(323)](t),x=this[e(331)](t),u=x<s&&r[x]<r[c]?x:c;n[t]=n[u],r[t]=r[u],t=u}n[t]=a,r[t]=o,this[e(343)](l,t)}siftDown_(t,e){const n=yn,r=this[n(338)],s=this.priorities_,a=r[e],o=s[e];for(;e>t;){const l=this[n(341)](e);if(s[l]>o)r[e]=r[l],s[e]=s[l],e=l;else break}r[e]=a,s[e]=o}reprioritize(){const t=yn,e=this[t(340)],n=this[t(338)],r=this[t(336)];let s=0;const a=n[t(330)];let o,l,c;for(l=0;l<a;++l)o=n[l],c=e(o),c==fg?delete this.queuedElements_[this[t(325)](o)]:(r[s]=c,n[s++]=o);n[t(330)]=s,r.length=s,this[t(347)]()}}function hg(){const i=["126rktobo","tilesLoading_","viewState","bind","156570NQRqUw","apply","dequeue","ERROR","30645640VTsSEC","load","943812xlkOGB","handleTileChange","boundHandleTileChange_","wantedTiles","LOADED","CHANGE","center","getTilesLoading","getKey","tileChangeCallback_","tilesLoadingKeys_","7XamnsL","251AlpBmc","2840964NOurnq","12900008wALQFz","getCount","log","2824IRJiND","enqueue","addEventListener","EMPTY","getState","2934981YXGKvx","sqrt"];return hg=function(){return i},hg()}const cf=u0;(function(i,t){const e=u0,n=i();for(;;)try{if(-parseInt(e(388))/1*(parseInt(e(393))/2)+-parseInt(e(389))/3+-parseInt(e(410))/4+-parseInt(e(404))/5*(-parseInt(e(400))/6)+-parseInt(e(387))/7*(parseInt(e(390))/8)+parseInt(e(398))/9+parseInt(e(408))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(hg,898413);class SB extends K9{constructor(t,e){const n=u0;super(function(r){return t[u0(405)](null,r)},function(r){return r[0].getKey()}),this[n(412)]=this[n(411)][n(403)](this),this[n(385)]=e,this.tilesLoading_=0,this[n(386)]={}}enqueue(t){const e=u0,n=super[e(394)](t);return n&&t[0][e(395)](Ye[e(415)],this.boundHandleTileChange_),n}[cf(383)](){return this.tilesLoading_}[cf(411)](t){const e=cf,n=t.target,r=n[e(397)]();if(r===de[e(414)]||r===de[e(407)]||r===de[e(396)]){r!==de[e(407)]&&n.removeEventListener(Ye.CHANGE,this.boundHandleTileChange_);const s=n[e(384)]();s in this.tilesLoadingKeys_&&(delete this[e(386)][s],--this.tilesLoading_),this[e(385)]()}}loadMoreTiles(t,e){const n=cf;let r=0;for(;this[n(401)]<t&&r<e&&this[n(391)]()>0;){const s=this[n(406)]()[0],a=s[n(384)]();s[n(397)]()===de.IDLE&&!(a in this[n(386)])&&(this[n(386)][a]=!0,++this[n(401)],++r,s[n(409)]())}}}function u0(i,t){const e=hg();return u0=function(n,r){return n=n-382,e[n]},u0(i,t)}function J9(i,t,e,n,r){const s=cf;if(!i||!(e in i.wantedTiles)||!i[s(413)][e][t.getKey()])return fg;const a=i[s(402)][s(382)],o=n[0]-a[0],l=n[1]-a[1];return 65536*Math[s(392)](r)+Math[s(399)](o*o+l*l)/r}const St=ro;(function(i,t){const e=ro,n=i();for(;;)try{if(parseInt(e(546))/1+parseInt(e(493))/2+-parseInt(e(533))/3*(parseInt(e(543))/4)+parseInt(e(472))/5+parseInt(e(443))/6+-parseInt(e(481))/7+-parseInt(e(542))/8===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ag,382454);function MB(i){return function(t){const e=ro,n=t[e(440)],r=t[e(503)],s=t.imageOps,a=t[e(522)],o=t[e(491)],l=n[e(526)],c=n[0][e(532)];if(s){const h=new Array(l);for(let p=0;p<l;++p)h[p]=new ImageData(new Uint8ClampedArray(n[p]),a,o);return i(h,r)[e(460)][e(436)]}const x=new Uint8ClampedArray(c),u=new Array(l),f=new Array(l);for(let h=0;h<l;++h)u[h]=new Uint8ClampedArray(n[h]),f[h]=[0,0,0,0];for(let h=0;h<c;h+=4){for(let p=0;p<l;++p){const d=u[p];f[p][0]=d[h],f[p][1]=d[h+1],f[p][2]=d[h+2],f[p][3]=d[h+3]}const A=i(f,r);x[h]=A[0],x[h+1]=A[1],x[h+2]=A[2],x[h+3]=A[3]}return x[e(436)]}}function j9(i,t){const e=ro,n=Object.keys(i[e(502)]||{}).map(function(a){const o=e;return o(475)+a+o(499)+i[o(502)][a][o(519)]()+";"}),r=n.concat([e(551)+MB.toString()+")(",i[e(535)][e(519)](),");",'self.addEventListener("message", function(event) {',e(531),e(458),e(529)]),s=new Worker(typeof Blob===e(495)?e(534)+Buffer[e(517)](r[e(432)](`
`),e(528)).toString("base64"):URL[e(550)](new Blob(r,{type:e(469)})));return s[e(500)]("message",t),s}function Ag(){const i=["viewState","imageOps","onWorkerComplete_","buffer","tileQueue_","resolutions","getAttributions","buffers","processor_","set","1039710WuIBSZ","postMessage","disposeInternal","map","beforeoperations","useResolutions_","center","renderedRevision_","string","BEFOREOPERATIONS","dispatchEvent","processSources_","layerIndex","imageOps_","frameState_","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","firstElementChild","data","ceil","renderedImageCanvas_","animate","projection","pixelRatio","bind","getImage","putImageData","text/javascript","getResolutions","updateFrameState_","485360sWHcYG","sources","Unsupported rendered element: ","const ","Unsupported layer type: ","prototype","disposed","job_","shift","2182943McUTZT","changed","running_","CHANGE","setAttributions","pixel","renderFrame","workers_","round","renderTargets","height","queue_","1362978HBLBLE","getRenderer","undefined","inputs","layers_","slice"," = ","addEventListener","extent","lib","meta","process","getResolution","operationType","getSource","getLayerState","dispose","AFTEROPERATIONS","onWorkerMessage_","threads_","threads","now","requestedFrameState_","once","from","setOperation","toString","resolution","queue","width","size","getImageData","dispatch_","length","terminate","binary","});","getRevision","  const buffer = __minion__(event.data);","byteLength","780hwXPkk","data:text/javascript;base64,","operation","allSourcesReady_","image","resolveJob_","loadMoreTiles","push","enqueue_","3064488PDpbac","5224lSdmNH","time","callback","465078axiJLx","dataLookup_","prepareFrame","canvas","createObjectURL","const __minion__ = (","assign","getContext","join"];return Ag=function(){return i},Ag()}function Z9(i,t){const e=MB(i.operation);let n=!1;return{postMessage:function(r){setTimeout(function(){const s=ro;n||t({data:{buffer:e(r),meta:r[s(503)]}})},0)},terminate:function(){n=!0}}}function ro(i,t){const e=Ag();return ro=function(n,r){return n=n-430,e[n]},ro(i,t)}class $9 extends Qx{constructor(t){const e=ro;super(),this[e(456)]=!!t[e(434)];let n;t.threads===0?n=0:this[e(456)]?n=1:n=t.threads||1;const r=new Array(n);if(n)for(let s=0;s<n;++s)r[s]=j9(t,this[e(511)][e(466)](this,s));else r[0]=Z9(t,this.onWorkerMessage_[e(466)](this,0));this[e(488)]=r,this[e(492)]=[],this.maxQueueLength_=t[e(521)]||1/0,this.running_=0,this[e(547)]={},this[e(479)]=null}[St(504)](t,e,n){const r=St;this[r(541)]({inputs:t,meta:e,callback:n}),this[r(525)]()}[St(541)](t){const e=St;for(this[e(492)][e(540)](t);this[e(492)][e(526)]>this.maxQueueLength_;)this[e(492)][e(480)]()[e(545)](null,null)}[St(525)](){const t=St;if(this[t(483)]||this[t(492)][t(526)]===0)return;const e=this.queue_[t(480)]();this[t(479)]=e;const n=e[t(496)][0][t(522)],r=e[t(496)][0][t(491)],s=e[t(496)][t(446)](function(c){const x=t;return c[x(460)][x(436)]}),a=this[t(488)][t(526)];if(this[t(483)]=a,a===1){this.workers_[0].postMessage({buffers:s,meta:e[t(503)],imageOps:this[t(456)],width:n,height:r},s);return}const o=e[t(496)][0][t(460)][t(526)],l=4*Math.ceil(o/4/a);for(let c=0;c<a;++c){const x=c*l,u=[];for(let f=0,h=s[t(526)];f<h;++f)u[t(540)](s[f][t(498)](x,x+l));this[t(488)][c][t(444)]({buffers:u,meta:e.meta,imageOps:this[t(456)],width:n,height:r},u)}}[St(511)](t,e){const n=St;this[n(478)]||(this[n(547)][t]=e[n(460)],--this[n(483)],this.running_===0&&this[n(538)]())}resolveJob_(){const t=St,e=this[t(479)],n=this[t(488)].length;let r,s;if(n===1)r=new Uint8ClampedArray(this.dataLookup_[0][t(436)]),s=this[t(547)][0][t(503)];else{const a=e[t(496)][0][t(460)][t(526)];r=new Uint8ClampedArray(a),s=new Array(n);const o=4*Math[t(461)](a/4/n);for(let l=0;l<n;++l){const c=this[t(547)][l][t(436)],x=l*o;r[t(442)](new Uint8ClampedArray(c),x),s[l]=this[t(547)][l][t(503)]}}this[t(479)]=null,this[t(547)]={},e.callback(null,new ImageData(r,e[t(496)][0].width,e[t(496)][0].height),s),this[t(525)]()}[St(445)](){const t=St;for(let e=0;e<this[t(488)][t(526)];++e)this.workers_[e][t(527)]();this[t(488)][t(526)]=0}}const RB={BEFOREOPERATIONS:St(447),AFTEROPERATIONS:"afteroperations"};class TB extends yr{constructor(t,e,n){const r=St;super(t),this[r(501)]=e[r(501)],this[r(520)]=e[r(433)][r(520)]/e[r(465)],this[r(460)]=n}}class DB extends QI{constructor(t){const e=St;super({projection:null}),this.on,this[e(516)],this.un,this[e(441)]=null,this.operationType_=t[e(506)]!==void 0?t[e(506)]:e(486),this[e(512)]=t[e(513)]!==void 0?t.threads:1,this[e(497)]=n7(t[e(473)]);const n=this[e(482)][e(466)](this);for(let r=0,s=this.layers_[e(526)];r<s;++r)this[e(497)][r][e(500)](Ye[e(484)],n);this[e(448)]=t[e(438)]!==null,this.tileQueue_=new SB(function(){return 1},this[e(454)][e(466)](this)),this[e(515)],this[e(462)]=null,this[e(450)],this[e(457)]={animate:!1,coordinateToPixelTransform:ki(),declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:t7(this.layers_),pixelRatio:1,pixelToCoordinateTransform:ki(),postRenderFunctions:[],size:[0,0],tileQueue:this[e(437)],time:Date[e(514)](),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:tt(this),renderTargets:{}},this[e(485)](function(r){var o;const s=e,a=[];for(let l=0,c=t.sources[s(526)];l<c;++l){const x=t[s(473)][l],u=x instanceof gc?x:x[s(507)]();if(!u)continue;const f=(o=u[s(439)]())==null?void 0:o(r);typeof f===s(451)?a[s(540)](f):f!==void 0&&a[s(540)](...f)}return a}),t[e(535)]!==void 0&&this.setOperation(t[e(535)],t[e(502)])}[St(518)](t,e){const n=St;this[n(441)]&&this[n(441)][n(509)](),this[n(441)]=new $9({operation:t,imageOps:this.operationType_===n(537),queue:1,lib:e,threads:this[n(512)]}),this[n(482)]()}[St(471)](t,e,n){const r=St,s=Object[r(430)]({},this[r(457)]);s.viewState=Object[r(430)]({},s[r(433)]);const a=Er(t);s.size[0]=Math.ceil(lt(t)/e),s.size[1]=Math[r(461)](rn(t)/e),s.extent=[a[0]-s[r(523)][0]*e/2,a[1]-s.size[1]*e/2,a[0]+s.size[0]*e/2,a[1]+s[r(523)][1]*e/2],s[r(544)]=Date[r(514)]();const o=s[r(433)];return o[r(449)]=a,o[r(464)]=n,o[r(520)]=e,s}[St(536)](){const t=St;let e=!0,n;for(let r=0,s=this.layers_[t(526)];r<s;++r)if(n=this.layers_[r].getSource(),!n||n.getState()!=="ready"){e=!1;break}return e}[St(467)](t,e,n,r){const s=St;if(!this[s(536)]())return null;this[s(437)][s(539)](16,16),e=this.findNearestResolution(e);const a=this[s(471)](t,e,r);if(this[s(515)]=a,this[s(462)]){const o=this[s(462)][s(505)](),l=this[s(462)].getExtent();(e!==o||!qs(a[s(501)],l))&&(this[s(462)]=null)}return(!this.renderedImageCanvas_||this[s(530)]()!==this[s(450)])&&this[s(454)](),a.animate&&requestAnimationFrame(this[s(482)][s(466)](this)),this[s(462)]}[St(454)](){const t=St,e=this[t(515)],n=this[t(497)][t(526)],r=new Array(n);for(let a=0;a<n;++a){e[t(455)]=a,e[t(490)]={};const o=e7(this[t(497)][a],e);if(o)r[a]=o;else return}const s={};this[t(453)](new TB(RB[t(452)],e,s)),this[t(441)][t(504)](r,s,this[t(435)].bind(this,e))}[St(435)](t,e,n,r){const s=St;if(e||!n)return;const a=t[s(501)],o=t[s(433)][s(520)];if(o!==this.requestedFrameState_[s(433)].resolution||!qs(a,this[s(515)][s(501)]))return;let l;if(this[s(462)])l=this[s(462)][s(467)]()[s(431)]("2d");else{const c=Math.round(lt(a)/o),x=Math[s(489)](rn(a)/o);l=ln(c,x),this[s(462)]=new O3(a,o,1,l.canvas)}l[s(468)](n,0,0),t[s(463)]?requestAnimationFrame(this.changed[s(466)](this)):this[s(482)](),this[s(450)]=this[s(530)](),this[s(453)](new TB(RB[s(510)],t,r))}[St(470)](t){const e=St;if(!this[e(448)])return null;let n=super[e(470)]();if(!n)for(let r=0,s=this[e(497)][e(526)];r<s&&(n=this.layers_[r][e(507)]()[e(470)](t),!n);++r);return n}disposeInternal(){const t=St;this[t(441)]&&this[t(441)][t(509)](),super[t(445)]()}}DB[St(477)][St(509)];let f0=null;function e7(i,t){const e=St,n=i[e(494)]();if(!n)throw new Error(e(476)+i);if(!n[e(548)](t))return null;const r=t[e(523)][0],s=t[e(523)][1];if(r===0||s===0)return null;const a=n[e(487)](t,null);let o;if(a instanceof HTMLCanvasElement)o=a;else{if(a&&(o=a[e(459)]),!(o instanceof HTMLCanvasElement))throw new Error(e(474)+o);if(o.width===r&&o.height===s)return o.getContext("2d").getImageData(0,0,r,s)}if(!f0)f0=ln(r,s,void 0,{willReadFrequently:!0});else{const l=f0[e(549)];l[e(522)]!==r||l.height!==s?f0=ln(r,s,void 0,{willReadFrequently:!0}):f0.clearRect(0,0,r,s)}return f0.drawImage(o,0,0,r,s),f0[e(524)](0,0,r,s)}function t7(i){const t=St;return i[t(446)](function(e){return e[t(508)]()})}function n7(i){const t=St,e=i[t(526)],n=new Array(e);for(let r=0;r<e;++r)n[r]=i7(i[r]);return n}function i7(i){let t;return i instanceof gc?i instanceof lB?t=new QE({source:i}):i instanceof QI&&(t=new i1({source:i})):t=i,t}const jc=Zc;(function(i,t){const e=Zc,n=i();for(;;)try{if(parseInt(e(267))/1*(parseInt(e(283))/2)+-parseInt(e(242))/3*(-parseInt(e(254))/4)+-parseInt(e(274))/5*(-parseInt(e(282))/6)+-parseInt(e(251))/7*(-parseInt(e(276))/8)+parseInt(e(241))/9+parseInt(e(249))/10*(parseInt(e(266))/11)+-parseInt(e(253))/12===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(dg,666452);function Zc(i,t){const e=dg();return Zc=function(n,r){return n=n-240,e[n]},Zc(i,t)}function dg(){const i=["send","tileLoadFunction","load","addEventListener","setState","reprojectionErrorThreshold","loading","handleTileJSONError","11011MaqfPL","80390EqSvYM","tiles","bind","bounds","EPSG:4326","tileJSON_","GET","6611855ObOZoo","status","16KWAYBi","attributions","Either `url` or `tileJSON` options must be provided","attribution","url","onXHRError_","6UbnhCl","6AatYoO","wrapX","minzoom","handleTileJSONResponse","getAttributions","crossOrigin","11003508UQEria","3PkoKPS","onXHRLoad_","transition","getProjection","open","error","tileGrid","4580cBTKLg","tileSize_","3091151QLdmml","tileJSON","52220988opnLYW","3561616KnwzPq","interpolate","cacheSize","parse"];return dg=function(){return i},dg()}class QB extends _9{constructor(t){const e=Zc;if(super({attributions:t[e(277)],cacheSize:t[e(256)],crossOrigin:t[e(240)],interpolate:t[e(255)],projection:Wt("EPSG:3857"),reprojectionErrorThreshold:t[e(263)],state:e(264),tileLoadFunction:t[e(259)],wrapX:t[e(284)]!==void 0?t[e(284)]:!0,transition:t[e(244)],zDirection:t.zDirection}),this.tileJSON_=null,this[e(250)]=t.tileSize,t[e(280)])if(t.jsonp)H9(t[e(280)],this.handleTileJSONResponse[e(269)](this),this[e(265)][e(269)](this));else{const n=new XMLHttpRequest;n[e(261)](e(260),this[e(243)].bind(this)),n.addEventListener(e(247),this[e(281)][e(269)](this)),n[e(246)](e(273),t[e(280)]),n[e(258)]()}else if(t[e(252)])this[e(286)](t[e(252)]);else throw new Error(e(278))}onXHRLoad_(t){const e=Zc,n=t.target;if(!n[e(275)]||n.status>=200&&n.status<300){let r;try{r=JSON[e(257)](n.responseText)}catch{this[e(265)]();return}this[e(286)](r)}else this[e(265)]()}[jc(281)](t){this[jc(265)]()}getTileJSON(){return this[jc(272)]}handleTileJSONResponse(t){const e=jc,n=Wt(e(271)),r=this[e(245)]();let s;if(t[e(270)]!==void 0){const x=Cx(n,r);s=u3(t[e(270)],x)}const a=dp(r),o=t[e(285)]||0,l=t.maxzoom||22,c=CE({extent:a,maxZoom:l,minZoom:o,tileSize:this[e(250)]});if(this[e(248)]=c,this.tileUrlFunction=uB(t[e(268)],c),t[e(279)]&&!this[e(287)]()){const x=s!==void 0?s:a;this.setAttributions(function(u){const f=e;return gn(x,u.extent)?[t[f(279)]]:null})}this[e(272)]=t,this.setState("ready")}[jc(265)](){this[jc(262)]("error")}}function LB(i,t,e,n,r,s,a){if(e>=t[0]&&e<=t[2]&&n<=t[1]&&n>=t[3]){var o;e<0?o=FB(Math.abs(t[2]+e),360)/s:o=FB(Math.abs(e-t[0]),360)/s,o=Math.abs(e-t[0])/s;var l=(t[1]-n)/a,c=Math.floor(o),x=c+1,u=Math.floor(l),f=u+1,h;if(h=r[u]){var A=h[c],p=h[x];if(p==null&&(p=h[c]),so(A)&&so(p)&&(h=r[f])){var d=h[c],g=h[x];if(g==null&&(g=h[c]),i==1){if(so(d)&&so(g))return LE(o-c,l-u,A,p,d,g)}else if(i==2){let m=A.speed,_=p.speed,I=d.speed,y=g.speed,E,b;so(I)&&so(y)&&(E=LE(o-c,l-u,m,_,I,y));let w=A.direction,C=p.direction,v=d.direction,B=g.direction;return so(v)&&so(B)&&(b=LE(o-c,l-u,w,C,v,B)),{direction:b,speed:E}}}}return null}return null}function FB(i,t){var e=i-t*Math.floor(i/t);return e===t?0:e}function so(i){return i!=null}function LE(i,t,e,n,r,s){var a=1-i,o=1-t;return e*a*o+n*i*o+r*a*t+s*i*t}function r7(i,t,e,n){let r=null;return r=s7(i,t,e,n),r}function s7(i,t,e,n){t.dx,t.dy;let r=t.nx,s=t.ny,a=[],o=0;if(e==1){const c=i[0];for(let x=0;x<s;x++){var l=[];for(let u=0;u<r;u++,o++)l[u]=o7(c[o],n,e);a[x]=l}return a}else if(e==2){const c=i[0],x=i[1];for(let u=0;u<s;u++){var l=[];for(let h=0;h<r;h++,o++)l[h]=a7(c[o],x[o],n);a[u]=l}return a}return a}function kB(i,t,e,n,r,s){let a=Math.max(i[0],t[0]),o=Math.max(i[1],t[1]),l=Math.min(i[2],t[2]),c=Math.min(i[3],t[3]);return e.la1=c,e.la2=o,e.lo1=a,e.lo2=l,r7(n,e,r,s)}function PB(i,t){return i==t.nodata}function a7(i,t,e,n){let r={};if(PB(i,e))return e.nodata;{const s=i/e.scale+e.offset,a=t/e.scale+e.offset,o=Math.sqrt(s*s+a*a);let l=270-Math.atan2(a,s)*180/Math.PI;return l>=360&&(l=l-360),r.speed=o,r.direction=l.toString(),r}}function o7(i,t,e){if(e==1){if(PB(i,t))return t;{let n=0;return n=i,n}}}const c7={Circle:Sc,Fill:Ni,Icon:r0,Image:Bx,IconImage:T3,RegularShape:fc,Stroke:yi,Style:Bt,Text:_u,cme_style_FontSymbol:ms};function vi(i){if(!i||typeof i!="object")return i;const t={};for(const e of Object.keys(i)){const n=c7[e];if(n)return new n(vi(i[e]));Array.isArray(i[e])?t[e]=i[e]:t[e]=vi(i[e])}return t}var l7=class extends kc{constructor(t,e){super(e),this.map=t,this.options=e,this.canvas=null,this.gl=null,this.setOpacity(0),this.setProperties(e),this.loadData=!1,this.worldExtent=null}_render(){return new Promise((t,e)=>{t(!0)})}drawGridNumber(t){t==null||t.length==0||this.setDataToLayer(t)}setDataToLayer(t){this.worldExtent=this.map.getView().calculateExtent(this.map.getSize()),this.rasterDatas=t;let e=[],n=[],r=[],s=[],a=[],o=[],l=[];t.forEach(v=>{e.push(v.params.bbox),n.push(v.params.viewBBox),r.push(v.params.interpolationParams),s.push(v.params.bandsNumber),a.push(v.params.metadata),o.push(kB(v.params.bbox,v.params.viewBBox,v.params.interpolationParams,v,v.params.bandsNumber,v.params.metadata)),l.push(v.params.project)});const c=this.options,{distance:x,fixedPixel:u,layer:f,showTextRange:h,precision:A}=c,p=A||0;let d=this.map.getView().getProjection().getCode(),g=l[0];var m=e[0];g!=d&&(d=="EPSG:3857"&&(e[0][1]<-85.05112877980659&&(e[0][1]=-85.05112877980659),e[0][3]>85.05112877980659&&(e[0][3]=85.05112877980659)),m=iI(e[0],g,d));let _=+x||80;const[I,y,E]=rB(this.map,this.worldExtent,m,window.innerWidth,window.innerHeight,_);let b,w=[],C;for(let v=0;v<I.length;v++)for(let B=0;B<o.length;B++){let S=this.map.getCoordinateFromPixel(I[v]),T=this._getData(S,r[B],s[B],o[B]);if(T!=null){C=new Js(S),b=new Gc(C);let Q="";if(s[B]==2?(Q=(T.speed/a[B].scale).toFixed(p).toString(),Q=(T.speed/a[B].scale).toFixed(p).toString()):s[B]==1&&this.isValue(T,s[B])&&(Q=(T/a[B].scale).toFixed(p).toString()),!this.getRange(Q))break;this.addFeaturesStyle(Q,b),w.push(b)}}this.addFeaturesToLayer(w),this.loadData=!1}getRange(t){return this.options.range?t<=(this.options.range.max||99999999)&&t>=(this.options.range.min||-99999999):!0}updateStyle(t){this.options.range=t.range,this.setDataToLayer(this.rasterDatas)}isValue(t,e){if(e==1)return t!=null&&!isNaN(t);if(e==2)if(t!=null&&!isNaN(t)){let n=t.speed;return n!=null&&!isNaN(n)}else return!1}addFeaturesStyle(t,e){let n=null;if(this.options.textStyle)n=vi(this.options.textStyle),n.getText().setText(t.toString()),e.setStyle(n);else{let r={Style:{text:{Text:{text:t.toString(),font:"20px Calibri,sans-serif",fill:{Fill:{color:"#000000"}},stroke:{Stroke:{color:"#ffffff",width:4}}}}}};n=vi(r),e.setStyle(n)}}addFeaturesToLayer(t){if(t.length>0){if(this.getSource())this.getSource().clear();else{let e=new Wc({wrapX:!1});this.setSource(e)}t.length>0&&(this.getSource().addFeatures(t),this.setOpacity(1))}}_setSource(t){}_setStyle(t){}_remove(){}_getData(t,e,n,r){let s=nc(this.map,t),a=[e.lo1,e.la1,e.lo2,e.la2];s[0],s[1];let o=[s[0],s[1]];return o[0]%360<-180?o[0]=360+o[0]%360:o[0]=o[0]%360,o[0]>180&&(o[0]=o[0]-360),LB(n,a,o[0],o[1],r,e.dx,e.dy)}};function x7(i){return JSON.parse(JSON.stringify(i))}class $c{constructor(){this._style={},this.isDestoryed=!1}parse(){return new Bt}serialize(){return x7(this._style)}setStyle(t){this._style=t}setColor(t){this._color=t}destory(){this._style={},this.isDestoryed=!0}}const u7={TWO_PI:Math.PI*2,HALF_PI:Math.PI/2,FITTING_COUNT:100,ZERO_TOLERANCE:1e-4,HELPER_HIDDEN_DIV:"p-helper-hidden-div",HELPER_CONTROL_POINT_DIV:"p-helper-control-point-div",HELPER_shizi:"mybkkd",SE_DISABLED:"se_disabled"};function lf(i,t){let e=t[0]-i[0],n=t[1]-i[1];return Math.sqrt(e*e+n*n)}function pg(i,t){return[(i[0]+t[0])/2,(i[1]+t[1])/2]}function Xi(i,t){return Math.atan2(t[1]-i[1],t[0]-i[0])}function f7(i,t){const e=Math.asin(Math.abs(t[1]-i[1])/lf(i,t));let n;return t[1]>=i[1]&&t[0]>=i[0]?n=e+Math.PI:t[1]>=i[1]&&t[0]<i[0]?n=u7.TWO_PI-e:t[1]<i[1]&&t[0]<i[0]?n=e:t[1]<i[1]&&t[0]>=i[0]&&(n=Math.PI-e),n}function h7(i,t,e){return[t[0]+i*(e[0]-t[0]),t[1]+i*(e[1]-t[1])]}function sa(i,t,e){let n=lf(i,t),r=e/n;return h7(r,i,t)}function el(i,t){let e=0,n=i[0],r=[n];for(let s=1;s<i.length;s++){const a=i[s];let o=e+lf(n,a),l=t-e;for(;o>=t;){let c=sa(n,a,l);r.push(c),l=t,o-=t,n=c}e=o,n=a}return r.push(n),r}function gg(i,t,e=10){if(!Array.isArray(i)||!t)return null;const n=[];let r=t/2;return i.forEach((s,a)=>{if(!a)return;const o=i[a-1];let l=Xi(s,o);const c=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)),x=r+c;if(x<t)r=x;else if(x===t){a!==i.length-1&&(l=(Math.PI-Xi(i[a+1],s))/2);const{prevs:f,nexts:h}=UB(s,i,a,e/2);n.push({point:s,angle:l,prevs:f,nexts:h}),r=0}else{const u=t-r;let f=c-u,h,A;for(;f>0;){const p=f/c;h=s[0]-(s[0]-o[0])*p,A=s[1]-(s[1]-o[1])*p;const{prevs:d,nexts:g}=UB([h,A],i,a,e/2);n.push({point:[h,A],angle:l,prevs:d,nexts:g}),f-=t}r=Math.sqrt(Math.pow(s[0]-h,2)+Math.pow(s[1]-A,2))}}),n}function UB(i,t,e,n){const r=[],s=[];let a=i,o=0,l=0,c=0;for(let x=e;x>0;x--){if(c=lf(t[x-1],a),o+c<=n)r.push(t[x-1]),o+=c;else{c=n-o;const u=sa(a,t[x-1],c);r.push(u);break}a=t[x-1]}a=i;for(let x=e;x<t.length;x++){if(c=lf(a,t[x]),l+c<=n)s.push(t[x]),l+=c;else{c=n-l;const u=sa(a,t[x],c);s.push(u);break}a=t[x]}return{prevs:r.reverse(),nexts:s}}function FE(i,t,e,n,r){const s=f7(i,t),a=r?s+e:s-e,o=n*Math.cos(a),l=n*Math.sin(a);return[t[0]+o,t[1]+l]}const wi=xf;(function(i,t){const e=xf,n=i();for(;;)try{if(-parseInt(e(221))/1+-parseInt(e(222))/2+-parseInt(e(250))/3*(parseInt(e(226))/4)+parseInt(e(240))/5*(parseInt(e(257))/6)+-parseInt(e(239))/7*(-parseInt(e(241))/8)+-parseInt(e(214))/9+-parseInt(e(208))/10*(-parseInt(e(225))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(_g,488291);class NB{constructor(){const t=xf;this[t(242)]=void 0,this.defaultFeatureProjection=void 0,this[t(229)]=Gc,this[t(216)]=null}[wi(227)](t,e){const n=wi;if(e){let r=e[n(242)]?Wt(e[n(242)]):this[n(233)](t);e.extent&&r&&r[n(218)]()===n(213)&&(r=Wt(r),r[n(211)](e[n(256)])),e={dataProjection:r,featureProjection:e[n(236)]}}return this[n(237)](e)}[wi(237)](t){const e=wi;return Object[e(247)]({dataProjection:this[e(242)],featureProjection:this[e(238)],featureClass:this[e(229)]},t)}getType(){return Je()}[wi(215)](t,e){return Je()}[wi(232)](t,e){return Je()}[wi(249)](t,e){return Je()}[wi(233)](t){return Je()}[wi(231)](t,e){return Je()}[wi(248)](t,e){return Je()}[wi(243)](t,e){return Je()}}function xf(i,t){const e=_g();return xf=function(n,r){return n=n-208,e[n]},xf(i,t)}function mg(i,t,e){const n=wi,r=e?Wt(e.featureProjection):null,s=e?Wt(e[n(242)]):null;let a=i;if(r&&s&&!Vo(r,s)){t&&(a=i[n(258)]());const o=t?r:s,l=t?s:r;o[n(218)]()===n(213)?a[n(224)](o,l):a[n(219)](tc(o,l))}if(t&&e&&e[n(228)]!==void 0){const o=Math[n(244)](10,e[n(228)]),l=function(c){const x=n;for(let u=0,f=c[x(251)];u<f;++u)c[u]=Math[x(254)](c[u]*o)/o;return c};a===i&&(a=i[n(258)]()),a[n(219)](l)}return a}function _g(){const i=["featureClass","slice","writeFeature","readFeatures","readProjection","flat","enableSimplifyTransformed","featureProjection","adaptOptions","defaultFeatureProjection","7wVvzFW","1133810tZFRWf","389416aecmQl","dataProjection","writeGeometry","pow","Circle","layout","assign","writeFeatures","readGeometry","191793DGDlob","length","Unsupported geometry type: ","type","round","isArray","extent","6stFSMX","clone","17202650CEPuTv","flatCoordinates","GeometryCollection","setWorldExtent","geometry","tile-pixels","335079OVTJpn","readFeature","supportedMediaTypes","Polygon","getUnits","applyTransform","ends","744819ZsitVA","1322864KmQROS","map","transform","11ypaUgA","4LZYFQk","getReadOptions","decimals"];return _g=function(){return i},_g()}const A7={Point:Js,LineString:c0,Polygon:js,MultiPoint:Ju,MultiLineString:Xu,MultiPolygon:Zu};function d7(i,t,e){const n=wi;return Array[n(255)](t[0])?(!mw(i,0,t,e)&&(i=i[n(230)](),jI(i,0,t,e)),i):(!JI(i,0,t,e)&&(i=i.slice(),zd(i,0,t,e)),i)}function OB(i,t){var a;const e=wi,n=i[e(212)];if(!n)return[];if(Array[e(255)](n))return n[e(223)](o=>OB({...i,geometry:o}))[e(234)]();const r=n[e(253)]==="MultiPolygon"?e(217):n[e(253)];if(r===e(210)||r===e(245))throw new Error(e(252)+r);const s=n.layout[e(251)];return mg(new Ai(r,r===e(217)?d7(n[e(209)],n[e(220)],s):n[e(209)],(a=n[e(220)])==null?void 0:a.flat(),s,i.properties||{},i.id)[e(235)](),!1,t)}function kE(i,t){const e=wi;if(!i)return null;if(Array[e(255)](i)){const r=i[e(223)](s=>kE(s,t));return new Rp(r)}const n=A7[i[e(253)]];return mg(new n(i.flatCoordinates,i[e(246)],i[e(220)]),!1,t)}const Tn=Eg;function Ig(){const i=["readGeometry","3050628kRXFDU","readFeaturesFromObject","stringify","json","1236294KfbHXW","writeFeaturesObject","3209225cqCEJl","readGeometryFromObject","22630140TVQITF","readFeatureFromObject","64KLeXeJ","string","7jZhcID","3wgsxIP","readProjection","writeFeatures","712431RcHPok","getReadOptions","248829mDQuxO","1152964PNJaTw","readProjectionFromObject","getType","writeFeature","readFeature","writeFeatureObject"];return Ig=function(){return i},Ig()}(function(i,t){const e=Eg,n=i();for(;;)try{if(-parseInt(e(362))/1+-parseInt(e(348))/2+-parseInt(e(357))/3*(parseInt(e(363))/4)+-parseInt(e(350))/5+-parseInt(e(344))/6*(-parseInt(e(356))/7)+-parseInt(e(354))/8*(parseInt(e(360))/9)+parseInt(e(352))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ig,341118);function Eg(i,t){const e=Ig();return Eg=function(n,r){return n=n-344,e[n]},Eg(i,t)}class p7 extends NB{constructor(){super()}[Tn(365)](){return Tn(347)}[Tn(367)](t,e){const n=Tn;return this.readFeatureFromObject(yg(t),this[n(361)](t,e))}readFeatures(t,e){const n=Tn;return this.readFeaturesFromObject(yg(t),this[n(361)](t,e))}[Tn(353)](t,e){return Je()}[Tn(345)](t,e){return Je()}[Tn(369)](t,e){const n=Tn;return this[n(351)](yg(t),this[n(361)](t,e))}[Tn(351)](t,e){return Je()}[Tn(358)](t){return this[Tn(364)](yg(t))}[Tn(364)](t){return Je()}[Tn(366)](t,e){const n=Tn;return JSON[n(346)](this[n(368)](t,e))}[Tn(368)](t,e){return Je()}[Tn(359)](t,e){const n=Tn;return JSON[n(346)](this[n(349)](t,e))}[Tn(349)](t,e){return Je()}writeGeometry(t,e){return JSON[Tn(346)](this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return Je()}}function yg(i){if(typeof i===Tn(355)){const e=JSON.parse(i);return e||null}return i!==null?i:null}const Zt=uf;function bg(){const i=["extractGeometryName","geometries","EPSG:","geometryName","3vxezBx","getType","Feature","setId","length","featureProjection","MultiPolygon","name","setGeometryName","writeGeometryObject","getCoordinates","LineString","featureClass","Unsupported GeoJSON type: ","5015128rRWfTL","Point","geometry_name","11176mkJEGu","readProjectionFromObject","push","EPSG:4326","crs","hasProperties","11huFWmr","GeometryCollection","140018Achvmu","FeatureCollection","1435vWIeSz","geometry","getGeometriesArray","application/geo+json","Unsupported geometry type: ","extractGeometryName_","rightHanded","application/vnd.geo+json","properties","dataProjection","coordinates","geometryName_","writeFeaturesObject","getGeometry","defaultFeatureProjection","getId","assign","5ydudeq","map","readFeaturesFromObject","3576590onbQjV","Unknown SRS type","features","8736543TMihEn","type","readGeometryFromObject","supportedMediaTypes","MultiPoint","2485608lqvUxR","MultiLineString","flat","writeFeatureObject","603672aLpuNI","readFeatureFromObject","Polygon","adaptOptions","setProperties","getProperties"];return bg=function(){return i},bg()}(function(i,t){const e=uf,n=i();for(;;)try{if(parseInt(e(200))/1*(-parseInt(e(156))/2)+parseInt(e(186))/3+parseInt(e(145))/4+parseInt(e(175))/5*(-parseInt(e(190))/6)+-parseInt(e(158))/7*(-parseInt(e(148))/8)+-parseInt(e(181))/9+-parseInt(e(178))/10*(parseInt(e(154))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(bg,729678);class GB extends p7{constructor(t){const e=uf;t=t||{},super(),this[e(167)]=Wt(t[e(167)]?t[e(167)]:e(151)),t[e(136)]&&(this[e(172)]=Wt(t[e(136)])),t[e(143)]&&(this[e(143)]=t[e(143)]),this[e(169)]=t[e(199)],this.extractGeometryName_=t[e(196)],this[e(184)]=[e(161),e(165)]}[Zt(191)](t,e){const n=Zt;let r=null;t[n(182)]==="Feature"?r=t:r={type:n(202),geometry:t,properties:null};const s=PE(r[n(159)]);if(this[n(143)]===Ai)return OB({geometry:s,id:r.id,properties:r[n(166)]},e);const a=new Gc;return this[n(169)]?a[n(139)](this.geometryName_):this[n(163)]&&r.geometry_name&&a[n(139)](r[n(147)]),a.setGeometry(kE(s,e)),"id"in r&&a[n(203)](r.id),r[n(166)]&&a[n(194)](r[n(166)],!0),a}[Zt(177)](t,e){const n=Zt,r=t;let s=null;if(r[n(182)]===n(157)){const a=t;s=[];const o=a[n(180)];for(let l=0,c=o.length;l<c;++l){const x=this[n(191)](o[l],e);x&&s[n(150)](x)}}else s=[this.readFeatureFromObject(t,e)];return s[n(188)]()}[Zt(183)](t,e){return g7(t,e)}[Zt(149)](t){const e=Zt,n=t[e(152)];let r;if(n)if(n[e(182)]==e(138))r=Wt(n[e(166)][e(138)]);else if(n.type==="EPSG")r=Wt(e(198)+n[e(166)].code);else throw new Error(e(179));else r=this[e(167)];return r}[Zt(189)](t,e){const n=Zt;e=this[n(193)](e);const r={type:n(202),geometry:null,properties:null},s=t[n(173)]();if(s!==void 0&&(r.id=s),!t[n(153)]())return r;const a=t[n(195)](),o=t[n(171)]();return o&&(r.geometry=UE(o,e),delete a[t.getGeometryName()]),!Da(a)&&(r.properties=a),r}[Zt(170)](t,e){const n=Zt;e=this[n(193)](e);const r=[];for(let s=0,a=t[n(204)];s<a;++s)r[n(150)](this[n(189)](t[s],e));return{type:n(157),features:r}}[Zt(140)](t,e){return UE(t,this[Zt(193)](e))}}function PE(i,t){const e=Zt;if(!i)return null;let n;switch(i.type){case e(146):{n=_7(i);break}case e(142):{n=I7(i);break}case e(192):{n=C7(i);break}case e(185):{n=y7(i);break}case e(187):{n=E7(i);break}case e(137):{n=b7(i);break}case"GeometryCollection":{n=m7(i);break}default:throw new Error(e(144)+i[e(182)])}return n}function g7(i,t){const e=PE(i);return kE(e,t)}function m7(i,t){const e=Zt;return i[e(197)][e(176)](function(r){return PE(r)})}function _7(i){const t=Zt,e=i[t(168)];return{type:"Point",flatCoordinates:e,layout:jo(e[t(204)])}}function I7(i){var r;const t=Zt,e=i[t(168)],n=e.flat();return{type:t(142),flatCoordinates:n,ends:[n[t(204)]],layout:jo(((r=e[0])==null?void 0:r[t(204)])||2)}}function E7(i){var a,o;const t=Zt,e=i[t(168)],n=((o=(a=e[0])==null?void 0:a[0])==null?void 0:o.length)||2,r=[],s=eu(r,0,e,n);return{type:t(187),flatCoordinates:r,ends:s,layout:jo(n)}}function y7(i){var n;const t=Zt,e=i[t(168)];return{type:t(185),flatCoordinates:e[t(188)](),layout:jo(((n=e[0])==null?void 0:n[t(204)])||2)}}function b7(i){var a,o;const t=Zt,e=i.coordinates,n=[],r=((o=(a=e[0])==null?void 0:a[0])==null?void 0:o[0][t(204)])||2,s=xw(n,0,e,r);return{type:t(137),flatCoordinates:n,ends:s,layout:jo(r)}}function C7(i){var a,o;const t=Zt,e=i[t(168)],n=[],r=(o=(a=e[0])==null?void 0:a[0])==null?void 0:o[t(204)],s=eu(n,0,e,r);return{type:"Polygon",flatCoordinates:n,ends:s,layout:jo(r)}}function UE(i,t){const e=Zt;i=mg(i,!0,t);const n=i[e(201)]();let r;switch(n){case e(146):{r=R7(i);break}case"LineString":{r=w7(i);break}case e(192):{r=T7(i,t);break}case"MultiPoint":{r=S7(i);break}case e(187):{r=B7(i);break}case e(137):{r=M7(i,t);break}case"GeometryCollection":{r=v7(i,t);break}case"Circle":{r={type:e(155),geometries:[]};break}default:throw new Error(e(162)+n)}return r}function v7(i,t){const e=Zt;return t=Object[e(174)]({},t),delete t.featureProjection,{type:"GeometryCollection",geometries:i[e(160)]()[e(176)](function(r){return UE(r,t)})}}function w7(i,t){return{type:Zt(142),coordinates:i.getCoordinates()}}function uf(i,t){const e=bg();return uf=function(n,r){return n=n-136,e[n]},uf(i,t)}function B7(i,t){return{type:Zt(187),coordinates:i.getCoordinates()}}function S7(i,t){return{type:"MultiPoint",coordinates:i[Zt(141)]()}}function M7(i,t){const e=Zt;let n;return t&&(n=t[e(164)]),{type:e(137),coordinates:i[e(141)](n)}}function R7(i,t){return{type:"Point",coordinates:i.getCoordinates()}}function T7(i,t){const e=Zt;let n;return t&&(n=t[e(164)]),{type:e(192),coordinates:i[e(141)](n)}}class D7 extends $c{constructor(t){super(),this._angle=Math.PI/4,this.lineLength=15,this._sqrt_2=1.414,this.lineWidth=t.lineWidth,this.offset=-10,this._color="rgb(204, 51, 51)",this._style={color:this._color}}renderFront(t,e,n){let r=0;r=this.offset>0?0:Math.PI;const s=Math.atan2(e[1]-n[1],e[0]-n[0])+r,a=Math.abs(this.offset),o=(e[0]+n[0])/2,l=(e[1]+n[1])/2;t.strokeStyle=this._color,t.lineWidth=this.lineWidth,t.save(),t.translate(o,l),t.rotate(s),t.beginPath(),t.moveTo(0,0),t.lineTo(0,a),t.stroke(),t.restore()}parse(){const t=new Bt({stroke:new yi({color:this._color,width:this.lineWidth})}),e=new Bt({renderer:(n,r)=>{const s=r.context;s.save();const a=el(n,40);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o]);s.restore()}});return[t,e]}}class Q7 extends $c{constructor(){super(),this._style={fill:{color:"rgba(0,255,0,0.4)"},stroke:{color:"#FF0000",width:2}}}parse(){let t,e=null;return this._style.fill&&(t=new Ni(this._style.fill)),this._style.stroke&&(e=new yi(this._style.stroke)),new Bt({fill:t,stroke:e})}}class L7 extends $c{constructor(){super(),this._angle=Math.PI/4,this._sqrt_2=1.414,this._color="rgb(0,0,255)",this._style={color:this._color}}renderFront(t,e,n,r){const s=pg(e,n),a=sa(s,e,r),o=sa(s,n,r),l=FE(a,o,this._angle,this._sqrt_2*r,!1);t.beginPath(),t.moveTo(a[0],a[1]),t.lineTo(l[0],l[1]),t.lineTo(o[0],o[1]),t.fillStyle=this._color,t.fill()}parse(){let t=new Bt({stroke:new yi({color:this._color,width:2})}),e=new Bt({renderer:(n,r)=>{const s=r.context;s.save();let a=el(n,40);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o],10);s.restore()}});return[t,e]}}class F7 extends $c{constructor(){super(),this._color="rgb(255,0,0)",this._style={color:this._color}}renderFront(t,e,n,r){const s=pg(e,n);t.beginPath(),t.moveTo(s[0],s[1]),t.arc(s[0],s[1],r,Xi(s,e)-.08,Xi(s,n)+.08,!0),t.fillStyle=this._color,t.fill()}parse(){let t=new Bt({stroke:new yi({color:this._color,width:3})}),e=new Bt({renderer:(n,r)=>{const s=r.context;s.save();let a=el(n,40);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o],10);s.restore()}});return[t,e]}}class k7 extends $c{constructor(){super(),this._angle=Math.PI/4,this._sqrt_2=1.414,this._color="rgb(235,18,245)",this._style={color:this._color}}renderFront(t,e,n,r){const s=pg(e,n),a=sa(s,e,r);t.beginPath(),t.moveTo(a[0],a[1]),t.arc(a[0],a[1],r,Xi(s,e)-.08,Xi(s,n)+.08,!0),t.fillStyle=this._color,t.fill();const o=sa(s,n,r*2),l=FE(s,o,this._angle,r*this._sqrt_2,!1);t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(l[0],l[1]),t.lineTo(o[0],o[1]),t.fillStyle=this._color,t.fill()}parse(){let t=new Bt({stroke:new yi({color:this._color,width:3})}),e=new Bt({renderer:(n,r)=>{const s=r.context;s.save();let a=el(n,60);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o],10);s.restore()}});return[t,e]}}class P7 extends $c{constructor(){super(),this._angle=Math.PI/4,this._sqrt_2=1.414,this._color="rgb(255,0,0)",this._style={color:this._color}}renderFront(t,e,n,r){const s=pg(e,n),a=sa(s,e,r);t.beginPath(),t.moveTo(a[0],a[1]),t.arc(a[0],a[1],r,Xi(s,e)-.08,Xi(s,n)+.08,!0),t.fillStyle=this._color,t.fill();const o=sa(s,n,r*2),l=FE(s,o,this._angle,r*this._sqrt_2,!0);t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(l[0],l[1]),t.lineTo(o[0],o[1]),t.fillStyle=this._color,t.fill()}parse(){let t=new Bt({stroke:new yi({color:this._color,width:3})}),e=new Bt({renderer:(n,r)=>{const s=r.context;s.save();let a=el(n,60);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o],10);s.restore()}});return[t,e]}}var h0=class extends Ni{constructor(t){super(),t=t||{};var e,n=this.canvas_=document.createElement("canvas"),r=Number(t.scale)>0?Number(t.scale):1,s=r*_A||_A,a=n.getContext("2d");if(t.image){t.image.load();var o,l=t.image.getImage();if(l.width)n.width=Math.round(l.width*s),n.height=Math.round(l.height*s),a.globalAlpha=typeof t.opacity=="number"?t.opacity:1,a.drawImage(l,0,0,l.width,l.height,0,0,n.width,n.height),e=a.createPattern(n,"repeat");else{var c=this;e=[0,0,0,0],l.onload=function(){n.width=Math.round(l.width*s),n.height=Math.round(l.height*s),a.globalAlpha=typeof t.opacity=="number"?t.opacity:1,a.drawImage(l,0,0,l.width,l.height,0,0,n.width,n.height),e=a.createPattern(n,"repeat"),c.setColor(e)}}}else{var x=this.getPattern_(t);if(n.width=Math.round(x.width*s),n.height=Math.round(x.height*s),a.beginPath(),t.fill&&(a.fillStyle=Ws(t.fill.getColor()),a.fillRect(0,0,n.width,n.height)),a.scale(s,s),a.lineCap="round",a.lineWidth=x.stroke||1,a.fillStyle=Ws(t.color||"#000"),a.strokeStyle=Ws(t.color||"#000"),x.circles)for(o=0;o<x.circles.length;o++){var u=x.circles[o];a.beginPath(),a.arc(u[0],u[1],u[2],0,2*Math.PI),x.fill&&a.fill(),x.stroke&&a.stroke()}if(x.repeat||(x.repeat=[[0,0]]),x.char&&(a.font=x.font||x.width+"px Arial",a.textAlign="center",a.textBaseline="middle",x.angle?(a.fillText(x.char,x.width/4,x.height/4),a.fillText(x.char,5*x.width/4,5*x.height/4),a.fillText(x.char,x.width/4,5*x.height/4),a.fillText(x.char,5*x.width/4,x.height/4),a.fillText(x.char,3*x.width/4,3*x.height/4),a.fillText(x.char,-x.width/4,-x.height/4),a.fillText(x.char,3*x.width/4,-x.height/4),a.fillText(x.char,-x.width/4,3*x.height/4)):a.fillText(x.char,x.width/2,x.height/2)),x.lines)for(o=0;o<x.lines.length;o++)for(var f=0;f<x.repeat.length;f++){var h=x.lines[o];a.beginPath(),a.moveTo(h[0]+x.repeat[f][0],h[1]+x.repeat[f][1]);for(var A=2;A<h.length;A+=2)a.lineTo(h[A]+x.repeat[f][0],h[A+1]+x.repeat[f][1]);x.fill&&a.fill(),x.stroke&&a.stroke(),a.save(),a.strokeStyle="red",a.strokeWidth=.1,a.restore()}if(e=a.createPattern(n,"repeat"),t.offset){var p=t.offset;if(typeof p=="number"&&(p=[p,p]),p instanceof Array){var d=Math.round(p[0]*s),g=Math.round(p[1]*s);a.scale(1/s,1/s),a.clearRect(0,0,n.width,n.height),a.translate(d,g),a.fillStyle=e,a.fillRect(-d,-g,n.width,n.height),e=a.createPattern(n,"repeat")}}}this.setColor(e)}static addPattern(t,e){e||(e={}),h0.patterns[t||e.char]={width:e.width||e.size||10,height:e.height||e.size||10,font:e.font,char:e.char,circles:e.circles,lines:e.lines,repeat:e.repeat,stroke:e.stroke,angle:e.angle,fill:e.fill}}clone(){var t=super.clone();return t.canvas_=this.canvas_,t}getImage(){return this.canvas_}getPattern_(t){var e=h0.patterns[t.pattern]||h0.patterns.dot,n=Math.round(t.spacing)||10,r;switch(t.pattern){case"dot":case"circle":{r=t.size===0?0:t.size/2||2,t.angle?(n=e.width=e.height=Math.round(n*1.4),e.circles=[[n/4,n/4,r],[3*n/4,3*n/4,r]],t.pattern=="circle"&&(e.circles=e.circles.concat([[n/4+n,n/4,r],[n/4,n/4+n,r],[3*n/4-n,3*n/4,r],[3*n/4,3*n/4-n,r],[n/4+n,n/4+n,r],[3*n/4-n,3*n/4-n,r]]))):(e.width=e.height=n,e.circles=[[n/2,n/2,r]],t.pattern=="circle"&&(e.circles=e.circles.concat([[n/2+n,n/2,r],[n/2-n,n/2,r],[n/2,n/2+n,r],[n/2,n/2-n,r],[n/2+n,n/2+n,r],[n/2+n,n/2-n,r],[n/2-n,n/2+n,r],[n/2-n,n/2-n,r]])));break}case"tile":case"square":{r=t.size===0?0:t.size/2||2,t.angle?(e.width=e.height=n,e.lines=[[n/2-r,n/2,n/2,n/2-r,n/2+r,n/2,n/2,n/2+r,n/2-r,n/2]]):(e.width=e.height=n,e.lines=[[n/2-r,n/2-r,n/2+r,n/2-r,n/2+r,n/2+r,n/2-r,n/2+r,n/2-r,n/2-r]]),t.pattern=="square"&&(e.repeat=[[0,0],[0,n],[n,0],[0,-n],[-n,0],[-n,-n],[n,n],[-n,n],[n,-n]]);break}case"cross":t.angle&&(t.angle=45);case"hatch":{var s=Math.round(((t.angle||0)-90)%360);s>180&&(s-=360),s*=Math.PI/180;var a=Math.cos(s),o=Math.sin(s);if(Math.abs(o)<1e-4)e.width=e.height=n,e.lines=[[0,.5,n,.5]],e.repeat=[[0,0],[0,n]];else if(Math.abs(a)<1e-4)e.width=e.height=n,e.lines=[[.5,0,.5,n]],e.repeat=[[0,0],[n,0]],t.pattern=="cross"&&(e.lines.push([0,.5,n,.5]),e.repeat.push([0,n]));else{var l=e.width=Math.round(Math.abs(n/o))||1,c=e.height=Math.round(Math.abs(n/a))||1;t.pattern=="cross"?(e.lines=[[-l,-c,2*l,2*c],[2*l,-c,-l,2*c]],e.repeat=[[0,0]]):a*o>0?(e.lines=[[-l,-c,2*l,2*c]],e.repeat=[[0,0],[l,0],[0,c]]):(e.lines=[[2*l,-c,-l,2*c]],e.repeat=[[0,0],[-l,0],[0,c]])}e.stroke=t.size===0?0:t.size||4;break}}return e}};h0.patterns={hatch:{width:5,height:5,lines:[[0,2.5,5,2.5]],stroke:1},cross:{width:7,height:7,lines:[[0,3,10,3],[3,0,3,10]],stroke:1},dot:{width:8,height:8,circles:[[5,5,2]],stroke:!1,fill:!0},circle:{width:10,height:10,circles:[[5,5,2]],stroke:1,fill:!1},square:{width:10,height:10,lines:[[3,3,3,8,8,8,8,3,3,3]],stroke:1,fill:!1},tile:{width:10,height:10,lines:[[3,3,3,8,8,8,8,3,3,3]],fill:!0},woven:{width:12,height:12,lines:[[3,3,9,9],[0,12,3,9],[9,3,12,0],[-1,1,1,-1],[13,11,11,13]],stroke:1},crosses:{width:8,height:8,lines:[[2,2,6,6],[2,6,6,2]],stroke:1},caps:{width:8,height:8,lines:[[2,6,4,2,6,6]],stroke:1},nylon:{width:20,height:20,lines:[[1,6,1,1,6,1],[6,11,11,11,11,6],[11,16,11,21,16,21],[16,11,21,11,21,16]],repeat:[[0,0],[-20,0],[0,-20]],stroke:1},hexagon:{width:20,height:12,lines:[[0,10,4,4,10,4,14,10,10,16,4,16,0,10]],stroke:1,repeat:[[0,0],[10,6],[10,-6],[-10,-6]]},cemetry:{width:15,height:19,lines:[[0,3.5,7,3.5],[3.5,0,3.5,10]],stroke:1,repeat:[[0,0],[7,9]]},sand:{width:20,height:20,circles:[[1,2,1],[9,3,1],[2,16,1],[7,8,1],[6,14,1],[4,19,1],[14,2,1],[12,10,1],[14,18,1],[18,8,1],[18,14,1]],fill:1},conglomerate:{width:60,height:40,circles:[[2,4,1],[17,3,1],[26,18,1],[12,17,1],[5,17,2],[28,11,2]],lines:[[7,5,6,7,9,9,11,8,11,6,9,5,7,5],[16,10,15,13,16,14,19,15,21,13,22,9,20,8,19,8,16,10],[24,6,26,7,27,5,26,4,24,4,24,6]],repeat:[[30,0],[-15,20],[15,20],[45,20]],stroke:1},conglomerate2:{width:60,height:40,circles:[[2,4,1],[17,3,1],[26,18,1],[12,17,1],[5,17,2],[28,11,2]],lines:[[7,5,6,7,9,9,11,8,11,6,9,5,7,5],[16,10,15,13,16,14,19,15,21,13,22,9,20,8,19,8,16,10],[24,6,26,7,27,5,26,4,24,4,24,6]],repeat:[[30,0],[-15,20],[15,20],[45,20]],fill:1},gravel:{width:15,height:10,circles:[[4,2,1],[5,9,1],[1,7,1]],lines:[[7,5,6,6,7,7,8,7,9,7,10,5,9,4,7,5],[11,2,14,4,14,1,12,1,11,2]],stroke:1},brick:{width:18,height:16,lines:[[0,1,18,1],[0,10,18,10],[6,1,6,10],[12,10,12,18],[12,0,12,1]],stroke:1},dolomite:{width:20,height:16,lines:[[0,1,20,1],[0,9,20,9],[1,9,6,1],[11,9,14,16],[14,0,14.4,1]],stroke:1},coal:{width:20,height:16,lines:[[1,5,7,1,7,7],[11,10,12,5,18,9],[5,10,2,15,9,15],[15,16,15,13,20,16],[15,0,15,2,20,0]],fill:1},breccia:{width:20,height:16,lines:[[1,5,7,1,7,7,1,5],[11,10,12,5,18,9,11,10],[5,10,2,15,9,15,5,10],[15,16,15,13,22,18],[15,0,15,2,20,0]],stroke:1},clay:{width:20,height:20,lines:[[0,0,3,11,0,20],[11,0,10,3,13,13,11,20],[0,0,10,3,20,0],[0,12,3,11,13,13,20,12]],stroke:1},flooded:{width:15,height:10,lines:[[0,1,10,1],[0,6,5,6],[10,6,15,6]],stroke:1},chaos:{width:40,height:40,lines:[[40,2,40,0,38,0,40,2],[4,0,3,2,2,5,0,0,0,3,2,7,5,6,7,7,8,10,9,12,9,13,9,14,8,14,6,15,2,15,0,20,0,22,2,20,5,19,8,15,10,14,11,12.25,10,12,10,10,12,9,13,7,12,6,13,4,16,7,17,4,20,0,18,0,15,3,14,2,14,0,12,1,11,0,10,1,11,4,10,7,9,8,8,5,6,4,5,3,5,1,5,0,4,0],[7,1,7,3,8,3,8,2,7,1],[4,3,5,5,4,5,4,3],[34,5,33,7,38,10,38,8,36,5,34,5],[27,0,23,2,21,8,30,0,27,0],[25,8,26,12,26,16,22.71875,15.375,20,13,18,15,17,18,13,22,17,21,19,22,21,20,19,18,22,17,30,25,26,26,24,28,21.75,33.34375,20,36,18,40,20,40,24,37,25,32,27,31,26,38,27,37,30,32,32,35,36,37,38,40,38,39,40,40,37,36,34,32,37,31,36,29,33,27,34,24,39,21,40,21,40,16,37,20,31,22,32,25,27,20,29,15,30,20,32,20,34,18,33,12,31,11,29,14,26,9,25,8],[39,24,37,26,40,28,39,24],[13,15,9,19,14,18,13,15],[18,23,14,27,16,27,17,25,20,26,18,23],[6,24,2,26,1,28,2,30,5,28,12,30,16,32,18,30,15,30,12,28,9,25,7,27,6,24],[29,27,32,28,33,31,30,29,27,28,29,27],[5,35,1,33,3,36,13,38,15,35,10,36,5,35]],fill:1},grass:{width:27,height:22,lines:[[0,10.5,13,10.5],[2.5,10,1.5,7],[4.5,10,4.5,5,3.5,4],[7,10,7.5,6,8.5,3],[10,10,11,6]],repeat:[[0,0],[14,10]],stroke:1},swamp:{width:24,height:23,lines:[[0,10.5,9.5,10.5],[2.5,10,2.5,7],[4.5,10,4.5,4],[6.5,10,6.5,6],[3,12.5,7,12.5]],repeat:[[0,0],[14,10]],stroke:1},reed:{width:26,height:23,lines:[[2.5,10,2,7],[4.5,10,4.2,4],[6.5,10,6.8,4],[8.5,10,9,6],[3.7,4,3.7,2.5],[4.7,4,4.7,2.5],[6.3,4,6.3,2.5],[7.3,4,7.3,2.5]],circles:[[4.2,2.5,.5],[18.2,12.5,.5],[6.8,2.5,.5],[20.8,12.5,.5],[9,6,.5],[23,16,.5]],repeat:[[0,0],[14,10]],stroke:1},wave:{width:10,height:8,lines:[[0,0,5,4,10,0]],stroke:1},vine:{width:13,height:13,lines:[[3,0,3,6],[9,7,9,13]],stroke:1},forest:{width:55,height:30,circles:[[7,7,3.5],[20,20,1.5],[42,22,3.5],[35,5,1.5]],stroke:1},forest2:{width:55,height:30,circles:[[7,7,3.5],[20,20,1.5],[42,22,3.5],[35,5,1.5]],fill:1,stroke:1},scrub:{width:26,height:20,lines:[[1,4,4,8,6,4]],circles:[[20,13,1.5]],stroke:1},tree:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78]],repeat:[[3,1],[18,16]],stroke:1},tree2:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61]],repeat:[[3,1],[18,16]],fill:1,stroke:1},pine:{width:30,height:30,lines:[[5.66,11.31,2.83,11.31,2.83,8.49,0,8.49,2.83,0,5.66,8.49,2.83,8.49]],repeat:[[3,1],[18,16]],stroke:1},pine2:{width:30,height:30,lines:[[5.66,11.31,2.83,11.31,2.83,8.49,0,8.49,2.83,0,5.66,8.49,2.83,8.49,2.83,11.31,5.66,11.31]],repeat:[[3,1],[18,16]],fill:1,stroke:1},mixtree:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61],[23.66,27.31,20.83,27.31,20.83,24.49,18,24.49,20.83,16,23.66,24.49,20.83,24.49,20.83,27.31,23.66,27.31]],repeat:[[3,1]],stroke:1},mixtree2:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61],[23.66,27.31,20.83,27.31,20.83,24.49,18,24.49,20.83,16,23.66,24.49,20.83,24.49,20.83,27.31,23.66,27.31]],repeat:[[3,1]],fill:1,stroke:1},pines:{width:22,height:20,lines:[[1,4,3.5,1,6,4],[1,8,3.5,5,6,8],[3.5,1,3.5,11],[12,14.5,14.5,14,17,14.5],[12,18,17,18],[14.5,12,14.5,18]],repeat:[[2,1]],stroke:1},rock:{width:20,height:20,lines:[[1,0,1,9],[4,0,4,9],[7,0,7,9],[10,1,19,1],[10,4,19,4],[10,7,19,7],[0,11,9,11],[0,14,9,14],[0,17,9,17],[12,10,12,19],[15,10,15,19],[18,10,18,19]],repeat:[[.5,.5]],stroke:1},rocks:{width:20,height:20,lines:[[5,0,3,0,5,4,4,6,0,3,0,5,3,6,5,9,3.75,10,2.5,10,0,9,0,10,4,11,5,14,4,15,0,13,0,13,0,13,0,14,0,14,5,16,5,18,3,19,0,19,-.25,19.9375,5,20,10,19,10,20,11,20,12,19,14,20,15,20,17,19,20,20,20,19,19,16,20,15,20,11,20,10,19,8,20,5,20,0,19,0,20,2,19,4,17,4,16,3,15,0,14,0,15,4,11,5,10,4,11,0,10,0,9,4,6,5,5,0],[18,5,19,6,18,10,16,10,14,9,16,5,18,5],[5,6,9,5,10,6,10,9,6,10,5,6],[14,5,14,8,13,9,12,9,11,7,12,5,14,5],[5,11,8,10,9,11,10,14,6,15,6,15,5,11],[13,10,14,11,15,14,15,14,15,14,11,15,10,11,11,10,13,10],[15,12,16,11,19,11,19,15,16,14,16,14,15,12],[6,16,9,15,10,18,5,19,6,16],[10,16,14,16,14,18,13,19,11,18,10,16],[15,15,18,16,18,18,16,19,15,18,15,15]],stroke:1}};function U7(i){i={lineStyle:{Style:{stroke:{Stroke:{color:"red",width:5,lineDash:[5,10,25]}}}},options:{offset:10,color:"red",width:4}};let t=vi(i.lineStyle),e=i.options;const n=new Bt({renderer:(r,s)=>{const a=s.context;a.save();const o=el(r,40);for(let l=1;l<o.length;l++)N7(a,o[l-1],o[l],e);a.restore()}});return[t,n]}function N7(i,t,e,n){let r=n.offset,s=n.color,a=n.width,o=0;o=r>0?0:Math.PI;const l=Math.atan2(t[1]-e[1],t[0]-e[0])+o,c=Math.abs(r),x=(t[0]+e[0])/2,u=(t[1]+e[1])/2;i.strokeStyle=s,i.lineWidth=a,i.save(),i.translate(x,u),i.rotate(l),i.beginPath(),i.moveTo(0,0),i.lineTo(0,c),i.stroke(),i.restore()}function zB(i){let t=vi(i.lineStyle);const e=i.options,n=((e==null?void 0:e.radius)||10)*2,r=(e==null?void 0:e.distance)||120,s=!!(e!=null&&e.clockwise)||!1;let a=new Bt({renderer:(o,l)=>{const c=l.context;c.save();let x=gg(o,r,n);c.fillStyle=(e==null?void 0:e.color)||"#00f";for(let u=0;u<x.length;u++){const{point:f,angle:h,prevs:A,nexts:p}=x[u],d=s?h:h+Math.PI,g=f[0]+Math.sin(d)*n*Math.SQRT2/2,m=f[1]-Math.cos(d)*n*Math.SQRT2/2,_=A.concat([f]).concat(p).concat([[g,m]]);c.beginPath(),c.moveTo(_[0][0],_[0][1]),_.forEach(I=>c.lineTo(I[0],I[1])),c.fill(),c.closePath()}c.restore()}});return[t,a]}function O7(i){let t=vi(i.lineStyle);const e=i.options,n=(e==null?void 0:e.radius)||10,r=(e==null?void 0:e.distance)||120,s=!!(e!=null&&e.clockwise)||!1;let a=new Bt({renderer:(o,l)=>{const c=l.context;c.save();let x=gg(o,r,n);c.fillStyle=(e==null?void 0:e.color)||"#f00";for(let u=0;u<x.length;u++){const{point:f,prevs:h,nexts:A}=x[u],p=h.concat([f]).concat(A),d=Xi(f,h[0]),g=Xi(f,A[A.length-1]);c.beginPath(),c.moveTo(p[0][0],f[0][1]),p.forEach(m=>c.lineTo(m[0],m[1])),c.arc(f[0],f[1],n,d,g,s),c.fill(),c.closePath()}c.restore()}});return[t,a]}function G7(i){let t=vi(i.lineStyle);const e=i.options,n=e.radius||10,r=e.distance||120,s=!!(e!=null&&e.clockwise)||!1;let a=new Bt({renderer:(o,l)=>{const c=l.context;c.save();let x=gg(o,r,n*2);for(let u=0;u<x.length;u++){const{point:f,angle:h,prevs:A,nexts:p}=x[u];if(u%2){const d=A.concat([f]).concat(p),g=Xi(f,A[0]),m=Xi(f,p[p.length-1]);c.beginPath(),c.moveTo(d[0][0],f[0][1]),d.forEach(_=>c.lineTo(_[0],_[1])),c.arc(f[0],f[1],n,g,m,s),c.fillStyle="#f00"}else{const d=s?h+Math.PI:h,g=f[0]+Math.sin(d)*n*Math.SQRT2,m=f[1]-Math.cos(d)*n*Math.SQRT2,_=A.concat([f]).concat(p).concat([[g,m]]);c.beginPath(),c.moveTo(_[0][0],_[0][1]),_.forEach(I=>c.lineTo(I[0],I[1])),c.fillStyle="#00f"}c.fill(),c.closePath()}c.restore()}});return[t,a]}function z7(i){let t=vi(i.lineStyle);const e=i.options||{},n=e.radius||10,r=e.distance||120,s=!!(e!=null&&e.clockwise)||!1;let a=new Bt({renderer:(o,l)=>{const c=l.context;c.save();let x=gg(o,r,n*2);for(let u=0;u<x.length;u++){const{point:f,angle:h,prevs:A,nexts:p}=x[u];if(u%2){const d=A.concat([f]).concat(p),g=Xi(f,A[0]),m=Xi(f,p[p.length-1]);c.beginPath(),c.moveTo(d[0][0],f[0][1]),d.forEach(_=>c.lineTo(_[0],_[1])),c.arc(f[0],f[1],n,g,m,!s),c.fillStyle="#f00"}else{const d=f[0]+Math.sin(h)*n*Math.SQRT2,g=f[1]-Math.cos(h)*n*Math.SQRT2,m=A.concat([f]).concat(p).concat([[d,g]]);c.beginPath(),c.moveTo(m[0][0],m[0][1]),m.forEach(_=>c.lineTo(_[0],_[1])),c.fillStyle="#00f"}c.fill(),c.closePath()}c.restore()}});return[t,a]}var ur=63710088e-1,V7={centimeters:ur*100,centimetres:ur*100,degrees:360/(2*Math.PI),feet:ur*3.28084,inches:ur*39.37,kilometers:ur/1e3,kilometres:ur/1e3,meters:ur,metres:ur,miles:ur/1609.344,millimeters:ur*1e3,millimetres:ur*1e3,nauticalmiles:ur/1852,radians:1,yards:ur*1.0936};function Cg(i,t,e={}){const n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=t||{},n.geometry=i,n}function VB(i,t,e={}){if(i.length<2)throw new Error("coordinates must be an array of two or more positions");return Cg({type:"LineString",coordinates:i},t,e)}function H7(i,t,e={}){return Cg({type:"MultiLineString",coordinates:i},t,e)}function q7(i,t="kilometers"){const e=V7[t];if(!e)throw new Error(t+" units is invalid");return i/e}function Y7(i,t){return W7(q7(i,t))}function W7(i){return i%(2*Math.PI)*180/Math.PI}function X7(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)}function K7(i){if(Array.isArray(i))return i;if(i.type==="Feature"){if(i.geometry!==null)return i.geometry.coordinates}else if(i.coordinates)return i.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function J7(i,t){return i.type==="FeatureCollection"?"FeatureCollection":i.type==="GeometryCollection"?"GeometryCollection":i.type==="Feature"&&i.geometry!==null?i.geometry.type:i.type}function j7(i,t){var e,n,r,s,a,o,l,c,x,u,f=0,h=i.type==="FeatureCollection",A=i.type==="Feature",p=h?i.features.length:1;for(e=0;e<p;e++){for(o=h?i.features[e].geometry:A?i.geometry:i,c=h?i.features[e].properties:A?i.properties:{},x=h?i.features[e].bbox:A?i.bbox:void 0,u=h?i.features[e].id:A?i.id:void 0,l=o?o.type==="GeometryCollection":!1,a=l?o.geometries.length:1,r=0;r<a;r++){if(s=l?o.geometries[r]:o,s===null){if(t(null,f,c,x,u)===!1)return!1;continue}switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(s,f,c,x,u)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<s.geometries.length;n++)if(t(s.geometries[n],f,c,x,u)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}f++}}function Z7(i,t){j7(i,function(e,n,r,s,a){var o=e===null?null:e.type;switch(o){case null:case"Point":case"LineString":case"Polygon":return t(Cg(e,r,{bbox:s,id:a}),n,0)===!1?!1:void 0}var l;switch(o){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var c=0;c<e.coordinates.length;c++){var x=e.coordinates[c],u={type:l,coordinates:x};if(t(Cg(u,r),n,c)===!1)return!1}})}function vg(i){var t=i[0],e=i[1];return[e[0]-t[0],e[1]-t[1]]}function NE(i,t){return i[0]*t[1]-t[0]*i[1]}function $7(i,t){return[i[0]+t[0],i[1]+t[1]]}function eL(i,t){return[i[0]-t[0],i[1]-t[1]]}function tL(i,t){return[i*t[0],i*t[1]]}function nL(i,t){var e=i[0],n=vg(i),r=t[0],s=vg(t),a=NE(n,s),o=eL(r,e),l=NE(o,s),c=l/a,x=$7(e,tL(c,n));return x}function iL(i,t){var e=vg(i),n=vg(t);return NE(e,n)===0}function rL(i,t){return iL(i,t)?!1:nL(i,t)}function HB(i,t,e){if(e=e||{},!X7(e))throw new Error("options is invalid");var n=e.units;if(!i)throw new Error("geojson is required");if(t==null||isNaN(t))throw new Error("distance is required");var r=J7(i),s=i.properties;switch(r){case"LineString":return qB(i,t,n);case"MultiLineString":var a=[];return Z7(i,function(o){a.push(qB(o,t,n).geometry.coordinates)}),H7(a,s);default:throw new Error("geometry "+r+" is not supported")}}function qB(i,t,e){var n=[],r=Y7(t,e),s=K7(i),a=[];return s.forEach(function(o,l){if(l!==s.length-1){var c=sL(o,s[l+1],r);if(n.push(c),l>0){var x=n[l-1],u=rL(c,x);u!==!1&&(x[1]=u,c[0]=u),a.push(x[0]),l===s.length-2&&(a.push(c[0]),a.push(c[1]))}s.length===2&&(a.push(c[0]),a.push(c[1]))}}),VB(a,i.properties)}function sL(i,t,e){var n=Math.sqrt((i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1])),r=i[0]+e*(t[1]-i[1])/n,s=t[0]+e*(t[1]-i[1])/n,a=i[1]+e*(i[0]-t[0])/n,o=t[1]+e*(i[0]-t[0])/n;return[[r,a],[s,o]]}function YB(i,t,e,n){i.strokeStyle=e,i.beginPath(),i.lineWidth=n,i.moveTo(t[0][0],t[0][1]);for(let r=1;r<t.length;r++)i.lineTo(t[r][0],t[r][1]);i.stroke()}function aL(i,t,e){let n=30;e.Style.stroke.Stroke.color;let r=e.Style.fill.Fill.color||"rgba(0,0,255,1)",s=e.Style.stroke.Stroke.width||2,a=e.Style.stroke.Stroke.parallelDistance||5,o=e.Style.stroke.Stroke.closeLine||!1;const l=VB(t),c=HB(l,a,{units:"degrees"}),x=HB(l,-a,{units:"degrees"});let u=c.geometry.coordinates,f=x.geometry.coordinates;if(console.log("leftCoords",u),console.log("rightCoords",f),u!=null&&u.length>0&&f!=null&&f.length>0){let h=f[0],A=u[0];n=Math.sqrt(Math.pow(h[0]-A[0],2)+Math.pow(h[1]-A[1],2))}return o&&(u.push(f[f.length-1]),u.unshift(f[0])),YB(i,c.geometry.coordinates,r,s),YB(i,x.geometry.coordinates,r,s),{start:t[t.length-2],end:t[t.length-1],angle:Math.atan2(t[t.length-1][1]-t[t.length-2][1],t[t.length-1][0]-t[t.length-2][0]),bufferDistance:n}}function oL(i,t,e,n,r,s){let a=s*2||15,o=s*4||30,l=r.Style.stroke.Stroke.color||"rgba(0,0,255,1)",c=r.Style.fill.Fill.color||"rgba(0,0,255,1)";const x=a,u=t+o*Math.cos(n),f=e+o*Math.sin(n),h=x*Math.cos(n+Math.PI/2),A=x*Math.sin(n+Math.PI/2),p=t-h,d=e-A,g=t+h,m=e+A;i.strokeStyle=c,i.fillStyle=l,i.lineWidth=2,i.beginPath(),i.moveTo(u,f),i.lineTo(p,d),i.lineTo(t,e),i.lineTo(g,m),i.closePath(),i.fill(),i.stroke()}function cL(i,t){vi(i.lineStyle);const n=Object.assign({},{glyph:"ParallelLines",lineStyle:{Style:{stroke:{Stroke:{color:"rgba(0,0,255,1)",width:1,parallelDistance:1}},fill:{Fill:{color:"rgba(0,0,255,1)"}}}},arrowStyle:{Style:{stroke:{Stroke:{color:"rgba(0,0,255,1)",width:15,height:30}},fill:{Fill:{color:"rgba(0,0,255,1)"}}}}},i);return[new Bt({renderer:(s,a)=>{const o=a.context,{start:l,end:c,angle:x,bufferDistance:u}=aL(o,s,n.lineStyle);n.arrowStyle.Style.stroke.Stroke.parallelDistance,oL(o,s[s.length-1][0],s[s.length-1][1],x,n.arrowStyle,u)}})]}var lL=class{constructor(t){}getCme_FrostLineStyle(t){return U7(t)}getCme_LINES_SYMBOL2(t){return zB(t)}getCme_LINES_18(t){return zB(t)}getCme_LINES_19(t){return O7(t)}getCme_LINES_41(t){return G7(t)}getCme_LINES_51(t){return z7(t)}getCme_ParallelLines(t,e){return cL(t)}getCme_Style(t){return vi(t)}},WB=class{constructor(t){}getCme_Style(t){return vi(t)}};function xL(i){return new Bt({fill:new h0({pattern:i.pattern,ratio:i.ratio||1,color:i.color,offset:i.offset||0,scale:i.scale||1,fill:new Ni({color:i.fill}),size:i.size,spacing:i.spacing,angle:i.angle})})}function uL(i){return new Bt({fill:new h0({pattern:i.pattern,ratio:i.ratio||1,color:i.color,offset:i.offset||0,scale:i.scale||1,fill:new Ni({color:i.fill}),size:i.size,spacing:i.spacing,angle:i.angle})})}var fL=class{constructor(t){}getCme_Style(t){return vi(t)}getCme_FILLAREA_1101_2_5(t){return xL(t)}getCme_FILLAREA_1101_2_4(t){return uL(t)}},hL=class{constructor(t){}getCme_Style(t){return vi(t)}};const Nn=ff;(function(i,t){const e=ff,n=i();for(;;)try{if(-parseInt(e(392))/1+parseInt(e(367))/2*(-parseInt(e(389))/3)+parseInt(e(382))/4+-parseInt(e(364))/5*(-parseInt(e(359))/6)+parseInt(e(390))/7+-parseInt(e(381))/8+parseInt(e(357))/9*(parseInt(e(385))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(wg,347085);function ff(i,t){const e=wg();return ff=function(n,r){return n=n-352,e[n]},ff(i,t)}function wg(){const i=["ADD","handleLayersRemove_","length","313857kLjsNT","removelayer","2439222UlPzjf","assign","listenerKeys_","once","getLayerStatesArray","5WVzAuJ","addChangeListener","handleLayerChange_","4BFDIYw","CHANGE","forEach","handleLayersAdd_","changed","minZoom","maxZoom","dispatchEvent","addlayer","getLayerState","min","registerLayerListeners_","set","Expected `layers` to be an array or a `Collection`","5380408Rnwuog","100556iNrUWk","push","minResolution","110bHOygq","extent","element","handleLayerGroupAdd_","281136fKyylq","3315956pbxgun","getArray","81927QEjLTN","isArray","REMOVE","getLayersArray","handleLayerGroupRemove_","setLayers","zIndex","LAYERS","PROPERTYCHANGE","layer","getSourceState","layers","layersListenerKeys_","function","visible","getLayers","handleLayersChanged_"];return wg=function(){return i},wg()}class ao extends yr{constructor(t,e){const n=ff;super(t),this[n(401)]=e}}const OE={LAYERS:Nn(403)};class A0 extends Z3{constructor(t){const e=Nn;t=t||{};const n=Object[e(360)]({},t);delete n.layers;let r=t.layers;super(n),this.on,this[e(362)],this.un,this[e(404)]=[],this[e(361)]={},this[e(365)](OE[e(399)],this[e(353)]),r?Array[e(393)](r)?r=new ws(r.slice(),{unique:!0}):Mt(typeof r[e(391)]===e(405),e(380)):r=new ws(void 0,{unique:!0}),this[e(397)](r)}[Nn(366)](){this[Nn(371)]()}handleLayersChanged_(){const t=Nn;this.layersListenerKeys_[t(369)](Xt),this[t(404)].length=0;const e=this[t(352)]();this[t(404)].push(yt(e,Yi[t(354)],this[t(370)],this),yt(e,Yi[t(394)],this.handleLayersRemove_,this));for(const r in this[t(361)])this[t(361)][r][t(369)](Xt);Ex(this[t(361)]);const n=e[t(391)]();for(let r=0,s=n[t(356)];r<s;r++){const a=n[r];this[t(378)](a),this[t(374)](new ao(t(375),a))}this[t(371)]()}[Nn(378)](t){const e=Nn,n=[yt(t,ac[e(400)],this[e(366)],this),yt(t,Ye[e(368)],this[e(366)],this)];t instanceof A0&&n[e(383)](yt(t,"addlayer",this[e(388)],this),yt(t,"removelayer",this[e(396)],this)),this[e(361)][tt(t)]=n}handleLayerGroupAdd_(t){const e=Nn;this.dispatchEvent(new ao(e(375),t[e(401)]))}handleLayerGroupRemove_(t){const e=Nn;this[e(374)](new ao(e(358),t.layer))}handleLayersAdd_(t){const e=Nn,n=t[e(387)];this.registerLayerListeners_(n),this[e(374)](new ao(e(375),n)),this[e(371)]()}[Nn(355)](t){const e=Nn,n=t[e(387)],r=tt(n);this[e(361)][r][e(369)](Xt),delete this.listenerKeys_[r],this[e(374)](new ao(e(358),n)),this[e(371)]()}getLayers(){const t=Nn;return this.get(OE[t(399)])}[Nn(397)](t){const e=Nn,n=this.getLayers();if(n){const r=n.getArray();for(let s=0,a=r[e(356)];s<a;++s)this[e(374)](new ao(e(358),r[s]))}this[e(379)](OE[e(399)],t)}[Nn(395)](t){const e=Nn;return t=t!==void 0?t:[],this[e(352)]().forEach(function(n){n[e(395)](t)}),t}getLayerStatesArray(t){const e=Nn,n=t!==void 0?t:[],r=n[e(356)];this[e(352)]()[e(369)](function(o){o[e(363)](n)});const s=this[e(376)]();let a=s[e(398)];!t&&s[e(398)]===void 0&&(a=0);for(let o=r,l=n.length;o<l;o++){const c=n[o];c.opacity*=s.opacity,c[e(406)]=c[e(406)]&&s.visible,c.maxResolution=Math[e(377)](c.maxResolution,s.maxResolution),c[e(384)]=Math.max(c[e(384)],s[e(384)]),c[e(372)]=Math.max(c[e(372)],s[e(372)]),c.maxZoom=Math.min(c[e(373)],s.maxZoom),s.extent!==void 0&&(c.extent!==void 0?c[e(386)]=Ei(c[e(386)],s[e(386)]):c[e(386)]=s.extent),c[e(398)]===void 0&&(c[e(398)]=a)}return n}[Nn(402)](){return"ready"}}const GE=65536*65536,XB=1/GE,AL=12,KB=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),zE=0,Bg=1,hf=2,Sg=5;class JB{constructor(t=new Uint8Array(16)){this.buf=ArrayBuffer.isView(t)?t:new Uint8Array(t),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(t,e,n=this.length){for(;this.pos<n;){const r=this.readVarint(),s=r>>3,a=this.pos;this.type=r&7,t(s,e,this),this.pos===a&&this.skip(r)}return e}readMessage(t,e){return this.readFields(t,e,this.readVarint()+this.pos)}readFixed32(){const t=this.dataView.getUint32(this.pos,!0);return this.pos+=4,t}readSFixed32(){const t=this.dataView.getInt32(this.pos,!0);return this.pos+=4,t}readFixed64(){const t=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*GE;return this.pos+=8,t}readSFixed64(){const t=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*GE;return this.pos+=8,t}readFloat(){const t=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,t}readDouble(){const t=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,t}readVarint(t){const e=this.buf;let n,r;return r=e[this.pos++],n=r&127,r<128||(r=e[this.pos++],n|=(r&127)<<7,r<128)||(r=e[this.pos++],n|=(r&127)<<14,r<128)||(r=e[this.pos++],n|=(r&127)<<21,r<128)?n:(r=e[this.pos],n|=(r&15)<<28,dL(n,t,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const t=this.readVarint();return t%2===1?(t+1)/-2:t/2}readBoolean(){return!!this.readVarint()}readString(){const t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=AL&&KB?KB.decode(this.buf.subarray(e,t)):SL(this.buf,e,t)}readBytes(){const t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e}readPackedVarint(t=[],e){const n=this.readPackedEnd();for(;this.pos<n;)t.push(this.readVarint(e));return t}readPackedSVarint(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSVarint());return t}readPackedBoolean(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readBoolean());return t}readPackedFloat(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFloat());return t}readPackedDouble(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readDouble());return t}readPackedFixed32(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFixed32());return t}readPackedSFixed32(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSFixed32());return t}readPackedFixed64(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readFixed64());return t}readPackedSFixed64(t=[]){const e=this.readPackedEnd();for(;this.pos<e;)t.push(this.readSFixed64());return t}readPackedEnd(){return this.type===hf?this.readVarint()+this.pos:this.pos+1}skip(t){const e=t&7;if(e===zE)for(;this.buf[this.pos++]>127;);else if(e===hf)this.pos=this.readVarint()+this.pos;else if(e===Sg)this.pos+=4;else if(e===Bg)this.pos+=8;else throw new Error(`Unimplemented type: ${e}`)}writeTag(t,e){this.writeVarint(t<<3|e)}realloc(t){let e=this.length||16;for(;e<this.pos+t;)e*=2;if(e!==this.length){const n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.dataView=new DataView(n.buffer),this.length=e}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(t){this.realloc(4),this.dataView.setInt32(this.pos,t,!0),this.pos+=4}writeSFixed32(t){this.realloc(4),this.dataView.setInt32(this.pos,t,!0),this.pos+=4}writeFixed64(t){this.realloc(8),this.dataView.setInt32(this.pos,t&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(t*XB),!0),this.pos+=8}writeSFixed64(t){this.realloc(8),this.dataView.setInt32(this.pos,t&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(t*XB),!0),this.pos+=8}writeVarint(t){if(t=+t||0,t>268435455||t<0){pL(t,this);return}this.realloc(4),this.buf[this.pos++]=t&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=(t>>>=7)&127|(t>127?128:0),!(t<=127)&&(this.buf[this.pos++]=t>>>7&127)))}writeSVarint(t){this.writeVarint(t<0?-t*2-1:t*2)}writeBoolean(t){this.writeVarint(+t)}writeString(t){t=String(t),this.realloc(t.length*4),this.pos++;const e=this.pos;this.pos=ML(this.buf,t,this.pos);const n=this.pos-e;n>=128&&jB(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n}writeFloat(t){this.realloc(4),this.dataView.setFloat32(this.pos,t,!0),this.pos+=4}writeDouble(t){this.realloc(8),this.dataView.setFloat64(this.pos,t,!0),this.pos+=8}writeBytes(t){const e=t.length;this.writeVarint(e),this.realloc(e);for(let n=0;n<e;n++)this.buf[this.pos++]=t[n]}writeRawMessage(t,e){this.pos++;const n=this.pos;t(e,this);const r=this.pos-n;r>=128&&jB(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r}writeMessage(t,e,n){this.writeTag(t,hf),this.writeRawMessage(e,n)}writePackedVarint(t,e){e.length&&this.writeMessage(t,_L,e)}writePackedSVarint(t,e){e.length&&this.writeMessage(t,IL,e)}writePackedBoolean(t,e){e.length&&this.writeMessage(t,bL,e)}writePackedFloat(t,e){e.length&&this.writeMessage(t,EL,e)}writePackedDouble(t,e){e.length&&this.writeMessage(t,yL,e)}writePackedFixed32(t,e){e.length&&this.writeMessage(t,CL,e)}writePackedSFixed32(t,e){e.length&&this.writeMessage(t,vL,e)}writePackedFixed64(t,e){e.length&&this.writeMessage(t,wL,e)}writePackedSFixed64(t,e){e.length&&this.writeMessage(t,BL,e)}writeBytesField(t,e){this.writeTag(t,hf),this.writeBytes(e)}writeFixed32Field(t,e){this.writeTag(t,Sg),this.writeFixed32(e)}writeSFixed32Field(t,e){this.writeTag(t,Sg),this.writeSFixed32(e)}writeFixed64Field(t,e){this.writeTag(t,Bg),this.writeFixed64(e)}writeSFixed64Field(t,e){this.writeTag(t,Bg),this.writeSFixed64(e)}writeVarintField(t,e){this.writeTag(t,zE),this.writeVarint(e)}writeSVarintField(t,e){this.writeTag(t,zE),this.writeSVarint(e)}writeStringField(t,e){this.writeTag(t,hf),this.writeString(e)}writeFloatField(t,e){this.writeTag(t,Sg),this.writeFloat(e)}writeDoubleField(t,e){this.writeTag(t,Bg),this.writeDouble(e)}writeBooleanField(t,e){this.writeVarintField(t,+e)}}function dL(i,t,e){const n=e.buf;let r,s;if(s=n[e.pos++],r=(s&112)>>4,s<128||(s=n[e.pos++],r|=(s&127)<<3,s<128)||(s=n[e.pos++],r|=(s&127)<<10,s<128)||(s=n[e.pos++],r|=(s&127)<<17,s<128)||(s=n[e.pos++],r|=(s&127)<<24,s<128)||(s=n[e.pos++],r|=(s&1)<<31,s<128))return tl(i,r,t);throw new Error("Expected varint not more than 10 bytes")}function tl(i,t,e){return e?t*4294967296+(i>>>0):(t>>>0)*4294967296+(i>>>0)}function pL(i,t){let e,n;if(i>=0?(e=i%4294967296|0,n=i/4294967296|0):(e=~(-i%4294967296),n=~(-i/4294967296),e^4294967295?e=e+1|0:(e=0,n=n+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),gL(e,n,t),mL(n,t)}function gL(i,t,e){e.buf[e.pos++]=i&127|128,i>>>=7,e.buf[e.pos++]=i&127|128,i>>>=7,e.buf[e.pos++]=i&127|128,i>>>=7,e.buf[e.pos++]=i&127|128,i>>>=7,e.buf[e.pos]=i&127}function mL(i,t){const e=(i&7)<<4;t.buf[t.pos++]|=e|((i>>>=3)?128:0),i&&(t.buf[t.pos++]=i&127|((i>>>=7)?128:0),i&&(t.buf[t.pos++]=i&127|((i>>>=7)?128:0),i&&(t.buf[t.pos++]=i&127|((i>>>=7)?128:0),i&&(t.buf[t.pos++]=i&127|((i>>>=7)?128:0),i&&(t.buf[t.pos++]=i&127)))))}function jB(i,t,e){const n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));e.realloc(n);for(let r=e.pos-1;r>=i;r--)e.buf[r+n]=e.buf[r]}function _L(i,t){for(let e=0;e<i.length;e++)t.writeVarint(i[e])}function IL(i,t){for(let e=0;e<i.length;e++)t.writeSVarint(i[e])}function EL(i,t){for(let e=0;e<i.length;e++)t.writeFloat(i[e])}function yL(i,t){for(let e=0;e<i.length;e++)t.writeDouble(i[e])}function bL(i,t){for(let e=0;e<i.length;e++)t.writeBoolean(i[e])}function CL(i,t){for(let e=0;e<i.length;e++)t.writeFixed32(i[e])}function vL(i,t){for(let e=0;e<i.length;e++)t.writeSFixed32(i[e])}function wL(i,t){for(let e=0;e<i.length;e++)t.writeFixed64(i[e])}function BL(i,t){for(let e=0;e<i.length;e++)t.writeSFixed64(i[e])}function SL(i,t,e){let n="",r=t;for(;r<e;){const s=i[r];let a=null,o=s>239?4:s>223?3:s>191?2:1;if(r+o>e)break;let l,c,x;o===1?s<128&&(a=s):o===2?(l=i[r+1],(l&192)===128&&(a=(s&31)<<6|l&63,a<=127&&(a=null))):o===3?(l=i[r+1],c=i[r+2],(l&192)===128&&(c&192)===128&&(a=(s&15)<<12|(l&63)<<6|c&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):o===4&&(l=i[r+1],c=i[r+2],x=i[r+3],(l&192)===128&&(c&192)===128&&(x&192)===128&&(a=(s&15)<<18|(l&63)<<12|(c&63)<<6|x&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,o=1):a>65535&&(a-=65536,n+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),n+=String.fromCharCode(a),r+=o}return n}function ML(i,t,e){for(let n=0,r,s;n<t.length;n++){if(r=t.charCodeAt(n),r>55295&&r<57344)if(s)if(r<56320){i[e++]=239,i[e++]=191,i[e++]=189,s=r;continue}else r=s-55296<<10|r-56320|65536,s=null;else{r>56319||n+1===t.length?(i[e++]=239,i[e++]=191,i[e++]=189):s=r;continue}else s&&(i[e++]=239,i[e++]=191,i[e++]=189,s=null);r<128?i[e++]=r:(r<2048?i[e++]=r>>6|192:(r<65536?i[e++]=r>>12|224:(i[e++]=r>>18|240,i[e++]=r>>12&63|128),i[e++]=r>>6&63|128),i[e++]=r&63|128)}return e}const di=Af;(function(i,t){const e=Af,n=i();for(;;)try{if(parseInt(e(509))/1+-parseInt(e(524))/2*(-parseInt(e(483))/3)+-parseInt(e(475))/4+-parseInt(e(478))/5+parseInt(e(486))/6+-parseInt(e(500))/7+parseInt(e(495))/8===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Mg,406166);function Af(i,t){const e=Mg();return Af=function(n,r){return n=n-471,e[n]},Af(i,t)}class ZB extends NB{constructor(t){const e=Af;super(),t=t||{},this[e(492)]=new O2({code:"",units:e(530)}),this[e(508)]=t[e(508)]?t[e(508)]:Ai,this[e(523)]=t[e(529)],this[e(490)]=t[e(501)]?t[e(501)]:e(507),this[e(488)]=t[e(517)]?t[e(517)]:null,this[e(512)]=t.idProperty,this[e(519)]=[e(487),e(482)]}[di(520)](t,e,n,r){const s=di;t[s(511)]=e[s(502)];const a=t[s(499)]()+t[s(511)];let o=1,l=0,c=0,x=0,u=0,f=0;for(;t[s(511)]<a;){if(!l){const h=t[s(499)]();o=h&7,l=h>>3}if(l--,o===1||o===2)c+=t[s(497)](),x+=t[s(497)](),o===1&&u>f&&(r[s(527)](u),f=u),n.push(c,x),u+=2;else if(o===7)u>f&&(n[s(527)](n[f],n[f+1]),u+=2);else throw new Error(s(516))}u>f&&(r[s(527)](u),f=u)}[di(510)](t,e,n){const r=di,s=e[r(472)];if(s===0)return null;let a;const o=e.properties;let l;this[r(512)]?(l=o[this.idProperty_],delete o[this[r(512)]]):l=e.id,o[this[r(490)]]=e[r(507)][r(484)];const c=[],x=[];this.readRawGeometry_(t,e,c,x);const u=LL(s,x[r(485)]);if(this[r(508)]===Ai)a=new this[r(508)](u,c,x,2,o,l),a[r(518)](n[r(492)]);else{let f;if(u==r(474)){const p=_w(c,x);f=p.length>1?new Zu(c,"XY",p):new js(c,"XY",x)}else f=u==="Point"?new Js(c,"XY"):u===r(493)?new c0(c,"XY"):u===r(494)?new Ju(c,"XY"):u===r(505)?new Xu(c,"XY",x):null;const h=this[r(508)];a=new h,this[r(523)]&&a[r(514)](this[r(523)]);const A=mg(f,!1,n);a.setGeometry(A),l!==void 0&&a.setId(l),a[r(498)](o,!0)}return a}[di(525)](){return di(480)}[di(473)](t,e){const n=di,r=this[n(488)];e=this[n(503)](e);const s=Wt(e[n(492)]);s[n(515)](e[n(489)]),e[n(492)]=s;const a=new JB(t),o=a[n(481)](RL,{}),l=[];for(const c in o){if(r&&!r[n(477)](c))continue;const x=o[c],u=x?[0,0,x[n(489)],x[n(489)]]:null;s[n(504)](u);for(let f=0,h=x[n(485)];f<h;++f){const A=QL(a,x,f),p=this[n(510)](a,A,e);p!==null&&l[n(527)](p)}}return l}readProjection(t){return this[di(492)]}[di(471)](t){const e=di;this[e(488)]=t}}function RL(i,t,e){const n=di;if(i===3){const r={keys:[],values:[],features:[]},s=e.readVarint()+e[n(511)];e[n(481)](TL,r,s),r[n(485)]=r.features[n(485)],r.length&&(t[r[n(484)]]=r)}}function Mg(){const i=["length","943026lxxHaW","application/vnd.mapbox-vector-tile","layers_","extent","layerName_","version","dataProjection","LineString","MultiPoint","2058400sIQgGG","Point","readSVarint","setProperties","readVarint","101773LYgOQJ","layerName","geometry","adaptOptions","setExtent","MultiLineString","features","layer","featureClass","360663GmHcrm","createFeature_","pos","idProperty_","readBoolean","setGeometryName","setWorldExtent","Invalid command found in the PBF","layers","transform","supportedMediaTypes","readRawGeometry_","readDouble","readVarint64","geometryName_","56JtbBKA","getType","readString","push","readFloat","geometryName","tile-pixels","setLayers","type","readFeatures","Polygon","2760648YhBoXe","values","includes","2030775FKwnQI","keys","arraybuffer","readFields","application/x-protobuf","79488KLptEM","name"];return Mg=function(){return i},Mg()}function TL(i,t,e){const n=di;if(i===15)t[n(491)]=e[n(499)]();else if(i===1)t[n(484)]=e[n(526)]();else if(i===5)t[n(489)]=e[n(499)]();else if(i===2)t[n(506)].push(e[n(511)]);else if(i===3)t[n(479)][n(527)](e[n(526)]());else if(i===4){let r=null;const s=e[n(499)]()+e[n(511)];for(;e[n(511)]<s;)i=e.readVarint()>>3,r=i===1?e[n(526)]():i===2?e[n(528)]():i===3?e[n(521)]():i===4?e[n(522)]():i===5?e[n(499)]():i===6?e[n(497)]():i===7?e[n(513)]():null;t[n(476)][n(527)](r)}}function DL(i,t,e){const n=di;if(i==1)t.id=e.readVarint();else if(i==2){const r=e[n(499)]()+e[n(511)];for(;e[n(511)]<r;){const s=t[n(507)][n(479)][e[n(499)]()],a=t[n(507)][n(476)][e[n(499)]()];t.properties[s]=a}}else i==3?t[n(472)]=e[n(499)]():i==4&&(t.geometry=e[n(511)])}function QL(i,t,e){const n=di;i[n(511)]=t[n(506)][e];const r=i[n(499)]()+i[n(511)],s={layer:t,type:0,properties:{}};return i[n(481)](DL,s,r),s}function LL(i,t){const e=di;let n;return i===1?n=e(t===1?496:494):i===2?n=e(t===1?493:505):i===3&&(n=e(474)),n}function Rg(){const i=["canExpireCache","254ODaiCY","renderFrame","callback","expire","center","dispatchRenderEvent","19975932EQsxMs","slice","size","distanceSq","coordinateToPixelTransform","feature","push","hasRenderer","rotation","getExtent","viewState","calculateMatrices2D","length","getWrapX","layer","bind","resolution","521271FSHScu","2136318Zxcpsw","1657kuzdds","pixelToCoordinateTransform","sort","some","getRenderer","172qosSzh","hasFeatureAtCoordinate","call","map_","layerStatesArray","getSource","projection","scheduleExpireIconCache","16260jIEXpB","49510cZmnUE","1903xKYLhj","forEachFeatureAtCoordinate","12TtTCKC","149023aRnjKM","80RGKhyr"];return Rg=function(){return i},Rg()}const Xr=Tg;(function(i,t){const e=Tg,n=i();for(;;)try{if(parseInt(e(245))/1*(parseInt(e(220))/2)+parseInt(e(244))/3+parseInt(e(250))/4*(-parseInt(e(212))/5)+parseInt(e(216))/6*(-parseInt(e(217))/7)+-parseInt(e(218))/8*(-parseInt(e(243))/9)+-parseInt(e(213))/10*(-parseInt(e(214))/11)+-parseInt(e(226))/12===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Rg,511183);function Tg(i,t){const e=Rg();return Tg=function(n,r){return n=n-211,e[n]},Tg(i,t)}class FL extends Qx{constructor(t){super(),this.map_=t}[Xr(225)](t,e){Je()}[Xr(237)](t){const e=Xr,n=t[e(236)],r=t[e(230)],s=t[e(246)];_s(r,t[e(228)][0]/2,t[e(228)][1]/2,1/n[e(242)],-1/n[e(242)],-n[e(234)],-n[e(224)][0],-n[e(224)][1]),V3(s,r)}forEachFeatureAtCoordinate(t,e,n,r,s,a,o,l){const c=Xr;let x;const u=e[c(236)];function f(y,E,b,w){return s[c(252)](a,E,y?b:null,w)}const h=u[c(256)],A=j2(t[c(227)](),h),p=[[0,0]];if(h.canWrapX()&&r){const y=h[c(235)](),E=lt(y);p[c(232)]([-E,0],[E,0])}const d=e[c(254)],g=d[c(238)],m=[],_=[];for(let y=0;y<p[c(238)];y++)for(let E=g-1;E>=0;--E){const b=d[E],w=b[c(240)];if(w[c(233)]()&&eE(b,u)&&o[c(252)](l,w)){const C=w[c(249)](),v=w[c(255)]();if(C&&v){const B=v[c(239)]()?A:t,S=f[c(241)](null,b.managed);_[0]=B[0]+p[y][0],_[1]=B[1]+p[y][1],x=C[c(215)](_,e,n,S,m)}if(x)return x}}if(m[c(238)]===0)return;const I=1/m.length;return m.forEach((y,E)=>y[c(229)]+=E*I),m[c(247)]((y,E)=>y[c(229)]-E.distanceSq),m[c(248)](y=>{const E=c;return x=y[E(222)](y[E(231)],y.layer,y.geometry)}),x}[Xr(251)](t,e,n,r,s,a){return this[Xr(215)](t,e,n,r,Fx,this,s,a)!==void 0}getMap(){return this[Xr(253)]}[Xr(221)](t){Je()}[Xr(211)](t){const e=Xr;As[e(219)]()&&t.postRenderFunctions[e(232)](kL)}}function kL(i,t){As[Xr(223)]()}const d0=df;(function(i,t){const e=df,n=i();for(;;)try{if(-parseInt(e(345))/1+parseInt(e(314))/2+parseInt(e(346))/3*(parseInt(e(319))/4)+parseInt(e(337))/5+parseInt(e(309))/6+parseInt(e(323))/7+-parseInt(e(308))/8===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Dg,984509);function df(i,t){const e=Dg();return df=function(n,r){return n=n-304,e[n]},df(i,t)}function Dg(){const i=["1965828yWUrnm","3OYTAug","none","element_","style","firstChild","unrender","ready","div","getSourceState","height","calculateMatrices2D","undefined","hasListener","13522392WFXCJo","6947328VZjQdR","renderFrame","fontChangeListenerKey_","forEach","createElement","3024108kfQnUp","renderDeclutter","redrawText","getMap","zIndex","6112792dhDLOD","getDeclutter","insertBefore","push","2174732HKzvbu","width","100%","display","renderedVisible_","children_","length","PROPERTYCHANGE"," ol-layers","layerStatesArray","renderDeferred","remove","viewState","dispatchRenderEvent","659100ZgAwkw","POSTCOMPOSE","position","declutter","layer","absolute","scheduleExpireIconCache","disposeInternal"];return Dg=function(){return i},Dg()}class PL extends FL{constructor(t){const e=df;super(t),this.fontChangeListenerKey_=yt(gs,ac[e(330)],t[e(316)],t),this[e(348)]=document[e(313)](e(353));const n=this[e(348)][e(349)];n[e(339)]=e(342),n[e(324)]=e(325),n[e(304)]="100%",n[e(318)]="0",this.element_.className=HA+e(331);const r=t.getViewport();r[e(321)](this.element_,r[e(350)]||null),this[e(328)]=[],this.renderedVisible_=!0}[d0(336)](t,e){const n=d0,r=this[n(317)]();if(r[n(307)](t)){const s=new Ew(t,void 0,e);r.dispatchEvent(s)}}[d0(344)](){const t=d0;Xt(this[t(311)]),this[t(348)][t(334)](),super.disposeInternal()}[d0(310)](t){const e=d0;if(!t){this[e(327)]&&(this.element_[e(349)][e(326)]=e(347),this[e(327)]=!1);return}this[e(305)](t),this.dispatchRenderEvent(br.PRECOMPOSE,t);const n=t[e(332)].sort((l,c)=>l[e(318)]-c[e(318)]);n.some(l=>l[e(341)]instanceof fE&&l[e(341)][e(320)]())&&(t[e(340)]={});const s=t[e(335)];this[e(328)][e(329)]=0;const a=[];let o=null;for(let l=0,c=n[e(329)];l<c;++l){const x=n[l];t.layerIndex=l;const u=x[e(341)],f=u[e(354)]();if(!eE(x,s)||f!=e(352)&&f!=e(306)){u[e(351)]();continue}const h=u.render(t,o);h&&(h!==o&&(this[e(328)][e(322)](h),o=h),a[e(322)](x))}this[e(340)](t,a),LT(this[e(348)],this.children_),this.dispatchRenderEvent(br[e(338)],t),!this[e(327)]&&(this[e(348)][e(349)][e(326)]="",this[e(327)]=!0),this[e(343)](t)}declutter(t,e){const n=d0;if(t[n(340)]){for(let r=e[n(329)]-1;r>=0;--r){const s=e[r],a=s[n(341)];a[n(320)]()&&a[n(315)](t,s)}e[n(312)](r=>r[n(341)][n(333)](t))}}}function Qg(i,t){var e=Lg();return Qg=function(n,r){n=n-475;var s=e[n];return s},Qg(i,t)}(function(i,t){for(var e=Qg,n=i();;)try{var r=parseInt(e(478))/1*(-parseInt(e(483))/2)+parseInt(e(477))/3*(parseInt(e(476))/4)+parseInt(e(487))/5+parseInt(e(479))/6*(-parseInt(e(486))/7)+-parseInt(e(475))/8+-parseInt(e(484))/9*(parseInt(e(480))/10)+parseInt(e(482))/11*(parseInt(e(485))/12);if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Lg,854742);class nl extends yr{constructor(t,e,n){var r=Qg;super(t),this[r(488)]=e,this[r(481)]=n!==void 0?n:null}}function Lg(){var i=["39699GWkIak","36OatXFW","35SjLWqL","116565gQeQeu","map","375560TjGpke","8444bNpoeg","492CTydgN","1rqtkXk","1079934SsECLl","650MsSHTu","frameState","10397057RnJwAk","2233462pqHSWL"];return Lg=function(){return i},Lg()}var p0=pf;function Fg(){var i=["pixel","originalEvent","52544mBQmHY","getEventPixel","194106vOEtCv","9560HegmVn","activePointers","4tNXXUY","7565256ZrBzPZ","stopPropagation","710366DFwkcW","coordinate_","coordinate","6787272PJXwNM","getCoordinateFromPixel","1710063aWTMlr","map","preventDefault","91MZmuMn","pixel_"];return Fg=function(){return i},Fg()}(function(i,t){for(var e=pf,n=i();;)try{var r=-parseInt(e(111))/1+parseInt(e(119))/2+parseInt(e(124))/3+parseInt(e(116))/4*(parseInt(e(114))/5)+parseInt(e(113))/6*(-parseInt(e(127))/7)+-parseInt(e(122))/8+parseInt(e(117))/9;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Fg,446184);function pf(i,t){var e=Fg();return pf=function(n,r){n=n-110;var s=e[n];return s},pf(i,t)}class oo extends nl{constructor(t,e,n,r,s,a){var o=pf;super(t,e,s),this[o(110)]=n,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this[o(115)]=a}get[p0(129)](){var t=p0;return!this[t(128)]&&(this.pixel_=this[t(125)][t(112)](this[t(110)])),this[t(128)]}set pixel(t){this.pixel_=t}get[p0(121)](){var t=p0;return!this[t(120)]&&(this[t(120)]=this.map[t(123)](this[t(129)])),this[t(120)]}set coordinate(t){var e=p0;this[e(120)]=t}preventDefault(){var t=p0;super[t(126)](),t(126)in this[t(110)]&&this[t(110)][t(126)]()}stopPropagation(){var t=p0;super.stopPropagation(),t(118)in this[t(110)]&&this[t(110)][t(118)]()}}function kg(i,t){var e=Pg();return kg=function(n,r){n=n-334;var s=e[n];return s},kg(i,t)}var aa=kg;(function(i,t){for(var e=kg,n=i();;)try{var r=parseInt(e(345))/1+-parseInt(e(335))/2+parseInt(e(343))/3+parseInt(e(340))/4+parseInt(e(346))/5+parseInt(e(337))/6*(parseInt(e(348))/7)+-parseInt(e(342))/8;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Pg,441244);function Pg(){var i=["pointerleave","pointerout","pointercancel","416700YtZPMi","pointerover","80646hsePbP","CLICK","pointerdrag","1940420BEwQcF","pointermove","15056504TWDvzW","1182165TaRkKU","pointerup","139037eguuSf","3602205jMuKNK","DBLCLICK","413CEoZHc"];return Pg=function(){return i},Pg()}const bn={SINGLECLICK:"singleclick",CLICK:Ye[aa(338)],DBLCLICK:Ye[aa(347)],POINTERDRAG:aa(339),POINTERMOVE:aa(341),POINTERDOWN:"pointerdown",POINTERUP:aa(344),POINTEROVER:aa(336),POINTEROUT:aa(350),POINTERENTER:"pointerenter",POINTERLEAVE:aa(349),POINTERCANCEL:aa(334)};function Ug(i,t){var e=Ng();return Ug=function(n,r){n=n-128;var s=e[n];return s},Ug(i,t)}function Ng(){var i=["pointermove","146744Ozfmzm","pointerout","pointerdown","pointercancel","150238KcCIYQ","14ChcNeg","88MadXos","6OOpjeN","470MJKUED","97449LjZQHq","4271743VgHfRf","15766xCjmHf","pointerleave","60CmkOdl","27445yDBtTI","pointerenter","pointerup","464867orPeky","522WiyXsw"];return Ng=function(){return i},Ng()}var g0=Ug;(function(i,t){for(var e=Ug,n=i();;)try{var r=parseInt(e(133))/1*(-parseInt(e(147))/2)+parseInt(e(131))/3+-parseInt(e(128))/4*(-parseInt(e(136))/5)+-parseInt(e(129))/6*(-parseInt(e(132))/7)+-parseInt(e(142))/8*(-parseInt(e(140))/9)+-parseInt(e(130))/10*(parseInt(e(146))/11)+parseInt(e(135))/12*(-parseInt(e(139))/13);if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ng,896301);const VE={POINTERMOVE:g0(141),POINTERDOWN:g0(144),POINTERUP:g0(138),POINTEROVER:"pointerover",POINTEROUT:g0(143),POINTERENTER:g0(137),POINTERLEAVE:g0(134),POINTERCANCEL:g0(145)};function Og(){const i=["203332sDSIyr","boolean","handleTouchMove_","POINTERUP","isMouseActionButton_","values","clickTimeoutId_","bind","8nZzIwj","abs","clientY","getOwnerDocument","emulateClicks_","57238XVouxm","preventDefault","type","14882210cYQwUy","trackedTouches_","defaultPrevented","removeEventListener","target","forEach","1VVAlbF","activePointers_","defineProperty","dragging_","disposeInternal","pointerdownListenerKey_","down_","isMoving_","236166ZNrtFE","POINTERMOVE","cancelable","moveTolerance_","getRootNode","length","handlePointerMove_","POINTERCANCEL","clientX","55tIbhOw","boundHandleTouchMove_","dragListenerKeys_","SINGLECLICK","map_","getViewport","element_","button","TOUCHMOVE","dispatchEvent","POINTERDOWN","originalPointerMoveEvent_","685791ELCNjc","2282940rDnEni","relayedListenerKey_","relayMoveEvent_","emulateClick_","push","updateActivePointers_","2153358HHxrGc","CLICK","pointerId","addEventListener"];return Og=function(){return i},Og()}const ni=gf;(function(i,t){const e=gf,n=i();for(;;)try{if(parseInt(e(336))/1*(-parseInt(e(327))/2)+-parseInt(e(304))/3+parseInt(e(314))/4*(-parseInt(e(291))/5)+parseInt(e(310))/6+-parseInt(e(344))/7+parseInt(e(322))/8*(-parseInt(e(303))/9)+parseInt(e(330))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Og,388415);function gf(i,t){const e=Og();return gf=function(n,r){return n=n-283,e[n]},gf(i,t)}class UL extends Px{constructor(t,e){const n=gf;super(t),this[n(295)]=t,this[n(320)],this[n(326)]=!1,this[n(339)]=!1,this[n(293)]=[],this[n(285)]=e===void 0?1:e,this.down_=null;const r=this.map_[n(296)]();this[n(337)]=[],this.trackedTouches_={},this.element_=r,this[n(341)]=yt(r,VE[n(301)],this.handlePointerDown_,this),this.originalPointerMoveEvent_,this[n(305)]=yt(r,VE[n(283)],this[n(306)],this),this[n(292)]=this[n(316)][n(321)](this),this[n(297)][n(313)](Ye[n(299)],this[n(292)],S3?{passive:!1}:!1)}[ni(307)](t){const e=ni;let n=new oo(bn[e(311)],this[e(295)],t);this[e(300)](n),this.clickTimeoutId_!==void 0?(clearTimeout(this[e(320)]),this.clickTimeoutId_=void 0,n=new oo(bn.DBLCLICK,this.map_,t),this[e(300)](n)):this[e(320)]=setTimeout(()=>{const r=e;this.clickTimeoutId_=void 0;const s=new oo(bn[r(294)],this[r(295)],t);this[r(300)](s)},250)}[ni(309)](t){const e=ni,n=t,r=n[e(312)];if(n[e(329)]==bn[e(317)]||n[e(329)]==bn.POINTERCANCEL){delete this[e(331)][r];for(const s in this[e(331)])if(this[e(331)][s][e(334)]!==n.target){delete this.trackedTouches_[s];break}}else(n[e(329)]==bn.POINTERDOWN||n[e(329)]==bn[e(283)])&&(this.trackedTouches_[r]=n);this[e(337)]=Object[e(319)](this[e(331)])}handlePointerUp_(t){const e=ni;this[e(309)](t);const n=new oo(bn[e(317)],this[e(295)],t,void 0,void 0,this[e(337)]);this[e(300)](n),this[e(326)]&&!n[e(332)]&&!this[e(339)]&&this[e(318)](t)&&this.emulateClick_(this[e(342)]),this[e(337)][e(287)]===0&&(this[e(293)][e(335)](Xt),this.dragListenerKeys_[e(287)]=0,this.dragging_=!1,this[e(342)]=null)}[ni(318)](t){return t[ni(298)]===0}handlePointerDown_(t){const e=ni;this[e(326)]=this[e(337)][e(287)]===0,this[e(309)](t);const n=new oo(bn[e(301)],this[e(295)],t,void 0,void 0,this.activePointers_);if(this[e(300)](n),this[e(342)]=new PointerEvent(t[e(329)],t),Object[e(338)](this[e(342)],"target",{writable:!1,value:t.target}),this.dragListenerKeys_[e(287)]===0){const r=this[e(295)][e(325)]();this.dragListenerKeys_[e(308)](yt(r,bn.POINTERMOVE,this[e(288)],this),yt(r,bn[e(317)],this.handlePointerUp_,this),yt(this[e(297)],bn[e(289)],this.handlePointerUp_,this)),this.element_[e(286)]&&this[e(297)][e(286)]()!==r&&this.dragListenerKeys_.push(yt(this[e(297)][e(286)](),bn[e(317)],this.handlePointerUp_,this))}}[ni(288)](t){const e=ni;if(this[e(343)](t)){this[e(309)](t),this[e(339)]=!0;const n=new oo(bn.POINTERDRAG,this[e(295)],t,this.dragging_,void 0,this.activePointers_);this[e(300)](n)}}relayMoveEvent_(t){const e=ni;this[e(302)]=t;const n=!!(this[e(342)]&&this[e(343)](t));this.dispatchEvent(new oo(bn[e(283)],this.map_,t,n))}[ni(316)](t){const e=ni,n=this[e(302)];(!n||n[e(332)])&&(typeof t.cancelable!==e(315)||t[e(284)]===!0)&&t[e(328)]()}[ni(343)](t){const e=ni;return this[e(339)]||Math[e(323)](t[e(290)]-this.down_[e(290)])>this[e(285)]||Math.abs(t[e(324)]-this[e(342)][e(324)])>this[e(285)]}[ni(340)](){const t=ni;this.relayedListenerKey_&&(Xt(this[t(305)]),this[t(305)]=null),this[t(297)][t(333)](Ye[t(299)],this[t(292)]),this[t(341)]&&(Xt(this[t(341)]),this[t(341)]=null),this[t(293)][t(335)](Xt),this[t(293)][t(287)]=0,this.element_=null,super[t(340)]()}}var mf=zg;function Gg(){var i=["moveend","8910624MaVwjc","postrender","4558535nxfKjK","24uJetJZ","1473410BTSxXU","1927996bJMMlh","98154iRUqdx","220AMOvyS","movestart","4sIGzye","loadend","3221073BgzSin","loadstart","33zQLKTI","6tqxwpM","186379hmJQnE"];return Gg=function(){return i},Gg()}function zg(i,t){var e=Gg();return zg=function(n,r){n=n-190;var s=e[n];return s},zg(i,t)}(function(i,t){for(var e=zg,n=i();;)try{var r=parseInt(e(200))/1*(-parseInt(e(194))/2)+parseInt(e(191))/3*(parseInt(e(192))/4)+-parseInt(e(204))/5*(parseInt(e(199))/6)+parseInt(e(190))/7+parseInt(e(205))/8*(-parseInt(e(196))/9)+parseInt(e(206))/10*(parseInt(e(198))/11)+parseInt(e(202))/12;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gg,901337);const co={POSTRENDER:mf(203),MOVESTART:mf(193),MOVEEND:mf(201),LOADSTART:mf(197),LOADEND:mf(195)};var $B=Vg;function Vg(i,t){var e=Hg();return Vg=function(n,r){n=n-436;var s=e[n];return s},Vg(i,t)}(function(i,t){for(var e=Vg,n=i();;)try{var r=parseInt(e(439))/1*(-parseInt(e(446))/2)+parseInt(e(436))/3*(parseInt(e(447))/4)+-parseInt(e(443))/5+parseInt(e(445))/6+parseInt(e(440))/7*(-parseInt(e(438))/8)+parseInt(e(442))/9+-parseInt(e(437))/10*(-parseInt(e(444))/11);if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hg,246072);function Hg(){var i=["layergroup","1620333RACdCa","1187810hnGvNM","5530943vrLxfT","2153526ClOumh","884178XBCptQ","12UzSDRO","target","130692lJMTky","10funibF","32rEVqde","1MevtnH","431795smynod"];return Hg=function(){return i},Hg()}const pi={LAYERGROUP:$B(441),SIZE:"size",TARGET:$B(448),VIEW:"view"},lo=_f;(function(i,t){const e=_f,n=i();for(;;)try{if(parseInt(e(184))/1+parseInt(e(201))/2+-parseInt(e(199))/3*(parseInt(e(200))/4)+parseInt(e(185))/5*(parseInt(e(203))/6)+-parseInt(e(183))/7*(parseInt(e(191))/8)+-parseInt(e(208))/9*(parseInt(e(196))/10)+parseInt(e(198))/11*(parseInt(e(186))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(qg,162156);function qg(){const i=["7hfWeBd","202932ZdqkFh","302215MDAyIJ","8196ZTxCua","target_","map_","style","disposeInternal","446528KwvaYZ","render","POSTRENDER","element","appendChild","1362330UoeVdL","pointerEvents","4983lmmlAY","3SDFLvv","976340WVIVVf","202612yVppzS","auto","12pVDnaM","setTarget","push","setMap","remove","18zUmUcr","length","target","getOverlayContainerStopEvent","listenerKeys"];return qg=function(){return i},qg()}function _f(i,t){const e=qg();return _f=function(n,r){return n=n-183,e[n]},_f(i,t)}class HE extends ps{constructor(t){const e=_f;super();const n=t[e(194)];n&&!t[e(210)]&&!n[e(189)][e(197)]&&(n[e(189)][e(197)]=e(202)),this[e(194)]=n||null,this.target_=null,this[e(188)]=null,this[e(212)]=[],t[e(192)]&&(this[e(192)]=t[e(192)]),t[e(210)]&&this[e(204)](t[e(210)])}[lo(190)](){var e;const t=lo;(e=this[t(194)])==null||e[t(207)](),super[t(190)]()}getMap(){return this[lo(188)]}[lo(206)](t){var n;const e=lo;this[e(188)]&&((n=this[e(194)])==null||n[e(207)]());for(let r=0,s=this[e(212)][e(209)];r<s;++r)Xt(this[e(212)][r]);this[e(212)].length=0,this.map_=t,t&&((this[e(187)]??t[e(211)]())[e(195)](this[e(194)]),this[e(192)]!==ic&&this[e(212)][e(205)](yt(t,co[e(193)],this[e(192)],this)),t[e(192)]())}[lo(192)](t){}[lo(204)](t){const e=lo;this[e(187)]=typeof t=="string"?document.getElementById(t):t}}const ii=If;function If(i,t){const e=Yg();return If=function(n,r){return n=n-377,e[n]},If(i,t)}(function(i,t){const e=If,n=i();for(;;)try{if(-parseInt(e(411))/1+parseInt(e(446))/2+-parseInt(e(419))/3+parseInt(e(438))/4+-parseInt(e(440))/5*(parseInt(e(408))/6)+parseInt(e(424))/7+-parseInt(e(402))/8===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Yg,926867);class NL extends HE{constructor(t){const e=If;t=t||{},super({element:document[e(403)]("div"),render:t[e(393)],target:t[e(420)]}),this[e(421)]=document[e(403)]("ul"),this[e(407)]=t[e(388)]!==void 0?t[e(388)]:!0,this[e(401)]=this[e(407)],this.overrideCollapsible_=t.collapsible!==void 0,this[e(430)]=t[e(377)]!==void 0?t[e(377)]:!0,!this[e(430)]&&(this[e(407)]=!1),this[e(415)]=t[e(385)];const n=t.className!==void 0?t[e(397)]:e(379),r=t[e(391)]!==void 0?t[e(391)]:e(394),s=t[e(416)]!==void 0?t.expandClassName:n+e(437),a=t[e(390)]!==void 0?t[e(390)]:"",o=t[e(414)]!==void 0?t[e(414)]:n+"-collapse";typeof a===e(396)?(this[e(422)]=document[e(403)](e(429)),this[e(422)][e(447)]=a,this[e(422)][e(397)]=o):this.collapseLabel_=a;const l=t[e(423)]!==void 0?t[e(423)]:"i";typeof l===e(396)?(this[e(413)]=document[e(403)](e(429)),this[e(413)][e(447)]=l,this[e(413)][e(397)]=s):this[e(413)]=l;const c=this[e(430)]&&!this.collapsed_?this[e(422)]:this[e(413)];this[e(381)]=document[e(403)]("button"),this.toggleButton_[e(392)](e(395),e(448)),this.toggleButton_[e(392)](e(400),String(!this[e(407)])),this[e(381)][e(433)]=r,this[e(381)][e(418)](c),this.toggleButton_[e(378)](Ye[e(431)],this[e(404)][e(445)](this),!1);const x=n+" "+HA+" "+II+(this[e(407)]&&this.collapsible_?" "+Q3:"")+(this[e(430)]?"":e(434)),u=this[e(428)];u[e(397)]=x,u[e(418)](this[e(381)]),u[e(418)](this[e(421)]),this[e(398)]=[],this[e(417)]=!0}[ii(389)](t){const e=ii,n=this.getMap().getAllLayers(),r=new Set(n[e(444)](s=>s[e(436)](t)));if(this[e(415)]!==void 0&&(Array[e(427)](this[e(415)])?this[e(415)].forEach(s=>r[e(386)](s)):r[e(386)](this.attributions_)),!this[e(441)]){const s=!n[e(442)](a=>{var o;return((o=a[e(384)]())==null?void 0:o.getAttributionsCollapsible())===!1});this[e(399)](s)}return Array[e(426)](r)}async[ii(439)](t){const e=ii;if(!t){this[e(417)]&&(this.element[e(383)][e(382)]="none",this.renderedVisible_=!1);return}const n=await Promise[e(443)](this.collectSourceAttributions_(t).map(s=>rc(()=>s))),r=n.length>0;if(this.renderedVisible_!=r&&(this[e(428)][e(383)].display=r?"":e(380),this[e(417)]=r),!Na(n,this[e(398)])){QT(this[e(421)]);for(let s=0,a=n[e(409)];s<a;++s){const o=document[e(403)]("li");o.innerHTML=n[s],this[e(421)][e(418)](o)}this[e(398)]=n}}handleClick_(t){const e=ii;t[e(387)](),this[e(412)](),this.userCollapsed_=this[e(407)]}[ii(412)](){const t=ii;this[t(428)].classList[t(406)](Q3),this[t(407)]?M3(this[t(422)],this[t(413)]):M3(this[t(413)],this[t(422)]),this[t(407)]=!this[t(407)],this[t(381)].setAttribute(t(400),String(!this[t(407)]))}[ii(432)](){return this[ii(430)]}[ii(399)](t){const e=ii;this[e(430)]!==t&&(this.collapsible_=t,this[e(428)][e(405)][e(406)]("ol-uncollapsible"),this.userCollapsed_&&this[e(412)]())}[ii(410)](t){const e=ii;this[e(401)]=t,!(!this[e(430)]||this.collapsed_===t)&&this[e(412)]()}[ii(425)](){return this[ii(407)]}[ii(393)](t){const e=ii;this[e(439)](t[e(435)])}}function Yg(){const i=["getAttributions","-expand","5337496OAiAgO","updateElement_","1360OiKwWZ","overrideCollapsible_","some","all","flatMap","bind","1031226OODVnQ","textContent","button","collapsible","addEventListener","ol-attribution","none","toggleButton_","display","style","getSource","attributions","add","preventDefault","collapsed","collectSourceAttributions_","collapseLabel","tipLabel","setAttribute","render","Attributions","type","string","className","renderedAttributions_","setCollapsible","aria-expanded","userCollapsed_","3819192pFPley","createElement","handleClick_","classList","toggle","collapsed_","5718gZCpce","length","setCollapsed","502553WryDUD","handleToggle_","label_","collapseClassName","attributions_","expandClassName","renderedVisible_","appendChild","32910cJeMSA","target","ulElement_","collapseLabel_","label","2289126GvzQIu","getCollapsed","from","isArray","element","span","collapsible_","CLICK","getCollapsible","title"," ol-uncollapsible","frameState"];return Yg=function(){return i},Yg()}const il=Ef;function Wg(){const i=["651632qbpSmH","label_","1045512RjcMto","appendChild","createElement","-reset","rad)","contains","5160745wQxqDW","tipLabel","rotation_","type","handleClick_","button","div","style","780215qZRDqM","string","resetNorth_","preventDefault","resetNorth","Reset rotation","viewState","autoHide_","title","rotate(","element","compassClassName","getRotation","bind","6725663lBfDfM","classList","transform","ol-rotate","duration_","duration","4UZpcBQ","label","className","getMap","231621kFzBxN","callResetNorth_","textContent","render","6qrkdqn","setRotation","addEventListener","add","11504700WMtQEj","target","CLICK","ol-compass"];return Wg=function(){return i},Wg()}(function(i,t){const e=Ef,n=i();for(;;)try{if(parseInt(e(187))/1+parseInt(e(173))/2+-parseInt(e(159))/3+parseInt(e(155))/4*(-parseInt(e(179))/5)+parseInt(e(163))/6*(-parseInt(e(149))/7)+parseInt(e(171))/8+parseInt(e(167))/9===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wg,592560);function Ef(i,t){const e=Wg();return Ef=function(n,r){return n=n-137,e[n]},Ef(i,t)}class OL extends HE{constructor(t){const e=Ef;t=t||{},super({element:document.createElement(e(185)),render:t[e(162)],target:t[e(168)]});const n=t[e(157)]!==void 0?t[e(157)]:e(152),r=t[e(156)]!==void 0?t[e(156)]:"",s=t[e(146)]!==void 0?t.compassClassName:e(170);this.label_=null,typeof r===e(188)?(this[e(172)]=document[e(175)]("span"),this[e(172)].className=s,this[e(172)][e(161)]=r):(this[e(172)]=r,this[e(172)][e(150)][e(166)](s));const a=t.tipLabel?t[e(180)]:e(140),o=document.createElement("button");o.className=n+e(176),o.setAttribute(e(182),e(184)),o[e(143)]=a,o[e(174)](this[e(172)]),o[e(165)](Ye[e(169)],this.handleClick_[e(148)](this),!1);const l=n+" "+HA+" "+II,c=this[e(145)];c[e(157)]=l,c[e(174)](o),this[e(160)]=t[e(139)]?t[e(139)]:void 0,this[e(153)]=t[e(154)]!==void 0?t.duration:250,this[e(142)]=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this[e(142)]&&this.element.classList[e(166)](zA)}[il(183)](t){const e=il;t[e(138)](),this[e(160)]!==void 0?this[e(160)]():this.resetNorth_()}[il(137)](){const t=il,e=this[t(158)](),n=e.getView();if(!n)return;const r=n[t(147)]();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Ic}):n[t(164)](0))}[il(162)](t){const e=il,n=t.frameState;if(!n)return;const r=n[e(141)].rotation;if(r!=this[e(181)]){const s=e(144)+r+e(177);if(this[e(142)]){const a=this[e(145)][e(150)][e(178)](zA);!a&&r===0?this.element[e(150)][e(166)](zA):a&&r!==0&&this[e(145)].classList.remove(zA)}this[e(172)][e(186)][e(151)]=s}this[e(181)]=r}}const Xg=yf;(function(i,t){const e=yf,n=i();for(;;)try{if(parseInt(e(175))/1*(parseInt(e(186))/2)+parseInt(e(204))/3*(-parseInt(e(190))/4)+-parseInt(e(182))/5+parseInt(e(173))/6*(-parseInt(e(184))/7)+parseInt(e(205))/8+parseInt(e(198))/9*(parseInt(e(178))/10)+parseInt(e(188))/11*(parseInt(e(183))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Kg,635383);function Kg(){const i=["10368470JYcuAd","Zoom out","createElement","CLICK","3643475cZJeqm","12QnPcHI","77DYwZVk","getConstrainedZoom","12BAzrKG","setAttribute","3166889VVazUG","element","132dVkizG","appendChild","createTextNode","zoomInClassName","handleClick_","cancelAnimations","getMap","-in","9vDHmIG","preventDefault","title","delta","div","zoomOutLabel","93096zQGUHW","8707192wLskbN","zoomByDelta_","zoomOutTipLabel","duration","getZoom","zoomInTipLabel","duration_","zoomInLabel","-out","button","string","671058Tdubqq","addEventListener","200877whcsba","zoomOutClassName","className"];return Kg=function(){return i},Kg()}function yf(i,t){const e=Kg();return yf=function(n,r){return n=n-165,e[n]},yf(i,t)}class GL extends HE{constructor(t){const e=yf;t=t||{},super({element:document.createElement(e(202)),target:t.target});const n=t[e(177)]!==void 0?t.className:"ol-zoom",r=t.delta!==void 0?t[e(201)]:1,s=t[e(193)]!==void 0?t.zoomInClassName:n+e(197),a=t.zoomOutClassName!==void 0?t[e(176)]:n+e(170),o=t.zoomInLabel!==void 0?t[e(169)]:"+",l=t[e(203)]!==void 0?t.zoomOutLabel:"",c=t[e(167)]!==void 0?t[e(167)]:"Zoom in",x=t[e(207)]!==void 0?t[e(207)]:e(179),u=document[e(180)](e(171));u.className=s,u[e(187)]("type",e(171)),u.title=c,u[e(191)](typeof o===e(172)?document[e(192)](o):o),u[e(174)](Ye[e(181)],this.handleClick_.bind(this,r),!1);const f=document[e(180)](e(171));f[e(177)]=a,f.setAttribute("type","button"),f[e(200)]=x,f[e(191)](typeof l===e(172)?document[e(192)](l):l),f[e(174)](Ye[e(181)],this[e(194)].bind(this,-r),!1);const h=n+" "+HA+" "+II,A=this[e(189)];A[e(177)]=h,A[e(191)](u),A[e(191)](f),this[e(168)]=t[e(165)]!==void 0?t[e(165)]:250}[Xg(194)](t,e){const n=Xg;e[n(199)](),this[n(206)](t)}[Xg(206)](t){const e=Xg,n=this[e(196)](),r=n.getView();if(!r)return;const s=r[e(166)]();if(s!==void 0){const a=r[e(185)](s+t);this[e(168)]>0?(r.getAnimating()&&r[e(195)](),r.animate({zoom:a,duration:this[e(168)],easing:Ic})):r.setZoom(a)}}}(function(i,t){const e=jg,n=i();for(;;)try{if(parseInt(e(348))/1*(parseInt(e(357))/2)+-parseInt(e(349))/3*(-parseInt(e(342))/4)+-parseInt(e(345))/5*(parseInt(e(346))/6)+-parseInt(e(353))/7+parseInt(e(341))/8*(parseInt(e(351))/9)+parseInt(e(356))/10+-parseInt(e(340))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Jg,499785);function Jg(){const i=["9XUGoZP","rotate","2098110Rspcrz","push","rotateOptions","3306720lOKpzt","194918HqtoRR","5053653xQZwoE","141832uNTMyM","5204BDyaWl","attributionOptions","attribution","27705oWVWzS","24OSCWeL","zoom","1jvjdhK","1926gjDkWm","zoomOptions"];return Jg=function(){return i},Jg()}function jg(i,t){const e=Jg();return jg=function(n,r){return n=n-340,e[n]},jg(i,t)}function zL(i){const t=jg;i=i||{};const e=new ws;return(i[t(347)]!==void 0?i[t(347)]:!0)&&e.push(new GL(i[t(350)])),(i[t(352)]!==void 0?i[t(352)]:!0)&&e[t(354)](new OL(i[t(355)])),(i[t(344)]!==void 0?i[t(344)]:!0)&&e[t(354)](new NL(i[t(343)])),e}(function(i,t){for(var e=qE,n=i();;)try{var r=-parseInt(e(160))/1*(parseInt(e(151))/2)+parseInt(e(158))/3+parseInt(e(154))/4*(parseInt(e(155))/5)+parseInt(e(156))/6*(parseInt(e(150))/7)+-parseInt(e(152))/8*(parseInt(e(153))/9)+-parseInt(e(159))/10+parseInt(e(149))/11*(-parseInt(e(157))/12);if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Zg,969369);function qE(i,t){var e=Zg();return qE=function(n,r){n=n-149;var s=e[n];return s},qE(i,t)}const eS={ACTIVE:"active"};function Zg(){var i=["2421oVssVm","4TCwQny","8462550CmCuEU","9418866jBCBdx","1504380JPRPVK","2515635Gtlsbo","18100560FppyNJ","298796JnPsmj","33Qdcapa","7NhXSCZ","6JmQSVE","1456uEZXHB"];return Zg=function(){return i},Zg()}const Bs=Cf;(function(i,t){const e=Cf,n=i();for(;;)try{if(parseInt(e(338))/1*(-parseInt(e(333))/2)+parseInt(e(345))/3+parseInt(e(334))/4*(-parseInt(e(340))/5)+-parseInt(e(348))/6+parseInt(e(329))/7+-parseInt(e(354))/8*(parseInt(e(330))/9)+-parseInt(e(350))/10*(-parseInt(e(353))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})($g,245733);class bf extends ps{constructor(t){const e=Cf;super(),this.on,this[e(344)],this.un,t&&t[e(346)]&&(this.handleEvent=t[e(346)]),this[e(331)]=null,this.setActive(!0)}[Bs(352)](){const t=Bs;return this[t(355)](eS[t(351)])}[Bs(356)](){return this[Bs(331)]}handleEvent(t){return!0}[Bs(341)](t){this[Bs(342)](eS.ACTIVE,t)}[Bs(332)](t){const e=Bs;this[e(331)]=t}}function VL(i,t,e){const n=Bs,r=i[n(347)]();if(r){const s=[r[0]+t[0],r[1]+t[1]];i.animateInternal({duration:e!==void 0?e:250,easing:AD,center:i[n(349)](s)})}}function YE(i,t,e,n){const r=Bs,s=i[r(343)]();if(s===void 0)return;const a=i[r(337)](s+t),o=i[r(336)](a);i[r(357)]()&&i[r(335)](),i[r(339)]({resolution:o,anchor:e,duration:n!==void 0?n:250,easing:Ic})}function Cf(i,t){const e=$g();return Cf=function(n,r){return n=n-329,e[n]},Cf(i,t)}function $g(){const i=["getConstrainedCenter","626690NkXKaz","ACTIVE","getActive","11YEofdn","5240qmcphn","get","getMap","getAnimating","2717302RyxRGk","1557aqEpRy","map_","setMap","10552NLWloz","215676ctBErM","cancelAnimations","getResolutionForZoom","getConstrainedZoom","27ASEWjL","animate","10AarFRp","setActive","set","getZoom","once","631260WCzXQT","handleEvent","getCenterInternal","311622hkowbg"];return $g=function(){return i},$g()}(function(i,t){const e=vf,n=i();for(;;)try{if(parseInt(e(134))/1*(parseInt(e(135))/2)+-parseInt(e(124))/3*(-parseInt(e(133))/4)+-parseInt(e(132))/5*(-parseInt(e(119))/6)+-parseInt(e(117))/7*(parseInt(e(118))/8)+parseInt(e(121))/9+parseInt(e(123))/10+-parseInt(e(125))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(em,858521);function em(){const i=["4716RRNwBE","DBLCLICK","9505845RVYjni","map","3051970CYrVQD","910743ipUmht","30851601Zhrbkt","duration_","delta","originalEvent","delta_","type","getView","335RuwkLa","20YxNvfk","138806beEkCq","22NXMpje","coordinate","427slpEBL","104344WTcxca"];return em=function(){return i},em()}function vf(i,t){const e=em();return vf=function(n,r){return n=n-117,e[n]},vf(i,t)}class HL extends bf{constructor(t){const e=vf;super(),t=t||{},this[e(129)]=t[e(127)]?t.delta:1,this[e(126)]=t.duration!==void 0?t.duration:250}handleEvent(t){const e=vf;let n=!1;if(t[e(130)]==bn[e(120)]){const r=t[e(128)],s=t[e(122)],a=t[e(136)],o=r.shiftKey?-this[e(129)]:this[e(129)],l=s[e(131)]();YE(l,o,a,this[e(126)]),r.preventDefault(),n=!0}return!n}}const xo=rl;(function(i,t){const e=rl,n=i();for(;;)try{if(-parseInt(e(351))/1*(-parseInt(e(355))/2)+parseInt(e(349))/3+-parseInt(e(336))/4+parseInt(e(337))/5+-parseInt(e(340))/6*(-parseInt(e(346))/7)+parseInt(e(354))/8+-parseInt(e(343))/9*(parseInt(e(358))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(tm,640461);function rl(i,t){const e=tm();return rl=function(n,r){return n=n-336,e[n]},rl(i,t)}class wf extends bf{constructor(t){const e=rl;t=t||{},super(t),t[e(342)]&&(this[e(342)]=t[e(342)]),t.handleDragEvent&&(this[e(357)]=t.handleDragEvent),t[e(347)]&&(this[e(347)]=t[e(347)]),t.handleUpEvent&&(this[e(338)]=t[e(338)]),t[e(361)]&&(this[e(361)]=t[e(361)]),this[e(339)]=!1,this.targetPointers=[]}getPointerCount(){const t=rl;return this.targetPointers[t(350)]}[xo(342)](t){return!1}handleDragEvent(t){}[xo(360)](t){const e=xo;if(!t.originalEvent)return!0;let n=!1;if(this[e(341)](t),this.handlingDownUpSequence){if(t[e(352)]==bn[e(345)])this[e(357)](t),t[e(353)][e(348)]();else if(t[e(352)]==bn.POINTERUP){const r=this[e(338)](t);this.handlingDownUpSequence=r&&this[e(344)][e(350)]>0}}else if(t[e(352)]==bn.POINTERDOWN){const r=this[e(342)](t);this[e(339)]=r,n=this.stopDown(r)}else t.type==bn.POINTERMOVE&&this[e(347)](t);return!n}handleMoveEvent(t){}[xo(338)](t){return!1}[xo(361)](t){return t}[xo(341)](t){const e=xo;t[e(359)]&&(this[e(344)]=t[e(359)])}}function tm(){const i=["length","163983CVzsPR","type","originalEvent","6386008KAqAAb","4stRoxn","clientX","handleDragEvent","40340mJEVCr","activePointers","handleEvent","stopDown","46560NJQUjC","5638820bdtwIt","handleUpEvent","handlingDownUpSequence","1081446IiIvtG","updateTrackedPointers_","handleDownEvent","7551xxnRfK","targetPointers","POINTERDRAG","35mdTTwL","handleMoveEvent","preventDefault","2644323uHVpkX"];return tm=function(){return i},tm()}function WE(i){const t=xo,e=i[t(350)];let n=0,r=0;for(let s=0;s<e;s++)n+=i[s][t(356)],r+=i[s].clientY;return{clientX:n/e,clientY:r/e}}(function(i,t){const e=Ki,n=i();for(;;)try{if(parseInt(e(239))/1*(-parseInt(e(225))/2)+-parseInt(e(227))/3*(-parseInt(e(220))/4)+parseInt(e(247))/5*(parseInt(e(216))/6)+-parseInt(e(229))/7*(parseInt(e(217))/8)+parseInt(e(245))/9*(-parseInt(e(240))/10)+-parseInt(e(235))/11*(-parseInt(e(223))/12)+-parseInt(e(246))/13*(-parseInt(e(241))/14)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(nm,592883);function XE(i){const t=arguments;return function(e){const n=Ki;let r=!0;for(let s=0,a=t[n(219)];s<a&&(r=r&&t[s](e),!!r);++s);return r}}const qL=function(i){const t=Ki,e=i.originalEvent;return e.altKey&&!(e[t(221)]||e[t(256)])&&e.shiftKey},YL=function(i){const t=Ki,e=i.map[t(238)](),n=e[t(254)](),r=i[t(232)][t(258)]()[t(224)];return n instanceof ShadowRoot?n[t(228)][t(248)](r):e[t(248)](r)},tS=function(i){const t=Ki,e=i.map.getTargetElement(),n=e[t(254)]();return(n instanceof ShadowRoot?n.host:e)[t(218)](t(249))?YL(i):!0},WL=Fx,nS=function(i){const t=Ki,e=i[t(244)];return e[t(251)]==0&&!(DT&&w3&&e[t(256)])};function nm(){const i=["contains","tabindex","INPUT","button","CLICK","SELECT","getRootNode","pen","ctrlKey","isPrimary","getOwnerDocument","target","tagName","4519266JdVIkd","152DokZMi","hasAttribute","length","147844tNwNQB","metaKey","pointerType","540ZGHDxM","activeElement","18yejGJT","mouse","39WbslEE","host","254233NheiAy","touch","SINGLECLICK","map","isContentEditable","shiftKey","12463iJWIwi","altKey","mapBrowserEvent must originate from a pointer event","getTargetElement","9265LzbmmQ","3370aThdpB","14sRzjWO","type","pointermove","originalEvent","13698SdIuUr","7729202SEYbBu","5roTQlg"];return nm=function(){return i},nm()}const iS=function(i){const t=Ki,e=i[t(244)];return!e[t(236)]&&!(e[t(221)]||e.ctrlKey)&&!e[t(234)]},XL=function(i){const t=Ki,e=i[t(244)];return w3?e.metaKey:e[t(256)]},KL=function(i){const t=Ki,e=i.originalEvent;return!e.altKey&&!(e.metaKey||e[t(256)])&&e[t(234)]};function Ki(i,t){const e=nm();return Ki=function(n,r){return n=n-214,e[n]},Ki(i,t)}const rS=function(i){const t=Ki,e=i[t(244)],n=e[t(214)][t(215)];return n!==t(250)&&n!==t(253)&&n!=="TEXTAREA"&&!e[t(214)][t(233)]},KE=function(i){const t=Ki,e=i[t(244)];return Mt(e!==void 0,t(237)),e[t(222)]==t(226)},JL=function(i){const t=Ki,e=i[t(244)];return Mt(e!==void 0,t(237)),e[t(257)]&&e[t(251)]===0},im=sl;function sl(i,t){const e=rm();return sl=function(n,r){return n=n-109,e[n]},sl(i,t)}(function(i,t){const e=sl,n=i();for(;;)try{if(-parseInt(e(149))/1*(parseInt(e(132))/2)+parseInt(e(128))/3*(parseInt(e(144))/4)+parseInt(e(131))/5*(parseInt(e(133))/6)+-parseInt(e(125))/7*(parseInt(e(116))/8)+parseInt(e(136))/9+-parseInt(e(110))/10+parseInt(e(130))/11*(parseInt(e(137))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(rm,347105);function rm(){const i=["344603jjfYDq","endInteraction","end","39cFPerM","onFocusOnly","768966GCymMB","4485UqvOPU","14RTzbKr","3618JZubhF","map","targetPointers","2472165KkmsDl","156zmnBlT","begin","update","getCoordinateFromPixelInternal","beginInteraction","lastPointersCount_","handleUpEvent","71072ceKETg","condition","condition_","sin","getConstrainedCenter","88081joHeAd","getCenterInternal","getDistance","6470630mEcSJh","handleDownEvent","getAngle","getEventPixel","lastCentroid","panning_","56jbmcjX","animateInternal","noKinetic_","getPixelFromCoordinateInternal","length","getView","kinetic_","getResolution","cancelAnimations"];return rm=function(){return i},rm()}class jL extends wf{constructor(t){const e=sl;super({stopDown:wA}),t=t||{},this[e(122)]=t.kinetic,this[e(114)]=null,this[e(142)],this[e(115)]=!1;const n=t.condition?t[e(145)]:XE(iS,JL);this[e(146)]=t[e(129)]?XE(tS,n):n,this[e(118)]=!1}handleDragEvent(t){const e=sl,n=t[e(134)];!this[e(115)]&&(this[e(115)]=!0,n[e(121)]()[e(141)]());const r=this[e(135)],s=n[e(113)](WE(r));if(r[e(120)]==this.lastPointersCount_){if(this[e(122)]&&this[e(122)][e(139)](s[0],s[1]),this[e(114)]){const a=[this[e(114)][0]-s[0],s[1]-this.lastCentroid[1]],o=t[e(134)],l=o.getView();lT(a,l[e(123)]()),J2(a,l.getRotation()),l.adjustCenterInternal(a)}}else this[e(122)]&&this[e(122)][e(138)]();this[e(114)]=s,this[e(142)]=r.length,t.originalEvent.preventDefault()}[im(143)](t){const e=im,n=t[e(134)],r=n.getView();if(this[e(135)][e(120)]===0){if(!this[e(118)]&&this[e(122)]&&this[e(122)][e(127)]()){const s=this.kinetic_[e(109)](),a=this[e(122)][e(112)](),o=r[e(150)](),l=n[e(119)](o),c=n[e(140)]([l[0]-s*Math.cos(a),l[1]-s*Math[e(147)](a)]);r[e(117)]({center:r[e(148)](c),duration:500,easing:Ic})}return this.panning_&&(this.panning_=!1,r[e(126)]()),!1}return this[e(122)]&&this.kinetic_[e(138)](),this[e(114)]=null,!0}[im(111)](t){const e=im;if(this[e(135)].length>0&&this.condition_(t)){const n=t.map,r=n.getView();return this[e(114)]=null,r.getAnimating()&&r[e(124)](),this.kinetic_&&this.kinetic_.begin(),this[e(118)]=this[e(135)][e(120)]>1,!0}return!1}}function Bf(i,t){const e=sm();return Bf=function(n,r){return n=n-190,e[n]},Bf(i,t)}function sm(){const i=["6167JWiJfQ","3989610dDCtYm","499464JgwmKT","handleDragEvent","lastAngle_","147286CFfode","duration_","beginInteraction","2035464ERhHhS","pixel","getConstraints","map","550OYCSLu","4hqvuQH","582crMsGC","46152mwGGoy","condition_","duration","atan2","adjustRotationInternal","condition","getView","7chuJWT","rotation","9LdWMxH","getSize","handleUpEvent","1059895CLsLYt","handleDownEvent"];return sm=function(){return i},sm()}const al=Bf;(function(i,t){const e=Bf,n=i();for(;;)try{if(-parseInt(e(214))/1*(parseInt(e(197))/2)+parseInt(e(194))/3+parseInt(e(205))/4*(parseInt(e(190))/5)+parseInt(e(206))/6*(parseInt(e(192))/7)+parseInt(e(200))/8*(parseInt(e(216))/9)+parseInt(e(193))/10+-parseInt(e(204))/11*(parseInt(e(207))/12)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(sm,409517);class ZL extends wf{constructor(t){const e=Bf;t=t||{},super({stopDown:wA}),this[e(208)]=t[e(212)]?t[e(212)]:qL,this.lastAngle_=void 0,this[e(198)]=t[e(209)]!==void 0?t[e(209)]:250}[al(195)](t){const e=al;if(!KE(t))return;const n=t[e(203)],r=n[e(213)]();if(r[e(202)]()[e(215)]===NI)return;const s=n[e(217)](),a=t[e(201)],o=Math[e(210)](s[1]/2-a[1],a[0]-s[0]/2);if(this[e(196)]!==void 0){const l=o-this[e(196)];r[e(211)](-l)}this[e(196)]=o}[al(218)](t){const e=al;return KE(t)?(t[e(203)][e(213)]().endInteraction(this.duration_),!1):!0}[al(191)](t){const e=al;return KE(t)&&nS(t)&&this[e(208)](t)?(t.map[e(213)]()[e(199)](),this[e(196)]=void 0,!0):!1}}function ol(i,t){const e=am();return ol=function(n,r){return n=n-262,e[n]},ol(i,t)}const Ss=ol;(function(i,t){const e=ol,n=i();for(;;)try{if(parseInt(e(271))/1+parseInt(e(263))/2*(parseInt(e(278))/3)+-parseInt(e(282))/4*(parseInt(e(286))/5)+-parseInt(e(268))/6*(parseInt(e(285))/7)+-parseInt(e(264))/8*(parseInt(e(289))/9)+parseInt(e(293))/10*(parseInt(e(266))/11)+-parseInt(e(279))/12===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(am,989945);function am(){const i=["map","element_","height","6RYOWpl","16xvBTWw","render_","358127LmACLU","auto","366006ztzstc","width","abs","839914iqIeCS","createElement","slice","setPixels","className","removeChild","top","212403oMjUyo","3842616PakHOZ","position","startPixel_","4dLKiar","getGeometry","left","21MjYaoB","1735160wthkSA","inherit","absolute","2168289DVOqAy","div","setMap","geometry_","390IghmkC","min","getCoordinateFromPixelInternal","map_","setCoordinates","createOrUpdateGeometry","style","endPixel_"];return am=function(){return i},am()}class $L extends Qx{constructor(t){const e=ol;super(),this[e(292)]=null,this[e(302)]=document[e(272)](e(290)),this[e(302)][e(299)][e(280)]=e(288),this[e(302)][e(299)].pointerEvents=e(267),this[e(302)][e(275)]="ol-box "+t,this[e(296)]=null,this[e(281)]=null,this[e(300)]=null}disposeInternal(){this[ol(291)](null)}[Ss(265)](){const t=Ss,e=this[t(281)],n=this[t(300)],r="px",s=this.element_[t(299)];s[t(284)]=Math[t(294)](e[0],n[0])+r,s[t(277)]=Math[t(294)](e[1],n[1])+r,s[t(269)]=Math.abs(n[0]-e[0])+r,s[t(262)]=Math[t(270)](n[1]-e[1])+r}[Ss(291)](t){const e=Ss;if(this.map_){this[e(296)].getOverlayContainer()[e(276)](this[e(302)]);const n=this[e(302)][e(299)];n[e(284)]="inherit",n.top=e(287),n[e(269)]=e(287),n.height="inherit"}this.map_=t,this.map_&&this[e(296)].getOverlayContainer().appendChild(this.element_)}[Ss(274)](t,e){const n=Ss;this.startPixel_=t,this[n(300)]=e,this.createOrUpdateGeometry(),this[n(265)]()}[Ss(298)](){const t=Ss;if(!this[t(296)])return;const e=this.startPixel_,n=this.endPixel_,r=[e,[e[0],n[1]],n,[n[0],e[1]]],s=r[t(301)](this[t(296)][t(295)],this[t(296)]);s[4]=s[0][t(273)](),this[t(292)]?this[t(292)][t(297)]([s]):this[t(292)]=new js([s])}[Ss(283)](){return this[Ss(292)]}}const Bi=om;(function(i,t){const e=om,n=i();for(;;)try{if(parseInt(e(216))/1+parseInt(e(204))/2*(-parseInt(e(192))/3)+-parseInt(e(205))/4*(-parseInt(e(194))/5)+parseInt(e(197))/6*(-parseInt(e(220))/7)+parseInt(e(207))/8+-parseInt(e(214))/9*(-parseInt(e(210))/10)+parseInt(e(209))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(cm,235913);const cl={BOXSTART:Bi(222),BOXDRAG:Bi(229),BOXEND:Bi(221),BOXCANCEL:Bi(230)};class Sf extends yr{constructor(t,e,n){const r=Bi;super(t),this[r(232)]=e,this[r(225)]=n}}class eF extends wf{constructor(t){const e=Bi;super(),this.on,this.once,this.un,t=t??{},this[e(226)]=new $L(t[e(224)]||e(228)),this[e(212)]=t[e(203)]??64,t[e(223)]&&(this.onBoxEnd=t[e(223)]),this.startPixel_=null,this[e(201)]=t[e(231)]??nS,this[e(227)]=t[e(199)]??this[e(198)]}defaultBoxEndCondition(t,e,n){const r=Bi,s=n[0]-e[0],a=n[1]-e[1];return s*s+a*a>=this[r(212)]}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){const e=Bi;this.startPixel_&&(this[e(226)].setPixels(this.startPixel_,t[e(218)]),this[e(196)](new Sf(cl[e(211)],t[e(232)],t)))}[Bi(213)](t){const e=Bi;if(!this[e(217)])return!1;const n=this[e(227)](t,this[e(217)],t[e(218)]);return n&&this[e(223)](t),this.dispatchEvent(new Sf(n?cl[e(215)]:cl.BOXCANCEL,t[e(232)],t)),this[e(226)][e(193)](null),this[e(217)]=null,!1}[Bi(208)](t){const e=Bi;return this.condition_(t)?(this[e(217)]=t[e(218)],this[e(226)][e(193)](t[e(200)]),this.box_[e(202)](this[e(217)],this[e(217)]),this[e(196)](new Sf(cl[e(206)],t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){const e=Bi;!t&&(this[e(226)][e(193)](null),this[e(217)]&&(this[e(196)](new Sf(cl[e(219)],this[e(217)],null)),this[e(217)]=null)),super[e(191)](t)}[Bi(193)](t){const e=Bi;this[e(195)]()&&(this[e(226)][e(193)](null),this[e(217)]&&(this.dispatchEvent(new Sf(cl[e(219)],this[e(217)],null)),this[e(217)]=null)),super[e(193)](t)}}function om(i,t){const e=cm();return om=function(n,r){return n=n-191,e[n]},om(i,t)}function cm(){const i=["minArea","2DGGwmp","69968mykkFw","BOXSTART","1624056kZuefV","handleDownEvent","6268625UrSzZK","684340TTEGuB","BOXDRAG","minArea_","handleUpEvent","18ETbflz","BOXEND","70988NJvtNC","startPixel_","pixel","BOXCANCEL","14VvBpIc","boxend","boxstart","onBoxEnd","className","mapBrowserEvent","box_","boxEndCondition_","ol-dragbox","boxdrag","boxcancel","condition","coordinate","setActive","1348629pjbFOX","setMap","5TWaasV","getMap","dispatchEvent","938322hEmUjR","defaultBoxEndCondition","boxEndCondition","map","condition_","setPixels"];return cm=function(){return i},cm()}const sS=Mf;(function(i,t){const e=Mf,n=i();for(;;)try{if(parseInt(e(169))/1+parseInt(e(170))/2+parseInt(e(168))/3+-parseInt(e(185))/4*(parseInt(e(188))/5)+parseInt(e(178))/6+-parseInt(e(180))/7*(-parseInt(e(183))/8)+-parseInt(e(174))/9*(parseInt(e(189))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(lm,963090);class tF extends eF{constructor(t){const e=Mf;t=t||{};const n=t[e(186)]?t[e(186)]:KL;super({condition:n,className:t[e(184)]||"ol-dragzoom",minArea:t.minArea}),this[e(166)]=t[e(187)]!==void 0?t[e(187)]:200,this[e(167)]=t[e(171)]!==void 0?t[e(171)]:!1}[sS(173)](t){const e=sS,n=this[e(179)](),r=n[e(175)]();let s=this[e(176)]();if(this[e(167)]){const a=r[e(182)](s),o=r[e(177)](a),l=r[e(172)]()/o;s=s[e(190)](),s.scale(l*l)}r[e(181)](s,{duration:this.duration_,easing:Ic})}}function lm(){const i=["rotatedExtentForGeometry","62128iarPWW","className","9524pOpvGw","condition","duration","1155WYTxti","1150790xpJPBe","clone","duration_","out_","1337358BgWJHH","1203002nuoFps","626254moXEpf","out","getResolution","onBoxEnd","324NhrZIV","getView","getGeometry","getResolutionForExtentInternal","10934544KXAfRN","getMap","1687XJnZdy","fitInternal"];return lm=function(){return i},lm()}function Mf(i,t){const e=lm();return Mf=function(n,r){return n=n-166,e[n]},Mf(i,t)}function xm(i,t){var e=um();return xm=function(n,r){n=n-307;var s=e[n];return s},xm(i,t)}function um(){var i=["11339864VDFbSN","ArrowUp","30TPXWAR","20mxgddj","390025nxltua","51cQXSsB","761385TLtBBb","32411302vLIQXU","21128KEhvfs","2266502eYmcVf","148270XBmHhX","ArrowRight","531LqxqLI","ArrowDown"];return um=function(){return i},um()}var JE=xm;(function(i,t){for(var e=xm,n=i();;)try{var r=parseInt(e(316))/1+parseInt(e(318))/2*(-parseInt(e(315))/3)+-parseInt(e(313))/4*(parseInt(e(314))/5)+-parseInt(e(312))/6*(parseInt(e(319))/7)+-parseInt(e(310))/8+-parseInt(e(308))/9*(-parseInt(e(320))/10)+parseInt(e(317))/11;if(r===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(um,976634);const m0={LEFT:"ArrowLeft",UP:JE(311),RIGHT:JE(307),DOWN:JE(309)};function Rf(i,t){const e=fm();return Rf=function(n,r){return n=n-228,e[n]},Rf(i,t)}const aS=Rf;(function(i,t){const e=Rf,n=i();for(;;)try{if(parseInt(e(250))/1*(parseInt(e(245))/2)+parseInt(e(246))/3*(parseInt(e(238))/4)+parseInt(e(241))/5*(parseInt(e(229))/6)+-parseInt(e(236))/7*(-parseInt(e(235))/8)+parseInt(e(248))/9*(-parseInt(e(244))/10)+-parseInt(e(233))/11*(-parseInt(e(231))/12)+-parseInt(e(253))/13===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(fm,402991);function fm(){const i=["key","5649192InJNNC","7ftUyjV","KEYDOWN","32YsrcYO","duration_","getResolution","5XGaIao","getRotation","type","50oRhGpd","87988tBRDDY","131952ZNSCAX","map","10107vCmkfw","defaultCondition_","8PFfHwg","getView","originalEvent","20840924mecaAt","DOWN","condition_","pixelDelta","duration","LEFT","pixelDelta_","902886VabqEy","RIGHT","1200hZIzKj","handleEvent","49643CFaFwP"];return fm=function(){return i},fm()}class nF extends bf{constructor(t){const e=Rf;super(),t=t||{},this[e(249)]=function(n){return iS(n)&&rS(n)},this[e(255)]=t.condition!==void 0?t.condition:this[e(249)],this[e(239)]=t.duration!==void 0?t[e(257)]:100,this.pixelDelta_=t[e(256)]!==void 0?t[e(256)]:128}[aS(232)](t){const e=aS;let n=!1;if(t[e(243)]==Ye[e(237)]){const r=t[e(252)],s=r[e(234)];if(this[e(255)](t)&&(s==m0.DOWN||s==m0[e(258)]||s==m0[e(230)]||s==m0.UP)){const a=t[e(247)],o=a[e(251)](),l=o[e(240)]()*this[e(228)];let c=0,x=0;s==m0[e(254)]?x=-l:s==m0[e(258)]?c=-l:s==m0[e(230)]?c=l:x=l;const u=[c,x];J2(u,o[e(242)]()),VL(o,u,this[e(239)]),r.preventDefault(),n=!0}}return!n}}const oS=Tf;(function(i,t){const e=Tf,n=i();for(;;)try{if(parseInt(e(470))/1*(-parseInt(e(468))/2)+-parseInt(e(456))/3+-parseInt(e(469))/4*(-parseInt(e(454))/5)+-parseInt(e(453))/6+-parseInt(e(459))/7*(parseInt(e(452))/8)+parseInt(e(457))/9+parseInt(e(464))/10*(parseInt(e(472))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(hm,265017);function Tf(i,t){const e=hm();return Tf=function(n,r){return n=n-452,e[n]},Tf(i,t)}function hm(){const i=["handleEvent","map","3930TYmiuS","preventDefault","delta","duration_","8498KbHgnQ","692dPRkOX","79ViOJAC","getView","25377AYLhjx","duration","type","248kuVsvQ","299550fdeddt","1470HJdLtX","condition_","1498815PCLITm","1875798rEAZbV","delta_","3549OIAsFq","KEYDOWN","KEYPRESS"];return hm=function(){return i},hm()}class iF extends bf{constructor(t){const e=Tf;super(),t=t||{},this[e(455)]=t.condition?t.condition:function(n){return!XL(n)&&rS(n)},this.delta_=t.delta?t[e(466)]:1,this[e(467)]=t[e(473)]!==void 0?t[e(473)]:100}[oS(462)](t){const e=oS;let n=!1;if(t[e(474)]==Ye[e(460)]||t.type==Ye[e(461)]){const r=t.originalEvent,s=r.key;if(this[e(455)](t)&&(s==="+"||s==="-")){const a=t[e(463)],o=s==="+"?this.delta_:-this[e(458)],l=a[e(471)]();YE(l,o,void 0,this[e(467)]),r[e(465)](),n=!0}}return!n}}const oa=Df;function Df(i,t){const e=Am();return Df=function(n,r){return n=n-127,e[n]},Df(i,t)}function Am(){const i=["update","length","2056725xYOCDE","3386615wCpWoU","46857jwFqQV","now","60KuvFTA","minVelocity_","initialVelocity_","atan2","getDistance","32xlPGXF","1589358PUOmIe","begin","end","delay_","1376640dLCJnJ","2209823rHOkjU","angle_","points_","18FeuGTR","decay_","5237881aJoouS","4hdunoY","getAngle"];return Am=function(){return i},Am()}(function(i,t){const e=Df,n=i();for(;;)try{if(-parseInt(e(150))/1+parseInt(e(129))/2*(parseInt(e(138))/3)+-parseInt(e(132))/4*(-parseInt(e(137))/5)+-parseInt(e(146))/6+-parseInt(e(151))/7*(parseInt(e(145))/8)+parseInt(e(136))/9+parseInt(e(140))/10*(parseInt(e(131))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Am,999156);class rF{constructor(t,e,n){const r=Df;this.decay_=t,this[r(141)]=e,this[r(149)]=n,this[r(128)]=[],this[r(127)]=0,this.initialVelocity_=0}[oa(147)](){const t=oa;this[t(128)][t(135)]=0,this.angle_=0,this[t(142)]=0}[oa(134)](t,e){const n=oa;this.points_.push(t,e,Date[n(139)]())}[oa(148)](){const t=oa;if(this[t(128)][t(135)]<6)return!1;const e=Date[t(139)]()-this[t(149)],n=this.points_.length-3;if(this[t(128)][n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const s=this[t(128)][n+2]-this[t(128)][r+2];if(s<1e3/60)return!1;const a=this.points_[n]-this[t(128)][r],o=this[t(128)][n+1]-this.points_[r+1];return this[t(127)]=Math[t(143)](o,a),this[t(142)]=Math.sqrt(a*a+o*o)/s,this[t(142)]>this[t(141)]}[oa(144)](){const t=oa;return(this[t(141)]-this[t(142)])/this[t(130)]}[oa(133)](){return this.angle_}}const uo=Qf;(function(i,t){const e=Qf,n=i();for(;;)try{if(parseInt(e(325))/1*(-parseInt(e(302))/2)+-parseInt(e(339))/3+parseInt(e(318))/4+parseInt(e(350))/5+parseInt(e(330))/6+-parseInt(e(322))/7+parseInt(e(308))/8*(parseInt(e(300))/9)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(dm,662728);function Qf(i,t){const e=dm();return Qf=function(n,r){return n=n-297,e[n]},Qf(i,t)}class sF extends bf{constructor(t){const e=Qf;t=t||{},super(t),this.totalDelta_=0,this[e(311)]=0,this[e(328)]=t.maxDelta!==void 0?t[e(307)]:1,this[e(341)]=t[e(315)]!==void 0?t[e(315)]:250,this[e(306)]=t[e(303)]!==void 0?t.timeout:80,this[e(326)]=t[e(348)]!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t[e(336)]:!1;const n=t[e(304)]?t[e(304)]:WL;this[e(309)]=t[e(327)]?XE(tS,n):n,this[e(313)]=null,this.startTime_=void 0,this[e(337)],this[e(340)]=void 0,this.trackpadEventGap_=400,this[e(352)],this[e(351)]=300}[uo(301)](){const t=uo;this[t(352)]=void 0;const e=this.getMap();if(!e)return;e[t(316)]()[t(297)](void 0,this.lastDelta_?this[t(311)]>0?1:-1:0,this.lastAnchor_?e[t(319)](this.lastAnchor_):null)}[uo(298)](t){const e=uo;if(!this[e(309)](t)||t[e(324)]!==Ye.WHEEL)return!0;const r=t.map,s=t[e(323)];s[e(321)](),this.useAnchor_&&(this[e(313)]=t[e(317)]);let a;if(t.type==Ye[e(332)]&&(a=s.deltaY,TT&&s[e(335)]===WheelEvent[e(334)]&&(a/=_A),s[e(335)]===WheelEvent[e(329)]&&(a*=40)),a===0)return!1;this[e(311)]=a;const o=Date.now();this[e(347)]===void 0&&(this[e(347)]=o),(!this[e(340)]||o-this[e(347)]>this[e(331)])&&(this.mode_=Math[e(320)](a)<4?e(342):e(305));const l=r[e(316)]();if(this[e(340)]===e(342)&&!(l[e(343)]()||this.constrainResolution_))return this[e(352)]?clearTimeout(this.trackpadTimeoutId_):(l[e(299)]()&&l.cancelAnimations(),l[e(312)]()),this.trackpadTimeoutId_=setTimeout(this[e(301)][e(333)](this),this[e(306)]),l[e(314)](-a/this[e(351)],this.lastAnchor_?r[e(319)](this[e(313)]):null),this[e(347)]=o,!1;this[e(344)]+=a;const c=Math[e(338)](this.timeout_-(o-this[e(347)]),0);return clearTimeout(this[e(337)]),this[e(337)]=setTimeout(this.handleWheelZoom_[e(333)](this,r),c),!1}[uo(345)](t){const e=uo,n=t[e(316)]();n.getAnimating()&&n[e(349)]();let r=-mn(this[e(344)],-this[e(328)]*this[e(351)],this[e(328)]*this[e(351)])/this[e(351)];(n[e(343)]()||this[e(310)])&&(r=r?r>0?1:-1:0),YE(n,r,this[e(313)]?t[e(319)](this[e(313)]):null,this[e(341)]),this.mode_=void 0,this[e(344)]=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}[uo(346)](t){const e=uo;this[e(326)]=t,!t&&(this[e(313)]=null)}}function dm(){const i=["7442184fEfgfo","trackpadEventGap_","WHEEL","bind","DOM_DELTA_PIXEL","deltaMode","constrainResolution","timeoutId_","max","1756443FEbzuq","mode_","duration_","trackpad","getConstrainResolution","totalDelta_","handleWheelZoom_","setMouseAnchor","startTime_","useAnchor","cancelAnimations","4738615dACupr","deltaPerZoom_","trackpadTimeoutId_","endInteraction","handleEvent","getAnimating","36NdLzKV","endInteraction_","2hLtMKk","timeout","condition","wheel","timeout_","maxDelta","224336eOVjAt","condition_","constrainResolution_","lastDelta_","beginInteraction","lastAnchor_","adjustZoom","duration","getView","pixel","1553704AHhbJM","getCoordinateFromPixel","abs","preventDefault","7024059JoeByb","originalEvent","type","437035XfjvYr","useAnchor_","onFocusOnly","maxDelta_","DOM_DELTA_LINE"];return dm=function(){return i},dm()}const Lf=Ff;(function(i,t){const e=Ff,n=i();for(;;)try{if(-parseInt(e(240))/1+parseInt(e(255))/2+parseInt(e(253))/3+parseInt(e(249))/4*(-parseInt(e(241))/5)+parseInt(e(264))/6+-parseInt(e(261))/7*(-parseInt(e(239))/8)+parseInt(e(254))/9*(-parseInt(e(245))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(pm,811758);function pm(){const i=["2879960XItrUG","833426XPfeJJ","370BbEcJA","endInteraction","getView","threshold_","9150VNtPtt","rotationDelta_","length","map","14596QRDtKY","targetPointers","handleDragEvent","rotating_","2604402MFXmKt","3402PQacLe","1159814dKNPek","getCoordinateFromPixelInternal","stopDown","adjustRotationInternal","clientX","duration","7Sqbkjc","lastAngle_","clientY","2718264ZeBcdS","handleDownEvent","abs","duration_","getEventPixel","anchor_","beginInteraction","rotation","threshold"];return pm=function(){return i},pm()}function Ff(i,t){const e=pm();return Ff=function(n,r){return n=n-237,e[n]},Ff(i,t)}class aF extends wf{constructor(t){const e=Ff;t=t||{};const n=t;!n[e(257)]&&(n.stopDown=wA),super(n),this.anchor_=null,this[e(262)]=void 0,this[e(252)]=!1,this[e(246)]=0,this[e(244)]=t[e(238)]!==void 0?t[e(238)]:.3,this[e(267)]=t[e(260)]!==void 0?t[e(260)]:250}[Lf(251)](t){const e=Lf;let n=0;const r=this[e(250)][0],s=this.targetPointers[1],a=Math.atan2(s[e(263)]-r.clientY,s[e(259)]-r[e(259)]);if(this[e(262)]!==void 0){const c=a-this[e(262)];this[e(246)]+=c,!this[e(252)]&&Math[e(266)](this.rotationDelta_)>this[e(244)]&&(this[e(252)]=!0),n=c}this.lastAngle_=a;const o=t[e(248)],l=o[e(243)]();l.getConstraints()[e(237)]!==NI&&(this[e(269)]=o[e(256)](o[e(268)](WE(this.targetPointers))),this[e(252)]&&(o.render(),l[e(258)](n,this[e(269)])))}handleUpEvent(t){const e=Lf;return this.targetPointers[e(247)]<2?(t[e(248)][e(243)]()[e(242)](this[e(267)]),!1):!0}[Lf(265)](t){const e=Lf;if(this[e(250)][e(247)]>=2){const n=t[e(248)];return this[e(269)]=null,this[e(262)]=void 0,this.rotating_=!1,this[e(246)]=0,!this.handlingDownUpSequence&&n[e(243)]()[e(270)](),!0}return!1}}const kf=Pf;(function(i,t){const e=Pf,n=i();for(;;)try{if(parseInt(e(186))/1*(-parseInt(e(184))/2)+parseInt(e(195))/3*(parseInt(e(193))/4)+parseInt(e(205))/5+parseInt(e(200))/6*(parseInt(e(208))/7)+-parseInt(e(182))/8+parseInt(e(201))/9*(parseInt(e(190))/10)+-parseInt(e(187))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(gm,697773);function gm(){const i=["30FwCSPS","clientY","duration","469940FZZJiw","getEventPixel","21Ggyhoe","anchor_","handleDownEvent","render","length","1735998IgZvRz","2166525gvsqRq","targetPointers","lastDistance_","duration_","5584535zRlErq","stopDown","handleDragEvent","28kEwzAH","sqrt","2738232ifNOOP","lastScaleDelta_","222aFbxuP","clientX","5804BROPjG","23479643TcblIL","map","getView"];return gm=function(){return i},gm()}function Pf(i,t){const e=gm();return Pf=function(n,r){return n=n-181,e[n]},Pf(i,t)}class oF extends wf{constructor(t){const e=Pf;t=t||{};const n=t;!n[e(206)]&&(n.stopDown=wA),super(n),this.anchor_=null,this[e(204)]=t[e(192)]!==void 0?t[e(192)]:400,this[e(203)]=void 0,this[e(183)]=1}[kf(207)](t){const e=kf;let n=1;const r=this[e(202)][0],s=this.targetPointers[1],a=r.clientX-s[e(185)],o=r[e(191)]-s[e(191)],l=Math[e(181)](a*a+o*o);this[e(203)]!==void 0&&(n=this[e(203)]/l),this[e(203)]=l;const c=t[e(188)],x=c.getView();n!=1&&(this[e(183)]=n),this[e(196)]=c.getCoordinateFromPixelInternal(c[e(194)](WE(this[e(202)]))),c[e(198)](),x.adjustResolutionInternal(n,this[e(196)])}handleUpEvent(t){const e=kf;if(this[e(202)][e(199)]<2){const n=t[e(188)],r=n[e(189)](),s=this[e(183)]>1?1:-1;return r.endInteraction(this[e(204)],s),!1}return!0}[kf(197)](t){const e=kf;if(this[e(202)][e(199)]>=2){const n=t[e(188)];return this[e(196)]=null,this[e(203)]=void 0,this[e(183)]=1,!this.handlingDownUpSequence&&n[e(189)]().beginInteraction(),!0}return!1}}(function(i,t){const e=mm,n=i();for(;;)try{if(parseInt(e(361))/1*(parseInt(e(366))/2)+parseInt(e(357))/3+-parseInt(e(370))/4+-parseInt(e(360))/5+parseInt(e(369))/6+-parseInt(e(374))/7*(parseInt(e(358))/8)+parseInt(e(365))/9*(parseInt(e(364))/10)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(_m,976403);function mm(i,t){const e=_m();return mm=function(n,r){return n=n-353,e[n]},mm(i,t)}function cF(i){const t=mm;i=i||{};const e=new ws,n=new rF(-.005,.05,100);return(i[t(371)]!==void 0?i[t(371)]:!0)&&e[t(353)](new ZL),(i[t(373)]!==void 0?i[t(373)]:!0)&&e[t(353)](new HL({delta:i[t(356)],duration:i[t(363)]})),(i.dragPan!==void 0?i[t(355)]:!0)&&e.push(new jL({onFocusOnly:i[t(354)],kinetic:n})),(i[t(362)]!==void 0?i[t(362)]:!0)&&e[t(353)](new aF),(i[t(368)]!==void 0?i[t(368)]:!0)&&e[t(353)](new oF({duration:i.zoomDuration})),(i[t(367)]!==void 0?i[t(367)]:!0)&&(e.push(new nF),e[t(353)](new iF({delta:i.zoomDelta,duration:i[t(363)]}))),(i[t(359)]!==void 0?i[t(359)]:!0)&&e[t(353)](new sF({onFocusOnly:i[t(354)],duration:i[t(363)]})),(i[t(372)]!==void 0?i[t(372)]:!0)&&e[t(353)](new tF({duration:i[t(363)]})),e}function _m(){const i=["doubleClickZoom","42FygiIt","push","onFocusOnly","dragPan","zoomDelta","3830019SeiPcD","2556040vSyFhz","mouseWheelZoom","2690845oJyBMa","202RifCtL","pinchRotate","zoomDuration","1907170CiXMsK","90YdLlGP","572ZXNqrk","keyboard","pinchZoom","3737772hxkAPZ","1731900nBzCZL","altShiftDragRotate","shiftDragZoom"];return _m=function(){return i},_m()}const fe=fo;(function(i,t){const e=fo,n=i();for(;;)try{if(parseInt(e(426))/1+parseInt(e(209))/2+-parseInt(e(281))/3+-parseInt(e(276))/4+parseInt(e(298))/5+-parseInt(e(331))/6+parseInt(e(285))/7*(parseInt(e(282))/8)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Im,116469);function fo(i,t){const e=Im();return fo=function(n,r){return n=n-207,e[n]},fo(i,t)}function Im(){const i=["viewPropertyListenerKey_","interactions","isArray","updateViewportSize_","get","CHANGE","pixelRatio","removeLayer","getOwnerDocument","getRootNode","documentElement","appendChild","handleLayerAdd_","getCoordinateFromPixel","borderTopWidth","createElement","ownerDocument","length","removeInteraction","animationDelayKey_","handleSizeChanged_","REMOVE","reprioritize","overlays_","frameIndex_","addChangeListener","offsetHeight","setProperties","hitTolerance","LOADSTART","No map visible because the map container's width or height are 0.","getCoordinateFromPixelInternal","handleBrowserEvent","870268nUhaWS","slice","renderSync","getLayerGroup","maxTilesLoading","368502GnebIn","8eifkdC","layerFilter","paddingBottom","3024217UHxtQd","getMap","contains","center","rotation","getEventPixel","max","renderComplete_","layer","getLayers","removeOverlay","LOADEND","hasRenderer","61875ZbyTVM","getSize","layerGroupPropertyListenerKeys_","PROPERTYCHANGE","viewChangeListenerKey_","TARGET","loadMoreTiles","setMap","coordinateToPixelTransform_","div","forEachFeatureAtPixel","getLoadingOrNotReady","hasListener","getElementById","clientX","getPixelFromCoordinateInternal","removeEventListener","Expected `overlays` to be an array or an `ol/Collection.js`","paddingTop","setSize","renderer_","maxTilesLoading_","function","overlayContainer_","borderLeftWidth","postRenderFunctions","overlayContainerStopEvent_","getAllLayers","now","ANIMATING","getClientRects","setMapInternal","render","938550ocvLFv","moveTolerance","host","getView","renderFrame_","VIEW","apply","getArray","borderRightWidth","style","getTilesLoading","getActive","hasFeatureAtPixel","KEYPRESS","POINTERDOWN","disposeInternal","addlayer","RENDERCOMPLETE","addControl","setLayerGroup","setTarget","nextRotation","removelayer","KEYDOWN","then","getProjection","getBoundingClientRect","checkWrapped","MOVEEND","left","pixelRatio_","handleEvent","LAYERGROUP","set","position","relative","getTargetElement"," ol-touch","getTilePriority","view","getEventCoordinate","getLayerStatesArray","handleViewPropertyChanged_","handleFontsChanged","resizeObserver_","getRenderer","bind","overlayIdIndex_","keyboardEventTarget","nextResolution","observe","pixelToCoordinateTransform","handleTargetChanged_","WHEEL","getTarget","extent","width","updateSize","handlePostRender","animate","ol-viewport","dispose","Expected `controls` to be an array or an `ol/Collection.js`","addEventListener","getAnimating","zIndex","remove","targetChangeHandlerKeys_","setView","type","dispatchEvent","frameState_","propagationStopped","handleViewChanged_","viewport_","previousExtent_","postRenderFunctions_","CONTEXTMENU","addOverlayInternal_","mapBrowserEventHandler_","keyboardEventTarget_","pixelToCoordinateTransform_","clientY","getCount","getInteractions","push","boundHandleBrowserEvent_","changedTouches","addOverlay","100%","getOverlays","unobserve","clear","none","ADD","17486FPcVVS","INTERACTING","targetElement_","loaded_","layers","handleTileChange_","height","paddingLeft","animationDelay_","302806gjMpKy","controls","getState","borderBottomWidth","resolveConstraints","getControls","Expected `interactions` to be an array or an `ol/Collection.js`","handleLayerGroupChanged_","getHints","getEventCoordinateInternal","toString","forEach","getId","element","overlays","tileQueue_","time","hasFeatureAtCoordinate","handleMapBrowserEvent","prototype","loading","getPixelFromCoordinate","top","nextCenter","absolute","setLayers","postRenderTimeoutHandle_","string","offsetWidth","getOverlayContainerStopEvent","isEmpty","target","visible","SIZE"];return Im=function(){return i},Im()}function cS(i){const t=fo;if(i instanceof n0){i[t(329)](null);return}i instanceof A0&&i[t(294)]()[t(220)](cS)}function lS(i,t){const e=fo;if(i instanceof n0){i.setMapInternal(t);return}if(i instanceof A0){const n=i[e(294)]()[e(338)]();for(let r=0,s=n[e(260)];r<s;++r)lS(n[r],t)}}let jE=class extends ps{constructor(t){const e=fo;super(),t=t||{},this.on,this.once,this.un;const n=lF(t);this.renderComplete_=!1,this[e(429)]=!0,this[e(417)]=this[e(275)][e(377)](this),this[e(319)]=t[e(280)]!==void 0?t[e(280)]:16,this[e(361)]=t[e(249)]!==void 0?t[e(249)]:_A,this[e(235)],this.animationDelayKey_,this[e(208)]=this[e(208)][e(377)](this),this[e(306)]=ki(),this[e(412)]=ki(),this.frameIndex_=0,this[e(402)]=null,this[e(406)]=null,this.viewPropertyListenerKey_=null,this[e(302)]=null,this.layerGroupPropertyListenerKeys_=null,this[e(405)]=document.createElement("div"),this[e(405)].className=e(391)+("ontouchstart"in window?e(368):""),this.viewport_[e(340)][e(365)]=e(366),this[e(405)].style.overflow="hidden",this[e(405)][e(340)][e(387)]="100%",this[e(405)][e(340)][e(432)]=e(420),this[e(321)]=document[e(258)]("div"),this.overlayContainer_[e(340)][e(365)]=e(233),this[e(321)][e(340)][e(396)]="0",this.overlayContainer_[e(340)][e(387)]="100%",this[e(321)].style[e(432)]=e(420),this.overlayContainer_.style.pointerEvents="none",this[e(321)].className="ol-overlaycontainer",this[e(405)][e(254)](this[e(321)]),this[e(324)]=document.createElement(e(307)),this[e(324)][e(340)][e(365)]=e(233),this[e(324)][e(340)][e(396)]="0",this.overlayContainerStopEvent_[e(340)][e(387)]=e(420),this[e(324)].style.height=e(420),this.overlayContainerStopEvent_[e(340)].pointerEvents=e(424),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this[e(405)][e(254)](this[e(324)]),this[e(410)]=null,this.moveTolerance_=t[e(332)],this[e(411)]=n[e(379)],this.targetChangeHandlerKeys_=null,this[e(428)]=null,this[e(375)]=new ResizeObserver(()=>this.updateSize()),this[e(210)]=n[e(210)]||zL(),this.interactions=n[e(244)]||cF({onFocusOnly:!0}),this[e(266)]=n.overlays,this[e(378)]={},this[e(318)]=null,this[e(407)]=[],this[e(224)]=new SB(this[e(369)][e(377)](this),this.handleTileChange_[e(377)](this)),this[e(268)](pi.LAYERGROUP,this[e(216)]),this[e(268)](pi[e(336)],this[e(404)]),this[e(268)](pi[e(242)],this[e(263)]),this.addChangeListener(pi[e(303)],this[e(383)]),this[e(270)](n.values);const r=this;t[e(370)]&&!(t[e(370)]instanceof Es)&&t[e(370)][e(355)](function(s){r[e(399)](new Es(s))}),this[e(210)][e(394)](Yi.ADD,s=>{const a=e;s[a(222)][a(305)](this)}),this[e(210)][e(394)](Yi[e(264)],s=>{s[e(222)].setMap(null)}),this[e(244)][e(394)](Yi[e(425)],s=>{const a=e;s[a(222)][a(305)](this)}),this[e(244)][e(394)](Yi[e(264)],s=>{s.element.setMap(null)}),this[e(266)].addEventListener(Yi.ADD,s=>{this[e(409)](s.element)}),this[e(266)][e(394)](Yi.REMOVE,s=>{const a=e,o=s[a(222)][a(221)]();o!==void 0&&delete this.overlayIdIndex_[o[a(219)]()],s.element[a(305)](null)}),this.controls[e(220)](s=>{s[e(305)](this)}),this.interactions[e(220)](s=>{s.setMap(this)}),this[e(266)][e(220)](this[e(409)][e(377)](this))}[fe(349)](t){this[fe(214)]().push(t)}addInteraction(t){const e=fe;this[e(415)]()[e(416)](t)}addLayer(t){const e=fe;this[e(279)]()[e(294)]()[e(416)](t)}[fe(255)](t){lS(t.layer,this)}[fe(419)](t){const e=fe;this[e(421)]()[e(416)](t)}[fe(409)](t){const e=fe,n=t.getId();n!==void 0&&(this[e(378)][n[e(219)]()]=t),t[e(305)](this)}[fe(346)](){const t=fe;this[t(210)][t(423)](),this.interactions[t(423)](),this.overlays_[t(423)](),this[t(375)].disconnect(),this[t(351)](null),super[t(346)]()}[fe(308)](t,e,n){const r=fe;if(!this[r(402)]||!this[r(318)])return;const s=this[r(274)](t);n=n!==void 0?n:{};const a=n[r(271)]!==void 0?n[r(271)]:0,o=n[r(283)]!==void 0?n[r(283)]:Fx,l=n[r(358)]!==!1;return this[r(318)].forEachFeatureAtCoordinate(s,this[r(402)],a,l,e,null,o,null)}getFeaturesAtPixel(t,e){const n=fe,r=[];return this[n(308)](t,function(s){r[n(416)](s)},e),r}[fe(325)](){const t=[];function e(n){const r=fo;n[r(220)](function(s){const a=r;s instanceof A0?e(s[a(294)]()):t[a(416)](s)})}return e(this.getLayers()),t}[fe(343)](t,e){const n=fe;if(!this[n(402)]||!this[n(318)])return!1;const r=this.getCoordinateFromPixelInternal(t);e=e!==void 0?e:{};const s=e[n(283)]!==void 0?e.layerFilter:Fx,a=e[n(271)]!==void 0?e[n(271)]:0,o=e.checkWrapped!==!1;return this[n(318)][n(226)](r,this[n(402)],a,o,s,null)}[fe(371)](t){const e=fe;return this[e(256)](this[e(290)](t))}[fe(218)](t){return this[fe(274)](this.getEventPixel(t))}[fe(290)](t){const e=fe,n=this[e(405)],r=n[e(357)](),s=this[e(299)](),a=r.width/s[0],o=r[e(432)]/s[1],l="changedTouches"in t?t[e(418)][0]:t;return[(l[e(312)]-r[e(360)])/a,(l[e(413)]-r[e(231)])/o]}[fe(385)](){const t=fe;return this[t(247)](pi[t(303)])}[fe(367)](){return this[fe(428)]}[fe(256)](t){const e=fe;return rI(this[e(274)](t),this[e(334)]()[e(356)]())}getCoordinateFromPixelInternal(t){const e=fe,n=this[e(402)];return n?Dn(n[e(382)],t[e(277)]()):null}[fe(214)](){return this[fe(210)]}[fe(421)](){return this.overlays_}getOverlayById(t){const e=fe,n=this[e(378)][t[e(219)]()];return n!==void 0?n:null}getInteractions(){return this[fe(244)]}[fe(279)](){const t=fe;return this[t(247)](pi[t(363)])}[fe(234)](t){const e=fe,n=this[e(279)]();if(t instanceof ws){n.setLayers(t);return}const r=n[e(294)]();r.clear(),r.extend(t)}[fe(294)](){return this[fe(279)]().getLayers()}getLoadingOrNotReady(){const t=fe,e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e[t(260)];n<r;++n){const s=e[n];if(!s[t(241)])continue;const a=s[t(293)].getRenderer();if(a&&!a.ready)return!0;const o=s[t(293)].getSource();if(o&&o[t(229)])return!0}return!1}[fe(230)](t){const e=fe,n=Ys(t,this.getView().getProjection());return this[e(313)](n)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?Dn(e.coordinateToPixelTransform,t.slice(0,2)):null}[fe(376)](){return this[fe(318)]}[fe(299)](){const t=fe;return this.get(pi[t(242)])}[fe(334)](){return this[fe(247)](pi.VIEW)}getViewport(){return this[fe(405)]}getOverlayContainer(){return this.overlayContainer_}[fe(238)](){return this[fe(324)]}[fe(251)](){const t=fe,e=this[t(367)]();return e?e[t(259)]:document}[fe(369)](t,e,n,r){return J9(this[fe(402)],t,e,n,r)}[fe(275)](t,e){e=e||t[fe(400)];const r=new oo(e,this,t);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(t){const e=fe;if(!this[e(402)])return;const n=t.originalEvent,r=n[e(400)];if(r===VE[e(345)]||r===Ye[e(384)]||r===Ye[e(354)]){const s=this[e(251)](),a=this[e(405)][e(252)]?this[e(405)][e(252)]():s,o=n[e(240)],l=a instanceof ShadowRoot?a.host===o?a[e(333)].ownerDocument:a:a===s?s[e(253)]:a;if(this[e(324)][e(287)](o)||!l.contains(o))return}if(t.frameState=this[e(402)],this[e(401)](t)!==!1){const s=this[e(415)]()[e(338)]()[e(277)]();for(let a=s[e(260)]-1;a>=0;a--){const o=s[a];if(o[e(286)]()!==this||!o[e(342)]()||!this[e(367)]())continue;if(!o[e(362)](t)||t[e(403)])break}}}[fe(389)](){const t=fe,e=this[t(402)],n=this[t(224)];if(!n[t(239)]()){let s=this[t(319)],a=s;if(e){const o=e.viewHints;if(o[xn[t(327)]]||o[xn[t(427)]]){const l=Date[t(326)]()-e[t(225)]>8;s=l?0:8,a=l?0:2}}n[t(341)]()<s&&(n[t(265)](),n[t(304)](s,a))}e&&this[t(318)]&&!e[t(390)]&&(this[t(292)]?(this.hasListener(br[t(348)])&&this[t(318)].dispatchRenderEvent(br[t(348)],e),this.loaded_===!1&&(this[t(429)]=!0,this[t(401)](new nl(co[t(296)],this,e)))):this.loaded_===!0&&(this[t(429)]=!1,this[t(401)](new nl(co[t(272)],this,e))));const r=this[t(407)];if(e)for(let s=0,a=r[t(260)];s<a;++s)r[s](this,e);r[t(260)]=0}[fe(263)](){const t=fe;this[t(334)]()&&!this[t(334)]()[t(395)]()&&this.getView()[t(213)](0),this[t(330)]()}[fe(383)](){const t=fe;if(this[t(410)]){for(let r=0,s=this[t(398)].length;r<s;++r)Xt(this[t(398)][r]);this[t(398)]=null,this[t(405)][t(314)](Ye[t(408)],this[t(417)]),this[t(405)][t(314)](Ye[t(384)],this[t(417)]),this[t(410)][t(392)](),this.mapBrowserEventHandler_=null,this[t(405)][t(397)]()}if(this[t(428)]){this[t(375)][t(422)](this[t(428)]);const r=this[t(428)].getRootNode();r instanceof ShadowRoot&&this.resizeObserver_[t(422)](r[t(333)]),this.setSize(void 0)}const e=this[t(385)](),n=typeof e===t(236)?document[t(311)](e):e;if(this[t(428)]=n,!n)this[t(318)]&&(clearTimeout(this.postRenderTimeoutHandle_),this[t(235)]=void 0,this[t(407)][t(260)]=0,this[t(318)][t(392)](),this[t(318)]=null),this.animationDelayKey_&&(cancelAnimationFrame(this[t(262)]),this[t(262)]=void 0);else{n[t(254)](this[t(405)]),!this[t(318)]&&(this[t(318)]=new PL(this)),this[t(410)]=new UL(this,this.moveTolerance_);for(const a in bn)this[t(410)][t(394)](bn[a],this[t(227)].bind(this));this.viewport_[t(394)](Ye.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this[t(405)][t(394)](Ye[t(384)],this[t(417)],S3?{passive:!1}:!1);let r;if(this[t(411)])r=this[t(411)];else{const a=n.getRootNode();r=a instanceof ShadowRoot?a[t(333)]:n}this.targetChangeHandlerKeys_=[yt(r,Ye[t(354)],this[t(275)],this),yt(r,Ye[t(344)],this[t(275)],this)];const s=n[t(252)]();s instanceof ShadowRoot&&this[t(375)].observe(s.host),this[t(375)][t(381)](n)}this[t(388)]()}[fe(431)](){this[fe(330)]()}[fe(373)](){this[fe(330)]()}[fe(404)](){const t=fe;this[t(243)]&&(Xt(this[t(243)]),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Xt(this[t(302)]),this[t(302)]=null);const e=this[t(334)]();e&&(this[t(246)](this[t(299)]()),this[t(243)]=yt(e,ac.PROPERTYCHANGE,this[t(373)],this),this.viewChangeListenerKey_=yt(e,Ye[t(248)],this[t(373)],this),e[t(213)](0)),this[t(330)]()}[fe(216)](){const t=fe;this[t(300)]&&(this[t(300)].forEach(Xt),this[t(300)]=null);const e=this[t(279)]();e&&(this[t(255)](new ao("addlayer",e)),this[t(300)]=[yt(e,ac[t(301)],this[t(330)],this),yt(e,Ye[t(248)],this.render,this),yt(e,t(347),this.handleLayerAdd_,this),yt(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}[fe(208)](){const t=fe;this.animationDelayKey_=void 0,this.renderFrame_(Date[t(326)]())}[fe(278)](){const t=fe;this[t(262)]&&cancelAnimationFrame(this[t(262)]),this[t(208)]()}redrawText(){const t=fe,e=this[t(279)]()[t(372)]();for(let n=0,r=e.length;n<r;++n){const s=e[n][t(293)];s[t(297)]()&&s[t(376)]()[t(374)]()}}[fe(330)](){const t=fe;this[t(318)]&&this[t(262)]===void 0&&(this[t(262)]=requestAnimationFrame(this[t(208)]))}removeControl(t){return this[fe(214)]().remove(t)}[fe(261)](t){const e=fe;return this[e(415)]()[e(397)](t)}[fe(250)](t){const e=fe;return this[e(279)]()[e(294)]()[e(397)](t)}handleLayerRemove_(t){cS(t[fe(293)])}[fe(295)](t){return this[fe(421)]().remove(t)}[fe(335)](t){const e=fe,n=this[e(299)](),r=this[e(334)](),s=this[e(402)];let a=null;if(n!==void 0&&I3(n)&&r&&r.isDef()){const o=r[e(217)](this[e(402)]?this[e(402)].viewHints:void 0),l=r[e(211)]();if(a={animate:!1,coordinateToPixelTransform:this[e(306)],declutter:null,extent:$h(l[e(288)],l.resolution,l[e(289)],n),index:this[e(267)]++,layerIndex:0,layerStatesArray:this.getLayerGroup()[e(372)](),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this[e(224)],time:t,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:tt(this),renderTargets:{}},l[e(232)]&&l[e(380)]){const c=isNaN(l[e(352)])?l[e(289)]:l[e(352)];a.nextExtent=$h(l[e(232)],l[e(380)],c,n)}}this[e(402)]=a,this.renderer_.renderFrame(a),a&&(a[e(390)]&&this[e(330)](),Array[e(228)].push[e(337)](this[e(407)],a[e(323)]),s&&(!this[e(406)]||!Oo(this[e(406)])&&!qs(a[e(386)],this[e(406)]))&&(this[e(401)](new nl(co.MOVESTART,this,s)),this[e(406)]=$0(this[e(406)])),this[e(406)]&&!a.viewHints[xn.ANIMATING]&&!a.viewHints[xn.INTERACTING]&&!qs(a[e(386)],this[e(406)])&&(this[e(401)](new nl(co[e(359)],this,a)),o3(a[e(386)],this[e(406)]))),this.dispatchEvent(new nl(co.POSTRENDER,this,a)),this.renderComplete_=(this[e(310)](co[e(272)])||this[e(310)](co[e(296)])||this[e(310)](br[e(348)]))&&!this[e(224)][e(341)]()&&!this[e(224)][e(414)]()&&!this[e(309)](),!this.postRenderTimeoutHandle_&&(this[e(235)]=setTimeout(()=>{const o=e;this[o(235)]=void 0,this[o(389)]()},0))}[fe(350)](t){const e=fe,n=this[e(279)]();n&&this.handleLayerRemove_(new ao(e(353),n)),this[e(364)](pi[e(363)],t)}[fe(317)](t){const e=fe;this[e(364)](pi[e(242)],t)}setTarget(t){const e=fe;this[e(364)](pi[e(303)],t)}[fe(399)](t){const e=fe;if(!t||t instanceof Es){this[e(364)](pi[e(336)],t);return}this[e(364)](pi[e(336)],new Es);const n=this;t[e(355)](function(r){n[e(399)](new Es(r))})}updateSize(){const t=fe,e=this[t(367)]();let n;if(e){const s=getComputedStyle(e),a=e.offsetWidth-parseFloat(s[t(322)])-parseFloat(s[t(207)])-parseFloat(s.paddingRight)-parseFloat(s[t(339)]),o=e[t(269)]-parseFloat(s[t(257)])-parseFloat(s[t(316)])-parseFloat(s[t(284)])-parseFloat(s[t(212)]);!isNaN(a)&&!isNaN(o)&&(n=[Math[t(291)](0,a),Math[t(291)](0,o)],!I3(n)&&(e[t(237)]||e[t(269)]||e[t(328)]().length)&&p3(t(273)))}const r=this[t(299)]();n&&(!r||!Na(n,r))&&(this.setSize(n),this[t(246)](n))}updateViewportSize_(t){const e=fe,n=this[e(334)]();n&&n.setViewportSize(t)}};function lF(i){const t=fe;let e=null;i[t(379)]!==void 0&&(e=typeof i[t(379)]===t(236)?document[t(311)](i[t(379)]):i[t(379)]);const n={},r=i[t(430)]&&typeof i[t(430)].getLayers=="function"?i[t(430)]:new A0({layers:i[t(430)]});n[pi[t(363)]]=r,n[pi.TARGET]=i[t(240)],n[pi[t(336)]]=i[t(370)]instanceof Es?i[t(370)]:new Es;let s;i[t(210)]!==void 0&&(Array[t(245)](i[t(210)])?s=new ws(i[t(210)][t(277)]()):(Mt(typeof i[t(210)][t(338)]===t(320),t(393)),s=i[t(210)]));let a;i[t(244)]!==void 0&&(Array.isArray(i.interactions)?a=new ws(i[t(244)][t(277)]()):(Mt(typeof i.interactions[t(338)]===t(320),t(215)),a=i[t(244)]));let o;return i[t(223)]!==void 0?Array[t(245)](i[t(223)])?o=new ws(i[t(223)][t(277)]()):(Mt(typeof i[t(223)][t(338)]=="function",t(315)),o=i[t(223)]):o=new ws,{controls:s,interactions:a,keyboardEventTarget:e,overlays:o,values:n}}const Et=Uf;(function(i,t){const e=Uf,n=i();for(;;)try{if(-parseInt(e(414))/1*(-parseInt(e(417))/2)+parseInt(e(411))/3+parseInt(e(492))/4+parseInt(e(440))/5+parseInt(e(493))/6+-parseInt(e(436))/7+-parseInt(e(394))/8===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Em,354240);function Em(){const i=["getClipCoords","size","execute","forEach","rotation","setTransform","getTileGridForProjection","ready","getLayer","finish","viewHints","bind","LineString","lineTo","clip","handleStyleImageChange_","getSource","renderedLayerRevision_","boundHandleStyleImageChange_","declutter","layerIndex","getReplayState","renderedRenderOrder","length","getCount","getRenderBuffer","max","renderedResolution","zDirection","round","dirty","changed","width","drawTile","renderedTileResolution","renderedOpacity_","height","map","projection","3828824TuzMOC","beginPath","getTileGrid","getDeclutter","updateExecutorGroup_","Circle","filter","wantedResolution","renderedProjection","getTileSize","renderedTileRevision","Polygon","canWrapX","getOrCreateTile","isArray","getZForResolution","hasExecutors","1019334SiZBaj","tempExtent","getRenderMode","1061RcwsbR","all","getExtent","346DdmtQs","getGeometry","push","slice","renderDeferredInternal","tileImageNeedsRender_","renderedPixelToCoordinateTransform_","inversePixelTransform","getVisible","clear","getRevision","getTileCoordCenter","renderTileImage_","value","globalAlpha","wrappedTileCoord","getRenderOrder","getDeferredZIndexContexts","getStyleFunction","2782157tpEZsz","postRender","prepareFrame","renderedRevision","2613680CpANjm","frameState","save","keys","pixelRatio","forEachFeatureAtCoordinate","draw","getTilePixelSize","getOverlaps","INTERACTING","moveTo","renderedRotation_","restore","getContext","hitDetectionImageData","ANIMATING","resolution","context","getFeaturesInExtent","LOADED","canvas","reduce","opacity","splice","getTileCoordExtent","renderFeature","getTileRenderTransform","getTileCache","viewState","loadingSourceTiles","sort","concat","getSourceTiles","center","renderedTiles","geometry","vector","executorGroups","getRenderTransform","distanceSq","getWrapX","getFeatures","some","Image","tmpTransform_","tileClipContexts_","getResolution","handleFontsChanged","pixelToCoordinateTransform","Default","Text","toString","576760Mynrls","240222dkYdTa","tileCoord"];return Em=function(){return i},Em()}const xF={image:[Et(405),Et(399),Et(507),Et(483),Et(490)],hybrid:[Et(405),Et(507)],vector:[]},xS={hybrid:[Et(483),Et(490),"Default"],vector:[Et(405),"Circle",Et(507),Et(483),"Text",Et(489)]};function Uf(i,t){const e=Em();return Uf=function(n,r){return n=n-385,e[n]},Uf(i,t)}class uF extends BB{constructor(t,e){const n=Et;super(t,e),this[n(513)]=this[n(510)][n(506)](this),this.renderedLayerRevision_,this[n(423)]=null,this[n(451)],this[n(390)]=1,this[n(484)]=ki(),this[n(485)]=null}drawTile(t,e,n,r,s,a,o,l){const c=Et;this[c(398)](t,e[c(444)],e[c(468)].projection),this.tileImageNeedsRender_(t)&&this[c(429)](t,e),super[c(388)](t,e,n,r,s,a,o,l)}getTile(t,e,n,r){const s=Et,a=this[s(407)](t,e,n,r);if(!a)return null;const o=r[s(468)],l=o[s(456)],c=r[s(505)];return(!(c[xn[s(455)]]||c[xn[s(449)]])||!a[s(401)])&&(a[s(401)]=l),a}[Et(438)](t){const e=Et,n=this[e(503)]()[e(427)]();return this[e(512)]!==n&&(this[e(512)]=n,this[e(474)][e(518)]=0),super[e(438)](t)}updateExecutorGroup_(t,e,n){const r=Et,s=this[r(503)](),a=s[r(427)](),o=s[r(433)]()||null,l=t.wantedResolution,c=t[r(516)](s);if(!c.dirty&&c[r(522)]===l&&c.renderedRevision==a&&c[r(517)]==o)return;const x=s[r(511)](),u=!!s[r(397)](),f=x[r(396)](),h=x[r(501)](n),A=h[r(464)](t[r(432)]),p=x[r(472)](e,n,t),d=tt(s);delete t[r(454)][d],t[r(477)][d]=[],c[r(385)]=!1;for(let g=0,m=p.length;g<m;++g){const _=p[g];if(_.getState()!=de[r(459)])continue;const I=_[r(494)],y=f[r(464)](I),E=Ei(A,y),b=Qa(E,s[r(520)]()*l,this.tempExtent),w=qs(y,E)?null:b,C=new Xw(0,E,l,e),v=gE(l,e),B=function(D,U){const F=r;let z;const H=D[F(435)]()||s.getStyleFunction();if(H&&(z=H(D,l)),z){const P=this[F(465)](D,v,z,C,u,U);c[F(385)]=c[F(385)]||P}},S=_[r(481)]();o&&o!==c[r(517)]&&S[r(470)](o);for(let D=0,U=S[r(518)];D<U;++D){const F=S[D];(!w||gn(w,F[r(418)]()[r(416)]()))&&B.call(this,F,D)}const T=C[r(504)](),Q=s[r(413)]()!=="vector"&&u&&p[r(518)]===1?null:E,M=new Zw(Q,l,e,x[r(448)](),T,s.getRenderBuffer(),!0);t[r(477)][d][r(419)](M)}c[r(439)]=a,c.renderedRenderOrder=o,c[r(522)]=l}forEachFeatureAtCoordinate(t,e,n,r,s){const a=Et,o=e[a(468)][a(456)],l=e[a(468)][a(499)];n=n??0;const c=this[a(503)](),x=c.getSource(),u=x[a(501)](e[a(468)].projection),f=V2([t]);Qa(f,o*n,f);const h={},A=function(g,m,_){const I=a;let y=g.getId();y===void 0&&(y=tt(g));const E=h[y];if(E){if(E!==!0&&_<E[I(479)]){if(_===0)return h[y]=!0,s[I(463)](s.lastIndexOf(E),1),r(g,c,m);E[I(475)]=m,E[I(479)]=_}}else{if(_===0)return h[y]=!0,r(g,c,m);s[I(419)](h[y]={feature:g,layer:c,geometry:m,distanceSq:_,callback:r})}},p=this[a(474)];let d;for(let g=0,m=p[a(518)];!d&&g<m;++g){const _=p[g],I=u.getTileCoordExtent(_[a(432)]);if(!gn(I,f))continue;const y=tt(c),E=[_[a(477)][y]],b=c.getDeclutter();E[a(482)](w=>{const C=a,v=b?e[C(514)][b][C(415)]().map(B=>B[C(430)]):null;for(let B=0,S=w[C(518)];B<S;++B)if(d=w[B][C(445)](t,o,l,n,A,v),d)return!0})}return d}getFeatures(t){return new Promise((e,n)=>{const r=Uf,s=this[r(503)](),a=tt(s),o=s.getSource(),l=this[r(402)],c=l[r(416)](),x=this[r(522)],u=o[r(501)](l),f=Dn(this[r(423)],t[r(420)]()),h=u.getTileCoordForCoordAndResolution(f,x);let A;for(let I=0,y=this[r(474)][r(518)];I<y;++I)if(h.toString()===this[r(474)][I][r(494)][r(491)]()){if(A=this[r(474)][I],A.getState()===de[r(459)]){const E=u.getTileCoordExtent(A.tileCoord);o[r(480)]()&&l[r(406)]()&&!Ur(c,E)&&j2(f,l);break}A=void 0}if(!A||A[r(469)]>0){e([]);return}const p=u[r(464)](A.wrappedTileCoord),d=Nr(p),g=[(f[0]-d[0])/x,(d[1]-f[1])/x],m=A[r(472)]()[r(461)](function(I,y){const E=r;return I[E(471)](y[E(481)]())},[]);let _=A[r(454)][a];if(!_){const I=fi(u[r(403)](u.getZForResolution(x,o[r(523)]))),y=this.renderedRotation_,E=[this[r(478)](u[r(428)](A.wrappedTileCoord),x,0,cr,I[0]*cr,I[1]*cr,0)];_=$w(I,E,m,s.getStyleFunction(),u[r(464)](A[r(432)]),A[r(516)](s).renderedResolution,y),A[r(454)][a]=_}e(eB(g,m,_))})}[Et(458)](t){const e=Et,n=[],r=this[e(467)]();if(r[e(519)]()===0)return n;const s=this[e(503)]()[e(511)](),a=s[e(501)](this[e(441)][e(468)][e(393)]),o=a[e(409)](this[e(522)]),l={};return r.forEach(c=>{const x=e;if(c[x(494)][0]!==o||c.getState()!==de.LOADED)return;const u=c.getSourceTiles();for(let f=0,h=u[x(518)];f<h;++f){const A=u[f],p=A.getKey();if(p in l)continue;l[p]=!0;const d=A[x(494)];if(gn(t,a.getTileCoordExtent(d))){const g=A.getFeatures();if(g)for(let m=0,_=g[x(518)];m<_;++m){const I=g[m],y=I[x(418)]();gn(t,y[x(416)]())&&n[x(419)](I)}}}}),n}[Et(487)](){const t=Et,e=this[t(503)]();e[t(425)]()&&this[t(512)]!==void 0&&e[t(386)]()}[Et(510)](t){this.renderIfReadyAndVisible()}renderDeclutter(t,e){const n=Et,r=this[n(457)],s=r[n(431)];r[n(431)]=e[n(462)];const a=t.viewHints,o=!(a[xn.ANIMATING]||a[xn[n(449)]]),l=this[n(474)];for(let c=0,x=l[n(518)];c<x;++c){const u=l[c],f=u.executorGroups[tt(this[n(503)]())],h=this[n(503)]()[n(397)]();if(f)for(let A=f[n(518)]-1;A>=0;--A)f[A][n(497)](this.context,[this[n(457)].canvas.width,this.context[n(460)].height],this.getTileRenderTransform(u,t),t[n(468)][n(499)],o,W1,h?t.declutter[h]:void 0)}r.globalAlpha=s}renderDeferredInternal(t){const e=Et,n=this[e(474)],r=n[e(461)]((l,c,x)=>{const u=e;return c.executorGroups[tt(this[u(503)]())][u(498)](f=>l[u(419)]({executorGroup:f,index:x})),l},[]),s=r[e(392)](({executorGroup:l})=>l[e(434)]()),a={};for(let l=0,c=r.length;l<c;++l){const x=r[l].executorGroup[e(434)]();for(const u in x)a[u]=!0}Object[e(443)](a)[e(470)](us)[e(392)](Number)[e(498)](l=>{const c=e;s[c(498)]((x,u)=>{const f=c;x[l]&&(x[l][f(498)](h=>{const A=f,{executorGroup:p,index:d}=r[u],g=p.getRenderedContext(),m=g[A(431)];g.globalAlpha=this.renderedOpacity_;const _=this[A(485)][d];_&&_[A(446)](g),h[A(446)](g),_&&g[A(452)](),g.globalAlpha=m,h[A(426)]()}),x[l][f(518)]=0)})})}getTileRenderTransform(t,e){const n=Et,r=e[n(444)],s=e.viewState,a=s[n(473)],o=s[n(456)],l=s.rotation,c=e[n(496)],x=Math[n(524)](c[0]*r),u=Math[n(524)](c[1]*r),f=this.getLayer().getSource(),h=f[n(501)](e.viewState[n(393)]),A=t[n(494)],p=h[n(464)](t[n(432)]),d=h.getTileCoordExtent(A,this[n(412)])[0]-p[0];return CI(wI(this[n(424)][n(420)](),1/r,1/r),this[n(478)](a,o,l,r,x,u,d))}[Et(437)](t,e){var y;const n=Et,r=e.viewHints,s=!(r[xn[n(455)]]||r[xn[n(449)]]);this[n(423)]=e[n(488)][n(420)](),this[n(451)]=e.viewState.rotation,this[n(390)]=e.layerStatesArray[e[n(515)]][n(462)];const a=this[n(503)](),o=a.getRenderMode(),l=t[n(431)];t[n(431)]=this[n(390)];const c=a[n(397)](),x=c?xS[o][n(400)](E=>!W1.includes(E)):xS[o],u=e[n(468)],f=u[n(499)],h=a.getSource(),A=h.getTileGridForProjection(u[n(393)]),p=A[n(409)](u[n(456)],h[n(523)]),d=this[n(474)],g=[],m=[],_=[];let I=!0;for(let E=d[n(518)]-1;E>=0;--E){const b=d[E];I=I&&!b[n(516)](a)[n(385)];const w=b.executorGroups[tt(a)][n(400)](M=>M[n(410)](x));if(w.length===0)continue;const C=this[n(466)](b,e),v=b.tileCoord[0];let B=!1;const S=w[0][n(495)](C);let T=t,Q;if(S){Q=new nE,T=Q[n(453)]();for(let M=0,D=g[n(518)];M<D;++M)if(p!==v&&v<m[M]){const U=g[M];gn([S[0],S[3],S[4],S[7]],[U[0],U[3],U[4],U[7]])&&(!B&&(T[n(442)](),B=!0),T[n(395)](),T[n(450)](S[0],S[1]),T.lineTo(S[2],S[3]),T[n(508)](S[4],S[5]),T[n(508)](S[6],S[7]),T[n(450)](U[6],U[7]),T.lineTo(U[4],U[5]),T[n(508)](U[2],U[3]),T.lineTo(U[0],U[1]),T[n(509)]())}g.push(S),m.push(v)}for(let M=0,D=w[n(518)];M<D;++M)w[M][n(497)](t,[t[n(460)][n(387)],t[n(460)].height],C,f,s,x,(y=e[n(514)])==null?void 0:y[c]);B&&(T===t?T[n(452)]():_[E]=Q)}t[n(431)]=l,this[n(502)]=I,this[n(485)]=_,!e[n(514)]&&this[n(421)](e),super[n(437)](t,e)}[Et(465)](t,e,n,r,s,a){const o=Et;if(!n)return!1;let l=!1;if(Array[o(408)](n))for(let c=0,x=n[o(518)];c<x;++c)l=j1(r,t,n[c],e,this[o(513)],void 0,s,a)||l;else l=j1(r,t,n,e,this[o(513)],void 0,s,a);return l}[Et(422)](t){const e=Et,n=this[e(503)]();if(n[e(413)]()===e(476))return!1;const r=t[e(516)](n),s=n[e(427)](),a=t[e(401)];return r[e(389)]!==a||r[e(404)]!==s}[Et(429)](t,e){const n=Et,r=this[n(503)](),s=t[n(516)](r),a=r[n(427)](),o=t[n(477)][tt(r)];s.renderedTileRevision=a;const l=t.wrappedTileCoord,c=l[0],x=r[n(511)]();let u=e[n(444)];const f=e[n(468)],h=f.projection,A=x[n(501)](h),p=A[n(486)](t.tileCoord[0]),d=e.pixelRatio/t[n(401)]*p,g=A[n(486)](c),m=t.getContext();u=Math.round(Math[n(521)](u,d/u));const _=x[n(447)](c,u,h);m[n(460)][n(387)]=_[0],m[n(460)][n(391)]=_[1];const I=u/d;if(I!==1){const w=z3(this[n(484)]);wI(w,I,I),m[n(500)].apply(m,w)}const y=A[n(464)](l,this[n(412)]),E=d/g,b=z3(this[n(484)]);wI(b,E,-E),$T(b,-y[0],-y[3]);for(let w=0,C=o[n(518)];w<C;++w)o[w][n(497)](m,[m[n(460)].width*I,m[n(460)][n(391)]*I],b,0,!0,xF[r[n(413)]()],null);s[n(389)]=t.wantedResolution}}function ym(){const i=["cacheSize_","preload","setUseInterimTilesOnError","cacheSize","2494630pUZHOs","assign","get","getPreload","USE_INTERIM_TILES_ON_ERROR","hybrid","PRELOAD","834276ZSAUEh","useInterimTilesOnError","4830348cFPSgT","7987140xcAvca","once","vector","getFeatures","10876208KAxXZL","setPreload","renderMode","setBackground","renderMode_","getFeaturesInExtent","set","1XLHLqf","2228442RYCfyp","getRenderMode","5912336NVepxW"];return ym=function(){return i},ym()}function ll(i,t){const e=ym();return ll=function(n,r){return n=n-445,e[n]},ll(i,t)}const wr=ll;(function(i,t){const e=ll,n=i();for(;;)try{if(-parseInt(e(464))/1*(parseInt(e(472))/2)+parseInt(e(465))/3+-parseInt(e(450))/4+parseInt(e(453))/5+parseInt(e(452))/6+-parseInt(e(457))/7+parseInt(e(467))/8===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(ym,874714);class _0 extends fE{constructor(t){const e=ll;t=t||{};const n=Object[e(473)]({},t);delete n[e(469)];const r=t[e(471)]===void 0?0:t[e(471)];delete t[e(471)],delete n.useInterimTilesOnError,super(n),this.on,this[e(454)],this.un,this[e(468)]=r;const s=t[e(459)]||e(448);Mt(s==e(448)||s==e(455),"`renderMode` must be `'hybrid'` or `'vector'`"),this[e(461)]=s,this[e(458)](t[e(469)]?t[e(469)]:0),this[e(470)](t[e(451)]!==void 0?t[e(451)]:!0),this.getBackground,this[e(460)]}createRenderer(){const t=ll;return new uF(this,{cacheSize:this[t(468)]})}[wr(456)](t){const e=wr;return super[e(456)](t)}[wr(462)](t){const e=wr;return this.getRenderer()[e(462)](t)}[wr(466)](){return this.renderMode_}[wr(446)](){const t=wr;return this[t(445)](no[t(449)])}getUseInterimTilesOnError(){const t=wr;return this.get(no[t(447)])}[wr(458)](t){const e=wr;this.set(no[e(449)],t)}[wr(470)](t){const e=wr;this[e(463)](no[e(447)],t)}}function uS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var fF={},fS,hS={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Nf(i){return i=Math.round(i),i<0?0:i>255?255:i}function AS(i){return i<0?0:i>1?1:i}function ZE(i){return i[i.length-1]==="%"?Nf(parseFloat(i)/100*255):Nf(parseInt(i))}function bm(i){return i[i.length-1]==="%"?AS(parseFloat(i)/100):AS(parseFloat(i))}function $E(i,t,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?i+(t-i)*e*6:e*2<1?t:e*3<2?i+(t-i)*(2/3-e)*6:i}function hF(i){var t=i.replace(/ /g,"").toLowerCase();if(t in hS)return hS[t].slice();if(t[0]==="#"){if(t.length===4){var e=parseInt(t.substr(1),16);return e>=0&&e<=4095?[(e&3840)>>4|(e&3840)>>8,e&240|(e&240)>>4,e&15|(e&15)<<4,1]:null}else if(t.length===7){var e=parseInt(t.substr(1),16);return e>=0&&e<=16777215?[(e&16711680)>>16,(e&65280)>>8,e&255,1]:null}return null}var n=t.indexOf("("),r=t.indexOf(")");if(n!==-1&&r+1===t.length){var s=t.substr(0,n),a=t.substr(n+1,r-(n+1)).split(","),o=1;switch(s){case"rgba":if(a.length!==4)return null;o=bm(a.pop());case"rgb":return a.length!==3?null:[ZE(a[0]),ZE(a[1]),ZE(a[2]),o];case"hsla":if(a.length!==4)return null;o=bm(a.pop());case"hsl":if(a.length!==3)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=bm(a[1]),x=bm(a[2]),u=x<=.5?x*(c+1):x+c-x*c,f=x*2-u;return[Nf($E(f,u,l+1/3)*255),Nf($E(f,u,l)*255),Nf($E(f,u,l-1/3)*255),o];default:return null}}return null}try{fS=fF.parseCSSColor=hF}catch{}let Kr=class Sv{constructor(t,e,n,r=1){this.r=t,this.g=e,this.b=n,this.a=r}static parse(t){if(!t)return;if(t instanceof Sv)return t;if(typeof t!="string")return;const e=fS(t);if(e)return new Sv(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}toString(){const[t,e,n,r]=this.toArray();return`rgba(${Math.round(t)},${Math.round(e)},${Math.round(n)},${r})`}toArray(){const{r:t,g:e,b:n,a:r}=this;return r===0?[0,0,0,0]:[t*255/r,e*255/r,n*255/r,r]}toArray01(){const{r:t,g:e,b:n,a:r}=this;return r===0?[0,0,0,0]:[t/r,e/r,n/r,r]}toArray01PremultipliedAlpha(){const{r:t,g:e,b:n,a:r}=this;return[t,e,n,r]}};Kr.black=new Kr(0,0,0,1),Kr.white=new Kr(1,1,1,1),Kr.transparent=new Kr(0,0,0,0),Kr.red=new Kr(1,0,0,1),Kr.blue=new Kr(0,0,1,1);var fr=Kr;function Of(i){return typeof i=="object"?["literal",i]:i}function AF(i,t){let e=i.stops;if(!e)return dF(i,t);const n=e&&typeof e[0][0]=="object",r=n||i.property!==void 0,s=n||!r;return e=e.map(a=>!r&&t.tokens&&typeof a[1]=="string"?[a[0],_F(a[1])]:[a[0],Of(a[1])]),n?pF(i,t,e):s?mF(i,t,e):ty(i,t,e)}function dF(i,t){const e=["get",i.property];if(i.default===void 0)return t.type==="string"?["string",e]:e;if(t.type==="enum")return["match",e,Object.keys(t.values),e,i.default];{const n=[t.type==="color"?"to-color":t.type,e,Of(i.default)];return t.type==="array"&&n.splice(1,0,t.value,t.length||null),n}}function ey(i){switch(i.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function pF(i,t,e){const n={},r={},s=[];for(let o=0;o<e.length;o++){const l=e[o],c=l[0].zoom;n[c]===void 0&&(n[c]={zoom:c,type:i.type,property:i.property,default:i.default},r[c]=[],s.push(c)),r[c].push([l[0].value,l[1]])}if(iy({},t)==="exponential"){const o=[ey(i),["linear"],["zoom"]];for(const l of s){const c=ty(n[l],t,r[l]);xl(o,l,c,!1)}return o}else{const o=["step",["zoom"]];for(const l of s){const c=ty(n[l],t,r[l]);xl(o,l,c,!0)}return ny(o),o}}function gF(i,t){if(i!==void 0)return i;if(t!==void 0)return t}function dS(i,t){const e=Of(gF(i.default,t.default));return e===void 0&&t.type==="resolvedImage"?"":e}function ty(i,t,e){const n=iy(i,t),r=["get",i.property];if(n==="categorical"&&typeof e[0][0]=="boolean"){const s=["case"];for(const a of e)s.push(["==",r,a[0]],a[1]);return s.push(dS(i,t)),s}else if(n==="categorical"){const s=["match",r];for(const a of e)xl(s,a[0],a[1],!1);return s.push(dS(i,t)),s}else if(n==="interval"){const s=["step",["number",r]];for(const a of e)xl(s,a[0],a[1],!0);return ny(s),i.default===void 0?s:["case",["==",["typeof",r],"number"],s,Of(i.default)]}else if(n==="exponential"){const s=i.base!==void 0?i.base:1,a=[ey(i),s===1?["linear"]:["exponential",s],["number",r]];for(const o of e)xl(a,o[0],o[1],!1);return i.default===void 0?a:["case",["==",["typeof",r],"number"],a,Of(i.default)]}else throw new Error(`Unknown property function type ${n}`)}function mF(i,t,e,n=["zoom"]){const r=iy(i,t);let s,a=!1;if(r==="interval")s=["step",n],a=!0;else if(r==="exponential"){const o=i.base!==void 0?i.base:1;s=[ey(i),o===1?["linear"]:["exponential",o],n]}else throw new Error(`Unknown zoom function type "${r}"`);for(const o of e)xl(s,o[0],o[1],a);return ny(s),s}function ny(i){i[0]==="step"&&i.length===3&&(i.push(0),i.push(i[3]))}function xl(i,t,e,n){i.length>3&&t===i[i.length-2]||(n&&i.length===2||i.push(t),i.push(e))}function iy(i,t){return i.type?i.type:t.expression.interpolated?"exponential":"interval"}function _F(i){const t=["concat"],e=/{([^{}]+)}/g;let n=0;for(let r=e.exec(i);r!==null;r=e.exec(i)){const s=i.slice(n,e.lastIndex-r[0].length);n=e.lastIndex,s.length>0&&t.push(s),t.push(["get",r[1]])}if(t.length===1)return i;if(n<i.length)t.push(i.slice(n));else if(t.length===2)return["to-string",t[1]];return t}class IF extends Error{constructor(t,e){super(e),this.message=e,this.key=t}}var Ms=IF;class ry{constructor(t,e=[]){this.parent=t,this.bindings={};for(const[n,r]of e)this.bindings[n]=r}concat(t){return new ry(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return this.bindings[t]?!0:this.parent?this.parent.has(t):!1}}var EF=ry;const Cm={kind:"null"},Ie={kind:"number"},xt={kind:"string"},nt={kind:"boolean"},ca={kind:"color"},ul={kind:"object"},it={kind:"value"},yF={kind:"error"},vm={kind:"collator"},wm={kind:"formatted"},Gf={kind:"resolvedImage"};function Br(i,t){return{kind:"array",itemType:i,N:t}}function fn(i){if(i.kind==="array"){const t=fn(i.itemType);return typeof i.N=="number"?`array<${t}, ${i.N}>`:i.itemType.kind==="value"?"array":`array<${t}>`}else return i.kind}const bF=[Cm,Ie,xt,nt,ca,wm,ul,Br(it),Gf];function zf(i,t){if(t.kind==="error")return null;if(i.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!zf(i.itemType,t.itemType))&&(typeof i.N!="number"||i.N===t.N))return null}else{if(i.kind===t.kind)return null;if(i.kind==="value"){for(const e of bF)if(!zf(e,t))return null}}return`Expected ${fn(i)} but found ${fn(t)} instead.`}function sy(i,t){return t.some(e=>e.kind===i.kind)}function Vf(i,t){return t.some(e=>e==="null"?i===null:e==="array"?Array.isArray(i):e==="object"?i&&!Array.isArray(i)&&typeof i=="object":e===typeof i)}class ay{constructor(t,e,n){t?this.sensitivity=e?"variant":"case":this.sensitivity=e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class oy{constructor(t,e,n,r,s){this.text=t.normalize?t.normalize():t,this.image=e,this.scale=n,this.fontStack=r,this.textColor=s}}class Rs{constructor(t){this.sections=t}static fromString(t){return new Rs([new oy(t,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof Rs?t:Rs.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}serialize(){const t=["format"];for(const e of this.sections){if(e.image){t.push(["image",e.image.name]);continue}t.push(e.text);const n={};e.fontStack&&(n["text-font"]=["literal",e.fontStack.split(",")]),e.scale&&(n["font-scale"]=e.scale),e.textColor&&(n["text-color"]=["rgba"].concat(e.textColor.toArray())),t.push(n)}return t}}class ho{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new ho({name:t,available:!1}):null}serialize(){return["image",this.name]}}function pS(i,t,e,n){return typeof i=="number"&&i>=0&&i<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof e=="number"&&e>=0&&e<=255?typeof n>"u"||typeof n=="number"&&n>=0&&n<=1?null:`Invalid rgba value [${[i,t,e,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof n=="number"?[i,t,e,n]:[i,t,e]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Bm(i){if(i===null)return!0;if(typeof i=="string")return!0;if(typeof i=="boolean")return!0;if(typeof i=="number")return!0;if(i instanceof fr)return!0;if(i instanceof ay)return!0;if(i instanceof Rs)return!0;if(i instanceof ho)return!0;if(Array.isArray(i)){for(const t of i)if(!Bm(t))return!1;return!0}else if(typeof i=="object"){for(const t in i)if(!Bm(i[t]))return!1;return!0}else return!1}function On(i){if(i===null)return Cm;if(typeof i=="string")return xt;if(typeof i=="boolean")return nt;if(typeof i=="number")return Ie;if(i instanceof fr)return ca;if(i instanceof ay)return vm;if(i instanceof Rs)return wm;if(i instanceof ho)return Gf;if(Array.isArray(i)){const t=i.length;let e;for(const n of i){const r=On(n);if(!e)e=r;else{if(e===r)continue;e=it;break}}return Br(e||it,t)}else return ul}function Hf(i){const t=typeof i;return i===null?"":t==="string"||t==="number"||t==="boolean"?String(i):i instanceof fr||i instanceof Rs||i instanceof ho?i.toString():JSON.stringify(i)}class cy{constructor(t,e){this.type=t,this.value=e}static parse(t,e){if(t.length!==2)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Bm(t[1]))return e.error("invalid value");const n=t[1];let r=On(n);const s=e.expectedType;return r.kind==="array"&&r.N===0&&s&&s.kind==="array"&&(typeof s.N!="number"||s.N===0)&&(r=s),new cy(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof fr?["rgba"].concat(this.value.toArray()):this.value instanceof Rs?this.value.serialize():this.value}}var Sm=cy;class CF{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}}var ri=CF;const ly={string:xt,number:Ie,boolean:nt,object:ul};class xy{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");let n=1,r;const s=t[0];if(s==="array"){let o;if(t.length>2){const c=t[1];if(typeof c!="string"||!(c in ly)||c==="object")return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=ly[c],n++}else o=it;let l;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);l=t[2],n++}r=Br(o,l)}else r=ly[s];const a=[];for(;n<t.length;n++){const o=e.parse(t[n],n,it);if(!o)return null;a.push(o)}return new xy(r,a)}evaluate(t){for(let e=0;e<this.args.length;e++){const n=this.args[e].evaluate(t);if(zf(this.type,On(n))){if(e===this.args.length-1)throw new ri(`Expected value to be of type ${fn(this.type)}, but found ${fn(On(n))} instead.`)}else return n}return null}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=this.type,e=[t.kind];if(t.kind==="array"){const n=t.itemType;if(n.kind==="string"||n.kind==="number"||n.kind==="boolean"){e.push(n.kind);const r=t.N;(typeof r=="number"||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map(n=>n.serialize()))}}var la=xy;class Mm{constructor(t){this.type=wm,this.sections=t}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const n=t[1];if(!Array.isArray(n)&&typeof n=="object")return e.error("First argument must be an image or text section.");const r=[];let s=!1;for(let a=1;a<=t.length-1;++a){const o=t[a];if(s&&typeof o=="object"&&!Array.isArray(o)){s=!1;let l=null;if(o["font-scale"]&&(l=e.parse(o["font-scale"],1,Ie),!l))return null;let c=null;if(o["text-font"]&&(c=e.parse(o["text-font"],1,Br(xt)),!c))return null;let x=null;if(o["text-color"]&&(x=e.parse(o["text-color"],1,ca),!x))return null;const u=r[r.length-1];u.scale=l,u.font=c,u.textColor=x}else{const l=e.parse(t[a],1,it);if(!l)return null;const c=l.type.kind;if(c!=="string"&&c!=="value"&&c!=="null"&&c!=="resolvedImage")return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");s=!0,r.push({content:l,scale:null,font:null,textColor:null})}}return new Mm(r)}evaluate(t){const e=n=>{const r=n.content.evaluate(t);return On(r)===Gf?new oy("",r,null,null,null):new oy(Hf(r),null,n.scale?n.scale.evaluate(t):null,n.font?n.font.evaluate(t).join(","):null,n.textColor?n.textColor.evaluate(t):null)};return new Rs(this.sections.map(e))}eachChild(t){for(const e of this.sections)t(e.content),e.scale&&t(e.scale),e.font&&t(e.font),e.textColor&&t(e.textColor)}outputDefined(){return!1}serialize(){const t=["format"];for(const e of this.sections){t.push(e.content.serialize());const n={};e.scale&&(n["font-scale"]=e.scale.serialize()),e.font&&(n["text-font"]=e.font.serialize()),e.textColor&&(n["text-color"]=e.textColor.serialize()),t.push(n)}return t}}class Rm{constructor(t){this.type=Gf,this.input=t}static parse(t,e){if(t.length!==2)return e.error("Expected two arguments.");const n=e.parse(t[1],1,xt);return n?new Rm(n):e.error("No image name provided.")}evaluate(t){const e=this.input.evaluate(t),n=ho.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const vF={"to-boolean":nt,"to-color":ca,"to-number":Ie,"to-string":xt};class uy{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expected at least one argument.");const n=t[0];if((n==="to-boolean"||n==="to-string")&&t.length!==2)return e.error("Expected one argument.");const r=vF[n],s=[];for(let a=1;a<t.length;a++){const o=e.parse(t[a],a,it);if(!o)return null;s.push(o)}return new uy(r,s)}evaluate(t){if(this.type.kind==="boolean")return!!this.args[0].evaluate(t);if(this.type.kind==="color"){let e,n;for(const r of this.args){if(e=r.evaluate(t),n=null,e instanceof fr)return e;if(typeof e=="string"){const s=t.parseColor(e);if(s)return s}else if(Array.isArray(e)&&(e.length<3||e.length>4?n=`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:n=pS(e[0],e[1],e[2],e[3]),!n))return new fr(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new ri(n||`Could not parse color from value '${typeof e=="string"?e:String(JSON.stringify(e))}'`)}else if(this.type.kind==="number"){let e=null;for(const n of this.args){if(e=n.evaluate(t),e===null)return 0;const r=Number(e);if(!isNaN(r))return r}throw new ri(`Could not convert ${JSON.stringify(e)} to number.`)}else return this.type.kind==="formatted"?Rs.fromString(Hf(this.args[0].evaluate(t))):this.type.kind==="resolvedImage"?ho.fromString(Hf(this.args[0].evaluate(t))):Hf(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Mm([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Rm(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild(e=>{t.push(e.serialize())}),t}}var fl=uy;const wF=["Unknown","Point","LineString","Polygon"];class BF{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?wF[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const t=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:n,y:r}=this.featureTileCoord,s=n*e-t[0],a=r*e-t[1],o=this.featureDistanceData.bearing[0],l=this.featureDistanceData.bearing[1];return o*s+l*a}return 0}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=fr.parse(t)),e}}var gS=BF;class hl{constructor(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(t=>t.serialize()))}static parse(t,e){const n=t[0],r=hl.definitions[n];if(!r)return e.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const s=Array.isArray(r)?r[0]:r.type,a=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,o=a.filter(([c])=>!Array.isArray(c)||c.length===t.length-1);let l=null;for(const[c,x]of o){l=new vS(e.registry,e.path,null,e.scope);const u=[];let f=!1;for(let h=1;h<t.length;h++){const A=t[h],p=Array.isArray(c)?c[h-1]:c.type,d=l.parse(A,1+u.length,p);if(!d){f=!0;break}u.push(d)}if(!f){if(Array.isArray(c)&&c.length!==u.length){l.error(`Expected ${c.length} arguments, but found ${u.length} instead.`);continue}for(let h=0;h<u.length;h++){const A=Array.isArray(c)?c[h]:c.type,p=u[h];l.concat(h+1).checkSubtype(A,p.type)}if(l.errors.length===0)return new hl(n,s,x,u)}}if(o.length===1)e.errors.push(...l.errors);else{const x=(o.length?o:a).map(([f])=>SF(f)).join(" | "),u=[];for(let f=1;f<t.length;f++){const h=e.parse(t[f],1+u.length);if(!h)return null;u.push(fn(h.type))}e.error(`Expected arguments of type ${x}, but found (${u.join(", ")}) instead.`)}return null}static register(t,e){hl.definitions=e;for(const n in e)t[n]=hl}}function SF(i){return Array.isArray(i)?`(${i.map(fn).join(", ")})`:`(${fn(i.type)}...)`}var Al=hl;class Tm{constructor(t,e,n){this.type=vm,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e}static parse(t,e){if(t.length!==2)return e.error("Expected one argument.");const n=t[1];if(typeof n!="object"||Array.isArray(n))return e.error("Collator options argument must be an object.");const r=e.parse(n["case-sensitive"]===void 0?!1:n["case-sensitive"],1,nt);if(!r)return null;const s=e.parse(n["diacritic-sensitive"]===void 0?!1:n["diacritic-sensitive"],1,nt);if(!s)return null;let a=null;return n.locale&&(a=e.parse(n.locale,1,xt),!a)?null:new Tm(r,s,a)}evaluate(t){return new ay(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}serialize(){const t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]}}const Ao=8192;function fy(i,t){i[0]=Math.min(i[0],t[0]),i[1]=Math.min(i[1],t[1]),i[2]=Math.max(i[2],t[0]),i[3]=Math.max(i[3],t[1])}function MF(i){return(180+i)/360}function RF(i){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360}function Dm(i,t){return!(i[0]<=t[0]||i[2]>=t[2]||i[1]<=t[1]||i[3]>=t[3])}function TF(i,t){const e=MF(i[0]),n=RF(i[1]),r=Math.pow(2,t.z);return[Math.round(e*r*Ao),Math.round(n*r*Ao)]}function DF(i,t,e){const n=i[0]-t[0],r=i[1]-t[1],s=i[0]-e[0],a=i[1]-e[1];return n*a-s*r===0&&n*s<=0&&r*a<=0}function QF(i,t,e){return t[1]>i[1]!=e[1]>i[1]&&i[0]<(e[0]-t[0])*(i[1]-t[1])/(e[1]-t[1])+t[0]}function hy(i,t){let e=!1;for(let n=0,r=t.length;n<r;n++){const s=t[n];for(let a=0,o=s.length;a<o-1;a++){if(DF(i,s[a],s[a+1]))return!1;QF(i,s[a],s[a+1])&&(e=!e)}}return e}function LF(i,t){for(let e=0;e<t.length;e++)if(hy(i,t[e]))return!0;return!1}function FF(i,t){return i[0]*t[1]-i[1]*t[0]}function mS(i,t,e,n){const r=i[0]-e[0],s=i[1]-e[1],a=t[0]-e[0],o=t[1]-e[1],l=n[0]-e[0],c=n[1]-e[1],x=r*c-l*s,u=a*c-l*o;return x>0&&u<0||x<0&&u>0}function kF(i,t,e,n){const r=[t[0]-i[0],t[1]-i[1]],s=[n[0]-e[0],n[1]-e[1]];return FF(s,r)===0?!1:!!(mS(i,t,e,n)&&mS(e,n,i,t))}function PF(i,t,e){for(const n of e)for(let r=0;r<n.length-1;++r)if(kF(i,t,n[r],n[r+1]))return!0;return!1}function _S(i,t){for(let e=0;e<i.length;++e)if(!hy(i[e],t))return!1;for(let e=0;e<i.length-1;++e)if(PF(i[e],i[e+1],t))return!1;return!0}function UF(i,t){for(let e=0;e<t.length;e++)if(_S(i,t[e]))return!0;return!1}function Ay(i,t,e){const n=[];for(let r=0;r<i.length;r++){const s=[];for(let a=0;a<i[r].length;a++){const o=TF(i[r][a],e);fy(t,o),s.push(o)}n.push(s)}return n}function IS(i,t,e){const n=[];for(let r=0;r<i.length;r++){const s=Ay(i[r],t,e);n.push(s)}return n}function ES(i,t,e,n){if(i[0]<e[0]||i[0]>e[2]){const r=n*.5;let s=i[0]-e[0]>r?-n:e[0]-i[0]>r?n:0;s===0&&(s=i[0]-e[2]>r?-n:e[2]-i[0]>r?n:0),i[0]+=s}fy(t,i)}function NF(i){i[0]=i[1]=1/0,i[2]=i[3]=-1/0}function yS(i,t,e,n){const r=Math.pow(2,n.z)*Ao,s=[n.x*Ao,n.y*Ao],a=[];if(!i)return a;for(const o of i)for(const l of o){const c=[l.x+s[0],l.y+s[1]];ES(c,t,e,r),a.push(c)}return a}function bS(i,t,e,n){const r=Math.pow(2,n.z)*Ao,s=[n.x*Ao,n.y*Ao],a=[];if(!i)return a;for(const o of i){const l=[];for(const c of o){const x=[c.x+s[0],c.y+s[1]];fy(t,x),l.push(x)}a.push(l)}if(t[2]-t[0]<=r/2){NF(t);for(const o of a)for(const l of o)ES(l,t,e,r)}return a}function OF(i,t){const e=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=i.canonicalID();if(!r)return!1;if(t.type==="Polygon"){const s=Ay(t.coordinates,n,r),a=yS(i.geometry(),e,n,r);if(!Dm(e,n))return!1;for(const o of a)if(!hy(o,s))return!1}if(t.type==="MultiPolygon"){const s=IS(t.coordinates,n,r),a=yS(i.geometry(),e,n,r);if(!Dm(e,n))return!1;for(const o of a)if(!LF(o,s))return!1}return!0}function GF(i,t){const e=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=i.canonicalID();if(!r)return!1;if(t.type==="Polygon"){const s=Ay(t.coordinates,n,r),a=bS(i.geometry(),e,n,r);if(!Dm(e,n))return!1;for(const o of a)if(!_S(o,s))return!1}if(t.type==="MultiPolygon"){const s=IS(t.coordinates,n,r),a=bS(i.geometry(),e,n,r);if(!Dm(e,n))return!1;for(const o of a)if(!UF(o,s))return!1}return!0}class qf{constructor(t,e){this.type=nt,this.geojson=t,this.geometries=e}static parse(t,e){if(t.length!==2)return e.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Bm(t[1])){const n=t[1];if(n.type==="FeatureCollection")for(let r=0;r<n.features.length;++r){const s=n.features[r].geometry.type;if(s==="Polygon"||s==="MultiPolygon")return new qf(n,n.features[r].geometry)}else if(n.type==="Feature"){const r=n.geometry.type;if(r==="Polygon"||r==="MultiPolygon")return new qf(n,n.geometry)}else if(n.type==="Polygon"||n.type==="MultiPolygon")return new qf(n,n)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return OF(t,this.geometries);if(t.geometryType()==="LineString")return GF(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var dy=qf;function Qm(i){if(i instanceof Al){if(i.name==="get"&&i.args.length===1)return!1;if(i.name==="feature-state")return!1;if(i.name==="has"&&i.args.length===1)return!1;if(i.name==="properties"||i.name==="geometry-type"||i.name==="id")return!1;if(/^filter-/.test(i.name))return!1}if(i instanceof dy)return!1;let t=!0;return i.eachChild(e=>{t&&!Qm(e)&&(t=!1)}),t}function py(i){if(i instanceof Al&&i.name==="feature-state")return!1;let t=!0;return i.eachChild(e=>{t&&!py(e)&&(t=!1)}),t}function gy(i,t){if(i instanceof Al&&t.indexOf(i.name)>=0)return!1;let e=!0;return i.eachChild(n=>{e&&!gy(n,t)&&(e=!1)}),e}class my{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e}static parse(t,e){if(t.length!==2||typeof t[1]!="string")return e.error("'var' expression requires exactly one string literal argument.");const n=t[1];return e.scope.has(n)?new my(n,e.scope.get(n)):e.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var CS=my;class _y{constructor(t,e=[],n,r=new EF,s=[]){this.registry=t,this.path=e,this.key=e.map(a=>`[${a}]`).join(""),this.scope=r,this.errors=s,this.expectedType=n}parse(t,e,n,r,s={}){return e?this.concat(e,n,r)._parse(t,s):this._parse(t,s)}_parse(t,e){(t===null||typeof t=="string"||typeof t=="boolean"||typeof t=="number")&&(t=["literal",t]);function n(r,s,a){return a==="assert"?new la(s,[r]):a==="coerce"?new fl(s,[r]):r}if(Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=t[0];if(typeof r!="string")return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const s=this.registry[r];if(s){let a=s.parse(t,this);if(!a)return null;if(this.expectedType){const o=this.expectedType,l=a.type;if((o.kind==="string"||o.kind==="number"||o.kind==="boolean"||o.kind==="object"||o.kind==="array")&&l.kind==="value")a=n(a,o,e.typeAnnotation||"assert");else if((o.kind==="color"||o.kind==="formatted"||o.kind==="resolvedImage")&&(l.kind==="value"||l.kind==="string"))a=n(a,o,e.typeAnnotation||"coerce");else if(this.checkSubtype(o,l))return null}if(!(a instanceof Sm)&&a.type.kind!=="resolvedImage"&&Iy(a)){const o=new gS;try{a=new Sm(a.type,a.evaluate(o))}catch(l){return this.error(l.message),null}}return a}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof t>"u"?this.error("'undefined' value invalid. Use null instead."):typeof t=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof t} instead.`)}concat(t,e,n){const r=typeof t=="number"?this.path.concat(t):this.path,s=n?this.scope.concat(n):this.scope;return new _y(this.registry,r,e||null,s,this.errors)}error(t,...e){const n=`${this.key}${e.map(r=>`[${r}]`).join("")}`;this.errors.push(new Ms(n,t))}checkSubtype(t,e){const n=zf(t,e);return n&&this.error(n),n}}var vS=_y;function Iy(i){if(i instanceof CS)return Iy(i.boundExpression);if(i instanceof Al&&i.name==="error")return!1;if(i instanceof Tm)return!1;if(i instanceof dy)return!1;const t=i instanceof fl||i instanceof la;let e=!0;return i.eachChild(n=>{t?e=e&&Iy(n):e=e&&n instanceof Sm}),e?Qm(i)&&gy(i,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function wS(i,t){const e=i.length-1;let n=0,r=e,s=0,a,o;for(;n<=r;)if(s=Math.floor((n+r)/2),a=i[s],o=i[s+1],a<=t){if(s===e||t<o)return s;n=s+1}else if(a>t)r=s-1;else throw new ri("Input is not a number.");return 0}class Ey{constructor(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[r,s]of n)this.labels.push(r),this.outputs.push(s)}static parse(t,e){if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return e.error("Expected an even number of arguments.");const n=e.parse(t[1],1,Ie);if(!n)return null;const r=[];let s=null;e.expectedType&&e.expectedType.kind!=="value"&&(s=e.expectedType);for(let a=1;a<t.length;a+=2){const o=a===1?-1/0:t[a],l=t[a+1],c=a,x=a+1;if(typeof o!="number")return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(r.length&&r[r.length-1][0]>=o)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);const u=e.parse(l,x,s);if(!u)return null;s=s||u.type,r.push([o,u])}return new Ey(s,n,r)}evaluate(t){const e=this.labels,n=this.outputs;if(e.length===1)return n[0].evaluate(t);const r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);const s=e.length;if(r>=e[s-1])return n[s-1].evaluate(t);const a=wS(e,r);return n[a].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){const t=["step",this.input.serialize()];for(let e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t}}var BS=Ey,zF=dl;function dl(i,t,e,n){this.cx=3*i,this.bx=3*(e-i)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=i,this.p1y=n,this.p2x=e,this.p2y=n}dl.prototype.sampleCurveX=function(i){return((this.ax*i+this.bx)*i+this.cx)*i},dl.prototype.sampleCurveY=function(i){return((this.ay*i+this.by)*i+this.cy)*i},dl.prototype.sampleCurveDerivativeX=function(i){return(3*this.ax*i+2*this.bx)*i+this.cx},dl.prototype.solveCurveX=function(i,t){typeof t>"u"&&(t=1e-6);var e,n,r,s,a;for(r=i,a=0;a<8;a++){if(s=this.sampleCurveX(r)-i,Math.abs(s)<t)return r;var o=this.sampleCurveDerivativeX(r);if(Math.abs(o)<1e-6)break;r=r-s/o}if(e=0,n=1,r=i,r<e)return e;if(r>n)return n;for(;e<n;){if(s=this.sampleCurveX(r),Math.abs(s-i)<t)return r;i>s?e=r:n=r,r=(n-e)*.5+e}return r},dl.prototype.solve=function(i,t){return this.sampleCurveY(this.solveCurveX(i,t))};var VF=uS(zF);function hr(i,t,e){return i*(1-e)+t*e}function HF(i,t,e){return new fr(hr(i.r,t.r,e),hr(i.g,t.g,e),hr(i.b,t.b,e),hr(i.a,t.a,e))}function qF(i,t,e){return i.map((n,r)=>hr(n,t[r],e))}var YF=Object.freeze({__proto__:null,number:hr,color:HF,array:qF});const SS=.95047,MS=1,RS=1.08883,TS=4/29,pl=6/29,DS=3*pl*pl,WF=pl*pl*pl,XF=Math.PI/180,KF=180/Math.PI;function yy(i){return i>WF?Math.pow(i,1/3):i/DS+TS}function by(i){return i>pl?i*i*i:DS*(i-TS)}function Cy(i){return 255*(i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055)}function vy(i){return i/=255,i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function QS(i){const t=vy(i.r),e=vy(i.g),n=vy(i.b),r=yy((.4124564*t+.3575761*e+.1804375*n)/SS),s=yy((.2126729*t+.7151522*e+.072175*n)/MS),a=yy((.0193339*t+.119192*e+.9503041*n)/RS);return{l:116*s-16,a:500*(r-s),b:200*(s-a),alpha:i.a}}function LS(i){let t=(i.l+16)/116,e=isNaN(i.a)?t:t+i.a/500,n=isNaN(i.b)?t:t-i.b/200;return t=MS*by(t),e=SS*by(e),n=RS*by(n),new fr(Cy(3.2404542*e-1.5371385*t-.4985314*n),Cy(-.969266*e+1.8760108*t+.041556*n),Cy(.0556434*e-.2040259*t+1.0572252*n),i.alpha)}function JF(i,t,e){return{l:hr(i.l,t.l,e),a:hr(i.a,t.a,e),b:hr(i.b,t.b,e),alpha:hr(i.alpha,t.alpha,e)}}function jF(i){const{l:t,a:e,b:n}=QS(i),r=Math.atan2(n,e)*KF;return{h:r<0?r+360:r,c:Math.sqrt(e*e+n*n),l:t,alpha:i.a}}function ZF(i){const t=i.h*XF,e=i.c,n=i.l;return LS({l:n,a:Math.cos(t)*e,b:Math.sin(t)*e,alpha:i.alpha})}function $F(i,t,e){const n=t-i;return i+e*(n>180||n<-180?n-360*Math.round(n/360):n)}function ek(i,t,e){return{h:$F(i.h,t.h,e),c:hr(i.c,t.c,e),l:hr(i.l,t.l,e),alpha:hr(i.alpha,t.alpha,e)}}const Lm={forward:QS,reverse:LS,interpolate:JF},Fm={forward:jF,reverse:ZF,interpolate:ek};class km{constructor(t,e,n,r,s){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[a,o]of s)this.labels.push(a),this.outputs.push(o)}static interpolationFactor(t,e,n,r){let s=0;if(t.name==="exponential")s=wy(e,t.base,n,r);else if(t.name==="linear")s=wy(e,1,n,r);else if(t.name==="cubic-bezier"){const a=t.controlPoints;s=new VF(a[0],a[1],a[2],a[3]).solve(wy(e,1,n,r))}return s}static parse(t,e){let[n,r,s,...a]=t;if(!Array.isArray(r)||r.length===0)return e.error("Expected an interpolation type expression.",1);if(r[0]==="linear")r={name:"linear"};else if(r[0]==="exponential"){const c=r[1];if(typeof c!="number")return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:c}}else if(r[0]==="cubic-bezier"){const c=r.slice(1);if(c.length!==4||c.some(x=>typeof x!="number"||x<0||x>1))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:c}}else return e.error(`Unknown interpolation type ${String(r[0])}`,1,0);if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!==0)return e.error("Expected an even number of arguments.");if(s=e.parse(s,2,Ie),!s)return null;const o=[];let l=null;n==="interpolate-hcl"||n==="interpolate-lab"?l=ca:e.expectedType&&e.expectedType.kind!=="value"&&(l=e.expectedType);for(let c=0;c<a.length;c+=2){const x=a[c],u=a[c+1],f=c+3,h=c+4;if(typeof x!="number")return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(o.length&&o[o.length-1][0]>=x)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);const A=e.parse(u,h,l);if(!A)return null;l=l||A.type,o.push([x,A])}return l.kind!=="number"&&l.kind!=="color"&&!(l.kind==="array"&&l.itemType.kind==="number"&&typeof l.N=="number")?e.error(`Type ${fn(l)} is not interpolatable.`):new km(l,n,r,s,o)}evaluate(t){const e=this.labels,n=this.outputs;if(e.length===1)return n[0].evaluate(t);const r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);const s=e.length;if(r>=e[s-1])return n[s-1].evaluate(t);const a=wS(e,r),o=e[a],l=e[a+1],c=km.interpolationFactor(this.interpolation,r,o,l),x=n[a].evaluate(t),u=n[a+1].evaluate(t);return this.operator==="interpolate"?YF[this.type.kind.toLowerCase()](x,u,c):this.operator==="interpolate-hcl"?Fm.reverse(Fm.interpolate(Fm.forward(x),Fm.forward(u),c)):Lm.reverse(Lm.interpolate(Lm.forward(x),Lm.forward(u),c))}eachChild(t){t(this.input);for(const e of this.outputs)t(e)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}serialize(){let t;this.interpolation.name==="linear"?t=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?t=["linear"]:t=["exponential",this.interpolation.base]:t=["cubic-bezier"].concat(this.interpolation.controlPoints);const e=[this.operator,t,this.input.serialize()];for(let n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e}}function wy(i,t,e,n){const r=n-e,s=i-e;return r===0?0:t===1?s/r:(Math.pow(t,s)-1)/(Math.pow(t,r)-1)}var I0=km;class Pm{constructor(t,e){this.type=t,this.args=e}static parse(t,e){if(t.length<2)return e.error("Expectected at least one argument.");let n=null;const r=e.expectedType;r&&r.kind!=="value"&&(n=r);const s=[];for(const o of t.slice(1)){const l=e.parse(o,1+s.length,n,void 0,{typeAnnotation:"omit"});if(!l)return null;n=n||l.type,s.push(l)}return r&&s.some(o=>zf(r,o.type))?new Pm(it,s):new Pm(n,s)}evaluate(t){let e=null,n=0,r;for(const s of this.args){if(n++,e=s.evaluate(t),e&&e instanceof ho&&!e.available&&(r||(r=e),e=null,n===this.args.length))return r;if(e!==null)break}return e}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}serialize(){const t=["coalesce"];return this.eachChild(e=>{t.push(e.serialize())}),t}}var FS=Pm;class By{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result)}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const n=[];for(let s=1;s<t.length-1;s+=2){const a=t[s];if(typeof a!="string")return e.error(`Expected string, but found ${typeof a} instead.`,s);if(/[^a-zA-Z0-9_]/.test(a))return e.error("Variable names must contain only alphanumeric characters or '_'.",s);const o=e.parse(t[s+1],s+1);if(!o)return null;n.push([a,o])}const r=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return r?new By(n,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=["let"];for(const[e,n]of this.bindings)t.push(e,n.serialize());return t.push(this.result.serialize()),t}}var kS=By;class Sy{constructor(t,e,n){this.type=t,this.index=e,this.input=n}static parse(t,e){if(t.length!==3)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,Ie),r=e.parse(t[2],2,Br(e.expectedType||it));if(!n||!r)return null;const s=r.type;return new Sy(s.itemType,n,r)}evaluate(t){const e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new ri(`Array index out of bounds: ${e} < 0.`);if(e>=n.length)throw new ri(`Array index out of bounds: ${e} > ${n.length-1}.`);if(e!==Math.floor(e))throw new ri(`Array index must be an integer, but found ${e} instead.`);return n[e]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var tk=Sy;class My{constructor(t,e){this.type=nt,this.needle=t,this.haystack=e}static parse(t,e){if(t.length!==3)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,it),r=e.parse(t[2],2,it);return!n||!r?null:sy(n.type,[nt,xt,Ie,Cm,it])?new My(n,r):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${fn(n.type)} instead`)}evaluate(t){const e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(n==null)return!1;if(!Vf(e,["boolean","string","number","null"]))throw new ri(`Expected first argument to be of type boolean, string, number or null, but found ${fn(On(e))} instead.`);if(!Vf(n,["string","array"]))throw new ri(`Expected second argument to be of type array or string, but found ${fn(On(n))} instead.`);return n.indexOf(e)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var nk=My;class Um{constructor(t,e,n){this.type=Ie,this.needle=t,this.haystack=e,this.fromIndex=n}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,it),r=e.parse(t[2],2,it);if(!n||!r)return null;if(!sy(n.type,[nt,xt,Ie,Cm,it]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${fn(n.type)} instead`);if(t.length===4){const s=e.parse(t[3],3,Ie);return s?new Um(n,r,s):null}else return new Um(n,r)}evaluate(t){const e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!Vf(e,["boolean","string","number","null"]))throw new ri(`Expected first argument to be of type boolean, string, number or null, but found ${fn(On(e))} instead.`);if(!Vf(n,["string","array"]))throw new ri(`Expected second argument to be of type array or string, but found ${fn(On(n))} instead.`);if(this.fromIndex){const r=this.fromIndex.evaluate(t);return n.indexOf(e,r)}return n.indexOf(e)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var ik=Um;class Ry{constructor(t,e,n,r,s,a){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=s,this.otherwise=a}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!==1)return e.error("Expected an even number of arguments.");let n,r;e.expectedType&&e.expectedType.kind!=="value"&&(r=e.expectedType);const s={},a=[];for(let c=2;c<t.length-1;c+=2){let x=t[c];const u=t[c+1];Array.isArray(x)||(x=[x]);const f=e.concat(c);if(x.length===0)return f.error("Expected at least one branch label.");for(const A of x){if(typeof A!="number"&&typeof A!="string")return f.error("Branch labels must be numbers or strings.");if(typeof A=="number"&&Math.abs(A)>Number.MAX_SAFE_INTEGER)return f.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof A=="number"&&Math.floor(A)!==A)return f.error("Numeric branch labels must be integer values.");if(!n)n=On(A);else if(f.checkSubtype(n,On(A)))return null;if(typeof s[String(A)]<"u")return f.error("Branch labels must be unique.");s[String(A)]=a.length}const h=e.parse(u,c,r);if(!h)return null;r=r||h.type,a.push(h)}const o=e.parse(t[1],1,it);if(!o)return null;const l=e.parse(t[t.length-1],t.length-1,r);return!l||o.type.kind!=="value"&&e.concat(1).checkSubtype(n,o.type)?null:new Ry(n,r,o,s,a,l)}evaluate(t){const e=this.input.evaluate(t);return(On(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["match",this.input.serialize()],e=Object.keys(this.cases).sort(),n=[],r={};for(const a of e){const o=r[this.cases[a]];o===void 0?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[o][1].push(a)}const s=a=>this.inputType.kind==="number"?Number(a):a;for(const[a,o]of n)o.length===1?t.push(s(o[0])):t.push(o.map(s)),t.push(this.outputs[a].serialize());return t.push(this.otherwise.serialize()),t}}var rk=Ry;class Ty{constructor(t,e,n){this.type=t,this.branches=e,this.otherwise=n}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!==0)return e.error("Expected an odd number of arguments.");let n;e.expectedType&&e.expectedType.kind!=="value"&&(n=e.expectedType);const r=[];for(let a=1;a<t.length-1;a+=2){const o=e.parse(t[a],a,nt);if(!o)return null;const l=e.parse(t[a+1],a+1,n);if(!l)return null;r.push([o,l]),n=n||l.type}const s=e.parse(t[t.length-1],t.length-1,n);return s?new Ty(n,r,s):null}evaluate(t){for(const[e,n]of this.branches)if(e.evaluate(t))return n.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,n]of this.branches)t(e),t(n);t(this.otherwise)}outputDefined(){return this.branches.every(([t,e])=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const t=["case"];return this.eachChild(e=>{t.push(e.serialize())}),t}}var sk=Ty;class Nm{constructor(t,e,n,r){this.type=t,this.input=e,this.beginIndex=n,this.endIndex=r}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const n=e.parse(t[1],1,it),r=e.parse(t[2],2,Ie);if(!n||!r)return null;if(!sy(n.type,[Br(it),xt,it]))return e.error(`Expected first argument to be of type array or string, but found ${fn(n.type)} instead`);if(t.length===4){const s=e.parse(t[3],3,Ie);return s?new Nm(n.type,n,r,s):null}else return new Nm(n.type,n,r)}evaluate(t){const e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);if(!Vf(e,["string","array"]))throw new ri(`Expected first argument to be of type array or string, but found ${fn(On(e))} instead.`);if(this.endIndex){const r=this.endIndex.evaluate(t);return e.slice(n,r)}return e.slice(n)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var ak=Nm;function PS(i,t){return i==="=="||i==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function ok(i,t,e){return t===e}function ck(i,t,e){return t!==e}function lk(i,t,e){return t<e}function xk(i,t,e){return t>e}function uk(i,t,e){return t<=e}function fk(i,t,e){return t>=e}function US(i,t,e,n){return n.compare(t,e)===0}function hk(i,t,e,n){return!US(i,t,e,n)}function Ak(i,t,e,n){return n.compare(t,e)<0}function dk(i,t,e,n){return n.compare(t,e)>0}function pk(i,t,e,n){return n.compare(t,e)<=0}function gk(i,t,e,n){return n.compare(t,e)>=0}function gl(i,t,e){const n=i!=="=="&&i!=="!=";return class A6{constructor(s,a,o){this.type=nt,this.lhs=s,this.rhs=a,this.collator=o,this.hasUntypedArgument=s.type.kind==="value"||a.type.kind==="value"}static parse(s,a){if(s.length!==3&&s.length!==4)return a.error("Expected two or three arguments.");const o=s[0];let l=a.parse(s[1],1,it);if(!l)return null;if(!PS(o,l.type))return a.concat(1).error(`"${o}" comparisons are not supported for type '${fn(l.type)}'.`);let c=a.parse(s[2],2,it);if(!c)return null;if(!PS(o,c.type))return a.concat(2).error(`"${o}" comparisons are not supported for type '${fn(c.type)}'.`);if(l.type.kind!==c.type.kind&&l.type.kind!=="value"&&c.type.kind!=="value")return a.error(`Cannot compare types '${fn(l.type)}' and '${fn(c.type)}'.`);n&&(l.type.kind==="value"&&c.type.kind!=="value"?l=new la(c.type,[l]):l.type.kind!=="value"&&c.type.kind==="value"&&(c=new la(l.type,[c])));let x=null;if(s.length===4){if(l.type.kind!=="string"&&c.type.kind!=="string"&&l.type.kind!=="value"&&c.type.kind!=="value")return a.error("Cannot use collator to compare non-string types.");if(x=a.parse(s[3],3,vm),!x)return null}return new A6(l,c,x)}evaluate(s){const a=this.lhs.evaluate(s),o=this.rhs.evaluate(s);if(n&&this.hasUntypedArgument){const l=On(a),c=On(o);if(l.kind!==c.kind||!(l.kind==="string"||l.kind==="number"))throw new ri(`Expected arguments for "${i}" to be (string, string) or (number, number), but found (${l.kind}, ${c.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const l=On(a),c=On(o);if(l.kind!=="string"||c.kind!=="string")return t(s,a,o)}return this.collator?e(s,a,o,this.collator.evaluate(s)):t(s,a,o)}eachChild(s){s(this.lhs),s(this.rhs),this.collator&&s(this.collator)}outputDefined(){return!0}serialize(){const s=[i];return this.eachChild(a=>{s.push(a.serialize())}),s}}}const mk=gl("==",ok,US),_k=gl("!=",ck,hk),Ik=gl("<",lk,Ak),Ek=gl(">",xk,dk),yk=gl("<=",uk,pk),bk=gl(">=",fk,gk);class Dy{constructor(t,e,n,r,s,a){this.type=xt,this.number=t,this.locale=e,this.currency=n,this.unit=r,this.minFractionDigits=s,this.maxFractionDigits=a}static parse(t,e){if(t.length!==3)return e.error("Expected two arguments.");const n=e.parse(t[1],1,Ie);if(!n)return null;const r=t[2];if(typeof r!="object"||Array.isArray(r))return e.error("NumberFormat options argument must be an object.");let s=null;if(r.locale&&(s=e.parse(r.locale,1,xt),!s))return null;let a=null;if(r.currency&&(a=e.parse(r.currency,1,xt),!a))return null;let o=null;if(r.unit&&(o=e.parse(r.unit,1,xt),!o))return null;let l=null;if(r["min-fraction-digits"]&&(l=e.parse(r["min-fraction-digits"],1,Ie),!l))return null;let c=null;return r["max-fraction-digits"]&&(c=e.parse(r["max-fraction-digits"],1,Ie),!c)?null:new Dy(n,s,a,o,l,c)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency&&"currency"||this.unit&&"unit"||"decimal",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]}}class Qy{constructor(t){this.type=Ie,this.input=t}static parse(t,e){if(t.length!==2)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const n=e.parse(t[1],1);return n?n.type.kind!=="array"&&n.type.kind!=="string"&&n.type.kind!=="value"?e.error(`Expected argument of type string or array, but found ${fn(n.type)} instead.`):new Qy(n):null}evaluate(t){const e=this.input.evaluate(t);if(typeof e=="string")return e.length;if(Array.isArray(e))return e.length;throw new ri(`Expected value to be of type string or array, but found ${fn(On(e))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}serialize(){const t=["length"];return this.eachChild(e=>{t.push(e.serialize())}),t}}var Ck=Qy;const NS={"==":mk,"!=":_k,">":Ek,"<":Ik,">=":bk,"<=":yk,array:la,at:tk,boolean:la,case:sk,coalesce:FS,collator:Tm,format:Mm,image:Rm,in:nk,"index-of":ik,interpolate:I0,"interpolate-hcl":I0,"interpolate-lab":I0,length:Ck,let:kS,literal:Sm,match:rk,number:la,"number-format":Dy,object:la,slice:ak,step:BS,string:la,"to-boolean":fl,"to-color":fl,"to-number":fl,"to-string":fl,var:CS,within:dy};function OS(i,[t,e,n,r]){t=t.evaluate(i),e=e.evaluate(i),n=n.evaluate(i);const s=r?r.evaluate(i):1,a=pS(t,e,n,s);if(a)throw new ri(a);return new fr(t/255*s,e/255*s,n/255*s,s)}function GS(i,t){return i in t}function Ly(i,t){const e=t[i];return typeof e>"u"?null:e}function vk(i,t,e,n){for(;e<=n;){const r=e+n>>1;if(t[r]===i)return!0;t[r]>i?n=r-1:e=r+1}return!1}function E0(i){return{type:i}}Al.register(NS,{error:[yF,[xt],(i,[t])=>{throw new ri(t.evaluate(i))}],typeof:[xt,[it],(i,[t])=>fn(On(t.evaluate(i)))],"to-rgba":[Br(Ie,4),[ca],(i,[t])=>t.evaluate(i).toArray()],rgb:[ca,[Ie,Ie,Ie],OS],rgba:[ca,[Ie,Ie,Ie,Ie],OS],has:{type:nt,overloads:[[[xt],(i,[t])=>GS(t.evaluate(i),i.properties())],[[xt,ul],(i,[t,e])=>GS(t.evaluate(i),e.evaluate(i))]]},get:{type:it,overloads:[[[xt],(i,[t])=>Ly(t.evaluate(i),i.properties())],[[xt,ul],(i,[t,e])=>Ly(t.evaluate(i),e.evaluate(i))]]},"feature-state":[it,[xt],(i,[t])=>Ly(t.evaluate(i),i.featureState||{})],properties:[ul,[],i=>i.properties()],"geometry-type":[xt,[],i=>i.geometryType()],id:[it,[],i=>i.id()],zoom:[Ie,[],i=>i.globals.zoom],pitch:[Ie,[],i=>i.globals.pitch||0],"distance-from-center":[Ie,[],i=>i.distanceFromCenter()],"heatmap-density":[Ie,[],i=>i.globals.heatmapDensity||0],"line-progress":[Ie,[],i=>i.globals.lineProgress||0],"sky-radial-progress":[Ie,[],i=>i.globals.skyRadialProgress||0],accumulated:[it,[],i=>i.globals.accumulated===void 0?null:i.globals.accumulated],"+":[Ie,E0(Ie),(i,t)=>{let e=0;for(const n of t)e+=n.evaluate(i);return e}],"*":[Ie,E0(Ie),(i,t)=>{let e=1;for(const n of t)e*=n.evaluate(i);return e}],"-":{type:Ie,overloads:[[[Ie,Ie],(i,[t,e])=>t.evaluate(i)-e.evaluate(i)],[[Ie],(i,[t])=>-t.evaluate(i)]]},"/":[Ie,[Ie,Ie],(i,[t,e])=>t.evaluate(i)/e.evaluate(i)],"%":[Ie,[Ie,Ie],(i,[t,e])=>t.evaluate(i)%e.evaluate(i)],ln2:[Ie,[],()=>Math.LN2],pi:[Ie,[],()=>Math.PI],e:[Ie,[],()=>Math.E],"^":[Ie,[Ie,Ie],(i,[t,e])=>Math.pow(t.evaluate(i),e.evaluate(i))],sqrt:[Ie,[Ie],(i,[t])=>Math.sqrt(t.evaluate(i))],log10:[Ie,[Ie],(i,[t])=>Math.log(t.evaluate(i))/Math.LN10],ln:[Ie,[Ie],(i,[t])=>Math.log(t.evaluate(i))],log2:[Ie,[Ie],(i,[t])=>Math.log(t.evaluate(i))/Math.LN2],sin:[Ie,[Ie],(i,[t])=>Math.sin(t.evaluate(i))],cos:[Ie,[Ie],(i,[t])=>Math.cos(t.evaluate(i))],tan:[Ie,[Ie],(i,[t])=>Math.tan(t.evaluate(i))],asin:[Ie,[Ie],(i,[t])=>Math.asin(t.evaluate(i))],acos:[Ie,[Ie],(i,[t])=>Math.acos(t.evaluate(i))],atan:[Ie,[Ie],(i,[t])=>Math.atan(t.evaluate(i))],min:[Ie,E0(Ie),(i,t)=>Math.min(...t.map(e=>e.evaluate(i)))],max:[Ie,E0(Ie),(i,t)=>Math.max(...t.map(e=>e.evaluate(i)))],abs:[Ie,[Ie],(i,[t])=>Math.abs(t.evaluate(i))],round:[Ie,[Ie],(i,[t])=>{const e=t.evaluate(i);return e<0?-Math.round(-e):Math.round(e)}],floor:[Ie,[Ie],(i,[t])=>Math.floor(t.evaluate(i))],ceil:[Ie,[Ie],(i,[t])=>Math.ceil(t.evaluate(i))],"filter-==":[nt,[xt,it],(i,[t,e])=>i.properties()[t.value]===e.value],"filter-id-==":[nt,[it],(i,[t])=>i.id()===t.value],"filter-type-==":[nt,[xt],(i,[t])=>i.geometryType()===t.value],"filter-<":[nt,[xt,it],(i,[t,e])=>{const n=i.properties()[t.value],r=e.value;return typeof n==typeof r&&n<r}],"filter-id-<":[nt,[it],(i,[t])=>{const e=i.id(),n=t.value;return typeof e==typeof n&&e<n}],"filter->":[nt,[xt,it],(i,[t,e])=>{const n=i.properties()[t.value],r=e.value;return typeof n==typeof r&&n>r}],"filter-id->":[nt,[it],(i,[t])=>{const e=i.id(),n=t.value;return typeof e==typeof n&&e>n}],"filter-<=":[nt,[xt,it],(i,[t,e])=>{const n=i.properties()[t.value],r=e.value;return typeof n==typeof r&&n<=r}],"filter-id-<=":[nt,[it],(i,[t])=>{const e=i.id(),n=t.value;return typeof e==typeof n&&e<=n}],"filter->=":[nt,[xt,it],(i,[t,e])=>{const n=i.properties()[t.value],r=e.value;return typeof n==typeof r&&n>=r}],"filter-id->=":[nt,[it],(i,[t])=>{const e=i.id(),n=t.value;return typeof e==typeof n&&e>=n}],"filter-has":[nt,[it],(i,[t])=>t.value in i.properties()],"filter-has-id":[nt,[],i=>i.id()!==null&&i.id()!==void 0],"filter-type-in":[nt,[Br(xt)],(i,[t])=>t.value.indexOf(i.geometryType())>=0],"filter-id-in":[nt,[Br(it)],(i,[t])=>t.value.indexOf(i.id())>=0],"filter-in-small":[nt,[xt,Br(it)],(i,[t,e])=>e.value.indexOf(i.properties()[t.value])>=0],"filter-in-large":[nt,[xt,Br(it)],(i,[t,e])=>vk(i.properties()[t.value],e.value,0,e.value.length-1)],all:{type:nt,overloads:[[[nt,nt],(i,[t,e])=>t.evaluate(i)&&e.evaluate(i)],[E0(nt),(i,t)=>{for(const e of t)if(!e.evaluate(i))return!1;return!0}]]},any:{type:nt,overloads:[[[nt,nt],(i,[t,e])=>t.evaluate(i)||e.evaluate(i)],[E0(nt),(i,t)=>{for(const e of t)if(e.evaluate(i))return!0;return!1}]]},"!":[nt,[nt],(i,[t])=>!t.evaluate(i)],"is-supported-script":[nt,[xt],(i,[t])=>{const e=i.globals&&i.globals.isSupportedScript;return e?e(t.evaluate(i)):!0}],upcase:[xt,[xt],(i,[t])=>t.evaluate(i).toUpperCase()],downcase:[xt,[xt],(i,[t])=>t.evaluate(i).toLowerCase()],concat:[xt,E0(it),(i,t)=>t.map(e=>Hf(e.evaluate(i))).join("")],"resolved-locale":[xt,[vm],(i,[t])=>t.evaluate(i).resolvedLocale()]});var zS=NS;function Fy(i){return{result:"success",value:i}}function ml(i){return{result:"error",value:i}}function wk(i){return i["property-type"]==="data-driven"}function Bk(i){return!!i.expression&&i.expression.parameters.indexOf("zoom")>-1}function Sk(i){return!!i.expression&&i.expression.interpolated}function VS(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}class Mk{constructor(t,e){this.expression=t,this._warningHistory={},this._evaluator=new gS,this._defaultValue=e?Qk(e):null,this._enumValues=e&&e.type==="enum"?e.values:null}evaluateWithoutErrorHandling(t,e,n,r,s,a,o,l){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=r||null,this._evaluator.availableImages=s||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=l||null,this.expression.evaluate(this._evaluator)}evaluate(t,e,n,r,s,a,o,l){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r||null,this._evaluator.availableImages=s||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=l||null;try{const c=this.expression.evaluate(this._evaluator);if(c==null||typeof c=="number"&&c!==c)return this._defaultValue;if(this._enumValues&&!(c in this._enumValues))throw new ri(`Expected value to be one of ${Object.keys(this._enumValues).map(x=>JSON.stringify(x)).join(", ")}, but found ${JSON.stringify(c)} instead.`);return c}catch(c){return this._warningHistory[c.message]||(this._warningHistory[c.message]=!0,typeof console<"u"&&console.warn(c.message)),this._defaultValue}}}function Rk(i){return Array.isArray(i)&&i.length>0&&typeof i[0]=="string"&&i[0]in zS}function ky(i,t){const e=new vS(zS,[],t?Dk(t):void 0),n=e.parse(i,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return n?Fy(new Mk(n,t)):ml(e.errors)}class HS{constructor(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent=t!=="constant"&&!py(e.expression)}evaluateWithoutErrorHandling(t,e,n,r,s,a){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,s,a)}evaluate(t,e,n,r,s,a){return this._styleExpression.evaluate(t,e,n,r,s,a)}}class qS{constructor(t,e,n,r){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent=t!=="camera"&&!py(e.expression),this.interpolationType=r}evaluateWithoutErrorHandling(t,e,n,r,s,a){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,s,a)}evaluate(t,e,n,r,s,a){return this._styleExpression.evaluate(t,e,n,r,s,a)}interpolationFactor(t,e,n){return this.interpolationType?I0.interpolationFactor(this.interpolationType,t,e,n):0}}function Tk(i,t){if(i=ky(i,t),i.result==="error")return i;const e=i.value.expression,n=Qm(e);if(!n&&!wk(t))return ml([new Ms("","data expressions not supported")]);const r=gy(e,["zoom","pitch","distance-from-center"]);if(!r&&!Bk(t))return ml([new Ms("","zoom expressions not supported")]);const s=Om(e);if(!s&&!r)return ml([new Ms("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(s instanceof Ms)return ml([s]);if(s instanceof I0&&!Sk(t))return ml([new Ms("",'"interpolate" expressions cannot be used with this property')]);if(!s)return Fy(n?new HS("constant",i.value):new HS("source",i.value));const a=s instanceof I0?s.interpolation:void 0;return Fy(n?new qS("camera",i.value,s.labels,a):new qS("composite",i.value,s.labels,a))}function Om(i){let t=null;if(i instanceof kS)t=Om(i.result);else if(i instanceof FS){for(const e of i.args)if(t=Om(e),t)break}else(i instanceof BS||i instanceof I0)&&i.input instanceof Al&&i.input.name==="zoom"&&(t=i);return t instanceof Ms||i.eachChild(e=>{const n=Om(e);n instanceof Ms?t=n:!t&&n?t=new Ms("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new Ms("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function Dk(i){const t={color:ca,string:xt,number:Ie,enum:xt,boolean:nt,formatted:wm,resolvedImage:Gf};return i.type==="array"?Br(t[i.value]||it,i.length):t[i.type]}function Qk(i){return i.type==="color"&&(VS(i.default)||Array.isArray(i.default))?new fr(0,0,0,0):i.type==="color"?fr.parse(i.default)||null:i.default===void 0?null:i.default}function Lk(i){return i instanceof Number||i instanceof String||i instanceof Boolean?i.valueOf():i}function Py(i){if(Array.isArray(i))return i.map(Py);if(i instanceof Object&&!(i instanceof Number||i instanceof String||i instanceof Boolean)){const t={};for(const e in i)t[e]=Py(i[e]);return t}return Lk(i)}var YS={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["fill-extrusion-edge-radius"]}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function WS(i){if(i===!0||i===!1)return!0;if(!Array.isArray(i)||i.length===0)return!1;switch(i[0]){case"has":return i.length>=2&&i[1]!=="$id"&&i[1]!=="$type";case"in":return i.length>=3&&(typeof i[1]!="string"||Array.isArray(i[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return i.length!==3||Array.isArray(i[1])||Array.isArray(i[2]);case"any":case"all":for(const t of i.slice(1))if(!WS(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}function Fk(i,t="fill"){if(i==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};WS(i)||(i=Gm(i));const e=i;let n=!0;try{n=kk(e)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
=======
    else {
        discard;
    }
}`;var i9=class extends ny{constructor(e,t){super(t),this.map=e,this.projCode=e.getView().getProjection().getCode().split(":")[1],this.options=t,this.loadfirst=!1,this._sourceStatus=0,this._tiffObject=null,this.canvas=null,this.rasterDatas=null,this.initLoadData=!0,this.worldfirstExtent=null,this.firstBool=!0,this.setProperties(t),this.interpolateType={linear:{colorRampTexture:"linear",spotTexture:"linear",colortype:"gradient"},nearest:{colorRampTexture:"nearest",spotTexture:"linear",colortype:"region"},grid:{colorRampTexture:"nearest",spotTexture:"nearest",colortype:"gradient"}},this.colors=null,this.u_min=-9999999,this.u_max=9999999,this.metadata=null}async _render1(){return this.firstBool&&(this.firstBool=!1,this.once("postrender",e=>{this.drawGridNumber(this.rasterDatas)})),this.AddfillMultiWebGLLayer()}isViewExtentEqual(e){const t=this.map.getView().calculateExtent(this.map.getSize());return JSON.stringify(t)===JSON.stringify(e)}drawGridNumber(e){if(!(this.worldfirstExtent&&this.isViewExtentEqual(this.worldfirstExtent))){if(this.worldfirstExtent=this.map.getView().calculateExtent(this.map.getSize()),this.initLoadData==!0){this.initLoadData=!1;const t=this.map.getView().getProjection().getCode(),n=new EB({ratio:1,projection:t,canvasFunction:(r,s,a,o)=>(this.worldExtent=r,this.worldPixelRatio=a,this.canvas.width=o[0],this.canvas.height=o[1],this._render(),this.canvas)});this.setSource(n)}this.rasterDatas=e,this._render(),this._reset()}}updateStyle(e){var s;this.options.colors=e.colors;let t=this.convertColor(e),n=this.interpolateType[(e==null?void 0:e.interpolation)||((s=this.options)==null?void 0:s.interpolation)||"linear"];console.log("colorRampType",n);let r=this.gl.LINEAR;switch(n.colorRampTexture){case"linear":r=this.gl.LINEAR;break;case"nearest":r=this.gl.NEAREST;break}this.colorRampTexture=iy(this.gl,r,this.makeCilirRamp(t),16,16),this._render(),this._reset()}convertColor(e){let{colors:t}=e;return t=t.map(n=>{const s=`rgba(${n[1].join(",")})`;return[n[0],s]}),t}async AddfillMultiWebGLLayer(){return await new Promise(e=>{var s;this.colors=this.convertColor(this.options),this.worldExtent=this.map.getView().calculateExtent(this.map.getSize());const t=this.map.getView().getProjection().getCode();this.canvas=document.createElement("canvas"),this._initCanvas(),this.program=e9(this.gl,t9,n9),this.gl.useProgram(this.program.program),this.vertexCoordsBuffer=sy(this.gl,new Float32Array([-1,1,-1,-1,1,1,1,-1])),this.pixelCoordsBuffer=sy(this.gl,new Float32Array([0,1,0,0,1,1,1,0]));let n=this.interpolateType[((s=this.options)==null?void 0:s.interpolation)||"linear"];switch(this.gl.LINEAR,n.colorRampTexture){case"linear":this.gl.LINEAR;break;case"nearest":this.gl.NEAREST;break}const r=new EB({ratio:1,projection:t,canvasFunction:(a,o,l,c)=>(this.worldExtent=a,this.worldPixelRatio=l,this.canvas.width=c[0],this.canvas.height=c[1],this._render(),this.canvas)});return this.setSource(r),e(this)})}_reset(){this._updateData()}async _updateData(){var n,r;let e=this.rasterDatas;if(e==null)return;let t;for(let s in e){const a=e[s];t=a[0];let o=new Float32Array(t.length);for(let g=0;g<t.length;g++){const d=t[g];o[g]=this.getRealValue(d,(n=a==null?void 0:a.params)==null?void 0:n.metadata)}this.metadata=a.params.metadata;const l=parseInt(s)+1,c="spotTexture"+l,x="bound"+l+"_min",u="bound"+l+"_max";debugger;let h=this.interpolateType[((r=this.options)==null?void 0:r.interpolation)||"linear"],f=this.gl.LINEAR;switch(h.spotTexture){case"linear":f=this.gl.LINEAR;break;case"nearest":f=this.gl.NEAREST;break}this.colorRampTexture=iy(this.gl,f,this.makeCilirRamp(this.colors),16,16),this[c]=iy(this.gl,f,o,a.width,a.height);const A=a.dataBbox;this.gl.uniform2f(this.program[x],A[0],A[3]),this.gl.uniform2f(this.program[u],A[2],A[1])}debugger;this.gl.uniform1f(this.program.u_min,this.u_min),this.gl.uniform1f(this.program.u_max,this.u_max),this._render(),this.getSource().changed()}isNoData(e,t){return e==t.nodata}getRealValue(e,t){if(this.isNoData(e,t))return t.nodata;{let n=0;return t.unit=="C"?n=(e-273.15*t.customScale)/t.customScale+t.offset:n=e/t.scale+t.offset,n}}getRealBandNumberValue(e,t){if(this.isNoData(e,t))return t.nodata;{let n=0;return t.unit=="C"?n=(e-273.15*t.customScale)/t.customScale+t.offset:n=e/t.scale+t.offset,n}}updatePixelCoords(e){this.pixelCoordsBuffer=sy(this.gl,new Float32Array(e))}_initCanvas(){let e=this.map.getSize();this.canvas.width=e[0],this.canvas.height=e[1],this.gl=this.createGL(this.canvas)}_render(){const e=this.gl,t=this.program;e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),this.updatePixelCoords(this.boundsToCoords(this.getPixelBounds())),$B(e,this.vertexCoordsBuffer,t.aVertexCoords,2),$B(e,this.pixelCoordsBuffer,t.aPixelCoords,2),ry(e,this.colorRampTexture,0),e.uniform1i(t.uColorRamp,0),ry(this.gl,this.spotTexture1,1),this.gl.uniform1i(this.program.spotTexture1,1),ry(this.gl,this.spotTexture2,2),this.gl.uniform1i(this.program.spotTexture2,2),e.uniform1i(this.program.projCode,this.projCode),e.drawArrays(e.TRIANGLE_STRIP,0,4)}getPixelBounds(){let e=this.map.getView().getProjection().getCode(),t=0,n=0;e=="EPSG:3857"?(t=this.map.getPixelFromCoordinate(ms([-180,85.05112877980659],"EPSG:4326",e)),n=this.map.getPixelFromCoordinate(ms([180,-85.05112877980659],"EPSG:4326",e))):e=="EPSG:4326"?(t=this.map.getPixelFromCoordinate(ms([-180,90],"EPSG:4326",e)),n=this.map.getPixelFromCoordinate(ms([180,-90],"EPSG:4326",e))):e=="Albers"&&(t=this.map.getPixelFromCoordinate(ms([-179,90],"EPSG:4326",e)),n=this.map.getPixelFromCoordinate(ms([179,-90],"EPSG:4326",e)));let r=Math.abs(n[0]-t[0]),s=Math.abs(n[1]-t[1]),a=this.map.getPixelFromCoordinate([this.worldExtent[0],this.worldExtent[3]]),o=[];o[0]=a[0]-t[0],o[1]=a[1]-t[1];let l=this.map.getPixelFromCoordinate([this.worldExtent[2],this.worldExtent[1]]),c=[];c[0]=l[0]-t[0],c[1]=l[1]-t[1];let x=o[0],u=c[0],h=o[1],f=c[1],A=x/r,g=u/r,d=1-h/s,p=1-f/s;return[A,g,p,d]}boundsToCoords(e){return[e[0],e[3],e[0],e[2],e[1],e[3],e[1],e[2]]}createGL(e){this._glOpts={antialiasing:!0,alpha:!0};let t=e.getContext("webgl2",this._glOpts)||e.getContext("experimental-webgl2",this._glOpts);return t?(this._anisoExt=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this._anisoExt||console.warn("Your browser doesn`t support anisotropic filtering.  Ordinary MIP mapping will be used."),t.getExtension("OES_texture_float_linear")||console.warn("OES_texture_float_linear is not supported.")):console.warn("Your browser doesn`t seem to support WebGL."),t}makeCilirRamp(e){var x;debugger;console.log("this.rasterDatas",this.rasterDatas),this.metadata==null?(this.getAlphaValue(e[0][1])==0&&(this.u_min=e[0][0]),this.getAlphaValue(e[e.length-1][1])==0&&(this.u_max=e[e.length-1][0])):(this.u_min=this.metadata.min,this.u_max=this.metadata.max);const t=e[0][0],n=e[e.length-1][0],r=this.gl,s=this.program;r.uniform1f(s.ramp_min,t),r.uniform1f(s.ramp_max,n);const a=document.createElement("canvas"),o=a.getContext("2d");a.width=256,a.height=1;const l=o.createLinearGradient(0,0,256,0);for(const u in e){const h=(e[u][0]-t)/(n-t);l.addColorStop(h,e[u][1])}o.fillStyle=l,o.fillRect(0,0,256,1);let c=this.interpolateType[((x=this.options)==null?void 0:x.interpolation)||"linear"].colortype;if(c=="region"){const u=e.slice(-1)[0][0]-e[0][0];let h=0;e.forEach((f,A,g)=>{if(A===g.length-1)return;const d=(g[A+1][0]-f[0])*a.width/u;o.fillStyle=f[1];let p=Math.round(h+d);o.fillRect(h,0,p+1,a.height),h+=d})}else if(c=="gradient"){const u=o.createLinearGradient(0,0,256,0);for(const h in e){const f=(e[h][0]-t)/(n-t);u.addColorStop(f,e[h][1])}o.fillStyle=u,o.fillRect(0,0,256,1)}return new Uint8Array(o.getImageData(0,0,256,1).data)}getAlphaValue(e){const t=e.match(/rgba?\(\s*(\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\s*\)/);if(t)return t[4]!==void 0?parseFloat(t[4]):null;throw new Error("Invalid RGBA string")}};function r9(i,e,t,n,r){e5(i,e,t||0,n||i.length-1,r||s9)}function e5(i,e,t,n,r){for(;n>t;){if(n-t>600){var s=n-t+1,a=e-t+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(a-s/2<0?-1:1),x=Math.max(t,Math.floor(e-a*l/s+c)),u=Math.min(n,Math.floor(e+(s-a)*l/s+c));e5(i,e,x,u,r)}var h=i[e],f=t,A=n;for(Hu(i,t,e),r(i[n],h)>0&&Hu(i,t,n);f<A;){for(Hu(i,f,A),f++,A--;r(i[f],h)<0;)f++;for(;r(i[A],h)>0;)A--}r(i[t],h)===0?Hu(i,t,A):(A++,Hu(i,A,n)),A<=e&&(t=A+1),e<=A&&(n=A-1)}}function Hu(i,e,t){var n=i[e];i[e]=i[t],i[t]=n}function s9(i,e){return i<e?-1:i>e?1:0}let t5=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const n=[];if(!O1(e,t))return n;const r=this.toBBox,s=[];for(;t;){for(let a=0;a<t.children.length;a++){const o=t.children[a],l=t.leaf?r(o):o;O1(e,l)&&(t.leaf?n.push(o):oy(e,l)?this._all(o,n):s.push(o))}t=s.pop()}return n}collides(e){let t=this.data;if(!O1(e,t))return!1;const n=[];for(;t;){for(let r=0;r<t.children.length;r++){const s=t.children[r],a=t.leaf?this.toBBox(s):s;if(O1(e,a)){if(t.leaf||oy(e,a))return!0;n.push(s)}}t=n.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let n=0;n<e.length;n++)this.insert(e[n]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const n=this.data;this.data=t,t=n}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=zc([]),this}remove(e,t){if(!e)return this;let n=this.data;const r=this.toBBox(e),s=[],a=[];let o,l,c;for(;n||s.length;){if(n||(n=s.pop(),l=s[s.length-1],o=a.pop(),c=!0),n.leaf){const x=a9(e,n.children,t);if(x!==-1)return n.children.splice(x,1),s.push(n),this._condense(s),this}!c&&!n.leaf&&oy(n,r)?(s.push(n),a.push(o),o=0,l=n,n=n.children[0]):l?(o++,n=l.children[o],c=!1):n=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,r){const s=n-t+1;let a=this._maxEntries,o;if(s<=a)return o=zc(e.slice(t,n+1)),Gc(o,this.toBBox),o;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),o=zc([]),o.leaf=!1,o.height=r;const l=Math.ceil(s/a),c=l*Math.ceil(Math.sqrt(a));n5(e,t,n,c,this.compareMinX);for(let x=t;x<=n;x+=c){const u=Math.min(x+c-1,n);n5(e,x,u,l,this.compareMinY);for(let h=x;h<=u;h+=l){const f=Math.min(h+l-1,u);o.children.push(this._build(e,h,f,r-1))}}return Gc(o,this.toBBox),o}_chooseSubtree(e,t,n,r){for(;r.push(t),!(t.leaf||r.length-1===n);){let s=1/0,a=1/0,o;for(let l=0;l<t.children.length;l++){const c=t.children[l],x=ay(c),u=l9(e,c)-x;u<a?(a=u,s=x<s?x:s,o=c):u===a&&x<s&&(s=x,o=c)}t=o||t.children[0]}return t}_insert(e,t,n){const r=n?e:this.toBBox(e),s=[],a=this._chooseSubtree(r,this.data,t,s);for(a.children.push(e),Yu(a,r);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(r,s,t)}_split(e,t){const n=e[t],r=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,r);const a=this._chooseSplitIndex(n,s,r),o=zc(n.children.splice(a,n.children.length-a));o.height=n.height,o.leaf=n.leaf,Gc(n,this.toBBox),Gc(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(n,o)}_splitRoot(e,t){this.data=zc([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Gc(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let r,s=1/0,a=1/0;for(let o=t;o<=n-t;o++){const l=qu(e,0,o,this.toBBox),c=qu(e,o,n,this.toBBox),x=x9(l,c),u=ay(l)+ay(c);x<s?(s=x,r=o,a=u<a?u:a):x===s&&u<a&&(a=u,r=o)}return r||n-t}_chooseSplitAxis(e,t,n){const r=e.leaf?this.compareMinX:o9,s=e.leaf?this.compareMinY:c9,a=this._allDistMargin(e,t,n,r),o=this._allDistMargin(e,t,n,s);a<o&&e.children.sort(r)}_allDistMargin(e,t,n,r){e.children.sort(r);const s=this.toBBox,a=qu(e,0,t,s),o=qu(e,n-t,n,s);let l=N1(a)+N1(o);for(let c=t;c<n-t;c++){const x=e.children[c];Yu(a,e.leaf?s(x):x),l+=N1(a)}for(let c=n-t-1;c>=t;c--){const x=e.children[c];Yu(o,e.leaf?s(x):x),l+=N1(o)}return l}_adjustParentBBoxes(e,t,n){for(let r=n;r>=0;r--)Yu(t[r],e)}_condense(e){for(let t=e.length-1,n;t>=0;t--)e[t].children.length===0?t>0?(n=e[t-1].children,n.splice(n.indexOf(e[t]),1)):this.clear():Gc(e[t],this.toBBox)}};function a9(i,e,t){if(!t)return e.indexOf(i);for(let n=0;n<e.length;n++)if(t(i,e[n]))return n;return-1}function Gc(i,e){qu(i,0,i.children.length,e,i)}function qu(i,e,t,n,r){r||(r=zc(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<t;s++){const a=i.children[s];Yu(r,i.leaf?n(a):a)}return r}function Yu(i,e){return i.minX=Math.min(i.minX,e.minX),i.minY=Math.min(i.minY,e.minY),i.maxX=Math.max(i.maxX,e.maxX),i.maxY=Math.max(i.maxY,e.maxY),i}function o9(i,e){return i.minX-e.minX}function c9(i,e){return i.minY-e.minY}function ay(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function N1(i){return i.maxX-i.minX+(i.maxY-i.minY)}function l9(i,e){return(Math.max(e.maxX,i.maxX)-Math.min(e.minX,i.minX))*(Math.max(e.maxY,i.maxY)-Math.min(e.minY,i.minY))}function x9(i,e){const t=Math.max(i.minX,e.minX),n=Math.max(i.minY,e.minY),r=Math.min(i.maxX,e.maxX),s=Math.min(i.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,s-n)}function oy(i,e){return i.minX<=e.minX&&i.minY<=e.minY&&e.maxX<=i.maxX&&e.maxY<=i.maxY}function O1(i,e){return e.minX<=i.maxX&&e.minY<=i.maxY&&e.maxX>=i.minX&&e.maxY>=i.minY}function zc(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function n5(i,e,t,n,r){const s=[e,t];for(;s.length;){if(t=s.pop(),e=s.pop(),t-e<=n)continue;const a=e+Math.ceil((t-e)/n/2)*n;r9(i,a,e,t,r),s.push(e,a,a,t)}}function G1(){const i=["getDeclutterMode","radius","clone","render","getStroke","3690625vzWseY","12673989LAASpc","262ZofWZE","getOpacity","10394JyZNbc","setRadius","slice","rotateWithView","declutterMode","displacement","20aZpsKU","getRadius","scale","getScale","7086192FEztkX","4692072vvLKuQ","stroke","23544sqGHZo","567vrBvhL","1024620kgAJqu","rotation","getDisplacement","getFill"];return G1=function(){return i},G1()}function Xu(i,e){const t=G1();return Xu=function(n,r){return n=n-424,t[n]},Xu(i,e)}const z1=Xu;(function(i,e){const t=Xu,n=i();for(;;)try{if(parseInt(t(424))/1*(-parseInt(t(450))/2)+-parseInt(t(435))/3+parseInt(t(434))/4+-parseInt(t(448))/5+-parseInt(t(439))/6+parseInt(t(438))/7*(parseInt(t(437))/8)+parseInt(t(449))/9*(parseInt(t(430))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(G1,991840);class Vc extends Rc{constructor(e){const t=Xu;e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e[t(444)],stroke:e[t(436)],scale:e[t(432)]!==void 0?e[t(432)]:1,rotation:e[t(440)]!==void 0?e.rotation:0,rotateWithView:e[t(427)]!==void 0?e[t(427)]:!1,displacement:e[t(429)]!==void 0?e[t(429)]:[0,0],declutterMode:e[t(428)]})}[z1(445)](){const e=z1,t=this[e(433)](),n=new Vc({fill:this[e(442)]()?this[e(442)]().clone():void 0,stroke:this[e(447)]()?this.getStroke()[e(445)]():void 0,radius:this[e(431)](),scale:Array.isArray(t)?t[e(426)]():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this[e(441)]()[e(426)](),declutterMode:this[e(443)]()});return n.setOpacity(this[e(451)]()),n}[z1(425)](e){const t=z1;this[t(444)]=e,this[t(446)]()}}function Wu(i,e){const t=V1();return Wu=function(n,r){return n=n-481,t[n]},Wu(i,e)}const co=Wu;(function(i,e){const t=Wu,n=i();for(;;)try{if(parseInt(t(492))/1*(-parseInt(t(494))/2)+parseInt(t(502))/3*(parseInt(t(487))/4)+-parseInt(t(488))/5+-parseInt(t(485))/6*(-parseInt(t(483))/7)+parseInt(t(497))/8+parseInt(t(491))/9*(parseInt(t(484))/10)+-parseInt(t(481))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(V1,200295);function V1(){const i=["size","4059adXgeJ","color_","src","loading","getColor","7410711MKjsvh","LOADING","14PKrRyg","3815110RyetZH","991218hHTMjI","patternImage_","1152ldweJW","822580DhWpEi","ready","anonymous","9SvGYVn","145738BBKMIl","color","2YSzWMd","offset","then","661352ZbSCfR","clone","getImageState","isArray"];return V1=function(){return i},V1()}class zi{constructor(e){const t=Wu;e=e||{},this[t(486)]=null,this[t(503)]=null,e[t(493)]!==void 0&&this.setColor(e[t(493)])}[co(498)](){const e=co,t=this[e(506)]();return new zi({color:Array[e(500)](t)?t.slice():t||void 0})}[co(506)](){return this.color_}setColor(e){const t=co;if(e!==null&&typeof e=="object"&&"src"in e){const n=AE(null,e[t(504)],t(490),void 0,e.offset?null:e[t(493)]?e[t(493)]:null,!(e[t(495)]&&e[t(501)]));n[t(489)]()[t(496)](()=>{const r=t;this[r(486)]=null}),n.getImageState()===Pe.IDLE&&n.load(),n[t(499)]()===Pe[t(482)]&&(this[t(486)]=n)}this[t(503)]=e}[co(505)](){return!!this[co(486)]}[co(489)](){const e=co;return this.patternImage_?this[e(486)][e(489)]():Promise.resolve()}}function H1(){const i=["color_","lineDashOffset_","lineDash","getMiterLimit","8365jIaNDf","lineDash_","341ubJXwo","getLineJoin","slice","getLineDash","getLineDashOffset","miterLimit","3745395qmBKIw","getLineCap","miterLimit_","width_","setMiterLimit","isArray","setLineJoin","setLineDashOffset","412DxaMiB","227571levlLc","14510ctVWVq","color","778180vGDDwR","setLineDash","72ifzbjk","lineJoin_","1013FQXgYJ","12465mPEyQf","getWidth","clone","312oxQsDr","getColor","lineJoin","lineCap_"];return H1=function(){return i},H1()}const xn=ju;function ju(i,e){const t=H1();return ju=function(n,r){return n=n-197,t[n]},ju(i,e)}(function(i,e){const t=ju,n=i();for(;;)try{if(parseInt(t(197))/1*(parseInt(t(225))/2)+-parseInt(t(226))/3+-parseInt(t(229))/4+-parseInt(t(198))/5*(parseInt(t(231))/6)+-parseInt(t(209))/7*(parseInt(t(201))/8)+parseInt(t(217))/9+parseInt(t(227))/10*(-parseInt(t(211))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(H1,232929);class Ri{constructor(e){const t=ju;e=e||{},this[t(205)]=e[t(228)]!==void 0?e[t(228)]:null,this.lineCap_=e.lineCap,this[t(210)]=e[t(207)]!==void 0?e[t(207)]:null,this[t(206)]=e.lineDashOffset,this.lineJoin_=e[t(203)],this[t(219)]=e[t(216)],this[t(220)]=e.width}[xn(200)](){const e=xn,t=this[e(202)]();return new Ri({color:Array[e(222)](t)?t[e(213)]():t||void 0,lineCap:this[e(218)](),lineDash:this[e(214)]()?this.getLineDash()[e(213)]():void 0,lineDashOffset:this[e(215)](),lineJoin:this[e(212)](),miterLimit:this[e(208)](),width:this[e(199)]()})}[xn(202)](){return this.color_}[xn(218)](){return this[xn(204)]}[xn(214)](){return this.lineDash_}[xn(215)](){return this[xn(206)]}[xn(212)](){return this[xn(232)]}[xn(208)](){return this[xn(219)]}[xn(199)](){return this[xn(220)]}setColor(e){const t=xn;this[t(205)]=e}setLineCap(e){const t=xn;this[t(204)]=e}[xn(230)](e){const t=xn;this[t(210)]=e}[xn(224)](e){const t=xn;this[t(206)]=e}[xn(223)](e){const t=xn;this[t(232)]=e}[xn(221)](e){const t=xn;this[t(219)]=e}setWidth(e){const t=xn;this[t(220)]=e}}const Dt=Hc;(function(i,e){const t=Hc,n=i();for(;;)try{if(-parseInt(t(247))/1*(parseInt(t(208))/2)+parseInt(t(250))/3+parseInt(t(253))/4+-parseInt(t(256))/5*(parseInt(t(218))/6)+parseInt(t(232))/7+-parseInt(t(224))/8+-parseInt(t(222))/9*(-parseInt(t(254))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(q1,385697);function Hc(i,e){const t=q1();return Hc=function(n,r){return n=n-200,t[n]},Hc(i,e)}class Ct{constructor(e){const t=Hc;e=e||{},this[t(238)]=null,this[t(207)]=r5,e[t(258)]!==void 0&&this[t(237)](e[t(258)]),this[t(206)]=e.fill!==void 0?e[t(212)]:null,this[t(241)]=e[t(210)]!==void 0?e[t(210)]:null,this[t(243)]=e[t(223)]!==void 0?e[t(223)]:null,this[t(231)]=e[t(252)]!==void 0?e[t(252)]:null,this[t(230)]=e.stroke!==void 0?e[t(236)]:null,this[t(239)]=e[t(225)]!==void 0?e.text:null,this[t(240)]=e[t(203)]}clone(){const e=Hc;let t=this[e(213)]();return t&&typeof t===e(246)&&(t=t.clone()),new Ct({geometry:t??void 0,fill:this[e(235)]()?this.getFill()[e(204)]():void 0,image:this[e(202)]()?this[e(202)]()[e(204)]():void 0,renderer:this[e(249)]()??void 0,stroke:this[e(229)]()?this[e(229)]()[e(204)]():void 0,text:this.getText()?this.getText()[e(204)]():void 0,zIndex:this[e(228)]()})}[Dt(249)](){return this[Dt(243)]}[Dt(227)](e){const t=Dt;this[t(243)]=e}[Dt(255)](e){const t=Dt;this[t(231)]=e}[Dt(244)](){return this[Dt(231)]}getGeometry(){return this[Dt(238)]}getGeometryFunction(){return this.geometryFunction_}[Dt(235)](){return this.fill_}[Dt(209)](e){this.fill_=e}getImage(){return this[Dt(241)]}[Dt(200)](e){const t=Dt;this[t(241)]=e}[Dt(229)](){return this[Dt(230)]}[Dt(211)](e){const t=Dt;this[t(230)]=e}[Dt(201)](){return this[Dt(239)]}[Dt(234)](e){const t=Dt;this[t(239)]=e}[Dt(228)](){return this[Dt(240)]}[Dt(237)](e){const t=Dt;typeof e=="function"?this[t(207)]=e:typeof e===t(205)?this[t(207)]=function(n){return n[t(257)](e)}:e?e!==void 0&&(this[t(207)]=function(){return e}):this[t(207)]=r5,this[t(238)]=e}[Dt(216)](e){const t=Dt;this[t(240)]=e}}function u9(i){const e=Dt;let t;if(typeof i===e(248))t=i;else{let n;Array.isArray(i)?n=i:(yt(typeof i[e(228)]===e(248),e(219)),n=[i]),t=function(){return n}}return t}let cy=null;function i5(i,e){const t=Dt;if(!cy){const n=new zi({color:t(220)}),r=new Ri({color:t(214),width:1.25});cy=[new Ct({image:new Vc({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return cy}function r5(i){return i[Dt(213)]()}function q1(){const i=["1961862dJZnrk","MultiPolygon","setText","getFill","stroke","setGeometry","geometry_","text_","zIndex_","image_","MultiPoint","renderer_","getHitDetectionRenderer","LineString","object","82987YYgvdd","function","getRenderer","699798eAePPz","GeometryCollection","hitDetectionRenderer","708596MLmeRs","70fDhVUT","setHitDetectionRenderer","25wplFcm","get","geometry","setImage","getText","getImage","zIndex","clone","string","fill_","geometryFunction_","10XRaqfq","setFill","image","setStroke","fill","getGeometry","#3399CC","concat","setZIndex","Polygon","432948kQeUlp","Expected an `Style` or an array of `Style`","rgba(255,255,255,0.4)","Point","839151kbMVBM","renderer","1455456VkGimL","text","MultiLineString","setRenderer","getZIndex","getStroke","stroke_","hitDetectionRenderer_"];return q1=function(){return i},q1()}function Y1(){const i=["getRotateWithView","top-left","color","ready","`image` and `src` cannot be provided at the same time","size","CHANGE","78038Abpawp","opacity","rotateWithView","slice","A defined and non-empty `src` or `image` must be provided","getWidth","getImageSize","getImage","getPixelRatio","offsetOrigin_","1123052DWUoAV","LOADING","origin_","bottom-left","width","getSrc","initialOptions_","listenImageChange","`width` or `height` cannot be provided together with `scale`","getHeight","scale","getScaleArray","getAnchor","getOpacity","img","color_","1832650mbvQoJ","getScale","complete","getSize","anchor_","IDLE","540159usHSsx","offsetOrigin","crossOrigin","offset","fraction","1631BrwORM","195XRcYMD","crossOrigin_","normalizedAnchor_","top-right","setAnchor","offset_","anchorYUnits","2344paLxch","getHitDetectionImage","getDisplacement","LOADED","anchor","iconImage_","anchorYUnits_","anchorXUnits_","src","getOrigin","declutterMode","displacement","unlistenImageChange","3101098hKQxkU","anchorOrigin_","9XbbUGB","setScale","length","addEventListener","2SoEywm","getImageState","rotation","anchorOrigin","19968eVWgWY","load","size_","bottom-right","height","anchorXUnits"];return Y1=function(){return i},Y1()}const wt=qc;(function(i,e){const t=qc,n=i();for(;;)try{if(-parseInt(t(172))/1+-parseInt(t(155))/2*(parseInt(t(204))/3)+parseInt(t(182))/4+-parseInt(t(210))/5*(-parseInt(t(159))/6)+-parseInt(t(209))/7*(-parseInt(t(217))/8)+parseInt(t(151))/9*(-parseInt(t(198))/10)+parseInt(t(149))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Y1,319386);function qc(i,e){const t=Y1();return qc=function(n,r){return n=n-137,t[n]},qc(i,e)}function s5(i,e,t,n){return t!==void 0&&n!==void 0?[t/i,n/e]:t!==void 0?t/i:n!==void 0?n/e:1}class I0 extends su{constructor(e){const t=qc;e=e||{};const n=e[t(173)]!==void 0?e.opacity:1,r=e[t(157)]!==void 0?e.rotation:0,s=e[t(192)]!==void 0?e[t(192)]:1,a=e[t(174)]!==void 0?e[t(174)]:!1;super({opacity:n,rotation:r,scale:s,displacement:e[t(147)]!==void 0?e[t(147)]:[0,0],rotateWithView:a,declutterMode:e[t(146)]}),this.anchor_=e[t(140)]!==void 0?e.anchor:[.5,.5],this[t(212)]=null,this[t(150)]=e[t(158)]!==void 0?e[t(158)]:t(166),this[t(143)]=e[t(164)]!==void 0?e[t(164)]:"fraction",this[t(142)]=e[t(216)]!==void 0?e.anchorYUnits:t(208),this[t(211)]=e.crossOrigin!==void 0?e[t(206)]:null;const o=e[t(196)]!==void 0?e[t(196)]:null;let l=e[t(144)];yt(!(l!==void 0&&o),t(169)),(l===void 0||l[t(153)]===0)&&o&&(l=o[t(144)]||et(o)),yt(l!==void 0&&l[t(153)]>0,t(176)),yt(!((e.width!==void 0||e[t(163)]!==void 0)&&e[t(192)]!==void 0),t(190));let c;if(e[t(144)]!==void 0?c=Pe[t(203)]:o!==void 0&&(t(200)in o?o[t(200)]?c=o.src?Pe.LOADED:Pe.IDLE:c=Pe[t(183)]:c=Pe[t(139)]),this.color_=e.color!==void 0?lu(e[t(167)]):null,this[t(141)]=AE(o,l,this[t(211)],c,this[t(197)]),this[t(215)]=e[t(207)]!==void 0?e.offset:[0,0],this[t(181)]=e[t(205)]!==void 0?e[t(205)]:t(166),this[t(184)]=null,this[t(161)]=e.size!==void 0?e[t(170)]:null,this[t(188)],e[t(186)]!==void 0||e.height!==void 0){let x,u;if(e.size)[x,u]=e[t(170)];else{const h=this.getImage(1);if(h.width&&h[t(163)])x=h[t(186)],u=h.height;else if(h instanceof HTMLImageElement){this[t(188)]=e;const f=()=>{const A=t;if(this[A(148)](f),!this[A(188)])return;const g=this[A(141)].getSize();this[A(152)](s5(g[0],g[1],e[A(186)],e[A(163)]))};this[t(189)](f);return}}x!==void 0&&this.setScale(s5(x,u,e[t(186)],e[t(163)]))}}clone(){const e=qc;let t,n,r;return this.initialOptions_?(n=this[e(188)][e(186)],r=this[e(188)][e(163)]):(t=this[e(199)](),t=Array.isArray(t)?t[e(175)]():t),new I0({anchor:this[e(202)][e(175)](),anchorOrigin:this[e(150)],anchorXUnits:this.anchorXUnits_,anchorYUnits:this[e(142)],color:this[e(197)]&&this.color_.slice?this[e(197)][e(175)]():this.color_||void 0,crossOrigin:this[e(211)],offset:this[e(215)][e(175)](),offsetOrigin:this.offsetOrigin_,opacity:this[e(195)](),rotateWithView:this[e(165)](),rotation:this.getRotation(),scale:t,width:n,height:r,size:this[e(161)]!==null?this[e(161)].slice():void 0,src:this[e(187)](),displacement:this[e(138)]()[e(175)](),declutterMode:this.getDeclutterMode()})}[wt(194)](){const e=wt;let t=this.normalizedAnchor_;if(!t){t=this[e(202)];const s=this[e(201)]();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_==e(208)){if(!s)return null;t=this[e(202)][e(175)](),this[e(143)]=="fraction"&&(t[0]*=s[0]),this[e(142)]==e(208)&&(t[1]*=s[1])}if(this[e(150)]!=e(166)){if(!s)return null;t===this[e(202)]&&(t=this[e(202)][e(175)]()),(this[e(150)]==e(213)||this[e(150)]=="bottom-right")&&(t[0]=-t[0]+s[0]),(this.anchorOrigin_==e(185)||this[e(150)]=="bottom-right")&&(t[1]=-t[1]+s[1])}this[e(212)]=t}const n=this[e(138)](),r=this[e(193)]();return[t[0]-n[0]/r[0],t[1]+n[1]/r[1]]}[wt(214)](e){const t=wt;this[t(202)]=e,this[t(212)]=null}getColor(){return this[wt(197)]}[wt(179)](e){const t=wt;return this.iconImage_[t(179)](e)}[wt(180)](e){const t=wt;return this[t(141)][t(180)](e)}[wt(178)](){const e=wt;return this.iconImage_[e(201)]()}[wt(156)](){const e=wt;return this[e(141)][e(156)]()}getHitDetectionImage(){const e=wt;return this[e(141)][e(137)]()}[wt(145)](){const e=wt;if(this[e(184)])return this.origin_;let t=this[e(215)];if(this.offsetOrigin_!=e(166)){const n=this.getSize(),r=this[e(141)][e(201)]();if(!n||!r)return null;t=t.slice(),(this[e(181)]==e(213)||this[e(181)]==e(162))&&(t[0]=r[0]-n[0]-t[0]),(this[e(181)]==e(185)||this[e(181)]=="bottom-right")&&(t[1]=r[1]-n[1]-t[1])}return this[e(184)]=t,this[e(184)]}getSrc(){const e=wt;return this[e(141)][e(187)]()}[wt(201)](){const e=wt;return this[e(161)]?this[e(161)]:this.iconImage_[e(201)]()}[wt(177)](){const e=wt,t=this.getScaleArray();if(this[e(161)])return this.size_[0]*t[0];if(this[e(141)][e(156)]()==Pe[e(139)])return this[e(141)].getSize()[0]*t[0]}[wt(191)](){const e=wt,t=this[e(193)]();if(this[e(161)])return this[e(161)][1]*t[1];if(this.iconImage_[e(156)]()==Pe[e(139)])return this.iconImage_[e(201)]()[1]*t[1]}[wt(152)](e){delete this.initialOptions_,super.setScale(e)}[wt(189)](e){const t=wt;this.iconImage_[t(154)](Ye[t(171)],e)}[wt(160)](){this[wt(141)].load()}[wt(148)](e){this[wt(141)].removeEventListener(Ye.CHANGE,e)}[wt(168)](){return this[wt(141)].ready()}}const De=X1;(function(i,e){const t=X1,n=i();for(;;)try{if(parseInt(t(178))/1+-parseInt(t(174))/2*(-parseInt(t(171))/3)+-parseInt(t(203))/4*(parseInt(t(233))/5)+parseInt(t(202))/6+parseInt(t(211))/7+-parseInt(t(207))/8*(-parseInt(t(154))/9)+-parseInt(t(197))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(W1,641539);function X1(i,e){const t=W1();return X1=function(n,r){return n=n-153,t[n]},X1(i,e)}const h9=De(212);class Ku{constructor(e){const t=De;e=e||{},this[t(194)]=e.font,this[t(166)]=e[t(177)],this.rotateWithView_=e[t(219)],this[t(181)]=e[t(155)],this[t(189)]=pi(e[t(155)]!==void 0?e.scale:1),this[t(176)]=e[t(198)],this.textAlign_=e[t(208)],this[t(175)]=e[t(235)],this[t(206)]=e.repeat,this.textBaseline_=e[t(210)],this.fill_=e[t(165)]!==void 0?e[t(165)]:new zi({color:h9}),this[t(221)]=e[t(222)]!==void 0?e[t(222)]:Math.PI/4,this[t(169)]=e[t(170)]!==void 0?e[t(170)]:"point",this[t(188)]=!!e[t(168)],this[t(180)]=e[t(238)]!==void 0?e[t(238)]:null,this[t(220)]=e[t(173)]!==void 0?e[t(173)]:0,this[t(237)]=e[t(156)]!==void 0?e[t(156)]:0,this.backgroundFill_=e[t(160)]?e[t(160)]:null,this[t(190)]=e[t(200)]?e[t(200)]:null,this[t(230)]=e[t(214)]===void 0?null:e[t(214)],this.declutterMode_=e[t(239)]}clone(){const e=De,t=this[e(193)]();return new Ku({font:this[e(224)](),placement:this[e(182)](),repeat:this[e(231)](),maxAngle:this[e(163)](),overflow:this[e(184)](),rotation:this[e(216)](),rotateWithView:this[e(226)](),scale:Array[e(186)](t)?t.slice():t,text:this[e(205)](),textAlign:this[e(172)](),justify:this[e(204)](),textBaseline:this[e(209)](),fill:this[e(183)]()?this[e(183)]()[e(187)]():void 0,stroke:this[e(232)]()?this[e(232)]()[e(187)]():void 0,offsetX:this[e(191)](),offsetY:this[e(225)](),backgroundFill:this[e(185)]()?this[e(185)]().clone():void 0,backgroundStroke:this[e(196)]()?this[e(196)]().clone():void 0,padding:this[e(153)]()||void 0,declutterMode:this[e(229)]()})}[De(184)](){return this[De(188)]}[De(224)](){return this[De(194)]}[De(163)](){return this[De(221)]}[De(182)](){return this.placement_}[De(231)](){return this[De(206)]}[De(191)](){return this[De(220)]}getOffsetY(){return this[De(237)]}[De(183)](){return this[De(223)]}[De(226)](){return this.rotateWithView_}[De(216)](){return this[De(166)]}[De(193)](){return this[De(181)]}getScaleArray(){return this[De(189)]}getStroke(){return this[De(180)]}[De(205)](){return this[De(176)]}[De(172)](){return this[De(162)]}[De(204)](){return this.justify_}[De(209)](){return this.textBaseline_}[De(185)](){return this[De(213)]}[De(196)](){return this[De(190)]}[De(153)](){return this[De(230)]}[De(229)](){return this[De(199)]}[De(159)](e){const t=De;this[t(188)]=e}[De(167)](e){const t=De;this[t(194)]=e}[De(161)](e){const t=De;this[t(221)]=e}[De(215)](e){const t=De;this[t(220)]=e}[De(227)](e){this.offsetY_=e}[De(234)](e){const t=De;this[t(169)]=e}[De(217)](e){const t=De;this[t(206)]=e}setRotateWithView(e){this.rotateWithView_=e}[De(158)](e){const t=De;this[t(223)]=e}[De(236)](e){const t=De;this[t(166)]=e}[De(195)](e){const t=De;this[t(181)]=e,this[t(189)]=pi(e!==void 0?e:1)}[De(201)](e){this.stroke_=e}setText(e){this.text_=e}[De(228)](e){this.textAlign_=e}[De(179)](e){this.justify_=e}[De(218)](e){const t=De;this[t(157)]=e}setBackgroundFill(e){const t=De;this[t(213)]=e}[De(192)](e){const t=De;this[t(190)]=e}[De(164)](e){this.padding_=e}}function W1(){const i=["declutterMode_","backgroundStroke","setStroke","7089840GqDuXn","168428kYMgyr","getJustify","getText","repeat_","1906352myakHM","textAlign","getTextBaseline","textBaseline","2810108JxNILA","#333","backgroundFill_","padding","setOffsetX","getRotation","setRepeat","setTextBaseline","rotateWithView","offsetX_","maxAngle_","maxAngle","fill_","getFont","getOffsetY","getRotateWithView","setOffsetY","setTextAlign","getDeclutterMode","padding_","getRepeat","getStroke","95KIjdCs","setPlacement","justify","setRotation","offsetY_","stroke","declutterMode","getPadding","9NCsYUz","scale","offsetY","textBaseline_","setFill","setOverflow","backgroundFill","setMaxAngle","textAlign_","getMaxAngle","setPadding","fill","rotation_","setFont","overflow","placement_","placement","3418593EePwWi","getTextAlign","offsetX","2GxUTVC","justify_","text_","rotation","570887xKuZWB","setJustify","stroke_","scale_","getPlacement","getFill","getOverflow","getBackgroundFill","isArray","clone","overflow_","scaleArray_","backgroundStroke_","getOffsetX","setBackgroundStroke","getScale","font_","setScale","getBackgroundStroke","20902240GephpQ","text"];return W1=function(){return i},W1()}const be=Yc;(function(i,e){const t=Yc,n=i();for(;;)try{if(-parseInt(t(405))/1+parseInt(t(442))/2*(parseInt(t(381))/3)+-parseInt(t(366))/4*(parseInt(t(409))/5)+parseInt(t(391))/6*(parseInt(t(350))/7)+-parseInt(t(435))/8*(-parseInt(t(467))/9)+-parseInt(t(377))/10*(parseInt(t(421))/11)+-parseInt(t(457))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(j1,183470);let E0=0;const Ti=1<<E0++,_t=1<<E0++,Vi=1<<E0++,$r=1<<E0++;function j1(){const i=["Number","expected an array of two values for a size, got ","Clamp","failed to parse first argument in palette expression: ","LessThanOrEqualTo","expected last argument validator to return the parsed args","push","isArray","geometry-type","type","sin","Get","add","204085bbFcHq","case"," or ","GeometryCollection","string","invalid interpolation type: ","Not","Subtract","Floor","MultiPoint","literal expressions must have a specific type, got ","Any",'for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions',"Zoom","Array","value","4pCOzvQ"," or more","boolean","band","between"," to ","getGeometries","ToString"," for ","Time","Concat","150qPLxjS","failed to parse color at index "," in palette expression: ","length","660438mEzVUu","expected an array of 3 or 4 values for a color, got ","Divide","any","Pow","slice","expected a number base for exponential interpolation","Equal","failed to parse argument 1 in interpolate expression: ","failed to parse argument ","48nrIGPR","false","linear"," of case expression: ","unknown operator: "," for interpolate expression: ","got a number, but expected ","expected a string argument for var operation","cos","Polygon","match","Cos","stringify","GeometryType","152506OEaZkC","Var","All",'failed to parse "in" expression: the literal operator must be followed by an array',"66755IqQGGA","concat","array"," operation","expected an array of numbers","LineString","getType","String","substring","coalesce","got a string, but expected ","Atan","21219dlSCEh"," arguments for ","the palette color at index ","empty expression","palette","expression must be an array or a primitive value","map"," instead","ceil","Palette","Resolution","Interpolate","number","operator","1560520FNmPQg","expected ","NotEqual","abs","true","Round","var","2qKDJmH","literal","atan","MultiPolygon","properties",' for "in" expression: ',"sort",", or ",", got ","got an array of numbers, but expected ","GreaterThan","color","expected a string key or numeric array index for a get operation, got ","zoom","toString","3242268tyOecy","keys","Add","Abs","expected an even number of arguments for operation ","the second argument of palette must be an array","floor","Multiply","Point","variables","9aCYnuW","message","to-string","interpolate","GreaterThanOrEqualTo"];return j1=function(){return i},j1()}const y0=1<<E0++,Ju=1<<E0++,K1=Math.pow(2,E0)-1,ly={[Ti]:"boolean",[_t]:be(433),[Vi]:be(354),[$r]:be(453),[y0]:"number[]",[Ju]:"size"},f9=Object[be(458)](ly)[be(427)](Number)[be(448)](Is);function A9(i){return i in ly}function Zu(i){const e=be,t=[];for(const n of f9)$u(i,n)&&t[e(478)](ly[n]);return t[e(380)]===0?"untyped":t.length<3?t.join(e(352)):t[e(386)](0,-1).join(", ")+e(449)+t[t[e(380)]-1]}function $u(i,e){return(i&e)===e}function lo(i,e){return i===e}class Yn{constructor(e,t){const n=be;if(!A9(e))throw new Error(n(360)+Zu(e));this[n(481)]=e,this[n(365)]=t}}class d9{constructor(e,t,...n){const r=be;this[r(481)]=e,this[r(434)]=t,this.args=n}}function a5(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function ii(i,e,t){const n=be;switch(typeof i){case n(368):{if(lo(e,Vi))return new Yn(Vi,n(i?439:392));if(!$u(e,Ti))throw new Error("got a boolean, but expected "+Zu(e));return new Yn(Ti,i)}case"number":{if(lo(e,Ju))return new Yn(Ju,pi(i));if(lo(e,Ti))return new Yn(Ti,!!i);if(lo(e,Vi))return new Yn(Vi,i[n(456)]());if(!$u(e,_t))throw new Error(n(397)+Zu(e));return new Yn(_t,i)}case n(354):{if(lo(e,$r))return new Yn($r,lE(i));if(lo(e,Ti))return new Yn(Ti,!!i);if(!$u(e,Vi))throw new Error(n(419)+Zu(e));return new Yn(Vi,i)}}if(!Array.isArray(i))throw new Error(n(426));if(i.length===0)throw new Error(n(424));if(typeof i[0]===n(354))return B9(i,e,t);for(const r of i)if(typeof r!==n(433))throw new Error(n(413));if(lo(e,Ju)){if(i[n(380)]!==2)throw new Error(n(473)+i[n(380)]);return new Yn(Ju,i)}if(lo(e,$r)){if(i.length===3)return new Yn($r,[...i,1]);if(i[n(380)]===4)return new Yn($r,i);throw new Error(n(382)+i[n(380)])}if(!$u(e,y0))throw new Error(n(451)+Zu(e));return new Yn(y0,i)}const ae={Get:"get",Var:be(441),Concat:be(410),GeometryType:be(480),Any:be(384),All:"all",Not:"!",Resolution:"resolution",Zoom:be(455),Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:be(438),Floor:be(463),Ceil:be(429),Round:"round",Sin:be(482),Cos:be(399),Atan:be(444),Sqrt:"sqrt",Match:be(401),Between:be(370),Interpolate:be(470),Coalesce:be(418),Case:be(351),In:"in",Number:be(433),String:be(354),Array:be(411),Color:be(453),Id:"id",Band:be(369),Palette:be(425),ToString:be(469)},p9={[ae[be(483)]]:Je(ot(1,1/0),g9),[ae[be(406)]]:Je(ot(1,1),m9),[ae.Id]:Je(_9,eh),[ae[be(376)]]:Je(ot(2,1/0),Qt(Vi)),[ae[be(404)]]:Je(I9,eh),[ae[be(431)]]:Je(eh),[ae[be(363)]]:Je(eh),[ae[be(375)]]:Je(eh),[ae[be(361)]]:Je(ot(2,1/0),Qt(Ti)),[ae[be(407)]]:Je(ot(2,1/0),Qt(Ti)),[ae[be(356)]]:Je(ot(1,1),Qt(Ti)),[ae[be(388)]]:Je(ot(2,2),Qt(K1)),[ae[be(437)]]:Je(ot(2,2),Qt(K1)),[ae[be(452)]]:Je(ot(2,2),Qt(_t)),[ae[be(471)]]:Je(ot(2,2),Qt(_t)),[ae.LessThan]:Je(ot(2,2),Qt(_t)),[ae[be(476)]]:Je(ot(2,2),Qt(_t)),[ae[be(464)]]:Je(ot(2,1/0),o5),[ae.Coalesce]:Je(ot(2,1/0),o5),[ae[be(383)]]:Je(ot(2,2),Qt(_t)),[ae[be(459)]]:Je(ot(2,1/0),Qt(_t)),[ae[be(357)]]:Je(ot(2,2),Qt(_t)),[ae[be(474)]]:Je(ot(3,3),Qt(_t)),[ae.Mod]:Je(ot(2,2),Qt(_t)),[ae[be(385)]]:Je(ot(2,2),Qt(_t)),[ae[be(460)]]:Je(ot(1,1),Qt(_t)),[ae[be(358)]]:Je(ot(1,1),Qt(_t)),[ae.Ceil]:Je(ot(1,1),Qt(_t)),[ae[be(440)]]:Je(ot(1,1),Qt(_t)),[ae.Sin]:Je(ot(1,1),Qt(_t)),[ae[be(402)]]:Je(ot(1,1),Qt(_t)),[ae[be(420)]]:Je(ot(1,2),Qt(_t)),[ae.Sqrt]:Je(ot(1,1),Qt(_t)),[ae.Match]:Je(ot(4,1/0),c5,y9),[ae.Between]:Je(ot(3,3),Qt(_t)),[ae[be(432)]]:Je(ot(6,1/0),c5,C9),[ae.Case]:Je(ot(3,1/0),E9,b9),[ae.In]:Je(ot(2,2),v9),[ae[be(472)]]:Je(ot(1,1/0),Qt(K1)),[ae[be(416)]]:Je(ot(1,1/0),Qt(K1)),[ae[be(364)]]:Je(ot(1,1/0),Qt(_t)),[ae.Color]:Je(ot(1,4),Qt(_t)),[ae.Band]:Je(ot(1,3),Qt(_t)),[ae[be(430)]]:Je(ot(2,2),w9),[ae[be(373)]]:Je(ot(1,1),Qt(Ti|_t|Vi|$r))};function g9(i,e,t){const n=be,r=i.length-1,s=new Array(r);for(let a=0;a<r;++a){const o=i[a+1];switch(typeof o){case n(433):{s[a]=new Yn(_t,o);break}case n(354):{s[a]=new Yn(Vi,o);break}default:throw new Error(n(454)+o)}a===0&&t[n(446)][n(349)](String(o))}return s}function m9(i,e,t){const n=be,r=i[1];if(typeof r!==n(354))throw new Error(n(398));return t[n(466)].add(r),[new Yn(Vi,r)]}function _9(i,e,t){t.featureId=!0}function I9(i,e,t){t.geometryType=!0}function eh(i,e,t){const n=be,r=i[0];if(i[n(380)]!==1)throw new Error("expected no arguments for "+r+n(412));return[]}function ot(i,e){return function(t,n,r){const s=Yc,a=t[0],o=t.length-1;if(i===e){if(o!==i){const l=i===1?"":"s";throw new Error(s(436)+i+" argument"+l+s(374)+a+s(450)+o)}}else if(o<i||o>e){const l=e===1/0?i+s(367):i+s(371)+e;throw new Error("expected "+l+s(422)+a+s(450)+o)}}}function Yc(i,e){const t=j1();return Yc=function(n,r){return n=n-349,t[n]},Yc(i,e)}function o5(i,e,t){const n=be,r=i[n(380)]-1,s=new Array(r);for(let a=0;a<r;++a){const o=ii(i[a+1],e,t);s[a]=o}return s}function Qt(i){return function(e,t,n){const r=e.length-1,s=new Array(r);for(let a=0;a<r;++a){const o=ii(e[a+1],i,n);s[a]=o}return s}}function E9(i,e,t){const n=be,r=i[0],s=i[n(380)]-1;if(s%2===0)throw new Error("expected an odd number of arguments for "+r+n(450)+s+n(428))}function c5(i,e,t){const n=be,r=i[0],s=i.length-1;if(s%2===1)throw new Error(n(461)+r+n(450)+s+n(428))}function y9(i,e,t){const n=be,r=i[n(380)]-1,s=Vi|_t|Ti,a=ii(i[1],s,t),o=ii(i[i[n(380)]-1],e,t),l=new Array(r-2);for(let c=0;c<r-2;c+=2){try{const x=ii(i[c+2],a[n(481)],t);l[c]=x}catch(x){throw new Error("failed to parse argument "+(c+1)+" of match expression: "+x[n(468)])}try{const x=ii(i[c+3],o.type,t);l[c+1]=x}catch(x){throw new Error(n(390)+(c+2)+" of match expression: "+x[n(468)])}}return[a,...l,o]}function C9(i,e,t){const n=be,r=i[1];let s;switch(r[0]){case n(393):s=1;break;case"exponential":const c=r[1];if(typeof c!==n(433)||c<=0)throw new Error(n(387)+(", got "+JSON.stringify(c)+" instead"));s=c;break;default:throw new Error(n(355)+JSON[n(403)](r))}const a=new Yn(_t,s);let o;try{o=ii(i[2],_t,t)}catch(c){throw new Error(n(389)+c[n(468)])}const l=new Array(i[n(380)]-3);for(let c=0;c<l.length;c+=2){try{const x=ii(i[c+3],_t,t);l[c]=x}catch(x){throw new Error(n(390)+(c+2)+n(396)+x[n(468)])}try{const x=ii(i[c+4],e,t);l[c+1]=x}catch(x){throw new Error(n(390)+(c+3)+n(396)+x[n(468)])}}return[a,o,...l]}function b9(i,e,t){const n=be,r=ii(i[i[n(380)]-1],e,t),s=new Array(i[n(380)]-1);for(let a=0;a<s[n(380)]-1;a+=2){try{const o=ii(i[a+1],Ti,t);s[a]=o}catch(o){throw new Error(n(390)+a+" of case expression: "+o[n(468)])}try{const o=ii(i[a+2],r.type,t);s[a+1]=o}catch(o){throw new Error(n(390)+(a+1)+n(394)+o[n(468)])}}return s[s[n(380)]-1]=r,s}function v9(i,e,t){const n=be;let r=i[2];if(!Array[n(479)](r))throw new Error('the second argument for the "in" operator must be an array');let s;if(typeof r[0]===n(354)){if(r[0]!==n(443))throw new Error(n(362));if(!Array[n(479)](r[1]))throw new Error(n(408));r=r[1],s=Vi}else s=_t;const a=new Array(r.length);for(let l=0;l<a[n(380)];l++)try{const c=ii(r[l],s,t);a[l]=c}catch(c){throw new Error("failed to parse haystack item "+l+n(447)+c[n(468)])}return[ii(i[1],s,t),...a]}function w9(i,e,t){const n=be;let r;try{r=ii(i[1],_t,t)}catch(o){throw new Error(n(475)+o.message)}const s=i[2];if(!Array[n(479)](s))throw new Error(n(462));const a=new Array(s[n(380)]);for(let o=0;o<a[n(380)];o++){let l;try{l=ii(s[o],$r,t)}catch(c){throw new Error(n(378)+o+n(379)+c[n(468)])}if(!(l instanceof Yn))throw new Error(n(423)+o+" must be a literal value");a[o]=l}return[r,...a]}function Je(...i){return function(e,t,n){const r=Yc,s=e[0];let a;for(let o=0;o<i.length;o++){const l=i[o](e,t,n);if(o==i[r(380)]-1){if(!l)throw new Error(r(477));a=l}}return new d9(t,s,...a)}}function B9(i,e,t){const n=be,r=i[0],s=p9[r];if(!s)throw new Error(n(395)+r);return s(i,e,t)}function l5(i){const e=be;if(!i)return"";const t=i[e(415)]();switch(t){case e(465):case e(414):case"Polygon":return t;case e(359):case"MultiLineString":case e(445):return t[e(417)](5);case"Circle":return e(400);case e(353):return l5(i[e(372)]()[0]);default:return""}}(function(i,e){const t=Hi,n=i();for(;;)try{if(parseInt(t(173))/1+parseInt(t(136))/2*(parseInt(t(185))/3)+parseInt(t(188))/4*(-parseInt(t(124))/5)+parseInt(t(138))/6+-parseInt(t(146))/7*(parseInt(t(121))/8)+parseInt(t(180))/9+parseInt(t(174))/10*(-parseInt(t(148))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(J1,684275);function Hi(i,e){const t=J1();return Hi=function(n,r){return n=n-113,t[n]},Hi(i,e)}function x5(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function ra(i,e,t){const n=ii(i,e,t);return es(n)}function es(i,e){const t=Hi;if(i instanceof Yn){if(i[t(187)]===$r&&typeof i.value===t(171)){const r=lE(i.value);return function(){return r}}return function(){return i[t(163)]}}const n=i.operator;switch(n){case ae.Number:case ae[t(154)]:case ae[t(160)]:return S9(i);case ae[t(164)]:case ae[t(172)]:return M9(i);case ae.Id:return r=>r[t(155)];case ae[t(184)]:return r=>r.geometryType;case ae[t(175)]:{const r=i.args[t(165)](s=>es(s));return s=>""[t(130)](...r[t(165)](a=>a(s)[t(144)]()))}case ae[t(181)]:return r=>r[t(137)];case ae[t(186)]:case ae[t(126)]:case ae.Between:case ae.In:case ae[t(161)]:return T9(i);case ae[t(125)]:case ae[t(127)]:case ae[t(149)]:case ae[t(176)]:case ae.GreaterThan:case ae[t(169)]:return R9(i);case ae[t(147)]:case ae[t(156)]:case ae.Add:case ae[t(116)]:case ae.Clamp:case ae.Mod:case ae[t(142)]:case ae[t(115)]:case ae[t(133)]:case ae.Ceil:case ae[t(117)]:case ae[t(123)]:case ae.Cos:case ae.Atan:case ae.Sqrt:return D9(i);case ae.Case:return Q9(i);case ae[t(135)]:return F9(i);case ae[t(167)]:return L9(i);case ae[t(132)]:return P9(i);default:throw new Error(t(151)+n)}}function S9(i,e){const t=Hi,n=i.operator,r=i[t(114)][t(153)],s=new Array(r);for(let a=0;a<r;++a)s[a]=es(i[t(114)][a]);switch(n){case ae[t(160)]:return a=>{const o=t;for(let l=0;l<r;++l){const c=s[l](a);if(typeof c<"u"&&c!==null)return c}throw new Error(o(166))};case ae[t(157)]:case ae[t(154)]:return a=>{const o=t;for(let l=0;l<r;++l){const c=s[l](a);if(typeof c===n)return c}throw new Error(o(168)+n)};default:throw new Error(t(158)+n)}}function M9(i,e){const t=Hi,n=i[t(114)][0],r=n[t(163)];switch(i[t(145)]){case ae[t(164)]:return s=>{const a=t,o=i[a(114)];let l=s[a(128)][r];for(let c=1,x=o.length;c<x;++c){const u=o[c],h=u[a(163)];l=l[h]}return l};case ae.Var:return s=>s[t(177)][r];default:throw new Error(t(134)+i.operator)}}function J1(){const i=["floor","length","String","featureId","Divide","Number","Unsupported assertion operator ","sin","Coalesce","Not","Unsupported logical operator ","value","Get","map","Expected one of the values to be non-null","Interpolate","Expected one of the values to be a ","GreaterThanOrEqualTo","isArray","string","Var","784189KOIPUq","388460pWeBxW","Concat","LessThanOrEqualTo","variables","atan2","Atan","9300564HrXRFu","Resolution","Cos","atan","GeometryType","1473bEmnBq","Any","type","8356SwKzmv","pow","args","Abs","Subtract","Round","Unsupported numeric operator ","ceil","Clamp","8824xKXLUB","cos","Sin","2250YlOFes","Equal","All","NotEqual","properties","Sqrt","concat","Unsupported comparison operator ","ToString","Floor","Unsupported accessor operator ","Match","860mwuqJD","resolution","4307058piQdJg","Between","abs","Unsupported convert operator ","Pow","Add","toString","operator","6629cnJyQF","Multiply","22obiIaM","LessThan","sqrt","Unsupported operator "];return J1=function(){return i},J1()}function R9(i,e){const t=Hi,n=i.operator,r=es(i[t(114)][0]),s=es(i[t(114)][1]);switch(n){case ae[t(125)]:return a=>r(a)===s(a);case ae[t(127)]:return a=>r(a)!==s(a);case ae[t(149)]:return a=>r(a)<s(a);case ae[t(176)]:return a=>r(a)<=s(a);case ae.GreaterThan:return a=>r(a)>s(a);case ae[t(169)]:return a=>r(a)>=s(a);default:throw new Error(t(131)+n)}}function T9(i,e){const t=Hi,n=i[t(145)],r=i.args[t(153)],s=new Array(r);for(let a=0;a<r;++a)s[a]=es(i[t(114)][a]);switch(n){case ae[t(186)]:return a=>{for(let o=0;o<r;++o)if(s[o](a))return!0;return!1};case ae[t(126)]:return a=>{for(let o=0;o<r;++o)if(!s[o](a))return!1;return!0};case ae[t(139)]:return a=>{const o=s[0](a),l=s[1](a),c=s[2](a);return o>=l&&o<=c};case ae.In:return a=>{const o=s[0](a);for(let l=1;l<r;++l)if(o===s[l](a))return!0;return!1};case ae[t(161)]:return a=>!s[0](a);default:throw new Error(t(162)+n)}}function D9(i,e){const t=Hi,n=i[t(145)],r=i[t(114)].length,s=new Array(r);for(let a=0;a<r;++a)s[a]=es(i[t(114)][a]);switch(n){case ae[t(147)]:return a=>{let o=1;for(let l=0;l<r;++l)o*=s[l](a);return o};case ae[t(156)]:return a=>s[0](a)/s[1](a);case ae[t(143)]:return a=>{let o=0;for(let l=0;l<r;++l)o+=s[l](a);return o};case ae.Subtract:return a=>s[0](a)-s[1](a);case ae[t(120)]:return a=>{const o=s[0](a),l=s[1](a);if(o<l)return l;const c=s[2](a);return o>c?c:o};case ae.Mod:return a=>s[0](a)%s[1](a);case ae[t(142)]:return a=>Math[t(113)](s[0](a),s[1](a));case ae.Abs:return a=>Math[t(140)](s[0](a));case ae[t(133)]:return a=>Math[t(152)](s[0](a));case ae.Ceil:return a=>Math[t(119)](s[0](a));case ae[t(117)]:return a=>Math.round(s[0](a));case ae[t(123)]:return a=>Math[t(159)](s[0](a));case ae[t(182)]:return a=>Math[t(122)](s[0](a));case ae[t(179)]:return r===2?a=>Math[t(178)](s[0](a),s[1](a)):a=>Math[t(183)](s[0](a));case ae[t(129)]:return a=>Math[t(150)](s[0](a));default:throw new Error(t(118)+n)}}function Q9(i,e){const t=Hi,n=i.args[t(153)],r=new Array(n);for(let s=0;s<n;++s)r[s]=es(i[t(114)][s]);return s=>{for(let a=0;a<n-1;a+=2)if(r[a](s))return r[a+1](s);return r[n-1](s)}}function F9(i,e){const t=Hi,n=i[t(114)][t(153)],r=new Array(n);for(let s=0;s<n;++s)r[s]=es(i[t(114)][s]);return s=>{const a=r[0](s);for(let o=1;o<n;o+=2)if(a===r[o](s))return r[o+1](s);return r[n-1](s)}}function L9(i,e){const t=Hi,n=i[t(114)][t(153)],r=new Array(n);for(let s=0;s<n;++s)r[s]=es(i[t(114)][s]);return s=>{const a=t,o=r[0](s),l=r[1](s);let c,x;for(let u=2;u<n;u+=2){const h=r[u](s);let f=r[u+1](s);const A=Array[a(170)](f);if(A&&(f=XQ(f)),h>=l)return u===2?f:A?k9(o,l,c,x,h,f):th(o,l,c,x,h,f);c=h,x=f}return x}}function P9(i,e){const t=Hi,n=i[t(145)],r=i.args[t(153)],s=new Array(r);for(let a=0;a<r;++a)s[a]=es(i[t(114)][a]);switch(n){case ae[t(132)]:return a=>{const o=t,l=s[0](a);return i[o(114)][0][o(187)]===$r?xE(l):l[o(144)]()};default:throw new Error(t(141)+n)}}function th(i,e,t,n,r,s){const a=Hi,o=r-t;if(o===0)return n;const l=e-t,c=i===1?l/o:(Math[a(113)](i,l)-1)/(Math[a(113)](i,o)-1);return n+c*(s-n)}function k9(i,e,t,n,r,s){if(r-t===0)return n;const o=Kw(n),l=Kw(s);let c=l[2]-o[2];c>180?c-=360:c<-180&&(c+=360);const x=[th(i,e,t,o[0],r,l[0]),th(i,e,t,o[1],r,l[1]),o[2]+th(i,e,t,0,r,c),th(i,e,t,n[3],r,s[3])];return Jw(WQ(x))}(function(i,e){const t=Ht,n=i();for(;;)try{if(parseInt(t(487))/1*(parseInt(t(529))/2)+parseInt(t(474))/3+-parseInt(t(539))/4*(-parseInt(t(479))/5)+parseInt(t(440))/6*(parseInt(t(523))/7)+-parseInt(t(505))/8*(-parseInt(t(501))/9)+parseInt(t(425))/10*(parseInt(t(513))/11)+-parseInt(t(445))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(tp,929519);function U9(i){return!0}function N9(i){const e=a5(),t=O9(i,e),n=x5();return function(r,s){const a=Ht;if(n.properties=r[a(435)](),n.resolution=s,e[a(504)]){const o=r.getId();o!==void 0?n[a(504)]=o:n[a(504)]=null}return e.geometryType&&(n[a(476)]=l5(r[a(496)]())),t(n)}}function u5(i){const e=Ht,t=a5(),n=i[e(517)],r=new Array(n);for(let o=0;o<n;++o)r[o]=xy(i[o],t);const s=x5(),a=new Array(n);return function(o,l){const c=e;if(s[c(450)]=o.getPropertiesInternal(),s[c(442)]=l,t.featureId){const u=o.getId();u!==void 0?s[c(504)]=u:s[c(504)]=null}let x=0;for(let u=0;u<n;++u){const h=r[u](s);h&&(a[x]=h,x+=1)}return a.length=x,a}}function O9(i,e){const t=Ht,n=i.length,r=new Array(n);for(let s=0;s<n;++s){const a=i[s],o="filter"in a?ra(a.filter,Ti,e):U9;let l;if(Array[t(527)](a[t(495)])){const c=a[t(495)].length;l=new Array(c);for(let x=0;x<c;++x)l[x]=xy(a[t(495)][x],e)}else l=[xy(a[t(495)],e)];r[s]={filter:o,styles:l}}return function(s){const a=t,o=[];let l=!1;for(let c=0;c<n;++c){const x=r[c][a(555)];if(x(s)&&!(i[c][a(426)]&&l)){l=!0;for(const u of r[c][a(554)]){const h=u(s);h&&o[a(444)](h)}}}return o}}function xy(i,e){const t=Ht,n=nh(i,"",e),r=ih(i,"",e),s=G9(i,e),a=z9(i,e),o=qi(i,t(429),e);if(!n&&!r&&!s&&!a&&!Xa(i))throw new Error(t(516)+JSON.stringify(i));const l=new Ct;return function(c){const x=t;let u=!0;if(n){const h=n(c);h&&(u=!1),l[x(532)](h)}if(r){const h=r(c);h&&(u=!1),l[x(485)](h)}if(s){const h=s(c);h&&(u=!1),l[x(493)](h)}if(a){const h=a(c);h&&(u=!1),l[x(491)](h)}return o&&l[x(471)](o(c)),u?null:l}}function nh(i,e,t){const n=Ht;let r;if(e+n(537)in i)r=Y9(i,e+"fill-",t);else{if(i[e+n(434)]===n(499))return a=>null;r=uy(i,e+n(434),t)}if(!r)return null;const s=new zi;return function(a){const o=n,l=r(a);return l===oE?null:(s[o(498)](l),s)}}function ih(i,e,t){const n=Ht,r=qi(i,e+n(503),t),s=uy(i,e+n(560),t);if(!r&&!s)return null;const a=sa(i,e+n(464),t),o=sa(i,e+n(478),t),l=h5(i,e+"stroke-line-dash",t),c=qi(i,e+n(465),t),x=qi(i,e+n(427),t),u=new Ri;return function(h){const f=n;if(s){const A=s(h);if(A===oE)return null;u[f(498)](A)}if(r&&u.setWidth(r(h)),a){const A=a(h);if(A!=="butt"&&A!==f(510)&&A!==f(438))throw new Error(f(542));u.setLineCap(A)}if(o){const A=o(h);if(A!==f(477)&&A!==f(510)&&A!==f(451))throw new Error(f(494));u[f(520)](A)}return l&&u[f(512)](l(h)),c&&u[f(449)](c(h)),x&&u[f(463)](x(h)),u}}function G9(i,e){const t=Ht,n=t(543),r=sa(i,n+t(458),e);if(!r)return null;const s=nh(i,n,e),a=nh(i,n+t(538),e),o=ih(i,n,e),l=ih(i,n+t(538),e),c=sa(i,n+t(518),e),x=qi(i,n+t(462),e),u=qi(i,n+t(448),e),h=qi(i,n+t(549),e),f=rh(i,n+t(459),e),A=sa(i,n+t(533),e),g=qi(i,n+t(526),e),d=$1(i,n+"scale",e),p=rh(i,n+t(545),e),m=qi(i,n+"rotation",e),I=sa(i,n+t(472),e),_=sa(i,n+"justify",e),y=sa(i,n+"baseline",e),E=h5(i,n+t(547),e),C=np(i,n+t(436)),w=new Ku({declutterMode:C});return function(b){const v=t;if(w[v(493)](r(b)),s&&w[v(532)](s(b)),a&&w[v(508)](a(b)),o&&w[v(485)](o(b)),l&&w[v(492)](l(b)),c&&w.setFont(c(b)),x&&w[v(475)](x(b)),u&&w[v(454)](u(b)),h&&w[v(541)](h(b)),f&&w[v(557)](f(b)),A){const B=A(b);if(B!==v(514)&&B!==v(544))throw new Error(v(515));w[v(486)](B)}if(g&&w.setRepeat(g(b)),d&&w[v(561)](d(b)),p&&w[v(497)](p(b)),m&&w.setRotation(m(b)),I){const B=I(b);if(B!==v(556)&&B!==v(443)&&B!==v(456)&&B!==v(489)&&B!==v(524))throw new Error(v(431));w[v(430)](B)}if(_){const B=_(b);if(B!==v(556)&&B!==v(456)&&B!=="center")throw new Error(v(481));w.setJustify(B)}if(y){const B=y(b);if(B!==v(457)&&B!=="top"&&B!==v(506)&&B!==v(535)&&B!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");w[v(468)](B)}return E&&w[v(528)](E(b)),w}}function z9(i,e){const t=Ht;return t(466)in i?V9(i,e):"shape-points"in i?H9(i,e):t(470)in i?q9(i,e):null}function V9(i,e){const t=Ht,n=t(467),r=n+"src",s=p5(i[r],r),a=Z1(i,n+t(469),e),o=$1(i,n+t(453),e),l=qi(i,n+t(483),e),c=Z1(i,n+"displacement",e),x=qi(i,n+t(432),e),u=rh(i,n+t(545),e),h=A5(i,n+t(446)),f=d5(i,n+t(522)),A=d5(i,n+t(455)),g=K9(i,n+t(509)),d=W9(i,n+"cross-origin"),p=j9(i,n+t(433)),m=A5(i,n+t(482)),I=ep(i,n+t(536)),_=ep(i,n+t(559)),y=X9(i,n+"size"),E=np(i,n+t(436)),C=new I0({src:s,anchorOrigin:h,anchorXUnits:f,anchorYUnits:A,color:g,crossOrigin:d,offset:p,offsetOrigin:m,height:_,width:I,size:y,declutterMode:E});return function(w){const b=t;return l&&C.setOpacity(l(w)),c&&C[b(548)](c(w)),x&&C[b(461)](x(w)),u&&C[b(497)](u(w)),o&&C.setScale(o(w)),a&&C[b(452)](a(w)),C}}function H9(i,e){const t=Ht,n=t(551),r=n+t(437),s=n+"radius",a=hy(i[r],r),o=hy(i[s],s),l=nh(i,n,e),c=ih(i,n,e),x=$1(i,n+"scale",e),u=Z1(i,n+t(550),e),h=qi(i,n+t(432),e),f=rh(i,n+t(545),e),A=ep(i,n+"radius2"),g=ep(i,n+t(439)),d=np(i,n+t(436)),p=new Rc({points:a,radius:o,radius2:A,angle:g,declutterMode:d});return function(m){const I=t;return l&&p[I(532)](l(m)),c&&p.setStroke(c(m)),u&&p.setDisplacement(u(m)),h&&p[I(461)](h(m)),f&&p[I(497)](f(m)),x&&p.setScale(x(m)),p}}function q9(i,e){const t=Ht,n=t(519),r=nh(i,n,e),s=ih(i,n,e),a=qi(i,n+t(480),e),o=$1(i,n+"scale",e),l=Z1(i,n+t(550),e),c=qi(i,n+t(432),e),x=rh(i,n+t(545),e),u=np(i,n+t(436)),h=new Vc({radius:5,declutterMode:u});return function(f){const A=t;return a&&h.setRadius(a(f)),r&&h.setFill(r(f)),s&&h[A(485)](s(f)),l&&h[A(548)](l(f)),c&&h[A(461)](c(f)),x&&h[A(497)](x(f)),o&&h[A(561)](o(f)),h}}function qi(i,e,t){if(!(e in i))return;const n=ra(i[e],_t,t);return function(r){return hy(n(r),e)}}function sa(i,e,t){if(!(e in i))return null;const n=ra(i[e],Vi,t);return function(r){return p5(n(r),e)}}function Y9(i,e,t){const n=Ht,r=sa(i,e+n(488),t),s=f5(i,e+n(502),t),a=f5(i,e+"pattern-size",t),o=uy(i,e+n(509),t);return function(l){return{src:r(l),offset:s&&s(l),size:a&&a(l),color:o&&o(l)}}}function rh(i,e,t){if(!(e in i))return null;const n=ra(i[e],Ti,t);return function(r){const s=Ht,a=n(r);if(typeof a!==s(460))throw new Error(s(546)+e);return a}}function uy(i,e,t){if(!(e in i))return null;const n=ra(i[e],$r,t);return function(r){return g5(n(r),e)}}function h5(i,e,t){if(!(e in i))return null;const n=ra(i[e],y0,t);return function(r){return sh(n(r),e)}}function Z1(i,e,t){if(!(e in i))return null;const n=ra(i[e],y0,t);return function(r){const s=Ht,a=sh(n(r),e);if(a[s(517)]!==2)throw new Error(s(447)+e);return a}}function f5(i,e,t){if(!(e in i))return null;const n=ra(i[e],y0,t);return function(r){return m5(n(r),e)}}function $1(i,e,t){if(!(e in i))return null;const n=ra(i[e],y0|_t,t);return function(r){return J9(n(r),e)}}function ep(i,e){const t=Ht,n=i[e];if(n!==void 0){if(typeof n!="number")throw new Error(t(484)+e);return n}}function X9(i,e){const t=Ht,n=i[e];if(n!==void 0){if(typeof n===t(500))return pi(n);if(!Array[t(527)](n))throw new Error(t(521)+e);if(n[t(517)]!==2||typeof n[0]!="number"||typeof n[1]!==t(500))throw new Error("Expected a number or size array for "+e);return n}}function tp(){const i=["setOverflow","top-right","height","stroke-color","setScale","obstacle","8264570WLYBNh","else","stroke-miter-limit","top-left","z-index","setTextAlign","Expected left, right, center, start, or end for text-align","rotation","offset","fill-color","getPropertiesInternal","declutter-mode","points","square","angle","1157154vPXZEH","bottom-right","resolution","center","push","98738004eosfiT","anchor-origin","Expected two numbers for ","offset-x","setLineDashOffset","properties","miter","setAnchor","scale","setOffsetX","anchor-y-units","right","bottom","value","overflow","boolean","setRotation","max-angle","setMiterLimit","stroke-line-cap","stroke-line-dash-offset","icon-src","icon-","setTextBaseline","anchor","circle-radius","setZIndex","align","Expected an array of numbers for ","3477720fAehDo","setMaxAngle","geometryType","bevel","stroke-line-join","1684420HfMzSQ","radius","Expected left, right, or center for text-justify","offset-origin","opacity","Expected a number for ","setStroke","setPlacement","2955NRXOqV","pattern-src","end","declutter","setImage","setBackgroundStroke","setText","Expected bevel, round, or miter line join","style","getGeometry","setRotateWithView","setColor","none","number","18lacavS","pattern-offset","stroke-width","featureId","6589736OMsxbA","middle","bottom-left","setBackgroundFill","color","round","fraction","setLineDash","22wqJbmG","point","Expected point or line for text-placement","No fill, stroke, point, or text symbolizer properties in style: ","length","font","circle-","setLineJoin","Expected a number or size array for ","anchor-x-units","49fsPVJq","start","pixels","repeat","isArray","setPadding","1126huALSM","Expected a color with 3 or 4 values for ","Expected an array for ","setFill","placement","Expected an array of two numbers for ","alphabetic","width","fill-pattern-src","background-","20HDHEbe","string","setOffsetY","Expected butt, round, or square line cap","text-","line","rotate-with-view","Expected a boolean for ","padding","setDisplacement","offset-y","displacement","shape-","Expected pixels or fraction for ","Expected a string for ","styles","filter","left"];return tp=function(){return i},tp()}function W9(i,e){const t=Ht,n=i[e];if(n!==void 0){if(typeof n!==t(540))throw new Error(t(553)+e);return n}}function Ht(i,e){const t=tp();return Ht=function(n,r){return n=n-424,t[n]},Ht(i,e)}function A5(i,e){const t=Ht,n=i[e];if(n!==void 0){if(n!==t(507)&&n!==t(441)&&n!==t(428)&&n!==t(558))throw new Error("Expected bottom-left, bottom-right, top-left, or top-right for "+e);return n}}function d5(i,e){const t=Ht,n=i[e];if(n!==void 0){if(n!==t(525)&&n!==t(511))throw new Error(t(552)+e);return n}}function j9(i,e){const t=i[e];if(t!==void 0)return sh(t,e)}function np(i,e){const t=Ht,n=i[e];if(n!==void 0){if(typeof n!="string")throw new Error(t(553)+e);if(n!==t(490)&&n!==t(424)&&n!=="none")throw new Error("Expected declutter, obstacle, or none for "+e);return n}}function K9(i,e){const t=i[e];if(t!==void 0)return g5(t,e)}function sh(i,e){const t=Ht;if(!Array.isArray(i))throw new Error(t(531)+e);const n=i.length;for(let r=0;r<n;++r)if(typeof i[r]!==t(500))throw new Error(t(473)+e);return i}function p5(i,e){const t=Ht;if(typeof i!==t(540))throw new Error(t(553)+e);return i}function hy(i,e){const t=Ht;if(typeof i!==t(500))throw new Error(t(484)+e);return i}function g5(i,e){const t=Ht;if(typeof i===t(540))return i;const n=sh(i,e),r=n[t(517)];if(r<3||r>4)throw new Error(t(530)+e);return n}function m5(i,e){const t=Ht,n=sh(i,e);if(n[t(517)]!==2)throw new Error(t(534)+e);return n}function J9(i,e){return typeof i===Ht(500)?i:m5(i,e)}const Dn=rp;(function(i,e){const t=rp,n=i();for(;;)try{if(parseInt(t(180))/1+-parseInt(t(160))/2*(parseInt(t(153))/3)+parseInt(t(167))/4*(-parseInt(t(151))/5)+parseInt(t(178))/6+-parseInt(t(181))/7+-parseInt(t(157))/8+parseInt(t(184))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ip,989244);function ip(){const i=["set","57614wpAMho","getDeclutter","assign","getStyleFunction","renderBuffer","Expected a list of rules with a style property","updateWhileInteracting","1073908JPIhHr","renderBuffer_","setStyle","updateWhileInteracting_","updateWhileAnimating_","setRenderOrder","updateWhileAnimating","getRenderer","styleFunction_","length","declutter_","7952148fizucZ","RENDER_ORDER","834169sIHoni","13261927gmTSQB","declutter","style_","27878436bOlDzp","renderOrder","function","getFeatures","5anYSrn","changed","39SudaGx","style","get","renderDeclutter","13842864DdooJA","getRenderBuffer"];return ip=function(){return i},ip()}function rp(i,e){const t=ip();return rp=function(n,r){return n=n-150,t[n]},rp(i,e)}const _5={RENDER_ORDER:Dn(185)};class fy extends _0{constructor(e){const t=Dn;e=e||{};const n=Object[t(162)]({},e);delete n[t(154)],delete n.renderBuffer,delete n[t(173)],delete n.updateWhileInteracting,super(n),this[t(177)]=e[t(182)]?String(e[t(182)]):void 0,this[t(168)]=e[t(164)]!==void 0?e[t(164)]:100,this[t(183)]=null,this[t(175)]=void 0,this.setStyle(e.style),this[t(171)]=e[t(173)]!==void 0?e[t(173)]:!1,this[t(170)]=e.updateWhileInteracting!==void 0?e[t(166)]:!1}[Dn(161)](){return this[Dn(177)]}[Dn(150)](e){const t=Dn;return super[t(150)](e)}[Dn(158)](){return this[Dn(168)]}getRenderOrder(){const e=Dn;return this[e(155)](_5[e(179)])}getStyle(){return this[Dn(183)]}[Dn(163)](){return this[Dn(175)]}getUpdateWhileAnimating(){return this[Dn(171)]}getUpdateWhileInteracting(){return this[Dn(170)]}[Dn(156)](e,t){const n=Dn,r=this[n(161)]();!(r in e[n(182)])&&(e[n(182)][r]=new t5(9)),this[n(174)]()[n(156)](e,t)}[Dn(172)](e){this[Dn(159)](_5.RENDER_ORDER,e)}[Dn(169)](e){const t=Dn;this[t(183)]=e===void 0?i5:e;const n=Z9(e);this.styleFunction_=e===null?void 0:u9(n),this[t(152)]()}}function Z9(i){const e=Dn;if(i===void 0)return i5;if(!i)return null;if(typeof i===e(186)||i instanceof Ct)return i;if(!Array.isArray(i))return u5([i]);if(i[e(176)]===0)return[];const t=i[e(176)],n=i[0];if(n instanceof Ct){const s=new Array(t);for(let a=0;a<t;++a){const o=i[a];if(!(o instanceof Ct))throw new Error("Expected a list of style instances");s[a]=o}return s}if(e(154)in n){const s=new Array(t);for(let a=0;a<t;++a){const o=i[a];if(!(e(154)in o))throw new Error(e(165));s[a]=o}return N9(s)}return u5(i)}const Ay=ap;(function(i,e){const t=ap,n=i();for(;;)try{if(parseInt(t(157))/1+-parseInt(t(162))/2*(-parseInt(t(153))/3)+-parseInt(t(159))/4*(parseInt(t(160))/5)+parseInt(t(155))/6+-parseInt(t(158))/7*(parseInt(t(156))/8)+-parseInt(t(163))/9+-parseInt(t(150))/10*(-parseInt(t(154))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(op,366667);const He={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},sp=[He[Ay(161)]],xo=[He[Ay(151)]],C0=[He.BEGIN_PATH];function ap(i,e){const t=op();return ap=function(n,r){return n=n-150,t[n]},ap(i,e)}function op(){const i=["STROKE","CLOSE_PATH","87qLJxAu","517EEYkjk","2173392yJpmrw","2616FpIWYr","186901vHfXiC","8841dHvoFW","1584iOqKpe","8630dxMTHH","FILL","17852TbyosP","6414822mucBCc","291050LcWGQh"];return op=function(){return i},op()}const I5=[He[Ay(152)]];function cp(){var i=["4926iXIWTQ","drawLineString","30cOqgfH","drawCircle","setStyle","8528312RUiIzn","drawMultiLineString","8072721wcLDco","drawText","8036OMbYDG","3399512yLGwnT","6700084gLuwTu","drawPolygon","drawFeature","setTextStyle","setFillStrokeStyle","drawGeometry","5553640rPeZCY","setImageStyle","drawGeometryCollection","1qxhDCz","drawMultiPolygon","1037496QZsyvt"];return cp=function(){return i},cp()}var ur=lp;function lp(i,e){var t=cp();return lp=function(n,r){n=n-249;var s=t[n];return s},lp(i,e)}(function(i,e){for(var t=lp,n=i();;)try{var r=-parseInt(t(257))/1*(parseInt(t(270))/2)+parseInt(t(259))/3+-parseInt(t(271))/4+parseInt(t(254))/5+parseInt(t(260))/6*(-parseInt(t(269))/7)+parseInt(t(265))/8+-parseInt(t(267))/9*(-parseInt(t(262))/10);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(cp,896221);class E5{drawCustom(e,t,n,r,s){}[ur(253)](e){}[ur(264)](e){}[ur(263)](e,t,n){}[ur(250)](e,t,n){}[ur(256)](e,t,n){}[ur(261)](e,t,n){}[ur(266)](e,t,n){}drawMultiPoint(e,t,n){}[ur(258)](e,t,n){}drawPoint(e,t,n){}[ur(249)](e,t,n){}[ur(268)](e,t,n){}[ur(252)](e,t){}[ur(255)](e,t){}[ur(251)](e,t){}}const qt=ah;(function(i,e){const t=ah,n=i();for(;;)try{if(parseInt(t(358))/1+parseInt(t(323))/2*(-parseInt(t(310))/3)+parseInt(t(353))/4+-parseInt(t(337))/5*(parseInt(t(307))/6)+-parseInt(t(376))/7*(parseInt(t(359))/8)+parseInt(t(300))/9+parseInt(t(365))/10*(-parseInt(t(346))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(xp,322034);function ah(i,e){const t=xp();return ah=function(n,r){return n=n-296,t[n]},ah(i,e)}function xp(){const i=["133310FcDqSO","lineJoin","coordinates","getStride","getEnds","Point","lineDash","lineCap","bufferedMaxExtent_","END_GEOMETRY","lineDashOffset","7jufYEt","pixelRatio","getMiterLimit","beginGeometryInstruction1_","resolution","push","4480704yIiZfe","createFill","createStroke","getLineCap","MultiPolygon","updateStrokeStyle","hitDetectionInstructions","98286WhxZBz","CUSTOM","updateFillStyle","2454FOEXsp","lineWidth","currentLineCap","state","endGeometry","Circle","getFlatCoordinates","maxExtent","getColor","drawCustom","src","currentMiterLimit","drawCustomCoordinates_","366OUEYvi","getBufferedMaxExtent","getEndss","LineString","INTERSECTING","fillStyle","getWidth","currentFillStyle","length","beginGeometry","strokeStyle","currentLineJoin","beginGeometryInstruction2_","appendFlatLineCoordinates","85xGtCQP","MultiPoint","string","instructions","applyStroke","setFillStrokeStyle","fillPatternScale","applyPixelRatio","call","341gmjayn","reverseHitDetectionInstructions","getOrientedFlatCoordinates","SET_STROKE_STYLE","miterLimit","Polygon","currentStrokeStyle","1412828McTByw","appendFlatPointCoordinates","getLineDash","BEGIN_GEOMETRY","tmpCoordinate_","590436WwytOo","2224264gOoRzg","maxLineWidth","currentLineDash","currentLineWidth","currentLineDashOffset","tolerance"];return xp=function(){return i},xp()}class oh extends E5{constructor(e,t,n,r){const s=ah;super(),this[s(364)]=e,this[s(317)]=t,this[s(377)]=r,this[s(360)]=0,this[s(298)]=n,this.beginGeometryInstruction1_=null,this[s(335)]=null,this[s(373)]=null,this.instructions=[],this[s(367)]=[],this[s(357)]=[],this[s(306)]=[],this[s(313)]={}}[qt(344)](e){const t=this.pixelRatio;return t==1?e:e.map(function(n){return n*t})}[qt(354)](e,t){const n=qt,r=this.getBufferedMaxExtent(),s=this[n(357)],a=this[n(367)];let o=a[n(331)];for(let l=0,c=e[n(331)];l<c;l+=t)s[0]=e[l],s[1]=e[l+1],t0(r,s)&&(a[o++]=s[0],a[o++]=s[1]);return o}appendFlatLineCoordinates(e,t,n,r,s,a){const o=qt,l=this[o(367)];let c=l.length;const x=this[o(324)]();a&&(t+=r);let u=e[t],h=e[t+1];const f=this.tmpCoordinate_;let A=!0,g,d,p;for(g=t+r;g<n;g+=r)f[0]=e[g],f[1]=e[g+1],p=HI(x,f),p!==d?(A&&(l[c++]=u,l[c++]=h,A=!1),l[c++]=f[0],l[c++]=f[1]):p===Jn[o(327)]?(l[c++]=f[0],l[c++]=f[1],A=!1):A=!0,u=f[0],h=f[1],d=p;return(s&&A||g===t+r)&&(l[c++]=u,l[c++]=h),c}[qt(322)](e,t,n,r,s){const a=qt;for(let o=0,l=n[a(331)];o<l;++o){const c=n[o],x=this.appendFlatLineCoordinates(e,t,c,r,!1,!1);s[a(299)](x),t=c}return t}[qt(319)](e,t,n,r,s){const a=qt;this[a(332)](e,t,s);const o=e.getType(),l=e[a(368)](),c=this[a(367)].length;let x,u,h,f,A;switch(o){case a(304):x=e[a(348)](),f=[];const g=e[a(325)]();A=0;for(let d=0,p=g[a(331)];d<p;++d){const m=[];A=this[a(322)](x,A,g[d],l,m),f[a(299)](m)}this[a(340)][a(299)]([He.CUSTOM,c,f,e,n,VE,s]),this[a(306)][a(299)]([He[a(308)],c,f,e,r||n,VE,s]);break;case a(351):case"MultiLineString":h=[],x=o==a(351)?e[a(348)]():e[a(316)](),A=this.drawCustomCoordinates_(x,0,e[a(369)](),l,h),this.instructions[a(299)]([He.CUSTOM,c,h,e,n,Lu,s]),this[a(306)][a(299)]([He.CUSTOM,c,h,e,r||n,Lu,s]);break;case a(326):case a(315):x=e[a(316)](),u=this[a(336)](x,0,x.length,l,!1,!1),this[a(340)][a(299)]([He[a(308)],c,u,e,n,so,s]),this[a(306)].push([He[a(308)],c,u,e,r||n,so,s]);break;case a(338):x=e.getFlatCoordinates(),u=this[a(354)](x,l),u>c&&(this[a(340)][a(299)]([He[a(308)],c,u,e,n,so,s]),this[a(306)][a(299)]([He[a(308)],c,u,e,r||n,so,s]));break;case a(370):x=e[a(316)](),this[a(367)][a(299)](x[0],x[1]),u=this[a(367)][a(331)],this.instructions[a(299)]([He[a(308)],c,u,e,n,void 0,s]),this[a(306)].push([He[a(308)],c,u,e,r||n,void 0,s]);break}this[a(314)](t)}[qt(332)](e,t,n){const r=qt;this.beginGeometryInstruction1_=[He.BEGIN_GEOMETRY,t,0,e,n],this[r(340)][r(299)](this[r(297)]),this[r(335)]=[He[r(356)],t,0,e,n],this.hitDetectionInstructions[r(299)](this[r(335)])}finish(){const e=qt;return{instructions:this[e(340)],hitDetectionInstructions:this[e(306)],coordinates:this[e(367)]}}[qt(347)](){const e=qt,t=this[e(306)];t.reverse();let n;const r=t.length;let s,a,o=-1;for(n=0;n<r;++n)s=t[n],a=s[0],a==He[e(374)]?o=n:a==He[e(356)]&&(s[2]=n,e7(this[e(306)],o,n),o=-1)}[qt(342)](e,t){const n=qt,r=this[n(313)];if(e){const s=e[n(318)]();r[n(343)]=s&&typeof s=="object"&&n(320)in s?this[n(377)]:1,r[n(328)]=Cs(s||Oi)}else r[n(328)]=void 0;if(t){const s=t[n(318)]();r[n(333)]=Cs(s||yu);const a=t[n(303)]();r[n(372)]=a!==void 0?a:Bc;const o=t[n(355)]();r.lineDash=o?o.slice():ta;const l=t.getLineDashOffset();r[n(375)]=l||na;const c=t.getLineJoin();r[n(366)]=c!==void 0?c:Sc;const x=t[n(329)]();r.lineWidth=x!==void 0?x:vu;const u=t[n(296)]();r[n(350)]=u!==void 0?u:Eu,r[n(311)]>this[n(360)]&&(this[n(360)]=r[n(311)],this.bufferedMaxExtent_=null)}else r[n(333)]=void 0,r[n(372)]=void 0,r[n(371)]=null,r[n(375)]=void 0,r.lineJoin=void 0,r[n(311)]=void 0,r[n(350)]=void 0}[qt(301)](e){const t=qt,n=e[t(328)],r=[He.SET_FILL_STYLE,n];return typeof n!==t(339)&&r.push(e.fillPatternScale),r}[qt(341)](e){const t=qt;this.instructions[t(299)](this[t(302)](e))}[qt(302)](e){const t=qt;return[He[t(349)],e[t(333)],e.lineWidth*this[t(377)],e[t(372)],e[t(366)],e[t(350)],this[t(344)](e.lineDash),e.lineDashOffset*this[t(377)]]}[qt(309)](e,t){const n=qt,r=e[n(328)];(typeof r!==n(339)||e[n(330)]!=r)&&(r!==void 0&&this[n(340)][n(299)](t.call(this,e)),e[n(330)]=r)}[qt(305)](e,t){const n=qt,r=e[n(333)],s=e.lineCap,a=e[n(371)],o=e[n(375)],l=e.lineJoin,c=e[n(311)],x=e[n(350)];(e.currentStrokeStyle!=r||e.currentLineCap!=s||a!=e[n(361)]&&!$a(e[n(361)],a)||e[n(363)]!=o||e[n(334)]!=l||e[n(362)]!=c||e[n(321)]!=x)&&(r!==void 0&&t[n(345)](this,e),e[n(352)]=r,e[n(312)]=s,e[n(361)]=a,e[n(363)]=o,e[n(334)]=l,e.currentLineWidth=c,e[n(321)]=x)}[qt(314)](e){const t=qt;this.beginGeometryInstruction1_[2]=this.instructions.length,this[t(297)]=null,this[t(335)][2]=this.hitDetectionInstructions[t(331)],this.beginGeometryInstruction2_=null;const n=[He[t(374)],e];this[t(340)][t(299)](n),this[t(306)].push(n)}[qt(324)](){const e=qt;if(!this.bufferedMaxExtent_&&(this[e(373)]=Dw(this[e(317)]),this[e(360)]>0)){const t=this[e(298)]*(this[e(360)]+1)/2;Wa(this[e(373)],t,this[e(373)])}return this[e(373)]}}function up(){const i=["declutterImageWithText_","getHitDetectionImage","beginGeometry","2524855XnazjH","scale_","originX_","907294qouyOy","getRotation","appendFlatPointCoordinates","opacity_","push","getFlatCoordinates","getStride","getImage","4xjRCdX","rotateWithView_","anchorY_","height_","14532543iFxnwa","endGeometry","reverseHitDetectionInstructions","originY_","getAnchor","getSize","1691096bmAVJH","maxExtent","DRAW_IMAGE","ceil","declutterMode_","getOpacity","1345295eSetVO","pixelRatio","imagePixelRatio_","hitDetectionImage_","7ebZIWT","hitDetectionInstructions","anchorX_","image_","width_","rotation_","length","instructions","coordinates","7159806qIANBJ","4160217uxjdWw","finish"];return up=function(){return i},up()}const dy=b0;(function(i,e){const t=b0,n=i();for(;;)try{if(-parseInt(t(453))/1+parseInt(t(429))/2+parseInt(t(467))/3+parseInt(t(437))/4*(parseInt(t(472))/5)+parseInt(t(466))/6*(parseInt(t(457))/7)+parseInt(t(447))/8+-parseInt(t(441))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(up,790023);function b0(i,e){const t=up();return b0=function(n,r){return n=n-429,t[n]},b0(i,e)}class $9 extends oh{constructor(e,t,n,r){const s=b0;super(e,t,n,r),this.hitDetectionImage_=null,this.image_=null,this[s(455)]=void 0,this[s(459)]=void 0,this[s(439)]=void 0,this[s(440)]=void 0,this[s(432)]=void 0,this[s(474)]=void 0,this[s(444)]=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this[s(473)]=void 0,this[s(461)]=void 0,this[s(451)]=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,n){const r=b0;if(!this[r(460)]||this[r(448)]&&!t0(this[r(448)],e.getFlatCoordinates()))return;this[r(471)](e,t,n);const s=e[r(434)](),a=e[r(435)](),o=this[r(465)].length,l=this.appendFlatPointCoordinates(s,a);this.instructions.push([He[r(449)],o,l,this[r(460)],this[r(459)]*this[r(455)],this[r(439)]*this.imagePixelRatio_,Math[r(450)](this[r(440)]*this[r(455)]),this.opacity_,this.originX_*this[r(455)],this[r(444)]*this[r(455)],this.rotateWithView_,this[r(462)],[this[r(473)][0]*this[r(454)]/this[r(455)],this[r(473)][1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this[r(461)]*this[r(455)]),this[r(451)],this.declutterImageWithText_]),this[r(458)][r(433)]([He[r(449)],o,l,this.hitDetectionImage_,this[r(459)],this[r(439)],this.height_,1,this[r(474)],this.originY_,this[r(438)],this[r(462)],this[r(473)],this[r(461)],this[r(451)],this[r(469)]]),this[r(442)](t)}drawMultiPoint(e,t,n){const r=b0;if(!this[r(460)])return;this.beginGeometry(e,t,n);const s=e[r(434)](),a=[];for(let c=0,x=s[r(463)];c<x;c+=e[r(435)]())(!this[r(448)]||t0(this.maxExtent,s.slice(c,c+2)))&&a[r(433)](s[c],s[c+1]);const o=this[r(465)][r(463)],l=this[r(431)](a,2);this[r(464)][r(433)]([He.DRAW_IMAGE,o,l,this[r(460)],this[r(459)]*this[r(455)],this[r(439)]*this.imagePixelRatio_,Math[r(450)](this[r(440)]*this[r(455)]),this[r(432)],this.originX_*this[r(455)],this[r(444)]*this[r(455)],this[r(438)],this.rotation_,[this.scale_[0]*this[r(454)]/this[r(455)],this[r(473)][1]*this[r(454)]/this[r(455)]],Math[r(450)](this[r(461)]*this.imagePixelRatio_),this[r(451)],this[r(469)]]),this.hitDetectionInstructions[r(433)]([He.DRAW_IMAGE,o,l,this[r(456)],this[r(459)],this.anchorY_,this[r(440)],1,this[r(474)],this[r(444)],this[r(438)],this[r(462)],this[r(473)],this[r(461)],this[r(451)],this[r(469)]]),this[r(442)](t)}[dy(468)](){const e=dy;return this[e(443)](),this[e(459)]=void 0,this[e(439)]=void 0,this[e(456)]=null,this[e(460)]=null,this[e(455)]=void 0,this[e(440)]=void 0,this[e(473)]=void 0,this[e(432)]=void 0,this[e(474)]=void 0,this[e(444)]=void 0,this[e(438)]=void 0,this[e(462)]=void 0,this[e(461)]=void 0,super.finish()}setImageStyle(e,t){const n=dy,r=e[n(445)](),s=e[n(446)](),a=e.getOrigin();this[n(455)]=e.getPixelRatio(this[n(454)]),this[n(459)]=r[0],this.anchorY_=r[1],this[n(456)]=e[n(470)](),this.image_=e[n(436)](this[n(454)]),this[n(440)]=s[1],this[n(432)]=e[n(452)](),this.originX_=a[0],this[n(444)]=a[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e[n(430)](),this[n(473)]=e.getScaleArray(),this[n(461)]=s[0],this[n(451)]=e.getDeclutterMode(),this[n(469)]=t}}const aa=hp;function hp(i,e){const t=fp();return hp=function(n,r){return n=n-242,t[n]},hp(i,e)}(function(i,e){const t=hp,n=i();for(;;)try{if(-parseInt(t(266))/1+-parseInt(t(263))/2*(-parseInt(t(262))/3)+parseInt(t(265))/4*(parseInt(t(259))/5)+parseInt(t(260))/6+-parseInt(t(250))/7+-parseInt(t(261))/8*(-parseInt(t(270))/9)+-parseInt(t(256))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(fp,910387);function fp(){const i=["getFlatCoordinates","SET_STROKE_STYLE","1683KqJsHB","state","lineWidth","length","reverseHitDetectionInstructions","lineCap","beginGeometry","applyStroke","getEnds","finish","coordinates","updateStrokeStyle","drawFlatCoordinates_","lineJoin","298130ASuleN","push","endGeometry","hitDetectionInstructions","instructions","drawMultiLineString","14717120HkPbnk","strokeStyle","getStride","1562480HOeyUF","8475018ncojLV","30904DSbEOA","1419HzIXFC","1418KnBIWw","lastStroke","20oXvnmO","1608032PxvVEM","MOVE_TO_LINE_TO"];return fp=function(){return i},fp()}class eF extends oh{constructor(e,t,n,r){super(e,t,n,r)}[aa(248)](e,t,n,r){const s=aa,a=this.coordinates[s(273)],o=this.appendFlatLineCoordinates(e,t,n,r,!1,!1),l=[He[s(267)],a,o];return this[s(254)].push(l),this[s(253)][s(251)](l),n}drawLineString(e,t,n){const r=aa,s=this.state,a=s[r(257)],o=s[r(272)];if(a===void 0||o===void 0)return;this[r(247)](s,this[r(243)]),this[r(242)](e,t,n),this[r(253)][r(251)]([He[r(269)],s[r(257)],s[r(272)],s[r(275)],s.lineJoin,s.miterLimit,ta,na],C0);const l=e[r(268)](),c=e.getStride();this[r(248)](l,0,l[r(273)],c),this[r(253)][r(251)](xo),this.endGeometry(t)}[aa(255)](e,t,n){const r=aa,s=this[r(271)],a=s[r(257)],o=s[r(272)];if(a===void 0||o===void 0)return;this[r(247)](s,this.applyStroke),this[r(242)](e,t,n),this[r(253)].push([He[r(269)],s[r(257)],s[r(272)],s[r(275)],s[r(249)],s.miterLimit,ta,na],C0);const l=e[r(244)](),c=e[r(268)](),x=e[r(258)]();let u=0;for(let h=0,f=l[r(273)];h<f;++h)u=this[r(248)](c,u,l[h],x);this.hitDetectionInstructions[r(251)](xo),this[r(252)](t)}[aa(245)](){const e=aa,t=this[e(271)];return t[e(264)]!=null&&t[e(264)]!=this[e(246)][e(273)]&&this[e(254)][e(251)](xo),this[e(274)](),this[e(271)]=null,super.finish()}[aa(243)](e){const t=aa;e.lastStroke!=null&&e[t(264)]!=this[t(246)][t(273)]&&(this[t(254)][t(251)](xo),e[t(264)]=this[t(246)][t(273)]),e[t(264)]=0,super.applyStroke(e),this[t(254)][t(251)](C0)}}function Ap(){const i=["35RkheJI","updateStrokeStyle","7577595sEQejC","applyStroke","length","push","SET_FILL_STYLE","beginGeometry","drawFlatCoordinatess_","lineCap","fillStyle","getEnds","152mrtVlp","hitDetectionInstructions","setFillStrokeStyles_","MOVE_TO_LINE_TO","strokeStyle","instructions","SET_STROKE_STYLE","CIRCLE","546174fDFDXr","getFlatCoordinates","lineWidth","tolerance","reverseHitDetectionInstructions","coordinates","miterLimit","finish","getEndss","endGeometry","state","appendFlatLineCoordinates","54386jrSNDc","drawCircle","3318036OmWFkd","1906665LQyThe","drawPolygon","getOrientedFlatCoordinates","getStride","lineJoin","507160geIgYI","updateFillStyle","13074NwTHcT"];return Ap=function(){return i},Ap()}const oa=ch;(function(i,e){const t=ch,n=i();for(;;)try{if(-parseInt(t(213))/1+parseInt(t(225))/2+parseInt(t(235))/3*(-parseInt(t(205))/4)+parseInt(t(228))/5+-parseInt(t(227))/6+parseInt(t(236))/7*(parseInt(t(233))/8)+parseInt(t(238))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ap,302672);class y5 extends oh{constructor(e,t,n,r){super(e,t,n,r)}drawFlatCoordinatess_(e,t,n,r){const s=ch,a=this[s(223)],o=a[s(246)]!==void 0,l=a[s(209)]!==void 0,c=n[s(240)];this.instructions[s(241)](C0),this[s(206)].push(C0);for(let x=0;x<c;++x){const u=n[x],h=this[s(218)][s(240)],f=this.appendFlatLineCoordinates(e,t,u,r,!0,!l),A=[He[s(208)],h,f];this[s(210)][s(241)](A),this[s(206)][s(241)](A),l&&(this[s(210)][s(241)](I5),this[s(206)].push(I5)),t=u}return o&&(this[s(210)][s(241)](sp),this.hitDetectionInstructions[s(241)](sp)),l&&(this[s(210)].push(xo),this[s(206)][s(241)](xo)),t}[oa(226)](e,t,n){const r=oa,s=this[r(223)],a=s[r(246)],o=s.strokeStyle;if(a===void 0&&o===void 0)return;this[r(207)](),this[r(243)](e,t,n),s.fillStyle!==void 0&&this[r(206)][r(241)]([He.SET_FILL_STYLE,Oi]),s[r(209)]!==void 0&&this[r(206)][r(241)]([He.SET_STROKE_STYLE,s.strokeStyle,s[r(215)],s.lineCap,s[r(232)],s[r(219)],ta,na]);const l=e[r(214)](),c=e.getStride(),x=this.coordinates[r(240)];this[r(224)](l,0,l.length,c,!1,!1);const u=[He[r(212)],x];this.instructions[r(241)](C0,u),this.hitDetectionInstructions[r(241)](C0,u),s[r(246)]!==void 0&&(this[r(210)][r(241)](sp),this.hitDetectionInstructions.push(sp)),s[r(209)]!==void 0&&(this[r(210)][r(241)](xo),this[r(206)].push(xo)),this[r(222)](t)}[oa(229)](e,t,n){const r=oa,s=this[r(223)],a=s[r(246)],o=s[r(209)];if(a===void 0&&o===void 0)return;this[r(207)](),this[r(243)](e,t,n),s[r(246)]!==void 0&&this[r(206)][r(241)]([He[r(242)],Oi]),s[r(209)]!==void 0&&this.hitDetectionInstructions[r(241)]([He[r(211)],s[r(209)],s[r(215)],s[r(245)],s[r(232)],s[r(219)],ta,na]);const l=e[r(247)](),c=e[r(230)](),x=e[r(231)]();this.drawFlatCoordinatess_(c,0,l,x),this[r(222)](t)}drawMultiPolygon(e,t,n){const r=oa,s=this[r(223)],a=s[r(246)],o=s.strokeStyle;if(a===void 0&&o===void 0)return;this[r(207)](),this.beginGeometry(e,t,n),s[r(246)]!==void 0&&this[r(206)].push([He[r(242)],Oi]),s[r(209)]!==void 0&&this.hitDetectionInstructions[r(241)]([He[r(211)],s.strokeStyle,s[r(215)],s[r(245)],s[r(232)],s.miterLimit,ta,na]);const l=e[r(221)](),c=e[r(230)](),x=e[r(231)]();let u=0;for(let h=0,f=l.length;h<f;++h)u=this[r(244)](c,u,l[h],x);this[r(222)](t)}[oa(220)](){const e=oa;this[e(217)](),this[e(223)]=null;const t=this[e(216)];if(t!==0){const n=this.coordinates;for(let r=0,s=n[e(240)];r<s;++r)n[r]=d0(n[r],t)}return super[e(220)]()}[oa(207)](){const e=oa,t=this[e(223)];t[e(246)]!==void 0&&this[e(234)](t,this.createFill),t[e(209)]!==void 0&&this[e(237)](t,this[e(239)])}}function ch(i,e){const t=Ap();return ch=function(n,r){return n=n-205,t[n]},ch(i,e)}(function(i,e){const t=dp,n=i();for(;;)try{if(-parseInt(t(247))/1+-parseInt(t(245))/2+-parseInt(t(246))/3+-parseInt(t(237))/4*(parseInt(t(239))/5)+parseInt(t(241))/6+-parseInt(t(240))/7+-parseInt(t(238))/8*(-parseInt(t(244))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(pp,381329);function dp(i,e){const t=pp();return dp=function(n,r){return n=n-236,t[n]},dp(i,e)}function pp(){const i=["5128249yfjVxu","1775010ErEnUK","push","sqrt","9hSPOoV","597716UPuXCt","960714kMyMpH","214865ldfQeJ","slice","4FFKQMF","19293192zbawoX","3797935RzqHFj"];return pp=function(){return i},pp()}function tF(i,e,t,n,r){const s=dp,a=[];let o=t,l=0,c=e[s(236)](t,2);for(;l<i&&o+r<n;){const[x,u]=c[s(236)](-2),h=e[o+r],f=e[o+r+1],A=Math[s(243)]((h-x)*(h-x)+(f-u)*(f-u));if(l+=A,l>=i){const g=(i-l+A)/A,d=or(x,h,g),p=or(u,f,g);c[s(242)](d,p),a.push(c),c=[d,p],l==i&&(o+=r),l=0}else if(l<i)c[s(242)](e[o+r],e[o+r+1]),o+=r;else{const g=A-l,d=or(x,h,g/A),p=or(u,f,g/A);c[s(242)](d,p),a[s(242)](c),c=[d,p],l=0,o+=r}}return l>0&&a.push(c),a}(function(i,e){const t=gp,n=i();for(;;)try{if(-parseInt(t(111))/1+parseInt(t(107))/2+-parseInt(t(108))/3*(-parseInt(t(110))/4)+-parseInt(t(103))/5+parseInt(t(102))/6+-parseInt(t(105))/7+parseInt(t(104))/8*(parseInt(t(112))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(mp,398287);function nF(i,e,t,n,r){const s=gp;let a=t,o=t,l=0,c=0,x=t,u,h,f,A,g,d,p,m,I,_;for(h=t;h<n;h+=r){const y=e[h],E=e[h+1];g!==void 0&&(I=y-g,_=E-d,A=Math[s(106)](I*I+_*_),p!==void 0&&(c+=f,u=Math[s(109)]((p*I+m*_)/(f*A)),u>i&&(c>l&&(l=c,a=x,o=h),c=0,x=h-r)),f=A,p=I,m=_),g=y,d=E}return c+=A,c>l?[x,h]:[a,o]}function gp(i,e){const t=mp();return gp=function(n,r){return n=n-102,t[n]},gp(i,e)}function mp(){const i=["425660IUKHXx","9WzvzWx","605964YoZTZt","163355zPSeLk","3315008HoSgxq","4394544NvzGSG","sqrt","1557132AqiATQ","571422EdnPHO","acos","4yLVejw"];return mp=function(){return i},mp()}const Ms=lh;(function(i,e){const t=lh,n=i();for(;;)try{if(parseInt(t(503))/1*(parseInt(t(493))/2)+-parseInt(t(540))/3*(-parseInt(t(466))/4)+parseInt(t(505))/5*(-parseInt(t(560))/6)+parseInt(t(502))/7*(-parseInt(t(510))/8)+parseInt(t(470))/9+-parseInt(t(552))/10+parseInt(t(492))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_p,809869);function lh(i,e){const t=_p();return lh=function(n,r){return n=n-460,t[n]},lh(i,e)}function _p(){const i=["4940770RfPswK","repeat","createStroke","DRAW_CHARS","justify","getStride","declutterMode_","textOffsetX_","766866LyUxKj","drawChars_","getBackgroundStroke","getEnds","textRotation_","finish","DRAW_IMAGE","getMaxAngle","textKey_","hitDetectionInstructions","getFill","Circle","getLineCap","endGeometry","30372ycvRVf","MultiPoint","lineDashOffset","getExtent","9658449NMdjoE","textBaseline","getLineDashOffset","lineCap","getCenter","lineWidth","slice","getWidth","getOffsetX","getPlacement","getJustify","getFlatInteriorPoint","maxAngle","text_","setTextStyle","updateStrokeStyle","strokeKey_","textFillState_","backgroundFill","createFill","textState_","strokeStates","3715052KYWpQV","41694ROgaMx","join","miterLimit","abs","getTextAlign","getTextBaseline","textStrokeState_","backgroundStroke","getFont","7hfcyrD","31NsaoKy","labels_","25FowZyV","maxExtent","getDeclutterMode","MultiLineString","fillStates","12515296tlXgyK","getLineDash","getLineJoin","LineString","getPadding","getFlatCoordinates","lineDash","getFlatMidpoint","saveTextStates_","scale","getText","declutterImageWithText_","coordinates","appendFlatPointCoordinates","updateFillStyle","resolution","strokeStyle","drawText","getRotation","getBackgroundFill","state","string","textOffsetY_","textStates","textAlign","MultiPolygon","push","line","instructions","fillStyle","573UsRQfh","beginGeometry","fillKey_","lineJoin","overflow","getOverflow","getEndss","padding","length","font","textRotateWithView_","pixelRatio"];return _p=function(){return i},_p()}const Ip={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class iF extends oh{constructor(e,t,n,r){const s=lh;super(e,t,n,r),this[s(504)]=null,this.text_="",this[s(559)]=0,this[s(532)]=0,this[s(550)]=void 0,this[s(564)]=0,this[s(487)]=null,this[s(509)]={},this[s(509)][Oi]={fillStyle:Oi},this.textStrokeState_=null,this[s(491)]={},this[s(490)]={},this[s(533)]={},this.textKey_="",this[s(542)]="",this[s(486)]="",this[s(558)]=void 0,this[s(521)]=void 0}[Ms(565)](){const e=Ms,t=super[e(565)]();return t[e(533)]=this[e(533)],t[e(509)]=this[e(509)],t[e(491)]=this.strokeStates,t}[Ms(527)](e,t,n){const r=Ms,s=this[r(487)],a=this[r(499)],o=this[r(490)];if(this[r(483)]===""||!o||!s&&!a)return;const l=this[r(522)];let c=l[r(548)];const x=e.getType();let u=null,h=e[r(557)]();if(o.placement===r(537)&&(x=="LineString"||x==r(508)||x=="Polygon"||x==r(535))){if(!wn(this[r(506)],e[r(469)]()))return;let f;if(u=e.getFlatCoordinates(),x==r(513))f=[u[r(548)]];else if(x==r(508))f=e[r(563)]();else if(x=="Polygon")f=e[r(563)]().slice(0,1);else if(x==r(535)){const p=e[r(546)]();f=[];for(let m=0,I=p.length;m<I;++m)f[r(536)](p[m][0])}this[r(541)](e,t,n);const A=o[r(553)],g=A?void 0:o[r(534)];let d=0;for(let p=0,m=f[r(548)];p<m;++p){let I;A?I=tF(A*this[r(525)],u,d,f[p],h):I=[u.slice(d,f[p])];for(let _=0,y=I[r(548)];_<y;++_){const E=I[_];let C=0,w=E[r(548)];if(g==null){const v=nF(o[r(482)],E,0,E[r(548)],2);C=v[0],w=v[1]}for(let v=C;v<w;v+=h)l[r(536)](E[v],E[v+1]);const b=l.length;d=f[p],this[r(561)](c,b),c=b}}this[r(465)](t)}else{let f=o[r(544)]?null:[];switch(x){case"Point":case r(467):u=e[r(515)]();break;case"LineString":u=e[r(517)]();break;case r(463):u=e[r(474)]();break;case r(508):u=e.getFlatMidpoints(),h=2;break;case"Polygon":u=e[r(481)](),!o[r(544)]&&f.push(u[2]/this[r(525)]),h=3;break;case r(535):const I=e.getFlatInteriorPoints();u=[];for(let _=0,y=I[r(548)];_<y;_+=3)!o[r(544)]&&f[r(536)](I[_+2]/this[r(525)]),u[r(536)](I[_],I[_+1]);if(u[r(548)]===0)return;h=2;break}const A=this[r(523)](u,h);if(A===c)return;if(f&&(A-c)/2!==u.length/h){let I=c/2;f=f.filter((_,y)=>{const E=l[(I+y)*2]===u[y*h]&&l[(I+y)*2+1]===u[y*h+1];return!E&&--I,E})}this[r(518)](),(o[r(488)]||o[r(500)])&&(this.setFillStrokeStyle(o.backgroundFill,o[r(500)]),o[r(488)]&&this[r(524)](this.state,this.createFill),o.backgroundStroke&&(this[r(485)](this[r(530)],this.applyStroke),this[r(461)].push(this[r(554)](this[r(530)])))),this.beginGeometry(e,t,n);let g=o.padding;if(g!=c0&&(o[r(519)][0]<0||o[r(519)][1]<0)){let I=o[r(547)][0],_=o[r(547)][1],y=o[r(547)][2],E=o[r(547)][3];o.scale[0]<0&&(_=-_,E=-E),o[r(519)][1]<0&&(I=-I,y=-y),g=[I,_,y,E]}const d=this[r(551)];this.instructions[r(536)]([He[r(566)],c,A,null,NaN,NaN,NaN,1,0,0,this[r(550)],this[r(564)],[1,1],NaN,this[r(558)],this[r(521)],g==c0?c0:g.map(function(I){return I*d}),!!o.backgroundFill,!!o[r(500)],this.text_,this[r(460)],this[r(486)],this.fillKey_,this[r(559)],this[r(532)],f]);const p=1/d,m=this[r(530)][r(539)];o[r(488)]&&(this[r(530)].fillStyle=Oi,this[r(461)][r(536)](this.createFill(this.state))),this[r(461)].push([He.DRAW_IMAGE,c,A,null,NaN,NaN,NaN,1,0,0,this[r(550)],this[r(564)],[p,p],NaN,this.declutterMode_,this[r(521)],g,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this[r(460)],this.strokeKey_,this[r(542)]?Oi:this.fillKey_,this.textOffsetX_,this[r(532)],f]),o[r(488)]&&(this[r(530)][r(539)]=m,this[r(461)][r(536)](this[r(489)](this.state))),this[r(465)](t)}}[Ms(518)](){const e=Ms,t=this[e(499)],n=this[e(490)],r=this.textFillState_,s=this[e(486)];t&&!(s in this[e(491)])&&(this[e(491)][s]={strokeStyle:t.strokeStyle,lineCap:t[e(473)],lineDashOffset:t.lineDashOffset,lineWidth:t[e(475)],lineJoin:t[e(543)],miterLimit:t[e(495)],lineDash:t[e(516)]});const a=this.textKey_;!(a in this[e(533)])&&(this[e(533)][a]={font:n[e(549)],textAlign:n[e(534)]||Cu,justify:n[e(556)],textBaseline:n[e(471)]||Md,scale:n[e(519)]});const o=this[e(542)];r&&!(o in this[e(509)])&&(this[e(509)][o]={fillStyle:r[e(539)]})}[Ms(561)](e,t){const n=Ms,r=this.textStrokeState_,s=this.textState_,a=this[n(486)],o=this[n(460)],l=this.fillKey_;this[n(518)]();const c=this[n(551)],x=Ip[s[n(471)]],u=this.textOffsetY_*c,h=this[n(483)],f=r?r[n(475)]*Math[n(496)](s[n(519)][0])/2:0;this[n(538)][n(536)]([He.DRAW_CHARS,e,t,x,s[n(544)],l,s[n(482)],c,u,a,f*c,h,o,1,this[n(558)]]),this.hitDetectionInstructions[n(536)]([He[n(555)],e,t,x,s.overflow,l&&Oi,s.maxAngle,c,u,a,f*c,h,o,1/c,this[n(558)]])}[Ms(484)](e,t){const n=Ms;let r,s,a;if(!e)this[n(483)]="";else{const o=e[n(462)]();o?(s=this[n(487)],!s&&(s={},this[n(487)]=s),s[n(539)]=Cs(o.getColor()||Oi)):(s=null,this[n(487)]=s);const l=e.getStroke();if(!l)a=null,this[n(499)]=a;else{a=this[n(499)],!a&&(a={},this[n(499)]=a);const g=l[n(511)](),d=l[n(472)](),p=l[n(477)](),m=l.getMiterLimit();a[n(473)]=l[n(464)]()||Bc,a.lineDash=g?g[n(476)]():ta,a[n(468)]=d===void 0?na:d,a.lineJoin=l[n(512)]()||Sc,a[n(475)]=p===void 0?vu:p,a[n(495)]=m===void 0?Eu:m,a[n(526)]=Cs(l.getColor()||yu)}r=this.textState_;const c=e[n(501)]()||uB;hB(c);const x=e.getScaleArray();r[n(544)]=e[n(545)](),r[n(549)]=c,r[n(482)]=e[n(567)](),r.placement=e[n(479)](),r[n(534)]=e[n(497)](),r[n(553)]=e.getRepeat(),r.justify=e[n(480)](),r[n(471)]=e[n(498)]()||Md,r.backgroundFill=e[n(529)](),r[n(500)]=e[n(562)](),r[n(547)]=e[n(514)]()||c0,r[n(519)]=x===void 0?[1,1]:x;const u=e[n(478)](),h=e.getOffsetY(),f=e.getRotateWithView(),A=e[n(528)]();this[n(483)]=e[n(520)]()||"",this[n(559)]=u===void 0?0:u,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=f===void 0?!1:f,this[n(564)]=A===void 0?0:A,this[n(486)]=a?(typeof a[n(526)]==n(531)?a.strokeStyle:et(a[n(526)]))+a.lineCap+a[n(468)]+"|"+a[n(475)]+a.lineJoin+a[n(495)]+"["+a[n(516)][n(494)]()+"]":"",this[n(460)]=r[n(549)]+r[n(519)]+(r.textAlign||"?")+(r[n(553)]||"?")+(r[n(556)]||"?")+(r.textBaseline||"?"),this[n(542)]=s&&s[n(539)]?typeof s[n(539)]==n(531)?s.fillStyle:"|"+et(s[n(539)]):""}this[n(558)]=e[n(507)](),this.declutterImageWithText_=t}}function Xc(i,e){const t=Ep();return Xc=function(n,r){return n=n-162,t[n]},Xc(i,e)}const C5=Xc;(function(i,e){const t=Xc,n=i();for(;;)try{if(parseInt(t(166))/1+parseInt(t(165))/2+-parseInt(t(173))/3*(parseInt(t(162))/4)+parseInt(t(170))/5*(parseInt(t(171))/6)+-parseInt(t(178))/7+parseInt(t(168))/8+-parseInt(t(177))/9*(parseInt(t(164))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ep,639247);function Ep(){const i=["370OXXtbo","26058IENfso","finish","525387mDqVVU","getBuilder","buildersByZIndex_","tolerance_","1224vilyNO","2871785yQsstn","20bYFmrs","pixelRatio_","32990BjxeqI","2344684LfEEVk","202470DVBwBp","resolution_","5420936jvgwsg","maxExtent_"];return Ep=function(){return i},Ep()}const rF={Circle:y5,Default:oh,Image:$9,LineString:eF,Polygon:y5,Text:iF};class b5{constructor(e,t,n,r){const s=Xc;this[s(176)]=e,this[s(169)]=t,this[s(163)]=r,this[s(167)]=n,this[s(175)]={}}finish(){const e=Xc,t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const r=this.buildersByZIndex_[n];for(const s in r){const a=r[s][e(172)]();t[n][s]=a}}return t}[C5(174)](e,t){const n=C5,r=e!==void 0?e.toString():"0";let s=this[n(175)][r];s===void 0&&(s={},this[n(175)][r]=s);let a=s[t];if(a===void 0){const o=rF[t];a=new o(this[n(176)],this[n(169)],this[n(167)],this[n(163)]),s[t]=a}return a}}function yp(){const i=["push","substring","abs","3BbUzbx","196748NVzXox","510xyWVom","51438CiLkdF","7065omjYba","length","703370rCvugj","2236840CylAin","atan2","replace","sqrt","11ZkSmKL","3041180nINxyG","6577963Vnorsk","12848tjrjnm"];return yp=function(){return i},yp()}(function(i,e){const t=xh,n=i();for(;;)try{if(parseInt(t(354))/1+parseInt(t(359))/2*(-parseInt(t(353))/3)+-parseInt(t(347))/4+-parseInt(t(355))/5*(parseInt(t(356))/6)+parseInt(t(348))/7+-parseInt(t(349))/8*(-parseInt(t(357))/9)+parseInt(t(360))/10*(parseInt(t(346))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(yp,634425);function xh(i,e){const t=yp();return xh=function(n,r){return n=n-345,t[n]},xh(i,e)}function sF(i,e,t,n,r,s,a,o,l,c,x,u){const h=xh;let f=i[e],A=i[e+1],g=0,d=0,p=0,m=0;function I(){const P=xh;g=f,d=A,e+=n,f=i[e],A=i[e+1],m+=p,p=Math[P(345)]((f-g)*(f-g)+(A-d)*(A-d))}do I();while(e<t-n&&m+p<s);let _=p===0?0:(s-m)/p;const y=or(g,f,_),E=or(d,A,_),C=e-n,w=m,b=s+o*l(c,r,x);for(;e<t-n&&m+p<b;)I();_=p===0?0:(b-m)/p;const v=or(g,f,_),B=or(d,A,_);let R;if(u){const P=[y,E,v,B];QB(P,0,4,2,u,P,P),R=P[0]>P[2]}else R=y>v;const T=Math.PI,F=[],M=C+n===e;e=C,p=0,m=w,f=i[e],A=i[e+1];let D;if(M){I(),D=Math[h(361)](A-d,f-g),R&&(D+=D>0?-T:T);const P=(v+y)/2,k=(B+E)/2;return F[0]=[P,k,(b-s)/2,D,r],F}r=r[h(362)](/\n/g," ");for(let P=0,k=r[h(358)];P<k;){I();let V=Math[h(361)](A-d,f-g);if(R&&(V+=V>0?-T:T),D!==void 0){let O=V-D;if(O+=O>T?-2*T:O<-T?2*T:0,Math[h(352)](O)>a)return null}D=V;const Y=P;let U=0;for(;P<k;++P){const O=R?k-P-1:P,ee=o*l(c,r[O],x);if(e+n<t&&m+p<s+U+ee/2)break;U+=ee}if(P===Y)continue;const ne=R?r[h(351)](k-Y,k-P):r[h(351)](Y,P);_=p===0?0:(s+U/2-m)/p;const xe=or(g,f,_),G=or(d,A,_);F[h(350)]([xe,G,U/2,V,ne]),s+=U}return F}(function(i,e){const t=Cp,n=i();for(;;)try{if(-parseInt(t(197))/1*(parseInt(t(206))/2)+parseInt(t(198))/3+parseInt(t(204))/4+parseInt(t(203))/5+parseInt(t(202))/6*(-parseInt(t(200))/7)+parseInt(t(207))/8*(-parseInt(t(199))/9)+parseInt(t(205))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(bp,511105);function v5(i,e,t,n){const r=Cp;let s=i[e],a=i[e+1],o=0;for(let l=e+n;l<t;l+=n){const c=i[l],x=i[l+1];o+=Math[r(201)]((c-s)*(c-s)+(x-a)*(x-a)),s=c,a=x}return o}function Cp(i,e){const t=bp();return Cp=function(n,r){return n=n-197,t[n]},Cp(i,e)}function bp(){const i=["110583GGzsIS","14ueFVgn","sqrt","2871306PTxZse","1394035yBfoTD","3728316UKRgWo","4988740vOSlnw","22TYIwer","88LvGjlL","68350dTFhLT","1936362spYiVQ"];return bp=function(){return i},bp()}function vp(i,e){const t=wp();return vp=function(n,r){return n=n-374,t[n]},vp(i,e)}const kt=vp;(function(i,e){const t=vp,n=i();for(;;)try{if(parseInt(t(397))/1*(parseInt(t(481))/2)+parseInt(t(466))/3+-parseInt(t(474))/4+-parseInt(t(410))/5+-parseInt(t(428))/6+parseInt(t(458))/7+parseInt(t(417))/8*(parseInt(t(381))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(wp,759083);function wp(){const i=["STROKE","geometry","atan2","lineJoin","declutterBox","apply","min","pixelCoordinates_","miterLimit","reduce","lineCap","6360340GfWjcC","test","BEGIN_GEOMETRY","drawLabelWithPointPlacement_","DRAW_IMAGE","textAlign","zIndex","textStates","961758EZTdvd","replayImageOrLabel_","save","start","minY","alignAndScaleFill_","height","resolution","1748104jMdyns","anchorY","replayTextBackground_","justify","labels_","widths_","fill_","6EoeABo","sqrt","setLineDash","center","canvasTransform","calculateImageOrLabelDimensions_","DRAW_CHARS","lineDashOffset","pixelRatio","createLabel","coordinates","moveTo","translate","closePath","textBaseline","4138443eCEnRD","fromCharCode","load","font","hitDetectionInstructions","originX","anchorX","MOVE_TO_LINE_TO","maxY","scale","insert","length","map","collides","middle","floor","45183KIcLut","max","renderedTransform_","round","zIndexContext_","rotate","strokeStates","fill","SET_FILL_STYLE","drawImageH","width","arc","beginPath","631640JhXtbL","end","CIRCLE","coordinateCache_","CUSTOM","none","canvas","8JGVrTQ","fillStyle","executeHitDetection","fillStates","instructions","execute","push","CLOSE_PATH","strokeStyle","feature","left","3012870WoOizY","setStrokeStyle_","declutter","SET_STROKE_STYLE","lineDash","strokeText","lineTo","drawImageX","split","abs","lineWidth","right","overlaps","declutterMode","label","viewRotation_","stroke","isArray","execute_"];return wp=function(){return i},wp()}const Wc=yr(),uo=[],ca=[],la=[],ho=[];function w5(i){return i[3].declutterBox}const B5=new RegExp("["+String[kt(382)](1425)+"-"+String[kt(382)](2303)+String[kt(382)](64285)+"-"+String[kt(382)](65023)+String[kt(382)](65136)+"-"+String[kt(382)](65276)+"--"+String[kt(382)](126975)+"]");function py(i,e){const t=kt;return e===t(469)?e=B5.test(i)?t(439):t(427):e===t(411)&&(e=B5[t(459)](i)?t(427):"right"),Ip[e]}function aF(i,e,t){const n=kt;return t>0&&i[n(423)](`
`,""),i[n(423)](e,""),i}class oF{constructor(e,t,n,r,s){const a=kt;this[a(440)]=n,this.pixelRatio=t,this[a(473)]=e,this.alignAndScaleFill_,this.instructions=r[a(421)],this[a(376)]=r.coordinates,this[a(413)]={},this[a(399)]=Gi(),this[a(385)]=r[a(385)],this[a(454)]=null,this[a(443)]=0,this[a(420)]=r[a(420)]||{},this[a(403)]=r[a(403)]||{},this[a(465)]=r[a(465)]||{},this[a(479)]={},this[a(478)]={},this.zIndexContext_=s?new ey:null}getZIndexContext(){return this[kt(401)]}[kt(375)](e,t,n,r){const s=kt,a=e+t+n+r;if(this[s(478)][a])return this[s(478)][a];const o=r?this[s(403)][r]:null,l=n?this.fillStates[n]:null,c=this[s(465)][t],x=this[s(374)],u=[c[s(390)][0]*x,c[s(390)][1]*x],h=c[s(477)]?Ip[c[s(477)]]:py(Array[s(445)](e)?e[0]:e,c[s(463)]||Cu),f=r&&o[s(438)]?o[s(438)]:0,A=Array[s(445)](e)?e:String(e)[s(436)](`
`)[s(456)](aF,[]),{width:g,height:d,widths:p,heights:m,lineWidths:I}=u7(c,A),_=g+f,y=[],E=(_+2)*u[0],C=(d+f)*u[1],w={width:E<0?Math[s(396)](E):Math.ceil(E),height:C<0?Math[s(396)](C):Math.ceil(C),contextInstructions:y};(u[0]!=1||u[1]!=1)&&y.push(s(390),u),r&&(y.push(s(425),o[s(425)]),y.push(s(438),f),y.push(s(457),o[s(457)]),y[s(423)](s(450),o.lineJoin),y[s(423)](s(455),o[s(455)]),y[s(423)](s(483),[o[s(432)]]),y.push(s(488),o[s(488)])),n&&y[s(423)](s(418),l[s(418)]),y[s(423)](s(380),s(395)),y[s(423)](s(463),s(484));const b=.5-h;let v=h*_+b*f;const B=[],R=[];let T=0,F=0,M=0,D=0,P;for(let k=0,V=A[s(392)];k<V;k+=2){const Y=A[k];if(Y===`
`){F+=T,T=0,v=h*_+b*f,++D;continue}const U=A[k+1]||c[s(384)];U!==P&&(r&&B[s(423)](s(384),U),n&&R.push(s(384),U),P=U),T=Math[s(398)](T,m[M]);const ne=[Y,v+b*p[M]+h*(p[M]-I[D]),.5*(f+T)+F];v+=p[M],r&&B[s(423)](s(433),ne),n&&R[s(423)]("fillText",ne),++M}return Array.prototype[s(423)][s(452)](y,B),Array.prototype[s(423)][s(452)](y,R),this[s(478)][a]=w,w}replayTextBackground_(e,t,n,r,s,a,o){const l=kt;e[l(409)](),e.moveTo[l(452)](e,t),e.lineTo[l(452)](e,n),e[l(434)][l(452)](e,r),e.lineTo.apply(e,s),e[l(434)].apply(e,t),a&&(this[l(471)]=a[2],this[l(480)](e)),o&&(this[l(429)](e,o),e.stroke())}[kt(486)](e,t,n,r,s,a,o,l,c,x,u,h,f,A,g,d){const p=kt;o*=h[0],l*=h[1];let m=n-o,I=r-l;const _=s+c>e?e-c:s,y=a+x>t?t-x:a,E=A[3]+_*h[0]+A[1],C=A[0]+y*h[1]+A[2],w=m-A[3],b=I-A[0];(g||u!==0)&&(uo[0]=w,ho[0]=w,uo[1]=b,ca[1]=b,ca[0]=w+E,la[0]=ca[0],la[1]=b+C,ho[1]=la[1]);let v;return u!==0?(v=Bs(Gi(),n,r,1,1,u,-n,-r),Vn(v,uo),Vn(v,ca),Vn(v,la),Vn(v,ho),Ws(Math[p(453)](uo[0],ca[0],la[0],ho[0]),Math[p(453)](uo[1],ca[1],la[1],ho[1]),Math[p(398)](uo[0],ca[0],la[0],ho[0]),Math.max(uo[1],ca[1],la[1],ho[1]),Wc)):Ws(Math[p(453)](w,w+E),Math.min(b,b+C),Math[p(398)](w,w+E),Math[p(398)](b,b+C),Wc),f&&(m=Math[p(400)](m),I=Math.round(I)),{drawImageX:m,drawImageY:I,drawImageW:_,drawImageH:y,originX:c,originY:x,declutterBox:{minX:Wc[0],minY:Wc[1],maxX:Wc[2],maxY:Wc[3],value:d},canvasTransform:v,scale:h}}[kt(467)](e,t,n,r,s,a,o){const l=kt,c=!!(a||o),x=r[l(451)],u=o?o[2]*r[l(390)][0]/2:0;return x.minX-u<=t[0]&&x.maxX+u>=0&&x[l(470)]-u<=t[1]&&x[l(389)]+u>=0&&(c&&this[l(476)](e,uo,ca,la,ho,a,o),h7(e,r[l(485)],s,n,r[l(386)],r.originY,r.drawImageW,r[l(406)],r[l(435)],r.drawImageY,r[l(390)])),!0}[kt(480)](e){const t=kt,n=this[t(471)];if(n){const r=Vn(this.renderedTransform_,[0,0]),s=512*this[t(374)];e[t(468)](),e[t(378)](r[0]%s,r[1]%s),n!==1&&e.scale(n,n),e[t(402)](this[t(443)])}e[t(404)](),n&&e.restore()}[kt(429)](e,t){const n=kt;e.strokeStyle=t[1],e[n(438)]=t[2],e[n(457)]=t[3],e[n(450)]=t[4],e[n(455)]=t[5],e[n(488)]=t[7],e.setLineDash(t[6])}[kt(461)](e,t,n,r){const s=kt,a=this[s(465)][t],o=this.createLabel(e,t,r,n),l=this[s(403)][n],c=this[s(374)],x=py(Array[s(445)](e)?e[0]:e,a[s(463)]||Cu),u=Ip[a[s(380)]||Md],h=l&&l[s(438)]?l[s(438)]:0,f=o[s(407)]/c-2*a.scale[0],A=x*f+2*(.5-x)*h,g=u*o.height/c+2*(.5-u)*h;return{label:o,anchorX:A,anchorY:g}}[kt(446)](e,t,n,r,s,a,o,l){const c=kt,x=this[c(401)];let u;this[c(454)]&&$a(n,this[c(399)])?u=this.pixelCoordinates_:(!this.pixelCoordinates_&&(this[c(454)]=[]),u=no(this[c(376)],0,this.coordinates.length,2,n,this[c(454)]),B7(this[c(399)],n));let h=0;const f=r[c(392)];let A=0,g,d,p,m,I,_,y,E,C,w,b,v,B,R=0,T=0,F=null,M=null;const D=this[c(413)],P=this[c(443)],k=Math.round(Math[c(449)](-n[1],n[0])*1e12)/1e12,V={context:e,pixelRatio:this[c(374)],resolution:this[c(473)],rotation:P},Y=this[c(421)]!=r||this[c(440)]?0:200;let U,ne,xe,G;for(;h<f;){const O=r[h];switch(O[0]){case He[c(460)]:U=O[1],G=O[3],U.getGeometry()?o!==void 0&&!wn(o,G.getExtent())?h=O[2]+1:++h:h=O[2],x&&(x[c(464)]=O[4]);break;case He.BEGIN_PATH:R>Y&&(this[c(480)](e),R=0),T>Y&&(e[c(444)](),T=0),!R&&!T&&(e.beginPath(),I=NaN,_=NaN),++h;break;case He[c(412)]:A=O[1];const K=u[A],ce=u[A+1],Ae=u[A+2],ge=u[A+3],oe=Ae-K,Se=ge-ce,At=Math[c(482)](oe*oe+Se*Se);e[c(377)](K+At,ce),e[c(408)](K,ce,At,0,2*Math.PI,!0),++h;break;case He[c(424)]:e[c(379)](),++h;break;case He[c(414)]:A=O[1],g=O[2];const N=O[3],Nt=O[4],ze=O[5];V[c(448)]=N,V[c(426)]=U,!(h in D)&&(D[h]=[]);const Ge=D[h];ze?ze(u,A,g,2,Ge):(Ge[0]=u[A],Ge[1]=u[A+1],Ge[c(392)]=2),x&&(x[c(464)]=O[6]),Nt(Ge,V),++h;break;case He[c(462)]:A=O[1],g=O[2],C=O[3],d=O[4],p=O[5];let Be=O[6];const ke=O[7],Re=O[8],L=O[9],S=O[10];let X=O[11];const se=O[12];let te=O[13];m=O[14]||c(430);const j=O[15];if(!C&&O[c(392)]>=20){w=O[19],b=O[20],v=O[21],B=O[22];const jt=this[c(461)](w,b,v,B);C=jt[c(442)],O[3]=C;const dt=O[23];d=(jt[c(387)]-dt)*this[c(374)],O[4]=d;const _n=O[24];p=(jt[c(475)]-_n)*this[c(374)],O[5]=p,Be=C[c(472)],O[6]=Be,te=C[c(407)],O[13]=te}let Ie;O.length>25&&(Ie=O[25]);let fe,ue,Te;O[c(392)]>17?(fe=O[16],ue=O[17],Te=O[18]):(fe=c0,ue=!1,Te=!1),S&&k?X+=P:!S&&!k&&(X-=P);let le=0;for(;A<g;A+=2){if(Ie&&Ie[le++]<te/this[c(374)])continue;const jt=this[c(486)](C.width,C[c(472)],u[A],u[A+1],te,Be,d,p,Re,L,X,se,s,fe,ue||Te,U),dt=[e,t,C,jt,ke,ue?F:null,Te?M:null];if(l){let _n,Gn,Ui;if(j){const ln=g-A;if(!j[ln]){j[ln]={args:dt,declutterMode:m};continue}const ti=j[ln];_n=ti.args,Gn=ti[c(441)],delete j[ln],Ui=w5(_n)}let Or,fi;if(_n&&(Gn!==c(430)||!l[c(394)](Ui))&&(Or=!0),(m!=="declutter"||!l[c(394)](jt[c(451)]))&&(fi=!0),Gn===c(430)&&m===c(430)){const ln=Or&&fi;Or=ln,fi=ln}Or&&(Gn!=="none"&&l[c(391)](Ui),this[c(467)][c(452)](this,_n)),fi&&(m!==c(415)&&l[c(391)](jt.declutterBox),this[c(467)][c(452)](this,dt))}else this.replayImageOrLabel_[c(452)](this,dt)}++h;break;case He[c(487)]:const me=O[1],Fe=O[2],Ue=O[3],ye=O[4];B=O[5];const Xe=O[6],Qe=O[7],rt=O[8];v=O[9];const z=O[10];w=O[11],b=O[12];const _e=[O[13],O[13]];m=O[14]||c(430);const J=this.textStates[b],re=J.font,we=[J[c(390)][0]*Qe,J[c(390)][1]*Qe];let ve;re in this[c(479)]?ve=this.widths_[re]:(ve={},this[c(479)][re]=ve);const Ke=v5(u,me,Fe,2),un=Math[c(437)](we[0])*AB(re,w,ve);if(ye||un<=Ke){const jt=this[c(465)][b].textAlign,dt=(Ke-un)*py(w,jt),_n=sF(u,me,Fe,2,w,dt,Xe,Math[c(437)](we[0]),AB,re,ve,k?0:this[c(443)]);e:if(_n){const Gn=[];let Ui,Or,fi,ln,ti;if(v)for(Ui=0,Or=_n[c(392)];Ui<Or;++Ui){ti=_n[Ui],fi=ti[4],ln=this[c(375)](fi,b,"",v),d=ti[2]+(we[0]<0?-z:z),p=Ue*ln[c(472)]+(.5-Ue)*2*z*we[1]/we[0]-rt;const Gr=this.calculateImageOrLabelDimensions_(ln[c(407)],ln[c(472)],ti[0],ti[1],ln[c(407)],ln.height,d,p,0,0,ti[3],_e,!1,c0,!1,U);if(l&&m===c(430)&&l[c(394)](Gr.declutterBox))break e;Gn[c(423)]([e,t,ln,Gr,1,null,null])}if(B)for(Ui=0,Or=_n[c(392)];Ui<Or;++Ui){ti=_n[Ui],fi=ti[4],ln=this[c(375)](fi,b,B,""),d=ti[2],p=Ue*ln[c(472)]-rt;const Gr=this[c(486)](ln.width,ln[c(472)],ti[0],ti[1],ln[c(407)],ln[c(472)],d,p,0,0,ti[3],_e,!1,c0,!1,U);if(l&&m===c(430)&&l[c(394)](Gr[c(451)]))break e;Gn[c(423)]([e,t,ln,Gr,1,null,null])}l&&m!=="none"&&l[c(383)](Gn[c(393)](w5));for(let Gr=0,Hx=Gn[c(392)];Gr<Hx;++Gr)this.replayImageOrLabel_[c(452)](this,Gn[Gr])}}++h;break;case He.END_GEOMETRY:if(a!==void 0){U=O[1];const jt=a(U,G,m);if(jt)return jt}++h;break;case He.FILL:Y?R++:this.fill_(e),++h;break;case He[c(388)]:for(A=O[1],g=O[2],ne=u[A],xe=u[A+1],e[c(377)](ne,xe),I=ne+.5|0,_=xe+.5|0,A+=2;A<g;A+=2)ne=u[A],xe=u[A+1],y=ne+.5|0,E=xe+.5|0,(A==g-2||y!==I||E!==_)&&(e[c(434)](ne,xe),I=y,_=E);++h;break;case He[c(405)]:F=O,this[c(471)]=O[2],R&&(this[c(480)](e),R=0,T&&(e[c(444)](),T=0)),e[c(418)]=O[1],++h;break;case He[c(431)]:M=O,T&&(e[c(444)](),T=0),this[c(429)](e,O),++h;break;case He[c(447)]:Y?T++:e[c(444)](),++h;break;default:++h;break}}return R&&this[c(480)](e),T&&e[c(444)](),void 0}[kt(422)](e,t,n,r,s,a){const o=kt;this.viewRotation_=r,this[o(446)](e,t,n,this[o(421)],s,void 0,void 0,a)}[kt(419)](e,t,n,r,s){const a=kt;return this[a(443)]=n,this[a(446)](e,[e[a(416)][a(407)],e[a(416)][a(472)]],t,this[a(385)],!0,r,s)}}const dn=Sp;(function(i,e){const t=Sp,n=i();for(;;)try{if(parseInt(t(463))/1*(parseInt(t(445))/2)+parseInt(t(475))/3+-parseInt(t(481))/4+-parseInt(t(459))/5*(-parseInt(t(480))/6)+-parseInt(t(479))/7+-parseInt(t(469))/8+-parseInt(t(450))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Bp,682721);function Bp(){const i=["1290087BFSmOP","reverse","getClipCoords","createExecutors_","resolution_","isEmpty","Text","renderBuffer_","push","274790epTSwm","save","Circle","renderedContext_","7HayGTl","forEachFeatureAtCoordinate","length","execute","getRenderedContext","executorsByZIndex_","4375056WFFtzo","clear","moveTo","canvas","getContext","renderDeferred","2499216tljsxM","clearRect","toString","width","2572605qdHUmI","30bMskuK","1233000YtEABh","executeHitDetection","keys","Image","height","getZIndexContext","restore","overlaps_","hitDetectionTransform_","lineTo","LineString","round","maxExtent_","Polygon","pixelRatio_","clip","Default","map","268814CXrxzF","deferredZIndexContexts_","includes","sort","hitDetectionContext_"];return Bp=function(){return i},Bp()}function Sp(i,e){const t=Bp();return Sp=function(n,r){return n=n-442,t[n]},Sp(i,e)}const jc=[dn(494),dn(461),dn(491),"Image",dn(456),dn(443)],Mp=[dn(484),dn(456)],cF=jc.filter(i=>!Mp[dn(447)](i));class S5{constructor(e,t,n,r,s,a,o){const l=dn;this[l(493)]=e,this[l(488)]=r,this[l(495)]=n,this[l(454)]=t,this[l(457)]=a,this[l(468)]={},this.hitDetectionContext_=null,this[l(489)]=Gi(),this[l(462)]=null,this[l(446)]={},this[l(453)](s,o)}clip(e,t){const n=dn,r=this[n(452)](t);e.beginPath(),e[n(471)](r[0],r[1]),e[n(490)](r[2],r[3]),e[n(490)](r[4],r[5]),e[n(490)](r[6],r[7]),e[n(442)]()}[dn(453)](e,t){const n=dn;for(const r in e){let s=this[n(468)][r];s===void 0&&(s={},this.executorsByZIndex_[r]=s);const a=e[r];for(const o in a){const l=a[o];s[o]=new oF(this[n(454)],this[n(495)],this[n(488)],l,t)}}}hasExecutors(e){const t=dn;for(const n in this[t(468)]){const r=this.executorsByZIndex_[n];for(let s=0,a=e.length;s<a;++s)if(e[s]in r)return!0}return!1}[dn(464)](e,t,n,r,s,a){const o=dn;r=Math[o(492)](r);const l=r*2+1,c=Bs(this[o(489)],r+.5,r+.5,1/t,-1/t,-n,-e[0],-e[1]),x=!this.hitDetectionContext_;x&&(this[o(449)]=fn(l,l,void 0,{willReadFrequently:!0}));const u=this.hitDetectionContext_;u[o(472)][o(478)]!==l||u[o(472)][o(485)]!==l?(u.canvas.width=l,u[o(472)][o(485)]=l):!x&&u[o(476)](0,0,l,l);let h;this[o(457)]!==void 0&&(h=yr(),tu(h,e),Wa(h,t*(this[o(457)]+r),h));const f=lF(r);let A;function g(E,C,w){const b=o,v=u.getImageData(0,0,l,l).data;for(let B=0,R=f.length;B<R;B++)if(v[f[B]]>0){if(!a||w==="none"||A!==b(484)&&A!=="Text"||a[b(447)](E)){const T=(f[B]-3)/4,F=r-T%l,M=r-(T/l|0),D=s(E,C,F*F+M*M);if(D)return D}u[b(476)](0,0,l,l);break}}const d=Object[o(483)](this[o(468)])[o(444)](Number);d.sort(Is);let p,m,I,_,y;for(p=d.length-1;p>=0;--p){const E=d[p][o(477)]();for(I=this[o(468)][E],m=jc[o(465)]-1;m>=0;--m)if(A=jc[m],_=I[A],_!==void 0&&(y=_[o(482)](u,c,n,g,h),y))return y}}[dn(452)](e){const t=dn,n=this[t(493)];if(!n)return null;const r=n[0],s=n[1],a=n[2],o=n[3],l=[r,s,r,o,a,o,a,s];return no(l,0,8,2,e,l),l}[dn(455)](){return Xa(this.executorsByZIndex_)}execute(e,t,n,r,s,a,o){const l=dn,c=Object[l(483)](this.executorsByZIndex_).map(Number);c[l(448)](Is),a=a||jc;const x=jc[l(465)];let u,h,f,A,g;for(o&&c[l(451)](),u=0,h=c[l(465)];u<h;++u){const d=c[u][l(477)]();for(g=this[l(468)][d],f=0,A=a.length;f<A;++f){const p=a[f],m=g[p];if(m!==void 0){const I=o===null?void 0:m[l(486)](),_=I?I[l(473)]():e,y=this[l(493)]&&p!=="Image"&&p!==l(456);if(y&&(_[l(460)](),this[l(442)](_,n)),!I||p===l(456)||p===l(484)?m[l(466)](_,t,n,r,s,o):I.pushFunction(E=>m[l(466)](E,t,n,r,s,o)),y&&_[l(487)](),I){I.offset();const E=c[u]*x+f;!this.deferredZIndexContexts_[E]&&(this[l(446)][E]=[]),this[l(446)][E][l(458)](I)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}[dn(467)](){return this[dn(462)]}[dn(474)](){const e=dn,t=this[e(446)],n=Object[e(483)](t)[e(444)](Number)[e(448)](Is);for(let r=0,s=n[e(465)];r<s;++r)t[n[r]].forEach(a=>{const o=e;a.draw(this[o(462)]),a[o(470)]()}),t[n[r]][e(465)]=0}}const gy={};function lF(i){const e=dn;if(gy[i]!==void 0)return gy[i];const t=i*2+1,n=i*i,r=new Array(n+1);for(let a=0;a<=i;++a)for(let o=0;o<=i;++o){const l=a*a+o*o;if(l>n)break;let c=r[l];!c&&(c=[],r[l]=c),c[e(458)](((i+a)*t+(i+o))*4+3),a>0&&c[e(458)](((i-a)*t+(i+o))*4+3),o>0&&(c[e(458)](((i+a)*t+(i-o))*4+3),a>0&&c[e(458)](((i-a)*t+(i-o))*4+3))}const s=[];for(let a=0,o=r.length;a<o;++a)r[a]&&s.push(...r[a]);return gy[i]=s,s}function Rp(){const i=["getWidth","miterLimit","getFont","getType","isArray","drawMultiLineString","drawGeometryCollection","viewRotation_","lineJoin","lineDash","context_","sqrt","moveToLineTo_","fillText","31775zOmVvE","getRotation","drawPolygon","textOffsetY_","simplifyTransformed","getImage","232ANtmhG","Polygon","save","getLineDashOffset","getEnds","length","imageOpacity_","strokeText","translate","22528ZMLolR","setTextStyle","imageAnchorX_","fillState_","getText","getSize","getFlatCoordinates","3443175PJWZzQ","imageRotateWithView_","image_","getLineCap","getTextBaseline","getLineDash","MultiPolygon","drawMultiPolygon","scale","contextFillState_","closePath","getColor","restore","getTextAlign","drawText_","font","setContextTextState_","textOffsetX_","textState_","drawImages_","transformRotation_","textScale_","stroke","getFlatInteriorPoint","getRotateWithView","getGeometriesArray","getPixelRatio","162380YAlsOR","getFlatMidpoint","pixelCoordinates_","MultiPoint","textRotateWithView_","setStyle","strokeStyle","imageOriginY_","imageScale_","getOffsetY","globalAlpha","getOrientedFlatCoordinates","668091JRojIA","textRotation_","pixelRatio_","fillStyle","setContextStrokeState_","getAnchor","contextTextState_","getGeometryFunction","getMiterLimit","map","imageAnchorY_","getLineJoin","textBaseline","LineString","squaredTolerance_","getEndss","2028890uTUOvt","drawLineString","lineTo","drawImage","lineDashOffset","imageWidth_","drawCircle","getFlatInteriorPoints","getScaleArray","getOpacity","arc","drawPoint","lineWidth","moveTo","textAlign","atan2","getStroke","Circle","imageOriginX_","strokeState_","imageHeight_","textStrokeState_","fill","transform_","Point","getExtent","getOffsetX","text_","rotate","setTransform","drawRings_","setImageStyle","imageRotation_","extent_","textFillState_","drawFeature","drawGeometry","getStride","beginPath","20XBPjka","userTransform_","drawMultiPoint","contextStrokeState_","getFlatMidpoints","tmpLocalTransform_","getOrigin","setContextFillState_","306354JNphJP","lineCap","28sKzFCq","getFill"];return Rp=function(){return i},Rp()}const ut=Kc;(function(i,e){const t=Kc,n=i();for(;;)try{if(parseInt(t(465))/1+-parseInt(t(351))/2+parseInt(t(477))/3+-parseInt(t(422))/4*(-parseInt(t(416))/5)+-parseInt(t(398))/6*(-parseInt(t(400))/7)+parseInt(t(431))/8+parseInt(t(438))/9*(parseInt(t(390))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Rp,711424);function Kc(i,e){const t=Rp();return Kc=function(n,r){return n=n-339,t[n]},Kc(i,e)}class xF extends E5{constructor(e,t,n,r,s,a,o){const l=Kc;super(),this.context_=e,this[l(479)]=t,this[l(384)]=n,this.transform_=r,this[l(458)]=r?XI(Math[l(366)](r[1],r[0]),10):0,this[l(409)]=s,this.squaredTolerance_=a,this[l(391)]=o,this.contextFillState_=null,this[l(393)]=null,this[l(341)]=null,this[l(434)]=null,this[l(370)]=null,this[l(440)]=null,this.imageAnchorX_=0,this[l(345)]=0,this[l(371)]=0,this[l(428)]=0,this[l(369)]=0,this[l(472)]=0,this[l(439)]=!1,this.imageRotation_=0,this[l(473)]=[0,0],this[l(356)]=0,this[l(378)]="",this[l(455)]=0,this[l(419)]=0,this[l(469)]=!1,this.textRotation_=0,this.textScale_=[0,0],this[l(385)]=null,this[l(372)]=null,this[l(456)]=null,this[l(467)]=[],this[l(395)]=Gi()}drawImages_(e,t,n,r){const s=Kc;if(!this[s(440)])return;const a=no(e,t,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,l=this[s(395)],c=o[s(475)];this.imageOpacity_!=1&&(o.globalAlpha=c*this[s(428)]);let x=this[s(383)];this[s(458)]===0&&(x-=this[s(409)]),this[s(439)]&&(x+=this[s(409)]);for(let u=0,h=a[s(427)];u<h;u+=2){const f=a[u]-this[s(433)],A=a[u+1]-this.imageAnchorY_;if(x!==0||this[s(473)][0]!=1||this[s(473)][1]!=1){const g=f+this.imageAnchorX_,d=A+this.imageAnchorY_;Bs(l,g,d,1,1,x,-g,-d),o[s(424)](),o.transform.apply(o,l),o[s(430)](g,d),o[s(446)](this[s(473)][0],this.imageScale_[1]),o[s(354)](this[s(440)],this[s(369)],this.imageOriginY_,this.imageWidth_,this[s(371)],-this[s(433)],-this[s(345)],this[s(356)],this[s(371)]),o[s(450)]()}else o[s(354)](this[s(440)],this[s(369)],this.imageOriginY_,this[s(356)],this[s(371)],f,A,this[s(356)],this[s(371)])}this[s(428)]!=1&&(o[s(475)]=c)}[ut(452)](e,t,n,r){const s=ut;if(!this[s(456)]||this[s(378)]==="")return;this[s(385)]&&this[s(397)](this.textFillState_),this.textStrokeState_&&this[s(339)](this.textStrokeState_),this.setContextTextState_(this[s(456)]);const a=no(e,t,n,r,this[s(374)],this[s(467)]),o=this.context_;let l=this[s(478)];for(this[s(458)]===0&&(l-=this[s(409)]),this[s(469)]&&(l+=this.viewRotation_);t<n;t+=r){const c=a[t]+this.textOffsetX_,x=a[t+1]+this.textOffsetY_;l!==0||this[s(459)][0]!=1||this[s(459)][1]!=1?(o.save(),o[s(430)](c-this[s(455)],x-this[s(419)]),o[s(379)](l),o[s(430)](this[s(455)],this[s(419)]),o[s(446)](this.textScale_[0],this[s(459)][1]),this[s(372)]&&o[s(429)](this.text_,0,0),this[s(385)]&&o[s(415)](this.text_,0,0),o[s(450)]()):(this[s(372)]&&o.strokeText(this[s(378)],c,x),this[s(385)]&&o.fillText(this[s(378)],c,x))}}[ut(414)](e,t,n,r,s){const a=ut,o=this.context_,l=no(e,t,n,r,this[a(374)],this[a(467)]);o[a(364)](l[0],l[1]);let c=l[a(427)];s&&(c-=2);for(let x=2;x<c;x+=2)o[a(353)](l[x],l[x+1]);return s&&o[a(448)](),n}[ut(381)](e,t,n,r){const s=ut;for(let a=0,o=n[s(427)];a<o;++a)t=this[s(414)](e,t,n[a],r,!0);return t}drawCircle(e){const t=ut;if(this.squaredTolerance_&&(e=e[t(420)](this[t(349)],this[t(391)])),!!wn(this[t(384)],e[t(376)]())){if(this[t(434)]||this.strokeState_){this[t(434)]&&this.setContextFillState_(this.fillState_),this[t(370)]&&this[t(339)](this[t(370)]);const n=Q7(e,this[t(374)],this[t(467)]),r=n[2]-n[0],s=n[3]-n[1],a=Math[t(413)](r*r+s*s),o=this[t(412)];o[t(389)](),o[t(361)](n[0],n[1],a,0,2*Math.PI),this.fillState_&&o[t(373)](),this[t(370)]&&o.stroke()}this.text_!==""&&this[t(452)](e.getCenter(),0,2,2)}}[ut(470)](e){const t=ut;this.setFillStrokeStyle(e.getFill(),e[t(367)]()),this.setImageStyle(e[t(421)]()),this.setTextStyle(e[t(435)]())}[ut(380)](e){const t=ut;this[t(374)]=e}[ut(387)](e){const t=ut;switch(e[t(405)]()){case t(375):this[t(362)](e);break;case t(348):this[t(352)](e);break;case t(423):this[t(418)](e);break;case t(468):this[t(392)](e);break;case"MultiLineString":this[t(407)](e);break;case t(444):this[t(445)](e);break;case"GeometryCollection":this[t(408)](e);break;case t(368):this[t(357)](e);break}}[ut(386)](e,t){const n=ut,r=t[n(342)]()(e);r&&(this[n(470)](t),this[n(387)](r))}[ut(408)](e){const t=ut,n=e[t(463)]();for(let r=0,s=n.length;r<s;++r)this[t(387)](n[r])}drawPoint(e){const t=ut;this.squaredTolerance_&&(e=e[t(420)](this[t(349)],this[t(391)]));const n=e.getFlatCoordinates(),r=e[t(388)]();this[t(440)]&&this[t(457)](n,0,n[t(427)],r),this[t(378)]!==""&&this.drawText_(n,0,n[t(427)],r)}[ut(392)](e){const t=ut;this[t(349)]&&(e=e[t(420)](this[t(349)],this[t(391)]));const n=e[t(437)](),r=e[t(388)]();this[t(440)]&&this[t(457)](n,0,n[t(427)],r),this.text_!==""&&this[t(452)](n,0,n[t(427)],r)}[ut(352)](e){const t=ut;if(this[t(349)]&&(e=e.simplifyTransformed(this.squaredTolerance_,this[t(391)])),!!wn(this.extent_,e[t(376)]())){if(this[t(370)]){this[t(339)](this.strokeState_);const n=this[t(412)],r=e[t(437)]();n[t(389)](),this[t(414)](r,0,r.length,e[t(388)](),!1),n[t(460)]()}if(this[t(378)]!==""){const n=e[t(466)]();this.drawText_(n,0,2,2)}}}[ut(407)](e){const t=ut;this.squaredTolerance_&&(e=e[t(420)](this.squaredTolerance_,this.userTransform_));const n=e[t(376)]();if(wn(this[t(384)],n)){if(this[t(370)]){this[t(339)](this[t(370)]);const r=this.context_,s=e[t(437)]();let a=0;const o=e.getEnds(),l=e[t(388)]();r[t(389)]();for(let c=0,x=o[t(427)];c<x;++c)a=this[t(414)](s,a,o[c],l,!1);r[t(460)]()}if(this[t(378)]!==""){const r=e[t(394)]();this[t(452)](r,0,r.length,2)}}}drawPolygon(e){const t=ut;if(this[t(349)]&&(e=e[t(420)](this.squaredTolerance_,this[t(391)])),!!wn(this.extent_,e[t(376)]())){if(this.strokeState_||this[t(434)]){this[t(434)]&&this.setContextFillState_(this[t(434)]),this[t(370)]&&this[t(339)](this[t(370)]);const n=this[t(412)];n[t(389)](),this[t(381)](e[t(476)](),0,e[t(426)](),e[t(388)]()),this.fillState_&&n[t(373)](),this[t(370)]&&n[t(460)]()}if(this[t(378)]!==""){const n=e[t(461)]();this[t(452)](n,0,2,2)}}}[ut(445)](e){const t=ut;if(this[t(349)]&&(e=e[t(420)](this[t(349)],this[t(391)])),!!wn(this[t(384)],e[t(376)]())){if(this[t(370)]||this[t(434)]){this[t(434)]&&this.setContextFillState_(this[t(434)]),this[t(370)]&&this[t(339)](this[t(370)]);const n=this.context_,r=e.getOrientedFlatCoordinates();let s=0;const a=e[t(350)](),o=e[t(388)]();n.beginPath();for(let l=0,c=a.length;l<c;++l){const x=a[l];s=this.drawRings_(r,s,x,o)}this[t(434)]&&n[t(373)](),this[t(370)]&&n[t(460)]()}if(this.text_!==""){const n=e[t(358)]();this.drawText_(n,0,n[t(427)],2)}}}[ut(397)](e){const t=ut,n=this.context_,r=this[t(447)];r?r[t(480)]!=e[t(480)]&&(r[t(480)]=e.fillStyle,n[t(480)]=e.fillStyle):(n[t(480)]=e[t(480)],this[t(447)]={fillStyle:e[t(480)]})}[ut(339)](e){const t=ut,n=this[t(412)],r=this.contextStrokeState_;r?(r[t(399)]!=e[t(399)]&&(r.lineCap=e[t(399)],n[t(399)]=e.lineCap),!$a(r.lineDash,e[t(411)])&&n.setLineDash(r.lineDash=e[t(411)]),r[t(355)]!=e[t(355)]&&(r[t(355)]=e.lineDashOffset,n.lineDashOffset=e[t(355)]),r.lineJoin!=e[t(410)]&&(r[t(410)]=e[t(410)],n[t(410)]=e[t(410)]),r[t(363)]!=e[t(363)]&&(r.lineWidth=e[t(363)],n[t(363)]=e.lineWidth),r[t(403)]!=e.miterLimit&&(r[t(403)]=e.miterLimit,n[t(403)]=e[t(403)]),r[t(471)]!=e[t(471)]&&(r[t(471)]=e[t(471)],n[t(471)]=e[t(471)])):(n[t(399)]=e.lineCap,n.setLineDash(e[t(411)]),n[t(355)]=e[t(355)],n[t(410)]=e[t(410)],n.lineWidth=e[t(363)],n[t(403)]=e[t(403)],n[t(471)]=e[t(471)],this.contextStrokeState_={lineCap:e[t(399)],lineDash:e[t(411)],lineDashOffset:e[t(355)],lineJoin:e.lineJoin,lineWidth:e[t(363)],miterLimit:e[t(403)],strokeStyle:e[t(471)]})}[ut(454)](e){const t=ut,n=this[t(412)],r=this[t(341)],s=e[t(365)]?e[t(365)]:Cu;r?(r[t(453)]!=e.font&&(r[t(453)]=e[t(453)],n[t(453)]=e[t(453)]),r[t(365)]!=s&&(r.textAlign=s,n.textAlign=s),r[t(347)]!=e[t(347)]&&(r.textBaseline=e[t(347)],n[t(347)]=e[t(347)])):(n[t(453)]=e[t(453)],n[t(365)]=s,n[t(347)]=e[t(347)],this[t(341)]={font:e[t(453)],textAlign:s,textBaseline:e[t(347)]})}setFillStrokeStyle(e,t){const n=ut;if(!e)this[n(434)]=null;else{const r=e[n(449)]();this[n(434)]={fillStyle:Cs(r||Oi)}}if(!t)this[n(370)]=null;else{const r=t[n(449)](),s=t[n(441)](),a=t[n(443)](),o=t[n(425)](),l=t.getLineJoin(),c=t.getWidth(),x=t[n(343)](),u=a||ta;this[n(370)]={lineCap:s!==void 0?s:Bc,lineDash:this.pixelRatio_===1?u:u[n(344)](h=>h*this.pixelRatio_),lineDashOffset:(o||na)*this[n(479)],lineJoin:l!==void 0?l:Sc,lineWidth:(c!==void 0?c:vu)*this[n(479)],miterLimit:x!==void 0?x:Eu,strokeStyle:Cs(r||yu)}}}[ut(382)](e){const t=ut;let n;if(!e||!(n=e[t(436)]())){this[t(440)]=null;return}const r=e[t(464)](this[t(479)]),s=e[t(340)](),a=e[t(396)]();this[t(440)]=e.getImage(this[t(479)]),this.imageAnchorX_=s[0]*r,this[t(345)]=s[1]*r,this[t(371)]=n[1]*r,this[t(428)]=e[t(360)](),this[t(369)]=a[0],this[t(472)]=a[1],this[t(439)]=e[t(462)](),this[t(383)]=e[t(417)]();const o=e[t(359)]();this[t(473)]=[o[0]*this[t(479)]/r,o[1]*this[t(479)]/r],this[t(356)]=n[0]*r}[ut(432)](e){const t=ut;if(!e)this.text_="";else{const n=e[t(401)]();if(!n)this.textFillState_=null;else{const A=n[t(449)]();this[t(385)]={fillStyle:Cs(A||Oi)}}const r=e[t(367)]();if(!r)this[t(372)]=null;else{const A=r[t(449)](),g=r[t(441)](),d=r[t(443)](),p=r[t(425)](),m=r[t(346)](),I=r[t(402)](),_=r[t(343)]();this.textStrokeState_={lineCap:g!==void 0?g:Bc,lineDash:d||ta,lineDashOffset:p||na,lineJoin:m!==void 0?m:Sc,lineWidth:I!==void 0?I:vu,miterLimit:_!==void 0?_:Eu,strokeStyle:Cs(A||yu)}}const s=e[t(404)](),a=e[t(377)](),o=e[t(474)](),l=e[t(462)](),c=e[t(417)](),x=e.getScaleArray(),u=e.getText(),h=e[t(451)](),f=e[t(442)]();this[t(456)]={font:s!==void 0?s:uB,textAlign:h!==void 0?h:Cu,textBaseline:f!==void 0?f:Md},this[t(378)]=u!==void 0?Array[t(406)](u)?u.reduce((A,g,d)=>A+=d%2?" ":g,""):u:"",this[t(455)]=a!==void 0?this[t(479)]*a:0,this[t(419)]=o!==void 0?this[t(479)]*o:0,this.textRotateWithView_=l!==void 0?l:!1,this[t(478)]=c!==void 0?c:0,this[t(459)]=[this[t(479)]*x[0],this.pixelRatio_*x[1]]}}}(function(i,e){const t=uh,n=i();for(;;)try{if(parseInt(t(416))/1*(-parseInt(t(393))/2)+-parseInt(t(383))/3*(parseInt(t(398))/4)+-parseInt(t(385))/5*(parseInt(t(395))/6)+parseInt(t(409))/7+-parseInt(t(384))/8+-parseInt(t(405))/9+parseInt(t(369))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Tp,845355);function Tp(){const i=["28149140GCyQgY","fillStyle","isArray","length","Multi","getImageData","pixels","keys","width","getStroke","toString","round","getGeometriesArrayRecursive","height","169647oTYRcG","559920FYUsXa","5jrzPiX","canvas","floor","setText","getFill","getGeometryFunction","setTransform","getType","22Csbmte","getStyleFunction","9446970GqbvBm","Circle","map","8LhnSNF","getExtent","replace","Point","data","Polygon","padStart","10830330xOhVSW","fillRect","drawGeometry","sort","9153200xvUlSK","getAnchor","getRotation","getRotateWithView","getImageSize","push","setColor","28746xlizsb","imageSmoothingEnabled","getSize","LineString","getZIndex"];return Tp=function(){return i},Tp()}function uh(i,e){const t=Tp();return uh=function(n,r){return n=n-366,t[n]},uh(i,e)}const hr=.5;function M5(i,e,t,n,r,s,a,o,l){const c=uh,x=l?iE(r):r,u=i[0]*hr,h=i[1]*hr,f=fn(u,h);f[c(417)]=!1;const A=f[c(386)],g=new xF(f,hr,r,null,a,o,l?iu(kQ(),l):null),d=t.length,p=Math[c(387)]((256*256*256-1)/d),m={};for(let _=1;_<=d;++_){const y=t[_-1],E=y[c(394)]()||n;if(!E)continue;let C=E(y,s);if(!C)continue;!Array[c(371)](C)&&(C=[C]);const w=_*p,b=w[c(379)](16)[c(404)](7,"#00000");for(let v=0,B=C.length;v<B;++v){const R=C[v],T=R[c(390)]()(y);if(!T||!wn(x,T[c(399)]()))continue;const F=R.clone(),M=F[c(389)]();M&&M.setColor(b);const D=F[c(378)]();D&&(D[c(415)](b),D.setLineDash(null)),F[c(388)](void 0);const P=R.getImage();if(P){const U=P[c(413)]();if(!U)continue;const ne=fn(U[0],U[1],void 0,{alpha:!1}),xe=ne[c(386)];ne[c(370)]=b,ne[c(406)](0,0,xe[c(377)],xe[c(382)]),F.setImage(new I0({img:xe,anchor:P[c(410)](),anchorXUnits:c(375),anchorYUnits:c(375),offset:P.getOrigin(),opacity:1,size:P[c(366)](),scale:P.getScale(),rotation:P[c(411)](),rotateWithView:P[c(412)]()}))}const k=F[c(368)]()||0;let V=m[k];!V&&(V={},m[k]=V,V[c(403)]=[],V[c(396)]=[],V[c(367)]=[],V[c(401)]=[]);const Y=T.getType();if(Y==="GeometryCollection"){const U=T[c(381)]();for(let ne=0,xe=U[c(372)];ne<xe;++ne){const G=U[ne];V[G[c(392)]()[c(400)](c(373),"")][c(414)](G,F)}}else V[Y[c(400)]("Multi","")][c(414)](T,F)}}const I=Object[c(376)](m)[c(397)](Number)[c(408)](Is);for(let _=0,y=I[c(372)];_<y;++_){const E=m[I[_]];for(const C in E){const w=E[C];for(let b=0,v=w[c(372)];b<v;b+=2){g.setStyle(w[b+1]);for(let B=0,R=e[c(372)];B<R;++B)g[c(391)](e[B]),g[c(407)](w[b])}}}return f[c(374)](0,0,A[c(377)],A[c(382)])}function R5(i,e,t){const n=uh,r=[];if(t){const s=Math[n(387)](Math[n(380)](i[0])*hr),a=Math[n(387)](Math[n(380)](i[1])*hr),o=(Bn(s,0,t[n(377)]-1)+Bn(a,0,t[n(382)]-1)*t[n(377)])*4,l=t[n(402)][o],c=t[n(402)][o+1],x=t[n(402)][o+2],u=x+256*(c+256*l),h=Math[n(387)]((256*256*256-1)/e.length);u&&u%h===0&&r.push(e[u/h-1])}return r}(function(i,e){const t=Yi,n=i();for(;;)try{if(parseInt(t(490))/1*(parseInt(t(522))/2)+-parseInt(t(520))/3*(-parseInt(t(513))/4)+-parseInt(t(518))/5+parseInt(t(502))/6*(-parseInt(t(527))/7)+-parseInt(t(521))/8+parseInt(t(531))/9+parseInt(t(509))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qp,474629);const uF=.5,T5={Point:_F,LineString:pF,Polygon:EF,MultiPoint:IF,MultiLineString:gF,MultiPolygon:mF,GeometryCollection:dF,Circle:fF};function hF(i,e){return parseInt(et(i),10)-parseInt(et(e),10)}function my(i,e){const t=D5(i,e);return t*t}function D5(i,e){return uF*i/e}function fF(i,e,t,n,r){const s=Yi,a=t[s(486)](),o=t[s(503)]();if(a||o){const c=i.getBuilder(t[s(525)](),s(494));c[s(519)](a,o),c[s(506)](e,n,r)}const l=t[s(496)]();if(l&&l.getText()){const c=i[s(517)](t[s(525)](),s(505));c[s(488)](l),c.drawText(e,n)}}function Dp(i,e,t,n,r,s,a,o){const l=Yi,c=[],x=t.getImage();if(x){let f=!0;const A=x.getImageState();A==Pe[l(501)]||A==Pe.ERROR?f=!1:A==Pe[l(491)]&&x[l(497)](),f&&c[l(487)](x[l(515)]())}const u=t[l(486)]();u&&u.loading()&&c.push(u[l(515)]());const h=c[l(498)]>0;return h&&Promise[l(495)](c)[l(489)](()=>r(null)),AF(i,e,t,n,s,a,o),h}function AF(i,e,t,n,r,s,a){const o=Yi,l=t[o(507)]()(e);if(!l)return;const c=l[o(493)](n,r);if(t.getRenderer())Q5(i,c,t,e,a);else{const u=T5[c[o(523)]()];u(i,c,t,e,a,s)}}function Q5(i,e,t,n,r){const s=Yi;if(e.getType()=="GeometryCollection"){const o=e.getGeometries();for(let l=0,c=o.length;l<c;++l)Q5(i,o[l],t,n,r);return}i[s(517)](t[s(525)](),s(524))[s(508)](e,n,t[s(511)](),t[s(530)](),r)}function dF(i,e,t,n,r,s){const a=Yi,o=e[a(516)]();let l,c;for(l=0,c=o[a(498)];l<c;++l){const x=T5[o[l][a(523)]()];x(i,o[l],t,n,r,s)}}function Yi(i,e){const t=Qp();return Yi=function(n,r){return n=n-486,t[n]},Yi(i,e)}function pF(i,e,t,n,r){const s=Yi,a=t[s(503)]();if(a){const l=i[s(517)](t[s(525)](),"LineString");l[s(519)](null,a),l.drawLineString(e,n,r)}const o=t.getText();if(o&&o[s(496)]()){const l=i[s(517)](t.getZIndex(),s(505));l[s(488)](o),l.drawText(e,n,r)}}function gF(i,e,t,n,r){const s=Yi,a=t[s(503)]();if(a){const l=i.getBuilder(t[s(525)](),"LineString");l[s(519)](null,a),l[s(528)](e,n,r)}const o=t.getText();if(o&&o[s(496)]()){const l=i[s(517)](t.getZIndex(),s(505));l[s(488)](o),l[s(529)](e,n,r)}}function mF(i,e,t,n,r){const s=Yi,a=t.getFill(),o=t.getStroke();if(o||a){const c=i[s(517)](t[s(525)](),s(514));c[s(519)](a,o),c[s(510)](e,n,r)}const l=t[s(496)]();if(l&&l[s(496)]()){const c=i[s(517)](t[s(525)](),"Text");c[s(488)](l),c[s(529)](e,n,r)}}function _F(i,e,t,n,r,s){const a=Yi,o=t.getImage(),l=t[a(496)](),c=l&&l[a(496)](),x=s&&o&&c?{}:void 0;if(o){if(o[a(512)]()!=Pe[a(501)])return;const u=i[a(517)](t[a(525)](),a(504));u[a(492)](o,x),u[a(500)](e,n,r)}if(c){const u=i[a(517)](t[a(525)](),a(505));u[a(488)](l,x),u[a(529)](e,n,r)}}function IF(i,e,t,n,r,s){const a=Yi,o=t.getImage(),l=o&&o[a(526)]()!==0,c=t[a(496)](),x=c&&c[a(496)](),u=s&&l&&x?{}:void 0;if(l){if(o[a(512)]()!=Pe[a(501)])return;const h=i.getBuilder(t.getZIndex(),a(504));h[a(492)](o,u),h.drawMultiPoint(e,n,r)}if(x){const h=i[a(517)](t[a(525)](),a(505));h[a(488)](c,u),h.drawText(e,n,r)}}function EF(i,e,t,n,r){const s=Yi,a=t.getFill(),o=t[s(503)]();if(a||o){const c=i[s(517)](t.getZIndex(),s(514));c[s(519)](a,o),c[s(499)](e,n,r)}const l=t[s(496)]();if(l&&l[s(496)]()){const c=i[s(517)](t[s(525)](),s(505));c[s(488)](l),c[s(529)](e,n,r)}}function Qp(){const i=["3698109KYjcJA","getFill","push","setTextStyle","then","9059oDAlWO","IDLE","setImageStyle","simplifyTransformed","Circle","all","getText","load","length","drawPolygon","drawPoint","LOADED","2521290TIfIzz","getStroke","Image","Text","drawCircle","getGeometryFunction","drawCustom","13548380uNIXIA","drawMultiPolygon","getRenderer","getImageState","4VwMUYQ","Polygon","ready","getGeometriesArray","getBuilder","3409260GWmYRi","setFillStrokeStyle","1823739GwHVNo","3666176ugvvZq","18QbveUi","getType","Default","getZIndex","getOpacity","14CwcKcr","drawMultiLineString","drawText","getHitDetectionRenderer"];return Qp=function(){return i},Qp()}const Qn=Jc;(function(i,e){const t=Jc,n=i();for(;;)try{if(parseInt(t(318))/1+-parseInt(t(321))/2+parseInt(t(381))/3*(parseInt(t(289))/4)+-parseInt(t(335))/5*(parseInt(t(300))/6)+parseInt(t(322))/7*(-parseInt(t(356))/8)+parseInt(t(334))/9*(-parseInt(t(327))/10)+parseInt(t(369))/11*(parseInt(t(382))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Fp,492181);function Fp(){const i=["renderedFrameDeclutter_","pixelRatio","layerIndex","renderedFeatures_","canWrapX","sort","hasListener","clipUnrotated","POSTRENDER","218298drANkQ","13870812RclARS","renderDeferred","clipped_","getStyleFunction","renderedExtent_","getUpdateWhileInteracting","getExtent","renderedResolution_","opacity_","frameState","setDrawContext_","renderIfReadyAndVisible","renderFrame","28DMGPZZ","width","splice","getSource","boundHandleStyleImageChange_","round","canvas","renderWorlds","height","isArray","preRender","47346CqGtFr","targetContext_","extent","animatingOrInteracting_","wrappedRenderedExtent_","globalAlpha","prepareFrame","slice","map","loadFeatures","renderedProjection_","replayGroup_","push","renderDeferredInternal","forEachFeatureAtCoordinate","viewState","renderedPixelRatio_","getUpdateWhileAnimating","121910PgxKhP","lastIndexOf","context","1099548sxQqUz","3339bElKPn","PRERENDER","distanceSq","renderedRotation_","value","305390ETobWz","execute","rotation","renderFeature","getRenderOrder","projection","hitDetectionImageData_","189FOtkyc","185FzHxHQ","geometry","ready","bind","resolution","center","getDeclutter","changed","container","renderDeclutter","restore","getOverlaps","getVisible","viewHints","getRenderTransform","renderedRevision_","renderedCenter_","handleStyleImageChange_","drawImage","clipping","postRender","16232SCHBqC","declutter","ceil","getLayer","opacity","resetDrawContext_","max","INTERACTING","all","ANIMATING","size","length","renderedRenderOrder_","22zhhGLY","finish","replayGroupChanged"];return Fp=function(){return i},Fp()}function Jc(i,e){const t=Fp();return Jc=function(n,r){return n=n-288,t[n]},Jc(i,e)}class yF extends ty{constructor(e){const t=Jc;super(e),this[t(293)]=this.handleStyleImageChange_[t(338)](this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this[t(384)]=!1,this[t(375)]=null,this[t(350)]=-1,this.renderedResolution_=NaN,this[t(386)]=yr(),this[t(304)]=yr(),this.renderedRotation_,this[t(351)]=null,this.renderedProjection_=null,this[t(316)]=1,this[t(368)]=null,this[t(372)],this[t(311)]=null,this[t(371)]=!0,this[t(354)]=!0,this[t(301)]=null,this[t(390)]=1}[Qn(296)](e,t,n){const r=Qn,s=t[r(302)],a=t[r(315)],o=a.center,l=a[r(339)],c=a.projection,x=a[r(329)],u=c[r(388)](),h=this.getLayer()[r(292)](),f=this.getLayer()[r(341)](),A=t[r(373)],g=t[r(348)],d=!(g[An.ANIMATING]||g[An.INTERACTING]),p=this.context,m=Math[r(294)](ht(s)/l*A),I=Math[r(294)](vn(s)/l*A),_=h.getWrapX()&&c[r(376)](),y=_?ht(u):null,E=_?Math[r(358)]((s[2]-u[2])/y)+1:1;let C=_?Math.floor((s[0]-u[0])/y):0;do{let w=this[r(349)](o,l,0,A,m,I,C*y);t[r(357)]&&(w=w.slice(0)),e[r(328)](p,[p[r(295)][r(290)],p[r(295)].height],w,x,d,n===void 0?jc:n?Mp:cF,n?f&&t[r(357)][f]:void 0)}while(++C<E)}[Qn(392)](){const e=Qn;this.opacity_!==1&&(this[e(301)]=this[e(320)],this[e(320)]=fn(this[e(320)][e(295)].width,this.context.canvas[e(297)],JB))}[Qn(361)](){const e=Qn;if(this[e(390)]!==1){const t=this[e(301)][e(305)];this.targetContext_[e(305)]=this[e(390)],this[e(301)][e(353)](this[e(320)][e(295)],0,0),this[e(301)][e(305)]=t,s0(this[e(320)]),JB.push(this.context[e(295)]),this.context=this[e(301)],this[e(301)]=null}}[Qn(344)](e){const t=Qn;!this[t(311)]||!this[t(359)]()[t(341)]()||this[t(296)](this.replayGroup_,e,!0)}[Qn(313)](e){const t=Qn;this.replayGroup_&&(this[t(311)][t(383)](),this[t(384)]&&this.context[t(345)](),this[t(361)]())}[Qn(288)](e,t){const n=Qn,r=e.layerStatesArray[e[n(374)]];this[n(390)]=r[n(360)];const s=e[n(315)];this.prepareContainer(e,t);const a=this[n(320)],o=this[n(311)];let l=o&&!o.isEmpty();if(!l&&!(this[n(359)]()[n(378)](Br[n(323)])||this[n(359)]()[n(378)](Br[n(380)])))return null;if(this.setDrawContext_(),this[n(299)](a,e),s[n(332)],this[n(384)]=!1,l&&r[n(302)]&&this[n(354)]){const c=_s(r[n(302)]);l=wn(c,e[n(302)]),this[n(384)]=l&&!qr(c,e.extent),this.clipped_&&this[n(379)](a,e,c)}return l&&this[n(296)](o,e,this[n(359)]()[n(341)]()?!1:void 0),!e[n(357)]&&this.clipped_&&a.restore(),this[n(355)](a,e),this[n(325)]!==s[n(329)]&&(this[n(325)]=s.rotation,this[n(333)]=null),!e[n(357)]&&this[n(361)](),this[n(343)]}getFeatures(e){return new Promise(t=>{const n=Jc;if(this[n(391)]&&!this[n(333)]&&!this[n(303)]){const r=this[n(391)][n(366)].slice(),s=this[n(351)],a=this.renderedResolution_,o=this[n(325)],l=this[n(310)],c=this[n(304)],x=this[n(359)](),u=[],h=r[0]*hr,f=r[1]*hr;u.push(this[n(349)](s,a,o,hr,h,f,0)[n(307)]());const A=x[n(292)](),g=l[n(388)]();if(A.getWrapX()&&l[n(376)]()&&!qr(g,c)){let d=c[0];const p=ht(g);let m=0,I;for(;d<g[0];)--m,I=p*m,u[n(312)](this[n(349)](s,a,o,hr,h,f,I)[n(307)]()),d+=p;for(m=0,d=c[2];d>g[2];)++m,I=p*m,u[n(312)](this[n(349)](s,a,o,hr,h,f,I)[n(307)]()),d-=p}this[n(333)]=M5(r,u,this[n(375)],x.getStyleFunction(),c,a,o,my(a,this[n(316)]),null)}t(R5(e,this[n(375)],this[n(333)]))})}[Qn(314)](e,t,n,r,s){const a=Qn;if(!this.replayGroup_)return;const o=t[a(315)][a(339)],l=t[a(315)].rotation,c=this[a(359)](),x={},u=function(g,d,p){const m=a,I=et(g),_=x[I];if(_){if(_!==!0&&p<_[m(324)]){if(p===0)return x[I]=!0,s[m(291)](s[m(319)](_),1),r(g,c,d);_[m(336)]=d,_[m(324)]=p}}else{if(p===0)return x[I]=!0,r(g,c,d);s[m(312)](x[I]={feature:g,layer:c,geometry:d,distanceSq:p,callback:r})}};let h;const f=[this[a(311)]],A=this.getLayer()[a(341)]();return f.some(g=>{const d=a;return h=g[d(314)](e,o,l,n,u,A&&t[d(357)][A]?t.declutter[A][d(364)]()[d(308)](p=>p[d(326)]):null)}),h}handleFontsChanged(){const e=Qn,t=this.getLayer();t[e(347)]()&&this.replayGroup_&&t[e(342)]()}[Qn(352)](e){this[Qn(393)]()}[Qn(306)](e){const t=Qn,n=this.getLayer(),r=n[t(292)]();if(!r)return!1;const s=e[t(348)][An[t(365)]],a=e[t(348)][An[t(363)]],o=n[t(317)](),l=n[t(387)]();if(this.ready&&!o&&s||!l&&a)return this[t(303)]=!0,!0;this[t(303)]=!1;const c=e[t(302)],x=e.viewState,u=x[t(332)],h=x[t(339)],f=e[t(373)],A=n.getRevision(),g=n.getRenderBuffer();let d=n[t(331)]();d===void 0&&(d=hF);const p=x[t(340)][t(307)](),m=Wa(c,g*h),I=m[t(307)](),_=[m[t(307)]()],y=u[t(388)]();if(r.getWrapX()&&u[t(376)]()&&!qr(y,e[t(302)])){const M=ht(y),D=Math[t(362)](ht(m)/2,M);m[0]=y[0]-D,m[2]=y[2]+D,jI(p,u);const P=Uw(_[0],u);P[0]<y[0]&&P[2]<y[2]?_[t(312)]([P[0]+M,P[1],P[2]+M,P[3]]):P[0]>y[0]&&P[2]>y[2]&&_[t(312)]([P[0]-M,P[1],P[2]-M,P[3]])}if(this[t(337)]&&this.renderedResolution_==h&&this[t(350)]==A&&this[t(368)]==d&&this[t(372)]===!!e.declutter&&qr(this[t(304)],m))return!$a(this[t(386)],I)&&(this[t(333)]=null,this[t(386)]=I),this[t(351)]=p,this[t(371)]=!1,!0;this[t(311)]=null;const E=new b5(D5(h,f),m,h,f);let C;for(let M=0,D=_[t(367)];M<D;++M)r[t(309)](_[M],h,u);const w=my(h,f);let b=!0;const v=(M,D)=>{const P=t;let k;const V=M[P(385)]()||n[P(385)]();if(V&&(k=V(M,h)),k){const Y=this[P(330)](M,w,k,E,C,this[P(359)]()[P(341)](),D);b=b&&!Y}},B=iE(m),R=r.getFeaturesInExtent(B);d&&R[t(377)](d);for(let M=0,D=R[t(367)];M<D;++M)v(R[M],M);this[t(375)]=R,this.ready=b;const T=E[t(370)](),F=new S5(m,h,f,r[t(346)](),T,n.getRenderBuffer(),!!e[t(357)]);return this[t(389)]=h,this[t(350)]=A,this.renderedRenderOrder_=d,this.renderedFrameDeclutter_=!!e[t(357)],this[t(386)]=I,this[t(304)]=m,this[t(351)]=p,this[t(310)]=u,this[t(316)]=f,this.replayGroup_=F,this[t(333)]=null,this[t(371)]=!0,!0}[Qn(330)](e,t,n,r,s,a,o){const l=Qn;if(!n)return!1;let c=!1;if(Array[l(298)](n))for(let x=0,u=n.length;x<u;++x)c=Dp(r,e,n[x],t,this.boundHandleStyleImageChange_,s,a,o)||c;else c=Dp(r,e,n,t,this[l(293)],s,a,o);return c}}function Lp(){var i=["483452OwRSVR","25poegcW","1015764GdXNGs","createRenderer","3612042ZHFzBh","195770bDNWQN","699546DtMlQF","120510GQOerj","580JvPtUW","11MUAfIG","8tWOnXH","6BrFcdp","1974280wWWiMt"];return Lp=function(){return i},Lp()}var CF=Pp;(function(i,e){for(var t=Pp,n=i();;)try{var r=-parseInt(t(242))/1+parseInt(t(237))/2*(parseInt(t(235))/3)+-parseInt(t(236))/4+-parseInt(t(238))/5*(parseInt(t(243))/6)+parseInt(t(241))/7*(parseInt(t(247))/8)+-parseInt(t(244))/9*(-parseInt(t(245))/10)+parseInt(t(246))/11*(-parseInt(t(239))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Lp,419136);function Pp(i,e){var t=Lp();return Pp=function(n,r){n=n-235;var s=t[n];return s},Pp(i,e)}class Zc extends fy{constructor(e){super(e)}[CF(240)](){return new yF(this)}}function F5(i,e,t,n,r,s){i.getView().setConstrainResolution(!0);let a=s||80,o=[],l=[],c=[],u=L5(i,e).tifPixelLeftTop,{tifPixelLeftTop:h,tifPiexlWidth:f,tifPiexHeight:A}=L5(i,t),g=(h[0]-u[0])%a,d=(h[1]-u[1])%a;h[0]+f/2,h[1]+A/2,Ic(i,[e[0],e[1]])[1]<-90&&i.getPixelFromCoordinate([e[0],-90])[1],Ic(i,[e[2],e[3]])[1]>90&&(e[3]=90,i.getPixelFromCoordinate([e[0],90])[1]);let p=_y(i,[e[0],e[1]]),m=_y(i,[e[2],e[3]]);p[0],p[1],m[0],m[1];for(let I=g;I<n;I=I+a)for(let _=d;_<r;_=_+a){let y=i.getCoordinateFromPixel([I,_]),E=Ic(i,y);E[0]>-180?c.push(parseInt((E[0]+180)/360)):E[0]<=-180&&(parseInt((E[0]-180)/360)==0,c.push(parseInt((E[0]-180)/360)));let C=_y(i,y);if(C[0]>=t[0]&&C[1]>=t[1]&&C[0]<=t[2]&&C[1]<=t[3]){o.push([I,_]);let w=i.getPixelFromCoordinate([C[0],C[1]]);l.push(w)}}return[o,l,c]}function _y(i,e){let t=Ic(i,e),n=[t[0],t[1]];return t[0]<=-180&&(n[0]=t[0]%360,n[0]<=-180&&(n[0]=n[0]+360)),t[0]>=180&&(n[0]=n[0]%360,n[0]>=180&&(n[0]=n[0]-360)),OQ(i,n)}function L5(i,e){let t=i.getPixelFromCoordinate([e[0],e[1]]),n=i.getPixelFromCoordinate([e[2],e[3]]),r=Math.abs(t[0]-n[0]),s=Math.abs(t[1]-n[1]);return{tifPixelLeftTop:i.getPixelFromCoordinate([e[0],e[3]]),tifPiexlWidth:r,tifPiexHeight:s}}const Yt=$c;function kp(){const i=["entries_","24avIVEZ","691360dNUJOY","forEach","get","expireCache","hasOwnProperty","peekLast","getKeys","peekLastKey","containsKey","Tried to get a value for a key that does not exist in the cache","164224UWNSot","canExpireCache","count_","pop","value_","newest_","93816tNBayK","7KtYkIX","peek","newer","older","1136890FdEEOp","Tried to set a value for a key that is used already","replace","getCount","516928jXngqR","1142334SLBkaA","key_","peekFirstKey","highWaterMark","oldest_","186jdSxas","73195PFTAhW"];return kp=function(){return i},kp()}(function(i,e){const t=$c,n=i();for(;;)try{if(parseInt(t(507))/1+parseInt(t(517))/2+parseInt(t(516))/3*(parseInt(t(492))/4)+parseInt(t(514))/5*(-parseInt(t(513))/6)+-parseInt(t(499))/7*(-parseInt(t(498))/8)+-parseInt(t(508))/9+-parseInt(t(503))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(kp,508359);class P5{constructor(e){const t=$c;this[t(511)]=e!==void 0?e:2048,this[t(494)]=0,this[t(515)]={},this[t(512)]=null,this.newest_=null}canExpireCache(){const e=$c;return this[e(511)]>0&&this[e(506)]()>this.highWaterMark}[Yt(520)](e){const t=Yt;for(;this[t(493)]();)this[t(495)]()}clear(){const e=Yt;this.count_=0,this[e(515)]={},this[e(512)]=null,this[e(497)]=null}[Yt(490)](e){const t=Yt;return this[t(515)][t(521)](e)}[Yt(518)](e){const t=Yt;let n=this[t(512)];for(;n;)e(n[t(496)],n[t(509)],this),n=n[t(501)]}[Yt(519)](e,t){const n=Yt,r=this[n(515)][e];return yt(r!==void 0,n(491)),r===this[n(497)]||(r===this.oldest_?(this[n(512)]=this[n(512)][n(501)],this.oldest_.older=null):(r[n(501)][n(502)]=r[n(502)],r[n(502)][n(501)]=r.newer),r[n(501)]=null,r.older=this[n(497)],this[n(497)][n(501)]=r,this[n(497)]=r),r[n(496)]}remove(e){const t=Yt,n=this[t(515)][e];return yt(n!==void 0,t(491)),n===this[t(497)]?(this[t(497)]=n[t(502)],this[t(497)]&&(this[t(497)][t(501)]=null)):n===this[t(512)]?(this[t(512)]=n.newer,this[t(512)]&&(this[t(512)][t(502)]=null)):(n[t(501)][t(502)]=n[t(502)],n[t(502)][t(501)]=n[t(501)]),delete this[t(515)][e],--this[t(494)],n[t(496)]}[Yt(506)](){return this[Yt(494)]}[Yt(523)](){const e=Yt,t=new Array(this[e(494)]);let n=0,r;for(r=this[e(497)];r;r=r.older)t[n++]=r[e(509)];return t}getValues(){const e=Yt,t=new Array(this.count_);let n=0,r;for(r=this[e(497)];r;r=r[e(502)])t[n++]=r[e(496)];return t}[Yt(522)](){const e=Yt;return this[e(512)][e(496)]}[Yt(489)](){const e=Yt;return this[e(512)][e(509)]}[Yt(510)](){const e=Yt;return this[e(497)][e(509)]}[Yt(500)](e){var n;const t=Yt;return(n=this.entries_[e])==null?void 0:n[t(496)]}[Yt(495)](){const e=Yt,t=this.oldest_;return delete this[e(515)][t.key_],t[e(501)]&&(t.newer[e(502)]=null),this[e(512)]=t[e(501)],!this[e(512)]&&(this.newest_=null),--this.count_,t[e(496)]}[Yt(505)](e,t){const n=Yt;this.get(e),this[n(515)][e][n(496)]=t}set(e,t){const n=Yt;yt(!(e in this[n(515)]),n(504));const r={key_:e,newer:null,older:this[n(497)],value_:t};this[n(497)]?this.newest_[n(501)]=r:this.oldest_=r,this[n(497)]=r,this[n(515)][e]=r,++this[n(494)]}setSize(e){const t=Yt;this[t(511)]=e}}function $c(i,e){const t=kp();return $c=function(n,r){return n=n-489,t[n]},$c(i,e)}function Iy(i,e){var t=Up();return Iy=function(n,r){n=n-451;var s=t[n];return s},Iy(i,e)}function Up(){var i=["5556iOcVEm","42BmerAS","5665693foeNxz","50zczqWc","2015984yORQFr","3tXOJAv","3011176jnYOuH","361584nXPmxf","13339287KKAMOq","3068088pmLPFa","3995nEjEjP"];return Up=function(){return i},Up()}(function(i,e){for(var t=Iy,n=i();;)try{var r=parseInt(t(460))/1+-parseInt(t(451))/2*(-parseInt(t(458))/3)+parseInt(t(459))/4+-parseInt(t(452))/5*(-parseInt(t(453))/6)+-parseInt(t(454))/7*(-parseInt(t(457))/8)+-parseInt(t(461))/9+-parseInt(t(456))/10*(parseInt(t(455))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Up,842826);const de={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},_i=hh;(function(i,e){const t=hh,n=i();for(;;)try{if(-parseInt(t(339))/1*(-parseInt(t(327))/2)+parseInt(t(343))/3*(parseInt(t(336))/4)+-parseInt(t(322))/5+parseInt(t(335))/6+parseInt(t(330))/7*(parseInt(t(345))/8)+-parseInt(t(329))/9*(parseInt(t(334))/10)+-parseInt(t(324))/11*(-parseInt(t(325))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Np,615534);function Np(){const i=["tileCoord","CHANGE","2SzXmaf","changed","transitionStarts_","getKey","22674RzDWAl","inTransition","1983448ksSdAi","interpolate","load","Tile load sequence violation","key","EMPTY","transition_","4834100buKupS","getAlpha","192401uHUXJo","696bVrdfN","setState","263894rcPPvG","getState","5463gzzjcW","7SiUurX","transition","ERROR","state","16740iEzPck","4392354cXroXd","180WZvsDj"];return Np=function(){return i},Np()}function hh(i,e){const t=Np();return hh=function(n,r){return n=n-321,t[n]},hh(i,e)}class fh extends Au{constructor(e,t,n){const r=hh;super(),n=n||{},this.tileCoord=e,this[r(333)]=t,this[r(349)]="",this[r(321)]=n[r(331)]===void 0?250:n[r(331)],this[r(341)]={},this[r(346)]=!!n[r(346)]}[_i(340)](){const e=_i;this.dispatchEvent(Ye[e(338)])}release(){const e=_i;this[e(333)]===de[e(332)]&&this[e(326)](de[e(350)])}[_i(342)](){const e=_i;return this[e(349)]+"/"+this[e(337)]}getTileCoord(){return this[_i(337)]}[_i(328)](){return this[_i(333)]}[_i(326)](e){const t=_i;if(this[t(333)]!==de[t(332)]&&this[t(333)]>e)throw new Error(t(348));this[t(333)]=e,this.changed()}[_i(347)](){je()}[_i(323)](e,t){const n=_i;if(!this[n(321)])return 1;let r=this[n(341)][e];if(!r)r=t,this[n(341)][e]=r;else if(r===-1)return 1;const s=t-r+1e3/60;return s>=this[n(321)]?1:SB(s/this.transition_)}[_i(344)](e){const t=_i;return this[t(321)]?this[t(341)][e]!==-1:!1}endTransition(e){const t=_i;this[t(321)]&&(this[t(341)][e]=-1)}}const Rs=Ah;(function(i,e){const t=Ah,n=i();for(;;)try{if(parseInt(t(323))/1*(parseInt(t(344))/2)+parseInt(t(341))/3+-parseInt(t(324))/4*(-parseInt(t(346))/5)+-parseInt(t(321))/6+parseInt(t(326))/7*(-parseInt(t(331))/8)+parseInt(t(325))/9*(parseInt(t(335))/10)+-parseInt(t(328))/11*(parseInt(t(334))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Op,833260);function Ah(i,e){const t=Op();return Ah=function(n,r){return n=n-319,t[n]},Ah(i,e)}class k5 extends fh{constructor(e,t,n,r,s,a){const o=Ah;super(e,t,a),this.crossOrigin_=r,this.src_=n,this[o(348)]=n,this[o(340)]=new Image,r!==null&&(this[o(340)][o(342)]=r),this.unlisten_=null,this[o(343)]=s}[Rs(350)](){return this.image_}[Rs(349)](e){const t=Rs;this[t(340)]=e,this.state=de[t(338)],this[t(319)](),this[t(327)]()}[Rs(339)](){const e=Rs;this.state=de[e(336)],this[e(319)](),this[e(340)]=bF(),this[e(327)]()}handleImageLoad_(){const e=Rs,t=this[e(340)];t.naturalWidth&&t[e(329)]?this[e(347)]=de[e(338)]:this[e(347)]=de.EMPTY,this[e(319)](),this.changed()}[Rs(337)](){const e=Rs;this[e(347)]==de[e(336)]&&(this[e(347)]=de.IDLE,this.image_=new Image,this[e(351)]!==null&&(this[e(340)][e(342)]=this[e(351)])),this[e(347)]==de[e(320)]&&(this[e(347)]=de.LOADING,this.changed(),this[e(343)](this,this.src_),this[e(333)]=n7(this[e(340)],this[e(345)][e(330)](this),this[e(339)].bind(this)))}unlistenImage_(){const e=Rs;this[e(333)]&&(this[e(333)](),this[e(333)]=null)}}function bF(){const i=Rs,e=fn(1,1);return e.fillStyle=i(332),e[i(322)](0,0,1,1),e.canvas}function Op(){const i=["2VHYQSa","handleImageLoad_","59530ImLaQH","state","key","setImage","getImage","crossOrigin_","unlistenImage_","IDLE","3526170HopnWT","fillRect","1191379kXVthI","148RKENSg","4561731hFuHsq","7917eDEAgM","changed","22nXUBVE","naturalHeight","bind","2936cVOwuy","rgba(0,0,0,0)","unlisten_","4273116YqXiFN","10oNyDBc","ERROR","load","LOADED","handleImageError_","image_","1228374rxHQYK","crossOrigin","tileLoadFunction_"];return Op=function(){return i},Op()}const xa=dh;(function(i,e){const t=dh,n=i();for(;;)try{if(parseInt(t(532))/1+parseInt(t(506))/2*(-parseInt(t(510))/3)+parseInt(t(518))/4+-parseInt(t(519))/5+parseInt(t(493))/6+-parseInt(t(523))/7*(-parseInt(t(530))/8)+parseInt(t(500))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gp,934867);function dh(i,e){const t=Gp();return dh=function(n,r){return n=n-481,t[n]},dh(i,e)}function Gp(){const i=["bind","117rRMfIX","sourceZ_","canvas_","getExtent","length","triangulation_","pixelRatio_","number","1650708AIpOAB","4960680KbldoH","calculateSourceExtent","tileCoord","offset","77HoAjtT","IDLE","unlistenSources_","maxX","interpolate","sourcesListenerKeys_","ERROR","91912xzalzg","sourceTiles_","717127tOzcwU","getState","changed","load","getZForResolution","push","EMPTY","getImage","LOADING","targetTileGrid_","CHANGE","LOADED","minY","wrappedTileCoord_","getTileCoordExtent","getTriangles","state","1341936ZPxzez","sourceTileGrid_","getResolution","release","getTileSize","reproject_","forEach","17379324yHSQNM","maxY","getContext","getTileRangeForExtentAndZ","clipExtent_","gutter_","76096iJnNBD","renderEdges_","canWrapX"];return Gp=function(){return i},Gp()}class U5 extends fh{constructor(e,t,n,r,s,a,o,l,c,x,u,h){const f=dh;super(s,de[f(524)],h),this.renderEdges_=u!==void 0?u:!1,this[f(516)]=o,this.gutter_=l,this[f(512)]=null,this[f(494)]=t,this.targetTileGrid_=r,this[f(489)]=a||s,this[f(531)]=[],this.sourcesListenerKeys_=null,this[f(511)]=0,this[f(504)]=e[f(508)]()?e.getExtent():void 0;const A=r[f(490)](this.wrappedTileCoord_),g=this[f(485)][f(513)]();let d=this[f(494)][f(513)]();const p=g?Mi(A,g):A;if(nu(p)===0){this[f(492)]=de.EMPTY;return}const m=e.getExtent();m&&(d?d=Mi(d,m):d=m);const I=r[f(495)](this[f(489)][0]),_=mB(e,n,p,I);if(!isFinite(_)||_<=0){this[f(492)]=de[f(482)];return}const y=x!==void 0?x:mE;if(this.triangulation_=new _E(e,n,p,d,_*y,I),this[f(515)][f(491)]()[f(514)]===0){this.state=de[f(482)];return}this[f(511)]=t[f(536)](_);let E=this[f(515)][f(520)]();if(d&&(e.canWrapX()?(E[1]=Bn(E[1],d[1],d[3]),E[3]=Bn(E[3],d[1],d[3])):E=Mi(E,d)),!nu(E))this[f(492)]=de.EMPTY;else{let C=0,w=0;e[f(508)]()&&(C=ht(m),w=Math.floor((E[0]-m[0])/C)),YI(E.slice(),e,!0)[f(499)](v=>{const B=f,R=t[B(503)](v,this[B(511)]);for(let T=R.minX;T<=R[B(526)];T++)for(let F=R[B(488)];F<=R[B(501)];F++){const M=c(this[B(511)],T,F,o);if(M){const D=w*C;this[B(531)][B(481)]({tile:M,offset:D})}}++w}),this[f(531)][f(514)]===0&&(this[f(492)]=de[f(482)])}}[xa(483)](){return this.canvas_}[xa(498)](){const e=xa,t=[];if(this.sourceTiles_[e(499)](n=>{var a;const r=e,s=n.tile;if(s&&s[r(533)]()==de[r(487)]){const o=this[r(494)][r(490)](s[r(521)]);o[0]+=n.offset,o[2]+=n[r(522)];const l=(a=this.clipExtent_)==null?void 0:a.slice();l&&(l[0]+=n[r(522)],l[2]+=n[r(522)]),t[r(481)]({extent:o,clipExtent:l,image:s.getImage()})}}),this[e(531)][e(514)]=0,t.length===0)this[e(492)]=de[e(529)];else{const n=this.wrappedTileCoord_[0],r=this[e(485)][e(497)](n),s=typeof r===e(517)?r:r[0],a=typeof r=="number"?r:r[1],o=this[e(485)][e(495)](n),l=this[e(494)][e(495)](this.sourceZ_),c=this[e(485)][e(490)](this[e(489)]);this.canvas_=CE(s,a,this[e(516)],l,this.sourceTileGrid_.getExtent(),o,c,this[e(515)],t,this[e(505)],this[e(507)],this[e(527)]),this[e(492)]=de[e(487)]}this[e(534)]()}[xa(535)](){const e=xa;if(this[e(492)]==de.IDLE){this.state=de[e(484)],this[e(534)]();let t=0;this[e(528)]=[],this.sourceTiles_[e(499)](({tile:n})=>{const r=e,s=n[r(533)]();if(s==de[r(524)]||s==de[r(484)]){t++;const a=mt(n,Ye[r(486)],o=>{const l=r,c=n[l(533)]();(c==de[l(487)]||c==de[l(529)]||c==de.EMPTY)&&(Jt(a),t--,t===0&&(this[l(525)](),this[l(498)]()))});this.sourcesListenerKeys_[r(481)](a)}}),t===0?setTimeout(this[e(498)][e(509)](this),0):this[e(531)].forEach(function({tile:n},r,s){const a=e;n.getState()==de[a(524)]&&n[a(535)]()})}}[xa(525)](){const e=xa;this[e(528)][e(499)](Jt),this[e(528)]=null}[xa(496)](){const e=xa;this.canvas_&&(s0(this[e(512)][e(502)]("2d")),ia[e(481)](this[e(512)]),this.canvas_=null),super[e(496)]()}}function el(i,e){const t=Vp();return el=function(n,r){return n=n-293,t[n]},el(i,e)}(function(i,e){const t=el,n=i();for(;;)try{if(-parseInt(t(305))/1*(-parseInt(t(296))/2)+parseInt(t(307))/3*(-parseInt(t(294))/4)+parseInt(t(297))/5*(parseInt(t(310))/6)+parseInt(t(302))/7*(-parseInt(t(308))/8)+parseInt(t(309))/9+parseInt(t(299))/10+-parseInt(t(293))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vp,205170);function zp(i,e,t,n){return n!==void 0?(n[0]=i,n[1]=e,n[2]=t,n):[i,e,t]}function ph(i,e,t){return i+"/"+e+"/"+t}function Vp(){const i=["63rLTInt","substring","lastIndexOf","1EUIrSd","split","3iWexhI","27256iAVHfi","230049wEHZKh","6pjDCLZ","containsXY","1363945DBEIpt","1306204ZKNJUM","getMinZoom","490522zEHsRn","1695065iyOzTq","map","765440OuSetw","length","getMaxZoom"];return Vp=function(){return i},Vp()}function N5(i){return ph(i[0],i[1],i[2])}function vF(i){const e=el,[t,n,r]=i[e(303)](i[e(304)]("/")+1,i[e(300)])[e(306)](",")[e(298)](Number);return ph(t,n,r)}function wF(i){const e=el;return i.split("/")[e(298)](Number)}function BF(i){return SF(i[0],i[1],i[2])}function SF(i,e,t){return(e<<i)+t}function MF(i,e){const t=el,n=i[0],r=i[1],s=i[2];if(e[t(295)]()>n||n>e[t(301)]())return!1;const a=e.getFullTileRange(n);return a?a[t(311)](r,s):!0}const tl=qp;(function(i,e){const t=qp,n=i();for(;;)try{if(parseInt(t(459))/1*(-parseInt(t(461))/2)+parseInt(t(457))/3+parseInt(t(455))/4+parseInt(t(470))/5*(-parseInt(t(460))/6)+parseInt(t(471))/7*(-parseInt(t(450))/8)+-parseInt(t(466))/9*(parseInt(t(453))/10)+parseInt(t(449))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hp,565808);class Ey extends P5{[tl(454)](){const e=tl;for(;this[e(469)]()>0;)this.pop().release();super[e(454)]()}[tl(464)](e){const t=tl;for(;this[t(456)]()&&!(this[t(468)]()[t(451)]()in e);)this[t(458)]()[t(463)]()}[tl(462)](){const e=tl;if(this[e(469)]()===0)return;const t=this[e(452)](),n=wF(t),r=n[0];this.forEach(s=>{const a=e;s[a(467)][0]!==r&&(this[a(465)](N5(s[a(467)])),s[a(463)]())})}}function Hp(){const i=["getCount","855jkdtMf","5050129THyuOV","13602028RHxinv","8GzqMEO","getKey","peekFirstKey","1250SPjRYu","clear","4497796krbRLB","canExpireCache","168663UXCNCS","pop","23lnOVRZ","27114HmahyL","11486jCQEtR","pruneExceptNewestZ","release","expireCache","remove","16209LxrhbJ","tileCoord","peekLast"];return Hp=function(){return i},Hp()}function qp(i,e){const t=Hp();return qp=function(n,r){return n=n-449,t[n]},qp(i,e)}function Yp(){var i=["2299twfXRs","18rRuAKX","4844488ELjPGn","1370299PUmjnv","1399906epJlsQ","6bTzVMm","5340CksqBR","5317195gIfDAt","3ieXTck","9591057slXFZf","7768120ODcAEG","tileloadend"];return Yp=function(){return i},Yp()}var RF=Xp;function Xp(i,e){var t=Yp();return Xp=function(n,r){n=n-355;var s=t[n];return s},Xp(i,e)}(function(i,e){for(var t=Xp,n=i();;)try{var r=parseInt(t(365))/1+parseInt(t(366))/2*(-parseInt(t(358))/3)+-parseInt(t(364))/4+-parseInt(t(357))/5*(-parseInt(t(355))/6)+-parseInt(t(359))/7+-parseInt(t(360))/8*(-parseInt(t(363))/9)+parseInt(t(356))/10*(-parseInt(t(362))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Yp,982936);const yy={TILELOADSTART:"tileloadstart",TILELOADEND:RF(361),TILELOADERROR:"tileloaderror"};var ri=gh;(function(i,e){for(var t=gh,n=i();;)try{var r=parseInt(t(269))/1+parseInt(t(275))/2*(parseInt(t(262))/3)+-parseInt(t(266))/4*(-parseInt(t(271))/5)+parseInt(t(270))/6+-parseInt(t(267))/7+-parseInt(t(261))/8+-parseInt(t(277))/9;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wp,907551);class Cy{constructor(e,t,n,r){var s=gh;this.minX=e,this.maxX=t,this[s(268)]=n,this[s(274)]=r}[ri(258)](e){var t=ri;return this[t(276)](e[1],e[2])}[ri(260)](e){var t=ri;return this[t(265)]<=e[t(265)]&&e.maxX<=this[t(273)]&&this[t(268)]<=e[t(268)]&&e[t(274)]<=this.maxY}[ri(276)](e,t){var n=ri;return this[n(265)]<=e&&e<=this[n(273)]&&this[n(268)]<=t&&t<=this[n(274)]}[ri(259)](e){var t=ri;return this.minX==e[t(265)]&&this[t(268)]==e[t(268)]&&this.maxX==e.maxX&&this[t(274)]==e.maxY}[ri(272)](e){var t=ri;e[t(265)]<this[t(265)]&&(this[t(265)]=e.minX),e[t(273)]>this[t(273)]&&(this[t(273)]=e[t(273)]),e[t(268)]<this[t(268)]&&(this[t(268)]=e[t(268)]),e.maxY>this.maxY&&(this.maxY=e[t(274)])}[ri(264)](){var e=ri;return this[e(274)]-this[e(268)]+1}getSize(){var e=ri;return[this[e(263)](),this[e(264)]()]}[ri(263)](){var e=ri;return this.maxX-this[e(265)]+1}intersects(e){var t=ri;return this[t(265)]<=e.maxX&&this.maxX>=e[t(265)]&&this[t(268)]<=e[t(274)]&&this[t(274)]>=e[t(268)]}}function gh(i,e){var t=Wp();return gh=function(n,r){n=n-258;var s=t[n];return s},gh(i,e)}function nl(i,e,t,n,r){var s=ri;return r!==void 0?(r[s(265)]=i,r[s(273)]=e,r[s(268)]=t,r[s(274)]=n,r):new Cy(i,e,t,n)}function Wp(){var i=["1680515RygYBu","extend","maxX","maxY","4HjgiIz","containsXY","20507301tnlGPm","contains","equals","containsTileRange","769384trTvVa","895449DBXjom","getWidth","getHeight","minX","12EPEaXf","1962261opETBk","minY","960817rzKDQQ","5979264PLOZqR"];return Wp=function(){return i},Wp()}const Bt=il;(function(i,e){const t=il,n=i();for(;;)try{if(-parseInt(t(447))/1+-parseInt(t(432))/2*(-parseInt(t(424))/3)+-parseInt(t(431))/4*(-parseInt(t(460))/5)+parseInt(t(453))/6+-parseInt(t(461))/7*(-parseInt(t(442))/8)+-parseInt(t(448))/9+parseInt(t(473))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(jp,707663);function il(i,e){const t=jp();return il=function(n,r){return n=n-415,t[n]},il(i,e)}function jp(){const i=["maxY","minY","getTileCoordForXYAndZ_","forEachTileCoordParentTileRange","Either `tileSize` or `tileSizes` must be configured, never both","3pePxtG","tmpExtent_","getFullTileRange","minX","getTileCoordForXYAndResolution_","maxX","getMaxZoom","3432644YRvTGw","339412euLAZz","min","tileSize_","origin","fullTileRanges_","extent","tileSizes","`resolutions` must be sorted in descending order","tmpSize_","getResolutions","8YItbJX","getTileSize","sizes","resolutions","minZoom","1271557bfICDR","5985918TurNAR","max","maxZoom","getOrigin","map","204240TBTmfG","getTileRangeForTileCoordAndZ","pow","length","getTileCoordCenter","origins_","getTileCoordExtent","5TMajEY","2406803UCYaBG","extent_","calculateTileRanges_","getTileRangeForExtentAndZ","resolutions_","Either `origin` or `origins` must be configured, never both","origin_","getZForResolution","floor","tileSize","tileSizes_","getTileCoordResolution","12385860lozTXA","getTileCoordForCoordAndZ","getResolution","zoomFactor_","origins","getTileCoordForCoordAndResolution"];return jp=function(){return i},jp()}const rl=[0,0,0],fo=5;class Kp{constructor(e){const t=il;this.minZoom=e[t(446)]!==void 0?e.minZoom:0,this[t(465)]=e[t(445)],yt(t7(this[t(465)],(s,a)=>a-s,!0),t(439));let n;if(!e[t(417)]){for(let s=0,a=this[t(465)][t(456)]-1;s<a;++s)if(!n)n=this.resolutions_[s]/this.resolutions_[s+1];else if(this[t(465)][s]/this[t(465)][s+1]!==n){n=void 0;break}}this.zoomFactor_=n,this[t(450)]=this[t(465)][t(456)]-1,this[t(467)]=e.origin!==void 0?e[t(435)]:null,this[t(458)]=null,e[t(417)]!==void 0&&(this.origins_=e[t(417)],yt(this.origins_[t(456)]==this[t(465)][t(456)],"Number of `origins` and `resolutions` must be equal"));const r=e[t(437)];r!==void 0&&!this.origin_&&!this[t(458)]&&(this[t(467)]=Ks(r)),yt(!this.origin_&&this[t(458)]||this[t(467)]&&!this[t(458)],t(466)),this[t(471)]=null,e[t(438)]!==void 0&&(this.tileSizes_=e[t(438)],yt(this[t(471)][t(456)]==this[t(465)][t(456)],"Number of `tileSizes` and `resolutions` must be equal")),this[t(434)]=e[t(470)]!==void 0?e[t(470)]:this[t(471)]?null:RE,yt(!this[t(434)]&&this[t(471)]||this.tileSize_&&!this[t(471)],t(423)),this[t(462)]=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e[t(444)][t(452)]((s,a)=>{const o=t,l=new Cy(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math[o(449)](s[1]-1,-1));if(r){const c=this[o(464)](r,a);l[o(427)]=Math[o(449)](c[o(427)],l[o(427)]),l[o(429)]=Math[o(433)](c[o(429)],l[o(429)]),l[o(420)]=Math.max(c[o(420)],l[o(420)]),l.maxY=Math[o(433)](c[o(419)],l[o(419)])}return l}):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,t,n){const r=il,s=this[r(464)](e,t);for(let a=s[r(427)],o=s[r(429)];a<=o;++a)for(let l=s[r(420)],c=s.maxY;l<=c;++l)n([t,a,l])}[Bt(422)](e,t,n,r){const s=Bt;let a,o,l,c=null,x=e[0]-1;for(this[s(416)]===2?(o=e[1],l=e[2]):c=this[s(459)](e,r);x>=this[s(446)];){if(o!==void 0&&l!==void 0?(o=Math[s(469)](o/2),l=Math[s(469)](l/2),a=nl(o,o,l,l,n)):a=this.getTileRangeForExtentAndZ(c,x,n),t(x,a))return!0;--x}return!1}getExtent(){return this.extent_}[Bt(430)](){return this.maxZoom}getMinZoom(){return this.minZoom}[Bt(451)](e){const t=Bt;return this[t(467)]?this[t(467)]:this[t(458)][e]}[Bt(415)](e){return this[Bt(465)][e]}[Bt(441)](){return this.resolutions_}getTileCoordChildTileRange(e,t,n){const r=Bt;if(e[0]<this[r(450)]){if(this[r(416)]===2){const a=e[1]*2,o=e[2]*2;return nl(a,a+1,o,o+1,t)}const s=this[r(459)](e,n||this[r(425)]);return this[r(464)](s,e[0]+1,t)}return null}[Bt(454)](e,t,n){const r=Bt;if(t>this[r(450)]||t<this[r(446)])return null;const s=e[0],a=e[1],o=e[2];if(t===s)return nl(a,o,a,o,n);if(this[r(416)]){const c=Math[r(455)](this[r(416)],t-s),x=Math.floor(a*c),u=Math[r(469)](o*c);if(t<s)return nl(x,x,u,u,n);const h=Math.floor(c*(a+1))-1,f=Math.floor(c*(o+1))-1;return nl(x,h,u,f,n)}const l=this[r(459)](e,this[r(425)]);return this[r(464)](l,t,n)}[Bt(464)](e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,rl);const r=rl[1],s=rl[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,rl);const a=rl[1],o=rl[2];return nl(r,a,s,o,n)}[Bt(457)](e){const t=Bt,n=this[t(451)](e[0]),r=this[t(415)](e[0]),s=pi(this[t(443)](e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*s[0]*r,n[1]-(e[2]+.5)*s[1]*r]}[Bt(459)](e,t){const n=Bt,r=this[n(451)](e[0]),s=this[n(415)](e[0]),a=pi(this[n(443)](e[0]),this.tmpSize_),o=r[0]+e[1]*a[0]*s,l=r[1]-(e[2]+1)*a[1]*s,c=o+a[0]*s,x=l+a[1]*s;return Ws(o,l,c,x,t)}[Bt(418)](e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}[Bt(428)](e,t,n,r,s){const a=Bt,o=this.getZForResolution(n),l=n/this.getResolution(o),c=this.getOrigin(o),x=pi(this[a(443)](o),this.tmpSize_);let u=l*(e-c[0])/n/x[0],h=l*(c[1]-t)/n/x[1];return r?(u=Ka(u,fo)-1,h=Ka(h,fo)-1):(u=NA(u,fo),h=NA(h,fo)),zp(o,u,h,s)}getTileCoordForXYAndZ_(e,t,n,r,s){const a=Bt,o=this[a(451)](n),l=this.getResolution(n),c=pi(this[a(443)](n),this[a(440)]);let x=(e-o[0])/l/c[0],u=(o[1]-t)/l/c[1];return r?(x=Ka(x,fo)-1,u=Ka(u,fo)-1):(x=NA(x,fo),u=NA(u,fo)),zp(n,x,u,s)}[Bt(474)](e,t,n){return this[Bt(421)](e[0],e[1],t,!1,n)}[Bt(472)](e){return this[Bt(465)][e[0]]}getTileSize(e){const t=Bt;return this[t(434)]?this[t(434)]:this[t(471)][e]}[Bt(426)](e){const t=Bt;return this[t(436)]?this.fullTileRanges_[e]:this[t(462)]?this[t(464)](this[t(462)],e):null}[Bt(468)](e,t){const n=Bt,r=od(this[n(465)],e,t||0);return Bn(r,this[n(446)],this[n(450)])}tileCoordIntersectsViewport(e,t){const n=Bt;return qB(t,0,t.length,2,this[n(459)](e))}[Bt(463)](e){const t=Bt,n=this[t(465)].length,r=new Array(n);for(let s=this[t(446)];s<n;++s)r[s]=this.getTileRangeForExtentAndZ(e,s);this.fullTileRanges_=r}}(function(i,e){const t=Ao,n=i();for(;;)try{if(parseInt(t(256))/1*(parseInt(t(247))/2)+-parseInt(t(243))/3*(parseInt(t(244))/4)+parseInt(t(234))/5*(parseInt(t(236))/6)+parseInt(t(231))/7*(parseInt(t(245))/8)+parseInt(t(235))/9*(-parseInt(t(237))/10)+parseInt(t(254))/11*(-parseInt(t(255))/12)+parseInt(t(230))/13*(parseInt(t(253))/14)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Jp,146985);function Ao(i,e){const t=Jp();return Ao=function(n,r){return n=n-230,t[n]},Ao(i,e)}function Jp(){const i=["setDefaultTileGrid","maxZoom","minZoom","getDefaultTileGrid","461034mRJyOO","176YryzqN","177672PUajUU","23gihKoc","65ZxJyBM","518553GhCEcU","pow","ceil","1409945FvfHOf","26289yQCfdJ","6iemRmU","730gzmVIT","getExtent","max","degrees","getMetersPerUnit","getTileCoordForCoordAndZ","1806KQePHz","628lwxYld","24YRzdxV","extent","1978vwAntE","tileSize"];return Jp=function(){return i},Jp()}function O5(i){const e=Ao;let t=i[e(252)]();return!t&&(t=QF(i),i[e(249)](t)),t}function TF(i,e,t){const n=Ao,r=e[0],s=i.getTileCoordCenter(e),a=Zp(t);if(!t0(a,s)){const o=ht(a),l=Math[n(233)]((a[0]-s[0])/o);return s[0]+=o*l,i[n(242)](s,r)}return e}function DF(i,e,t,n){n=n!==void 0?n:"top-left";const r=G5(i,e,t);return new Kp({extent:i,origin:EQ(i,n),resolutions:r,tileSize:t})}function by(i){const e=Ao,t=i||{},n=t[e(246)]||Kt("EPSG:3857")[e(238)](),r={extent:n,minZoom:t[e(251)],tileSize:t.tileSize,resolutions:G5(n,t[e(250)],t[e(248)],t.maxResolution)};return new Kp(r)}function G5(i,e,t,n){const r=Ao;e=e!==void 0?e:bB,t=pi(t!==void 0?t:RE);const s=vn(i),a=ht(i);n=n>0?n:Math[r(239)](a/t[0],s/t[1]);const o=e+1,l=new Array(o);for(let c=0;c<o;++c)l[c]=n/Math[r(232)](2,c);return l}function QF(i,e,t,n){const r=Zp(i);return DF(r,e,t,n)}function Zp(i){const e=Ao;i=Kt(i);let t=i[e(238)]();if(!t){const n=180*qa[e(240)]/i[e(241)]();t=Ws(-n,-n,n,n)}return t}const yn=mh;(function(i,e){const t=mh,n=i();for(;;)try{if(parseInt(t(368))/1+-parseInt(t(354))/2*(-parseInt(t(370))/3)+parseInt(t(366))/4+parseInt(t(348))/5+-parseInt(t(379))/6+-parseInt(t(369))/7*(parseInt(t(361))/8)+parseInt(t(362))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})($p,263451);function $p(){const i=["projection","useTile","A VectorTile source can only be rendered if it has a projection compatible with the view projection.","cacheSize","getTileGridForProjection","8390QHrQrT","refresh","interpolate","state","getTilePixelSize","getWrapX","wrapX","134656ldxUuz","3796299ajwEGQ","canExpireCache","getKey","tmpSize","153368vzZaKB","getTile","259754FvviOl","196IGXOXo","183LoROtc","attributions","getTilePixelRatio","expireCache","isGlobal","setKey","once","tileCache","getGutterForProjection","1542582EadsTF","key","getTileCoordForTileUrlFunction","getProjection","transition","zDirection","key_","tileGrid","clear","tilePixelRatio_","getTileSize","80210CGZXbT"];return $p=function(){return i},$p()}function mh(i,e){const t=$p();return mh=function(n,r){return n=n-343,t[n]},mh(i,e)}class z5 extends Qc{constructor(e){const t=mh;super({attributions:e[t(371)],attributionsCollapsible:e.attributionsCollapsible,projection:e[t(349)],state:e[t(357)],wrapX:e[t(360)],interpolate:e[t(356)]}),this.on,this[t(376)],this.un,this[t(346)]=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e[t(344)]!==void 0?e[t(344)]:null;const n=[256,256];this.tileGrid&&pi(this[t(344)][t(347)](this[t(344)].getMinZoom()),n),this.tileCache=new Ey(e[t(352)]||0),this[t(365)]=[0,0],this[t(343)]=e[t(380)]||"",this.tileOptions={transition:e[t(383)],interpolate:e.interpolate},this[t(384)]=e[t(384)]?e[t(384)]:0}[yn(363)](){const e=yn;return this.tileCache[e(363)]()}[yn(373)](e,t){const n=yn,r=this.getTileCacheForProjection(e);r&&r[n(373)](t)}[yn(378)](e){return 0}[yn(364)](){return this[yn(343)]}[yn(375)](e){const t=yn;this[t(343)]!==e&&(this[t(343)]=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}[yn(367)](e,t,n,r,s){return je()}getTileGrid(){return this[yn(344)]}getTileGridForProjection(e){const t=yn;return this[t(344)]?this[t(344)]:O5(e)}getTileCacheForProjection(e){const t=yn,n=this[t(382)]();return yt(n===null||Js(n,e),t(351)),this[t(377)]}[yn(372)](e){return this[yn(346)]}[yn(358)](e,t,n){const r=yn,s=this[r(353)](n),a=this[r(372)](t),o=pi(s[r(347)](e),this.tmpSize);return a==1?o:HQ(o,a,this[r(365)])}[yn(381)](e,t){const n=yn;t=t!==void 0?t:this[n(382)]();const r=this[n(353)](t);return this[n(359)]()&&t[n(374)]()&&(e=TF(r,e,t)),MF(e,r)?e:null}[yn(345)](){const e=yn;this.tileCache[e(345)]()}[yn(355)](){this.clear(),super.refresh()}[yn(350)](e,t,n,r){}}class FF extends br{constructor(e,t){super(e),this.tile=t}}(function(i,e){const t=_h,n=i();for(;;)try{if(-parseInt(t(440))/1+parseInt(t(448))/2*(-parseInt(t(444))/3)+parseInt(t(442))/4+-parseInt(t(443))/5+parseInt(t(457))/6+parseInt(t(455))/7+-parseInt(t(456))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(eg,137550);function eg(){const i=["push","1802031nUHZJf","410848mrmQbU","377808gFgOYw","length","64841hxOsOI","If the URL template has a {-y} placeholder, the grid extent must be known","998960XPBlPM","326795ijEYpI","753105hwsAqy","fromCharCode","forEach","exec","2GSohAL","join","replace","toString","includes","charCodeAt"];return eg=function(){return i},eg()}function _h(i,e){const t=eg();return _h=function(n,r){return n=n-439,t[n]},_h(i,e)}const LF=/\{z\}/g,PF=/\{x\}/g,kF=/\{y\}/g,UF=/\{-y\}/g;function NF(i,e,t,n,r){const s=_h;return i[s(450)](LF,e[s(451)]())[s(450)](PF,t.toString())[s(450)](kF,n[s(451)]())[s(450)](UF,function(){const a=s;if(r===void 0)throw new Error(a(441));return(r-n).toString()})}function V5(i){const e=_h,t=[];let n=/\{([a-z])-([a-z])\}/[e(447)](i);if(n){const r=n[1][e(453)](0),s=n[2][e(453)](0);let a;for(a=r;a<=s;++a)t[e(454)](i.replace(n[0],String[e(445)](a)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(i),n){const r=parseInt(n[2],10);for(let s=parseInt(n[1],10);s<=r;s++)t[e(454)](i.replace(n[0],s[e(451)]()));return t}return t.push(i),t}(function(i,e){const t=sl,n=i();for(;;)try{if(parseInt(t(251))/1*(parseInt(t(250))/2)+-parseInt(t(255))/3+-parseInt(t(253))/4+parseInt(t(259))/5+parseInt(t(249))/6+-parseInt(t(252))/7*(-parseInt(t(260))/8)+-parseInt(t(254))/9*(parseInt(t(258))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(tg,145292);function sl(i,e){const t=tg();return sl=function(n,r){return n=n-248,t[n]},sl(i,e)}function OF(i,e){return function(t,n,r){const s=sl;if(!t)return;let a;const o=t[0];if(e){const l=e[s(256)](o);l&&(a=l[s(257)]()-1)}return NF(i,o,t[1],t[2],a)}}function H5(i,e){const t=sl,n=i[t(248)],r=new Array(n);for(let s=0;s<n;++s)r[s]=OF(i[s],e);return GF(r)}function GF(i){return i[sl(248)]===1?i[0]:function(t,n,r){if(!t)return;const s=BF(t),a=mc(s,i.length);return i[a](t,n,r)}}function tg(){const i=["659603xXBwUX","89916kuqpbH","2070963XpZlkT","321207VfjMGS","getFullTileRange","getHeight","10mxEmqm","1066145zVdSaI","8gMChcQ","length","637062wwOVYX","208yIjcwP","878gpzctf"];return tg=function(){return i},tg()}function ng(){const i=["key","handleTileChange","45yZgajQ","1919950hionqR","tileLoadFunction","getTileLoadFunction","tilePixelRatio","setUrl","tileLoadingKeys_","getTileUrlFunction","37484CZfEem","1045672FsAZgN","2386951QddeNl","prototype","setTileUrlFunction","getState","wrapX","attributionsCollapsible","TILELOADERROR","tileGrid","tileCache","LOADING","getUrls","join","getPrototypeOf","changed","setKey","bind","tileUrlFunction","clear","ERROR","TILELOADEND","url","generateTileUrlFunction_","setUrls","1261kLtsZH","containsKey","attributions","2602764HiCdnz","LOADED","322cAphBV","680640tZDuYT","cacheSize","projection","10TKidDA","target","urls"];return ng=function(){return i},ng()}const Ii=Ih;(function(i,e){const t=Ih,n=i();for(;;)try{if(parseInt(t(162))/1*(-parseInt(t(167))/2)+parseInt(t(168))/3+parseInt(t(184))/4*(parseInt(t(171))/5)+parseInt(t(165))/6+parseInt(t(186))/7+-parseInt(t(185))/8*(parseInt(t(176))/9)+parseInt(t(177))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ng,355838);class ig extends z5{constructor(e){const t=Ih;super({attributions:e[t(164)],cacheSize:e[t(169)],projection:e[t(170)],state:e.state,tileGrid:e[t(193)],tilePixelRatio:e[t(180)],wrapX:e[t(190)],transition:e.transition,interpolate:e.interpolate,key:e[t(174)],attributionsCollapsible:e[t(191)],zDirection:e.zDirection}),this[t(160)]=this.tileUrlFunction===ig[t(187)][t(202)],this.tileLoadFunction=e[t(178)],e[t(202)]&&(this[t(202)]=e[t(202)]),this[t(173)]=null,e[t(173)]?this[t(161)](e.urls):e[t(159)]&&this[t(181)](e[t(159)]),this[t(182)]={}}[Ii(179)](){return this[Ii(178)]}[Ii(183)](){const e=Ii;return Object[e(198)](this).tileUrlFunction===this[e(202)]?this[e(202)][e(201)](this):this[e(202)]}[Ii(196)](){return this[Ii(173)]}[Ii(175)](e){const t=Ii,n=e[t(172)],r=et(n),s=n[t(189)]();let a;s==de[t(195)]?(this[t(182)][r]=!0,a=yy.TILELOADSTART):r in this[t(182)]&&(delete this[t(182)][r],a=s==de[t(157)]?yy[t(192)]:s==de[t(166)]?yy[t(158)]:void 0),a!=null&&this.dispatchEvent(new FF(a,n))}setTileLoadFunction(e){const t=Ii;this[t(194)][t(156)](),this[t(178)]=e,this[t(199)]()}[Ii(188)](e,t){const n=Ii;this[n(202)]=e,this[n(194)].pruneExceptNewestZ(),typeof t<"u"?this[n(200)](t):this[n(199)]()}[Ii(181)](e){const t=Ii,n=V5(e);this[t(173)]=n,this[t(161)](n)}setUrls(e){const t=Ii;this[t(173)]=e;const n=e[t(197)](`
`);this[t(160)]?this[t(188)](H5(e,this[t(193)]),n):this.setKey(n)}[Ii(202)](e,t,n){}useTile(e,t,n){const r=Ii,s=ph(e,t,n);this[r(194)][r(163)](s)&&this[r(194)].get(s)}}function Ih(i,e){const t=ng();return Ih=function(n,r){return n=n-156,t[n]},Ih(i,e)}const Fn=Eh;(function(i,e){const t=Eh,n=i();for(;;)try{if(-parseInt(t(359))/1*(-parseInt(t(375))/2)+parseInt(t(330))/3*(-parseInt(t(369))/4)+-parseInt(t(377))/5+parseInt(t(335))/6+parseInt(t(373))/7*(-parseInt(t(323))/8)+parseInt(t(361))/9*(-parseInt(t(358))/10)+parseInt(t(347))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(rg,979925);function Eh(i,e){const t=rg();return Eh=function(n,r){return n=n-322,t[n]},Eh(i,e)}function rg(){const i=["containsKey","key","1501566sWDNVG","attributionsCollapsible","getGutterForProjection","expireCache","EMPTY","getImage","getProjection","tileGrid","addEventListener","tileCacheForProjection","createTile_","tileCache","35094180SWFWFv","renderReprojectionEdges_","handleTileChange","urls","setTileGridForProjection","tilePixelRatio","CHANGE","changed","clear","getTileGridForProjection","interpolate","5070BLeANz","6359Whpvcr","src","5517pgfAEi","getInterpolate","transition","highWaterMark","state","crossOrigin","getTileCoordForTileUrlFunction","tileGridForProjection","1072WjUQWh","tileClass","bind","getTileInternal","25025tBfeno",":disable-interpolation","598vqYiZN","get","9210675SCphng","reprojectionErrorThreshold_","zDirection","canExpireCache","3464pVKJRq","tileLoadFunction","getGutter","tileOptions","set","attributions","replace","7401egMSpu","getKey","getTileCacheForProjection"];return rg=function(){return i},rg()}class zF extends ig{constructor(e){const t=Eh;super({attributions:e[t(328)],cacheSize:e.cacheSize,projection:e.projection,state:e[t(365)],tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e[t(324)]:VF,tilePixelRatio:e[t(352)],tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e[t(350)],wrapX:e.wrapX,transition:e[t(363)],interpolate:e[t(357)]!==void 0?e[t(357)]:!0,key:e[t(334)],attributionsCollapsible:e[t(336)],zDirection:e[t(379)]}),this[t(366)]=e[t(366)]!==void 0?e[t(366)]:null,this[t(370)]=e[t(370)]!==void 0?e[t(370)]:k5,this.tileCacheForProjection={},this[t(368)]={},this[t(378)]=e.reprojectionErrorThreshold,this[t(348)]=!1}[Fn(322)](){const e=Fn;if(this[e(346)][e(322)]())return!0;for(const t in this[e(344)])if(this[e(344)][t][e(322)]())return!0;return!1}expireCache(e,t){const n=Fn,r=this[n(332)](e);this[n(346)][n(338)](this[n(346)]==r?t:{});for(const s in this[n(344)]){const a=this.tileCacheForProjection[s];a.expireCache(a==r?t:{})}}[Fn(337)](e){const t=Fn;return this.getProjection()&&e&&!Js(this[t(341)](),e)?0:this[t(325)]()}getGutter(){return 0}[Fn(331)](){const e=Fn;let t=super[e(331)]();return!this[e(362)]()&&(t+=e(374)),t}[Fn(356)](e){const t=Fn,n=this[t(341)]();if(this[t(342)]&&(!n||Js(n,e)))return this.tileGrid;const r=et(e);return!(r in this[t(368)])&&(this[t(368)][r]=O5(e)),this[t(368)][r]}[Fn(332)](e){const t=Fn,n=this[t(341)]();if(!n||Js(n,e))return this[t(346)];const r=et(e);return!(r in this[t(344)])&&(this[t(344)][r]=new Ey(this[t(346)][t(364)])),this.tileCacheForProjection[r]}[Fn(345)](e,t,n,r,s,a){const o=Fn,l=[e,t,n],c=this.getTileCoordForTileUrlFunction(l,s),x=c?this.tileUrlFunction(c,r,s):void 0,u=new this.tileClass(l,x!==void 0?de.IDLE:de[o(339)],x!==void 0?x:"",this.crossOrigin,this[o(324)],this[o(326)]);return u[o(334)]=a,u[o(343)](Ye[o(353)],this[o(349)][o(371)](this)),u}getTile(e,t,n,r,s){const a=Fn,o=this[a(341)]();if(!o||!s||Js(o,s))return this[a(372)](e,t,n,r,o||s);const l=this[a(332)](s),c=[e,t,n];let x;const u=N5(c);l[a(333)](u)&&(x=l[a(376)](u));const h=this[a(331)]();if(x&&x[a(334)]==h)return x;const f=this[a(356)](o),A=this.getTileGridForProjection(s),g=this[a(367)](c,s),d=new U5(o,f,s,A,c,g,this.getTilePixelRatio(r),this.getGutter(),(p,m,I,_)=>this[a(372)](p,m,I,_,o),this[a(378)],this[a(348)],this[a(326)]);return d.key=h,x?l[a(329)](u,d):l[a(327)](u,d),d}[Fn(372)](e,t,n,r,s){const a=Fn,o=ph(e,t,n),l=this[a(331)]();if(!this[a(346)].containsKey(o)){const x=this[a(345)](e,t,n,r,s,l);return this.tileCache[a(327)](o,x),x}let c=this[a(346)][a(376)](o);return c[a(334)]!=l&&(c=this[a(345)](e,t,n,r,s,l),this[a(346)][a(329)](o,c)),c}setRenderReprojectionEdges(e){const t=Fn;if(this[t(348)]!=e){this[t(348)]=e;for(const n in this[t(344)])this[t(344)][n][t(355)]();this[t(354)]()}}[Fn(351)](e,t){const n=Fn,r=Kt(e);if(r){const s=et(r);!(s in this[n(368)])&&(this.tileGridForProjection[s]=t)}}clear(){const e=Fn;super.clear();for(const t in this[e(344)])this[e(344)][t][e(355)]()}}function VF(i,e){const t=Fn;i[t(340)]()[t(360)]=e}const Xn=al;function al(i,e){const t=sg();return al=function(n,r){return n=n-466,t[n]},al(i,e)}(function(i,e){const t=al,n=i();for(;;)try{if(-parseInt(t(466))/1*(parseInt(t(471))/2)+parseInt(t(468))/3*(parseInt(t(502))/4)+-parseInt(t(498))/5*(parseInt(t(483))/6)+parseInt(t(481))/7+parseInt(t(491))/8*(-parseInt(t(482))/9)+parseInt(t(484))/10*(parseInt(t(490))/11)+-parseInt(t(472))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(sg,576412);function sg(){const i=["3081904IaXsBy","171IMfFbq","1681632cRAPnl","110420ZFDbjq","changed","setProperties","Expected an `ol/style/Style` or an array of `ol/style/Style.js`","handleGeometryChange_","setGeometry","748mqXAdv","146656UqvayI","setId","getSimplifiedGeometry","removeChangeListener","isArray","getGeometryName","getGeometry","5YHCQQd","handleGeometryChanged_","addChangeListener","id_","216060xGBrLd","getZIndex","geometryName_","getStyle","1qclfgl","function","39ycVQgG","getId","style_","361542PNJiYS","6090720FXmRuf","hasProperties","geometryChangeKey_","get","set","setGeometryName","CHANGE","geometry","styleFunction_"];return sg=function(){return i},sg()}class ol extends bs{constructor(e){const t=al;if(super(),this.on,this.once,this.un,this[t(501)]=void 0,this.geometryName_=t(479),this.style_=null,this[t(480)]=void 0,this[t(474)]=null,this.addChangeListener(this[t(504)],this[t(499)]),e)if(typeof e[t(493)]===t(467)){const n=e;this[t(489)](n)}else{const n=e;this[t(486)](n)}}clone(){const e=al,t=new ol(this[e(473)]()?this.getProperties():null);t.setGeometryName(this[e(496)]());const n=this.getGeometry();n&&t[e(489)](n.clone());const r=this[e(505)]();return r&&t.setStyle(r),t}[Xn(497)](){return this[Xn(475)](this.geometryName_)}[Xn(469)](){return this[Xn(501)]}[Xn(496)](){return this[Xn(504)]}getStyle(){return this[Xn(470)]}getStyleFunction(){return this[Xn(480)]}[Xn(488)](){this.changed()}[Xn(499)](){const e=Xn;this.geometryChangeKey_&&(Jt(this[e(474)]),this[e(474)]=null);const t=this[e(497)]();t&&(this.geometryChangeKey_=mt(t,Ye[e(478)],this[e(488)],this)),this[e(485)]()}[Xn(489)](e){this[Xn(476)](this.geometryName_,e)}setStyle(e){const t=Xn;this[t(470)]=e,this.styleFunction_=e?HF(e):void 0,this.changed()}[Xn(492)](e){const t=Xn;this.id_=e,this[t(485)]()}[Xn(477)](e){const t=Xn;this[t(494)](this[t(504)],this[t(499)]),this[t(504)]=e,this[t(500)](this.geometryName_,this[t(499)]),this[t(499)]()}}function HF(i){const e=Xn;if(typeof i=="function")return i;let t;return Array[e(495)](i)?t=i:(yt(typeof i[e(503)]===e(467),e(487)),t=[i]),function(){return t}}var qF=ag;function ag(i,e){var t=og();return ag=function(n,r){n=n-398;var s=t[n];return s},ag(i,e)}(function(i,e){for(var t=ag,n=i();;)try{var r=parseInt(t(399))/1+-parseInt(t(400))/2+-parseInt(t(405))/3+-parseInt(t(401))/4+parseInt(t(406))/5*(-parseInt(t(403))/6)+-parseInt(t(404))/7+parseInt(t(402))/8;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(og,584839);const Xi={ADD:qF(398),REMOVE:"remove"};function og(){var i=["300ggBaGD","159425gOBJJa","2711808wpKZBM","53905CbgNiQ","add","629685tgaXPB","1532726vjKRqI","365652Rbdvug","18229528iQLZUX"];return og=function(){return i},og()}function cg(i,e){const t=lg();return cg=function(n,r){return n=n-460,t[n]},cg(i,e)}const Ut=cg;(function(i,e){const t=cg,n=i();for(;;)try{if(-parseInt(t(479))/1+parseInt(t(481))/2+-parseInt(t(475))/3*(parseInt(t(487))/4)+-parseInt(t(461))/5+-parseInt(t(460))/6+parseInt(t(482))/7+parseInt(t(463))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(lg,726667);const q5={LENGTH:Ut(480)};function lg(){const i=["clear","dispatchEvent","LENGTH","remove","5766652HuDLeq","extend","once","forEach","ADD","array_","splice","insertAt","238848kZLoWj","2965495rGElsi","getLength","22493768yKrykB","push","REMOVE","index","removeAt","assertUnique_","unique","Index out of bounds: ","setAt","item","unique_","updateLength_","3YUVYAV","getArray","get","pop","699592cVeDaK","length","1060992mBoBCP","1110284FoqGlK"];return lg=function(){return i},lg()}class xg extends br{constructor(e,t,n){const r=Ut;super(e),this.element=t,this[r(466)]=n}}class Ts extends bs{constructor(e,t){const n=Ut;if(super(),this.on,this[n(489)],this.un,t=t||{},this[n(473)]=!!t[n(469)],this[n(492)]=e||[],this[n(473)])for(let r=0,s=this[n(492)].length;r<s;++r)this.assertUnique_(this[n(492)][r],r);this[n(474)]()}[Ut(483)](){const e=Ut;for(;this[e(462)]()>0;)this.pop()}[Ut(488)](e){const t=Ut;for(let n=0,r=e[t(480)];n<r;++n)this[t(464)](e[n]);return this}[Ut(490)](e){const t=Ut,n=this[t(492)];for(let r=0,s=n[t(480)];r<s;++r)e(n[r],r,n)}[Ut(476)](){return this[Ut(492)]}[Ut(472)](e){return this[Ut(492)][e]}[Ut(462)](){const e=Ut;return this[e(477)](q5[e(485)])}[Ut(494)](e,t){const n=Ut;if(e<0||e>this[n(462)]())throw new Error(n(470)+e);this[n(473)]&&this[n(468)](t),this.array_[n(493)](e,0,t),this[n(474)](),this.dispatchEvent(new xg(Xi[n(491)],t,e))}[Ut(478)](){const e=Ut;return this[e(467)](this[e(462)]()-1)}[Ut(464)](e){const t=Ut;this[t(473)]&&this.assertUnique_(e);const n=this[t(462)]();return this.insertAt(n,e),this[t(462)]()}[Ut(486)](e){const t=Ut,n=this[t(492)];for(let r=0,s=n[t(480)];r<s;++r)if(n[r]===e)return this[t(467)](r)}removeAt(e){const t=Ut;if(e<0||e>=this[t(462)]())return;const n=this.array_[e];return this.array_[t(493)](e,1),this[t(474)](),this.dispatchEvent(new xg(Xi.REMOVE,n,e)),n}[Ut(471)](e,t){const n=Ut,r=this[n(462)]();if(e>=r){this.insertAt(e,t);return}if(e<0)throw new Error(n(470)+e);this[n(473)]&&this[n(468)](t,e);const s=this[n(492)][e];this[n(492)][e]=t,this[n(484)](new xg(Xi[n(465)],s,e)),this[n(484)](new xg(Xi[n(491)],t,e))}[Ut(474)](){const e=Ut;this.set(q5[e(485)],this.array_.length)}[Ut(468)](e,t){const n=Ut;for(let r=0,s=this.array_[n(480)];r<s;++r)if(this[n(492)][r]===e&&r!==t)throw new Error("Duplicate item added to a unique collection")}}const Cn=yh;(function(i,e){const t=yh,n=i();for(;;)try{if(parseInt(t(457))/1+-parseInt(t(474))/2+-parseInt(t(465))/3+parseInt(t(456))/4+parseInt(t(471))/5+-parseInt(t(466))/6*(-parseInt(t(472))/7)+parseInt(t(480))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ug,721915);function ug(){const i=["toJSON","minX","rbush_","minY","2577666gFNLBl","124956qeDRZs","isEmpty","map","value","remove","762890qlewHx","49XafPTL","update","609824LYGqLA","all","insert","search","concat","maxY","6362560GAQhSs","items_","clear","forEach","load","forEach_","getAll","forEachInExtent","631236pHpbGu","634560exmTNF","getExtent","getInExtent","length"];return ug=function(){return i},ug()}function yh(i,e){const t=ug();return yh=function(n,r){return n=n-452,t[n]},yh(i,e)}class Y5{constructor(e){const t=yh;this[t(463)]=new t5(e),this.items_={}}[Cn(476)](e,t){const n=Cn,r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this[n(463)][n(476)](r),this[n(481)][et(t)]=r}load(e,t){const n=Cn,r=new Array(t.length);for(let s=0,a=t.length;s<a;s++){const o=e[s],l=t[s],c={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:l};r[s]=c,this[n(481)][et(l)]=c}this[n(463)].load(r)}[Cn(470)](e){const t=Cn,n=et(e),r=this.items_[n];return delete this[t(481)][n],this[t(463)][t(470)](r)!==null}[Cn(473)](e,t){const n=Cn,r=this[n(481)][et(t)],s=[r[n(462)],r[n(464)],r.maxX,r[n(479)]];!js(s,e)&&(this[n(470)](t),this[n(476)](e,t))}getAll(){const e=Cn;return this[e(463)][e(475)]()[e(468)](function(n){return n.value})}[Cn(459)](e){const t=Cn,n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_[t(477)](n)[t(468)](function(s){return s[t(469)]})}[Cn(483)](e){const t=Cn;return this[t(453)](this[t(454)](),e)}[Cn(455)](e,t){const n=Cn;return this[n(453)](this[n(459)](e),t)}forEach_(e,t){const n=Cn;let r;for(let s=0,a=e[n(460)];s<a;s++)if(r=t(e[s]),r)return r;return r}[Cn(467)](){return Xa(this[Cn(481)])}[Cn(482)](){const e=Cn;this[e(463)][e(482)](),this[e(481)]={}}[Cn(458)](e){const t=Cn,n=this[t(463)][t(461)]();return Ws(n[t(462)],n[t(464)],n.maxX,n[t(479)],e)}[Cn(478)](e){const t=Cn;this[t(463)][t(452)](e[t(463)][t(475)]());for(const n in e[t(481)])this.items_[n]=e.items_[n]}}function cl(i,e){const t=hg();return cl=function(n,r){return n=n-240,t[n]},cl(i,e)}const Zt=cl;(function(i,e){const t=cl,n=i();for(;;)try{if(parseInt(t(259))/1+parseInt(t(260))/2+-parseInt(t(241))/3+parseInt(t(261))/4+-parseInt(t(269))/5*(parseInt(t(265))/6)+-parseInt(t(243))/7+parseInt(t(245))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(hg,269842);function hg(){const i=["unlistenGeometriesChange_","length","1522206Kxcmle","applyTransform","2220736tqgznV","simplifiedGeometryMaxMinSquaredTolerance","558208Sipxzb","intersectsExtent","listenGeometriesChange_","changeEventsKeys_","rotate","getType","translate","getGeometriesArrayRecursive","getGeometriesArray","geometries_","changed","containsXY","GeometryCollection","computeExtent","384364CUCqkZ","1075498CUHyjn","1221076QVfEUM","scale","push","disposeInternal","12vLWwfx","simplifiedGeometryRevision","getExtent","setGeometriesArray","506665vbWpBi","map","forEach","clone","applyProperties","getRevision","getSimplifiedGeometry","CHANGE"];return hg=function(){return i},hg()}class fg extends LB{constructor(e){const t=cl;super(),this.geometries_=e,this[t(248)]=[],this[t(247)]()}unlistenGeometriesChange_(){const e=cl;this.changeEventsKeys_[e(271)](Jt),this[e(248)][e(240)]=0}[Zt(247)](){const e=Zt,t=this[e(254)];for(let n=0,r=t[e(240)];n<r;++n)this[e(248)][e(263)](mt(t[n],Ye[e(276)],this[e(255)],this))}[Zt(272)](){const e=Zt,t=new fg(vy(this[e(254)]));return t[e(273)](this),t}closestPointXY(e,t,n,r){const s=Zt;if(r<e0(this[s(267)](),e,t))return r;const a=this[s(254)];for(let o=0,l=a[s(240)];o<l;++o)r=a[o].closestPointXY(e,t,n,r);return r}[Zt(256)](e,t){const n=Zt,r=this[n(254)];for(let s=0,a=r[n(240)];s<a;++s)if(r[s][n(256)](e,t))return!0;return!1}[Zt(258)](e){const t=Zt;gc(e);const n=this[t(254)];for(let r=0,s=n[t(240)];r<s;++r)Fw(e,n[r].getExtent());return e}getGeometries(){return vy(this.geometries_)}[Zt(253)](){return this[Zt(254)]}[Zt(252)](){const e=Zt;let t=[];const n=this.geometries_;for(let r=0,s=n.length;r<s;++r)n[r].getType()===this[e(250)]()?t=t.concat(n[r].getGeometriesArrayRecursive()):t[e(263)](n[r]);return t}[Zt(275)](e){const t=Zt;if(this.simplifiedGeometryRevision!==this[t(274)]()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this[t(266)]=this[t(274)]()),e<0||this[t(244)]!==0&&e<this[t(244)])return this;const n=[],r=this[t(254)];let s=!1;for(let a=0,o=r[t(240)];a<o;++a){const l=r[a],c=l[t(275)](e);n[t(263)](c),c!==l&&(s=!0)}return s?new fg(n):(this[t(244)]=e,this)}getType(){return Zt(257)}[Zt(246)](e){const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)if(t[n].intersectsExtent(e))return!0;return!1}isEmpty(){const e=Zt;return this[e(254)][e(240)]===0}rotate(e,t){const n=Zt,r=this.geometries_;for(let s=0,a=r[n(240)];s<a;++s)r[s][n(249)](e,t);this[n(255)]()}scale(e,t,n){const r=Zt;!n&&(n=Cr(this[r(267)]()));const s=this[r(254)];for(let a=0,o=s.length;a<o;++a)s[a][r(262)](e,t,n);this.changed()}setGeometries(e){this[Zt(268)](vy(e))}setGeometriesArray(e){const t=Zt;this[t(277)](),this[t(254)]=e,this[t(247)](),this[t(255)]()}[Zt(242)](e){const t=Zt,n=this[t(254)];for(let r=0,s=n[t(240)];r<s;++r)n[r].applyTransform(e);this[t(255)]()}translate(e,t){const n=Zt,r=this.geometries_;for(let s=0,a=r[n(240)];s<a;++s)r[s][n(251)](e,t);this[n(255)]()}[Zt(264)](){const e=Zt;this[e(277)](),super[e(264)]()}}function vy(i){const e=Zt;return i[e(270)](t=>t[e(272)]())}(function(i,e){const t=ll,n=i();for(;;)try{if(-parseInt(t(383))/1*(parseInt(t(376))/2)+parseInt(t(377))/3+-parseInt(t(381))/4+parseInt(t(379))/5+-parseInt(t(374))/6+parseInt(t(382))/7*(-parseInt(t(380))/8)+parseInt(t(385))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(dg,275546);function Ag(i,e,t,n,r,s,a){const o=ll;let l,c;const x=(t-e)/n;if(x===1)l=e;else if(x===2)l=e,c=r;else if(x!==0){let u=i[e],h=i[e+1],f=0;const A=[0];for(let p=e+n;p<t;p+=n){const m=i[p],I=i[p+1];f+=Math.sqrt((m-u)*(m-u)+(I-h)*(I-h)),A[o(375)](f),u=m,h=I}const g=r*f,d=$Q(A,g);d<0?(c=(g-A[-d-2])/(A[-d-1]-A[-d-2]),l=e+(-d-2)*n):l=e+d*n}a=a>1?a:2,s=s||new Array(a);for(let u=0;u<a;++u)s[u]=l===void 0?NaN:c===void 0?i[l+u]:or(i[l+u],i[l+n+u],c);return s}function dg(){const i=["358848UkmXWE","17RrFrSH","slice","6107157ObyulG","2702670pVxpNT","push","53282BCLWvo","1399605sgtPhO","length","2686105ZRHiMT","8bqeERI","1808708cURmte"];return dg=function(){return i},dg()}function wy(i,e,t,n,r,s){const a=ll;if(t==e)return null;let o;if(r<i[e+n-1])return s?(o=i[a(384)](e,e+n),o[n-1]=r,o):null;if(i[t-1]<r)return s?(o=i.slice(t-n,t),o[n-1]=r,o):null;if(r==i[e+n-1])return i[a(384)](e,e+n);let l=e/n,c=t/n;for(;l<c;){const f=l+c>>1;r<i[(f+1)*n-1]?c=f:l=f+1}const x=i[l*n-1];if(r==x)return i.slice((l-1)*n,(l-1)*n+n);const u=i[(l+1)*n-1],h=(r-x)/(u-x);o=[];for(let f=0;f<n-1;++f)o[a(375)](or(i[(l-1)*n+f],i[l*n+f],h));return o[a(375)](r),o}function ll(i,e){const t=dg();return ll=function(n,r){return n=n-374,t[n]},ll(i,e)}function YF(i,e,t,n,r,s,a){const o=ll;if(a)return wy(i,e,t[t.length-1],n,r,s);let l;if(r<i[n-1])return s?(l=i[o(384)](0,n),l[n-1]=r,l):null;if(i[i[o(378)]-1]<r)return s?(l=i[o(384)](i[o(378)]-n),l[n-1]=r,l):null;for(let c=0,x=t.length;c<x;++c){const u=t[c];if(e!=u){if(r<i[e+n-1])return null;if(r<=i[u-1])return wy(i,e,u,n,r,!1);e=u}}return null}const Ln=Ch;function Ch(i,e){const t=pg();return Ch=function(n,r){return n=n-473,t[n]},Ch(i,e)}(function(i,e){const t=Ch,n=i();for(;;)try{if(-parseInt(t(504))/1+parseInt(t(480))/2*(parseInt(t(497))/3)+parseInt(t(498))/4+parseInt(t(477))/5+-parseInt(t(492))/6*(parseInt(t(491))/7)+parseInt(t(503))/8+-parseInt(t(479))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(pg,187673);function pg(){const i=["setLayout","flatCoordinates","appendCoordinate","2044352tPvSIe","265927lbhFBZ","length","getRevision","stride","getType","1758340WntMVW","maxDeltaRevision_","2275263lDdpJj","30GXTlHF","flatMidpointRevision_","slice","setCoordinates","LineString","intersectsExtent","XYZM","clone","maxDelta_","XYM","getLength","56xGGHHm","22728KyHMDf","flatMidpoint_","isArray","getCoordinateAt","getCoordinates","4989WwiKOH","418216folCgL","forEachSegment"];return pg=function(){return i},pg()}class v0 extends h0{constructor(e,t){const n=Ch;super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this[n(488)]=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array[n(494)](e[0])?this.setFlatCoordinates(t,e):this[n(483)](e,t)}[Ln(502)](e){Es(this[Ln(501)],e),this.changed()}[Ln(487)](){const e=Ln,t=new v0(this[e(501)][e(482)](),this.layout);return t.applyProperties(this),t}closestPointXY(e,t,n,r){const s=Ln;return r<e0(this.getExtent(),e,t)?r:(this[s(478)]!=this[s(474)]()&&(this.maxDelta_=Math.sqrt(UE(this[s(501)],0,this[s(501)].length,this[s(475)],0)),this[s(478)]=this.getRevision()),OE(this[s(501)],0,this[s(501)][s(473)],this[s(475)],this[s(488)],!1,e,t,n,r))}[Ln(499)](e){const t=Ln;return HB(this[t(501)],0,this[t(501)][t(473)],this[t(475)],e)}getCoordinateAtM(e,t){const n=Ln;return this.layout!=n(489)&&this.layout!=n(486)?null:(t=t!==void 0?t:!1,wy(this.flatCoordinates,0,this[n(501)][n(473)],this[n(475)],e,t))}[Ln(496)](){const e=Ln;return so(this[e(501)],0,this.flatCoordinates[e(473)],this.stride)}getCoordinateAt(e,t){const n=Ln;return Ag(this[n(501)],0,this.flatCoordinates[n(473)],this.stride,e,t,this[n(475)])}[Ln(490)](){const e=Ln;return v5(this.flatCoordinates,0,this[e(501)].length,this[e(475)])}getFlatMidpoint(){const e=Ln;return this[e(481)]!=this[e(474)]()&&(this[e(493)]=this[e(495)](.5,this[e(493)]??void 0),this[e(481)]=this[e(474)]()),this[e(493)]}getSimplifiedGeometryInternal(e){const t=Ln,n=[];return n[t(473)]=u1(this[t(501)],0,this[t(501)][t(473)],this[t(475)],e,n,0),new v0(n,"XY")}[Ln(476)](){return Ln(484)}[Ln(485)](e){const t=Ln;return b1(this[t(501)],0,this[t(501)][t(473)],this[t(475)],e)}[Ln(483)](e,t){const n=Ln;this[n(500)](t,e,1),!this[n(501)]&&(this[n(501)]=[]),this.flatCoordinates.length=l1(this[n(501)],0,e,this[n(475)]),this.changed()}}const Un=xl;(function(i,e){const t=xl,n=i();for(;;)try{if(-parseInt(t(420))/1*(parseInt(t(429))/2)+-parseInt(t(428))/3*(-parseInt(t(454))/4)+parseInt(t(424))/5+parseInt(t(447))/6*(-parseInt(t(417))/7)+-parseInt(t(448))/8+-parseInt(t(451))/9+parseInt(t(423))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(gg,312700);function xl(i,e){const t=gg();return xl=function(n,r){return n=n-415,t[n]},xl(i,e)}function gg(){const i=["930MTaDDW","3881440KbXdLH","layout","flatCoordinates","3909546MTDpaH","getLayout","changed","12RcKAnh","intersectsExtent","closestPointXY","2555RSEEGk","setFlatCoordinates","getType","1cnKxWc","push","XYZM","14603910TOUIoD","547875uzuuEA","getExtent","maxDeltaRevision_","clone","270249UblWEs","1102732UldIPF","XYM","slice","getLineStrings","getRevision","isArray","getSimplifiedGeometryInternal","sqrt","applyProperties","maxDelta_","stride","setCoordinates","ends_","MultiLineString","setLayout","getFlatCoordinates","getFlatMidpoints","length"];return gg=function(){return i},gg()}class bh extends h0{constructor(e,t,n){const r=xl;if(super(),this[r(441)]=[],this[r(438)]=-1,this[r(426)]=-1,Array[r(434)](e[0]))this[r(440)](e,t);else if(t!==void 0&&n)this[r(418)](t,e),this.ends_=n;else{const s=e,a=[],o=[];for(let c=0,x=s[r(446)];c<x;++c){const u=s[c];Es(a,u[r(444)]()),o[r(421)](a[r(446)])}const l=s[r(446)]===0?this[r(452)]():s[0][r(452)]();this[r(418)](l,a),this.ends_=o}}appendLineString(e){const t=xl;Es(this[t(450)],e[t(444)]()[t(431)]()),this.ends_[t(421)](this[t(450)].length),this[t(453)]()}[Un(427)](){const e=Un,t=new bh(this.flatCoordinates[e(431)](),this[e(449)],this.ends_[e(431)]());return t[e(437)](this),t}[Un(416)](e,t,n,r){const s=Un;return r<e0(this[s(425)](),e,t)?r:(this[s(426)]!=this.getRevision()&&(this[s(438)]=Math[s(436)](NE(this[s(450)],0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this[s(433)]()),GE(this[s(450)],0,this[s(441)],this[s(439)],this[s(438)],!1,e,t,n,r))}getCoordinateAtM(e,t,n){const r=Un;return this[r(449)]!=r(430)&&this[r(449)]!=r(422)||this.flatCoordinates[r(446)]===0?null:(t=t!==void 0?t:!1,n=n!==void 0?n:!1,YF(this[r(450)],0,this[r(441)],this.stride,e,t,n))}getCoordinates(){const e=Un;return Lu(this.flatCoordinates,0,this[e(441)],this.stride)}getEnds(){return this[Un(441)]}getLineString(e){const t=Un;return e<0||this[t(441)][t(446)]<=e?null:new v0(this[t(450)][t(431)](e===0?0:this.ends_[e-1],this[t(441)][e]),this[t(449)])}[Un(432)](){const e=Un,t=this.flatCoordinates,n=this[e(441)],r=this.layout,s=[];let a=0;for(let o=0,l=n[e(446)];o<l;++o){const c=n[o],x=new v0(t.slice(a,c),r);s.push(x),a=c}return s}[Un(445)](){const e=Un,t=[],n=this[e(450)];let r=0;const s=this[e(441)],a=this[e(439)];for(let o=0,l=s[e(446)];o<l;++o){const c=s[o],x=Ag(n,r,c,a,.5);Es(t,x),r=c}return t}[Un(435)](e){const t=Un,n=[],r=[];return n[t(446)]=NB(this[t(450)],0,this.ends_,this[t(439)],e,n,0,r),new bh(n,"XY",r)}[Un(419)](){return Un(442)}[Un(415)](e){const t=Un;return z7(this[t(450)],0,this[t(441)],this.stride,e)}[Un(440)](e,t){const n=Un;this[n(443)](t,e,2),!this[n(450)]&&(this[n(450)]=[]);const r=Fu(this.flatCoordinates,0,e,this[n(439)],this[n(441)]);this.flatCoordinates[n(446)]=r[n(446)]===0?0:r[r[n(446)]-1],this.changed()}}const fr=ul;function ul(i,e){const t=mg();return ul=function(n,r){return n=n-304,t[n]},ul(i,e)}(function(i,e){const t=ul,n=i();for(;;)try{if(-parseInt(t(305))/1*(parseInt(t(324))/2)+-parseInt(t(311))/3+-parseInt(t(328))/4+-parseInt(t(304))/5+parseInt(t(317))/6*(parseInt(t(306))/7)+-parseInt(t(307))/8*(-parseInt(t(321))/9)+parseInt(t(326))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(mg,466762);function mg(){const i=["855498puAuEm","changed","isArray","getExtent","applyProperties","setLayout","23826RIiaBG","setCoordinates","length","MultiPoint","46890REHQGW","intersectsExtent","getPoints","142SJZEOy","getFlatCoordinates","19923990aDuwXp","stride","2433660uICxeV","clone","flatCoordinates","layout","861195vOyjCP","11548AoQKLd","497FRaMfs","120WlDzkb","getType","getCoordinates","slice"];return mg=function(){return i},mg()}class vh extends h0{constructor(e,t){const n=ul;super(),t&&!Array[n(313)](e[0])?this.setFlatCoordinates(t,e):this[n(318)](e,t)}appendPoint(e){const t=ul;Es(this[t(330)],e[t(325)]()),this[t(312)]()}[fr(329)](){const e=fr,t=new vh(this[e(330)].slice(),this[e(331)]);return t[e(315)](this),t}closestPointXY(e,t,n,r){const s=fr;if(r<e0(this[s(314)](),e,t))return r;const a=this[s(330)],o=this[s(327)];for(let l=0,c=a[s(319)];l<c;l+=o){const x=i0(e,t,a[l],a[l+1]);if(x<r){r=x;for(let u=0;u<o;++u)n[u]=a[l+u];n[s(319)]=o}}return r}[fr(309)](){const e=fr;return so(this[e(330)],0,this[e(330)][e(319)],this[e(327)])}getPoint(e){const t=fr,n=this[t(330)][t(319)]/this[t(327)];return e<0||n<=e?null:new p0(this[t(330)][t(310)](e*this[t(327)],(e+1)*this[t(327)]),this[t(331)])}[fr(323)](){const e=fr,t=this.flatCoordinates,n=this.layout,r=this[e(327)],s=[];for(let a=0,o=t[e(319)];a<o;a+=r){const l=new p0(t.slice(a,a+r),n);s.push(l)}return s}[fr(308)](){return fr(320)}[fr(322)](e){const t=fr,n=this[t(330)],r=this[t(327)];for(let s=0,a=n.length;s<a;s+=r){const o=n[s],l=n[s+1];if(VI(e,o,l))return!0}return!1}setCoordinates(e,t){const n=fr;this[n(316)](t,e,1),!this[n(330)]&&(this.flatCoordinates=[]),this[n(330)][n(319)]=l1(this[n(330)],0,e,this[n(327)]),this.changed()}}function _g(i,e){const t=Ig();return _g=function(n,r){return n=n-487,t[n]},_g(i,e)}(function(i,e){const t=_g,n=i();for(;;)try{if(-parseInt(t(495))/1*(parseInt(t(498))/2)+-parseInt(t(489))/3+parseInt(t(492))/4*(-parseInt(t(487))/5)+parseInt(t(490))/6*(parseInt(t(491))/7)+parseInt(t(496))/8+parseInt(t(488))/9+parseInt(t(494))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ig,205606);function Ig(){const i=["18ApTlPm","691089IJvDly","579424LPxZff","push","2702160tCPgyl","826VLAsjS","770008SyoYTC","length","554nTjDRX","10NFcKWk","1273716HrLlyt","240156birWVG"];return Ig=function(){return i},Ig()}function X5(i,e,t,n){const r=_g,s=[];let a=yr();for(let o=0,l=t.length;o<l;++o){const c=t[o];a=qI(i,e,c[0],n),s[r(493)]((a[0]+a[2])/2,(a[1]+a[3])/2),e=c[c[r(497)]-1]}return s}const nn=wh;(function(i,e){const t=wh,n=i();for(;;)try{if(parseInt(t(452))/1+-parseInt(t(485))/2*(parseInt(t(451))/3)+parseInt(t(441))/4*(parseInt(t(445))/5)+-parseInt(t(482))/6+parseInt(t(481))/7*(-parseInt(t(444))/8)+-parseInt(t(470))/9+parseInt(t(479))/10*(parseInt(t(460))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Eg,349938);function Eg(){const i=["getEnds","24qCphfJ","endss_","getEndss","4956296YIJBlj","274690jDIvuG","getOrientedFlatCoordinates","containsXY","appendPolygon","getFlatCoordinates","intersectsExtent","636603kdRuEo","500664nnGMzp","XYM","orientedFlatCoordinates_","setCoordinates","getSimplifiedGeometryInternal","applyProperties","orientedRevision_","getFlatInteriorPoints","451mXyMsC","slice","closestPointXY","maxDelta_","flatInteriorPointsRevision_","flatCoordinates","getArea","layout","push","length","3547890tLlvjv","changed","getPolygons","getInteriorPoints","getLayout","maxDeltaRevision_","getType","setLayout","getCoordinates","273590mJBBdd","stride","7DwBMJT","983544oPdFAi","isArray","getRevision","4Xpwnuf","flatInteriorPoints_","sqrt","setFlatCoordinates"];return Eg=function(){return i},Eg()}function wh(i,e){const t=Eg();return wh=function(n,r){return n=n-438,t[n]},wh(i,e)}class Bh extends h0{constructor(e,t,n){const r=wh;if(super(),this[r(442)]=[],this[r(464)]=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this[r(475)]=-1,this.orientedRevision_=-1,this[r(454)]=null,!n&&!Array[r(483)](e[0])){const s=e,a=[],o=[];for(let l=0,c=s[r(469)];l<c;++l){const x=s[l],u=a[r(469)],h=x[r(440)]();for(let f=0,A=h.length;f<A;++f)h[f]+=u;Es(a,x[r(449)]()),o[r(468)](h)}t=s[r(469)]===0?this[r(474)]():s[0][r(474)](),e=a,n=o}t!==void 0&&n?(this[r(439)](t,e),this[r(442)]=n):this[r(455)](e,t)}[nn(448)](e){const t=nn;let n;if(!this[t(465)])this.flatCoordinates=e[t(449)]()[t(461)](),n=e[t(440)]()[t(461)](),this.endss_.push();else{const r=this.flatCoordinates[t(469)];Es(this[t(465)],e[t(449)]()),n=e.getEnds().slice();for(let s=0,a=n[t(469)];s<a;++s)n[s]+=r}this[t(442)].push(n),this[t(471)]()}clone(){const e=nn,t=this[e(442)].length,n=new Array(t);for(let s=0;s<t;++s)n[s]=this[e(442)][s][e(461)]();const r=new Bh(this.flatCoordinates[e(461)](),this[e(467)],n);return r[e(457)](this),r}[nn(462)](e,t,n,r){const s=nn;return r<e0(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this[s(463)]=Math[s(438)](F7(this[s(465)],0,this[s(442)],this[s(480)],0)),this[s(475)]=this[s(484)]()),L7(this[s(446)](),0,this[s(442)],this[s(480)],this[s(463)],!0,e,t,n,r))}[nn(447)](e,t){const n=nn;return G7(this.getOrientedFlatCoordinates(),0,this[n(442)],this[n(480)],e,t)}[nn(466)](){const e=nn;return N7(this.getOrientedFlatCoordinates(),0,this[e(442)],this[e(480)])}[nn(478)](e){const t=nn;let n;return e!==void 0?(n=this[t(446)]().slice(),WE(n,0,this[t(442)],this[t(480)],e)):n=this.flatCoordinates,VE(n,0,this[t(442)],this[t(480)])}[nn(443)](){return this[nn(442)]}getFlatInteriorPoints(){const e=nn;if(this[e(464)]!=this[e(484)]()){const t=X5(this[e(465)],0,this.endss_,this.stride);this[e(486)]=VB(this[e(446)](),0,this[e(442)],this[e(480)],t),this[e(464)]=this.getRevision()}return this[e(486)]}[nn(473)](){const e=nn;return new vh(this[e(459)]()[e(461)](),e(453))}[nn(446)](){const e=nn;if(this.orientedRevision_!=this[e(484)]()){const t=this[e(465)];XB(t,0,this[e(442)],this.stride)?this.orientedFlatCoordinates_=t:(this[e(454)]=t[e(461)](),this[e(454)].length=WE(this[e(454)],0,this.endss_,this[e(480)])),this[e(458)]=this[e(484)]()}return this.orientedFlatCoordinates_}[nn(456)](e){const t=nn,n=[],r=[];return n.length=U7(this.flatCoordinates,0,this[t(442)],this[t(480)],Math[t(438)](e),n,0,r),new Bh(n,"XY",r)}getPolygon(e){const t=nn;if(e<0||this[t(442)][t(469)]<=e)return null;let n;if(e===0)n=0;else{const a=this[t(442)][e-1];n=a[a.length-1]}const r=this[t(442)][e][t(461)](),s=r[r[t(469)]-1];if(n!==0)for(let a=0,o=r[t(469)];a<o;++a)r[a]-=n;return new Nc(this[t(465)][t(461)](n,s),this[t(467)],r)}[nn(472)](){const e=nn,t=this[e(467)],n=this.flatCoordinates,r=this.endss_,s=[];let a=0;for(let o=0,l=r[e(469)];o<l;++o){const c=r[o][e(461)](),x=c[c[e(469)]-1];if(a!==0)for(let h=0,f=c[e(469)];h<f;++h)c[h]-=a;const u=new Nc(n[e(461)](a,x),t,c);s[e(468)](u),a=x}return s}[nn(476)](){return"MultiPolygon"}[nn(450)](e){const t=nn;return V7(this[t(446)](),0,this[t(442)],this[t(480)],e)}setCoordinates(e,t){const n=nn;this[n(477)](t,e,3),!this.flatCoordinates&&(this.flatCoordinates=[]);const r=UB(this[n(465)],0,e,this[n(480)],this[n(442)]);if(r.length===0)this[n(465)][n(469)]=0;else{const s=r[r[n(469)]-1];this.flatCoordinates[n(469)]=s[n(469)]===0?0:s[s.length-1]}this[n(471)]()}}const bt=Sh;(function(i,e){const t=Sh,n=i();for(;;)try{if(-parseInt(t(202))/1*(parseInt(t(189))/2)+parseInt(t(194))/3*(-parseInt(t(176))/4)+parseInt(t(205))/5*(parseInt(t(164))/6)+-parseInt(t(174))/7*(-parseInt(t(166))/8)+-parseInt(t(186))/9*(parseInt(t(173))/10)+-parseInt(t(204))/11+parseInt(t(199))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(yg,542899);function yg(){const i=["2010824oLzRpl","applyTransform","setId","getFlatInteriorPoint","getStyleFunction","type_","getWorldExtent","10OXOBBm","7EaTWGV","Invalid geometry type:","374708SkrCuc","getFlatCoordinates","getExtent","getId","slice","MultiPoint","transform","length","properties_","flatCoordinates_","2397051lJErlE","enableSimplifyTransformed","id_","546waZeKB","extent_","Polygon","stride_","MultiLineString","12Iyajin","clone","ends_","LineString","getGeometry","15312720RRhXVT","getProperties","get","1383ZTquIu","getStride","8564556LovdoU","40vrkIZh","simplifiedGeometry_","getEnds","getSimplifiedGeometry","squaredTolerance_","styleFunction","flatMidpoints_","flatInteriorPoints_","Point","getType","simplifyTransformed","prototype","getFlatMidpoint","609516TqfMKW","getPropertiesInternal"];return yg=function(){return i},yg()}function Sh(i,e){const t=yg();return Sh=function(n,r){return n=n-156,t[n]},Sh(i,e)}const W5=Gi();class Ei{constructor(e,t,n,r,s,a){const o=Sh;this[o(156)],this[o(190)],this[o(188)]=a,this[o(171)]=e,this[o(185)]=t,this.flatInteriorPoints_=null,this[o(157)]=null,this[o(196)]=n||null,this.properties_=s,this.squaredTolerance_,this.stride_=r,this[o(206)]}[bt(201)](e){return this.properties_[e]}getExtent(){const e=bt;return!this[e(190)]&&(this[e(190)]=this[e(171)]===e(159)?Qw(this[e(185)]):qI(this.flatCoordinates_,0,this[e(185)].length,2)),this[e(190)]}[bt(169)](){const e=bt;if(!this[e(158)]){const t=Cr(this[e(178)]());this[e(158)]=qE(this[e(185)],0,this.ends_,2,t,0)}return this[e(158)]}getFlatInteriorPoints(){const e=bt;if(!this[e(158)]){const t=WB(this[e(185)],this[e(196)]),n=X5(this.flatCoordinates_,0,t,2);this[e(158)]=VB(this.flatCoordinates_,0,t,2,n)}return this[e(158)]}[bt(163)](){const e=bt;return!this[e(157)]&&(this.flatMidpoints_=Ag(this[e(185)],0,this.flatCoordinates_.length,2,.5)),this[e(157)]}getFlatMidpoints(){const e=bt;if(!this[e(157)]){this[e(157)]=[];const t=this[e(185)];let n=0;const r=this.ends_;for(let s=0,a=r[e(183)];s<a;++s){const o=r[s],l=Ag(t,n,o,2,.5);Es(this[e(157)],l),n=o}}return this[e(157)]}[bt(179)](){return this[bt(188)]}getOrientedFlatCoordinates(){return this.flatCoordinates_}[bt(198)](){return this}[bt(208)](e){return this}[bt(161)](e,t){return this}getProperties(){return this[bt(184)]}[bt(165)](){return this.properties_}[bt(203)](){return this[bt(192)]}[bt(170)](){return this[bt(156)]}[bt(160)](){return this[bt(171)]}[bt(182)](e){const t=bt;e=Kt(e);const n=e.getExtent(),r=e[t(172)]();if(n&&r){const s=vn(r)/vn(n);Bs(W5,r[0],r[3],s,-s,0,0,0),no(this.flatCoordinates_,0,this[t(185)].length,2,W5,this.flatCoordinates_)}}[bt(167)](e){const t=bt;e(this[t(185)],this[t(185)],this[t(192)])}[bt(195)](){var t;const e=bt;return new Ei(this[e(171)],this[e(185)][e(180)](),(t=this[e(196)])==null?void 0:t[e(180)](),this[e(192)],Object.assign({},this[e(184)]),this.id_)}[bt(207)](){return this[bt(196)]}[bt(187)](){const e=bt;return this[e(161)]=sB((t,n)=>{const r=e;if(t===this[r(209)])return this.simplifiedGeometry_;this[r(206)]=this[r(195)](),n&&this.simplifiedGeometry_[r(167)](n);const s=this[r(206)][r(177)]();let a;switch(this[r(171)]){case r(197):s[r(183)]=u1(s,0,this[r(206)].flatCoordinates_[r(183)],this.simplifiedGeometry_[r(192)],t,s,0),a=[s[r(183)]];break;case r(193):a=[],s[r(183)]=NB(s,0,this[r(206)][r(196)],this[r(206)][r(192)],t,s,0,a);break;case r(191):a=[],s[r(183)]=zE(s,0,this[r(206)][r(196)],this[r(206)][r(192)],Math.sqrt(t),s,0,a);break}return a&&(this[r(206)]=new Ei(this.type_,s,a,2,this[r(184)],this[r(188)])),this[r(209)]=t,this[r(206)]}),this}}Ei[bt(162)][bt(177)]=Ei[bt(162)].getOrientedFlatCoordinates;function Cg(i,e){var t=bg();return Cg=function(n,r){n=n-129;var s=t[n];return s},Cg(i,e)}var hl=Cg;(function(i,e){for(var t=Cg,n=i();;)try{var r=parseInt(t(146))/1*(parseInt(t(137))/2)+-parseInt(t(130))/3*(parseInt(t(141))/4)+-parseInt(t(133))/5+-parseInt(t(139))/6*(parseInt(t(145))/7)+parseInt(t(131))/8*(parseInt(t(143))/9)+-parseInt(t(140))/10*(parseInt(t(142))/11)+parseInt(t(144))/12;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(bg,844890);function bg(){var i=["addfeature","changefeature","38AFQfUL","removefeature","66eZHdic","6550pqnlDu","948EZTOWR","17039BxZoHd","10965879efFGOM","24056964wmSmzE","374038XsImTs","23041TVcfdd","featuresloaderror","1866jEyXEX","8iAIqLs","featuresloadstart","5331420moMAty","featuresloadend"];return bg=function(){return i},bg()}const Mr={ADDFEATURE:hl(135),CHANGEFEATURE:hl(136),CLEAR:"clear",REMOVEFEATURE:hl(138),FEATURESLOADSTART:hl(132),FEATURESLOADEND:hl(134),FEATURESLOADERROR:hl(129)};(function(i,e){const t=By,n=i();for(;;)try{if(-parseInt(t(502))/1+parseInt(t(505))/2*(-parseInt(t(507))/3)+-parseInt(t(496))/4+parseInt(t(504))/5*(parseInt(t(512))/6)+parseInt(t(500))/7*(parseInt(t(506))/8)+-parseInt(t(509))/9+-parseInt(t(498))/10*(-parseInt(t(511))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(vg,162335);function By(i,e){const t=vg();return By=function(n,r){return n=n-496,t[n]},By(i,e)}function vg(){const i=["maxX","145180zXhQDF","minY","1515JIXeeB","4436IQcSZc","344sZDJRq","108yOdQCx","push","1423674gcwTbr","maxY","341iNSfPL","912DofUKM","944220CwpDAS","getZForResolution","138970wYzild","getTileRangeForExtentAndZ","49609XqWoWq"];return vg=function(){return i},vg()}function XF(i,e){return[[-1/0,-1/0,1/0,1/0]]}function WF(i,e){return[i]}function Mh(i,e){const t=wg();return Mh=function(n,r){return n=n-371,t[n]},Mh(i,e)}(function(i,e){const t=Mh,n=i();for(;;)try{if(parseInt(t(375))/1+-parseInt(t(372))/2+-parseInt(t(382))/3*(parseInt(t(390))/4)+-parseInt(t(396))/5+parseInt(t(391))/6*(parseInt(t(371))/7)+parseInt(t(386))/8*(-parseInt(t(385))/9)+-parseInt(t(395))/10*(-parseInt(t(377))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(wg,919357);let jF=!1;function j5(i,e,t,n,r,s,a){const o=Mh,l=new XMLHttpRequest;l[o(388)](o(374),typeof i=="function"?i(t,n,r):i,!0),e[o(381)]()=="arraybuffer"&&(l[o(376)]="arraybuffer"),l.withCredentials=jF,l[o(389)]=function(c){const x=o;if(!l[x(384)]||l[x(384)]>=200&&l[x(384)]<300){const u=e[x(381)]();try{let h;u==x(373)||u==x(387)?h=l[x(380)]:u==x(397)?h=l[x(393)]||l[x(380)]:u==x(378)&&(h=l.response),h?s(e[x(392)](h,{extent:t,featureProjection:r}),e[x(394)](h)):a()}catch{a()}}else a()},l.onerror=a,l[o(383)]()}function wg(){const i=["GET","103119VTlKNi","responseType","110aShmuN","arraybuffer","addFeatures","responseText","getType","3JiXyNn","send","status","1476135YAuhwB","16gezyTL","json","open","onload","1275368HgMcqQ","168aiVRzS","readFeatures","responseXML","readProjection","3444970KEZLmk","8504915rKkzMc","xml","47222ZvzyEH","939530PTXxzp","text"];return wg=function(){return i},wg()}function K5(i,e){return function(t,n,r,s,a){const o=this;j5(i,e,t,n,r,function(l,c){o[Mh(379)](l),s!==void 0&&s(l)},a||yc)}}const Ve=po;(function(i,e){const t=po,n=i();for(;;)try{if(-parseInt(t(315))/1*(parseInt(t(368))/2)+-parseInt(t(395))/3*(-parseInt(t(372))/4)+-parseInt(t(351))/5*(parseInt(t(356))/6)+-parseInt(t(394))/7*(-parseInt(t(366))/8)+parseInt(t(400))/9+parseInt(t(343))/10+-parseInt(t(382))/11*(parseInt(t(331))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Bg,111372);function po(i,e){const t=Bg();return po=function(n,r){return n=n-310,t[n]},po(i,e)}function Bg(){const i=["featuresRtree_","forEachFeatureIntersectingExtent","REMOVE","CHANGE","uidIndex_","16MurIiI","PROPERTYCHANGE","REMOVEFEATURE","getInExtent","attributions","getFeaturesAtCoordinate","isEmpty","forEachFeatureInExtent","hasListener","hasFeature","refresh","getArray","addToIndex_","remove","slice","closestPointXY","110652zaKDBy","ADDFEATURE","format_","getFeaturesInExtent","CLEAR","featuresCollection_","clear","intersectsExtent","sqrt","forEachFeature","forEach","loader","982670ZhpcKg","getClosestFeatureToCoordinate","featureChangeKeys_","addFeatureInternal","overlaps","loader_","call","removeFromIdIndex_","575XVNwbj","element","feature","forEachFeatureAtCoordinateDirect","removeFeature","8616OBwZSX","getUrl","loadFeatures","isArray","once","toString","map","getFeatures","length","addFeaturesInternal","136jbeUDK","changed","324irAIEC","overlaps_","splice","idIndex_","673548ErfSij","`format` must be set when `url` is set","bindFeaturesCollection_","addEventListener","strategy","getGeometry","intersectsCoordinate","setupChangeEvents_","addFeature","setLoader","407kCiRno","strategy_","removeFeatures","getFeatureById","ready","useSpatialIndex","getId","getExtent","removeLoadedExtent","load","nullGeometryFeatures_","values","68789bdyeju","3RJZfKC","features","update","loadedExtentsRtree_","forEachInExtent","1679112NiVCVR","removeFeatureInternal","loadingExtentsCount_","concat","target","wrapX","dispatchEvent","push","getFormat","handleFeatureChange_","url_","setUrl","FEATURESLOADERROR","insert"];return Bg=function(){return i},Bg()}class go extends br{constructor(e,t,n){const r=po;super(e),this[r(353)]=t,this[r(396)]=n}}class fl extends Qc{constructor(e){const t=po;e=e||{},super({attributions:e[t(319)],interpolate:!0,projection:void 0,state:t(386),wrapX:e.wrapX!==void 0?e[t(405)]:!0}),this.on,this[t(360)],this.un,this.loader_=yc,this.format_=e.format||null,this[t(369)]=e[t(347)]===void 0?!0:e[t(347)],this.url_=e.url,e[t(342)]!==void 0?this.loader_=e[t(342)]:this.url_!==void 0&&(yt(this[t(333)],t(373)),this[t(348)]=K5(this[t(410)],this[t(333)])),this[t(383)]=e[t(376)]!==void 0?e[t(376)]:XF;const n=e[t(387)]!==void 0?e.useSpatialIndex:!0;this[t(310)]=n?new Y5:null,this[t(398)]=new Y5,this[t(402)]=0,this[t(392)]={},this.idIndex_={},this[t(314)]={},this[t(345)]={},this[t(336)]=null;let r,s;Array[t(359)](e[t(396)])?s=e[t(396)]:e.features&&(r=e[t(396)],s=r[t(326)]()),!n&&r===void 0&&(r=new Ts(s)),s!==void 0&&this.addFeaturesInternal(s),r!==void 0&&this[t(374)](r)}addFeature(e){const t=po;this[t(346)](e),this[t(367)]()}[Ve(346)](e){const t=Ve,n=et(e);if(!this[t(327)](n,e)){this[t(336)]&&this[t(336)][t(328)](e);return}this[t(379)](n,e);const r=e[t(377)]();if(r){const s=r[t(389)]();this[t(310)]&&this[t(310)][t(413)](s,e)}else this[t(392)][n]=e;this[t(406)](new go(Mr[t(332)],e))}setupChangeEvents_(e,t){const n=Ve;t instanceof Ei||(this[n(345)][e]=[mt(t,Ye[n(313)],this[n(409)],this),mt(t,vc[n(316)],this.handleFeatureChange_,this)])}[Ve(327)](e,t){const n=Ve;let r=!0;if(t[n(388)]()!==void 0){const s=String(t[n(388)]());if(!(s in this[n(371)]))this[n(371)][s]=t;else if(t instanceof Ei){const a=this.idIndex_[s];a instanceof Ei?Array[n(359)](a)?a[n(407)](t):this[n(371)][s]=[a,t]:r=!1}else r=!1}return r&&(yt(!(e in this[n(314)]),"The passed `feature` was already added to the source"),this[n(314)][e]=t),r}addFeatures(e){this[Ve(365)](e),this.changed()}[Ve(365)](e){const t=Ve,n=[],r=[],s=[];for(let a=0,o=e[t(364)];a<o;a++){const l=e[a],c=et(l);this[t(327)](c,l)&&r[t(407)](l)}for(let a=0,o=r.length;a<o;a++){const l=r[a],c=et(l);this[t(379)](c,l);const x=l[t(377)]();if(x){const u=x.getExtent();n[t(407)](u),s.push(l)}else this[t(392)][c]=l}if(this[t(310)]&&this.featuresRtree_[t(391)](n,s),this[t(323)](Mr[t(332)]))for(let a=0,o=r[t(364)];a<o;a++)this[t(406)](new go(Mr[t(332)],r[a]))}[Ve(374)](e){const t=Ve;let n=!1;this.addEventListener(Mr[t(332)],function(r){!n&&(n=!0,e.push(r.feature),n=!1)}),this[t(375)](Mr[t(317)],function(r){const s=t;!n&&(n=!0,e[s(328)](r[s(353)]),n=!1)}),e.addEventListener(Xi.ADD,r=>{const s=t;!n&&(n=!0,this[s(380)](r[s(352)]),n=!1)}),e.addEventListener(Xi[t(312)],r=>{const s=t;!n&&(n=!0,this[s(355)](r[s(352)]),n=!1)}),this.featuresCollection_=e}[Ve(337)](e){const t=Ve;if(e){for(const r in this[t(345)])this[t(345)][r][t(341)](Jt);!this.featuresCollection_&&(this[t(345)]={},this.idIndex_={},this[t(314)]={})}else if(this[t(310)]){const r=s=>{this.removeFeatureInternal(s)};this[t(310)][t(341)](r);for(const s in this[t(392)])this[t(401)](this[t(392)][s])}this[t(336)]&&this[t(336)][t(337)](),this[t(310)]&&this.featuresRtree_[t(337)](),this[t(392)]={};const n=new go(Mr[t(335)]);this[t(406)](n),this.changed()}[Ve(340)](e){const t=Ve;if(this[t(310)])return this[t(310)].forEach(e);this[t(336)]&&this[t(336)][t(341)](e)}forEachFeatureAtCoordinateDirect(e,t){const n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,function(r){const s=po,a=r.getGeometry();if(a instanceof Ei||a[s(378)](e))return t(r)})}[Ve(322)](e,t){const n=Ve;if(this.featuresRtree_)return this[n(310)][n(399)](e,t);this[n(336)]&&this[n(336)][n(341)](t)}[Ve(311)](e,t){const n=Ve;return this[n(322)](e,function(r){const s=n,a=r[s(377)]();if(a instanceof Ei||a[s(338)](e)){const o=t(r);if(o)return o}})}getFeaturesCollection(){return this[Ve(336)]}[Ve(363)](){const e=Ve;let t;return this[e(336)]?t=this[e(336)][e(326)]()[e(329)](0):this[e(310)]&&(t=this.featuresRtree_.getAll(),!Xa(this[e(392)])&&Es(t,Object[e(393)](this.nullGeometryFeatures_))),t}[Ve(320)](e){const t=Ve,n=[];return this[t(354)](e,function(r){n[t(407)](r)}),n}[Ve(334)](e,t){const n=Ve;if(this[n(310)]){if(!(t&&t.canWrapX()&&this.getWrapX()))return this[n(310)][n(318)](e);const s=YI(e,t);return[][n(403)](...s[n(362)](a=>this[n(310)].getInExtent(a)))}return this[n(336)]?this.featuresCollection_.getArray()[n(329)](0):[]}[Ve(344)](e,t){const n=Ve,r=e[0],s=e[1];let a=null;const o=[NaN,NaN];let l=1/0;const c=[-1/0,-1/0,1/0,1/0];return t=t||hu,this[n(310)][n(399)](c,function(x){const u=n;if(t(x)){const h=x[u(377)](),f=l;if(l=h instanceof Ei?0:h[u(330)](r,s,o,l),l<f){a=x;const A=Math[u(339)](l);c[0]=r-A,c[1]=s-A,c[2]=r+A,c[3]=s+A}}}),a}getExtent(e){return this[Ve(310)].getExtent(e)}[Ve(385)](e){const t=Ve,n=this.idIndex_[e[t(361)]()];return n!==void 0?n:null}getFeatureByUid(e){const t=Ve,n=this[t(314)][e];return n!==void 0?n:null}[Ve(408)](){return this[Ve(333)]}getOverlaps(){return this.overlaps_}[Ve(357)](){return this[Ve(410)]}[Ve(409)](e){const t=Ve,n=e[t(404)],r=et(n),s=n[t(377)]();if(!s)!(r in this[t(392)])&&(this[t(310)]&&this[t(310)].remove(n),this[t(392)][r]=n);else{const o=s.getExtent();r in this[t(392)]?(delete this.nullGeometryFeatures_[r],this[t(310)]&&this[t(310)].insert(o,n)):this[t(310)]&&this[t(310)][t(397)](o,n)}const a=n[t(388)]();if(a!==void 0){const o=a[t(361)]();this[t(371)][o]!==n&&(this[t(350)](n),this.idIndex_[o]=n)}else this[t(350)](n),this.uidIndex_[r]=n;this[t(367)](),this[t(406)](new go(Mr.CHANGEFEATURE,n))}[Ve(324)](e){const t=Ve,n=e[t(388)]();return n!==void 0?n in this[t(371)]:et(e)in this[t(314)]}[Ve(321)](){const e=Ve;return this[e(310)]?this[e(310)][e(321)]()&&Xa(this[e(392)]):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}[Ve(358)](e,t,n){const r=Ve,s=this.loadedExtentsRtree_,a=this.strategy_(e,t,n);for(let o=0,l=a[r(364)];o<l;++o){const c=a[o];!s[r(399)](c,function(u){return qr(u.extent,c)})&&(++this.loadingExtentsCount_,this[r(406)](new go(Mr.FEATURESLOADSTART)),this[r(348)][r(349)](this,c,t,n,u=>{const h=r;--this[h(402)],this[h(406)](new go(Mr.FEATURESLOADEND,void 0,u))},()=>{const u=r;--this[u(402)],this[u(406)](new go(Mr[u(412)]))}),s.insert(c,{extent:c[r(329)]()}))}this.loading=this[r(348)][r(364)]<4?!1:this[r(402)]>0}[Ve(325)](){const e=Ve;this.clear(!0),this[e(398)].clear(),super.refresh()}[Ve(390)](e){const t=Ve,n=this[t(398)];let r;n[t(399)](e,function(s){if(js(s.extent,e))return r=s,!0}),r&&n[t(328)](r)}[Ve(384)](e){const t=Ve;let n=!1;for(let r=0,s=e[t(364)];r<s;++r)n=this[t(401)](e[r])||n;n&&this[t(367)]()}[Ve(355)](e){const t=Ve;if(!e)return;this[t(401)](e)&&this[t(367)]()}removeFeatureInternal(e){const t=Ve,n=et(e);if(!(n in this[t(314)]))return!1;n in this[t(392)]?delete this[t(392)][n]:this[t(310)]&&this.featuresRtree_[t(328)](e);const r=this[t(345)][n];r==null||r[t(341)](Jt),delete this[t(345)][n];const s=e[t(388)]();if(s!==void 0){const a=s.toString(),o=this.idIndex_[a];o===e?delete this[t(371)][a]:Array.isArray(o)&&(o[t(370)](o.indexOf(e),1),o[t(364)]===1&&(this[t(371)][a]=o[0]))}return delete this.uidIndex_[n],this.hasListener(Mr[t(317)])&&this[t(406)](new go(Mr[t(317)],e)),!0}removeFromIdIndex_(e){const t=Ve;for(const n in this[t(371)])if(this[t(371)][n]===e){delete this.idIndex_[n];break}}[Ve(381)](e){const t=Ve;this[t(348)]=e}[Ve(411)](e){const t=Ve;yt(this[t(333)],t(373)),this[t(410)]=e,this[t(381)](K5(e,this[t(333)]))}}function Sg(){const i=["disposeInternal","interpolate","1783653EnFGKS","2XpIMBS","disposed","height","getSize","IDLE","changed","1463435aZFFOS","width","LOADING","error_","data_","587869wnjAQi","size_","drawImage","1579160IflEQa","tileCoord","LOADED","getImageData","load","abort","436324avWvyX","state","data","3013024lfvTRJ","size","1327056CeULMi","ERROR","loader_","36kjWvhd","controller_","canvas"];return Sg=function(){return i},Sg()}const ts=Mg;(function(i,e){const t=Mg,n=i();for(;;)try{if(-parseInt(t(338))/1+parseInt(t(327))/2*(parseInt(t(326))/3)+parseInt(t(316))/4+parseInt(t(333))/5+parseInt(t(318))/6+-parseInt(t(313))/7+-parseInt(t(307))/8*(parseInt(t(321))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Sg,421889);function Mg(i,e){const t=Sg();return Mg=function(n,r){return n=n-305,t[n]},Mg(i,e)}function Rg(i){return i instanceof Image||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageBitmap?i:null}function KF(i){return i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Float32Array||i instanceof DataView?i:null}const JF=new Error(ts(328));let Al=null;function ZF(i){const e=ts;!Al&&(Al=fn(i[e(334)],i[e(329)],void 0,{willReadFrequently:!0}));const t=Al[e(323)],n=i[e(334)];t.width!==n&&(t[e(334)]=n);const r=i[e(329)];return t[e(329)]!==r&&(t[e(329)]=r),Al.clearRect(0,0,n,r),Al[e(306)](i,0,0),Al[e(310)](0,0,n,r)[e(315)]}const $F=[256,256];class Sy extends fh{constructor(e){const t=ts,n=de[t(331)];super(e[t(308)],n,{transition:e.transition,interpolate:e[t(325)]}),this[t(320)]=e.loader,this[t(337)]=null,this[t(336)]=null,this[t(305)]=e[t(317)]||null,this.controller_=e.controller||null}[ts(330)](){const e=ts;if(this.size_)return this[e(305)];const t=Rg(this[e(337)]);return t?[t[e(334)],t[e(329)]]:$F}getData(){return this[ts(337)]}getError(){return this[ts(336)]}[ts(311)](){const e=ts;if(this[e(314)]!==de[e(331)]&&this.state!==de[e(319)])return;this[e(314)]=de[e(335)],this[e(332)]();const t=this;this[e(320)]().then(function(n){const r=e;t.data_=n,t[r(314)]=de[r(309)],t[r(332)]()}).catch(function(n){const r=e;t[r(336)]=n,t.state=de[r(319)],t[r(332)]()})}[ts(324)](){const e=ts;this[e(322)]&&(this[e(322)][e(312)](JF),this[e(322)]=null),super[e(324)]()}}const ua=Rh;(function(i,e){const t=Rh,n=i();for(;;)try{if(parseInt(t(172))/1+parseInt(t(195))/2+-parseInt(t(168))/3*(-parseInt(t(202))/4)+parseInt(t(201))/5*(parseInt(t(164))/6)+-parseInt(t(210))/7+-parseInt(t(148))/8+-parseInt(t(161))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Tg,475877);function Rh(i,e){const t=Tg();return Rh=function(n,r){return n=n-135,t[n]},Rh(i,e)}function Tg(){const i=["forEach","wrappedTileCoord_","wrappedTileCoord","getTileFunction","sourceTiles_","8094195AUZDSQ","sourceTileGrid","width","7710zHlmKt","offset","sourcesListenerKeys_","push","850305nMilDo","reproject_","getTileCoordExtent","canvas","721865wkjJWj","minY","getTileSize","LOADED","round","tileCoord","IDLE","getResolution","changed","getExtent","LOADING","sourceProj","number","tile","reprojData_","load","getImageData","state","extent","getTriangles","getState","clipExtent_","errorThreshold","816416AKhZcr","pixelRatio","height","interpolate","getSize","reprojSize_","395LwNXIL","4tFjcOQ","dataType","ceil","transition","sourceZ_","slice","bytesPerPixel","getTileRangeForExtentAndZ","353017hmckKX","BYTES_PER_ELEMENT","data","reprojError_","targetTileGrid_","EMPTY","pixelRatio_","putImageData","buffer","sourceTileGrid_","getData","targetTileGrid","floor","pixelSize","createImageData","resolve","calculateSourceExtent","length","image","714880EtTbix","canWrapX","getError","gutter_","triangulation_","getContext","minX","bind"];return Tg=function(){return i},Tg()}class eL extends Sy{constructor(e){const t=Rh;super({tileCoord:e[t(177)],loader:()=>Promise[t(144)](new Uint8ClampedArray(4)),interpolate:e[t(198)],transition:e[t(205)]}),this[t(135)]=e[t(196)],this.gutter_=e.gutter,this[t(186)]=null,this[t(213)]=null,this[t(200)]=void 0,this.sourceTileGrid_=e[t(162)],this.targetTileGrid_=e[t(140)],this[t(157)]=e[t(158)]||e[t(177)],this[t(160)]=[],this.sourcesListenerKeys_=null,this[t(206)]=0;const n=e[t(183)],r=n.getExtent(),s=e[t(162)][t(181)]();this[t(193)]=n.canWrapX()?s?Mi(r,s):r:s;const a=this.targetTileGrid_[t(170)](this[t(157)]),o=this[t(214)][t(181)]();let l=this.sourceTileGrid_.getExtent();const c=o?Mi(a,o):a;if(nu(c)===0){this.state=de[t(215)];return}r&&(l?l=Mi(l,r):l=r);const x=this[t(214)].getResolution(this[t(157)][0]),u=e.targetProj,h=mB(n,u,c,x);if(!isFinite(h)||h<=0){this[t(189)]=de[t(215)];return}const f=e[t(194)]!==void 0?e[t(194)]:mE;if(this[t(152)]=new _E(n,u,c,l,h*f,x),this[t(152)][t(191)]()[t(146)]===0){this[t(189)]=de[t(215)];return}this[t(206)]=this[t(138)].getZForResolution(h);let A=this.triangulation_[t(145)]();if(l&&(n[t(149)]()?(A[1]=Bn(A[1],l[1],l[3]),A[3]=Bn(A[3],l[1],l[3])):A=Mi(A,l)),!nu(A))this[t(189)]=de[t(215)];else{let g=0,d=0;n[t(149)]()&&(g=ht(r),d=Math.floor((A[0]-r[0])/g)),YI(A[t(207)](),n,!0)[t(156)](m=>{const I=t,_=this[I(138)][I(209)](m,this.sourceZ_),y=e[I(159)];for(let E=_[I(154)];E<=_.maxX;E++)for(let C=_[I(173)];C<=_.maxY;C++){const w=y(this.sourceZ_,E,C,this.pixelRatio_);if(w){const b=d*g;this[I(160)][I(167)]({tile:w,offset:b})}}++d}),this[t(160)].length===0&&(this[t(189)]=de[t(215)])}}getSize(){return this.reprojSize_}[ua(139)](){return this[ua(186)]}[ua(150)](){return this[ua(213)]}[ua(169)](){const e=ua,t=[];let n=!1;if(this[e(160)][e(156)](g=>{var V;const d=e,p=g[d(185)];if(!p||p.getState()!==de[d(175)])return;const m=p[d(199)](),I=this[d(151)];let _;const y=KF(p[d(139)]());y?_=y:(n=!0,_=ZF(Rg(p[d(139)]())));const E=[m[0]+2*I,m[1]+2*I],C=_ instanceof Float32Array,w=E[0]*E[1],b=C?Float32Array:Uint8ClampedArray,v=new b(_[d(137)]),B=b[d(211)],R=B*v[d(146)]/w,T=v.byteLength/E[1],F=Math[d(141)](T/B/E[0]),M=w*F;let D=v;if(v[d(146)]!==M){D=new b(M);let Y=0,U=0;const ne=E[0]*F;for(let xe=0;xe<E[1];++xe){for(let G=0;G<ne;++G)D[Y++]=v[U+G];U+=T/B}}const P=this.sourceTileGrid_[d(170)](p[d(177)]);P[0]+=g[d(165)],P[2]+=g[d(165)];const k=(V=this[d(193)])==null?void 0:V.slice();k&&(k[0]+=g[d(165)],k[2]+=g.offset),t.push({extent:P,clipExtent:k,data:new Uint8ClampedArray(D.buffer),dataType:b,bytesPerPixel:R,pixelSize:E})}),this[e(160)][e(146)]=0,t.length===0){this[e(189)]=de.ERROR,this[e(180)]();return}const r=this[e(157)][0],s=this[e(214)][e(174)](r),a=typeof s=="number"?s:s[0],o=typeof s===e(184)?s:s[1],l=this.targetTileGrid_[e(179)](r),c=this.sourceTileGrid_.getResolution(this[e(206)]),x=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);let u,h;const f=t[0][e(208)],A=Math[e(204)](f/3);for(let g=A-1;g>=0;--g){const d=[];for(let E=0,C=t[e(146)];E<C;++E){const w=t[E],b=w[e(212)],v=w[e(142)],B=v[0],R=v[1],T=fn(B,R,ia),F=T[e(143)](B,R),M=F[e(212)];let D=g*3;for(let P=0,k=M[e(146)];P<k;P+=4)M[P]=b[D],M[P+1]=b[D+1],M[P+2]=b[D+2],M[P+3]=255,D+=f;T[e(136)](F,0,0),d[e(167)]({extent:w[e(190)],clipExtent:w.clipExtent,image:T[e(171)]})}const p=CE(a,o,this[e(135)],c,this[e(138)].getExtent(),l,x,this[e(152)],d,this[e(151)],!1,!1,!1);for(let E=0,C=d[e(146)];E<C;++E){const w=d[E][e(147)],b=w[e(153)]("2d");s0(b),ia.push(b[e(171)])}const m=p[e(153)]("2d"),I=m[e(188)](0,0,p.width,p[e(197)]);s0(m),ia[e(167)](p),!u&&(h=new Uint8ClampedArray(f*I[e(163)]*I.height),u=new t[0][e(203)](h[e(137)]));const _=I[e(212)];let y=g*3;for(let E=0,C=_.length;E<C;E+=4)_[E+3]===255?(h[y]=_[E],h[y+1]=_[E+1],h[y+2]=_[E+2]):(h[y]=0,h[y+1]=0,h[y+2]=0),y+=f}if(n){const g=fn(a,o),d=new ImageData(u,a);g[e(136)](d,0,0),this[e(186)]=g.canvas}else this.reprojData_=u;this.reprojSize_=[Math[e(176)](a*this[e(135)]),Math[e(176)](o*this[e(135)])],this[e(189)]=de[e(175)],this[e(180)]()}[ua(187)](){const e=ua;if(this[e(189)]!==de[e(178)]&&this.state!==de.ERROR)return;this[e(189)]=de.LOADING,this[e(180)]();let t=0;this[e(166)]=[],this[e(160)][e(156)](({tile:n})=>{const r=e,s=n[r(192)]();if(s!==de[r(178)]&&s!==de[r(182)])return;t++;const a=mt(n,Ye.CHANGE,()=>{const o=r,l=n[o(192)]();(l==de.LOADED||l==de.ERROR||l==de[o(215)])&&(Jt(a),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this[r(166)][r(167)](a)}),t===0?setTimeout(this[e(169)][e(155)](this),0):this[e(160)][e(156)](function({tile:n}){const r=e;n[r(192)]()==de[r(178)]&&n[r(187)]()})}unlistenSources_(){const e=ua;this.sourcesListenerKeys_[e(156)](Jt),this[e(166)]=null}}(function(i,e){const t=Dg,n=i();for(;;)try{if(parseInt(t(229))/1*(-parseInt(t(220))/2)+parseInt(t(228))/3*(-parseInt(t(226))/4)+parseInt(t(207))/5*(parseInt(t(224))/6)+-parseInt(t(196))/7+parseInt(t(208))/8+parseInt(t(195))/9*(-parseInt(t(230))/10)+parseInt(t(223))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qg,748832);function tL(i,e,t,n){const r=Dg,s=document[r(201)](r(214)),a=r(206)+et(e);function o(){const c=r;delete window[a],s[c(219)][c(197)](s)}s[r(225)]=!0,s[r(217)]=i+(i[r(194)]("?")?"&":"?")+r(222)+"="+a;const l=setTimeout(function(){o(),t&&t()},1e4);window[a]=function(c){clearTimeout(l),o(),e(c)},document.head[r(203)](s)}function Dg(i,e){const t=Qg();return Dg=function(n,r){return n=n-194,t[n]},Dg(i,e)}function Qg(){const i=["://","src","addEventListener","parentNode","2tXrxtw","setRequestHeader","callback","15627832TGHcEI","24WHerrc","async","941468pxQTIM","Unexpected response status: ","3NxgwgL","229249iBckKX","10WILWpZ","name","includes","2792727oWrxeg","7550830cJeGly","removeChild","status","href","ResponseError","createElement","parse","appendChild","responseText","Failed to issue request","olc_","135490tDoZlh","8586696qWLruU","GET","XMLHttpRequest","client","open","target","script","undefined"];return Qg=function(){return i},Qg()}var Rr=Th;(function(i,e){for(var t=Th,n=i();;)try{var r=-parseInt(t(354))/1*(parseInt(t(363))/2)+parseInt(t(367))/3+parseInt(t(352))/4+-parseInt(t(349))/5+-parseInt(t(356))/6+parseInt(t(372))/7*(-parseInt(t(371))/8)+parseInt(t(359))/9;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Fg,159263);function Th(i,e){var t=Fg();return Th=function(n,r){n=n-347;var s=t[n];return s},Th(i,e)}let J5=class extends fh{constructor(e,t,n,r,s,a){var o=Th;super(e,t,a),this[o(365)]=null,this[o(353)]=r,this.features_=null,this.loader_,this[o(361)]=null,this[o(362)],this[o(347)]=s,this.url_=n,this[o(370)]=n}[Rr(375)](){var e=Rr;return this[e(353)]}[Rr(348)](){var e=Rr;return this[e(355)]}load(){var e=Rr;this[e(374)]==de[e(360)]&&(this[e(373)](de[e(357)]),this[e(347)](this,this[e(358)]),this.loader_&&this[e(368)](this.extent,this.resolution,this.projection))}[Rr(350)](e,t){var n=Rr;this[n(366)](e)}[Rr(364)](){var e=Rr;this[e(373)](de[e(351)])}[Rr(366)](e){var t=Rr;this[t(355)]=e,this.setState(de.LOADED)}[Rr(369)](e){this.loader_=e}};function Fg(){var i=["key","6152GpnLtc","98OEtmAB","setState","state","getFormat","tileLoadFunction_","getFeatures","761255YzLDMR","onLoad","ERROR","274904hXSRXb","format_","118UgKQoy","features_","1153452bbPVHI","LOADING","url_","4579506PAbkBM","IDLE","projection","resolution","1306xiVDFU","onError","extent","setFeatures","42048sIOrLd","loader_","setLoader"];return Fg=function(){return i},Fg()}const ha=Dh;(function(i,e){const t=Dh,n=i();for(;;)try{if(parseInt(t(237))/1+-parseInt(t(218))/2*(-parseInt(t(241))/3)+parseInt(t(219))/4*(parseInt(t(239))/5)+-parseInt(t(214))/6*(parseInt(t(217))/7)+-parseInt(t(228))/8*(-parseInt(t(233))/9)+parseInt(t(229))/10*(parseInt(t(220))/11)+parseInt(t(225))/12*(-parseInt(t(222))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Lg,369271);function Dh(i,e){const t=Lg();return Dh=function(n,r){return n=n-214,t[n]},Dh(i,e)}function Lg(){const i=["110rmWunB","getSourceTiles","1045577HfXLzD","executorGroups","errorTileKeys","60rjEEfE","getContext","push","17616pXUCWX","55290JmFUJY","getImage","wantedResolution","bind","1341VXfqCz","context_","sourceTiles","hasContext","398170EaPKXe","hitDetectionImageData","206215CMReiw","canvas","6ONSnuR","release","6dxXcvX","replayState_","getReplayState","4169410YBBfBY","503002tBgBib","8VsNShY"];return Lg=function(){return i},Lg()}const Z5=[];class nL extends fh{constructor(e,t,n,r){const s=Dh;super(e,t,{transition:0}),this[s(234)]=null,this[s(223)]=[],this.loadingSourceTiles=0,this[s(238)]={},this.replayState_={},this[s(235)]=[],this[s(224)]={},this[s(231)],this.getSourceTiles=r[s(232)](void 0,this),this.wrappedTileCoord=n}[ha(226)](){const e=ha;return!this[e(234)]&&(this[e(234)]=fn(1,1,Z5)),this[e(234)]}hasContext(){return!!this.context_}[ha(230)](){const e=ha;return this[e(236)]()?this[e(226)]()[e(240)]:null}[ha(216)](e){const t=ha,n=et(e);return!(n in this[t(215)])&&(this[t(215)][n]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[n]}load(){this[ha(221)]()}[ha(242)](){const e=ha;s0(this[e(234)]),Z5[e(227)](this[e(234)][e(240)]),this.context_=null,super.release()}}const Wi=Qh;(function(i,e){const t=Qh,n=i();for(;;)try{if(parseInt(t(520))/1+-parseInt(t(533))/2*(parseInt(t(528))/3)+-parseInt(t(552))/4*(-parseInt(t(548))/5)+parseInt(t(563))/6*(-parseInt(t(491))/7)+-parseInt(t(496))/8*(-parseInt(t(504))/9)+-parseInt(t(522))/10+parseInt(t(545))/11*(-parseInt(t(508))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Pg,898868);function Qh(i,e){const t=Pg();return Qh=function(n,r){return n=n-486,t[n]},Qh(i,e)}function Pg(){const i=["onLoad","reduce","tileLoadFunction","loadingSourceTiles","load","attributionsCollapsible","wrapX","6nxZZuQ","set","expireCache","wrappedTileCoord","map","setLoader","getZForResolution","getTileSize","tileSize","tileClass","key","onError","getTileGridForProjection","slice","containsKey","removeEventListener","6100178OmpwKC","getTileCacheForProjection","EMPTY","resolution","getTileCoordExtent","4655688vWpCxa","getCode","ERROR","LOADED","getTileCoordForTileUrlFunction","round","cacheSize","maxZoom","9GUMtoz","clear","getExtent","minZoom","7176FuIYXT","format_","zDirection","sourceTileCache_","extent","get","IDLE","url","getOrigin","getTileGrid","getTilePixelRatio","getResolutions","1619183YdaaSI","forEachTileCoord","2454480UKKrdN","getSourceTiles","getTile","peek","tileGrid","getFormat","1953YOKqnU","errorTileKeys","projection","getState","maxResolution","3886SwMsaJ","EPSG:3857","push","getResolution","tileGrids_","getKey","addEventListener","getOverlaps","state","overlaps_","length","keys","11473gEIHLI","LOADING","CHANGE","39245vdAAOB","overlaps","setState","format","868dPpbLc","bind","sourceTiles","tileUrlFunction"];return Pg=function(){return i},Pg()}class My extends ig{constructor(e){const t=Qh,n=e[t(530)]||t(534),r=e[t(512)]||Zp(n),s=e[t(526)]||by({extent:r,maxResolution:e[t(532)],maxZoom:e[t(503)]!==void 0?e[t(503)]:22,minZoom:e[t(507)],tileSize:e[t(571)]||512});super({attributions:e.attributions,attributionsCollapsible:e[t(561)],cacheSize:e[t(502)],interpolate:!0,projection:n,state:e[t(541)],tileGrid:s,tileLoadFunction:e[t(558)]?e[t(558)]:$5,tileUrlFunction:e[t(555)],url:e[t(515)],urls:e.urls,wrapX:e[t(562)]===void 0?!0:e.wrapX,transition:e.transition,zDirection:e[t(510)]===void 0?1:e[t(510)]}),this[t(509)]=e[t(551)]?e.format:null,this.sourceTileCache_=new Ey(128),this[t(542)]=e[t(549)]==null?!0:e[t(549)],this[t(572)]=e[t(572)]?e[t(572)]:J5,this[t(537)]={}}[Wi(540)](){return this.overlaps_}[Wi(505)](){this[Wi(511)].clear()}[Wi(565)](e,t){const n=Wi,r=this[n(492)](e),s=Object[n(544)](t)[n(557)]((a,o)=>{const l=n,c=vF(o),x=r[l(525)](c);if(x){const u=x[l(554)];for(let h=0,f=u.length;h<f;++h)a[u[h][l(538)]()]=!0}return a},{});super[n(565)](e,t),this[n(511)][n(565)](s)}[Wi(523)](e,t,n){const r=Wi;if(n[r(531)]()===de[r(514)]){n[r(550)](de[r(546)]);const s=n[r(566)],a=this[r(487)](t),o=a[r(495)](s),l=s[0],c=a[r(536)](l);Wa(o,-c,o);const x=this[r(526)],u=x[r(506)]();u&&Mi(o,u,o);const h=x[r(569)](c,this.zDirection);x[r(521)](o,h,f=>{const A=r,g=this[A(555)](f,e,t),d=this[A(511)][A(489)](g)?this[A(511)][A(513)](g):new this[A(572)](f,g?de[A(514)]:de[A(493)],g,this[A(509)],this[A(558)]);n[A(554)][A(535)](d);const p=d[A(531)]();if(p<de.LOADED){const m=I=>{const _=A;this.handleTileChange(I);const y=d[_(531)]();if(y===de[_(499)]||y===de.ERROR){const E=d.getKey();E in n.errorTileKeys?d[_(531)]()===de[_(499)]&&delete n[_(529)][E]:n[_(559)]--,y===de[_(498)]?n.errorTileKeys[E]=!0:d[_(490)](Ye[_(547)],m),n[_(559)]===0&&n[_(550)](Xa(n[_(529)])?de[_(499)]:de[_(498)])}};d[A(539)](Ye[A(547)],m),n[A(559)]++}p===de[A(514)]&&(d[A(512)]=x[A(495)](f),d[A(530)]=t,d[A(494)]=x[A(536)](f[0]),this[A(511)][A(564)](g,d),d[A(560)]())}),!n.loadingSourceTiles&&n[r(550)](n.sourceTiles.some(f=>f.getState()===de[r(498)])?de[r(498)]:de[r(499)])}return n[r(554)]}[Wi(524)](e,t,n,r,s){const a=Wi,o=[e,t,n];let l=this[a(500)](o,s);const c=this[a(517)]()[a(506)](),x=this[a(487)](s);if(l&&c){const f=x[a(495)](l);Wa(f,-x[a(536)](e),f),!wn(c,f)&&(l=null)}let u=!0;if(l!==null){const f=this.tileGrid,A=x[a(536)](e),g=f.getZForResolution(A,1),d=x[a(495)](l);Wa(d,-A,d),f.forEachTileCoord(d,g,p=>{u=u&&!this.tileUrlFunction(p,r,s)})}const h=new nL(o,u?de[a(493)]:de[a(514)],l,this.getSourceTiles[a(553)](this,r,s));return h[a(573)]=this.getKey(),h}[Wi(487)](e){const t=Wi,n=e[t(497)]();let r=this[t(537)][n];if(!r){const s=this[t(526)],a=s[t(519)]()[t(488)](),o=a.map(function(x,u){return s[t(516)](u)}),l=a[t(567)](function(x,u){return s.getTileSize(u)}),c=bB+1;for(let x=a[t(543)];x<c;++x)a[t(535)](a[x-1]/2),o.push(o[x-1]),l[t(535)](l[x-1]);r=new Kp({extent:s[t(506)](),origins:o,resolutions:a,tileSizes:l}),this.tileGrids_[n]=r}return r}[Wi(518)](e){return e}getTilePixelSize(e,t,n){const r=Wi,s=this[r(487)](n),a=pi(s[r(570)](e),this.tmpSize);return[Math[r(501)](a[0]*t),Math[r(501)](a[1]*t)]}}function $5(i,e){const t=Wi;i[t(568)](function(n,r,s){const a=t;j5(e,i[a(527)](),n,r,s,i[a(556)][a(553)](i),i[a(486)].bind(i))})}function kg(i,e){var t=Ug();return kg=function(n,r){n=n-273;var s=t[n];return s},kg(i,e)}var iL=kg;function Ug(){var i=["80rkXQAs","5846224YTPyOn","1757FTIAAa","1309626XNvbuB","338202tTiErZ","3bywVnG","183135zceEjf","2251752RbaRWU","3744nlcLPm","1243092PvzYub","preload"];return Ug=function(){return i},Ug()}(function(i,e){for(var t=kg,n=i();;)try{var r=parseInt(t(275))/1+-parseInt(t(279))/2+-parseInt(t(277))/3*(parseInt(t(281))/4)+-parseInt(t(278))/5+parseInt(t(280))/6*(-parseInt(t(274))/7)+parseInt(t(273))/8+-parseInt(t(276))/9*(-parseInt(t(283))/10);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ug,711128);const mo={PRELOAD:iL(282),USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},fa=Fh;function Ng(){const i=["6850752yQLdoF","5eJOMNe","29642140FdPquL","getPreload","3097928kzlxhq","6311585vFyKBf","assign","setPreload","USE_INTERIM_TILES_ON_ERROR","getCacheSize","getUseInterimTilesOnError","8460LrNyOB","6033ggbJuH","set","PRELOAD","preload","once","cacheSize","useInterimTilesOnError","209496tLvUJD","568tXwdpL","1024NzoOHQ","cacheSize_"];return Ng=function(){return i},Ng()}(function(i,e){const t=Fh,n=i();for(;;)try{if(-parseInt(t(454))/1+parseInt(t(456))/2*(-parseInt(t(447))/3)+-parseInt(t(462))/4+parseInt(t(459))/5*(-parseInt(t(458))/6)+parseInt(t(463))/7+parseInt(t(455))/8*(-parseInt(t(446))/9)+parseInt(t(460))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ng,643727);class rL extends _0{constructor(e){const t=Fh;e=e||{};const n=Object[t(464)]({},e),r=e[t(452)];delete e[t(452)],delete n[t(450)],delete n[t(453)],super(n),this.on,this[t(451)],this.un,this[t(457)]=r,this[t(442)](e[t(450)]!==void 0?e[t(450)]:0),this.setUseInterimTilesOnError(e[t(453)]!==void 0?e[t(453)]:!0)}[fa(444)](){return this[fa(457)]}[fa(461)](){const e=fa;return this.get(mo[e(449)])}[fa(442)](e){const t=fa;this[t(448)](mo[t(449)],e)}[fa(445)](){const e=fa;return this.get(mo[e(443)])}setUseInterimTilesOnError(e){this[fa(448)](mo.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}function Fh(i,e){const t=Ng();return Fh=function(n,r){return n=n-442,t[n]},Fh(i,e)}const pn=_o;(function(i,e){const t=_o,n=i();for(;;)try{if(-parseInt(t(505))/1+-parseInt(t(524))/2+parseInt(t(516))/3+parseInt(t(578))/4*(parseInt(t(599))/5)+-parseInt(t(561))/6+-parseInt(t(489))/7+parseInt(t(501))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Og,841095);function Og(){const i=["minX","getRenderContext","keys","maxY","getRevision","getInterpolate","getImageData","tempTileRange_","set","3359915zrLnVH","tileQueue","usedTiles","EMPTY","renderedPixelRatio","getTileCache","tempTileCoord_","renderedTiles","updateCacheSize","time","extentChanged","globalAlpha","resolution","getTileRangeForTileCoordAndZ","getData","getImage","maxStaleKeys","opacity","renderedRevision","729057uYPtYH","delete","isKeyQueued","get","enqueueTiles","drawTile","getGutterForProjection","getResolutionForZoom","getStaleKeys","expireCache","getWrapX","clear","23927256OOyQah","tempExtent","renderedRevision_","renderedProjection","1134455kRwpIX","getMaxResolution","tileCache_","tempTransform","floor","layerIndex","frameState","findAltTiles_","clipUnrotated","getTilePixelRatio","height","2931447Fytxsq","renderedSourceRevision_","width","canvas","imageSmoothingEnabled","getAlpha","add","min","1883074dxnLDl","nextExtent","viewState","push","endTransition","container","containsKey","layerStatesArray","getResolution","LOADED","prepareContainer","preRender","zDirection","postRender","nextResolution","length","projection","pixelRatio","getTile","getSource","save","layer","Rendering array data is not yet supported","getState","enqueue","getTileGridForProjection","getRenderSource","clip","renderedExtent_","maxX","getTileImage","getLayer","getKey","map","lineTo","context","tileCoord","9712806iWBeoR","animate","moveTo","minY","slice","wantedTiles","max","getTileCoordExtent","renderedSourceKey_","restore","renderComplete","unshift","findStaleTile_","extent","highWaterMark","getMinZoom","updateUsedTiles","4QqjbQP","getOrigin","getOrCreateTile","getZForResolution","round","getTileRangeForExtentAndZ","center","getTileCoordForCoordAndZ","getMapInternal","getTileCoordCenter","cacheSize","postRenderFunctions"];return Og=function(){return i},Og()}function _o(i,e){const t=Og();return _o=function(n,r){return n=n-479,t[n]},_o(i,e)}function Ry(i,e,t,n){return i+","+ph(e,t,n)}function Ty(i,e,t){const n=_o;if(!(t in i))return i[t]=new Set([e]),!0;const r=i[t],s=r.has(e);return!s&&r[n(522)](e),!s}function sL(i,e,t){const n=_o,r=i[t];return r?r[n(490)](e):!1}function eS(i,e){const t=_o,n=i[t(531)][i[t(510)]];n.extent&&(e=Mi(e,_s(n[t(574)],i[t(526)][t(540)])));const r=n[t(545)].getRenderSource();if(!r[t(499)]()){const s=r.getTileGridForProjection(i[t(526)][t(540)]).getExtent();s&&(e=Mi(e,s))}return e}class tS extends ty{constructor(e,t){const n=_o;super(e),t=t||{},this[n(480)]=!0,this[n(571)]=!1,this[n(552)]=null,this[n(603)],this.renderedProjection=null,this[n(488)],this[n(606)]=[],this[n(569)],this[n(517)],this[n(502)]=yr(),this[n(597)]=new Cy(0,0,0,0),this[n(605)]=zp(0,0,0);const r=t[n(588)]!==void 0?t[n(588)]:512;this[n(507)]=new P5(r),this[n(486)]=r*.5}[pn(604)](){return this[pn(507)]}[pn(580)](e,t,n,r){const s=pn,a=this[s(507)],o=this[s(555)](),l=o[s(543)](),c=Ry(l[s(556)](),e,t,n);let x;if(a[s(530)](c))x=a[s(492)](c);else{if(x=l[s(542)](e,t,n,r[s(541)],r.viewState[s(540)]),!x)return null;a[s(598)](c,x)}return x}[pn(542)](e,t,n,r){const s=pn,a=this[s(580)](e,t,n,r);return a||null}[pn(484)](e){const t=pn,n=this[t(511)];if(!n)return null;const r=this[t(555)](),s=Vn(n.pixelToCoordinateTransform,e[t(565)]()),a=r.getExtent();if(a&&!t0(a,s))return null;const o=n.viewState,l=r[t(550)](),c=l[t(549)](o[t(540)]),x=l[t(514)](n[t(541)]);for(let u=c[t(581)](o[t(482)]);u>=c[t(576)]();--u){const h=c[t(585)](s,u),f=this[t(542)](u,h[1],h[2],n);if(!f||f.getState()!==de[t(533)])continue;const A=c[t(579)](u),g=pi(c.getTileSize(u)),d=c[t(532)](u);let p;if(f instanceof k5)p=f.getImage();else if(f instanceof Sy){if(p=Rg(f[t(484)]()),!p)continue}else continue;const m=Math[t(509)](x*((s[0]-A[0])/d-h[1]*g[0])),I=Math[t(509)](x*((A[1]-s[1])/d-h[2]*g[1])),_=Math[t(582)](x*l[t(495)](o[t(540)]));return this[t(596)](p,m+_,I+_)}return null}prepareFrame(e){const t=pn,n=this[t(555)]()[t(543)]();if(!n)return!1;const r=n.getRevision();return this[t(503)]?this[t(503)]!==r&&(this[t(503)]=r,this.renderedSourceKey_===n[t(556)]()&&this[t(507)][t(500)]()):this[t(503)]=r,!0}[pn(493)](e,t,n,r,s){const a=pn,o=e.viewState,l=this.getLayer(),c=l[a(550)](),x=c[a(549)](o[a(540)]),u=et(c);!(u in e[a(566)])&&(e[a(566)][u]={});const h=e.wantedTiles[u],f=l[a(586)](),A=Math[a(567)](n-s,x[a(576)](),x[a(581)](Math[a(523)](l[a(506)](),f?f.getView()[a(496)](Math.max(l[a(576)](),0)):x[a(532)](0)),c[a(536)]));for(let g=n;g>=A;--g){const d=x[a(583)](t,g,this[a(597)]),p=x[a(532)](g);for(let m=d[a(590)];m<=d[a(553)];++m)for(let I=d.minY;I<=d[a(593)];++I){const _=this[a(542)](g,m,I,e);if(!_||!Ty(r,_,g))continue;const E=_[a(556)]();if(h[E]=!0,_[a(547)]()===de.IDLE&&!e.tileQueue[a(491)](E)){const C=zp(g,m,I,this[a(605)]);e[a(600)][a(548)]([_,u,x[a(587)](C),p])}}}}[pn(573)](e,t){const n=pn,r=this[n(507)],s=e[0],a=e[1],o=e[2],l=this[n(497)]();for(let c=0;c<l[n(539)];++c){const x=Ry(l[c],s,a,o);if(r[n(530)](x)){const u=r[n(492)](x);if(u.getState()===de[n(533)])return u[n(528)](et(this)),Ty(t,u,s),!0}}return!1}[pn(512)](e,t,n,r){const s=pn,a=e[s(483)](t,n,this[s(597)]);if(!a)return!1;let o=!0;const l=this[s(507)],c=this.getLayer()[s(550)](),x=c.getKey();for(let u=a[s(590)];u<=a[s(553)];++u)for(let h=a[s(564)];h<=a[s(593)];++h){const f=Ry(x,n,u,h);let A=!1;if(l[s(530)](f)){const g=l[s(492)](f);g.getState()===de.LOADED&&(Ty(r,g,n),A=!0)}!A&&(o=!1)}return o}renderFrame(e,t){const n=pn;this[n(571)]=!0;const r=e[n(531)][e[n(510)]],s=e.viewState,a=s.projection,o=s[n(482)],l=s[n(584)],c=e[n(541)],x=this[n(555)](),u=x[n(543)](),h=u[n(594)](),f=u.getTileGridForProjection(a),A=f.getZForResolution(o,u[n(536)]),g=f[n(532)](A),d=u[n(556)]();this[n(569)]?this.renderedSourceKey_!==d&&(this.prependStaleKey(this[n(569)]),this.renderedSourceKey_=d):this.renderedSourceKey_=d;let p=e[n(574)];const m=u[n(514)](c);this[n(534)](e,t);const I=this[n(559)][n(519)][n(518)],_=this.context.canvas[n(515)],y=r[n(574)]&&_s(r[n(574)]);y&&(p=Mi(p,_s(r[n(574)])));const E=g*I/2/m,C=g*_/2/m,w=[l[0]-E,l[1]-C,l[0]+E,l[1]+C],b={};this.renderedTiles[n(539)]=0;const v=x.getPreload();if(e[n(525)]){const U=f[n(581)](s[n(538)],u.zDirection),ne=eS(e,e.nextExtent);this[n(493)](e,ne,U,b,v)}const B=eS(e,p);if(this.enqueueTiles(e,B,A,b,0),v>0&&setTimeout(()=>{this.enqueueTiles(e,B,A-1,b,v-1)},0),!(A in b))return this[n(529)];const R=et(this),T=e[n(479)];for(const U of b[A]){const ne=U[n(547)]();if((U instanceof U5||U instanceof eL)&&ne===de[n(602)])continue;const xe=U[n(560)];if(ne===de[n(533)]&&U[n(521)](R,T)===1){U[n(528)](R);continue}if(this[n(571)]=!1,this[n(573)](xe,b)){sL(b,U,A),e.animate=!0;continue}if(this.findAltTiles_(f,xe,A+1,b))continue;const ee=f[n(576)]();for(let K=A-1;K>=ee&&!this[n(512)](f,xe,K,b);--K);}const F=g/o*c/m,M=this[n(591)](e);Bs(this.tempTransform,I/2,_/2,F,F,0,-I/2,-_/2),r[n(574)]&&this[n(513)](M,e,y),!u[n(595)]()&&(M[n(520)]=!1),this[n(535)](M,e);const D=Object[n(592)](b)[n(557)](Number);D.sort(Is);let P;const k=[],V=[];for(let U=D[n(539)]-1;U>=0;--U){const ne=D[U],xe=u.getTilePixelSize(ne,c,a),G=f[n(532)](ne),O=G/g,ee=xe[0]*O*F,K=xe[1]*O*F,ce=f.getTileCoordForCoordAndZ(Ks(w),ne),Ae=f[n(568)](ce),ge=Vn(this[n(508)],[m*(Ae[0]-w[0])/g,m*(w[3]-Ae[3])/g]),oe=m*u[n(495)](a);for(const Se of b[ne]){if(Se[n(547)]()!==de[n(533)])continue;const At=Se[n(560)],N=ce[1]-At[1],Nt=Math[n(582)](ge[0]-(N-1)*ee),ze=ce[2]-At[2],Ge=Math[n(582)](ge[1]-(ze-1)*K),Be=Math.round(ge[0]-N*ee),ke=Math.round(ge[1]-ze*K),Re=Nt-Be,L=Ge-ke,S=D[n(539)]===1;let X=!1;P=[Be,ke,Be+Re,ke,Be+Re,ke+L,Be,ke+L];for(let se=0,te=k.length;se<te;++se)if(!S&&ne<V[se]){const j=k[se];wn([Be,ke,Be+Re,ke+L],[j[0],j[3],j[4],j[7]])&&(!X&&(M[n(544)](),X=!0),M.beginPath(),M[n(563)](P[0],P[1]),M[n(558)](P[2],P[3]),M.lineTo(P[4],P[5]),M.lineTo(P[6],P[7]),M[n(563)](j[6],j[7]),M.lineTo(j[4],j[5]),M[n(558)](j[2],j[3]),M.lineTo(j[0],j[1]),M[n(551)]())}k[n(527)](P),V[n(527)](ne),this[n(494)](Se,e,Be,ke,Re,L,oe,S),X&&M[n(570)](),this[n(606)][n(572)](Se),this[n(577)](e[n(601)],u,Se)}}this.renderedRevision=h,this.renderedResolution=g,this[n(480)]=!this[n(552)]||!js(this[n(552)],w),this[n(552)]=w,this.renderedPixelRatio=c,this[n(504)]=a,this[n(537)](this[n(559)],e),r.extent&&M.restore(),M[n(520)]=!0;const Y=(U,ne)=>{const xe=n,G=et(u),O=ne[xe(566)][G],ee=O?Object.keys(O)[xe(539)]:0;this.updateCacheSize(ee),this[xe(507)][xe(498)]()};return e[n(589)].push(Y),this[n(529)]}[pn(607)](e){const t=pn;this[t(507)][t(575)]=Math[t(567)](this[t(507)][t(575)],e*2)}[pn(494)](e,t,n,r,s,a,o,l){const c=pn;let x;if(e instanceof Sy){if(x=Rg(e[c(484)]()),!x)throw new Error(c(546))}else x=this[c(554)](e);if(!x)return;const u=this[c(591)](t),h=et(this),f=t[c(531)][t[c(510)]],A=f.opacity*(l?e[c(521)](h,t[c(479)]):1),g=A!==u[c(481)];g&&(u[c(544)](),u[c(481)]=A),u.drawImage(x,o,o,x[c(518)]-2*o,x[c(515)]-2*o,n,r,s,a),g&&u.restore(),A!==f[c(487)]?t[c(562)]=!0:l&&e[c(528)](h)}getImage(){const e=pn,t=this[e(559)];return t?t[e(519)]:null}[pn(554)](e){return e[pn(485)]()}updateUsedTiles(e,t,n){const r=pn,s=et(t);!(s in e)&&(e[s]={}),e[s][n[r(556)]()]=!0}}var nS=Gg;(function(i,e){for(var t=Gg,n=i();;)try{var r=parseInt(t(278))/1*(parseInt(t(281))/2)+-parseInt(t(282))/3*(parseInt(t(276))/4)+-parseInt(t(274))/5+-parseInt(t(280))/6+-parseInt(t(279))/7*(parseInt(t(277))/8)+parseInt(t(283))/9*(-parseInt(t(273))/10)+parseInt(t(272))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(zg,612960);function Gg(i,e){var t=zg();return Gg=function(n,r){n=n-271;var s=t[n];return s},Gg(i,e)}class Dy extends rL{constructor(e){super(e)}[nS(271)](){var e=nS;return new tS(this,{cacheSize:this[e(275)]()})}}function zg(){var i=["4358754eojFIP","17536XRZJMC","999dXZzzU","187911jDmeZl","createRenderer","32267422SzHOWQ","540ORbACX","3316405GIdcRK","getCacheSize","5020nqabmf","4832584HmBhFM","139uMihAQ","7yMOpYY"];return zg=function(){return i},zg()}const Pn=dl;(function(i,e){const t=dl,n=i();for(;;)try{if(-parseInt(t(346))/1+-parseInt(t(368))/2+parseInt(t(348))/3+parseInt(t(360))/4+-parseInt(t(352))/5+-parseInt(t(349))/6*(parseInt(t(347))/7)+parseInt(t(357))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vg,879655);function Vg(){const i=["siftDown_","heapify_","isKeyQueued","length","1448729SnflAb","8222529MKmAHK","2555832XYsHZD","6wBFGEx","queuedElements_","isEmpty","4517305uMhJoP","getLeftChildIndex_","Tried to enqueue an `element` that was already added to the queue","getRightChildIndex_","dequeue","31105384FlxYbP","getCount","getParentIndex_","2410256AWJKJD","elements_","priorities_","siftUp_","push","pop","isQueued","keyFunction_","1872378JvsmVI","reprioritize","priorityFunction_"];return Vg=function(){return i},Vg()}const Hg=1/0;function dl(i,e){const t=Vg();return dl=function(n,r){return n=n-342,t[n]},dl(i,e)}class aL{constructor(e,t){const n=dl;this[n(370)]=e,this[n(367)]=t,this[n(361)]=[],this[n(362)]=[],this[n(350)]={}}clear(){const e=dl;this.elements_.length=0,this[e(362)][e(345)]=0,eu(this[e(350)])}[Pn(356)](){const e=Pn,t=this[e(361)],n=this[e(362)],r=t[0];t[e(345)]==1?(t[e(345)]=0,n[e(345)]=0):(t[0]=t[e(365)](),n[0]=n[e(365)](),this[e(363)](0));const s=this[e(367)](r);return delete this[e(350)][s],r}enqueue(e){const t=Pn;yt(!(this[t(367)](e)in this[t(350)]),t(354));const n=this[t(370)](e);return n!=Hg?(this[t(361)].push(e),this[t(362)][t(364)](n),this[t(350)][this[t(367)](e)]=!0,this[t(342)](0,this.elements_[t(345)]-1),!0):!1}[Pn(358)](){const e=Pn;return this.elements_[e(345)]}[Pn(353)](e){return e*2+1}[Pn(355)](e){return e*2+2}[Pn(359)](e){return e-1>>1}[Pn(343)](){const e=Pn;let t;for(t=(this.elements_[e(345)]>>1)-1;t>=0;t--)this[e(363)](t)}[Pn(351)](){return this.elements_.length===0}[Pn(344)](e){return e in this[Pn(350)]}[Pn(366)](e){const t=Pn;return this[t(344)](this[t(367)](e))}[Pn(363)](e){const t=Pn,n=this[t(361)],r=this.priorities_,s=n[t(345)],a=n[e],o=r[e],l=e;for(;e<s>>1;){const c=this[t(353)](e),x=this.getRightChildIndex_(e),u=x<s&&r[x]<r[c]?x:c;n[e]=n[u],r[e]=r[u],e=u}n[e]=a,r[e]=o,this[t(342)](l,e)}[Pn(342)](e,t){const n=Pn,r=this[n(361)],s=this.priorities_,a=r[t],o=s[t];for(;t>e;){const l=this[n(359)](t);if(s[l]>o)r[t]=r[l],s[t]=s[l],t=l;else break}r[t]=a,s[t]=o}[Pn(369)](){const e=Pn,t=this.priorityFunction_,n=this[e(361)],r=this[e(362)];let s=0;const a=n[e(345)];let o,l,c;for(l=0;l<a;++l)o=n[l],c=t(o),c==Hg?delete this[e(350)][this[e(367)](o)]:(r[s]=c,n[s++]=o);n[e(345)]=s,r[e(345)]=s,this.heapify_()}}const Io=w0;function qg(){const i=["enqueue","load","6903TNwMgL","log","tileChangeCallback_","getKey","apply","wantedTiles","4401537uBKzUl","tilesLoading_","getState","getTilesLoading","CHANGE","EMPTY","444129urLKuv","IDLE","loadMoreTiles","4490505VECaXc","bind","viewState","tilesLoadingKeys_","boundHandleTileChange_","108423twlYuU","1450624vIHrjm","393700rHInzR","ERROR","getCount","2792QJcxag","center","6vUbxVJ","addEventListener","handleTileChange","LOADED"];return qg=function(){return i},qg()}(function(i,e){const t=w0,n=i();for(;;)try{if(parseInt(t(384))/1+-parseInt(t(394))/2+parseInt(t(392))/3+-parseInt(t(393))/4+parseInt(t(387))/5+-parseInt(t(399))/6*(parseInt(t(411))/7)+parseInt(t(397))/8*(parseInt(t(405))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(qg,457757);class iS extends aL{constructor(e,t){const n=w0;super(function(r){return e[w0(409)](null,r)},function(r){const s=w0;return r[0][s(408)]()}),this[n(391)]=this[n(401)][n(388)](this),this.tileChangeCallback_=t,this.tilesLoading_=0,this[n(390)]={}}[Io(403)](e){const t=Io,n=super[t(403)](e);return n&&e[0][t(400)](Ye[t(382)],this[t(391)]),n}[Io(381)](){return this[Io(412)]}handleTileChange(e){const t=Io,n=e.target,r=n[t(413)]();if(r===de[t(402)]||r===de.ERROR||r===de[t(383)]){r!==de[t(395)]&&n.removeEventListener(Ye[t(382)],this[t(391)]);const s=n[t(408)]();s in this.tilesLoadingKeys_&&(delete this[t(390)][s],--this[t(412)]),this[t(407)]()}}[Io(386)](e,t){const n=Io;let r=0;for(;this[n(412)]<e&&r<t&&this[n(396)]()>0;){const s=this.dequeue()[0],a=s.getKey();s[n(413)]()===de[n(385)]&&!(a in this[n(390)])&&(this[n(390)][a]=!0,++this[n(412)],++r,s[n(404)]())}}}function w0(i,e){const t=qg();return w0=function(n,r){return n=n-381,t[n]},w0(i,e)}function oL(i,e,t,n,r){const s=Io;if(!i||!(t in i[s(410)])||!i[s(410)][t][e.getKey()])return Hg;const a=i[s(389)][s(398)],o=n[0]-a[0],l=n[1]-a[1];return 65536*Math[s(406)](r)+Math.sqrt(o*o+l*l)/r}const St=Aa;(function(i,e){const t=Aa,n=i();for(;;)try{if(parseInt(t(513))/1*(-parseInt(t(576))/2)+parseInt(t(475))/3+parseInt(t(570))/4*(parseInt(t(583))/5)+-parseInt(t(520))/6+parseInt(t(568))/7+-parseInt(t(587))/8+-parseInt(t(528))/9*(parseInt(t(575))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Yg,890918);function Yg(){const i=["maxQueueLength_","beforeoperations","dispatch_","viewState","  const buffer = __minion__(event.data);","center","getRenderer","dispatchEvent","keys","createObjectURL","processor_","getRevision","extent","height","buffers","afteroperations","9356368cQCXxu","size","676OqQyvq","disposed","time","bind","buffer","143270qsJzjC","32PSNVfL","frameState_","firstElementChild","message","set","running_","ceil","45905gfgojk","canvas","renderTargets","getResolution","8962040AomAlJ","dataLookup_","getExtent","inputs","requestedFrameState_","Unsupported layer type: ","width","meta","4110477XmKLTm","push","const ","operation","operationType_","image","});","string","animate","map","renderedImageCanvas_","onWorkerComplete_","now","ready","pixelRatio","threads_","length","disposeInternal","enqueue_","dispose","round",'self.addEventListener("message", function(event) {',"data:text/javascript;base64,","resolution","terminate","updateFrameState_","processSources_","postMessage","assign","sources","getImage","workers_","imageOps","undefined","AFTEROPERATIONS"," = ","once","setAttributions","35944arkoda","renderedRevision_","concat","binary","layers_","renderFrame","callback","6078318hdcfwc","imageOps_","job_","slice","queue_","shift","allSourcesReady_","data","414SOlPFT","useResolutions_","tileQueue_","toString","from","prototype","lib","setOperation","resolutions","getImageData","getSource","getContext","CHANGE","process","operationType","onWorkerMessage_","threads","addEventListener","clearRect","changed","resolveJob_","prepareFrame","putImageData","text/javascript"];return Yg=function(){return i},Yg()}function Aa(i,e){const t=Yg();return Aa=function(n,r){return n=n-473,t[n]},Aa(i,e)}function rS(i){return function(e){const t=Aa,n=e[t(566)],r=e[t(474)],s=e[t(507)],a=e[t(473)],o=e[t(565)],l=n[t(491)],c=n[0].byteLength;if(s){const f=new Array(l);for(let g=0;g<l;++g)f[g]=new ImageData(new Uint8ClampedArray(n[g]),a,o);return i(f,r)[t(527)][t(574)]}const x=new Uint8ClampedArray(c),u=new Array(l),h=new Array(l);for(let f=0;f<l;++f)u[f]=new Uint8ClampedArray(n[f]),h[f]=[0,0,0,0];for(let f=0;f<c;f+=4){for(let g=0;g<l;++g){const d=u[g];h[g][0]=d[f],h[g][1]=d[f+1],h[g][2]=d[f+2],h[g][3]=d[f+3]}const A=i(h,r);x[f]=A[0],x[f+1]=A[1],x[f+2]=A[2],x[f+3]=A[3]}return x[t(574)]}}function cL(i,e){const t=Aa,n=Object[t(560)](i.lib||{})[t(484)](function(a){const o=t;return o(477)+a+o(510)+i[o(534)][a][o(531)]()+";"}),r=n[t(515)](["const __minion__ = ("+rS[t(531)]()+")(",i.operation[t(531)](),");",t(496),t(556),"  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);",t(481)]),s=new Worker(typeof Blob===t(508)?t(497)+Buffer[t(532)](r.join(`
`),t(516))[t(531)]("base64"):URL[t(561)](new Blob(r,{type:t(551)})));return s[t(545)](t(579),e),s}function lL(i,e){const t=rS(i.operation);let n=!1;return{postMessage:function(r){setTimeout(function(){const s=Aa;n||e({data:{buffer:t(r),meta:r[s(474)]}})},0)},terminate:function(){n=!0}}}class xL extends rd{constructor(e){const t=Aa;super(),this[t(521)]=!!e[t(507)];let n;e[t(544)]===0?n=0:this[t(521)]?n=1:n=e[t(544)]||1;const r=new Array(n);if(n)for(let s=0;s<n;++s)r[s]=cL(e,this[t(543)].bind(this,s));else r[0]=lL(e,this[t(543)][t(573)](this,0));this[t(506)]=r,this[t(524)]=[],this[t(552)]=e.queue||1/0,this[t(581)]=0,this[t(588)]={},this[t(522)]=null}process(e,t,n){const r=Aa;this[r(493)]({inputs:e,meta:t,callback:n}),this[r(554)]()}[St(493)](e){const t=St;for(this[t(524)][t(476)](e);this[t(524)][t(491)]>this.maxQueueLength_;)this[t(524)][t(525)]().callback(null,null)}[St(554)](){const e=St;if(this.running_||this[e(524)][e(491)]===0)return;const t=this[e(524)][e(525)]();this[e(522)]=t;const n=t.inputs[0][e(473)],r=t[e(590)][0][e(565)],s=t[e(590)][e(484)](function(c){const x=e;return c.data[x(574)]}),a=this[e(506)][e(491)];if(this.running_=a,a===1){this[e(506)][0][e(502)]({buffers:s,meta:t[e(474)],imageOps:this.imageOps_,width:n,height:r},s);return}const o=t[e(590)][0][e(527)].length,l=4*Math[e(582)](o/4/a);for(let c=0;c<a;++c){const x=c*l,u=[];for(let h=0,f=s[e(491)];h<f;++h)u[e(476)](s[h][e(523)](x,x+l));this[e(506)][c][e(502)]({buffers:u,meta:t[e(474)],imageOps:this[e(521)],width:n,height:r},u)}}[St(543)](e,t){const n=St;this[n(571)]||(this[n(588)][e]=t[n(527)],--this.running_,this.running_===0&&this[n(548)]())}[St(548)](){const e=St,t=this[e(522)],n=this[e(506)][e(491)];let r,s;if(n===1)r=new Uint8ClampedArray(this[e(588)][0][e(574)]),s=this[e(588)][0].meta;else{const a=t.inputs[0].data.length;r=new Uint8ClampedArray(a),s=new Array(n);const o=4*Math[e(582)](a/4/n);for(let l=0;l<n;++l){const c=this[e(588)][l][e(574)],x=l*o;r[e(580)](new Uint8ClampedArray(c),x),s[l]=this[e(588)][l][e(474)]}}this.job_=null,this[e(588)]={},t[e(519)](null,new ImageData(r,t[e(590)][0][e(473)],t[e(590)][0].height),s),this[e(554)]()}[St(492)](){const e=St;for(let t=0;t<this[e(506)][e(491)];++t)this[e(506)][t][e(499)]();this[e(506)][e(491)]=0}}const sS={BEFOREOPERATIONS:St(553),AFTEROPERATIONS:St(567)};class aS extends br{constructor(e,t,n){const r=St;super(e),this.extent=t[r(564)],this.resolution=t[r(555)][r(498)]/t[r(489)],this[r(527)]=n}}class oS extends BE{constructor(e){const t=St;super({projection:null}),this.on,this[t(511)],this.un,this[t(562)]=null,this[t(479)]=e[t(542)]!==void 0?e[t(542)]:"pixel",this.threads_=e[t(544)]!==void 0?e[t(544)]:1,this[t(517)]=fL(e[t(504)]);const n=this[t(547)][t(573)](this);for(let r=0,s=this[t(517)][t(491)];r<s;++r)this[t(517)][r].addEventListener(Ye[t(540)],n);this[t(529)]=e[t(536)]!==null,this[t(530)]=new iS(function(){return 1},this[t(501)][t(573)](this)),this[t(591)],this.renderedImageCanvas_=null,this[t(514)],this.frameState_={animate:!1,coordinateToPixelTransform:Gi(),declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:hL(this[t(517)]),pixelRatio:1,pixelToCoordinateTransform:Gi(),postRenderFunctions:[],size:[0,0],tileQueue:this[t(530)],time:Date[t(487)](),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:et(this),renderTargets:{}},this[t(512)](function(r){var o;const s=t,a=[];for(let l=0,c=e[s(504)][s(491)];l<c;++l){const x=e[s(504)][l],u=x instanceof Qc?x:x[s(538)]();if(!u)continue;const h=(o=u.getAttributions())==null?void 0:o(r);typeof h===s(482)?a[s(476)](h):h!==void 0&&a[s(476)](...h)}return a}),e[t(478)]!==void 0&&this[t(535)](e[t(478)],e.lib)}[St(535)](e,t){const n=St;this.processor_&&this[n(562)][n(494)](),this[n(562)]=new xL({operation:e,imageOps:this[n(479)]===n(480),queue:1,lib:t,threads:this[n(490)]}),this[n(547)]()}[St(500)](e,t,n){const r=St,s=Object[r(503)]({},this[r(577)]);s.viewState=Object[r(503)]({},s[r(555)]);const a=Cr(e);s.size[0]=Math.ceil(ht(e)/t),s[r(569)][1]=Math[r(582)](vn(e)/t),s.extent=[a[0]-s[r(569)][0]*t/2,a[1]-s[r(569)][1]*t/2,a[0]+s.size[0]*t/2,a[1]+s[r(569)][1]*t/2],s[r(572)]=Date[r(487)]();const o=s[r(555)];return o[r(557)]=a,o.projection=n,o.resolution=t,s}[St(526)](){const e=St;let t=!0,n;for(let r=0,s=this[e(517)][e(491)];r<s;++r)if(n=this.layers_[r][e(538)](),!n||n.getState()!==e(488)){t=!1;break}return t}[St(505)](e,t,n,r){const s=St;if(!this[s(526)]())return null;this.tileQueue_.loadMoreTiles(16,16),t=this.findNearestResolution(t);const a=this.updateFrameState_(e,t,r);if(this[s(591)]=a,this[s(485)]){const o=this[s(485)][s(586)](),l=this[s(485)][s(589)]();(t!==o||!js(a.extent,l))&&(this[s(485)]=null)}return(!this.renderedImageCanvas_||this[s(563)]()!==this[s(514)])&&this.processSources_(),a.animate&&requestAnimationFrame(this[s(547)][s(573)](this)),this[s(485)]}processSources_(){const e=St,t=this.requestedFrameState_,n=this[e(517)][e(491)],r=new Array(n);for(let a=0;a<n;++a){t.layerIndex=a,t[e(585)]={};const o=uL(this[e(517)][a],t);if(o)r[a]=o;else return}const s={};this[e(559)](new aS(sS.BEFOREOPERATIONS,t,s)),this.processor_[e(541)](r,s,this[e(486)][e(573)](this,t))}[St(486)](e,t,n,r){const s=St;if(t||!n)return;const a=e[s(564)],o=e[s(555)][s(498)];if(o!==this[s(591)][s(555)].resolution||!js(a,this[s(591)][s(564)]))return;let l;if(this[s(485)])l=this[s(485)].getImage()[s(539)]("2d");else{const c=Math[s(495)](ht(a)/o),x=Math[s(495)](vn(a)/o);l=fn(c,x),this.renderedImageCanvas_=new dB(a,o,1,l[s(584)])}l[s(550)](n,0,0),e[s(483)]?requestAnimationFrame(this[s(547)].bind(this)):this.changed(),this[s(514)]=this[s(563)](),this[s(559)](new aS(sS[s(509)],e,r))}getResolutions(e){const t=St;if(!this[t(529)])return null;let n=super.getResolutions();if(!n)for(let r=0,s=this.layers_[t(491)];r<s&&(n=this[t(517)][r][t(538)]().getResolutions(e),!n);++r);return n}[St(492)](){this[St(562)]&&this.processor_.dispose(),super.disposeInternal()}}oS[St(533)].dispose;let B0=null;function uL(i,e){const t=St,n=i[t(558)]();if(!n)throw new Error(t(592)+i);if(!n[t(549)](e))return null;const r=e[t(569)][0],s=e[t(569)][1];if(r===0||s===0)return null;const a=n[t(518)](e,null);let o;if(a instanceof HTMLCanvasElement)o=a;else{if(a&&(o=a[t(578)]),!(o instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+o);if(o.width===r&&o.height===s)return o[t(539)]("2d")[t(537)](0,0,r,s)}if(!B0)B0=fn(r,s,void 0,{willReadFrequently:!0});else{const l=B0[t(584)];l.width!==r||l.height!==s?B0=fn(r,s,void 0,{willReadFrequently:!0}):B0[t(546)](0,0,r,s)}return B0.drawImage(o,0,0,r,s),B0[t(537)](0,0,r,s)}function hL(i){return i[St(484)](function(t){return t.getLayerState()})}function fL(i){const e=St,t=i[e(491)],n=new Array(t);for(let r=0;r<t;++r)n[r]=AL(i[r]);return n}function AL(i){let e;return i instanceof Qc?i instanceof z5?e=new Dy({source:i}):i instanceof BE&&(e=new ny({source:i})):e=i,e}const Eo=Lh;(function(i,e){const t=Lh,n=i();for(;;)try{if(parseInt(t(435))/1*(-parseInt(t(412))/2)+-parseInt(t(423))/3+parseInt(t(398))/4*(parseInt(t(420))/5)+parseInt(t(402))/6*(parseInt(t(411))/7)+-parseInt(t(413))/8*(-parseInt(t(414))/9)+parseInt(t(425))/10*(parseInt(t(416))/11)+parseInt(t(408))/12*(parseInt(t(421))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Xg,976438);function Lh(i,e){const t=Xg();return Lh=function(n,r){return n=n-393,t[n]},Lh(i,e)}class cS extends zF{constructor(e){const t=Lh;if(super({attributions:e[t(417)],cacheSize:e[t(410)],crossOrigin:e.crossOrigin,interpolate:e[t(397)],projection:Kt("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e[t(426)],wrapX:e[t(419)]!==void 0?e.wrapX:!0,transition:e[t(403)],zDirection:e[t(406)]}),this.tileJSON_=null,this.tileSize_=e.tileSize,e[t(439)])if(e[t(430)])tL(e[t(439)],this[t(427)][t(438)](this),this[t(428)][t(438)](this));else{const n=new XMLHttpRequest;n[t(431)]("load",this[t(396)][t(438)](this)),n.addEventListener("error",this[t(400)][t(438)](this)),n.open("GET",e[t(439)]),n[t(429)]()}else if(e[t(405)])this[t(427)](e[t(405)]);else throw new Error(t(407))}[Eo(396)](e){const t=Eo,n=e[t(432)];if(!n.status||n.status>=200&&n[t(424)]<300){let r;try{r=JSON.parse(n[t(409)])}catch{this[t(428)]();return}this.handleTileJSONResponse(r)}else this[t(428)]()}[Eo(400)](e){this[Eo(428)]()}getTileJSON(){return this.tileJSON_}[Eo(427)](e){const t=Eo,n=Kt(t(440)),r=this[t(436)]();let s;if(e[t(418)]!==void 0){const x=iu(n,r);s=kw(e[t(418)],x)}const a=Zp(r),o=e.minzoom||0,l=e[t(401)]||22,c=by({extent:a,maxZoom:l,minZoom:o,tileSize:this[t(437)]});if(this[t(404)]=c,this[t(422)]=H5(e.tiles,c),e.attribution&&!this[t(415)]()){const x=s!==void 0?s:a;this[t(434)](function(u){const h=t;return wn(x,u[h(395)])?[e[h(394)]]:null})}this[t(393)]=e,this[t(433)]("ready")}[Eo(428)](){const e=Eo;this[e(433)](e(399))}}function Xg(){const i=["4641995nPZUYj","6873646kkUxxP","tileUrlFunction","4376286muSrDO","status","201380EyzcER","tileLoadFunction","handleTileJSONResponse","handleTileJSONError","send","jsonp","addEventListener","target","setState","setAttributions","1wuQoPp","getProjection","tileSize_","bind","url","EPSG:4326","tileJSON_","attribution","extent","onXHRLoad_","interpolate","4ooMHbz","error","onXHRError_","maxzoom","2749584TyAcSu","transition","tileGrid","tileJSON","zDirection","Either `url` or `tileJSON` options must be provided","12SnNNLt","responseText","cacheSize","7tmeaHl","2224346pThHFK","735432ARDQtf","144UfoCIx","getAttributions","88gOejiH","attributions","bounds","wrapX"];return Xg=function(){return i},Xg()}function lS(i,e,t,n,r,s,a){if(t>=e[0]&&t<=e[2]&&n<=e[1]&&n>=e[3]){var o;t<0?o=xS(Math.abs(e[2]+t),360)/s:o=xS(Math.abs(t-e[0]),360)/s,o=Math.abs(t-e[0])/s;var l=(e[1]-n)/a,c=Math.floor(o),x=c+1,u=Math.floor(l),h=u+1,f;if(f=r[u]){var A=f[c],g=f[x];if(g==null&&(g=f[c]),yo(A)&&yo(g)&&(f=r[h])){var d=f[c],p=f[x];if(p==null&&(p=f[c]),i==1){if(yo(d)&&yo(p))return Qy(o-c,l-u,A,g,d,p)}else if(i==2){let m=A.speed,I=g.speed,_=d.speed,y=p.speed,E,C;yo(_)&&yo(y)&&(E=Qy(o-c,l-u,m,I,_,y));let w=A.direction,b=g.direction,v=d.direction,B=p.direction;return yo(v)&&yo(B)&&(C=Qy(o-c,l-u,w,b,v,B)),{direction:C,speed:E}}}}return null}return null}function xS(i,e){var t=i-e*Math.floor(i/e);return t===e?0:t}function yo(i){return i!=null}function Qy(i,e,t,n,r,s){var a=1-i,o=1-e;return t*a*o+n*i*o+r*a*e+s*i*e}function dL(i,e,t,n){let r=null;return r=pL(i,e,t,n),r}function pL(i,e,t,n){e.dx,e.dy;let r=e.nx,s=e.ny,a=[],o=0;if(t==1){const c=i[0];for(let x=0;x<s;x++){var l=[];for(let u=0;u<r;u++,o++)l[u]=mL(c[o],n,t);a[x]=l}return a}else if(t==2){const c=i[0],x=i[1];for(let u=0;u<s;u++){var l=[];for(let f=0;f<r;f++,o++)l[f]=gL(c[o],x[o],n);a[u]=l}return a}return a}function uS(i,e,t,n,r,s){let a=Math.max(i[0],e[0]),o=Math.max(i[1],e[1]),l=Math.min(i[2],e[2]),c=Math.min(i[3],e[3]);return t.la1=c,t.la2=o,t.lo1=a,t.lo2=l,dL(n,t,r,s)}function hS(i,e){return i==e.nodata}function gL(i,e,t,n){let r={};if(hS(i,t))return t.nodata;{const s=i/t.scale+t.offset,a=e/t.scale+t.offset,o=Math.sqrt(s*s+a*a);let l=270-Math.atan2(a,s)*180/Math.PI;return l>=360&&(l=l-360),r.speed=o,r.direction=l.toString(),r}}function mL(i,e,t){if(t==1){if(hS(i,e))return e;{let n=0;return e.unit=="C"?n=(i-273.15*e.customScale)/e.customScale+e.offset:n=i/e.scale+e.offset,n}}}const _L={Circle:Vc,Fill:zi,Icon:I0,Image:su,IconImage:aB,RegularShape:Rc,Stroke:Ri,Style:Ct,Text:Ku,cme_style_FontSymbol:ws};function Di(i){if(!i||typeof i!="object")return i;const e={};for(const t of Object.keys(i)){const n=_L[t];if(n)return new n(Di(i[t]));Array.isArray(i[t])?e[t]=i[t]:e[t]=Di(i[t])}return e}var IL=class extends Zc{constructor(e,t){super(t),this.map=e,this.options=t,this.canvas=null,this.gl=null,this.setOpacity(0),this.loadData=!1,this.worldExtent=null}_render(){return new Promise((e,t)=>{e(!0)})}drawGridNumber(e){e==null||e.length==0||this.setDataToLayer(e)}setDataToLayer(e){this.worldExtent=this.map.getView().calculateExtent(this.map.getSize()),this.rasterDatas=e;let t=[],n=[],r=[],s=[],a=[],o=[],l=[];debugger;e.forEach(v=>{t.push(v.params.bbox),n.push(v.params.viewBBox),r.push(v.params.interpolationParams),s.push(v.params.bandsNumber),a.push(v.params.metadata),o.push(uS(v.params.bbox,v.params.viewBBox,v.params.interpolationParams,v,v.params.bandsNumber,v.params.metadata)),l.push(v.params.project)});const c=this.options,{distance:x,fixedPixel:u,layer:h,showTextRange:f,precision:A}=c,g=A||0;let d=this.map.getView().getProjection().getCode(),p=l[0];var m=t[0];p!=d&&(d=="EPSG:3857"&&(t[0][1]<-85.05112877980659&&(t[0][1]=-85.05112877980659),t[0][3]>85.05112877980659&&(t[0][3]=85.05112877980659)),m=tE(t[0],p,d));let I=+x||80;const[_,y,E]=F5(this.map,this.worldExtent,m,window.innerWidth,window.innerHeight,I);let C,w=[],b;for(let v=0;v<_.length;v++)for(let B=0;B<o.length;B++){let R=this.map.getCoordinateFromPixel(_[v]),T=this._getData(R,r[B],s[B],o[B]);if(T!=null){b=new p0(R),C=new ol(b);let F="";if(s[B]==2){if(F=(T.speed/a[B].scale).toFixed(g).toString(),F=(T.speed/a[B].scale).toFixed(g).toString(),F>a[B].max/a[B].scale||F<a[B].min/a[B].scale)break}else if(s[B]==1&&this.isValue(T,s[B])&&(F=T.toFixed(g).toString(),F>a[B].max||F<a[B].min))break;if(!this.getRange(F))break;this.addFeaturesStyle(F,C),w.push(C)}}this.addFeaturesToLayer(w),this.loadData=!1}getRange(e){return this.options.range?e<=(this.options.range.max||99999999)&&e>=(this.options.range.min||-99999999):!0}updateStyle(e){this.options.range=e.range,this.setDataToLayer(this.rasterDatas)}isValue(e,t){if(t==1)return e!=null&&!isNaN(e);if(t==2)if(e!=null&&!isNaN(e)){let n=e.speed;return n!=null&&!isNaN(n)}else return!1}addFeaturesStyle(e,t){let n=null;if(this.options.textStyle)n=Di(this.options.textStyle),n.getText().setText(e.toString()),t.setStyle(n);else{let r={Style:{text:{Text:{text:e.toString(),font:"20px Calibri,sans-serif",fill:{Fill:{color:"#000000"}},stroke:{Stroke:{color:"#ffffff",width:4}}}}}};n=Di(r),t.setStyle(n)}}addFeaturesToLayer(e){if(e.length>0){if(this.getSource())this.getSource().clear();else{let t=new fl({wrapX:!1});this.setSource(t)}e.length>0&&(this.getSource().addFeatures(e),this.setOpacity(1))}}_setSource(e){}_setStyle(e){}_remove(){}_getData(e,t,n,r){let s=Ic(this.map,e),a=[t.lo1,t.la1,t.lo2,t.la2];s[0],s[1];let o=[s[0],s[1]];return o[0]%360<-180?o[0]=360+o[0]%360:o[0]=o[0]%360,o[0]>180&&(o[0]=o[0]-360),lS(n,a,o[0],o[1],r,t.dx,t.dy)}};function EL(i){return JSON.parse(JSON.stringify(i))}class pl{constructor(){this._style={},this.isDestoryed=!1}parse(){return new Ct}serialize(){return EL(this._style)}setStyle(e){this._style=e}setColor(e){this._color=e}destory(){this._style={},this.isDestoryed=!0}}const yL={TWO_PI:Math.PI*2,HALF_PI:Math.PI/2,FITTING_COUNT:100,ZERO_TOLERANCE:1e-4,HELPER_HIDDEN_DIV:"p-helper-hidden-div",HELPER_CONTROL_POINT_DIV:"p-helper-control-point-div",HELPER_shizi:"mybkkd",SE_DISABLED:"se_disabled"};function Ph(i,e){let t=e[0]-i[0],n=e[1]-i[1];return Math.sqrt(t*t+n*n)}function Wg(i,e){return[(i[0]+e[0])/2,(i[1]+e[1])/2]}function ji(i,e){return Math.atan2(e[1]-i[1],e[0]-i[0])}function CL(i,e){const t=Math.asin(Math.abs(e[1]-i[1])/Ph(i,e));let n;return e[1]>=i[1]&&e[0]>=i[0]?n=t+Math.PI:e[1]>=i[1]&&e[0]<i[0]?n=yL.TWO_PI-t:e[1]<i[1]&&e[0]<i[0]?n=t:e[1]<i[1]&&e[0]>=i[0]&&(n=Math.PI-t),n}function bL(i,e,t){return[e[0]+i*(t[0]-e[0]),e[1]+i*(t[1]-e[1])]}function da(i,e,t){let n=Ph(i,e),r=t/n;return bL(r,i,e)}function gl(i,e){let t=0,n=i[0],r=[n];for(let s=1;s<i.length;s++){const a=i[s];let o=t+Ph(n,a),l=e-t;for(;o>=e;){let c=da(n,a,l);r.push(c),l=e,o-=e,n=c}t=o,n=a}return r.push(n),r}function jg(i,e,t=10){if(!Array.isArray(i)||!e)return null;const n=[];let r=e/2;return i.forEach((s,a)=>{if(!a)return;const o=i[a-1];let l=ji(s,o);const c=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)),x=r+c;if(x<e)r=x;else if(x===e){a!==i.length-1&&(l=(Math.PI-ji(i[a+1],s))/2);const{prevs:h,nexts:f}=fS(s,i,a,t/2);n.push({point:s,angle:l,prevs:h,nexts:f}),r=0}else{const u=e-r;let h=c-u,f,A;for(;h>0;){const g=h/c;f=s[0]-(s[0]-o[0])*g,A=s[1]-(s[1]-o[1])*g;const{prevs:d,nexts:p}=fS([f,A],i,a,t/2);n.push({point:[f,A],angle:l,prevs:d,nexts:p}),h-=e}r=Math.sqrt(Math.pow(s[0]-f,2)+Math.pow(s[1]-A,2))}}),n}function fS(i,e,t,n){const r=[],s=[];let a=i,o=0,l=0,c=0;for(let x=t;x>0;x--){if(c=Ph(e[x-1],a),o+c<=n)r.push(e[x-1]),o+=c;else{c=n-o;const u=da(a,e[x-1],c);r.push(u);break}a=e[x-1]}a=i;for(let x=t;x<e.length;x++){if(c=Ph(a,e[x]),l+c<=n)s.push(e[x]),l+=c;else{c=n-l;const u=da(a,e[x],c);s.push(u);break}a=e[x]}return{prevs:r.reverse(),nexts:s}}function Fy(i,e,t,n,r){const s=CL(i,e),a=r?s+t:s-t,o=n*Math.cos(a),l=n*Math.sin(a);return[e[0]+o,e[1]+l]}const Qi=kh;(function(i,e){const t=kh,n=i();for(;;)try{if(parseInt(t(294))/1+-parseInt(t(317))/2+-parseInt(t(326))/3+-parseInt(t(322))/4*(parseInt(t(296))/5)+-parseInt(t(303))/6+parseInt(t(324))/7+parseInt(t(310))/8*(parseInt(t(284))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Kg,571382);function kh(i,e){const t=Kg();return kh=function(n,r){return n=n-281,t[n]},kh(i,e)}function Kg(){const i=["2573320sHfMLQ","flatCoordinates","pow","extent","readProjection","assign","flat","2019420vJPDLo","length","properties","Circle","featureProjection","dataProjection","GeometryCollection","10047448KZfLWp","type","geometry","defaultFeatureProjection","writeFeatures","applyTransform","ends","198808xmFbOG","getUnits","featureClass","getType","Polygon","4mmlAWB","writeGeometry","1698662PgtLrK","slice","50661vCIIiJ","MultiPolygon","readFeature","clone","9zInXLo","isArray","supportedMediaTypes","tile-pixels","map","writeFeature","round","getReadOptions","readGeometry","adaptOptions","40310rGLtNn","layout"];return Kg=function(){return i},Kg()}class AS{constructor(){const e=kh;this[e(308)]=void 0,this.defaultFeatureProjection=void 0,this[e(319)]=ol,this[e(286)]=null}[Qi(291)](e,t){const n=Qi;if(t){let r=t[n(308)]?Kt(t.dataProjection):this.readProjection(e);t[n(299)]&&r&&r[n(318)]()===n(287)&&(r=Kt(r),r.setWorldExtent(t[n(299)])),t={dataProjection:r,featureProjection:t.featureProjection}}return this[n(293)](t)}[Qi(293)](e){const t=Qi;return Object[t(301)]({dataProjection:this.dataProjection,featureProjection:this[t(313)],featureClass:this.featureClass},e)}[Qi(320)](){return je()}[Qi(282)](e,t){return je()}readFeatures(e,t){return je()}[Qi(292)](e,t){return je()}[Qi(300)](e){return je()}[Qi(289)](e,t){return je()}[Qi(314)](e,t){return je()}[Qi(323)](e,t){return je()}}function Jg(i,e,t){const n=Qi,r=t?Kt(t[n(307)]):null,s=t?Kt(t[n(308)]):null;let a=i;if(r&&s&&!Js(r,s)){e&&(a=i[n(283)]());const o=e?r:s,l=e?s:r;o.getUnits()===n(287)?a.transform(o,l):a[n(315)](_c(o,l))}if(e&&t&&t.decimals!==void 0){const o=Math[n(298)](10,t.decimals),l=function(c){const x=n;for(let u=0,h=c[x(304)];u<h;++u)c[u]=Math[x(290)](c[u]*o)/o;return c};a===i&&(a=i[n(283)]()),a[n(315)](l)}return a}const vL={Point:p0,LineString:v0,Polygon:Nc,MultiPoint:vh,MultiLineString:bh,MultiPolygon:Bh};function wL(i,e,t){const n=Qi;return Array[n(285)](e[0])?(!XB(i,0,e,t)&&(i=i[n(325)](),WE(i,0,e,t)),i):(!XE(i,0,e,t)&&(i=i[n(325)](),w1(i,0,e,t)),i)}function dS(i,e){var a;const t=Qi,n=i[t(312)];if(!n)return[];if(Array.isArray(n))return n[t(288)](o=>dS({...i,geometry:o}))[t(302)]();const r=n.type===t(281)?t(321):n[t(311)];if(r===t(309)||r===t(306))throw new Error("Unsupported geometry type: "+r);const s=n[t(295)][t(304)];return Jg(new Ei(r,r===t(321)?wL(n.flatCoordinates,n[t(316)],s):n[t(297)],(a=n[t(316)])==null?void 0:a[t(302)](),s,i[t(305)]||{},i.id).enableSimplifyTransformed(),!1,e)}function Ly(i,e){const t=Qi;if(!i)return null;if(Array[t(285)](i)){const r=i.map(s=>Ly(s,e));return new fg(r)}const n=vL[i[t(311)]];return Jg(new n(i[t(297)],i[t(295)],i.ends),!1,e)}const kn=Zg;(function(i,e){const t=Zg,n=i();for(;;)try{if(-parseInt(t(369))/1+parseInt(t(366))/2*(-parseInt(t(385))/3)+parseInt(t(378))/4*(-parseInt(t(363))/5)+parseInt(t(381))/6+-parseInt(t(376))/7*(parseInt(t(390))/8)+-parseInt(t(374))/9*(parseInt(t(382))/10)+parseInt(t(384))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})($g,650769);function Zg(i,e){const t=$g();return Zg=function(n,r){return n=n-363,t[n]},Zg(i,e)}function $g(){const i=["string","writeFeatures","readFeature","29457tWhiKU","writeGeometry","2489039pksnAk","readGeometryFromObject","7464FzyIjY","getReadOptions","writeFeatureObject","3488934TCyPkY","1370RPvqNs","readGeometry","19326109ZJdLnk","3bccoRu","stringify","writeGeometryObject","readFeaturesFromObject","readProjection","8sHrFsu","165FXFihS","getType","writeFeature","142866RYzCsV","readFeatureFromObject","readProjectionFromObject","750650CKBbCO","writeFeaturesObject"];return $g=function(){return i},$g()}class BL extends AS{constructor(){super()}[kn(364)](){return"json"}[kn(373)](e,t){const n=kn;return this[n(367)](em(e),this[n(379)](e,t))}readFeatures(e,t){const n=kn;return this[n(388)](em(e),this[n(379)](e,t))}[kn(367)](e,t){return je()}[kn(388)](e,t){return je()}[kn(383)](e,t){const n=kn;return this[n(377)](em(e),this[n(379)](e,t))}[kn(377)](e,t){return je()}[kn(389)](e){return this[kn(368)](em(e))}[kn(368)](e){return je()}[kn(365)](e,t){return JSON.stringify(this[kn(380)](e,t))}[kn(380)](e,t){return je()}[kn(372)](e,t){const n=kn;return JSON[n(386)](this[n(370)](e,t))}writeFeaturesObject(e,t){return je()}[kn(375)](e,t){return JSON[kn(386)](this.writeGeometryObject(e,t))}[kn(387)](e,t){return je()}}function em(i){if(typeof i===kn(371)){const t=JSON.parse(i);return t||null}return i!==null?i:null}const rn=Uh;(function(i,e){const t=Uh,n=i();for(;;)try{if(-parseInt(t(466))/1*(-parseInt(t(443))/2)+-parseInt(t(464))/3*(-parseInt(t(483))/4)+parseInt(t(484))/5*(-parseInt(t(459))/6)+-parseInt(t(463))/7+-parseInt(t(434))/8*(-parseInt(t(472))/9)+parseInt(t(471))/10+-parseInt(t(455))/11*(parseInt(t(447))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(tm,771492);class pS extends BL{constructor(e){const t=Uh;e=e||{},super(),this[t(486)]=Kt(e.dataProjection?e[t(486)]:"EPSG:4326"),e[t(470)]&&(this[t(446)]=Kt(e[t(470)])),e[t(437)]&&(this.featureClass=e[t(437)]),this[t(492)]=e.geometryName,this[t(445)]=e[t(462)],this[t(480)]=[t(429),t(456)]}[rn(436)](e,t){const n=rn;let r=null;e[n(430)]===n(452)?r=e:r={type:n(452),geometry:e,properties:null};const s=Py(r[n(493)]);if(this[n(437)]===Ei)return dS({geometry:s,id:r.id,properties:r[n(465)]},t);const a=new ol;return this[n(492)]?a[n(469)](this[n(492)]):this[n(445)]&&r[n(460)]&&a.setGeometryName(r[n(460)]),a[n(431)](Ly(s,t)),"id"in r&&a[n(481)](r.id),r[n(465)]&&a[n(444)](r.properties,!0),a}[rn(490)](e,t){const n=rn,r=e;let s=null;if(r[n(430)]===n(450)){const a=e;s=[];const o=a[n(489)];for(let l=0,c=o.length;l<c;++l){const x=this[n(436)](o[l],t);x&&s[n(432)](x)}}else s=[this[n(436)](e,t)];return s[n(479)]()}[rn(476)](e,t){return SL(e,t)}[rn(457)](e){const t=rn,n=e[t(473)];let r;if(n)if(n.type==t(427))r=Kt(n[t(465)][t(427)]);else if(n.type===t(448))r=Kt(t(438)+n.properties.code);else throw new Error(t(467));else r=this[t(486)];return r}[rn(458)](e,t){const n=rn;t=this.adaptOptions(t);const r={type:n(452),geometry:null,properties:null},s=e[n(485)]();if(s!==void 0&&(r.id=s),!e[n(439)]())return r;const a=e[n(487)](),o=e[n(491)]();return o&&(r.geometry=ky(o,t),delete a[e.getGeometryName()]),!Xa(a)&&(r[n(465)]=a),r}[rn(474)](e,t){const n=rn;t=this.adaptOptions(t);const r=[];for(let s=0,a=e[n(478)];s<a;++s)r.push(this.writeFeatureObject(e[s],t));return{type:n(450),features:r}}[rn(442)](e,t){return ky(e,this[rn(454)](t))}}function Py(i,e){const t=rn;if(!i)return null;let n;switch(i[t(430)]){case t(441):{n=RL(i);break}case t(477):{n=TL(i);break}case"Polygon":{n=LL(i);break}case t(488):{n=QL(i);break}case t(475):{n=DL(i);break}case t(435):{n=FL(i);break}case t(482):{n=ML(i);break}default:throw new Error("Unsupported GeoJSON type: "+i[t(430)])}return n}function SL(i,e){const t=Py(i);return Ly(t,e)}function ML(i,e){const t=rn;return i[t(494)][t(433)](function(r){return Py(r)})}function RL(i){const e=rn,t=i[e(451)];return{type:e(441),flatCoordinates:t,layout:f0(t[e(478)])}}function TL(i){var r;const e=rn,t=i[e(451)],n=t[e(479)]();return{type:e(477),flatCoordinates:n,ends:[n.length],layout:f0(((r=t[0])==null?void 0:r[e(478)])||2)}}function DL(i){var a,o;const e=rn,t=i.coordinates,n=((o=(a=t[0])==null?void 0:a[0])==null?void 0:o[e(478)])||2,r=[],s=Fu(r,0,t,n);return{type:"MultiLineString",flatCoordinates:r,ends:s,layout:f0(n)}}function QL(i){var n;const e=rn,t=i.coordinates;return{type:e(488),flatCoordinates:t[e(479)](),layout:f0(((n=t[0])==null?void 0:n[e(478)])||2)}}function FL(i){var a,o;const e=rn,t=i[e(451)],n=[],r=((o=(a=t[0])==null?void 0:a[0])==null?void 0:o[0].length)||2,s=UB(n,0,t,r);return{type:e(435),flatCoordinates:n,ends:s,layout:f0(r)}}function LL(i){var s,a;const e=i.coordinates,t=[],n=(a=(s=e[0])==null?void 0:s[0])==null?void 0:a.length,r=Fu(t,0,e,n);return{type:"Polygon",flatCoordinates:t,ends:r,layout:f0(n)}}function ky(i,e){const t=rn;i=Jg(i,!0,e);const n=i[t(468)]();let r;switch(n){case t(441):{r=GL(i);break}case"LineString":{r=kL(i);break}case t(428):{r=zL(i,e);break}case"MultiPoint":{r=NL(i);break}case t(475):{r=UL(i);break}case"MultiPolygon":{r=OL(i,e);break}case"GeometryCollection":{r=PL(i,e);break}case t(461):{r={type:t(482),geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function PL(i,e){const t=rn;e=Object[t(449)]({},e),delete e[t(470)];const n=i.getGeometriesArray()[t(433)](function(r){return ky(r,e)});return{type:t(482),geometries:n}}function kL(i,e){return{type:rn(477),coordinates:i.getCoordinates()}}function UL(i,e){return{type:"MultiLineString",coordinates:i.getCoordinates()}}function Uh(i,e){const t=tm();return Uh=function(n,r){return n=n-427,t[n]},Uh(i,e)}function NL(i,e){return{type:rn(488),coordinates:i.getCoordinates()}}function OL(i,e){const t=rn;let n;return e&&(n=e[t(453)]),{type:t(435),coordinates:i[t(440)](n)}}function GL(i,e){const t=rn;return{type:t(441),coordinates:i[t(440)]()}}function tm(){const i=["writeFeaturesObject","MultiLineString","readGeometryFromObject","LineString","length","flat","supportedMediaTypes","setId","GeometryCollection","388aBBDiN","5VfcuRP","getId","dataProjection","getProperties","MultiPoint","features","readFeaturesFromObject","getGeometry","geometryName_","geometry","geometries","name","Polygon","application/geo+json","type","setGeometry","push","map","11149448yLlZti","MultiPolygon","readFeatureFromObject","featureClass","EPSG:","hasProperties","getCoordinates","Point","writeGeometryObject","1198322IGwiGP","setProperties","extractGeometryName_","defaultFeatureProjection","45036NLviUE","EPSG","assign","FeatureCollection","coordinates","Feature","rightHanded","adaptOptions","1727UePtKf","application/vnd.geo+json","readProjectionFromObject","writeFeatureObject","4567746PYMvNl","geometry_name","Circle","extractGeometryName","7616182iEIVBQ","11607DzJVPp","properties","2nNDpDl","Unknown SRS type","getType","setGeometryName","featureProjection","2427340hvIiaQ","9AkRzrD","crs"];return tm=function(){return i},tm()}function zL(i,e){const t=rn;let n;return e&&(n=e[t(453)]),{type:t(428),coordinates:i[t(440)](n)}}class VL extends pl{constructor(e){super(),this._angle=Math.PI/4,this.lineLength=15,this._sqrt_2=1.414,this.lineWidth=e.lineWidth,this.offset=-10,this._color="rgb(204, 51, 51)",this._style={color:this._color}}renderFront(e,t,n){let r=0;r=this.offset>0?0:Math.PI;const s=Math.atan2(t[1]-n[1],t[0]-n[0])+r,a=Math.abs(this.offset),o=(t[0]+n[0])/2,l=(t[1]+n[1])/2;e.strokeStyle=this._color,e.lineWidth=this.lineWidth,e.save(),e.translate(o,l),e.rotate(s),e.beginPath(),e.moveTo(0,0),e.lineTo(0,a),e.stroke(),e.restore()}parse(){const e=new Ct({stroke:new Ri({color:this._color,width:this.lineWidth})}),t=new Ct({renderer:(n,r)=>{const s=r.context;s.save();const a=gl(n,40);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o]);s.restore()}});return[e,t]}}class HL extends pl{constructor(){super(),this._style={fill:{color:"rgba(0,255,0,0.4)"},stroke:{color:"#FF0000",width:2}}}parse(){let e,t=null;return this._style.fill&&(e=new zi(this._style.fill)),this._style.stroke&&(t=new Ri(this._style.stroke)),new Ct({fill:e,stroke:t})}}class qL extends pl{constructor(){super(),this._angle=Math.PI/4,this._sqrt_2=1.414,this._color="rgb(0,0,255)",this._style={color:this._color}}renderFront(e,t,n,r){const s=Wg(t,n),a=da(s,t,r),o=da(s,n,r),l=Fy(a,o,this._angle,this._sqrt_2*r,!1);e.beginPath(),e.moveTo(a[0],a[1]),e.lineTo(l[0],l[1]),e.lineTo(o[0],o[1]),e.fillStyle=this._color,e.fill()}parse(){let e=new Ct({stroke:new Ri({color:this._color,width:2})}),t=new Ct({renderer:(n,r)=>{const s=r.context;s.save();let a=gl(n,40);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o],10);s.restore()}});return[e,t]}}class YL extends pl{constructor(){super(),this._color="rgb(255,0,0)",this._style={color:this._color}}renderFront(e,t,n,r){const s=Wg(t,n);e.beginPath(),e.moveTo(s[0],s[1]),e.arc(s[0],s[1],r,ji(s,t)-.08,ji(s,n)+.08,!0),e.fillStyle=this._color,e.fill()}parse(){let e=new Ct({stroke:new Ri({color:this._color,width:3})}),t=new Ct({renderer:(n,r)=>{const s=r.context;s.save();let a=gl(n,40);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o],10);s.restore()}});return[e,t]}}class XL extends pl{constructor(){super(),this._angle=Math.PI/4,this._sqrt_2=1.414,this._color="rgb(235,18,245)",this._style={color:this._color}}renderFront(e,t,n,r){const s=Wg(t,n),a=da(s,t,r);e.beginPath(),e.moveTo(a[0],a[1]),e.arc(a[0],a[1],r,ji(s,t)-.08,ji(s,n)+.08,!0),e.fillStyle=this._color,e.fill();const o=da(s,n,r*2),l=Fy(s,o,this._angle,r*this._sqrt_2,!1);e.beginPath(),e.moveTo(s[0],s[1]),e.lineTo(l[0],l[1]),e.lineTo(o[0],o[1]),e.fillStyle=this._color,e.fill()}parse(){let e=new Ct({stroke:new Ri({color:this._color,width:3})}),t=new Ct({renderer:(n,r)=>{const s=r.context;s.save();let a=gl(n,60);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o],10);s.restore()}});return[e,t]}}class WL extends pl{constructor(){super(),this._angle=Math.PI/4,this._sqrt_2=1.414,this._color="rgb(255,0,0)",this._style={color:this._color}}renderFront(e,t,n,r){const s=Wg(t,n),a=da(s,t,r);e.beginPath(),e.moveTo(a[0],a[1]),e.arc(a[0],a[1],r,ji(s,t)-.08,ji(s,n)+.08,!0),e.fillStyle=this._color,e.fill();const o=da(s,n,r*2),l=Fy(s,o,this._angle,r*this._sqrt_2,!0);e.beginPath(),e.moveTo(s[0],s[1]),e.lineTo(l[0],l[1]),e.lineTo(o[0],o[1]),e.fillStyle=this._color,e.fill()}parse(){let e=new Ct({stroke:new Ri({color:this._color,width:3})}),t=new Ct({renderer:(n,r)=>{const s=r.context;s.save();let a=gl(n,60);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o],10);s.restore()}});return[e,t]}}var S0=class extends zi{constructor(e){super(),e=e||{};var t,n=this.canvas_=document.createElement("canvas"),r=Number(e.scale)>0?Number(e.scale):1,s=r*ed||ed,a=n.getContext("2d");if(e.image){e.image.load();var o,l=e.image.getImage();if(l.width)n.width=Math.round(l.width*s),n.height=Math.round(l.height*s),a.globalAlpha=typeof e.opacity=="number"?e.opacity:1,a.drawImage(l,0,0,l.width,l.height,0,0,n.width,n.height),t=a.createPattern(n,"repeat");else{var c=this;t=[0,0,0,0],l.onload=function(){n.width=Math.round(l.width*s),n.height=Math.round(l.height*s),a.globalAlpha=typeof e.opacity=="number"?e.opacity:1,a.drawImage(l,0,0,l.width,l.height,0,0,n.width,n.height),t=a.createPattern(n,"repeat"),c.setColor(t)}}}else{var x=this.getPattern_(e);if(n.width=Math.round(x.width*s),n.height=Math.round(x.height*s),a.beginPath(),e.fill&&(a.fillStyle=ea(e.fill.getColor()),a.fillRect(0,0,n.width,n.height)),a.scale(s,s),a.lineCap="round",a.lineWidth=x.stroke||1,a.fillStyle=ea(e.color||"#000"),a.strokeStyle=ea(e.color||"#000"),x.circles)for(o=0;o<x.circles.length;o++){var u=x.circles[o];a.beginPath(),a.arc(u[0],u[1],u[2],0,2*Math.PI),x.fill&&a.fill(),x.stroke&&a.stroke()}if(x.repeat||(x.repeat=[[0,0]]),x.char&&(a.font=x.font||x.width+"px Arial",a.textAlign="center",a.textBaseline="middle",x.angle?(a.fillText(x.char,x.width/4,x.height/4),a.fillText(x.char,5*x.width/4,5*x.height/4),a.fillText(x.char,x.width/4,5*x.height/4),a.fillText(x.char,5*x.width/4,x.height/4),a.fillText(x.char,3*x.width/4,3*x.height/4),a.fillText(x.char,-x.width/4,-x.height/4),a.fillText(x.char,3*x.width/4,-x.height/4),a.fillText(x.char,-x.width/4,3*x.height/4)):a.fillText(x.char,x.width/2,x.height/2)),x.lines)for(o=0;o<x.lines.length;o++)for(var h=0;h<x.repeat.length;h++){var f=x.lines[o];a.beginPath(),a.moveTo(f[0]+x.repeat[h][0],f[1]+x.repeat[h][1]);for(var A=2;A<f.length;A+=2)a.lineTo(f[A]+x.repeat[h][0],f[A+1]+x.repeat[h][1]);x.fill&&a.fill(),x.stroke&&a.stroke(),a.save(),a.strokeStyle="red",a.strokeWidth=.1,a.restore()}if(t=a.createPattern(n,"repeat"),e.offset){var g=e.offset;if(typeof g=="number"&&(g=[g,g]),g instanceof Array){var d=Math.round(g[0]*s),p=Math.round(g[1]*s);a.scale(1/s,1/s),a.clearRect(0,0,n.width,n.height),a.translate(d,p),a.fillStyle=t,a.fillRect(-d,-p,n.width,n.height),t=a.createPattern(n,"repeat")}}}this.setColor(t)}static addPattern(e,t){t||(t={}),S0.patterns[e||t.char]={width:t.width||t.size||10,height:t.height||t.size||10,font:t.font,char:t.char,circles:t.circles,lines:t.lines,repeat:t.repeat,stroke:t.stroke,angle:t.angle,fill:t.fill}}clone(){var e=super.clone();return e.canvas_=this.canvas_,e}getImage(){return this.canvas_}getPattern_(e){var t=S0.patterns[e.pattern]||S0.patterns.dot,n=Math.round(e.spacing)||10,r;switch(e.pattern){case"dot":case"circle":{r=e.size===0?0:e.size/2||2,e.angle?(n=t.width=t.height=Math.round(n*1.4),t.circles=[[n/4,n/4,r],[3*n/4,3*n/4,r]],e.pattern=="circle"&&(t.circles=t.circles.concat([[n/4+n,n/4,r],[n/4,n/4+n,r],[3*n/4-n,3*n/4,r],[3*n/4,3*n/4-n,r],[n/4+n,n/4+n,r],[3*n/4-n,3*n/4-n,r]]))):(t.width=t.height=n,t.circles=[[n/2,n/2,r]],e.pattern=="circle"&&(t.circles=t.circles.concat([[n/2+n,n/2,r],[n/2-n,n/2,r],[n/2,n/2+n,r],[n/2,n/2-n,r],[n/2+n,n/2+n,r],[n/2+n,n/2-n,r],[n/2-n,n/2+n,r],[n/2-n,n/2-n,r]])));break}case"tile":case"square":{r=e.size===0?0:e.size/2||2,e.angle?(t.width=t.height=n,t.lines=[[n/2-r,n/2,n/2,n/2-r,n/2+r,n/2,n/2,n/2+r,n/2-r,n/2]]):(t.width=t.height=n,t.lines=[[n/2-r,n/2-r,n/2+r,n/2-r,n/2+r,n/2+r,n/2-r,n/2+r,n/2-r,n/2-r]]),e.pattern=="square"&&(t.repeat=[[0,0],[0,n],[n,0],[0,-n],[-n,0],[-n,-n],[n,n],[-n,n],[n,-n]]);break}case"cross":e.angle&&(e.angle=45);case"hatch":{var s=Math.round(((e.angle||0)-90)%360);s>180&&(s-=360),s*=Math.PI/180;var a=Math.cos(s),o=Math.sin(s);if(Math.abs(o)<1e-4)t.width=t.height=n,t.lines=[[0,.5,n,.5]],t.repeat=[[0,0],[0,n]];else if(Math.abs(a)<1e-4)t.width=t.height=n,t.lines=[[.5,0,.5,n]],t.repeat=[[0,0],[n,0]],e.pattern=="cross"&&(t.lines.push([0,.5,n,.5]),t.repeat.push([0,n]));else{var l=t.width=Math.round(Math.abs(n/o))||1,c=t.height=Math.round(Math.abs(n/a))||1;e.pattern=="cross"?(t.lines=[[-l,-c,2*l,2*c],[2*l,-c,-l,2*c]],t.repeat=[[0,0]]):a*o>0?(t.lines=[[-l,-c,2*l,2*c]],t.repeat=[[0,0],[l,0],[0,c]]):(t.lines=[[2*l,-c,-l,2*c]],t.repeat=[[0,0],[-l,0],[0,c]])}t.stroke=e.size===0?0:e.size||4;break}}return t}};S0.patterns={hatch:{width:5,height:5,lines:[[0,2.5,5,2.5]],stroke:1},cross:{width:7,height:7,lines:[[0,3,10,3],[3,0,3,10]],stroke:1},dot:{width:8,height:8,circles:[[5,5,2]],stroke:!1,fill:!0},circle:{width:10,height:10,circles:[[5,5,2]],stroke:1,fill:!1},square:{width:10,height:10,lines:[[3,3,3,8,8,8,8,3,3,3]],stroke:1,fill:!1},tile:{width:10,height:10,lines:[[3,3,3,8,8,8,8,3,3,3]],fill:!0},woven:{width:12,height:12,lines:[[3,3,9,9],[0,12,3,9],[9,3,12,0],[-1,1,1,-1],[13,11,11,13]],stroke:1},crosses:{width:8,height:8,lines:[[2,2,6,6],[2,6,6,2]],stroke:1},caps:{width:8,height:8,lines:[[2,6,4,2,6,6]],stroke:1},nylon:{width:20,height:20,lines:[[1,6,1,1,6,1],[6,11,11,11,11,6],[11,16,11,21,16,21],[16,11,21,11,21,16]],repeat:[[0,0],[-20,0],[0,-20]],stroke:1},hexagon:{width:20,height:12,lines:[[0,10,4,4,10,4,14,10,10,16,4,16,0,10]],stroke:1,repeat:[[0,0],[10,6],[10,-6],[-10,-6]]},cemetry:{width:15,height:19,lines:[[0,3.5,7,3.5],[3.5,0,3.5,10]],stroke:1,repeat:[[0,0],[7,9]]},sand:{width:20,height:20,circles:[[1,2,1],[9,3,1],[2,16,1],[7,8,1],[6,14,1],[4,19,1],[14,2,1],[12,10,1],[14,18,1],[18,8,1],[18,14,1]],fill:1},conglomerate:{width:60,height:40,circles:[[2,4,1],[17,3,1],[26,18,1],[12,17,1],[5,17,2],[28,11,2]],lines:[[7,5,6,7,9,9,11,8,11,6,9,5,7,5],[16,10,15,13,16,14,19,15,21,13,22,9,20,8,19,8,16,10],[24,6,26,7,27,5,26,4,24,4,24,6]],repeat:[[30,0],[-15,20],[15,20],[45,20]],stroke:1},conglomerate2:{width:60,height:40,circles:[[2,4,1],[17,3,1],[26,18,1],[12,17,1],[5,17,2],[28,11,2]],lines:[[7,5,6,7,9,9,11,8,11,6,9,5,7,5],[16,10,15,13,16,14,19,15,21,13,22,9,20,8,19,8,16,10],[24,6,26,7,27,5,26,4,24,4,24,6]],repeat:[[30,0],[-15,20],[15,20],[45,20]],fill:1},gravel:{width:15,height:10,circles:[[4,2,1],[5,9,1],[1,7,1]],lines:[[7,5,6,6,7,7,8,7,9,7,10,5,9,4,7,5],[11,2,14,4,14,1,12,1,11,2]],stroke:1},brick:{width:18,height:16,lines:[[0,1,18,1],[0,10,18,10],[6,1,6,10],[12,10,12,18],[12,0,12,1]],stroke:1},dolomite:{width:20,height:16,lines:[[0,1,20,1],[0,9,20,9],[1,9,6,1],[11,9,14,16],[14,0,14.4,1]],stroke:1},coal:{width:20,height:16,lines:[[1,5,7,1,7,7],[11,10,12,5,18,9],[5,10,2,15,9,15],[15,16,15,13,20,16],[15,0,15,2,20,0]],fill:1},breccia:{width:20,height:16,lines:[[1,5,7,1,7,7,1,5],[11,10,12,5,18,9,11,10],[5,10,2,15,9,15,5,10],[15,16,15,13,22,18],[15,0,15,2,20,0]],stroke:1},clay:{width:20,height:20,lines:[[0,0,3,11,0,20],[11,0,10,3,13,13,11,20],[0,0,10,3,20,0],[0,12,3,11,13,13,20,12]],stroke:1},flooded:{width:15,height:10,lines:[[0,1,10,1],[0,6,5,6],[10,6,15,6]],stroke:1},chaos:{width:40,height:40,lines:[[40,2,40,0,38,0,40,2],[4,0,3,2,2,5,0,0,0,3,2,7,5,6,7,7,8,10,9,12,9,13,9,14,8,14,6,15,2,15,0,20,0,22,2,20,5,19,8,15,10,14,11,12.25,10,12,10,10,12,9,13,7,12,6,13,4,16,7,17,4,20,0,18,0,15,3,14,2,14,0,12,1,11,0,10,1,11,4,10,7,9,8,8,5,6,4,5,3,5,1,5,0,4,0],[7,1,7,3,8,3,8,2,7,1],[4,3,5,5,4,5,4,3],[34,5,33,7,38,10,38,8,36,5,34,5],[27,0,23,2,21,8,30,0,27,0],[25,8,26,12,26,16,22.71875,15.375,20,13,18,15,17,18,13,22,17,21,19,22,21,20,19,18,22,17,30,25,26,26,24,28,21.75,33.34375,20,36,18,40,20,40,24,37,25,32,27,31,26,38,27,37,30,32,32,35,36,37,38,40,38,39,40,40,37,36,34,32,37,31,36,29,33,27,34,24,39,21,40,21,40,16,37,20,31,22,32,25,27,20,29,15,30,20,32,20,34,18,33,12,31,11,29,14,26,9,25,8],[39,24,37,26,40,28,39,24],[13,15,9,19,14,18,13,15],[18,23,14,27,16,27,17,25,20,26,18,23],[6,24,2,26,1,28,2,30,5,28,12,30,16,32,18,30,15,30,12,28,9,25,7,27,6,24],[29,27,32,28,33,31,30,29,27,28,29,27],[5,35,1,33,3,36,13,38,15,35,10,36,5,35]],fill:1},grass:{width:27,height:22,lines:[[0,10.5,13,10.5],[2.5,10,1.5,7],[4.5,10,4.5,5,3.5,4],[7,10,7.5,6,8.5,3],[10,10,11,6]],repeat:[[0,0],[14,10]],stroke:1},swamp:{width:24,height:23,lines:[[0,10.5,9.5,10.5],[2.5,10,2.5,7],[4.5,10,4.5,4],[6.5,10,6.5,6],[3,12.5,7,12.5]],repeat:[[0,0],[14,10]],stroke:1},reed:{width:26,height:23,lines:[[2.5,10,2,7],[4.5,10,4.2,4],[6.5,10,6.8,4],[8.5,10,9,6],[3.7,4,3.7,2.5],[4.7,4,4.7,2.5],[6.3,4,6.3,2.5],[7.3,4,7.3,2.5]],circles:[[4.2,2.5,.5],[18.2,12.5,.5],[6.8,2.5,.5],[20.8,12.5,.5],[9,6,.5],[23,16,.5]],repeat:[[0,0],[14,10]],stroke:1},wave:{width:10,height:8,lines:[[0,0,5,4,10,0]],stroke:1},vine:{width:13,height:13,lines:[[3,0,3,6],[9,7,9,13]],stroke:1},forest:{width:55,height:30,circles:[[7,7,3.5],[20,20,1.5],[42,22,3.5],[35,5,1.5]],stroke:1},forest2:{width:55,height:30,circles:[[7,7,3.5],[20,20,1.5],[42,22,3.5],[35,5,1.5]],fill:1,stroke:1},scrub:{width:26,height:20,lines:[[1,4,4,8,6,4]],circles:[[20,13,1.5]],stroke:1},tree:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78]],repeat:[[3,1],[18,16]],stroke:1},tree2:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61]],repeat:[[3,1],[18,16]],fill:1,stroke:1},pine:{width:30,height:30,lines:[[5.66,11.31,2.83,11.31,2.83,8.49,0,8.49,2.83,0,5.66,8.49,2.83,8.49]],repeat:[[3,1],[18,16]],stroke:1},pine2:{width:30,height:30,lines:[[5.66,11.31,2.83,11.31,2.83,8.49,0,8.49,2.83,0,5.66,8.49,2.83,8.49,2.83,11.31,5.66,11.31]],repeat:[[3,1],[18,16]],fill:1,stroke:1},mixtree:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61],[23.66,27.31,20.83,27.31,20.83,24.49,18,24.49,20.83,16,23.66,24.49,20.83,24.49,20.83,27.31,23.66,27.31]],repeat:[[3,1]],stroke:1},mixtree2:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61],[23.66,27.31,20.83,27.31,20.83,24.49,18,24.49,20.83,16,23.66,24.49,20.83,24.49,20.83,27.31,23.66,27.31]],repeat:[[3,1]],fill:1,stroke:1},pines:{width:22,height:20,lines:[[1,4,3.5,1,6,4],[1,8,3.5,5,6,8],[3.5,1,3.5,11],[12,14.5,14.5,14,17,14.5],[12,18,17,18],[14.5,12,14.5,18]],repeat:[[2,1]],stroke:1},rock:{width:20,height:20,lines:[[1,0,1,9],[4,0,4,9],[7,0,7,9],[10,1,19,1],[10,4,19,4],[10,7,19,7],[0,11,9,11],[0,14,9,14],[0,17,9,17],[12,10,12,19],[15,10,15,19],[18,10,18,19]],repeat:[[.5,.5]],stroke:1},rocks:{width:20,height:20,lines:[[5,0,3,0,5,4,4,6,0,3,0,5,3,6,5,9,3.75,10,2.5,10,0,9,0,10,4,11,5,14,4,15,0,13,0,13,0,13,0,14,0,14,5,16,5,18,3,19,0,19,-.25,19.9375,5,20,10,19,10,20,11,20,12,19,14,20,15,20,17,19,20,20,20,19,19,16,20,15,20,11,20,10,19,8,20,5,20,0,19,0,20,2,19,4,17,4,16,3,15,0,14,0,15,4,11,5,10,4,11,0,10,0,9,4,6,5,5,0],[18,5,19,6,18,10,16,10,14,9,16,5,18,5],[5,6,9,5,10,6,10,9,6,10,5,6],[14,5,14,8,13,9,12,9,11,7,12,5,14,5],[5,11,8,10,9,11,10,14,6,15,6,15,5,11],[13,10,14,11,15,14,15,14,15,14,11,15,10,11,11,10,13,10],[15,12,16,11,19,11,19,15,16,14,16,14,15,12],[6,16,9,15,10,18,5,19,6,16],[10,16,14,16,14,18,13,19,11,18,10,16],[15,15,18,16,18,18,16,19,15,18,15,15]],stroke:1}};function jL(i){i={lineStyle:{Style:{stroke:{Stroke:{color:"red",width:5,lineDash:[5,10,25]}}}},options:{offset:10,color:"red",width:4}};let e=Di(i.lineStyle),t=i.options;const n=new Ct({renderer:(r,s)=>{const a=s.context;a.save();const o=gl(r,40);for(let l=1;l<o.length;l++)KL(a,o[l-1],o[l],t);a.restore()}});return[e,n]}function KL(i,e,t,n){let r=n.offset,s=n.color,a=n.width,o=0;o=r>0?0:Math.PI;const l=Math.atan2(e[1]-t[1],e[0]-t[0])+o,c=Math.abs(r),x=(e[0]+t[0])/2,u=(e[1]+t[1])/2;i.strokeStyle=s,i.lineWidth=a,i.save(),i.translate(x,u),i.rotate(l),i.beginPath(),i.moveTo(0,0),i.lineTo(0,c),i.stroke(),i.restore()}function gS(i){let e=Di(i.lineStyle);const t=i.options,n=((t==null?void 0:t.radius)||10)*2,r=(t==null?void 0:t.distance)||120,s=!!(t!=null&&t.clockwise)||!1;let a=new Ct({renderer:(o,l)=>{const c=l.context;c.save();let x=jg(o,r,n);c.fillStyle=(t==null?void 0:t.color)||"#00f";for(let u=0;u<x.length;u++){const{point:h,angle:f,prevs:A,nexts:g}=x[u],d=s?f:f+Math.PI,p=h[0]+Math.sin(d)*n*Math.SQRT2/2,m=h[1]-Math.cos(d)*n*Math.SQRT2/2,I=A.concat([h]).concat(g).concat([[p,m]]);c.beginPath(),c.moveTo(I[0][0],I[0][1]),I.forEach(_=>c.lineTo(_[0],_[1])),c.fill(),c.closePath()}c.restore()}});return[e,a]}function JL(i){let e=Di(i.lineStyle);const t=i.options,n=(t==null?void 0:t.radius)||10,r=(t==null?void 0:t.distance)||120,s=!!(t!=null&&t.clockwise)||!1;let a=new Ct({renderer:(o,l)=>{const c=l.context;c.save();let x=jg(o,r,n);c.fillStyle=(t==null?void 0:t.color)||"#f00";for(let u=0;u<x.length;u++){const{point:h,prevs:f,nexts:A}=x[u],g=f.concat([h]).concat(A),d=ji(h,f[0]),p=ji(h,A[A.length-1]);c.beginPath(),c.moveTo(g[0][0],h[0][1]),g.forEach(m=>c.lineTo(m[0],m[1])),c.arc(h[0],h[1],n,d,p,s),c.fill(),c.closePath()}c.restore()}});return[e,a]}function ZL(i){let e=Di(i.lineStyle);const t=i.options,n=t.radius||10,r=t.distance||120,s=!!(t!=null&&t.clockwise)||!1;let a=new Ct({renderer:(o,l)=>{const c=l.context;c.save();let x=jg(o,r,n*2);for(let u=0;u<x.length;u++){const{point:h,angle:f,prevs:A,nexts:g}=x[u];if(u%2){const d=A.concat([h]).concat(g),p=ji(h,A[0]),m=ji(h,g[g.length-1]);c.beginPath(),c.moveTo(d[0][0],h[0][1]),d.forEach(I=>c.lineTo(I[0],I[1])),c.arc(h[0],h[1],n,p,m,s),c.fillStyle="#f00"}else{const d=s?f+Math.PI:f,p=h[0]+Math.sin(d)*n*Math.SQRT2,m=h[1]-Math.cos(d)*n*Math.SQRT2,I=A.concat([h]).concat(g).concat([[p,m]]);c.beginPath(),c.moveTo(I[0][0],I[0][1]),I.forEach(_=>c.lineTo(_[0],_[1])),c.fillStyle="#00f"}c.fill(),c.closePath()}c.restore()}});return[e,a]}function $L(i){let e=Di(i.lineStyle);const t=i.options||{},n=t.radius||10,r=t.distance||120,s=!!(t!=null&&t.clockwise)||!1;let a=new Ct({renderer:(o,l)=>{const c=l.context;c.save();let x=jg(o,r,n*2);for(let u=0;u<x.length;u++){const{point:h,angle:f,prevs:A,nexts:g}=x[u];if(u%2){const d=A.concat([h]).concat(g),p=ji(h,A[0]),m=ji(h,g[g.length-1]);c.beginPath(),c.moveTo(d[0][0],h[0][1]),d.forEach(I=>c.lineTo(I[0],I[1])),c.arc(h[0],h[1],n,p,m,!s),c.fillStyle="#f00"}else{const d=h[0]+Math.sin(f)*n*Math.SQRT2,p=h[1]-Math.cos(f)*n*Math.SQRT2,m=A.concat([h]).concat(g).concat([[d,p]]);c.beginPath(),c.moveTo(m[0][0],m[0][1]),m.forEach(I=>c.lineTo(I[0],I[1])),c.fillStyle="#00f"}c.fill(),c.closePath()}c.restore()}});return[e,a]}var Ar=63710088e-1,eP={centimeters:Ar*100,centimetres:Ar*100,degrees:360/(2*Math.PI),feet:Ar*3.28084,inches:Ar*39.37,kilometers:Ar/1e3,kilometres:Ar/1e3,meters:Ar,metres:Ar,miles:Ar/1609.344,millimeters:Ar*1e3,millimetres:Ar*1e3,nauticalmiles:Ar/1852,radians:1,yards:Ar*1.0936};function nm(i,e,t={}){const n={type:"Feature"};return(t.id===0||t.id)&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.properties=e||{},n.geometry=i,n}function mS(i,e,t={}){if(i.length<2)throw new Error("coordinates must be an array of two or more positions");return nm({type:"LineString",coordinates:i},e,t)}function tP(i,e,t={}){return nm({type:"MultiLineString",coordinates:i},e,t)}function nP(i,e="kilometers"){const t=eP[e];if(!t)throw new Error(e+" units is invalid");return i/t}function iP(i,e){return rP(nP(i,e))}function rP(i){return i%(2*Math.PI)*180/Math.PI}function sP(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)}function aP(i){if(Array.isArray(i))return i;if(i.type==="Feature"){if(i.geometry!==null)return i.geometry.coordinates}else if(i.coordinates)return i.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function oP(i,e){return i.type==="FeatureCollection"?"FeatureCollection":i.type==="GeometryCollection"?"GeometryCollection":i.type==="Feature"&&i.geometry!==null?i.geometry.type:i.type}function cP(i,e){var t,n,r,s,a,o,l,c,x,u,h=0,f=i.type==="FeatureCollection",A=i.type==="Feature",g=f?i.features.length:1;for(t=0;t<g;t++){for(o=f?i.features[t].geometry:A?i.geometry:i,c=f?i.features[t].properties:A?i.properties:{},x=f?i.features[t].bbox:A?i.bbox:void 0,u=f?i.features[t].id:A?i.id:void 0,l=o?o.type==="GeometryCollection":!1,a=l?o.geometries.length:1,r=0;r<a;r++){if(s=l?o.geometries[r]:o,s===null){if(e(null,h,c,x,u)===!1)return!1;continue}switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(s,h,c,x,u)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<s.geometries.length;n++)if(e(s.geometries[n],h,c,x,u)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}h++}}function lP(i,e){cP(i,function(t,n,r,s,a){var o=t===null?null:t.type;switch(o){case null:case"Point":case"LineString":case"Polygon":return e(nm(t,r,{bbox:s,id:a}),n,0)===!1?!1:void 0}var l;switch(o){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var c=0;c<t.coordinates.length;c++){var x=t.coordinates[c],u={type:l,coordinates:x};if(e(nm(u,r),n,c)===!1)return!1}})}function im(i){var e=i[0],t=i[1];return[t[0]-e[0],t[1]-e[1]]}function Uy(i,e){return i[0]*e[1]-e[0]*i[1]}function xP(i,e){return[i[0]+e[0],i[1]+e[1]]}function uP(i,e){return[i[0]-e[0],i[1]-e[1]]}function hP(i,e){return[i*e[0],i*e[1]]}function fP(i,e){var t=i[0],n=im(i),r=e[0],s=im(e),a=Uy(n,s),o=uP(r,t),l=Uy(o,s),c=l/a,x=xP(t,hP(c,n));return x}function AP(i,e){var t=im(i),n=im(e);return Uy(t,n)===0}function dP(i,e){return AP(i,e)?!1:fP(i,e)}function _S(i,e,t){if(t=t||{},!sP(t))throw new Error("options is invalid");var n=t.units;if(!i)throw new Error("geojson is required");if(e==null||isNaN(e))throw new Error("distance is required");var r=oP(i),s=i.properties;switch(r){case"LineString":return IS(i,e,n);case"MultiLineString":var a=[];return lP(i,function(o){a.push(IS(o,e,n).geometry.coordinates)}),tP(a,s);default:throw new Error("geometry "+r+" is not supported")}}function IS(i,e,t){var n=[],r=iP(e,t),s=aP(i),a=[];return s.forEach(function(o,l){if(l!==s.length-1){var c=pP(o,s[l+1],r);if(n.push(c),l>0){var x=n[l-1],u=dP(c,x);u!==!1&&(x[1]=u,c[0]=u),a.push(x[0]),l===s.length-2&&(a.push(c[0]),a.push(c[1]))}s.length===2&&(a.push(c[0]),a.push(c[1]))}}),mS(a,i.properties)}function pP(i,e,t){var n=Math.sqrt((i[0]-e[0])*(i[0]-e[0])+(i[1]-e[1])*(i[1]-e[1])),r=i[0]+t*(e[1]-i[1])/n,s=e[0]+t*(e[1]-i[1])/n,a=i[1]+t*(i[0]-e[0])/n,o=e[1]+t*(i[0]-e[0])/n;return[[r,a],[s,o]]}function ES(i,e,t,n){i.strokeStyle=t,i.beginPath(),i.lineWidth=n,i.moveTo(e[0][0],e[0][1]);for(let r=1;r<e.length;r++)i.lineTo(e[r][0],e[r][1]);i.stroke()}function gP(i,e,t){let n=30;t.Style.stroke.Stroke.color;let r=t.Style.fill.Fill.color||"rgba(0,0,255,1)",s=t.Style.stroke.Stroke.width||2,a=t.Style.stroke.Stroke.parallelDistance||5,o=t.Style.stroke.Stroke.closeLine||!1;const l=mS(e),c=_S(l,a,{units:"degrees"}),x=_S(l,-a,{units:"degrees"});let u=c.geometry.coordinates,h=x.geometry.coordinates;if(console.log("leftCoords",u),console.log("rightCoords",h),u!=null&&u.length>0&&h!=null&&h.length>0){let f=h[0],A=u[0];n=Math.sqrt(Math.pow(f[0]-A[0],2)+Math.pow(f[1]-A[1],2))}return o&&(u.push(h[h.length-1]),u.unshift(h[0])),ES(i,c.geometry.coordinates,r,s),ES(i,x.geometry.coordinates,r,s),{start:e[e.length-2],end:e[e.length-1],angle:Math.atan2(e[e.length-1][1]-e[e.length-2][1],e[e.length-1][0]-e[e.length-2][0]),bufferDistance:n}}function mP(i,e,t,n,r,s){let a=s*2||15,o=s*4||30,l=r.Style.stroke.Stroke.color||"rgba(0,0,255,1)",c=r.Style.fill.Fill.color||"rgba(0,0,255,1)";const x=a,u=e+o*Math.cos(n),h=t+o*Math.sin(n),f=x*Math.cos(n+Math.PI/2),A=x*Math.sin(n+Math.PI/2),g=e-f,d=t-A,p=e+f,m=t+A;i.strokeStyle=c,i.fillStyle=l,i.lineWidth=2,i.beginPath(),i.moveTo(u,h),i.lineTo(g,d),i.lineTo(e,t),i.lineTo(p,m),i.closePath(),i.fill(),i.stroke()}function _P(i,e){Di(i.lineStyle);const n=Object.assign({},{glyph:"ParallelLines",lineStyle:{Style:{stroke:{Stroke:{color:"rgba(0,0,255,1)",width:1,parallelDistance:1}},fill:{Fill:{color:"rgba(0,0,255,1)"}}}},arrowStyle:{Style:{stroke:{Stroke:{color:"rgba(0,0,255,1)",width:15,height:30}},fill:{Fill:{color:"rgba(0,0,255,1)"}}}}},i);return[new Ct({renderer:(s,a)=>{const o=a.context,{start:l,end:c,angle:x,bufferDistance:u}=gP(o,s,n.lineStyle);debugger;n.arrowStyle.Style.stroke.Stroke.parallelDistance,mP(o,s[s.length-1][0],s[s.length-1][1],x,n.arrowStyle,u)}})]}var IP=class{constructor(e){}getCme_FrostLineStyle(e){return jL(e)}getCme_LINES_SYMBOL2(e){return gS(e)}getCme_LINES_18(e){return gS(e)}getCme_LINES_19(e){return JL(e)}getCme_LINES_41(e){return ZL(e)}getCme_LINES_51(e){return $L(e)}getCme_ParallelLines(e,t){return _P(e)}getCme_Style(e){return Di(e)}},yS=class{constructor(e){}getCme_Style(e){return Di(e)}};function EP(i){return new Ct({fill:new S0({pattern:i.pattern,ratio:i.ratio||1,color:i.color,offset:i.offset||0,scale:i.scale||1,fill:new zi({color:i.fill}),size:i.size,spacing:i.spacing,angle:i.angle})})}function yP(i){return new Ct({fill:new S0({pattern:i.pattern,ratio:i.ratio||1,color:i.color,offset:i.offset||0,scale:i.scale||1,fill:new zi({color:i.fill}),size:i.size,spacing:i.spacing,angle:i.angle})})}var CP=class{constructor(e){}getCme_Style(e){return Di(e)}getCme_FILLAREA_1101_2_5(e){return EP(e)}getCme_FILLAREA_1101_2_4(e){return yP(e)}},bP=class{constructor(e){}getCme_Style(e){return Di(e)}};const bn=rm;(function(i,e){const t=rm,n=i();for(;;)try{if(-parseInt(t(388))/1*(parseInt(t(395))/2)+parseInt(t(403))/3+-parseInt(t(387))/4+parseInt(t(385))/5*(parseInt(t(406))/6)+parseInt(t(380))/7+parseInt(t(389))/8+-parseInt(t(359))/9*(parseInt(t(398))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(sm,452793);function rm(i,e){const t=sm();return rm=function(n,r){return n=n-349,t[n]},rm(i,e)}function sm(){const i=["maxZoom","1505670KtoCnW","handleLayersAdd_","zIndex","66olAQvH","set","CHANGE","handleLayerChange_","extent","minZoom","getSourceState","handleLayersRemove_","slice","minResolution","listenerKeys_","setLayers","9pPdCLv","LAYERS","max","layers","handleLayerGroupRemove_","maxResolution","handleLayerGroupAdd_","forEach","layer","removelayer","getLayersArray","dispatchEvent","opacity","getArray","handleLayersChanged_","element","get","REMOVE","getLayerState","length","registerLayerListeners_","5516441ckBMAO","push","getLayers","getLayerStatesArray","assign","307595sZQwvx","PROPERTYCHANGE","1386788mCdThp","44WRveTZ","5211496IDaaAw","addChangeListener","changed","isArray","min","addlayer","37912xhZnqe","ADD","layersListenerKeys_","9845450YggOKS","ready","once","visible"];return sm=function(){return i},sm()}class Co extends br{constructor(e,t){super(e),this.layer=t}}const Ny={LAYERS:bn(362)};class M0 extends yB{constructor(e){const t=bn;e=e||{};const n=Object[t(384)]({},e);delete n[t(362)];let r=e[t(362)];super(n),this.on,this[t(400)],this.un,this[t(397)]=[],this.listenerKeys_={},this[t(390)](Ny[t(360)],this[t(373)]),r?Array[t(392)](r)?r=new Ts(r[t(355)](),{unique:!0}):yt(typeof r[t(372)]=="function","Expected `layers` to be an array or a `Collection`"):r=new Ts(void 0,{unique:!0}),this[t(358)](r)}[bn(350)](){this[bn(391)]()}[bn(373)](){const e=bn;this.layersListenerKeys_[e(366)](Jt),this[e(397)][e(378)]=0;const t=this.getLayers();this[e(397)][e(381)](mt(t,Xi[e(396)],this[e(404)],this),mt(t,Xi[e(376)],this[e(354)],this));for(const r in this.listenerKeys_)this[e(357)][r][e(366)](Jt);eu(this.listenerKeys_);const n=t[e(372)]();for(let r=0,s=n[e(378)];r<s;r++){const a=n[r];this[e(379)](a),this[e(370)](new Co(e(394),a))}this[e(391)]()}[bn(379)](e){const t=bn,n=[mt(e,vc[t(386)],this[t(350)],this),mt(e,Ye[t(349)],this[t(350)],this)];e instanceof M0&&n[t(381)](mt(e,t(394),this[t(365)],this),mt(e,t(368),this[t(363)],this)),this.listenerKeys_[et(e)]=n}[bn(365)](e){const t=bn;this[t(370)](new Co(t(394),e[t(367)]))}handleLayerGroupRemove_(e){const t=bn;this[t(370)](new Co(t(368),e[t(367)]))}[bn(404)](e){const t=bn,n=e[t(374)];this[t(379)](n),this[t(370)](new Co(t(394),n)),this[t(391)]()}[bn(354)](e){const t=bn,n=e[t(374)],r=et(n);this.listenerKeys_[r].forEach(Jt),delete this[t(357)][r],this[t(370)](new Co(t(368),n)),this[t(391)]()}getLayers(){const e=bn;return this[e(375)](Ny[e(360)])}[bn(358)](e){const t=bn,n=this[t(382)]();if(n){const r=n[t(372)]();for(let s=0,a=r.length;s<a;++s)this.dispatchEvent(new Co("removelayer",r[s]))}this[t(407)](Ny[t(360)],e)}[bn(369)](e){const t=bn;return e=e!==void 0?e:[],this[t(382)]()[t(366)](function(n){n[t(369)](e)}),e}getLayerStatesArray(e){const t=bn,n=e!==void 0?e:[],r=n[t(378)];this[t(382)]().forEach(function(o){o[t(383)](n)});const s=this[t(377)]();let a=s[t(405)];!e&&s[t(405)]===void 0&&(a=0);for(let o=r,l=n[t(378)];o<l;o++){const c=n[o];c[t(371)]*=s[t(371)],c[t(401)]=c[t(401)]&&s[t(401)],c.maxResolution=Math[t(393)](c[t(364)],s.maxResolution),c[t(356)]=Math[t(361)](c.minResolution,s.minResolution),c[t(352)]=Math[t(361)](c.minZoom,s[t(352)]),c[t(402)]=Math[t(393)](c[t(402)],s.maxZoom),s[t(351)]!==void 0&&(c[t(351)]!==void 0?c.extent=Mi(c[t(351)],s[t(351)]):c[t(351)]=s[t(351)]),c[t(405)]===void 0&&(c.zIndex=a)}return n}[bn(353)](){return bn(399)}}var Oy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Oy.read=function(i,e,t,n,r){var s,a,o=r*8-n-1,l=(1<<o)-1,c=l>>1,x=-7,u=t?r-1:0,h=t?-1:1,f=i[e+u];for(u+=h,s=f&(1<<-x)-1,f>>=-x,x+=o;x>0;s=s*256+i[e+u],u+=h,x-=8);for(a=s&(1<<-x)-1,s>>=-x,x+=n;x>0;a=a*256+i[e+u],u+=h,x-=8);if(s===0)s=1-c;else{if(s===l)return a?NaN:(f?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-c}return(f?-1:1)*a*Math.pow(2,s-n)},Oy.write=function(i,e,t,n,r,s){var a,o,l,c=s*8-r-1,x=(1<<c)-1,u=x>>1,h=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,A=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=x):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+u>=1?e+=h/l:e+=h*Math.pow(2,1-u),e*l>=2&&(a++,l/=2),a+u>=x?(o=0,a=x):a+u>=1?(o=(e*l-1)*Math.pow(2,r),a=a+u):(o=e*Math.pow(2,u-1)*Math.pow(2,r),a=0));r>=8;i[t+f]=o&255,f+=A,o/=256,r-=8);for(a=a<<r|o,c+=r;c>0;i[t+f]=a&255,f+=A,a/=256,c-=8);i[t+f-A]|=g*128};var vP=Ft,am=Oy;function Ft(i){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(i)?i:new Uint8Array(i||0),this.pos=0,this.type=0,this.length=this.buf.length}Ft.Varint=0,Ft.Fixed64=1,Ft.Bytes=2,Ft.Fixed32=5;var Gy=65536*65536,CS=1/Gy,wP=12,bS=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Ft.prototype={destroy:function(){this.buf=null},readFields:function(i,e,t){for(t=t||this.length;this.pos<t;){var n=this.readVarint(),r=n>>3,s=this.pos;this.type=n&7,i(r,e,this),this.pos===s&&this.skip(n)}return e},readMessage:function(i,e){return this.readFields(i,e,this.readVarint()+this.pos)},readFixed32:function(){var i=om(this.buf,this.pos);return this.pos+=4,i},readSFixed32:function(){var i=wS(this.buf,this.pos);return this.pos+=4,i},readFixed64:function(){var i=om(this.buf,this.pos)+om(this.buf,this.pos+4)*Gy;return this.pos+=8,i},readSFixed64:function(){var i=om(this.buf,this.pos)+wS(this.buf,this.pos+4)*Gy;return this.pos+=8,i},readFloat:function(){var i=am.read(this.buf,this.pos,!0,23,4);return this.pos+=4,i},readDouble:function(){var i=am.read(this.buf,this.pos,!0,52,8);return this.pos+=8,i},readVarint:function(i){var e=this.buf,t,n;return n=e[this.pos++],t=n&127,n<128||(n=e[this.pos++],t|=(n&127)<<7,n<128)||(n=e[this.pos++],t|=(n&127)<<14,n<128)||(n=e[this.pos++],t|=(n&127)<<21,n<128)?t:(n=e[this.pos],t|=(n&15)<<28,BP(t,i,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var i=this.readVarint();return i%2===1?(i+1)/-2:i/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var i=this.readVarint()+this.pos,e=this.pos;return this.pos=i,i-e>=wP&&bS?GP(this.buf,e,i):OP(this.buf,e,i)},readBytes:function(){var i=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,i);return this.pos=i,e},readPackedVarint:function(i,e){if(this.type!==Ft.Bytes)return i.push(this.readVarint(e));var t=pa(this);for(i=i||[];this.pos<t;)i.push(this.readVarint(e));return i},readPackedSVarint:function(i){if(this.type!==Ft.Bytes)return i.push(this.readSVarint());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readSVarint());return i},readPackedBoolean:function(i){if(this.type!==Ft.Bytes)return i.push(this.readBoolean());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readBoolean());return i},readPackedFloat:function(i){if(this.type!==Ft.Bytes)return i.push(this.readFloat());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readFloat());return i},readPackedDouble:function(i){if(this.type!==Ft.Bytes)return i.push(this.readDouble());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readDouble());return i},readPackedFixed32:function(i){if(this.type!==Ft.Bytes)return i.push(this.readFixed32());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readFixed32());return i},readPackedSFixed32:function(i){if(this.type!==Ft.Bytes)return i.push(this.readSFixed32());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readSFixed32());return i},readPackedFixed64:function(i){if(this.type!==Ft.Bytes)return i.push(this.readFixed64());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readFixed64());return i},readPackedSFixed64:function(i){if(this.type!==Ft.Bytes)return i.push(this.readSFixed64());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readSFixed64());return i},skip:function(i){var e=i&7;if(e===Ft.Varint)for(;this.buf[this.pos++]>127;);else if(e===Ft.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Ft.Fixed32)this.pos+=4;else if(e===Ft.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+e)},writeTag:function(i,e){this.writeVarint(i<<3|e)},realloc:function(i){for(var e=this.length||16;e<this.pos+i;)e*=2;if(e!==this.length){var t=new Uint8Array(e);t.set(this.buf),this.buf=t,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(i){this.realloc(4),_l(this.buf,i,this.pos),this.pos+=4},writeSFixed32:function(i){this.realloc(4),_l(this.buf,i,this.pos),this.pos+=4},writeFixed64:function(i){this.realloc(8),_l(this.buf,i&-1,this.pos),_l(this.buf,Math.floor(i*CS),this.pos+4),this.pos+=8},writeSFixed64:function(i){this.realloc(8),_l(this.buf,i&-1,this.pos),_l(this.buf,Math.floor(i*CS),this.pos+4),this.pos+=8},writeVarint:function(i){if(i=+i||0,i>268435455||i<0){SP(i,this);return}this.realloc(4),this.buf[this.pos++]=i&127|(i>127?128:0),!(i<=127)&&(this.buf[this.pos++]=(i>>>=7)&127|(i>127?128:0),!(i<=127)&&(this.buf[this.pos++]=(i>>>=7)&127|(i>127?128:0),!(i<=127)&&(this.buf[this.pos++]=i>>>7&127)))},writeSVarint:function(i){this.writeVarint(i<0?-i*2-1:i*2)},writeBoolean:function(i){this.writeVarint(!!i)},writeString:function(i){i=String(i),this.realloc(i.length*4),this.pos++;var e=this.pos;this.pos=zP(this.buf,i,this.pos);var t=this.pos-e;t>=128&&vS(e,t,this),this.pos=e-1,this.writeVarint(t),this.pos+=t},writeFloat:function(i){this.realloc(4),am.write(this.buf,i,this.pos,!0,23,4),this.pos+=4},writeDouble:function(i){this.realloc(8),am.write(this.buf,i,this.pos,!0,52,8),this.pos+=8},writeBytes:function(i){var e=i.length;this.writeVarint(e),this.realloc(e);for(var t=0;t<e;t++)this.buf[this.pos++]=i[t]},writeRawMessage:function(i,e){this.pos++;var t=this.pos;i(e,this);var n=this.pos-t;n>=128&&vS(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeMessage:function(i,e,t){this.writeTag(i,Ft.Bytes),this.writeRawMessage(e,t)},writePackedVarint:function(i,e){e.length&&this.writeMessage(i,TP,e)},writePackedSVarint:function(i,e){e.length&&this.writeMessage(i,DP,e)},writePackedBoolean:function(i,e){e.length&&this.writeMessage(i,LP,e)},writePackedFloat:function(i,e){e.length&&this.writeMessage(i,QP,e)},writePackedDouble:function(i,e){e.length&&this.writeMessage(i,FP,e)},writePackedFixed32:function(i,e){e.length&&this.writeMessage(i,PP,e)},writePackedSFixed32:function(i,e){e.length&&this.writeMessage(i,kP,e)},writePackedFixed64:function(i,e){e.length&&this.writeMessage(i,UP,e)},writePackedSFixed64:function(i,e){e.length&&this.writeMessage(i,NP,e)},writeBytesField:function(i,e){this.writeTag(i,Ft.Bytes),this.writeBytes(e)},writeFixed32Field:function(i,e){this.writeTag(i,Ft.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(i,e){this.writeTag(i,Ft.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(i,e){this.writeTag(i,Ft.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(i,e){this.writeTag(i,Ft.Fixed64),this.writeSFixed64(e)},writeVarintField:function(i,e){this.writeTag(i,Ft.Varint),this.writeVarint(e)},writeSVarintField:function(i,e){this.writeTag(i,Ft.Varint),this.writeSVarint(e)},writeStringField:function(i,e){this.writeTag(i,Ft.Bytes),this.writeString(e)},writeFloatField:function(i,e){this.writeTag(i,Ft.Fixed32),this.writeFloat(e)},writeDoubleField:function(i,e){this.writeTag(i,Ft.Fixed64),this.writeDouble(e)},writeBooleanField:function(i,e){this.writeVarintField(i,!!e)}};function BP(i,e,t){var n=t.buf,r,s;if(s=n[t.pos++],r=(s&112)>>4,s<128||(s=n[t.pos++],r|=(s&127)<<3,s<128)||(s=n[t.pos++],r|=(s&127)<<10,s<128)||(s=n[t.pos++],r|=(s&127)<<17,s<128)||(s=n[t.pos++],r|=(s&127)<<24,s<128)||(s=n[t.pos++],r|=(s&1)<<31,s<128))return ml(i,r,e);throw new Error("Expected varint not more than 10 bytes")}function pa(i){return i.type===Ft.Bytes?i.readVarint()+i.pos:i.pos+1}function ml(i,e,t){return t?e*4294967296+(i>>>0):(e>>>0)*4294967296+(i>>>0)}function SP(i,e){var t,n;if(i>=0?(t=i%4294967296|0,n=i/4294967296|0):(t=~(-i%4294967296),n=~(-i/4294967296),t^4294967295?t=t+1|0:(t=0,n=n+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),MP(t,n,e),RP(n,e)}function MP(i,e,t){t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos]=i&127}function RP(i,e){var t=(i&7)<<4;e.buf[e.pos++]|=t|((i>>>=3)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127)))))}function vS(i,e,t){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(n);for(var r=t.pos-1;r>=i;r--)t.buf[r+n]=t.buf[r]}function TP(i,e){for(var t=0;t<i.length;t++)e.writeVarint(i[t])}function DP(i,e){for(var t=0;t<i.length;t++)e.writeSVarint(i[t])}function QP(i,e){for(var t=0;t<i.length;t++)e.writeFloat(i[t])}function FP(i,e){for(var t=0;t<i.length;t++)e.writeDouble(i[t])}function LP(i,e){for(var t=0;t<i.length;t++)e.writeBoolean(i[t])}function PP(i,e){for(var t=0;t<i.length;t++)e.writeFixed32(i[t])}function kP(i,e){for(var t=0;t<i.length;t++)e.writeSFixed32(i[t])}function UP(i,e){for(var t=0;t<i.length;t++)e.writeFixed64(i[t])}function NP(i,e){for(var t=0;t<i.length;t++)e.writeSFixed64(i[t])}function om(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16)+i[e+3]*16777216}function _l(i,e,t){i[t]=e,i[t+1]=e>>>8,i[t+2]=e>>>16,i[t+3]=e>>>24}function wS(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16)+(i[e+3]<<24)}function OP(i,e,t){for(var n="",r=e;r<t;){var s=i[r],a=null,o=s>239?4:s>223?3:s>191?2:1;if(r+o>t)break;var l,c,x;o===1?s<128&&(a=s):o===2?(l=i[r+1],(l&192)===128&&(a=(s&31)<<6|l&63,a<=127&&(a=null))):o===3?(l=i[r+1],c=i[r+2],(l&192)===128&&(c&192)===128&&(a=(s&15)<<12|(l&63)<<6|c&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):o===4&&(l=i[r+1],c=i[r+2],x=i[r+3],(l&192)===128&&(c&192)===128&&(x&192)===128&&(a=(s&15)<<18|(l&63)<<12|(c&63)<<6|x&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,o=1):a>65535&&(a-=65536,n+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),n+=String.fromCharCode(a),r+=o}return n}function GP(i,e,t){return bS.decode(i.subarray(e,t))}function zP(i,e,t){for(var n=0,r,s;n<e.length;n++){if(r=e.charCodeAt(n),r>55295&&r<57344)if(s)if(r<56320){i[t++]=239,i[t++]=191,i[t++]=189,s=r;continue}else r=s-55296<<10|r-56320|65536,s=null;else{r>56319||n+1===e.length?(i[t++]=239,i[t++]=191,i[t++]=189):s=r;continue}else s&&(i[t++]=239,i[t++]=191,i[t++]=189,s=null);r<128?i[t++]=r:(r<2048?i[t++]=r>>6|192:(r<65536?i[t++]=r>>12|224:(i[t++]=r>>18|240,i[t++]=r>>12&63|128),i[t++]=r>>6&63|128),i[t++]=r&63|128)}return t}const VP=Wx(vP),yi=Nh;(function(i,e){const t=Nh,n=i();for(;;)try{if(parseInt(t(365))/1*(parseInt(t(348))/2)+-parseInt(t(369))/3+-parseInt(t(355))/4*(-parseInt(t(320))/5)+-parseInt(t(341))/6*(parseInt(t(364))/7)+-parseInt(t(361))/8*(-parseInt(t(337))/9)+parseInt(t(360))/10*(parseInt(t(352))/11)+-parseInt(t(349))/12*(parseInt(t(374))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(cm,810163);function cm(){const i=["push","getType","dataProjection","2248987GJZSca","MultiLineString","idProperty","readVarint","1478775gMClTi","readBoolean","featureClass","name","includes","geometryName_","arraybuffer","Invalid command found in the PBF","supportedMediaTypes","Point","type","layerName","readVarint64","values","properties","tile-pixels","length","95607CSCHAk","layers_","setExtent","layerName_","5046216wkfYOZ","application/vnd.mapbox-vector-tile","geometryName","readRawGeometry_","readFields","layers","readProjection","566126ovLXFo","84XPXRaq","keys","MultiPoint","11bzzCwE","layer","Polygon","4NMZXhI","idProperty_","setId","setLayers","readSVarint","9254980XPgvEU","904IhgCOh","features","geometry","7jbpXaG","5rpUzIg","createFeature_","readString","pos","2924325IwWDGx","extent"];return cm=function(){return i},cm()}class BS extends AS{constructor(e){const t=Nh;super(),e=e||{},this[t(373)]=new NI({code:"",units:t(335)}),this[t(322)]=e.featureClass?e[t(322)]:Ei,this[t(325)]=e[t(343)],this[t(340)]=e.layerName?e[t(331)]:t(353),this.layers_=e[t(346)]?e[t(346)]:null,this[t(356)]=e[t(318)],this[t(328)]=[t(342),"application/x-protobuf"]}[yi(344)](e,t,n,r){const s=yi;e[s(368)]=t[s(363)];const a=e[s(319)]()+e[s(368)];let o=1,l=0,c=0,x=0,u=0,h=0;for(;e[s(368)]<a;){if(!l){const f=e[s(319)]();o=f&7,l=f>>3}if(l--,o===1||o===2)c+=e[s(359)](),x+=e[s(359)](),o===1&&u>h&&(r[s(371)](u),h=u),n[s(371)](c,x),u+=2;else if(o===7)u>h&&(n[s(371)](n[h],n[h+1]),u+=2);else throw new Error(s(327))}u>h&&(r[s(371)](u),h=u)}[yi(366)](e,t,n){const r=yi,s=t[r(330)];if(s===0)return null;let a;const o=t[r(334)];let l;this[r(356)]?(l=o[this[r(356)]],delete o[this[r(356)]]):l=t.id,o[this.layerName_]=t[r(353)][r(323)];const c=[],x=[];this[r(344)](e,t,c,x);const u=WP(s,x[r(336)]);if(this[r(322)]===Ei)a=new this[r(322)](u,c,x,2,o,l),a.transform(n[r(373)]);else{let h;if(u==r(354)){const g=WB(c,x);h=g[r(336)]>1?new Bh(c,"XY",g):new Nc(c,"XY",x)}else h=u===r(329)?new p0(c,"XY"):u==="LineString"?new v0(c,"XY"):u===r(351)?new vh(c,"XY"):u===r(375)?new bh(c,"XY",x):null;const f=this[r(322)];a=new f,this[r(325)]&&a.setGeometryName(this.geometryName_);const A=Jg(h,!1,n);a.setGeometry(A),l!==void 0&&a[r(357)](l),a.setProperties(o,!0)}return a}[yi(372)](){return yi(326)}readFeatures(e,t){const n=yi,r=this[n(338)];t=this.adaptOptions(t);const s=Kt(t.dataProjection);s.setWorldExtent(t[n(370)]),t[n(373)]=s;const a=new VP(e),o=a[n(345)](HP,{}),l=[];for(const c in o){if(r&&!r[n(324)](c))continue;const x=o[c],u=x?[0,0,x[n(370)],x[n(370)]]:null;s[n(339)](u);for(let h=0,f=x[n(336)];h<f;++h){const A=XP(a,x,h),g=this[n(366)](a,A,t);g!==null&&l.push(g)}}return l}[yi(347)](e){return this[yi(373)]}[yi(358)](e){const t=yi;this[t(338)]=e}}function Nh(i,e){const t=cm();return Nh=function(n,r){return n=n-318,t[n]},Nh(i,e)}function HP(i,e,t){const n=yi;if(i===3){const r={keys:[],values:[],features:[]},s=t.readVarint()+t[n(368)];t[n(345)](qP,r,s),r[n(336)]=r[n(362)][n(336)],r[n(336)]&&(e[r[n(323)]]=r)}}function qP(i,e,t){const n=yi;if(i===15)e.version=t[n(319)]();else if(i===1)e[n(323)]=t.readString();else if(i===5)e.extent=t[n(319)]();else if(i===2)e[n(362)].push(t[n(368)]);else if(i===3)e.keys[n(371)](t.readString());else if(i===4){let r=null;const s=t[n(319)]()+t[n(368)];for(;t.pos<s;)i=t.readVarint()>>3,r=i===1?t[n(367)]():i===2?t.readFloat():i===3?t.readDouble():i===4?t[n(332)]():i===5?t.readVarint():i===6?t[n(359)]():i===7?t[n(321)]():null;e.values[n(371)](r)}}function YP(i,e,t){const n=yi;if(i==1)e.id=t.readVarint();else if(i==2){const r=t[n(319)]()+t[n(368)];for(;t[n(368)]<r;){const s=e.layer[n(350)][t[n(319)]()],a=e[n(353)][n(333)][t[n(319)]()];e.properties[s]=a}}else i==3?e[n(330)]=t[n(319)]():i==4&&(e[n(363)]=t[n(368)])}function XP(i,e,t){const n=yi;i.pos=e[n(362)][t];const r=i[n(319)]()+i[n(368)],s={layer:e,type:0,properties:{}};return i.readFields(YP,s,r),s}function WP(i,e){const t=yi;let n;return i===1?n=e===1?t(329):"MultiPoint":i===2?n=e===1?"LineString":t(375):i===3&&(n=t(354)),n}const Ds=Il;function lm(){const i=["coordinateToPixelTransform","managed","30CqvGGI","2617546yucsZq","center","call","9CpnWwB","96698gYChqT","1RVTEyf","push","getMap","size","resolution","17937072hIKMDe","getRenderer","canWrapX","hasRenderer","layerStatesArray","feature","rotation","258YPhvyU","map_","6569700bgUxud","getWrapX","sort","getExtent","length","postRenderFunctions","26dXeYqG","geometry","layer","9gaPsZB","canExpireCache","hasFeatureAtCoordinate","distanceSq","renderFrame","230772UxctFD","viewState","4323688AOHWeg","3722433PMPaXn","projection","expire","bind","getSource","forEachFeatureAtCoordinate","scheduleExpireIconCache","callback"];return lm=function(){return i},lm()}(function(i,e){const t=Il,n=i();for(;;)try{if(parseInt(t(282))/1*(-parseInt(t(277))/2)+-parseInt(t(258))/3*(-parseInt(t(263))/4)+-parseInt(t(249))/5+parseInt(t(247))/6*(parseInt(t(281))/7)+parseInt(t(265))/8*(parseInt(t(280))/9)+parseInt(t(276))/10*(-parseInt(t(266))/11)+parseInt(t(287))/12*(parseInt(t(255))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(lm,659132);function Il(i,e){const t=lm();return Il=function(n,r){return n=n-244,t[n]},Il(i,e)}class jP extends rd{constructor(e){const t=Il;super(),this[t(248)]=e}dispatchRenderEvent(e,t){je()}calculateMatrices2D(e){const t=Il,n=e.viewState,r=e[t(274)],s=e.pixelToCoordinateTransform;Bs(r,e.size[0]/2,e[t(285)][1]/2,1/n.resolution,-1/n[t(286)],-n[t(246)],-n[t(278)][0],-n.center[1]),TB(s,r)}[Ds(271)](e,t,n,r,s,a,o,l){const c=Ds;let x;const u=t[c(264)];function h(y,E,C,w){return s.call(a,E,y?C:null,w)}const f=u[c(267)],A=jI(e.slice(),f),g=[[0,0]];if(f[c(289)]()&&r){const y=f[c(252)](),E=ht(y);g[c(283)]([-E,0],[E,0])}const d=t[c(244)],p=d[c(253)],m=[],I=[];for(let y=0;y<g[c(253)];y++)for(let E=p-1;E>=0;--E){const C=d[E],w=C[c(257)];if(w[c(290)]()&&JE(C,u)&&o[c(279)](l,w)){const b=w[c(288)](),v=w[c(270)]();if(b&&v){const B=v[c(250)]()?A:e,R=h[c(269)](null,C[c(275)]);I[0]=B[0]+g[y][0],I[1]=B[1]+g[y][1],x=b[c(271)](I,t,n,R,m)}if(x)return x}}if(m[c(253)]===0)return;const _=1/m[c(253)];return m.forEach((y,E)=>y.distanceSq+=E*_),m[c(251)]((y,E)=>y[c(261)]-E[c(261)]),m.some(y=>{const E=c;return x=y[E(273)](y[E(245)],y[E(257)],y[E(256)])}),x}[Ds(260)](e,t,n,r,s,a){return this[Ds(271)](e,t,n,r,hu,this,s,a)!==void 0}[Ds(284)](){return this[Ds(248)]}[Ds(262)](e){je()}[Ds(272)](e){const t=Ds;ys[t(259)]()&&e[t(254)][t(283)](KP)}}function KP(i,e){ys[Ds(268)]()}const R0=Oh;(function(i,e){const t=Oh,n=i();for(;;)try{if(-parseInt(t(379))/1*(-parseInt(t(421))/2)+-parseInt(t(387))/3*(parseInt(t(381))/4)+-parseInt(t(399))/5*(parseInt(t(419))/6)+parseInt(t(398))/7*(-parseInt(t(395))/8)+-parseInt(t(392))/9+parseInt(t(416))/10+parseInt(t(389))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(xm,229810);function Oh(i,e){const t=xm();return Oh=function(n,r){return n=n-377,t[n]},Oh(i,e)}function xm(){const i=["bind","renderDeferred","element_","3600jBTnTu","renderedVisible_","6080624awFARf","forEach","push","4123242YFuqrP","scheduleExpireIconCache","children_","2067144yihdHc","createElement","100%","7QrtisL","298115SBlUzs","layer","getViewport","redrawText","getMap","display","absolute","fontChangeListenerKey_","render","hasListener","none","remove","insertBefore","zIndex","className","declutter","dispatchRenderEvent","1143320uPlvgO","height","layerIndex","6eoVBxS","renderDeclutter","26hHinYx","PROPERTYCHANGE","dispatchEvent","layerStatesArray","some","sort","getSourceState","getDeclutter","calculateMatrices2D","ready","disposeInternal","30496fYlYoj","style","192jwRIxo","length","viewState"];return xm=function(){return i},xm()}class JP extends jP{constructor(e){const t=Oh;super(e),this[t(406)]=mt(vs,vc[t(422)],e[t(402)][t(384)](e)),this[t(386)]=document[t(396)]("div");const n=this[t(386)][t(380)];n.position=t(405),n.width=t(397),n[t(417)]=t(397),n[t(412)]="0",this[t(386)][t(413)]=vd+" ol-layers";const r=e[t(401)]();r[t(411)](this[t(386)],r.firstChild||null),this[t(394)]=[],this[t(388)]=!0}[R0(415)](e,t){const n=R0,r=this[n(403)]();if(r[n(408)](e)){const s=new KB(e,void 0,t);r[n(423)](s)}}[R0(378)](){const e=R0;Jt(this[e(406)]),this[e(386)][e(410)](),super[e(378)]()}renderFrame(e){const t=R0;if(!e){this[t(388)]&&(this[t(386)][t(380)][t(404)]=t(409),this[t(388)]=!1);return}this[t(429)](e),this[t(415)](Br.PRECOMPOSE,e);const n=e[t(424)][t(426)]((l,c)=>l[t(412)]-c[t(412)]);n[t(425)](l=>l[t(400)]instanceof fy&&l.layer.getDeclutter())&&(e[t(414)]={});const s=e[t(383)];this.children_[t(382)]=0;const a=[];let o=null;for(let l=0,c=n[t(382)];l<c;++l){const x=n[l];e[t(418)]=l;const u=x.layer,h=u[t(427)]();if(!JE(x,s)||h!=t(377)&&h!="undefined"){u.unrender();continue}const f=u[t(407)](e,o);f&&(f!==o&&(this[t(394)][t(391)](f),o=f),a.push(x))}this.declutter(e,a),ZQ(this[t(386)],this[t(394)]),this[t(415)](Br.POSTCOMPOSE,e),!this.renderedVisible_&&(this.element_[t(380)].display="",this[t(388)]=!0),this[t(393)](e)}[R0(414)](e,t){const n=R0;if(e[n(414)]){for(let r=t[n(382)]-1;r>=0;--r){const s=t[r],a=s.layer;a[n(428)]()&&a[n(420)](e,s)}t[n(390)](r=>r[n(400)][n(385)](e))}}}(function(i,e){for(var t=hm,n=i();;)try{var r=parseInt(t(422))/1+-parseInt(t(412))/2+-parseInt(t(413))/3*(parseInt(t(416))/4)+-parseInt(t(411))/5+parseInt(t(414))/6*(parseInt(t(421))/7)+-parseInt(t(417))/8+parseInt(t(419))/9*(parseInt(t(415))/10);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(um,713271);class El extends br{constructor(e,t,n){var r=hm;super(e),this[r(420)]=t,this[r(418)]=n!==void 0?n:null}}function um(){var i=["3907265FukqkF","2715002sfjVJL","3iOQpZz","34962TbCahf","400CeTtui","5000516kETEGc","7955128mCQGSt","frameState","866025nmzBuZ","map","637fAzZXt","717488bzKIhp"];return um=function(){return i},um()}function hm(i,e){var t=um();return hm=function(n,r){n=n-411;var s=t[n];return s},hm(i,e)}var Tr=Gh;function Gh(i,e){var t=fm();return Gh=function(n,r){n=n-162;var s=t[n];return s},Gh(i,e)}function fm(){var i=["pixel_","3157707WIcZnG","dragging","525329qblbtA","coordinate","getEventPixel","activePointers","1737912vSnQFR","17986Iutquk","40600OxpyUK","preventDefault","970572sNCRko","pixel","3149928pxGjES","6WOQrUe","map","coordinate_","originalEvent","getCoordinateFromPixel","stopPropagation"];return fm=function(){return i},fm()}(function(i,e){for(var t=Gh,n=i();;)try{var r=parseInt(t(165))/1+parseInt(t(170))/2*(parseInt(t(176))/3)+parseInt(t(175))/4+parseInt(t(171))/5+parseInt(t(173))/6+-parseInt(t(163))/7+-parseInt(t(169))/8;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(fm,832339);class bo extends El{constructor(e,t,n,r,s,a){var o=Gh;super(e,t,s),this.originalEvent=n,this[o(162)]=null,this[o(178)]=null,this[o(164)]=r!==void 0?r:!1,this[o(168)]=a}get[Tr(174)](){var e=Tr;return!this.pixel_&&(this[e(162)]=this[e(177)][e(167)](this.originalEvent)),this[e(162)]}set[Tr(174)](e){var t=Tr;this[t(162)]=e}get[Tr(166)](){var e=Tr;return!this.coordinate_&&(this[e(178)]=this.map[e(180)](this[e(174)])),this[e(178)]}set[Tr(166)](e){var t=Tr;this[t(178)]=e}[Tr(172)](){var e=Tr;super[e(172)](),e(172)in this[e(179)]&&this.originalEvent[e(172)]()}[Tr(181)](){var e=Tr;super[e(181)](),e(181)in this[e(179)]&&this.originalEvent[e(181)]()}}function Am(){var i=["3004vyfbeR","4664471rkzFGE","669XICxMr","pointerout","pointerenter","805527HcNoGv","pointermove","singleclick","pointerdown","31542000tJuFUe","DBLCLICK","pointercancel","3518676QPYiTC","2940722rCYNcA","2448350ALJkyW","pointerover"];return Am=function(){return i},Am()}function dm(i,e){var t=Am();return dm=function(n,r){n=n-367;var s=t[n];return s},dm(i,e)}var vo=dm;(function(i,e){for(var t=dm,n=i();;)try{var r=-parseInt(t(375))/1+-parseInt(t(367))/2+-parseInt(t(372))/3*(parseInt(t(370))/4)+-parseInt(t(368))/5+parseInt(t(382))/6+-parseInt(t(371))/7+parseInt(t(379))/8;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Am,929812);const Mn={SINGLECLICK:vo(377),CLICK:Ye.CLICK,DBLCLICK:Ye[vo(380)],POINTERDRAG:"pointerdrag",POINTERMOVE:vo(376),POINTERDOWN:vo(378),POINTERUP:"pointerup",POINTEROVER:vo(369),POINTEROUT:vo(373),POINTERENTER:vo(374),POINTERLEAVE:"pointerleave",POINTERCANCEL:vo(381)};function pm(i,e){var t=mm();return pm=function(n,r){n=n-415;var s=t[n];return s},pm(i,e)}var gm=pm;function mm(){var i=["114FlwUiF","pointerenter","4025040xeMckQ","2373741iNKuRp","pointercancel","1096PXZcMi","10HlFWJY","463119lLpIke","65734AWanqz","pointerout","39745jzbWGz","pointerover","12439LgbjTr","1048400tOymaa"];return mm=function(){return i},mm()}(function(i,e){for(var t=pm,n=i();;)try{var r=parseInt(t(419))/1*(parseInt(t(421))/2)+-parseInt(t(420))/3+parseInt(t(426))/4+-parseInt(t(423))/5*(-parseInt(t(427))/6)+parseInt(t(425))/7*(-parseInt(t(418))/8)+parseInt(t(416))/9+-parseInt(t(415))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(mm,205224);const zy={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:gm(424),POINTEROUT:gm(422),POINTERENTER:gm(428),POINTERLEAVE:"pointerleave",POINTERCANCEL:gm(417)},si=zh;(function(i,e){const t=zh,n=i();for(;;)try{if(parseInt(t(261))/1*(parseInt(t(246))/2)+-parseInt(t(250))/3+-parseInt(t(252))/4+-parseInt(t(231))/5+-parseInt(t(238))/6*(-parseInt(t(256))/7)+-parseInt(t(240))/8*(-parseInt(t(276))/9)+-parseInt(t(251))/10*(parseInt(t(243))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_m,679694);function zh(i,e){const t=_m();return zh=function(n,r){return n=n-225,t[n]},zh(i,e)}function _m(){const i=["activePointers_","target","dispatchEvent","POINTERMOVE","dragging_","length","bind","down_","5435705FUarwh","SINGLECLICK","map_","boolean","POINTERUP","forEach","moveTolerance_","12gbKgGA","boundHandleTouchMove_","8YtefLJ","removeEventListener","updateActivePointers_","55NzteXw","emulateClicks_","handlePointerDown_","137846PBIYfH","dragListenerKeys_","relayMoveEvent_","defaultPrevented","607068yEXzRA","270730skLBdH","3738028YUwpUX","disposeInternal","abs","getRootNode","2289077RlcrGD","isMouseActionButton_","trackedTouches_","emulateClick_","addEventListener","19WziAVr","TOUCHMOVE","values","handlePointerMove_","clientY","handlePointerUp_","relayedListenerKey_","pointerdownListenerKey_","type","DBLCLICK","pointerId","isMoving_","push","clientX","element_","9679536PCLHff","POINTERCANCEL","cancelable","clickTimeoutId_","originalPointerMoveEvent_","handleTouchMove_","POINTERDOWN"];return _m=function(){return i},_m()}class ZP extends Au{constructor(e,t){const n=zh;super(e),this[n(233)]=e,this[n(279)],this[n(244)]=!1,this[n(227)]=!1,this[n(247)]=[],this[n(237)]=t===void 0?1:t,this.down_=null;const r=this[n(233)].getViewport();this[n(283)]=[],this.trackedTouches_={},this.element_=r,this[n(268)]=mt(r,zy[n(282)],this[n(245)],this),this[n(280)],this[n(267)]=mt(r,zy[n(226)],this[n(248)],this),this.boundHandleTouchMove_=this[n(281)][n(229)](this),this[n(275)][n(260)](Ye[n(262)],this.boundHandleTouchMove_,tB?{passive:!1}:!1)}[si(259)](e){const t=si;let n=new bo(Mn.CLICK,this[t(233)],e);this[t(225)](n),this[t(279)]!==void 0?(clearTimeout(this[t(279)]),this[t(279)]=void 0,n=new bo(Mn[t(270)],this[t(233)],e),this.dispatchEvent(n)):this[t(279)]=setTimeout(()=>{const r=t;this[r(279)]=void 0;const s=new bo(Mn[r(232)],this[r(233)],e);this[r(225)](s)},250)}[si(242)](e){const t=si,n=e,r=n[t(271)];if(n.type==Mn[t(235)]||n.type==Mn[t(277)]){delete this[t(258)][r];for(const s in this[t(258)])if(this.trackedTouches_[s].target!==n[t(284)]){delete this.trackedTouches_[s];break}}else(n[t(269)]==Mn[t(282)]||n[t(269)]==Mn[t(226)])&&(this[t(258)][r]=n);this[t(283)]=Object[t(263)](this.trackedTouches_)}[si(266)](e){const t=si;this[t(242)](e);const n=new bo(Mn[t(235)],this.map_,e,void 0,void 0,this.activePointers_);this[t(225)](n),this[t(244)]&&!n.defaultPrevented&&!this[t(227)]&&this[t(257)](e)&&this[t(259)](this[t(230)]),this[t(283)][t(228)]===0&&(this[t(247)][t(236)](Jt),this[t(247)][t(228)]=0,this[t(227)]=!1,this.down_=null)}[si(257)](e){return e.button===0}[si(245)](e){const t=si;this.emulateClicks_=this[t(283)].length===0,this[t(242)](e);const n=new bo(Mn[t(282)],this[t(233)],e,void 0,void 0,this[t(283)]);if(this[t(225)](n),this[t(230)]=new PointerEvent(e[t(269)],e),Object.defineProperty(this[t(230)],t(284),{writable:!1,value:e[t(284)]}),this[t(247)][t(228)]===0){const r=this[t(233)].getOwnerDocument();this.dragListenerKeys_.push(mt(r,Mn[t(226)],this[t(264)],this),mt(r,Mn[t(235)],this[t(266)],this),mt(this.element_,Mn[t(277)],this[t(266)],this)),this[t(275)][t(255)]&&this[t(275)][t(255)]()!==r&&this.dragListenerKeys_[t(273)](mt(this[t(275)][t(255)](),Mn.POINTERUP,this[t(266)],this))}}[si(264)](e){const t=si;if(this.isMoving_(e)){this[t(242)](e),this.dragging_=!0;const n=new bo(Mn.POINTERDRAG,this[t(233)],e,this[t(227)],void 0,this[t(283)]);this[t(225)](n)}}relayMoveEvent_(e){const t=si;this[t(280)]=e;const n=!!(this[t(230)]&&this.isMoving_(e));this[t(225)](new bo(Mn[t(226)],this[t(233)],e,n))}[si(281)](e){const t=si,n=this[t(280)];(!n||n[t(249)])&&(typeof e.cancelable!==t(234)||e[t(278)]===!0)&&e.preventDefault()}[si(272)](e){const t=si;return this[t(227)]||Math[t(254)](e[t(274)]-this[t(230)][t(274)])>this[t(237)]||Math[t(254)](e[t(265)]-this[t(230)].clientY)>this[t(237)]}disposeInternal(){const e=si;this[e(267)]&&(Jt(this[e(267)]),this[e(267)]=null),this.element_[e(241)](Ye[e(262)],this[e(239)]),this[e(268)]&&(Jt(this[e(268)]),this[e(268)]=null),this.dragListenerKeys_[e(236)](Jt),this[e(247)].length=0,this[e(275)]=null,super[e(253)]()}}var Im=ym;function Em(){var i=["14788983qdcEpo","5517adJuhd","14920SjgTPX","7889628eAXkqi","1338EWDMYJ","7ruLfGa","moveend","loadend","movestart","postrender","7167ZzooHh","5ROqGYU","1783567thbowu","3982868yAADdT","3060130oKxysB"];return Em=function(){return i},Em()}function ym(i,e){var t=Em();return ym=function(n,r){n=n-247;var s=t[n];return s},ym(i,e)}(function(i,e){for(var t=ym,n=i();;)try{var r=parseInt(t(259))/1+-parseInt(t(251))/2*(-parseInt(t(257))/3)+parseInt(t(260))/4*(-parseInt(t(258))/5)+parseInt(t(250))/6*(parseInt(t(252))/7)+-parseInt(t(249))/8*(parseInt(t(248))/9)+-parseInt(t(261))/10+-parseInt(t(247))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Em,907318);const wo={POSTRENDER:Im(256),MOVESTART:Im(255),MOVEEND:Im(253),LOADSTART:"loadstart",LOADEND:Im(254)};var Cm=vm;(function(i,e){for(var t=vm,n=i();;)try{var r=-parseInt(t(432))/1+-parseInt(t(428))/2*(-parseInt(t(427))/3)+-parseInt(t(423))/4*(-parseInt(t(434))/5)+parseInt(t(425))/6*(-parseInt(t(426))/7)+parseInt(t(435))/8+parseInt(t(437))/9+-parseInt(t(433))/10*(-parseInt(t(436))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(bm,280229);function bm(){var i=["4vDFDdo","size","117630aUUejs","147ZVhVFp","4674qaUInu","192RVprlg","view","target","layergroup","493099AmqFLc","36520RYEOzC","1440405ahPBQK","898544QHwANB","363IROeEQ","4630950doQXIg"];return bm=function(){return i},bm()}function vm(i,e){var t=bm();return vm=function(n,r){n=n-423;var s=t[n];return s},vm(i,e)}const Ci={LAYERGROUP:Cm(431),SIZE:Cm(424),TARGET:Cm(430),VIEW:Cm(429)};function wm(){const i=["style","132trVkWT","8212379gEzcQb","listenerKeys","target","27YwHzGH","getMap","pointerEvents","render","setMap","3dKrALm","POSTRENDER","push","7452900fZIoNX","disposeInternal","string","328956EifORw","element","395048LjvplL","getOverlayContainerStopEvent","appendChild","target_","auto","map_","setTarget","8895776UpKdQX","remove","19420WjXWtO","getElementById","6995790RFjPIM"];return wm=function(){return i},wm()}const T0=yl;(function(i,e){const t=yl,n=i();for(;;)try{if(-parseInt(t(429))/1+parseInt(t(431))/2*(parseInt(t(423))/3)+parseInt(t(444))/4*(-parseInt(t(440))/5)+-parseInt(t(426))/6+parseInt(t(445))/7+-parseInt(t(438))/8+parseInt(t(448))/9*(parseInt(t(442))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(wm,658208);function yl(i,e){const t=wm();return yl=function(n,r){return n=n-423,t[n]},yl(i,e)}class Vy extends bs{constructor(e){const t=yl;super();const n=e[t(430)];n&&!e[t(447)]&&!n.style[t(450)]&&(n[t(443)][t(450)]=t(435)),this[t(430)]=n||null,this[t(434)]=null,this[t(436)]=null,this[t(446)]=[],e[t(451)]&&(this[t(451)]=e[t(451)]),e[t(447)]&&this[t(437)](e.target)}disposeInternal(){var t;const e=yl;(t=this.element)==null||t[e(439)](),super[e(427)]()}[T0(449)](){return this[T0(436)]}[T0(452)](e){var n;const t=T0;this[t(436)]&&((n=this[t(430)])==null||n[t(439)]());for(let r=0,s=this[t(446)].length;r<s;++r)Jt(this[t(446)][r]);this[t(446)].length=0,this[t(436)]=e,e&&((this.target_??e[t(432)]())[t(433)](this[t(430)]),this[t(451)]!==yc&&this[t(446)][t(425)](mt(e,wo[t(424)],this[t(451)],this)),e[t(451)]())}[T0(451)](e){}[T0(437)](e){const t=T0;this.target_=typeof e===t(428)?document[t(441)](e):e}}function Bm(){const i=["-expand","48sCMauO","all","handleToggle_","type","8hGuOZP","forEach","ulElement_","collectSourceAttributions_","renderedVisible_","target","expandClassName","className","flatMap","2577300RicfQj","toggle","map","getAllLayers","tipLabel","renderedAttributions_","collapseLabel","collapsible","style","button","collapseClassName","render","span","collapsed","277070sxNhzm","setAttribute","preventDefault","addEventListener","length","getAttributionsCollapsible","label_","display","label","4190543LACmfo","getMap","createElement","classList","collapsible_","setCollapsible","toggleButton_","add","attributions_","ol-attribution","innerHTML","15854iSqKrC","collapseLabel_","aria-expanded","6xoHRNn","674037tfpANq","from","appendChild","userCollapsed_","overrideCollapsible_","44MGLdQR","getCollapsible","none","element"," ol-uncollapsible","collapsed_","5431329SCzhPh","updateElement_","5088630EAwwrV","string","getSource","handleClick_","div","textContent"];return Bm=function(){return i},Bm()}const Ki=Vh;(function(i,e){const t=Vh,n=i();for(;;)try{if(parseInt(t(551))/1+-parseInt(t(547))/2*(parseInt(t(500))/3)+-parseInt(t(485))/4*(-parseInt(t(527))/5)+parseInt(t(550))/6*(parseInt(t(536))/7)+-parseInt(t(504))/8*(parseInt(t(491))/9)+-parseInt(t(493))/10+-parseInt(t(513))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Bm,408764);function Vh(i,e){const t=Bm();return Vh=function(n,r){return n=n-483,t[n]},Vh(i,e)}class $P extends Vy{constructor(e){const t=Vh;e=e||{},super({element:document[t(538)](t(497)),render:e[t(524)],target:e[t(509)]}),this[t(506)]=document[t(538)]("ul"),this[t(490)]=e.collapsed!==void 0?e[t(526)]:!0,this[t(483)]=this[t(490)],this[t(484)]=e[t(520)]!==void 0,this[t(540)]=e.collapsible!==void 0?e[t(520)]:!0,!this[t(540)]&&(this[t(490)]=!1),this.attributions_=e.attributions;const n=e.className!==void 0?e[t(511)]:t(545),r=e[t(517)]!==void 0?e[t(517)]:"Attributions",s=e.expandClassName!==void 0?e[t(510)]:n+t(499),a=e[t(519)]!==void 0?e[t(519)]:"",o=e[t(523)]!==void 0?e.collapseClassName:n+"-collapse";typeof a===t(494)?(this.collapseLabel_=document[t(538)](t(525)),this[t(548)].textContent=a,this[t(548)].className=o):this[t(548)]=a;const l=e[t(535)]!==void 0?e.label:"i";typeof l===t(494)?(this[t(533)]=document[t(538)]("span"),this[t(533)][t(498)]=l,this[t(533)].className=s):this.label_=l;const c=this.collapsible_&&!this[t(490)]?this[t(548)]:this.label_;this[t(542)]=document[t(538)](t(522)),this[t(542)][t(528)](t(503),t(522)),this[t(542)].setAttribute(t(549),String(!this.collapsed_)),this[t(542)].title=r,this[t(542)].appendChild(c),this[t(542)][t(530)](Ye.CLICK,this.handleClick_.bind(this),!1);const x=n+" "+vd+" "+dE+(this[t(490)]&&this[t(540)]?" "+cB:"")+(this.collapsible_?"":t(489)),u=this[t(488)];u.className=x,u[t(553)](this[t(542)]),u[t(553)](this[t(506)]),this.renderedAttributions_=[],this[t(508)]=!0}[Ki(507)](e){const t=Ki,n=this[t(537)]()[t(516)](),r=new Set(n[t(512)](s=>s.getAttributions(e)));if(this[t(544)]!==void 0&&(Array.isArray(this[t(544)])?this[t(544)][t(505)](s=>r[t(543)](s)):r[t(543)](this.attributions_)),!this[t(484)]){const s=!n.some(a=>{var o;return((o=a[t(495)]())==null?void 0:o[t(532)]())===!1});this.setCollapsible(s)}return Array[t(552)](r)}async[Ki(492)](e){const t=Ki;if(!e){this[t(508)]&&(this[t(488)][t(521)][t(534)]=t(487),this.renderedVisible_=!1);return}const n=await Promise[t(501)](this[t(507)](e)[t(515)](s=>Cc(()=>s))),r=n.length>0;if(this[t(508)]!=r&&(this[t(488)][t(521)][t(534)]=r?"":t(487),this[t(508)]=r),!$a(n,this[t(518)])){JQ(this[t(506)]);for(let s=0,a=n[t(531)];s<a;++s){const o=document[t(538)]("li");o[t(546)]=n[s],this[t(506)][t(553)](o)}this.renderedAttributions_=n}}[Ki(496)](e){const t=Ki;e[t(529)](),this[t(502)](),this[t(483)]=this[t(490)]}handleToggle_(){const e=Ki;this.element[e(539)].toggle(cB),this[e(490)]?nB(this.collapseLabel_,this[e(533)]):nB(this[e(533)],this[e(548)]),this[e(490)]=!this[e(490)],this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}[Ki(486)](){return this[Ki(540)]}[Ki(541)](e){const t=Ki;this[t(540)]!==e&&(this[t(540)]=e,this[t(488)].classList[t(514)]("ol-uncollapsible"),this[t(483)]&&this[t(502)]())}setCollapsed(e){const t=Ki;this[t(483)]=e,!(!this[t(540)]||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}[Ki(524)](e){this[Ki(492)](e.frameState)}}const Hh=qh;(function(i,e){const t=qh,n=i();for(;;)try{if(-parseInt(t(468))/1*(-parseInt(t(491))/2)+parseInt(t(476))/3*(-parseInt(t(475))/4)+parseInt(t(500))/5*(-parseInt(t(487))/6)+-parseInt(t(458))/7*(-parseInt(t(470))/8)+parseInt(t(496))/9+parseInt(t(464))/10+-parseInt(t(483))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Sm,250579);function Sm(){const i=["textContent","ol-rotate","callResetNorth_","div","Reset rotation","ol-compass","addEventListener","classList","resetNorth_","7cqvtIC","handleClick_","createElement","rad)","label","preventDefault","492060GsknXq","title","duration","compassClassName","191201jXkyNf","contains","2548904kBkDuD","element","getRotation","tipLabel","rotation_","437244DGaqYm","6vlJJFY","appendChild","render","span","bind","setRotation","transform","2723303mNblqA","duration_","className","autoHide_","6nHDavL","getMap","add","resetNorth","2iNlAfe","string","rotation","button","animate","1812267BDSqRy","autoHide","label_","target","218045bpVhjt"];return Sm=function(){return i},Sm()}function qh(i,e){const t=Sm();return qh=function(n,r){return n=n-457,t[n]},qh(i,e)}class ek extends Vy{constructor(e){const t=qh;e=e||{},super({element:document[t(460)](t(504)),render:e[t(478)],target:e[t(499)]});const n=e[t(485)]!==void 0?e.className:t(502),r=e[t(462)]!==void 0?e[t(462)]:"",s=e.compassClassName!==void 0?e[t(467)]:t(506);this.label_=null,typeof r===t(492)?(this[t(498)]=document[t(460)](t(479)),this[t(498)][t(485)]=s,this[t(498)][t(501)]=r):(this[t(498)]=r,this.label_[t(508)][t(489)](s));const a=e.tipLabel?e[t(473)]:t(505),o=document[t(460)](t(494));o.className=n+"-reset",o.setAttribute("type","button"),o[t(465)]=a,o[t(477)](this[t(498)]),o[t(507)](Ye.CLICK,this[t(459)][t(480)](this),!1);const l=n+" "+vd+" "+dE,c=this.element;c.className=l,c[t(477)](o),this[t(503)]=e[t(490)]?e[t(490)]:void 0,this[t(484)]=e[t(466)]!==void 0?e[t(466)]:250,this[t(486)]=e[t(497)]!==void 0?e[t(497)]:!0,this[t(474)]=void 0,this[t(486)]&&this.element[t(508)][t(489)](bd)}[Hh(459)](e){const t=Hh;e[t(463)](),this[t(503)]!==void 0?this[t(503)]():this.resetNorth_()}[Hh(457)](){const e=Hh,t=this[e(488)](),n=t.getView();if(!n)return;const r=n[e(472)]();r!==void 0&&(this[e(484)]>0&&r%(2*Math.PI)!==0?n[e(495)]({rotation:0,duration:this[e(484)],easing:Fc}):n[e(481)](0))}render(e){const t=Hh,n=e.frameState;if(!n)return;const r=n.viewState[t(493)];if(r!=this[t(474)]){const s="rotate("+r+t(461);if(this.autoHide_){const a=this[t(471)].classList[t(469)](bd);!a&&r===0?this.element[t(508)][t(489)](bd):a&&r!==0&&this[t(471)][t(508)].remove(bd)}this[t(498)].style[t(482)]=s}this.rotation_=r}}const Mm=Yh;(function(i,e){const t=Yh,n=i();for(;;)try{if(parseInt(t(379))/1+parseInt(t(364))/2*(parseInt(t(387))/3)+-parseInt(t(358))/4*(-parseInt(t(349))/5)+parseInt(t(385))/6+parseInt(t(363))/7+-parseInt(t(381))/8*(-parseInt(t(348))/9)+-parseInt(t(378))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Rm,372309);function Yh(i,e){const t=Rm();return Yh=function(n,r){return n=n-347,t[n]},Yh(i,e)}function Rm(){const i=["zoomByDelta_","18348610vAUQsG","501653iCoKSr","delta","195248MqLpun","createTextNode","getZoom","getConstrainedZoom","4206708oYwLcS","button","1003254zNQoBA","cancelAnimations","createElement","zoomOutTipLabel","CLICK","zoomInClassName","9tgupdF","65TzZfnf","duration","string","title","zoomInTipLabel","zoomOutLabel","getAnimating","zoomInLabel","addEventListener","82600koRjtV","getView","zoomOutClassName","div","setAttribute","298949BXMGau","4ReVkBP","type","handleClick_","bind","element","animate","preventDefault","ol-zoom","Zoom out","-out","duration_","appendChild","className"];return Rm=function(){return i},Rm()}class tk extends Vy{constructor(e){const t=Yh;e=e||{},super({element:document[t(389)](t(361)),target:e.target});const n=e[t(376)]!==void 0?e[t(376)]:t(371),r=e.delta!==void 0?e[t(380)]:1,s=e[t(347)]!==void 0?e.zoomInClassName:n+"-in",a=e[t(360)]!==void 0?e.zoomOutClassName:n+t(373),o=e.zoomInLabel!==void 0?e[t(356)]:"+",l=e[t(354)]!==void 0?e[t(354)]:"",c=e[t(353)]!==void 0?e[t(353)]:"Zoom in",x=e.zoomOutTipLabel!==void 0?e[t(390)]:t(372),u=document[t(389)]("button");u.className=s,u.setAttribute(t(365),t(386)),u[t(352)]=c,u.appendChild(typeof o===t(351)?document[t(382)](o):o),u[t(357)](Ye[t(391)],this[t(366)][t(367)](this,r),!1);const h=document[t(389)]("button");h[t(376)]=a,h[t(362)](t(365),t(386)),h[t(352)]=x,h[t(375)](typeof l===t(351)?document.createTextNode(l):l),h[t(357)](Ye[t(391)],this[t(366)][t(367)](this,-r),!1);const f=n+" "+vd+" "+dE,A=this[t(368)];A[t(376)]=f,A[t(375)](u),A[t(375)](h),this[t(374)]=e[t(350)]!==void 0?e[t(350)]:250}[Mm(366)](e,t){const n=Mm;t[n(370)](),this[n(377)](e)}[Mm(377)](e){const t=Mm,n=this.getMap(),r=n[t(359)]();if(!r)return;const s=r[t(383)]();if(s!==void 0){const a=r[t(384)](s+e);this.duration_>0?(r[t(355)]()&&r[t(388)](),r[t(369)]({zoom:a,duration:this[t(374)],easing:Fc})):r.setZoom(a)}}}function Tm(){const i=["350exXlqa","26453rWixsf","attribution","push","3708228Hfnjvs","attributionOptions","107031gErhEq","280FiILZx","rotate","17130861HCTObx","113193fvhULo","1089594cFPeIC","zoom","309316rwqMwi","4yhwaJU","15eRilWJ"];return Tm=function(){return i},Tm()}(function(i,e){const t=Dm,n=i();for(;;)try{if(parseInt(t(510))/1+parseInt(t(513))/2*(parseInt(t(505))/3)+-parseInt(t(512))/4*(-parseInt(t(514))/5)+parseInt(t(503))/6+parseInt(t(500))/7*(-parseInt(t(506))/8)+parseInt(t(509))/9*(parseInt(t(499))/10)+-parseInt(t(508))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Tm,761552);function Dm(i,e){const t=Tm();return Dm=function(n,r){return n=n-499,t[n]},Dm(i,e)}function nk(i){const e=Dm;i=i||{};const t=new Ts;return(i.zoom!==void 0?i[e(511)]:!0)&&t[e(502)](new tk(i.zoomOptions)),(i[e(507)]!==void 0?i[e(507)]:!0)&&t[e(502)](new ek(i.rotateOptions)),(i.attribution!==void 0?i[e(501)]:!0)&&t[e(502)](new $P(i[e(504)])),t}var ik=Fm;function Qm(){var i=["275634RsXRMH","18chpwwi","3591pCktlX","150TEZWKU","3978944uTRswk","6uYMAKz","1590280UrPKdA","10gEEfXo","7998684xsQlRc","4458LzRLCB","8011840ePHPTv","798556tWoLJF","52MvOHdU","active"];return Qm=function(){return i},Qm()}function Fm(i,e){var t=Qm();return Fm=function(n,r){n=n-225;var s=t[n];return s},Fm(i,e)}(function(i,e){for(var t=Fm,n=i();;)try{var r=parseInt(t(231))/1*(-parseInt(t(238))/2)+-parseInt(t(236))/3*(-parseInt(t(237))/4)+parseInt(t(227))/5+-parseInt(t(226))/6*(-parseInt(t(233))/7)+parseInt(t(235))/8*(parseInt(t(232))/9)+parseInt(t(234))/10*(parseInt(t(228))/11)+parseInt(t(225))/12*(-parseInt(t(229))/13);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qm,817945);const SS={ACTIVE:ik(230)};function Xh(i,e){const t=Lm();return Xh=function(n,r){return n=n-343,t[n]},Xh(i,e)}const ga=Xh;(function(i,e){const t=Xh,n=i();for(;;)try{if(-parseInt(t(364))/1*(-parseInt(t(355))/2)+-parseInt(t(356))/3*(parseInt(t(347))/4)+-parseInt(t(366))/5*(parseInt(t(360))/6)+-parseInt(t(346))/7*(-parseInt(t(372))/8)+parseInt(t(354))/9+-parseInt(t(362))/10*(parseInt(t(367))/11)+-parseInt(t(343))/12*(-parseInt(t(369))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Lm,543307);class Wh extends bs{constructor(e){const t=Xh;super(),this.on,this[t(371)],this.un,e&&e.handleEvent&&(this.handleEvent=e[t(357)]),this[t(348)]=null,this[t(349)](!0)}[ga(365)](){return this[ga(358)](SS.ACTIVE)}[ga(370)](){return this.map_}handleEvent(e){return!0}[ga(349)](e){this[ga(368)](SS.ACTIVE,e)}[ga(361)](e){const t=ga;this[t(348)]=e}}function rk(i,e,t){const n=ga,r=i[n(352)]();if(r){const s=[r[0]+e[0],r[1]+e[1]];i[n(350)]({duration:t!==void 0?t:250,easing:w7,center:i[n(345)](s)})}}function Hy(i,e,t,n){const r=ga,s=i[r(363)]();if(s===void 0)return;const a=i[r(353)](s+e),o=i[r(351)](a);i.getAnimating()&&i[r(344)](),i[r(359)]({resolution:o,anchor:t,duration:n!==void 0?n:250,easing:Fc})}function Lm(){const i=["handleEvent","get","animate","12gBwOVx","setMap","10dqkcNt","getZoom","2uIZtkW","getActive","2176910rXbYCc","304579TCiXVS","set","13YkjLhK","getMap","once","16yfSVJm","8511252UepgIw","cancelAnimations","getConstrainedCenter","906731YamRWa","234268oDrmJD","map_","setActive","animateInternal","getResolutionForZoom","getCenterInternal","getConstrainedZoom","5777865pLeEhc","299974GrxyRq","24eONAxD"];return Lm=function(){return i},Lm()}function Pm(){const i=["DBLCLICK","24rcZBrt","coordinate","type","3120355fvZwwi","originalEvent","6616212VYhWUa","1599904LtKtiY","delta_","1qFccJR","delta","shiftKey","preventDefault","2998002IUnMjV","9811039JSoscu","2724741IqzRne","2577027qboJJT"];return Pm=function(){return i},Pm()}(function(i,e){const t=jh,n=i();for(;;)try{if(parseInt(t(266))/1*(parseInt(t(264))/2)+parseInt(t(273))/3+parseInt(t(263))/4+-parseInt(t(261))/5+parseInt(t(270))/6+-parseInt(t(271))/7+parseInt(t(258))/8*(-parseInt(t(272))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Pm,878786);class sk extends Wh{constructor(e){const t=jh;super(),e=e||{},this[t(265)]=e[t(267)]?e[t(267)]:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){const t=jh;let n=!1;if(e[t(260)]==Mn[t(257)]){const r=e[t(262)],s=e.map,a=e[t(259)],o=r[t(268)]?-this.delta_:this[t(265)],l=s.getView();Hy(l,o,a,this.duration_),r[t(269)](),n=!0}return!n}}function jh(i,e){const t=Pm();return jh=function(n,r){return n=n-257,t[n]},jh(i,e)}const ns=Kh;function Kh(i,e){const t=km();return Kh=function(n,r){return n=n-246,t[n]},Kh(i,e)}(function(i,e){const t=Kh,n=i();for(;;)try{if(-parseInt(t(272))/1*(-parseInt(t(270))/2)+-parseInt(t(256))/3+-parseInt(t(252))/4+-parseInt(t(254))/5*(-parseInt(t(261))/6)+parseInt(t(250))/7*(-parseInt(t(269))/8)+-parseInt(t(276))/9+parseInt(t(248))/10*(parseInt(t(251))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(km,728257);function km(){const i=["type","691166iRyGjJ","77zkmSRD","2433264DdtFnz","POINTERDOWN","25GqzvAS","activePointers","1448190tSqSRw","handleUpEvent","targetPointers","handleEvent","handleDragEvent","1216452pFMfFu","POINTERUP","preventDefault","length","handleMoveEvent","getPointerCount","clientY","updateTrackedPointers_","32MGbGZX","473756lMIKPI","POINTERDRAG","4fNxeGG","originalEvent","handleDownEvent","clientX","3383946oTGqfd","POINTERMOVE","stopDown","handlingDownUpSequence","898610oCdFvf"];return km=function(){return i},km()}class Jh extends Wh{constructor(e){const t=Kh;e=e||{},super(e),e[t(274)]&&(this[t(274)]=e[t(274)]),e[t(260)]&&(this[t(260)]=e[t(260)]),e.handleMoveEvent&&(this[t(265)]=e.handleMoveEvent),e[t(257)]&&(this.handleUpEvent=e[t(257)]),e[t(246)]&&(this[t(246)]=e[t(246)]),this[t(247)]=!1,this[t(258)]=[]}[ns(266)](){const e=ns;return this.targetPointers[e(264)]}[ns(274)](e){return!1}handleDragEvent(e){}[ns(259)](e){const t=ns;if(!e.originalEvent)return!0;let n=!1;if(this[t(268)](e),this[t(247)]){if(e[t(249)]==Mn[t(271)])this[t(260)](e),e[t(273)][t(263)]();else if(e[t(249)]==Mn[t(262)]){const r=this[t(257)](e);this[t(247)]=r&&this[t(258)].length>0}}else if(e[t(249)]==Mn[t(253)]){const r=this.handleDownEvent(e);this[t(247)]=r,n=this[t(246)](r)}else e.type==Mn[t(277)]&&this[t(265)](e);return!n}[ns(265)](e){}[ns(257)](e){return!1}[ns(246)](e){return e}[ns(268)](e){const t=ns;e[t(255)]&&(this[t(258)]=e[t(255)])}}function qy(i){const e=ns,t=i.length;let n=0,r=0;for(let s=0;s<t;s++)n+=i[s][e(275)],r+=i[s][e(267)];return{clientX:n/t,clientY:r/t}}(function(i,e){const t=Ji,n=i();for(;;)try{if(parseInt(t(157))/1+parseInt(t(149))/2+parseInt(t(146))/3*(parseInt(t(164))/4)+parseInt(t(153))/5*(-parseInt(t(151))/6)+-parseInt(t(167))/7+-parseInt(t(175))/8*(-parseInt(t(155))/9)+-parseInt(t(156))/10*(parseInt(t(173))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Um,120331);function Um(){const i=["20SplenO","209393hrkYDC","INPUT","ctrlKey","metaKey","CLICK","target","DBLCLICK","120tFriws","shiftKey","map","1008182RxIbkJ","length","mapBrowserEvent must originate from a pointer event","originalEvent","hasAttribute","mouse","954085YfJbLX","touch","64vkSMjj","tagName","altKey","tabindex","getTargetElement","activeElement","isContentEditable","14214FjdejJ","type","pointermove","205898fJxeKX","isPrimary","116826Aevijx","button","45OanMau","pointerType","178407tOfVTL"];return Um=function(){return i},Um()}function Ji(i,e){const t=Um();return Ji=function(n,r){return n=n-146,t[n]},Ji(i,e)}function Yy(i){const e=arguments;return function(t){const n=Ji;let r=!0;for(let s=0,a=e[n(168)];s<a&&(r=r&&e[s](t),!!r);++s);return r}}const ak=function(i){const e=Ji,t=i[e(170)];return t[e(177)]&&!(t[e(160)]||t[e(159)])&&t.shiftKey},ok=function(i){const e=Ji,t=i[e(166)][e(179)](),n=i[e(166)].getOwnerDocument()[e(180)];return t.contains(n)},MS=function(i){const e=Ji;return i[e(166)][e(179)]()[e(171)](e(178))?ok(i):!0},ck=hu,RS=function(i){const e=Ji,t=i[e(170)];return t[e(152)]==0&&!(KQ&&Zw&&t[e(159)])},TS=function(i){const e=Ji,t=i[e(170)];return!t[e(177)]&&!(t[e(160)]||t.ctrlKey)&&!t.shiftKey},lk=function(i){const e=Ji,t=i[e(170)];return Zw?t[e(160)]:t.ctrlKey},xk=function(i){const e=Ji,t=i[e(170)];return!t.altKey&&!(t[e(160)]||t[e(159)])&&t[e(165)]},DS=function(i){const e=Ji,t=i[e(170)],n=t[e(162)][e(176)];return n!==e(158)&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target[e(181)]},Xy=function(i){const e=Ji,t=i.originalEvent;return yt(t!==void 0,e(169)),t.pointerType==e(172)},uk=function(i){const e=Ji,t=i[e(170)];return yt(t!==void 0,e(169)),t[e(150)]&&t[e(152)]===0},Zh=$h;(function(i,e){const t=$h,n=i();for(;;)try{if(parseInt(t(329))/1*(parseInt(t(367))/2)+parseInt(t(359))/3*(-parseInt(t(369))/4)+-parseInt(t(331))/5*(-parseInt(t(350))/6)+parseInt(t(356))/7*(parseInt(t(345))/8)+-parseInt(t(354))/9+parseInt(t(337))/10+-parseInt(t(370))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Nm,598204);function $h(i,e){const t=Nm();return $h=function(n,r){return n=n-328,t[n]},$h(i,e)}function Nm(){const i=["beginInteraction","kinetic","getView","getDistance","350OiLPVI","adjustCenterInternal","36536OYtxGF","7771368TNCgfn","map","endInteraction","751jFJJsz","getEventPixel","37640jtNxAv","condition_","lastPointersCount_","getAngle","begin","getCenterInternal","9494400bErhLW","handleDownEvent","getAnimating","lastCentroid","sin","length","cos","cancelAnimations","66008VmcviT","end","noKinetic_","preventDefault","getRotation","234yAiPsh","originalEvent","condition","onFocusOnly","4913802pApTYH","kinetic_","497TbCUTr","handleDragEvent","getCoordinateFromPixelInternal","36ITeKhh","getResolution","panning_","targetPointers"];return Nm=function(){return i},Nm()}class hk extends Jh{constructor(e){const t=$h;super({stopDown:ld}),e=e||{},this[t(355)]=e[t(364)],this[t(340)]=null,this.lastPointersCount_,this[t(361)]=!1;const n=e[t(352)]?e[t(352)]:Yy(TS,uk);this.condition_=e[t(353)]?Yy(MS,n):n,this[t(347)]=!1}[Zh(357)](e){const t=Zh,n=e[t(371)];!this[t(361)]&&(this[t(361)]=!0,n[t(365)]()[t(363)]());const r=this[t(362)],s=n[t(330)](qy(r));if(r[t(342)]==this.lastPointersCount_){if(this[t(355)]&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const a=[this[t(340)][0]-s[0],s[1]-this[t(340)][1]],o=e[t(371)],l=o[t(365)]();MQ(a,l[t(360)]()),WI(a,l[t(349)]()),l[t(368)](a)}}else this[t(355)]&&this.kinetic_[t(335)]();this.lastCentroid=s,this[t(333)]=r[t(342)],e[t(351)][t(348)]()}handleUpEvent(e){const t=Zh,n=e[t(371)],r=n[t(365)]();if(this.targetPointers[t(342)]===0){if(!this[t(347)]&&this[t(355)]&&this[t(355)][t(346)]()){const s=this[t(355)][t(366)](),a=this.kinetic_[t(334)](),o=r[t(336)](),l=n.getPixelFromCoordinateInternal(o),c=n[t(358)]([l[0]-s*Math[t(343)](a),l[1]-s*Math[t(341)](a)]);r.animateInternal({center:r.getConstrainedCenter(c),duration:500,easing:Fc})}return this[t(361)]&&(this.panning_=!1,r[t(328)]()),!1}return this[t(355)]&&this.kinetic_[t(335)](),this.lastCentroid=null,!0}[Zh(338)](e){const t=Zh;if(this[t(362)].length>0&&this[t(332)](e)){const n=e[t(371)],r=n[t(365)]();return this.lastCentroid=null,r[t(339)]()&&r[t(344)](),this[t(355)]&&this[t(355)][t(335)](),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}const Cl=ef;(function(i,e){const t=ef,n=i();for(;;)try{if(-parseInt(t(252))/1+-parseInt(t(249))/2+parseInt(t(255))/3*(-parseInt(t(251))/4)+parseInt(t(242))/5+-parseInt(t(231))/6*(parseInt(t(232))/7)+-parseInt(t(245))/8*(parseInt(t(240))/9)+-parseInt(t(243))/10*(-parseInt(t(239))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Om,425121);function ef(i,e){const t=Om();return ef=function(n,r){return n=n-229,t[n]},ef(i,e)}function Om(){const i=["lastAngle_","305112RLWuTo","849225aFSnNA","map","rotation","33IauShe","handleDragEvent","endInteraction","adjustRotationInternal","64092kEbmOj","469ygEHKB","duration","condition","atan2","handleUpEvent","duration_","condition_","84381wQMpVj","7186653zYyXOP","getView","2673030GYHreY","4630hkAnMR","getConstraints","8hYFwPM","beginInteraction","pixel","handleDownEvent","917328PnMunf"];return Om=function(){return i},Om()}class fk extends Jh{constructor(e){const t=ef;e=e||{},super({stopDown:ld}),this[t(238)]=e[t(234)]?e.condition:ak,this.lastAngle_=void 0,this[t(237)]=e[t(233)]!==void 0?e[t(233)]:250}[Cl(256)](e){const t=Cl;if(!Xy(e))return;const n=e[t(253)],r=n[t(241)]();if(r[t(244)]()[t(254)]===QE)return;const s=n.getSize(),a=e[t(247)],o=Math[t(235)](s[1]/2-a[1],a[0]-s[0]/2);if(this[t(250)]!==void 0){const l=o-this[t(250)];r[t(230)](-l)}this.lastAngle_=o}[Cl(236)](e){const t=Cl;return Xy(e)?(e[t(253)].getView()[t(229)](this.duration_),!1):!0}[Cl(248)](e){const t=Cl;return Xy(e)&&RS(e)&&this[t(238)](e)?(e[t(253)][t(241)]()[t(246)](),this.lastAngle_=void 0,!0):!1}}function Gm(){const i=["inherit","setCoordinates","width","style","ol-box ","832671sIEjCe","pointerEvents","1233291oxqszR","startPixel_","149214rkGXfU","createOrUpdateGeometry","endPixel_","getGeometry","height","setPixels","setMap","abs","231174XiuOIM","element_","12zhwHYQ","appendChild","getOverlayContainer","map","className","div","2525808IDCOgr","getCoordinateFromPixelInternal","map_","min","top","position","3244EUdDDD","auto","1812951DGPpkq","removeChild","geometry_","115SCjQWo","left","absolute","render_"];return Gm=function(){return i},Gm()}function bl(i,e){const t=Gm();return bl=function(n,r){return n=n-474,t[n]},bl(i,e)}const ma=bl;(function(i,e){const t=bl,n=i();for(;;)try{if(-parseInt(t(490))/1+-parseInt(t(482))/2+parseInt(t(480))/3+parseInt(t(504))/4*(-parseInt(t(509))/5)+-parseInt(t(492))/6*(-parseInt(t(478))/7)+-parseInt(t(498))/8+parseInt(t(506))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gm,210282);class Ak extends rd{constructor(e){const t=bl;super(),this[t(508)]=null,this[t(491)]=document.createElement(t(497)),this[t(491)][t(476)][t(503)]=t(511),this[t(491)][t(476)][t(479)]=t(505),this.element_[t(496)]=t(477)+e,this.map_=null,this[t(481)]=null,this[t(484)]=null}disposeInternal(){this[bl(488)](null)}[ma(512)](){const e=ma,t=this[e(481)],n=this[e(484)],r="px",s=this[e(491)][e(476)];s[e(510)]=Math[e(501)](t[0],n[0])+r,s[e(502)]=Math[e(501)](t[1],n[1])+r,s.width=Math[e(489)](n[0]-t[0])+r,s[e(486)]=Math.abs(n[1]-t[1])+r}[ma(488)](e){const t=ma;if(this[t(500)]){this[t(500)][t(494)]()[t(507)](this[t(491)]);const n=this[t(491)][t(476)];n[t(510)]=t(513),n[t(502)]=t(513),n[t(475)]=t(513),n[t(486)]=t(513)}this.map_=e,this.map_&&this[t(500)][t(494)]()[t(493)](this[t(491)])}[ma(487)](e,t){const n=ma;this.startPixel_=e,this.endPixel_=t,this[n(483)](),this[n(512)]()}[ma(483)](){const e=ma;if(!this[e(500)])return;const t=this.startPixel_,n=this[e(484)],r=[t,[t[0],n[1]],n,[n[0],t[1]]],s=r[e(495)](this.map_[e(499)],this[e(500)]);s[4]=s[0].slice(),this[e(508)]?this[e(508)][e(474)]([s]):this.geometry_=new Nc([s])}[ma(485)](){return this.geometry_}}const ai=zm;(function(i,e){const t=zm,n=i();for(;;)try{if(-parseInt(t(291))/1*(-parseInt(t(312))/2)+-parseInt(t(309))/3+parseInt(t(306))/4*(parseInt(t(307))/5)+parseInt(t(290))/6+parseInt(t(320))/7*(parseInt(t(297))/8)+-parseInt(t(296))/9+-parseInt(t(319))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vm,452988);function zm(i,e){const t=Vm();return zm=function(n,r){return n=n-287,t[n]},zm(i,e)}const tf={BOXSTART:ai(301),BOXDRAG:ai(289),BOXEND:ai(305),BOXCANCEL:ai(313)};function Vm(){const i=["BOXCANCEL","boxend","4TolIig","339620oPRvbP","handleDragEvent","2661759tTyvdh","className","map","70MWduub","boxcancel","condition","setActive","minArea_","setMap","BOXDRAG","4233120ZAMXVo","91lKWgkw","BOXEND","coordinate","box_","boxEndCondition","onBoxEnd","handleDownEvent","boxdrag","2094816ptgTiw","22186PubYDq","pixel","defaultBoxEndCondition","handleUpEvent","dispatchEvent","1441107fvYISc","449296myhIIS","minArea","condition_","startPixel_","boxstart","ol-dragbox","getGeometry"];return Vm=function(){return i},Vm()}class Hm extends br{constructor(e,t,n){const r=ai;super(e),this[r(322)]=t,this.mapBrowserEvent=n}}class dk extends Jh{constructor(e){const t=ai;super(),this.on,this.once,this.un,e=e||{},this.box_=new Ak(e[t(310)]||t(302)),this[t(316)]=e[t(298)]!==void 0?e.minArea:64,e[t(287)]&&(this[t(287)]=e[t(287)]),this[t(300)]=null,this[t(299)]=e[t(314)]?e.condition:RS,this.boxEndCondition_=e[t(324)]?e[t(324)]:this[t(293)]}[ai(293)](e,t,n){const r=n[0]-t[0],s=n[1]-t[1];return r*r+s*s>=this.minArea_}[ai(303)](){const e=ai;return this[e(323)][e(303)]()}[ai(308)](e){const t=ai;this[t(300)]&&(this[t(323)].setPixels(this[t(300)],e[t(292)]),this[t(295)](new Hm(tf[t(318)],e[t(322)],e)))}[ai(294)](e){const t=ai;if(!this[t(300)])return!1;this[t(323)].setMap(null);const n=this.boxEndCondition_(e,this[t(300)],e[t(292)]);return n&&this[t(287)](e),this[t(295)](new Hm(n?tf[t(321)]:tf[t(304)],e[t(322)],e)),!1}[ai(288)](e){const t=ai;return this[t(299)](e)?(this.startPixel_=e[t(292)],this.box_[t(317)](e[t(311)]),this[t(323)].setPixels(this[t(300)],this[t(300)]),this[t(295)](new Hm(tf.BOXSTART,e[t(322)],e)),!0):!1}onBoxEnd(e){}[ai(315)](e){const t=ai;!e&&(this[t(323)].setMap(null),this.startPixel_&&(this[t(295)](new Hm(tf[t(304)],this[t(300)],null)),this[t(300)]=null)),super[t(315)](e)}}(function(i,e){const t=nf,n=i();for(;;)try{if(parseInt(t(135))/1+parseInt(t(125))/2*(-parseInt(t(133))/3)+-parseInt(t(134))/4*(-parseInt(t(140))/5)+parseInt(t(130))/6*(parseInt(t(142))/7)+parseInt(t(138))/8+-parseInt(t(123))/9+-parseInt(t(122))/10*(-parseInt(t(129))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(qm,304228);class pk extends dk{constructor(e){const t=nf;e=e||{};const n=e[t(128)]?e.condition:xk;super({condition:n,className:e.className||t(124),minArea:e[t(137)]}),this[t(126)]=e.duration!==void 0?e.duration:200,this[t(131)]=e[t(127)]!==void 0?e.out:!1}onBoxEnd(e){const t=nf,n=this[t(132)](),r=n[t(139)]();let s=this[t(136)]();if(this.out_){const a=r.rotatedExtentForGeometry(s),o=r[t(143)](a),l=r[t(141)]()/o;s=s.clone(),s.scale(l*l)}r.fitInternal(s,{duration:this[t(126)],easing:Fc})}}function nf(i,e){const t=qm();return nf=function(n,r){return n=n-122,t[n]},nf(i,e)}function qm(){const i=["240lzNhxi","985644bpUYdB","ol-dragzoom","467710LuqmAg","duration_","out","condition","18986czROOy","1019640UwvQDJ","out_","getMap","6sfpjmM","3044taAMYX","401456xphagS","getGeometry","minArea","1095848KAFIFp","getView","865xJQXrv","getResolution","7RaQzFh","getResolutionForExtentInternal"];return qm=function(){return i},qm()}function Ym(i,e){var t=Xm();return Ym=function(n,r){n=n-238;var s=t[n];return s},Ym(i,e)}var Wy=Ym;(function(i,e){for(var t=Ym,n=i();;)try{var r=-parseInt(t(238))/1+parseInt(t(240))/2*(-parseInt(t(244))/3)+parseInt(t(242))/4+-parseInt(t(243))/5+-parseInt(t(246))/6+-parseInt(t(241))/7+parseInt(t(247))/8;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Xm,605783);const D0={LEFT:Wy(248),UP:Wy(245),RIGHT:"ArrowRight",DOWN:Wy(239)};function Xm(){var i=["4939530UMkAlY","35961vPqbvq","ArrowUp","1244160LnqbHj","14172536HrNuot","ArrowLeft","34282kpiUIj","ArrowDown","18PafxRF","2737987jUheeu","2251152xDeMLx"];return Xm=function(){return i},Xm()}function rf(i,e){const t=Wm();return rf=function(n,r){return n=n-101,t[n]},rf(i,e)}const QS=rf;(function(i,e){const t=rf,n=i();for(;;)try{if(parseInt(t(130))/1+-parseInt(t(113))/2*(parseInt(t(120))/3)+parseInt(t(123))/4+-parseInt(t(108))/5*(-parseInt(t(124))/6)+-parseInt(t(118))/7*(parseInt(t(129))/8)+-parseInt(t(117))/9*(-parseInt(t(128))/10)+parseInt(t(116))/11*(-parseInt(t(119))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wm,366558);function Wm(){const i=["RIGHT","pixelDelta","getRotation","preventDefault","pixelDelta_","condition","2553535uUdcFO","condition_","key","defaultCondition_","DOWN","857932TRLtVp","type","handleEvent","216557yRqxWO","2529aOAOOz","7pHRINM","696SvsOsx","3PLIXAc","KEYDOWN","map","1411944mDBcZH","6ltpjrT","LEFT","duration_","duration","25790phTHiF","2391240fQyIsC","647883gpRimS","getView"];return Wm=function(){return i},Wm()}class gk extends Wh{constructor(e){const t=rf;super(),e=e||{},this[t(111)]=function(n){return TS(n)&&DS(n)},this[t(109)]=e[t(107)]!==void 0?e[t(107)]:this.defaultCondition_,this[t(126)]=e[t(127)]!==void 0?e[t(127)]:100,this[t(106)]=e[t(103)]!==void 0?e[t(103)]:128}[QS(115)](e){const t=QS;let n=!1;if(e[t(114)]==Ye[t(121)]){const r=e.originalEvent,s=r[t(110)];if(this[t(109)](e)&&(s==D0[t(112)]||s==D0[t(125)]||s==D0[t(102)]||s==D0.UP)){const a=e[t(122)],o=a[t(101)](),l=o.getResolution()*this[t(106)];let c=0,x=0;s==D0.DOWN?x=-l:s==D0[t(125)]?c=-l:s==D0[t(102)]?c=l:x=l;const u=[c,x];WI(u,o[t(104)]()),rk(o,u,this[t(126)]),r[t(105)](),n=!0}}return!n}}const FS=sf;(function(i,e){const t=sf,n=i();for(;;)try{if(-parseInt(t(462))/1+-parseInt(t(464))/2+parseInt(t(475))/3*(parseInt(t(454))/4)+parseInt(t(470))/5*(-parseInt(t(474))/6)+parseInt(t(473))/7*(-parseInt(t(472))/8)+parseInt(t(456))/9*(-parseInt(t(476))/10)+-parseInt(t(466))/11*(-parseInt(t(461))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(jm,668082);function jm(){const i=["33cJubgx","condition","delta","originalEvent","2005qdataM","handleEvent","312bAtOWj","208047sBtRxQ","480KoohiE","81099BWMIXk","5510fYkmrZ","delta_","getView","92kaYvtX","key","19629LqDhlg","condition_","type","KEYPRESS","KEYDOWN","18609876aOqkbj","1205795EMUOSb","duration","2014842KogOzu","duration_"];return jm=function(){return i},jm()}function sf(i,e){const t=jm();return sf=function(n,r){return n=n-452,t[n]},sf(i,e)}class mk extends Wh{constructor(e){const t=sf;super(),e=e||{},this[t(457)]=e[t(467)]?e[t(467)]:function(n){return!lk(n)&&DS(n)},this[t(452)]=e[t(468)]?e[t(468)]:1,this.duration_=e[t(463)]!==void 0?e.duration:100}[FS(471)](e){const t=FS;let n=!1;if(e[t(458)]==Ye[t(460)]||e.type==Ye[t(459)]){const r=e[t(469)],s=r[t(455)];if(this[t(457)](e)&&(s==="+"||s==="-")){const a=e.map,o=s==="+"?this[t(452)]:-this[t(452)],l=a[t(453)]();Hy(l,o,void 0,this[t(465)]),r.preventDefault(),n=!0}}return!n}}const Q0=vl;(function(i,e){const t=vl,n=i();for(;;)try{if(parseInt(t(439))/1+-parseInt(t(441))/2+-parseInt(t(437))/3*(parseInt(t(422))/4)+-parseInt(t(426))/5+parseInt(t(428))/6+-parseInt(t(423))/7*(-parseInt(t(429))/8)+-parseInt(t(427))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Km,909008);function vl(i,e){const t=Km();return vl=function(n,r){return n=n-422,t[n]},vl(i,e)}class _k{constructor(e,t,n){const r=vl;this.decay_=e,this[r(442)]=t,this[r(430)]=n,this[r(435)]=[],this[r(434)]=0,this[r(432)]=0}begin(){const e=vl;this[e(435)][e(440)]=0,this.angle_=0,this[e(432)]=0}[Q0(436)](e,t){const n=Q0;this[n(435)][n(431)](e,t,Date[n(444)]())}[Q0(433)](){const e=Q0;if(this[e(435)][e(440)]<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this[e(435)][n+2]<t)return!1;let r=n-3;for(;r>0&&this[e(435)][r+2]>t;)r-=3;const s=this[e(435)][n+2]-this[e(435)][r+2];if(s<1e3/60)return!1;const a=this[e(435)][n]-this[e(435)][r],o=this[e(435)][n+1]-this.points_[r+1];return this.angle_=Math[e(443)](o,a),this.initialVelocity_=Math[e(424)](a*a+o*o)/s,this[e(432)]>this[e(442)]}[Q0(425)](){const e=Q0;return(this.minVelocity_-this[e(432)])/this[e(438)]}getAngle(){return this[Q0(434)]}}function Km(){const i=["4491148PpcYwI","161BwEhaa","sqrt","getDistance","128655repAzP","9536688wTUCOn","6494790ezzITu","590808WHNRCF","delay_","push","initialVelocity_","end","angle_","points_","update","3CwBpug","decay_","782210uJDVvj","length","892180djMTUT","minVelocity_","atan2","now"];return Km=function(){return i},Km()}const wl=Bl;function Bl(i,e){const t=Jm();return Bl=function(n,r){return n=n-320,t[n]},Bl(i,e)}(function(i,e){const t=Bl,n=i();for(;;)try{if(parseInt(t(334))/1*(parseInt(t(373))/2)+-parseInt(t(346))/3+-parseInt(t(333))/4*(parseInt(t(364))/5)+-parseInt(t(328))/6*(parseInt(t(368))/7)+-parseInt(t(356))/8+parseInt(t(341))/9*(parseInt(t(352))/10)+-parseInt(t(365))/11*(-parseInt(t(345))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Jm,718005);function Jm(){const i=["constrainResolution_","startTime_","35576OSiPoG","getAnimating","getConstrainResolution","cancelAnimations","timeoutId_","DOM_DELTA_PIXEL","DOM_DELTA_LINE","getView","abs","endInteraction_","useAnchor_","57630kIpepG","deltaMode","handleWheelZoom_","preventDefault","duration","36kQzgEG","68KvwCAb","useAnchor","totalDelta_","type","deltaPerZoom_","endInteraction","condition","23283CftFmZ","trackpadEventGap_","bind","maxDelta_","264isuHOU","1298709kAwRlS","lastAnchor_","condition_","mode_","setMouseAnchor","wheel","4610wmeCvK","constrainResolution","coordinate","getMap","6180232awWsEq","map","max","WHEEL","maxDelta","handleEvent","lastDelta_","trackpadTimeoutId_","585210uqBJZU","431387jdaFLO","duration_","timeout_","210VeIsnq","timeout","trackpad"];return Jm=function(){return i},Jm()}class Ik extends Wh{constructor(e){const t=Bl;e=e||{},super(e),this[t(336)]=0,this[t(362)]=0,this[t(344)]=e.maxDelta!==void 0?e[t(360)]:1,this[t(366)]=e[t(332)]!==void 0?e.duration:250,this[t(367)]=e[t(369)]!==void 0?e[t(369)]:80,this[t(327)]=e[t(335)]!==void 0?e[t(335)]:!0,this[t(371)]=e.constrainResolution!==void 0?e[t(353)]:!1;const n=e[t(340)]?e.condition:ck;this[t(348)]=e.onFocusOnly?Yy(MS,n):n,this[t(347)]=null,this[t(372)]=void 0,this[t(321)],this.mode_=void 0,this[t(342)]=400,this[t(363)],this[t(338)]=300}endInteraction_(){const e=Bl;this[e(363)]=void 0;const t=this[e(355)]();if(!t)return;t[e(324)]()[e(339)](void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this[e(347)])}[wl(361)](e){const t=wl;if(!this[t(348)](e)||e[t(337)]!==Ye.WHEEL)return!0;const r=e[t(357)],s=e.originalEvent;s[t(331)](),this[t(327)]&&(this.lastAnchor_=e[t(354)]);let a;if(e[t(337)]==Ye[t(359)]&&(a=s.deltaY,jQ&&s.deltaMode===WheelEvent[t(322)]&&(a/=ed),s[t(329)]===WheelEvent[t(323)]&&(a*=40)),a===0)return!1;this[t(362)]=a;const o=Date.now();this[t(372)]===void 0&&(this[t(372)]=o),(!this.mode_||o-this[t(372)]>this[t(342)])&&(this[t(349)]=Math[t(325)](a)<4?t(370):t(351));const l=r[t(324)]();if(this[t(349)]==="trackpad"&&!(l[t(375)]()||this.constrainResolution_))return this[t(363)]?clearTimeout(this[t(363)]):(l[t(374)]()&&l[t(320)](),l.beginInteraction()),this[t(363)]=setTimeout(this[t(326)][t(343)](this),this[t(367)]),l.adjustZoom(-a/this[t(338)],this[t(347)]),this[t(372)]=o,!1;this[t(336)]+=a;const c=Math[t(358)](this[t(367)]-(o-this[t(372)]),0);return clearTimeout(this[t(321)]),this[t(321)]=setTimeout(this.handleWheelZoom_[t(343)](this,r),c),!1}[wl(330)](e){const t=wl,n=e[t(324)]();n[t(374)]()&&n.cancelAnimations();let r=-Bn(this[t(336)],-this[t(344)]*this[t(338)],this[t(344)]*this[t(338)])/this[t(338)];(n[t(375)]()||this[t(371)])&&(r=r?r>0?1:-1:0),Hy(n,r,this[t(347)],this[t(366)]),this.mode_=void 0,this[t(336)]=0,this[t(347)]=null,this[t(372)]=void 0,this[t(321)]=void 0}[wl(350)](e){const t=wl;this[t(327)]=e,!e&&(this[t(347)]=null)}}const Sl=af;function af(i,e){const t=Zm();return af=function(n,r){return n=n-350,t[n]},af(i,e)}function Zm(){const i=["92002LUhIVW","targetPointers","rotation","lastAngle_","152jGvOSV","threshold","clientY","1735644PJztMO","handlingDownUpSequence","handleDragEvent","length","adjustRotationInternal","atan2","getView","stopDown","6940HNjKeC","14973030GEwdWQ","abs","clientX","handleUpEvent","anchor_","duration","handleDownEvent","getEventPixel","3HTtVnP","1109985HyrTXF","3371452FXsBbf","rotationDelta_","rotating_","map","631040ydvgPl","duration_"];return Zm=function(){return i},Zm()}(function(i,e){const t=af,n=i();for(;;)try{if(-parseInt(t(380))/1*(parseInt(t(356))/2)+-parseInt(t(381))/3+-parseInt(t(360))/4*(parseInt(t(371))/5)+-parseInt(t(363))/6+-parseInt(t(350))/7+-parseInt(t(354))/8+parseInt(t(372))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Zm,253138);class Ek extends Jh{constructor(e){const t=af;e=e||{};const n=e;!n[t(370)]&&(n[t(370)]=ld),super(n),this[t(376)]=null,this[t(359)]=void 0,this[t(352)]=!1,this[t(351)]=0,this.threshold_=e[t(361)]!==void 0?e.threshold:.3,this[t(355)]=e[t(377)]!==void 0?e[t(377)]:250}[Sl(365)](e){const t=Sl;let n=0;const r=this[t(357)][0],s=this.targetPointers[1],a=Math[t(368)](s[t(362)]-r[t(362)],s[t(374)]-r[t(374)]);if(this.lastAngle_!==void 0){const c=a-this.lastAngle_;this[t(351)]+=c,!this[t(352)]&&Math[t(373)](this[t(351)])>this.threshold_&&(this.rotating_=!0),n=c}this[t(359)]=a;const o=e[t(353)],l=o.getView();l.getConstraints()[t(358)]!==QE&&(this[t(376)]=o.getCoordinateFromPixelInternal(o[t(379)](qy(this[t(357)]))),this.rotating_&&(o.render(),l[t(367)](n,this[t(376)])))}[Sl(375)](e){const t=Sl;return this[t(357)].length<2?(e[t(353)].getView().endInteraction(this[t(355)]),!1):!0}[Sl(378)](e){const t=Sl;if(this.targetPointers[t(366)]>=2){const n=e.map;return this[t(376)]=null,this[t(359)]=void 0,this[t(352)]=!1,this[t(351)]=0,!this[t(364)]&&n[t(369)]().beginInteraction(),!0}return!1}}const of=cf;(function(i,e){const t=cf,n=i();for(;;)try{if(-parseInt(t(272))/1*(parseInt(t(262))/2)+-parseInt(t(253))/3*(-parseInt(t(254))/4)+parseInt(t(243))/5*(parseInt(t(247))/6)+parseInt(t(246))/7*(parseInt(t(245))/8)+-parseInt(t(252))/9*(parseInt(t(265))/10)+-parseInt(t(260))/11*(-parseInt(t(264))/12)+-parseInt(t(248))/13===e)break;n.push(n.shift())}catch{n.push(n.shift())}})($m,123545);function cf(i,e){const t=$m();return cf=function(n,r){return n=n-243,t[n]},cf(i,e)}class yk extends Jh{constructor(e){const t=cf;e=e||{};const n=e;!n[t(263)]&&(n.stopDown=ld),super(n),this[t(257)]=null,this[t(258)]=e[t(270)]!==void 0?e[t(270)]:400,this.lastDistance_=void 0,this[t(259)]=1}[of(266)](e){const t=of;let n=1;const r=this.targetPointers[0],s=this[t(274)][1],a=r[t(268)]-s.clientX,o=r[t(244)]-s.clientY,l=Math[t(255)](a*a+o*o);this[t(275)]!==void 0&&(n=this[t(275)]/l),this[t(275)]=l;const c=e[t(269)],x=c[t(261)]();n!=1&&(this[t(259)]=n),this[t(257)]=c.getCoordinateFromPixelInternal(c[t(250)](qy(this[t(274)]))),c[t(273)](),x.adjustResolutionInternal(n,this[t(257)])}[of(256)](e){const t=of;if(this[t(274)][t(271)]<2){const n=e[t(269)],r=n.getView(),s=this[t(259)]>1?1:-1;return r[t(249)](this[t(258)],s),!1}return!0}handleDownEvent(e){const t=of;if(this[t(274)].length>=2){const n=e.map;return this.anchor_=null,this[t(275)]=void 0,this[t(259)]=1,!this[t(267)]&&n[t(261)]()[t(251)](),!0}return!1}}function $m(){const i=["sqrt","handleUpEvent","anchor_","duration_","lastScaleDelta_","4279cDVzmO","getView","26fYHoOe","stopDown","1740VedhZM","190YcIWhc","handleDragEvent","handlingDownUpSequence","clientX","map","duration","length","1868BxaluV","render","targetPointers","lastDistance_","124895fvyFKn","clientY","645824ooOMfe","21gREnKZ","6PivESz","2596516uLXxEh","endInteraction","getEventPixel","beginInteraction","55323IuQsrq","211179YxGJfJ","8qMAkzl"];return $m=function(){return i},$m()}function e2(i,e){const t=t2();return e2=function(n,r){return n=n-193,t[n]},e2(i,e)}(function(i,e){const t=e2,n=i();for(;;)try{if(-parseInt(t(207))/1+parseInt(t(193))/2+parseInt(t(195))/3+-parseInt(t(196))/4+-parseInt(t(198))/5+parseInt(t(200))/6+-parseInt(t(199))/7===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(t2,644969);function t2(){const i=["keyboard","1150989bghCuZ","mouseWheelZoom","altShiftDragRotate","push","zoomDelta","949504YcjwqS","onFocusOnly","3231051BufMdi","813104YewVyk","doubleClickZoom","3886350ykmixR","309057fqDySW","7613316QhqkES","shiftDragZoom","zoomDuration","pinchRotate","pinchZoom","dragPan"];return t2=function(){return i},t2()}function Ck(i){const e=e2;i=i||{};const t=new Ts,n=new _k(-.005,.05,100);return(i.altShiftDragRotate!==void 0?i[e(209)]:!0)&&t[e(210)](new fk),(i[e(197)]!==void 0?i[e(197)]:!0)&&t.push(new sk({delta:i[e(211)],duration:i.zoomDuration})),(i.dragPan!==void 0?i[e(205)]:!0)&&t[e(210)](new hk({onFocusOnly:i[e(194)],kinetic:n})),(i[e(203)]!==void 0?i[e(203)]:!0)&&t[e(210)](new Ek),(i[e(204)]!==void 0?i.pinchZoom:!0)&&t[e(210)](new yk({duration:i[e(202)]})),(i[e(206)]!==void 0?i[e(206)]:!0)&&(t.push(new gk),t[e(210)](new mk({delta:i.zoomDelta,duration:i.zoomDuration}))),(i[e(208)]!==void 0?i[e(208)]:!0)&&t[e(210)](new Ik({onFocusOnly:i[e(194)],duration:i.zoomDuration})),(i[e(201)]!==void 0?i[e(201)]:!0)&&t[e(210)](new pk({duration:i[e(202)]})),t}const he=_a;(function(i,e){const t=_a,n=i();for(;;)try{if(-parseInt(t(172))/1+-parseInt(t(322))/2*(-parseInt(t(332))/3)+parseInt(t(353))/4*(parseInt(t(159))/5)+parseInt(t(320))/6*(parseInt(t(327))/7)+-parseInt(t(145))/8*(parseInt(t(166))/9)+-parseInt(t(157))/10*(-parseInt(t(335))/11)+parseInt(t(197))/12*(-parseInt(t(178))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(n2,935185);function _a(i,e){const t=n2();return _a=function(n,r){return n=n-132,t[n]},_a(i,e)}function LS(i){const e=_a;if(i instanceof _0){i.setMapInternal(null);return}i instanceof M0&&i[e(260)]().forEach(LS)}function PS(i,e){const t=_a;if(i instanceof _0){i[t(338)](e);return}if(i instanceof M0){const n=i[t(260)]()[t(255)]();for(let r=0,s=n[t(217)];r<s;++r)PS(n[r],e)}}function n2(){const i=["getElementById","overlayIdIndex_","paddingTop","targetChangeHandlerKeys_","bind","374024ANZBEO","getState","getId","targetElement_","absolute","offsetWidth","INTERACTING","overlays","frameIndex_","nextExtent","POINTERDOWN","getOwnerDocument","13756710wqeaCh","getSource","8789315mdhoud","renderer_","top","overlayContainerStopEvent_","reprioritize","getAllLayers","renderComplete_","18QFbPFU","getCoordinateFromPixelInternal","setProperties","getControls","getEventCoordinateInternal","boundHandleBrowserEvent_","844073GdEsmE","dispatchEvent","postRenderFunctions","observe","push","getActive","104USagDm","hitTolerance","disposeInternal","getLayerStatesArray","interactions","LOADEND","ol-overlaycontainer-stopevent","getTargetElement","offsetHeight","none","setView","postRenderTimeoutHandle_","borderBottomWidth","getProjection","addChangeListener","removeControl","handleTargetChanged_","disconnect","removeInteraction","5410884zEWdyy","updateSize","loadMoreTiles","addLayer","checkWrapped","resolution","getEventPixel","set","center","extent","viewPropertyListenerKey_","100%","forEachFeatureAtPixel","width","CHANGE","hasFeatureAtPixel","ol-overlaycontainer","setViewportSize","unobserve","KEYDOWN","length","moveTolerance","layers","nextRotation","setTarget","pixelRatio","once","viewport_","overlayContainer_","maxTilesLoading_","handleMapBrowserEvent","layerGroupPropertyListenerKeys_","getLoadingOrNotReady","controls","forEach","setLayerGroup","changedTouches","position","frameState","SIZE","rotation","keyboardEventTarget","maxTilesLoading","getHints","borderTopWidth","now","nextResolution","getOverlayContainerStopEvent","TARGET","borderLeftWidth","layer","getInteractions","nextCenter","dispatchRenderEvent","isDef","type","ADD","KEYPRESS","getArray","paddingLeft","clientY","addInteraction","div","getLayers","handleBrowserEvent","getClientRects","apply","hidden","No map visible because the map container's width or height are 0.","render","addOverlayInternal_","setSize","mapBrowserEventHandler_","RENDERCOMPLETE","handleTileChange_","paddingRight","pixelToCoordinateTransform_","getFeaturesAtPixel","isEmpty","updateViewportSize_","redrawText","remove","visible","setLayers","overlays_","handlePostRender","clear","hasRenderer","LOADSTART","propagationStopped","values","forEachFeatureAtCoordinate","host","LAYERGROUP","moveTolerance_","PROPERTYCHANGE","createElement","pixelRatio_","animationDelay_","hasListener","addEventListener","getOverlayContainer","renderFrame","className","height","keyboardEventTarget_","VIEW","removelayer","handleSizeChanged_","layerFilter","view","loaded_","borderRightWidth","then","WHEEL","getTilesLoading","getTarget","handleViewPropertyChanged_","originalEvent","relative","style","paddingBottom","animationDelayKey_","30516RAhTgE","viewChangeListenerKey_","8wJiAQy","ontouchstart","ANIMATING","max","addOverlay","2149rxLWoi","pointerEvents","element"," ol-touch","tileQueue_","588813hSnfFc","prototype","handleLayerAdd_","11jjIoPF","handleLayerGroupChanged_","setMap","setMapInternal","frameState_","getMap","isArray","get","getRootNode","toString","removeEventListener","dispose","getView","removeLayer","viewHints","coordinateToPixelTransform_","getAnimating","getSize","4uJhbZX","resolveConstraints","function","getRenderer","handleViewChanged_","getTilePriority","postRenderFunctions_","getPixelFromCoordinateInternal","left","resizeObserver_","renderFrame_","slice","renderSync","getOverlays","ol-viewport","animate","previousExtent_","MOVESTART","getLayerGroup","getEventCoordinate","appendChild","getCount","addlayer","REMOVE","handleLayerRemove_"];return n2=function(){return i},n2()}let jy=class extends bs{constructor(e){const t=_a;super(),e=e||{},this.on,this[t(223)],this.un;const n=bk(e);this.renderComplete_=!1,this[t(308)]=!0,this[t(171)]=this.handleBrowserEvent[t(144)](this),this[t(226)]=e[t(239)]!==void 0?e[t(239)]:16,this[t(294)]=e[t(222)]!==void 0?e[t(222)]:ed,this[t(189)],this[t(319)],this[t(295)]=this.animationDelay_[t(144)](this),this[t(350)]=Gi(),this.pixelToCoordinateTransform_=Gi(),this[t(153)]=0,this[t(339)]=null,this[t(369)]=null,this[t(207)]=null,this[t(321)]=null,this.layerGroupPropertyListenerKeys_=null,this[t(224)]=document.createElement(t(259)),this[t(224)].className=t(367)+(t(323)in window?t(330):""),this[t(224)][t(317)].position=t(316),this[t(224)].style.overflow=t(264),this[t(224)][t(317)][t(210)]=t(208),this[t(224)][t(317)][t(301)]=t(208),this.overlayContainer_=document[t(293)]("div"),this[t(225)].style[t(234)]="absolute",this[t(225)].style.zIndex="0",this[t(225)][t(317)][t(210)]=t(208),this[t(225)][t(317)][t(301)]=t(208),this[t(225)].style[t(328)]=t(187),this[t(225)][t(300)]=t(213),this[t(224)][t(135)](this[t(225)]),this[t(162)]=document[t(293)](t(259)),this[t(162)][t(317)][t(234)]=t(149),this[t(162)].style.zIndex="0",this.overlayContainerStopEvent_[t(317)][t(210)]="100%",this[t(162)][t(317)][t(301)]=t(208),this.overlayContainerStopEvent_[t(317)][t(328)]="none",this[t(162)][t(300)]=t(184),this[t(224)][t(135)](this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this[t(291)]=e[t(218)],this[t(302)]=n[t(238)],this[t(143)]=null,this.targetElement_=null,this[t(362)]=new ResizeObserver(()=>this[t(198)]()),this[t(230)]=n[t(230)]||nk(),this[t(182)]=n[t(182)]||Ck({onFocusOnly:!0}),this[t(281)]=n[t(152)],this[t(141)]={},this.renderer_=null,this[t(359)]=[],this[t(331)]=new iS(this[t(358)][t(144)](this),this[t(271)][t(144)](this)),this[t(192)](Ci[t(290)],this[t(336)]),this.addChangeListener(Ci[t(303)],this[t(357)]),this[t(192)](Ci[t(236)],this[t(305)]),this[t(192)](Ci[t(245)],this[t(194)]),this[t(168)](n[t(287)]);const r=this;e.view&&!(e[t(307)]instanceof Ss)&&e[t(307)][t(310)](function(s){r[t(188)](new Ss(s))}),this[t(230)][t(297)](Xi[t(253)],s=>{const a=t;s[a(329)][a(337)](this)}),this.controls[t(297)](Xi[t(138)],s=>{const a=t;s[a(329)][a(337)](null)}),this.interactions[t(297)](Xi[t(253)],s=>{const a=t;s[a(329)][a(337)](this)}),this[t(182)].addEventListener(Xi[t(138)],s=>{const a=t;s[a(329)][a(337)](null)}),this[t(281)].addEventListener(Xi[t(253)],s=>{const a=t;this[a(267)](s[a(329)])}),this.overlays_[t(297)](Xi[t(138)],s=>{const a=t,o=s[a(329)][a(147)]();o!==void 0&&delete this[a(141)][o[a(344)]()],s[a(329)].setMap(null)}),this[t(230)][t(231)](s=>{s[t(337)](this)}),this[t(182)].forEach(s=>{s[t(337)](this)}),this[t(281)].forEach(this[t(267)][t(144)](this))}addControl(e){this[_a(169)]().push(e)}[he(258)](e){this.getInteractions().push(e)}[he(200)](e){const t=he;this[t(133)]()[t(260)]()[t(176)](e)}[he(334)](e){PS(e.layer,this)}[he(326)](e){const t=he;this[t(366)]()[t(176)](e)}[he(267)](e){const t=he,n=e[t(147)]();n!==void 0&&(this[t(141)][n[t(344)]()]=e),e[t(337)](this)}[he(180)](){const e=he;this[e(230)][e(283)](),this[e(182)][e(283)](),this.overlays_[e(283)](),this[e(362)][e(195)](),this.setTarget(null),super.disposeInternal()}[he(209)](e,t,n){const r=he;if(!this.frameState_||!this[r(160)])return;const s=this[r(167)](e);n=n!==void 0?n:{};const a=n[r(179)]!==void 0?n[r(179)]:0,o=n.layerFilter!==void 0?n[r(306)]:hu,l=n[r(201)]!==!1;return this[r(160)][r(288)](s,this[r(339)],a,l,t,null,o,null)}[he(274)](e,t){const n=he,r=[];return this[n(209)](e,function(s){r[n(176)](s)},t),r}[he(164)](){const e=he,t=[];function n(r){const s=_a;r[s(231)](function(a){const o=s;a instanceof M0?n(a[o(260)]()):t[o(176)](a)})}return n(this[e(260)]()),t}[he(212)](e,t){const n=he;if(!this[n(339)]||!this[n(160)])return!1;const r=this[n(167)](e);t=t!==void 0?t:{};const s=t[n(306)]!==void 0?t[n(306)]:hu,a=t[n(179)]!==void 0?t[n(179)]:0,o=t[n(201)]!==!1;return this[n(160)].hasFeatureAtCoordinate(r,this[n(339)],a,o,s,null)}[he(134)](e){const t=he;return this.getCoordinateFromPixel(this[t(203)](e))}[he(170)](e){const t=he;return this[t(167)](this[t(203)](e))}[he(203)](e){const t=he,n=this[t(224)],r=n.getBoundingClientRect(),s=this[t(352)](),a=r.width/s[0],o=r[t(301)]/s[1],l=t(233)in e?e[t(233)][0]:e;return[(l.clientX-r[t(361)])/a,(l[t(257)]-r[t(161)])/o]}[he(313)](){const e=he;return this[e(342)](Ci[e(245)])}[he(185)](){return this.targetElement_}getCoordinateFromPixel(e){const t=he;return nE(this[t(167)](e),this.getView()[t(191)]())}[he(167)](e){const t=he,n=this[t(339)];return n?Vn(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this[he(230)]}[he(366)](){return this.overlays_}getOverlayById(e){const t=he,n=this[t(141)][e[t(344)]()];return n!==void 0?n:null}[he(248)](){return this[he(182)]}[he(133)](){const e=he;return this.get(Ci[e(290)])}[he(280)](e){const t=he,n=this[t(133)]();if(e instanceof Ts){n.setLayers(e);return}const r=n[t(260)]();r[t(283)](),r.extend(e)}[he(260)](){const e=he;return this[e(133)]()[e(260)]()}getLoadingOrNotReady(){const e=he,t=this[e(133)]().getLayerStatesArray();for(let n=0,r=t[e(217)];n<r;++n){const s=t[n];if(!s[e(279)])continue;const a=s[e(247)][e(356)]();if(a&&!a.ready)return!0;const o=s[e(247)][e(158)]();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const t=he,n=Zs(e,this[t(347)]()[t(191)]());return this[t(360)](n)}getPixelFromCoordinateInternal(e){const t=he,n=this.frameState_;return n?Vn(n.coordinateToPixelTransform,e[t(364)](0,2)):null}[he(356)](){return this[he(160)]}[he(352)](){const e=he;return this[e(342)](Ci[e(236)])}getView(){const e=he;return this[e(342)](Ci[e(303)])}getViewport(){return this[he(224)]}[he(298)](){return this[he(225)]}[he(244)](){return this.overlayContainerStopEvent_}[he(156)](){const e=he,t=this[e(185)]();return t?t.ownerDocument:document}[he(358)](e,t,n,r){return oL(this.frameState_,e,t,n,r)}[he(261)](e,t){const n=he;t=t||e[n(252)];const r=new bo(t,this,e);this[n(227)](r)}[he(227)](e){const t=he;if(!this[t(339)])return;const n=e[t(315)],r=n.type;if(r===zy[t(155)]||r===Ye[t(311)]||r===Ye[t(216)]){const s=this.getOwnerDocument(),a=this.viewport_[t(343)]?this.viewport_.getRootNode():s,o=n.target;if(this[t(162)].contains(o)||!(a===s?s.documentElement:a).contains(o))return}if(e[t(235)]=this[t(339)],this[t(173)](e)!==!1){const s=this[t(248)]()[t(255)]()[t(364)]();for(let a=s[t(217)]-1;a>=0;a--){const o=s[a];if(o[t(340)]()!==this||!o[t(177)]()||!this[t(185)]())continue;if(!o.handleEvent(e)||e[t(286)])break}}}[he(282)](){const e=he,t=this.frameState_,n=this[e(331)];if(!n[e(275)]()){let s=this.maxTilesLoading_,a=s;if(t){const o=t[e(349)];if(o[An[e(324)]]||o[An[e(151)]]){const l=Date[e(242)]()-t.time>8;s=l?0:8,a=l?0:2}}n[e(312)]()<s&&(n[e(163)](),n[e(199)](s,a))}t&&this[e(160)]&&!t.animate&&(this[e(165)]?(this[e(296)](Br[e(270)])&&this.renderer_[e(250)](Br[e(270)],t),this[e(308)]===!1&&(this[e(308)]=!0,this[e(173)](new El(wo[e(183)],this,t)))):this[e(308)]===!0&&(this[e(308)]=!1,this.dispatchEvent(new El(wo[e(285)],this,t))));const r=this[e(359)];for(let s=0,a=r[e(217)];s<a;++s)r[s](this,t);r[e(217)]=0}handleSizeChanged_(){const e=he;this.getView()&&!this[e(347)]()[e(351)]()&&this[e(347)]()[e(354)](0),this.render()}[he(194)](){const e=he;if(this[e(269)]){for(let r=0,s=this[e(143)][e(217)];r<s;++r)Jt(this[e(143)][r]);this[e(143)]=null,this[e(224)].removeEventListener(Ye.CONTEXTMENU,this[e(171)]),this[e(224)][e(345)](Ye.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_[e(346)](),this.mapBrowserEventHandler_=null,this[e(224)][e(278)]()}if(this[e(148)]){this[e(362)][e(215)](this[e(148)]);const r=this[e(148)][e(343)]();r instanceof ShadowRoot&&this[e(362)][e(215)](r[e(289)]),this[e(268)](void 0)}const t=this[e(313)](),n=typeof t=="string"?document[e(140)](t):t;if(this[e(148)]=n,!n)this[e(160)]&&(clearTimeout(this[e(189)]),this[e(189)]=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this[e(160)]=null),this[e(319)]&&(cancelAnimationFrame(this[e(319)]),this[e(319)]=void 0);else{n[e(135)](this[e(224)]),!this[e(160)]&&(this[e(160)]=new JP(this)),this[e(269)]=new ZP(this,this.moveTolerance_);for(const a in Mn)this[e(269)].addEventListener(Mn[a],this.handleMapBrowserEvent.bind(this));this[e(224)].addEventListener(Ye.CONTEXTMENU,this[e(171)],!1),this[e(224)][e(297)](Ye[e(311)],this.boundHandleBrowserEvent_,tB?{passive:!1}:!1);const r=this[e(302)]?this.keyboardEventTarget_:n;this[e(143)]=[mt(r,Ye[e(216)],this[e(261)],this),mt(r,Ye[e(254)],this[e(261)],this)];const s=n[e(343)]();s instanceof ShadowRoot&&this[e(362)].observe(s[e(289)]),this[e(362)][e(175)](n)}this[e(198)]()}[he(271)](){this[he(266)]()}handleViewPropertyChanged_(){this.render()}[he(357)](){const e=he;this[e(207)]&&(Jt(this.viewPropertyListenerKey_),this[e(207)]=null),this[e(321)]&&(Jt(this[e(321)]),this[e(321)]=null);const t=this[e(347)]();t&&(this[e(276)](this.getSize()),this[e(207)]=mt(t,vc[e(292)],this[e(314)],this),this[e(321)]=mt(t,Ye[e(211)],this[e(314)],this),t.resolveConstraints(0)),this.render()}[he(336)](){const e=he;this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_[e(231)](Jt),this[e(228)]=null);const t=this[e(133)]();t&&(this.handleLayerAdd_(new Co(e(137),t)),this[e(228)]=[mt(t,vc[e(292)],this[e(266)],this),mt(t,Ye[e(211)],this[e(266)],this),mt(t,e(137),this[e(334)],this),mt(t,e(304),this[e(139)],this)]),this.render()}isRendered(){return!!this[he(339)]}[he(295)](){const e=he;this[e(319)]=void 0,this.renderFrame_(Date[e(242)]())}[he(365)](){const e=he;this[e(319)]&&cancelAnimationFrame(this[e(319)]),this[e(295)]()}[he(277)](){const e=he,t=this[e(133)]()[e(181)]();for(let n=0,r=t[e(217)];n<r;++n){const s=t[n][e(247)];s[e(284)]()&&s.getRenderer().handleFontsChanged()}}[he(266)](){this[he(160)]&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}[he(193)](e){const t=he;return this[t(169)]()[t(278)](e)}[he(196)](e){const t=he;return this.getInteractions()[t(278)](e)}[he(348)](e){const t=he;return this[t(133)]()[t(260)]()[t(278)](e)}[he(139)](e){LS(e[he(247)])}removeOverlay(e){return this[he(366)]().remove(e)}[he(363)](e){const t=he,n=this[t(352)](),r=this[t(347)](),s=this[t(339)];let a=null;if(n!==void 0&&qw(n)&&r&&r[t(251)]()){const o=r[t(240)](this[t(339)]?this[t(339)][t(349)]:void 0),l=r[t(146)]();if(a={animate:!1,coordinateToPixelTransform:this[t(350)],declutter:null,extent:LA(l[t(205)],l[t(202)],l[t(237)],n),index:this[t(153)]++,layerIndex:0,layerStatesArray:this[t(133)]()[t(181)](),pixelRatio:this[t(294)],pixelToCoordinateTransform:this[t(273)],postRenderFunctions:[],size:n,tileQueue:this[t(331)],time:e,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:et(this),renderTargets:{}},l[t(249)]&&l.nextResolution){const c=isNaN(l[t(220)])?l.rotation:l[t(220)];a[t(154)]=LA(l.nextCenter,l[t(243)],c,n)}}this[t(339)]=a,this.renderer_[t(299)](a),a&&(a[t(368)]&&this.render(),Array[t(333)].push[t(263)](this[t(359)],a[t(174)]),s&&(!this.previousExtent_||!n0(this[t(369)])&&!js(a[t(206)],this[t(369)]))&&(this.dispatchEvent(new El(wo[t(132)],this,s)),this[t(369)]=gc(this[t(369)])),this[t(369)]&&!a[t(349)][An.ANIMATING]&&!a[t(349)][An.INTERACTING]&&!js(a[t(206)],this.previousExtent_)&&(this[t(173)](new El(wo.MOVEEND,this,a)),Dw(a[t(206)],this[t(369)]))),this.dispatchEvent(new El(wo.POSTRENDER,this,a)),this[t(165)]=(this[t(296)](wo[t(285)])||this[t(296)](wo.LOADEND)||this[t(296)](Br[t(270)]))&&!this[t(331)].getTilesLoading()&&!this[t(331)][t(136)]()&&!this[t(229)](),!this[t(189)]&&(this.postRenderTimeoutHandle_=setTimeout(()=>{const o=t;this.postRenderTimeoutHandle_=void 0,this[o(282)]()},0))}[he(232)](e){const t=he,n=this[t(133)]();n&&this[t(139)](new Co(t(304),n)),this[t(204)](Ci[t(290)],e)}setSize(e){this[he(204)](Ci.SIZE,e)}[he(221)](e){const t=he;this[t(204)](Ci[t(245)],e)}[he(188)](e){const t=he;if(!e||e instanceof Ss){this[t(204)](Ci[t(303)],e);return}this[t(204)](Ci[t(303)],new Ss);const n=this;e[t(310)](function(r){n.setView(new Ss(r))})}updateSize(){const e=he,t=this[e(185)]();let n;if(t){const s=getComputedStyle(t),a=t[e(150)]-parseFloat(s[e(246)])-parseFloat(s[e(256)])-parseFloat(s[e(272)])-parseFloat(s[e(309)]),o=t.offsetHeight-parseFloat(s[e(241)])-parseFloat(s[e(142)])-parseFloat(s[e(318)])-parseFloat(s[e(190)]);!isNaN(a)&&!isNaN(o)&&(n=[Math[e(325)](0,a),Math[e(325)](0,o)],!qw(n)&&(t[e(150)]||t[e(186)]||t[e(262)]()[e(217)])&&Gw(e(265)))}const r=this[e(352)]();n&&(!r||!$a(n,r))&&(this[e(268)](n),this.updateViewportSize_(n))}[he(276)](e){const t=he,n=this[t(347)]();n&&n[t(214)](e)}};function bk(i){const e=he;let t=null;i[e(238)]!==void 0&&(t=typeof i[e(238)]=="string"?document[e(140)](i[e(238)]):i[e(238)]);const n={},r=i.layers&&typeof i[e(219)][e(260)]=="function"?i[e(219)]:new M0({layers:i.layers});n[Ci[e(290)]]=r,n[Ci[e(245)]]=i.target,n[Ci[e(303)]]=i[e(307)]instanceof Ss?i[e(307)]:new Ss;let s;i.controls!==void 0&&(Array.isArray(i[e(230)])?s=new Ts(i[e(230)][e(364)]()):(yt(typeof i[e(230)].getArray===e(355),"Expected `controls` to be an array or an `ol/Collection.js`"),s=i[e(230)]));let a;i.interactions!==void 0&&(Array.isArray(i[e(182)])?a=new Ts(i[e(182)][e(364)]()):(yt(typeof i[e(182)][e(255)]===e(355),"Expected `interactions` to be an array or an `ol/Collection.js`"),a=i[e(182)]));let o;return i[e(152)]!==void 0?Array[e(341)](i[e(152)])?o=new Ts(i[e(152)][e(364)]()):(yt(typeof i.overlays.getArray===e(355),"Expected `overlays` to be an array or an `ol/Collection.js`"),o=i.overlays):o=new Ts,{controls:s,interactions:a,keyboardEventTarget:t,overlays:o,values:n}}function Ml(i,e){const t=i2();return Ml=function(n,r){return n=n-221,t[n]},Ml(i,e)}const ct=Ml;(function(i,e){const t=Ml,n=i();for(;;)try{if(parseInt(t(335))/1+-parseInt(t(236))/2*(parseInt(t(270))/3)+parseInt(t(345))/4*(parseInt(t(324))/5)+parseInt(t(223))/6*(-parseInt(t(227))/7)+-parseInt(t(316))/8+parseInt(t(305))/9*(-parseInt(t(273))/10)+parseInt(t(267))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(i2,770991);function i2(){const i=["viewState","tileGrid","getDeferredZIndexContexts","prepareFrame","filter","zDirection","getStyleFunction","getFeatures","inversePixelTransform","217728TXfofy","layerStatesArray","declutter","boundHandleStyleImageChange_","LineString","wantedResolution","getTile","renderedOpacity_","renderedResolution","getDeclutter","getTileCoordCenter","10281808VUQjLI","getOverlaps","context","changed","beginPath","Text","getCount","Default","7355JFPJHQ","keys","apply","updateExecutorGroup_","canvas","getOrCreateTile","setTransform","dirty","handleFontsChanged","renderedTileResolution","ready","1491334hPmyMT","getExtent","getState","map","getRenderBuffer","renderedTileRevision","tileCoord","getTileCache","postRender","value","1868jsiilG","viewHints","loadingSourceTiles","getRevision","getTileCoordExtent","getContext","INTERACTING","getClipCoords","distanceSq","getSource","push","pixelRatio","ANIMATING","renderedRenderOrder","opacity","getZForResolution","width","round","toString","1120080FNIzWB","executorGroups","tmpTransform_","renderFeature","28hYsGrg","getReplayState","clip","rotation","renderedPixelToCoordinateTransform_","handleStyleImageChange_","getTileCoordForCoordAndResolution","bind","draw","644054TXVEwm","Circle","getVisible","length","getGeometry","concat","resolution","forEachFeatureAtCoordinate","save","projection","renderDeferredInternal","height","hasExecutors","renderedRotation_","slice","restore","renderedLayerRevision_","Image","all","getId","getResolution","size","tileClipContexts_","getSourceTiles","getTileGrid","getRenderMode","forEach","lineTo","drawTile","getRenderTransform","getLayer","29390196BxIxvZ","tileImageNeedsRender_","globalAlpha","6UUreNz","layerIndex","renderTileImage_","580yWxyhd","hitDetectionImageData","execute","reduce","sort","getWrapX","getTileGridForProjection","moveTo","tempExtent","getRenderOrder","some","isArray","renderedRevision","getRenderedContext","lastIndexOf","LOADED","Polygon","clear","renderedTiles","geometry","splice","wrappedTileCoord","getTileRenderTransform"];return i2=function(){return i},i2()}const vk={image:[ct(289),ct(237),ct(309),ct(253),"Text"],hybrid:["Polygon",ct(309)],vector:[]},kS={hybrid:["Image",ct(321),ct(323)],vector:[ct(289),ct(237),ct(309),ct(253),ct(321),"Default"]};class wk extends tS{constructor(e,t){const n=ct;super(e,t),this[n(308)]=this[n(232)][n(234)](this),this.renderedLayerRevision_,this[n(231)]=null,this[n(249)],this.renderedOpacity_=1,this[n(225)]=Gi(),this[n(258)]=null}drawTile(e,t,n,r,s,a,o,l){const c=ct;this[c(327)](e,t[c(356)],t.viewState[c(245)]),this.tileImageNeedsRender_(e)&&this.renderTileImage_(e,t),super[c(264)](e,t,n,r,s,a,o,l)}[ct(311)](e,t,n,r){const s=ct,a=this[s(329)](e,t,n,r);if(!a)return null;const o=r.viewState,l=o[s(242)],c=r[s(346)];return(!(c[An[s(357)]]||c[An[s(351)]])||!a[s(310)])&&(a[s(310)]=l),a}[ct(299)](e){const t=ct,n=this[t(266)]().getRevision();return this.renderedLayerRevision_!==n&&(this[t(252)]=n,this[t(291)][t(239)]=0),super[t(299)](e)}[ct(327)](e,t,n){const r=ct,s=this[r(266)](),a=s[r(348)](),o=s[r(282)]()||null,l=e[r(310)],c=e.getReplayState(s);if(!c.dirty&&c.renderedResolution===l&&c[r(285)]==a&&c[r(358)]==o)return;const x=s[r(354)](),u=!!s.getDeclutter(),h=x[r(260)](),f=x[r(279)](n),A=f[r(349)](e[r(294)]),g=x.getSourceTiles(t,n,e),d=et(s);delete e.hitDetectionImageData[d],e[r(224)][d]=[],c[r(331)]=!1;for(let p=0,m=g[r(239)];p<m;++p){const I=g[p];if(I[r(337)]()!=de[r(288)])continue;const _=I.tileCoord,y=h.getTileCoordExtent(_),E=Mi(A,y),C=Wa(E,s.getRenderBuffer()*l,this[r(281)]),w=js(y,E)?null:C,b=new b5(0,E,l,t),v=my(l,t),B=function(D,P){const k=r;let V;const Y=D.getStyleFunction()||s[k(302)]();if(Y&&(V=Y(D,l)),V){const U=this[k(226)](D,v,V,b,u,P);c[k(331)]=c[k(331)]||U}},R=I[r(303)]();o&&o!==c.renderedRenderOrder&&R[r(277)](o);for(let D=0,P=R[r(239)];D<P;++D){const k=R[D];(!w||wn(w,k[r(240)]().getExtent()))&&B.call(this,k,D)}const T=b.finish(),F=s[r(261)]()!=="vector"&&u&&g.length===1?null:E,M=new S5(F,l,t,x[r(317)](),T,s[r(339)](),!0);e[r(224)][d][r(355)](M)}c[r(285)]=a,c[r(358)]=o,c[r(313)]=l}[ct(243)](e,t,n,r,s){const a=ct,o=t.viewState[a(242)],l=t[a(296)][a(230)];n=n??0;const c=this[a(266)](),x=c[a(354)](),u=x[a(279)](t[a(296)][a(245)]),h=zI([e]);Wa(h,o*n,h);const f={},A=function(p,m,I){const _=a;let y=p[_(255)]();y===void 0&&(y=et(p));const E=f[y];if(E){if(E!==!0&&I<E[_(353)]){if(I===0)return f[y]=!0,s[_(293)](s[_(287)](E),1),r(p,c,m);E[_(292)]=m,E[_(353)]=I}}else{if(I===0)return f[y]=!0,r(p,c,m);s.push(f[y]={feature:p,layer:c,geometry:m,distanceSq:I,callback:r})}},g=this[a(291)];let d;for(let p=0,m=g[a(239)];!d&&p<m;++p){const I=g[p],_=u.getTileCoordExtent(I[a(294)]);if(!wn(_,h))continue;const y=et(c),E=[I[a(224)][y]],C=c[a(314)]();E[a(283)](w=>{const b=a,v=C?t.declutter[C][b(254)]()[b(338)](B=>B[b(344)]):null;for(let B=0,R=w.length;B<R;++B)if(d=w[B][b(243)](e,o,l,n,A,v),d)return!0})}return d}[ct(303)](e){return new Promise((t,n)=>{const r=Ml,s=this[r(266)](),a=et(s),o=s.getSource(),l=this.renderedProjection,c=l[r(336)](),x=this[r(313)],u=o[r(279)](l),h=Vn(this[r(231)],e[r(250)]()),f=u[r(233)](h,x);let A;for(let _=0,y=this[r(291)][r(239)];_<y;++_)if(f.toString()===this.renderedTiles[_][r(341)][r(222)]()){if(A=this[r(291)][_],A[r(337)]()===de[r(288)]){const E=u[r(349)](A[r(341)]);o[r(278)]()&&l.canWrapX()&&!qr(c,E)&&jI(h,l);break}A=void 0}if(!A||A[r(347)]>0){t([]);return}const g=u.getTileCoordExtent(A.wrappedTileCoord),d=Ks(g),p=[(h[0]-d[0])/x,(d[1]-h[1])/x],m=A[r(259)]()[r(276)](function(_,y){const E=r;return _[E(241)](y[E(303)]())},[]);let I=A[r(274)][a];if(!I){const _=pi(u.getTileSize(u.getZForResolution(x,o[r(301)]))),y=this[r(249)],E=[this[r(265)](u[r(315)](A[r(294)]),x,0,hr,_[0]*hr,_[1]*hr,0)];I=M5(_,E,m,s[r(302)](),u[r(349)](A.wrappedTileCoord),A[r(228)](s).renderedResolution,y),A.hitDetectionImageData[a]=I}t(R5(p,m,I))})}getFeaturesInExtent(e){const t=ct,n=[],r=this[t(342)]();if(r[t(322)]()===0)return n;const s=this[t(266)]().getSource()[t(297)],a=s[t(360)](this.renderedResolution);return r[t(262)](o=>{const l=t;if(o[l(341)][0]!==a||o[l(337)]()!==de[l(288)])return;const c=o[l(259)]();for(let x=0,u=c[l(239)];x<u;++x){const h=c[x],f=h[l(341)];if(wn(e,s[l(349)](f))){const A=h[l(303)]();if(A)for(let g=0,d=A[l(239)];g<d;++g){const p=A[g],m=p.getGeometry();wn(e,m.getExtent())&&n.push(p)}}}}),n}[ct(332)](){const e=ct,t=this[e(266)]();t[e(238)]()&&this[e(252)]!==void 0&&t[e(319)]()}[ct(232)](e){this.renderIfReadyAndVisible()}renderDeclutter(e,t){const n=ct,r=this[n(318)],s=r[n(269)];r[n(269)]=t[n(359)];const a=e.viewHints,o=!(a[An.ANIMATING]||a[An[n(351)]]),l=this[n(291)];for(let c=0,x=l[n(239)];c<x;++c){const u=l[c],h=u.executorGroups[et(this[n(266)]())],f=this[n(266)]()[n(314)]();if(h)for(let A=h[n(239)]-1;A>=0;--A)h[A].execute(this[n(318)],[this[n(318)][n(328)][n(361)],this.context[n(328)][n(247)]],this.getTileRenderTransform(u,e),e[n(296)].rotation,o,Mp,f?e[n(307)][f]:void 0)}r.globalAlpha=s}[ct(246)](e){const t=ct,n=this.renderedTiles,r=n[t(276)]((l,c,x)=>{const u=t;return c[u(224)][et(this[u(266)]())][u(262)](h=>l[u(355)]({executorGroup:h,index:x})),l},[]),s=r[t(338)](({executorGroup:l})=>l[t(298)]()),a={};for(let l=0,c=r[t(239)];l<c;++l){const x=r[l].executorGroup[t(298)]();for(const u in x)a[u]=!0}Object[t(325)](a)[t(277)](Is)[t(338)](Number)[t(262)](l=>{s[t(262)]((x,u)=>{x[l]&&(x[l].forEach(h=>{const f=Ml,{executorGroup:A,index:g}=r[u],d=A[f(286)](),p=d[f(269)];d[f(269)]=this[f(312)];const m=this[f(258)][g];m&&m[f(235)](d),h[f(235)](d),m&&d[f(251)](),d.globalAlpha=p,h[f(290)]()}),x[l].length=0)})})}[ct(295)](e,t){const n=ct,r=t.pixelRatio,s=t.viewState,a=s.center,o=s.resolution,l=s[n(230)],c=t[n(257)],x=Math[n(221)](c[0]*r),u=Math[n(221)](c[1]*r),h=this[n(266)]()[n(354)](),f=h[n(279)](t[n(296)][n(245)]),A=e[n(341)],g=f[n(349)](e[n(294)]),d=f[n(349)](A,this.tempExtent)[0]-g[0];return LE(kE(this[n(304)][n(250)](),1/r,1/r),this.getRenderTransform(a,o,l,r,x,u,d))}[ct(343)](e,t){var y;const n=ct,r=t[n(346)],s=!(r[An[n(357)]]||r[An[n(351)]]);this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform[n(250)](),this[n(249)]=t[n(296)][n(230)],this[n(312)]=t[n(306)][t[n(271)]][n(359)];const a=this[n(266)](),o=a[n(261)](),l=e[n(269)];e[n(269)]=this[n(312)];const c=a[n(314)](),x=c?kS[o][n(300)](E=>!Mp.includes(E)):kS[o],u=t[n(296)],h=u[n(230)],f=a[n(354)](),A=f[n(279)](u[n(245)]),g=A[n(360)](u[n(242)],f[n(301)]),d=this.renderedTiles,p=[],m=[],I=[];let _=!0;for(let E=d[n(239)]-1;E>=0;--E){const C=d[E];_=_&&!C[n(228)](a)[n(331)];const w=C[n(224)][et(a)][n(300)](M=>M[n(248)](x));if(w[n(239)]===0)continue;const b=this[n(295)](C,t),v=C[n(341)][0];let B=!1;const R=w[0][n(352)](b);let T=e,F;if(R){F=new ey,T=F.getContext();for(let M=0,D=p[n(239)];M<D;++M)if(g!==v&&v<m[M]){const P=p[M];wn([R[0],R[3],R[4],R[7]],[P[0],P[3],P[4],P[7]])&&(!B&&(T[n(244)](),B=!0),T[n(320)](),T[n(280)](R[0],R[1]),T[n(263)](R[2],R[3]),T[n(263)](R[4],R[5]),T[n(263)](R[6],R[7]),T[n(280)](P[6],P[7]),T[n(263)](P[4],P[5]),T[n(263)](P[2],P[3]),T[n(263)](P[0],P[1]),T[n(229)]())}p[n(355)](R),m.push(v)}for(let M=0,D=w.length;M<D;++M)w[M].execute(e,[e[n(328)][n(361)],e[n(328)].height],b,h,s,x,(y=t.declutter)==null?void 0:y[c]);B&&(T===e?T.restore():I[E]=F)}e[n(269)]=l,this[n(334)]=_,this.tileClipContexts_=I,!t.declutter&&this.renderDeferredInternal(t),super.postRender(e,t)}[ct(226)](e,t,n,r,s,a){const o=ct;if(!n)return!1;let l=!1;if(Array[o(284)](n))for(let c=0,x=n.length;c<x;++c)l=Dp(r,e,n[c],t,this[o(308)],void 0,s,a)||l;else l=Dp(r,e,n,t,this[o(308)],void 0,s,a);return l}[ct(268)](e){const t=ct,n=this[t(266)]();if(n[t(261)]()==="vector")return!1;const r=e[t(228)](n),s=n[t(348)](),a=e[t(310)];return r[t(333)]!==a||r[t(340)]!==s}[ct(272)](e,t){const n=ct,r=this[n(266)](),s=e[n(228)](r),a=r.getRevision(),o=e.executorGroups[et(r)];s[n(340)]=a;const l=e[n(294)],c=l[0],x=r[n(354)]();let u=t[n(356)];const h=t[n(296)],f=h.projection,A=x[n(279)](f),g=A[n(256)](e[n(341)][0]),d=t[n(356)]/e.wantedResolution*g,p=A[n(256)](c),m=e[n(350)]();u=Math.round(Math.max(u,d/u));const I=x.getTilePixelSize(c,u,f);m[n(328)][n(361)]=I[0],m[n(328)].height=I[1];const _=u/d;if(_!==1){const w=RB(this.tmpTransform_);kE(w,_,_),m[n(330)][n(326)](m,w)}const y=A[n(349)](l,this[n(281)]),E=d/p,C=RB(this.tmpTransform_);kE(C,E,-E),S7(C,-y[0],-y[3]);for(let w=0,b=o.length;w<b;++w)o[w][n(275)](m,[m[n(328)].width*_,m[n(328)][n(247)]*_],C,0,!0,vk[r[n(261)]()],null);s[n(333)]=e[n(310)]}}function r2(){const i=["`renderMode` must be `'hybrid'` or `'vector'`","4PDOcea","preload","setPreload","hybrid","getFeaturesInExtent","5698ejURms","useInterimTilesOnError","PRELOAD","10ESNXbQ","renderMode_","setUseInterimTilesOnError","4645BXlmLX","28763FciKeS","once","getUseInterimTilesOnError","648TzwdmU","set","createRenderer","331011iCPidb","cacheSize_","vector","769672xyIkaR","getBackground","cacheSize","USE_INTERIM_TILES_ON_ERROR","assign","398760hxUxYY","getPreload","getFeatures","getRenderMode","renderMode","getRenderer","493lPpGcz","2HNumwI","810HQVAnk","setBackground"];return r2=function(){return i},r2()}function lf(i,e){const t=r2();return lf=function(n,r){return n=n-340,t[n]},lf(i,e)}const Zi=lf;(function(i,e){const t=lf,n=i();for(;;)try{if(-parseInt(t(361))/1*(-parseInt(t(362))/2)+parseInt(t(355))/3*(parseInt(t(366))/4)+-parseInt(t(340))/5*(-parseInt(t(363))/6)+parseInt(t(341))/7+-parseInt(t(350))/8+parseInt(t(347))/9*(-parseInt(t(374))/10)+-parseInt(t(371))/11*(parseInt(t(344))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(r2,101977);class F0 extends fy{constructor(e){const t=lf;e=e||{};const n=Object[t(354)]({},e);delete n[t(367)];const r=e[t(352)]===void 0?0:e[t(352)];delete e[t(352)],delete n[t(372)],super(n),this.on,this[t(342)],this.un,this[t(348)]=r;const s=e[t(359)]||t(369);yt(s==t(369)||s==t(349),t(365)),this[t(375)]=s,this.setPreload(e[t(367)]?e[t(367)]:0),this[t(376)](e[t(372)]!==void 0?e[t(372)]:!0),this[t(351)],this[t(364)]}[Zi(346)](){return new wk(this,{cacheSize:this.cacheSize_})}[Zi(357)](e){const t=Zi;return super[t(357)](e)}[Zi(370)](e){const t=Zi;return this[t(360)]()[t(370)](e)}[Zi(358)](){return this[Zi(375)]}[Zi(356)](){return this.get(mo.PRELOAD)}[Zi(343)](){const e=Zi;return this.get(mo[e(353)])}[Zi(368)](e){const t=Zi;this[t(345)](mo[t(373)],e)}[Zi(376)](e){const t=Zi;this[t(345)](mo[t(353)],e)}}function US(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bk={},NS,OS={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function xf(i){return i=Math.round(i),i<0?0:i>255?255:i}function GS(i){return i<0?0:i>1?1:i}function Ky(i){return i[i.length-1]==="%"?xf(parseFloat(i)/100*255):xf(parseInt(i))}function s2(i){return i[i.length-1]==="%"?GS(parseFloat(i)/100):GS(parseFloat(i))}function Jy(i,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?i+(e-i)*t*6:t*2<1?e:t*3<2?i+(e-i)*(2/3-t)*6:i}function Sk(i){var e=i.replace(/ /g,"").toLowerCase();if(e in OS)return OS[e].slice();if(e[0]==="#"){if(e.length===4){var t=parseInt(e.substr(1),16);return t>=0&&t<=4095?[(t&3840)>>4|(t&3840)>>8,t&240|(t&240)>>4,t&15|(t&15)<<4,1]:null}else if(e.length===7){var t=parseInt(e.substr(1),16);return t>=0&&t<=16777215?[(t&16711680)>>16,(t&65280)>>8,t&255,1]:null}return null}var n=e.indexOf("("),r=e.indexOf(")");if(n!==-1&&r+1===e.length){var s=e.substr(0,n),a=e.substr(n+1,r-(n+1)).split(","),o=1;switch(s){case"rgba":if(a.length!==4)return null;o=s2(a.pop());case"rgb":return a.length!==3?null:[Ky(a[0]),Ky(a[1]),Ky(a[2]),o];case"hsla":if(a.length!==4)return null;o=s2(a.pop());case"hsl":if(a.length!==3)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=s2(a[1]),x=s2(a[2]),u=x<=.5?x*(c+1):x+c-x*c,h=x*2-u;return[xf(Jy(h,u,l+1/3)*255),xf(Jy(h,u,l)*255),xf(Jy(h,u,l-1/3)*255),o];default:return null}}return null}try{NS=Bk.parseCSSColor=Sk}catch{}let is=class ew{constructor(e,t,n,r=1){this.r=e,this.g=t,this.b=n,this.a=r}static parse(e){if(!e)return;if(e instanceof ew)return e;if(typeof e!="string")return;const t=NS(e);if(t)return new ew(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}toString(){const[e,t,n,r]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${r})`}toArray(){const{r:e,g:t,b:n,a:r}=this;return r===0?[0,0,0,0]:[e*255/r,t*255/r,n*255/r,r]}toArray01(){const{r:e,g:t,b:n,a:r}=this;return r===0?[0,0,0,0]:[e/r,t/r,n/r,r]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:n,a:r}=this;return[e,t,n,r]}};is.black=new is(0,0,0,1),is.white=new is(1,1,1,1),is.transparent=new is(0,0,0,0),is.red=new is(1,0,0,1),is.blue=new is(0,0,1,1);var dr=is;function uf(i){return typeof i=="object"?["literal",i]:i}function Mk(i,e){let t=i.stops;if(!t)return Rk(i,e);const n=t&&typeof t[0][0]=="object",r=n||i.property!==void 0,s=n||!r;return t=t.map(a=>!r&&e.tokens&&typeof a[1]=="string"?[a[0],Fk(a[1])]:[a[0],uf(a[1])]),n?Tk(i,e,t):s?Qk(i,e,t):$y(i,e,t)}function Rk(i,e){const t=["get",i.property];if(i.default===void 0)return e.type==="string"?["string",t]:t;if(e.type==="enum")return["match",t,Object.keys(e.values),t,i.default];{const n=[e.type==="color"?"to-color":e.type,t,uf(i.default)];return e.type==="array"&&n.splice(1,0,e.value,e.length||null),n}}function Zy(i){switch(i.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function Tk(i,e,t){const n={},r={},s=[];for(let o=0;o<t.length;o++){const l=t[o],c=l[0].zoom;n[c]===void 0&&(n[c]={zoom:c,type:i.type,property:i.property,default:i.default},r[c]=[],s.push(c)),r[c].push([l[0].value,l[1]])}if(tC({},e)==="exponential"){const o=[Zy(i),["linear"],["zoom"]];for(const l of s){const c=$y(n[l],e,r[l]);Rl(o,l,c,!1)}return o}else{const o=["step",["zoom"]];for(const l of s){const c=$y(n[l],e,r[l]);Rl(o,l,c,!0)}return eC(o),o}}function Dk(i,e){if(i!==void 0)return i;if(e!==void 0)return e}function zS(i,e){const t=uf(Dk(i.default,e.default));return t===void 0&&e.type==="resolvedImage"?"":t}function $y(i,e,t){const n=tC(i,e),r=["get",i.property];if(n==="categorical"&&typeof t[0][0]=="boolean"){const s=["case"];for(const a of t)s.push(["==",r,a[0]],a[1]);return s.push(zS(i,e)),s}else if(n==="categorical"){const s=["match",r];for(const a of t)Rl(s,a[0],a[1],!1);return s.push(zS(i,e)),s}else if(n==="interval"){const s=["step",["number",r]];for(const a of t)Rl(s,a[0],a[1],!0);return eC(s),i.default===void 0?s:["case",["==",["typeof",r],"number"],s,uf(i.default)]}else if(n==="exponential"){const s=i.base!==void 0?i.base:1,a=[Zy(i),s===1?["linear"]:["exponential",s],["number",r]];for(const o of t)Rl(a,o[0],o[1],!1);return i.default===void 0?a:["case",["==",["typeof",r],"number"],a,uf(i.default)]}else throw new Error(`Unknown property function type ${n}`)}function Qk(i,e,t,n=["zoom"]){const r=tC(i,e);let s,a=!1;if(r==="interval")s=["step",n],a=!0;else if(r==="exponential"){const o=i.base!==void 0?i.base:1;s=[Zy(i),o===1?["linear"]:["exponential",o],n]}else throw new Error(`Unknown zoom function type "${r}"`);for(const o of t)Rl(s,o[0],o[1],a);return eC(s),s}function eC(i){i[0]==="step"&&i.length===3&&(i.push(0),i.push(i[3]))}function Rl(i,e,t,n){i.length>3&&e===i[i.length-2]||(n&&i.length===2||i.push(e),i.push(t))}function tC(i,e){return i.type?i.type:e.expression.interpolated?"exponential":"interval"}function Fk(i){const e=["concat"],t=/{([^{}]+)}/g;let n=0;for(let r=t.exec(i);r!==null;r=t.exec(i)){const s=i.slice(n,t.lastIndex-r[0].length);n=t.lastIndex,s.length>0&&e.push(s),e.push(["get",r[1]])}if(e.length===1)return i;if(n<i.length)e.push(i.slice(n));else if(e.length===2)return["to-string",e[1]];return e}class Lk extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var Qs=Lk;class nC{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[n,r]of t)this.bindings[n]=r}concat(e){return new nC(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1}}var Pk=nC;const a2={kind:"null"},Ee={kind:"number"},lt={kind:"string"},nt={kind:"boolean"},Ia={kind:"color"},Tl={kind:"object"},it={kind:"value"},kk={kind:"error"},o2={kind:"collator"},c2={kind:"formatted"},hf={kind:"resolvedImage"};function Dr(i,e){return{kind:"array",itemType:i,N:e}}function gn(i){if(i.kind==="array"){const e=gn(i.itemType);return typeof i.N=="number"?`array<${e}, ${i.N}>`:i.itemType.kind==="value"?"array":`array<${e}>`}else return i.kind}const Uk=[a2,Ee,lt,nt,Ia,c2,Tl,Dr(it),hf];function ff(i,e){if(e.kind==="error")return null;if(i.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!ff(i.itemType,e.itemType))&&(typeof i.N!="number"||i.N===e.N))return null}else{if(i.kind===e.kind)return null;if(i.kind==="value"){for(const t of Uk)if(!ff(t,e))return null}}return`Expected ${gn(i)} but found ${gn(e)} instead.`}function iC(i,e){return e.some(t=>t.kind===i.kind)}function Af(i,e){return e.some(t=>t==="null"?i===null:t==="array"?Array.isArray(i):t==="object"?i&&!Array.isArray(i)&&typeof i=="object":t===typeof i)}class rC{constructor(e,t,n){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class sC{constructor(e,t,n,r,s){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=s}}class Fs{constructor(e){this.sections=e}static fromString(e){return new Fs([new sC(e,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof Fs?e:Fs.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class Bo{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Bo({name:e,available:!1}):null}serialize(){return["image",this.name]}}function VS(i,e,t,n){return typeof i=="number"&&i>=0&&i<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255?typeof n>"u"||typeof n=="number"&&n>=0&&n<=1?null:`Invalid rgba value [${[i,e,t,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof n=="number"?[i,e,t,n]:[i,e,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function l2(i){if(i===null)return!0;if(typeof i=="string")return!0;if(typeof i=="boolean")return!0;if(typeof i=="number")return!0;if(i instanceof dr)return!0;if(i instanceof rC)return!0;if(i instanceof Fs)return!0;if(i instanceof Bo)return!0;if(Array.isArray(i)){for(const e of i)if(!l2(e))return!1;return!0}else if(typeof i=="object"){for(const e in i)if(!l2(i[e]))return!1;return!0}else return!1}function Wn(i){if(i===null)return a2;if(typeof i=="string")return lt;if(typeof i=="boolean")return nt;if(typeof i=="number")return Ee;if(i instanceof dr)return Ia;if(i instanceof rC)return o2;if(i instanceof Fs)return c2;if(i instanceof Bo)return hf;if(Array.isArray(i)){const e=i.length;let t;for(const n of i){const r=Wn(n);if(!t)t=r;else{if(t===r)continue;t=it;break}}return Dr(t||it,e)}else return Tl}function df(i){const e=typeof i;return i===null?"":e==="string"||e==="number"||e==="boolean"?String(i):i instanceof dr||i instanceof Fs||i instanceof Bo?i.toString():JSON.stringify(i)}class aC{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!l2(e[1]))return t.error("invalid value");const n=e[1];let r=Wn(n);const s=t.expectedType;return r.kind==="array"&&r.N===0&&s&&s.kind==="array"&&(typeof s.N!="number"||s.N===0)&&(r=s),new aC(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof dr?["rgba"].concat(this.value.toArray()):this.value instanceof Fs?this.value.serialize():this.value}}var x2=aC;class Nk{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}var oi=Nk;const oC={string:lt,number:Ee,boolean:nt,object:Tl};class cC{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n=1,r;const s=e[0];if(s==="array"){let o;if(e.length>2){const c=e[1];if(typeof c!="string"||!(c in oC)||c==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=oC[c],n++}else o=it;let l;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);l=e[2],n++}r=Dr(o,l)}else r=oC[s];const a=[];for(;n<e.length;n++){const o=t.parse(e[n],n,it);if(!o)return null;a.push(o)}return new cC(r,a)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(ff(this.type,Wn(n))){if(t===this.args.length-1)throw new oi(`Expected value to be of type ${gn(this.type)}, but found ${gn(Wn(n))} instead.`)}else return n}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if(e.kind==="array"){const n=e.itemType;if(n.kind==="string"||n.kind==="number"||n.kind==="boolean"){t.push(n.kind);const r=e.N;(typeof r=="number"||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map(n=>n.serialize()))}}var Ea=cC;class u2{constructor(e){this.type=c2,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&typeof n=="object")return t.error("First argument must be an image or text section.");const r=[];let s=!1;for(let a=1;a<=e.length-1;++a){const o=e[a];if(s&&typeof o=="object"&&!Array.isArray(o)){s=!1;let l=null;if(o["font-scale"]&&(l=t.parse(o["font-scale"],1,Ee),!l))return null;let c=null;if(o["text-font"]&&(c=t.parse(o["text-font"],1,Dr(lt)),!c))return null;let x=null;if(o["text-color"]&&(x=t.parse(o["text-color"],1,Ia),!x))return null;const u=r[r.length-1];u.scale=l,u.font=c,u.textColor=x}else{const l=t.parse(e[a],1,it);if(!l)return null;const c=l.type.kind;if(c!=="string"&&c!=="value"&&c!=="null"&&c!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");s=!0,r.push({content:l,scale:null,font:null,textColor:null})}}return new u2(r)}evaluate(e){const t=n=>{const r=n.content.evaluate(e);return Wn(r)===hf?new sC("",r,null,null,null):new sC(df(r),null,n.scale?n.scale.evaluate(e):null,n.font?n.font.evaluate(e).join(","):null,n.textColor?n.textColor.evaluate(e):null)};return new Fs(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class h2{constructor(e){this.type=hf,this.input=e}static parse(e,t){if(e.length!==2)return t.error("Expected two arguments.");const n=t.parse(e[1],1,lt);return n?new h2(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=Bo.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Ok={"to-boolean":nt,"to-color":Ia,"to-number":Ee,"to-string":lt};class lC{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if((n==="to-boolean"||n==="to-string")&&e.length!==2)return t.error("Expected one argument.");const r=Ok[n],s=[];for(let a=1;a<e.length;a++){const o=t.parse(e[a],a,it);if(!o)return null;s.push(o)}return new lC(r,s)}evaluate(e){if(this.type.kind==="boolean")return!!this.args[0].evaluate(e);if(this.type.kind==="color"){let t,n;for(const r of this.args){if(t=r.evaluate(e),n=null,t instanceof dr)return t;if(typeof t=="string"){const s=e.parseColor(t);if(s)return s}else if(Array.isArray(t)&&(t.length<3||t.length>4?n=`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:n=VS(t[0],t[1],t[2],t[3]),!n))return new dr(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new oi(n||`Could not parse color from value '${typeof t=="string"?t:String(JSON.stringify(t))}'`)}else if(this.type.kind==="number"){let t=null;for(const n of this.args){if(t=n.evaluate(e),t===null)return 0;const r=Number(t);if(!isNaN(r))return r}throw new oi(`Could not convert ${JSON.stringify(t)} to number.`)}else return this.type.kind==="formatted"?Fs.fromString(df(this.args[0].evaluate(e))):this.type.kind==="resolvedImage"?Bo.fromString(df(this.args[0].evaluate(e))):df(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if(this.type.kind==="formatted")return new u2([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new h2(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild(t=>{e.push(t.serialize())}),e}}var Dl=lC;const Gk=["Unknown","Point","LineString","Polygon"];class zk{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Gk[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:n,y:r}=this.featureTileCoord,s=n*t-e[0],a=r*t-e[1],o=this.featureDistanceData.bearing[0],l=this.featureDistanceData.bearing[1];return o*s+l*a}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=dr.parse(e)),t}}var HS=zk;class Ql{constructor(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const n=e[0],r=Ql.definitions[n];if(!r)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const s=Array.isArray(r)?r[0]:r.type,a=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,o=a.filter(([c])=>!Array.isArray(c)||c.length===e.length-1);let l=null;for(const[c,x]of o){l=new ZS(t.registry,t.path,null,t.scope);const u=[];let h=!1;for(let f=1;f<e.length;f++){const A=e[f],g=Array.isArray(c)?c[f-1]:c.type,d=l.parse(A,1+u.length,g);if(!d){h=!0;break}u.push(d)}if(!h){if(Array.isArray(c)&&c.length!==u.length){l.error(`Expected ${c.length} arguments, but found ${u.length} instead.`);continue}for(let f=0;f<u.length;f++){const A=Array.isArray(c)?c[f]:c.type,g=u[f];l.concat(f+1).checkSubtype(A,g.type)}if(l.errors.length===0)return new Ql(n,s,x,u)}}if(o.length===1)t.errors.push(...l.errors);else{const x=(o.length?o:a).map(([h])=>Vk(h)).join(" | "),u=[];for(let h=1;h<e.length;h++){const f=t.parse(e[h],1+u.length);if(!f)return null;u.push(gn(f.type))}t.error(`Expected arguments of type ${x}, but found (${u.join(", ")}) instead.`)}return null}static register(e,t){Ql.definitions=t;for(const n in t)e[n]=Ql}}function Vk(i){return Array.isArray(i)?`(${i.map(gn).join(", ")})`:`(${gn(i.type)}...)`}var Fl=Ql;class f2{constructor(e,t,n){this.type=o2,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(e.length!==2)return t.error("Expected one argument.");const n=e[1];if(typeof n!="object"||Array.isArray(n))return t.error("Collator options argument must be an object.");const r=t.parse(n["case-sensitive"]===void 0?!1:n["case-sensitive"],1,nt);if(!r)return null;const s=t.parse(n["diacritic-sensitive"]===void 0?!1:n["diacritic-sensitive"],1,nt);if(!s)return null;let a=null;return n.locale&&(a=t.parse(n.locale,1,lt),!a)?null:new f2(r,s,a)}evaluate(e){return new rC(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const So=8192;function xC(i,e){i[0]=Math.min(i[0],e[0]),i[1]=Math.min(i[1],e[1]),i[2]=Math.max(i[2],e[0]),i[3]=Math.max(i[3],e[1])}function Hk(i){return(180+i)/360}function qk(i){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360}function A2(i,e){return!(i[0]<=e[0]||i[2]>=e[2]||i[1]<=e[1]||i[3]>=e[3])}function Yk(i,e){const t=Hk(i[0]),n=qk(i[1]),r=Math.pow(2,e.z);return[Math.round(t*r*So),Math.round(n*r*So)]}function Xk(i,e,t){const n=i[0]-e[0],r=i[1]-e[1],s=i[0]-t[0],a=i[1]-t[1];return n*a-s*r===0&&n*s<=0&&r*a<=0}function Wk(i,e,t){return e[1]>i[1]!=t[1]>i[1]&&i[0]<(t[0]-e[0])*(i[1]-e[1])/(t[1]-e[1])+e[0]}function uC(i,e){let t=!1;for(let n=0,r=e.length;n<r;n++){const s=e[n];for(let a=0,o=s.length;a<o-1;a++){if(Xk(i,s[a],s[a+1]))return!1;Wk(i,s[a],s[a+1])&&(t=!t)}}return t}function jk(i,e){for(let t=0;t<e.length;t++)if(uC(i,e[t]))return!0;return!1}function Kk(i,e){return i[0]*e[1]-i[1]*e[0]}function qS(i,e,t,n){const r=i[0]-t[0],s=i[1]-t[1],a=e[0]-t[0],o=e[1]-t[1],l=n[0]-t[0],c=n[1]-t[1],x=r*c-l*s,u=a*c-l*o;return x>0&&u<0||x<0&&u>0}function Jk(i,e,t,n){const r=[e[0]-i[0],e[1]-i[1]],s=[n[0]-t[0],n[1]-t[1]];return Kk(s,r)===0?!1:!!(qS(i,e,t,n)&&qS(t,n,i,e))}function Zk(i,e,t){for(const n of t)for(let r=0;r<n.length-1;++r)if(Jk(i,e,n[r],n[r+1]))return!0;return!1}function YS(i,e){for(let t=0;t<i.length;++t)if(!uC(i[t],e))return!1;for(let t=0;t<i.length-1;++t)if(Zk(i[t],i[t+1],e))return!1;return!0}function $k(i,e){for(let t=0;t<e.length;t++)if(YS(i,e[t]))return!0;return!1}function hC(i,e,t){const n=[];for(let r=0;r<i.length;r++){const s=[];for(let a=0;a<i[r].length;a++){const o=Yk(i[r][a],t);xC(e,o),s.push(o)}n.push(s)}return n}function XS(i,e,t){const n=[];for(let r=0;r<i.length;r++){const s=hC(i[r],e,t);n.push(s)}return n}function WS(i,e,t,n){if(i[0]<t[0]||i[0]>t[2]){const r=n*.5;let s=i[0]-t[0]>r?-n:t[0]-i[0]>r?n:0;s===0&&(s=i[0]-t[2]>r?-n:t[2]-i[0]>r?n:0),i[0]+=s}xC(e,i)}function eU(i){i[0]=i[1]=1/0,i[2]=i[3]=-1/0}function jS(i,e,t,n){const r=Math.pow(2,n.z)*So,s=[n.x*So,n.y*So],a=[];if(!i)return a;for(const o of i)for(const l of o){const c=[l.x+s[0],l.y+s[1]];WS(c,e,t,r),a.push(c)}return a}function KS(i,e,t,n){const r=Math.pow(2,n.z)*So,s=[n.x*So,n.y*So],a=[];if(!i)return a;for(const o of i){const l=[];for(const c of o){const x=[c.x+s[0],c.y+s[1]];xC(e,x),l.push(x)}a.push(l)}if(e[2]-e[0]<=r/2){eU(e);for(const o of a)for(const l of o)WS(l,e,t,r)}return a}function tU(i,e){const t=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=i.canonicalID();if(!r)return!1;if(e.type==="Polygon"){const s=hC(e.coordinates,n,r),a=jS(i.geometry(),t,n,r);if(!A2(t,n))return!1;for(const o of a)if(!uC(o,s))return!1}if(e.type==="MultiPolygon"){const s=XS(e.coordinates,n,r),a=jS(i.geometry(),t,n,r);if(!A2(t,n))return!1;for(const o of a)if(!jk(o,s))return!1}return!0}function nU(i,e){const t=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=i.canonicalID();if(!r)return!1;if(e.type==="Polygon"){const s=hC(e.coordinates,n,r),a=KS(i.geometry(),t,n,r);if(!A2(t,n))return!1;for(const o of a)if(!YS(o,s))return!1}if(e.type==="MultiPolygon"){const s=XS(e.coordinates,n,r),a=KS(i.geometry(),t,n,r);if(!A2(t,n))return!1;for(const o of a)if(!$k(o,s))return!1}return!0}class pf{constructor(e,t){this.type=nt,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(l2(e[1])){const n=e[1];if(n.type==="FeatureCollection")for(let r=0;r<n.features.length;++r){const s=n.features[r].geometry.type;if(s==="Polygon"||s==="MultiPolygon")return new pf(n,n.features[r].geometry)}else if(n.type==="Feature"){const r=n.geometry.type;if(r==="Polygon"||r==="MultiPolygon")return new pf(n,n.geometry)}else if(n.type==="Polygon"||n.type==="MultiPolygon")return new pf(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return tU(e,this.geometries);if(e.geometryType()==="LineString")return nU(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var fC=pf;function d2(i){if(i instanceof Fl){if(i.name==="get"&&i.args.length===1)return!1;if(i.name==="feature-state")return!1;if(i.name==="has"&&i.args.length===1)return!1;if(i.name==="properties"||i.name==="geometry-type"||i.name==="id")return!1;if(/^filter-/.test(i.name))return!1}if(i instanceof fC)return!1;let e=!0;return i.eachChild(t=>{e&&!d2(t)&&(e=!1)}),e}function AC(i){if(i instanceof Fl&&i.name==="feature-state")return!1;let e=!0;return i.eachChild(t=>{e&&!AC(t)&&(e=!1)}),e}function dC(i,e){if(i instanceof Fl&&e.indexOf(i.name)>=0)return!1;let t=!0;return i.eachChild(n=>{t&&!dC(n,e)&&(t=!1)}),t}class pC{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new pC(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var JS=pC;class gC{constructor(e,t=[],n,r=new Pk,s=[]){this.registry=e,this.path=t,this.key=t.map(a=>`[${a}]`).join(""),this.scope=r,this.errors=s,this.expectedType=n}parse(e,t,n,r,s={}){return t?this.concat(t,n,r)._parse(e,s):this._parse(e,s)}_parse(e,t){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function n(r,s,a){return a==="assert"?new Ea(s,[r]):a==="coerce"?new Dl(s,[r]):r}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if(typeof r!="string")return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const s=this.registry[r];if(s){let a=s.parse(e,this);if(!a)return null;if(this.expectedType){const o=this.expectedType,l=a.type;if((o.kind==="string"||o.kind==="number"||o.kind==="boolean"||o.kind==="object"||o.kind==="array")&&l.kind==="value")a=n(a,o,t.typeAnnotation||"assert");else if((o.kind==="color"||o.kind==="formatted"||o.kind==="resolvedImage")&&(l.kind==="value"||l.kind==="string"))a=n(a,o,t.typeAnnotation||"coerce");else if(this.checkSubtype(o,l))return null}if(!(a instanceof x2)&&a.type.kind!=="resolvedImage"&&mC(a)){const o=new HS;try{a=new x2(a.type,a.evaluate(o))}catch(l){return this.error(l.message),null}}return a}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const r=typeof e=="number"?this.path.concat(e):this.path,s=n?this.scope.concat(n):this.scope;return new gC(this.registry,r,t||null,s,this.errors)}error(e,...t){const n=`${this.key}${t.map(r=>`[${r}]`).join("")}`;this.errors.push(new Qs(n,e))}checkSubtype(e,t){const n=ff(e,t);return n&&this.error(n),n}}var ZS=gC;function mC(i){if(i instanceof JS)return mC(i.boundExpression);if(i instanceof Fl&&i.name==="error")return!1;if(i instanceof f2)return!1;if(i instanceof fC)return!1;const e=i instanceof Dl||i instanceof Ea;let t=!0;return i.eachChild(n=>{e?t=t&&mC(n):t=t&&n instanceof x2}),t?d2(i)&&dC(i,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function $S(i,e){const t=i.length-1;let n=0,r=t,s=0,a,o;for(;n<=r;)if(s=Math.floor((n+r)/2),a=i[s],o=i[s+1],a<=e){if(s===t||e<o)return s;n=s+1}else if(a>e)r=s-1;else throw new oi("Input is not a number.");return 0}class _C{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[r,s]of n)this.labels.push(r),this.outputs.push(s)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,Ee);if(!n)return null;const r=[];let s=null;t.expectedType&&t.expectedType.kind!=="value"&&(s=t.expectedType);for(let a=1;a<e.length;a+=2){const o=a===1?-1/0:e[a],l=e[a+1],c=a,x=a+1;if(typeof o!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(r.length&&r[r.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);const u=t.parse(l,x,s);if(!u)return null;s=s||u.type,r.push([o,u])}return new _C(s,n,r)}evaluate(e){const t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const s=t.length;if(r>=t[s-1])return n[s-1].evaluate(e);const a=$S(t,r);return n[a].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var e4=_C,iU=Ll;function Ll(i,e,t,n){this.cx=3*i,this.bx=3*(t-i)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=i,this.p1y=n,this.p2x=t,this.p2y=n}Ll.prototype.sampleCurveX=function(i){return((this.ax*i+this.bx)*i+this.cx)*i},Ll.prototype.sampleCurveY=function(i){return((this.ay*i+this.by)*i+this.cy)*i},Ll.prototype.sampleCurveDerivativeX=function(i){return(3*this.ax*i+2*this.bx)*i+this.cx},Ll.prototype.solveCurveX=function(i,e){typeof e>"u"&&(e=1e-6);var t,n,r,s,a;for(r=i,a=0;a<8;a++){if(s=this.sampleCurveX(r)-i,Math.abs(s)<e)return r;var o=this.sampleCurveDerivativeX(r);if(Math.abs(o)<1e-6)break;r=r-s/o}if(t=0,n=1,r=i,r<t)return t;if(r>n)return n;for(;t<n;){if(s=this.sampleCurveX(r),Math.abs(s-i)<e)return r;i>s?t=r:n=r,r=(n-t)*.5+t}return r},Ll.prototype.solve=function(i,e){return this.sampleCurveY(this.solveCurveX(i,e))};var rU=US(iU);function pr(i,e,t){return i*(1-t)+e*t}function sU(i,e,t){return new dr(pr(i.r,e.r,t),pr(i.g,e.g,t),pr(i.b,e.b,t),pr(i.a,e.a,t))}function aU(i,e,t){return i.map((n,r)=>pr(n,e[r],t))}var oU=Object.freeze({__proto__:null,number:pr,color:sU,array:aU});const t4=.95047,n4=1,i4=1.08883,r4=4/29,Pl=6/29,s4=3*Pl*Pl,cU=Pl*Pl*Pl,lU=Math.PI/180,xU=180/Math.PI;function IC(i){return i>cU?Math.pow(i,1/3):i/s4+r4}function EC(i){return i>Pl?i*i*i:s4*(i-r4)}function yC(i){return 255*(i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055)}function CC(i){return i/=255,i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function a4(i){const e=CC(i.r),t=CC(i.g),n=CC(i.b),r=IC((.4124564*e+.3575761*t+.1804375*n)/t4),s=IC((.2126729*e+.7151522*t+.072175*n)/n4),a=IC((.0193339*e+.119192*t+.9503041*n)/i4);return{l:116*s-16,a:500*(r-s),b:200*(s-a),alpha:i.a}}function o4(i){let e=(i.l+16)/116,t=isNaN(i.a)?e:e+i.a/500,n=isNaN(i.b)?e:e-i.b/200;return e=n4*EC(e),t=t4*EC(t),n=i4*EC(n),new dr(yC(3.2404542*t-1.5371385*e-.4985314*n),yC(-.969266*t+1.8760108*e+.041556*n),yC(.0556434*t-.2040259*e+1.0572252*n),i.alpha)}function uU(i,e,t){return{l:pr(i.l,e.l,t),a:pr(i.a,e.a,t),b:pr(i.b,e.b,t),alpha:pr(i.alpha,e.alpha,t)}}function hU(i){const{l:e,a:t,b:n}=a4(i),r=Math.atan2(n,t)*xU;return{h:r<0?r+360:r,c:Math.sqrt(t*t+n*n),l:e,alpha:i.a}}function fU(i){const e=i.h*lU,t=i.c,n=i.l;return o4({l:n,a:Math.cos(e)*t,b:Math.sin(e)*t,alpha:i.alpha})}function AU(i,e,t){const n=e-i;return i+t*(n>180||n<-180?n-360*Math.round(n/360):n)}function dU(i,e,t){return{h:AU(i.h,e.h,t),c:pr(i.c,e.c,t),l:pr(i.l,e.l,t),alpha:pr(i.alpha,e.alpha,t)}}const p2={forward:a4,reverse:o4,interpolate:uU},g2={forward:hU,reverse:fU,interpolate:dU};class m2{constructor(e,t,n,r,s){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[a,o]of s)this.labels.push(a),this.outputs.push(o)}static interpolationFactor(e,t,n,r){let s=0;if(e.name==="exponential")s=bC(t,e.base,n,r);else if(e.name==="linear")s=bC(t,1,n,r);else if(e.name==="cubic-bezier"){const a=e.controlPoints;s=new rU(a[0],a[1],a[2],a[3]).solve(bC(t,1,n,r))}return s}static parse(e,t){let[n,r,s,...a]=e;if(!Array.isArray(r)||r.length===0)return t.error("Expected an interpolation type expression.",1);if(r[0]==="linear")r={name:"linear"};else if(r[0]==="exponential"){const c=r[1];if(typeof c!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:c}}else if(r[0]==="cubic-bezier"){const c=r.slice(1);if(c.length!==4||c.some(x=>typeof x!="number"||x<0||x>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:c}}else return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(s=t.parse(s,2,Ee),!s)return null;const o=[];let l=null;n==="interpolate-hcl"||n==="interpolate-lab"?l=Ia:t.expectedType&&t.expectedType.kind!=="value"&&(l=t.expectedType);for(let c=0;c<a.length;c+=2){const x=a[c],u=a[c+1],h=c+3,f=c+4;if(typeof x!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(o.length&&o[o.length-1][0]>=x)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);const A=t.parse(u,f,l);if(!A)return null;l=l||A.type,o.push([x,A])}return l.kind!=="number"&&l.kind!=="color"&&!(l.kind==="array"&&l.itemType.kind==="number"&&typeof l.N=="number")?t.error(`Type ${gn(l)} is not interpolatable.`):new m2(l,n,r,s,o)}evaluate(e){const t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const s=t.length;if(r>=t[s-1])return n[s-1].evaluate(e);const a=$S(t,r),o=t[a],l=t[a+1],c=m2.interpolationFactor(this.interpolation,r,o,l),x=n[a].evaluate(e),u=n[a+1].evaluate(e);return this.operator==="interpolate"?oU[this.type.kind.toLowerCase()](x,u,c):this.operator==="interpolate-hcl"?g2.reverse(g2.interpolate(g2.forward(x),g2.forward(u),c)):p2.reverse(p2.interpolate(p2.forward(x),p2.forward(u),c))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;this.interpolation.name==="linear"?e=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?e=["linear"]:e=["exponential",this.interpolation.base]:e=["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t}}function bC(i,e,t,n){const r=n-t,s=i-t;return r===0?0:e===1?s/r:(Math.pow(e,s)-1)/(Math.pow(e,r)-1)}var L0=m2;class _2{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const r=t.expectedType;r&&r.kind!=="value"&&(n=r);const s=[];for(const o of e.slice(1)){const l=t.parse(o,1+s.length,n,void 0,{typeAnnotation:"omit"});if(!l)return null;n=n||l.type,s.push(l)}return r&&s.some(o=>ff(r,o.type))?new _2(it,s):new _2(n,s)}evaluate(e){let t=null,n=0,r;for(const s of this.args){if(n++,t=s.evaluate(e),t&&t instanceof Bo&&!t.available&&(r||(r=t),t=null,n===this.args.length))return r;if(t!==null)break}return t}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var c4=_2;class vC{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let s=1;s<e.length-1;s+=2){const a=e[s];if(typeof a!="string")return t.error(`Expected string, but found ${typeof a} instead.`,s);if(/[^a-zA-Z0-9_]/.test(a))return t.error("Variable names must contain only alphanumeric characters or '_'.",s);const o=t.parse(e[s+1],s+1);if(!o)return null;n.push([a,o])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return r?new vC(n,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}var l4=vC;class wC{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Ee),r=t.parse(e[2],2,Dr(t.expectedType||it));if(!n||!r)return null;const s=r.type;return new wC(s.itemType,n,r)}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new oi(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new oi(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new oi(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var pU=wC;class BC{constructor(e,t){this.type=nt,this.needle=e,this.haystack=t}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,it),r=t.parse(e[2],2,it);return!n||!r?null:iC(n.type,[nt,lt,Ee,a2,it])?new BC(n,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${gn(n.type)} instead`)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(n==null)return!1;if(!Af(t,["boolean","string","number","null"]))throw new oi(`Expected first argument to be of type boolean, string, number or null, but found ${gn(Wn(t))} instead.`);if(!Af(n,["string","array"]))throw new oi(`Expected second argument to be of type array or string, but found ${gn(Wn(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var gU=BC;class I2{constructor(e,t,n){this.type=Ee,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,it),r=t.parse(e[2],2,it);if(!n||!r)return null;if(!iC(n.type,[nt,lt,Ee,a2,it]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${gn(n.type)} instead`);if(e.length===4){const s=t.parse(e[3],3,Ee);return s?new I2(n,r,s):null}else return new I2(n,r)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Af(t,["boolean","string","number","null"]))throw new oi(`Expected first argument to be of type boolean, string, number or null, but found ${gn(Wn(t))} instead.`);if(!Af(n,["string","array"]))throw new oi(`Expected second argument to be of type array or string, but found ${gn(Wn(n))} instead.`);if(this.fromIndex){const r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var mU=I2;class SC{constructor(e,t,n,r,s,a){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=s,this.otherwise=a}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let n,r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const s={},a=[];for(let c=2;c<e.length-1;c+=2){let x=e[c];const u=e[c+1];Array.isArray(x)||(x=[x]);const h=t.concat(c);if(x.length===0)return h.error("Expected at least one branch label.");for(const A of x){if(typeof A!="number"&&typeof A!="string")return h.error("Branch labels must be numbers or strings.");if(typeof A=="number"&&Math.abs(A)>Number.MAX_SAFE_INTEGER)return h.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof A=="number"&&Math.floor(A)!==A)return h.error("Numeric branch labels must be integer values.");if(!n)n=Wn(A);else if(h.checkSubtype(n,Wn(A)))return null;if(typeof s[String(A)]<"u")return h.error("Branch labels must be unique.");s[String(A)]=a.length}const f=t.parse(u,c,r);if(!f)return null;r=r||f.type,a.push(f)}const o=t.parse(e[1],1,it);if(!o)return null;const l=t.parse(e[e.length-1],e.length-1,r);return!l||o.type.kind!=="value"&&t.concat(1).checkSubtype(n,o.type)?null:new SC(n,r,o,s,a,l)}evaluate(e){const t=this.input.evaluate(e);return(Wn(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],r={};for(const a of t){const o=r[this.cases[a]];o===void 0?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[o][1].push(a)}const s=a=>this.inputType.kind==="number"?Number(a):a;for(const[a,o]of n)o.length===1?e.push(s(o[0])):e.push(o.map(s)),e.push(this.outputs[a].serialize());return e.push(this.otherwise.serialize()),e}}var _U=SC;class MC{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&t.expectedType.kind!=="value"&&(n=t.expectedType);const r=[];for(let a=1;a<e.length-1;a+=2){const o=t.parse(e[a],a,nt);if(!o)return null;const l=t.parse(e[a+1],a+1,n);if(!l)return null;r.push([o,l]),n=n||l.type}const s=t.parse(e[e.length-1],e.length-1,n);return s?new MC(n,r,s):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var IU=MC;class E2{constructor(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,it),r=t.parse(e[2],2,Ee);if(!n||!r)return null;if(!iC(n.type,[Dr(it),lt,it]))return t.error(`Expected first argument to be of type array or string, but found ${gn(n.type)} instead`);if(e.length===4){const s=t.parse(e[3],3,Ee);return s?new E2(n.type,n,r,s):null}else return new E2(n.type,n,r)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Af(t,["string","array"]))throw new oi(`Expected first argument to be of type array or string, but found ${gn(Wn(t))} instead.`);if(this.endIndex){const r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var EU=E2;function x4(i,e){return i==="=="||i==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function yU(i,e,t){return e===t}function CU(i,e,t){return e!==t}function bU(i,e,t){return e<t}function vU(i,e,t){return e>t}function wU(i,e,t){return e<=t}function BU(i,e,t){return e>=t}function u4(i,e,t,n){return n.compare(e,t)===0}function SU(i,e,t,n){return!u4(i,e,t,n)}function MU(i,e,t,n){return n.compare(e,t)<0}function RU(i,e,t,n){return n.compare(e,t)>0}function TU(i,e,t,n){return n.compare(e,t)<=0}function DU(i,e,t,n){return n.compare(e,t)>=0}function kl(i,e,t){const n=i!=="=="&&i!=="!=";return class QT{constructor(s,a,o){this.type=nt,this.lhs=s,this.rhs=a,this.collator=o,this.hasUntypedArgument=s.type.kind==="value"||a.type.kind==="value"}static parse(s,a){if(s.length!==3&&s.length!==4)return a.error("Expected two or three arguments.");const o=s[0];let l=a.parse(s[1],1,it);if(!l)return null;if(!x4(o,l.type))return a.concat(1).error(`"${o}" comparisons are not supported for type '${gn(l.type)}'.`);let c=a.parse(s[2],2,it);if(!c)return null;if(!x4(o,c.type))return a.concat(2).error(`"${o}" comparisons are not supported for type '${gn(c.type)}'.`);if(l.type.kind!==c.type.kind&&l.type.kind!=="value"&&c.type.kind!=="value")return a.error(`Cannot compare types '${gn(l.type)}' and '${gn(c.type)}'.`);n&&(l.type.kind==="value"&&c.type.kind!=="value"?l=new Ea(c.type,[l]):l.type.kind!=="value"&&c.type.kind==="value"&&(c=new Ea(l.type,[c])));let x=null;if(s.length===4){if(l.type.kind!=="string"&&c.type.kind!=="string"&&l.type.kind!=="value"&&c.type.kind!=="value")return a.error("Cannot use collator to compare non-string types.");if(x=a.parse(s[3],3,o2),!x)return null}return new QT(l,c,x)}evaluate(s){const a=this.lhs.evaluate(s),o=this.rhs.evaluate(s);if(n&&this.hasUntypedArgument){const l=Wn(a),c=Wn(o);if(l.kind!==c.kind||!(l.kind==="string"||l.kind==="number"))throw new oi(`Expected arguments for "${i}" to be (string, string) or (number, number), but found (${l.kind}, ${c.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const l=Wn(a),c=Wn(o);if(l.kind!=="string"||c.kind!=="string")return e(s,a,o)}return this.collator?t(s,a,o,this.collator.evaluate(s)):e(s,a,o)}eachChild(s){s(this.lhs),s(this.rhs),this.collator&&s(this.collator)}outputDefined(){return!0}serialize(){const s=[i];return this.eachChild(a=>{s.push(a.serialize())}),s}}}const QU=kl("==",yU,u4),FU=kl("!=",CU,SU),LU=kl("<",bU,MU),PU=kl(">",vU,RU),kU=kl("<=",wU,TU),UU=kl(">=",BU,DU);class RC{constructor(e,t,n,r,s,a){this.type=lt,this.number=e,this.locale=t,this.currency=n,this.unit=r,this.minFractionDigits=s,this.maxFractionDigits=a}static parse(e,t){if(e.length!==3)return t.error("Expected two arguments.");const n=t.parse(e[1],1,Ee);if(!n)return null;const r=e[2];if(typeof r!="object"||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let s=null;if(r.locale&&(s=t.parse(r.locale,1,lt),!s))return null;let a=null;if(r.currency&&(a=t.parse(r.currency,1,lt),!a))return null;let o=null;if(r.unit&&(o=t.parse(r.unit,1,lt),!o))return null;let l=null;if(r["min-fraction-digits"]&&(l=t.parse(r["min-fraction-digits"],1,Ee),!l))return null;let c=null;return r["max-fraction-digits"]&&(c=t.parse(r["max-fraction-digits"],1,Ee),!c)?null:new RC(n,s,a,o,l,c)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency&&"currency"||this.unit&&"unit"||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class TC{constructor(e){this.type=Ee,this.input=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?n.type.kind!=="array"&&n.type.kind!=="string"&&n.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${gn(n.type)} instead.`):new TC(n):null}evaluate(e){const t=this.input.evaluate(e);if(typeof t=="string")return t.length;if(Array.isArray(t))return t.length;throw new oi(`Expected value to be of type string or array, but found ${gn(Wn(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var NU=TC;const h4={"==":QU,"!=":FU,">":PU,"<":LU,">=":UU,"<=":kU,array:Ea,at:pU,boolean:Ea,case:IU,coalesce:c4,collator:f2,format:u2,image:h2,in:gU,"index-of":mU,interpolate:L0,"interpolate-hcl":L0,"interpolate-lab":L0,length:NU,let:l4,literal:x2,match:_U,number:Ea,"number-format":RC,object:Ea,slice:EU,step:e4,string:Ea,"to-boolean":Dl,"to-color":Dl,"to-number":Dl,"to-string":Dl,var:JS,within:fC};function f4(i,[e,t,n,r]){e=e.evaluate(i),t=t.evaluate(i),n=n.evaluate(i);const s=r?r.evaluate(i):1,a=VS(e,t,n,s);if(a)throw new oi(a);return new dr(e/255*s,t/255*s,n/255*s,s)}function A4(i,e){return i in e}function DC(i,e){const t=e[i];return typeof t>"u"?null:t}function OU(i,e,t,n){for(;t<=n;){const r=t+n>>1;if(e[r]===i)return!0;e[r]>i?n=r-1:t=r+1}return!1}function P0(i){return{type:i}}Fl.register(h4,{error:[kk,[lt],(i,[e])=>{throw new oi(e.evaluate(i))}],typeof:[lt,[it],(i,[e])=>gn(Wn(e.evaluate(i)))],"to-rgba":[Dr(Ee,4),[Ia],(i,[e])=>e.evaluate(i).toArray()],rgb:[Ia,[Ee,Ee,Ee],f4],rgba:[Ia,[Ee,Ee,Ee,Ee],f4],has:{type:nt,overloads:[[[lt],(i,[e])=>A4(e.evaluate(i),i.properties())],[[lt,Tl],(i,[e,t])=>A4(e.evaluate(i),t.evaluate(i))]]},get:{type:it,overloads:[[[lt],(i,[e])=>DC(e.evaluate(i),i.properties())],[[lt,Tl],(i,[e,t])=>DC(e.evaluate(i),t.evaluate(i))]]},"feature-state":[it,[lt],(i,[e])=>DC(e.evaluate(i),i.featureState||{})],properties:[Tl,[],i=>i.properties()],"geometry-type":[lt,[],i=>i.geometryType()],id:[it,[],i=>i.id()],zoom:[Ee,[],i=>i.globals.zoom],pitch:[Ee,[],i=>i.globals.pitch||0],"distance-from-center":[Ee,[],i=>i.distanceFromCenter()],"heatmap-density":[Ee,[],i=>i.globals.heatmapDensity||0],"line-progress":[Ee,[],i=>i.globals.lineProgress||0],"sky-radial-progress":[Ee,[],i=>i.globals.skyRadialProgress||0],accumulated:[it,[],i=>i.globals.accumulated===void 0?null:i.globals.accumulated],"+":[Ee,P0(Ee),(i,e)=>{let t=0;for(const n of e)t+=n.evaluate(i);return t}],"*":[Ee,P0(Ee),(i,e)=>{let t=1;for(const n of e)t*=n.evaluate(i);return t}],"-":{type:Ee,overloads:[[[Ee,Ee],(i,[e,t])=>e.evaluate(i)-t.evaluate(i)],[[Ee],(i,[e])=>-e.evaluate(i)]]},"/":[Ee,[Ee,Ee],(i,[e,t])=>e.evaluate(i)/t.evaluate(i)],"%":[Ee,[Ee,Ee],(i,[e,t])=>e.evaluate(i)%t.evaluate(i)],ln2:[Ee,[],()=>Math.LN2],pi:[Ee,[],()=>Math.PI],e:[Ee,[],()=>Math.E],"^":[Ee,[Ee,Ee],(i,[e,t])=>Math.pow(e.evaluate(i),t.evaluate(i))],sqrt:[Ee,[Ee],(i,[e])=>Math.sqrt(e.evaluate(i))],log10:[Ee,[Ee],(i,[e])=>Math.log(e.evaluate(i))/Math.LN10],ln:[Ee,[Ee],(i,[e])=>Math.log(e.evaluate(i))],log2:[Ee,[Ee],(i,[e])=>Math.log(e.evaluate(i))/Math.LN2],sin:[Ee,[Ee],(i,[e])=>Math.sin(e.evaluate(i))],cos:[Ee,[Ee],(i,[e])=>Math.cos(e.evaluate(i))],tan:[Ee,[Ee],(i,[e])=>Math.tan(e.evaluate(i))],asin:[Ee,[Ee],(i,[e])=>Math.asin(e.evaluate(i))],acos:[Ee,[Ee],(i,[e])=>Math.acos(e.evaluate(i))],atan:[Ee,[Ee],(i,[e])=>Math.atan(e.evaluate(i))],min:[Ee,P0(Ee),(i,e)=>Math.min(...e.map(t=>t.evaluate(i)))],max:[Ee,P0(Ee),(i,e)=>Math.max(...e.map(t=>t.evaluate(i)))],abs:[Ee,[Ee],(i,[e])=>Math.abs(e.evaluate(i))],round:[Ee,[Ee],(i,[e])=>{const t=e.evaluate(i);return t<0?-Math.round(-t):Math.round(t)}],floor:[Ee,[Ee],(i,[e])=>Math.floor(e.evaluate(i))],ceil:[Ee,[Ee],(i,[e])=>Math.ceil(e.evaluate(i))],"filter-==":[nt,[lt,it],(i,[e,t])=>i.properties()[e.value]===t.value],"filter-id-==":[nt,[it],(i,[e])=>i.id()===e.value],"filter-type-==":[nt,[lt],(i,[e])=>i.geometryType()===e.value],"filter-<":[nt,[lt,it],(i,[e,t])=>{const n=i.properties()[e.value],r=t.value;return typeof n==typeof r&&n<r}],"filter-id-<":[nt,[it],(i,[e])=>{const t=i.id(),n=e.value;return typeof t==typeof n&&t<n}],"filter->":[nt,[lt,it],(i,[e,t])=>{const n=i.properties()[e.value],r=t.value;return typeof n==typeof r&&n>r}],"filter-id->":[nt,[it],(i,[e])=>{const t=i.id(),n=e.value;return typeof t==typeof n&&t>n}],"filter-<=":[nt,[lt,it],(i,[e,t])=>{const n=i.properties()[e.value],r=t.value;return typeof n==typeof r&&n<=r}],"filter-id-<=":[nt,[it],(i,[e])=>{const t=i.id(),n=e.value;return typeof t==typeof n&&t<=n}],"filter->=":[nt,[lt,it],(i,[e,t])=>{const n=i.properties()[e.value],r=t.value;return typeof n==typeof r&&n>=r}],"filter-id->=":[nt,[it],(i,[e])=>{const t=i.id(),n=e.value;return typeof t==typeof n&&t>=n}],"filter-has":[nt,[it],(i,[e])=>e.value in i.properties()],"filter-has-id":[nt,[],i=>i.id()!==null&&i.id()!==void 0],"filter-type-in":[nt,[Dr(lt)],(i,[e])=>e.value.indexOf(i.geometryType())>=0],"filter-id-in":[nt,[Dr(it)],(i,[e])=>e.value.indexOf(i.id())>=0],"filter-in-small":[nt,[lt,Dr(it)],(i,[e,t])=>t.value.indexOf(i.properties()[e.value])>=0],"filter-in-large":[nt,[lt,Dr(it)],(i,[e,t])=>OU(i.properties()[e.value],t.value,0,t.value.length-1)],all:{type:nt,overloads:[[[nt,nt],(i,[e,t])=>e.evaluate(i)&&t.evaluate(i)],[P0(nt),(i,e)=>{for(const t of e)if(!t.evaluate(i))return!1;return!0}]]},any:{type:nt,overloads:[[[nt,nt],(i,[e,t])=>e.evaluate(i)||t.evaluate(i)],[P0(nt),(i,e)=>{for(const t of e)if(t.evaluate(i))return!0;return!1}]]},"!":[nt,[nt],(i,[e])=>!e.evaluate(i)],"is-supported-script":[nt,[lt],(i,[e])=>{const t=i.globals&&i.globals.isSupportedScript;return t?t(e.evaluate(i)):!0}],upcase:[lt,[lt],(i,[e])=>e.evaluate(i).toUpperCase()],downcase:[lt,[lt],(i,[e])=>e.evaluate(i).toLowerCase()],concat:[lt,P0(it),(i,e)=>e.map(t=>df(t.evaluate(i))).join("")],"resolved-locale":[lt,[o2],(i,[e])=>e.evaluate(i).resolvedLocale()]});var d4=h4;function QC(i){return{result:"success",value:i}}function Ul(i){return{result:"error",value:i}}function GU(i){return i["property-type"]==="data-driven"}function zU(i){return!!i.expression&&i.expression.parameters.indexOf("zoom")>-1}function VU(i){return!!i.expression&&i.expression.interpolated}function p4(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}class HU{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new HS,this._defaultValue=t?WU(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(e,t,n,r,s,a,o,l){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r||null,this._evaluator.availableImages=s||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=l||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,r,s,a,o,l){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r||null,this._evaluator.availableImages=s||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=l||null;try{const c=this.expression.evaluate(this._evaluator);if(c==null||typeof c=="number"&&c!==c)return this._defaultValue;if(this._enumValues&&!(c in this._enumValues))throw new oi(`Expected value to be one of ${Object.keys(this._enumValues).map(x=>JSON.stringify(x)).join(", ")}, but found ${JSON.stringify(c)} instead.`);return c}catch(c){return this._warningHistory[c.message]||(this._warningHistory[c.message]=!0,typeof console<"u"&&console.warn(c.message)),this._defaultValue}}}function qU(i){return Array.isArray(i)&&i.length>0&&typeof i[0]=="string"&&i[0]in d4}function FC(i,e){const t=new ZS(d4,[],e?XU(e):void 0),n=t.parse(i,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return n?QC(new HU(n,e)):Ul(t.errors)}class g4{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!=="constant"&&!AC(t.expression)}evaluateWithoutErrorHandling(e,t,n,r,s,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,s,a)}evaluate(e,t,n,r,s,a){return this._styleExpression.evaluate(e,t,n,r,s,a)}}class m4{constructor(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent=e!=="camera"&&!AC(t.expression),this.interpolationType=r}evaluateWithoutErrorHandling(e,t,n,r,s,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,s,a)}evaluate(e,t,n,r,s,a){return this._styleExpression.evaluate(e,t,n,r,s,a)}interpolationFactor(e,t,n){return this.interpolationType?L0.interpolationFactor(this.interpolationType,e,t,n):0}}function YU(i,e){if(i=FC(i,e),i.result==="error")return i;const t=i.value.expression,n=d2(t);if(!n&&!GU(e))return Ul([new Qs("","data expressions not supported")]);const r=dC(t,["zoom","pitch","distance-from-center"]);if(!r&&!zU(e))return Ul([new Qs("","zoom expressions not supported")]);const s=y2(t);if(!s&&!r)return Ul([new Qs("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(s instanceof Qs)return Ul([s]);if(s instanceof L0&&!VU(e))return Ul([new Qs("",'"interpolate" expressions cannot be used with this property')]);if(!s)return QC(n?new g4("constant",i.value):new g4("source",i.value));const a=s instanceof L0?s.interpolation:void 0;return QC(n?new m4("camera",i.value,s.labels,a):new m4("composite",i.value,s.labels,a))}function y2(i){let e=null;if(i instanceof l4)e=y2(i.result);else if(i instanceof c4){for(const t of i.args)if(e=y2(t),e)break}else(i instanceof e4||i instanceof L0)&&i.input instanceof Fl&&i.input.name==="zoom"&&(e=i);return e instanceof Qs||i.eachChild(t=>{const n=y2(t);n instanceof Qs?e=n:!e&&n?e=new Qs("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new Qs("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function XU(i){const e={color:Ia,string:lt,number:Ee,enum:lt,boolean:nt,formatted:c2,resolvedImage:hf};return i.type==="array"?Dr(e[i.value]||it,i.length):e[i.type]}function WU(i){return i.type==="color"&&(p4(i.default)||Array.isArray(i.default))?new dr(0,0,0,0):i.type==="color"?dr.parse(i.default)||null:i.default===void 0?null:i.default}function jU(i){return i instanceof Number||i instanceof String||i instanceof Boolean?i.valueOf():i}function LC(i){if(Array.isArray(i))return i.map(LC);if(i instanceof Object&&!(i instanceof Number||i instanceof String||i instanceof Boolean)){const e={};for(const t in i)e[t]=LC(i[t]);return e}return jU(i)}var _4={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["fill-extrusion-edge-radius"]}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function I4(i){if(i===!0||i===!1)return!0;if(!Array.isArray(i)||i.length===0)return!1;switch(i[0]){case"has":return i.length>=2&&i[1]!=="$id"&&i[1]!=="$type";case"in":return i.length>=3&&(typeof i[1]!="string"||Array.isArray(i[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return i.length!==3||Array.isArray(i[1])||Array.isArray(i[2]);case"any":case"all":for(const e of i.slice(1))if(!I4(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}function KU(i,e="fill"){if(i==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};I4(i)||(i=C2(i));const t=i;let n=!0;try{n=JU(t)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
<<<<<<< HEAD
${JSON.stringify(e,null,2)}
        `)}const r=YS[`filter_${t}`],s=ky(n,r);let a=null;if(s.result==="error")throw new Error(s.value.map(x=>`${x.key}: ${x.message}`).join(", "));a=(x,u,f)=>s.value.evaluate(x,u,{},f);let o=null,l=null;if(n!==e){const x=ky(e,r);if(x.result==="error")throw new Error(x.value.map(u=>`${u.key}: ${u.message}`).join(", "));o=(u,f,h,A,p)=>x.value.evaluate(u,f,{},h,void 0,void 0,A,p),l=!Qm(x.value.expression)}a=a;const c=JS(n);return{filter:a,dynamicFilter:o||void 0,needGeometry:c,needFeature:!!l}}function kk(i){if(!_l(i))return i;let t=Py(i);return KS(t),t=XS(t),t}function XS(i){if(!Array.isArray(i))return i;const t=Nk(i);return t===!0?t:t.map(e=>XS(e))}function KS(i){let t=!1;const e=[];if(i[0]==="case"){for(let n=1;n<i.length-1;n+=2)t=t||_l(i[n]),e.push(i[n+1]);e.push(i[i.length-1])}else if(i[0]==="match"){t=t||_l(i[1]);for(let n=2;n<i.length-1;n+=2)e.push(i[n+1]);e.push(i[i.length-1])}else if(i[0]==="step"){t=t||_l(i[1]);for(let n=1;n<i.length-1;n+=2)e.push(i[n+1])}t&&(i.length=0,i.push("any",...e));for(let n=1;n<i.length;n++)KS(i[n])}function _l(i){if(!Array.isArray(i))return!1;if(Pk(i[0]))return!0;for(let t=1;t<i.length;t++){const e=i[t];if(_l(e))return!0}return!1}function Pk(i){return i==="pitch"||i==="distance-from-center"}const Uk=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Nk(i){if(Uk.has(i[0]))for(let t=1;t<i.length;t++){const e=i[t];if(_l(e))return!0}return i}function Ok(i,t){return i<t?-1:i>t?1:0}function JS(i){if(!Array.isArray(i))return!1;if(i[0]==="within")return!0;for(let t=1;t<i.length;t++)if(JS(i[t]))return!0;return!1}function Gm(i){if(!i)return!0;const t=i[0];return i.length<=1?t!=="any":t==="=="?Uy(i[1],i[2],"=="):t==="!="?zm(Uy(i[1],i[2],"==")):t==="<"||t===">"||t==="<="||t===">="?Uy(i[1],i[2],t):t==="any"?Gk(i.slice(1)):t==="all"?["all"].concat(i.slice(1).map(Gm)):t==="none"?["all"].concat(i.slice(1).map(Gm).map(zm)):t==="in"?jS(i[1],i.slice(2)):t==="!in"?zm(jS(i[1],i.slice(2))):t==="has"?ZS(i[1]):t==="!has"?zm(ZS(i[1])):t==="within"?i:!0}function Uy(i,t,e){switch(i){case"$type":return[`filter-type-${e}`,t];case"$id":return[`filter-id-${e}`,t];default:return[`filter-${e}`,i,t]}}function Gk(i){return["any"].concat(i.map(Gm))}function jS(i,t){if(t.length===0)return!1;switch(i){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",i,["literal",t.sort(Ok)]]:["filter-in-small",i,["literal",t]]}}function ZS(i){switch(i){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",i]}}function zm(i){return["!",i]}var zk=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Vk(i,t){const e={};for(const n in i)n!=="ref"&&(e[n]=i[n]);return zk.forEach(n=>{n in t&&(e[n]=t[n])}),e}function $S(i){i=i.slice();const t=Object.create(null);for(let e=0;e<i.length;e++)t[i[e].id]=i[e];for(let e=0;e<i.length;e++)"ref"in i[e]&&(i[e]=Vk(i[e],t[i[e].ref]));return i}var e4={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},Yf=" ",t4=/(italic|oblique)$/i,n4={},Hk=function(i,t,e){var n=n4[i];if(!n){Array.isArray(i)||(i=[i]);for(var r=400,s="normal",a=[],o,l,c=0,x=i.length;c<x;++c){var u=i[c],f=u.split(" "),h=f[f.length-1].toLowerCase();h=="normal"||h=="italic"||h=="oblique"?(s=l?s:h,l=!0,f.pop(),h=f[f.length-1].toLowerCase()):t4.test(h)&&(h=h.replace(t4,""),s=l?s:f[f.length-1].replace(h,""),l=!0);for(var A in e4){var p=f.length>1?f[f.length-2].toLowerCase():"";if(h==A||h==A.replace("-","")||p+"-"+h==A){r=o?r:e4[A],f.pop(),p&&A.startsWith(p)&&f.pop();break}}!o&&typeof h=="number"&&(r=h,o=!0);var d=f.join(Yf).replace("Klokantech Noto Sans","Noto Sans");d.indexOf(Yf)!==-1&&(d='"'+d+'"'),a.push(d)}n=n4[i]=[s,r,a]}return n[0]+Yf+n[1]+Yf+t+"px"+(e?"/"+e:"")+Yf+n[2]},Ny=uS(Hk);const i4="https://api.mapbox.com";function Oy(i){const t="mapbox://";return i.indexOf(t)!==0?"":i.slice(t.length)}function qk(i,t,e){const n=Oy(i);if(!n)return decodeURI(new URL(i,e).href);const r="sprites/";if(n.indexOf(r)!==0)throw new Error(`unexpected sprites url: ${i}`);const s=n.slice(r.length);return`${i4}/styles/v1/${s}/sprite?access_token=${t}`}function Vm(i,t){const e=Oy(i);if(!e)return decodeURI(new URL(i,location.href).href);const n="styles/";if(e.indexOf(n)!==0)throw new Error(`unexpected style url: ${i}`);const r=e.slice(n.length);return`${i4}/styles/v1/${r}?&access_token=${t}`}function Hm(i,t,e,n){const r=new URL(i,n),s=Oy(i);if(!s)return t&&(r.searchParams.has(e)||r.searchParams.set(e,t)),decodeURI(r.href);if(s==="mapbox.satellite"){const a=window.devicePixelRatio>=1.5?"@2x":"";return`https://api.mapbox.com/v4/${s}/{z}/{x}/{y}${a}.webp?access_token=${t}`}return`https://{a-d}.tiles.mapbox.com/v4/${s}/{z}/{x}/{y}.vector.pbf?access_token=${t}`}const qm={},r4={};let Yk=0;function Gy(i){return i.id||(i.id=Yk++),i.id}function Ym(i,t){return Gy(i)+"."+tt(t)}function zy(i){let t=qm[i.id];return t||(t={},qm[Gy(i)]=t),t}function Wk(){for(const i in qm)delete qm[i]}function s4(i){let t=r4[i.id];return t||(t={},r4[Gy(i)]=t),t}function Vy(i){return i*Math.PI/180}const Jr=function(){const i=[];for(let t=78271.51696402048;i.length<=24;t/=2)i.push(t);return i}();function Wm(i,t){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(i,t);const e=document.createElement("canvas");return e.width=i,e.height=t,e}function Hy(i,t){let e=0;const n=t.length;for(;e<n;++e)if(t[e]<i&&e+1<n){const s=t[e]/t[e+1];return e+Math.log(t[e]/i)/Math.log(s)}return n-1}function Xm(i,t){const e=Math.floor(i),n=Math.pow(2,i-e);return t[e]/n}const Il={};function El(i,t,e={},n){if(t in Il)return n&&(n.request=Il[t][0]),Il[t][1];const r=e.transformRequest&&e.transformRequest(t,i)||t,s=rc(()=>r).then(a=>(a instanceof Request||(a=new Request(a)),a.headers.get("Accept")||a.headers.set("Accept","application/json"),n&&(n.request=a),fetch(a).then(function(o){return delete Il[t],o.ok?o.json():Promise.reject(new Error("Error fetching source "+t))}).catch(function(o){return delete Il[t],Promise.reject(new Error("Error fetching source "+t))})));return Il[t]=[r,s],s}function qy(i,t){if(typeof i=="string")if(i.trim().startsWith("{"))try{const e=JSON.parse(i);return Promise.resolve(e)}catch(e){return Promise.reject(e)}else return i=Vm(i,t.accessToken),El("Style",i,t);else return Promise.resolve(i)}const a4={};function o4(i,t,e={}){const n=[t,JSON.stringify(i)].toString();let r=a4[n];if(!r||e.transformRequest){let s;e.transformRequest&&(s=(o,l)=>{const c=e.transformRequest&&e.transformRequest(l,"Tiles")||l;if(o instanceof bB)o.setLoader((x,u,f)=>{rc(()=>c).then(h=>{fetch(h).then(A=>A.arrayBuffer()).then(A=>{const d=o.getFormat().readFeatures(A,{extent:x,featureProjection:f});o.setFeatures(d)}).catch(A=>o.setState(de.ERROR))})});else{const x=o.getImage();rc(()=>c).then(u=>{u instanceof Request?fetch(u).then(f=>f.blob()).then(f=>{const h=URL.createObjectURL(f);x.addEventListener("load",()=>URL.revokeObjectURL(h)),x.addEventListener("error",()=>URL.revokeObjectURL(h)),x.src=h}).catch(f=>o.setState(de.ERROR)):x.src=u})}});const a=i.url;if(a&&!i.tiles){const o=Hm(a,e.accessToken,e.accessTokenParam||"access_token",t||location.href);if(a.startsWith("mapbox://"))r=Promise.resolve({tileJson:Object.assign({},i,{url:void 0,tiles:xB(o)}),tileLoadFunction:s});else{const l={};r=El("Source",o,e,l).then(function(c){return c.tiles=c.tiles.map(function(x){return c.scheme==="tms"&&(x=x.replace("{y}","{-y}")),Hm(x,e.accessToken,e.accessTokenParam||"access_token",l.request.url)}),Promise.resolve({tileJson:c,tileLoadFunction:s})})}}else i=Object.assign({},i,{tiles:i.tiles.map(function(o){return i.scheme==="tms"&&(o=o.replace("{y}","{-y}")),Hm(o,e.accessToken,e.accessTokenParam||"access_token",t||location.href)})}),r=Promise.resolve({tileJson:Object.assign({},i),tileLoadFunction:s});a4[n]=r}return r}function c4(i,t,e,n){const r=[2*e*t.pixelRatio+t.width,2*e*t.pixelRatio+t.height],s=Wm(r[0],r[1]),a=s.getContext("2d");a.drawImage(i,t.x,t.y,t.width,t.height,e*t.pixelRatio,e*t.pixelRatio,t.width,t.height);const o=a.getImageData(0,0,r[0],r[1]);a.globalCompositeOperation="destination-over",a.fillStyle=`rgba(${n.r*255},${n.g*255},${n.b*255},${n.a})`;const l=o.data;for(let c=0,x=o.width;c<x;++c)for(let u=0,f=o.height;u<f;++u){const h=(u*x+c)*4;l[h+3]>0&&a.arc(c,u,e*t.pixelRatio,0,2*Math.PI)}return a.fill(),s}function Xk(i,t,e){const n=Math.max(0,Math.min(1,(e-i)/(t-i)));return n*n*(3-2*n)}function l4(i,t,e){const n=Wm(t.width,t.height),r=n.getContext("2d");r.drawImage(i,t.x,t.y,t.width,t.height,0,0,t.width,t.height);const s=r.getImageData(0,0,t.width,t.height),a=s.data;for(let o=0,l=s.width;o<l;++o)for(let c=0,x=s.height;c<x;++c){const u=(c*l+o)*4,f=a[u+3]/255,h=.75,A=.1,p=Xk(h-A,h+A,f);p>0?(a[u+0]=Math.round(255*e.r*p),a[u+1]=Math.round(255*e.g*p),a[u+2]=Math.round(255*e.b*p),a[u+3]=Math.round(255*p)):a[u+3]=0}return r.putImageData(s,0,0),n}const Kk=Array(256).join("");function Yy(i,t){if(t>=.05){let e="";const n=i.split(`
`),r=Kk.slice(0,Math.round(t/.1));for(let s=0,a=n.length;s<a;++s)s>0&&(e+=`
`),e+=n[s].split("").join(r);return e}return i}let Wy;function x4(){return Wy||(Wy=Wm(1,1).getContext("2d")),Wy}function y0(i,t){return x4().measureText(i).width+(i.length-1)*t}const u4={};function Xy(i,t,e,n){if(i.indexOf(`
`)!==-1){const a=i.split(`
`),o=[];for(let l=0,c=a.length;l<c;++l)o.push(Xy(a[l],t,e,n));return o.join(`
`)}const r=e+","+t+","+i+","+n;let s=u4[r];if(!s){const a=i.split(" ");if(a.length>1){const o=x4();o.font=t;const c=o.measureText("M").width*e;let x="";const u=[];for(let f=0,h=a.length;f<h;++f){const A=a[f],p=x+(x?" ":"")+A;y0(p,n)<=c?x=p:(x&&u.push(x),x=A)}x&&u.push(x);for(let f=0,h=u.length;f<h&&h>1;++f){const A=u[f];if(y0(A,n)<c*.35){const p=f>0?y0(u[f-1],n):1/0,d=f<h-1?y0(u[f+1],n):1/0;u.splice(f,1),h-=1,p<d?(u[f-1]+=" "+A,f-=1):u[f]=A+" "+u[f]}}for(let f=0,h=u.length-1;f<h;++f){const A=u[f],p=u[f+1];if(y0(A,n)>c*.7&&y0(p,n)<c*.6){const d=A.split(" "),g=d.pop();y0(g,n)<c*.2&&(u[f]=d.join(" "),u[f+1]=g+" "+p),h-=1}}s=u.join(`
`)}else s=i;s=Yy(s,n),u4[r]=s}return s}const Jk=/font-family: ?([^;]*);/,jk=/("|')/g;let Km;function Zk(i){if(!Km){Km={};const t=document.styleSheets;for(let e=0,n=t.length;e<n;++e){const r=t[e];try{const s=r.rules||r.cssRules;if(s)for(let a=0,o=s.length;a<o;++a){const l=s[a];if(l.type==5){const c=l.cssText.match(Jk);Km[c[1].replace(jk,"")]=!0}}}catch{}}}return i in Km}const Ky={};function $k(i,t="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){const e=i.toString();if(e in Ky)return Ky[e];const n=[];for(let r=0,s=i.length;r<s;++r){i[r]=i[r].replace("Arial Unicode MS","Arial");const a=i[r],o=Ny(a,1);P3(o);const l=o.split(" ");n.push([l.slice(3).join(" ").replace(/"/g,""),l[1],l[0]])}for(let r=0,s=n.length;r<s;++r){const a=n[r],o=a[0];if(!Zk(o)&&gs.get(`${a[2]}
${a[1]} 
${o}`)!==100){const l=t.replace("{font-family}",o.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",o.replace(/ /g,"+")).replace("{fontweight}",a[1]).replace("{-fontstyle}",a[2].replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",a[2]);if(!document.querySelector('link[href="'+l+'"]')){const c=document.createElement("link");c.href=l,c.rel="stylesheet",document.head.appendChild(c)}}}return Ky[e]=i,i}const eP={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},tP={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},nP=function(i,t){const e=Tk(i,t);if(e.result==="error")throw new Error(e.value.map(n=>`${n.key}: ${n.message}`).join(", "));return e.value},Jy={},Jm={zoom:0};let jm,jy;function Ve(i,t,e,n,r,s,a){const o=i.id;s||(s={},console.warn("No functionCache provided to getValue()")),s[o]||(s[o]={});const l=s[o];if(!l[e]){let c=(i[t]||Jy)[e];const x=YS[`${t}_${i.type}`][e];c===void 0&&(c=x.default);let u=Rk(c);if(!u&&VS(c)&&(c=AF(c,x),u=!0),u){const f=nP(c,x);l[e]=f.evaluate.bind(f)}else x.type=="color"&&(c=fr.parse(c)),l[e]=function(){return c}}return Jm.zoom=n,l[e](Jm,r,a)}function f4(i,t,e,n,r){return Ve(i,"layout",`${n}-allow-overlap`,t,e,r)?Ve(i,"layout",`${n}-ignore-placement`,t,e,r)?"none":"obstacle":"declutter"}function iP(i,t,e,n,r){return r||console.warn("No filterCache provided to evaluateFilter()"),i in r||(r[i]=Fk(t).filter),Jm.zoom=n,r[i](Jm,e)}let Zy=!1;function rP(i){i!==Zy&&(Wk(),Zy=i)}function po(i,t){if(i){if(!Zy&&(i.a===0||t===0))return;const e=i.a;return t=t===void 0?1:t,e===0?"transparent":"rgba("+Math.round(i.r*255/e)+","+Math.round(i.g*255/e)+","+Math.round(i.b*255/e)+","+e*t+")"}return i}const sP=/\{[^{}}]*\}/g;function $y(i,t){return i.replace(sP,function(e){return t[e.slice(1,-1)]||""})}let h4=!1;function aP(i=!1){h4=i}const Zm={};function Wf(i,t,e,n=Jr,r=void 0,s=void 0,a=void 0,o=void 0){if(typeof t=="string"&&(t=JSON.parse(t)),t.version!=8)throw new Error("glStyle version 8 required.");Zm[Ym(t,i)]=Array.from(arguments);let l,c,x;if(s){if(typeof Image<"u"){const b=new Image;let w;rc(()=>s).then(C=>{C instanceof Request?fetch(C).then(v=>v.blob()).then(v=>{w=URL.createObjectURL(v),b.src=w}).catch(()=>{}):(b.crossOrigin="anonymous",b.src=C,w&&URL.revokeObjectURL(w))}),b.onload=function(){l=b,c=[b.width,b.height],i.changed(),b.onload=null}}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){const b=self;b.postMessage({action:"loadImage",src:s}),b.addEventListener("message",function(C){C.data.action==="imageLoaded"&&C.data.src===s&&(l=C.data.image,c=[l.width,l.height])})}}const u=$S(t.layers),f={},h=[],A={},p={},d=zy(t),g=s4(t);let m;for(let b=0,w=u.length;b<w;++b){const C=u[b],v=C.id;if(typeof e=="string"&&C.source==e||Array.isArray(e)&&e.indexOf(v)!==-1){const B=C["source-layer"];if(m){if(C.source!==m)throw new Error(`Layer "${v}" does not use source "${m}`)}else{m=C.source;const T=t.sources[m];if(!T)throw new Error(`Source "${m}" is not defined`);const Q=T.type;if(Q!=="vector"&&Q!=="geojson")throw new Error(`Source "${m}" is not of type "vector" or "geojson", but "${Q}"`)}let S=f[B];S||(S=[],f[B]=S),S.push({layer:C,index:b}),h.push(v)}}const _=new yi,I=new Ni,y=[],E=function(b,w,C){const v=b.getProperties(),B=f[v.layer];if(!B)return;let S=n.indexOf(w);S==-1&&(S=Hy(w,n));const T=eP[b.getGeometry().getType()],Q={id:b.getId(),properties:v,type:T},M=i.get("mapbox-featurestate")[b.getId()];let D=-1,U;for(let F=0,z=B.length;F<z;++F){const H=B[F],P=H.layer,Z=P.id;if(C!==void 0&&C!==Z)continue;const ce=P.layout||Jy,G=P.paint||Jy;if(ce.visibility==="none"||"minzoom"in P&&S<P.minzoom||"maxzoom"in P&&S>=P.maxzoom)continue;const O=P.filter;if(!O||iP(Z,O,Q,S,g)){U=P;let j,J,le,he,Ee,ae;const Se=H.index;if(T==3&&(P.type=="fill"||P.type=="fill-extrusion"))if(J=Ve(P,"paint",P.type+"-opacity",S,Q,d,M),P.type+"-pattern"in G){const ne=Ve(P,"paint",P.type+"-pattern",S,Q,d,M);if(ne){const K=typeof ne=="string"?$y(ne,v):ne.toString();if(l&&r&&r[K]){++D,ae=y[D],(!ae||!ae.getFill()||ae.getStroke()||ae.getText())&&(ae=new Bt({fill:new Ni}),y[D]=ae),le=ae.getFill(),ae.setZIndex(Se);const _e=K+"."+J;let Ae=p[_e];if(!Ae){const ue=r[K],De=Wm(ue.width,ue.height),xe=De.getContext("2d");xe.globalAlpha=J,xe.drawImage(l,ue.x,ue.y,ue.width,ue.height,0,0,ue.width,ue.height),Ae=xe.createPattern(De,"repeat"),p[_e]=Ae}le.setColor(Ae)}}}else j=po(Ve(P,"paint",P.type+"-color",S,Q,d,M),J),P.type+"-outline-color"in G&&(Ee=po(Ve(P,"paint",P.type+"-outline-color",S,Q,d,M),J)),Ee||(Ee=j),(j||Ee)&&(++D,ae=y[D],(!ae||j&&!ae.getFill()||!j&&ae.getFill()||Ee&&!ae.getStroke()||!Ee&&ae.getStroke()||ae.getText())&&(ae=new Bt({fill:j?new Ni:void 0,stroke:Ee?new yi:void 0}),y[D]=ae),j&&(le=ae.getFill(),le.setColor(j)),Ee&&(he=ae.getStroke(),he.setColor(Ee),he.setWidth(.5)),ae.setZIndex(Se));if(T!=1&&P.type=="line"){"line-pattern"in G?j=void 0:j=po(Ve(P,"paint","line-color",S,Q,d,M),Ve(P,"paint","line-opacity",S,Q,d,M));const ne=Ve(P,"paint","line-width",S,Q,d,M);j&&ne>0&&(++D,ae=y[D],(!ae||!ae.getStroke()||ae.getFill()||ae.getText())&&(ae=new Bt({stroke:new yi}),y[D]=ae),he=ae.getStroke(),he.setLineCap(Ve(P,"layout","line-cap",S,Q,d,M)),he.setLineJoin(Ve(P,"layout","line-join",S,Q,d,M)),he.setMiterLimit(Ve(P,"layout","line-miter-limit",S,Q,d,M)),he.setColor(j),he.setWidth(ne),he.setLineDash(G["line-dasharray"]?Ve(P,"paint","line-dasharray",S,Q,d,M).map(function(K){return K*ne}):null),ae.setZIndex(Se))}let ft=!1,N=null,Lt=0,Oe,Ne,Be;if((T==1||T==2)&&"icon-image"in ce){const ne=Ve(P,"layout","icon-image",S,Q,d,M);if(ne){Oe=typeof ne=="string"?$y(ne,v):ne.toString();let K;const _e=o?o(i,Oe):void 0;if(l&&r&&r[Oe]||_e){const Ae=Ve(P,"layout","icon-rotation-alignment",S,Q,d,M);if(T==2){const ue=b.getGeometry();if(ue.getFlatMidpoint||ue.getFlatMidpoints){const De=ue.getExtent();if(Math.sqrt(Math.max(Math.pow((De[2]-De[0])/w,2),Math.pow((De[3]-De[1])/w,2)))>150){const ge=ue.getType()==="MultiLineString"?ue.getFlatMidpoints():ue.getFlatMidpoint();if(jy||(jm=[NaN,NaN],jy=new Ai("Point",jm,[],2,{},void 0)),K=jy,jm[0]=ge[0],jm[1]=ge[1],Ve(P,"layout","symbol-placement",S,Q,d,M)==="line"&&Ae==="map"){const Ue=ue.getStride(),be=ue.getFlatCoordinates();for(let We=0,Qe=be.length-Ue;We<Qe;We+=Ue){const rt=be[We],V=be[We+1],me=be[We+Ue],$=be[We+Ue+1],oe=Math.min(rt,me),we=Math.min(V,$),ve=Math.max(rt,me),Ke=Math.max(V,$);if(ge[0]>=oe&&ge[0]<=ve&&ge[1]>=we&&ge[1]<=Ke){Lt=Math.atan2(V-$,me-rt);break}}}}}}if(T!==2||K){const ue=Ve(P,"layout","icon-size",S,Q,d,M),De=G["icon-color"]!==void 0?Ve(P,"paint","icon-color",S,Q,d,M):null;if(!De||De.a!==0){const xe=Ve(P,"paint","icon-halo-color",S,Q,d,M),ge=Ve(P,"paint","icon-halo-width",S,Q,d,M);let Le=`${Oe}.${ue}.${ge}.${xe}`;if(De!==null&&(Le+=`.${De}`),Ne=A[Le],!Ne){const Ue=f4(P,S,Q,"icon",d);let be;"icon-offset"in ce&&(be=Ve(P,"layout","icon-offset",S,Q,d,M).slice(0),be[0]*=ue,be[1]*=-ue);let We=De?[De.r*255,De.g*255,De.b*255,De.a]:void 0;if(_e){const Qe={color:We,rotateWithView:Ae==="map",displacement:be,declutterMode:Ue,scale:ue};typeof _e=="string"?Qe.src=_e:(Qe.img=_e,Qe.imgSize=[_e.width,_e.height]),Ne=new r0(Qe)}else{const Qe=r[Oe];let rt,V,me;ge?Qe.sdf?(rt=c4(l4(l,Qe,De||[0,0,0,1]),{x:0,y:0,width:Qe.width,height:Qe.height,pixelRatio:Qe.pixelRatio},ge,xe),We=void 0):rt=c4(l,Qe,ge,xe):(Qe.sdf?(x||(x=l4(l,{x:0,y:0,width:c[0],height:c[1]},{r:1,g:1,b:1,a:1})),rt=x):rt=l,V=[Qe.width,Qe.height],me=[Qe.x,Qe.y]),Ne=new r0({color:We,img:rt,imgSize:c,size:V,offset:me,rotateWithView:Ae==="map",scale:ue/Qe.pixelRatio,displacement:be,declutterMode:Ue})}A[Le]=Ne}}Ne&&(++D,ae=y[D],(!ae||!ae.getImage()||ae.getFill()||ae.getStroke())&&(ae=new Bt,y[D]=ae),ae.setGeometry(K),Ne.setRotation(Lt+Vy(Ve(P,"layout","icon-rotate",S,Q,d,M))),Ne.setOpacity(Ve(P,"paint","icon-opacity",S,Q,d,M)),Ne.setAnchor(tP[Ve(P,"layout","icon-anchor",S,Q,d,M)]),ae.setImage(Ne),N=ae.getText(),ae.setText(void 0),ae.setZIndex(Se),ft=!0,Be=!1)}else Be=!0}}}if(T==1&&P.type==="circle"){++D,ae=y[D],(!ae||!ae.getImage()||ae.getFill()||ae.getStroke())&&(ae=new Bt,y[D]=ae);const ne="circle-radius"in G?Ve(P,"paint","circle-radius",S,Q,d,M):5,K=po(Ve(P,"paint","circle-stroke-color",S,Q,d,M),Ve(P,"paint","circle-stroke-opacity",S,Q,d,M)),_e=Ve(P,"paint","circle-translate",S,Q,d,M),Ae=po(Ve(P,"paint","circle-color",S,Q,d,M),Ve(P,"paint","circle-opacity",S,Q,d,M)),ue=Ve(P,"paint","circle-stroke-width",S,Q,d,M),De=ne+"."+K+"."+Ae+"."+ue+"."+_e[0]+"."+_e[1];Ne=A[De],Ne||(Ne=new Sc({radius:ne,displacement:[_e[0],-_e[1]],stroke:K&&ue>0?new yi({width:ue,color:K}):void 0,fill:Ae?new Ni({color:Ae}):void 0,declutterMode:"none"}),A[De]=Ne),ae.setImage(Ne),N=ae.getText(),ae.setText(void 0),ae.setGeometry(void 0),ae.setZIndex(Se),ft=!0}let Pe,Te,k,R,W,se;if("text-field"in ce){R=Math.round(Ve(P,"layout","text-size",S,Q,d,M));const ne=Ve(P,"layout","text-font",S,Q,d,M);k=Ve(P,"layout","text-line-height",S,Q,d,M),Te=Ny(a?a(ne,t.metadata?t.metadata["ol:webfonts"]:void 0):ne,R,k),Te.includes("sans-serif")||(Te+=",sans-serif"),W=Ve(P,"layout","text-letter-spacing",S,Q,d,M),se=Ve(P,"layout","text-max-width",S,Q,d,M);const K=Ve(P,"layout","text-field",S,Q,d,M);typeof K=="object"&&K.sections?K.sections.length===1?Pe=K.toString():Pe=K.sections.reduce((_e,Ae,ue)=>{const De=Ae.fontStack?Ae.fontStack.split(","):ne,xe=Ny(a?a(De):De,R*(Ae.scale||1),k);let ge=Ae.text;if(ge===`
`)return _e.push(`
`,""),_e;if(T==2){_e.push(Yy(ge,W),xe);return}ge=Xy(ge,xe,se,W).split(`
`);for(let Le=0,Ue=ge.length;Le<Ue;++Le)Le>0&&_e.push(`
`,""),_e.push(ge[Le],xe);return _e},[]):Pe=$y(K,v).trim(),J=Ve(P,"paint","text-opacity",S,Q,d,M)}if(Pe&&J&&!Be){ft||(++D,ae=y[D],(!ae||!ae.getText()||ae.getFill()||ae.getStroke())&&(ae=new Bt,y[D]=ae),ae.setImage(void 0),ae.setGeometry(void 0));const ne=f4(P,S,Q,"text",d);ae.getText()||ae.setText(N),N=ae.getText(),(!N||"getDeclutterMode"in N&&N.getDeclutterMode()!==ne)&&(N=new _u({padding:[2,2,2,2],declutterMode:ne}),ae.setText(N));const K=Ve(P,"layout","text-transform",S,Q,d,M);K=="uppercase"?Pe=Array.isArray(Pe)?Pe.map(($,oe)=>oe%2?$:$.toUpperCase()):Pe.toUpperCase():K=="lowercase"&&(Pe=Array.isArray(Pe)?Pe.map(($,oe)=>oe%2?$:$.toLowerCase()):Pe.toLowerCase());const _e=Array.isArray(Pe)?Pe:T==2?Yy(Pe,W):Xy(Pe,Te,se,W);N.setText(_e),N.setFont(Te),N.setRotation(Vy(Ve(P,"layout","text-rotate",S,Q,d,M)));const Ae=Ve(P,"layout","text-anchor",S,Q,d,M),ue=ft||T==1?"point":Ve(P,"layout","symbol-placement",S,Q,d,M);let De;if(ue==="line-center"?(N.setPlacement("line"),De="center"):N.setPlacement(ue),ue==="line"&&typeof N.setRepeat=="function"){const $=Ve(P,"layout","symbol-spacing",S,Q,d,M);N.setRepeat($*2)}N.setOverflow(ue==="point");let xe=Ve(P,"paint","text-halo-width",S,Q,d,M);const ge=Ve(P,"layout","text-offset",S,Q,d,M),Le=Ve(P,"paint","text-translate",S,Q,d,M);let Ue=0,be=0;if(ue=="point"){De="center",Ae.indexOf("left")!==-1?(De="left",be=xe):Ae.indexOf("right")!==-1&&(De="right",be=-xe);const $=Ve(P,"layout","text-rotation-alignment",S,Q,d,M);N.setRotateWithView($=="map")}else N.setMaxAngle(Vy(Ve(P,"layout","text-max-angle",S,Q,d,M))*Pe.length/_e.length),N.setRotateWithView(!1);N.setTextAlign(De);let We="middle";Ae.indexOf("bottom")==0?(We="bottom",Ue=-xe-.5*(k-1)*R):Ae.indexOf("top")==0&&(We="top",Ue=xe+.5*(k-1)*R),N.setTextBaseline(We);const Qe=Ve(P,"layout","text-justify",S,Q,d,M);N.setJustify(Qe==="auto"?void 0:Qe),N.setOffsetX(ge[0]*R+be+Le[0]),N.setOffsetY(ge[1]*R+Ue+Le[1]),I.setColor(po(Ve(P,"paint","text-color",S,Q,d,M),J)),N.setFill(I);const rt=po(Ve(P,"paint","text-halo-color",S,Q,d,M),J);if(rt&&xe>0){_.setColor(rt),xe*=2;const $=.5*R;_.setWidth(xe<=$?xe:$),N.setStroke(_)}else N.setStroke(void 0);const V=Ve(P,"layout","text-padding",S,Q,d,M),me=N.getPadding();V!==me[0]&&(me[0]=V,me[1]=V,me[2]=V,me[3]=V),ae.setZIndex(Se)}}}if(D>-1)return y.length=D+1,h4&&("set"in b?b.set("mapbox-layer",U):b.getProperties()["mapbox-layer"]=U),y};return i.setStyle(E),i.set("mapbox-source",m),i.set("mapbox-layers",h),i.set("mapbox-featurestate",i.get("mapbox-featurestate")||{}),E}function oP(i,t,e,n){const r=e.getStyleFunction();if(r.length===3)return r(i,t,n)}function cP(i,t){const e=i[0],n=e.width,r=e.height,s=e.data,a=new Uint8ClampedArray(s.length),o=t.resolution*2,l=n-1,c=r-1,x=[0,0,0,0],u=2*Math.PI,f=Math.PI/2,h=Math.PI*t.sunEl/180,A=Math.PI*t.sunAz/180,p=Math.cos(h),d=Math.sin(h),g=t.highlightColor,m=t.shadowColor,_=t.accentColor,I=t.encoding;let y,E,b,w,C,v,B,S,T,Q,M,D,U,F,z,H,P,Z,ce,G,O,j;function J(le,he="mapbox"){if(he==="mapbox")return(le[0]*256*256+le[1]*256+le[2])*.1-1e4;if(he==="terrarium")return le[0]*256+le[1]+le[2]/256-32768}for(E=0;E<=c;++E)for(C=E===0?0:E-1,v=E===c?c:E+1,y=0;y<=l;++y)b=y===0?0:y-1,w=y===l?l:y+1,B=(E*n+b)*4,x[0]=s[B],x[1]=s[B+1],x[2]=s[B+2],x[3]=s[B+3],S=t.vert*J(x,I),B=(E*n+w)*4,x[0]=s[B],x[1]=s[B+1],x[2]=s[B+2],x[3]=s[B+3],T=t.vert*J(x,I),Q=(T-S)/o,B=(C*n+y)*4,x[0]=s[B],x[1]=s[B+1],x[2]=s[B+2],x[3]=s[B+3],S=t.vert*J(x,I),B=(v*n+y)*4,x[0]=s[B],x[1]=s[B+1],x[2]=s[B+2],x[3]=s[B+3],T=t.vert*J(x,I),M=(T-S)/o,U=Math.atan2(M,-Q),U<0?U=f-U:U>f?U=u-U+f:U=f-U,D=Math.atan(Math.sqrt(Q*Q+M*M)),j=d*Math.cos(D)+p*Math.sin(D)*Math.cos(A-U),F=Math.cos(D),z=255*j,ce=Math.min(Math.max(2*t.sunEl,0),1),G=1.875-t.opacity*1.75,O=t.opacity!==.5?f*((Math.pow(G,D)-1)/(Math.pow(G,f)-1)):D,P={r:(1-F)*_.r*ce*255,g:(1-F)*_.g*ce*255,b:(1-F)*_.b*ce*255,a:(1-F)*_.a*ce*255},H=Math.abs(((U+A)/Math.PI+.5)%2-1),Z={r:(g.r*(1-H)+m.r*H)*z,g:(g.g*(1-H)+m.g*H)*z,b:(g.b*(1-H)+m.b*H)*z,a:(g.a*(1-H)+m.a*H)*z},B=(E*n+y)*4,a[B]=P.r*(1-H)+Z.r,a[B+1]=P.g*(1-H)+Z.g,a[B+2]=P.b*(1-H)+Z.b,a[B+3]=s[B+3]*t.opacity*ce*Math.sin(O);return new ImageData(a,n,r)}function lP(i,t=512){return i.getExtent()?CE({extent:i.getExtent(),tileSize:t,maxZoom:22}).getResolutions():Jr}function A4(i,t){return t.accessToken||(t=Object.assign({},t),new URL(i).searchParams.forEach((n,r)=>{t.accessToken=n,t.accessTokenParam=r})),t}function eb(i,t,e="",n={},r=void 0){let s,a,o,l,c=!0;return typeof e!="string"&&!Array.isArray(e)?(o=e,l=o.source||o.layers,n=o):l=e,typeof n=="string"?(s=n,o={}):(s=n.styleUrl,o=n),o.updateSource===!1&&(c=!1),r||(r=o.resolutions),!s&&typeof t=="string"&&!t.trim().startsWith("{")&&(s=t),s&&(s=s.startsWith("data:")?location.href:Vm(s,o.accessToken),o=A4(s,o)),new Promise(function(x,u){qy(t,o).then(function(f){if(f.version!=8)return u(new Error("glStyle version 8 required."));if(!(i instanceof kc||i instanceof _0))return u(new Error("Can only apply to VectorLayer or VectorTileLayer"));const h=i instanceof _0?"vector":"geojson";if(l?Array.isArray(l)?a=f.layers.find(function(I){return I.id===l[0]}).source:a=l:(a=Object.keys(f.sources).find(function(I){return f.sources[I].type===h}),l=a),!a)return u(new Error(`No ${h} source found in the glStyle.`));function A(){if(!c)return Promise.resolve();if(i instanceof _0)return tb(f.sources[a],s,o).then(function(b){const w=i.getSource();w?b!==w&&(w.setTileUrlFunction(b.getTileUrlFunction()),typeof w.setUrls=="function"&&typeof b.getUrls=="function"&&w.setUrls(b.getUrls()),w.format_||(w.format_=b.format_),w.getAttributions()||w.setAttributions(b.getAttributions()),w.getTileLoadFunction()===vB&&w.setTileLoadFunction(b.getTileLoadFunction()),Vo(w.getProjection(),b.getProjection())&&(w.tileGrid=b.getTileGrid())):i.setSource(b);const C=i.getSource().getTileGrid();!isFinite(i.getMaxResolution())&&!isFinite(i.getMinZoom())&&C.getMinZoom()>0&&i.setMaxResolution(Xm(C.getMinZoom(),Jr)+1e-15)});const I=f.sources[a];let y=i.getSource();(!y||y.get("mapbox-source")!==I)&&(y=nb(I,s,o));const E=i.getSource();return E?y!==E&&(E.getAttributions()||E.setAttributions(y.getAttributions()),E.format_||(E.format_=y.getFormat()),E.url_=y.getUrl()):i.setSource(y),Promise.resolve()}let p,d,g,m;function _(){if(!m&&(!f.sprite||d)){if(o.projection&&!r){const y=Wt(o.projection).getUnits();y!=="m"&&(r=Jr.map(E=>E/Ta[y]))}m=Wf(i,f,l,r,d,g,(I,y=o.webfonts)=>$k(I,y),o.getImage),i.getStyle()?A().then(x).catch(u):u(new Error(`Nothing to show for source [${a}]`))}else m?(i.setStyle(m),A().then(x).catch(u)):u(new Error("Something went wrong trying to apply style."))}if(f.sprite){const I=new URL(qk(f.sprite,o.accessToken,s||location.href));p=window.devicePixelRatio>=1.5?.5:1;const y=p==.5?"@2x":"";let E=I.origin+I.pathname+y+".json"+I.search;new Promise(function(b,w){El("Sprite",E,o).then(b).catch(function(C){E=I.origin+I.pathname+".json"+I.search,El("Sprite",E,o).then(b).catch(w)})}).then(function(b){if(b===void 0&&u(new Error("No sprites found.")),d=b,g=I.origin+I.pathname+y+".png"+I.search,o.transformRequest){const w=o.transformRequest(g,"SpriteImage")||g;(w instanceof Request||w instanceof Promise)&&(g=w)}_()}).catch(function(b){u(new Error(`Sprites cannot be loaded: ${E}: ${b.message}`))})}else _()}).catch(u)})}const go={};function xP(i,t,e){t.layers.some(function(n){if(n.type==="background"){if(i instanceof n0)return i.setBackground(function(r){return m4(n,r,e,{})}),!0;if(i instanceof jE||i instanceof A0)return i.getLayers().insertAt(0,_4(n,e,{})),!0}})}function d4(i,t,e={}){return qy(t,e).then(function(n){xP(i,n,e)})}function p4(i,t){let e;return i.some(function(n){if(n.id==t)return e=n.source,!0}),e}function uP(i,t){const e=i.bounds;if(e){const n=nI([e[0],e[1]],t),r=nI([e[2],e[3]],t);return[n[0],n[1],r[0],r[1]]}return Wt(t).getExtent()}function g4(i,t,e){const n=new QB({tileJSON:t,tileSize:i.tileSize||t.tileSize||512}),r=n.getTileJSON(),s=n.getTileGrid(),a=Wt(e.projection||"EPSG:3857"),o=uP(r,a),l=a.getExtent(),c=r.minzoom||0,x=r.maxzoom||22,u={attributions:n.getAttributions(),projection:a,tileGrid:new hp({origin:l?Nr(l):s.getOrigin(0),extent:o||s.getExtent(),minZoom:c,resolutions:lP(a,t.tileSize).slice(0,x+1),tileSize:s.getTileSize(0)})};return Array.isArray(r.tiles)?u.urls=r.tiles:u.url=r.tiles,u}function m4(i,t,e,n){const r={id:i.id,type:i.type},s=i.layout||{},a=i.paint||{};r.paint=a;const o=Hy(t,e.resolutions||Jr);let l;const c=Ve(r,"paint","background-color",o,go,n);return a["background-opacity"]!==void 0&&(l=Ve(r,"paint","background-opacity",o,go,n)),s.visibility=="none"?void 0:po(c,l)}function _4(i,t,e){const n=document.createElement("div");return n.className="ol-mapbox-style-background",n.style.position="absolute",n.style.width="100%",n.style.height="100%",new n0({source:new gc({}),render(r){const s=m4(i,r.viewState.resolution,t,e);return n.style.backgroundColor=s,n}})}function tb(i,t,e){return new Promise(function(n,r){o4(i,t,e).then(function({tileJson:s,tileLoadFunction:a}){const o=g4(i,s,e);o.tileLoadFunction=a,o.format=new ZB,n(new RE(o))}).catch(r)})}function fP(i,t,e){const n=new _0({declutter:!0,visible:!1});return tb(i,t,e).then(function(r){r.set("mapbox-source",i),n.setSource(r)}).catch(function(r){n.setSource(void 0)}),n}function I4(i){return`{bbox-${(i?i.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function E4(i,t,e){return new Promise(function(n,r){o4(i,t,e).then(function({tileJson:s,tileLoadFunction:a}){const o=new QB({interpolate:e.interpolate===void 0?!0:e.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:s});o.tileGrid=g4(i,s,e).tileGrid,e.projection&&(o.projection=Wt(e.projection));const l=o.getTileUrlFunction();a&&o.setTileLoadFunction(a),o.setTileUrlFunction(function(c,x,u){const f=I4(u);let h=l(c,x,u);if(h.indexOf(f)!=-1){const A=o.getTileGrid().getTileCoordExtent(c);h=h.replace(f,A.toString())}return h}),o.set("mapbox-source",i),n(o)}).catch(function(s){r(s)})})}function y4(i,t,e){const n=new QE;return E4(i,t,e).then(function(r){n.setSource(r)}).catch(function(){n.setSource(void 0)}),n}function hP(i,t,e){const n=y4(i,t,e);return new i1({source:new DB({operationType:"image",operation:cP,sources:[n]})})}function nb(i,t,e){const n=e.projection?new GB({dataProjection:e.projection}):new GB,r=i.data,s={};if(typeof r=="string"){const o=Hm(r,e.accessToken,e.accessTokenParam||"access_token",t||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(o)){const c=(u,f,h)=>{const A=I4(h);return o.replace(A,`${u.join(",")}`)},x=new Wc({attributions:i.attribution,format:n,loader:(u,f,h,A,p)=>{const d=typeof c=="function"?c(u,f,h):c;El("GeoJSON",d,e).then(g=>{const m=x.getFormat().readFeatures(g,{featureProjection:h});x.addFeatures(m),A(m)}).catch(g=>{x.removeLoadedExtent(u),p()})},strategy:v9});return x.set("mapbox-source",i),x}const l=new Wc({attributions:i.attribution,format:n,url:o,loader:(c,x,u,f,h)=>{El("GeoJSON",o,e).then(A=>{const p=l.getFormat().readFeatures(A,{featureProjection:u});l.addFeatures(p),f(p)}).catch(A=>{l.removeLoadedExtent(c),h()})}});return l}s.features=n.readFeatures(r,{featureProjection:"EPSG:3857"});const a=new Wc(Object.assign({attributions:i.attribution,format:n},s));return a.set("mapbox-source",i),a}function AP(i,t,e){return new kc({declutter:!0,source:nb(i,t,e),visible:!1})}function dP(i,t,e){let n=null;return function(r){i.paint&&"raster-opacity"in i.paint&&r.frameState.viewState.zoom!==n&&(n=r.frameState.viewState.zoom,delete e[i.id],pP(i,t,n,e))}}function pP(i,t,e,n){const r=Ve(i,"paint","raster-opacity",e,go,n);t.setOpacity(r)}function gP(i,t){function e(){const n=t.get("mapbox-style");if(!n)return;const r=$S(n.layers),s=i.get("mapbox-layers"),a=r.filter(function(o){return s.includes(o.id)}).some(function(o){return!o.layout||!o.layout.visibility||o.layout.visibility==="visible"});i.get("visible")!==a&&i.setVisible(a)}i.on("change",e),e()}function b4(i,t,e,n){const r=zy(i),s=i.layers,a=e.type,o=e.source||p4(s,e.ref),l=i.sources[o];let c;if(a=="background")c=_4(e,n,r);else if(l.type=="vector")c=fP(l,t,n);else if(l.type=="raster")c=y4(l,t,n),c.setVisible(e.layout?e.layout.visibility!=="none":!0),c.on("prerender",dP(e,c,r));else if(l.type=="geojson")c=AP(l,t,n);else if(l.type=="raster-dem"&&e.type=="hillshade"){const u=hP(l,t,n);c=u,u.getSource().on("beforeoperations",function(f){const h=f.data;h.resolution=eI(n.projection||"EPSG:3857",f.resolution,Er(f.extent),"m");const A=Hy(f.resolution,n.resolutions||Jr);h.encoding=l.encoding,h.vert=5*Ve(e,"paint","hillshade-exaggeration",A,go,r),h.sunAz=Ve(e,"paint","hillshade-illumination-direction",A,go,r),h.sunEl=35,h.opacity=.3,h.highlightColor=Ve(e,"paint","hillshade-highlight-color",A,go,r),h.shadowColor=Ve(e,"paint","hillshade-shadow-color",A,go,r),h.accentColor=Ve(e,"paint","hillshade-accent-color",A,go,r)}),c.setVisible(e.layout?e.layout.visibility!=="none":!0)}const x=o;return c&&c.set("mapbox-source",x),c}function C4(i,t,e,n){const r=[];let s=null;if(t instanceof jE){if(s=t.getView(),!s.isDef()&&!s.getRotation()&&!s.getResolutions()){const u=n.projection?Wt(n.projection):s.getProjection();s=new Es(Object.assign(s.getProperties(),{maxResolution:Jr[0]/Ta[u.getUnits()],projection:n.projection||s.getProjection()})),t.setView(s)}"center"in i&&!s.getCenter()&&s.setCenter(nI(i.center,s.getProjection())),"zoom"in i&&s.getZoom()===void 0&&s.setResolution(Jr[0]/Ta[s.getProjection().getUnits()]/Math.pow(2,i.zoom)),(!s.getCenter()||s.getZoom()===void 0)&&s.fit(s.getProjection().getExtent(),{nearest:!0,size:t.getSize()})}t.set("mapbox-style",i),t.set("mapbox-metadata",{styleUrl:e,options:n});const a=i.layers;let o=[],l,c,x;for(let u=0,f=a.length;u<f;++u){const h=a[u],A=h.type;if(A=="heatmap"){console.debug(`layers[${u}].type "${A}" not supported`);continue}else x=h.source||p4(a,h.ref),(!x||x!=c)&&(o.length&&(r.push(ib(l,o,i,e,t,n)),o=[]),l=b4(i,e,h,n),l instanceof kc||l instanceof _0||(o=[]),c=l.get("mapbox-source")),o.push(h.id)}return r.push(ib(l,o,i,e,t,n)),Promise.all(r)}function v4(i,t,e={}){let n,r;if(typeof i=="string"||i instanceof HTMLElement?r=new jE({target:i}):r=i,typeof t=="string"){const s=t.startsWith("data:")?location.href:Vm(t,e.accessToken);e=A4(s,e),n=new Promise(function(a,o){qy(t,e).then(function(l){C4(l,r,s,e).then(function(){a(r)}).catch(o)}).catch(function(l){o(new Error(`Could not load ${t}: ${l.message}`))})})}else n=new Promise(function(s,a){C4(t,r,!e.styleUrl||e.styleUrl.startsWith("data:")?location.href:Vm(e.styleUrl,e.accessToken),e).then(function(){s(r)}).catch(a)});return n}function ib(i,t,e,n,r,s={}){let a=24,o=0;const l=e.layers;for(let c=0,x=l.length;c<x;++c){const u=l[c];t.indexOf(u.id)!==-1&&(a=Math.min("minzoom"in u?u.minzoom:0,a),o=Math.max("maxzoom"in u?u.maxzoom:24,o))}return new Promise(function(c,x){const u=function(){const h=i.getSource();if(!h||h.getState()==="error"){x(new Error("Error accessing data for source "+i.get("mapbox-source")));return}if("getTileGrid"in h){const A=h.getTileGrid();if(A){const p=A.getMinZoom();(a>0||p>0)&&i.setMaxResolution(Math.min(Xm(a,Jr),A.getResolution(p))+1e-15),o<24&&i.setMinResolution(Xm(o,Jr))}}else a>0&&i.setMaxResolution(Xm(a,Jr)+1e-15);h instanceof Wc||h instanceof RE?eb(i,e,t,Object.assign({styleUrl:n},s)).then(function(){gP(i,r),c()}).catch(x):c()};i.set("mapbox-layers",t);const f=r.getLayers();f.getArray().indexOf(i)===-1&&f.push(i),i.getSource()?u():i.once("change:source",u)})}function w4(i,t){return i.get("mapbox-style").layers.find(function(r){return r.id===t})}function mP(i,t,e){const n=i.get("mapbox-style"),r=n.layers;let s,a=-1;if(e!==void 0){const x=w4(i,e);if(x===void 0)throw new Error(`Layer with id "${e}" not found.`);s=r.indexOf(x)}else s=r.length;let o;if(s>0&&r[s-1].source===t.source?(a=s-1,o=-1):s<r.length&&r[s].source===t.source&&(a=s,o=0),a===-1){const{options:x,styleUrl:u}=i.get("mapbox-metadata"),f=b4(n,u,t,x);if(e){const h=mo(i,e),A=i.getLayers().getArray().indexOf(h);i.getLayers().insertAt(A,f)}return r.splice(s,0,t),ib(f,[t.id],n,u,i,x)}if(r.some(x=>x.id===t.id))throw new Error(`Layer with id "${t.id}" already exists.`);const l=r[a].id,c=Zm[Ym(i.get("mapbox-style"),mo(i,l))];if(r.splice(s,0,t),c){const[x,u,f,h,A,p,d,g]=c;if(Array.isArray(f)){const m=f.indexOf(l)+o;f.splice(m,0,t.id)}Wf(x,u,f,h,A,p,d,g)}else mo(i,r[a].id).changed();return Promise.resolve()}function _P(i,t){const e=i.get("mapbox-style"),n=e.layers,r=n.findIndex(function(o){return o.id===t.id});if(r===-1)throw new Error(`Layer with id "${t.id}" not found.`);if(n[r].source!==t.source)throw new Error("Updated layer and previous version must use the same source.");delete zy(e)[t.id],delete s4(e)[t.id],n[r]=t;const a=Zm[Ym(i.get("mapbox-style"),mo(i,t.id))];a?Wf.apply(void 0,a):mo(i,t.id).changed()}function IP(i,t,e){const n=B4(i,t),r=i.getLayers().getArray().filter(function(o){return(o instanceof kc||o instanceof QE||o instanceof _0)&&o.getSource()===n}),s=i.get("mapbox-metadata");let a;switch(e.type){case"vector":a=tb(e,s.styleUrl,s.options);break;case"geojson":a=Promise.resolve(nb(e,s.styleUrl,s.options));break;case"raster":case"raster-dem":a=E4(e,s.styleUrl,s.options);break;default:return Promise.reject(new Error("Unsupported source type "+e.type))}return a.then(function(o){r.forEach(function(l){l.setSource(o)})}),a}function EP(i,t){const e=typeof t=="string"?t:t.id,n=mo(i,e),r=n.get("mapbox-layers");if(r.length===1)throw new Error("Cannot remove last Mapbox layer from an OpenLayers layer.");r.splice(r.indexOf(e),1);const s=i.get("mapbox-style"),a=s.layers;a.splice(a.findIndex(l=>l.id===e),1);const o=Zm[Ym(s,n)];if(o){const[l,c,x,u,f,h,A,p]=o;Array.isArray(x)&&x.splice(x.findIndex(d=>d===e),1),Wf(l,c,x,u,f,h,A,p)}else mo(i,e).changed()}function mo(i,t){const e=i.getLayers().getArray();for(let n=0,r=e.length;n<r;++n){const s=e[n].get("mapbox-layers");if(s&&s.indexOf(t)!==-1)return e[n]}}function rb(i,t){const e=[],n=i.getLayers().getArray();for(let r=0,s=n.length;r<s;++r)n[r].get("mapbox-source")===t&&e.push(n[r]);return e}function B4(i,t){const e=i.getLayers().getArray();for(let n=0,r=e.length;n<r;++n){const s=e[n].getSource();if(e[n].get("mapbox-source")===t)return s}}function yP(i,t,e){const n="getLayers"in i?rb(i,t.source):[i];for(let r=0,s=n.length;r<s;++r){const a=n[r].get("mapbox-featurestate");if(a)e?a[t.id]=e:delete a[t.id],n[r].changed();else throw new Error(`Map or layer for source "${t.source}" not found.`)}}function bP(i,t){const e="getLayers"in i?rb(i,t.source):[i];for(let n=0,r=e.length;n<r;++n){const s=e[n].get("mapbox-featurestate");if(s&&s[t.id])return s[t.id]}}class CP extends yr{constructor(t){super(Ye.ERROR),this.error=t}}class vP extends _0{constructor(t){const e="declutter"in t?t.declutter:!0,n=new RE({state:"loading",format:new ZB});super({source:n,background:t.background,declutter:e,className:t.className,opacity:t.opacity,visible:t.visible,zIndex:t.zIndex,minResolution:t.minResolution,maxResolution:t.maxResolution,minZoom:t.minZoom,maxZoom:t.maxZoom,renderOrder:t.renderOrder,renderBuffer:t.renderBuffer,renderMode:t.renderMode,map:t.map,updateWhileAnimating:t.updateWhileAnimating,updateWhileInteracting:t.updateWhileInteracting,preload:t.preload,useInterimTilesOnError:t.useInterimTilesOnError,properties:t.properties}),t.accessToken&&(this.accessToken=t.accessToken);const r=t.styleUrl,s=[eb(this,r,t.layers||t.source,{accessToken:this.accessToken})];this.getBackground()===void 0&&s.push(d4(this,t.styleUrl,{accessToken:this.accessToken})),Promise.all(s).then(()=>{n.setState("ready")}).catch(a=>{this.dispatchEvent(new CP(a)),this.getSource().setState("error")})}}const wP=Object.freeze(Object.defineProperty({__proto__:null,MapboxVectorLayer:vP,addMapboxLayer:mP,apply:v4,applyBackground:d4,applyStyle:eb,cme_FrostLineStyle:D7,cme_LINES_SYMBOL2:L7,cme_LINES_SYMBOL3:F7,cme_LINES_SYMBOL4:P7,cme_LINES_SYMBOL5:k7,cme_PloygonStyle:Q7,cme_Point:WB,cme_commonStyle:vi,cme_polygon:fL,cme_polyline:lL,cme_style_FillPattern:h0,cme_text:hL,default:v4,getFeatureState:bP,getLayer:mo,getLayers:rb,getMapboxLayer:w4,getSource:B4,getStyleForLayer:oP,recordStyleLayer:aP,removeMapboxLayer:EP,renderTransparent:rP,setFeatureState:yP,stylefunction:Wf,updateMapboxLayer:_P,updateMapboxSource:IP},Symbol.toStringTag,{value:"Module"}));class BP{constructor(){}getCommonStyle(t){return{Style:{image:{cme_style_FontSymbol:{glyph:t,form:"",fontStyle:"unset",radius:20,rotation:2,displacement:[0,0],color:"#ff0000",fill:{Fill:{color:"rgba(0,255,0,1)"}},stroke:{Stroke:{color:"rgba(255,255,0,1)",width:1}},fill:{Fill:{color:"rgba(255,255,0,0)"}},stroke:{Stroke:{color:"rgba(0,0,255,0)",width:1}}}}}}}getWindyStyle(t,e,n,r){let s=r.style1,a={Style:{image:{cme_style_FontSymbol:{glyph:t,radius:18,rotation:e,displacement:[0,0],color:"#000000"}}}},o=this.mergeObjects(s,a),l=null;if(r.rule&&r.rule.color){l=r.rule.color;for(let x=0;x<l.length-1;x++)n>=l[x][0]&&n<l[x+1][0]&&(o.Style.image.cme_style_FontSymbol.color=l[x][1])}let c=null;if(r.rule&&r.rule.size){c=r.rule.size;for(let x=0;x<c.length-1;x++)n>=c[x][0]&&n<c[x+1][0]&&(o.Style.image.cme_style_FontSymbol.radius=c[x][1])}return o}mergeObjects(t,e){if(typeof e!="object"||e===null)return t;let n=Array.isArray(e)?[...e]:{...e};for(let r in t)t.hasOwnProperty(r)&&(typeof t[r]=="object"&&t[r]!==null&&e.hasOwnProperty(r)?n[r]=this.mergeObjects(t[r],e[r]):n[r]=t[r]);return n}}class SP{constructor(){this.commonPoint=new BP,this.cme_Point=new WB}setWindStyle(t,e,n,r,s){const a=n;let o=this.commonPoint.getWindyStyle(e,a,r,s);t.setProperties({customStyle:o});let l=this.getwindyStyleByJSON(o);t.setStyle(l)}getwindyStyleByJSON(t){var e=[];let n=this.cme_Point.getCme_Style(t);return e.push(n),e}setStyle(t,e){let n=this.commonPoint.getStyle(e);t.setProperties({customStyle:n});var r=[];let s=this.cme_Point.getCme_Style(n);r.push(s),t.setStyle(r)}}var MP=class extends kc{constructor(t,e){super(e),this.map=t,this.options=e,this.FontSymbolStyle=new SP,this.firstBool=!1,this.setProperties(e),this.setOpacity(0),this.layer=e.layer,this.worldExtent=null,this.rasterDatas=null}_render(){return new Promise((t,e)=>{t(!0),this.once("postrender",n=>{this.firstBool=!0,setTimeout(()=>{this.worldExtent=null,this.drawGridNumber(this.rasterDatas)},30)})})}isViewExtentEqual(t){const e=this.map.getView().calculateExtent(this.map.getSize());return JSON.stringify(e)===JSON.stringify(t)}drawGridNumber(t){t!=null&&this.setDataToLayer(t)}setDataToLayer(t){var C,v;this.rasterDatas=t,this.worldExtent=this.map.getView().calculateExtent(this.map.getSize());let e=[],n=[],r=[],s=[],a=[],o=[],l=[];t.forEach(B=>{e.push(B.params.bbox),n.push(B.params.viewBBox),r.push(B.params.interpolationParams),s.push(B.params.bandsNumber),a.push(B.params.metadata),o.push(kB(B.params.bbox,B.params.viewBBox,B.params.interpolationParams,B,B.params.bandsNumber,B.params.metadata)),l.push(B.params.project)});const c=this.options,{distance:x,fixedPixel:u,layer:f,showTextRange:h,precision:A}=c;let p=this.map.getView().getProjection().getCode(),d=l[0];var g=e[0];d!=p&&(p=="EPSG:3857"&&(e[0][1]<-85.05112877980659&&(e[0][1]=-85.05112877980659),e[0][3]>85.05112877980659&&(e[0][3]=85.05112877980659)),g=iI(e[0],d,p));let m=x||80;const[_,I,y]=rB(this.map,this.worldExtent,g,window.innerWidth,window.innerHeight,m);let E,b=[],w;for(let B=0;B<_.length;B++)for(let S=0;S<o.length;S++){let T=this.map.getCoordinateFromPixel(_[B]),Q=this._getData(T,r[S],s[S],o[S]);if(Q!=null){w=new Js(T);const M=Q.speed;if(!this.getRange(M))break;E=new Gc(w);let U=(Q.direction*Math.PI/180).toFixed(2),F=this.getwindySpeed(M),z="icon-jiantou";((C=this.options)==null?void 0:C.windType)=="arrow"?z="icon-jiantou":(((v=this.options)==null?void 0:v.windType)=="wind",z="icon-zheng_"+F+"ji"),this.FontSymbolStyle.setWindStyle(E,z,U,M,this.options),b.push(E)}}this.addFeaturesToLayer(b)}getRange(t){return this.options.range?t<=(this.options.range.max||99999999)&&t>=(this.options.range.min||-99999999):!0}updateStyle(t){this.options.range=t.range,this.setDataToLayer(this.rasterDatas)}addFeaturesToLayer(t){if(t.length>0){if(this.getSource())this.getSource().clear();else{let e=new Wc({wrapX:!1});this.setSource(e)}t.length>0&&(this.firstBool==!0?(this.setVisible(!1),this.getSource().addFeatures(t),this.getSource().changed(),this.changed(),this.setOpacity(0),this.setVisible(!0),this.setOpacity(1)):this.getSource().addFeatures(t))}}_setSource(t){}_setStyle(t){}_remove(){}_getData(t,e,n,r){let s=nc(this.map,t),a=[e.lo1,e.la1,e.lo2,e.la2];s[0],s[1];let o=[s[0],s[1]];return o[0]%360<-180?o[0]=360+o[0]%360:o[0]=o[0]%360,o[0]>180&&(o[0]=o[0]-360),LB(n,a,o[0],o[1],r,e.dx,e.dy)}getwindySpeed(t){let e=0;return t==0?e=null:t>0&&t<=2?e=0:t>2&&t<=4?e=1:t>4&&t<=6?e=2:t>6&&t<=8?e=3:t>8&&t<=10?e=4:t>10&&t<=12?e=5:t>12&&t<=14?e=6:t>14&&t<=16?e=7:t>16&&t<=18?e=8:t>18&&t<=20?e=9:t>20&&t<=22?e=10:t>22&&t<=24?e=11:t>26&&t<=28?e=12:t>28&&t<=30?e=13:t>30&&t<=32?e=14:t>32&&t<=34?e=15:t>34&&t<=36?e=16:t>36&&t<=38?e=17:t>38&&t<=40?e=18:t>40&&t<=42?e=19:t>42&&t<=44?e=20:t>44&&t<=46?e=21:t>46&&t<=48?e=22:t>48&&t<=50?e=23:t>50&&t<=52?e=24:t>52&&t<=54?e=25:t>54&&t<=56?e=26:t>56&&t<=58?e=27:t>58&&t<=60?e=28:e=29,e}};const S4={};class sb extends i1{constructor(e={}){super({...S4,...e});Ze(this,"type","custom");Ze(this,"canvas",null);Ze(this,"glObject",null);Ze(this,"map",null);Ze(this,"_state",{});Ze(this,"_needRedraw",!1);Ze(this,"setProps",e=>{this._state={...this._state,...e},this.reDraw()});Ze(this,"reDraw",()=>{var e;this._needRedraw=!0,(e=this.source)==null||e.changed()});Ze(this,"setNeedRedraw",()=>{this._needRedraw=!0});Ze(this,"lnglatToScreen",({coord:e,extent:n,pixelRatio:r})=>{const s=this.map;if(!s)return;const a=s.getView().getProjection().getCode();e=sr(e,"EPSG:4326",a);const o=s.getSize(),l=s.getView().calculateExtent(o),c=s.getPixelFromCoordinate([n[0],n[3]]),x=s.getPixelFromCoordinate([l[0],l[3]]),u=[x[0]-c[0],x[1]-c[1]],f=s.getPixelFromCoordinate(e),h=(f[0]+u[0])*r,A=(f[1]+u[1])*r;return[h,A]});Ze(this,"extentTolnglat",e=>{const n=this.map;if(!n)return;const r=n.getView().getProjection().getCode(),[s,a]=sr([e[0],e[1]],r,"EPSG:4326"),[o,l]=sr([e[2],e[3]],r,"EPSG:4326");return[s,a,o,l]});this._init(),this.setProps({...S4,...e})}lnglat2Mercator(e,n){const s=6378137*Math.PI/180*e,a=6378137*Math.log(Math.tan(Math.PI/4+Math.PI/180*n/2));return[s,a]}mercator2lnglat(e,n){const s=e*180/Math.PI/6378137,a=180/Math.PI*2*(Math.atan(Math.exp(n/6378137))-Math.PI/4);return[s,a]}_init(){this.canvas||(this.canvas=document.createElement("canvas")),this.source=new j3({canvasFunction:(e,n,r,s,a)=>{if(this._needRedraw&&this.canvas){if(this.canvas.width=s[0],this.canvas.height=s[1],!this.glObject){const{getGlObject:o}=this._state;o&&typeof o=="function"&&(this.glObject=o.call(this,this.canvas))}if(this.map||(this.map=this.get("map")||this._state.map,this.map.on("movestart",async o=>{this._needRedraw=!0,this.setNeedRedraw()}),this.map.on("moveend",async o=>{const{onMoveEnd:l}=this._state;l!=null&&l.fn&&typeof(l==null?void 0:l.fn)=="function"&&await l.fn.apply(null,l.args),this.reDraw()})),this.map&&this.glObject){const{onUpdate:o}=this._state;o&&typeof o=="function"&&o.call(this,{map:this.map,glObject:this.glObject,canvas:this.canvas,extent:e,resolution:n,pixelRatio:r,size:s,projection:a})}}return this._needRedraw=!1,this.canvas}}),this.setSource(this.source)}}function M4(i,t,e){const n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),i.getShaderParameter(n,i.COMPILE_STATUS)?n:(console.error(": ",i.getShaderInfoLog(n)),i.deleteShader(n),null)}function R4(i,t,e){const n=M4(i,i.VERTEX_SHADER,t),r=M4(i,i.FRAGMENT_SHADER,e),s=i.createProgram();return i.attachShader(s,n),i.attachShader(s,r),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)?s:(console.error(": ",i.getProgramInfoLog(s)),i.deleteProgram(s),null)}function T4(i){return i>1&&(i&i-1)===0}function yl({gl:i,texture:t,level:e,border:n,offset:r,data:s,target:a,width:o,height:l,type:c,internalformat:x,format:u,filter:f={min:"LINEAR",mag:"LINEAR"}}){if(!i.getExtension("OES_texture_float_linear"))return alert("can not filter floating point textures"),null;i.bindTexture(a,t),i.texImage2D(a,e,x,o,l,n,u,c,s,r),T4(o)&&T4(l)&&i.generateMipmap(a),i.texParameteri(a,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(a,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(a,i.TEXTURE_MIN_FILTER,i[f.min]),i.texParameteri(a,i.TEXTURE_MAG_FILTER,i[f.mag])}function bl(i,t){return i instanceof Int32Array?{type:t.INT,format:t.RED_INTEGER,internalformat:t.R32I}:i instanceof Float32Array?{type:t.FLOAT,format:t.RED,internalformat:t.R32F}:{type:t.UNSIGNED_BYTE,format:t.RGBA,internalformat:t.RGBA}}const D4=`#version 300 es\r
precision highp float;\r
\r
layout(location = 0) in vec2 a_position;\r
layout(location = 1) in vec2 a_uv;\r
\r
out vec2 v_uv;\r
\r
void main() {\r
  vec2 position = a_position * 2. - 1.;\r
  gl_Position = vec4(position, 0., 1.);\r
  v_uv = a_uv;\r
}`,Q4=`#version 300 es\r
precision highp float;\r
\r
#define PI 3.141592653\r
\r
in vec2 v_uv;\r
uniform sampler2D u_sampler_tiff;\r
uniform vec4 u_bbox;\r
uniform float u_val_min;\r
uniform float u_val_max;\r
uniform float u_nodata;\r
uniform float u_scale;\r
uniform float u_offset;\r
uniform float u_opacity;\r
uniform sampler2D u_sampler_colorRamp;\r
uniform sampler2D u_sampler_colorFilter;\r
uniform float u_proj;\r
uniform bool u_filter_val_min;\r
uniform bool u_filter_val_max;\r
\r
// 43263857\r
vec2 lnglat2Mercator(float lng, float lat) {\r
  float r = 6378137.;\r
  float x = lng / 180. * PI * r;\r
  float a = lat / 180. * PI;\r
  float y = r / 2. * log((1. + sin(a)) / (1. - sin(a)));\r
  return vec2(x, y);\r
}\r
\r
// 43263857\r
vec2 lnglat2mercator(float lng, float lat) {\r
  float r = 6378137.;\r
  float x = r * PI / 180. * lng;\r
  float y = r * log(tan(PI / 4. + PI / 180. * lat / 2.));\r
  return vec2(x, y);\r
}\r
\r
// 38574326\r
vec2 mercator2lnglat(float x, float y) {\r
  float r = 6378137.;\r
  float lng = 180. / PI / r * x;\r
  float lat = 180. / PI * 2. * (atan(exp(y / r)) - PI / 4.);\r
  return vec2(lng, lat);\r
}\r
\r
out vec4 fragColor;\r
\r
void main() {\r
  vec4 texColor;\r
  // uv\r
  if (u_proj == 0.) {\r
    // 4326\r
    texColor = texture(u_sampler_tiff, v_uv);\r
  } else if (u_proj == 1.) {\r
    // 3857\r
    vec2 lb = lnglat2mercator(u_bbox.x, u_bbox.y); // bbox3857\r
    vec2 rt = lnglat2mercator(u_bbox.z, u_bbox.w);\r
    vec2 p1 = lb + (rt - lb) * v_uv;       // v_uv3857\r
    vec2 p2 = mercator2lnglat(p1.x, p1.y); // v_uv4326\r
    vec2 uv = (p2 - u_bbox.xy) / (u_bbox.zw - u_bbox.xy);\r
    texColor = texture(u_sampler_tiff, uv);\r
  }\r
  // \r
  float realValue = texColor.r;\r
  // nodata\r
  if (realValue == u_nodata) {\r
    discard; // \r
  } else {\r
    realValue = texColor.r / u_scale + u_offset;\r
    float x = (realValue - u_val_min) / (u_val_max - u_val_min);\r
    // \r
    if (x <= 0. && u_filter_val_min) {\r
      discard;\r
    }\r
    // \r
    if (x >= 1. && u_filter_val_max) {\r
      discard;\r
    }\r
    x = clamp(x, 0., 1.);\r
    //\r
    vec4 colorFilter = texture(u_sampler_colorFilter, vec2(x, 1.));\r
    if (colorFilter.r > 0.) {\r
      discard;\r
    }\r
    // \r
    vec4 colorRamp = texture(u_sampler_colorRamp, vec2(x, 1.));\r
    fragColor = vec4(colorRamp.rgb, u_opacity);\r
  }\r
}`,RP={opacity:1,invisible:[],colorRamp:null,mode:0,nodata:-9999},TP={0:{min:"LINEAR",mag:"LINEAR"},1:{min:"LINEAR",mag:"LINEAR"},2:{min:"NEAREST",mag:"NEAREST"}},DP={"EPSG:4326":0,"EPSG:3857":1};let QP=class extends sb{constructor(e={}){super({...RP,...e});Ze(this,"_models",{});Ze(this,"_colorRampObject",null);Ze(this,"_colorFilerObject",null);Ze(this,"updateProps",e=>{let{colorRamp:n,invisible:r,mode:s}=this._state;const a=Array.isArray(e.colorRamp);a&&(n=e.colorRamp);const o=Array.isArray(e.invisible);o&&(r=e.invisible);const l=typeof e.mode=="number";if(l&&(s=e.mode),a||o||l){const c=s===1?0:1;this._colorRampObject=this._createColorRamp(n,c),this._colorFilerObject=this._createColorFilter(n,r)}this.setProps(e)});Ze(this,"_getGlObject",e=>{const n=e.getContext("webgl2");return n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.enable(n.DEPTH_TEST),n.enable(n.CULL_FACE),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,1),{gl:n}});Ze(this,"_onUpdate",e=>{const{map:n,glObject:r,canvas:s,extent:a,resolution:o,pixelRatio:l,size:c,projection:x}=e,{gl:u}=r;u.viewport(0,0,c[0],c[1]),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT);const{data:f}=this._state;f&&(f.forEach(({rasterData:h,bbox:A,width:p,height:d,metaData:g},m)=>{this._state.nodata=typeof this._state.nodata=="number"?this._state.nodata:g.nodata,this._state.metaData=g;const[_,I]=this.lnglatToScreen({coord:[A[0],A[1]],extent:a,pixelRatio:l}),[y,E]=this.lnglatToScreen({coord:[A[2],A[3]],extent:a,pixelRatio:l}),b=_/c[0],w=y/c[0],C=1-I/c[1],v=1-E/c[1],B=[b,C],S=[w,C],T=[w,v],Q=[b,v],M=[...B,...S,...T,...T,...Q,...B],D=[0,0],U=[1,0],F=[1,1],z=[0,1],H=[...D,...U,...F,...F,...z,...D],P={imageData:new Float32Array(h),width:p,height:d};this._models[m]||(this._models[m]=this._createModel(u,{main:{vert:D4,frag:Q4},vertexCount:M.length/2})),this._updateModel(this._models[m],{main:{positions:M,uvs:H,textureAttrs:{tiff:P,colorRamp:this._colorRampObject,colorFilter:this._colorFilerObject},bbox:A}})}),this._render())});this._initLayer()}_initLayer(){const{colorRamp:e,invisible:n,mode:r,onMoveEnd:s}=this._state;if(this.setProps({getGlObject:this._getGlObject,onUpdate:this._onUpdate,onMoveEnd:s}),!this._colorRampObject){const a=r===1?0:1;this._colorRampObject=this._createColorRamp(e,a)}this._colorFilerObject||(this._colorFilerObject=this._createColorFilter(e,n))}_render(){const{data:e}=this._state;for(let n=0;n<e.length;n++)this._drawModel(this._models[n])}_createModel(e,{main:n,vertexCount:r}){const{vert:s,frag:a}=n,o=R4(e,s,a),l=e.createVertexArray(),c={positions:e.createBuffer(),uvs:e.createBuffer()},x={attributes:{a_position:0,a_uv:1},uniforms:{u_scale:e.getUniformLocation(o,"u_scale"),u_offset:e.getUniformLocation(o,"u_offset"),u_nodata:e.getUniformLocation(o,"u_nodata"),u_opacity:e.getUniformLocation(o,"u_opacity"),u_sampler_tiff:e.getUniformLocation(o,"u_sampler_tiff"),u_bbox:e.getUniformLocation(o,"u_bbox"),u_val_min:e.getUniformLocation(o,"u_val_min"),u_val_max:e.getUniformLocation(o,"u_val_max"),u_sampler_colorRamp:e.getUniformLocation(o,"u_sampler_colorRamp"),u_sampler_colorFilter:e.getUniformLocation(o,"u_sampler_colorFilter"),u_filter_val_min:e.getUniformLocation(o,"u_filter_val_min"),u_filter_val_max:e.getUniformLocation(o,"u_filter_val_max"),u_proj:e.getUniformLocation(o,"u_proj")}},u={tiff:{val:e.createTexture(),id:e.TEXTURE0,pos:0},colorRamp:{val:e.createTexture(),id:e.TEXTURE1,pos:1},colorFilter:{val:e.createTexture(),id:e.TEXTURE2,pos:2}};return{gl:e,main:{program:o,vao:l,textures:u,buffers:c,locations:x},vertexCount:r}}_updateModel(e,{main:n}){const{gl:r}=e,{program:s,vao:a,textures:o,buffers:l,locations:c}=e.main,{positions:x,uvs:u,textureAttrs:f,bbox:h}=n;r.bindVertexArray(a),r.bindBuffer(r.ARRAY_BUFFER,l.positions),r.bufferData(r.ARRAY_BUFFER,new Float32Array(x),r.STATIC_DRAW),r.enableVertexAttribArray(c.attributes.a_position),r.vertexAttribPointer(c.attributes.a_position,2,r.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),r.bindBuffer(r.ARRAY_BUFFER,l.uvs),r.bufferData(r.ARRAY_BUFFER,new Float32Array(u),r.STATIC_DRAW),r.enableVertexAttribArray(c.attributes.a_uv),r.vertexAttribPointer(c.attributes.a_uv,2,r.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),r.bindBuffer(r.ARRAY_BUFFER,null),r.bindVertexArray(null);const{mode:A}=this._state,p=TP[A],d=bl(f.tiff.imageData,r);yl({gl:r,texture:o.tiff.val,level:0,border:0,offset:0,data:f.tiff.imageData,target:r.TEXTURE_2D,width:f.tiff.width,height:f.tiff.height,type:d.type,format:d.format,internalformat:d.internalformat,filter:p});const g=bl(f.colorRamp.imageData,r);yl({gl:r,texture:o.colorRamp.val,level:0,border:0,offset:0,data:f.colorRamp.imageData,target:r.TEXTURE_2D,width:f.colorRamp.width,height:f.colorRamp.height,type:g.type,format:g.format,internalformat:g.internalformat,filter:p});const m=bl(f.colorFilter.imageData,r);yl({gl:r,texture:o.colorFilter.val,level:0,border:0,offset:0,data:f.colorFilter.imageData,target:r.TEXTURE_2D,width:f.colorFilter.width,height:f.colorFilter.height,type:m.type,format:m.format,internalformat:m.internalformat,filter:{min:"LINEAR",mag:"LINEAR"}}),r.useProgram(s),r.uniform4fv(c.uniforms.u_bbox,new Float32Array([...h]));const _=this.map.getView().getProjection().getCode();r.uniform1f(c.uniforms.u_proj,DP[_]),console.log(f),r.uniform1i(c.uniforms.u_filter_val_min,f.colorFilter.filter_val_min),r.uniform1i(c.uniforms.u_filter_val_max,f.colorFilter.filter_val_max)}_drawModel(e){if(e){const{gl:n,main:r,vertexCount:s}=e,{program:a,vao:o,textures:l,buffers:c,locations:x}=r,{val_min:u,val_max:f}=this._colorRampObject,{metaData:h,opacity:A,nodata:p}=this._state;n.useProgram(a),n.bindVertexArray(o),n.uniform1f(x.uniforms.u_val_min,u),n.uniform1f(x.uniforms.u_val_max,f),n.uniform1f(x.uniforms.u_scale,h.scale),n.uniform1f(x.uniforms.u_nodata,p),n.uniform1f(x.uniforms.u_offset,h.offset),n.uniform1f(x.uniforms.u_opacity,A),n.activeTexture(l.tiff.id),n.bindTexture(n.TEXTURE_2D,l.tiff.val),n.uniform1i(x.uniforms.u_sampler_tiff,l.tiff.pos),n.activeTexture(l.colorRamp.id),n.bindTexture(n.TEXTURE_2D,l.colorRamp.val),n.uniform1i(x.uniforms.u_sampler_colorRamp,l.colorRamp.pos),n.activeTexture(l.colorFilter.id),n.bindTexture(n.TEXTURE_2D,l.colorFilter.val),n.uniform1i(x.uniforms.u_sampler_colorFilter,l.colorFilter.pos),n.drawArrays(n.TRIANGLES,0,s),n.bindVertexArray(null)}}_createColorRamp(e,n=0){const r=e.sort((f,h)=>f[0]<h[0]),s=r[0][0],a=r[r.length-1][0],o=document.createElement("canvas"),l=256,c=1;o.width=l,o.height=c;const x=o.getContext("2d");if(x.clearRect(0,0,l,c),n===0){const f=x.createLinearGradient(0,0,o.width,o.height);for(let h=0;h<e.length;h++){const[A,p]=e[h],d=(A-s)/(a-s);f.addColorStop(d,`rgba(${p[0]},${p[1]},${p[2]})`)}x.fillStyle=f,x.fillRect(0,0,o.width,o.height)}else if(n===1)for(let f=0;f<e.length-1;f++){const h=e[f][0],A=e[f+1][0],p=e[f][1];let d=(h-s)/(a-s);d=Math.min(Math.max(d,0),1);let g=(A-s)/(a-s);g=Math.min(Math.max(g,0),1),x.fillStyle=`rgba(${p[0]},${p[1]},${p[2]})`,x.fillRect(d*l,0,g*l,c)}const u=x.getImageData(0,0,o.width,o.height).data;return{val_min:s,val_max:a,imageData:u,width:l,height:c}}_createColorFilter(e,n){const r=document.createElement("canvas"),s=256,a=1;r.width=s,r.height=a;const o=r.getContext("2d");o.fillStyle="#000000",o.fillRect(0,0,s,a);let l=!1,c=!1;if(n!=null&&n.length){const u=e.sort((A,p)=>A[0]<p[0]),f=u[0][0],h=u[u.length-1][0];for(const A of n){const[p,d]=A;d===f&&(l=!0),p===h&&(c=!0),o.fillStyle="#ffffff";let g=(p-f)/(h-f);g=Math.min(Math.max(g,0),1);let m=(d-f)/(h-f);m=Math.min(Math.max(m,0),1),o.fillRect(g*s,0,m*s,a)}}return{imageData:o.getImageData(0,0,r.width,r.height).data,width:s,height:a,filter_val_min:l,filter_val_max:c}}};const LP={};class FP extends sb{constructor(e={}){super({...LP,...e});Ze(this,"_models",{});Ze(this,"_colorRampObject",null);Ze(this,"updateProps",e=>{let{colorRamp:n,invisible:r,mode:s}=this._state;const a=Array.isArray(e.colorRamp);a&&(n=e.colorRamp);const o=Array.isArray(e.invisible);o&&(r=e.invisible);const l=typeof e.mode=="number";l&&(s=e.mode),(a||o||l)&&(this._colorRampObject=this._createColorRamp(n,s),this._colorFilerObject=this._createColorFilter(n,r)),this.setProps(e)});Ze(this,"_getGlObject",e=>{const n=e.getContext("webgl2");return n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.enable(n.DEPTH_TEST),n.enable(n.CULL_FACE),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,1),{gl:n}});Ze(this,"_onUpdate",e=>{const{map:n,glObject:r,canvas:s,extent:a,resolution:o,pixelRatio:l,size:c,projection:x}=e,{gl:u}=r;u.viewport(0,0,c[0],c[1]),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT);const{data:f}=this._state;f&&(f.forEach(({rasterData:h,bbox:A,width:p,height:d,metaData:g},m)=>{this._state.nodata=typeof this._state.nodata=="number"?this._state.nodata:g.nodata,this._state.metaData=g;const[_,I]=this.lnglatToScreen({coord:[A[0],A[1]],extent:a,pixelRatio:l}),[y,E]=this.lnglatToScreen({coord:[A[2],A[3]],extent:a,pixelRatio:l}),b=_/c[0],w=y/c[0],C=1-I/c[1],v=1-E/c[1],B=[b,C],S=[w,C],T=[w,v],Q=[b,v],M=[...B,...S,...T,...T,...Q,...B],D=[0,0],U=[1,0],F=[1,1],z=[0,1],H=[...D,...U,...F,...F,...z,...D],P={imageData:new Float32Array(h),width:p,height:d};this._models[m]||(this._models[m]=this._createModel(u,{main:{vert:D4,frag:Q4},vertexCount:M.length/2})),this._updateModel(this._models[m],{main:{positions:M,uvs:H,textureAttrs:{tiff:P,colorRamp:this._colorRampObject,colorFilter:this._colorFilerObject},bbox:A}})}),this._render())});this._initLayer()}_initLayer(){const{colorRamp:e,invisible:n,mode:r,onMoveEnd:s}=this._state;if(this.setProps({getGlObject:this._getGlObject,onUpdate:this._onUpdate,onMoveEnd:s}),!this._colorRampObject){const a=r===1?0:1;this._colorRampObject=this._createColorRamp(e,a)}}_render(){const{data:e}=this._state;for(let n=0;n<e.length;n++)this._drawModel(this._models[n])}_createModel(e,{main:n,vertexCount:r}){const{vert:s,frag:a}=n,o=R4(e,s,a),l=e.createVertexArray(),c={positions:e.createBuffer(),uvs:e.createBuffer()},x={attributes:{a_position:0,a_uv:1},uniforms:{u_scale:e.getUniformLocation(o,"u_scale"),u_offset:e.getUniformLocation(o,"u_offset"),u_nodata:e.getUniformLocation(o,"u_nodata"),u_opacity:e.getUniformLocation(o,"u_opacity"),u_sampler_tiff:e.getUniformLocation(o,"u_sampler_tiff"),u_bbox:e.getUniformLocation(o,"u_bbox"),u_val_min:e.getUniformLocation(o,"u_val_min"),u_val_max:e.getUniformLocation(o,"u_val_max"),u_sampler_colorRamp:e.getUniformLocation(o,"u_sampler_colorRamp"),u_sampler_colorFilter:e.getUniformLocation(o,"u_sampler_colorFilter"),u_proj:e.getUniformLocation(o,"u_proj")}},u={tiff:{val:e.createTexture(),id:e.TEXTURE0,pos:0},colorRamp:{val:e.createTexture(),id:e.TEXTURE1,pos:1},colorFilter:{val:e.createTexture(),id:e.TEXTURE2,pos:2}};return{gl:e,main:{program:o,vao:l,textures:u,buffers:c,locations:x},vertexCount:r}}_updateModel(e,{main:n}){const{gl:r}=e,{program:s,vao:a,textures:o,buffers:l,locations:c}=e.main,{positions:x,uvs:u,textureAttrs:f,bbox:h}=n;r.bindVertexArray(a),r.bindBuffer(r.ARRAY_BUFFER,l.positions),r.bufferData(r.ARRAY_BUFFER,new Float32Array(x),r.STATIC_DRAW),r.enableVertexAttribArray(c.attributes.a_position),r.vertexAttribPointer(c.attributes.a_position,2,r.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),r.bindBuffer(r.ARRAY_BUFFER,l.uvs),r.bufferData(r.ARRAY_BUFFER,new Float32Array(u),r.STATIC_DRAW),r.enableVertexAttribArray(c.attributes.a_uv),r.vertexAttribPointer(c.attributes.a_uv,2,r.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),r.bindBuffer(r.ARRAY_BUFFER,null),r.bindVertexArray(null);const{mode:A}=this._state,p=MODE_FILTER[A],d=bl(f.tiff.imageData,r);yl({gl:r,texture:o.tiff.val,level:0,border:0,offset:0,data:f.tiff.imageData,target:r.TEXTURE_2D,width:f.tiff.width,height:f.tiff.height,type:d.type,format:d.format,internalformat:d.internalformat,filter:p});const g=bl(f.colorRamp.imageData,r);yl({gl:r,texture:o.colorRamp.val,level:0,border:0,offset:0,data:f.colorRamp.imageData,target:r.TEXTURE_2D,width:f.colorRamp.width,height:f.colorRamp.height,type:g.type,format:g.format,internalformat:g.internalformat,filter:p});const m=bl(f.colorFilter.imageData,r);yl({gl:r,texture:o.colorFilter.val,level:0,border:0,offset:0,data:f.colorFilter.imageData,target:r.TEXTURE_2D,width:f.colorFilter.width,height:f.colorFilter.height,type:m.type,format:m.format,internalformat:m.internalformat,filter:p}),r.useProgram(s),r.uniform4fv(c.uniforms.u_bbox,new Float32Array([...h]));const _=this.map.getView().getProjection().getCode();r.uniform1f(c.uniforms.u_proj,CRS[_])}_drawModel(e){if(e){const{gl:n,main:r,vertexCount:s}=e,{program:a,vao:o,textures:l,buffers:c,locations:x}=r,{val_min:u,val_max:f}=this._colorRampObject,{metaData:h,opacity:A,nodata:p}=this._state;n.useProgram(a),n.bindVertexArray(o),n.uniform1f(x.uniforms.u_val_min,u),n.uniform1f(x.uniforms.u_val_max,f),n.uniform1f(x.uniforms.u_scale,h.scale),n.uniform1f(x.uniforms.u_nodata,p),n.uniform1f(x.uniforms.u_offset,h.offset),n.uniform1f(x.uniforms.u_opacity,A),n.activeTexture(l.tiff.id),n.bindTexture(n.TEXTURE_2D,l.tiff.val),n.uniform1i(x.uniforms.u_sampler_tiff,l.tiff.pos),n.activeTexture(l.colorRamp.id),n.bindTexture(n.TEXTURE_2D,l.colorRamp.val),n.uniform1i(x.uniforms.u_sampler_colorRamp,l.colorRamp.pos),n.activeTexture(l.colorFilter.id),n.bindTexture(n.TEXTURE_2D,l.colorFilter.val),n.uniform1i(x.uniforms.u_sampler_colorFilter,l.colorFilter.pos),n.drawArrays(n.TRIANGLES,0,s),n.bindVertexArray(null)}}_createColorRamp(e,n=0){const r=e.sort((f,h)=>f[0]<h[0]),s=r[0][0],a=r[r.length-1][0],o=document.createElement("canvas"),l=256,c=1;o.width=l,o.height=c;const x=o.getContext("2d");if(x.clearRect(0,0,l,c),n===0){const f=x.createLinearGradient(0,0,o.width,o.height);for(let h=0;h<e.length;h++){const[A,p]=e[h],d=(A-s)/(a-s);f.addColorStop(d,`rgba(${p[0]},${p[1]},${p[2]})`)}x.fillStyle=f,x.fillRect(0,0,o.width,o.height)}else if(n===1)for(let f=0;f<e.length-1;f++){const h=e[f][0],A=e[f+1][0],p=e[f][1];let d=(h-s)/(a-s);d=Math.min(Math.max(d,0),1);let g=(A-s)/(a-s);g=Math.min(Math.max(g,0),1),x.fillStyle=`rgba(${p[0]},${p[1]},${p[2]})`,x.fillRect(d*l,0,g*l,c)}const u=x.getImageData(0,0,o.width,o.height).data;return{val_min:s,val_max:a,imageData:u,width:l,height:c}}}const kP=Object.freeze(Object.defineProperty({__proto__:null,ContourLineLayer:FP,GeotiffLayer:QP,GlLayer:sb},Symbol.toStringTag,{value:"Module"}));var ab={},PP=NP,Xf,L4,$m,xa,Ts,F4=1e6,UP={Point:0,MultiPoint:1,LineString:2,MultiLineString:3,Polygon:4,MultiPolygon:5,GeometryCollection:6};function NP(i,t){Xf={},$m=[],L4=0,xa=0,Ts=1,e_(i),Ts=Math.min(Ts,F4);for(var e=Math.ceil(Math.log(Ts)/Math.LN10),n=0;n<$m.length;n++)t.writeStringField(1,$m[n]);return xa!==2&&t.writeVarintField(2,xa),e!==6&&t.writeVarintField(3,e),i.type==="FeatureCollection"?t.writeMessage(4,OP,i):i.type==="Feature"?t.writeMessage(5,N4,i):t.writeMessage(6,cb,i),Xf=null,t.finish()}function e_(i){var t,e;if(i.type==="FeatureCollection")for(t=0;t<i.features.length;t++)e_(i.features[t]);else if(i.type==="Feature"){i.geometry!==null&&e_(i.geometry);for(e in i.properties)U4(e)}else if(i.type==="Point")P4(i.coordinates);else if(i.type==="MultiPoint")ob(i.coordinates);else if(i.type==="GeometryCollection")for(t=0;t<i.geometries.length;t++)e_(i.geometries[t]);else if(i.type==="LineString")ob(i.coordinates);else if(i.type==="Polygon"||i.type==="MultiLineString")k4(i.coordinates);else if(i.type==="MultiPolygon")for(t=0;t<i.coordinates.length;t++)k4(i.coordinates[t]);for(e in i)z4(e,i.type)||U4(e)}function k4(i){for(var t=0;t<i.length;t++)ob(i[t])}function ob(i){for(var t=0;t<i.length;t++)P4(i[t])}function P4(i){xa=Math.max(xa,i.length);for(var t=0;t<i.length;t++)for(;Math.round(i[t]*Ts)/Ts!==i[t]&&Ts<F4;)Ts*=10}function U4(i){Xf[i]===void 0&&($m.push(i),Xf[i]=L4++)}function OP(i,t){for(var e=0;e<i.features.length;e++)t.writeMessage(1,N4,i.features[e]);t_(i,t,!0)}function N4(i,t){i.geometry!==null&&t.writeMessage(1,cb,i.geometry),i.id!==void 0&&(typeof i.id=="number"&&i.id%1===0?t.writeSVarintField(12,i.id):t.writeStringField(11,i.id)),i.properties&&t_(i.properties,t),t_(i,t,!0)}function cb(i,t){t.writeVarintField(1,UP[i.type]);var e=i.coordinates;if(i.type==="Point")zP(e,t);else if(i.type==="MultiPoint")O4(e,t);else if(i.type==="LineString")O4(e,t);else if(i.type==="MultiLineString")G4(e,t);else if(i.type==="Polygon")G4(e,t,!0);else if(i.type==="MultiPolygon")VP(e,t);else if(i.type==="GeometryCollection")for(var n=0;n<i.geometries.length;n++)t.writeMessage(4,cb,i.geometries[n]);t_(i,t,!0)}function t_(i,t,e){var n=[],r=0;for(var s in i)e&&z4(s,i.type)||(t.writeMessage(13,GP,i[s]),n.push(Xf[s]),n.push(r++));t.writePackedVarint(e?15:14,n)}function GP(i,t){if(i!==null){var e=typeof i;e==="string"?t.writeStringField(1,i):e==="boolean"?t.writeBooleanField(5,i):e==="object"?t.writeStringField(6,JSON.stringify(i)):e==="number"&&(i%1!==0?t.writeDoubleField(2,i):i>=0?t.writeVarintField(3,i):t.writeVarintField(4,-i))}}function zP(i,t){for(var e=[],n=0;n<xa;n++)e.push(Math.round(i[n]*Ts));t.writePackedSVarint(3,e)}function O4(i,t){var e=[];lb(e,i),t.writePackedSVarint(3,e)}function G4(i,t,e){var n=i.length,r;if(n!==1){var s=[];for(r=0;r<n;r++)s.push(i[r].length-(e?1:0));t.writePackedVarint(2,s)}var a=[];for(r=0;r<n;r++)lb(a,i[r],e);t.writePackedSVarint(3,a)}function VP(i,t){var e=i.length,n,r;if(e!==1||i[0].length!==1){var s=[e];for(n=0;n<e;n++)for(s.push(i[n].length),r=0;r<i[n].length;r++)s.push(i[n][r].length-1);t.writePackedVarint(2,s)}var a=[];for(n=0;n<e;n++)for(r=0;r<i[n].length;r++)lb(a,i[n][r],!0);t.writePackedSVarint(3,a)}function lb(i,t,e){var n,r,s=t.length-(e?1:0),a=new Array(xa);for(r=0;r<xa;r++)a[r]=0;for(n=0;n<s;n++)for(r=0;r<xa;r++){var o=Math.round(t[n][r]*Ts)-a[r];i.push(o),a[r]+=o}}function z4(i,t){if(i==="type")return!0;if(t==="FeatureCollection"){if(i==="features")return!0}else if(t==="Feature"){if(i==="id"||i==="properties"||i==="geometry")return!0}else if(t==="GeometryCollection"){if(i==="geometries")return!0}else if(i==="coordinates")return!0;return!1}var HP=YP,n_,Cl,Sr,i_,r_,qP=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];function YP(i){i_=2,r_=Math.pow(10,6),Sr=null,n_=[],Cl=[];var t=i.readFields(WP,{});return n_=null,t}function WP(i,t,e){i===1?n_.push(e.readString()):i===2?i_=e.readVarint():i===3?r_=Math.pow(10,e.readVarint()):i===4?XP(e,t):i===5?V4(e,t):i===6&&xb(e,t)}function XP(i,t){return t.type="FeatureCollection",t.features=[],i.readMessage(KP,t)}function V4(i,t){t.type="Feature";var e=i.readMessage(JP,t);return"geometry"in e||(e.geometry=null),e}function xb(i,t){return t.type="Point",i.readMessage(jP,t)}function KP(i,t,e){i===1?t.features.push(V4(e,{})):i===13?Cl.push(ub(e)):i===15&&s_(e,t)}function JP(i,t,e){i===1?t.geometry=xb(e,{}):i===11?t.id=e.readString():i===12?t.id=e.readSVarint():i===13?Cl.push(ub(e)):i===14?t.properties=s_(e,{}):i===15&&s_(e,t)}function jP(i,t,e){i===1?t.type=qP[e.readVarint()]:i===2?Sr=e.readPackedVarint():i===3?ZP(t,e,t.type):i===4?(t.geometries=t.geometries||[],t.geometries.push(xb(e,{}))):i===13?Cl.push(ub(e)):i===15&&s_(e,t)}function ZP(i,t,e){e==="Point"?i.coordinates=$P(t):e==="MultiPoint"||e==="LineString"?i.coordinates=H4(t):e==="MultiLineString"?i.coordinates=q4(t):e==="Polygon"?i.coordinates=q4(t,!0):e==="MultiPolygon"&&(i.coordinates=eU(t))}function ub(i){for(var t=i.readVarint()+i.pos,e=null;i.pos<t;){var n=i.readVarint(),r=n>>3;r===1?e=i.readString():r===2?e=i.readDouble():r===3?e=i.readVarint():r===4?e=-i.readVarint():r===5?e=i.readBoolean():r===6&&(e=JSON.parse(i.readString()))}return e}function s_(i,t){for(var e=i.readVarint()+i.pos;i.pos<e;)t[n_[i.readVarint()]]=Cl[i.readVarint()];return Cl=[],t}function $P(i){for(var t=i.readVarint()+i.pos,e=[];i.pos<t;)e.push(i.readSVarint()/r_);return e}function Kf(i,t,e,n){var r=0,s=[],a,o,l=[];for(o=0;o<i_;o++)l[o]=0;for(;e?r<e:i.pos<t;){for(a=[],o=0;o<i_;o++)l[o]+=i.readSVarint(),a[o]=l[o]/r_;s.push(a),r++}return n&&s.push(s[0]),s}function H4(i){return Kf(i,i.readVarint()+i.pos)}function q4(i,t){var e=i.readVarint()+i.pos;if(!Sr)return[Kf(i,e,null,t)];for(var n=[],r=0;r<Sr.length;r++)n.push(Kf(i,e,Sr[r],t));return Sr=null,n}function eU(i){var t=i.readVarint()+i.pos;if(!Sr)return[[Kf(i,t,null,!0)]];for(var e=[],n=1,r=0;r<Sr[0];r++){for(var s=[],a=0;a<Sr[n];a++)s.push(Kf(i,t,Sr[n+1+a],!0));n+=Sr[n]+1,e.push(s)}return Sr=null,e}ab.encode=PP,ab.decode=HP;class Y4{constructor(){Ze(this,"abortController");Ze(this,"load",async t=>{const e={data:null,error:null,loading:!0};this.abortController=new AbortController;try{const n=await fetch(t,{signal:this.abortController.singal}).then(r=>r.arrayBuffer()).then(r=>{const s=new JB(r);return ab.decode(s)});this.data=n,e.data=n}catch(n){n.name==="AbortError"&&(e.error=n)}finally{res(e)}})}calWorldIndex(t){const e=Math.floor((t[0]+180)/360),n=Math.floor((t[2]+180-1e-6)/360);return[e,n]}}let W4=class{constructor(){Ze(this,"abortController");Ze(this,"load",async t=>{const e={data:null,error:null,loading:!0};this.abortController=new AbortController,e.loading=!0;try{const n=await n3(t,{},this.abortController.singal),s=await(await n.getImage()).readRasters({pool:this.getWorkerPool()});this.bandsNumber=s.length,console.log("this.bandsnumber",this.bandsNumber);const a=await n.getImageCount(),o=[];for(let c=0;c<a;c++){const x=await n.getImage(c);o.push({image:x})}const l=o[0];o.forEach((c,x)=>{let u,f,h;try{u=c.image.getOrigin()}catch{u=null}try{f=c.image.getResolution()}catch{f=c.image.getResolution(l.image)}try{h=c.image.getBoundingBox()}catch{h=null}c.origin=u,c.resolution=f,c.bbox=h,c.metaData=c.image.getGDALMetadata()||l.image.getGDALMetadata()}),this.data=o,e.data=o}catch(n){n.name==="AbortError"&&(e.error=n)}return e});Ze(this,"matchImageByZoom",t=>{if(this.data){const e=.5**t;let n=0,r=1;for(let s=0;s<this.data.length;s++){const a=this.data[s],o=Math.abs(a.resolution[0]),l=Math.abs(e-o);l<=r&&(n=s,r=l)}return this.data[n]}return null});Ze(this,"getRasterByExtent",async(t,e,n)=>{this.abortController=new AbortController;const[r,s,a]=t.origin||this.data[0].origin,[o,l]=t.resolution||this.data[0].resolution,c=t.bbox||this.data[0].bbox,x=t.metaData||this.data[0].metaData,u=this._fixBbox(c,n),f=this.calBboxes(u,e,"x"),h=[];for(let A=0;A<f.length;A++){const p=[...f[A]],d=this._normBbox(f[A]),g=(d[0]-r)/o,m=(d[1]-s)/l,_=(d[2]-r)/o,I=(d[3]-s)/l,y=Math.floor(Math.min(g,_)),E=Math.floor(Math.min(m,I)),b=Math.ceil(Math.max(g,_)),w=Math.ceil(Math.max(m,I)),C=[y,E,b,w],v=await t.image.readRasters({fillValue:Number.parseFloat((x==null?void 0:x.nodata)||-9999),window:C,signal:this.abortController.signal});v.window=C,v.bbox=p,v.bandsNumber=this.bandsNumber,h.push(v)}return h})}getWorkerPool(){let t;return t||(t=new jv),t}calBboxes(t,e,n="xy"){const r=Math.floor((e[0]+180)/360),s=Math.floor((e[2]+180-1e-6)/360),a=Math.floor((e[1]+90)/180),o=Math.floor((e[3]+90-1e-6)/180),l=[];if(n.includes("xy"))for(let c=r;c<=s;c++){let x=360*c+t[0];c===r&&(x=Math.max(x,e[0]));let u=360*c+t[2];c===s&&(u=Math.min(u,e[2]));for(let f=a;f<=o;f++){let h=180*f+t[1];f===a&&(h=Math.max(h,e[1]));let A=180*f+t[3];f===o&&(A=Math.min(A,e[3])),l.push([x,h,u,A])}}else if(n.includes("x"))for(let c=r;c<=s;c++){let x=360*c+t[0];c===r&&(x=Math.max(x,e[0]));let u=360*c+t[2];c===s&&(u=Math.min(u,e[2]));const f=Math.max(-90,t[1],e[1]),h=Math.min(90,t[3],e[3]);l.push([x,f,u,h])}else{const c=Math.max(-180,t[0],e[0]),x=Math.min(180,t[2],e[2]);for(let u=a;u<=o;u++){let f=180*u+t[1];u===a&&(f=Math.max(f,e[1]));let h=180*u+t[3];u===o&&(h=Math.min(h,e[3])),l.push([c,f,x,h])}}return l}_fixBbox(t,e){const n=e.getView().getProjection().worldExtent_,r=Math.max(n[0],t[0]),s=Math.min(n[2],t[2]),a=Math.max(n[1],t[1]),o=Math.min(n[3],t[3]);return[r,a,s,o]}_normBbox(t){const e=Math.floor((t[0]+180)/360),n=Math.floor((t[1]+90)/180),r=t[0]-360*e,s=t[2]-360*e,a=t[1]-180*n,o=t[3]-180*n;return[r,a,s,o]}};const tU=Object.freeze(Object.defineProperty({__proto__:null,GeojsonLoader:Y4,GeotiffLoader:W4},Symbol.toStringTag,{value:"Module"})),{GeotiffLayer:nU}=kP,{GeotiffLoader:iU}=tU;class rU{constructor(t,e){Ze(this,"mapMoveEvent",()=>{this.initBool==!0&&this.resolutionTif!=null&&this.resolutionTif.getData().then(t=>{debugger;this.rasterDataColltion=t,this.getWebGLData();debugger;this.cogLayer,this.gridLayer!=null&&this.gridLayer.drawGridNumber(t),this.arrowLayer!=null&&this.arrowLayer.drawGridNumber(t)})});this.map=t,this.initBool=!1,this.option=e,this.resolutionTif=null,this.cogLayer=null,this.gridLayer=null,this.arrowLayer=null,this.cogLayerParams=null,this.gridLayerParams=null,this.arrowLayerParams=null,this.rasterDataColltion=null,this.cogtifLayerMetaData=null}getWebGLData(){const t=[];if(this.rasterDataColltion.length>=0){const e=this.rasterDataColltion[0].metaData,n=Number.parseFloat(e.scale),r=Number.parseFloat(e.offset),s=Number.parseFloat(e.nodata);return this.rasterDataColltion.forEach((a,o)=>{debugger;const l=a[0],c=a.bbox,x=a.width,u=a.height;let f=a.params.metadata,h=(f==null?void 0:f.bandsNumber)||1;if(h==1){if((f==null?void 0:f.unit)=="C"){let A=f.scale||1;for(let p=0;p<l.length;p++)l[p]=l[p]-273.15*A-r}}else if(h==2){let A=a[0],p=a[1];for(let d=0;d<A.length;d++)l[d]=Math.sqrt(A[d]*A[d]+p[d]*p[d])}t.push({rasterData:l,bbox:c,width:x,height:u,metaData:{scale:n,offset:r,nodata:s}})}),t}}getLayerByName(){var e,n,r;const t=this.map.getLayers().getArray();this.cogLayer=null,this.gridLayer=null,this.arrowLayer=null;for(const s of t)s.get("layerName")!=null&&(s.get("layerName")===((e=this.cogLayerParams)==null?void 0:e.layerName)&&(this.cogLayer=s),s.get("layerName")===((n=this.gridLayerParams)==null?void 0:n.layerName)&&(this.gridLayer=s),s.get("layerName")===((r=this.arrowLayerParams)==null?void 0:r.layerName)&&(this.arrowLayer=s))}_render(){return this.map.on("moveend",this.mapMoveEvent),this.resolutionTif=new yT(this.map,this.option),new Promise((t,e)=>{this.resolutionTif._render().then(n=>{this.initBool=!0,this.resolutionTif.getData().then(r=>(this.rasterDataColltion=r,this.getWebGLData(),this.cogLayer,this.gridLayer!=null&&this.gridLayer.drawGridNumber(r),this.arrowLayer!=null&&this.arrowLayer.drawGridNumber(r),t(!0)))})})}addTextLayer(t){return this.gridLayerParams=t,new Promise((e,n)=>{this.gridLayer=new l7(this.map,t),this.gridLayer._render().then(r=>(this.gridLayer.drawGridNumber(this.rasterDataColltion),e(this.gridLayer)))})}addArrowLayer(t){return this.arrowLayerParams=t,new Promise((e,n)=>(jT(),this.arrowLayer=new MP(this.map,t),this.arrowLayer._render().then(r=>{this.arrowLayer.drawGridNumber(this.rasterDataColltion)}),e(this.arrowLayer)))}async addCogeoLayer(t){var f;const e=this.processDataAndFindZeroOpacityIntervals(t.colors);for(let h=0;h<e.zeroOpacityIntervals.length;h++)e.zeroOpacityIntervals[h][0]==null&&(e.zeroOpacityIntervals[h][0]=-Number.POSITIVE_INFINITY),e.zeroOpacityIntervals[h][1]==null&&(e.zeroOpacityIntervals[h][1]=Number.POSITIVE_INFINITY);let n=0;if(t.interpolation){let h=t==null?void 0:t.interpolation;h=="nearest"?n=0:h=="linear"?n=1:h=="grid"&&(n=2)}let r=this.map;const s=this.option.url,a=new iU;await a.load(s);const o=Math.floor(this.map.getView().getZoom()),l=a.matchImageByZoom(o);this.cogtifLayerMetaData=l.metaData;const c=new nU({colorRamp:e.processedData,mode:n,invisible:e.zeroOpacityIntervals,nodata:Number.parseFloat(((f=this.cogtifLayerMetaData)==null?void 0:f.nodata)||-9999)});c.updateProps({map:this.map}),this.cogLayer=c;const x=await this.getData(c,r,a);c.updateProps({data:x});const u=async(h,A,p)=>{const d=await this.getData(h,A,p);h.updateProps({data:d})};return c.updateProps({onMoveEnd:{fn:u,args:[c,r,a]}}),c}async getData(t,e,n){const r=Math.floor(this.map.getView().getZoom()),s=n.matchImageByZoom(r),a=this.map.getView().calculateExtent(this.map.getSize()),o=e.getView().getProjection().getCode(),[l,c]=sr([a[0],a[1]],o,"EPSG:4326"),[x,u]=sr([a[2],a[3]],o,"EPSG:4326"),f=[l,c,x,u],h=await n.getRasterByExtent(s,f,this.map),A=s.metaData,p=Number.parseFloat((A==null?void 0:A.scale)||1),d=Number.parseFloat((A==null?void 0:A.offset)||0),g=Number.parseFloat((A==null?void 0:A.nodata)||-9999),m=[];return h.forEach((_,I)=>{var v,B;let y=_.bandsNumber,E=new Float32Array(_[0].length);if(y==1)if(((B=(v=this.option)==null?void 0:v.metadata)==null?void 0:B.unit)=="C")for(let S=0;S<E.length;S++)E[S]=_[0][S]-273.15*p-d;else E=_[0];else if(y==2){let S=_[0],T=_[1];for(let Q=0;Q<S.length;Q++)E[Q]=Math.sqrt(S[Q]*S[Q]+T[Q]*T[Q])}const b=_.bbox,w=_.width,C=_.height;m.push({rasterData:E,bbox:b,width:w,height:C,metaData:{scale:p,offset:d,nodata:g}})}),m}getColorRange(t,e){const n=t.sort((l,c)=>l[0]-c[0]);let r=(e==null?void 0:e.max)||(e==null?void 0:e.uvmax)||(e==null?void 0:e.umax);e!=null&&e.min||e!=null&&e.uvmin||(e==null||e.umin);const s=n.filter(l=>l[0]>=0&&l[0]<=35),a=n.filter(l=>l[0]<r).slice(-1)[0],o=n.filter(l=>l[0]>r).slice(0,1)[0];return s.length>0&&a&&(s[0][1]=[...s[0][1]],s[0][1][3]=a[1][3]),s.length>0&&o&&(s[s.length-1][1]=[...s[s.length-1][1]],s[s.length-1][1][3]=o[1][3]),s}processDataAndFindZeroOpacityIntervals(t){const e=t.sort((a,o)=>a[0]-o[0]),n=e.map(a=>{const o=a[0],l=a[1];return l.length===4&&l[3],[o,l.slice(0,3)]}),r=[];e[0][1][3]===0&&r.push([null,e[0][0]]),e[e.length-1][1][3]===0&&r.push([e[e.length-1][0],null]);let s=null;for(let a=0;a<e.length;a++){const o=e[a][0],l=e[a][1][3],c=a>0?e[a-1][1][3]:null;l===0&&c===0&&s!==null&&r.push([s,o]),s=l===0?o:null}return r.sort((a,o)=>a[0]-o[0]),{processedData:n,zeroOpacityIntervals:r}}clear(){this.map.on("moveend",this.mapMoveEvent),this.resolutionTif=null,this.cogLayer=null,this.gridLayer=null,this.arrowLayer=null,this.rasterDataColltion=null}}const X4={};class sU extends i1{constructor(e={}){super({...X4,...e});Ze(this,"type","custom");Ze(this,"onMount",e=>{});Ze(this,"onBeforeUpdate",e=>{});Ze(this,"onUpdate",e=>{});Ze(this,"reDraw",()=>{this._needRedraw=!0,this.source.changed()});Ze(this,"setNeedRedraw",()=>{this._needRedraw=!0});Ze(this,"lnglatToScreen",(e,n,r,s)=>{const a=n.getView().getProjection().getCode();e=sr(e,"EPSG:4326",a);const o=n.getSize();let l=n.getView().calculateExtent(o);const c=n.getPixelFromCoordinate([r[0],r[3]]),x=n.getPixelFromCoordinate([l[0],l[3]]),u=[x[0]-c[0],x[1]-c[1]],f=n.getPixelFromCoordinate(e),h=(f[0]+u[0])*s,A=(f[1]+u[1])*s;return[h,A]});Ze(this,"extentTolnglat",(e,n)=>{const r=n.getView().getProjection().getCode(),[s,a]=sr([e[0],e[1]],r,"EPSG:4326"),[o,l]=sr([e[2],e[3]],r,"EPSG:4326");return[s,a,o,l]});this.props={...X4,...e},this.canvas=null,this.gl=null,this._needRedraw=!1,this._isMounted=!1,this._init()}_init(){this.canvas||(this.canvas=document.createElement("canvas"));const{projection:e}=this.props;this.source=new j3({canvasFunction:(n,r,s,a,o)=>(this.canvas&&(this.canvas.width=a[0],this.canvas.height=a[1],this._isMounted||(this.onMount({canvas:this.canvas}),this._isMounted=!0),this.gl&&(this.onBeforeUpdate.call(this,{gl:this.gl,canvas:this.canvas,extent:n,resolution:r,pixelRatio:s,size:a,projection:o}),this._needRedraw&&this.onUpdate.call(this,{gl:this.gl,canvas:this.canvas,extent:n,resolution:r,pixelRatio:s,size:a,projection:o}))),this._needRedraw=!1,this.canvas),projection:e}),this.setSource(this.source)}}const aU={projection:"EPSG:4326"};class K4 extends sU{constructor(e={}){super({...aU,...e});Ze(this,"onMount",({canvas:e})=>{this.gl||(this.gl=e.getContext("webgl2"))})}}function a_(i,t,e){const n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),i.getShaderParameter(n,i.COMPILE_STATUS)?n:(console.error(": ",i.getShaderInfoLog(n)),i.deleteShader(n),null)}function fb(i,t,e){const n=a_(i,i.VERTEX_SHADER,t),r=a_(i,i.FRAGMENT_SHADER,e),s=i.createProgram();return i.attachShader(s,n),i.attachShader(s,r),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)?s:(console.error(": ",i.getProgramInfoLog(s)),i.deleteProgram(s),null)}function oU(i,t,e,n=[]){const r=a_(i,i.VERTEX_SHADER,t),s=a_(i,i.FRAGMENT_SHADER,e),a=i.createProgram();return i.attachShader(a,r),i.attachShader(a,s),i.transformFeedbackVaryings(a,n,i.SEPARATE_ATTRIBS),i.linkProgram(a),i.getProgramParameter(a,i.LINK_STATUS)?a:(console.error(": ",i.getProgramInfoLog(a)),i.deleteProgram(a),null)}function o_(i){return(i&i-1)===0}function Jf({gl:i,texture:t,level:e,border:n,offset:r,data:s,target:a,width:o,height:l,type:c,internalformat:x,format:u}){if(!i.getExtension("OES_texture_float_linear"))return alert("can not filter floating point textures"),null;i.bindTexture(a,t),i.texImage2D(a,e,x,o,l,n,u,c,s,r),o_(o)&&o_(l)?i.generateMipmap(a):(i.texParameteri(a,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(a,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(a,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(a,i.TEXTURE_MAG_FILTER,i.NEAREST))}function J4({gl:i,level:t,border:e,offset:n,target:r,width:s,height:a,type:o,internalformat:l,format:c}){if(!i.getExtension("OES_texture_float_linear"))return alert("can not filter floating point textures"),null;const u=i.createTexture();return i.bindTexture(i.TEXTURE_2D,u),i.texImage2D(r,t,l,s,a,e,c,o,null),o_(s)&&o_(a)?i.generateMipmap(r):(i.texParameteri(r,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(r,i.TEXTURE_MAG_FILTER,i.NEAREST)),u}function jf(i,t){return i instanceof Int32Array?{type:t.INT,format:t.RED_INTEGER,internalformat:t.R32I}:i instanceof Float32Array?{type:t.FLOAT,format:t.RED,internalformat:t.R32F}:{type:t.UNSIGNED_BYTE,format:t.RGBA,internalformat:t.RGBA}}const cU=`#version 300 es\r
=======
${JSON.stringify(t,null,2)}
        `)}const r=_4[`filter_${e}`],s=FC(n,r);let a=null;if(s.result==="error")throw new Error(s.value.map(x=>`${x.key}: ${x.message}`).join(", "));a=(x,u,h)=>s.value.evaluate(x,u,{},h);let o=null,l=null;if(n!==t){const x=FC(t,r);if(x.result==="error")throw new Error(x.value.map(u=>`${u.key}: ${u.message}`).join(", "));o=(u,h,f,A,g)=>x.value.evaluate(u,h,{},f,void 0,void 0,A,g),l=!d2(x.value.expression)}a=a;const c=C4(n);return{filter:a,dynamicFilter:o||void 0,needGeometry:c,needFeature:!!l}}function JU(i){if(!Nl(i))return i;let e=LC(i);return y4(e),e=E4(e),e}function E4(i){if(!Array.isArray(i))return i;const e=eN(i);return e===!0?e:e.map(t=>E4(t))}function y4(i){let e=!1;const t=[];if(i[0]==="case"){for(let n=1;n<i.length-1;n+=2)e=e||Nl(i[n]),t.push(i[n+1]);t.push(i[i.length-1])}else if(i[0]==="match"){e=e||Nl(i[1]);for(let n=2;n<i.length-1;n+=2)t.push(i[n+1]);t.push(i[i.length-1])}else if(i[0]==="step"){e=e||Nl(i[1]);for(let n=1;n<i.length-1;n+=2)t.push(i[n+1])}e&&(i.length=0,i.push("any",...t));for(let n=1;n<i.length;n++)y4(i[n])}function Nl(i){if(!Array.isArray(i))return!1;if(ZU(i[0]))return!0;for(let e=1;e<i.length;e++){const t=i[e];if(Nl(t))return!0}return!1}function ZU(i){return i==="pitch"||i==="distance-from-center"}const $U=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function eN(i){if($U.has(i[0]))for(let e=1;e<i.length;e++){const t=i[e];if(Nl(t))return!0}return i}function tN(i,e){return i<e?-1:i>e?1:0}function C4(i){if(!Array.isArray(i))return!1;if(i[0]==="within")return!0;for(let e=1;e<i.length;e++)if(C4(i[e]))return!0;return!1}function C2(i){if(!i)return!0;const e=i[0];return i.length<=1?e!=="any":e==="=="?PC(i[1],i[2],"=="):e==="!="?b2(PC(i[1],i[2],"==")):e==="<"||e===">"||e==="<="||e===">="?PC(i[1],i[2],e):e==="any"?nN(i.slice(1)):e==="all"?["all"].concat(i.slice(1).map(C2)):e==="none"?["all"].concat(i.slice(1).map(C2).map(b2)):e==="in"?b4(i[1],i.slice(2)):e==="!in"?b2(b4(i[1],i.slice(2))):e==="has"?v4(i[1]):e==="!has"?b2(v4(i[1])):e==="within"?i:!0}function PC(i,e,t){switch(i){case"$type":return[`filter-type-${t}`,e];case"$id":return[`filter-id-${t}`,e];default:return[`filter-${t}`,i,e]}}function nN(i){return["any"].concat(i.map(C2))}function b4(i,e){if(e.length===0)return!1;switch(i){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",i,["literal",e.sort(tN)]]:["filter-in-small",i,["literal",e]]}}function v4(i){switch(i){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",i]}}function b2(i){return["!",i]}var iN=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function rN(i,e){const t={};for(const n in i)n!=="ref"&&(t[n]=i[n]);return iN.forEach(n=>{n in e&&(t[n]=e[n])}),t}function w4(i){i=i.slice();const e=Object.create(null);for(let t=0;t<i.length;t++)e[i[t].id]=i[t];for(let t=0;t<i.length;t++)"ref"in i[t]&&(i[t]=rN(i[t],e[i[t].ref]));return i}var B4={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},gf=" ",S4=/(italic|oblique)$/i,M4={},sN=function(i,e,t){var n=M4[i];if(!n){Array.isArray(i)||(i=[i]);for(var r=400,s="normal",a=[],o,l,c=0,x=i.length;c<x;++c){var u=i[c],h=u.split(" "),f=h[h.length-1].toLowerCase();f=="normal"||f=="italic"||f=="oblique"?(s=l?s:f,l=!0,h.pop(),f=h[h.length-1].toLowerCase()):S4.test(f)&&(f=f.replace(S4,""),s=l?s:h[h.length-1].replace(f,""),l=!0);for(var A in B4){var g=h.length>1?h[h.length-2].toLowerCase():"";if(f==A||f==A.replace("-","")||g+"-"+f==A){r=o?r:B4[A],h.pop(),g&&A.startsWith(g)&&h.pop();break}}!o&&typeof f=="number"&&(r=f,o=!0);var d=h.join(gf).replace("Klokantech Noto Sans","Noto Sans");d.indexOf(gf)!==-1&&(d='"'+d+'"'),a.push(d)}n=M4[i]=[s,r,a]}return n[0]+gf+n[1]+gf+e+"px"+(t?"/"+t:"")+gf+n[2]},kC=US(sN);const R4="https://api.mapbox.com";function UC(i){const e="mapbox://";return i.indexOf(e)!==0?"":i.slice(e.length)}function aN(i,e,t){const n=UC(i);if(!n)return decodeURI(new URL(i,t).href);const r="sprites/";if(n.indexOf(r)!==0)throw new Error(`unexpected sprites url: ${i}`);const s=n.slice(r.length);return`${R4}/styles/v1/${s}/sprite?access_token=${e}`}function v2(i,e){const t=UC(i);if(!t)return decodeURI(new URL(i,location.href).href);const n="styles/";if(t.indexOf(n)!==0)throw new Error(`unexpected style url: ${i}`);const r=t.slice(n.length);return`${R4}/styles/v1/${r}?&access_token=${e}`}function w2(i,e,t,n){const r=new URL(i,n),s=UC(i);if(!s)return e&&(r.searchParams.has(t)||r.searchParams.set(t,e)),decodeURI(r.href);if(s==="mapbox.satellite"){const a=window.devicePixelRatio>=1.5?"@2x":"";return`https://api.mapbox.com/v4/${s}/{z}/{x}/{y}${a}.webp?access_token=${e}`}return`https://{a-d}.tiles.mapbox.com/v4/${s}/{z}/{x}/{y}.vector.pbf?access_token=${e}`}const B2={},T4={};let oN=0;function NC(i){return i.id||(i.id=oN++),i.id}function S2(i,e){return NC(i)+"."+et(e)}function OC(i){let e=B2[i.id];return e||(e={},B2[NC(i)]=e),e}function cN(){for(const i in B2)delete B2[i]}function D4(i){let e=T4[i.id];return e||(e={},T4[NC(i)]=e),e}function GC(i){return i*Math.PI/180}const rs=function(){const i=[];for(let e=78271.51696402048;i.length<=24;e/=2)i.push(e);return i}();function M2(i,e){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(i,e);const t=document.createElement("canvas");return t.width=i,t.height=e,t}function zC(i,e){let t=0;const n=e.length;for(;t<n;++t)if(e[t]<i&&t+1<n){const s=e[t]/e[t+1];return t+Math.log(e[t]/i)/Math.log(s)}return n-1}function R2(i,e){const t=Math.floor(i),n=Math.pow(2,i-t);return e[t]/n}const Ol={};function Gl(i,e,t={},n){if(e in Ol)return n&&(n.request=Ol[e][0]),Ol[e][1];const r=t.transformRequest&&t.transformRequest(e,i)||e,s=Cc(()=>r).then(a=>(a instanceof Request||(a=new Request(a)),a.headers.get("Accept")||a.headers.set("Accept","application/json"),n&&(n.request=a),fetch(a).then(function(o){return delete Ol[e],o.ok?o.json():Promise.reject(new Error("Error fetching source "+e))}).catch(function(o){return delete Ol[e],Promise.reject(new Error("Error fetching source "+e))})));return Ol[e]=[r,s],s}function VC(i,e){if(typeof i=="string")if(i.trim().startsWith("{"))try{const t=JSON.parse(i);return Promise.resolve(t)}catch(t){return Promise.reject(t)}else return i=v2(i,e.accessToken),Gl("Style",i,e);else return Promise.resolve(i)}const Q4={};function F4(i,e,t={}){const n=[e,JSON.stringify(i)].toString();let r=Q4[n];if(!r||t.transformRequest){let s;t.transformRequest&&(s=(o,l)=>{const c=t.transformRequest&&t.transformRequest(l,"Tiles")||l;if(o instanceof J5)o.setLoader((x,u,h)=>{Cc(()=>c).then(f=>{fetch(f).then(A=>A.arrayBuffer()).then(A=>{const d=o.getFormat().readFeatures(A,{extent:x,featureProjection:h});o.setFeatures(d)}).catch(A=>o.setState(de.ERROR))})});else{const x=o.getImage();Cc(()=>c).then(u=>{u instanceof Request?fetch(u).then(h=>h.blob()).then(h=>{const f=URL.createObjectURL(h);x.addEventListener("load",()=>URL.revokeObjectURL(f)),x.addEventListener("error",()=>URL.revokeObjectURL(f)),x.src=f}).catch(h=>o.setState(de.ERROR)):x.src=u})}});const a=i.url;if(a&&!i.tiles){const o=w2(a,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(a.startsWith("mapbox://"))r=Promise.resolve({tileJson:Object.assign({},i,{url:void 0,tiles:V5(o)}),tileLoadFunction:s});else{const l={};r=Gl("Source",o,t,l).then(function(c){return c.tiles=c.tiles.map(function(x){return c.scheme==="tms"&&(x=x.replace("{y}","{-y}")),w2(x,t.accessToken,t.accessTokenParam||"access_token",l.request.url)}),Promise.resolve({tileJson:c,tileLoadFunction:s})})}}else i=Object.assign({},i,{tiles:i.tiles.map(function(o){return i.scheme==="tms"&&(o=o.replace("{y}","{-y}")),w2(o,t.accessToken,t.accessTokenParam||"access_token",e||location.href)})}),r=Promise.resolve({tileJson:Object.assign({},i),tileLoadFunction:s});Q4[n]=r}return r}function L4(i,e,t,n){const r=[2*t*e.pixelRatio+e.width,2*t*e.pixelRatio+e.height],s=M2(r[0],r[1]),a=s.getContext("2d");a.drawImage(i,e.x,e.y,e.width,e.height,t*e.pixelRatio,t*e.pixelRatio,e.width,e.height);const o=a.getImageData(0,0,r[0],r[1]);a.globalCompositeOperation="destination-over",a.fillStyle=`rgba(${n.r*255},${n.g*255},${n.b*255},${n.a})`;const l=o.data;for(let c=0,x=o.width;c<x;++c)for(let u=0,h=o.height;u<h;++u){const f=(u*x+c)*4;l[f+3]>0&&a.arc(c,u,t*e.pixelRatio,0,2*Math.PI)}return a.fill(),s}function lN(i,e,t){const n=Math.max(0,Math.min(1,(t-i)/(e-i)));return n*n*(3-2*n)}function P4(i,e,t){const n=M2(e.width,e.height),r=n.getContext("2d");r.drawImage(i,e.x,e.y,e.width,e.height,0,0,e.width,e.height);const s=r.getImageData(0,0,e.width,e.height),a=s.data;for(let o=0,l=s.width;o<l;++o)for(let c=0,x=s.height;c<x;++c){const u=(c*l+o)*4,h=a[u+3]/255,f=.75,A=.1,g=lN(f-A,f+A,h);g>0?(a[u+0]=Math.round(255*t.r*g),a[u+1]=Math.round(255*t.g*g),a[u+2]=Math.round(255*t.b*g),a[u+3]=Math.round(255*g)):a[u+3]=0}return r.putImageData(s,0,0),n}const xN=Array(256).join("");function HC(i,e){if(e>=.05){let t="";const n=i.split(`
`),r=xN.slice(0,Math.round(e/.1));for(let s=0,a=n.length;s<a;++s)s>0&&(t+=`
`),t+=n[s].split("").join(r);return t}return i}let qC;function k4(){return qC||(qC=M2(1,1).getContext("2d")),qC}function k0(i,e){return k4().measureText(i).width+(i.length-1)*e}const U4={};function YC(i,e,t,n){if(i.indexOf(`
`)!==-1){const a=i.split(`
`),o=[];for(let l=0,c=a.length;l<c;++l)o.push(YC(a[l],e,t,n));return o.join(`
`)}const r=t+","+e+","+i+","+n;let s=U4[r];if(!s){const a=i.split(" ");if(a.length>1){const o=k4();o.font=e;const c=o.measureText("M").width*t;let x="";const u=[];for(let h=0,f=a.length;h<f;++h){const A=a[h],g=x+(x?" ":"")+A;k0(g,n)<=c?x=g:(x&&u.push(x),x=A)}x&&u.push(x);for(let h=0,f=u.length;h<f&&f>1;++h){const A=u[h];if(k0(A,n)<c*.35){const g=h>0?k0(u[h-1],n):1/0,d=h<f-1?k0(u[h+1],n):1/0;u.splice(h,1),f-=1,g<d?(u[h-1]+=" "+A,h-=1):u[h]=A+" "+u[h]}}for(let h=0,f=u.length-1;h<f;++h){const A=u[h],g=u[h+1];if(k0(A,n)>c*.7&&k0(g,n)<c*.6){const d=A.split(" "),p=d.pop();k0(p,n)<c*.2&&(u[h]=d.join(" "),u[h+1]=p+" "+g),f-=1}}s=u.join(`
`)}else s=i;s=HC(s,n),U4[r]=s}return s}const uN=/font-family: ?([^;]*);/,hN=/("|')/g;let T2;function fN(i){if(!T2){T2={};const e=document.styleSheets;for(let t=0,n=e.length;t<n;++t){const r=e[t];try{const s=r.rules||r.cssRules;if(s)for(let a=0,o=s.length;a<o;++a){const l=s[a];if(l.type==5){const c=l.cssText.match(uN);T2[c[1].replace(hN,"")]=!0}}}catch{}}}return i in T2}const XC={};function AN(i,e="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){const t=i.toString();if(t in XC)return XC[t];const n=[];for(let r=0,s=i.length;r<s;++r){i[r]=i[r].replace("Arial Unicode MS","Arial");const a=i[r],o=kC(a,1);hB(o);const l=o.split(" ");n.push([l.slice(3).join(" ").replace(/"/g,""),l[1],l[0]])}for(let r=0,s=n.length;r<s;++r){const a=n[r],o=a[0];if(!fN(o)&&vs.get(`${a[2]}
${a[1]} 
${o}`)!==100){const l=e.replace("{font-family}",o.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",o.replace(/ /g,"+")).replace("{fontweight}",a[1]).replace("{-fontstyle}",a[2].replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",a[2]);if(!document.querySelector('link[href="'+l+'"]')){const c=document.createElement("link");c.href=l,c.rel="stylesheet",document.head.appendChild(c)}}}return XC[t]=i,i}const dN={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},pN={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},gN=function(i,e){const t=YU(i,e);if(t.result==="error")throw new Error(t.value.map(n=>`${n.key}: ${n.message}`).join(", "));return t.value},WC={},D2={zoom:0};let Q2,jC;function Oe(i,e,t,n,r,s,a){const o=i.id;s||(s={},console.warn("No functionCache provided to getValue()")),s[o]||(s[o]={});const l=s[o];if(!l[t]){let c=(i[e]||WC)[t];const x=_4[`${e}_${i.type}`][t];c===void 0&&(c=x.default);let u=qU(c);if(!u&&p4(c)&&(c=Mk(c,x),u=!0),u){const h=gN(c,x);l[t]=h.evaluate.bind(h)}else x.type=="color"&&(c=dr.parse(c)),l[t]=function(){return c}}return D2.zoom=n,l[t](D2,r,a)}function N4(i,e,t,n,r){return Oe(i,"layout",`${n}-allow-overlap`,e,t,r)?Oe(i,"layout",`${n}-ignore-placement`,e,t,r)?"none":"obstacle":"declutter"}function mN(i,e,t,n,r){return r||console.warn("No filterCache provided to evaluateFilter()"),i in r||(r[i]=KU(e).filter),D2.zoom=n,r[i](D2,t)}let KC=!1;function _N(i){i!==KC&&(cN(),KC=i)}function Mo(i,e){if(i){if(!KC&&(i.a===0||e===0))return;const t=i.a;return e=e===void 0?1:e,t===0?"transparent":"rgba("+Math.round(i.r*255/t)+","+Math.round(i.g*255/t)+","+Math.round(i.b*255/t)+","+t*e+")"}return i}const IN=/\{[^{}}]*\}/g;function JC(i,e){return i.replace(IN,function(t){return e[t.slice(1,-1)]||""})}let O4=!1;function EN(i=!1){O4=i}const F2={};function mf(i,e,t,n=rs,r=void 0,s=void 0,a=void 0,o=void 0){if(typeof e=="string"&&(e=JSON.parse(e)),e.version!=8)throw new Error("glStyle version 8 required.");F2[S2(e,i)]=Array.from(arguments);let l,c,x;if(s){if(typeof Image<"u"){const C=new Image;let w;Cc(()=>s).then(b=>{b instanceof Request?fetch(b).then(v=>v.blob()).then(v=>{w=URL.createObjectURL(v),C.src=w}).catch(()=>{}):(C.crossOrigin="anonymous",C.src=b,w&&URL.revokeObjectURL(w))}),C.onload=function(){l=C,c=[C.width,C.height],i.changed(),C.onload=null}}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){const C=self;C.postMessage({action:"loadImage",src:s}),C.addEventListener("message",function(b){b.data.action==="imageLoaded"&&b.data.src===s&&(l=b.data.image,c=[l.width,l.height])})}}const u=w4(e.layers),h={},f=[],A={},g={},d=OC(e),p=D4(e);let m;for(let C=0,w=u.length;C<w;++C){const b=u[C],v=b.id;if(typeof t=="string"&&b.source==t||Array.isArray(t)&&t.indexOf(v)!==-1){const B=b["source-layer"];if(m){if(b.source!==m)throw new Error(`Layer "${v}" does not use source "${m}`)}else{m=b.source;const T=e.sources[m];if(!T)throw new Error(`Source "${m}" is not defined`);const F=T.type;if(F!=="vector"&&F!=="geojson")throw new Error(`Source "${m}" is not of type "vector" or "geojson", but "${F}"`)}let R=h[B];R||(R=[],h[B]=R),R.push({layer:b,index:C}),f.push(v)}}const I=new Ri,_=new zi,y=[],E=function(C,w,b){const v=C.getProperties(),B=h[v.layer];if(!B)return;let R=n.indexOf(w);R==-1&&(R=zC(w,n));const T=dN[C.getGeometry().getType()],F={id:C.getId(),properties:v,type:T},M=i.get("mapbox-featurestate")[C.getId()];let D=-1,P;for(let k=0,V=B.length;k<V;++k){const Y=B[k],U=Y.layer,ne=U.id;if(b!==void 0&&b!==ne)continue;const xe=U.layout||WC,G=U.paint||WC;if(xe.visibility==="none"||"minzoom"in U&&R<U.minzoom||"maxzoom"in U&&R>=U.maxzoom)continue;const O=U.filter;if(!O||mN(ne,O,F,R,p)){P=U;let ee,K,ce,Ae,ge,oe;const Se=Y.index;if(T==3&&(U.type=="fill"||U.type=="fill-extrusion"))if(K=Oe(U,"paint",U.type+"-opacity",R,F,d,M),U.type+"-pattern"in G){const te=Oe(U,"paint",U.type+"-pattern",R,F,d,M);if(te){const j=typeof te=="string"?JC(te,v):te.toString();if(l&&r&&r[j]){++D,oe=y[D],(!oe||!oe.getFill()||oe.getStroke()||oe.getText())&&(oe=new Ct({fill:new zi}),y[D]=oe),ce=oe.getFill(),oe.setZIndex(Se);const Ie=j+"."+K;let fe=g[Ie];if(!fe){const ue=r[j],Te=M2(ue.width,ue.height),le=Te.getContext("2d");le.globalAlpha=K,le.drawImage(l,ue.x,ue.y,ue.width,ue.height,0,0,ue.width,ue.height),fe=le.createPattern(Te,"repeat"),g[Ie]=fe}ce.setColor(fe)}}}else ee=Mo(Oe(U,"paint",U.type+"-color",R,F,d,M),K),U.type+"-outline-color"in G&&(ge=Mo(Oe(U,"paint",U.type+"-outline-color",R,F,d,M),K)),ge||(ge=ee),(ee||ge)&&(++D,oe=y[D],(!oe||ee&&!oe.getFill()||!ee&&oe.getFill()||ge&&!oe.getStroke()||!ge&&oe.getStroke()||oe.getText())&&(oe=new Ct({fill:ee?new zi:void 0,stroke:ge?new Ri:void 0}),y[D]=oe),ee&&(ce=oe.getFill(),ce.setColor(ee)),ge&&(Ae=oe.getStroke(),Ae.setColor(ge),Ae.setWidth(.5)),oe.setZIndex(Se));if(T!=1&&U.type=="line"){"line-pattern"in G?ee=void 0:ee=Mo(Oe(U,"paint","line-color",R,F,d,M),Oe(U,"paint","line-opacity",R,F,d,M));const te=Oe(U,"paint","line-width",R,F,d,M);ee&&te>0&&(++D,oe=y[D],(!oe||!oe.getStroke()||oe.getFill()||oe.getText())&&(oe=new Ct({stroke:new Ri}),y[D]=oe),Ae=oe.getStroke(),Ae.setLineCap(Oe(U,"layout","line-cap",R,F,d,M)),Ae.setLineJoin(Oe(U,"layout","line-join",R,F,d,M)),Ae.setMiterLimit(Oe(U,"layout","line-miter-limit",R,F,d,M)),Ae.setColor(ee),Ae.setWidth(te),Ae.setLineDash(G["line-dasharray"]?Oe(U,"paint","line-dasharray",R,F,d,M).map(function(j){return j*te}):null),oe.setZIndex(Se))}let At=!1,N=null,Nt=0,ze,Ge,Be;if((T==1||T==2)&&"icon-image"in xe){const te=Oe(U,"layout","icon-image",R,F,d,M);if(te){ze=typeof te=="string"?JC(te,v):te.toString();let j;const Ie=o?o(i,ze):void 0;if(l&&r&&r[ze]||Ie){const fe=Oe(U,"layout","icon-rotation-alignment",R,F,d,M);if(T==2){const ue=C.getGeometry();if(ue.getFlatMidpoint||ue.getFlatMidpoints){const Te=ue.getExtent();if(Math.sqrt(Math.max(Math.pow((Te[2]-Te[0])/w,2),Math.pow((Te[3]-Te[1])/w,2)))>150){const me=ue.getType()==="MultiLineString"?ue.getFlatMidpoints():ue.getFlatMidpoint();if(jC||(Q2=[NaN,NaN],jC=new Ei("Point",Q2,[],2,{},void 0)),j=jC,Q2[0]=me[0],Q2[1]=me[1],Oe(U,"layout","symbol-placement",R,F,d,M)==="line"&&fe==="map"){const Ue=ue.getStride(),ye=ue.getFlatCoordinates();for(let Xe=0,Qe=ye.length-Ue;Xe<Qe;Xe+=Ue){const rt=ye[Xe],z=ye[Xe+1],_e=ye[Xe+Ue],J=ye[Xe+Ue+1],re=Math.min(rt,_e),we=Math.min(z,J),ve=Math.max(rt,_e),Ke=Math.max(z,J);if(me[0]>=re&&me[0]<=ve&&me[1]>=we&&me[1]<=Ke){Nt=Math.atan2(z-J,_e-rt);break}}}}}}if(T!==2||j){const ue=Oe(U,"layout","icon-size",R,F,d,M),Te=G["icon-color"]!==void 0?Oe(U,"paint","icon-color",R,F,d,M):null;if(!Te||Te.a!==0){const le=Oe(U,"paint","icon-halo-color",R,F,d,M),me=Oe(U,"paint","icon-halo-width",R,F,d,M);let Fe=`${ze}.${ue}.${me}.${le}`;if(Te!==null&&(Fe+=`.${Te}`),Ge=A[Fe],!Ge){const Ue=N4(U,R,F,"icon",d);let ye;"icon-offset"in xe&&(ye=Oe(U,"layout","icon-offset",R,F,d,M).slice(0),ye[0]*=ue,ye[1]*=-ue);let Xe=Te?[Te.r*255,Te.g*255,Te.b*255,Te.a]:void 0;if(Ie){const Qe={color:Xe,rotateWithView:fe==="map",displacement:ye,declutterMode:Ue,scale:ue};typeof Ie=="string"?Qe.src=Ie:(Qe.img=Ie,Qe.imgSize=[Ie.width,Ie.height]),Ge=new I0(Qe)}else{const Qe=r[ze];let rt,z,_e;me?Qe.sdf?(rt=L4(P4(l,Qe,Te||[0,0,0,1]),{x:0,y:0,width:Qe.width,height:Qe.height,pixelRatio:Qe.pixelRatio},me,le),Xe=void 0):rt=L4(l,Qe,me,le):(Qe.sdf?(x||(x=P4(l,{x:0,y:0,width:c[0],height:c[1]},{r:1,g:1,b:1,a:1})),rt=x):rt=l,z=[Qe.width,Qe.height],_e=[Qe.x,Qe.y]),Ge=new I0({color:Xe,img:rt,imgSize:c,size:z,offset:_e,rotateWithView:fe==="map",scale:ue/Qe.pixelRatio,displacement:ye,declutterMode:Ue})}A[Fe]=Ge}}Ge&&(++D,oe=y[D],(!oe||!oe.getImage()||oe.getFill()||oe.getStroke())&&(oe=new Ct,y[D]=oe),oe.setGeometry(j),Ge.setRotation(Nt+GC(Oe(U,"layout","icon-rotate",R,F,d,M))),Ge.setOpacity(Oe(U,"paint","icon-opacity",R,F,d,M)),Ge.setAnchor(pN[Oe(U,"layout","icon-anchor",R,F,d,M)]),oe.setImage(Ge),N=oe.getText(),oe.setText(void 0),oe.setZIndex(Se),At=!0,Be=!1)}else Be=!0}}}if(T==1&&U.type==="circle"){++D,oe=y[D],(!oe||!oe.getImage()||oe.getFill()||oe.getStroke())&&(oe=new Ct,y[D]=oe);const te="circle-radius"in G?Oe(U,"paint","circle-radius",R,F,d,M):5,j=Mo(Oe(U,"paint","circle-stroke-color",R,F,d,M),Oe(U,"paint","circle-stroke-opacity",R,F,d,M)),Ie=Oe(U,"paint","circle-translate",R,F,d,M),fe=Mo(Oe(U,"paint","circle-color",R,F,d,M),Oe(U,"paint","circle-opacity",R,F,d,M)),ue=Oe(U,"paint","circle-stroke-width",R,F,d,M),Te=te+"."+j+"."+fe+"."+ue+"."+Ie[0]+"."+Ie[1];Ge=A[Te],Ge||(Ge=new Vc({radius:te,displacement:[Ie[0],-Ie[1]],stroke:j&&ue>0?new Ri({width:ue,color:j}):void 0,fill:fe?new zi({color:fe}):void 0,declutterMode:"none"}),A[Te]=Ge),oe.setImage(Ge),N=oe.getText(),oe.setText(void 0),oe.setGeometry(void 0),oe.setZIndex(Se),At=!0}let ke,Re,L,S,X,se;if("text-field"in xe){S=Math.round(Oe(U,"layout","text-size",R,F,d,M));const te=Oe(U,"layout","text-font",R,F,d,M);L=Oe(U,"layout","text-line-height",R,F,d,M),Re=kC(a?a(te,e.metadata?e.metadata["ol:webfonts"]:void 0):te,S,L),Re.includes("sans-serif")||(Re+=",sans-serif"),X=Oe(U,"layout","text-letter-spacing",R,F,d,M),se=Oe(U,"layout","text-max-width",R,F,d,M);const j=Oe(U,"layout","text-field",R,F,d,M);typeof j=="object"&&j.sections?j.sections.length===1?ke=j.toString():ke=j.sections.reduce((Ie,fe,ue)=>{const Te=fe.fontStack?fe.fontStack.split(","):te,le=kC(a?a(Te):Te,S*(fe.scale||1),L);let me=fe.text;if(me===`
`)return Ie.push(`
`,""),Ie;if(T==2){Ie.push(HC(me,X),le);return}me=YC(me,le,se,X).split(`
`);for(let Fe=0,Ue=me.length;Fe<Ue;++Fe)Fe>0&&Ie.push(`
`,""),Ie.push(me[Fe],le);return Ie},[]):ke=JC(j,v).trim(),K=Oe(U,"paint","text-opacity",R,F,d,M)}if(ke&&K&&!Be){At||(++D,oe=y[D],(!oe||!oe.getText()||oe.getFill()||oe.getStroke())&&(oe=new Ct,y[D]=oe),oe.setImage(void 0),oe.setGeometry(void 0));const te=N4(U,R,F,"text",d);oe.getText()||oe.setText(N),N=oe.getText(),(!N||"getDeclutterMode"in N&&N.getDeclutterMode()!==te)&&(N=new Ku({padding:[2,2,2,2],declutterMode:te}),oe.setText(N));const j=Oe(U,"layout","text-transform",R,F,d,M);j=="uppercase"?ke=Array.isArray(ke)?ke.map((J,re)=>re%2?J:J.toUpperCase()):ke.toUpperCase():j=="lowercase"&&(ke=Array.isArray(ke)?ke.map((J,re)=>re%2?J:J.toLowerCase()):ke.toLowerCase());const Ie=Array.isArray(ke)?ke:T==2?HC(ke,X):YC(ke,Re,se,X);N.setText(Ie),N.setFont(Re),N.setRotation(GC(Oe(U,"layout","text-rotate",R,F,d,M)));const fe=Oe(U,"layout","text-anchor",R,F,d,M),ue=At||T==1?"point":Oe(U,"layout","symbol-placement",R,F,d,M);let Te;if(ue==="line-center"?(N.setPlacement("line"),Te="center"):N.setPlacement(ue),ue==="line"&&typeof N.setRepeat=="function"){const J=Oe(U,"layout","symbol-spacing",R,F,d,M);N.setRepeat(J*2)}N.setOverflow(ue==="point");let le=Oe(U,"paint","text-halo-width",R,F,d,M);const me=Oe(U,"layout","text-offset",R,F,d,M),Fe=Oe(U,"paint","text-translate",R,F,d,M);let Ue=0,ye=0;if(ue=="point"){Te="center",fe.indexOf("left")!==-1?(Te="left",ye=le):fe.indexOf("right")!==-1&&(Te="right",ye=-le);const J=Oe(U,"layout","text-rotation-alignment",R,F,d,M);N.setRotateWithView(J=="map")}else N.setMaxAngle(GC(Oe(U,"layout","text-max-angle",R,F,d,M))*ke.length/Ie.length),N.setRotateWithView(!1);N.setTextAlign(Te);let Xe="middle";fe.indexOf("bottom")==0?(Xe="bottom",Ue=-le-.5*(L-1)*S):fe.indexOf("top")==0&&(Xe="top",Ue=le+.5*(L-1)*S),N.setTextBaseline(Xe);const Qe=Oe(U,"layout","text-justify",R,F,d,M);N.setJustify(Qe==="auto"?void 0:Qe),N.setOffsetX(me[0]*S+ye+Fe[0]),N.setOffsetY(me[1]*S+Ue+Fe[1]),_.setColor(Mo(Oe(U,"paint","text-color",R,F,d,M),K)),N.setFill(_);const rt=Mo(Oe(U,"paint","text-halo-color",R,F,d,M),K);if(rt&&le>0){I.setColor(rt),le*=2;const J=.5*S;I.setWidth(le<=J?le:J),N.setStroke(I)}else N.setStroke(void 0);const z=Oe(U,"layout","text-padding",R,F,d,M),_e=N.getPadding();z!==_e[0]&&(_e[0]=z,_e[1]=z,_e[2]=z,_e[3]=z),oe.setZIndex(Se)}}}if(D>-1)return y.length=D+1,O4&&("set"in C?C.set("mapbox-layer",P):C.getProperties()["mapbox-layer"]=P),y};return i.setStyle(E),i.set("mapbox-source",m),i.set("mapbox-layers",f),i.set("mapbox-featurestate",i.get("mapbox-featurestate")||{}),E}function yN(i,e,t,n){const r=t.getStyleFunction();if(r.length===3)return r(i,e,n)}function CN(i,e){const t=i[0],n=t.width,r=t.height,s=t.data,a=new Uint8ClampedArray(s.length),o=e.resolution*2,l=n-1,c=r-1,x=[0,0,0,0],u=2*Math.PI,h=Math.PI/2,f=Math.PI*e.sunEl/180,A=Math.PI*e.sunAz/180,g=Math.cos(f),d=Math.sin(f),p=e.highlightColor,m=e.shadowColor,I=e.accentColor,_=e.encoding;let y,E,C,w,b,v,B,R,T,F,M,D,P,k,V,Y,U,ne,xe,G,O,ee;function K(ce,Ae="mapbox"){if(Ae==="mapbox")return(ce[0]*256*256+ce[1]*256+ce[2])*.1-1e4;if(Ae==="terrarium")return ce[0]*256+ce[1]+ce[2]/256-32768}for(E=0;E<=c;++E)for(b=E===0?0:E-1,v=E===c?c:E+1,y=0;y<=l;++y)C=y===0?0:y-1,w=y===l?l:y+1,B=(E*n+C)*4,x[0]=s[B],x[1]=s[B+1],x[2]=s[B+2],x[3]=s[B+3],R=e.vert*K(x,_),B=(E*n+w)*4,x[0]=s[B],x[1]=s[B+1],x[2]=s[B+2],x[3]=s[B+3],T=e.vert*K(x,_),F=(T-R)/o,B=(b*n+y)*4,x[0]=s[B],x[1]=s[B+1],x[2]=s[B+2],x[3]=s[B+3],R=e.vert*K(x,_),B=(v*n+y)*4,x[0]=s[B],x[1]=s[B+1],x[2]=s[B+2],x[3]=s[B+3],T=e.vert*K(x,_),M=(T-R)/o,P=Math.atan2(M,-F),P<0?P=h-P:P>h?P=u-P+h:P=h-P,D=Math.atan(Math.sqrt(F*F+M*M)),ee=d*Math.cos(D)+g*Math.sin(D)*Math.cos(A-P),k=Math.cos(D),V=255*ee,xe=Math.min(Math.max(2*e.sunEl,0),1),G=1.875-e.opacity*1.75,O=e.opacity!==.5?h*((Math.pow(G,D)-1)/(Math.pow(G,h)-1)):D,U={r:(1-k)*I.r*xe*255,g:(1-k)*I.g*xe*255,b:(1-k)*I.b*xe*255,a:(1-k)*I.a*xe*255},Y=Math.abs(((P+A)/Math.PI+.5)%2-1),ne={r:(p.r*(1-Y)+m.r*Y)*V,g:(p.g*(1-Y)+m.g*Y)*V,b:(p.b*(1-Y)+m.b*Y)*V,a:(p.a*(1-Y)+m.a*Y)*V},B=(E*n+y)*4,a[B]=U.r*(1-Y)+ne.r,a[B+1]=U.g*(1-Y)+ne.g,a[B+2]=U.b*(1-Y)+ne.b,a[B+3]=s[B+3]*e.opacity*xe*Math.sin(O);return new ImageData(a,n,r)}function bN(i,e=512){return i.getExtent()?by({extent:i.getExtent(),tileSize:e,maxZoom:22}).getResolutions():rs}function G4(i,e){return e.accessToken||(e=Object.assign({},e),new URL(i).searchParams.forEach((n,r)=>{e.accessToken=n,e.accessTokenParam=r})),e}function ZC(i,e,t="",n={},r=void 0){let s,a,o,l,c=!0;return typeof t!="string"&&!Array.isArray(t)?(o=t,l=o.source||o.layers,n=o):l=t,typeof n=="string"?(s=n,o={}):(s=n.styleUrl,o=n),o.updateSource===!1&&(c=!1),r||(r=o.resolutions),!s&&typeof e=="string"&&!e.trim().startsWith("{")&&(s=e),s&&(s=s.startsWith("data:")?location.href:v2(s,o.accessToken),o=G4(s,o)),new Promise(function(x,u){VC(e,o).then(function(h){if(h.version!=8)return u(new Error("glStyle version 8 required."));if(!(i instanceof Zc||i instanceof F0))return u(new Error("Can only apply to VectorLayer or VectorTileLayer"));const f=i instanceof F0?"vector":"geojson";if(l?Array.isArray(l)?a=h.layers.find(function(_){return _.id===l[0]}).source:a=l:(a=Object.keys(h.sources).find(function(_){return h.sources[_].type===f}),l=a),!a)return u(new Error(`No ${f} source found in the glStyle.`));function A(){if(!c)return Promise.resolve();if(i instanceof F0)return $C(h.sources[a],s,o).then(function(C){const w=i.getSource();w?C!==w&&(w.setTileUrlFunction(C.getTileUrlFunction()),typeof w.setUrls=="function"&&typeof C.getUrls=="function"&&w.setUrls(C.getUrls()),w.format_||(w.format_=C.format_),w.getAttributions()||w.setAttributions(C.getAttributions()),w.getTileLoadFunction()===$5&&w.setTileLoadFunction(C.getTileLoadFunction()),Js(w.getProjection(),C.getProjection())&&(w.tileGrid=C.getTileGrid())):i.setSource(C);const b=i.getSource().getTileGrid();!isFinite(i.getMaxResolution())&&!isFinite(i.getMinZoom())&&b.getMinZoom()>0&&i.setMaxResolution(R2(b.getMinZoom(),rs)+1e-15)});const _=h.sources[a];let y=i.getSource();(!y||y.get("mapbox-source")!==_)&&(y=eb(_,s,o));const E=i.getSource();return E?y!==E&&(E.getAttributions()||E.setAttributions(y.getAttributions()),E.format_||(E.format_=y.getFormat()),E.url_=y.getUrl()):i.setSource(y),Promise.resolve()}let g,d,p,m;function I(){if(!m&&(!h.sprite||d)){if(o.projection&&!r){const y=Kt(o.projection).getUnits();y!=="m"&&(r=rs.map(E=>E/qa[y]))}m=mf(i,h,l,r,d,p,(_,y=o.webfonts)=>AN(_,y),o.getImage),i.getStyle()?A().then(x).catch(u):u(new Error(`Nothing to show for source [${a}]`))}else m?(i.setStyle(m),A().then(x).catch(u)):u(new Error("Something went wrong trying to apply style."))}if(h.sprite){const _=new URL(aN(h.sprite,o.accessToken,s||location.href));g=window.devicePixelRatio>=1.5?.5:1;const y=g==.5?"@2x":"";let E=_.origin+_.pathname+y+".json"+_.search;new Promise(function(C,w){Gl("Sprite",E,o).then(C).catch(function(b){E=_.origin+_.pathname+".json"+_.search,Gl("Sprite",E,o).then(C).catch(w)})}).then(function(C){if(C===void 0&&u(new Error("No sprites found.")),d=C,p=_.origin+_.pathname+y+".png"+_.search,o.transformRequest){const w=o.transformRequest(p,"SpriteImage")||p;(w instanceof Request||w instanceof Promise)&&(p=w)}I()}).catch(function(C){u(new Error(`Sprites cannot be loaded: ${E}: ${C.message}`))})}else I()}).catch(u)})}const Ro={};function vN(i,e,t){e.layers.some(function(n){if(n.type==="background"){if(i instanceof _0)return i.setBackground(function(r){return q4(n,r,t,{})}),!0;if(i instanceof jy||i instanceof M0)return i.getLayers().insertAt(0,Y4(n,t,{})),!0}})}function z4(i,e,t={}){return VC(e,t).then(function(n){vN(i,n,t)})}function V4(i,e){let t;return i.some(function(n){if(n.id==e)return t=n.source,!0}),t}function wN(i,e){const t=i.bounds;if(t){const n=eE([t[0],t[1]],e),r=eE([t[2],t[3]],e);return[n[0],n[1],r[0],r[1]]}return Kt(e).getExtent()}function H4(i,e,t){const n=new cS({tileJSON:e,tileSize:i.tileSize||e.tileSize||512}),r=n.getTileJSON(),s=n.getTileGrid(),a=Kt(t.projection||"EPSG:3857"),o=wN(r,a),l=a.getExtent(),c=r.minzoom||0,x=r.maxzoom||22,u={attributions:n.getAttributions(),projection:a,tileGrid:new Kp({origin:l?Ks(l):s.getOrigin(0),extent:o||s.getExtent(),minZoom:c,resolutions:bN(a,e.tileSize).slice(0,x+1),tileSize:s.getTileSize(0)})};return Array.isArray(r.tiles)?u.urls=r.tiles:u.url=r.tiles,u}function q4(i,e,t,n){const r={id:i.id,type:i.type},s=i.layout||{},a=i.paint||{};r.paint=a;const o=zC(e,t.resolutions||rs);let l;const c=Oe(r,"paint","background-color",o,Ro,n);return a["background-opacity"]!==void 0&&(l=Oe(r,"paint","background-opacity",o,Ro,n)),s.visibility=="none"?void 0:Mo(c,l)}function Y4(i,e,t){const n=document.createElement("div");return n.className="ol-mapbox-style-background",n.style.position="absolute",n.style.width="100%",n.style.height="100%",new _0({source:new Qc({}),render(r){const s=q4(i,r.viewState.resolution,e,t);return n.style.backgroundColor=s,n}})}function $C(i,e,t){return new Promise(function(n,r){F4(i,e,t).then(function({tileJson:s,tileLoadFunction:a}){const o=H4(i,s,t);o.tileLoadFunction=a,o.format=new BS,n(new My(o))}).catch(r)})}function BN(i,e,t){const n=new F0({declutter:!0,visible:!1});return $C(i,e,t).then(function(r){r.set("mapbox-source",i),n.setSource(r)}).catch(function(r){n.setSource(void 0)}),n}function X4(i){return`{bbox-${(i?i.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function W4(i,e,t){return new Promise(function(n,r){F4(i,e,t).then(function({tileJson:s,tileLoadFunction:a}){const o=new cS({interpolate:t.interpolate===void 0?!0:t.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:s});o.tileGrid=H4(i,s,t).tileGrid,t.projection&&(o.projection=Kt(t.projection));const l=o.getTileUrlFunction();a&&o.setTileLoadFunction(a),o.setTileUrlFunction(function(c,x,u){const h=X4(u);let f=l(c,x,u);if(f.indexOf(h)!=-1){const A=o.getTileGrid().getTileCoordExtent(c);f=f.replace(h,A.toString())}return f}),o.set("mapbox-source",i),n(o)}).catch(function(s){r(s)})})}function j4(i,e,t){const n=new Dy;return W4(i,e,t).then(function(r){n.setSource(r)}).catch(function(){n.setSource(void 0)}),n}function SN(i,e,t){const n=j4(i,e,t);return new ny({source:new oS({operationType:"image",operation:CN,sources:[n]})})}function eb(i,e,t){const n=t.projection?new pS({dataProjection:t.projection}):new pS,r=i.data,s={};if(typeof r=="string"){const o=w2(r,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(o)){const c=(u,h,f)=>{const A=X4(f);return o.replace(A,`${u.join(",")}`)},x=new fl({attributions:i.attribution,format:n,loader:(u,h,f,A,g)=>{const d=typeof c=="function"?c(u,h,f):c;Gl("GeoJSON",d,t).then(p=>{const m=x.getFormat().readFeatures(p,{featureProjection:f});x.addFeatures(m),A(m)}).catch(p=>{x.removeLoadedExtent(u),g()})},strategy:WF});return x.set("mapbox-source",i),x}const l=new fl({attributions:i.attribution,format:n,url:o,loader:(c,x,u,h,f)=>{Gl("GeoJSON",o,t).then(A=>{const g=l.getFormat().readFeatures(A,{featureProjection:u});l.addFeatures(g),h(g)}).catch(A=>{l.removeLoadedExtent(c),f()})}});return l}s.features=n.readFeatures(r,{featureProjection:"EPSG:3857"});const a=new fl(Object.assign({attributions:i.attribution,format:n},s));return a.set("mapbox-source",i),a}function MN(i,e,t){return new Zc({declutter:!0,source:eb(i,e,t),visible:!1})}function RN(i,e,t){let n=null;return function(r){i.paint&&"raster-opacity"in i.paint&&r.frameState.viewState.zoom!==n&&(n=r.frameState.viewState.zoom,delete t[i.id],TN(i,e,n,t))}}function TN(i,e,t,n){const r=Oe(i,"paint","raster-opacity",t,Ro,n);e.setOpacity(r)}function DN(i,e){function t(){const n=e.get("mapbox-style");if(!n)return;const r=w4(n.layers),s=i.get("mapbox-layers"),a=r.filter(function(o){return s.includes(o.id)}).some(function(o){return!o.layout||!o.layout.visibility||o.layout.visibility==="visible"});i.get("visible")!==a&&i.setVisible(a)}i.on("change",t),t()}function K4(i,e,t,n){const r=OC(i),s=i.layers,a=t.type,o=t.source||V4(s,t.ref),l=i.sources[o];let c;if(a=="background")c=Y4(t,n,r);else if(l.type=="vector")c=BN(l,e,n);else if(l.type=="raster")c=j4(l,e,n),c.setVisible(t.layout?t.layout.visibility!=="none":!0),c.on("prerender",RN(t,c,r));else if(l.type=="geojson")c=MN(l,e,n);else if(l.type=="raster-dem"&&t.type=="hillshade"){const u=SN(l,e,n);c=u,u.getSource().on("beforeoperations",function(h){const f=h.data;f.resolution=ZI(n.projection||"EPSG:3857",h.resolution,Cr(h.extent),"m");const A=zC(h.resolution,n.resolutions||rs);f.encoding=l.encoding,f.vert=5*Oe(t,"paint","hillshade-exaggeration",A,Ro,r),f.sunAz=Oe(t,"paint","hillshade-illumination-direction",A,Ro,r),f.sunEl=35,f.opacity=.3,f.highlightColor=Oe(t,"paint","hillshade-highlight-color",A,Ro,r),f.shadowColor=Oe(t,"paint","hillshade-shadow-color",A,Ro,r),f.accentColor=Oe(t,"paint","hillshade-accent-color",A,Ro,r)}),c.setVisible(t.layout?t.layout.visibility!=="none":!0)}const x=o;return c&&c.set("mapbox-source",x),c}function J4(i,e,t,n){const r=[];let s=null;if(e instanceof jy){if(s=e.getView(),!s.isDef()&&!s.getRotation()&&!s.getResolutions()){const u=n.projection?Kt(n.projection):s.getProjection();s=new Ss(Object.assign(s.getProperties(),{maxResolution:rs[0]/qa[u.getUnits()],projection:n.projection||s.getProjection()})),e.setView(s)}"center"in i&&!s.getCenter()&&s.setCenter(eE(i.center,s.getProjection())),"zoom"in i&&s.getZoom()===void 0&&s.setResolution(rs[0]/qa[s.getProjection().getUnits()]/Math.pow(2,i.zoom)),(!s.getCenter()||s.getZoom()===void 0)&&s.fit(s.getProjection().getExtent(),{nearest:!0,size:e.getSize()})}e.set("mapbox-style",i),e.set("mapbox-metadata",{styleUrl:t,options:n});const a=i.layers;let o=[],l,c,x;for(let u=0,h=a.length;u<h;++u){const f=a[u],A=f.type;if(A=="heatmap"){console.debug(`layers[${u}].type "${A}" not supported`);continue}else x=f.source||V4(a,f.ref),(!x||x!=c)&&(o.length&&(r.push(tb(l,o,i,t,e,n)),o=[]),l=K4(i,t,f,n),l instanceof Zc||l instanceof F0||(o=[]),c=l.get("mapbox-source")),o.push(f.id)}return r.push(tb(l,o,i,t,e,n)),Promise.all(r)}function Z4(i,e,t={}){let n,r;if(typeof i=="string"||i instanceof HTMLElement?r=new jy({target:i}):r=i,typeof e=="string"){const s=e.startsWith("data:")?location.href:v2(e,t.accessToken);t=G4(s,t),n=new Promise(function(a,o){VC(e,t).then(function(l){J4(l,r,s,t).then(function(){a(r)}).catch(o)}).catch(function(l){o(new Error(`Could not load ${e}: ${l.message}`))})})}else n=new Promise(function(s,a){J4(e,r,!t.styleUrl||t.styleUrl.startsWith("data:")?location.href:v2(t.styleUrl,t.accessToken),t).then(function(){s(r)}).catch(a)});return n}function tb(i,e,t,n,r,s={}){let a=24,o=0;const l=t.layers;for(let c=0,x=l.length;c<x;++c){const u=l[c];e.indexOf(u.id)!==-1&&(a=Math.min("minzoom"in u?u.minzoom:0,a),o=Math.max("maxzoom"in u?u.maxzoom:24,o))}return new Promise(function(c,x){const u=function(){const f=i.getSource();if(!f||f.getState()==="error"){x(new Error("Error accessing data for source "+i.get("mapbox-source")));return}if("getTileGrid"in f){const A=f.getTileGrid();if(A){const g=A.getMinZoom();(a>0||g>0)&&i.setMaxResolution(Math.min(R2(a,rs),A.getResolution(g))+1e-15),o<24&&i.setMinResolution(R2(o,rs))}}else a>0&&i.setMaxResolution(R2(a,rs)+1e-15);f instanceof fl||f instanceof My?ZC(i,t,e,Object.assign({styleUrl:n},s)).then(function(){DN(i,r),c()}).catch(x):c()};i.set("mapbox-layers",e);const h=r.getLayers();h.getArray().indexOf(i)===-1&&h.push(i),i.getSource()?u():i.once("change:source",u)})}function $4(i,e){return i.get("mapbox-style").layers.find(function(r){return r.id===e})}function QN(i,e,t){const n=i.get("mapbox-style"),r=n.layers;let s,a=-1;if(t!==void 0){const x=$4(i,t);if(x===void 0)throw new Error(`Layer with id "${t}" not found.`);s=r.indexOf(x)}else s=r.length;let o;if(s>0&&r[s-1].source===e.source?(a=s-1,o=-1):s<r.length&&r[s].source===e.source&&(a=s,o=0),a===-1){const{options:x,styleUrl:u}=i.get("mapbox-metadata"),h=K4(n,u,e,x);if(t){const f=To(i,t),A=i.getLayers().getArray().indexOf(f);i.getLayers().insertAt(A,h)}return r.splice(s,0,e),tb(h,[e.id],n,u,i,x)}if(r.some(x=>x.id===e.id))throw new Error(`Layer with id "${e.id}" already exists.`);const l=r[a].id,c=F2[S2(i.get("mapbox-style"),To(i,l))];if(r.splice(s,0,e),c){const[x,u,h,f,A,g,d,p]=c;if(Array.isArray(h)){const m=h.indexOf(l)+o;h.splice(m,0,e.id)}mf(x,u,h,f,A,g,d,p)}else To(i,r[a].id).changed();return Promise.resolve()}function FN(i,e){const t=i.get("mapbox-style"),n=t.layers,r=n.findIndex(function(o){return o.id===e.id});if(r===-1)throw new Error(`Layer with id "${e.id}" not found.`);if(n[r].source!==e.source)throw new Error("Updated layer and previous version must use the same source.");delete OC(t)[e.id],delete D4(t)[e.id],n[r]=e;const a=F2[S2(i.get("mapbox-style"),To(i,e.id))];a?mf.apply(void 0,a):To(i,e.id).changed()}function LN(i,e,t){const n=eM(i,e),r=i.getLayers().getArray().filter(function(o){return(o instanceof Zc||o instanceof Dy||o instanceof F0)&&o.getSource()===n}),s=i.get("mapbox-metadata");let a;switch(t.type){case"vector":a=$C(t,s.styleUrl,s.options);break;case"geojson":a=Promise.resolve(eb(t,s.styleUrl,s.options));break;case"raster":case"raster-dem":a=W4(t,s.styleUrl,s.options);break;default:return Promise.reject(new Error("Unsupported source type "+t.type))}return a.then(function(o){r.forEach(function(l){l.setSource(o)})}),a}function PN(i,e){const t=typeof e=="string"?e:e.id,n=To(i,t),r=n.get("mapbox-layers");if(r.length===1)throw new Error("Cannot remove last Mapbox layer from an OpenLayers layer.");r.splice(r.indexOf(t),1);const s=i.get("mapbox-style"),a=s.layers;a.splice(a.findIndex(l=>l.id===t),1);const o=F2[S2(s,n)];if(o){const[l,c,x,u,h,f,A,g]=o;Array.isArray(x)&&x.splice(x.findIndex(d=>d===t),1),mf(l,c,x,u,h,f,A,g)}else To(i,t).changed()}function To(i,e){const t=i.getLayers().getArray();for(let n=0,r=t.length;n<r;++n){const s=t[n].get("mapbox-layers");if(s&&s.indexOf(e)!==-1)return t[n]}}function nb(i,e){const t=[],n=i.getLayers().getArray();for(let r=0,s=n.length;r<s;++r)n[r].get("mapbox-source")===e&&t.push(n[r]);return t}function eM(i,e){const t=i.getLayers().getArray();for(let n=0,r=t.length;n<r;++n){const s=t[n].getSource();if(t[n].get("mapbox-source")===e)return s}}function kN(i,e,t){const n="getLayers"in i?nb(i,e.source):[i];for(let r=0,s=n.length;r<s;++r){const a=n[r].get("mapbox-featurestate");if(a)t?a[e.id]=t:delete a[e.id],n[r].changed();else throw new Error(`Map or layer for source "${e.source}" not found.`)}}function UN(i,e){const t="getLayers"in i?nb(i,e.source):[i];for(let n=0,r=t.length;n<r;++n){const s=t[n].get("mapbox-featurestate");if(s&&s[e.id])return s[e.id]}}class NN extends br{constructor(e){super(Ye.ERROR),this.error=e}}class ON extends F0{constructor(e){const t="declutter"in e?e.declutter:!0,n=new My({state:"loading",format:new BS});super({source:n,background:e.background,declutter:t,className:e.className,opacity:e.opacity,visible:e.visible,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution,minZoom:e.minZoom,maxZoom:e.maxZoom,renderOrder:e.renderOrder,renderBuffer:e.renderBuffer,renderMode:e.renderMode,map:e.map,updateWhileAnimating:e.updateWhileAnimating,updateWhileInteracting:e.updateWhileInteracting,preload:e.preload,useInterimTilesOnError:e.useInterimTilesOnError,properties:e.properties}),e.accessToken&&(this.accessToken=e.accessToken);const r=e.styleUrl,s=[ZC(this,r,e.layers||e.source,{accessToken:this.accessToken})];this.getBackground()===void 0&&s.push(z4(this,e.styleUrl,{accessToken:this.accessToken})),Promise.all(s).then(()=>{n.setState("ready")}).catch(a=>{this.dispatchEvent(new NN(a)),this.getSource().setState("error")})}}const GN=Object.freeze(Object.defineProperty({__proto__:null,MapboxVectorLayer:ON,addMapboxLayer:QN,apply:Z4,applyBackground:z4,applyStyle:ZC,cme_FrostLineStyle:VL,cme_LINES_SYMBOL2:qL,cme_LINES_SYMBOL3:YL,cme_LINES_SYMBOL4:WL,cme_LINES_SYMBOL5:XL,cme_PloygonStyle:HL,cme_Point:yS,cme_commonStyle:Di,cme_polygon:CP,cme_polyline:IP,cme_style_FillPattern:S0,cme_text:bP,default:Z4,getFeatureState:UN,getLayer:To,getLayers:nb,getMapboxLayer:$4,getSource:eM,getStyleForLayer:yN,recordStyleLayer:EN,removeMapboxLayer:PN,renderTransparent:_N,setFeatureState:kN,stylefunction:mf,updateMapboxLayer:FN,updateMapboxSource:LN},Symbol.toStringTag,{value:"Module"}));class zN{constructor(){}getCommonStyle(e){return{Style:{image:{cme_style_FontSymbol:{glyph:e,form:"",fontStyle:"unset",radius:20,rotation:2,displacement:[0,0],color:"#ff0000",fill:{Fill:{color:"rgba(0,255,0,1)"}},stroke:{Stroke:{color:"rgba(255,255,0,1)",width:1}},fill:{Fill:{color:"rgba(255,255,0,0)"}},stroke:{Stroke:{color:"rgba(0,0,255,0)",width:1}}}}}}}getWindyStyle(e,t,n,r){let s=r.style1,a={Style:{image:{cme_style_FontSymbol:{glyph:e,radius:18,rotation:t,displacement:[0,0],color:"#000000"}}}},o=this.mergeObjects(s,a),l=null;if(r.rule&&r.rule.color){l=r.rule.color;for(let x=0;x<l.length-1;x++)n>=l[x][0]&&n<l[x+1][0]&&(o.Style.image.cme_style_FontSymbol.color=l[x][1])}let c=null;if(r.rule&&r.rule.size){c=r.rule.size;for(let x=0;x<c.length-1;x++)n>=c[x][0]&&n<c[x+1][0]&&(o.Style.image.cme_style_FontSymbol.radius=c[x][1])}return o}mergeObjects(e,t){if(typeof t!="object"||t===null)return e;let n=Array.isArray(t)?[...t]:{...t};for(let r in e)e.hasOwnProperty(r)&&(typeof e[r]=="object"&&e[r]!==null&&t.hasOwnProperty(r)?n[r]=this.mergeObjects(e[r],t[r]):n[r]=e[r]);return n}}class VN{constructor(){this.commonPoint=new zN,this.cme_Point=new yS}setWindStyle(e,t,n,r,s){const a=n;let o=this.commonPoint.getWindyStyle(t,a,r,s);e.setProperties({customStyle:o});let l=this.getwindyStyleByJSON(o);e.setStyle(l)}getwindyStyleByJSON(e){var t=[];let n=this.cme_Point.getCme_Style(e);return t.push(n),t}setStyle(e,t){let n=this.commonPoint.getStyle(t);e.setProperties({customStyle:n});var r=[];let s=this.cme_Point.getCme_Style(n);r.push(s),e.setStyle(r)}}var HN=class extends Zc{constructor(e,t){super(t),this.map=e,this.options=t,this.FontSymbolStyle=new VN,this.firstBool=!1,this.setOpacity(0),this.layer=t.layer,this.worldExtent=null,this.rasterDatas=null}_render(){return new Promise((e,t)=>{e(!0),this.once("postrender",n=>{this.firstBool=!0,setTimeout(()=>{this.worldExtent=null,this.drawGridNumber(this.rasterDatas)},30)})})}isViewExtentEqual(e){const t=this.map.getView().calculateExtent(this.map.getSize());return JSON.stringify(t)===JSON.stringify(e)}drawGridNumber(e){e!=null&&this.setDataToLayer(e)}setDataToLayer(e){var b,v;this.rasterDatas=e,this.worldExtent=this.map.getView().calculateExtent(this.map.getSize());let t=[],n=[],r=[],s=[],a=[],o=[],l=[];e.forEach(B=>{t.push(B.params.bbox),n.push(B.params.viewBBox),r.push(B.params.interpolationParams),s.push(B.params.bandsNumber),a.push(B.params.metadata),o.push(uS(B.params.bbox,B.params.viewBBox,B.params.interpolationParams,B,B.params.bandsNumber,B.params.metadata)),l.push(B.params.project)});const c=this.options,{distance:x,fixedPixel:u,layer:h,showTextRange:f,precision:A}=c;let g=this.map.getView().getProjection().getCode(),d=l[0];var p=t[0];d!=g&&(g=="EPSG:3857"&&(t[0][1]<-85.05112877980659&&(t[0][1]=-85.05112877980659),t[0][3]>85.05112877980659&&(t[0][3]=85.05112877980659)),p=tE(t[0],d,g));let m=x||80;const[I,_,y]=F5(this.map,this.worldExtent,p,window.innerWidth,window.innerHeight,m);let E,C=[],w;for(let B=0;B<I.length;B++)for(let R=0;R<o.length;R++){let T=this.map.getCoordinateFromPixel(I[B]),F=this._getData(T,r[R],s[R],o[R]);if(F!=null){w=new p0(T);const M=F.speed;if(!this.getRange(M))break;E=new ol(w);let P=(F.direction*Math.PI/180).toFixed(2),k=this.getwindySpeed(M),V="icon-jiantou";((b=this.options)==null?void 0:b.windType)=="arrow"?V="icon-jiantou":((v=this.options)==null?void 0:v.windType)=="wind"&&(V="icon-zheng_"+k+"ji"),this.FontSymbolStyle.setWindStyle(E,V,P,M,this.options),C.push(E)}}this.addFeaturesToLayer(C)}getRange(e){return this.options.range?e<=(this.options.range.max||99999999)&&e>=(this.options.range.min||-99999999):!0}updateStyle(e){this.options.range=e.range,this.setDataToLayer(this.rasterDatas)}addFeaturesToLayer(e){if(e.length>0){if(this.getSource())this.getSource().clear();else{let t=new fl({wrapX:!1});this.setSource(t)}e.length>0&&(this.firstBool==!0?(this.setVisible(!1),this.getSource().addFeatures(e),this.getSource().changed(),this.changed(),this.setOpacity(0),this.setVisible(!0),this.setOpacity(1)):this.getSource().addFeatures(e))}}_setSource(e){}_setStyle(e){}_remove(){}_getData(e,t,n,r){let s=Ic(this.map,e),a=[t.lo1,t.la1,t.lo2,t.la2];s[0],s[1];let o=[s[0],s[1]];return o[0]%360<-180?o[0]=360+o[0]%360:o[0]=o[0]%360,o[0]>180&&(o[0]=o[0]-360),lS(n,a,o[0],o[1],r,t.dx,t.dy)}getwindySpeed(e){let t=0;return e==0?t=null:e>0&&e<=2?t=0:e>2&&e<=4?t=1:e>4&&e<=6?t=2:e>6&&e<=8?t=3:e>8&&e<=10?t=4:e>10&&e<=12?t=5:e>12&&e<=14?t=6:e>14&&e<=16?t=7:e>16&&e<=18?t=8:e>18&&e<=20?t=9:e>20&&e<=22?t=10:e>22&&e<=24?t=11:e>26&&e<=28?t=12:e>28&&e<=30?t=13:e>30&&e<=32?t=14:e>32&&e<=34?t=15:e>34&&e<=36?t=16:e>36&&e<=38?t=17:e>38&&e<=40?t=18:e>40&&e<=42?t=19:e>42&&e<=44?t=20:e>44&&e<=46?t=21:e>46&&e<=48?t=22:e>48&&e<=50?t=23:e>50&&e<=52?t=24:e>52&&e<=54?t=25:e>54&&e<=56?t=26:e>56&&e<=58?t=27:e>58&&e<=60?t=28:t=29,t}};class qN{constructor(e,t){hn(this,"mapMoveEvent",()=>{this.initBool==!0&&this.resolutionTif!=null&&this.resolutionTif.getData().then(e=>{this.getLayerByName(),this.rasterDataColltion=e,this.cogLayer&&this.cogLayer.drawGridNumber(e),this.gridLayer!=null&&this.gridLayer.drawGridNumber(e),this.arrowLayer!=null&&this.arrowLayer.drawGridNumber(e)})});this.map=e,this.initBool=!1,this.option=t,this.resolutionTif=null,this.cogLayer=null,this.gridLayer=null,this.arrowLayer=null,this.cogLayerParams=null,this.gridLayerParams=null,this.arrowLayerParams=null,this.rasterDataColltion=null}getLayerByName(){var t,n,r;const e=this.map.getLayers().getArray();this.cogLayer=null,this.gridLayer=null,this.arrowLayer=null;for(const s of e)s.get("layerName")!=null&&(s.get("layerName")===((t=this.cogLayerParams)==null?void 0:t.layerName)&&(this.cogLayer=s),s.get("layerName")===((n=this.gridLayerParams)==null?void 0:n.layerName)&&(this.gridLayer=s),s.get("layerName")===((r=this.arrowLayerParams)==null?void 0:r.layerName)&&(this.arrowLayer=s))}_render(){return this.map.on("moveend",this.mapMoveEvent),this.resolutionTif=new GQ(this.map,this.option),new Promise((e,t)=>{this.resolutionTif._render().then(n=>{this.initBool=!0,this.resolutionTif.getData().then(r=>(this.rasterDataColltion=r,this.cogLayer&&this.cogLayer.drawGridNumber(r),this.gridLayer!=null&&this.gridLayer.drawGridNumber(r),this.arrowLayer!=null&&this.arrowLayer.drawGridNumber(r),e(!0)))})})}updateStyle(){let e={cogtifLayer:{colors:[[12,[225,225,0,0]],[16,[250,166,68]],[20,[250,113,0]],[24,[255,181,181,0]]]},gridLayer:{range:{min:10,max:20}},arrowLayer:{range:{min:8,max:10}}};this.cogLayer.updateStyle(e.cogtifLayer)}addCogeoLayer(e){return new Promise((t,n)=>{this.cogLayerParams=e,this.cogLayer=new i9(this.map,e),this.cogLayer._render1().then(r=>(this.cogLayer.drawGridNumber(this.rasterDataColltion),t(this.cogLayer)))})}addTextLayer(e){return this.gridLayerParams=e,new Promise((t,n)=>{this.gridLayer=new IL(this.map,e),this.gridLayer._render().then(r=>(this.gridLayer.drawGridNumber(this.rasterDataColltion),t(this.gridLayer)))})}addArrowLayer(e){return this.arrowLayerParams=e,new Promise((t,n)=>(A7(),this.arrowLayer=new HN(this.map,e),this.arrowLayer._render().then(r=>{this.arrowLayer.drawGridNumber(this.rasterDataColltion)}),t(this.arrowLayer)))}clear(){this.map.on("moveend",this.mapMoveEvent),this.resolutionTif=null,this.cogLayer=null,this.gridLayer=null,this.arrowLayer=null,this.rasterDataColltion=null}}class L2{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const YN={PROPERTYCHANGE:"propertychange"};class XN{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function WN(i,e){return i>e?1:i<e?-1:0}function ib(i,e,t){if(i[0]<=e)return 0;const n=i.length;if(e<=i[n-1])return n-1;if(typeof t=="function"){for(let r=1;r<n;++r){const s=i[r];if(s===e)return r;if(s<e)return t(e,i[r-1],s)>0?r-1:r}return n-1}if(t>0){for(let r=1;r<n;++r)if(i[r]<e)return r-1;return n-1}if(t<0){for(let r=1;r<n;++r)if(i[r]<=e)return r;return n-1}for(let r=1;r<n;++r){if(i[r]==e)return r;if(i[r]<e)return i[r-1]-e<e-i[r]?r-1:r}return n-1}function jN(i,e){const t=Array.isArray(e)?e:[e],n=t.length;for(let r=0;r<n;r++)i[i.length]=t[r]}function tM(i,e){const t=i.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(i[n]!==e[n])return!1;return!0}function rb(){}function KN(i){let e,t,n;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==n||!tM(r,t))&&(n=this,t=r,e=i.apply(this,arguments)),e}}function JN(i){function e(){let t;try{t=i()}catch(n){return Promise.reject(n)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function nM(i){for(const e in i)delete i[e]}function ZN(i){let e;for(e in i)return!1;return!e}class iM extends XN{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const n=this.listeners_||(this.listeners_={}),r=n[e]||(n[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t=typeof e=="string",n=t?e:e.type,r=this.listeners_&&this.listeners_[n];if(!r)return;const s=t?new L2(e):e;s.target||(s.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});n in a||(a[n]=0,o[n]=0),++a[n];let l;for(let c=0,x=r.length;c<x;++c)if("handleEvent"in r[c]?l=r[c].handleEvent(s):l=r[c].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--a[n]===0){let c=o[n];for(delete o[n];c--;)this.removeEventListener(n,rb);delete a[n]}return l}disposeInternal(){this.listeners_&&nM(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const n=this.listeners_[e];if(!n)return;const r=n.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[r]=rb,++this.pendingRemovals_[e]):(n.splice(r,1),n.length===0&&delete this.listeners_[e]))}}const U0={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function N0(i,e,t,n,r){if(r){const a=t;t=function(){i.removeEventListener(e,t),a.apply(n??this,arguments)}}else n&&n!==i&&(t=t.bind(n));const s={target:i,type:e,listener:t};return i.addEventListener(e,t),s}function rM(i,e,t,n){return N0(i,e,t,n,!0)}function zl(i){i&&i.target&&(i.target.removeEventListener(i.type,i.listener),nM(i))}class _f extends iM{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(U0.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const n=e.length,r=new Array(n);for(let s=0;s<n;++s)r[s]=N0(this,e[s],t);return r}return N0(this,e,t)}onceInternal(e,t){let n;if(Array.isArray(e)){const r=e.length;n=new Array(r);for(let s=0;s<r;++s)n[s]=rM(this,e[s],t)}else n=rM(this,e,t);return t.ol_key=n,n}unInternal(e,t){const n=t.ol_key;if(n)$N(n);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}}_f.prototype.on,_f.prototype.once,_f.prototype.un;function $N(i){if(Array.isArray(i))for(let e=0,t=i.length;e<t;++e)zl(i[e]);else zl(i)}function Zn(){throw new Error("Unimplemented abstract method.")}let eO=0;function tO(i){return i.ol_uid||(i.ol_uid=String(++eO))}class sM extends L2{constructor(e,t,n){super(e),this.key=t,this.oldValue=n}}class P2 extends _f{constructor(e){super(),this.on,this.once,this.un,tO(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let n;n=`change:${e}`,this.hasListener(n)&&this.dispatchEvent(new sM(n,e,t)),n=YN.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new sM(n,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,n){const r=this.values_||(this.values_={});if(n)r[e]=t;else{const s=r[e];r[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(const n in e)this.set(n,e[n],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const n=this.values_[e];delete this.values_[e],ZN(this.values_)&&(this.values_=null),t||this.notify(e,n)}}}const Xt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};function ya(i,e){if(!i)throw new Error(e)}function $i(i,e,t){return Math.min(Math.max(i,e),t)}function nO(i,e,t,n,r,s){const a=r-t,o=s-n;if(a!==0||o!==0){const l=((i-t)*a+(e-n)*o)/(a*a+o*o);l>1?(t=r,n=s):l>0&&(t+=a*l,n+=o*l)}return Vl(i,e,t,n)}function Vl(i,e,t,n){const r=t-i,s=n-e;return r*r+s*s}function iO(i){const e=i.length;for(let n=0;n<e;n++){let r=n,s=Math.abs(i[n][n]);for(let o=n+1;o<e;o++){const l=Math.abs(i[o][n]);l>s&&(s=l,r=o)}if(s===0)return null;const a=i[r];i[r]=i[n],i[n]=a;for(let o=n+1;o<e;o++){const l=-i[o][n]/i[n][n];for(let c=n;c<e+1;c++)n==c?i[o][c]=0:i[o][c]+=l*i[n][c]}}const t=new Array(e);for(let n=e-1;n>=0;n--){t[n]=i[n][e]/i[n][n];for(let r=n-1;r>=0;r--)i[r][e]-=i[r][n]*t[n]}return t}function k2(i){return i*Math.PI/180}function If(i,e){const t=i%e;return t*e<0?t+e:t}function rO(i,e,t){return i+t*(e-i)}function sO(i,e){const t=Math.pow(10,e);return Math.round(i*t)/t}function U2(i,e){return Math.ceil(sO(i,e))}class aO extends P2{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[Xt.OPACITY]=e.opacity!==void 0?e.opacity:1,ya(typeof t[Xt.OPACITY]=="number","Layer opacity must be a number"),t[Xt.VISIBLE]=e.visible!==void 0?e.visible:!0,t[Xt.Z_INDEX]=e.zIndex,t[Xt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[Xt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[Xt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[Xt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},n=this.getZIndex();return t.opacity=$i(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=n===void 0&&!t.managed?1/0:n,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Zn()}getLayerStatesArray(e){return Zn()}getExtent(){return this.get(Xt.EXTENT)}getMaxResolution(){return this.get(Xt.MAX_RESOLUTION)}getMinResolution(){return this.get(Xt.MIN_RESOLUTION)}getMinZoom(){return this.get(Xt.MIN_ZOOM)}getMaxZoom(){return this.get(Xt.MAX_ZOOM)}getOpacity(){return this.get(Xt.OPACITY)}getSourceState(){return Zn()}getVisible(){return this.get(Xt.VISIBLE)}getZIndex(){return this.get(Xt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Xt.EXTENT,e)}setMaxResolution(e){this.set(Xt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Xt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Xt.MAX_ZOOM,e)}setMinZoom(e){this.set(Xt.MIN_ZOOM,e)}setOpacity(e){ya(typeof e=="number","Layer opacity must be a number"),this.set(Xt.OPACITY,e)}setVisible(e){this.set(Xt.VISIBLE,e)}setZIndex(e){this.set(Xt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const Ef={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Ls={ANIMATING:0,INTERACTING:1},ss={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},oO=256,aM={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class oM{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||aM[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const yf=6378137,Hl=Math.PI*yf,cO=[-Hl,-Hl,Hl,Hl],lO=[-180,-85,180,85],N2=yf*Math.log(Math.tan(Math.PI/2));class ql extends oM{constructor(e){super({code:e,units:"m",extent:cO,global:!0,worldExtent:lO,getPointResolution:function(t,n){return t/Math.cosh(n[1]/yf)}})}}const cM=[new ql("EPSG:3857"),new ql("EPSG:102100"),new ql("EPSG:102113"),new ql("EPSG:900913"),new ql("http://www.opengis.net/def/crs/EPSG/0/3857"),new ql("http://www.opengis.net/gml/srs/epsg.xml#3857")];function xO(i,e,t,n){const r=i.length;t=t>1?t:2,n=n??t,e===void 0&&(t>2?e=i.slice():e=new Array(r));for(let s=0;s<r;s+=n){e[s]=Hl*i[s]/180;let a=yf*Math.log(Math.tan(Math.PI*(+i[s+1]+90)/360));a>N2?a=N2:a<-N2&&(a=-N2),e[s+1]=a}return e}function uO(i,e,t,n){const r=i.length;t=t>1?t:2,n=n??t,e===void 0&&(t>2?e=i.slice():e=new Array(r));for(let s=0;s<r;s+=n)e[s]=180*i[s]/Hl,e[s+1]=360*Math.atan(Math.exp(i[s+1]/yf))/Math.PI-90;return e}const hO=6378137,lM=[-180,-90,180,90],fO=Math.PI*hO/180;class O0 extends oM{constructor(e,t){super({code:e,units:"degrees",extent:lM,axisOrientation:t,global:!0,metersPerUnit:fO,worldExtent:lM})}}const xM=[new O0("CRS:84"),new O0("EPSG:4326","neu"),new O0("urn:ogc:def:crs:OGC:1.3:CRS84"),new O0("urn:ogc:def:crs:OGC:2:84"),new O0("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new O0("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new O0("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let sb={};function AO(i){return sb[i]||sb[i.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function dO(i,e){sb[i]=e}let Yl={};function O2(i,e,t){const n=i.getCode(),r=e.getCode();n in Yl||(Yl[n]={}),Yl[n][r]=t}function pO(i,e){let t;return i in Yl&&e in Yl[i]&&(t=Yl[i][e]),t}const ci={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function uM(i){const e=Xl();for(let t=0,n=i.length;t<n;++t)G2(e,i[t]);return e}function hM(i,e,t){let n,r;return e<i[0]?n=i[0]-e:i[2]<e?n=e-i[2]:n=0,t<i[1]?r=i[1]-t:i[3]<t?r=t-i[3]:r=0,n*n+r*r}function fM(i,e){return AM(i,e[0],e[1])}function Cf(i,e){return i[0]<=e[0]&&e[2]<=i[2]&&i[1]<=e[1]&&e[3]<=i[3]}function AM(i,e,t){return i[0]<=e&&e<=i[2]&&i[1]<=t&&t<=i[3]}function dM(i,e){const t=i[0],n=i[1],r=i[2],s=i[3],a=e[0],o=e[1];let l=ci.UNKNOWN;return a<t?l=l|ci.LEFT:a>r&&(l=l|ci.RIGHT),o<n?l=l|ci.BELOW:o>s&&(l=l|ci.ABOVE),l===ci.UNKNOWN&&(l=ci.INTERSECTING),l}function Xl(){return[1/0,1/0,-1/0,-1/0]}function ab(i,e,t,n,r){return r?(r[0]=i,r[1]=e,r[2]=t,r[3]=n,r):[i,e,t,n]}function ob(i){return ab(1/0,1/0,-1/0,-1/0,i)}function gO(i,e){const t=i[0],n=i[1];return ab(t,n,t,n,e)}function mO(i,e,t,n,r){const s=ob(r);return pM(s,i,e,t,n)}function _O(i,e){return i[0]==e[0]&&i[2]==e[2]&&i[1]==e[1]&&i[3]==e[3]}function IO(i,e){return e[0]<i[0]&&(i[0]=e[0]),e[2]>i[2]&&(i[2]=e[2]),e[1]<i[1]&&(i[1]=e[1]),e[3]>i[3]&&(i[3]=e[3]),i}function G2(i,e){e[0]<i[0]&&(i[0]=e[0]),e[0]>i[2]&&(i[2]=e[0]),e[1]<i[1]&&(i[1]=e[1]),e[1]>i[3]&&(i[3]=e[1])}function pM(i,e,t,n,r){for(;t<n;t+=r)EO(i,e[t],e[t+1]);return i}function EO(i,e,t){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}function yO(i,e){let t;return t=e(cb(i)),t||(t=e(lb(i)),t)||(t=e(xb(i)),t)||(t=e(z2(i)),t)?t:!1}function CO(i){let e=0;return vf(i)||(e=Nn(i)*bi(i)),e}function cb(i){return[i[0],i[1]]}function lb(i){return[i[2],i[1]]}function Wl(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function gM(i,e,t,n,r){const[s,a,o,l,c,x,u,h]=bO(i,e,t,n);return ab(Math.min(s,o,c,u),Math.min(a,l,x,h),Math.max(s,o,c,u),Math.max(a,l,x,h),r)}function bO(i,e,t,n){const r=e*n[0]/2,s=e*n[1]/2,a=Math.cos(t),o=Math.sin(t),l=r*a,c=r*o,x=s*a,u=s*o,h=i[0],f=i[1];return[h-l+u,f-c-x,h-l-u,f-c+x,h+l-u,f+c+x,h+l+u,f+c-x,h-l+u,f-c-x]}function bi(i){return i[3]-i[1]}function mM(i,e,t){const n=t||Xl();return bf(i,e)?(i[0]>e[0]?n[0]=i[0]:n[0]=e[0],i[1]>e[1]?n[1]=i[1]:n[1]=e[1],i[2]<e[2]?n[2]=i[2]:n[2]=e[2],i[3]<e[3]?n[3]=i[3]:n[3]=e[3]):ob(n),n}function z2(i){return[i[0],i[3]]}function xb(i){return[i[2],i[3]]}function Nn(i){return i[2]-i[0]}function bf(i,e){return i[0]<=e[2]&&i[2]>=e[0]&&i[1]<=e[3]&&i[3]>=e[1]}function vf(i){return i[2]<i[0]||i[3]<i[1]}function vO(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i}function wO(i,e){const t=(i[2]-i[0])/2*(e-1),n=(i[3]-i[1])/2*(e-1);i[0]-=t,i[2]+=t,i[1]-=n,i[3]+=n}function BO(i,e,t){let n=!1;const r=dM(i,e),s=dM(i,t);if(r===ci.INTERSECTING||s===ci.INTERSECTING)n=!0;else{const a=i[0],o=i[1],l=i[2],c=i[3],x=e[0],u=e[1],h=t[0],f=t[1],A=(f-u)/(h-x);let g,d;s&ci.ABOVE&&!(r&ci.ABOVE)&&(g=h-(f-c)/A,n=g>=a&&g<=l),!n&&s&ci.RIGHT&&!(r&ci.RIGHT)&&(d=f-(h-l)*A,n=d>=o&&d<=c),!n&&s&ci.BELOW&&!(r&ci.BELOW)&&(g=h-(f-o)/A,n=g>=a&&g<=l),!n&&s&ci.LEFT&&!(r&ci.LEFT)&&(d=f-(h-a)*A,n=d>=o&&d<=c)}return n}function SO(i,e){return i[0]+=+e[0],i[1]+=+e[1],i}function V2(i,e){let t=!0;for(let n=i.length-1;n>=0;--n)if(i[n]!=e[n]){t=!1;break}return t}function MO(i,e){const t=Math.cos(e),n=Math.sin(e),r=i[0]*t-i[1]*n,s=i[1]*t+i[0]*n;return i[0]=r,i[1]=s,i}const RO=63710088e-1;function _M(i,e,t){t=t||RO;const n=k2(i[1]),r=k2(e[1]),s=(r-n)/2,a=k2(e[0]-i[0])/2,o=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(n)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function TO(...i){console.warn(...i)}let ub=!0;function DO(i){ub=!1}function hb(i,e){if(e!==void 0){for(let t=0,n=i.length;t<n;++t)e[t]=i[t];e=e}else e=i.slice();return e}function IM(i,e){if(e!==void 0&&i!==e){for(let t=0,n=i.length;t<n;++t)e[t]=i[t];i=e}return i}function QO(i){dO(i.getCode(),i),O2(i,i,hb)}function FO(i){i.forEach(QO)}function Do(i){return typeof i=="string"?AO(i):i||null}function EM(i,e,t,n){i=Do(i);let r;const s=i.getPointResolutionFunc();if(s)r=s(e,t);else{const a=i.getUnits();if(a=="degrees"&&!n||n=="degrees")r=e;else{const o=Ab(i,Do("EPSG:4326"));if(o===IM&&a!=="degrees")r=e*i.getMetersPerUnit();else{let c=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];c=o(c,c,2);const x=_M(c.slice(0,2),c.slice(2,4)),u=_M(c.slice(4,6),c.slice(6,8));r=(x+u)/2}const l=i.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function yM(i){FO(i),i.forEach(function(e){i.forEach(function(t){e!==t&&O2(e,t,hb)})})}function LO(i,e,t,n){i.forEach(function(r){e.forEach(function(s){O2(r,s,t),O2(s,r,n)})})}function fb(i,e){return i?typeof i=="string"?Do(i):i:Do(e)}function CM(i,e){if(i===e)return!0;const t=i.getUnits()===e.getUnits();return(i.getCode()===e.getCode()||Ab(i,e)===hb)&&t}function Ab(i,e){const t=i.getCode(),n=e.getCode();let r=pO(t,n);return r||(r=IM),r}function H2(i,e){const t=Do(i),n=Do(e);return Ab(t,n)}function q2(i,e,t){return H2(e,t)(i,void 0,i.length)}function bM(i,e){return i}function Qo(i,e){return ub&&!V2(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(ub=!1,TO("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),i}function PO(i,e){return i}function jl(i,e){return i}function kO(){yM(cM),yM(xM),LO(xM,cM,xO,uO)}kO();function vM(i,e,t){return function(n,r,s,a,o){if(!n)return;if(!r&&!e)return n;const l=e?0:s[0]*r,c=e?0:s[1]*r,x=o?o[0]:0,u=o?o[1]:0;let h=i[0]+l/2+x,f=i[2]-l/2+x,A=i[1]+c/2+u,g=i[3]-c/2+u;h>f&&(h=(f+h)/2,f=h),A>g&&(A=(g+A)/2,g=A);let d=$i(n[0],h,f),p=$i(n[1],A,g);if(a&&t&&r){const m=30*r;d+=-m*Math.log(1+Math.max(0,h-n[0])/m)+m*Math.log(1+Math.max(0,n[0]-f)/m),p+=-m*Math.log(1+Math.max(0,A-n[1])/m)+m*Math.log(1+Math.max(0,n[1]-g)/m)}return[d,p]}}function UO(i){return i}function db(i,e,t,n){const r=Nn(e)/t[0],s=bi(e)/t[1];return n?Math.min(i,Math.max(r,s)):Math.min(i,Math.min(r,s))}function pb(i,e,t){let n=Math.min(i,e);const r=50;return n*=Math.log(1+r*Math.max(0,i/e-1))/r+1,t&&(n=Math.max(n,t),n/=Math.log(1+r*Math.max(0,t/i-1))/r+1),$i(n,t/2,e*2)}function NO(i,e,t,n){return e=e!==void 0?e:!0,function(r,s,a,o){if(r!==void 0){const l=i[0],c=i[i.length-1],x=t?db(l,t,a,n):l;if(o)return e?pb(r,x,c):$i(r,c,x);const u=Math.min(x,r),h=Math.floor(ib(i,u,s));return i[h]>x&&h<i.length-1?i[h+1]:i[h]}}}function OO(i,e,t,n,r,s){return n=n!==void 0?n:!0,t=t!==void 0?t:0,function(a,o,l,c){if(a!==void 0){const x=r?db(e,r,l,s):e;if(c)return n?pb(a,x,t):$i(a,t,x);const u=1e-9,h=Math.ceil(Math.log(e/x)/Math.log(i)-u),f=-o*(.5-u)+.5,A=Math.min(x,a),g=Math.floor(Math.log(e/A)/Math.log(i)+f),d=Math.max(h,g),p=e/Math.pow(i,d);return $i(p,t,x)}}}function wM(i,e,t,n,r){return t=t!==void 0?t:!0,function(s,a,o,l){if(s!==void 0){const c=n?db(i,n,o,r):i;return!t||!l?$i(s,e,c):pb(s,c,e)}}}function GO(i){if(i!==void 0)return 0}function BM(i){if(i!==void 0)return i}function zO(i){const e=2*Math.PI/i;return function(t,n){if(n)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function VO(i){const e=k2(5);return function(t,n){return n||t===void 0?t:Math.abs(t)<=e?0:t}}function HO(i){return Math.pow(i,3)}function qO(i){return 1-HO(1-i)}function YO(i){return 3*i*i-2*i*i*i}new Array(6);function Y2(){return[1,0,0,1,0,0]}function Ca(i,e){const t=e[0],n=e[1];return e[0]=i[0]*t+i[2]*n+i[4],e[1]=i[1]*t+i[3]*n+i[5],e}function X2(i,e,t,n,r,s,a,o){const l=Math.sin(s),c=Math.cos(s);return i[0]=n*c,i[1]=r*l,i[2]=-n*l,i[3]=r*c,i[4]=a*n*c-o*n*l+e,i[5]=a*r*l+o*r*c+t,i}function XO(i,e){const t=WO(e);ya(t!==0,"Transformation matrix cannot be inverted");const n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5];return i[0]=a/t,i[1]=-r/t,i[2]=-s/t,i[3]=n/t,i[4]=(s*l-a*o)/t,i[5]=-(n*l-r*o)/t,i}function WO(i){return i[0]*i[3]-i[1]*i[2]}const SM=[1e6,1e6,1e6,1e6,2,2];function jO(i){return"matrix("+i.map((t,n)=>Math.round(t*SM[n])/SM[n]).join(", ")+")"}function KO(i,e,t,n,r,s,a){s=s||[],a=a||2;let o=0;for(let l=e;l<t;l+=n){const c=i[l],x=i[l+1];s[o++]=r[0]*c+r[2]*x+r[4],s[o++]=r[1]*c+r[3]*x+r[5];for(let u=2;u<a;u++)s[o++]=i[l+u]}return s&&s.length!=o&&(s.length=o),s}function JO(i,e,t,n,r,s,a){a=a||[];const o=Math.cos(r),l=Math.sin(r),c=s[0],x=s[1];let u=0;for(let h=e;h<t;h+=n){const f=i[h]-c,A=i[h+1]-x;a[u++]=c+f*o-A*l,a[u++]=x+f*l+A*o;for(let g=h+2;g<h+n;++g)a[u++]=i[g]}return a&&a.length!=u&&(a.length=u),a}function ZO(i,e,t,n,r,s,a,o){o=o||[];const l=a[0],c=a[1];let x=0;for(let u=e;u<t;u+=n){const h=i[u]-l,f=i[u+1]-c;o[x++]=l+r*h,o[x++]=c+s*f;for(let A=u+2;A<u+n;++A)o[x++]=i[A]}return o&&o.length!=x&&(o.length=x),o}function $O(i,e,t,n,r,s,a){a=a||[];let o=0;for(let l=e;l<t;l+=n){a[o++]=i[l]+r,a[o++]=i[l+1]+s;for(let c=l+2;c<l+n;++c)a[o++]=i[c]}return a&&a.length!=o&&(a.length=o),a}const MM=Y2();class eG extends P2{constructor(){super(),this.extent_=Xl(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=KN((e,t,n)=>{if(!n)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Zn()}closestPointXY(e,t,n,r){return Zn()}containsXY(e,t){const n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Zn()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&ob(t),this.extentRevision_=this.getRevision()}return vO(this.extent_,e)}rotate(e,t){Zn()}scale(e,t,n){Zn()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Zn()}getType(){return Zn()}applyTransform(e){Zn()}intersectsExtent(e){return Zn()}translate(e,t){Zn()}transform(e,t){const n=Do(e),r=n.getUnits()=="tile-pixels"?function(s,a,o){const l=n.getExtent(),c=n.getWorldExtent(),x=bi(c)/bi(l);return X2(MM,c[0],c[3],x,-x,0,0,0),KO(s,0,s.length,o,MM,a),H2(n,t)(s,a,o)}:H2(n,t);return this.applyTransform(r),this}}class gb extends eG{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return mO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Zn()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=RM(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Zn()}setLayout(e,t,n){let r;if(e)r=RM(e);else{for(let s=0;s<n;++s){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=tG(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();JO(n,0,n.length,r,e,t,n),this.changed()}}scale(e,t,n){t===void 0&&(t=e),n||(n=Wl(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();ZO(r,0,r.length,s,e,t,n,r),this.changed()}}translate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();$O(n,0,n.length,r,e,t,n),this.changed()}}}function tG(i){let e;return i==2?e="XY":i==3?e="XYZ":i==4&&(e="XYZM"),e}function RM(i){let e;return i=="XY"?e=2:i=="XYZ"||i=="XYM"?e=3:i=="XYZM"&&(e=4),e}function TM(i,e,t,n,r,s,a){const o=i[e],l=i[e+1],c=i[t]-o,x=i[t+1]-l;let u;if(c===0&&x===0)u=e;else{const h=((r-o)*c+(s-l)*x)/(c*c+x*x);if(h>1)u=t;else if(h>0){for(let f=0;f<n;++f)a[f]=rO(i[e+f],i[t+f],h);a.length=n;return}else u=e}for(let h=0;h<n;++h)a[h]=i[u+h];a.length=n}function DM(i,e,t,n,r){let s=i[e],a=i[e+1];for(e+=n;e<t;e+=n){const o=i[e],l=i[e+1],c=Vl(s,a,o,l);c>r&&(r=c),s=o,a=l}return r}function nG(i,e,t,n,r){for(let s=0,a=t.length;s<a;++s){const o=t[s];r=DM(i,e,o,n,r),e=o}return r}function QM(i,e,t,n,r,s,a,o,l,c,x){if(e==t)return c;let u,h;if(r===0){if(h=Vl(a,o,i[e],i[e+1]),h<c){for(u=0;u<n;++u)l[u]=i[e+u];return l.length=n,h}return c}x=x||[NaN,NaN];let f=e+n;for(;f<t;)if(TM(i,f-n,f,n,a,o,x),h=Vl(a,o,x[0],x[1]),h<c){for(c=h,u=0;u<n;++u)l[u]=x[u];l.length=n,f+=n}else f+=n*Math.max((Math.sqrt(h)-Math.sqrt(c))/r|0,1);if(TM(i,t-n,e,n,a,o,x),h=Vl(a,o,x[0],x[1]),h<c){for(c=h,u=0;u<n;++u)l[u]=x[u];l.length=n}return c}function iG(i,e,t,n,r,s,a,o,l,c,x){x=x||[NaN,NaN];for(let u=0,h=t.length;u<h;++u){const f=t[u];c=QM(i,e,f,n,r,s,a,o,l,c,x),e=f}return c}function rG(i,e,t,n){for(let r=0,s=t.length;r<s;++r)i[e++]=t[r];return e}function FM(i,e,t,n){for(let r=0,s=t.length;r<s;++r){const a=t[r];for(let o=0;o<n;++o)i[e++]=a[o]}return e}function sG(i,e,t,n,r){r=r||[];let s=0;for(let a=0,o=t.length;a<o;++a){const l=FM(i,e,t[a],n);r[s++]=l,e=l}return r.length=s,r}function aG(i,e,t,n,r,s,a){const o=(t-e)/n;if(o<3){for(;e<t;e+=n)s[a++]=i[e],s[a++]=i[e+1];return a}const l=new Array(o);l[0]=1,l[o-1]=1;const c=[e,t-n];let x=0;for(;c.length>0;){const u=c.pop(),h=c.pop();let f=0;const A=i[h],g=i[h+1],d=i[u],p=i[u+1];for(let m=h+n;m<u;m+=n){const I=i[m],_=i[m+1],y=nO(I,_,A,g,d,p);y>f&&(x=m,f=y)}f>r&&(l[(x-e)/n]=1,h+n<x&&c.push(h,x),x+n<u&&c.push(x,u))}for(let u=0;u<o;++u)l[u]&&(s[a++]=i[e+u*n],s[a++]=i[e+u*n+1]);return a}function Kl(i,e){return e*Math.round(i/e)}function oG(i,e,t,n,r,s,a){if(e==t)return a;let o=Kl(i[e],r),l=Kl(i[e+1],r);e+=n,s[a++]=o,s[a++]=l;let c,x;do if(c=Kl(i[e],r),x=Kl(i[e+1],r),e+=n,e==t)return s[a++]=c,s[a++]=x,a;while(c==o&&x==l);for(;e<t;){const u=Kl(i[e],r),h=Kl(i[e+1],r);if(e+=n,u==c&&h==x)continue;const f=c-o,A=x-l,g=u-o,d=h-l;if(f*d==A*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(A<0&&d<A||A==d||A>0&&d>A)){c=u,x=h;continue}s[a++]=c,s[a++]=x,o=c,l=x,c=u,x=h}return s[a++]=c,s[a++]=x,a}function cG(i,e,t,n,r,s,a,o){for(let l=0,c=t.length;l<c;++l){const x=t[l];a=oG(i,e,x,n,r,s,a),o.push(a),e=x}return a}function LM(i,e,t,n,r){r=r!==void 0?r:[];let s=0;for(let a=e;a<t;a+=n)r[s++]=i.slice(a,a+n);return r.length=s,r}function lG(i,e,t,n,r){r=r!==void 0?r:[];let s=0;for(let a=0,o=t.length;a<o;++a){const l=t[a];r[s++]=LM(i,e,l,n,r[s]),e=l}return r.length=s,r}function PM(i,e,t,n){let r=0;const s=i[t-n],a=i[t-n+1];let o=0,l=0;for(;e<t;e+=n){const c=i[e]-s,x=i[e+1]-a;r+=l*c-o*x,o=c,l=x}return r/2}function xG(i,e,t,n){let r=0;for(let s=0,a=t.length;s<a;++s){const o=t[s];r+=PM(i,e,o,n),e=o}return r}class wf extends gb{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new wf(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,n,r){return r<hM(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(DM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),QM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,r))}getArea(){return PM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return LM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=aG(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new wf(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=FM(this.flatCoordinates,0,e,this.stride),this.changed()}}class mb extends gb{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new mb(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){const s=this.flatCoordinates,a=Vl(e,t,s[0],s[1]);if(a<r){const o=this.stride;for(let l=0;l<o;++l)n[l]=s[l];return n.length=o,a}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return gO(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return AM(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=rG(this.flatCoordinates,0,e,this.stride),this.changed()}}function uG(i,e,t,n,r){return!yO(r,function(a){return!G0(i,e,t,n,a[0],a[1])})}function G0(i,e,t,n,r,s){let a=0,o=i[t-n],l=i[t-n+1];for(;e<t;e+=n){const c=i[e],x=i[e+1];l<=s?x>s&&(c-o)*(s-l)-(r-o)*(x-l)>0&&a++:x<=s&&(c-o)*(s-l)-(r-o)*(x-l)<0&&a--,o=c,l=x}return a!==0}function kM(i,e,t,n,r,s){if(t.length===0||!G0(i,e,t[0],n,r,s))return!1;for(let a=1,o=t.length;a<o;++a)if(G0(i,t[a-1],t[a],n,r,s))return!1;return!0}function hG(i,e,t,n,r,s,a){let o,l,c,x,u,h,f;const A=r[s+1],g=[];for(let m=0,I=t.length;m<I;++m){const _=t[m];for(x=i[_-n],h=i[_-n+1],o=e;o<_;o+=n)u=i[o],f=i[o+1],(A<=h&&f<=A||h<=A&&A<=f)&&(c=(A-h)/(f-h)*(u-x)+x,g.push(c)),x=u,h=f}let d=NaN,p=-1/0;for(g.sort(WN),x=g[0],o=1,l=g.length;o<l;++o){u=g[o];const m=Math.abs(u-x);m>p&&(c=(x+u)/2,kM(i,e,t,n,c,A)&&(d=c,p=m)),x=u}return isNaN(d)&&(d=r[s]),[d,A,p]}function fG(i,e,t,n,r){let s;for(e+=n;e<t;e+=n)if(s=r(i.slice(e-n,e),i.slice(e,e+n)),s)return s;return!1}function UM(i,e,t,n,r){const s=pM(Xl(),i,e,t,n);return bf(r,s)?Cf(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:fG(i,e,t,n,function(a,o){return BO(r,a,o)}):!1}function AG(i,e,t,n,r){return!!(UM(i,e,t,n,r)||G0(i,e,t,n,r[0],r[1])||G0(i,e,t,n,r[0],r[3])||G0(i,e,t,n,r[2],r[1])||G0(i,e,t,n,r[2],r[3]))}function dG(i,e,t,n,r){if(!AG(i,e,t[0],n,r))return!1;if(t.length===1)return!0;for(let s=1,a=t.length;s<a;++s)if(uG(i,t[s-1],t[s],n,r)&&!UM(i,t[s-1],t[s],n,r))return!1;return!0}function pG(i,e,t,n){for(;e<t-n;){for(let r=0;r<n;++r){const s=i[e+r];i[e+r]=i[t-n+r],i[t-n+r]=s}e+=n,t-=n}}function NM(i,e,t,n){let r=0,s=i[t-n],a=i[t-n+1];for(;e<t;e+=n){const o=i[e],l=i[e+1];r+=(o-s)*(l+a),s=o,a=l}return r===0?void 0:r>0}function gG(i,e,t,n,r){r=r!==void 0?r:!1;for(let s=0,a=t.length;s<a;++s){const o=t[s],l=NM(i,e,o,n);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=o}return!0}function OM(i,e,t,n,r){r=r!==void 0?r:!1;for(let s=0,a=t.length;s<a;++s){const o=t[s],l=NM(i,e,o,n);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&pG(i,e,o,n),e=o}return e}class W2 extends gb{constructor(e,t,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&n?(this.setFlatCoordinates(t,e),this.ends_=n):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?jN(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new W2(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<hM(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(nG(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),iG(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){return kM(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return xG(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),OM(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,lG(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Wl(this.getExtent());this.flatInteriorPoint_=hG(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new mb(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new wf(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,n=this.ends_,r=[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a],c=new wf(t.slice(s,l),e);r.push(c),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;gG(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=OM(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=cG(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new W2(t,"XY",n)}getType(){return"Polygon"}intersectsExtent(e){return dG(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=sG(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()}}function GM(i){if(vf(i))throw new Error("Cannot create polygon from empty extent");const e=i[0],t=i[1],n=i[2],r=i[3],s=[e,t,e,r,n,r,n,t,e,t];return new W2(s,"XY",[s.length])}const _b=0;class zM extends P2{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=fb(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&DO(),e.center&&(e.center=Qo(e.center,this.projection_)),e.extent&&(e.extent=jl(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const o in ss)delete t[o];this.setProperties(t,!0);const n=_G(e);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom;const r=mG(e),s=n.constraint,a=IG(e);this.constraints_={center:r,resolution:s,rotation:a},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const n=this.getCenterInternal();if(n){const r=e||[0,0,0,0];t=t||[0,0,0,0];const s=this.getResolution(),a=s/2*(r[3]-t[3]+t[1]-r[1]),o=s/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([n[0]+a,n[1]-o])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let n=0;n<t.length;++n){let r=arguments[n];r.center&&(r=Object.assign({},r),r.center=Qo(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Qo(r.anchor,this.getProjection())),t[n]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,n;t>1&&typeof arguments[t-1]=="function"&&(n=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const x=arguments[r];x.center&&this.setCenterInternal(x.center),x.zoom!==void 0?this.setZoom(x.zoom):x.resolution&&this.setResolution(x.resolution),x.rotation!==void 0&&this.setRotation(x.rotation)}if(r===t){n&&j2(n,!0);return}let s=Date.now(),a=this.targetCenter_.slice(),o=this.targetResolution_,l=this.targetRotation_;const c=[];for(;r<t;++r){const x=arguments[r],u={start:s,complete:!1,anchor:x.anchor,duration:x.duration!==void 0?x.duration:1e3,easing:x.easing||YO,callback:n};if(x.center&&(u.sourceCenter=a,u.targetCenter=x.center.slice(),a=u.targetCenter),x.zoom!==void 0?(u.sourceResolution=o,u.targetResolution=this.getResolutionForZoom(x.zoom),o=u.targetResolution):x.resolution&&(u.sourceResolution=o,u.targetResolution=x.resolution,o=u.targetResolution),x.rotation!==void 0){u.sourceRotation=l;const h=If(x.rotation-l+Math.PI,2*Math.PI)-Math.PI;u.targetRotation=l+h,l=u.targetRotation}EG(u)?u.complete=!0:s+=u.duration,c.push(u)}this.animations_.push(c),this.setHint(Ls.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Ls.ANIMATING]>0}getInteracting(){return this.hints_[Ls.INTERACTING]>0}cancelAnimations(){this.setHint(Ls.ANIMATING,-this.hints_[Ls.ANIMATING]);let e;for(let t=0,n=this.animations_.length;t<n;++t){const r=this.animations_[t];if(r[0].callback&&j2(r[0].callback,!1),!e)for(let s=0,a=r.length;s<a;++s){const o=r[s];if(!o.complete){e=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let n=this.animations_.length-1;n>=0;--n){const r=this.animations_[n];let s=!0;for(let a=0,o=r.length;a<o;++a){const l=r[a];if(l.complete)continue;const c=e-l.start;let x=l.duration>0?c/l.duration:1;x>=1?(l.complete=!0,x=1):s=!1;const u=l.easing(x);if(l.sourceCenter){const h=l.sourceCenter[0],f=l.sourceCenter[1],A=l.targetCenter[0],g=l.targetCenter[1];this.nextCenter_=l.targetCenter;const d=h+u*(A-h),p=f+u*(g-f);this.targetCenter_=[d,p]}if(l.sourceResolution&&l.targetResolution){const h=u===1?l.targetResolution:l.sourceResolution+u*(l.targetResolution-l.sourceResolution);if(l.anchor){const f=this.getViewportSize_(this.getRotation()),A=this.constraints_.resolution(h,0,f,!0);this.targetCenter_=this.calculateCenterZoom(A,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=h,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const h=u===1?If(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+u*(l.targetRotation-l.sourceRotation);if(l.anchor){const f=this.constraints_.rotation(h,!0);this.targetCenter_=this.calculateCenterRotate(f,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=h}if(this.applyTargetState_(!0),t=!0,!l.complete)break}if(s){this.animations_[n]=null,this.setHint(Ls.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const a=r[0].callback;a&&j2(a,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let n;const r=this.getCenterInternal();return r!==void 0&&(n=[r[0]-t[0],r[1]-t[1]],MO(n,e-this.getRotation()),SO(n,t)),n}calculateCenterZoom(e,t){let n;const r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){const a=t[0]-e*(t[0]-r[0])/s,o=t[1]-e*(t[1]-r[1])/s;n=[a,o]}return n}getViewportSize_(e){const t=this.viewportSize_;if(e){const n=t[0],r=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&bM(e,this.getProjection())}getCenterInternal(){return this.get(ss.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return PO(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();ya(t,"The view center is not defined");const n=this.getResolution();ya(n!==void 0,"The view resolution is not defined");const r=this.getRotation();return ya(r!==void 0,"The view rotation is not defined"),gM(t,n,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(ss.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(jl(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const n=Nn(e)/t[0],r=bi(e)/t[1];return Math.max(n,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(t/n)/Math.log(e);return function(s){return t/Math.pow(e,s*r)}}getRotation(){return this.get(ss.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(n/r)/t;return function(a){return Math.log(n/a)/t/s}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),n=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const a=this.getViewportSizeMinusPadding_();r=Ib(r,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],t,n)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,n,r;if(this.resolutions_){const s=ib(this.resolutions_,e,1);t=s,n=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=n/this.resolutions_[s+1]}else n=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(n/e)/Math.log(r)}getResolutionForZoom(e){var t;if((t=this.resolutions_)!=null&&t.length){if(this.resolutions_.length===1)return this.resolutions_[0];const n=$i(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,$i(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let n;if(ya(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){ya(!vf(e),"Cannot fit empty extent provided as `geometry`");const r=jl(e,this.getProjection());n=GM(r)}else if(e.getType()==="Circle"){const r=jl(e.getExtent(),this.getProjection());n=GM(r),n.rotate(this.getRotation(),Wl(r))}else n=e;this.fitInternal(n,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),n=Math.cos(t),r=Math.sin(-t),s=e.getFlatCoordinates(),a=e.getStride();let o=1/0,l=1/0,c=-1/0,x=-1/0;for(let u=0,h=s.length;u<h;u+=a){const f=s[u]*n-s[u+1]*r,A=s[u]*r+s[u+1]*n;o=Math.min(o,f),l=Math.min(l,A),c=Math.max(c,f),x=Math.max(x,A)}return[o,l,c,x]}fitInternal(e,t){t=t||{};let n=t.size;n||(n=this.getViewportSizeMinusPadding_());const r=t.padding!==void 0?t.padding:[0,0,0,0],s=t.nearest!==void 0?t.nearest:!1;let a;t.minResolution!==void 0?a=t.minResolution:t.maxZoom!==void 0?a=this.getResolutionForZoom(t.maxZoom):a=0;const o=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(o,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);l=isNaN(l)?a:Math.max(l,a),l=this.getConstrainedResolution(l,s?0:1);const c=this.getRotation(),x=Math.sin(c),u=Math.cos(c),h=Wl(o);h[0]+=(r[1]-r[3])/2*l,h[1]+=(r[0]-r[2])/2*l;const f=h[0]*u-h[1]*x,A=h[1]*u+h[0]*x,g=this.getConstrainedCenter([f,A],l),d=t.callback?t.callback:rb;t.duration!==void 0?this.animateInternal({resolution:l,center:g,duration:t.duration,easing:t.easing},d):(this.targetResolution_=l,this.targetCenter_=g,this.applyTargetState_(!1,!0),j2(d,!0))}centerOn(e,t,n){this.centerOnInternal(Qo(e,this.getProjection()),t,n)}centerOnInternal(e,t,n){this.setCenterInternal(Ib(e,t,n,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,n,r){let s;const a=this.padding_;if(a&&e){const o=this.getViewportSizeMinusPadding_(-n),l=Ib(e,r,[o[0]/2+a[3],o[1]/2+a[0]],t,n);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=bM(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Qo(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,n);t&&(this.targetCenter_=this.calculateCenterZoom(s,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Qo(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Qo(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const n=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,n),s=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,0,s,n),o=this.constraints_.center(this.targetCenter_,a,s,n,this.calculateCenterShift(this.targetCenter_,a,r,s));this.get(ss.ROTATION)!==r&&this.set(ss.ROTATION,r),this.get(ss.RESOLUTION)!==a&&(this.set(ss.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!o||!this.get(ss.CENTER)||!V2(this.get(ss.CENTER),o))&&this.set(ss.CENTER,o),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,n){e=e!==void 0?e:200;const r=t||0,s=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,r,a),l=this.constraints_.center(this.targetCenter_,o,a,!1,this.calculateCenterShift(this.targetCenter_,o,s,a));if(e===0&&!this.cancelAnchor_){this.targetResolution_=o,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}n=n||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==o||this.getRotation()!==s||!this.getCenterInternal()||!V2(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:o,duration:e,easing:qO,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Ls.INTERACTING,1)}endInteraction(e,t,n){n=n&&Qo(n,this.getProjection()),this.endInteractionInternal(e,t,n)}endInteractionInternal(e,t,n){this.getInteracting()&&(this.setHint(Ls.INTERACTING,-1),this.resolveConstraints(e,t,n))}getConstrainedCenter(e,t){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}getConstrainedZoom(e,t){const n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}getConstrainedResolution(e,t){t=t||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}function j2(i,e){setTimeout(function(){i(e)},0)}function mG(i){if(i.extent!==void 0){const t=i.smoothExtentConstraint!==void 0?i.smoothExtentConstraint:!0;return vM(i.extent,i.constrainOnlyCenter,t)}const e=fb(i.projection,"EPSG:3857");if(i.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,vM(t,!1,!1)}return UO}function _G(i){let e,t,n,a=i.minZoom!==void 0?i.minZoom:_b,o=i.maxZoom!==void 0?i.maxZoom:28;const l=i.zoomFactor!==void 0?i.zoomFactor:2,c=i.multiWorld!==void 0?i.multiWorld:!1,x=i.smoothResolutionConstraint!==void 0?i.smoothResolutionConstraint:!0,u=i.showFullExtent!==void 0?i.showFullExtent:!1,h=fb(i.projection,"EPSG:3857"),f=h.getExtent();let A=i.constrainOnlyCenter,g=i.extent;if(!c&&!g&&h.isGlobal()&&(A=!1,g=f),i.resolutions!==void 0){const d=i.resolutions;t=d[a],n=d[o]!==void 0?d[o]:d[d.length-1],i.constrainResolution?e=NO(d,x,!A&&g,u):e=wM(t,n,x,!A&&g,u)}else{const p=(f?Math.max(Nn(f),bi(f)):360*aM.degrees/h.getMetersPerUnit())/oO/Math.pow(2,_b),m=p/Math.pow(2,28-_b);t=i.maxResolution,t!==void 0?a=0:t=p/Math.pow(l,a),n=i.minResolution,n===void 0&&(i.maxZoom!==void 0?i.maxResolution!==void 0?n=t/Math.pow(l,o):n=p/Math.pow(l,o):n=m),o=a+Math.floor(Math.log(t/n)/Math.log(l)),n=t/Math.pow(l,o-a),i.constrainResolution?e=OO(l,t,n,x,!A&&g,u):e=wM(t,n,x,!A&&g,u)}return{constraint:e,maxResolution:t,minResolution:n,minZoom:a,zoomFactor:l}}function IG(i){if(i.enableRotation!==void 0?i.enableRotation:!0){const t=i.constrainRotation;return t===void 0||t===!0?VO():t===!1?BM:typeof t=="number"?zO(t):BM}return GO}function EG(i){return!(i.sourceCenter&&i.targetCenter&&!V2(i.sourceCenter,i.targetCenter)||i.sourceResolution!==i.targetResolution||i.sourceRotation!==i.targetRotation)}function Ib(i,e,t,n,r){const s=Math.cos(-r);let a=Math.sin(-r),o=i[0]*s-i[1]*a,l=i[1]*s+i[0]*a;o+=(e[0]/2-t[0])*n,l+=(t[1]-e[1]/2)*n,a=-a;const c=o*s-l*a,x=l*s+o*a;return[c,x]}class yG extends aO{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Xt.SOURCE,this.handleSourcePropertyChange_);const n=e.source?e.source:null;this.setSource(n)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Xt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(zl(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=N0(e,U0.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const n=this.getMapInternal();!e&&n&&(e=n.getView()),e instanceof zM?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&n&&(t.layerStatesArray=n.getLayerGroup().getLayerStatesArray());let r;t.layerStatesArray?r=t.layerStatesArray.find(a=>a.layer===this):r=this.getLayerState();const s=this.getExtent();return CG(r,t.viewState)&&(!s||bf(s,t.extent))}getAttributions(e){var s;if(!this.isVisible(e))return[];const t=(s=this.getSource())==null?void 0:s.getAttributions();if(!t)return[];const n=e instanceof zM?e.getViewStateAndExtent():e;let r=t(n);return Array.isArray(r)||(r=[r]),r}render(e,t){const n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Xt.MAP,e)}getMapInternal(){return this.get(Xt.MAP)}setMap(e){this.mapPrecomposeKey_&&(zl(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(zl(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=N0(e,Ef.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=N0(this,U0.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,n=this.getLayerState(!1);ya(!t.some(r=>r.layer===n.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(n)}setSource(e){this.set(Xt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function CG(i,e){if(!i.visible)return!1;const t=e.resolution;if(t<i.minResolution||t>=i.maxResolution)return!1;const n=e.zoom;return n>i.minZoom&&n<=i.maxZoom}class bG extends yG{constructor(e){e=e||{},super(e)}}const Lt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},vG=5;class wG extends _f{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=vG}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Zn()}getData(e){return null}prepareFrame(e){return Zn()}renderFrame(e,t){return Zn()}forEachFeatureAtCoordinate(e,t,n,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===Lt.LOADED||t.getState()===Lt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Lt.LOADED&&t!=Lt.ERROR&&e.addEventListener(U0.CHANGE,this.boundHandleImageChange_),t==Lt.IDLE&&(e.load(),t=e.getState()),t==Lt.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class BG extends L2{constructor(e,t,n,r){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=r}}const Fo=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"";Fo.includes("firefox"),Fo.includes("safari")&&!Fo.includes("chrom")&&(Fo.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Fo)),Fo.includes("webkit")&&Fo.includes("edge"),Fo.includes("macintosh");const SG=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope;(function(){let i=!1;try{const e=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return i})();function Jl(i,e,t,n){let r;return t&&t.length?r=t.shift():SG?r=new OffscreenCanvas(i||300,e||300):r=document.createElement("canvas"),i&&(r.width=i),e&&(r.height=e),r.getContext("2d",n)}let Eb;function VM(){return Eb||(Eb=Jl(1,1)),Eb}function HM(i){const e=i.canvas;e.width=1,e.height=1,i.clearRect(0,0,1,1)}class MG{constructor(){hn(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(VM(),{get:(e,t)=>{if(typeof VM()[t]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t),this.pushMethodArgs_},set:(e,t,n)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t,n),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let n=0,r=t.length;n<r;++n){const s=t[n];if(typeof s=="function"){s(e);continue}const a=t[++n];if(typeof e[s]=="function")e[s](...a);else{if(typeof a=="function"){e[s]=a(e);continue}e[s]=a}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const RG=[NaN,NaN,NaN,0],TG=1024,Bf={};let yb=0;function DG(i){if(i==="none")return RG;if(Bf.hasOwnProperty(i))return Bf[i];if(yb>=TG){let t=0;for(const n in Bf)t++&3||(delete Bf[n],--yb)}const e=jw(i);if(e.length!==4)throw new Error('failed to parse "'+i+'" as color');for(const t of e)if(isNaN(t))throw new Error('failed to parse "'+i+'" as color');return QG(e),Bf[i]=e,++yb,e}function qM(i){return Array.isArray(i)?i:DG(i)}function QG(i){return i[0]=$i(i[0]+.5|0,0,255),i[1]=$i(i[1]+.5|0,0,255),i[2]=$i(i[2]+.5|0,0,255),i[3]=$i(i[3],0,1),i}let Zl=null;function FG(){Zl=Jl(1,1,void 0,{willReadFrequently:!0})}class LG extends wG{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Y2(),this.pixelTransform=Y2(),this.inversePixelTransform=Y2(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,n){Zl||FG(),Zl.clearRect(0,0,1,1);let r;try{Zl.drawImage(e,t,n,1,1,0,0,1,1),r=Zl.getImageData(0,0,1,1).data}catch{return Zl=null,null}return r}getBackground(e){let n=this.getLayer().getBackground();return typeof n=="function"&&(n=n(e.viewState.resolution)),n||void 0}useContainer(e,t,n){const r=this.getLayer().getClassName();let s,a;if(e&&e.className===r&&(!n||e&&e.style.backgroundColor&&tM(qM(e.style.backgroundColor),qM(n)))){const o=e.firstElementChild;o instanceof HTMLCanvasElement&&(a=o.getContext("2d"))}if(a&&a.canvas.style.transform===t?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let o=s.style;o.position="absolute",o.width="100%",o.height="100%",a=Jl();const l=a.canvas;s.appendChild(l),o=l.style,o.position="absolute",o.left="0",o.transformOrigin="top left",this.container=s,this.context=a}!this.containerReused&&n&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=n)}clipUnrotated(e,t,n){const r=z2(n),s=xb(n),a=lb(n),o=cb(n);Ca(t.coordinateToPixelTransform,r),Ca(t.coordinateToPixelTransform,s),Ca(t.coordinateToPixelTransform,a),Ca(t.coordinateToPixelTransform,o);const l=this.inversePixelTransform;Ca(l,r),Ca(l,s),Ca(l,a),Ca(l,o),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.clip()}prepareContainer(e,t){const n=e.extent,r=e.viewState.resolution,s=e.viewState.rotation,a=e.pixelRatio,o=Math.round(Nn(n)/r*a),l=Math.round(bi(n)/r*a);X2(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/a,1/a,s,-o/2,-l/2),XO(this.inversePixelTransform,this.pixelTransform);const c=jO(this.pixelTransform);if(this.useContainer(t,c,this.getBackground(e)),!this.containerReused){const x=this.context.canvas;x.width!=o||x.height!=l?(x.width=o,x.height=l):this.context.clearRect(0,0,o,l),c!==x.style.transform&&(x.style.transform=c)}}dispatchRenderEvent_(e,t,n){const r=this.getLayer();if(r.hasListener(e)){const s=new BG(e,this.inversePixelTransform,n,t);r.dispatchEvent(s)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(Ef.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(Ef.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new MG),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Ef.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Ef.POSTRENDER,this.context,e))}getRenderTransform(e,t,n,r,s,a,o){const l=s/2,c=a/2,x=r/t,u=-x,h=-e[0]+o,f=-e[1];return X2(this.tempTransform,l,c,x,u,-n,h,f)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class PG extends LG{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,r=e.viewState,s=r.resolution,a=this.getLayer().getSource(),o=e.viewHints;let l=e.extent;if(t.extent!==void 0&&(l=mM(l,jl(t.extent,r.projection))),!o[Ls.ANIMATING]&&!o[Ls.INTERACTING]&&!vf(l))if(a){const c=r.projection,x=a.getImage(l,s,n,c);x&&(this.loadImage(x)?this.image=x:x.getState()===Lt.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=Ca(t.pixelToCoordinateTransform,e.slice()),s=n.getExtent();if(s&&!fM(s,r))return null;const a=this.image.getExtent(),o=this.image.getImage(),l=Nn(a),c=Math.floor(o.width*((r[0]-a[0])/l));if(c<0||c>=o.width)return null;const x=bi(a),u=Math.floor(o.height*((a[3]-r[1])/x));return u<0||u>=o.height?null:this.getImageData(o,c,u)}renderFrame(e,t){const n=this.image,r=n.getExtent(),s=n.getResolution(),[a,o]=Array.isArray(s)?s:[s,s],l=n.getPixelRatio(),c=e.layerStatesArray[e.layerIndex],x=e.pixelRatio,u=e.viewState,h=u.center,f=u.resolution,A=x*a/(f*l),g=x*o/(f*l);this.prepareContainer(e,t);const d=this.context.canvas.width,p=this.context.canvas.height,m=this.getRenderContext(e);let I=!1,_=!0;if(c.extent){const b=jl(c.extent,u.projection);_=bf(b,e.extent),I=_&&!Cf(b,e.extent),I&&this.clipUnrotated(m,e,b)}const y=n.getImage(),E=X2(this.tempTransform,d/2,p/2,A,g,0,l*(r[0]-h[0])/a,l*(h[1]-r[3])/o);this.renderedResolution=o*x/l;const C=y.width*E[0],w=y.height*E[3];if(this.getLayer().getSource().getInterpolate()||(m.imageSmoothingEnabled=!1),this.preRender(m,e),_&&C>=.5&&w>=.5){const b=E[4],v=E[5],B=c.opacity;B!==1&&(m.save(),m.globalAlpha=B),m.drawImage(y,0,0,+y.width,+y.height,b,v,C,w),B!==1&&m.restore()}return this.postRender(this.context,e),I&&m.restore(),m.imageSmoothingEnabled=!0,this.container}}class kG extends bG{constructor(e){super(e)}createRenderer(){return new PG(this)}getData(e){return super.getData(e)}}class Cb extends iM{constructor(e,t,n,r){super(),this.extent=e,this.pixelRatio_=n,this.resolution=t,this.state=typeof r=="function"?Lt.IDLE:r,this.image_=null,this.loader=typeof r=="function"?r:null}changed(){this.dispatchEvent(U0.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==Lt.IDLE&&this.loader){this.state=Lt.LOADING,this.changed();const e=this.getResolution(),t=Array.isArray(e)?e[0]:e;JN(()=>this.loader(this.getExtent(),t,this.getPixelRatio())).then(n=>{"image"in n&&(this.image_=n.image),"extent"in n&&(this.extent=n.extent),"resolution"in n&&(this.resolution=n.resolution),"pixelRatio"in n&&(this.pixelRatio_=n.pixelRatio),(n instanceof HTMLImageElement||n instanceof ImageBitmap||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement)&&(this.image_=n),this.state=Lt.LOADED}).catch(n=>{this.state=Lt.ERROR,console.error(n)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}class UG extends Cb{constructor(e,t,n,r,s){const a=s!==void 0?Lt.IDLE:Lt.LOADED;super(e,t,n,a),this.loader_=s!==void 0?s:null,this.canvas_=r,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=Lt.ERROR):this.state=Lt.LOADED,this.changed()}load(){this.state==Lt.IDLE&&(this.state=Lt.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}const NG=.5,OG=10,YM=.25;class GG{constructor(e,t,n,r,s,a){this.sourceProj_=e,this.targetProj_=t;let o={};const l=H2(this.targetProj_,this.sourceProj_);this.transformInv_=function(m){const I=m[0]+"/"+m[1];return o[I]||(o[I]=l(m)),o[I]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Nn(r)>=Nn(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Nn(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Nn(this.targetProj_.getExtent()):null;const c=z2(n),x=xb(n),u=lb(n),h=cb(n),f=this.transformInv_(c),A=this.transformInv_(x),g=this.transformInv_(u),d=this.transformInv_(h),p=OG+(a?Math.max(0,Math.ceil(Math.log2(CO(n)/(a*a*256*256)))):0);if(this.addQuad_(c,x,u,h,f,A,g,d,p),this.wrapsXInSource_){let m=1/0;this.triangles_.forEach(function(I,_,y){m=Math.min(m,I.source[0][0],I.source[1][0],I.source[2][0])}),this.triangles_.forEach(I=>{if(Math.max(I.source[0][0],I.source[1][0],I.source[2][0])-m>this.sourceWorldWidth_/2){const _=[[I.source[0][0],I.source[0][1]],[I.source[1][0],I.source[1][1]],[I.source[2][0],I.source[2][1]]];_[0][0]-m>this.sourceWorldWidth_/2&&(_[0][0]-=this.sourceWorldWidth_),_[1][0]-m>this.sourceWorldWidth_/2&&(_[1][0]-=this.sourceWorldWidth_),_[2][0]-m>this.sourceWorldWidth_/2&&(_[2][0]-=this.sourceWorldWidth_);const y=Math.min(_[0][0],_[1][0],_[2][0]);Math.max(_[0][0],_[1][0],_[2][0])-y<this.sourceWorldWidth_/2&&(I.source=_)}})}o={}}addTriangle_(e,t,n,r,s,a){this.triangles_.push({source:[r,s,a],target:[e,t,n]})}addQuad_(e,t,n,r,s,a,o,l,c){const x=uM([s,a,o,l]),u=this.sourceWorldWidth_?Nn(x)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&u>.5&&u<1;let A=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const d=uM([e,t,n,r]);A=Nn(d)/this.targetWorldWidth_>YM||A}!f&&this.sourceProj_.isGlobal()&&u&&(A=u>YM||A)}if(!A&&this.maxSourceExtent_&&isFinite(x[0])&&isFinite(x[1])&&isFinite(x[2])&&isFinite(x[3])&&!bf(x,this.maxSourceExtent_))return;let g=0;if(!A&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)A=!0;else if(g=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),g!=1&&g!=2&&g!=4&&g!=8)return}if(c>0){if(!A){const d=[(e[0]+n[0])/2,(e[1]+n[1])/2],p=this.transformInv_(d);let m;f?m=(If(s[0],h)+If(o[0],h))/2-If(p[0],h):m=(s[0]+o[0])/2-p[0];const I=(s[1]+o[1])/2-p[1];A=m*m+I*I>this.errorThresholdSquared_}if(A){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){const d=[(t[0]+n[0])/2,(t[1]+n[1])/2],p=this.transformInv_(d),m=[(r[0]+e[0])/2,(r[1]+e[1])/2],I=this.transformInv_(m);this.addQuad_(e,t,d,m,s,a,p,I,c-1),this.addQuad_(m,d,n,r,I,p,o,l,c-1)}else{const d=[(e[0]+t[0])/2,(e[1]+t[1])/2],p=this.transformInv_(d),m=[(n[0]+r[0])/2,(n[1]+r[1])/2],I=this.transformInv_(m);this.addQuad_(e,d,m,r,s,p,I,l,c-1),this.addQuad_(d,t,n,m,p,a,o,I,c-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}g&11||this.addTriangle_(e,n,r,s,o,l),g&14||this.addTriangle_(e,n,t,s,o,a),g&&(g&13||this.addTriangle_(t,r,e,a,l,s),g&7||this.addTriangle_(t,r,n,a,l,o))}calculateSourceExtent(){const e=Xl();return this.triangles_.forEach(function(t,n,r){const s=t.source;G2(e,s[0]),G2(e,s[1]),G2(e,s[2])}),e}getTriangles(){return this.triangles_}}let bb;const Sf=[];function XM(i,e,t,n,r){i.beginPath(),i.moveTo(0,0),i.lineTo(e,t),i.lineTo(n,r),i.closePath(),i.save(),i.clip(),i.fillRect(0,0,Math.max(e,n)+1,Math.max(t,r)),i.restore()}function vb(i,e){return Math.abs(i[e*4]-210)>2||Math.abs(i[e*4+3]-.75*255)>2}function zG(){if(bb===void 0){const i=Jl(6,6,Sf);i.globalCompositeOperation="lighter",i.fillStyle="rgba(210, 0, 0, 0.75)",XM(i,4,5,4,0),XM(i,4,5,0,5);const e=i.getImageData(0,0,3,3).data;bb=vb(e,0)||vb(e,4)||vb(e,8),HM(i),Sf.push(i.canvas)}return bb}function VG(i,e,t,n){const r=q2(t,e,i);let s=EM(e,n,t);const a=e.getMetersPerUnit();a!==void 0&&(s*=a);const o=i.getMetersPerUnit();o!==void 0&&(s/=o);const l=i.getExtent();if(!l||fM(l,r)){const c=EM(i,s,r)/s;isFinite(c)&&c>0&&(s/=c)}return s}function HG(i,e,t,n,r,s,a,o,l,c,x,u,h,f){const A=Jl(Math.round(t*i),Math.round(t*e),Sf);if(u||(A.imageSmoothingEnabled=!1),l.length===0)return A.canvas;A.scale(t,t);function g(y){return Math.round(y*t)/t}A.globalCompositeOperation="lighter";const d=Xl();l.forEach(function(y,E,C){IO(d,y.extent)});let p;const m=t/n,I=(u?1:1+Math.pow(2,-24))/m;if(l.length!==1||c!==0){if(p=Jl(Math.round(Nn(d)*m),Math.round(bi(d)*m),Sf),u||(p.imageSmoothingEnabled=!1),r&&f){const y=(r[0]-d[0])*m,E=-(r[3]-d[3])*m,C=Nn(r)*m,w=bi(r)*m;p.rect(y,E,C,w),p.clip()}l.forEach(function(y,E,C){if(y.image.width>0&&y.image.height>0){if(y.clipExtent){p.save();const R=(y.clipExtent[0]-d[0])*m,T=-(y.clipExtent[3]-d[3])*m,F=Nn(y.clipExtent)*m,M=bi(y.clipExtent)*m;p.rect(u?R:Math.round(R),u?T:Math.round(T),u?F:Math.round(R+F)-Math.round(R),u?M:Math.round(T+M)-Math.round(T)),p.clip()}const w=(y.extent[0]-d[0])*m,b=-(y.extent[3]-d[3])*m,v=Nn(y.extent)*m,B=bi(y.extent)*m;p.drawImage(y.image,c,c,y.image.width-2*c,y.image.height-2*c,u?w:Math.round(w),u?b:Math.round(b),u?v:Math.round(w+v)-Math.round(w),u?B:Math.round(b+B)-Math.round(b)),y.clipExtent&&p.restore()}})}const _=z2(a);return o.getTriangles().forEach(function(y,E,C){const w=y.source,b=y.target;let v=w[0][0],B=w[0][1],R=w[1][0],T=w[1][1],F=w[2][0],M=w[2][1];const D=g((b[0][0]-_[0])/s),P=g(-(b[0][1]-_[1])/s),k=g((b[1][0]-_[0])/s),V=g(-(b[1][1]-_[1])/s),Y=g((b[2][0]-_[0])/s),U=g(-(b[2][1]-_[1])/s),ne=v,xe=B;v=0,B=0,R-=ne,T-=xe,F-=ne,M-=xe;const G=[[R,T,0,0,k-D],[F,M,0,0,Y-D],[0,0,R,T,V-P],[0,0,F,M,U-P]],O=iO(G);if(!O)return;if(A.save(),A.beginPath(),zG()||!u){A.moveTo(k,V);const K=4,ce=D-k,Ae=P-V;for(let ge=0;ge<K;ge++)A.lineTo(k+g((ge+1)*ce/K),V+g(ge*Ae/(K-1))),ge!=K-1&&A.lineTo(k+g((ge+1)*ce/K),V+g((ge+1)*Ae/(K-1)));A.lineTo(Y,U)}else A.moveTo(k,V),A.lineTo(D,P),A.lineTo(Y,U);A.clip(),A.transform(O[0],O[2],O[1],O[3],D,P),A.translate(d[0]-ne,d[3]-xe);let ee;if(p)ee=p.canvas,A.scale(I,-I);else{const K=l[0],ce=K.extent;ee=K.image,A.scale(Nn(ce)/ee.width,-bi(ce)/ee.height)}A.drawImage(ee,0,0),A.restore()}),p&&(HM(p),Sf.push(p.canvas)),A.canvas}function wb(i){return Array.isArray(i)?Math.min(...i):i}class qG extends Cb{constructor(e,t,n,r,s,a,o){let l=e.getExtent();l&&e.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);let c=t.getExtent();c&&t.canWrapX()&&(c=c.slice(),c[0]=-1/0,c[2]=1/0);const x=c?mM(n,c):n,u=Wl(x),h=VG(e,t,u,r),f=NG,A=new GG(e,t,x,l,h*f,r),g=A.calculateSourceExtent(),d=vf(g)?null:a(g,h,s),p=d?Lt.IDLE:Lt.EMPTY,m=d?d.getPixelRatio():1;super(n,r,m,p),this.targetProj_=t,this.maxSourceExtent_=l,this.triangulation_=A,this.targetResolution_=r,this.targetExtent_=n,this.sourceImage_=d,this.sourcePixelRatio_=m,this.interpolate_=o,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==Lt.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==Lt.LOADED){const t=Nn(this.targetExtent_)/this.targetResolution_,n=bi(this.targetExtent_)/this.targetResolution_;this.canvas_=HG(t,n,this.sourcePixelRatio_,wb(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=e,this.changed()}load(){if(this.state==Lt.IDLE){this.state=Lt.LOADING,this.changed();const e=this.sourceImage_.getState();e==Lt.LOADED||e==Lt.ERROR?this.reproject_():(this.sourceListenerKey_=N0(this.sourceImage_,U0.CHANGE,t=>{const n=this.sourceImage_.getState();(n==Lt.LOADED||n==Lt.ERROR)&&(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){zl(this.sourceListenerKey_),this.sourceListenerKey_=null}}let YG=class extends P2{constructor(e){super(),this.projection=Do(e.projection),this.attributions_=WM(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(n,r){t.viewResolver=n,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=WM(e),this.changed()}setState(e){this.state_=e,this.changed()}};function WM(i){return i?typeof i=="function"?i:(Array.isArray(i)||(i=[i]),e=>i):null}const K2=4,Bb={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class XG extends L2{constructor(e,t){super(e),this.image=t}}class WG extends YG{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const n=ib(t,e,0);e=t[n]}return e}getImage(e,t,n,r){const s=this.getProjection();if(!s||!r||CM(s,r))return s&&(r=s),this.getImageInternal(e,t,n,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&CM(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&_O(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new qG(s,r,e,t,n,(a,o,l)=>this.getImageInternal(a,o,l,s),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,n,r){if(this.loader){const s=jG(e,t,n,1),a=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&Cf(this.wantedExtent_,s)||Cf(this.image.getExtent(),s))&&(this.wantedResolution_&&wb(this.wantedResolution_)===a||wb(this.image.getResolution())===a)))return this.image;this.wantedProjection_=r,this.wantedExtent_=s,this.wantedResolution_=a,this.image=new Cb(s,a,n,this.loader),this.image.addEventListener(U0.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let n;switch(t.getState()){case Lt.LOADING:this.loading=!0,n=Bb.IMAGELOADSTART;break;case Lt.LOADED:this.loading=!1,n=Bb.IMAGELOADEND;break;case Lt.ERROR:this.loading=!1,n=Bb.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new XG(n,t))}}function jG(i,e,t,n){const r=e/t,s=Wl(i),a=U2(Nn(i)/r,K2),o=U2(bi(i)/r,K2),l=U2((n-1)*a/2,K2),c=a+2*l,x=U2((n-1)*o/2,K2),u=o+2*x;return gM(s,r,0,[c,u])}class KG extends WG{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions,state:e.state}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5}getImageInternal(e,t,n,r){t=this.findNearestResolution(t);let s=this.canvas_;if(s&&this.renderedRevision_==this.getRevision()&&s.getResolution()==t&&s.getPixelRatio()==n&&Cf(s.getExtent(),e))return s;e=e.slice(),wO(e,this.ratio_);const a=Nn(e)/t,o=bi(e)/t,l=[a*n,o*n],c=this.canvasFunction_.call(this,e,t,n,l,r);return c&&(s=new UG(e,t,n,c)),this.canvas_=s,this.renderedRevision_=this.getRevision(),s}}const jM={};class JG extends kG{constructor(t={}){super({...jM,...t});hn(this,"type","custom");hn(this,"onMount",t=>{});hn(this,"onBeforeUpdate",t=>{});hn(this,"onUpdate",t=>{});hn(this,"reDraw",()=>{this._needRedraw=!0,this.source.changed()});hn(this,"setNeedRedraw",()=>{this._needRedraw=!0});hn(this,"lnglatToScreen",(t,n,r,s)=>{const a=n.getView().getProjection().getCode();t=q2(t,"EPSG:4326",a);const o=n.getSize();let l=n.getView().calculateExtent(o);const c=n.getPixelFromCoordinate([r[0],r[3]]),x=n.getPixelFromCoordinate([l[0],l[3]]),u=[x[0]-c[0],x[1]-c[1]],h=n.getPixelFromCoordinate(t),f=(h[0]+u[0])*s,A=(h[1]+u[1])*s;return[f,A]});hn(this,"extentTolnglat",(t,n)=>{const r=n.getView().getProjection().getCode(),[s,a]=q2([t[0],t[1]],r,"EPSG:4326"),[o,l]=q2([t[2],t[3]],r,"EPSG:4326");return[s,a,o,l]});this.props={...jM,...t},this.canvas=null,this.gl=null,this._needRedraw=!1,this._isMounted=!1,this._init()}_init(){this.canvas||(this.canvas=document.createElement("canvas"));const{projection:t}=this.props;this.source=new KG({canvasFunction:(n,r,s,a,o)=>(this.canvas&&(this.canvas.width=a[0],this.canvas.height=a[1],this._isMounted||(this.onMount({canvas:this.canvas}),this._isMounted=!0),this.gl&&(this.onBeforeUpdate.call(this,{gl:this.gl,canvas:this.canvas,extent:n,resolution:r,pixelRatio:s,size:a,projection:o}),this._needRedraw&&this.onUpdate.call(this,{gl:this.gl,canvas:this.canvas,extent:n,resolution:r,pixelRatio:s,size:a,projection:o}))),this._needRedraw=!1,this.canvas),projection:t}),this.setSource(this.source)}}const ZG={projection:"EPSG:4326"};class KM extends JG{constructor(t={}){super({...ZG,...t});hn(this,"onMount",({canvas:t})=>{this.gl||(this.gl=t.getContext("webgl2"))})}}function J2(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),i.getShaderParameter(n,i.COMPILE_STATUS)?n:(console.error(": ",i.getShaderInfoLog(n)),i.deleteShader(n),null)}function Sb(i,e,t){const n=J2(i,i.VERTEX_SHADER,e),r=J2(i,i.FRAGMENT_SHADER,t),s=i.createProgram();return i.attachShader(s,n),i.attachShader(s,r),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)?s:(console.error(": ",i.getProgramInfoLog(s)),i.deleteProgram(s),null)}function $G(i,e,t,n=[]){const r=J2(i,i.VERTEX_SHADER,e),s=J2(i,i.FRAGMENT_SHADER,t),a=i.createProgram();return i.attachShader(a,r),i.attachShader(a,s),i.transformFeedbackVaryings(a,n,i.SEPARATE_ATTRIBS),i.linkProgram(a),i.getProgramParameter(a,i.LINK_STATUS)?a:(console.error(": ",i.getProgramInfoLog(a)),i.deleteProgram(a),null)}function Z2(i){return(i&i-1)===0}function Mf({gl:i,texture:e,level:t,border:n,offset:r,data:s,target:a,width:o,height:l,type:c,internalformat:x,format:u}){if(!i.getExtension("OES_texture_float_linear"))return alert("can not filter floating point textures"),null;i.bindTexture(a,e),i.texImage2D(a,t,x,o,l,n,u,c,s,r),Z2(o)&&Z2(l)?i.generateMipmap(a):(i.texParameteri(a,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(a,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(a,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(a,i.TEXTURE_MAG_FILTER,i.NEAREST))}function JM({gl:i,level:e,border:t,offset:n,target:r,width:s,height:a,type:o,internalformat:l,format:c}){if(!i.getExtension("OES_texture_float_linear"))return alert("can not filter floating point textures"),null;const u=i.createTexture();return i.bindTexture(i.TEXTURE_2D,u),i.texImage2D(r,e,l,s,a,t,c,o,null),Z2(s)&&Z2(a)?i.generateMipmap(r):(i.texParameteri(r,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(r,i.TEXTURE_MAG_FILTER,i.NEAREST)),u}function Rf(i,e){return i instanceof Int32Array?{type:e.INT,format:e.RED_INTEGER,internalformat:e.R32I}:i instanceof Float32Array?{type:e.FLOAT,format:e.RED,internalformat:e.R32F}:{type:e.UNSIGNED_BYTE,format:e.RGBA,internalformat:e.RGBA}}const ez=`#version 300 es\r
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3
precision highp float;\r
\r
layout(location = 0) in vec2 a_position;\r
\r
uniform float u_time;\r
uniform float u_random;\r
uniform float u_count;\r
uniform vec4 u_extent;\r
uniform float u_speed;\r
uniform sampler2D u_sampler_tiff_u;\r
uniform sampler2D u_sampler_tiff_v;\r
uniform sampler2D u_sampler_colorRamp;\r
uniform float u_scale;\r
uniform float u_nodata;\r
uniform float u_offset;\r
uniform float u_umin;\r
uniform float u_umax;\r
uniform float u_vmin;\r
uniform float u_vmax;\r
uniform float u_val_min;\r
uniform float u_val_max;\r
\r
out vec2 next_position;\r
out vec3 next_color;\r
\r
// \r
float random(vec2 st) {\r
  float t = dot(st.xy, vec2(12.9898, 78.233));\r
  return fract(sin(t) * (4375.85453 + t));\r
}\r
\r
void main() {\r
  // \r
  vec2 st = (a_position.xy - u_extent.xy) / (u_extent.zw - u_extent.xy);\r
  // vec2 st = a_position.xy;\r
\r
  // uv\r
  float u = texture(u_sampler_tiff_u, st).r;\r
  if (abs(u - u_nodata) < 1e-6) {\r
    u = 0.0001;\r
  } else {\r
    u = u / u_scale + u_offset;\r
  }\r
  float v = texture(u_sampler_tiff_v, st).r;\r
  if (abs(v - u_nodata) < 1e-6) {\r
    v = 0.0001;\r
  } else {\r
    v = v / u_scale + u_offset;\r
  }\r
  float umin = u_umin / u_scale + u_offset;\r
  float vmin = u_vmin / u_scale + u_offset;\r
  float umax = u_umax / u_scale + u_offset;\r
  float vmax = u_umax / u_scale + u_offset;\r
\r
  //   float speed = length(vec2(u, v) - vec2(umin, vmin)) /\r
  //                 length(vec2(umax, vmax) - vec2(umin, vmin));\r
  float val = sqrt(u * u + v * v);\r
  float ratio = (val - u_val_min) / (u_val_max - u_val_min);\r
  // \r
  next_color = texture(u_sampler_colorRamp, vec2(ratio, 1.)).rgb;\r
\r
  // \r
  // uv\r
  float dx = u / umax;\r
  float dy = v / vmax;\r
  // \r
  vec2 cur_position = a_position;\r
  float xmin = u_extent.x;\r
  float ymin = u_extent.y;\r
  float xmax = u_extent.z;\r
  float ymax = u_extent.w;\r
  // \r
  float k = (ymax - ymin) / (xmax - xmin);\r
  float cols = ceil((sqrt(u_count / k)));\r
  float rows = cols * k;\r
  // \r
  float age = random(vec2(float(gl_VertexID), u_random));\r
  if (age > 0.99 || cur_position.x > xmax || cur_position.x < xmin ||\r
      cur_position.y > ymax || cur_position.y < ymin) {\r
    // toFix: \r
    float col_index = cols * random(vec2(u_time, float(gl_VertexID)));\r
    float row_index = rows * random(vec2(float(gl_VertexID), u_time));\r
    float x = xmin + (xmax - xmin) / (cols + 1.) * col_index;\r
    float y = ymin + (ymax - ymin) / (rows + 1.) * row_index;\r
    next_position = vec2(x, y);\r
  } else {\r
    next_position = cur_position + vec2(dx, dy) * 0.001 * u_speed;\r
  }\r
}`,lU=`#version 300 es\r
precision highp float;\r
\r
void main() {}`,xU=`#version 300 es\r
precision highp float;\r
\r
layout(location = 0) in vec2 a_position;\r
layout(location = 1) in vec3 a_color;\r
\r
out vec3 v_color;\r
uniform float u_size;\r
\r
void main() {\r
  vec2 position = a_position * 2. - 1.;\r
  gl_Position = vec4(position, 0., 1.);\r
  gl_PointSize = u_size;\r
  v_color = a_color;\r
}\r
`,uU=`#version 300 es\r
precision highp float;\r
\r
const vec4 backColor = vec4(0., 0., 0., 0.);\r
uniform vec3 u_color;\r
uniform bool u_useColorRamp; // or\r
\r
in vec3 v_color;\r
out vec4 fragColor;\r
\r
void main() {\r
  vec4 frontColor = u_useColorRamp ? vec4(v_color, 1.) : vec4(u_color, 1.);\r
  float d = length(gl_PointCoord.xy - vec2(.5, .5)) - .5;\r
  vec4 color = mix(frontColor, backColor, step(0., d));\r
  fragColor = color;\r
}\r
`,fU=`#version 300 es\r
precision highp float;\r
\r
layout(location = 0) in vec2 a_position;\r
layout(location = 1) in vec2 a_uv;\r
out vec2 v_uv;\r
\r
void main() {\r
  vec2 position = a_position * 2. - 1.;\r
  gl_Position = vec4(position, 0., 1.);\r
  v_uv = a_uv;\r
}\r
`,hU=`#version 300 es\r
precision highp float;\r
\r
uniform sampler2D u_sampler;\r
in vec2 v_uv;\r
\r
const vec4 fadeColor = vec4(.0, .0, .0, .0);\r
const float fadeFactor = 0.025;\r
// const float fadeFactor = 0.5;\r
\r
out vec4 fragColor;\r
\r
void main() {\r
  vec4 textColor = texture(u_sampler, v_uv);\r
  fragColor = textColor * (1. - fadeFactor);\r
}`,AU=`#version 300 es\r
precision highp float;\r
\r
layout(location = 0) in vec2 a_position;\r
layout(location = 1) in vec2 a_uv;\r
out vec2 v_uv;\r
\r
void main() {\r
  vec2 position = a_position * 2. - 1.;\r
  gl_Position = vec4(position, 0., 1.);\r
  v_uv = a_uv;\r
}`,dU=`#version 300 es\r
precision highp float;\r
\r
uniform sampler2D u_sampler;\r
in vec2 v_uv;\r
\r
out vec4 fragColor;\r
\r
void main() {\r
  fragColor = texture(u_sampler, v_uv);\r
  if (fragColor.a <= 0.4) {\r
    fragColor = vec4(0., 0., 0., 0.);\r
  }\r
<<<<<<< HEAD
}`,pU={speed:1,size:2,count:100,color:[1,1,1],useColorRamp:!1};class gU{constructor(t={}){Ze(this,"_setProps",t=>{t.data&&(this.data=t.data),t.count&&(this.state.count=count),t.speed&&(this.state.speed=t.speed),t.size&&(this.state.size=t.size),t.color&&(this.state.color=t.color),t.colorRamp&&(this._colorRampObject=this._createColorRamp(t.colorRamp)),t.useColorRamp&&(this.state.useColorRamp=t.useColorRamp),this.layer.reDraw()});return this.state={...pU,...t,particles:{positions:[]}},this.layer=this._initLayer(),this._isGlReady=!1,this._models={},this.data=[],this.clock={start:0,now:0,fps:0,elapsedTime:0},this._rafId=null,this._needAnimate=!1,this.layer}_initLayer(){const t=new K4({projection:this.state.projection});return t.onBeforeUpdate=this._onBeforeUpdate.bind(this),t.onUpdate=this._onUpdate.bind(this),t.setProps=this._setProps.bind(this),!this._colorRampObject&&this.state.colorRamp&&(this._colorRampObject=this._createColorRamp(this.state.colorRamp)),t}_onBeforeUpdate(t){const{gl:e,canvas:n,extent:r,resolution:s,pixelRatio:a,size:o,projection:l}=t;this._isGlReady||(e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.enable(e.CULL_FACE),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,1)),this._isGlReady=!0}_onUpdate(t){const{gl:e,canvas:n,extent:r,resolution:s,pixelRatio:a,size:o,projection:l}=t,c=this.state.map;if(c){e.viewport(0,0,o[0],o[1]),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);const x=[];this.data.forEach(({bbox:h},A)=>{const[p,d]=this.layer.lnglatToScreen([h[0],h[1]],c,r,a),[g,m]=this.layer.lnglatToScreen([h[2],h[3]],c,r,a),_=p/o[0],I=g/o[0],y=1-d/o[1],E=1-m/o[1],b=[_,y,I,E];x[A]=b});const u=x.reduce((h,A)=>h+Math.abs(A[2]-A[0]),0);this._models={},this.data.forEach(({dataArray_u:h,dataArray_v:A,bbox:p,width:d,height:g,metaData:m},_)=>{const I=Math.abs(x[_][2]-x[_][0])/u,y=this._createParticles(x[_],Math.floor(this.state.count*I));this._models[_]=this._createModel(e,{calc:{vert:cU,frag:lU,textureData:{data:{u:h,v:A},width:d,height:g}},input:{vert:xU,frag:uU},output:{vert:fU,frag:hU},main:{vert:AU,frag:dU},metaData:m,particles:y,extent:x[_]})});const f=()=>{this.clock.now=performance.now(),this.clock.elapsedTime+=(this.clock.now-this.clock.start)/1e3,this.clock.fps=Math.floor(1e3/(this.clock.now-this.clock.start)),this.clock.start=this.clock.now,e.clear(e.COLOR_BUFFER_BIT);for(let h=0;h<this.data.length;h++)this._drawModel(this._models[h],{});this.layer.source.changed(),this._rafId=requestAnimationFrame(f)};cancelAnimationFrame(this._rafId),f()}}_createModel(t,{calc:e,input:n,output:r,main:s,metaData:a,particles:o,extent:l}){const c=oU(t,e.vert,e.frag,["next_position","next_color"]),x=fb(t,n.vert,n.frag),u=fb(t,r.vert,r.frag),f=fb(t,s.vert,s.frag),h=t.createVertexArray(),A=t.createVertexArray(),p=t.createVertexArray(),d=t.createVertexArray(),g={positions_input:t.createBuffer(),positions_output:t.createBuffer(),colors_output:t.createBuffer()},m={positions:t.createBuffer(),uvs:t.createBuffer()},_={positions:t.createBuffer(),uvs:t.createBuffer()},I={attributes:{a_position:0,a_age:1},uniforms:{u_sampler_tiff_u:t.getUniformLocation(c,"u_sampler_tiff_u"),u_sampler_tiff_v:t.getUniformLocation(c,"u_sampler_tiff_v"),u_sampler_colorRamp:t.getUniformLocation(c,"u_sampler_colorRamp"),u_time:t.getUniformLocation(c,"u_time"),u_random:t.getUniformLocation(c,"u_random"),u_extent:t.getUniformLocation(c,"u_extent"),u_count:t.getUniformLocation(c,"u_count"),u_speed:t.getUniformLocation(c,"u_speed"),u_scale:t.getUniformLocation(c,"u_scale"),u_nodata:t.getUniformLocation(c,"u_nodata"),u_offset:t.getUniformLocation(c,"u_offset"),u_umin:t.getUniformLocation(c,"u_umin"),u_umax:t.getUniformLocation(c,"u_umax"),u_vmin:t.getUniformLocation(c,"u_vmin"),u_vmax:t.getUniformLocation(c,"u_vmax"),u_val_min:t.getUniformLocation(c,"u_val_min"),u_val_max:t.getUniformLocation(c,"u_val_max")}},y={attributes:{a_position:0,a_color:1},uniforms:{u_size:t.getUniformLocation(x,"u_size"),u_color:t.getUniformLocation(x,"u_color"),u_useColorRamp:t.getUniformLocation(x,"u_useColorRamp")}},E={attributes:{a_position:0,a_uv:1},uniforms:{u_sampler:t.getUniformLocation(u,"u_sampler")}},b={attributes:{a_position:0,a_uv:1},uniforms:{u_sampler:t.getUniformLocation(f,"u_sampler")}},w=t.createTransformFeedback(),C=[t.canvas.width,t.canvas.height],v={input:{framebuffer:t.createFramebuffer(),texture:J4({gl:t,level:0,border:0,offset:0,target:t.TEXTURE_2D,width:C[0],height:C[1],type:t.UNSIGNED_BYTE,internalformat:t.RGBA,format:t.RGBA})},output:{framebuffer:t.createFramebuffer(),texture:J4({gl:t,level:0,border:0,offset:0,target:t.TEXTURE_2D,width:C[0],height:C[1],type:t.UNSIGNED_BYTE,internalformat:t.RGBA,format:t.RGBA})}};t.bindFramebuffer(t.FRAMEBUFFER,v.input.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,v.input.texture,0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,v.output.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,v.output.texture,0),t.bindFramebuffer(t.FRAMEBUFFER,null);const{positions:B}=o;t.bindBuffer(t.ARRAY_BUFFER,g.positions_input),t.bufferData(t.ARRAY_BUFFER,B.length*Float32Array.BYTES_PER_ELEMENT*1,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,g.positions_output),t.bufferData(t.ARRAY_BUFFER,B.length*Float32Array.BYTES_PER_ELEMENT*1,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,g.colors_output),t.bufferData(t.ARRAY_BUFFER,B.length/2*3*Float32Array.BYTES_PER_ELEMENT*1,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null);const S={tiff_u:{val:t.createTexture(),id:t.TEXTURE0,pos:0},tiff_v:{val:t.createTexture(),id:t.TEXTURE1,pos:1},colorRamp:{val:t.createTexture(),id:t.TEXTURE2,pos:2}},T=jf(e.textureData.data.u,t);Jf({gl:t,texture:S.tiff_u.val,level:0,border:0,offset:0,data:e.textureData.data.u,target:t.TEXTURE_2D,width:e.textureData.width,height:e.textureData.height,type:T.type,format:T.format,internalformat:T.internalformat});const Q=jf(e.textureData.data.v,t);Jf({gl:t,texture:S.tiff_v.val,level:0,border:0,offset:0,data:e.textureData.data.v,target:t.TEXTURE_2D,width:e.textureData.width,height:e.textureData.height,type:Q.type,format:Q.format,internalformat:Q.internalformat});const{val_min:M,val_max:D,imageData:U,width:F,height:z}=this._colorRampObject,H=jf(U,t);Jf({gl:t,texture:S.colorRamp.val,level:0,border:0,offset:0,data:U,target:t.TEXTURE_2D,width:F,height:z,type:H.type,format:H.format,internalformat:H.internalformat});const P=[0,0,1,0,1,1,1,1,0,1,0,0],Z=[0,0,1,0,1,1,1,1,0,1,0,0];return{gl:t,calc:{program:c,vao:h,buffers:g,locations:I,tf:w,textures:S,fbs:v},input:{program:x,vao:A,locations:y},output:{program:u,vao:p,buffers:m,locations:E,positions:P,uvs:Z},main:{program:f,vao:d,buffers:_,locations:b,positions:P,uvs:Z},fbs:v,metaData:a,particles:o,extent:l}}_updateModel(t,{calc:e,particles:n,extent:r}){const{gl:s}=t,{program:a,vao:o,buffers:l,locations:c,tf:x,textures:u,fbs:f}=t.calc,{textureData:h}=e,{positions:A,ages:p}=n;l.positions_input=s.createBuffer(),l.positions_output=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,l.positions_input),s.bufferData(s.ARRAY_BUFFER,new Float32Array(A),s.DYNAMIC_DRAW),s.bindBuffer(s.ARRAY_BUFFER,l.positions_output),s.bufferData(s.ARRAY_BUFFER,A.length*Float32Array.BYTES_PER_ELEMENT*1,s.DYNAMIC_DRAW),s.bindBuffer(s.ARRAY_BUFFER,null);const d=jf(h.data.u,s);Jf({gl:s,texture:u.tiff_u.val,level:0,border:0,offset:0,data:h.data.u,target:s.TEXTURE_2D,width:h.width,height:h.height,type:d.type,format:d.format,internalformat:d.internalformat});const g=jf(h.data.v,s);Jf({gl:s,texture:u.tiff_v.val,level:0,border:0,offset:0,data:h.data.v,target:s.TEXTURE_2D,width:h.width,height:h.height,type:g.type,format:g.format,internalformat:g.internalformat})}_drawModel(t,{}){if(t){const{gl:e,calc:n,input:r,output:s,main:a,fbs:o,metaData:l,particles:c,extent:x}=t;this._drawCalc(e,n,l,c,x),this._draw_input(e,r,o,n,c),this._draw_output(e,s,o),this._draw_main(e,a,o),this._swapframebuffer(o),this._swaptfbuffer(n)}}_drawCalc(t,e,n,r,s){const{program:a,vao:o,buffers:l,locations:c,tf:x,textures:u}=e,{val_min:f,val_max:h}=this._colorRampObject;t.useProgram(a),t.bindVertexArray(o);const{a_position:A}=c.attributes;t.bindBuffer(t.ARRAY_BUFFER,l.positions_input),t.enableVertexAttribArray(A),t.vertexAttribPointer(A,2,t.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,x),t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,0,l.positions_output),t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,1,l.colors_output),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),t.enable(t.RASTERIZER_DISCARD),t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,x),t.beginTransformFeedback(t.POINTS),t.activeTexture(u.tiff_u.id),t.bindTexture(t.TEXTURE_2D,u.tiff_u.val),t.uniform1i(c.uniforms.u_sampler_tiff_u,u.tiff_u.pos),t.activeTexture(u.tiff_v.id),t.bindTexture(t.TEXTURE_2D,u.tiff_v.val),t.uniform1i(c.uniforms.u_sampler_tiff_v,u.tiff_v.pos),t.activeTexture(u.colorRamp.id),t.bindTexture(t.TEXTURE_2D,u.colorRamp.val),t.uniform1i(c.uniforms.u_sampler_colorRamp,u.colorRamp.pos),t.uniform1f(c.uniforms.u_time,this.clock.elapsedTime),t.uniform1f(c.uniforms.u_random,Math.random()),t.uniform4fv(c.uniforms.u_extent,new Float32Array(s)),t.uniform1f(c.uniforms.u_speed,this.state.speed),t.uniform1f(c.uniforms.u_count,this.state.count),t.uniform1f(c.uniforms.u_scale,n.scale),t.uniform1f(c.uniforms.u_nodata,n.nodata),t.uniform1f(c.uniforms.u_offset,n.offset),t.uniform1f(c.uniforms.u_umin,n.umin),t.uniform1f(c.uniforms.u_umax,n.umax),t.uniform1f(c.uniforms.u_vmin,n.vmin),t.uniform1f(c.uniforms.u_vmax,n.vmax),t.uniform1f(c.uniforms.u_val_min,f),t.uniform1f(c.uniforms.u_val_max,h),t.drawArrays(t.POINTS,0,r.positions.length/2),t.endTransformFeedback(),t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),t.disable(t.RASTERIZER_DISCARD),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindVertexArray(null)}_draw_input(t,e,n,r,s){const{program:a,vao:o,locations:l}=e;t.useProgram(a),t.bindFramebuffer(t.FRAMEBUFFER,n.input.framebuffer),t.bindVertexArray(o);const{a_position:c,a_color:x}=l.attributes;t.bindBuffer(t.ARRAY_BUFFER,r.buffers.positions_output),t.enableVertexAttribArray(c),t.vertexAttribPointer(c,2,t.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),t.bindBuffer(t.ARRAY_BUFFER,r.buffers.colors_output),t.enableVertexAttribArray(x),t.vertexAttribPointer(x,3,t.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*3,0),t.uniform1f(l.uniforms.u_size,this.state.size),t.uniform3fv(l.uniforms.u_color,new Float32Array(this.state.color)),t.uniform1i(l.uniforms.u_useColorRamp,this.state.useColorRamp),t.drawArrays(t.POINTS,0,s.positions.length/2),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindVertexArray(null)}_draw_output(t,e,n){const{program:r,vao:s,buffers:a,locations:o,positions:l,uvs:c}=e;t.useProgram(r),t.bindFramebuffer(t.FRAMEBUFFER,n.output.framebuffer),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,n.input.texture),t.uniform1i(o.uniforms.u_sampler,0),t.bindVertexArray(s);const x=a.positions,u=a.uvs,{a_position:f,a_uv:h}=o.attributes;t.bindBuffer(t.ARRAY_BUFFER,x),t.bufferData(t.ARRAY_BUFFER,new Float32Array(l),t.STATIC_DRAW),t.enableVertexAttribArray(f),t.vertexAttribPointer(f,2,t.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,new Float32Array(c),t.STATIC_DRAW),t.enableVertexAttribArray(h),t.vertexAttribPointer(h,2,t.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),t.drawArrays(t.TRIANGLES,0,6),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindVertexArray(null)}_draw_main(t,e,n){const{program:r,vao:s,buffers:a,locations:o,positions:l,uvs:c}=e;t.useProgram(r),t.bindFramebuffer(t.FRAMEBUFFER,null),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,n.input.texture),t.uniform1i(o.uniforms.u_sampler,0),t.bindVertexArray(s);const x=a.positions,u=a.uvs,{a_position:f,a_uv:h}=o.attributes;t.bindBuffer(t.ARRAY_BUFFER,x),t.bufferData(t.ARRAY_BUFFER,new Float32Array(l),t.STATIC_DRAW),t.enableVertexAttribArray(f),t.vertexAttribPointer(f,2,t.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,new Float32Array(c),t.STATIC_DRAW),t.enableVertexAttribArray(h),t.vertexAttribPointer(h,2,t.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),t.bindBuffer(t.ARRAY_BUFFER,null),t.drawArrays(t.TRIANGLES,0,6),t.bindVertexArray(null)}_swaptfbuffer(t){const{buffers:e}=t,n=e.positions_input;e.positions_input=e.positions_output,e.positions_output=n}_swapframebuffer(t){const e={...t.input};t.input.texture=t.output.texture,t.input.framebuffer=t.output.framebuffer,t.output.texture=e.texture,t.output.framebuffer=e.framebuffer}_createParticles(t,e){const[n,r,s,a]=t,o=[],l=[];for(let c=0;c<e;c++)o[c*2]=n+Math.random()*(s-n),o[c*2+1]=r+Math.random()*(a-r),l[c]=Math.floor(Math.random()*this.state.maxAge);return{positions:o,ages:l}}_createColorRamp(t){const e=t.sort((u,f)=>u[0]<f[0]),n=e[0][0],r=e[e.length-1][0],s=document.createElement("canvas"),a=256,o=1;s.width=a,s.height=o;const l=s.getContext("2d"),c=l.createLinearGradient(0,0,s.width,s.height);for(let u=0;u<t.length;u++){const[f,h]=t[u],A=(f-n)/(r-n);c.addColorStop(A,h)}l.fillStyle=c,l.fillRect(0,0,s.width,s.height);const x=new Uint8Array(l.getImageData(0,0,s.width,s.height).data);return{val_min:n,val_max:r,imageData:x,width:a,height:o}}}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const hb="171",mU=0,j4=1,_U=2,Z4=1,IU=2,ua=3,_o=0,Ji=1,fa=2,Io=0,vl=1,$4=2,e5=3,t5=4,EU=5,b0=100,yU=101,bU=102,CU=103,vU=104,wU=200,BU=201,SU=202,MU=203,Ab=204,db=205,RU=206,TU=207,DU=208,QU=209,LU=210,FU=211,kU=212,PU=213,UU=214,pb=0,gb=1,mb=2,wl=3,_b=4,Ib=5,Eb=6,yb=7,n5=0,NU=1,OU=2,Eo=0,GU=1,zU=2,VU=3,HU=4,qU=5,YU=6,WU=7,bb=300,Bl=301,Sl=302,Cb=303,vb=304,c_=306,wb=1e3,ha=1001,Bb=1002,jr=1003,XU=1004,l_=1005,Mr=1006,Sb=1007,C0=1008,Aa=1009,i5=1010,r5=1011,Zf=1012,Mb=1013,v0=1014,da=1015,$f=1016,Rb=1017,Tb=1018,Ml=1020,s5=35902,a5=1021,o5=1022,Zr=1023,c5=1024,l5=1025,Rl=1026,Tl=1027,x5=1028,Db=1029,u5=1030,Qb=1031,Lb=1033,x_=33776,u_=33777,f_=33778,h_=33779,Fb=35840,kb=35841,Pb=35842,Ub=35843,Nb=36196,Ob=37492,Gb=37496,zb=37808,Vb=37809,Hb=37810,qb=37811,Yb=37812,Wb=37813,Xb=37814,Kb=37815,Jb=37816,jb=37817,Zb=37818,$b=37819,eC=37820,tC=37821,A_=36492,nC=36494,iC=36495,f5=36283,rC=36284,sC=36285,aC=36286,KU=3200,JU=3201,jU=0,ZU=1,yo="",Rr="srgb",Dl="srgb-linear",d_="linear",$t="srgb",Ql=7680,h5=519,$U=512,eN=513,tN=514,A5=515,nN=516,iN=517,rN=518,sN=519,oC=35044,d5="300 es",pa=2e3,p_=2001;class Ll{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[t]===void 0&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const n=this._listeners;return n[t]!==void 0&&n[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const r=this._listeners[t];if(r!==void 0){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const n=this._listeners[t.type];if(n!==void 0){t.target=this;const r=n.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,t);t.target=null}}}const gi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let p5=1234567;const eh=Math.PI/180,th=180/Math.PI;function ga(){const i=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(gi[i&255]+gi[i>>8&255]+gi[i>>16&255]+gi[i>>24&255]+"-"+gi[t&255]+gi[t>>8&255]+"-"+gi[t>>16&15|64]+gi[t>>24&255]+"-"+gi[e&63|128]+gi[e>>8&255]+"-"+gi[e>>16&255]+gi[e>>24&255]+gi[n&255]+gi[n>>8&255]+gi[n>>16&255]+gi[n>>24&255]).toLowerCase()}function _t(i,t,e){return Math.max(t,Math.min(e,i))}function cC(i,t){return(i%t+t)%t}function aN(i,t,e,n,r){return n+(i-t)*(r-n)/(e-t)}function oN(i,t,e){return i!==t?(e-i)/(t-i):0}function nh(i,t,e){return(1-e)*i+e*t}function cN(i,t,e,n){return nh(i,t,1-Math.exp(-e*n))}function lN(i,t=1){return t-Math.abs(cC(i,t*2)-t)}function xN(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t),i*i*(3-2*i))}function uN(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t),i*i*i*(i*(i*6-15)+10))}function fN(i,t){return i+Math.floor(Math.random()*(t-i+1))}function hN(i,t){return i+Math.random()*(t-i)}function AN(i){return i*(.5-Math.random())}function dN(i){i!==void 0&&(p5=i);let t=p5+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function pN(i){return i*eh}function gN(i){return i*th}function mN(i){return(i&i-1)===0&&i!==0}function _N(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function IN(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function EN(i,t,e,n,r){const s=Math.cos,a=Math.sin,o=s(e/2),l=a(e/2),c=s((t+n)/2),x=a((t+n)/2),u=s((t-n)/2),f=a((t-n)/2),h=s((n-t)/2),A=a((n-t)/2);switch(r){case"XYX":i.set(o*x,l*u,l*f,o*c);break;case"YZY":i.set(l*f,o*x,l*u,o*c);break;case"ZXZ":i.set(l*u,l*f,o*x,o*c);break;case"XZX":i.set(o*x,l*A,l*h,o*c);break;case"YXY":i.set(l*h,o*x,l*A,o*c);break;case"ZYZ":i.set(l*A,l*h,o*x,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function $r(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Yt(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const yN={DEG2RAD:eh,RAD2DEG:th,generateUUID:ga,clamp:_t,euclideanModulo:cC,mapLinear:aN,inverseLerp:oN,lerp:nh,damp:cN,pingpong:lN,smoothstep:xN,smootherstep:uN,randInt:fN,randFloat:hN,randFloatSpread:AN,seededRandom:dN,degToRad:pN,radToDeg:gN,isPowerOfTwo:mN,ceilPowerOfTwo:_N,floorPowerOfTwo:IN,setQuaternionFromProperEuler:EN,normalize:Yt,denormalize:$r};class Ct{constructor(t=0,e=0){Ct.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=_t(this.x,t.x,e.x),this.y=_t(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=_t(this.x,t,e),this.y=_t(this.y,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(_t(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(_t(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),r=Math.sin(e),s=this.x-t.x,a=this.y-t.y;return this.x=s*n-a*r+t.x,this.y=s*r+a*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ct{constructor(t,e,n,r,s,a,o,l,c){ct.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,n,r,s,a,o,l,c)}set(t,e,n,r,s,a,o,l,c){const x=this.elements;return x[0]=t,x[1]=r,x[2]=o,x[3]=e,x[4]=s,x[5]=l,x[6]=n,x[7]=a,x[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,s=this.elements,a=n[0],o=n[3],l=n[6],c=n[1],x=n[4],u=n[7],f=n[2],h=n[5],A=n[8],p=r[0],d=r[3],g=r[6],m=r[1],_=r[4],I=r[7],y=r[2],E=r[5],b=r[8];return s[0]=a*p+o*m+l*y,s[3]=a*d+o*_+l*E,s[6]=a*g+o*I+l*b,s[1]=c*p+x*m+u*y,s[4]=c*d+x*_+u*E,s[7]=c*g+x*I+u*b,s[2]=f*p+h*m+A*y,s[5]=f*d+h*_+A*E,s[8]=f*g+h*I+A*b,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],x=t[8];return e*a*x-e*o*c-n*s*x+n*o*l+r*s*c-r*a*l}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],x=t[8],u=x*a-o*c,f=o*l-x*s,h=c*s-a*l,A=e*u+n*f+r*h;if(A===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/A;return t[0]=u*p,t[1]=(r*c-x*n)*p,t[2]=(o*n-r*a)*p,t[3]=f*p,t[4]=(x*e-r*l)*p,t[5]=(r*s-o*e)*p,t[6]=h*p,t[7]=(n*l-c*e)*p,t[8]=(a*e-n*s)*p,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*a+c*o)+a+t,-r*c,r*l,-r*(-c*a+l*o)+o+e,0,0,1),this}scale(t,e){return this.premultiply(lC.makeScale(t,e)),this}rotate(t){return this.premultiply(lC.makeRotation(-t)),this}translate(t,e){return this.premultiply(lC.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const lC=new ct;function g5(i){for(let t=i.length-1;t>=0;--t)if(i[t]>=65535)return!0;return!1}function g_(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function bN(){const i=g_("canvas");return i.style.display="block",i}const m5={};function Fl(i){i in m5||(m5[i]=!0,console.warn(i))}function CN(i,t,e){return new Promise(function(n,r){function s(){switch(i.clientWaitSync(t,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(s,e);break;default:n()}}setTimeout(s,e)})}function vN(i){const t=i.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function wN(i){const t=i.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const _5=new ct().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),I5=new ct().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function BN(){const i={enabled:!0,workingColorSpace:Dl,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===$t&&(r.r=ma(r.r),r.g=ma(r.g),r.b=ma(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===$t&&(r.r=kl(r.r),r.g=kl(r.g),r.b=kl(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===yo?d_:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[Dl]:{primaries:t,whitePoint:n,transfer:d_,toXYZ:_5,fromXYZ:I5,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:Rr},outputColorSpaceConfig:{drawingBufferColorSpace:Rr}},[Rr]:{primaries:t,whitePoint:n,transfer:$t,toXYZ:_5,fromXYZ:I5,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:Rr}}}),i}const Dt=BN();function ma(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function kl(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let Pl;class SN{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{Pl===void 0&&(Pl=g_("canvas")),Pl.width=t.width,Pl.height=t.height;const n=Pl.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=Pl}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=g_("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const r=n.getImageData(0,0,t.width,t.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=ma(s[a]/255)*255;return n.putImageData(r,0,0),e}else if(t.data){const e=t.data.slice(0);for(let n=0;n<e.length;n++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[n]=Math.floor(ma(e[n]/255)*255):e[n]=ma(e[n]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let MN=0;class E5{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:MN++}),this.uuid=ga(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(xC(r[a].image)):s.push(xC(r[a]))}else s=xC(r);n.url=s}return e||(t.images[this.uuid]=n),n}}function xC(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?SN.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let RN=0;class Si extends Ll{constructor(t=Si.DEFAULT_IMAGE,e=Si.DEFAULT_MAPPING,n=ha,r=ha,s=Mr,a=C0,o=Zr,l=Aa,c=Si.DEFAULT_ANISOTROPY,x=yo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:RN++}),this.uuid=ga(),this.name="",this.source=new E5(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Ct(0,0),this.repeat=new Ct(1,1),this.center=new Ct(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ct,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=x,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==bb)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case wb:t.x=t.x-Math.floor(t.x);break;case ha:t.x=t.x<0?0:1;break;case Bb:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case wb:t.y=t.y-Math.floor(t.y);break;case ha:t.y=t.y<0?0:1;break;case Bb:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}Si.DEFAULT_IMAGE=null,Si.DEFAULT_MAPPING=bb,Si.DEFAULT_ANISOTROPY=1;class nn{constructor(t=0,e=0,n=0,r=1){nn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,s=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*r+a[12]*s,this.y=a[1]*e+a[5]*n+a[9]*r+a[13]*s,this.z=a[2]*e+a[6]*n+a[10]*r+a[14]*s,this.w=a[3]*e+a[7]*n+a[11]*r+a[15]*s,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,r,s;const l=t.elements,c=l[0],x=l[4],u=l[8],f=l[1],h=l[5],A=l[9],p=l[2],d=l[6],g=l[10];if(Math.abs(x-f)<.01&&Math.abs(u-p)<.01&&Math.abs(A-d)<.01){if(Math.abs(x+f)<.1&&Math.abs(u+p)<.1&&Math.abs(A+d)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const _=(c+1)/2,I=(h+1)/2,y=(g+1)/2,E=(x+f)/4,b=(u+p)/4,w=(A+d)/4;return _>I&&_>y?_<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(_),r=E/n,s=b/n):I>y?I<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(I),n=E/r,s=w/r):y<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(y),n=b/s,r=w/s),this.set(n,r,s,e),this}let m=Math.sqrt((d-A)*(d-A)+(u-p)*(u-p)+(f-x)*(f-x));return Math.abs(m)<.001&&(m=1),this.x=(d-A)/m,this.y=(u-p)/m,this.z=(f-x)/m,this.w=Math.acos((c+h+g-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=_t(this.x,t.x,e.x),this.y=_t(this.y,t.y,e.y),this.z=_t(this.z,t.z,e.z),this.w=_t(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=_t(this.x,t,e),this.y=_t(this.y,t,e),this.z=_t(this.z,t,e),this.w=_t(this.w,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(_t(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class TN extends Ll{constructor(t=1,e=1,n={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new nn(0,0,t,e),this.scissorTest=!1,this.viewport=new nn(0,0,t,e);const r={width:t,height:e,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Mr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const s=new Si(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);s.flipY=!1,s.generateMipmaps=n.generateMipmaps,s.internalFormat=n.internalFormat,this.textures=[];const a=n.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=t,this.textures[r].image.height=e,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let n=0,r=t.textures.length;n<r;n++)this.textures[n]=t.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new E5(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class w0 extends TN{constructor(t=1,e=1,n={}){super(t,e,n),this.isWebGLRenderTarget=!0}}class y5 extends Si{constructor(t=null,e=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=jr,this.minFilter=jr,this.wrapR=ha,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class DN extends Si{constructor(t=null,e=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=jr,this.minFilter=jr,this.wrapR=ha,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ih{constructor(t=0,e=0,n=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=r}static slerpFlat(t,e,n,r,s,a,o){let l=n[r+0],c=n[r+1],x=n[r+2],u=n[r+3];const f=s[a+0],h=s[a+1],A=s[a+2],p=s[a+3];if(o===0){t[e+0]=l,t[e+1]=c,t[e+2]=x,t[e+3]=u;return}if(o===1){t[e+0]=f,t[e+1]=h,t[e+2]=A,t[e+3]=p;return}if(u!==p||l!==f||c!==h||x!==A){let d=1-o;const g=l*f+c*h+x*A+u*p,m=g>=0?1:-1,_=1-g*g;if(_>Number.EPSILON){const y=Math.sqrt(_),E=Math.atan2(y,g*m);d=Math.sin(d*E)/y,o=Math.sin(o*E)/y}const I=o*m;if(l=l*d+f*I,c=c*d+h*I,x=x*d+A*I,u=u*d+p*I,d===1-o){const y=1/Math.sqrt(l*l+c*c+x*x+u*u);l*=y,c*=y,x*=y,u*=y}}t[e]=l,t[e+1]=c,t[e+2]=x,t[e+3]=u}static multiplyQuaternionsFlat(t,e,n,r,s,a){const o=n[r],l=n[r+1],c=n[r+2],x=n[r+3],u=s[a],f=s[a+1],h=s[a+2],A=s[a+3];return t[e]=o*A+x*u+l*h-c*f,t[e+1]=l*A+x*f+c*u-o*h,t[e+2]=c*A+x*h+o*f-l*u,t[e+3]=x*A-o*u-l*f-c*h,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const n=t._x,r=t._y,s=t._z,a=t._order,o=Math.cos,l=Math.sin,c=o(n/2),x=o(r/2),u=o(s/2),f=l(n/2),h=l(r/2),A=l(s/2);switch(a){case"XYZ":this._x=f*x*u+c*h*A,this._y=c*h*u-f*x*A,this._z=c*x*A+f*h*u,this._w=c*x*u-f*h*A;break;case"YXZ":this._x=f*x*u+c*h*A,this._y=c*h*u-f*x*A,this._z=c*x*A-f*h*u,this._w=c*x*u+f*h*A;break;case"ZXY":this._x=f*x*u-c*h*A,this._y=c*h*u+f*x*A,this._z=c*x*A+f*h*u,this._w=c*x*u-f*h*A;break;case"ZYX":this._x=f*x*u-c*h*A,this._y=c*h*u+f*x*A,this._z=c*x*A-f*h*u,this._w=c*x*u+f*h*A;break;case"YZX":this._x=f*x*u+c*h*A,this._y=c*h*u+f*x*A,this._z=c*x*A-f*h*u,this._w=c*x*u-f*h*A;break;case"XZY":this._x=f*x*u-c*h*A,this._y=c*h*u-f*x*A,this._z=c*x*A+f*h*u,this._w=c*x*u+f*h*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],s=e[8],a=e[1],o=e[5],l=e[9],c=e[2],x=e[6],u=e[10],f=n+o+u;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(x-l)*h,this._y=(s-c)*h,this._z=(a-r)*h}else if(n>o&&n>u){const h=2*Math.sqrt(1+n-o-u);this._w=(x-l)/h,this._x=.25*h,this._y=(r+a)/h,this._z=(s+c)/h}else if(o>u){const h=2*Math.sqrt(1+o-n-u);this._w=(s-c)/h,this._x=(r+a)/h,this._y=.25*h,this._z=(l+x)/h}else{const h=2*Math.sqrt(1+u-n-o);this._w=(a-r)/h,this._x=(s+c)/h,this._y=(l+x)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(_t(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(n===0)return this;const r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,r=t._y,s=t._z,a=t._w,o=e._x,l=e._y,c=e._z,x=e._w;return this._x=n*x+a*o+r*c-s*l,this._y=r*x+a*l+s*o-n*c,this._z=s*x+a*c+n*l-r*o,this._w=a*x-n*o-r*l-s*c,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const n=this._x,r=this._y,s=this._z,a=this._w;let o=a*t._w+n*t._x+r*t._y+s*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=r,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const h=1-e;return this._w=h*a+e*this._w,this._x=h*n+e*this._x,this._y=h*r+e*this._y,this._z=h*s+e*this._z,this.normalize(),this}const c=Math.sqrt(l),x=Math.atan2(c,o),u=Math.sin((1-e)*x)/c,f=Math.sin(e*x)/c;return this._w=a*u+this._w*f,this._x=n*u+this._x*f,this._y=r*u+this._y*f,this._z=s*u+this._z*f,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),s=Math.sqrt(n);return this.set(r*Math.sin(t),r*Math.cos(t),s*Math.sin(e),s*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class X{constructor(t=0,e=0,n=0){X.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return n===void 0&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(b5.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(b5.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[3]*n+s[6]*r,this.y=s[1]*e+s[4]*n+s[7]*r,this.z=s[2]*e+s[5]*n+s[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,s=t.elements,a=1/(s[3]*e+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*e+s[4]*n+s[8]*r+s[12])*a,this.y=(s[1]*e+s[5]*n+s[9]*r+s[13])*a,this.z=(s[2]*e+s[6]*n+s[10]*r+s[14])*a,this}applyQuaternion(t){const e=this.x,n=this.y,r=this.z,s=t.x,a=t.y,o=t.z,l=t.w,c=2*(a*r-o*n),x=2*(o*e-s*r),u=2*(s*n-a*e);return this.x=e+l*c+a*u-o*x,this.y=n+l*x+o*c-s*u,this.z=r+l*u+s*x-a*c,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[4]*n+s[8]*r,this.y=s[1]*e+s[5]*n+s[9]*r,this.z=s[2]*e+s[6]*n+s[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=_t(this.x,t.x,e.x),this.y=_t(this.y,t.y,e.y),this.z=_t(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=_t(this.x,t,e),this.y=_t(this.y,t,e),this.z=_t(this.z,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(_t(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,r=t.y,s=t.z,a=e.x,o=e.y,l=e.z;return this.x=r*l-s*o,this.y=s*a-n*l,this.z=n*o-r*a,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return uC.copy(this).projectOnVector(t),this.sub(uC)}reflect(t){return this.sub(uC.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(_t(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,n=Math.sqrt(1-e*e);return this.x=n*Math.cos(t),this.y=e,this.z=n*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const uC=new X,b5=new ih;class bo{constructor(t=new X(1/0,1/0,1/0),e=new X(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(es.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(es.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=es.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(n!==void 0){const s=n.getAttribute("position");if(e===!0&&s!==void 0&&t.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)t.isMesh===!0?t.getVertexPosition(a,es):es.fromBufferAttribute(s,a),es.applyMatrix4(t.matrixWorld),this.expandByPoint(es);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),m_.copy(t.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),m_.copy(n.boundingBox)),m_.applyMatrix4(t.matrixWorld),this.union(m_)}const r=t.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,es),es.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(rh),__.subVectors(this.max,rh),Ul.subVectors(t.a,rh),Nl.subVectors(t.b,rh),Ol.subVectors(t.c,rh),Co.subVectors(Nl,Ul),vo.subVectors(Ol,Nl),B0.subVectors(Ul,Ol);let e=[0,-Co.z,Co.y,0,-vo.z,vo.y,0,-B0.z,B0.y,Co.z,0,-Co.x,vo.z,0,-vo.x,B0.z,0,-B0.x,-Co.y,Co.x,0,-vo.y,vo.x,0,-B0.y,B0.x,0];return!fC(e,Ul,Nl,Ol,__)||(e=[1,0,0,0,1,0,0,0,1],!fC(e,Ul,Nl,Ol,__))?!1:(I_.crossVectors(Co,vo),e=[I_.x,I_.y,I_.z],fC(e,Ul,Nl,Ol,__))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,es).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(es).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(_a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),_a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),_a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),_a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),_a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),_a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),_a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),_a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(_a),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const _a=[new X,new X,new X,new X,new X,new X,new X,new X],es=new X,m_=new bo,Ul=new X,Nl=new X,Ol=new X,Co=new X,vo=new X,B0=new X,rh=new X,__=new X,I_=new X,S0=new X;function fC(i,t,e,n,r){for(let s=0,a=i.length-3;s<=a;s+=3){S0.fromArray(i,s);const o=r.x*Math.abs(S0.x)+r.y*Math.abs(S0.y)+r.z*Math.abs(S0.z),l=t.dot(S0),c=e.dot(S0),x=n.dot(S0);if(Math.max(-Math.max(l,c,x),Math.min(l,c,x))>o)return!1}return!0}const QN=new bo,sh=new X,hC=new X;class ah{constructor(t=new X,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;e!==void 0?n.copy(e):QN.setFromPoints(t).getCenter(n);let r=0;for(let s=0,a=t.length;s<a;s++)r=Math.max(r,n.distanceToSquared(t[s]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;sh.subVectors(t,this.center);const e=sh.lengthSq();if(e>this.radius*this.radius){const n=Math.sqrt(e),r=(n-this.radius)*.5;this.center.addScaledVector(sh,r/n),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(hC.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(sh.copy(t.center).add(hC)),this.expandByPoint(sh.copy(t.center).sub(hC))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ia=new X,AC=new X,E_=new X,wo=new X,dC=new X,y_=new X,pC=new X;class LN{constructor(t=new X,e=new X(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Ia)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Ia.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Ia.copy(this.origin).addScaledVector(this.direction,e),Ia.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){AC.copy(t).add(e).multiplyScalar(.5),E_.copy(e).sub(t).normalize(),wo.copy(this.origin).sub(AC);const s=t.distanceTo(e)*.5,a=-this.direction.dot(E_),o=wo.dot(this.direction),l=-wo.dot(E_),c=wo.lengthSq(),x=Math.abs(1-a*a);let u,f,h,A;if(x>0)if(u=a*l-o,f=a*o-l,A=s*x,u>=0)if(f>=-A)if(f<=A){const p=1/x;u*=p,f*=p,h=u*(u+a*f+2*o)+f*(a*u+f+2*l)+c}else f=s,u=Math.max(0,-(a*f+o)),h=-u*u+f*(f+2*l)+c;else f=-s,u=Math.max(0,-(a*f+o)),h=-u*u+f*(f+2*l)+c;else f<=-A?(u=Math.max(0,-(-a*s+o)),f=u>0?-s:Math.min(Math.max(-s,-l),s),h=-u*u+f*(f+2*l)+c):f<=A?(u=0,f=Math.min(Math.max(-s,-l),s),h=f*(f+2*l)+c):(u=Math.max(0,-(a*s+o)),f=u>0?s:Math.min(Math.max(-s,-l),s),h=-u*u+f*(f+2*l)+c);else f=a>0?-s:s,u=Math.max(0,-(a*f+o)),h=-u*u+f*(f+2*l)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(AC).addScaledVector(E_,f),h}intersectSphere(t,e){Ia.subVectors(t.center,this.origin);const n=Ia.dot(this.direction),r=Ia.dot(Ia)-n*n,s=t.radius*t.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=n-a,l=n+a;return l<0?null:o<0?this.at(l,e):this.at(o,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return n===null?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,r,s,a,o,l;const c=1/this.direction.x,x=1/this.direction.y,u=1/this.direction.z,f=this.origin;return c>=0?(n=(t.min.x-f.x)*c,r=(t.max.x-f.x)*c):(n=(t.max.x-f.x)*c,r=(t.min.x-f.x)*c),x>=0?(s=(t.min.y-f.y)*x,a=(t.max.y-f.y)*x):(s=(t.max.y-f.y)*x,a=(t.min.y-f.y)*x),n>a||s>r||((s>n||isNaN(n))&&(n=s),(a<r||isNaN(r))&&(r=a),u>=0?(o=(t.min.z-f.z)*u,l=(t.max.z-f.z)*u):(o=(t.max.z-f.z)*u,l=(t.min.z-f.z)*u),n>l||o>r)||((o>n||n!==n)&&(n=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(n>=0?n:r,e)}intersectsBox(t){return this.intersectBox(t,Ia)!==null}intersectTriangle(t,e,n,r,s){dC.subVectors(e,t),y_.subVectors(n,t),pC.crossVectors(dC,y_);let a=this.direction.dot(pC),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;wo.subVectors(this.origin,t);const l=o*this.direction.dot(y_.crossVectors(wo,y_));if(l<0)return null;const c=o*this.direction.dot(dC.cross(wo));if(c<0||l+c>a)return null;const x=-o*wo.dot(pC);return x<0?null:this.at(x/a,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Cn{constructor(t,e,n,r,s,a,o,l,c,x,u,f,h,A,p,d){Cn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,n,r,s,a,o,l,c,x,u,f,h,A,p,d)}set(t,e,n,r,s,a,o,l,c,x,u,f,h,A,p,d){const g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=s,g[5]=a,g[9]=o,g[13]=l,g[2]=c,g[6]=x,g[10]=u,g[14]=f,g[3]=h,g[7]=A,g[11]=p,g[15]=d,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Cn().fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/Gl.setFromMatrixColumn(t,0).length(),s=1/Gl.setFromMatrixColumn(t,1).length(),a=1/Gl.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*s,e[5]=n[5]*s,e[6]=n[6]*s,e[7]=0,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,r=t.y,s=t.z,a=Math.cos(n),o=Math.sin(n),l=Math.cos(r),c=Math.sin(r),x=Math.cos(s),u=Math.sin(s);if(t.order==="XYZ"){const f=a*x,h=a*u,A=o*x,p=o*u;e[0]=l*x,e[4]=-l*u,e[8]=c,e[1]=h+A*c,e[5]=f-p*c,e[9]=-o*l,e[2]=p-f*c,e[6]=A+h*c,e[10]=a*l}else if(t.order==="YXZ"){const f=l*x,h=l*u,A=c*x,p=c*u;e[0]=f+p*o,e[4]=A*o-h,e[8]=a*c,e[1]=a*u,e[5]=a*x,e[9]=-o,e[2]=h*o-A,e[6]=p+f*o,e[10]=a*l}else if(t.order==="ZXY"){const f=l*x,h=l*u,A=c*x,p=c*u;e[0]=f-p*o,e[4]=-a*u,e[8]=A+h*o,e[1]=h+A*o,e[5]=a*x,e[9]=p-f*o,e[2]=-a*c,e[6]=o,e[10]=a*l}else if(t.order==="ZYX"){const f=a*x,h=a*u,A=o*x,p=o*u;e[0]=l*x,e[4]=A*c-h,e[8]=f*c+p,e[1]=l*u,e[5]=p*c+f,e[9]=h*c-A,e[2]=-c,e[6]=o*l,e[10]=a*l}else if(t.order==="YZX"){const f=a*l,h=a*c,A=o*l,p=o*c;e[0]=l*x,e[4]=p-f*u,e[8]=A*u+h,e[1]=u,e[5]=a*x,e[9]=-o*x,e[2]=-c*x,e[6]=h*u+A,e[10]=f-p*u}else if(t.order==="XZY"){const f=a*l,h=a*c,A=o*l,p=o*c;e[0]=l*x,e[4]=-u,e[8]=c*x,e[1]=f*u+p,e[5]=a*x,e[9]=h*u-A,e[2]=A*u-h,e[6]=o*x,e[10]=p*u+f}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(FN,t,kN)}lookAt(t,e,n){const r=this.elements;return Ar.subVectors(t,e),Ar.lengthSq()===0&&(Ar.z=1),Ar.normalize(),Bo.crossVectors(n,Ar),Bo.lengthSq()===0&&(Math.abs(n.z)===1?Ar.x+=1e-4:Ar.z+=1e-4,Ar.normalize(),Bo.crossVectors(n,Ar)),Bo.normalize(),b_.crossVectors(Ar,Bo),r[0]=Bo.x,r[4]=b_.x,r[8]=Ar.x,r[1]=Bo.y,r[5]=b_.y,r[9]=Ar.y,r[2]=Bo.z,r[6]=b_.z,r[10]=Ar.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,r=e.elements,s=this.elements,a=n[0],o=n[4],l=n[8],c=n[12],x=n[1],u=n[5],f=n[9],h=n[13],A=n[2],p=n[6],d=n[10],g=n[14],m=n[3],_=n[7],I=n[11],y=n[15],E=r[0],b=r[4],w=r[8],C=r[12],v=r[1],B=r[5],S=r[9],T=r[13],Q=r[2],M=r[6],D=r[10],U=r[14],F=r[3],z=r[7],H=r[11],P=r[15];return s[0]=a*E+o*v+l*Q+c*F,s[4]=a*b+o*B+l*M+c*z,s[8]=a*w+o*S+l*D+c*H,s[12]=a*C+o*T+l*U+c*P,s[1]=x*E+u*v+f*Q+h*F,s[5]=x*b+u*B+f*M+h*z,s[9]=x*w+u*S+f*D+h*H,s[13]=x*C+u*T+f*U+h*P,s[2]=A*E+p*v+d*Q+g*F,s[6]=A*b+p*B+d*M+g*z,s[10]=A*w+p*S+d*D+g*H,s[14]=A*C+p*T+d*U+g*P,s[3]=m*E+_*v+I*Q+y*F,s[7]=m*b+_*B+I*M+y*z,s[11]=m*w+_*S+I*D+y*H,s[15]=m*C+_*T+I*U+y*P,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],s=t[12],a=t[1],o=t[5],l=t[9],c=t[13],x=t[2],u=t[6],f=t[10],h=t[14],A=t[3],p=t[7],d=t[11],g=t[15];return A*(+s*l*u-r*c*u-s*o*f+n*c*f+r*o*h-n*l*h)+p*(+e*l*h-e*c*f+s*a*f-r*a*h+r*c*x-s*l*x)+d*(+e*c*u-e*o*h-s*a*u+n*a*h+s*o*x-n*c*x)+g*(-r*o*x-e*l*u+e*o*f+r*a*u-n*a*f+n*l*x)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],x=t[8],u=t[9],f=t[10],h=t[11],A=t[12],p=t[13],d=t[14],g=t[15],m=u*d*c-p*f*c+p*l*h-o*d*h-u*l*g+o*f*g,_=A*f*c-x*d*c-A*l*h+a*d*h+x*l*g-a*f*g,I=x*p*c-A*u*c+A*o*h-a*p*h-x*o*g+a*u*g,y=A*u*l-x*p*l-A*o*f+a*p*f+x*o*d-a*u*d,E=e*m+n*_+r*I+s*y;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/E;return t[0]=m*b,t[1]=(p*f*s-u*d*s-p*r*h+n*d*h+u*r*g-n*f*g)*b,t[2]=(o*d*s-p*l*s+p*r*c-n*d*c-o*r*g+n*l*g)*b,t[3]=(u*l*s-o*f*s-u*r*c+n*f*c+o*r*h-n*l*h)*b,t[4]=_*b,t[5]=(x*d*s-A*f*s+A*r*h-e*d*h-x*r*g+e*f*g)*b,t[6]=(A*l*s-a*d*s-A*r*c+e*d*c+a*r*g-e*l*g)*b,t[7]=(a*f*s-x*l*s+x*r*c-e*f*c-a*r*h+e*l*h)*b,t[8]=I*b,t[9]=(A*u*s-x*p*s-A*n*h+e*p*h+x*n*g-e*u*g)*b,t[10]=(a*p*s-A*o*s+A*n*c-e*p*c-a*n*g+e*o*g)*b,t[11]=(x*o*s-a*u*s-x*n*c+e*u*c+a*n*h-e*o*h)*b,t[12]=y*b,t[13]=(x*p*r-A*u*r+A*n*f-e*p*f-x*n*d+e*u*d)*b,t[14]=(A*o*r-a*p*r-A*n*l+e*p*l+a*n*d-e*o*d)*b,t[15]=(a*u*r-x*o*r+x*n*l-e*u*l-a*n*f+e*o*f)*b,this}scale(t){const e=this.elements,n=t.x,r=t.y,s=t.z;return e[0]*=n,e[4]*=r,e[8]*=s,e[1]*=n,e[5]*=r,e[9]*=s,e[2]*=n,e[6]*=r,e[10]*=s,e[3]*=n,e[7]*=r,e[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),r=Math.sin(e),s=1-n,a=t.x,o=t.y,l=t.z,c=s*a,x=s*o;return this.set(c*a+n,c*o-r*l,c*l+r*o,0,c*o+r*l,x*o+n,x*l-r*a,0,c*l-r*o,x*l+r*a,s*l*l+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,s,a){return this.set(1,n,s,0,t,1,a,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,s=e._x,a=e._y,o=e._z,l=e._w,c=s+s,x=a+a,u=o+o,f=s*c,h=s*x,A=s*u,p=a*x,d=a*u,g=o*u,m=l*c,_=l*x,I=l*u,y=n.x,E=n.y,b=n.z;return r[0]=(1-(p+g))*y,r[1]=(h+I)*y,r[2]=(A-_)*y,r[3]=0,r[4]=(h-I)*E,r[5]=(1-(f+g))*E,r[6]=(d+m)*E,r[7]=0,r[8]=(A+_)*b,r[9]=(d-m)*b,r[10]=(1-(f+p))*b,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let s=Gl.set(r[0],r[1],r[2]).length();const a=Gl.set(r[4],r[5],r[6]).length(),o=Gl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),t.x=r[12],t.y=r[13],t.z=r[14],ts.copy(this);const c=1/s,x=1/a,u=1/o;return ts.elements[0]*=c,ts.elements[1]*=c,ts.elements[2]*=c,ts.elements[4]*=x,ts.elements[5]*=x,ts.elements[6]*=x,ts.elements[8]*=u,ts.elements[9]*=u,ts.elements[10]*=u,e.setFromRotationMatrix(ts),n.x=s,n.y=a,n.z=o,this}makePerspective(t,e,n,r,s,a,o=pa){const l=this.elements,c=2*s/(e-t),x=2*s/(n-r),u=(e+t)/(e-t),f=(n+r)/(n-r);let h,A;if(o===pa)h=-(a+s)/(a-s),A=-2*a*s/(a-s);else if(o===p_)h=-a/(a-s),A=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=u,l[12]=0,l[1]=0,l[5]=x,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=A,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(t,e,n,r,s,a,o=pa){const l=this.elements,c=1/(e-t),x=1/(n-r),u=1/(a-s),f=(e+t)*c,h=(n+r)*x;let A,p;if(o===pa)A=(a+s)*u,p=-2*u;else if(o===p_)A=s*u,p=-1*u;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*x,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=p,l[14]=-A,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const Gl=new X,ts=new Cn,FN=new X(0,0,0),kN=new X(1,1,1),Bo=new X,b_=new X,Ar=new X,C5=new Cn,v5=new ih;class Ea{constructor(t=0,e=0,n=0,r=Ea.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=n,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,r=this._order){return this._x=t,this._y=e,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const r=t.elements,s=r[0],a=r[4],o=r[8],l=r[1],c=r[5],x=r[9],u=r[2],f=r[6],h=r[10];switch(e){case"XYZ":this._y=Math.asin(_t(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-x,h),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-_t(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,s),this._z=0);break;case"ZXY":this._x=Math.asin(_t(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-_t(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(_t(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-x,c),this._y=Math.atan2(-u,s)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-_t(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-x,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,n===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return C5.makeRotationFromQuaternion(t),this.setFromRotationMatrix(C5,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return v5.setFromEuler(this),this.setFromQuaternion(v5,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ea.DEFAULT_ORDER="XYZ";class w5{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let PN=0;const B5=new X,zl=new ih,ya=new Cn,C_=new X,oh=new X,UN=new X,NN=new ih,S5=new X(1,0,0),M5=new X(0,1,0),R5=new X(0,0,1),T5={type:"added"},ON={type:"removed"},Vl={type:"childadded",child:null},gC={type:"childremoved",child:null};class ji extends Ll{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:PN++}),this.uuid=ga(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ji.DEFAULT_UP.clone();const t=new X,e=new Ea,n=new ih,r=new X(1,1,1);function s(){n.setFromEuler(e,!1)}function a(){e.setFromQuaternion(n,void 0,!1)}e._onChange(s),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Cn},normalMatrix:{value:new ct}}),this.matrix=new Cn,this.matrixWorld=new Cn,this.matrixAutoUpdate=ji.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ji.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new w5,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return zl.setFromAxisAngle(t,e),this.quaternion.multiply(zl),this}rotateOnWorldAxis(t,e){return zl.setFromAxisAngle(t,e),this.quaternion.premultiply(zl),this}rotateX(t){return this.rotateOnAxis(S5,t)}rotateY(t){return this.rotateOnAxis(M5,t)}rotateZ(t){return this.rotateOnAxis(R5,t)}translateOnAxis(t,e){return B5.copy(t).applyQuaternion(this.quaternion),this.position.add(B5.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(S5,t)}translateY(t){return this.translateOnAxis(M5,t)}translateZ(t){return this.translateOnAxis(R5,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(ya.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?C_.copy(t):C_.set(t,e,n);const r=this.parent;this.updateWorldMatrix(!0,!1),oh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ya.lookAt(oh,C_,this.up):ya.lookAt(C_,oh,this.up),this.quaternion.setFromRotationMatrix(ya),r&&(ya.extractRotation(r.matrixWorld),zl.setFromRotationMatrix(ya),this.quaternion.premultiply(zl.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(T5),Vl.child=t,this.dispatchEvent(Vl),Vl.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(ON),gC.child=t,this.dispatchEvent(gC),gC.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),ya.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),ya.multiply(t.parent.matrixWorld)),t.applyMatrix4(ya),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(T5),Vl.child=t,this.dispatchEvent(Vl),Vl.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectByProperty(t,e);if(a!==void 0)return a}}getObjectsByProperty(t,e,n=[]){this[t]===e&&n.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(t,e,n);return n}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(oh,t,UN),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(oh,NN,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(t===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(t),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(t)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(t.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,x=l.length;c<x;c++){const u=l[c];s(t.shapes,u)}else s(t.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(t.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(t.materials,this.material[l]));r.material=o}else r.material=s(t.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(t).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(t.animations,l))}}if(e){const o=a(t.geometries),l=a(t.materials),c=a(t.textures),x=a(t.images),u=a(t.shapes),f=a(t.skeletons),h=a(t.animations),A=a(t.nodes);o.length>0&&(n.geometries=o),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),x.length>0&&(n.images=x),u.length>0&&(n.shapes=u),f.length>0&&(n.skeletons=f),h.length>0&&(n.animations=h),A.length>0&&(n.nodes=A)}return n.object=r,n;function a(o){const l=[];for(const c in o){const x=o[c];delete x.metadata,l.push(x)}return l}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let n=0;n<t.children.length;n++){const r=t.children[n];this.add(r.clone())}return this}}ji.DEFAULT_UP=new X(0,1,0),ji.DEFAULT_MATRIX_AUTO_UPDATE=!0,ji.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ns=new X,ba=new X,mC=new X,Ca=new X,Hl=new X,ql=new X,D5=new X,_C=new X,IC=new X,EC=new X,yC=new nn,bC=new nn,CC=new nn;class Tr{constructor(t=new X,e=new X,n=new X){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,r){r.subVectors(n,e),ns.subVectors(t,e),r.cross(ns);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(t,e,n,r,s){ns.subVectors(r,e),ba.subVectors(n,e),mC.subVectors(t,e);const a=ns.dot(ns),o=ns.dot(ba),l=ns.dot(mC),c=ba.dot(ba),x=ba.dot(mC),u=a*c-o*o;if(u===0)return s.set(0,0,0),null;const f=1/u,h=(c*l-o*x)*f,A=(a*x-o*l)*f;return s.set(1-h-A,A,h)}static containsPoint(t,e,n,r){return this.getBarycoord(t,e,n,r,Ca)===null?!1:Ca.x>=0&&Ca.y>=0&&Ca.x+Ca.y<=1}static getInterpolation(t,e,n,r,s,a,o,l){return this.getBarycoord(t,e,n,r,Ca)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Ca.x),l.addScaledVector(a,Ca.y),l.addScaledVector(o,Ca.z),l)}static getInterpolatedAttribute(t,e,n,r,s,a){return yC.setScalar(0),bC.setScalar(0),CC.setScalar(0),yC.fromBufferAttribute(t,e),bC.fromBufferAttribute(t,n),CC.fromBufferAttribute(t,r),a.setScalar(0),a.addScaledVector(yC,s.x),a.addScaledVector(bC,s.y),a.addScaledVector(CC,s.z),a}static isFrontFacing(t,e,n,r){return ns.subVectors(n,e),ba.subVectors(t,e),ns.cross(ba).dot(r)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ns.subVectors(this.c,this.b),ba.subVectors(this.a,this.b),ns.cross(ba).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Tr.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Tr.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,n,r,s){return Tr.getInterpolation(t,this.a,this.b,this.c,e,n,r,s)}containsPoint(t){return Tr.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Tr.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,r=this.b,s=this.c;let a,o;Hl.subVectors(r,n),ql.subVectors(s,n),_C.subVectors(t,n);const l=Hl.dot(_C),c=ql.dot(_C);if(l<=0&&c<=0)return e.copy(n);IC.subVectors(t,r);const x=Hl.dot(IC),u=ql.dot(IC);if(x>=0&&u<=x)return e.copy(r);const f=l*u-x*c;if(f<=0&&l>=0&&x<=0)return a=l/(l-x),e.copy(n).addScaledVector(Hl,a);EC.subVectors(t,s);const h=Hl.dot(EC),A=ql.dot(EC);if(A>=0&&h<=A)return e.copy(s);const p=h*c-l*A;if(p<=0&&c>=0&&A<=0)return o=c/(c-A),e.copy(n).addScaledVector(ql,o);const d=x*A-h*u;if(d<=0&&u-x>=0&&h-A>=0)return D5.subVectors(s,r),o=(u-x)/(u-x+(h-A)),e.copy(r).addScaledVector(D5,o);const g=1/(d+p+f);return a=p*g,o=f*g,e.copy(n).addScaledVector(Hl,a).addScaledVector(ql,o)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const Q5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},So={h:0,s:0,l:0},v_={h:0,s:0,l:0};function vC(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*6*(2/3-e):i}class Qt{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(e===void 0&&n===void 0){const r=t;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Rr){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Dt.toWorkingColorSpace(this,e),this}setRGB(t,e,n,r=Dt.workingColorSpace){return this.r=t,this.g=e,this.b=n,Dt.toWorkingColorSpace(this,r),this}setHSL(t,e,n,r=Dt.workingColorSpace){if(t=cC(t,1),e=_t(e,0,1),n=_t(n,0,1),e===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+e):n+e-n*e,a=2*n-s;this.r=vC(a,s,t+1/3),this.g=vC(a,s,t),this.b=vC(a,s,t-1/3)}return Dt.toWorkingColorSpace(this,r),this}setStyle(t,e=Rr){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,e);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,e);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,e);if(a===6)return this.setHex(parseInt(s,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Rr){const n=Q5[t.toLowerCase()];return n!==void 0?this.setHex(n,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=ma(t.r),this.g=ma(t.g),this.b=ma(t.b),this}copyLinearToSRGB(t){return this.r=kl(t.r),this.g=kl(t.g),this.b=kl(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Rr){return Dt.fromWorkingColorSpace(mi.copy(this),t),Math.round(_t(mi.r*255,0,255))*65536+Math.round(_t(mi.g*255,0,255))*256+Math.round(_t(mi.b*255,0,255))}getHexString(t=Rr){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Dt.workingColorSpace){Dt.fromWorkingColorSpace(mi.copy(this),e);const n=mi.r,r=mi.g,s=mi.b,a=Math.max(n,r,s),o=Math.min(n,r,s);let l,c;const x=(o+a)/2;if(o===a)l=0,c=0;else{const u=a-o;switch(c=x<=.5?u/(a+o):u/(2-a-o),a){case n:l=(r-s)/u+(r<s?6:0);break;case r:l=(s-n)/u+2;break;case s:l=(n-r)/u+4;break}l/=6}return t.h=l,t.s=c,t.l=x,t}getRGB(t,e=Dt.workingColorSpace){return Dt.fromWorkingColorSpace(mi.copy(this),e),t.r=mi.r,t.g=mi.g,t.b=mi.b,t}getStyle(t=Rr){Dt.fromWorkingColorSpace(mi.copy(this),t);const e=mi.r,n=mi.g,r=mi.b;return t!==Rr?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(t,e,n){return this.getHSL(So),this.setHSL(So.h+t,So.s+e,So.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(So),t.getHSL(v_);const n=nh(So.h,v_.h,e),r=nh(So.s,v_.s,e),s=nh(So.l,v_.l,e);return this.setHSL(n,r,s),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,r=this.b,s=t.elements;return this.r=s[0]*e+s[3]*n+s[6]*r,this.g=s[1]*e+s[4]*n+s[7]*r,this.b=s[2]*e+s[5]*n+s[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const mi=new Qt;Qt.NAMES=Q5;let GN=0;class ch extends Ll{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:GN++}),this.uuid=ga(),this.name="",this.type="Material",this.blending=vl,this.side=_o,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ab,this.blendDst=db,this.blendEquation=b0,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Qt(0,0,0),this.blendAlpha=0,this.depthFunc=wl,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=h5,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ql,this.stencilZFail=Ql,this.stencilZPass=Ql,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const n=t[e];if(n===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];if(r===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==vl&&(n.blending=this.blending),this.side!==_o&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Ab&&(n.blendSrc=this.blendSrc),this.blendDst!==db&&(n.blendDst=this.blendDst),this.blendEquation!==b0&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==wl&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==h5&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ql&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Ql&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Ql&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(e){const s=r(t.textures),a=r(t.images);s.length>0&&(n.textures=s),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(e!==null){const r=e.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=e[s].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class L5 extends ch{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ea,this.combine=n5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Fn=new X,w_=new Ct;class is{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=n,this.usage=oC,this.updateRanges=[],this.gpuType=da,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[t+r]=e.array[n+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,n=this.count;e<n;e++)w_.fromBufferAttribute(this,e),w_.applyMatrix3(t),this.setXY(e,w_.x,w_.y);else if(this.itemSize===3)for(let e=0,n=this.count;e<n;e++)Fn.fromBufferAttribute(this,e),Fn.applyMatrix3(t),this.setXYZ(e,Fn.x,Fn.y,Fn.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)Fn.fromBufferAttribute(this,e),Fn.applyMatrix4(t),this.setXYZ(e,Fn.x,Fn.y,Fn.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Fn.fromBufferAttribute(this,e),Fn.applyNormalMatrix(t),this.setXYZ(e,Fn.x,Fn.y,Fn.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Fn.fromBufferAttribute(this,e),Fn.transformDirection(t),this.setXYZ(e,Fn.x,Fn.y,Fn.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=$r(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=Yt(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=$r(e,this.array)),e}setX(t,e){return this.normalized&&(e=Yt(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=$r(e,this.array)),e}setY(t,e){return this.normalized&&(e=Yt(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=$r(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Yt(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=$r(e,this.array)),e}setW(t,e){return this.normalized&&(e=Yt(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=Yt(e,this.array),n=Yt(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return t*=this.itemSize,this.normalized&&(e=Yt(e,this.array),n=Yt(n,this.array),r=Yt(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,s){return t*=this.itemSize,this.normalized&&(e=Yt(e,this.array),n=Yt(n,this.array),r=Yt(r,this.array),s=Yt(s,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=s,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==oC&&(t.usage=this.usage),t}}class F5 extends is{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class k5 extends is{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class Ds extends is{constructor(t,e,n){super(new Float32Array(t),e,n)}}let zN=0;const Dr=new Cn,wC=new ji,Yl=new X,dr=new bo,lh=new bo,Kn=new X;class Qs extends Ll{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:zN++}),this.uuid=ga(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(g5(t)?k5:F5)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new ct().getNormalMatrix(t);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(t),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Dr.makeRotationFromQuaternion(t),this.applyMatrix4(Dr),this}rotateX(t){return Dr.makeRotationX(t),this.applyMatrix4(Dr),this}rotateY(t){return Dr.makeRotationY(t),this.applyMatrix4(Dr),this}rotateZ(t){return Dr.makeRotationZ(t),this.applyMatrix4(Dr),this}translate(t,e,n){return Dr.makeTranslation(t,e,n),this.applyMatrix4(Dr),this}scale(t,e,n){return Dr.makeScale(t,e,n),this.applyMatrix4(Dr),this}lookAt(t){return wC.lookAt(t),wC.updateMatrix(),this.applyMatrix4(wC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Yl).negate(),this.translate(Yl.x,Yl.y,Yl.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const n=[];for(let r=0,s=t.length;r<s;r++){const a=t[r];n.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Ds(n,3))}else{const n=Math.min(t.length,e.count);for(let r=0;r<n;r++){const s=t[r];e.setXYZ(r,s.x,s.y,s.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new bo);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new X(-1/0,-1/0,-1/0),new X(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,r=e.length;n<r;n++){const s=e[n];dr.setFromBufferAttribute(s),this.morphTargetsRelative?(Kn.addVectors(this.boundingBox.min,dr.min),this.boundingBox.expandByPoint(Kn),Kn.addVectors(this.boundingBox.max,dr.max),this.boundingBox.expandByPoint(Kn)):(this.boundingBox.expandByPoint(dr.min),this.boundingBox.expandByPoint(dr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ah);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new X,1/0);return}if(t){const n=this.boundingSphere.center;if(dr.setFromBufferAttribute(t),e)for(let s=0,a=e.length;s<a;s++){const o=e[s];lh.setFromBufferAttribute(o),this.morphTargetsRelative?(Kn.addVectors(dr.min,lh.min),dr.expandByPoint(Kn),Kn.addVectors(dr.max,lh.max),dr.expandByPoint(Kn)):(dr.expandByPoint(lh.min),dr.expandByPoint(lh.max))}dr.getCenter(n);let r=0;for(let s=0,a=t.count;s<a;s++)Kn.fromBufferAttribute(t,s),r=Math.max(r,n.distanceToSquared(Kn));if(e)for(let s=0,a=e.length;s<a;s++){const o=e[s],l=this.morphTargetsRelative;for(let c=0,x=o.count;c<x;c++)Kn.fromBufferAttribute(o,c),l&&(Yl.fromBufferAttribute(t,c),Kn.add(Yl)),r=Math.max(r,n.distanceToSquared(Kn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.position,r=e.normal,s=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new is(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let w=0;w<n.count;w++)o[w]=new X,l[w]=new X;const c=new X,x=new X,u=new X,f=new Ct,h=new Ct,A=new Ct,p=new X,d=new X;function g(w,C,v){c.fromBufferAttribute(n,w),x.fromBufferAttribute(n,C),u.fromBufferAttribute(n,v),f.fromBufferAttribute(s,w),h.fromBufferAttribute(s,C),A.fromBufferAttribute(s,v),x.sub(c),u.sub(c),h.sub(f),A.sub(f);const B=1/(h.x*A.y-A.x*h.y);isFinite(B)&&(p.copy(x).multiplyScalar(A.y).addScaledVector(u,-h.y).multiplyScalar(B),d.copy(u).multiplyScalar(h.x).addScaledVector(x,-A.x).multiplyScalar(B),o[w].add(p),o[C].add(p),o[v].add(p),l[w].add(d),l[C].add(d),l[v].add(d))}let m=this.groups;m.length===0&&(m=[{start:0,count:t.count}]);for(let w=0,C=m.length;w<C;++w){const v=m[w],B=v.start,S=v.count;for(let T=B,Q=B+S;T<Q;T+=3)g(t.getX(T+0),t.getX(T+1),t.getX(T+2))}const _=new X,I=new X,y=new X,E=new X;function b(w){y.fromBufferAttribute(r,w),E.copy(y);const C=o[w];_.copy(C),_.sub(y.multiplyScalar(y.dot(C))).normalize(),I.crossVectors(E,C);const B=I.dot(l[w])<0?-1:1;a.setXYZW(w,_.x,_.y,_.z,B)}for(let w=0,C=m.length;w<C;++w){const v=m[w],B=v.start,S=v.count;for(let T=B,Q=B+S;T<Q;T+=3)b(t.getX(T+0)),b(t.getX(T+1)),b(t.getX(T+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new is(new Float32Array(e.count*3),3),this.setAttribute("normal",n);else for(let f=0,h=n.count;f<h;f++)n.setXYZ(f,0,0,0);const r=new X,s=new X,a=new X,o=new X,l=new X,c=new X,x=new X,u=new X;if(t)for(let f=0,h=t.count;f<h;f+=3){const A=t.getX(f+0),p=t.getX(f+1),d=t.getX(f+2);r.fromBufferAttribute(e,A),s.fromBufferAttribute(e,p),a.fromBufferAttribute(e,d),x.subVectors(a,s),u.subVectors(r,s),x.cross(u),o.fromBufferAttribute(n,A),l.fromBufferAttribute(n,p),c.fromBufferAttribute(n,d),o.add(x),l.add(x),c.add(x),n.setXYZ(A,o.x,o.y,o.z),n.setXYZ(p,l.x,l.y,l.z),n.setXYZ(d,c.x,c.y,c.z)}else for(let f=0,h=e.count;f<h;f+=3)r.fromBufferAttribute(e,f+0),s.fromBufferAttribute(e,f+1),a.fromBufferAttribute(e,f+2),x.subVectors(a,s),u.subVectors(r,s),x.cross(u),n.setXYZ(f+0,x.x,x.y,x.z),n.setXYZ(f+1,x.x,x.y,x.z),n.setXYZ(f+2,x.x,x.y,x.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)Kn.fromBufferAttribute(t,e),Kn.normalize(),t.setXYZ(e,Kn.x,Kn.y,Kn.z)}toNonIndexed(){function t(o,l){const c=o.array,x=o.itemSize,u=o.normalized,f=new c.constructor(l.length*x);let h=0,A=0;for(let p=0,d=l.length;p<d;p++){o.isInterleavedBufferAttribute?h=l[p]*o.data.stride+o.offset:h=l[p]*x;for(let g=0;g<x;g++)f[A++]=c[h++]}return new is(f,x,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Qs,n=this.index.array,r=this.attributes;for(const o in r){const l=r[o],c=t(l,n);e.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let x=0,u=c.length;x<u;x++){const f=c[x],h=t(f,n);l.push(h)}e.morphAttributes[o]=l}e.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];e.addGroup(c.start,c.count,c.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(t[c]=l[c]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const l in n){const c=n[l];t.data.attributes[l]=c.toJSON(t.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],x=[];for(let u=0,f=c.length;u<f;u++){const h=c[u];x.push(h.toJSON(t.data))}x.length>0&&(r[l]=x,s=!0)}s&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(t.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(t.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;n!==null&&this.setIndex(n.clone(e));const r=t.attributes;for(const c in r){const x=r[c];this.setAttribute(c,x.clone(e))}const s=t.morphAttributes;for(const c in s){const x=[],u=s[c];for(let f=0,h=u.length;f<h;f++)x.push(u[f].clone(e));this.morphAttributes[c]=x}this.morphTargetsRelative=t.morphTargetsRelative;const a=t.groups;for(let c=0,x=a.length;c<x;c++){const u=a[c];this.addGroup(u.start,u.count,u.materialIndex)}const o=t.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=t.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const P5=new Cn,M0=new LN,B_=new ah,U5=new X,S_=new X,M_=new X,R_=new X,BC=new X,T_=new X,N5=new X,D_=new X;class Ls extends ji{constructor(t=new Qs,e=new L5){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){const r=e[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(t,e){const n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,a=n.morphTargetsRelative;e.fromBufferAttribute(r,t);const o=this.morphTargetInfluences;if(s&&o){T_.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const x=o[l],u=s[l];x!==0&&(BC.fromBufferAttribute(u,t),a?T_.addScaledVector(BC,x):T_.addScaledVector(BC.sub(e),x))}e.add(T_)}return e}raycast(t,e){const n=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),B_.copy(n.boundingSphere),B_.applyMatrix4(s),M0.copy(t.ray).recast(t.near),!(B_.containsPoint(M0.origin)===!1&&(M0.intersectSphere(B_,U5)===null||M0.origin.distanceToSquared(U5)>(t.far-t.near)**2))&&(P5.copy(s).invert(),M0.copy(t.ray).applyMatrix4(P5),!(n.boundingBox!==null&&M0.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(t,e,M0)))}_computeIntersections(t,e,n){let r;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,x=s.attributes.uv1,u=s.attributes.normal,f=s.groups,h=s.drawRange;if(o!==null)if(Array.isArray(a))for(let A=0,p=f.length;A<p;A++){const d=f[A],g=a[d.materialIndex],m=Math.max(d.start,h.start),_=Math.min(o.count,Math.min(d.start+d.count,h.start+h.count));for(let I=m,y=_;I<y;I+=3){const E=o.getX(I),b=o.getX(I+1),w=o.getX(I+2);r=Q_(this,g,t,n,c,x,u,E,b,w),r&&(r.faceIndex=Math.floor(I/3),r.face.materialIndex=d.materialIndex,e.push(r))}}else{const A=Math.max(0,h.start),p=Math.min(o.count,h.start+h.count);for(let d=A,g=p;d<g;d+=3){const m=o.getX(d),_=o.getX(d+1),I=o.getX(d+2);r=Q_(this,a,t,n,c,x,u,m,_,I),r&&(r.faceIndex=Math.floor(d/3),e.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let A=0,p=f.length;A<p;A++){const d=f[A],g=a[d.materialIndex],m=Math.max(d.start,h.start),_=Math.min(l.count,Math.min(d.start+d.count,h.start+h.count));for(let I=m,y=_;I<y;I+=3){const E=I,b=I+1,w=I+2;r=Q_(this,g,t,n,c,x,u,E,b,w),r&&(r.faceIndex=Math.floor(I/3),r.face.materialIndex=d.materialIndex,e.push(r))}}else{const A=Math.max(0,h.start),p=Math.min(l.count,h.start+h.count);for(let d=A,g=p;d<g;d+=3){const m=d,_=d+1,I=d+2;r=Q_(this,a,t,n,c,x,u,m,_,I),r&&(r.faceIndex=Math.floor(d/3),e.push(r))}}}}function VN(i,t,e,n,r,s,a,o){let l;if(t.side===Ji?l=n.intersectTriangle(a,s,r,!0,o):l=n.intersectTriangle(r,s,a,t.side===_o,o),l===null)return null;D_.copy(o),D_.applyMatrix4(i.matrixWorld);const c=e.ray.origin.distanceTo(D_);return c<e.near||c>e.far?null:{distance:c,point:D_.clone(),object:i}}function Q_(i,t,e,n,r,s,a,o,l,c){i.getVertexPosition(o,S_),i.getVertexPosition(l,M_),i.getVertexPosition(c,R_);const x=VN(i,t,e,n,S_,M_,R_,N5);if(x){const u=new X;Tr.getBarycoord(N5,S_,M_,R_,u),r&&(x.uv=Tr.getInterpolatedAttribute(r,o,l,c,u,new Ct)),s&&(x.uv1=Tr.getInterpolatedAttribute(s,o,l,c,u,new Ct)),a&&(x.normal=Tr.getInterpolatedAttribute(a,o,l,c,u,new X),x.normal.dot(n.direction)>0&&x.normal.multiplyScalar(-1));const f={a:o,b:l,c,normal:new X,materialIndex:0};Tr.getNormal(S_,M_,R_,f.normal),x.face=f,x.barycoord=u}return x}class xh extends Qs{constructor(t=1,e=1,n=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],x=[],u=[];let f=0,h=0;A("z","y","x",-1,-1,n,e,t,a,s,0),A("z","y","x",1,-1,n,e,-t,a,s,1),A("x","z","y",1,1,t,n,e,r,a,2),A("x","z","y",1,-1,t,n,-e,r,a,3),A("x","y","z",1,-1,t,e,n,r,s,4),A("x","y","z",-1,-1,t,e,-n,r,s,5),this.setIndex(l),this.setAttribute("position",new Ds(c,3)),this.setAttribute("normal",new Ds(x,3)),this.setAttribute("uv",new Ds(u,2));function A(p,d,g,m,_,I,y,E,b,w,C){const v=I/b,B=y/w,S=I/2,T=y/2,Q=E/2,M=b+1,D=w+1;let U=0,F=0;const z=new X;for(let H=0;H<D;H++){const P=H*B-T;for(let Z=0;Z<M;Z++){const ce=Z*v-S;z[p]=ce*m,z[d]=P*_,z[g]=Q,c.push(z.x,z.y,z.z),z[p]=0,z[d]=0,z[g]=E>0?1:-1,x.push(z.x,z.y,z.z),u.push(Z/b),u.push(1-H/w),U+=1}}for(let H=0;H<w;H++)for(let P=0;P<b;P++){const Z=f+P+M*H,ce=f+P+M*(H+1),G=f+(P+1)+M*(H+1),O=f+(P+1)+M*H;l.push(Z,ce,O),l.push(ce,G,O),F+=6}o.addGroup(h,F,C),h+=F,f+=U}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new xh(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Wl(i){const t={};for(const e in i){t[e]={};for(const n in i[e]){const r=i[e][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][n]=null):t[e][n]=r.clone():Array.isArray(r)?t[e][n]=r.slice():t[e][n]=r}}return t}function Mi(i){const t={};for(let e=0;e<i.length;e++){const n=Wl(i[e]);for(const r in n)t[r]=n[r]}return t}function HN(i){const t=[];for(let e=0;e<i.length;e++)t.push(i[e].clone());return t}function O5(i){const t=i.getRenderTarget();return t===null?i.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:Dt.workingColorSpace}const SC={clone:Wl,merge:Mi};var qN=`void main() {
=======
}`,cz={speed:1,size:2,count:100,color:[1,1,1],useColorRamp:!1};class lz{constructor(e={}){hn(this,"_setProps",e=>{e.data&&(this.data=e.data),e.count&&(this.state.count=count),e.speed&&(this.state.speed=e.speed),e.size&&(this.state.size=e.size),e.color&&(this.state.color=e.color),e.colorRamp&&(this._colorRampObject=this._createColorRamp(e.colorRamp)),e.useColorRamp&&(this.state.useColorRamp=e.useColorRamp),this.layer.reDraw()});return this.state={...cz,...e,particles:{positions:[]}},this.layer=this._initLayer(),this._isGlReady=!1,this._models={},this.data=[],this.clock={start:0,now:0,fps:0,elapsedTime:0},this._rafId=null,this._needAnimate=!1,this.layer}_initLayer(){const e=new KM({projection:this.state.projection});return e.onBeforeUpdate=this._onBeforeUpdate.bind(this),e.onUpdate=this._onUpdate.bind(this),e.setProps=this._setProps.bind(this),!this._colorRampObject&&this.state.colorRamp&&(this._colorRampObject=this._createColorRamp(this.state.colorRamp)),e}_onBeforeUpdate(e){const{gl:t,canvas:n,extent:r,resolution:s,pixelRatio:a,size:o,projection:l}=e;this._isGlReady||(t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.enable(t.CULL_FACE),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,1)),this._isGlReady=!0}_onUpdate(e){const{gl:t,canvas:n,extent:r,resolution:s,pixelRatio:a,size:o,projection:l}=e,c=this.state.map;if(c){t.viewport(0,0,o[0],o[1]),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);const x=[];this.data.forEach(({bbox:f},A)=>{const[g,d]=this.layer.lnglatToScreen([f[0],f[1]],c,r,a),[p,m]=this.layer.lnglatToScreen([f[2],f[3]],c,r,a),I=g/o[0],_=p/o[0],y=1-d/o[1],E=1-m/o[1],C=[I,y,_,E];x[A]=C});const u=x.reduce((f,A)=>f+Math.abs(A[2]-A[0]),0);this._models={},this.data.forEach(({dataArray_u:f,dataArray_v:A,bbox:g,width:d,height:p,metaData:m},I)=>{const _=Math.abs(x[I][2]-x[I][0])/u,y=this._createParticles(x[I],Math.floor(this.state.count*_));this._models[I]=this._createModel(t,{calc:{vert:ez,frag:tz,textureData:{data:{u:f,v:A},width:d,height:p}},input:{vert:nz,frag:iz},output:{vert:rz,frag:sz},main:{vert:az,frag:oz},metaData:m,particles:y,extent:x[I]})});const h=()=>{this.clock.now=performance.now(),this.clock.elapsedTime+=(this.clock.now-this.clock.start)/1e3,this.clock.fps=Math.floor(1e3/(this.clock.now-this.clock.start)),this.clock.start=this.clock.now,t.clear(t.COLOR_BUFFER_BIT);for(let f=0;f<this.data.length;f++)this._drawModel(this._models[f],{});this.layer.source.changed(),this._rafId=requestAnimationFrame(h)};cancelAnimationFrame(this._rafId),h()}}_createModel(e,{calc:t,input:n,output:r,main:s,metaData:a,particles:o,extent:l}){const c=$G(e,t.vert,t.frag,["next_position","next_color"]),x=Sb(e,n.vert,n.frag),u=Sb(e,r.vert,r.frag),h=Sb(e,s.vert,s.frag),f=e.createVertexArray(),A=e.createVertexArray(),g=e.createVertexArray(),d=e.createVertexArray(),p={positions_input:e.createBuffer(),positions_output:e.createBuffer(),colors_output:e.createBuffer()},m={positions:e.createBuffer(),uvs:e.createBuffer()},I={positions:e.createBuffer(),uvs:e.createBuffer()},_={attributes:{a_position:0,a_age:1},uniforms:{u_sampler_tiff_u:e.getUniformLocation(c,"u_sampler_tiff_u"),u_sampler_tiff_v:e.getUniformLocation(c,"u_sampler_tiff_v"),u_sampler_colorRamp:e.getUniformLocation(c,"u_sampler_colorRamp"),u_time:e.getUniformLocation(c,"u_time"),u_random:e.getUniformLocation(c,"u_random"),u_extent:e.getUniformLocation(c,"u_extent"),u_count:e.getUniformLocation(c,"u_count"),u_speed:e.getUniformLocation(c,"u_speed"),u_scale:e.getUniformLocation(c,"u_scale"),u_nodata:e.getUniformLocation(c,"u_nodata"),u_offset:e.getUniformLocation(c,"u_offset"),u_umin:e.getUniformLocation(c,"u_umin"),u_umax:e.getUniformLocation(c,"u_umax"),u_vmin:e.getUniformLocation(c,"u_vmin"),u_vmax:e.getUniformLocation(c,"u_vmax"),u_val_min:e.getUniformLocation(c,"u_val_min"),u_val_max:e.getUniformLocation(c,"u_val_max")}},y={attributes:{a_position:0,a_color:1},uniforms:{u_size:e.getUniformLocation(x,"u_size"),u_color:e.getUniformLocation(x,"u_color"),u_useColorRamp:e.getUniformLocation(x,"u_useColorRamp")}},E={attributes:{a_position:0,a_uv:1},uniforms:{u_sampler:e.getUniformLocation(u,"u_sampler")}},C={attributes:{a_position:0,a_uv:1},uniforms:{u_sampler:e.getUniformLocation(h,"u_sampler")}},w=e.createTransformFeedback(),b=[e.canvas.width,e.canvas.height],v={input:{framebuffer:e.createFramebuffer(),texture:JM({gl:e,level:0,border:0,offset:0,target:e.TEXTURE_2D,width:b[0],height:b[1],type:e.UNSIGNED_BYTE,internalformat:e.RGBA,format:e.RGBA})},output:{framebuffer:e.createFramebuffer(),texture:JM({gl:e,level:0,border:0,offset:0,target:e.TEXTURE_2D,width:b[0],height:b[1],type:e.UNSIGNED_BYTE,internalformat:e.RGBA,format:e.RGBA})}};e.bindFramebuffer(e.FRAMEBUFFER,v.input.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,v.input.texture,0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,v.output.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,v.output.texture,0),e.bindFramebuffer(e.FRAMEBUFFER,null);const{positions:B}=o;e.bindBuffer(e.ARRAY_BUFFER,p.positions_input),e.bufferData(e.ARRAY_BUFFER,B.length*Float32Array.BYTES_PER_ELEMENT*1,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,p.positions_output),e.bufferData(e.ARRAY_BUFFER,B.length*Float32Array.BYTES_PER_ELEMENT*1,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,p.colors_output),e.bufferData(e.ARRAY_BUFFER,B.length/2*3*Float32Array.BYTES_PER_ELEMENT*1,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null);const R={tiff_u:{val:e.createTexture(),id:e.TEXTURE0,pos:0},tiff_v:{val:e.createTexture(),id:e.TEXTURE1,pos:1},colorRamp:{val:e.createTexture(),id:e.TEXTURE2,pos:2}},T=Rf(t.textureData.data.u,e);Mf({gl:e,texture:R.tiff_u.val,level:0,border:0,offset:0,data:t.textureData.data.u,target:e.TEXTURE_2D,width:t.textureData.width,height:t.textureData.height,type:T.type,format:T.format,internalformat:T.internalformat});const F=Rf(t.textureData.data.v,e);Mf({gl:e,texture:R.tiff_v.val,level:0,border:0,offset:0,data:t.textureData.data.v,target:e.TEXTURE_2D,width:t.textureData.width,height:t.textureData.height,type:F.type,format:F.format,internalformat:F.internalformat});const{val_min:M,val_max:D,imageData:P,width:k,height:V}=this._colorRampObject,Y=Rf(P,e);Mf({gl:e,texture:R.colorRamp.val,level:0,border:0,offset:0,data:P,target:e.TEXTURE_2D,width:k,height:V,type:Y.type,format:Y.format,internalformat:Y.internalformat});const U=[0,0,1,0,1,1,1,1,0,1,0,0],ne=[0,0,1,0,1,1,1,1,0,1,0,0];return{gl:e,calc:{program:c,vao:f,buffers:p,locations:_,tf:w,textures:R,fbs:v},input:{program:x,vao:A,locations:y},output:{program:u,vao:g,buffers:m,locations:E,positions:U,uvs:ne},main:{program:h,vao:d,buffers:I,locations:C,positions:U,uvs:ne},fbs:v,metaData:a,particles:o,extent:l}}_updateModel(e,{calc:t,particles:n,extent:r}){const{gl:s}=e,{program:a,vao:o,buffers:l,locations:c,tf:x,textures:u,fbs:h}=e.calc,{textureData:f}=t,{positions:A,ages:g}=n;l.positions_input=s.createBuffer(),l.positions_output=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,l.positions_input),s.bufferData(s.ARRAY_BUFFER,new Float32Array(A),s.DYNAMIC_DRAW),s.bindBuffer(s.ARRAY_BUFFER,l.positions_output),s.bufferData(s.ARRAY_BUFFER,A.length*Float32Array.BYTES_PER_ELEMENT*1,s.DYNAMIC_DRAW),s.bindBuffer(s.ARRAY_BUFFER,null);const d=Rf(f.data.u,s);Mf({gl:s,texture:u.tiff_u.val,level:0,border:0,offset:0,data:f.data.u,target:s.TEXTURE_2D,width:f.width,height:f.height,type:d.type,format:d.format,internalformat:d.internalformat});const p=Rf(f.data.v,s);Mf({gl:s,texture:u.tiff_v.val,level:0,border:0,offset:0,data:f.data.v,target:s.TEXTURE_2D,width:f.width,height:f.height,type:p.type,format:p.format,internalformat:p.internalformat})}_drawModel(e,{}){if(e){const{gl:t,calc:n,input:r,output:s,main:a,fbs:o,metaData:l,particles:c,extent:x}=e;this._drawCalc(t,n,l,c,x),this._draw_input(t,r,o,n,c),this._draw_output(t,s,o),this._draw_main(t,a,o),this._swapframebuffer(o),this._swaptfbuffer(n)}}_drawCalc(e,t,n,r,s){const{program:a,vao:o,buffers:l,locations:c,tf:x,textures:u}=t,{val_min:h,val_max:f}=this._colorRampObject;e.useProgram(a),e.bindVertexArray(o);const{a_position:A}=c.attributes;e.bindBuffer(e.ARRAY_BUFFER,l.positions_input),e.enableVertexAttribArray(A),e.vertexAttribPointer(A,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,x),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,0,l.positions_output),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,1,l.colors_output),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),e.enable(e.RASTERIZER_DISCARD),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,x),e.beginTransformFeedback(e.POINTS),e.activeTexture(u.tiff_u.id),e.bindTexture(e.TEXTURE_2D,u.tiff_u.val),e.uniform1i(c.uniforms.u_sampler_tiff_u,u.tiff_u.pos),e.activeTexture(u.tiff_v.id),e.bindTexture(e.TEXTURE_2D,u.tiff_v.val),e.uniform1i(c.uniforms.u_sampler_tiff_v,u.tiff_v.pos),e.activeTexture(u.colorRamp.id),e.bindTexture(e.TEXTURE_2D,u.colorRamp.val),e.uniform1i(c.uniforms.u_sampler_colorRamp,u.colorRamp.pos),e.uniform1f(c.uniforms.u_time,this.clock.elapsedTime),e.uniform1f(c.uniforms.u_random,Math.random()),e.uniform4fv(c.uniforms.u_extent,new Float32Array(s)),e.uniform1f(c.uniforms.u_speed,this.state.speed),e.uniform1f(c.uniforms.u_count,this.state.count),e.uniform1f(c.uniforms.u_scale,n.scale),e.uniform1f(c.uniforms.u_nodata,n.nodata),e.uniform1f(c.uniforms.u_offset,n.offset),e.uniform1f(c.uniforms.u_umin,n.umin),e.uniform1f(c.uniforms.u_umax,n.umax),e.uniform1f(c.uniforms.u_vmin,n.vmin),e.uniform1f(c.uniforms.u_vmax,n.vmax),e.uniform1f(c.uniforms.u_val_min,h),e.uniform1f(c.uniforms.u_val_max,f),e.drawArrays(e.POINTS,0,r.positions.length/2),e.endTransformFeedback(),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),e.disable(e.RASTERIZER_DISCARD),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null)}_draw_input(e,t,n,r,s){const{program:a,vao:o,locations:l}=t;e.useProgram(a),e.bindFramebuffer(e.FRAMEBUFFER,n.input.framebuffer),e.bindVertexArray(o);const{a_position:c,a_color:x}=l.attributes;e.bindBuffer(e.ARRAY_BUFFER,r.buffers.positions_output),e.enableVertexAttribArray(c),e.vertexAttribPointer(c,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,r.buffers.colors_output),e.enableVertexAttribArray(x),e.vertexAttribPointer(x,3,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*3,0),e.uniform1f(l.uniforms.u_size,this.state.size),e.uniform3fv(l.uniforms.u_color,new Float32Array(this.state.color)),e.uniform1i(l.uniforms.u_useColorRamp,this.state.useColorRamp),e.drawArrays(e.POINTS,0,s.positions.length/2),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null)}_draw_output(e,t,n){const{program:r,vao:s,buffers:a,locations:o,positions:l,uvs:c}=t;e.useProgram(r),e.bindFramebuffer(e.FRAMEBUFFER,n.output.framebuffer),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n.input.texture),e.uniform1i(o.uniforms.u_sampler,0),e.bindVertexArray(s);const x=a.positions,u=a.uvs,{a_position:h,a_uv:f}=o.attributes;e.bindBuffer(e.ARRAY_BUFFER,x),e.bufferData(e.ARRAY_BUFFER,new Float32Array(l),e.STATIC_DRAW),e.enableVertexAttribArray(h),e.vertexAttribPointer(h,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,new Float32Array(c),e.STATIC_DRAW),e.enableVertexAttribArray(f),e.vertexAttribPointer(f,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.drawArrays(e.TRIANGLES,0,6),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null)}_draw_main(e,t,n){const{program:r,vao:s,buffers:a,locations:o,positions:l,uvs:c}=t;e.useProgram(r),e.bindFramebuffer(e.FRAMEBUFFER,null),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n.input.texture),e.uniform1i(o.uniforms.u_sampler,0),e.bindVertexArray(s);const x=a.positions,u=a.uvs,{a_position:h,a_uv:f}=o.attributes;e.bindBuffer(e.ARRAY_BUFFER,x),e.bufferData(e.ARRAY_BUFFER,new Float32Array(l),e.STATIC_DRAW),e.enableVertexAttribArray(h),e.vertexAttribPointer(h,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,new Float32Array(c),e.STATIC_DRAW),e.enableVertexAttribArray(f),e.vertexAttribPointer(f,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,null),e.drawArrays(e.TRIANGLES,0,6),e.bindVertexArray(null)}_swaptfbuffer(e){const{buffers:t}=e,n=t.positions_input;t.positions_input=t.positions_output,t.positions_output=n}_swapframebuffer(e){const t={...e.input};e.input.texture=e.output.texture,e.input.framebuffer=e.output.framebuffer,e.output.texture=t.texture,e.output.framebuffer=t.framebuffer}_createParticles(e,t){const[n,r,s,a]=e,o=[],l=[];for(let c=0;c<t;c++)o[c*2]=n+Math.random()*(s-n),o[c*2+1]=r+Math.random()*(a-r),l[c]=Math.floor(Math.random()*this.state.maxAge);return{positions:o,ages:l}}_createColorRamp(e){const t=e.sort((u,h)=>u[0]<h[0]),n=t[0][0],r=t[t.length-1][0],s=document.createElement("canvas"),a=256,o=1;s.width=a,s.height=o;const l=s.getContext("2d"),c=l.createLinearGradient(0,0,s.width,s.height);for(let u=0;u<e.length;u++){const[h,f]=e[u],A=(h-n)/(r-n);c.addColorStop(A,f)}l.fillStyle=c,l.fillRect(0,0,s.width,s.height);const x=new Uint8Array(l.getImageData(0,0,s.width,s.height).data);return{val_min:n,val_max:r,imageData:x,width:a,height:o}}}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Mb="171",xz=0,ZM=1,uz=2,$M=1,hz=2,ba=3,Lo=0,er=1,va=2,Po=0,$l=1,e8=2,t8=3,n8=4,fz=5,z0=100,Az=101,dz=102,pz=103,gz=104,mz=200,_z=201,Iz=202,Ez=203,Rb=204,Tb=205,yz=206,Cz=207,bz=208,vz=209,wz=210,Bz=211,Sz=212,Mz=213,Rz=214,Db=0,Qb=1,Fb=2,ex=3,Lb=4,Pb=5,kb=6,Ub=7,i8=0,Tz=1,Dz=2,ko=0,Qz=1,Fz=2,Lz=3,Pz=4,kz=5,Uz=6,Nz=7,Nb=300,tx=301,nx=302,Ob=303,Gb=304,$2=306,zb=1e3,wa=1001,Vb=1002,as=1003,Oz=1004,e_=1005,Qr=1006,Hb=1007,V0=1008,Ba=1009,r8=1010,s8=1011,Tf=1012,qb=1013,H0=1014,Sa=1015,Df=1016,Yb=1017,Xb=1018,ix=1020,a8=35902,o8=1021,c8=1022,os=1023,l8=1024,x8=1025,rx=1026,sx=1027,u8=1028,Wb=1029,h8=1030,jb=1031,Kb=1033,t_=33776,n_=33777,i_=33778,r_=33779,Jb=35840,Zb=35841,$b=35842,ev=35843,tv=36196,nv=37492,iv=37496,rv=37808,sv=37809,av=37810,ov=37811,cv=37812,lv=37813,xv=37814,uv=37815,hv=37816,fv=37817,Av=37818,dv=37819,pv=37820,gv=37821,s_=36492,mv=36494,_v=36495,f8=36283,Iv=36284,Ev=36285,yv=36286,Gz=3200,zz=3201,Vz=0,Hz=1,Uo="",Fr="srgb",ax="srgb-linear",a_="linear",$t="srgb",ox=7680,A8=519,qz=512,Yz=513,Xz=514,d8=515,Wz=516,jz=517,Kz=518,Jz=519,Cv=35044,p8="300 es",Ma=2e3,o_=2001;class cx{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}const vi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let g8=1234567;const Qf=Math.PI/180,Ff=180/Math.PI;function Ra(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(vi[i&255]+vi[i>>8&255]+vi[i>>16&255]+vi[i>>24&255]+"-"+vi[e&255]+vi[e>>8&255]+"-"+vi[e>>16&15|64]+vi[e>>24&255]+"-"+vi[t&63|128]+vi[t>>8&255]+"-"+vi[t>>16&255]+vi[t>>24&255]+vi[n&255]+vi[n>>8&255]+vi[n>>16&255]+vi[n>>24&255]).toLowerCase()}function ft(i,e,t){return Math.max(e,Math.min(t,i))}function bv(i,e){return(i%e+e)%e}function Zz(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function $z(i,e,t){return i!==e?(t-i)/(e-i):0}function Lf(i,e,t){return(1-t)*i+t*e}function eV(i,e,t,n){return Lf(i,e,1-Math.exp(-t*n))}function tV(i,e=1){return e-Math.abs(bv(i,e*2)-e)}function nV(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function iV(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function rV(i,e){return i+Math.floor(Math.random()*(e-i+1))}function sV(i,e){return i+Math.random()*(e-i)}function aV(i){return i*(.5-Math.random())}function oV(i){i!==void 0&&(g8=i);let e=g8+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function cV(i){return i*Qf}function lV(i){return i*Ff}function xV(i){return(i&i-1)===0&&i!==0}function uV(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function hV(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function fV(i,e,t,n,r){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),c=s((e+n)/2),x=a((e+n)/2),u=s((e-n)/2),h=a((e-n)/2),f=s((n-e)/2),A=a((n-e)/2);switch(r){case"XYX":i.set(o*x,l*u,l*h,o*c);break;case"YZY":i.set(l*h,o*x,l*u,o*c);break;case"ZXZ":i.set(l*u,l*h,o*x,o*c);break;case"XZX":i.set(o*x,l*A,l*f,o*c);break;case"YXY":i.set(l*f,o*x,l*A,o*c);break;case"ZYZ":i.set(l*A,l*f,o*x,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function cs(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Wt(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const AV={DEG2RAD:Qf,RAD2DEG:Ff,generateUUID:Ra,clamp:ft,euclideanModulo:bv,mapLinear:Zz,inverseLerp:$z,lerp:Lf,damp:eV,pingpong:tV,smoothstep:nV,smootherstep:iV,randInt:rV,randFloat:sV,randFloatSpread:aV,seededRandom:oV,degToRad:cV,radToDeg:lV,isPowerOfTwo:xV,ceilPowerOfTwo:uV,floorPowerOfTwo:hV,setQuaternionFromProperEuler:fV,normalize:Wt,denormalize:cs};class It{constructor(e=0,t=0){It.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=ft(this.x,e.x,t.x),this.y=ft(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=ft(this.x,e,t),this.y=ft(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(ft(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(ft(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*n-a*r+e.x,this.y=s*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class at{constructor(e,t,n,r,s,a,o,l,c){at.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,a,o,l,c)}set(e,t,n,r,s,a,o,l,c){const x=this.elements;return x[0]=e,x[1]=r,x[2]=o,x[3]=t,x[4]=s,x[5]=l,x[6]=n,x[7]=a,x[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],o=n[3],l=n[6],c=n[1],x=n[4],u=n[7],h=n[2],f=n[5],A=n[8],g=r[0],d=r[3],p=r[6],m=r[1],I=r[4],_=r[7],y=r[2],E=r[5],C=r[8];return s[0]=a*g+o*m+l*y,s[3]=a*d+o*I+l*E,s[6]=a*p+o*_+l*C,s[1]=c*g+x*m+u*y,s[4]=c*d+x*I+u*E,s[7]=c*p+x*_+u*C,s[2]=h*g+f*m+A*y,s[5]=h*d+f*I+A*E,s[8]=h*p+f*_+A*C,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],x=e[8];return t*a*x-t*o*c-n*s*x+n*o*l+r*s*c-r*a*l}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],x=e[8],u=x*a-o*c,h=o*l-x*s,f=c*s-a*l,A=t*u+n*h+r*f;if(A===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/A;return e[0]=u*g,e[1]=(r*c-x*n)*g,e[2]=(o*n-r*a)*g,e[3]=h*g,e[4]=(x*t-r*l)*g,e[5]=(r*s-o*t)*g,e[6]=f*g,e[7]=(n*l-c*t)*g,e[8]=(a*t-n*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*a+c*o)+a+e,-r*c,r*l,-r*(-c*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(vv.makeScale(e,t)),this}rotate(e){return this.premultiply(vv.makeRotation(-e)),this}translate(e,t){return this.premultiply(vv.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const vv=new at;function m8(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}function c_(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function dV(){const i=c_("canvas");return i.style.display="block",i}const _8={};function lx(i){i in _8||(_8[i]=!0,console.warn(i))}function pV(i,e,t){return new Promise(function(n,r){function s(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:n()}}setTimeout(s,t)})}function gV(i){const e=i.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function mV(i){const e=i.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const I8=new at().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),E8=new at().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function _V(){const i={enabled:!0,workingColorSpace:ax,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===$t&&(r.r=Ta(r.r),r.g=Ta(r.g),r.b=Ta(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===$t&&(r.r=xx(r.r),r.g=xx(r.g),r.b=xx(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Uo?a_:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[ax]:{primaries:e,whitePoint:n,transfer:a_,toXYZ:I8,fromXYZ:E8,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Fr},outputColorSpaceConfig:{drawingBufferColorSpace:Fr}},[Fr]:{primaries:e,whitePoint:n,transfer:$t,toXYZ:I8,fromXYZ:E8,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Fr}}}),i}const Mt=_V();function Ta(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function xx(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let ux;class IV{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ux===void 0&&(ux=c_("canvas")),ux.width=e.width,ux.height=e.height;const n=ux.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=ux}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=c_("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=Ta(s[a]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Ta(t[n]/255)*255):t[n]=Ta(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let EV=0;class y8{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:EV++}),this.uuid=Ra(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(wv(r[a].image)):s.push(wv(r[a]))}else s=wv(r);n.url=s}return t||(e.images[this.uuid]=n),n}}function wv(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?IV.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let yV=0;class Fi extends cx{constructor(e=Fi.DEFAULT_IMAGE,t=Fi.DEFAULT_MAPPING,n=wa,r=wa,s=Qr,a=V0,o=os,l=Ba,c=Fi.DEFAULT_ANISOTROPY,x=Uo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:yV++}),this.uuid=Ra(),this.name="",this.source=new y8(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new It(0,0),this.repeat=new It(1,1),this.center=new It(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new at,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=x,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Nb)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case zb:e.x=e.x-Math.floor(e.x);break;case wa:e.x=e.x<0?0:1;break;case Vb:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case zb:e.y=e.y-Math.floor(e.y);break;case wa:e.y=e.y<0?0:1;break;case Vb:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Fi.DEFAULT_IMAGE=null,Fi.DEFAULT_MAPPING=Nb,Fi.DEFAULT_ANISOTROPY=1;class cn{constructor(e=0,t=0,n=0,r=1){cn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const l=e.elements,c=l[0],x=l[4],u=l[8],h=l[1],f=l[5],A=l[9],g=l[2],d=l[6],p=l[10];if(Math.abs(x-h)<.01&&Math.abs(u-g)<.01&&Math.abs(A-d)<.01){if(Math.abs(x+h)<.1&&Math.abs(u+g)<.1&&Math.abs(A+d)<.1&&Math.abs(c+f+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const I=(c+1)/2,_=(f+1)/2,y=(p+1)/2,E=(x+h)/4,C=(u+g)/4,w=(A+d)/4;return I>_&&I>y?I<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(I),r=E/n,s=C/n):_>y?_<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(_),n=E/r,s=w/r):y<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(y),n=C/s,r=w/s),this.set(n,r,s,t),this}let m=Math.sqrt((d-A)*(d-A)+(u-g)*(u-g)+(h-x)*(h-x));return Math.abs(m)<.001&&(m=1),this.x=(d-A)/m,this.y=(u-g)/m,this.z=(h-x)/m,this.w=Math.acos((c+f+p-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=ft(this.x,e.x,t.x),this.y=ft(this.y,e.y,t.y),this.z=ft(this.z,e.z,t.z),this.w=ft(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=ft(this.x,e,t),this.y=ft(this.y,e,t),this.z=ft(this.z,e,t),this.w=ft(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(ft(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class CV extends cx{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new cn(0,0,e,t),this.scissorTest=!1,this.viewport=new cn(0,0,e,t);const r={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Qr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const s=new Fi(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);s.flipY=!1,s.generateMipmaps=n.generateMipmaps,s.internalFormat=n.internalFormat,this.textures=[];const a=n.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new y8(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class q0 extends CV{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class C8 extends Fi{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=as,this.minFilter=as,this.wrapR=wa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class bV extends Fi{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=as,this.minFilter=as,this.wrapR=wa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Pf{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,s,a,o){let l=n[r+0],c=n[r+1],x=n[r+2],u=n[r+3];const h=s[a+0],f=s[a+1],A=s[a+2],g=s[a+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=x,e[t+3]=u;return}if(o===1){e[t+0]=h,e[t+1]=f,e[t+2]=A,e[t+3]=g;return}if(u!==g||l!==h||c!==f||x!==A){let d=1-o;const p=l*h+c*f+x*A+u*g,m=p>=0?1:-1,I=1-p*p;if(I>Number.EPSILON){const y=Math.sqrt(I),E=Math.atan2(y,p*m);d=Math.sin(d*E)/y,o=Math.sin(o*E)/y}const _=o*m;if(l=l*d+h*_,c=c*d+f*_,x=x*d+A*_,u=u*d+g*_,d===1-o){const y=1/Math.sqrt(l*l+c*c+x*x+u*u);l*=y,c*=y,x*=y,u*=y}}e[t]=l,e[t+1]=c,e[t+2]=x,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,s,a){const o=n[r],l=n[r+1],c=n[r+2],x=n[r+3],u=s[a],h=s[a+1],f=s[a+2],A=s[a+3];return e[t]=o*A+x*u+l*f-c*h,e[t+1]=l*A+x*h+c*u-o*f,e[t+2]=c*A+x*f+o*h-l*u,e[t+3]=x*A-o*u-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(n/2),x=o(r/2),u=o(s/2),h=l(n/2),f=l(r/2),A=l(s/2);switch(a){case"XYZ":this._x=h*x*u+c*f*A,this._y=c*f*u-h*x*A,this._z=c*x*A+h*f*u,this._w=c*x*u-h*f*A;break;case"YXZ":this._x=h*x*u+c*f*A,this._y=c*f*u-h*x*A,this._z=c*x*A-h*f*u,this._w=c*x*u+h*f*A;break;case"ZXY":this._x=h*x*u-c*f*A,this._y=c*f*u+h*x*A,this._z=c*x*A+h*f*u,this._w=c*x*u-h*f*A;break;case"ZYX":this._x=h*x*u-c*f*A,this._y=c*f*u+h*x*A,this._z=c*x*A-h*f*u,this._w=c*x*u+h*f*A;break;case"YZX":this._x=h*x*u+c*f*A,this._y=c*f*u+h*x*A,this._z=c*x*A-h*f*u,this._w=c*x*u-h*f*A;break;case"XZY":this._x=h*x*u-c*f*A,this._y=c*f*u-h*x*A,this._z=c*x*A+h*f*u,this._w=c*x*u+h*f*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],a=t[1],o=t[5],l=t[9],c=t[2],x=t[6],u=t[10],h=n+o+u;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(x-l)*f,this._y=(s-c)*f,this._z=(a-r)*f}else if(n>o&&n>u){const f=2*Math.sqrt(1+n-o-u);this._w=(x-l)/f,this._x=.25*f,this._y=(r+a)/f,this._z=(s+c)/f}else if(o>u){const f=2*Math.sqrt(1+o-n-u);this._w=(s-c)/f,this._x=(r+a)/f,this._y=.25*f,this._z=(l+x)/f}else{const f=2*Math.sqrt(1+u-n-o);this._w=(a-r)/f,this._x=(s+c)/f,this._y=(l+x)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ft(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,a=e._w,o=t._x,l=t._y,c=t._z,x=t._w;return this._x=n*x+a*o+r*c-s*l,this._y=r*x+a*l+s*o-n*c,this._z=s*x+a*c+n*l-r*o,this._w=a*x-n*o-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+n*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const f=1-t;return this._w=f*a+t*this._w,this._x=f*n+t*this._x,this._y=f*r+t*this._y,this._z=f*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),x=Math.atan2(c,o),u=Math.sin((1-t)*x)/c,h=Math.sin(t*x)/c;return this._w=a*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=s*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),s=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class W{constructor(e=0,t=0,n=0){W.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(b8.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(b8.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*r-o*n),x=2*(o*t-s*r),u=2*(s*n-a*t);return this.x=t+l*c+a*u-o*x,this.y=n+l*x+o*c-s*u,this.z=r+l*u+s*x-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=ft(this.x,e.x,t.x),this.y=ft(this.y,e.y,t.y),this.z=ft(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=ft(this.x,e,t),this.y=ft(this.y,e,t),this.z=ft(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(ft(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=r*l-s*o,this.y=s*a-n*l,this.z=n*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Bv.copy(this).projectOnVector(e),this.sub(Bv)}reflect(e){return this.sub(Bv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(ft(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Bv=new W,b8=new Pf;class No{constructor(e=new W(1/0,1/0,1/0),t=new W(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(ls.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(ls.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=ls.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const s=n.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,ls):ls.fromBufferAttribute(s,a),ls.applyMatrix4(e.matrixWorld),this.expandByPoint(ls);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),l_.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),l_.copy(n.boundingBox)),l_.applyMatrix4(e.matrixWorld),this.union(l_)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,ls),ls.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(kf),x_.subVectors(this.max,kf),hx.subVectors(e.a,kf),fx.subVectors(e.b,kf),Ax.subVectors(e.c,kf),Oo.subVectors(fx,hx),Go.subVectors(Ax,fx),Y0.subVectors(hx,Ax);let t=[0,-Oo.z,Oo.y,0,-Go.z,Go.y,0,-Y0.z,Y0.y,Oo.z,0,-Oo.x,Go.z,0,-Go.x,Y0.z,0,-Y0.x,-Oo.y,Oo.x,0,-Go.y,Go.x,0,-Y0.y,Y0.x,0];return!Sv(t,hx,fx,Ax,x_)||(t=[1,0,0,0,1,0,0,0,1],!Sv(t,hx,fx,Ax,x_))?!1:(u_.crossVectors(Oo,Go),t=[u_.x,u_.y,u_.z],Sv(t,hx,fx,Ax,x_))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ls).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ls).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Da[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Da[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Da[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Da[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Da[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Da[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Da[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Da[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Da),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Da=[new W,new W,new W,new W,new W,new W,new W,new W],ls=new W,l_=new No,hx=new W,fx=new W,Ax=new W,Oo=new W,Go=new W,Y0=new W,kf=new W,x_=new W,u_=new W,X0=new W;function Sv(i,e,t,n,r){for(let s=0,a=i.length-3;s<=a;s+=3){X0.fromArray(i,s);const o=r.x*Math.abs(X0.x)+r.y*Math.abs(X0.y)+r.z*Math.abs(X0.z),l=e.dot(X0),c=t.dot(X0),x=n.dot(X0);if(Math.max(-Math.max(l,c,x),Math.min(l,c,x))>o)return!1}return!0}const vV=new No,Uf=new W,Mv=new W;class Nf{constructor(e=new W,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):vV.setFromPoints(e).getCenter(n);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Uf.subVectors(e,this.center);const t=Uf.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(Uf,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Mv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Uf.copy(e.center).add(Mv)),this.expandByPoint(Uf.copy(e.center).sub(Mv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Qa=new W,Rv=new W,h_=new W,zo=new W,Tv=new W,f_=new W,Dv=new W;class wV{constructor(e=new W,t=new W(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Qa)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Qa.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Qa.copy(this.origin).addScaledVector(this.direction,t),Qa.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Rv.copy(e).add(t).multiplyScalar(.5),h_.copy(t).sub(e).normalize(),zo.copy(this.origin).sub(Rv);const s=e.distanceTo(t)*.5,a=-this.direction.dot(h_),o=zo.dot(this.direction),l=-zo.dot(h_),c=zo.lengthSq(),x=Math.abs(1-a*a);let u,h,f,A;if(x>0)if(u=a*l-o,h=a*o-l,A=s*x,u>=0)if(h>=-A)if(h<=A){const g=1/x;u*=g,h*=g,f=u*(u+a*h+2*o)+h*(a*u+h+2*l)+c}else h=s,u=Math.max(0,-(a*h+o)),f=-u*u+h*(h+2*l)+c;else h=-s,u=Math.max(0,-(a*h+o)),f=-u*u+h*(h+2*l)+c;else h<=-A?(u=Math.max(0,-(-a*s+o)),h=u>0?-s:Math.min(Math.max(-s,-l),s),f=-u*u+h*(h+2*l)+c):h<=A?(u=0,h=Math.min(Math.max(-s,-l),s),f=h*(h+2*l)+c):(u=Math.max(0,-(a*s+o)),h=u>0?s:Math.min(Math.max(-s,-l),s),f=-u*u+h*(h+2*l)+c);else h=a>0?-s:s,u=Math.max(0,-(a*h+o)),f=-u*u+h*(h+2*l)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(Rv).addScaledVector(h_,h),f}intersectSphere(e,t){Qa.subVectors(e.center,this.origin);const n=Qa.dot(this.direction),r=Qa.dot(Qa)-n*n,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=n-a,l=n+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,a,o,l;const c=1/this.direction.x,x=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(n=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(n=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),x>=0?(s=(e.min.y-h.y)*x,a=(e.max.y-h.y)*x):(s=(e.max.y-h.y)*x,a=(e.min.y-h.y)*x),n>a||s>r||((s>n||isNaN(n))&&(n=s),(a<r||isNaN(r))&&(r=a),u>=0?(o=(e.min.z-h.z)*u,l=(e.max.z-h.z)*u):(o=(e.max.z-h.z)*u,l=(e.min.z-h.z)*u),n>l||o>r)||((o>n||n!==n)&&(n=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,Qa)!==null}intersectTriangle(e,t,n,r,s){Tv.subVectors(t,e),f_.subVectors(n,e),Dv.crossVectors(Tv,f_);let a=this.direction.dot(Dv),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;zo.subVectors(this.origin,e);const l=o*this.direction.dot(f_.crossVectors(zo,f_));if(l<0)return null;const c=o*this.direction.dot(Tv.cross(zo));if(c<0||l+c>a)return null;const x=-o*zo.dot(Dv);return x<0?null:this.at(x/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Rn{constructor(e,t,n,r,s,a,o,l,c,x,u,h,f,A,g,d){Rn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,a,o,l,c,x,u,h,f,A,g,d)}set(e,t,n,r,s,a,o,l,c,x,u,h,f,A,g,d){const p=this.elements;return p[0]=e,p[4]=t,p[8]=n,p[12]=r,p[1]=s,p[5]=a,p[9]=o,p[13]=l,p[2]=c,p[6]=x,p[10]=u,p[14]=h,p[3]=f,p[7]=A,p[11]=g,p[15]=d,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Rn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/dx.setFromMatrixColumn(e,0).length(),s=1/dx.setFromMatrixColumn(e,1).length(),a=1/dx.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,s=e.z,a=Math.cos(n),o=Math.sin(n),l=Math.cos(r),c=Math.sin(r),x=Math.cos(s),u=Math.sin(s);if(e.order==="XYZ"){const h=a*x,f=a*u,A=o*x,g=o*u;t[0]=l*x,t[4]=-l*u,t[8]=c,t[1]=f+A*c,t[5]=h-g*c,t[9]=-o*l,t[2]=g-h*c,t[6]=A+f*c,t[10]=a*l}else if(e.order==="YXZ"){const h=l*x,f=l*u,A=c*x,g=c*u;t[0]=h+g*o,t[4]=A*o-f,t[8]=a*c,t[1]=a*u,t[5]=a*x,t[9]=-o,t[2]=f*o-A,t[6]=g+h*o,t[10]=a*l}else if(e.order==="ZXY"){const h=l*x,f=l*u,A=c*x,g=c*u;t[0]=h-g*o,t[4]=-a*u,t[8]=A+f*o,t[1]=f+A*o,t[5]=a*x,t[9]=g-h*o,t[2]=-a*c,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const h=a*x,f=a*u,A=o*x,g=o*u;t[0]=l*x,t[4]=A*c-f,t[8]=h*c+g,t[1]=l*u,t[5]=g*c+h,t[9]=f*c-A,t[2]=-c,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const h=a*l,f=a*c,A=o*l,g=o*c;t[0]=l*x,t[4]=g-h*u,t[8]=A*u+f,t[1]=u,t[5]=a*x,t[9]=-o*x,t[2]=-c*x,t[6]=f*u+A,t[10]=h-g*u}else if(e.order==="XZY"){const h=a*l,f=a*c,A=o*l,g=o*c;t[0]=l*x,t[4]=-u,t[8]=c*x,t[1]=h*u+g,t[5]=a*x,t[9]=f*u-A,t[2]=A*u-f,t[6]=o*x,t[10]=g*u+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(BV,e,SV)}lookAt(e,t,n){const r=this.elements;return gr.subVectors(e,t),gr.lengthSq()===0&&(gr.z=1),gr.normalize(),Vo.crossVectors(n,gr),Vo.lengthSq()===0&&(Math.abs(n.z)===1?gr.x+=1e-4:gr.z+=1e-4,gr.normalize(),Vo.crossVectors(n,gr)),Vo.normalize(),A_.crossVectors(gr,Vo),r[0]=Vo.x,r[4]=A_.x,r[8]=gr.x,r[1]=Vo.y,r[5]=A_.y,r[9]=gr.y,r[2]=Vo.z,r[6]=A_.z,r[10]=gr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],o=n[4],l=n[8],c=n[12],x=n[1],u=n[5],h=n[9],f=n[13],A=n[2],g=n[6],d=n[10],p=n[14],m=n[3],I=n[7],_=n[11],y=n[15],E=r[0],C=r[4],w=r[8],b=r[12],v=r[1],B=r[5],R=r[9],T=r[13],F=r[2],M=r[6],D=r[10],P=r[14],k=r[3],V=r[7],Y=r[11],U=r[15];return s[0]=a*E+o*v+l*F+c*k,s[4]=a*C+o*B+l*M+c*V,s[8]=a*w+o*R+l*D+c*Y,s[12]=a*b+o*T+l*P+c*U,s[1]=x*E+u*v+h*F+f*k,s[5]=x*C+u*B+h*M+f*V,s[9]=x*w+u*R+h*D+f*Y,s[13]=x*b+u*T+h*P+f*U,s[2]=A*E+g*v+d*F+p*k,s[6]=A*C+g*B+d*M+p*V,s[10]=A*w+g*R+d*D+p*Y,s[14]=A*b+g*T+d*P+p*U,s[3]=m*E+I*v+_*F+y*k,s[7]=m*C+I*B+_*M+y*V,s[11]=m*w+I*R+_*D+y*Y,s[15]=m*b+I*T+_*P+y*U,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],x=e[2],u=e[6],h=e[10],f=e[14],A=e[3],g=e[7],d=e[11],p=e[15];return A*(+s*l*u-r*c*u-s*o*h+n*c*h+r*o*f-n*l*f)+g*(+t*l*f-t*c*h+s*a*h-r*a*f+r*c*x-s*l*x)+d*(+t*c*u-t*o*f-s*a*u+n*a*f+s*o*x-n*c*x)+p*(-r*o*x-t*l*u+t*o*h+r*a*u-n*a*h+n*l*x)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],x=e[8],u=e[9],h=e[10],f=e[11],A=e[12],g=e[13],d=e[14],p=e[15],m=u*d*c-g*h*c+g*l*f-o*d*f-u*l*p+o*h*p,I=A*h*c-x*d*c-A*l*f+a*d*f+x*l*p-a*h*p,_=x*g*c-A*u*c+A*o*f-a*g*f-x*o*p+a*u*p,y=A*u*l-x*g*l-A*o*h+a*g*h+x*o*d-a*u*d,E=t*m+n*I+r*_+s*y;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/E;return e[0]=m*C,e[1]=(g*h*s-u*d*s-g*r*f+n*d*f+u*r*p-n*h*p)*C,e[2]=(o*d*s-g*l*s+g*r*c-n*d*c-o*r*p+n*l*p)*C,e[3]=(u*l*s-o*h*s-u*r*c+n*h*c+o*r*f-n*l*f)*C,e[4]=I*C,e[5]=(x*d*s-A*h*s+A*r*f-t*d*f-x*r*p+t*h*p)*C,e[6]=(A*l*s-a*d*s-A*r*c+t*d*c+a*r*p-t*l*p)*C,e[7]=(a*h*s-x*l*s+x*r*c-t*h*c-a*r*f+t*l*f)*C,e[8]=_*C,e[9]=(A*u*s-x*g*s-A*n*f+t*g*f+x*n*p-t*u*p)*C,e[10]=(a*g*s-A*o*s+A*n*c-t*g*c-a*n*p+t*o*p)*C,e[11]=(x*o*s-a*u*s-x*n*c+t*u*c+a*n*f-t*o*f)*C,e[12]=y*C,e[13]=(x*g*r-A*u*r+A*n*h-t*g*h-x*n*d+t*u*d)*C,e[14]=(A*o*r-a*g*r-A*n*l+t*g*l+a*n*d-t*o*d)*C,e[15]=(a*u*r-x*o*r+x*n*l-t*u*l-a*n*h+t*o*h)*C,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,a=e.x,o=e.y,l=e.z,c=s*a,x=s*o;return this.set(c*a+n,c*o-r*l,c*l+r*o,0,c*o+r*l,x*o+n,x*l-r*a,0,c*l-r*o,x*l+r*a,s*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,a){return this.set(1,n,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,c=s+s,x=a+a,u=o+o,h=s*c,f=s*x,A=s*u,g=a*x,d=a*u,p=o*u,m=l*c,I=l*x,_=l*u,y=n.x,E=n.y,C=n.z;return r[0]=(1-(g+p))*y,r[1]=(f+_)*y,r[2]=(A-I)*y,r[3]=0,r[4]=(f-_)*E,r[5]=(1-(h+p))*E,r[6]=(d+m)*E,r[7]=0,r[8]=(A+I)*C,r[9]=(d-m)*C,r[10]=(1-(h+g))*C,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=dx.set(r[0],r[1],r[2]).length();const a=dx.set(r[4],r[5],r[6]).length(),o=dx.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],xs.copy(this);const c=1/s,x=1/a,u=1/o;return xs.elements[0]*=c,xs.elements[1]*=c,xs.elements[2]*=c,xs.elements[4]*=x,xs.elements[5]*=x,xs.elements[6]*=x,xs.elements[8]*=u,xs.elements[9]*=u,xs.elements[10]*=u,t.setFromRotationMatrix(xs),n.x=s,n.y=a,n.z=o,this}makePerspective(e,t,n,r,s,a,o=Ma){const l=this.elements,c=2*s/(t-e),x=2*s/(n-r),u=(t+e)/(t-e),h=(n+r)/(n-r);let f,A;if(o===Ma)f=-(a+s)/(a-s),A=-2*a*s/(a-s);else if(o===o_)f=-a/(a-s),A=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=u,l[12]=0,l[1]=0,l[5]=x,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=A,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,s,a,o=Ma){const l=this.elements,c=1/(t-e),x=1/(n-r),u=1/(a-s),h=(t+e)*c,f=(n+r)*x;let A,g;if(o===Ma)A=(a+s)*u,g=-2*u;else if(o===o_)A=s*u,g=-1*u;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*x,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=g,l[14]=-A,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const dx=new W,xs=new Rn,BV=new W(0,0,0),SV=new W(1,1,1),Vo=new W,A_=new W,gr=new W,v8=new Rn,w8=new Pf;class Fa{constructor(e=0,t=0,n=0,r=Fa.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],c=r[5],x=r[9],u=r[2],h=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(ft(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-x,f),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ft(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,s),this._z=0);break;case"ZXY":this._x=Math.asin(ft(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-ft(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(ft(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-x,c),this._y=Math.atan2(-u,s)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-ft(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-x,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return v8.makeRotationFromQuaternion(e),this.setFromRotationMatrix(v8,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return w8.setFromEuler(this),this.setFromQuaternion(w8,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Fa.DEFAULT_ORDER="XYZ";class B8{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let MV=0;const S8=new W,px=new Pf,La=new Rn,d_=new W,Of=new W,RV=new W,TV=new Pf,M8=new W(1,0,0),R8=new W(0,1,0),T8=new W(0,0,1),D8={type:"added"},DV={type:"removed"},gx={type:"childadded",child:null},Qv={type:"childremoved",child:null};class tr extends cx{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:MV++}),this.uuid=Ra(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=tr.DEFAULT_UP.clone();const e=new W,t=new Fa,n=new Pf,r=new W(1,1,1);function s(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Rn},normalMatrix:{value:new at}}),this.matrix=new Rn,this.matrixWorld=new Rn,this.matrixAutoUpdate=tr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new B8,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return px.setFromAxisAngle(e,t),this.quaternion.multiply(px),this}rotateOnWorldAxis(e,t){return px.setFromAxisAngle(e,t),this.quaternion.premultiply(px),this}rotateX(e){return this.rotateOnAxis(M8,e)}rotateY(e){return this.rotateOnAxis(R8,e)}rotateZ(e){return this.rotateOnAxis(T8,e)}translateOnAxis(e,t){return S8.copy(e).applyQuaternion(this.quaternion),this.position.add(S8.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(M8,e)}translateY(e){return this.translateOnAxis(R8,e)}translateZ(e){return this.translateOnAxis(T8,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(La.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?d_.copy(e):d_.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Of.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?La.lookAt(Of,d_,this.up):La.lookAt(d_,Of,this.up),this.quaternion.setFromRotationMatrix(La),r&&(La.extractRotation(r.matrixWorld),px.setFromRotationMatrix(La),this.quaternion.premultiply(px.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(D8),gx.child=e,this.dispatchEvent(gx),gx.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(DV),Qv.child=e,this.dispatchEvent(Qv),Qv.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),La.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),La.multiply(e.parent.matrixWorld)),e.applyMatrix4(La),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(D8),gx.child=e,this.dispatchEvent(gx),gx.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Of,e,RV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Of,TV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,x=l.length;c<x;c++){const u=l[c];s(e.shapes,u)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),x=a(e.images),u=a(e.shapes),h=a(e.skeletons),f=a(e.animations),A=a(e.nodes);o.length>0&&(n.geometries=o),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),x.length>0&&(n.images=x),u.length>0&&(n.shapes=u),h.length>0&&(n.skeletons=h),f.length>0&&(n.animations=f),A.length>0&&(n.nodes=A)}return n.object=r,n;function a(o){const l=[];for(const c in o){const x=o[c];delete x.metadata,l.push(x)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}tr.DEFAULT_UP=new W(0,1,0),tr.DEFAULT_MATRIX_AUTO_UPDATE=!0,tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const us=new W,Pa=new W,Fv=new W,ka=new W,mx=new W,_x=new W,Q8=new W,Lv=new W,Pv=new W,kv=new W,Uv=new cn,Nv=new cn,Ov=new cn;class Lr{constructor(e=new W,t=new W,n=new W){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),us.subVectors(e,t),r.cross(us);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){us.subVectors(r,t),Pa.subVectors(n,t),Fv.subVectors(e,t);const a=us.dot(us),o=us.dot(Pa),l=us.dot(Fv),c=Pa.dot(Pa),x=Pa.dot(Fv),u=a*c-o*o;if(u===0)return s.set(0,0,0),null;const h=1/u,f=(c*l-o*x)*h,A=(a*x-o*l)*h;return s.set(1-f-A,A,f)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,ka)===null?!1:ka.x>=0&&ka.y>=0&&ka.x+ka.y<=1}static getInterpolation(e,t,n,r,s,a,o,l){return this.getBarycoord(e,t,n,r,ka)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,ka.x),l.addScaledVector(a,ka.y),l.addScaledVector(o,ka.z),l)}static getInterpolatedAttribute(e,t,n,r,s,a){return Uv.setScalar(0),Nv.setScalar(0),Ov.setScalar(0),Uv.fromBufferAttribute(e,t),Nv.fromBufferAttribute(e,n),Ov.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(Uv,s.x),a.addScaledVector(Nv,s.y),a.addScaledVector(Ov,s.z),a}static isFrontFacing(e,t,n,r){return us.subVectors(n,t),Pa.subVectors(e,t),us.cross(Pa).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return us.subVectors(this.c,this.b),Pa.subVectors(this.a,this.b),us.cross(Pa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Lr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Lr.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,s){return Lr.getInterpolation(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return Lr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Lr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let a,o;mx.subVectors(r,n),_x.subVectors(s,n),Lv.subVectors(e,n);const l=mx.dot(Lv),c=_x.dot(Lv);if(l<=0&&c<=0)return t.copy(n);Pv.subVectors(e,r);const x=mx.dot(Pv),u=_x.dot(Pv);if(x>=0&&u<=x)return t.copy(r);const h=l*u-x*c;if(h<=0&&l>=0&&x<=0)return a=l/(l-x),t.copy(n).addScaledVector(mx,a);kv.subVectors(e,s);const f=mx.dot(kv),A=_x.dot(kv);if(A>=0&&f<=A)return t.copy(s);const g=f*c-l*A;if(g<=0&&c>=0&&A<=0)return o=c/(c-A),t.copy(n).addScaledVector(_x,o);const d=x*A-f*u;if(d<=0&&u-x>=0&&f-A>=0)return Q8.subVectors(s,r),o=(u-x)/(u-x+(f-A)),t.copy(r).addScaledVector(Q8,o);const p=1/(d+g+h);return a=g*p,o=h*p,t.copy(n).addScaledVector(mx,a).addScaledVector(_x,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const F8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ho={h:0,s:0,l:0},p_={h:0,s:0,l:0};function Gv(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class Rt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Fr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Mt.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=Mt.workingColorSpace){return this.r=e,this.g=t,this.b=n,Mt.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=Mt.workingColorSpace){if(e=bv(e,1),t=ft(t,0,1),n=ft(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,a=2*n-s;this.r=Gv(a,s,e+1/3),this.g=Gv(a,s,e),this.b=Gv(a,s,e-1/3)}return Mt.toWorkingColorSpace(this,r),this}setStyle(e,t=Fr){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Fr){const n=F8[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ta(e.r),this.g=Ta(e.g),this.b=Ta(e.b),this}copyLinearToSRGB(e){return this.r=xx(e.r),this.g=xx(e.g),this.b=xx(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Fr){return Mt.fromWorkingColorSpace(wi.copy(this),e),Math.round(ft(wi.r*255,0,255))*65536+Math.round(ft(wi.g*255,0,255))*256+Math.round(ft(wi.b*255,0,255))}getHexString(e=Fr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Mt.workingColorSpace){Mt.fromWorkingColorSpace(wi.copy(this),t);const n=wi.r,r=wi.g,s=wi.b,a=Math.max(n,r,s),o=Math.min(n,r,s);let l,c;const x=(o+a)/2;if(o===a)l=0,c=0;else{const u=a-o;switch(c=x<=.5?u/(a+o):u/(2-a-o),a){case n:l=(r-s)/u+(r<s?6:0);break;case r:l=(s-n)/u+2;break;case s:l=(n-r)/u+4;break}l/=6}return e.h=l,e.s=c,e.l=x,e}getRGB(e,t=Mt.workingColorSpace){return Mt.fromWorkingColorSpace(wi.copy(this),t),e.r=wi.r,e.g=wi.g,e.b=wi.b,e}getStyle(e=Fr){Mt.fromWorkingColorSpace(wi.copy(this),e);const t=wi.r,n=wi.g,r=wi.b;return e!==Fr?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(Ho),this.setHSL(Ho.h+e,Ho.s+t,Ho.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ho),e.getHSL(p_);const n=Lf(Ho.h,p_.h,t),r=Lf(Ho.s,p_.s,t),s=Lf(Ho.l,p_.l,t);return this.setHSL(n,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*r,this.g=s[1]*t+s[4]*n+s[7]*r,this.b=s[2]*t+s[5]*n+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const wi=new Rt;Rt.NAMES=F8;let QV=0;class Gf extends cx{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:QV++}),this.uuid=Ra(),this.name="",this.type="Material",this.blending=$l,this.side=Lo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Rb,this.blendDst=Tb,this.blendEquation=z0,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Rt(0,0,0),this.blendAlpha=0,this.depthFunc=ex,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=A8,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ox,this.stencilZFail=ox,this.stencilZPass=ox,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==$l&&(n.blending=this.blending),this.side!==Lo&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Rb&&(n.blendSrc=this.blendSrc),this.blendDst!==Tb&&(n.blendDst=this.blendDst),this.blendEquation!==z0&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==ex&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==A8&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ox&&(n.stencilFail=this.stencilFail),this.stencilZFail!==ox&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==ox&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(n.textures=s),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class L8 extends Gf{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Fa,this.combine=i8,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const On=new W,g_=new It;class hs{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=Cv,this.updateRanges=[],this.gpuType=Sa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)g_.fromBufferAttribute(this,t),g_.applyMatrix3(e),this.setXY(t,g_.x,g_.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)On.fromBufferAttribute(this,t),On.applyMatrix3(e),this.setXYZ(t,On.x,On.y,On.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)On.fromBufferAttribute(this,t),On.applyMatrix4(e),this.setXYZ(t,On.x,On.y,On.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)On.fromBufferAttribute(this,t),On.applyNormalMatrix(e),this.setXYZ(t,On.x,On.y,On.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)On.fromBufferAttribute(this,t),On.transformDirection(e),this.setXYZ(t,On.x,On.y,On.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=cs(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Wt(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=cs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Wt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=cs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Wt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=cs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Wt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=cs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Wt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Wt(t,this.array),n=Wt(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Wt(t,this.array),n=Wt(n,this.array),r=Wt(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=Wt(t,this.array),n=Wt(n,this.array),r=Wt(r,this.array),s=Wt(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Cv&&(e.usage=this.usage),e}}class P8 extends hs{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class k8 extends hs{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Ps extends hs{constructor(e,t,n){super(new Float32Array(e),t,n)}}let FV=0;const Pr=new Rn,zv=new tr,Ix=new W,mr=new No,zf=new No,$n=new W;class ks extends cx{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:FV++}),this.uuid=Ra(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(m8(e)?k8:P8)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new at().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Pr.makeRotationFromQuaternion(e),this.applyMatrix4(Pr),this}rotateX(e){return Pr.makeRotationX(e),this.applyMatrix4(Pr),this}rotateY(e){return Pr.makeRotationY(e),this.applyMatrix4(Pr),this}rotateZ(e){return Pr.makeRotationZ(e),this.applyMatrix4(Pr),this}translate(e,t,n){return Pr.makeTranslation(e,t,n),this.applyMatrix4(Pr),this}scale(e,t,n){return Pr.makeScale(e,t,n),this.applyMatrix4(Pr),this}lookAt(e){return zv.lookAt(e),zv.updateMatrix(),this.applyMatrix4(zv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ix).negate(),this.translate(Ix.x,Ix.y,Ix.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];n.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Ps(n,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new No);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new W(-1/0,-1/0,-1/0),new W(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const s=t[n];mr.setFromBufferAttribute(s),this.morphTargetsRelative?($n.addVectors(this.boundingBox.min,mr.min),this.boundingBox.expandByPoint($n),$n.addVectors(this.boundingBox.max,mr.max),this.boundingBox.expandByPoint($n)):(this.boundingBox.expandByPoint(mr.min),this.boundingBox.expandByPoint(mr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Nf);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new W,1/0);return}if(e){const n=this.boundingSphere.center;if(mr.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];zf.setFromBufferAttribute(o),this.morphTargetsRelative?($n.addVectors(mr.min,zf.min),mr.expandByPoint($n),$n.addVectors(mr.max,zf.max),mr.expandByPoint($n)):(mr.expandByPoint(zf.min),mr.expandByPoint(zf.max))}mr.getCenter(n);let r=0;for(let s=0,a=e.count;s<a;s++)$n.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared($n));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let c=0,x=o.count;c<x;c++)$n.fromBufferAttribute(o,c),l&&(Ix.fromBufferAttribute(e,c),$n.add(Ix)),r=Math.max(r,n.distanceToSquared($n))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new hs(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let w=0;w<n.count;w++)o[w]=new W,l[w]=new W;const c=new W,x=new W,u=new W,h=new It,f=new It,A=new It,g=new W,d=new W;function p(w,b,v){c.fromBufferAttribute(n,w),x.fromBufferAttribute(n,b),u.fromBufferAttribute(n,v),h.fromBufferAttribute(s,w),f.fromBufferAttribute(s,b),A.fromBufferAttribute(s,v),x.sub(c),u.sub(c),f.sub(h),A.sub(h);const B=1/(f.x*A.y-A.x*f.y);isFinite(B)&&(g.copy(x).multiplyScalar(A.y).addScaledVector(u,-f.y).multiplyScalar(B),d.copy(u).multiplyScalar(f.x).addScaledVector(x,-A.x).multiplyScalar(B),o[w].add(g),o[b].add(g),o[v].add(g),l[w].add(d),l[b].add(d),l[v].add(d))}let m=this.groups;m.length===0&&(m=[{start:0,count:e.count}]);for(let w=0,b=m.length;w<b;++w){const v=m[w],B=v.start,R=v.count;for(let T=B,F=B+R;T<F;T+=3)p(e.getX(T+0),e.getX(T+1),e.getX(T+2))}const I=new W,_=new W,y=new W,E=new W;function C(w){y.fromBufferAttribute(r,w),E.copy(y);const b=o[w];I.copy(b),I.sub(y.multiplyScalar(y.dot(b))).normalize(),_.crossVectors(E,b);const B=_.dot(l[w])<0?-1:1;a.setXYZW(w,I.x,I.y,I.z,B)}for(let w=0,b=m.length;w<b;++w){const v=m[w],B=v.start,R=v.count;for(let T=B,F=B+R;T<F;T+=3)C(e.getX(T+0)),C(e.getX(T+1)),C(e.getX(T+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new hs(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let h=0,f=n.count;h<f;h++)n.setXYZ(h,0,0,0);const r=new W,s=new W,a=new W,o=new W,l=new W,c=new W,x=new W,u=new W;if(e)for(let h=0,f=e.count;h<f;h+=3){const A=e.getX(h+0),g=e.getX(h+1),d=e.getX(h+2);r.fromBufferAttribute(t,A),s.fromBufferAttribute(t,g),a.fromBufferAttribute(t,d),x.subVectors(a,s),u.subVectors(r,s),x.cross(u),o.fromBufferAttribute(n,A),l.fromBufferAttribute(n,g),c.fromBufferAttribute(n,d),o.add(x),l.add(x),c.add(x),n.setXYZ(A,o.x,o.y,o.z),n.setXYZ(g,l.x,l.y,l.z),n.setXYZ(d,c.x,c.y,c.z)}else for(let h=0,f=t.count;h<f;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),a.fromBufferAttribute(t,h+2),x.subVectors(a,s),u.subVectors(r,s),x.cross(u),n.setXYZ(h+0,x.x,x.y,x.z),n.setXYZ(h+1,x.x,x.y,x.z),n.setXYZ(h+2,x.x,x.y,x.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)$n.fromBufferAttribute(e,t),$n.normalize(),e.setXYZ(t,$n.x,$n.y,$n.z)}toNonIndexed(){function e(o,l){const c=o.array,x=o.itemSize,u=o.normalized,h=new c.constructor(l.length*x);let f=0,A=0;for(let g=0,d=l.length;g<d;g++){o.isInterleavedBufferAttribute?f=l[g]*o.data.stride+o.offset:f=l[g]*x;for(let p=0;p<x;p++)h[A++]=c[f++]}return new hs(h,x,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ks,n=this.index.array,r=this.attributes;for(const o in r){const l=r[o],c=e(l,n);t.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let x=0,u=c.length;x<u;x++){const h=c[x],f=e(h,n);l.push(f)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const c=n[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],x=[];for(let u=0,h=c.length;u<h;u++){const f=c[u];x.push(f.toJSON(e.data))}x.length>0&&(r[l]=x,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const c in r){const x=r[c];this.setAttribute(c,x.clone(t))}const s=e.morphAttributes;for(const c in s){const x=[],u=s[c];for(let h=0,f=u.length;h<f;h++)x.push(u[h].clone(t));this.morphAttributes[c]=x}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,x=a.length;c<x;c++){const u=a[c];this.addGroup(u.start,u.count,u.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const U8=new Rn,W0=new wV,m_=new Nf,N8=new W,__=new W,I_=new W,E_=new W,Vv=new W,y_=new W,O8=new W,C_=new W;class Us extends tr{constructor(e=new ks,t=new L8){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){y_.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const x=o[l],u=s[l];x!==0&&(Vv.fromBufferAttribute(u,e),a?y_.addScaledVector(Vv,x):y_.addScaledVector(Vv.sub(t),x))}t.add(y_)}return t}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),m_.copy(n.boundingSphere),m_.applyMatrix4(s),W0.copy(e.ray).recast(e.near),!(m_.containsPoint(W0.origin)===!1&&(W0.intersectSphere(m_,N8)===null||W0.origin.distanceToSquared(N8)>(e.far-e.near)**2))&&(U8.copy(s).invert(),W0.copy(e.ray).applyMatrix4(U8),!(n.boundingBox!==null&&W0.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,W0)))}_computeIntersections(e,t,n){let r;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,x=s.attributes.uv1,u=s.attributes.normal,h=s.groups,f=s.drawRange;if(o!==null)if(Array.isArray(a))for(let A=0,g=h.length;A<g;A++){const d=h[A],p=a[d.materialIndex],m=Math.max(d.start,f.start),I=Math.min(o.count,Math.min(d.start+d.count,f.start+f.count));for(let _=m,y=I;_<y;_+=3){const E=o.getX(_),C=o.getX(_+1),w=o.getX(_+2);r=b_(this,p,e,n,c,x,u,E,C,w),r&&(r.faceIndex=Math.floor(_/3),r.face.materialIndex=d.materialIndex,t.push(r))}}else{const A=Math.max(0,f.start),g=Math.min(o.count,f.start+f.count);for(let d=A,p=g;d<p;d+=3){const m=o.getX(d),I=o.getX(d+1),_=o.getX(d+2);r=b_(this,a,e,n,c,x,u,m,I,_),r&&(r.faceIndex=Math.floor(d/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let A=0,g=h.length;A<g;A++){const d=h[A],p=a[d.materialIndex],m=Math.max(d.start,f.start),I=Math.min(l.count,Math.min(d.start+d.count,f.start+f.count));for(let _=m,y=I;_<y;_+=3){const E=_,C=_+1,w=_+2;r=b_(this,p,e,n,c,x,u,E,C,w),r&&(r.faceIndex=Math.floor(_/3),r.face.materialIndex=d.materialIndex,t.push(r))}}else{const A=Math.max(0,f.start),g=Math.min(l.count,f.start+f.count);for(let d=A,p=g;d<p;d+=3){const m=d,I=d+1,_=d+2;r=b_(this,a,e,n,c,x,u,m,I,_),r&&(r.faceIndex=Math.floor(d/3),t.push(r))}}}}function LV(i,e,t,n,r,s,a,o){let l;if(e.side===er?l=n.intersectTriangle(a,s,r,!0,o):l=n.intersectTriangle(r,s,a,e.side===Lo,o),l===null)return null;C_.copy(o),C_.applyMatrix4(i.matrixWorld);const c=t.ray.origin.distanceTo(C_);return c<t.near||c>t.far?null:{distance:c,point:C_.clone(),object:i}}function b_(i,e,t,n,r,s,a,o,l,c){i.getVertexPosition(o,__),i.getVertexPosition(l,I_),i.getVertexPosition(c,E_);const x=LV(i,e,t,n,__,I_,E_,O8);if(x){const u=new W;Lr.getBarycoord(O8,__,I_,E_,u),r&&(x.uv=Lr.getInterpolatedAttribute(r,o,l,c,u,new It)),s&&(x.uv1=Lr.getInterpolatedAttribute(s,o,l,c,u,new It)),a&&(x.normal=Lr.getInterpolatedAttribute(a,o,l,c,u,new W),x.normal.dot(n.direction)>0&&x.normal.multiplyScalar(-1));const h={a:o,b:l,c,normal:new W,materialIndex:0};Lr.getNormal(__,I_,E_,h.normal),x.face=h,x.barycoord=u}return x}class Vf extends ks{constructor(e=1,t=1,n=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],x=[],u=[];let h=0,f=0;A("z","y","x",-1,-1,n,t,e,a,s,0),A("z","y","x",1,-1,n,t,-e,a,s,1),A("x","z","y",1,1,e,n,t,r,a,2),A("x","z","y",1,-1,e,n,-t,r,a,3),A("x","y","z",1,-1,e,t,n,r,s,4),A("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(l),this.setAttribute("position",new Ps(c,3)),this.setAttribute("normal",new Ps(x,3)),this.setAttribute("uv",new Ps(u,2));function A(g,d,p,m,I,_,y,E,C,w,b){const v=_/C,B=y/w,R=_/2,T=y/2,F=E/2,M=C+1,D=w+1;let P=0,k=0;const V=new W;for(let Y=0;Y<D;Y++){const U=Y*B-T;for(let ne=0;ne<M;ne++){const xe=ne*v-R;V[g]=xe*m,V[d]=U*I,V[p]=F,c.push(V.x,V.y,V.z),V[g]=0,V[d]=0,V[p]=E>0?1:-1,x.push(V.x,V.y,V.z),u.push(ne/C),u.push(1-Y/w),P+=1}}for(let Y=0;Y<w;Y++)for(let U=0;U<C;U++){const ne=h+U+M*Y,xe=h+U+M*(Y+1),G=h+(U+1)+M*(Y+1),O=h+(U+1)+M*Y;l.push(ne,xe,O),l.push(xe,G,O),k+=6}o.addGroup(f,k,b),f+=k,h+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ex(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function Li(i){const e={};for(let t=0;t<i.length;t++){const n=Ex(i[t]);for(const r in n)e[r]=n[r]}return e}function PV(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function G8(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Mt.workingColorSpace}const Hv={clone:Ex,merge:Li};var kV=`void main() {
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,YN=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
<<<<<<< HEAD
}`;class va extends ch{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=qN,this.fragmentShader=YN,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Wl(t.uniforms),this.uniformsGroups=HN(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?e.uniforms[r]={type:"t",value:a.toJSON(t).uuid}:a&&a.isColor?e.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?e.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?e.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?e.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?e.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?e.uniforms[r]={type:"m4",value:a.toArray()}:e.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class G5 extends ji{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Cn,this.projectionMatrix=new Cn,this.projectionMatrixInverse=new Cn,this.coordinateSystem=pa}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Mo=new X,z5=new Ct,V5=new Ct;class rs extends G5{constructor(t=50,e=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=th*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(eh*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return th*2*Math.atan(Math.tan(eh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,n){Mo.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(Mo.x,Mo.y).multiplyScalar(-t/Mo.z),Mo.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Mo.x,Mo.y).multiplyScalar(-t/Mo.z)}getViewSize(t,e){return this.getViewBounds(t,z5,V5),e.subVectors(V5,z5)}setViewOffset(t,e,n,r,s,a){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(eh*.5*this.fov)/this.zoom,n=2*e,r=this.aspect*n,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*r/l,e-=a.offsetY*n/c,r*=a.width/l,n*=a.height/c}const o=this.filmOffset;o!==0&&(s+=t*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,e,e-n,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Xl=-90,Kl=1;class WN extends ji{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new rs(Xl,Kl,t,e);r.layers=this.layers,this.add(r);const s=new rs(Xl,Kl,t,e);s.layers=this.layers,this.add(s);const a=new rs(Xl,Kl,t,e);a.layers=this.layers,this.add(a);const o=new rs(Xl,Kl,t,e);o.layers=this.layers,this.add(o);const l=new rs(Xl,Kl,t,e);l.layers=this.layers,this.add(l);const c=new rs(Xl,Kl,t,e);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[n,r,s,a,o,l]=e;for(const c of e)this.remove(c);if(t===pa)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(t===p_)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const c of e)this.add(c),c.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,x]=this.children,u=t.getRenderTarget(),f=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),A=t.xr.enabled;t.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,r),t.render(e,s),t.setRenderTarget(n,1,r),t.render(e,a),t.setRenderTarget(n,2,r),t.render(e,o),t.setRenderTarget(n,3,r),t.render(e,l),t.setRenderTarget(n,4,r),t.render(e,c),n.texture.generateMipmaps=p,t.setRenderTarget(n,5,r),t.render(e,x),t.setRenderTarget(u,f,h),t.xr.enabled=A,n.texture.needsPMREMUpdate=!0}}class H5 extends Si{constructor(t,e,n,r,s,a,o,l,c,x){t=t!==void 0?t:[],e=e!==void 0?e:Bl,super(t,e,n,r,s,a,o,l,c,x),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class XN extends w0{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},r=[n,n,n,n,n,n];this.texture=new H5(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:Mr}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`
=======
}`;class Ua extends Gf{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=kV,this.fragmentShader=UV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ex(e.uniforms),this.uniformsGroups=PV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class z8 extends tr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Rn,this.projectionMatrix=new Rn,this.projectionMatrixInverse=new Rn,this.coordinateSystem=Ma}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const qo=new W,V8=new It,H8=new It;class fs extends z8{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Ff*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Qf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ff*2*Math.atan(Math.tan(Qf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){qo.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(qo.x,qo.y).multiplyScalar(-e/qo.z),qo.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(qo.x,qo.y).multiplyScalar(-e/qo.z)}getViewSize(e,t){return this.getViewBounds(e,V8,H8),t.subVectors(H8,V8)}setViewOffset(e,t,n,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Qf*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*r/l,t-=a.offsetY*n/c,r*=a.width/l,n*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const yx=-90,Cx=1;class NV extends tr{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new fs(yx,Cx,e,t);r.layers=this.layers,this.add(r);const s=new fs(yx,Cx,e,t);s.layers=this.layers,this.add(s);const a=new fs(yx,Cx,e,t);a.layers=this.layers,this.add(a);const o=new fs(yx,Cx,e,t);o.layers=this.layers,this.add(o);const l=new fs(yx,Cx,e,t);l.layers=this.layers,this.add(l);const c=new fs(yx,Cx,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,s,a,o,l]=t;for(const c of t)this.remove(c);if(e===Ma)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===o_)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,x]=this.children,u=e.getRenderTarget(),h=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),A=e.xr.enabled;e.xr.enabled=!1;const g=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,s),e.setRenderTarget(n,1,r),e.render(t,a),e.setRenderTarget(n,2,r),e.render(t,o),e.setRenderTarget(n,3,r),e.render(t,l),e.setRenderTarget(n,4,r),e.render(t,c),n.texture.generateMipmaps=g,e.setRenderTarget(n,5,r),e.render(t,x),e.setRenderTarget(u,h,f),e.xr.enabled=A,n.texture.needsPMREMUpdate=!0}}class q8 extends Fi{constructor(e,t,n,r,s,a,o,l,c,x){e=e!==void 0?e:[],t=t!==void 0?t:tx,super(e,t,n,r,s,a,o,l,c,x),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class OV extends q0{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new q8(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Qr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
<<<<<<< HEAD
			`},r=new xh(5,5,5),s=new va({name:"CubemapFromEquirect",uniforms:Wl(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Ji,blending:Io});s.uniforms.tEquirect.value=e;const a=new Ls(r,s),o=e.minFilter;return e.minFilter===C0&&(e.minFilter=Mr),new WN(1,10,this).update(t,a),e.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(t,e,n,r){const s=t.getRenderTarget();for(let a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,n,r);t.setRenderTarget(s)}}class KN extends ji{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ea,this.environmentIntensity=1,this.environmentRotation=new Ea,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class q5{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=oC,this.updateRanges=[],this.version=0,this.uuid=ga()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let r=0,s=this.stride;r<s;r++)this.array[t+r]=e.array[n+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ga()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ga()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ri=new X;class Fs{constructor(t,e,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)Ri.fromBufferAttribute(this,e),Ri.applyMatrix4(t),this.setXYZ(e,Ri.x,Ri.y,Ri.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Ri.fromBufferAttribute(this,e),Ri.applyNormalMatrix(t),this.setXYZ(e,Ri.x,Ri.y,Ri.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Ri.fromBufferAttribute(this,e),Ri.transformDirection(t),this.setXYZ(e,Ri.x,Ri.y,Ri.z);return this}getComponent(t,e){let n=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(n=$r(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=Yt(n,this.array)),this.data.array[t*this.data.stride+this.offset+e]=n,this}setX(t,e){return this.normalized&&(e=Yt(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=Yt(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=Yt(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=Yt(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=$r(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=$r(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=$r(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=$r(e,this.array)),e}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=Yt(e,this.array),n=Yt(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=Yt(e,this.array),n=Yt(n,this.array),r=Yt(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this}setXYZW(t,e,n,r,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=Yt(e,this.array),n=Yt(n,this.array),r=Yt(r,this.array),s=Yt(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=s,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[r+s])}return new is(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Fs(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Y5 extends ch{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Qt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let Jl;const uh=new X,jl=new X,Zl=new X,$l=new Ct,fh=new Ct,W5=new Cn,L_=new X,hh=new X,F_=new X,X5=new Ct,MC=new Ct,K5=new Ct;class JN extends ji{constructor(t=new Y5){if(super(),this.isSprite=!0,this.type="Sprite",Jl===void 0){Jl=new Qs;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new q5(e,5);Jl.setIndex([0,1,2,0,2,3]),Jl.setAttribute("position",new Fs(n,3,0,!1)),Jl.setAttribute("uv",new Fs(n,2,3,!1))}this.geometry=Jl,this.material=t,this.center=new Ct(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),jl.setFromMatrixScale(this.matrixWorld),W5.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Zl.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&jl.multiplyScalar(-Zl.z);const n=this.material.rotation;let r,s;n!==0&&(s=Math.cos(n),r=Math.sin(n));const a=this.center;k_(L_.set(-.5,-.5,0),Zl,a,jl,r,s),k_(hh.set(.5,-.5,0),Zl,a,jl,r,s),k_(F_.set(.5,.5,0),Zl,a,jl,r,s),X5.set(0,0),MC.set(1,0),K5.set(1,1);let o=t.ray.intersectTriangle(L_,hh,F_,!1,uh);if(o===null&&(k_(hh.set(-.5,.5,0),Zl,a,jl,r,s),MC.set(0,1),o=t.ray.intersectTriangle(L_,F_,hh,!1,uh),o===null))return;const l=t.ray.origin.distanceTo(uh);l<t.near||l>t.far||e.push({distance:l,point:uh.clone(),uv:Tr.getInterpolation(uh,L_,hh,F_,X5,MC,K5,new Ct),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function k_(i,t,e,n,r,s){$l.subVectors(i,e).addScalar(.5).multiply(n),r!==void 0?(fh.x=s*$l.x-r*$l.y,fh.y=r*$l.x+s*$l.y):fh.copy($l),i.copy(t),i.x+=fh.x,i.y+=fh.y,i.applyMatrix4(W5)}const RC=new X,jN=new X,ZN=new ct;class R0{constructor(t=new X(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const r=RC.subVectors(n,e).cross(jN.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(RC),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const s=-(t.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:e.copy(t.start).addScaledVector(n,s)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||ZN.getNormalMatrix(t),r=this.coplanarPoint(RC).applyMatrix4(t),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const T0=new ah,P_=new X;class J5{constructor(t=new R0,e=new R0,n=new R0,r=new R0,s=new R0,a=new R0){this.planes=[t,e,n,r,s,a]}set(t,e,n,r,s,a){const o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=pa){const n=this.planes,r=t.elements,s=r[0],a=r[1],o=r[2],l=r[3],c=r[4],x=r[5],u=r[6],f=r[7],h=r[8],A=r[9],p=r[10],d=r[11],g=r[12],m=r[13],_=r[14],I=r[15];if(n[0].setComponents(l-s,f-c,d-h,I-g).normalize(),n[1].setComponents(l+s,f+c,d+h,I+g).normalize(),n[2].setComponents(l+a,f+x,d+A,I+m).normalize(),n[3].setComponents(l-a,f-x,d-A,I-m).normalize(),n[4].setComponents(l-o,f-u,d-p,I-_).normalize(),e===pa)n[5].setComponents(l+o,f+u,d+p,I+_).normalize();else if(e===p_)n[5].setComponents(o,u,p,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),T0.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),T0.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(T0)}intersectsSprite(t){return T0.center.set(0,0,0),T0.radius=.7071067811865476,T0.applyMatrix4(t.matrixWorld),this.intersectsSphere(T0)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let s=0;s<6;s++)if(e[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const r=e[n];if(P_.x=r.normal.x>0?t.max.x:t.min.x,P_.y=r.normal.y>0?t.max.y:t.min.y,P_.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(P_)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class D0 extends ji{constructor(){super(),this.isGroup=!0,this.type="Group"}}class $N extends Si{constructor(t,e,n,r,s,a,o,l,c){super(t,e,n,r,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class j5 extends Si{constructor(t,e,n,r,s,a,o,l,c,x=Rl){if(x!==Rl&&x!==Tl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&x===Rl&&(n=v0),n===void 0&&x===Tl&&(n=Ml),super(null,r,s,a,o,l,x,n,c),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=o!==void 0?o:jr,this.minFilter=l!==void 0?l:jr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class U_ extends Qs{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const s=t/2,a=e/2,o=Math.floor(n),l=Math.floor(r),c=o+1,x=l+1,u=t/o,f=e/l,h=[],A=[],p=[],d=[];for(let g=0;g<x;g++){const m=g*f-a;for(let _=0;_<c;_++){const I=_*u-s;A.push(I,-m,0),p.push(0,0,1),d.push(_/o),d.push(1-g/l)}}for(let g=0;g<l;g++)for(let m=0;m<o;m++){const _=m+c*g,I=m+c*(g+1),y=m+1+c*(g+1),E=m+1+c*g;h.push(_,I,E),h.push(I,y,E)}this.setIndex(h),this.setAttribute("position",new Ds(A,3)),this.setAttribute("normal",new Ds(p,3)),this.setAttribute("uv",new Ds(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new U_(t.width,t.height,t.widthSegments,t.heightSegments)}}class eO extends Qs{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],n=new Set,r=new X,s=new X;if(t.index!==null){const a=t.attributes.position,o=t.index;let l=t.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,x=l.length;c<x;++c){const u=l[c],f=u.start,h=u.count;for(let A=f,p=f+h;A<p;A+=3)for(let d=0;d<3;d++){const g=o.getX(A+d),m=o.getX(A+(d+1)%3);r.fromBufferAttribute(a,g),s.fromBufferAttribute(a,m),Z5(r,s,n)===!0&&(e.push(r.x,r.y,r.z),e.push(s.x,s.y,s.z))}}}else{const a=t.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const x=3*o+c,u=3*o+(c+1)%3;r.fromBufferAttribute(a,x),s.fromBufferAttribute(a,u),Z5(r,s,n)===!0&&(e.push(r.x,r.y,r.z),e.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ds(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function Z5(i,t,e){const n=`${i.x},${i.y},${i.z}-${t.x},${t.y},${t.z}`,r=`${t.x},${t.y},${t.z}-${i.x},${i.y},${i.z}`;return e.has(n)===!0||e.has(r)===!0?!1:(e.add(n),e.add(r),!0)}class tO extends ch{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=KU,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class nO extends ch{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class $5 extends G5{constructor(t=-1,e=1,n=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,n,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-t,a=n+t,o=r+e,l=r-e;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,x=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=x*this.view.offsetY,l=o-x*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class iO extends Qs{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class rO extends rs{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class TC extends q5{constructor(t,e,n=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}const eM=new X,N_=new X;class sO{constructor(t=new X,e=new X){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){eM.subVectors(t,this.start),N_.subVectors(this.end,this.start);const n=N_.dot(N_);let s=N_.dot(eM)/n;return e&&(s=_t(s,0,1)),s}closestPointToPoint(t,e,n){const r=this.closestPointToPointParameter(t,e);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}function tM(i,t,e,n){const r=aO(n);switch(e){case a5:return i*t;case c5:return i*t;case l5:return i*t*2;case x5:return i*t/r.components*r.byteLength;case Db:return i*t/r.components*r.byteLength;case u5:return i*t*2/r.components*r.byteLength;case Qb:return i*t*2/r.components*r.byteLength;case o5:return i*t*3/r.components*r.byteLength;case Zr:return i*t*4/r.components*r.byteLength;case Lb:return i*t*4/r.components*r.byteLength;case x_:case u_:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*8;case f_:case h_:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*16;case kb:case Ub:return Math.max(i,16)*Math.max(t,8)/4;case Fb:case Pb:return Math.max(i,8)*Math.max(t,8)/2;case Nb:case Ob:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*8;case Gb:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*16;case zb:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*16;case Vb:return Math.floor((i+4)/5)*Math.floor((t+3)/4)*16;case Hb:return Math.floor((i+4)/5)*Math.floor((t+4)/5)*16;case qb:return Math.floor((i+5)/6)*Math.floor((t+4)/5)*16;case Yb:return Math.floor((i+5)/6)*Math.floor((t+5)/6)*16;case Wb:return Math.floor((i+7)/8)*Math.floor((t+4)/5)*16;case Xb:return Math.floor((i+7)/8)*Math.floor((t+5)/6)*16;case Kb:return Math.floor((i+7)/8)*Math.floor((t+7)/8)*16;case Jb:return Math.floor((i+9)/10)*Math.floor((t+4)/5)*16;case jb:return Math.floor((i+9)/10)*Math.floor((t+5)/6)*16;case Zb:return Math.floor((i+9)/10)*Math.floor((t+7)/8)*16;case $b:return Math.floor((i+9)/10)*Math.floor((t+9)/10)*16;case eC:return Math.floor((i+11)/12)*Math.floor((t+9)/10)*16;case tC:return Math.floor((i+11)/12)*Math.floor((t+11)/12)*16;case A_:case nC:case iC:return Math.ceil(i/4)*Math.ceil(t/4)*16;case f5:case rC:return Math.ceil(i/4)*Math.ceil(t/4)*8;case sC:case aC:return Math.ceil(i/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function aO(i){switch(i){case Aa:case i5:return{byteLength:1,components:1};case Zf:case r5:case $f:return{byteLength:2,components:1};case Rb:case Tb:return{byteLength:2,components:4};case v0:case Mb:case da:return{byteLength:4,components:1};case s5:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:hb}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=hb);/**
=======
			`},r=new Vf(5,5,5),s=new Ua({name:"CubemapFromEquirect",uniforms:Ex(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:er,blending:Po});s.uniforms.tEquirect.value=t;const a=new Us(r,s),o=t.minFilter;return t.minFilter===V0&&(t.minFilter=Qr),new NV(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(s)}}class GV extends tr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Fa,this.environmentIntensity=1,this.environmentRotation=new Fa,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Y8{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Cv,this.updateRanges=[],this.version=0,this.uuid=Ra()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ra()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ra()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Pi=new W;class Ns{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Pi.fromBufferAttribute(this,t),Pi.applyMatrix4(e),this.setXYZ(t,Pi.x,Pi.y,Pi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Pi.fromBufferAttribute(this,t),Pi.applyNormalMatrix(e),this.setXYZ(t,Pi.x,Pi.y,Pi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Pi.fromBufferAttribute(this,t),Pi.transformDirection(e),this.setXYZ(t,Pi.x,Pi.y,Pi.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=cs(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Wt(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Wt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Wt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Wt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Wt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=cs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=cs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=cs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=cs(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Wt(t,this.array),n=Wt(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Wt(t,this.array),n=Wt(n,this.array),r=Wt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Wt(t,this.array),n=Wt(n,this.array),r=Wt(r,this.array),s=Wt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new hs(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ns(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class X8 extends Gf{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let bx;const Hf=new W,vx=new W,wx=new W,Bx=new It,qf=new It,W8=new Rn,v_=new W,Yf=new W,w_=new W,j8=new It,qv=new It,K8=new It;class zV extends tr{constructor(e=new X8){if(super(),this.isSprite=!0,this.type="Sprite",bx===void 0){bx=new ks;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Y8(t,5);bx.setIndex([0,1,2,0,2,3]),bx.setAttribute("position",new Ns(n,3,0,!1)),bx.setAttribute("uv",new Ns(n,2,3,!1))}this.geometry=bx,this.material=e,this.center=new It(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),vx.setFromMatrixScale(this.matrixWorld),W8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),wx.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&vx.multiplyScalar(-wx.z);const n=this.material.rotation;let r,s;n!==0&&(s=Math.cos(n),r=Math.sin(n));const a=this.center;B_(v_.set(-.5,-.5,0),wx,a,vx,r,s),B_(Yf.set(.5,-.5,0),wx,a,vx,r,s),B_(w_.set(.5,.5,0),wx,a,vx,r,s),j8.set(0,0),qv.set(1,0),K8.set(1,1);let o=e.ray.intersectTriangle(v_,Yf,w_,!1,Hf);if(o===null&&(B_(Yf.set(-.5,.5,0),wx,a,vx,r,s),qv.set(0,1),o=e.ray.intersectTriangle(v_,w_,Yf,!1,Hf),o===null))return;const l=e.ray.origin.distanceTo(Hf);l<e.near||l>e.far||t.push({distance:l,point:Hf.clone(),uv:Lr.getInterpolation(Hf,v_,Yf,w_,j8,qv,K8,new It),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function B_(i,e,t,n,r,s){Bx.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(qf.x=s*Bx.x-r*Bx.y,qf.y=r*Bx.x+s*Bx.y):qf.copy(Bx),i.copy(e),i.x+=qf.x,i.y+=qf.y,i.applyMatrix4(W8)}const Yv=new W,VV=new W,HV=new at;class j0{constructor(e=new W(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Yv.subVectors(n,t).cross(VV.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Yv),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||HV.getNormalMatrix(e),r=this.coplanarPoint(Yv).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const K0=new Nf,S_=new W;class J8{constructor(e=new j0,t=new j0,n=new j0,r=new j0,s=new j0,a=new j0){this.planes=[e,t,n,r,s,a]}set(e,t,n,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Ma){const n=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],l=r[3],c=r[4],x=r[5],u=r[6],h=r[7],f=r[8],A=r[9],g=r[10],d=r[11],p=r[12],m=r[13],I=r[14],_=r[15];if(n[0].setComponents(l-s,h-c,d-f,_-p).normalize(),n[1].setComponents(l+s,h+c,d+f,_+p).normalize(),n[2].setComponents(l+a,h+x,d+A,_+m).normalize(),n[3].setComponents(l-a,h-x,d-A,_-m).normalize(),n[4].setComponents(l-o,h-u,d-g,_-I).normalize(),t===Ma)n[5].setComponents(l+o,h+u,d+g,_+I).normalize();else if(t===o_)n[5].setComponents(o,u,g,I).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),K0.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),K0.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(K0)}intersectsSprite(e){return K0.center.set(0,0,0),K0.radius=.7071067811865476,K0.applyMatrix4(e.matrixWorld),this.intersectsSphere(K0)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(S_.x=r.normal.x>0?e.max.x:e.min.x,S_.y=r.normal.y>0?e.max.y:e.min.y,S_.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(S_)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class J0 extends tr{constructor(){super(),this.isGroup=!0,this.type="Group"}}class qV extends Fi{constructor(e,t,n,r,s,a,o,l,c){super(e,t,n,r,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Z8 extends Fi{constructor(e,t,n,r,s,a,o,l,c,x=rx){if(x!==rx&&x!==sx)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&x===rx&&(n=H0),n===void 0&&x===sx&&(n=ix),super(null,r,s,a,o,l,x,n,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:as,this.minFilter=l!==void 0?l:as,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class M_ extends ks{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(n),l=Math.floor(r),c=o+1,x=l+1,u=e/o,h=t/l,f=[],A=[],g=[],d=[];for(let p=0;p<x;p++){const m=p*h-a;for(let I=0;I<c;I++){const _=I*u-s;A.push(_,-m,0),g.push(0,0,1),d.push(I/o),d.push(1-p/l)}}for(let p=0;p<l;p++)for(let m=0;m<o;m++){const I=m+c*p,_=m+c*(p+1),y=m+1+c*(p+1),E=m+1+c*p;f.push(I,_,E),f.push(_,y,E)}this.setIndex(f),this.setAttribute("position",new Ps(A,3)),this.setAttribute("normal",new Ps(g,3)),this.setAttribute("uv",new Ps(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new M_(e.width,e.height,e.widthSegments,e.heightSegments)}}class YV extends ks{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new W,s=new W;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,x=l.length;c<x;++c){const u=l[c],h=u.start,f=u.count;for(let A=h,g=h+f;A<g;A+=3)for(let d=0;d<3;d++){const p=o.getX(A+d),m=o.getX(A+(d+1)%3);r.fromBufferAttribute(a,p),s.fromBufferAttribute(a,m),$8(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const x=3*o+c,u=3*o+(c+1)%3;r.fromBufferAttribute(a,x),s.fromBufferAttribute(a,u),$8(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ps(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function $8(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}class XV extends Gf{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Gz,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class WV extends Gf{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class eR extends z8{constructor(e=-1,t=1,n=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,a=n+e,o=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,x=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=x*this.view.offsetY,l=o-x*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class jV extends ks{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class KV extends fs{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Xv extends Y8{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}const tR=new W,R_=new W;class JV{constructor(e=new W,t=new W){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){tR.subVectors(e,this.start),R_.subVectors(this.end,this.start);const n=R_.dot(R_);let s=R_.dot(tR)/n;return t&&(s=ft(s,0,1)),s}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}function nR(i,e,t,n){const r=ZV(n);switch(t){case o8:return i*e;case l8:return i*e;case x8:return i*e*2;case u8:return i*e/r.components*r.byteLength;case Wb:return i*e/r.components*r.byteLength;case h8:return i*e*2/r.components*r.byteLength;case jb:return i*e*2/r.components*r.byteLength;case c8:return i*e*3/r.components*r.byteLength;case os:return i*e*4/r.components*r.byteLength;case Kb:return i*e*4/r.components*r.byteLength;case t_:case n_:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case i_:case r_:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Zb:case ev:return Math.max(i,16)*Math.max(e,8)/4;case Jb:case $b:return Math.max(i,8)*Math.max(e,8)/2;case tv:case nv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case iv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case rv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case sv:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case av:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case ov:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case cv:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case lv:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case xv:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case uv:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case hv:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case fv:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case Av:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case dv:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case pv:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case gv:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case s_:case mv:case _v:return Math.ceil(i/4)*Math.ceil(e/4)*16;case f8:case Iv:return Math.ceil(i/4)*Math.ceil(e/4)*8;case Ev:case yv:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function ZV(i){switch(i){case Ba:case r8:return{byteLength:1,components:1};case Tf:case s8:case Df:return{byteLength:2,components:1};case Yb:case Xb:return{byteLength:2,components:4};case H0:case qb:case Sa:return{byteLength:4,components:1};case a8:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Mb}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Mb);/**
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function nM(){let i=null,t=!1,e=null,n=null;function r(s,a){e(s,a),n=i.requestAnimationFrame(r)}return{start:function(){t!==!0&&e!==null&&(n=i.requestAnimationFrame(r),t=!0)},stop:function(){i.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(s){e=s},setContext:function(s){i=s}}}function oO(i){const t=new WeakMap;function e(o,l){const c=o.array,x=o.usage,u=c.byteLength,f=i.createBuffer();i.bindBuffer(l,f),i.bufferData(l,c,x),o.onUploadCallback();let h;if(c instanceof Float32Array)h=i.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?h=i.HALF_FLOAT:h=i.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=i.SHORT;else if(c instanceof Uint32Array)h=i.UNSIGNED_INT;else if(c instanceof Int32Array)h=i.INT;else if(c instanceof Int8Array)h=i.BYTE;else if(c instanceof Uint8Array)h=i.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:u}}function n(o,l,c){const x=l.array,u=l.updateRanges;if(i.bindBuffer(c,o),u.length===0)i.bufferSubData(c,0,x);else{u.sort((h,A)=>h.start-A.start);let f=0;for(let h=1;h<u.length;h++){const A=u[f],p=u[h];p.start<=A.start+A.count+1?A.count=Math.max(A.count,p.start+p.count-A.start):(++f,u[f]=p)}u.length=f+1;for(let h=0,A=u.length;h<A;h++){const p=u[h];i.bufferSubData(c,p.start*x.BYTES_PER_ELEMENT,x,p.start,p.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),t.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=t.get(o);l&&(i.deleteBuffer(l.buffer),t.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const x=t.get(o);(!x||x.version<o.version)&&t.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=t.get(o);if(c===void 0)t.set(o,e(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(c.buffer,o,l),c.version=o.version}}return{get:r,remove:s,update:a}}var cO=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,lO=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,xO=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,uO=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fO=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,hO=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,AO=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,dO=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,pO=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,gO=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,mO=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,_O=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,IO=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,EO=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,yO=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,bO=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,CO=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,vO=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,wO=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,BO=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,SO=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,MO=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,RO=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,TO=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,DO=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,QO=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,LO=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,FO=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,kO=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,PO=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,UO="gl_FragColor = linearToOutputTexel( gl_FragColor );",NO=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,OO=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,GO=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,zO=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,VO=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,HO=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,qO=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,YO=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,WO=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,XO=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,KO=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,JO=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,jO=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,ZO=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,$O=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,eG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,tG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,nG=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,iG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,rG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,sG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,aG=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,oG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,cG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,xG=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,uG=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,fG=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hG=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,AG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,dG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,pG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,gG=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,mG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,_G=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,IG=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,EG=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,yG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,bG=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,CG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,vG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,wG=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,BG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,SG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,MG=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,RG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,TG=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,DG=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,QG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,LG=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,FG=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,kG=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,PG=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,UG=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,NG=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,OG=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,GG=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,zG=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,VG=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,HG=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,qG=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,YG=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,WG=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,XG=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,KG=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,JG=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,jG=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ZG=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,$G=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ez=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tz=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,nz=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,iz=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rz=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,sz=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,az=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ut={alphahash_fragment:cO,alphahash_pars_fragment:lO,alphamap_fragment:xO,alphamap_pars_fragment:uO,alphatest_fragment:fO,alphatest_pars_fragment:hO,aomap_fragment:AO,aomap_pars_fragment:dO,batching_pars_vertex:pO,batching_vertex:gO,begin_vertex:mO,beginnormal_vertex:_O,bsdfs:IO,iridescence_fragment:EO,bumpmap_pars_fragment:yO,clipping_planes_fragment:bO,clipping_planes_pars_fragment:CO,clipping_planes_pars_vertex:vO,clipping_planes_vertex:wO,color_fragment:BO,color_pars_fragment:SO,color_pars_vertex:MO,color_vertex:RO,common:TO,cube_uv_reflection_fragment:DO,defaultnormal_vertex:QO,displacementmap_pars_vertex:LO,displacementmap_vertex:FO,emissivemap_fragment:kO,emissivemap_pars_fragment:PO,colorspace_fragment:UO,colorspace_pars_fragment:NO,envmap_fragment:OO,envmap_common_pars_fragment:GO,envmap_pars_fragment:zO,envmap_pars_vertex:VO,envmap_physical_pars_fragment:eG,envmap_vertex:HO,fog_vertex:qO,fog_pars_vertex:YO,fog_fragment:WO,fog_pars_fragment:XO,gradientmap_pars_fragment:KO,lightmap_pars_fragment:JO,lights_lambert_fragment:jO,lights_lambert_pars_fragment:ZO,lights_pars_begin:$O,lights_toon_fragment:tG,lights_toon_pars_fragment:nG,lights_phong_fragment:iG,lights_phong_pars_fragment:rG,lights_physical_fragment:sG,lights_physical_pars_fragment:aG,lights_fragment_begin:oG,lights_fragment_maps:cG,lights_fragment_end:lG,logdepthbuf_fragment:xG,logdepthbuf_pars_fragment:uG,logdepthbuf_pars_vertex:fG,logdepthbuf_vertex:hG,map_fragment:AG,map_pars_fragment:dG,map_particle_fragment:pG,map_particle_pars_fragment:gG,metalnessmap_fragment:mG,metalnessmap_pars_fragment:_G,morphinstance_vertex:IG,morphcolor_vertex:EG,morphnormal_vertex:yG,morphtarget_pars_vertex:bG,morphtarget_vertex:CG,normal_fragment_begin:vG,normal_fragment_maps:wG,normal_pars_fragment:BG,normal_pars_vertex:SG,normal_vertex:MG,normalmap_pars_fragment:RG,clearcoat_normal_fragment_begin:TG,clearcoat_normal_fragment_maps:DG,clearcoat_pars_fragment:QG,iridescence_pars_fragment:LG,opaque_fragment:FG,packing:kG,premultiplied_alpha_fragment:PG,project_vertex:UG,dithering_fragment:NG,dithering_pars_fragment:OG,roughnessmap_fragment:GG,roughnessmap_pars_fragment:zG,shadowmap_pars_fragment:VG,shadowmap_pars_vertex:HG,shadowmap_vertex:qG,shadowmask_pars_fragment:YG,skinbase_vertex:WG,skinning_pars_vertex:XG,skinning_vertex:KG,skinnormal_vertex:JG,specularmap_fragment:jG,specularmap_pars_fragment:ZG,tonemapping_fragment:$G,tonemapping_pars_fragment:ez,transmission_fragment:tz,transmission_pars_fragment:nz,uv_pars_fragment:iz,uv_pars_vertex:rz,uv_vertex:sz,worldpos_vertex:az,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,depth_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
<<<<<<< HEAD
}`},Ce={common:{diffuse:{value:new Qt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ct},alphaMap:{value:null},alphaMapTransform:{value:new ct},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ct}},envmap:{envMap:{value:null},envMapRotation:{value:new ct},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ct}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ct}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ct},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ct},normalScale:{value:new Ct(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ct},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ct}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ct}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ct}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Qt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Qt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ct},alphaTest:{value:0},uvTransform:{value:new ct}},sprite:{diffuse:{value:new Qt(16777215)},opacity:{value:1},center:{value:new Ct(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ct},alphaMap:{value:null},alphaMapTransform:{value:new ct},alphaTest:{value:0}}},Zi={basic:{uniforms:Mi([Ce.common,Ce.specularmap,Ce.envmap,Ce.aomap,Ce.lightmap,Ce.fog]),vertexShader:ut.meshbasic_vert,fragmentShader:ut.meshbasic_frag},lambert:{uniforms:Mi([Ce.common,Ce.specularmap,Ce.envmap,Ce.aomap,Ce.lightmap,Ce.emissivemap,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.fog,Ce.lights,{emissive:{value:new Qt(0)}}]),vertexShader:ut.meshlambert_vert,fragmentShader:ut.meshlambert_frag},phong:{uniforms:Mi([Ce.common,Ce.specularmap,Ce.envmap,Ce.aomap,Ce.lightmap,Ce.emissivemap,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.fog,Ce.lights,{emissive:{value:new Qt(0)},specular:{value:new Qt(1118481)},shininess:{value:30}}]),vertexShader:ut.meshphong_vert,fragmentShader:ut.meshphong_frag},standard:{uniforms:Mi([Ce.common,Ce.envmap,Ce.aomap,Ce.lightmap,Ce.emissivemap,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.roughnessmap,Ce.metalnessmap,Ce.fog,Ce.lights,{emissive:{value:new Qt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ut.meshphysical_vert,fragmentShader:ut.meshphysical_frag},toon:{uniforms:Mi([Ce.common,Ce.aomap,Ce.lightmap,Ce.emissivemap,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.gradientmap,Ce.fog,Ce.lights,{emissive:{value:new Qt(0)}}]),vertexShader:ut.meshtoon_vert,fragmentShader:ut.meshtoon_frag},matcap:{uniforms:Mi([Ce.common,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.fog,{matcap:{value:null}}]),vertexShader:ut.meshmatcap_vert,fragmentShader:ut.meshmatcap_frag},points:{uniforms:Mi([Ce.points,Ce.fog]),vertexShader:ut.points_vert,fragmentShader:ut.points_frag},dashed:{uniforms:Mi([Ce.common,Ce.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ut.linedashed_vert,fragmentShader:ut.linedashed_frag},depth:{uniforms:Mi([Ce.common,Ce.displacementmap]),vertexShader:ut.depth_vert,fragmentShader:ut.depth_frag},normal:{uniforms:Mi([Ce.common,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,{opacity:{value:1}}]),vertexShader:ut.meshnormal_vert,fragmentShader:ut.meshnormal_frag},sprite:{uniforms:Mi([Ce.sprite,Ce.fog]),vertexShader:ut.sprite_vert,fragmentShader:ut.sprite_frag},background:{uniforms:{uvTransform:{value:new ct},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ut.background_vert,fragmentShader:ut.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ct}},vertexShader:ut.backgroundCube_vert,fragmentShader:ut.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ut.cube_vert,fragmentShader:ut.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ut.equirect_vert,fragmentShader:ut.equirect_frag},distanceRGBA:{uniforms:Mi([Ce.common,Ce.displacementmap,{referencePosition:{value:new X},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ut.distanceRGBA_vert,fragmentShader:ut.distanceRGBA_frag},shadow:{uniforms:Mi([Ce.lights,Ce.fog,{color:{value:new Qt(0)},opacity:{value:1}}]),vertexShader:ut.shadow_vert,fragmentShader:ut.shadow_frag}};Zi.physical={uniforms:Mi([Zi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ct},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ct},clearcoatNormalScale:{value:new Ct(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ct},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ct},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ct},sheen:{value:0},sheenColor:{value:new Qt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ct},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ct},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ct},transmissionSamplerSize:{value:new Ct},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ct},attenuationDistance:{value:0},attenuationColor:{value:new Qt(0)},specularColor:{value:new Qt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ct},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ct},anisotropyVector:{value:new Ct},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ct}}]),vertexShader:ut.meshphysical_vert,fragmentShader:ut.meshphysical_frag};const O_={r:0,b:0,g:0},Q0=new Ea,oz=new Cn;function cz(i,t,e,n,r,s,a){const o=new Qt(0);let l=s===!0?0:1,c,x,u=null,f=0,h=null;function A(_){let I=_.isScene===!0?_.background:null;return I&&I.isTexture&&(I=(_.backgroundBlurriness>0?e:t).get(I)),I}function p(_){let I=!1;const y=A(_);y===null?g(o,l):y&&y.isColor&&(g(y,1),I=!0);const E=i.xr.getEnvironmentBlendMode();E==="additive"?n.buffers.color.setClear(0,0,0,1,a):E==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,a),(i.autoClear||I)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function d(_,I){const y=A(I);y&&(y.isCubeTexture||y.mapping===c_)?(x===void 0&&(x=new Ls(new xh(1,1,1),new va({name:"BackgroundCubeMaterial",uniforms:Wl(Zi.backgroundCube.uniforms),vertexShader:Zi.backgroundCube.vertexShader,fragmentShader:Zi.backgroundCube.fragmentShader,side:Ji,depthTest:!1,depthWrite:!1,fog:!1})),x.geometry.deleteAttribute("normal"),x.geometry.deleteAttribute("uv"),x.onBeforeRender=function(E,b,w){this.matrixWorld.copyPosition(w.matrixWorld)},Object.defineProperty(x.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(x)),Q0.copy(I.backgroundRotation),Q0.x*=-1,Q0.y*=-1,Q0.z*=-1,y.isCubeTexture&&y.isRenderTargetTexture===!1&&(Q0.y*=-1,Q0.z*=-1),x.material.uniforms.envMap.value=y,x.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,x.material.uniforms.backgroundBlurriness.value=I.backgroundBlurriness,x.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,x.material.uniforms.backgroundRotation.value.setFromMatrix4(oz.makeRotationFromEuler(Q0)),x.material.toneMapped=Dt.getTransfer(y.colorSpace)!==$t,(u!==y||f!==y.version||h!==i.toneMapping)&&(x.material.needsUpdate=!0,u=y,f=y.version,h=i.toneMapping),x.layers.enableAll(),_.unshift(x,x.geometry,x.material,0,0,null)):y&&y.isTexture&&(c===void 0&&(c=new Ls(new U_(2,2),new va({name:"BackgroundMaterial",uniforms:Wl(Zi.background.uniforms),vertexShader:Zi.background.vertexShader,fragmentShader:Zi.background.fragmentShader,side:_o,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=y,c.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,c.material.toneMapped=Dt.getTransfer(y.colorSpace)!==$t,y.matrixAutoUpdate===!0&&y.updateMatrix(),c.material.uniforms.uvTransform.value.copy(y.matrix),(u!==y||f!==y.version||h!==i.toneMapping)&&(c.material.needsUpdate=!0,u=y,f=y.version,h=i.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function g(_,I){_.getRGB(O_,O5(i)),n.buffers.color.setClear(O_.r,O_.g,O_.b,I,a)}function m(){x!==void 0&&(x.geometry.dispose(),x.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return o},setClearColor:function(_,I=1){o.set(_),l=I,g(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,g(o,l)},render:p,addToRenderList:d,dispose:m}}function lz(i,t){const e=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=f(null);let s=r,a=!1;function o(v,B,S,T,Q){let M=!1;const D=u(T,S,B);s!==D&&(s=D,c(s.object)),M=h(v,T,S,Q),M&&A(v,T,S,Q),Q!==null&&t.update(Q,i.ELEMENT_ARRAY_BUFFER),(M||a)&&(a=!1,I(v,B,S,T),Q!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.get(Q).buffer))}function l(){return i.createVertexArray()}function c(v){return i.bindVertexArray(v)}function x(v){return i.deleteVertexArray(v)}function u(v,B,S){const T=S.wireframe===!0;let Q=n[v.id];Q===void 0&&(Q={},n[v.id]=Q);let M=Q[B.id];M===void 0&&(M={},Q[B.id]=M);let D=M[T];return D===void 0&&(D=f(l()),M[T]=D),D}function f(v){const B=[],S=[],T=[];for(let Q=0;Q<e;Q++)B[Q]=0,S[Q]=0,T[Q]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:S,attributeDivisors:T,object:v,attributes:{},index:null}}function h(v,B,S,T){const Q=s.attributes,M=B.attributes;let D=0;const U=S.getAttributes();for(const F in U)if(U[F].location>=0){const H=Q[F];let P=M[F];if(P===void 0&&(F==="instanceMatrix"&&v.instanceMatrix&&(P=v.instanceMatrix),F==="instanceColor"&&v.instanceColor&&(P=v.instanceColor)),H===void 0||H.attribute!==P||P&&H.data!==P.data)return!0;D++}return s.attributesNum!==D||s.index!==T}function A(v,B,S,T){const Q={},M=B.attributes;let D=0;const U=S.getAttributes();for(const F in U)if(U[F].location>=0){let H=M[F];H===void 0&&(F==="instanceMatrix"&&v.instanceMatrix&&(H=v.instanceMatrix),F==="instanceColor"&&v.instanceColor&&(H=v.instanceColor));const P={};P.attribute=H,H&&H.data&&(P.data=H.data),Q[F]=P,D++}s.attributes=Q,s.attributesNum=D,s.index=T}function p(){const v=s.newAttributes;for(let B=0,S=v.length;B<S;B++)v[B]=0}function d(v){g(v,0)}function g(v,B){const S=s.newAttributes,T=s.enabledAttributes,Q=s.attributeDivisors;S[v]=1,T[v]===0&&(i.enableVertexAttribArray(v),T[v]=1),Q[v]!==B&&(i.vertexAttribDivisor(v,B),Q[v]=B)}function m(){const v=s.newAttributes,B=s.enabledAttributes;for(let S=0,T=B.length;S<T;S++)B[S]!==v[S]&&(i.disableVertexAttribArray(S),B[S]=0)}function _(v,B,S,T,Q,M,D){D===!0?i.vertexAttribIPointer(v,B,S,Q,M):i.vertexAttribPointer(v,B,S,T,Q,M)}function I(v,B,S,T){p();const Q=T.attributes,M=S.getAttributes(),D=B.defaultAttributeValues;for(const U in M){const F=M[U];if(F.location>=0){let z=Q[U];if(z===void 0&&(U==="instanceMatrix"&&v.instanceMatrix&&(z=v.instanceMatrix),U==="instanceColor"&&v.instanceColor&&(z=v.instanceColor)),z!==void 0){const H=z.normalized,P=z.itemSize,Z=t.get(z);if(Z===void 0)continue;const ce=Z.buffer,G=Z.type,O=Z.bytesPerElement,j=G===i.INT||G===i.UNSIGNED_INT||z.gpuType===Mb;if(z.isInterleavedBufferAttribute){const J=z.data,le=J.stride,he=z.offset;if(J.isInstancedInterleavedBuffer){for(let Ee=0;Ee<F.locationSize;Ee++)g(F.location+Ee,J.meshPerAttribute);v.isInstancedMesh!==!0&&T._maxInstanceCount===void 0&&(T._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let Ee=0;Ee<F.locationSize;Ee++)d(F.location+Ee);i.bindBuffer(i.ARRAY_BUFFER,ce);for(let Ee=0;Ee<F.locationSize;Ee++)_(F.location+Ee,P/F.locationSize,G,H,le*O,(he+P/F.locationSize*Ee)*O,j)}else{if(z.isInstancedBufferAttribute){for(let J=0;J<F.locationSize;J++)g(F.location+J,z.meshPerAttribute);v.isInstancedMesh!==!0&&T._maxInstanceCount===void 0&&(T._maxInstanceCount=z.meshPerAttribute*z.count)}else for(let J=0;J<F.locationSize;J++)d(F.location+J);i.bindBuffer(i.ARRAY_BUFFER,ce);for(let J=0;J<F.locationSize;J++)_(F.location+J,P/F.locationSize,G,H,P*O,P/F.locationSize*J*O,j)}}else if(D!==void 0){const H=D[U];if(H!==void 0)switch(H.length){case 2:i.vertexAttrib2fv(F.location,H);break;case 3:i.vertexAttrib3fv(F.location,H);break;case 4:i.vertexAttrib4fv(F.location,H);break;default:i.vertexAttrib1fv(F.location,H)}}}}m()}function y(){w();for(const v in n){const B=n[v];for(const S in B){const T=B[S];for(const Q in T)x(T[Q].object),delete T[Q];delete B[S]}delete n[v]}}function E(v){if(n[v.id]===void 0)return;const B=n[v.id];for(const S in B){const T=B[S];for(const Q in T)x(T[Q].object),delete T[Q];delete B[S]}delete n[v.id]}function b(v){for(const B in n){const S=n[B];if(S[v.id]===void 0)continue;const T=S[v.id];for(const Q in T)x(T[Q].object),delete T[Q];delete S[v.id]}}function w(){C(),a=!0,s!==r&&(s=r,c(s.object))}function C(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:w,resetDefaultState:C,dispose:y,releaseStatesOfGeometry:E,releaseStatesOfProgram:b,initAttributes:p,enableAttribute:d,disableUnusedAttributes:m}}function xz(i,t,e){let n;function r(c){n=c}function s(c,x){i.drawArrays(n,c,x),e.update(x,n,1)}function a(c,x,u){u!==0&&(i.drawArraysInstanced(n,c,x,u),e.update(x,n,u))}function o(c,x,u){if(u===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,c,0,x,0,u);let h=0;for(let A=0;A<u;A++)h+=x[A];e.update(h,n,1)}function l(c,x,u,f){if(u===0)return;const h=t.get("WEBGL_multi_draw");if(h===null)for(let A=0;A<c.length;A++)a(c[A],x[A],f[A]);else{h.multiDrawArraysInstancedWEBGL(n,c,0,x,0,f,0,u);let A=0;for(let p=0;p<u;p++)A+=x[p]*f[p];e.update(A,n,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function uz(i,t,e,n){let r;function s(){if(r!==void 0)return r;if(t.has("EXT_texture_filter_anisotropic")===!0){const b=t.get("EXT_texture_filter_anisotropic");r=i.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(b){return!(b!==Zr&&n.convert(b)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(b){const w=b===$f&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(b!==Aa&&n.convert(b)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&b!==da&&!w)}function l(b){if(b==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";b="mediump"}return b==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=e.precision!==void 0?e.precision:"highp";const x=l(c);x!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",x,"instead."),c=x);const u=e.logarithmicDepthBuffer===!0,f=e.reverseDepthBuffer===!0&&t.has("EXT_clip_control"),h=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),A=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=i.getParameter(i.MAX_TEXTURE_SIZE),d=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),g=i.getParameter(i.MAX_VERTEX_ATTRIBS),m=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),_=i.getParameter(i.MAX_VARYING_VECTORS),I=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),y=A>0,E=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:u,reverseDepthBuffer:f,maxTextures:h,maxVertexTextures:A,maxTextureSize:p,maxCubemapSize:d,maxAttributes:g,maxVertexUniforms:m,maxVaryings:_,maxFragmentUniforms:I,vertexTextures:y,maxSamples:E}}function fz(i){const t=this;let e=null,n=0,r=!1,s=!1;const a=new R0,o=new ct,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,f){const h=u.length!==0||f||n!==0||r;return r=f,n=u.length,h},this.beginShadows=function(){s=!0,x(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(u,f){e=x(u,f,0)},this.setState=function(u,f,h){const A=u.clippingPlanes,p=u.clipIntersection,d=u.clipShadows,g=i.get(u);if(!r||A===null||A.length===0||s&&!d)s?x(null):c();else{const m=s?0:n,_=m*4;let I=g.clippingState||null;l.value=I,I=x(A,f,_,h);for(let y=0;y!==_;++y)I[y]=e[y];g.clippingState=I,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=m}};function c(){l.value!==e&&(l.value=e,l.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function x(u,f,h,A){const p=u!==null?u.length:0;let d=null;if(p!==0){if(d=l.value,A!==!0||d===null){const g=h+p*4,m=f.matrixWorldInverse;o.getNormalMatrix(m),(d===null||d.length<g)&&(d=new Float32Array(g));for(let _=0,I=h;_!==p;++_,I+=4)a.copy(u[_]).applyMatrix4(m,o),a.normal.toArray(d,I),d[I+3]=a.constant}l.value=d,l.needsUpdate=!0}return t.numPlanes=p,t.numIntersection=0,d}}function hz(i){let t=new WeakMap;function e(a,o){return o===Cb?a.mapping=Bl:o===vb&&(a.mapping=Sl),a}function n(a){if(a&&a.isTexture){const o=a.mapping;if(o===Cb||o===vb)if(t.has(a)){const l=t.get(a).texture;return e(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new XN(l.height);return c.fromEquirectangularTexture(i,a),t.set(a,c),a.addEventListener("dispose",r),e(c.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=t.get(o);l!==void 0&&(t.delete(o),l.dispose())}function s(){t=new WeakMap}return{get:n,dispose:s}}const ex=4,iM=[.125,.215,.35,.446,.526,.582],L0=20,DC=new $5,rM=new Qt;let QC=null,LC=0,FC=0,kC=!1;const F0=(1+Math.sqrt(5))/2,tx=1/F0,sM=[new X(-F0,tx,0),new X(F0,tx,0),new X(-tx,0,F0),new X(tx,0,F0),new X(0,F0,-tx),new X(0,F0,tx),new X(-1,1,-1),new X(1,1,-1),new X(-1,1,1),new X(1,1,1)];class aM{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,r=100){QC=this._renderer.getRenderTarget(),LC=this._renderer.getActiveCubeFace(),FC=this._renderer.getActiveMipmapLevel(),kC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(t,n,r,s),e>0&&this._blur(s,0,0,e),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=lM(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=cM(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(QC,LC,FC),this._renderer.xr.enabled=kC,t.scissorTest=!1,G_(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Bl||t.mapping===Sl?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),QC=this._renderer.getRenderTarget(),LC=this._renderer.getActiveCubeFace(),FC=this._renderer.getActiveMipmapLevel(),kC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:Mr,minFilter:Mr,generateMipmaps:!1,type:$f,format:Zr,colorSpace:Dl,depthBuffer:!1},r=oM(t,e,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=oM(t,e,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Az(s)),this._blurMaterial=dz(s,t,e)}return r}_compileMaterial(t){const e=new Ls(this._lodPlanes[0],t);this._renderer.compile(e,DC)}_sceneToCubeUV(t,e,n,r){const o=new rs(90,1,e,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],x=this._renderer,u=x.autoClear,f=x.toneMapping;x.getClearColor(rM),x.toneMapping=Eo,x.autoClear=!1;const h=new L5({name:"PMREM.Background",side:Ji,depthWrite:!1,depthTest:!1}),A=new Ls(new xh,h);let p=!1;const d=t.background;d?d.isColor&&(h.color.copy(d),t.background=null,p=!0):(h.color.copy(rM),p=!0);for(let g=0;g<6;g++){const m=g%3;m===0?(o.up.set(0,l[g],0),o.lookAt(c[g],0,0)):m===1?(o.up.set(0,0,l[g]),o.lookAt(0,c[g],0)):(o.up.set(0,l[g],0),o.lookAt(0,0,c[g]));const _=this._cubeSize;G_(r,m*_,g>2?_:0,_,_),x.setRenderTarget(r),p&&x.render(A,o),x.render(t,o)}A.geometry.dispose(),A.material.dispose(),x.toneMapping=f,x.autoClear=u,t.background=d}_textureToCubeUV(t,e){const n=this._renderer,r=t.mapping===Bl||t.mapping===Sl;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=lM()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=cM());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new Ls(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=t;const l=this._cubeSize;G_(e,0,0,3*l,2*l),n.setRenderTarget(e),n.render(a,DC)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=sM[(r-s-1)%sM.length];this._blur(t,s-1,s,a,o)}e.autoClear=n}_blur(t,e,n,r,s){const a=this._pingPongRenderTarget;this._halfBlur(t,a,e,n,r,"latitudinal",s),this._halfBlur(a,t,n,n,r,"longitudinal",s)}_halfBlur(t,e,n,r,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const x=3,u=new Ls(this._lodPlanes[r],c),f=c.uniforms,h=this._sizeLods[n]-1,A=isFinite(s)?Math.PI/(2*h):2*Math.PI/(2*L0-1),p=s/A,d=isFinite(s)?1+Math.floor(x*p):L0;d>L0&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${d} samples when the maximum is set to ${L0}`);const g=[];let m=0;for(let b=0;b<L0;++b){const w=b/p,C=Math.exp(-w*w/2);g.push(C),b===0?m+=C:b<d&&(m+=2*C)}for(let b=0;b<g.length;b++)g[b]=g[b]/m;f.envMap.value=t.texture,f.samples.value=d,f.weights.value=g,f.latitudinal.value=a==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:_}=this;f.dTheta.value=A,f.mipInt.value=_-n;const I=this._sizeLods[r],y=3*I*(r>_-ex?r-_+ex:0),E=4*(this._cubeSize-I);G_(e,y,E,3*I,2*I),l.setRenderTarget(e),l.render(u,DC)}}function Az(i){const t=[],e=[],n=[];let r=i;const s=i-ex+1+iM.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);e.push(o);let l=1/o;a>i-ex?l=iM[a-i+ex-1]:a===0&&(l=0),n.push(l);const c=1/(o-2),x=-c,u=1+c,f=[x,x,u,x,u,u,x,x,u,u,x,u],h=6,A=6,p=3,d=2,g=1,m=new Float32Array(p*A*h),_=new Float32Array(d*A*h),I=new Float32Array(g*A*h);for(let E=0;E<h;E++){const b=E%3*2/3-1,w=E>2?0:-1,C=[b,w,0,b+2/3,w,0,b+2/3,w+1,0,b,w,0,b+2/3,w+1,0,b,w+1,0];m.set(C,p*A*E),_.set(f,d*A*E);const v=[E,E,E,E,E,E];I.set(v,g*A*E)}const y=new Qs;y.setAttribute("position",new is(m,p)),y.setAttribute("uv",new is(_,d)),y.setAttribute("faceIndex",new is(I,g)),t.push(y),r>ex&&r--}return{lodPlanes:t,sizeLods:e,sigmas:n}}function oM(i,t,e){const n=new w0(i,t,e);return n.texture.mapping=c_,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function G_(i,t,e,n,r){i.viewport.set(t,e,n,r),i.scissor.set(t,e,n,r)}function dz(i,t,e){const n=new Float32Array(L0),r=new X(0,1,0);return new va({name:"SphericalGaussianBlur",defines:{n:L0,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:PC(),fragmentShader:`
=======
}`},Ce={common:{diffuse:{value:new Rt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new at},alphaMap:{value:null},alphaMapTransform:{value:new at},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new at}},envmap:{envMap:{value:null},envMapRotation:{value:new at},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new at}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new at}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new at},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new at},normalScale:{value:new It(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new at},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new at}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new at}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new at}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Rt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new at},alphaTest:{value:0},uvTransform:{value:new at}},sprite:{diffuse:{value:new Rt(16777215)},opacity:{value:1},center:{value:new It(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new at},alphaMap:{value:null},alphaMapTransform:{value:new at},alphaTest:{value:0}}},nr={basic:{uniforms:Li([Ce.common,Ce.specularmap,Ce.envmap,Ce.aomap,Ce.lightmap,Ce.fog]),vertexShader:xt.meshbasic_vert,fragmentShader:xt.meshbasic_frag},lambert:{uniforms:Li([Ce.common,Ce.specularmap,Ce.envmap,Ce.aomap,Ce.lightmap,Ce.emissivemap,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.fog,Ce.lights,{emissive:{value:new Rt(0)}}]),vertexShader:xt.meshlambert_vert,fragmentShader:xt.meshlambert_frag},phong:{uniforms:Li([Ce.common,Ce.specularmap,Ce.envmap,Ce.aomap,Ce.lightmap,Ce.emissivemap,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.fog,Ce.lights,{emissive:{value:new Rt(0)},specular:{value:new Rt(1118481)},shininess:{value:30}}]),vertexShader:xt.meshphong_vert,fragmentShader:xt.meshphong_frag},standard:{uniforms:Li([Ce.common,Ce.envmap,Ce.aomap,Ce.lightmap,Ce.emissivemap,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.roughnessmap,Ce.metalnessmap,Ce.fog,Ce.lights,{emissive:{value:new Rt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag},toon:{uniforms:Li([Ce.common,Ce.aomap,Ce.lightmap,Ce.emissivemap,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.gradientmap,Ce.fog,Ce.lights,{emissive:{value:new Rt(0)}}]),vertexShader:xt.meshtoon_vert,fragmentShader:xt.meshtoon_frag},matcap:{uniforms:Li([Ce.common,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.fog,{matcap:{value:null}}]),vertexShader:xt.meshmatcap_vert,fragmentShader:xt.meshmatcap_frag},points:{uniforms:Li([Ce.points,Ce.fog]),vertexShader:xt.points_vert,fragmentShader:xt.points_frag},dashed:{uniforms:Li([Ce.common,Ce.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xt.linedashed_vert,fragmentShader:xt.linedashed_frag},depth:{uniforms:Li([Ce.common,Ce.displacementmap]),vertexShader:xt.depth_vert,fragmentShader:xt.depth_frag},normal:{uniforms:Li([Ce.common,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,{opacity:{value:1}}]),vertexShader:xt.meshnormal_vert,fragmentShader:xt.meshnormal_frag},sprite:{uniforms:Li([Ce.sprite,Ce.fog]),vertexShader:xt.sprite_vert,fragmentShader:xt.sprite_frag},background:{uniforms:{uvTransform:{value:new at},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xt.background_vert,fragmentShader:xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new at}},vertexShader:xt.backgroundCube_vert,fragmentShader:xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xt.cube_vert,fragmentShader:xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xt.equirect_vert,fragmentShader:xt.equirect_frag},distanceRGBA:{uniforms:Li([Ce.common,Ce.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xt.distanceRGBA_vert,fragmentShader:xt.distanceRGBA_frag},shadow:{uniforms:Li([Ce.lights,Ce.fog,{color:{value:new Rt(0)},opacity:{value:1}}]),vertexShader:xt.shadow_vert,fragmentShader:xt.shadow_frag}};nr.physical={uniforms:Li([nr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new at},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new at},clearcoatNormalScale:{value:new It(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new at},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new at},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new at},sheen:{value:0},sheenColor:{value:new Rt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new at},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new at},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new at},transmissionSamplerSize:{value:new It},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new at},attenuationDistance:{value:0},attenuationColor:{value:new Rt(0)},specularColor:{value:new Rt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new at},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new at},anisotropyVector:{value:new It},anisotropyMap:{value:null},anisotropyMapTransform:{value:new at}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag};const T_={r:0,b:0,g:0},Z0=new Fa,$q=new Rn;function eY(i,e,t,n,r,s,a){const o=new Rt(0);let l=s===!0?0:1,c,x,u=null,h=0,f=null;function A(I){let _=I.isScene===!0?I.background:null;return _&&_.isTexture&&(_=(I.backgroundBlurriness>0?t:e).get(_)),_}function g(I){let _=!1;const y=A(I);y===null?p(o,l):y&&y.isColor&&(p(y,1),_=!0);const E=i.xr.getEnvironmentBlendMode();E==="additive"?n.buffers.color.setClear(0,0,0,1,a):E==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,a),(i.autoClear||_)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function d(I,_){const y=A(_);y&&(y.isCubeTexture||y.mapping===$2)?(x===void 0&&(x=new Us(new Vf(1,1,1),new Ua({name:"BackgroundCubeMaterial",uniforms:Ex(nr.backgroundCube.uniforms),vertexShader:nr.backgroundCube.vertexShader,fragmentShader:nr.backgroundCube.fragmentShader,side:er,depthTest:!1,depthWrite:!1,fog:!1})),x.geometry.deleteAttribute("normal"),x.geometry.deleteAttribute("uv"),x.onBeforeRender=function(E,C,w){this.matrixWorld.copyPosition(w.matrixWorld)},Object.defineProperty(x.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(x)),Z0.copy(_.backgroundRotation),Z0.x*=-1,Z0.y*=-1,Z0.z*=-1,y.isCubeTexture&&y.isRenderTargetTexture===!1&&(Z0.y*=-1,Z0.z*=-1),x.material.uniforms.envMap.value=y,x.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,x.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,x.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,x.material.uniforms.backgroundRotation.value.setFromMatrix4($q.makeRotationFromEuler(Z0)),x.material.toneMapped=Mt.getTransfer(y.colorSpace)!==$t,(u!==y||h!==y.version||f!==i.toneMapping)&&(x.material.needsUpdate=!0,u=y,h=y.version,f=i.toneMapping),x.layers.enableAll(),I.unshift(x,x.geometry,x.material,0,0,null)):y&&y.isTexture&&(c===void 0&&(c=new Us(new M_(2,2),new Ua({name:"BackgroundMaterial",uniforms:Ex(nr.background.uniforms),vertexShader:nr.background.vertexShader,fragmentShader:nr.background.fragmentShader,side:Lo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=y,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=Mt.getTransfer(y.colorSpace)!==$t,y.matrixAutoUpdate===!0&&y.updateMatrix(),c.material.uniforms.uvTransform.value.copy(y.matrix),(u!==y||h!==y.version||f!==i.toneMapping)&&(c.material.needsUpdate=!0,u=y,h=y.version,f=i.toneMapping),c.layers.enableAll(),I.unshift(c,c.geometry,c.material,0,0,null))}function p(I,_){I.getRGB(T_,G8(i)),n.buffers.color.setClear(T_.r,T_.g,T_.b,_,a)}function m(){x!==void 0&&(x.geometry.dispose(),x.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return o},setClearColor:function(I,_=1){o.set(I),l=_,p(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(I){l=I,p(o,l)},render:g,addToRenderList:d,dispose:m}}function tY(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=h(null);let s=r,a=!1;function o(v,B,R,T,F){let M=!1;const D=u(T,R,B);s!==D&&(s=D,c(s.object)),M=f(v,T,R,F),M&&A(v,T,R,F),F!==null&&e.update(F,i.ELEMENT_ARRAY_BUFFER),(M||a)&&(a=!1,_(v,B,R,T),F!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(F).buffer))}function l(){return i.createVertexArray()}function c(v){return i.bindVertexArray(v)}function x(v){return i.deleteVertexArray(v)}function u(v,B,R){const T=R.wireframe===!0;let F=n[v.id];F===void 0&&(F={},n[v.id]=F);let M=F[B.id];M===void 0&&(M={},F[B.id]=M);let D=M[T];return D===void 0&&(D=h(l()),M[T]=D),D}function h(v){const B=[],R=[],T=[];for(let F=0;F<t;F++)B[F]=0,R[F]=0,T[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:R,attributeDivisors:T,object:v,attributes:{},index:null}}function f(v,B,R,T){const F=s.attributes,M=B.attributes;let D=0;const P=R.getAttributes();for(const k in P)if(P[k].location>=0){const Y=F[k];let U=M[k];if(U===void 0&&(k==="instanceMatrix"&&v.instanceMatrix&&(U=v.instanceMatrix),k==="instanceColor"&&v.instanceColor&&(U=v.instanceColor)),Y===void 0||Y.attribute!==U||U&&Y.data!==U.data)return!0;D++}return s.attributesNum!==D||s.index!==T}function A(v,B,R,T){const F={},M=B.attributes;let D=0;const P=R.getAttributes();for(const k in P)if(P[k].location>=0){let Y=M[k];Y===void 0&&(k==="instanceMatrix"&&v.instanceMatrix&&(Y=v.instanceMatrix),k==="instanceColor"&&v.instanceColor&&(Y=v.instanceColor));const U={};U.attribute=Y,Y&&Y.data&&(U.data=Y.data),F[k]=U,D++}s.attributes=F,s.attributesNum=D,s.index=T}function g(){const v=s.newAttributes;for(let B=0,R=v.length;B<R;B++)v[B]=0}function d(v){p(v,0)}function p(v,B){const R=s.newAttributes,T=s.enabledAttributes,F=s.attributeDivisors;R[v]=1,T[v]===0&&(i.enableVertexAttribArray(v),T[v]=1),F[v]!==B&&(i.vertexAttribDivisor(v,B),F[v]=B)}function m(){const v=s.newAttributes,B=s.enabledAttributes;for(let R=0,T=B.length;R<T;R++)B[R]!==v[R]&&(i.disableVertexAttribArray(R),B[R]=0)}function I(v,B,R,T,F,M,D){D===!0?i.vertexAttribIPointer(v,B,R,F,M):i.vertexAttribPointer(v,B,R,T,F,M)}function _(v,B,R,T){g();const F=T.attributes,M=R.getAttributes(),D=B.defaultAttributeValues;for(const P in M){const k=M[P];if(k.location>=0){let V=F[P];if(V===void 0&&(P==="instanceMatrix"&&v.instanceMatrix&&(V=v.instanceMatrix),P==="instanceColor"&&v.instanceColor&&(V=v.instanceColor)),V!==void 0){const Y=V.normalized,U=V.itemSize,ne=e.get(V);if(ne===void 0)continue;const xe=ne.buffer,G=ne.type,O=ne.bytesPerElement,ee=G===i.INT||G===i.UNSIGNED_INT||V.gpuType===qb;if(V.isInterleavedBufferAttribute){const K=V.data,ce=K.stride,Ae=V.offset;if(K.isInstancedInterleavedBuffer){for(let ge=0;ge<k.locationSize;ge++)p(k.location+ge,K.meshPerAttribute);v.isInstancedMesh!==!0&&T._maxInstanceCount===void 0&&(T._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let ge=0;ge<k.locationSize;ge++)d(k.location+ge);i.bindBuffer(i.ARRAY_BUFFER,xe);for(let ge=0;ge<k.locationSize;ge++)I(k.location+ge,U/k.locationSize,G,Y,ce*O,(Ae+U/k.locationSize*ge)*O,ee)}else{if(V.isInstancedBufferAttribute){for(let K=0;K<k.locationSize;K++)p(k.location+K,V.meshPerAttribute);v.isInstancedMesh!==!0&&T._maxInstanceCount===void 0&&(T._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let K=0;K<k.locationSize;K++)d(k.location+K);i.bindBuffer(i.ARRAY_BUFFER,xe);for(let K=0;K<k.locationSize;K++)I(k.location+K,U/k.locationSize,G,Y,U*O,U/k.locationSize*K*O,ee)}}else if(D!==void 0){const Y=D[P];if(Y!==void 0)switch(Y.length){case 2:i.vertexAttrib2fv(k.location,Y);break;case 3:i.vertexAttrib3fv(k.location,Y);break;case 4:i.vertexAttrib4fv(k.location,Y);break;default:i.vertexAttrib1fv(k.location,Y)}}}}m()}function y(){w();for(const v in n){const B=n[v];for(const R in B){const T=B[R];for(const F in T)x(T[F].object),delete T[F];delete B[R]}delete n[v]}}function E(v){if(n[v.id]===void 0)return;const B=n[v.id];for(const R in B){const T=B[R];for(const F in T)x(T[F].object),delete T[F];delete B[R]}delete n[v.id]}function C(v){for(const B in n){const R=n[B];if(R[v.id]===void 0)continue;const T=R[v.id];for(const F in T)x(T[F].object),delete T[F];delete R[v.id]}}function w(){b(),a=!0,s!==r&&(s=r,c(s.object))}function b(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:w,resetDefaultState:b,dispose:y,releaseStatesOfGeometry:E,releaseStatesOfProgram:C,initAttributes:g,enableAttribute:d,disableUnusedAttributes:m}}function nY(i,e,t){let n;function r(c){n=c}function s(c,x){i.drawArrays(n,c,x),t.update(x,n,1)}function a(c,x,u){u!==0&&(i.drawArraysInstanced(n,c,x,u),t.update(x,n,u))}function o(c,x,u){if(u===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,c,0,x,0,u);let f=0;for(let A=0;A<u;A++)f+=x[A];t.update(f,n,1)}function l(c,x,u,h){if(u===0)return;const f=e.get("WEBGL_multi_draw");if(f===null)for(let A=0;A<c.length;A++)a(c[A],x[A],h[A]);else{f.multiDrawArraysInstancedWEBGL(n,c,0,x,0,h,0,u);let A=0;for(let g=0;g<u;g++)A+=x[g]*h[g];t.update(A,n,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function iY(i,e,t,n){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");r=i.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(C){return!(C!==os&&n.convert(C)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(C){const w=C===Df&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(C!==Ba&&n.convert(C)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&C!==Sa&&!w)}function l(C){if(C==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const x=l(c);x!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",x,"instead."),c=x);const u=t.logarithmicDepthBuffer===!0,h=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),f=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),A=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=i.getParameter(i.MAX_TEXTURE_SIZE),d=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),p=i.getParameter(i.MAX_VERTEX_ATTRIBS),m=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),I=i.getParameter(i.MAX_VARYING_VECTORS),_=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),y=A>0,E=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:u,reverseDepthBuffer:h,maxTextures:f,maxVertexTextures:A,maxTextureSize:g,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:m,maxVaryings:I,maxFragmentUniforms:_,vertexTextures:y,maxSamples:E}}function rY(i){const e=this;let t=null,n=0,r=!1,s=!1;const a=new j0,o=new at,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,h){const f=u.length!==0||h||n!==0||r;return r=h,n=u.length,f},this.beginShadows=function(){s=!0,x(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(u,h){t=x(u,h,0)},this.setState=function(u,h,f){const A=u.clippingPlanes,g=u.clipIntersection,d=u.clipShadows,p=i.get(u);if(!r||A===null||A.length===0||s&&!d)s?x(null):c();else{const m=s?0:n,I=m*4;let _=p.clippingState||null;l.value=_,_=x(A,h,I,f);for(let y=0;y!==I;++y)_[y]=t[y];p.clippingState=_,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=m}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function x(u,h,f,A){const g=u!==null?u.length:0;let d=null;if(g!==0){if(d=l.value,A!==!0||d===null){const p=f+g*4,m=h.matrixWorldInverse;o.getNormalMatrix(m),(d===null||d.length<p)&&(d=new Float32Array(p));for(let I=0,_=f;I!==g;++I,_+=4)a.copy(u[I]).applyMatrix4(m,o),a.normal.toArray(d,_),d[_+3]=a.constant}l.value=d,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,d}}function sY(i){let e=new WeakMap;function t(a,o){return o===Ob?a.mapping=tx:o===Gb&&(a.mapping=nx),a}function n(a){if(a&&a.isTexture){const o=a.mapping;if(o===Ob||o===Gb)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new OV(l.height);return c.fromEquirectangularTexture(i,a),e.set(a,c),a.addEventListener("dispose",r),t(c.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}const Sx=4,rR=[.125,.215,.35,.446,.526,.582],$0=20,Wv=new eR,sR=new Rt;let jv=null,Kv=0,Jv=0,Zv=!1;const ec=(1+Math.sqrt(5))/2,Mx=1/ec,aR=[new W(-ec,Mx,0),new W(ec,Mx,0),new W(-Mx,0,ec),new W(Mx,0,ec),new W(0,ec,-Mx),new W(0,ec,Mx),new W(-1,1,-1),new W(1,1,-1),new W(-1,1,1),new W(1,1,1)];class oR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){jv=this._renderer.getRenderTarget(),Kv=this._renderer.getActiveCubeFace(),Jv=this._renderer.getActiveMipmapLevel(),Zv=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=xR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=lR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(jv,Kv,Jv),this._renderer.xr.enabled=Zv,e.scissorTest=!1,D_(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===tx||e.mapping===nx?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),jv=this._renderer.getRenderTarget(),Kv=this._renderer.getActiveCubeFace(),Jv=this._renderer.getActiveMipmapLevel(),Zv=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Qr,minFilter:Qr,generateMipmaps:!1,type:Df,format:os,colorSpace:ax,depthBuffer:!1},r=cR(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=cR(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=aY(s)),this._blurMaterial=oY(s,e,t)}return r}_compileMaterial(e){const t=new Us(this._lodPlanes[0],e);this._renderer.compile(t,Wv)}_sceneToCubeUV(e,t,n,r){const o=new fs(90,1,t,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],x=this._renderer,u=x.autoClear,h=x.toneMapping;x.getClearColor(sR),x.toneMapping=ko,x.autoClear=!1;const f=new L8({name:"PMREM.Background",side:er,depthWrite:!1,depthTest:!1}),A=new Us(new Vf,f);let g=!1;const d=e.background;d?d.isColor&&(f.color.copy(d),e.background=null,g=!0):(f.color.copy(sR),g=!0);for(let p=0;p<6;p++){const m=p%3;m===0?(o.up.set(0,l[p],0),o.lookAt(c[p],0,0)):m===1?(o.up.set(0,0,l[p]),o.lookAt(0,c[p],0)):(o.up.set(0,l[p],0),o.lookAt(0,0,c[p]));const I=this._cubeSize;D_(r,m*I,p>2?I:0,I,I),x.setRenderTarget(r),g&&x.render(A,o),x.render(e,o)}A.geometry.dispose(),A.material.dispose(),x.toneMapping=h,x.autoClear=u,e.background=d}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===tx||e.mapping===nx;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=xR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=lR());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new Us(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;D_(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(a,Wv)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=aR[(r-s-1)%aR.length];this._blur(e,s-1,s,a,o)}t.autoClear=n}_blur(e,t,n,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",s),this._halfBlur(a,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const x=3,u=new Us(this._lodPlanes[r],c),h=c.uniforms,f=this._sizeLods[n]-1,A=isFinite(s)?Math.PI/(2*f):2*Math.PI/(2*$0-1),g=s/A,d=isFinite(s)?1+Math.floor(x*g):$0;d>$0&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${d} samples when the maximum is set to ${$0}`);const p=[];let m=0;for(let C=0;C<$0;++C){const w=C/g,b=Math.exp(-w*w/2);p.push(b),C===0?m+=b:C<d&&(m+=2*b)}for(let C=0;C<p.length;C++)p[C]=p[C]/m;h.envMap.value=e.texture,h.samples.value=d,h.weights.value=p,h.latitudinal.value=a==="latitudinal",o&&(h.poleAxis.value=o);const{_lodMax:I}=this;h.dTheta.value=A,h.mipInt.value=I-n;const _=this._sizeLods[r],y=3*_*(r>I-Sx?r-I+Sx:0),E=4*(this._cubeSize-_);D_(t,y,E,3*_,2*_),l.setRenderTarget(t),l.render(u,Wv)}}function aY(i){const e=[],t=[],n=[];let r=i;const s=i-Sx+1+rR.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let l=1/o;a>i-Sx?l=rR[a-i+Sx-1]:a===0&&(l=0),n.push(l);const c=1/(o-2),x=-c,u=1+c,h=[x,x,u,x,u,u,x,x,u,u,x,u],f=6,A=6,g=3,d=2,p=1,m=new Float32Array(g*A*f),I=new Float32Array(d*A*f),_=new Float32Array(p*A*f);for(let E=0;E<f;E++){const C=E%3*2/3-1,w=E>2?0:-1,b=[C,w,0,C+2/3,w,0,C+2/3,w+1,0,C,w,0,C+2/3,w+1,0,C,w+1,0];m.set(b,g*A*E),I.set(h,d*A*E);const v=[E,E,E,E,E,E];_.set(v,p*A*E)}const y=new ks;y.setAttribute("position",new hs(m,g)),y.setAttribute("uv",new hs(I,d)),y.setAttribute("faceIndex",new hs(_,p)),e.push(y),r>Sx&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function cR(i,e,t){const n=new q0(i,e,t);return n.texture.mapping=$2,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function D_(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function oY(i,e,t){const n=new Float32Array($0),r=new W(0,1,0);return new Ua({name:"SphericalGaussianBlur",defines:{n:$0,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:$v(),fragmentShader:`
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
<<<<<<< HEAD
		`,blending:Io,depthTest:!1,depthWrite:!1})}function cM(){return new va({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:PC(),fragmentShader:`
=======
		`,blending:Po,depthTest:!1,depthWrite:!1})}function lR(){return new Ua({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:$v(),fragmentShader:`
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
<<<<<<< HEAD
		`,blending:Io,depthTest:!1,depthWrite:!1})}function lM(){return new va({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:PC(),fragmentShader:`
=======
		`,blending:Po,depthTest:!1,depthWrite:!1})}function xR(){return new Ua({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:$v(),fragmentShader:`
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
<<<<<<< HEAD
		`,blending:Io,depthTest:!1,depthWrite:!1})}function PC(){return`
=======
		`,blending:Po,depthTest:!1,depthWrite:!1})}function $v(){return`
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
<<<<<<< HEAD
	`}function pz(i){let t=new WeakMap,e=null;function n(o){if(o&&o.isTexture){const l=o.mapping,c=l===Cb||l===vb,x=l===Bl||l===Sl;if(c||x){let u=t.get(o);const f=u!==void 0?u.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==f)return e===null&&(e=new aM(i)),u=c?e.fromEquirectangular(o,u):e.fromCubemap(o,u),u.texture.pmremVersion=o.pmremVersion,t.set(o,u),u.texture;if(u!==void 0)return u.texture;{const h=o.image;return c&&h&&h.height>0||x&&h&&r(h)?(e===null&&(e=new aM(i)),u=c?e.fromEquirectangular(o):e.fromCubemap(o),u.texture.pmremVersion=o.pmremVersion,t.set(o,u),o.addEventListener("dispose",s),u.texture):null}}}return o}function r(o){let l=0;const c=6;for(let x=0;x<c;x++)o[x]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=t.get(l);c!==void 0&&(t.delete(l),c.dispose())}function a(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:n,dispose:a}}function gz(i){const t={};function e(n){if(t[n]!==void 0)return t[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return t[n]=r,r}return{has:function(n){return e(n)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(n){const r=e(n);return r===null&&Fl("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function mz(i,t,e,n){const r={},s=new WeakMap;function a(u){const f=u.target;f.index!==null&&t.remove(f.index);for(const A in f.attributes)t.remove(f.attributes[A]);f.removeEventListener("dispose",a),delete r[f.id];const h=s.get(f);h&&(t.remove(h),s.delete(f)),n.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,e.memory.geometries--}function o(u,f){return r[f.id]===!0||(f.addEventListener("dispose",a),r[f.id]=!0,e.memory.geometries++),f}function l(u){const f=u.attributes;for(const h in f)t.update(f[h],i.ARRAY_BUFFER)}function c(u){const f=[],h=u.index,A=u.attributes.position;let p=0;if(h!==null){const m=h.array;p=h.version;for(let _=0,I=m.length;_<I;_+=3){const y=m[_+0],E=m[_+1],b=m[_+2];f.push(y,E,E,b,b,y)}}else if(A!==void 0){const m=A.array;p=A.version;for(let _=0,I=m.length/3-1;_<I;_+=3){const y=_+0,E=_+1,b=_+2;f.push(y,E,E,b,b,y)}}else return;const d=new(g5(f)?k5:F5)(f,1);d.version=p;const g=s.get(u);g&&t.remove(g),s.set(u,d)}function x(u){const f=s.get(u);if(f){const h=u.index;h!==null&&f.version<h.version&&c(u)}else c(u);return s.get(u)}return{get:o,update:l,getWireframeAttribute:x}}function _z(i,t,e){let n;function r(f){n=f}let s,a;function o(f){s=f.type,a=f.bytesPerElement}function l(f,h){i.drawElements(n,h,s,f*a),e.update(h,n,1)}function c(f,h,A){A!==0&&(i.drawElementsInstanced(n,h,s,f*a,A),e.update(h,n,A))}function x(f,h,A){if(A===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,h,0,s,f,0,A);let d=0;for(let g=0;g<A;g++)d+=h[g];e.update(d,n,1)}function u(f,h,A,p){if(A===0)return;const d=t.get("WEBGL_multi_draw");if(d===null)for(let g=0;g<f.length;g++)c(f[g]/a,h[g],p[g]);else{d.multiDrawElementsInstancedWEBGL(n,h,0,s,f,0,p,0,A);let g=0;for(let m=0;m<A;m++)g+=h[m]*p[m];e.update(g,n,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=x,this.renderMultiDrawInstances=u}function Iz(i){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,a,o){switch(e.calls++,a){case i.TRIANGLES:e.triangles+=o*(s/3);break;case i.LINES:e.lines+=o*(s/2);break;case i.LINE_STRIP:e.lines+=o*(s-1);break;case i.LINE_LOOP:e.lines+=o*s;break;case i.POINTS:e.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:r,update:n}}function Ez(i,t,e){const n=new WeakMap,r=new nn;function s(a,o,l){const c=a.morphTargetInfluences,x=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,u=x!==void 0?x.length:0;let f=n.get(o);if(f===void 0||f.count!==u){let C=function(){b.dispose(),n.delete(o),o.removeEventListener("dispose",C)};f!==void 0&&f.texture.dispose();const h=o.morphAttributes.position!==void 0,A=o.morphAttributes.normal!==void 0,p=o.morphAttributes.color!==void 0,d=o.morphAttributes.position||[],g=o.morphAttributes.normal||[],m=o.morphAttributes.color||[];let _=0;h===!0&&(_=1),A===!0&&(_=2),p===!0&&(_=3);let I=o.attributes.position.count*_,y=1;I>t.maxTextureSize&&(y=Math.ceil(I/t.maxTextureSize),I=t.maxTextureSize);const E=new Float32Array(I*y*4*u),b=new y5(E,I,y,u);b.type=da,b.needsUpdate=!0;const w=_*4;for(let v=0;v<u;v++){const B=d[v],S=g[v],T=m[v],Q=I*y*4*v;for(let M=0;M<B.count;M++){const D=M*w;h===!0&&(r.fromBufferAttribute(B,M),E[Q+D+0]=r.x,E[Q+D+1]=r.y,E[Q+D+2]=r.z,E[Q+D+3]=0),A===!0&&(r.fromBufferAttribute(S,M),E[Q+D+4]=r.x,E[Q+D+5]=r.y,E[Q+D+6]=r.z,E[Q+D+7]=0),p===!0&&(r.fromBufferAttribute(T,M),E[Q+D+8]=r.x,E[Q+D+9]=r.y,E[Q+D+10]=r.z,E[Q+D+11]=T.itemSize===4?r.w:1)}}f={count:u,texture:b,size:new Ct(I,y)},n.set(o,f),o.addEventListener("dispose",C)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(i,"morphTexture",a.morphTexture,e);else{let h=0;for(let p=0;p<c.length;p++)h+=c[p];const A=o.morphTargetsRelative?1:1-h;l.getUniforms().setValue(i,"morphTargetBaseInfluence",A),l.getUniforms().setValue(i,"morphTargetInfluences",c)}l.getUniforms().setValue(i,"morphTargetsTexture",f.texture,e),l.getUniforms().setValue(i,"morphTargetsTextureSize",f.size)}return{update:s}}function yz(i,t,e,n){let r=new WeakMap;function s(l){const c=n.render.frame,x=l.geometry,u=t.get(l,x);if(r.get(u)!==c&&(t.update(u),r.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==c&&(e.update(l.instanceMatrix,i.ARRAY_BUFFER),l.instanceColor!==null&&e.update(l.instanceColor,i.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;r.get(f)!==c&&(f.update(),r.set(f,c))}return u}function a(){r=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),e.remove(c.instanceMatrix),c.instanceColor!==null&&e.remove(c.instanceColor)}return{update:s,dispose:a}}const xM=new Si,uM=new j5(1,1),fM=new y5,hM=new DN,AM=new H5,dM=[],pM=[],gM=new Float32Array(16),mM=new Float32Array(9),_M=new Float32Array(4);function nx(i,t,e){const n=i[0];if(n<=0||n>0)return i;const r=t*e;let s=dM[r];if(s===void 0&&(s=new Float32Array(r),dM[r]=s),t!==0){n.toArray(s,0);for(let a=1,o=0;a!==t;++a)o+=e,i[a].toArray(s,o)}return s}function Gn(i,t){if(i.length!==t.length)return!1;for(let e=0,n=i.length;e<n;e++)if(i[e]!==t[e])return!1;return!0}function zn(i,t){for(let e=0,n=t.length;e<n;e++)i[e]=t[e]}function z_(i,t){let e=pM[t];e===void 0&&(e=new Int32Array(t),pM[t]=e);for(let n=0;n!==t;++n)e[n]=i.allocateTextureUnit();return e}function bz(i,t){const e=this.cache;e[0]!==t&&(i.uniform1f(this.addr,t),e[0]=t)}function Cz(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Gn(e,t))return;i.uniform2fv(this.addr,t),zn(e,t)}}function vz(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(i.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(Gn(e,t))return;i.uniform3fv(this.addr,t),zn(e,t)}}function wz(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Gn(e,t))return;i.uniform4fv(this.addr,t),zn(e,t)}}function Bz(i,t){const e=this.cache,n=t.elements;if(n===void 0){if(Gn(e,t))return;i.uniformMatrix2fv(this.addr,!1,t),zn(e,t)}else{if(Gn(e,n))return;_M.set(n),i.uniformMatrix2fv(this.addr,!1,_M),zn(e,n)}}function Sz(i,t){const e=this.cache,n=t.elements;if(n===void 0){if(Gn(e,t))return;i.uniformMatrix3fv(this.addr,!1,t),zn(e,t)}else{if(Gn(e,n))return;mM.set(n),i.uniformMatrix3fv(this.addr,!1,mM),zn(e,n)}}function Mz(i,t){const e=this.cache,n=t.elements;if(n===void 0){if(Gn(e,t))return;i.uniformMatrix4fv(this.addr,!1,t),zn(e,t)}else{if(Gn(e,n))return;gM.set(n),i.uniformMatrix4fv(this.addr,!1,gM),zn(e,n)}}function Rz(i,t){const e=this.cache;e[0]!==t&&(i.uniform1i(this.addr,t),e[0]=t)}function Tz(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Gn(e,t))return;i.uniform2iv(this.addr,t),zn(e,t)}}function Dz(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(Gn(e,t))return;i.uniform3iv(this.addr,t),zn(e,t)}}function Qz(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Gn(e,t))return;i.uniform4iv(this.addr,t),zn(e,t)}}function Lz(i,t){const e=this.cache;e[0]!==t&&(i.uniform1ui(this.addr,t),e[0]=t)}function Fz(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Gn(e,t))return;i.uniform2uiv(this.addr,t),zn(e,t)}}function kz(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(Gn(e,t))return;i.uniform3uiv(this.addr,t),zn(e,t)}}function Pz(i,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Gn(e,t))return;i.uniform4uiv(this.addr,t),zn(e,t)}}function Uz(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let s;this.type===i.SAMPLER_2D_SHADOW?(uM.compareFunction=A5,s=uM):s=xM,e.setTexture2D(t||s,r)}function Nz(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture3D(t||hM,r)}function Oz(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTextureCube(t||AM,r)}function Gz(i,t,e){const n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture2DArray(t||fM,r)}function zz(i){switch(i){case 5126:return bz;case 35664:return Cz;case 35665:return vz;case 35666:return wz;case 35674:return Bz;case 35675:return Sz;case 35676:return Mz;case 5124:case 35670:return Rz;case 35667:case 35671:return Tz;case 35668:case 35672:return Dz;case 35669:case 35673:return Qz;case 5125:return Lz;case 36294:return Fz;case 36295:return kz;case 36296:return Pz;case 35678:case 36198:case 36298:case 36306:case 35682:return Uz;case 35679:case 36299:case 36307:return Nz;case 35680:case 36300:case 36308:case 36293:return Oz;case 36289:case 36303:case 36311:case 36292:return Gz}}function Vz(i,t){i.uniform1fv(this.addr,t)}function Hz(i,t){const e=nx(t,this.size,2);i.uniform2fv(this.addr,e)}function qz(i,t){const e=nx(t,this.size,3);i.uniform3fv(this.addr,e)}function Yz(i,t){const e=nx(t,this.size,4);i.uniform4fv(this.addr,e)}function Wz(i,t){const e=nx(t,this.size,4);i.uniformMatrix2fv(this.addr,!1,e)}function Xz(i,t){const e=nx(t,this.size,9);i.uniformMatrix3fv(this.addr,!1,e)}function Kz(i,t){const e=nx(t,this.size,16);i.uniformMatrix4fv(this.addr,!1,e)}function Jz(i,t){i.uniform1iv(this.addr,t)}function jz(i,t){i.uniform2iv(this.addr,t)}function Zz(i,t){i.uniform3iv(this.addr,t)}function $z(i,t){i.uniform4iv(this.addr,t)}function eV(i,t){i.uniform1uiv(this.addr,t)}function tV(i,t){i.uniform2uiv(this.addr,t)}function nV(i,t){i.uniform3uiv(this.addr,t)}function iV(i,t){i.uniform4uiv(this.addr,t)}function rV(i,t,e){const n=this.cache,r=t.length,s=z_(e,r);Gn(n,s)||(i.uniform1iv(this.addr,s),zn(n,s));for(let a=0;a!==r;++a)e.setTexture2D(t[a]||xM,s[a])}function sV(i,t,e){const n=this.cache,r=t.length,s=z_(e,r);Gn(n,s)||(i.uniform1iv(this.addr,s),zn(n,s));for(let a=0;a!==r;++a)e.setTexture3D(t[a]||hM,s[a])}function aV(i,t,e){const n=this.cache,r=t.length,s=z_(e,r);Gn(n,s)||(i.uniform1iv(this.addr,s),zn(n,s));for(let a=0;a!==r;++a)e.setTextureCube(t[a]||AM,s[a])}function oV(i,t,e){const n=this.cache,r=t.length,s=z_(e,r);Gn(n,s)||(i.uniform1iv(this.addr,s),zn(n,s));for(let a=0;a!==r;++a)e.setTexture2DArray(t[a]||fM,s[a])}function cV(i){switch(i){case 5126:return Vz;case 35664:return Hz;case 35665:return qz;case 35666:return Yz;case 35674:return Wz;case 35675:return Xz;case 35676:return Kz;case 5124:case 35670:return Jz;case 35667:case 35671:return jz;case 35668:case 35672:return Zz;case 35669:case 35673:return $z;case 5125:return eV;case 36294:return tV;case 36295:return nV;case 36296:return iV;case 35678:case 36198:case 36298:case 36306:case 35682:return rV;case 35679:case 36299:case 36307:return sV;case 35680:case 36300:case 36308:case 36293:return aV;case 36289:case 36303:case 36311:case 36292:return oV}}class lV{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.setValue=zz(e.type)}}class xV{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=cV(e.type)}}class uV{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(t,e[o.id],n)}}}const UC=/(\w+)(\])?(\[|\.)?/g;function IM(i,t){i.seq.push(t),i.map[t.id]=t}function fV(i,t,e){const n=i.name,r=n.length;for(UC.lastIndex=0;;){const s=UC.exec(n),a=UC.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===r){IM(e,c===void 0?new lV(o,i,t):new xV(o,i,t));break}else{let u=e.map[o];u===void 0&&(u=new uV(o),IM(e,u)),e=u}}}class V_{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const s=t.getActiveUniform(e,r),a=t.getUniformLocation(e,s.name);fV(s,a,this)}}setValue(t,e,n,r){const s=this.map[e];s!==void 0&&s.setValue(t,n,r)}setOptional(t,e,n){const r=e[n];r!==void 0&&this.setValue(t,n,r)}static upload(t,e,n,r){for(let s=0,a=e.length;s!==a;++s){const o=e[s],l=n[o.id];l.needsUpdate!==!1&&o.setValue(t,l.value,r)}}static seqWithValue(t,e){const n=[];for(let r=0,s=t.length;r!==s;++r){const a=t[r];a.id in e&&n.push(a)}return n}}function EM(i,t,e){const n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),n}const hV=37297;let AV=0;function dV(i,t){const e=i.split(`
`),n=[],r=Math.max(t-6,0),s=Math.min(t+6,e.length);for(let a=r;a<s;a++){const o=a+1;n.push(`${o===t?">":" "} ${o}: ${e[a]}`)}return n.join(`
`)}const yM=new ct;function pV(i){Dt._getMatrix(yM,Dt.workingColorSpace,i);const t=`mat3( ${yM.elements.map(e=>e.toFixed(4))} )`;switch(Dt.getTransfer(i)){case d_:return[t,"LinearTransferOETF"];case $t:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",i),[t,"LinearTransferOETF"]}}function bM(i,t,e){const n=i.getShaderParameter(t,i.COMPILE_STATUS),r=i.getShaderInfoLog(t).trim();if(n&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return e.toUpperCase()+`

`+r+`

`+dV(i.getShaderSource(t),a)}else return r}function gV(i,t){const e=pV(t);return[`vec4 ${i}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}function mV(i,t){let e;switch(t){case GU:e="Linear";break;case zU:e="Reinhard";break;case VU:e="Cineon";break;case HU:e="ACESFilmic";break;case YU:e="AgX";break;case WU:e="Neutral";break;case qU:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+i+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const H_=new X;function _V(){Dt.getLuminanceCoefficients(H_);const i=H_.x.toFixed(4),t=H_.y.toFixed(4),e=H_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function IV(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ah).join(`
`)}function EV(i){const t=[];for(const e in i){const n=i[e];n!==!1&&t.push("#define "+e+" "+n)}return t.join(`
`)}function yV(i,t){const e={},n=i.getProgramParameter(t,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const s=i.getActiveAttrib(t,r),a=s.name;let o=1;s.type===i.FLOAT_MAT2&&(o=2),s.type===i.FLOAT_MAT3&&(o=3),s.type===i.FLOAT_MAT4&&(o=4),e[a]={type:s.type,location:i.getAttribLocation(t,a),locationSize:o}}return e}function Ah(i){return i!==""}function CM(i,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function vM(i,t){return i.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const bV=/^[ \t]*#include +<([\w\d./]+)>/gm;function NC(i){return i.replace(bV,vV)}const CV=new Map;function vV(i,t){let e=ut[t];if(e===void 0){const n=CV.get(t);if(n!==void 0)e=ut[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,n);else throw new Error("Can not resolve #include <"+t+">")}return NC(e)}const wV=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function wM(i){return i.replace(wV,BV)}function BV(i,t,e,n){let r="";for(let s=parseInt(t);s<parseInt(e);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function BM(i){let t=`precision ${i.precision} float;
=======
	`}function cY(i){let e=new WeakMap,t=null;function n(o){if(o&&o.isTexture){const l=o.mapping,c=l===Ob||l===Gb,x=l===tx||l===nx;if(c||x){let u=e.get(o);const h=u!==void 0?u.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==h)return t===null&&(t=new oR(i)),u=c?t.fromEquirectangular(o,u):t.fromCubemap(o,u),u.texture.pmremVersion=o.pmremVersion,e.set(o,u),u.texture;if(u!==void 0)return u.texture;{const f=o.image;return c&&f&&f.height>0||x&&f&&r(f)?(t===null&&(t=new oR(i)),u=c?t.fromEquirectangular(o):t.fromCubemap(o),u.texture.pmremVersion=o.pmremVersion,e.set(o,u),o.addEventListener("dispose",s),u.texture):null}}}return o}function r(o){let l=0;const c=6;for(let x=0;x<c;x++)o[x]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:a}}function lY(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const r=t(n);return r===null&&lx("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function xY(i,e,t,n){const r={},s=new WeakMap;function a(u){const h=u.target;h.index!==null&&e.remove(h.index);for(const A in h.attributes)e.remove(h.attributes[A]);h.removeEventListener("dispose",a),delete r[h.id];const f=s.get(h);f&&(e.remove(f),s.delete(h)),n.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function o(u,h){return r[h.id]===!0||(h.addEventListener("dispose",a),r[h.id]=!0,t.memory.geometries++),h}function l(u){const h=u.attributes;for(const f in h)e.update(h[f],i.ARRAY_BUFFER)}function c(u){const h=[],f=u.index,A=u.attributes.position;let g=0;if(f!==null){const m=f.array;g=f.version;for(let I=0,_=m.length;I<_;I+=3){const y=m[I+0],E=m[I+1],C=m[I+2];h.push(y,E,E,C,C,y)}}else if(A!==void 0){const m=A.array;g=A.version;for(let I=0,_=m.length/3-1;I<_;I+=3){const y=I+0,E=I+1,C=I+2;h.push(y,E,E,C,C,y)}}else return;const d=new(m8(h)?k8:P8)(h,1);d.version=g;const p=s.get(u);p&&e.remove(p),s.set(u,d)}function x(u){const h=s.get(u);if(h){const f=u.index;f!==null&&h.version<f.version&&c(u)}else c(u);return s.get(u)}return{get:o,update:l,getWireframeAttribute:x}}function uY(i,e,t){let n;function r(h){n=h}let s,a;function o(h){s=h.type,a=h.bytesPerElement}function l(h,f){i.drawElements(n,f,s,h*a),t.update(f,n,1)}function c(h,f,A){A!==0&&(i.drawElementsInstanced(n,f,s,h*a,A),t.update(f,n,A))}function x(h,f,A){if(A===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,f,0,s,h,0,A);let d=0;for(let p=0;p<A;p++)d+=f[p];t.update(d,n,1)}function u(h,f,A,g){if(A===0)return;const d=e.get("WEBGL_multi_draw");if(d===null)for(let p=0;p<h.length;p++)c(h[p]/a,f[p],g[p]);else{d.multiDrawElementsInstancedWEBGL(n,f,0,s,h,0,g,0,A);let p=0;for(let m=0;m<A;m++)p+=f[m]*g[m];t.update(p,n,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=x,this.renderMultiDrawInstances=u}function hY(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,a,o){switch(t.calls++,a){case i.TRIANGLES:t.triangles+=o*(s/3);break;case i.LINES:t.lines+=o*(s/2);break;case i.LINE_STRIP:t.lines+=o*(s-1);break;case i.LINE_LOOP:t.lines+=o*s;break;case i.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function fY(i,e,t){const n=new WeakMap,r=new cn;function s(a,o,l){const c=a.morphTargetInfluences,x=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,u=x!==void 0?x.length:0;let h=n.get(o);if(h===void 0||h.count!==u){let b=function(){C.dispose(),n.delete(o),o.removeEventListener("dispose",b)};h!==void 0&&h.texture.dispose();const f=o.morphAttributes.position!==void 0,A=o.morphAttributes.normal!==void 0,g=o.morphAttributes.color!==void 0,d=o.morphAttributes.position||[],p=o.morphAttributes.normal||[],m=o.morphAttributes.color||[];let I=0;f===!0&&(I=1),A===!0&&(I=2),g===!0&&(I=3);let _=o.attributes.position.count*I,y=1;_>e.maxTextureSize&&(y=Math.ceil(_/e.maxTextureSize),_=e.maxTextureSize);const E=new Float32Array(_*y*4*u),C=new C8(E,_,y,u);C.type=Sa,C.needsUpdate=!0;const w=I*4;for(let v=0;v<u;v++){const B=d[v],R=p[v],T=m[v],F=_*y*4*v;for(let M=0;M<B.count;M++){const D=M*w;f===!0&&(r.fromBufferAttribute(B,M),E[F+D+0]=r.x,E[F+D+1]=r.y,E[F+D+2]=r.z,E[F+D+3]=0),A===!0&&(r.fromBufferAttribute(R,M),E[F+D+4]=r.x,E[F+D+5]=r.y,E[F+D+6]=r.z,E[F+D+7]=0),g===!0&&(r.fromBufferAttribute(T,M),E[F+D+8]=r.x,E[F+D+9]=r.y,E[F+D+10]=r.z,E[F+D+11]=T.itemSize===4?r.w:1)}}h={count:u,texture:C,size:new It(_,y)},n.set(o,h),o.addEventListener("dispose",b)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(i,"morphTexture",a.morphTexture,t);else{let f=0;for(let g=0;g<c.length;g++)f+=c[g];const A=o.morphTargetsRelative?1:1-f;l.getUniforms().setValue(i,"morphTargetBaseInfluence",A),l.getUniforms().setValue(i,"morphTargetInfluences",c)}l.getUniforms().setValue(i,"morphTargetsTexture",h.texture,t),l.getUniforms().setValue(i,"morphTargetsTextureSize",h.size)}return{update:s}}function AY(i,e,t,n){let r=new WeakMap;function s(l){const c=n.render.frame,x=l.geometry,u=e.get(l,x);if(r.get(u)!==c&&(e.update(u),r.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==c&&(t.update(l.instanceMatrix,i.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,i.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==c&&(h.update(),r.set(h,c))}return u}function a(){r=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:a}}const uR=new Fi,hR=new Z8(1,1),fR=new C8,AR=new bV,dR=new q8,pR=[],gR=[],mR=new Float32Array(16),_R=new Float32Array(9),IR=new Float32Array(4);function Rx(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=pR[r];if(s===void 0&&(s=new Float32Array(r),pR[r]=s),e!==0){n.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,i[a].toArray(s,o)}return s}function jn(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function Kn(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function Q_(i,e){let t=gR[e];t===void 0&&(t=new Int32Array(e),gR[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function dY(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function pY(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(jn(t,e))return;i.uniform2fv(this.addr,e),Kn(t,e)}}function gY(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(jn(t,e))return;i.uniform3fv(this.addr,e),Kn(t,e)}}function mY(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(jn(t,e))return;i.uniform4fv(this.addr,e),Kn(t,e)}}function _Y(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(jn(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),Kn(t,e)}else{if(jn(t,n))return;IR.set(n),i.uniformMatrix2fv(this.addr,!1,IR),Kn(t,n)}}function IY(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(jn(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),Kn(t,e)}else{if(jn(t,n))return;_R.set(n),i.uniformMatrix3fv(this.addr,!1,_R),Kn(t,n)}}function EY(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(jn(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),Kn(t,e)}else{if(jn(t,n))return;mR.set(n),i.uniformMatrix4fv(this.addr,!1,mR),Kn(t,n)}}function yY(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function CY(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(jn(t,e))return;i.uniform2iv(this.addr,e),Kn(t,e)}}function bY(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(jn(t,e))return;i.uniform3iv(this.addr,e),Kn(t,e)}}function vY(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(jn(t,e))return;i.uniform4iv(this.addr,e),Kn(t,e)}}function wY(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function BY(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(jn(t,e))return;i.uniform2uiv(this.addr,e),Kn(t,e)}}function SY(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(jn(t,e))return;i.uniform3uiv(this.addr,e),Kn(t,e)}}function MY(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(jn(t,e))return;i.uniform4uiv(this.addr,e),Kn(t,e)}}function RY(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let s;this.type===i.SAMPLER_2D_SHADOW?(hR.compareFunction=d8,s=hR):s=uR,t.setTexture2D(e||s,r)}function TY(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||AR,r)}function DY(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||dR,r)}function QY(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||fR,r)}function FY(i){switch(i){case 5126:return dY;case 35664:return pY;case 35665:return gY;case 35666:return mY;case 35674:return _Y;case 35675:return IY;case 35676:return EY;case 5124:case 35670:return yY;case 35667:case 35671:return CY;case 35668:case 35672:return bY;case 35669:case 35673:return vY;case 5125:return wY;case 36294:return BY;case 36295:return SY;case 36296:return MY;case 35678:case 36198:case 36298:case 36306:case 35682:return RY;case 35679:case 36299:case 36307:return TY;case 35680:case 36300:case 36308:case 36293:return DY;case 36289:case 36303:case 36311:case 36292:return QY}}function LY(i,e){i.uniform1fv(this.addr,e)}function PY(i,e){const t=Rx(e,this.size,2);i.uniform2fv(this.addr,t)}function kY(i,e){const t=Rx(e,this.size,3);i.uniform3fv(this.addr,t)}function UY(i,e){const t=Rx(e,this.size,4);i.uniform4fv(this.addr,t)}function NY(i,e){const t=Rx(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function OY(i,e){const t=Rx(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function GY(i,e){const t=Rx(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function zY(i,e){i.uniform1iv(this.addr,e)}function VY(i,e){i.uniform2iv(this.addr,e)}function HY(i,e){i.uniform3iv(this.addr,e)}function qY(i,e){i.uniform4iv(this.addr,e)}function YY(i,e){i.uniform1uiv(this.addr,e)}function XY(i,e){i.uniform2uiv(this.addr,e)}function WY(i,e){i.uniform3uiv(this.addr,e)}function jY(i,e){i.uniform4uiv(this.addr,e)}function KY(i,e,t){const n=this.cache,r=e.length,s=Q_(t,r);jn(n,s)||(i.uniform1iv(this.addr,s),Kn(n,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||uR,s[a])}function JY(i,e,t){const n=this.cache,r=e.length,s=Q_(t,r);jn(n,s)||(i.uniform1iv(this.addr,s),Kn(n,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||AR,s[a])}function ZY(i,e,t){const n=this.cache,r=e.length,s=Q_(t,r);jn(n,s)||(i.uniform1iv(this.addr,s),Kn(n,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||dR,s[a])}function $Y(i,e,t){const n=this.cache,r=e.length,s=Q_(t,r);jn(n,s)||(i.uniform1iv(this.addr,s),Kn(n,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||fR,s[a])}function eX(i){switch(i){case 5126:return LY;case 35664:return PY;case 35665:return kY;case 35666:return UY;case 35674:return NY;case 35675:return OY;case 35676:return GY;case 5124:case 35670:return zY;case 35667:case 35671:return VY;case 35668:case 35672:return HY;case 35669:case 35673:return qY;case 5125:return YY;case 36294:return XY;case 36295:return WY;case 36296:return jY;case 35678:case 36198:case 36298:case 36306:case 35682:return KY;case 35679:case 36299:case 36307:return JY;case 35680:case 36300:case 36308:case 36293:return ZY;case 36289:case 36303:case 36311:case 36292:return $Y}}class tX{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=FY(t.type)}}class nX{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=eX(t.type)}}class iX{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],n)}}}const e3=/(\w+)(\])?(\[|\.)?/g;function ER(i,e){i.seq.push(e),i.map[e.id]=e}function rX(i,e,t){const n=i.name,r=n.length;for(e3.lastIndex=0;;){const s=e3.exec(n),a=e3.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===r){ER(t,c===void 0?new tX(o,i,e):new nX(o,i,e));break}else{let u=t.map[o];u===void 0&&(u=new iX(o),ER(t,u)),t=u}}}class F_{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);rX(s,a,this)}}setValue(e,t,n,r){const s=this.map[t];s!==void 0&&s.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=n[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&n.push(a)}return n}}function yR(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const sX=37297;let aX=0;function oX(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;n.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return n.join(`
`)}const CR=new at;function cX(i){Mt._getMatrix(CR,Mt.workingColorSpace,i);const e=`mat3( ${CR.elements.map(t=>t.toFixed(4))} )`;switch(Mt.getTransfer(i)){case a_:return[e,"LinearTransferOETF"];case $t:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function bR(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),r=i.getShaderInfoLog(e).trim();if(n&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+oX(i.getShaderSource(e),a)}else return r}function lX(i,e){const t=cX(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function xX(i,e){let t;switch(e){case Qz:t="Linear";break;case Fz:t="Reinhard";break;case Lz:t="Cineon";break;case Pz:t="ACESFilmic";break;case Uz:t="AgX";break;case Nz:t="Neutral";break;case kz:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const L_=new W;function uX(){Mt.getLuminanceCoefficients(L_);const i=L_.x.toFixed(4),e=L_.y.toFixed(4),t=L_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function hX(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Xf).join(`
`)}function fX(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function AX(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),a=s.name;let o=1;s.type===i.FLOAT_MAT2&&(o=2),s.type===i.FLOAT_MAT3&&(o=3),s.type===i.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:i.getAttribLocation(e,a),locationSize:o}}return t}function Xf(i){return i!==""}function vR(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function wR(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const dX=/^[ \t]*#include +<([\w\d./]+)>/gm;function t3(i){return i.replace(dX,gX)}const pX=new Map;function gX(i,e){let t=xt[e];if(t===void 0){const n=pX.get(e);if(n!==void 0)t=xt[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return t3(t)}const mX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function BR(i){return i.replace(mX,_X)}function _X(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function SR(i){let e=`precision ${i.precision} float;
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?t+=`
#define HIGH_PRECISION`:i.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function SV(i){let t="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===Z4?t="SHADOWMAP_TYPE_PCF":i.shadowMapType===IU?t="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===ua&&(t="SHADOWMAP_TYPE_VSM"),t}function MV(i){let t="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Bl:case Sl:t="ENVMAP_TYPE_CUBE";break;case c_:t="ENVMAP_TYPE_CUBE_UV";break}return t}function RV(i){let t="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case Sl:t="ENVMAP_MODE_REFRACTION";break}return t}function TV(i){let t="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case n5:t="ENVMAP_BLENDING_MULTIPLY";break;case NU:t="ENVMAP_BLENDING_MIX";break;case OU:t="ENVMAP_BLENDING_ADD";break}return t}function DV(i){const t=i.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:n,maxMip:e}}function QV(i,t,e,n){const r=i.getContext(),s=e.defines;let a=e.vertexShader,o=e.fragmentShader;const l=SV(e),c=MV(e),x=RV(e),u=TV(e),f=DV(e),h=IV(e),A=EV(s),p=r.createProgram();let d,g,m=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(d=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A].filter(Ah).join(`
`),d.length>0&&(d+=`
<<<<<<< HEAD
`),g=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A].filter(Ah).join(`
`),g.length>0&&(g+=`
`)):(d=[BM(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+x:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ah).join(`
`),g=[BM(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,A,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+c:"",e.envMap?"#define "+x:"",e.envMap?"#define "+u:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==Eo?"#define TONE_MAPPING":"",e.toneMapping!==Eo?ut.tonemapping_pars_fragment:"",e.toneMapping!==Eo?mV("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",ut.colorspace_pars_fragment,gV("linearToOutputTexel",e.outputColorSpace),_V(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(Ah).join(`
`)),a=NC(a),a=CM(a,e),a=vM(a,e),o=NC(o),o=CM(o,e),o=vM(o,e),a=wM(a),o=wM(o),e.isRawShaderMaterial!==!0&&(m=`#version 300 es
`,d=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
=======
`),p=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A].filter(Xf).join(`
`),p.length>0&&(p+=`
`)):(d=[SR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+x:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Xf).join(`
`),p=[SR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+x:"",t.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ko?"#define TONE_MAPPING":"",t.toneMapping!==ko?xt.tonemapping_pars_fragment:"",t.toneMapping!==ko?xX("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",xt.colorspace_pars_fragment,lX("linearToOutputTexel",t.outputColorSpace),uX(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Xf).join(`
`)),a=t3(a),a=vR(a,t),a=wR(a,t),o=t3(o),o=vR(o,t),o=wR(o,t),a=BR(a),o=BR(o),t.isRawShaderMaterial!==!0&&(m=`#version 300 es
`,d=[f,"#define attribute in","#define varying out","#define texture2D texture"].join(`
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3
`)+`
`+d,g=["#define varying in",e.glslVersion===d5?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===d5?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const _=m+d+a,I=m+g+o,y=EM(r,r.VERTEX_SHADER,_),E=EM(r,r.FRAGMENT_SHADER,I);r.attachShader(p,y),r.attachShader(p,E),e.index0AttributeName!==void 0?r.bindAttribLocation(p,0,e.index0AttributeName):e.morphTargets===!0&&r.bindAttribLocation(p,0,"position"),r.linkProgram(p);function b(B){if(i.debug.checkShaderErrors){const S=r.getProgramInfoLog(p).trim(),T=r.getShaderInfoLog(y).trim(),Q=r.getShaderInfoLog(E).trim();let M=!0,D=!0;if(r.getProgramParameter(p,r.LINK_STATUS)===!1)if(M=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,p,y,E);else{const U=bM(r,y,"vertex"),F=bM(r,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(p,r.VALIDATE_STATUS)+`

Material Name: `+B.name+`
Material Type: `+B.type+`

<<<<<<< HEAD
Program Info Log: `+S+`
`+U+`
`+F)}else S!==""?console.warn("THREE.WebGLProgram: Program Info Log:",S):(T===""||Q==="")&&(D=!1);D&&(B.diagnostics={runnable:M,programLog:S,vertexShader:{log:T,prefix:d},fragmentShader:{log:Q,prefix:g}})}r.deleteShader(y),r.deleteShader(E),w=new V_(r,p),C=yV(r,p)}let w;this.getUniforms=function(){return w===void 0&&b(this),w};let C;this.getAttributes=function(){return C===void 0&&b(this),C};let v=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return v===!1&&(v=r.getProgramParameter(p,hV)),v},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(p),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=AV++,this.cacheKey=t,this.usedTimes=1,this.program=p,this.vertexShader=y,this.fragmentShader=E,this}let LV=0;class FV{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,n=t.fragmentShader,r=this._getShaderStage(e),s=this._getShaderStage(n),a=this._getShaderCacheForMaterial(t);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let n=e.get(t);return n===void 0&&(n=new Set,e.set(t,n)),n}_getShaderStage(t){const e=this.shaderCache;let n=e.get(t);return n===void 0&&(n=new kV(t),e.set(t,n)),n}}class kV{constructor(t){this.id=LV++,this.code=t,this.usedTimes=0}}function PV(i,t,e,n,r,s,a){const o=new w5,l=new FV,c=new Set,x=[],u=r.logarithmicDepthBuffer,f=r.vertexTextures;let h=r.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(C){return c.add(C),C===0?"uv":`uv${C}`}function d(C,v,B,S,T){const Q=S.fog,M=T.geometry,D=C.isMeshStandardMaterial?S.environment:null,U=(C.isMeshStandardMaterial?e:t).get(C.envMap||D),F=U&&U.mapping===c_?U.image.height:null,z=A[C.type];C.precision!==null&&(h=r.getMaxPrecision(C.precision),h!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",h,"instead."));const H=M.morphAttributes.position||M.morphAttributes.normal||M.morphAttributes.color,P=H!==void 0?H.length:0;let Z=0;M.morphAttributes.position!==void 0&&(Z=1),M.morphAttributes.normal!==void 0&&(Z=2),M.morphAttributes.color!==void 0&&(Z=3);let ce,G,O,j;if(z){const st=Zi[z];ce=st.vertexShader,G=st.fragmentShader}else ce=C.vertexShader,G=C.fragmentShader,l.update(C),O=l.getVertexShaderID(C),j=l.getFragmentShaderID(C);const J=i.getRenderTarget(),le=i.state.buffers.depth.getReversed(),he=T.isInstancedMesh===!0,Ee=T.isBatchedMesh===!0,ae=!!C.map,Se=!!C.matcap,ft=!!U,N=!!C.aoMap,Lt=!!C.lightMap,Oe=!!C.bumpMap,Ne=!!C.normalMap,Be=!!C.displacementMap,Pe=!!C.emissiveMap,Te=!!C.metalnessMap,k=!!C.roughnessMap,R=C.anisotropy>0,W=C.clearcoat>0,se=C.dispersion>0,ne=C.iridescence>0,K=C.sheen>0,_e=C.transmission>0,Ae=R&&!!C.anisotropyMap,ue=W&&!!C.clearcoatMap,De=W&&!!C.clearcoatNormalMap,xe=W&&!!C.clearcoatRoughnessMap,ge=ne&&!!C.iridescenceMap,Le=ne&&!!C.iridescenceThicknessMap,Ue=K&&!!C.sheenColorMap,be=K&&!!C.sheenRoughnessMap,We=!!C.specularMap,Qe=!!C.specularColorMap,rt=!!C.specularIntensityMap,V=_e&&!!C.transmissionMap,me=_e&&!!C.thicknessMap,$=!!C.gradientMap,oe=!!C.alphaMap,we=C.alphaTest>0,ve=!!C.alphaHash,Ke=!!C.extensions;let an=Eo;C.toneMapped&&(J===null||J.isXRRenderTarget===!0)&&(an=i.toneMapping);const Vn={shaderID:z,shaderType:C.type,shaderName:C.name,vertexShader:ce,fragmentShader:G,defines:C.defines,customVertexShaderID:O,customFragmentShaderID:j,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:h,batching:Ee,batchingColor:Ee&&T._colorsTexture!==null,instancing:he,instancingColor:he&&T.instanceColor!==null,instancingMorph:he&&T.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:J===null?i.outputColorSpace:J.isXRRenderTarget===!0?J.texture.colorSpace:Dl,alphaToCoverage:!!C.alphaToCoverage,map:ae,matcap:Se,envMap:ft,envMapMode:ft&&U.mapping,envMapCubeUVHeight:F,aoMap:N,lightMap:Lt,bumpMap:Oe,normalMap:Ne,displacementMap:f&&Be,emissiveMap:Pe,normalMapObjectSpace:Ne&&C.normalMapType===ZU,normalMapTangentSpace:Ne&&C.normalMapType===jU,metalnessMap:Te,roughnessMap:k,anisotropy:R,anisotropyMap:Ae,clearcoat:W,clearcoatMap:ue,clearcoatNormalMap:De,clearcoatRoughnessMap:xe,dispersion:se,iridescence:ne,iridescenceMap:ge,iridescenceThicknessMap:Le,sheen:K,sheenColorMap:Ue,sheenRoughnessMap:be,specularMap:We,specularColorMap:Qe,specularIntensityMap:rt,transmission:_e,transmissionMap:V,thicknessMap:me,gradientMap:$,opaque:C.transparent===!1&&C.blending===vl&&C.alphaToCoverage===!1,alphaMap:oe,alphaTest:we,alphaHash:ve,combine:C.combine,mapUv:ae&&p(C.map.channel),aoMapUv:N&&p(C.aoMap.channel),lightMapUv:Lt&&p(C.lightMap.channel),bumpMapUv:Oe&&p(C.bumpMap.channel),normalMapUv:Ne&&p(C.normalMap.channel),displacementMapUv:Be&&p(C.displacementMap.channel),emissiveMapUv:Pe&&p(C.emissiveMap.channel),metalnessMapUv:Te&&p(C.metalnessMap.channel),roughnessMapUv:k&&p(C.roughnessMap.channel),anisotropyMapUv:Ae&&p(C.anisotropyMap.channel),clearcoatMapUv:ue&&p(C.clearcoatMap.channel),clearcoatNormalMapUv:De&&p(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:xe&&p(C.clearcoatRoughnessMap.channel),iridescenceMapUv:ge&&p(C.iridescenceMap.channel),iridescenceThicknessMapUv:Le&&p(C.iridescenceThicknessMap.channel),sheenColorMapUv:Ue&&p(C.sheenColorMap.channel),sheenRoughnessMapUv:be&&p(C.sheenRoughnessMap.channel),specularMapUv:We&&p(C.specularMap.channel),specularColorMapUv:Qe&&p(C.specularColorMap.channel),specularIntensityMapUv:rt&&p(C.specularIntensityMap.channel),transmissionMapUv:V&&p(C.transmissionMap.channel),thicknessMapUv:me&&p(C.thicknessMap.channel),alphaMapUv:oe&&p(C.alphaMap.channel),vertexTangents:!!M.attributes.tangent&&(Ne||R),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!M.attributes.color&&M.attributes.color.itemSize===4,pointsUvs:T.isPoints===!0&&!!M.attributes.uv&&(ae||oe),fog:!!Q,useFog:C.fog===!0,fogExp2:!!Q&&Q.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:u,reverseDepthBuffer:le,skinning:T.isSkinnedMesh===!0,morphTargets:M.morphAttributes.position!==void 0,morphNormals:M.morphAttributes.normal!==void 0,morphColors:M.morphAttributes.color!==void 0,morphTargetsCount:P,morphTextureStride:Z,numDirLights:v.directional.length,numPointLights:v.point.length,numSpotLights:v.spot.length,numSpotLightMaps:v.spotLightMap.length,numRectAreaLights:v.rectArea.length,numHemiLights:v.hemi.length,numDirLightShadows:v.directionalShadowMap.length,numPointLightShadows:v.pointShadowMap.length,numSpotLightShadows:v.spotShadowMap.length,numSpotLightShadowsWithMaps:v.numSpotLightShadowsWithMaps,numLightProbes:v.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:C.dithering,shadowMapEnabled:i.shadowMap.enabled&&B.length>0,shadowMapType:i.shadowMap.type,toneMapping:an,decodeVideoTexture:ae&&C.map.isVideoTexture===!0&&Dt.getTransfer(C.map.colorSpace)===$t,decodeVideoTextureEmissive:Pe&&C.emissiveMap.isVideoTexture===!0&&Dt.getTransfer(C.emissiveMap.colorSpace)===$t,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===fa,flipSided:C.side===Ji,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionClipCullDistance:Ke&&C.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ke&&C.extensions.multiDraw===!0||Ee)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:C.customProgramCacheKey()};return Vn.vertexUv1s=c.has(1),Vn.vertexUv2s=c.has(2),Vn.vertexUv3s=c.has(3),c.clear(),Vn}function g(C){const v=[];if(C.shaderID?v.push(C.shaderID):(v.push(C.customVertexShaderID),v.push(C.customFragmentShaderID)),C.defines!==void 0)for(const B in C.defines)v.push(B),v.push(C.defines[B]);return C.isRawShaderMaterial===!1&&(m(v,C),_(v,C),v.push(i.outputColorSpace)),v.push(C.customProgramCacheKey),v.join()}function m(C,v){C.push(v.precision),C.push(v.outputColorSpace),C.push(v.envMapMode),C.push(v.envMapCubeUVHeight),C.push(v.mapUv),C.push(v.alphaMapUv),C.push(v.lightMapUv),C.push(v.aoMapUv),C.push(v.bumpMapUv),C.push(v.normalMapUv),C.push(v.displacementMapUv),C.push(v.emissiveMapUv),C.push(v.metalnessMapUv),C.push(v.roughnessMapUv),C.push(v.anisotropyMapUv),C.push(v.clearcoatMapUv),C.push(v.clearcoatNormalMapUv),C.push(v.clearcoatRoughnessMapUv),C.push(v.iridescenceMapUv),C.push(v.iridescenceThicknessMapUv),C.push(v.sheenColorMapUv),C.push(v.sheenRoughnessMapUv),C.push(v.specularMapUv),C.push(v.specularColorMapUv),C.push(v.specularIntensityMapUv),C.push(v.transmissionMapUv),C.push(v.thicknessMapUv),C.push(v.combine),C.push(v.fogExp2),C.push(v.sizeAttenuation),C.push(v.morphTargetsCount),C.push(v.morphAttributeCount),C.push(v.numDirLights),C.push(v.numPointLights),C.push(v.numSpotLights),C.push(v.numSpotLightMaps),C.push(v.numHemiLights),C.push(v.numRectAreaLights),C.push(v.numDirLightShadows),C.push(v.numPointLightShadows),C.push(v.numSpotLightShadows),C.push(v.numSpotLightShadowsWithMaps),C.push(v.numLightProbes),C.push(v.shadowMapType),C.push(v.toneMapping),C.push(v.numClippingPlanes),C.push(v.numClipIntersection),C.push(v.depthPacking)}function _(C,v){o.disableAll(),v.supportsVertexTextures&&o.enable(0),v.instancing&&o.enable(1),v.instancingColor&&o.enable(2),v.instancingMorph&&o.enable(3),v.matcap&&o.enable(4),v.envMap&&o.enable(5),v.normalMapObjectSpace&&o.enable(6),v.normalMapTangentSpace&&o.enable(7),v.clearcoat&&o.enable(8),v.iridescence&&o.enable(9),v.alphaTest&&o.enable(10),v.vertexColors&&o.enable(11),v.vertexAlphas&&o.enable(12),v.vertexUv1s&&o.enable(13),v.vertexUv2s&&o.enable(14),v.vertexUv3s&&o.enable(15),v.vertexTangents&&o.enable(16),v.anisotropy&&o.enable(17),v.alphaHash&&o.enable(18),v.batching&&o.enable(19),v.dispersion&&o.enable(20),v.batchingColor&&o.enable(21),C.push(o.mask),o.disableAll(),v.fog&&o.enable(0),v.useFog&&o.enable(1),v.flatShading&&o.enable(2),v.logarithmicDepthBuffer&&o.enable(3),v.reverseDepthBuffer&&o.enable(4),v.skinning&&o.enable(5),v.morphTargets&&o.enable(6),v.morphNormals&&o.enable(7),v.morphColors&&o.enable(8),v.premultipliedAlpha&&o.enable(9),v.shadowMapEnabled&&o.enable(10),v.doubleSided&&o.enable(11),v.flipSided&&o.enable(12),v.useDepthPacking&&o.enable(13),v.dithering&&o.enable(14),v.transmission&&o.enable(15),v.sheen&&o.enable(16),v.opaque&&o.enable(17),v.pointsUvs&&o.enable(18),v.decodeVideoTexture&&o.enable(19),v.decodeVideoTextureEmissive&&o.enable(20),v.alphaToCoverage&&o.enable(21),C.push(o.mask)}function I(C){const v=A[C.type];let B;if(v){const S=Zi[v];B=SC.clone(S.uniforms)}else B=C.uniforms;return B}function y(C,v){let B;for(let S=0,T=x.length;S<T;S++){const Q=x[S];if(Q.cacheKey===v){B=Q,++B.usedTimes;break}}return B===void 0&&(B=new QV(i,v,C,s),x.push(B)),B}function E(C){if(--C.usedTimes===0){const v=x.indexOf(C);x[v]=x[x.length-1],x.pop(),C.destroy()}}function b(C){l.remove(C)}function w(){l.dispose()}return{getParameters:d,getProgramCacheKey:g,getUniforms:I,acquireProgram:y,releaseProgram:E,releaseShaderCache:b,programs:x,dispose:w}}function UV(){let i=new WeakMap;function t(a){return i.has(a)}function e(a){let o=i.get(a);return o===void 0&&(o={},i.set(a,o)),o}function n(a){i.delete(a)}function r(a,o,l){i.get(a)[o]=l}function s(){i=new WeakMap}return{has:t,get:e,remove:n,update:r,dispose:s}}function NV(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.material.id!==t.material.id?i.material.id-t.material.id:i.z!==t.z?i.z-t.z:i.id-t.id}function SM(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.z!==t.z?t.z-i.z:i.id-t.id}function MM(){const i=[];let t=0;const e=[],n=[],r=[];function s(){t=0,e.length=0,n.length=0,r.length=0}function a(u,f,h,A,p,d){let g=i[t];return g===void 0?(g={id:u.id,object:u,geometry:f,material:h,groupOrder:A,renderOrder:u.renderOrder,z:p,group:d},i[t]=g):(g.id=u.id,g.object=u,g.geometry=f,g.material=h,g.groupOrder=A,g.renderOrder=u.renderOrder,g.z=p,g.group=d),t++,g}function o(u,f,h,A,p,d){const g=a(u,f,h,A,p,d);h.transmission>0?n.push(g):h.transparent===!0?r.push(g):e.push(g)}function l(u,f,h,A,p,d){const g=a(u,f,h,A,p,d);h.transmission>0?n.unshift(g):h.transparent===!0?r.unshift(g):e.unshift(g)}function c(u,f){e.length>1&&e.sort(u||NV),n.length>1&&n.sort(f||SM),r.length>1&&r.sort(f||SM)}function x(){for(let u=t,f=i.length;u<f;u++){const h=i[u];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:e,transmissive:n,transparent:r,init:s,push:o,unshift:l,finish:x,sort:c}}function OV(){let i=new WeakMap;function t(n,r){const s=i.get(n);let a;return s===void 0?(a=new MM,i.set(n,[a])):r>=s.length?(a=new MM,s.push(a)):a=s[r],a}function e(){i=new WeakMap}return{get:t,dispose:e}}function GV(){const i={};return{get:function(t){if(i[t.id]!==void 0)return i[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new X,color:new Qt};break;case"SpotLight":e={position:new X,direction:new X,color:new Qt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new X,color:new Qt,distance:0,decay:0};break;case"HemisphereLight":e={direction:new X,skyColor:new Qt,groundColor:new Qt};break;case"RectAreaLight":e={color:new Qt,position:new X,halfWidth:new X,halfHeight:new X};break}return i[t.id]=e,e}}}function zV(){const i={};return{get:function(t){if(i[t.id]!==void 0)return i[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[t.id]=e,e}}}let VV=0;function HV(i,t){return(t.castShadow?2:0)-(i.castShadow?2:0)+(t.map?1:0)-(i.map?1:0)}function qV(i){const t=new GV,e=zV(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)n.probe.push(new X);const r=new X,s=new Cn,a=new Cn;function o(c){let x=0,u=0,f=0;for(let C=0;C<9;C++)n.probe[C].set(0,0,0);let h=0,A=0,p=0,d=0,g=0,m=0,_=0,I=0,y=0,E=0,b=0;c.sort(HV);for(let C=0,v=c.length;C<v;C++){const B=c[C],S=B.color,T=B.intensity,Q=B.distance,M=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)x+=S.r*T,u+=S.g*T,f+=S.b*T;else if(B.isLightProbe){for(let D=0;D<9;D++)n.probe[D].addScaledVector(B.sh.coefficients[D],T);b++}else if(B.isDirectionalLight){const D=t.get(B);if(D.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const U=B.shadow,F=e.get(B);F.shadowIntensity=U.intensity,F.shadowBias=U.bias,F.shadowNormalBias=U.normalBias,F.shadowRadius=U.radius,F.shadowMapSize=U.mapSize,n.directionalShadow[h]=F,n.directionalShadowMap[h]=M,n.directionalShadowMatrix[h]=B.shadow.matrix,m++}n.directional[h]=D,h++}else if(B.isSpotLight){const D=t.get(B);D.position.setFromMatrixPosition(B.matrixWorld),D.color.copy(S).multiplyScalar(T),D.distance=Q,D.coneCos=Math.cos(B.angle),D.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),D.decay=B.decay,n.spot[p]=D;const U=B.shadow;if(B.map&&(n.spotLightMap[y]=B.map,y++,U.updateMatrices(B),B.castShadow&&E++),n.spotLightMatrix[p]=U.matrix,B.castShadow){const F=e.get(B);F.shadowIntensity=U.intensity,F.shadowBias=U.bias,F.shadowNormalBias=U.normalBias,F.shadowRadius=U.radius,F.shadowMapSize=U.mapSize,n.spotShadow[p]=F,n.spotShadowMap[p]=M,I++}p++}else if(B.isRectAreaLight){const D=t.get(B);D.color.copy(S).multiplyScalar(T),D.halfWidth.set(B.width*.5,0,0),D.halfHeight.set(0,B.height*.5,0),n.rectArea[d]=D,d++}else if(B.isPointLight){const D=t.get(B);if(D.color.copy(B.color).multiplyScalar(B.intensity),D.distance=B.distance,D.decay=B.decay,B.castShadow){const U=B.shadow,F=e.get(B);F.shadowIntensity=U.intensity,F.shadowBias=U.bias,F.shadowNormalBias=U.normalBias,F.shadowRadius=U.radius,F.shadowMapSize=U.mapSize,F.shadowCameraNear=U.camera.near,F.shadowCameraFar=U.camera.far,n.pointShadow[A]=F,n.pointShadowMap[A]=M,n.pointShadowMatrix[A]=B.shadow.matrix,_++}n.point[A]=D,A++}else if(B.isHemisphereLight){const D=t.get(B);D.skyColor.copy(B.color).multiplyScalar(T),D.groundColor.copy(B.groundColor).multiplyScalar(T),n.hemi[g]=D,g++}}d>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Ce.LTC_FLOAT_1,n.rectAreaLTC2=Ce.LTC_FLOAT_2):(n.rectAreaLTC1=Ce.LTC_HALF_1,n.rectAreaLTC2=Ce.LTC_HALF_2)),n.ambient[0]=x,n.ambient[1]=u,n.ambient[2]=f;const w=n.hash;(w.directionalLength!==h||w.pointLength!==A||w.spotLength!==p||w.rectAreaLength!==d||w.hemiLength!==g||w.numDirectionalShadows!==m||w.numPointShadows!==_||w.numSpotShadows!==I||w.numSpotMaps!==y||w.numLightProbes!==b)&&(n.directional.length=h,n.spot.length=p,n.rectArea.length=d,n.point.length=A,n.hemi.length=g,n.directionalShadow.length=m,n.directionalShadowMap.length=m,n.pointShadow.length=_,n.pointShadowMap.length=_,n.spotShadow.length=I,n.spotShadowMap.length=I,n.directionalShadowMatrix.length=m,n.pointShadowMatrix.length=_,n.spotLightMatrix.length=I+y-E,n.spotLightMap.length=y,n.numSpotLightShadowsWithMaps=E,n.numLightProbes=b,w.directionalLength=h,w.pointLength=A,w.spotLength=p,w.rectAreaLength=d,w.hemiLength=g,w.numDirectionalShadows=m,w.numPointShadows=_,w.numSpotShadows=I,w.numSpotMaps=y,w.numLightProbes=b,n.version=VV++)}function l(c,x){let u=0,f=0,h=0,A=0,p=0;const d=x.matrixWorldInverse;for(let g=0,m=c.length;g<m;g++){const _=c[g];if(_.isDirectionalLight){const I=n.directional[u];I.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),I.direction.sub(r),I.direction.transformDirection(d),u++}else if(_.isSpotLight){const I=n.spot[h];I.position.setFromMatrixPosition(_.matrixWorld),I.position.applyMatrix4(d),I.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),I.direction.sub(r),I.direction.transformDirection(d),h++}else if(_.isRectAreaLight){const I=n.rectArea[A];I.position.setFromMatrixPosition(_.matrixWorld),I.position.applyMatrix4(d),a.identity(),s.copy(_.matrixWorld),s.premultiply(d),a.extractRotation(s),I.halfWidth.set(_.width*.5,0,0),I.halfHeight.set(0,_.height*.5,0),I.halfWidth.applyMatrix4(a),I.halfHeight.applyMatrix4(a),A++}else if(_.isPointLight){const I=n.point[f];I.position.setFromMatrixPosition(_.matrixWorld),I.position.applyMatrix4(d),f++}else if(_.isHemisphereLight){const I=n.hemi[p];I.direction.setFromMatrixPosition(_.matrixWorld),I.direction.transformDirection(d),p++}}}return{setup:o,setupView:l,state:n}}function RM(i){const t=new qV(i),e=[],n=[];function r(x){c.camera=x,e.length=0,n.length=0}function s(x){e.push(x)}function a(x){n.push(x)}function o(){t.setup(e)}function l(x){t.setupView(e,x)}const c={lightsArray:e,shadowsArray:n,camera:null,lights:t,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function YV(i){let t=new WeakMap;function e(r,s=0){const a=t.get(r);let o;return a===void 0?(o=new RM(i),t.set(r,[o])):s>=a.length?(o=new RM(i),a.push(o)):o=a[s],o}function n(){t=new WeakMap}return{get:e,dispose:n}}const WV=`void main() {
=======
Program Info Log: `+R+`
`+P+`
`+k)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(T===""||F==="")&&(D=!1);D&&(B.diagnostics={runnable:M,programLog:R,vertexShader:{log:T,prefix:d},fragmentShader:{log:F,prefix:p}})}r.deleteShader(y),r.deleteShader(E),w=new F_(r,g),b=AX(r,g)}let w;this.getUniforms=function(){return w===void 0&&C(this),w};let b;this.getAttributes=function(){return b===void 0&&C(this),b};let v=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return v===!1&&(v=r.getProgramParameter(g,sX)),v},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=aX++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=y,this.fragmentShader=E,this}let wX=0;class BX{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new SX(e),t.set(e,n)),n}}class SX{constructor(e){this.id=wX++,this.code=e,this.usedTimes=0}}function MX(i,e,t,n,r,s,a){const o=new B8,l=new BX,c=new Set,x=[],u=r.logarithmicDepthBuffer,h=r.vertexTextures;let f=r.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(b){return c.add(b),b===0?"uv":`uv${b}`}function d(b,v,B,R,T){const F=R.fog,M=T.geometry,D=b.isMeshStandardMaterial?R.environment:null,P=(b.isMeshStandardMaterial?t:e).get(b.envMap||D),k=P&&P.mapping===$2?P.image.height:null,V=A[b.type];b.precision!==null&&(f=r.getMaxPrecision(b.precision),f!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",f,"instead."));const Y=M.morphAttributes.position||M.morphAttributes.normal||M.morphAttributes.color,U=Y!==void 0?Y.length:0;let ne=0;M.morphAttributes.position!==void 0&&(ne=1),M.morphAttributes.normal!==void 0&&(ne=2),M.morphAttributes.color!==void 0&&(ne=3);let xe,G,O,ee;if(V){const dt=nr[V];xe=dt.vertexShader,G=dt.fragmentShader}else xe=b.vertexShader,G=b.fragmentShader,l.update(b),O=l.getVertexShaderID(b),ee=l.getFragmentShaderID(b);const K=i.getRenderTarget(),ce=i.state.buffers.depth.getReversed(),Ae=T.isInstancedMesh===!0,ge=T.isBatchedMesh===!0,oe=!!b.map,Se=!!b.matcap,At=!!P,N=!!b.aoMap,Nt=!!b.lightMap,ze=!!b.bumpMap,Ge=!!b.normalMap,Be=!!b.displacementMap,ke=!!b.emissiveMap,Re=!!b.metalnessMap,L=!!b.roughnessMap,S=b.anisotropy>0,X=b.clearcoat>0,se=b.dispersion>0,te=b.iridescence>0,j=b.sheen>0,Ie=b.transmission>0,fe=S&&!!b.anisotropyMap,ue=X&&!!b.clearcoatMap,Te=X&&!!b.clearcoatNormalMap,le=X&&!!b.clearcoatRoughnessMap,me=te&&!!b.iridescenceMap,Fe=te&&!!b.iridescenceThicknessMap,Ue=j&&!!b.sheenColorMap,ye=j&&!!b.sheenRoughnessMap,Xe=!!b.specularMap,Qe=!!b.specularColorMap,rt=!!b.specularIntensityMap,z=Ie&&!!b.transmissionMap,_e=Ie&&!!b.thicknessMap,J=!!b.gradientMap,re=!!b.alphaMap,we=b.alphaTest>0,ve=!!b.alphaHash,Ke=!!b.extensions;let un=ko;b.toneMapped&&(K===null||K.isXRRenderTarget===!0)&&(un=i.toneMapping);const jt={shaderID:V,shaderType:b.type,shaderName:b.name,vertexShader:xe,fragmentShader:G,defines:b.defines,customVertexShaderID:O,customFragmentShaderID:ee,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:f,batching:ge,batchingColor:ge&&T._colorsTexture!==null,instancing:Ae,instancingColor:Ae&&T.instanceColor!==null,instancingMorph:Ae&&T.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:K===null?i.outputColorSpace:K.isXRRenderTarget===!0?K.texture.colorSpace:ax,alphaToCoverage:!!b.alphaToCoverage,map:oe,matcap:Se,envMap:At,envMapMode:At&&P.mapping,envMapCubeUVHeight:k,aoMap:N,lightMap:Nt,bumpMap:ze,normalMap:Ge,displacementMap:h&&Be,emissiveMap:ke,normalMapObjectSpace:Ge&&b.normalMapType===Hz,normalMapTangentSpace:Ge&&b.normalMapType===Vz,metalnessMap:Re,roughnessMap:L,anisotropy:S,anisotropyMap:fe,clearcoat:X,clearcoatMap:ue,clearcoatNormalMap:Te,clearcoatRoughnessMap:le,dispersion:se,iridescence:te,iridescenceMap:me,iridescenceThicknessMap:Fe,sheen:j,sheenColorMap:Ue,sheenRoughnessMap:ye,specularMap:Xe,specularColorMap:Qe,specularIntensityMap:rt,transmission:Ie,transmissionMap:z,thicknessMap:_e,gradientMap:J,opaque:b.transparent===!1&&b.blending===$l&&b.alphaToCoverage===!1,alphaMap:re,alphaTest:we,alphaHash:ve,combine:b.combine,mapUv:oe&&g(b.map.channel),aoMapUv:N&&g(b.aoMap.channel),lightMapUv:Nt&&g(b.lightMap.channel),bumpMapUv:ze&&g(b.bumpMap.channel),normalMapUv:Ge&&g(b.normalMap.channel),displacementMapUv:Be&&g(b.displacementMap.channel),emissiveMapUv:ke&&g(b.emissiveMap.channel),metalnessMapUv:Re&&g(b.metalnessMap.channel),roughnessMapUv:L&&g(b.roughnessMap.channel),anisotropyMapUv:fe&&g(b.anisotropyMap.channel),clearcoatMapUv:ue&&g(b.clearcoatMap.channel),clearcoatNormalMapUv:Te&&g(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:le&&g(b.clearcoatRoughnessMap.channel),iridescenceMapUv:me&&g(b.iridescenceMap.channel),iridescenceThicknessMapUv:Fe&&g(b.iridescenceThicknessMap.channel),sheenColorMapUv:Ue&&g(b.sheenColorMap.channel),sheenRoughnessMapUv:ye&&g(b.sheenRoughnessMap.channel),specularMapUv:Xe&&g(b.specularMap.channel),specularColorMapUv:Qe&&g(b.specularColorMap.channel),specularIntensityMapUv:rt&&g(b.specularIntensityMap.channel),transmissionMapUv:z&&g(b.transmissionMap.channel),thicknessMapUv:_e&&g(b.thicknessMap.channel),alphaMapUv:re&&g(b.alphaMap.channel),vertexTangents:!!M.attributes.tangent&&(Ge||S),vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!M.attributes.color&&M.attributes.color.itemSize===4,pointsUvs:T.isPoints===!0&&!!M.attributes.uv&&(oe||re),fog:!!F,useFog:b.fog===!0,fogExp2:!!F&&F.isFogExp2,flatShading:b.flatShading===!0,sizeAttenuation:b.sizeAttenuation===!0,logarithmicDepthBuffer:u,reverseDepthBuffer:ce,skinning:T.isSkinnedMesh===!0,morphTargets:M.morphAttributes.position!==void 0,morphNormals:M.morphAttributes.normal!==void 0,morphColors:M.morphAttributes.color!==void 0,morphTargetsCount:U,morphTextureStride:ne,numDirLights:v.directional.length,numPointLights:v.point.length,numSpotLights:v.spot.length,numSpotLightMaps:v.spotLightMap.length,numRectAreaLights:v.rectArea.length,numHemiLights:v.hemi.length,numDirLightShadows:v.directionalShadowMap.length,numPointLightShadows:v.pointShadowMap.length,numSpotLightShadows:v.spotShadowMap.length,numSpotLightShadowsWithMaps:v.numSpotLightShadowsWithMaps,numLightProbes:v.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:b.dithering,shadowMapEnabled:i.shadowMap.enabled&&B.length>0,shadowMapType:i.shadowMap.type,toneMapping:un,decodeVideoTexture:oe&&b.map.isVideoTexture===!0&&Mt.getTransfer(b.map.colorSpace)===$t,decodeVideoTextureEmissive:ke&&b.emissiveMap.isVideoTexture===!0&&Mt.getTransfer(b.emissiveMap.colorSpace)===$t,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===va,flipSided:b.side===er,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionClipCullDistance:Ke&&b.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ke&&b.extensions.multiDraw===!0||ge)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:b.customProgramCacheKey()};return jt.vertexUv1s=c.has(1),jt.vertexUv2s=c.has(2),jt.vertexUv3s=c.has(3),c.clear(),jt}function p(b){const v=[];if(b.shaderID?v.push(b.shaderID):(v.push(b.customVertexShaderID),v.push(b.customFragmentShaderID)),b.defines!==void 0)for(const B in b.defines)v.push(B),v.push(b.defines[B]);return b.isRawShaderMaterial===!1&&(m(v,b),I(v,b),v.push(i.outputColorSpace)),v.push(b.customProgramCacheKey),v.join()}function m(b,v){b.push(v.precision),b.push(v.outputColorSpace),b.push(v.envMapMode),b.push(v.envMapCubeUVHeight),b.push(v.mapUv),b.push(v.alphaMapUv),b.push(v.lightMapUv),b.push(v.aoMapUv),b.push(v.bumpMapUv),b.push(v.normalMapUv),b.push(v.displacementMapUv),b.push(v.emissiveMapUv),b.push(v.metalnessMapUv),b.push(v.roughnessMapUv),b.push(v.anisotropyMapUv),b.push(v.clearcoatMapUv),b.push(v.clearcoatNormalMapUv),b.push(v.clearcoatRoughnessMapUv),b.push(v.iridescenceMapUv),b.push(v.iridescenceThicknessMapUv),b.push(v.sheenColorMapUv),b.push(v.sheenRoughnessMapUv),b.push(v.specularMapUv),b.push(v.specularColorMapUv),b.push(v.specularIntensityMapUv),b.push(v.transmissionMapUv),b.push(v.thicknessMapUv),b.push(v.combine),b.push(v.fogExp2),b.push(v.sizeAttenuation),b.push(v.morphTargetsCount),b.push(v.morphAttributeCount),b.push(v.numDirLights),b.push(v.numPointLights),b.push(v.numSpotLights),b.push(v.numSpotLightMaps),b.push(v.numHemiLights),b.push(v.numRectAreaLights),b.push(v.numDirLightShadows),b.push(v.numPointLightShadows),b.push(v.numSpotLightShadows),b.push(v.numSpotLightShadowsWithMaps),b.push(v.numLightProbes),b.push(v.shadowMapType),b.push(v.toneMapping),b.push(v.numClippingPlanes),b.push(v.numClipIntersection),b.push(v.depthPacking)}function I(b,v){o.disableAll(),v.supportsVertexTextures&&o.enable(0),v.instancing&&o.enable(1),v.instancingColor&&o.enable(2),v.instancingMorph&&o.enable(3),v.matcap&&o.enable(4),v.envMap&&o.enable(5),v.normalMapObjectSpace&&o.enable(6),v.normalMapTangentSpace&&o.enable(7),v.clearcoat&&o.enable(8),v.iridescence&&o.enable(9),v.alphaTest&&o.enable(10),v.vertexColors&&o.enable(11),v.vertexAlphas&&o.enable(12),v.vertexUv1s&&o.enable(13),v.vertexUv2s&&o.enable(14),v.vertexUv3s&&o.enable(15),v.vertexTangents&&o.enable(16),v.anisotropy&&o.enable(17),v.alphaHash&&o.enable(18),v.batching&&o.enable(19),v.dispersion&&o.enable(20),v.batchingColor&&o.enable(21),b.push(o.mask),o.disableAll(),v.fog&&o.enable(0),v.useFog&&o.enable(1),v.flatShading&&o.enable(2),v.logarithmicDepthBuffer&&o.enable(3),v.reverseDepthBuffer&&o.enable(4),v.skinning&&o.enable(5),v.morphTargets&&o.enable(6),v.morphNormals&&o.enable(7),v.morphColors&&o.enable(8),v.premultipliedAlpha&&o.enable(9),v.shadowMapEnabled&&o.enable(10),v.doubleSided&&o.enable(11),v.flipSided&&o.enable(12),v.useDepthPacking&&o.enable(13),v.dithering&&o.enable(14),v.transmission&&o.enable(15),v.sheen&&o.enable(16),v.opaque&&o.enable(17),v.pointsUvs&&o.enable(18),v.decodeVideoTexture&&o.enable(19),v.decodeVideoTextureEmissive&&o.enable(20),v.alphaToCoverage&&o.enable(21),b.push(o.mask)}function _(b){const v=A[b.type];let B;if(v){const R=nr[v];B=Hv.clone(R.uniforms)}else B=b.uniforms;return B}function y(b,v){let B;for(let R=0,T=x.length;R<T;R++){const F=x[R];if(F.cacheKey===v){B=F,++B.usedTimes;break}}return B===void 0&&(B=new vX(i,v,b,s),x.push(B)),B}function E(b){if(--b.usedTimes===0){const v=x.indexOf(b);x[v]=x[x.length-1],x.pop(),b.destroy()}}function C(b){l.remove(b)}function w(){l.dispose()}return{getParameters:d,getProgramCacheKey:p,getUniforms:_,acquireProgram:y,releaseProgram:E,releaseShaderCache:C,programs:x,dispose:w}}function RX(){let i=new WeakMap;function e(a){return i.has(a)}function t(a){let o=i.get(a);return o===void 0&&(o={},i.set(a,o)),o}function n(a){i.delete(a)}function r(a,o,l){i.get(a)[o]=l}function s(){i=new WeakMap}return{has:e,get:t,remove:n,update:r,dispose:s}}function TX(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function MR(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function RR(){const i=[];let e=0;const t=[],n=[],r=[];function s(){e=0,t.length=0,n.length=0,r.length=0}function a(u,h,f,A,g,d){let p=i[e];return p===void 0?(p={id:u.id,object:u,geometry:h,material:f,groupOrder:A,renderOrder:u.renderOrder,z:g,group:d},i[e]=p):(p.id=u.id,p.object=u,p.geometry=h,p.material=f,p.groupOrder=A,p.renderOrder=u.renderOrder,p.z=g,p.group=d),e++,p}function o(u,h,f,A,g,d){const p=a(u,h,f,A,g,d);f.transmission>0?n.push(p):f.transparent===!0?r.push(p):t.push(p)}function l(u,h,f,A,g,d){const p=a(u,h,f,A,g,d);f.transmission>0?n.unshift(p):f.transparent===!0?r.unshift(p):t.unshift(p)}function c(u,h){t.length>1&&t.sort(u||TX),n.length>1&&n.sort(h||MR),r.length>1&&r.sort(h||MR)}function x(){for(let u=e,h=i.length;u<h;u++){const f=i[u];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:t,transmissive:n,transparent:r,init:s,push:o,unshift:l,finish:x,sort:c}}function DX(){let i=new WeakMap;function e(n,r){const s=i.get(n);let a;return s===void 0?(a=new RR,i.set(n,[a])):r>=s.length?(a=new RR,s.push(a)):a=s[r],a}function t(){i=new WeakMap}return{get:e,dispose:t}}function QX(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new W,color:new Rt};break;case"SpotLight":t={position:new W,direction:new W,color:new Rt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new W,color:new Rt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new W,skyColor:new Rt,groundColor:new Rt};break;case"RectAreaLight":t={color:new Rt,position:new W,halfWidth:new W,halfHeight:new W};break}return i[e.id]=t,t}}}function FX(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new It};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new It};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new It,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let LX=0;function PX(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function kX(i){const e=new QX,t=FX(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)n.probe.push(new W);const r=new W,s=new Rn,a=new Rn;function o(c){let x=0,u=0,h=0;for(let b=0;b<9;b++)n.probe[b].set(0,0,0);let f=0,A=0,g=0,d=0,p=0,m=0,I=0,_=0,y=0,E=0,C=0;c.sort(PX);for(let b=0,v=c.length;b<v;b++){const B=c[b],R=B.color,T=B.intensity,F=B.distance,M=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)x+=R.r*T,u+=R.g*T,h+=R.b*T;else if(B.isLightProbe){for(let D=0;D<9;D++)n.probe[D].addScaledVector(B.sh.coefficients[D],T);C++}else if(B.isDirectionalLight){const D=e.get(B);if(D.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const P=B.shadow,k=t.get(B);k.shadowIntensity=P.intensity,k.shadowBias=P.bias,k.shadowNormalBias=P.normalBias,k.shadowRadius=P.radius,k.shadowMapSize=P.mapSize,n.directionalShadow[f]=k,n.directionalShadowMap[f]=M,n.directionalShadowMatrix[f]=B.shadow.matrix,m++}n.directional[f]=D,f++}else if(B.isSpotLight){const D=e.get(B);D.position.setFromMatrixPosition(B.matrixWorld),D.color.copy(R).multiplyScalar(T),D.distance=F,D.coneCos=Math.cos(B.angle),D.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),D.decay=B.decay,n.spot[g]=D;const P=B.shadow;if(B.map&&(n.spotLightMap[y]=B.map,y++,P.updateMatrices(B),B.castShadow&&E++),n.spotLightMatrix[g]=P.matrix,B.castShadow){const k=t.get(B);k.shadowIntensity=P.intensity,k.shadowBias=P.bias,k.shadowNormalBias=P.normalBias,k.shadowRadius=P.radius,k.shadowMapSize=P.mapSize,n.spotShadow[g]=k,n.spotShadowMap[g]=M,_++}g++}else if(B.isRectAreaLight){const D=e.get(B);D.color.copy(R).multiplyScalar(T),D.halfWidth.set(B.width*.5,0,0),D.halfHeight.set(0,B.height*.5,0),n.rectArea[d]=D,d++}else if(B.isPointLight){const D=e.get(B);if(D.color.copy(B.color).multiplyScalar(B.intensity),D.distance=B.distance,D.decay=B.decay,B.castShadow){const P=B.shadow,k=t.get(B);k.shadowIntensity=P.intensity,k.shadowBias=P.bias,k.shadowNormalBias=P.normalBias,k.shadowRadius=P.radius,k.shadowMapSize=P.mapSize,k.shadowCameraNear=P.camera.near,k.shadowCameraFar=P.camera.far,n.pointShadow[A]=k,n.pointShadowMap[A]=M,n.pointShadowMatrix[A]=B.shadow.matrix,I++}n.point[A]=D,A++}else if(B.isHemisphereLight){const D=e.get(B);D.skyColor.copy(B.color).multiplyScalar(T),D.groundColor.copy(B.groundColor).multiplyScalar(T),n.hemi[p]=D,p++}}d>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Ce.LTC_FLOAT_1,n.rectAreaLTC2=Ce.LTC_FLOAT_2):(n.rectAreaLTC1=Ce.LTC_HALF_1,n.rectAreaLTC2=Ce.LTC_HALF_2)),n.ambient[0]=x,n.ambient[1]=u,n.ambient[2]=h;const w=n.hash;(w.directionalLength!==f||w.pointLength!==A||w.spotLength!==g||w.rectAreaLength!==d||w.hemiLength!==p||w.numDirectionalShadows!==m||w.numPointShadows!==I||w.numSpotShadows!==_||w.numSpotMaps!==y||w.numLightProbes!==C)&&(n.directional.length=f,n.spot.length=g,n.rectArea.length=d,n.point.length=A,n.hemi.length=p,n.directionalShadow.length=m,n.directionalShadowMap.length=m,n.pointShadow.length=I,n.pointShadowMap.length=I,n.spotShadow.length=_,n.spotShadowMap.length=_,n.directionalShadowMatrix.length=m,n.pointShadowMatrix.length=I,n.spotLightMatrix.length=_+y-E,n.spotLightMap.length=y,n.numSpotLightShadowsWithMaps=E,n.numLightProbes=C,w.directionalLength=f,w.pointLength=A,w.spotLength=g,w.rectAreaLength=d,w.hemiLength=p,w.numDirectionalShadows=m,w.numPointShadows=I,w.numSpotShadows=_,w.numSpotMaps=y,w.numLightProbes=C,n.version=LX++)}function l(c,x){let u=0,h=0,f=0,A=0,g=0;const d=x.matrixWorldInverse;for(let p=0,m=c.length;p<m;p++){const I=c[p];if(I.isDirectionalLight){const _=n.directional[u];_.direction.setFromMatrixPosition(I.matrixWorld),r.setFromMatrixPosition(I.target.matrixWorld),_.direction.sub(r),_.direction.transformDirection(d),u++}else if(I.isSpotLight){const _=n.spot[f];_.position.setFromMatrixPosition(I.matrixWorld),_.position.applyMatrix4(d),_.direction.setFromMatrixPosition(I.matrixWorld),r.setFromMatrixPosition(I.target.matrixWorld),_.direction.sub(r),_.direction.transformDirection(d),f++}else if(I.isRectAreaLight){const _=n.rectArea[A];_.position.setFromMatrixPosition(I.matrixWorld),_.position.applyMatrix4(d),a.identity(),s.copy(I.matrixWorld),s.premultiply(d),a.extractRotation(s),_.halfWidth.set(I.width*.5,0,0),_.halfHeight.set(0,I.height*.5,0),_.halfWidth.applyMatrix4(a),_.halfHeight.applyMatrix4(a),A++}else if(I.isPointLight){const _=n.point[h];_.position.setFromMatrixPosition(I.matrixWorld),_.position.applyMatrix4(d),h++}else if(I.isHemisphereLight){const _=n.hemi[g];_.direction.setFromMatrixPosition(I.matrixWorld),_.direction.transformDirection(d),g++}}}return{setup:o,setupView:l,state:n}}function TR(i){const e=new kX(i),t=[],n=[];function r(x){c.camera=x,t.length=0,n.length=0}function s(x){t.push(x)}function a(x){n.push(x)}function o(){e.setup(t)}function l(x){e.setupView(t,x)}const c={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function UX(i){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let o;return a===void 0?(o=new TR(i),e.set(r,[o])):s>=a.length?(o=new TR(i),a.push(o)):o=a[s],o}function n(){e=new WeakMap}return{get:t,dispose:n}}const NX=`void main() {
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3
	gl_Position = vec4( position, 1.0 );
}`,XV=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
<<<<<<< HEAD
}`;function KV(i,t,e){let n=new J5;const r=new Ct,s=new Ct,a=new nn,o=new tO({depthPacking:JU}),l=new nO,c={},x=e.maxTextureSize,u={[_o]:Ji,[Ji]:_o,[fa]:fa},f=new va({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ct},radius:{value:4}},vertexShader:WV,fragmentShader:XV}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const A=new Qs;A.setAttribute("position",new is(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Ls(A,f),d=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Z4;let g=this.type;this.render=function(E,b,w){if(d.enabled===!1||d.autoUpdate===!1&&d.needsUpdate===!1||E.length===0)return;const C=i.getRenderTarget(),v=i.getActiveCubeFace(),B=i.getActiveMipmapLevel(),S=i.state;S.setBlending(Io),S.buffers.color.setClear(1,1,1,1),S.buffers.depth.setTest(!0),S.setScissorTest(!1);const T=g!==ua&&this.type===ua,Q=g===ua&&this.type!==ua;for(let M=0,D=E.length;M<D;M++){const U=E[M],F=U.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",U,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;r.copy(F.mapSize);const z=F.getFrameExtents();if(r.multiply(z),s.copy(F.mapSize),(r.x>x||r.y>x)&&(r.x>x&&(s.x=Math.floor(x/z.x),r.x=s.x*z.x,F.mapSize.x=s.x),r.y>x&&(s.y=Math.floor(x/z.y),r.y=s.y*z.y,F.mapSize.y=s.y)),F.map===null||T===!0||Q===!0){const P=this.type!==ua?{minFilter:jr,magFilter:jr}:{};F.map!==null&&F.map.dispose(),F.map=new w0(r.x,r.y,P),F.map.texture.name=U.name+".shadowMap",F.camera.updateProjectionMatrix()}i.setRenderTarget(F.map),i.clear();const H=F.getViewportCount();for(let P=0;P<H;P++){const Z=F.getViewport(P);a.set(s.x*Z.x,s.y*Z.y,s.x*Z.z,s.y*Z.w),S.viewport(a),F.updateMatrices(U,P),n=F.getFrustum(),I(b,w,F.camera,U,this.type)}F.isPointLightShadow!==!0&&this.type===ua&&m(F,w),F.needsUpdate=!1}g=this.type,d.needsUpdate=!1,i.setRenderTarget(C,v,B)};function m(E,b){const w=t.update(p);f.defines.VSM_SAMPLES!==E.blurSamples&&(f.defines.VSM_SAMPLES=E.blurSamples,h.defines.VSM_SAMPLES=E.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new w0(r.x,r.y)),f.uniforms.shadow_pass.value=E.map.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,i.setRenderTarget(E.mapPass),i.clear(),i.renderBufferDirect(b,null,w,f,p,null),h.uniforms.shadow_pass.value=E.mapPass.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,i.setRenderTarget(E.map),i.clear(),i.renderBufferDirect(b,null,w,h,p,null)}function _(E,b,w,C){let v=null;const B=w.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(B!==void 0)v=B;else if(v=w.isPointLight===!0?l:o,i.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0){const S=v.uuid,T=b.uuid;let Q=c[S];Q===void 0&&(Q={},c[S]=Q);let M=Q[T];M===void 0&&(M=v.clone(),Q[T]=M,b.addEventListener("dispose",y)),v=M}if(v.visible=b.visible,v.wireframe=b.wireframe,C===ua?v.side=b.shadowSide!==null?b.shadowSide:b.side:v.side=b.shadowSide!==null?b.shadowSide:u[b.side],v.alphaMap=b.alphaMap,v.alphaTest=b.alphaTest,v.map=b.map,v.clipShadows=b.clipShadows,v.clippingPlanes=b.clippingPlanes,v.clipIntersection=b.clipIntersection,v.displacementMap=b.displacementMap,v.displacementScale=b.displacementScale,v.displacementBias=b.displacementBias,v.wireframeLinewidth=b.wireframeLinewidth,v.linewidth=b.linewidth,w.isPointLight===!0&&v.isMeshDistanceMaterial===!0){const S=i.properties.get(v);S.light=w}return v}function I(E,b,w,C,v){if(E.visible===!1)return;if(E.layers.test(b.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&v===ua)&&(!E.frustumCulled||n.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,E.matrixWorld);const T=t.update(E),Q=E.material;if(Array.isArray(Q)){const M=T.groups;for(let D=0,U=M.length;D<U;D++){const F=M[D],z=Q[F.materialIndex];if(z&&z.visible){const H=_(E,z,C,v);E.onBeforeShadow(i,E,b,w,T,H,F),i.renderBufferDirect(w,null,T,H,E,F),E.onAfterShadow(i,E,b,w,T,H,F)}}}else if(Q.visible){const M=_(E,Q,C,v);E.onBeforeShadow(i,E,b,w,T,M,null),i.renderBufferDirect(w,null,T,M,E,null),E.onAfterShadow(i,E,b,w,T,M,null)}}const S=E.children;for(let T=0,Q=S.length;T<Q;T++)I(S[T],b,w,C,v)}function y(E){E.target.removeEventListener("dispose",y);for(const w in c){const C=c[w],v=E.target.uuid;v in C&&(C[v].dispose(),delete C[v])}}}const JV={[pb]:gb,[mb]:Eb,[_b]:yb,[wl]:Ib,[gb]:pb,[Eb]:mb,[yb]:_b,[Ib]:wl};function jV(i,t){function e(){let V=!1;const me=new nn;let $=null;const oe=new nn(0,0,0,0);return{setMask:function(we){$!==we&&!V&&(i.colorMask(we,we,we,we),$=we)},setLocked:function(we){V=we},setClear:function(we,ve,Ke,an,Vn){Vn===!0&&(we*=an,ve*=an,Ke*=an),me.set(we,ve,Ke,an),oe.equals(me)===!1&&(i.clearColor(we,ve,Ke,an),oe.copy(me))},reset:function(){V=!1,$=null,oe.set(-1,0,0,0)}}}function n(){let V=!1,me=!1,$=null,oe=null,we=null;return{setReversed:function(ve){if(me!==ve){const Ke=t.get("EXT_clip_control");me?Ke.clipControlEXT(Ke.LOWER_LEFT_EXT,Ke.ZERO_TO_ONE_EXT):Ke.clipControlEXT(Ke.LOWER_LEFT_EXT,Ke.NEGATIVE_ONE_TO_ONE_EXT);const an=we;we=null,this.setClear(an)}me=ve},getReversed:function(){return me},setTest:function(ve){ve?J(i.DEPTH_TEST):le(i.DEPTH_TEST)},setMask:function(ve){$!==ve&&!V&&(i.depthMask(ve),$=ve)},setFunc:function(ve){if(me&&(ve=JV[ve]),oe!==ve){switch(ve){case pb:i.depthFunc(i.NEVER);break;case gb:i.depthFunc(i.ALWAYS);break;case mb:i.depthFunc(i.LESS);break;case wl:i.depthFunc(i.LEQUAL);break;case _b:i.depthFunc(i.EQUAL);break;case Ib:i.depthFunc(i.GEQUAL);break;case Eb:i.depthFunc(i.GREATER);break;case yb:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}oe=ve}},setLocked:function(ve){V=ve},setClear:function(ve){we!==ve&&(me&&(ve=1-ve),i.clearDepth(ve),we=ve)},reset:function(){V=!1,$=null,oe=null,we=null,me=!1}}}function r(){let V=!1,me=null,$=null,oe=null,we=null,ve=null,Ke=null,an=null,Vn=null;return{setTest:function(st){V||(st?J(i.STENCIL_TEST):le(i.STENCIL_TEST))},setMask:function(st){me!==st&&!V&&(i.stencilMask(st),me=st)},setFunc:function(st,Hn,vn){($!==st||oe!==Hn||we!==vn)&&(i.stencilFunc(st,Hn,vn),$=st,oe=Hn,we=vn)},setOp:function(st,Hn,vn){(ve!==st||Ke!==Hn||an!==vn)&&(i.stencilOp(st,Hn,vn),ve=st,Ke=Hn,an=vn)},setLocked:function(st){V=st},setClear:function(st){Vn!==st&&(i.clearStencil(st),Vn=st)},reset:function(){V=!1,me=null,$=null,oe=null,we=null,ve=null,Ke=null,an=null,Vn=null}}}const s=new e,a=new n,o=new r,l=new WeakMap,c=new WeakMap;let x={},u={},f=new WeakMap,h=[],A=null,p=!1,d=null,g=null,m=null,_=null,I=null,y=null,E=null,b=new Qt(0,0,0),w=0,C=!1,v=null,B=null,S=null,T=null,Q=null;const M=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let D=!1,U=0;const F=i.getParameter(i.VERSION);F.indexOf("WebGL")!==-1?(U=parseFloat(/^WebGL (\d)/.exec(F)[1]),D=U>=1):F.indexOf("OpenGL ES")!==-1&&(U=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),D=U>=2);let z=null,H={};const P=i.getParameter(i.SCISSOR_BOX),Z=i.getParameter(i.VIEWPORT),ce=new nn().fromArray(P),G=new nn().fromArray(Z);function O(V,me,$,oe){const we=new Uint8Array(4),ve=i.createTexture();i.bindTexture(V,ve),i.texParameteri(V,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(V,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Ke=0;Ke<$;Ke++)V===i.TEXTURE_3D||V===i.TEXTURE_2D_ARRAY?i.texImage3D(me,0,i.RGBA,1,1,oe,0,i.RGBA,i.UNSIGNED_BYTE,we):i.texImage2D(me+Ke,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,we);return ve}const j={};j[i.TEXTURE_2D]=O(i.TEXTURE_2D,i.TEXTURE_2D,1),j[i.TEXTURE_CUBE_MAP]=O(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),j[i.TEXTURE_2D_ARRAY]=O(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),j[i.TEXTURE_3D]=O(i.TEXTURE_3D,i.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),J(i.DEPTH_TEST),a.setFunc(wl),Oe(!1),Ne(j4),J(i.CULL_FACE),N(Io);function J(V){x[V]!==!0&&(i.enable(V),x[V]=!0)}function le(V){x[V]!==!1&&(i.disable(V),x[V]=!1)}function he(V,me){return u[V]!==me?(i.bindFramebuffer(V,me),u[V]=me,V===i.DRAW_FRAMEBUFFER&&(u[i.FRAMEBUFFER]=me),V===i.FRAMEBUFFER&&(u[i.DRAW_FRAMEBUFFER]=me),!0):!1}function Ee(V,me){let $=h,oe=!1;if(V){$=f.get(me),$===void 0&&($=[],f.set(me,$));const we=V.textures;if($.length!==we.length||$[0]!==i.COLOR_ATTACHMENT0){for(let ve=0,Ke=we.length;ve<Ke;ve++)$[ve]=i.COLOR_ATTACHMENT0+ve;$.length=we.length,oe=!0}}else $[0]!==i.BACK&&($[0]=i.BACK,oe=!0);oe&&i.drawBuffers($)}function ae(V){return A!==V?(i.useProgram(V),A=V,!0):!1}const Se={[b0]:i.FUNC_ADD,[yU]:i.FUNC_SUBTRACT,[bU]:i.FUNC_REVERSE_SUBTRACT};Se[CU]=i.MIN,Se[vU]=i.MAX;const ft={[wU]:i.ZERO,[BU]:i.ONE,[SU]:i.SRC_COLOR,[Ab]:i.SRC_ALPHA,[LU]:i.SRC_ALPHA_SATURATE,[DU]:i.DST_COLOR,[RU]:i.DST_ALPHA,[MU]:i.ONE_MINUS_SRC_COLOR,[db]:i.ONE_MINUS_SRC_ALPHA,[QU]:i.ONE_MINUS_DST_COLOR,[TU]:i.ONE_MINUS_DST_ALPHA,[FU]:i.CONSTANT_COLOR,[kU]:i.ONE_MINUS_CONSTANT_COLOR,[PU]:i.CONSTANT_ALPHA,[UU]:i.ONE_MINUS_CONSTANT_ALPHA};function N(V,me,$,oe,we,ve,Ke,an,Vn,st){if(V===Io){p===!0&&(le(i.BLEND),p=!1);return}if(p===!1&&(J(i.BLEND),p=!0),V!==EU){if(V!==d||st!==C){if((g!==b0||I!==b0)&&(i.blendEquation(i.FUNC_ADD),g=b0,I=b0),st)switch(V){case vl:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case $4:i.blendFunc(i.ONE,i.ONE);break;case e5:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case t5:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}else switch(V){case vl:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case $4:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case e5:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case t5:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",V);break}m=null,_=null,y=null,E=null,b.set(0,0,0),w=0,d=V,C=st}return}we=we||me,ve=ve||$,Ke=Ke||oe,(me!==g||we!==I)&&(i.blendEquationSeparate(Se[me],Se[we]),g=me,I=we),($!==m||oe!==_||ve!==y||Ke!==E)&&(i.blendFuncSeparate(ft[$],ft[oe],ft[ve],ft[Ke]),m=$,_=oe,y=ve,E=Ke),(an.equals(b)===!1||Vn!==w)&&(i.blendColor(an.r,an.g,an.b,Vn),b.copy(an),w=Vn),d=V,C=!1}function Lt(V,me){V.side===fa?le(i.CULL_FACE):J(i.CULL_FACE);let $=V.side===Ji;me&&($=!$),Oe($),V.blending===vl&&V.transparent===!1?N(Io):N(V.blending,V.blendEquation,V.blendSrc,V.blendDst,V.blendEquationAlpha,V.blendSrcAlpha,V.blendDstAlpha,V.blendColor,V.blendAlpha,V.premultipliedAlpha),a.setFunc(V.depthFunc),a.setTest(V.depthTest),a.setMask(V.depthWrite),s.setMask(V.colorWrite);const oe=V.stencilWrite;o.setTest(oe),oe&&(o.setMask(V.stencilWriteMask),o.setFunc(V.stencilFunc,V.stencilRef,V.stencilFuncMask),o.setOp(V.stencilFail,V.stencilZFail,V.stencilZPass)),Pe(V.polygonOffset,V.polygonOffsetFactor,V.polygonOffsetUnits),V.alphaToCoverage===!0?J(i.SAMPLE_ALPHA_TO_COVERAGE):le(i.SAMPLE_ALPHA_TO_COVERAGE)}function Oe(V){v!==V&&(V?i.frontFace(i.CW):i.frontFace(i.CCW),v=V)}function Ne(V){V!==mU?(J(i.CULL_FACE),V!==B&&(V===j4?i.cullFace(i.BACK):V===_U?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):le(i.CULL_FACE),B=V}function Be(V){V!==S&&(D&&i.lineWidth(V),S=V)}function Pe(V,me,$){V?(J(i.POLYGON_OFFSET_FILL),(T!==me||Q!==$)&&(i.polygonOffset(me,$),T=me,Q=$)):le(i.POLYGON_OFFSET_FILL)}function Te(V){V?J(i.SCISSOR_TEST):le(i.SCISSOR_TEST)}function k(V){V===void 0&&(V=i.TEXTURE0+M-1),z!==V&&(i.activeTexture(V),z=V)}function R(V,me,$){$===void 0&&(z===null?$=i.TEXTURE0+M-1:$=z);let oe=H[$];oe===void 0&&(oe={type:void 0,texture:void 0},H[$]=oe),(oe.type!==V||oe.texture!==me)&&(z!==$&&(i.activeTexture($),z=$),i.bindTexture(V,me||j[V]),oe.type=V,oe.texture=me)}function W(){const V=H[z];V!==void 0&&V.type!==void 0&&(i.bindTexture(V.type,null),V.type=void 0,V.texture=void 0)}function se(){try{i.compressedTexImage2D.apply(i,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function ne(){try{i.compressedTexImage3D.apply(i,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function K(){try{i.texSubImage2D.apply(i,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function _e(){try{i.texSubImage3D.apply(i,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ae(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function ue(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function De(){try{i.texStorage2D.apply(i,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function xe(){try{i.texStorage3D.apply(i,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function ge(){try{i.texImage2D.apply(i,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Le(){try{i.texImage3D.apply(i,arguments)}catch(V){console.error("THREE.WebGLState:",V)}}function Ue(V){ce.equals(V)===!1&&(i.scissor(V.x,V.y,V.z,V.w),ce.copy(V))}function be(V){G.equals(V)===!1&&(i.viewport(V.x,V.y,V.z,V.w),G.copy(V))}function We(V,me){let $=c.get(me);$===void 0&&($=new WeakMap,c.set(me,$));let oe=$.get(V);oe===void 0&&(oe=i.getUniformBlockIndex(me,V.name),$.set(V,oe))}function Qe(V,me){const oe=c.get(me).get(V);l.get(me)!==oe&&(i.uniformBlockBinding(me,oe,V.__bindingPointIndex),l.set(me,oe))}function rt(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),a.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),x={},z=null,H={},u={},f=new WeakMap,h=[],A=null,p=!1,d=null,g=null,m=null,_=null,I=null,y=null,E=null,b=new Qt(0,0,0),w=0,C=!1,v=null,B=null,S=null,T=null,Q=null,ce.set(0,0,i.canvas.width,i.canvas.height),G.set(0,0,i.canvas.width,i.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:J,disable:le,bindFramebuffer:he,drawBuffers:Ee,useProgram:ae,setBlending:N,setMaterial:Lt,setFlipSided:Oe,setCullFace:Ne,setLineWidth:Be,setPolygonOffset:Pe,setScissorTest:Te,activeTexture:k,bindTexture:R,unbindTexture:W,compressedTexImage2D:se,compressedTexImage3D:ne,texImage2D:ge,texImage3D:Le,updateUBOMapping:We,uniformBlockBinding:Qe,texStorage2D:De,texStorage3D:xe,texSubImage2D:K,texSubImage3D:_e,compressedTexSubImage2D:Ae,compressedTexSubImage3D:ue,scissor:Ue,viewport:be,reset:rt}}function ZV(i,t,e,n,r,s,a){const o=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Ct,x=new WeakMap;let u;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(k,R){return h?new OffscreenCanvas(k,R):g_("canvas")}function p(k,R,W){let se=1;const ne=Te(k);if((ne.width>W||ne.height>W)&&(se=W/Math.max(ne.width,ne.height)),se<1)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap||typeof VideoFrame<"u"&&k instanceof VideoFrame){const K=Math.floor(se*ne.width),_e=Math.floor(se*ne.height);u===void 0&&(u=A(K,_e));const Ae=R?A(K,_e):u;return Ae.width=K,Ae.height=_e,Ae.getContext("2d").drawImage(k,0,0,K,_e),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ne.width+"x"+ne.height+") to ("+K+"x"+_e+")."),Ae}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ne.width+"x"+ne.height+")."),k;return k}function d(k){return k.generateMipmaps}function g(k){i.generateMipmap(k)}function m(k){return k.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:k.isWebGL3DRenderTarget?i.TEXTURE_3D:k.isWebGLArrayRenderTarget||k.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function _(k,R,W,se,ne=!1){if(k!==null){if(i[k]!==void 0)return i[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let K=R;if(R===i.RED&&(W===i.FLOAT&&(K=i.R32F),W===i.HALF_FLOAT&&(K=i.R16F),W===i.UNSIGNED_BYTE&&(K=i.R8)),R===i.RED_INTEGER&&(W===i.UNSIGNED_BYTE&&(K=i.R8UI),W===i.UNSIGNED_SHORT&&(K=i.R16UI),W===i.UNSIGNED_INT&&(K=i.R32UI),W===i.BYTE&&(K=i.R8I),W===i.SHORT&&(K=i.R16I),W===i.INT&&(K=i.R32I)),R===i.RG&&(W===i.FLOAT&&(K=i.RG32F),W===i.HALF_FLOAT&&(K=i.RG16F),W===i.UNSIGNED_BYTE&&(K=i.RG8)),R===i.RG_INTEGER&&(W===i.UNSIGNED_BYTE&&(K=i.RG8UI),W===i.UNSIGNED_SHORT&&(K=i.RG16UI),W===i.UNSIGNED_INT&&(K=i.RG32UI),W===i.BYTE&&(K=i.RG8I),W===i.SHORT&&(K=i.RG16I),W===i.INT&&(K=i.RG32I)),R===i.RGB_INTEGER&&(W===i.UNSIGNED_BYTE&&(K=i.RGB8UI),W===i.UNSIGNED_SHORT&&(K=i.RGB16UI),W===i.UNSIGNED_INT&&(K=i.RGB32UI),W===i.BYTE&&(K=i.RGB8I),W===i.SHORT&&(K=i.RGB16I),W===i.INT&&(K=i.RGB32I)),R===i.RGBA_INTEGER&&(W===i.UNSIGNED_BYTE&&(K=i.RGBA8UI),W===i.UNSIGNED_SHORT&&(K=i.RGBA16UI),W===i.UNSIGNED_INT&&(K=i.RGBA32UI),W===i.BYTE&&(K=i.RGBA8I),W===i.SHORT&&(K=i.RGBA16I),W===i.INT&&(K=i.RGBA32I)),R===i.RGB&&W===i.UNSIGNED_INT_5_9_9_9_REV&&(K=i.RGB9_E5),R===i.RGBA){const _e=ne?d_:Dt.getTransfer(se);W===i.FLOAT&&(K=i.RGBA32F),W===i.HALF_FLOAT&&(K=i.RGBA16F),W===i.UNSIGNED_BYTE&&(K=_e===$t?i.SRGB8_ALPHA8:i.RGBA8),W===i.UNSIGNED_SHORT_4_4_4_4&&(K=i.RGBA4),W===i.UNSIGNED_SHORT_5_5_5_1&&(K=i.RGB5_A1)}return(K===i.R16F||K===i.R32F||K===i.RG16F||K===i.RG32F||K===i.RGBA16F||K===i.RGBA32F)&&t.get("EXT_color_buffer_float"),K}function I(k,R){let W;return k?R===null||R===v0||R===Ml?W=i.DEPTH24_STENCIL8:R===da?W=i.DEPTH32F_STENCIL8:R===Zf&&(W=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):R===null||R===v0||R===Ml?W=i.DEPTH_COMPONENT24:R===da?W=i.DEPTH_COMPONENT32F:R===Zf&&(W=i.DEPTH_COMPONENT16),W}function y(k,R){return d(k)===!0||k.isFramebufferTexture&&k.minFilter!==jr&&k.minFilter!==Mr?Math.log2(Math.max(R.width,R.height))+1:k.mipmaps!==void 0&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?R.mipmaps.length:1}function E(k){const R=k.target;R.removeEventListener("dispose",E),w(R),R.isVideoTexture&&x.delete(R)}function b(k){const R=k.target;R.removeEventListener("dispose",b),v(R)}function w(k){const R=n.get(k);if(R.__webglInit===void 0)return;const W=k.source,se=f.get(W);if(se){const ne=se[R.__cacheKey];ne.usedTimes--,ne.usedTimes===0&&C(k),Object.keys(se).length===0&&f.delete(W)}n.remove(k)}function C(k){const R=n.get(k);i.deleteTexture(R.__webglTexture);const W=k.source,se=f.get(W);delete se[R.__cacheKey],a.memory.textures--}function v(k){const R=n.get(k);if(k.depthTexture&&(k.depthTexture.dispose(),n.remove(k.depthTexture)),k.isWebGLCubeRenderTarget)for(let se=0;se<6;se++){if(Array.isArray(R.__webglFramebuffer[se]))for(let ne=0;ne<R.__webglFramebuffer[se].length;ne++)i.deleteFramebuffer(R.__webglFramebuffer[se][ne]);else i.deleteFramebuffer(R.__webglFramebuffer[se]);R.__webglDepthbuffer&&i.deleteRenderbuffer(R.__webglDepthbuffer[se])}else{if(Array.isArray(R.__webglFramebuffer))for(let se=0;se<R.__webglFramebuffer.length;se++)i.deleteFramebuffer(R.__webglFramebuffer[se]);else i.deleteFramebuffer(R.__webglFramebuffer);if(R.__webglDepthbuffer&&i.deleteRenderbuffer(R.__webglDepthbuffer),R.__webglMultisampledFramebuffer&&i.deleteFramebuffer(R.__webglMultisampledFramebuffer),R.__webglColorRenderbuffer)for(let se=0;se<R.__webglColorRenderbuffer.length;se++)R.__webglColorRenderbuffer[se]&&i.deleteRenderbuffer(R.__webglColorRenderbuffer[se]);R.__webglDepthRenderbuffer&&i.deleteRenderbuffer(R.__webglDepthRenderbuffer)}const W=k.textures;for(let se=0,ne=W.length;se<ne;se++){const K=n.get(W[se]);K.__webglTexture&&(i.deleteTexture(K.__webglTexture),a.memory.textures--),n.remove(W[se])}n.remove(k)}let B=0;function S(){B=0}function T(){const k=B;return k>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+r.maxTextures),B+=1,k}function Q(k){const R=[];return R.push(k.wrapS),R.push(k.wrapT),R.push(k.wrapR||0),R.push(k.magFilter),R.push(k.minFilter),R.push(k.anisotropy),R.push(k.internalFormat),R.push(k.format),R.push(k.type),R.push(k.generateMipmaps),R.push(k.premultiplyAlpha),R.push(k.flipY),R.push(k.unpackAlignment),R.push(k.colorSpace),R.join()}function M(k,R){const W=n.get(k);if(k.isVideoTexture&&Be(k),k.isRenderTargetTexture===!1&&k.version>0&&W.__version!==k.version){const se=k.image;if(se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{G(W,k,R);return}}e.bindTexture(i.TEXTURE_2D,W.__webglTexture,i.TEXTURE0+R)}function D(k,R){const W=n.get(k);if(k.version>0&&W.__version!==k.version){G(W,k,R);return}e.bindTexture(i.TEXTURE_2D_ARRAY,W.__webglTexture,i.TEXTURE0+R)}function U(k,R){const W=n.get(k);if(k.version>0&&W.__version!==k.version){G(W,k,R);return}e.bindTexture(i.TEXTURE_3D,W.__webglTexture,i.TEXTURE0+R)}function F(k,R){const W=n.get(k);if(k.version>0&&W.__version!==k.version){O(W,k,R);return}e.bindTexture(i.TEXTURE_CUBE_MAP,W.__webglTexture,i.TEXTURE0+R)}const z={[wb]:i.REPEAT,[ha]:i.CLAMP_TO_EDGE,[Bb]:i.MIRRORED_REPEAT},H={[jr]:i.NEAREST,[XU]:i.NEAREST_MIPMAP_NEAREST,[l_]:i.NEAREST_MIPMAP_LINEAR,[Mr]:i.LINEAR,[Sb]:i.LINEAR_MIPMAP_NEAREST,[C0]:i.LINEAR_MIPMAP_LINEAR},P={[$U]:i.NEVER,[sN]:i.ALWAYS,[eN]:i.LESS,[A5]:i.LEQUAL,[tN]:i.EQUAL,[rN]:i.GEQUAL,[nN]:i.GREATER,[iN]:i.NOTEQUAL};function Z(k,R){if(R.type===da&&t.has("OES_texture_float_linear")===!1&&(R.magFilter===Mr||R.magFilter===Sb||R.magFilter===l_||R.magFilter===C0||R.minFilter===Mr||R.minFilter===Sb||R.minFilter===l_||R.minFilter===C0)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(k,i.TEXTURE_WRAP_S,z[R.wrapS]),i.texParameteri(k,i.TEXTURE_WRAP_T,z[R.wrapT]),(k===i.TEXTURE_3D||k===i.TEXTURE_2D_ARRAY)&&i.texParameteri(k,i.TEXTURE_WRAP_R,z[R.wrapR]),i.texParameteri(k,i.TEXTURE_MAG_FILTER,H[R.magFilter]),i.texParameteri(k,i.TEXTURE_MIN_FILTER,H[R.minFilter]),R.compareFunction&&(i.texParameteri(k,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(k,i.TEXTURE_COMPARE_FUNC,P[R.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(R.magFilter===jr||R.minFilter!==l_&&R.minFilter!==C0||R.type===da&&t.has("OES_texture_float_linear")===!1)return;if(R.anisotropy>1||n.get(R).__currentAnisotropy){const W=t.get("EXT_texture_filter_anisotropic");i.texParameterf(k,W.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(R.anisotropy,r.getMaxAnisotropy())),n.get(R).__currentAnisotropy=R.anisotropy}}}function ce(k,R){let W=!1;k.__webglInit===void 0&&(k.__webglInit=!0,R.addEventListener("dispose",E));const se=R.source;let ne=f.get(se);ne===void 0&&(ne={},f.set(se,ne));const K=Q(R);if(K!==k.__cacheKey){ne[K]===void 0&&(ne[K]={texture:i.createTexture(),usedTimes:0},a.memory.textures++,W=!0),ne[K].usedTimes++;const _e=ne[k.__cacheKey];_e!==void 0&&(ne[k.__cacheKey].usedTimes--,_e.usedTimes===0&&C(R)),k.__cacheKey=K,k.__webglTexture=ne[K].texture}return W}function G(k,R,W){let se=i.TEXTURE_2D;(R.isDataArrayTexture||R.isCompressedArrayTexture)&&(se=i.TEXTURE_2D_ARRAY),R.isData3DTexture&&(se=i.TEXTURE_3D);const ne=ce(k,R),K=R.source;e.bindTexture(se,k.__webglTexture,i.TEXTURE0+W);const _e=n.get(K);if(K.version!==_e.__version||ne===!0){e.activeTexture(i.TEXTURE0+W);const Ae=Dt.getPrimaries(Dt.workingColorSpace),ue=R.colorSpace===yo?null:Dt.getPrimaries(R.colorSpace),De=R.colorSpace===yo||Ae===ue?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,R.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,R.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,De);let xe=p(R.image,!1,r.maxTextureSize);xe=Pe(R,xe);const ge=s.convert(R.format,R.colorSpace),Le=s.convert(R.type);let Ue=_(R.internalFormat,ge,Le,R.colorSpace,R.isVideoTexture);Z(se,R);let be;const We=R.mipmaps,Qe=R.isVideoTexture!==!0,rt=_e.__version===void 0||ne===!0,V=K.dataReady,me=y(R,xe);if(R.isDepthTexture)Ue=I(R.format===Tl,R.type),rt&&(Qe?e.texStorage2D(i.TEXTURE_2D,1,Ue,xe.width,xe.height):e.texImage2D(i.TEXTURE_2D,0,Ue,xe.width,xe.height,0,ge,Le,null));else if(R.isDataTexture)if(We.length>0){Qe&&rt&&e.texStorage2D(i.TEXTURE_2D,me,Ue,We[0].width,We[0].height);for(let $=0,oe=We.length;$<oe;$++)be=We[$],Qe?V&&e.texSubImage2D(i.TEXTURE_2D,$,0,0,be.width,be.height,ge,Le,be.data):e.texImage2D(i.TEXTURE_2D,$,Ue,be.width,be.height,0,ge,Le,be.data);R.generateMipmaps=!1}else Qe?(rt&&e.texStorage2D(i.TEXTURE_2D,me,Ue,xe.width,xe.height),V&&e.texSubImage2D(i.TEXTURE_2D,0,0,0,xe.width,xe.height,ge,Le,xe.data)):e.texImage2D(i.TEXTURE_2D,0,Ue,xe.width,xe.height,0,ge,Le,xe.data);else if(R.isCompressedTexture)if(R.isCompressedArrayTexture){Qe&&rt&&e.texStorage3D(i.TEXTURE_2D_ARRAY,me,Ue,We[0].width,We[0].height,xe.depth);for(let $=0,oe=We.length;$<oe;$++)if(be=We[$],R.format!==Zr)if(ge!==null)if(Qe){if(V)if(R.layerUpdates.size>0){const we=tM(be.width,be.height,R.format,R.type);for(const ve of R.layerUpdates){const Ke=be.data.subarray(ve*we/be.data.BYTES_PER_ELEMENT,(ve+1)*we/be.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,$,0,0,ve,be.width,be.height,1,ge,Ke)}R.clearLayerUpdates()}else e.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,$,0,0,0,be.width,be.height,xe.depth,ge,be.data)}else e.compressedTexImage3D(i.TEXTURE_2D_ARRAY,$,Ue,be.width,be.height,xe.depth,0,be.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Qe?V&&e.texSubImage3D(i.TEXTURE_2D_ARRAY,$,0,0,0,be.width,be.height,xe.depth,ge,Le,be.data):e.texImage3D(i.TEXTURE_2D_ARRAY,$,Ue,be.width,be.height,xe.depth,0,ge,Le,be.data)}else{Qe&&rt&&e.texStorage2D(i.TEXTURE_2D,me,Ue,We[0].width,We[0].height);for(let $=0,oe=We.length;$<oe;$++)be=We[$],R.format!==Zr?ge!==null?Qe?V&&e.compressedTexSubImage2D(i.TEXTURE_2D,$,0,0,be.width,be.height,ge,be.data):e.compressedTexImage2D(i.TEXTURE_2D,$,Ue,be.width,be.height,0,be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Qe?V&&e.texSubImage2D(i.TEXTURE_2D,$,0,0,be.width,be.height,ge,Le,be.data):e.texImage2D(i.TEXTURE_2D,$,Ue,be.width,be.height,0,ge,Le,be.data)}else if(R.isDataArrayTexture)if(Qe){if(rt&&e.texStorage3D(i.TEXTURE_2D_ARRAY,me,Ue,xe.width,xe.height,xe.depth),V)if(R.layerUpdates.size>0){const $=tM(xe.width,xe.height,R.format,R.type);for(const oe of R.layerUpdates){const we=xe.data.subarray(oe*$/xe.data.BYTES_PER_ELEMENT,(oe+1)*$/xe.data.BYTES_PER_ELEMENT);e.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,oe,xe.width,xe.height,1,ge,Le,we)}R.clearLayerUpdates()}else e.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,xe.width,xe.height,xe.depth,ge,Le,xe.data)}else e.texImage3D(i.TEXTURE_2D_ARRAY,0,Ue,xe.width,xe.height,xe.depth,0,ge,Le,xe.data);else if(R.isData3DTexture)Qe?(rt&&e.texStorage3D(i.TEXTURE_3D,me,Ue,xe.width,xe.height,xe.depth),V&&e.texSubImage3D(i.TEXTURE_3D,0,0,0,0,xe.width,xe.height,xe.depth,ge,Le,xe.data)):e.texImage3D(i.TEXTURE_3D,0,Ue,xe.width,xe.height,xe.depth,0,ge,Le,xe.data);else if(R.isFramebufferTexture){if(rt)if(Qe)e.texStorage2D(i.TEXTURE_2D,me,Ue,xe.width,xe.height);else{let $=xe.width,oe=xe.height;for(let we=0;we<me;we++)e.texImage2D(i.TEXTURE_2D,we,Ue,$,oe,0,ge,Le,null),$>>=1,oe>>=1}}else if(We.length>0){if(Qe&&rt){const $=Te(We[0]);e.texStorage2D(i.TEXTURE_2D,me,Ue,$.width,$.height)}for(let $=0,oe=We.length;$<oe;$++)be=We[$],Qe?V&&e.texSubImage2D(i.TEXTURE_2D,$,0,0,ge,Le,be):e.texImage2D(i.TEXTURE_2D,$,Ue,ge,Le,be);R.generateMipmaps=!1}else if(Qe){if(rt){const $=Te(xe);e.texStorage2D(i.TEXTURE_2D,me,Ue,$.width,$.height)}V&&e.texSubImage2D(i.TEXTURE_2D,0,0,0,ge,Le,xe)}else e.texImage2D(i.TEXTURE_2D,0,Ue,ge,Le,xe);d(R)&&g(se),_e.__version=K.version,R.onUpdate&&R.onUpdate(R)}k.__version=R.version}function O(k,R,W){if(R.image.length!==6)return;const se=ce(k,R),ne=R.source;e.bindTexture(i.TEXTURE_CUBE_MAP,k.__webglTexture,i.TEXTURE0+W);const K=n.get(ne);if(ne.version!==K.__version||se===!0){e.activeTexture(i.TEXTURE0+W);const _e=Dt.getPrimaries(Dt.workingColorSpace),Ae=R.colorSpace===yo?null:Dt.getPrimaries(R.colorSpace),ue=R.colorSpace===yo||_e===Ae?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,R.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,R.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,ue);const De=R.isCompressedTexture||R.image[0].isCompressedTexture,xe=R.image[0]&&R.image[0].isDataTexture,ge=[];for(let oe=0;oe<6;oe++)!De&&!xe?ge[oe]=p(R.image[oe],!0,r.maxCubemapSize):ge[oe]=xe?R.image[oe].image:R.image[oe],ge[oe]=Pe(R,ge[oe]);const Le=ge[0],Ue=s.convert(R.format,R.colorSpace),be=s.convert(R.type),We=_(R.internalFormat,Ue,be,R.colorSpace),Qe=R.isVideoTexture!==!0,rt=K.__version===void 0||se===!0,V=ne.dataReady;let me=y(R,Le);Z(i.TEXTURE_CUBE_MAP,R);let $;if(De){Qe&&rt&&e.texStorage2D(i.TEXTURE_CUBE_MAP,me,We,Le.width,Le.height);for(let oe=0;oe<6;oe++){$=ge[oe].mipmaps;for(let we=0;we<$.length;we++){const ve=$[we];R.format!==Zr?Ue!==null?Qe?V&&e.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+oe,we,0,0,ve.width,ve.height,Ue,ve.data):e.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+oe,we,We,ve.width,ve.height,0,ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Qe?V&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+oe,we,0,0,ve.width,ve.height,Ue,be,ve.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+oe,we,We,ve.width,ve.height,0,Ue,be,ve.data)}}}else{if($=R.mipmaps,Qe&&rt){$.length>0&&me++;const oe=Te(ge[0]);e.texStorage2D(i.TEXTURE_CUBE_MAP,me,We,oe.width,oe.height)}for(let oe=0;oe<6;oe++)if(xe){Qe?V&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,ge[oe].width,ge[oe].height,Ue,be,ge[oe].data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,We,ge[oe].width,ge[oe].height,0,Ue,be,ge[oe].data);for(let we=0;we<$.length;we++){const Ke=$[we].image[oe].image;Qe?V&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+oe,we+1,0,0,Ke.width,Ke.height,Ue,be,Ke.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+oe,we+1,We,Ke.width,Ke.height,0,Ue,be,Ke.data)}}else{Qe?V&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,Ue,be,ge[oe]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,We,Ue,be,ge[oe]);for(let we=0;we<$.length;we++){const ve=$[we];Qe?V&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+oe,we+1,0,0,Ue,be,ve.image[oe]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+oe,we+1,We,Ue,be,ve.image[oe])}}}d(R)&&g(i.TEXTURE_CUBE_MAP),K.__version=ne.version,R.onUpdate&&R.onUpdate(R)}k.__version=R.version}function j(k,R,W,se,ne,K){const _e=s.convert(W.format,W.colorSpace),Ae=s.convert(W.type),ue=_(W.internalFormat,_e,Ae,W.colorSpace),De=n.get(R),xe=n.get(W);if(xe.__renderTarget=R,!De.__hasExternalTextures){const ge=Math.max(1,R.width>>K),Le=Math.max(1,R.height>>K);ne===i.TEXTURE_3D||ne===i.TEXTURE_2D_ARRAY?e.texImage3D(ne,K,ue,ge,Le,R.depth,0,_e,Ae,null):e.texImage2D(ne,K,ue,ge,Le,0,_e,Ae,null)}e.bindFramebuffer(i.FRAMEBUFFER,k),Ne(R)?o.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,se,ne,xe.__webglTexture,0,Oe(R)):(ne===i.TEXTURE_2D||ne>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&ne<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,se,ne,xe.__webglTexture,K),e.bindFramebuffer(i.FRAMEBUFFER,null)}function J(k,R,W){if(i.bindRenderbuffer(i.RENDERBUFFER,k),R.depthBuffer){const se=R.depthTexture,ne=se&&se.isDepthTexture?se.type:null,K=I(R.stencilBuffer,ne),_e=R.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ae=Oe(R);Ne(R)?o.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Ae,K,R.width,R.height):W?i.renderbufferStorageMultisample(i.RENDERBUFFER,Ae,K,R.width,R.height):i.renderbufferStorage(i.RENDERBUFFER,K,R.width,R.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,_e,i.RENDERBUFFER,k)}else{const se=R.textures;for(let ne=0;ne<se.length;ne++){const K=se[ne],_e=s.convert(K.format,K.colorSpace),Ae=s.convert(K.type),ue=_(K.internalFormat,_e,Ae,K.colorSpace),De=Oe(R);W&&Ne(R)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,De,ue,R.width,R.height):Ne(R)?o.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,De,ue,R.width,R.height):i.renderbufferStorage(i.RENDERBUFFER,ue,R.width,R.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function le(k,R){if(R&&R.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(i.FRAMEBUFFER,k),!(R.depthTexture&&R.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const se=n.get(R.depthTexture);se.__renderTarget=R,(!se.__webglTexture||R.depthTexture.image.width!==R.width||R.depthTexture.image.height!==R.height)&&(R.depthTexture.image.width=R.width,R.depthTexture.image.height=R.height,R.depthTexture.needsUpdate=!0),M(R.depthTexture,0);const ne=se.__webglTexture,K=Oe(R);if(R.depthTexture.format===Rl)Ne(R)?o.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ne,0,K):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ne,0);else if(R.depthTexture.format===Tl)Ne(R)?o.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ne,0,K):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ne,0);else throw new Error("Unknown depthTexture format")}function he(k){const R=n.get(k),W=k.isWebGLCubeRenderTarget===!0;if(R.__boundDepthTexture!==k.depthTexture){const se=k.depthTexture;if(R.__depthDisposeCallback&&R.__depthDisposeCallback(),se){const ne=()=>{delete R.__boundDepthTexture,delete R.__depthDisposeCallback,se.removeEventListener("dispose",ne)};se.addEventListener("dispose",ne),R.__depthDisposeCallback=ne}R.__boundDepthTexture=se}if(k.depthTexture&&!R.__autoAllocateDepthBuffer){if(W)throw new Error("target.depthTexture not supported in Cube render targets");le(R.__webglFramebuffer,k)}else if(W){R.__webglDepthbuffer=[];for(let se=0;se<6;se++)if(e.bindFramebuffer(i.FRAMEBUFFER,R.__webglFramebuffer[se]),R.__webglDepthbuffer[se]===void 0)R.__webglDepthbuffer[se]=i.createRenderbuffer(),J(R.__webglDepthbuffer[se],k,!1);else{const ne=k.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,K=R.__webglDepthbuffer[se];i.bindRenderbuffer(i.RENDERBUFFER,K),i.framebufferRenderbuffer(i.FRAMEBUFFER,ne,i.RENDERBUFFER,K)}}else if(e.bindFramebuffer(i.FRAMEBUFFER,R.__webglFramebuffer),R.__webglDepthbuffer===void 0)R.__webglDepthbuffer=i.createRenderbuffer(),J(R.__webglDepthbuffer,k,!1);else{const se=k.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,ne=R.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,ne),i.framebufferRenderbuffer(i.FRAMEBUFFER,se,i.RENDERBUFFER,ne)}e.bindFramebuffer(i.FRAMEBUFFER,null)}function Ee(k,R,W){const se=n.get(k);R!==void 0&&j(se.__webglFramebuffer,k,k.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),W!==void 0&&he(k)}function ae(k){const R=k.texture,W=n.get(k),se=n.get(R);k.addEventListener("dispose",b);const ne=k.textures,K=k.isWebGLCubeRenderTarget===!0,_e=ne.length>1;if(_e||(se.__webglTexture===void 0&&(se.__webglTexture=i.createTexture()),se.__version=R.version,a.memory.textures++),K){W.__webglFramebuffer=[];for(let Ae=0;Ae<6;Ae++)if(R.mipmaps&&R.mipmaps.length>0){W.__webglFramebuffer[Ae]=[];for(let ue=0;ue<R.mipmaps.length;ue++)W.__webglFramebuffer[Ae][ue]=i.createFramebuffer()}else W.__webglFramebuffer[Ae]=i.createFramebuffer()}else{if(R.mipmaps&&R.mipmaps.length>0){W.__webglFramebuffer=[];for(let Ae=0;Ae<R.mipmaps.length;Ae++)W.__webglFramebuffer[Ae]=i.createFramebuffer()}else W.__webglFramebuffer=i.createFramebuffer();if(_e)for(let Ae=0,ue=ne.length;Ae<ue;Ae++){const De=n.get(ne[Ae]);De.__webglTexture===void 0&&(De.__webglTexture=i.createTexture(),a.memory.textures++)}if(k.samples>0&&Ne(k)===!1){W.__webglMultisampledFramebuffer=i.createFramebuffer(),W.__webglColorRenderbuffer=[],e.bindFramebuffer(i.FRAMEBUFFER,W.__webglMultisampledFramebuffer);for(let Ae=0;Ae<ne.length;Ae++){const ue=ne[Ae];W.__webglColorRenderbuffer[Ae]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,W.__webglColorRenderbuffer[Ae]);const De=s.convert(ue.format,ue.colorSpace),xe=s.convert(ue.type),ge=_(ue.internalFormat,De,xe,ue.colorSpace,k.isXRRenderTarget===!0),Le=Oe(k);i.renderbufferStorageMultisample(i.RENDERBUFFER,Le,ge,k.width,k.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Ae,i.RENDERBUFFER,W.__webglColorRenderbuffer[Ae])}i.bindRenderbuffer(i.RENDERBUFFER,null),k.depthBuffer&&(W.__webglDepthRenderbuffer=i.createRenderbuffer(),J(W.__webglDepthRenderbuffer,k,!0)),e.bindFramebuffer(i.FRAMEBUFFER,null)}}if(K){e.bindTexture(i.TEXTURE_CUBE_MAP,se.__webglTexture),Z(i.TEXTURE_CUBE_MAP,R);for(let Ae=0;Ae<6;Ae++)if(R.mipmaps&&R.mipmaps.length>0)for(let ue=0;ue<R.mipmaps.length;ue++)j(W.__webglFramebuffer[Ae][ue],k,R,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,ue);else j(W.__webglFramebuffer[Ae],k,R,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0);d(R)&&g(i.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(_e){for(let Ae=0,ue=ne.length;Ae<ue;Ae++){const De=ne[Ae],xe=n.get(De);e.bindTexture(i.TEXTURE_2D,xe.__webglTexture),Z(i.TEXTURE_2D,De),j(W.__webglFramebuffer,k,De,i.COLOR_ATTACHMENT0+Ae,i.TEXTURE_2D,0),d(De)&&g(i.TEXTURE_2D)}e.unbindTexture()}else{let Ae=i.TEXTURE_2D;if((k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(Ae=k.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),e.bindTexture(Ae,se.__webglTexture),Z(Ae,R),R.mipmaps&&R.mipmaps.length>0)for(let ue=0;ue<R.mipmaps.length;ue++)j(W.__webglFramebuffer[ue],k,R,i.COLOR_ATTACHMENT0,Ae,ue);else j(W.__webglFramebuffer,k,R,i.COLOR_ATTACHMENT0,Ae,0);d(R)&&g(Ae),e.unbindTexture()}k.depthBuffer&&he(k)}function Se(k){const R=k.textures;for(let W=0,se=R.length;W<se;W++){const ne=R[W];if(d(ne)){const K=m(k),_e=n.get(ne).__webglTexture;e.bindTexture(K,_e),g(K),e.unbindTexture()}}}const ft=[],N=[];function Lt(k){if(k.samples>0){if(Ne(k)===!1){const R=k.textures,W=k.width,se=k.height;let ne=i.COLOR_BUFFER_BIT;const K=k.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,_e=n.get(k),Ae=R.length>1;if(Ae)for(let ue=0;ue<R.length;ue++)e.bindFramebuffer(i.FRAMEBUFFER,_e.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ue,i.RENDERBUFFER,null),e.bindFramebuffer(i.FRAMEBUFFER,_e.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ue,i.TEXTURE_2D,null,0);e.bindFramebuffer(i.READ_FRAMEBUFFER,_e.__webglMultisampledFramebuffer),e.bindFramebuffer(i.DRAW_FRAMEBUFFER,_e.__webglFramebuffer);for(let ue=0;ue<R.length;ue++){if(k.resolveDepthBuffer&&(k.depthBuffer&&(ne|=i.DEPTH_BUFFER_BIT),k.stencilBuffer&&k.resolveStencilBuffer&&(ne|=i.STENCIL_BUFFER_BIT)),Ae){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,_e.__webglColorRenderbuffer[ue]);const De=n.get(R[ue]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,De,0)}i.blitFramebuffer(0,0,W,se,0,0,W,se,ne,i.NEAREST),l===!0&&(ft.length=0,N.length=0,ft.push(i.COLOR_ATTACHMENT0+ue),k.depthBuffer&&k.resolveDepthBuffer===!1&&(ft.push(K),N.push(K),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,N)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,ft))}if(e.bindFramebuffer(i.READ_FRAMEBUFFER,null),e.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),Ae)for(let ue=0;ue<R.length;ue++){e.bindFramebuffer(i.FRAMEBUFFER,_e.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ue,i.RENDERBUFFER,_e.__webglColorRenderbuffer[ue]);const De=n.get(R[ue]).__webglTexture;e.bindFramebuffer(i.FRAMEBUFFER,_e.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ue,i.TEXTURE_2D,De,0)}e.bindFramebuffer(i.DRAW_FRAMEBUFFER,_e.__webglMultisampledFramebuffer)}else if(k.depthBuffer&&k.resolveDepthBuffer===!1&&l){const R=k.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[R])}}}function Oe(k){return Math.min(r.maxSamples,k.samples)}function Ne(k){const R=n.get(k);return k.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&R.__useRenderToTexture!==!1}function Be(k){const R=a.render.frame;x.get(k)!==R&&(x.set(k,R),k.update())}function Pe(k,R){const W=k.colorSpace,se=k.format,ne=k.type;return k.isCompressedTexture===!0||k.isVideoTexture===!0||W!==Dl&&W!==yo&&(Dt.getTransfer(W)===$t?(se!==Zr||ne!==Aa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",W)),R}function Te(k){return typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement?(c.width=k.naturalWidth||k.width,c.height=k.naturalHeight||k.height):typeof VideoFrame<"u"&&k instanceof VideoFrame?(c.width=k.displayWidth,c.height=k.displayHeight):(c.width=k.width,c.height=k.height),c}this.allocateTextureUnit=T,this.resetTextureUnits=S,this.setTexture2D=M,this.setTexture2DArray=D,this.setTexture3D=U,this.setTextureCube=F,this.rebindTextures=Ee,this.setupRenderTarget=ae,this.updateRenderTargetMipmap=Se,this.updateMultisampleRenderTarget=Lt,this.setupDepthRenderbuffer=he,this.setupFrameBufferTexture=j,this.useMultisampledRTT=Ne}function $V(i,t){function e(n,r=yo){let s;const a=Dt.getTransfer(r);if(n===Aa)return i.UNSIGNED_BYTE;if(n===Rb)return i.UNSIGNED_SHORT_4_4_4_4;if(n===Tb)return i.UNSIGNED_SHORT_5_5_5_1;if(n===s5)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===i5)return i.BYTE;if(n===r5)return i.SHORT;if(n===Zf)return i.UNSIGNED_SHORT;if(n===Mb)return i.INT;if(n===v0)return i.UNSIGNED_INT;if(n===da)return i.FLOAT;if(n===$f)return i.HALF_FLOAT;if(n===a5)return i.ALPHA;if(n===o5)return i.RGB;if(n===Zr)return i.RGBA;if(n===c5)return i.LUMINANCE;if(n===l5)return i.LUMINANCE_ALPHA;if(n===Rl)return i.DEPTH_COMPONENT;if(n===Tl)return i.DEPTH_STENCIL;if(n===x5)return i.RED;if(n===Db)return i.RED_INTEGER;if(n===u5)return i.RG;if(n===Qb)return i.RG_INTEGER;if(n===Lb)return i.RGBA_INTEGER;if(n===x_||n===u_||n===f_||n===h_)if(a===$t)if(s=t.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(n===x_)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===u_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===f_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===h_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=t.get("WEBGL_compressed_texture_s3tc"),s!==null){if(n===x_)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===u_)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===f_)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===h_)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===Fb||n===kb||n===Pb||n===Ub)if(s=t.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(n===Fb)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===kb)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Pb)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Ub)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===Nb||n===Ob||n===Gb)if(s=t.get("WEBGL_compressed_texture_etc"),s!==null){if(n===Nb||n===Ob)return a===$t?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(n===Gb)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===zb||n===Vb||n===Hb||n===qb||n===Yb||n===Wb||n===Xb||n===Kb||n===Jb||n===jb||n===Zb||n===$b||n===eC||n===tC)if(s=t.get("WEBGL_compressed_texture_astc"),s!==null){if(n===zb)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Vb)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Hb)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===qb)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Yb)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Wb)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Xb)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Kb)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Jb)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===jb)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Zb)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===$b)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===eC)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===tC)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===A_||n===nC||n===iC)if(s=t.get("EXT_texture_compression_bptc"),s!==null){if(n===A_)return a===$t?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===nC)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===iC)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===f5||n===rC||n===sC||n===aC)if(s=t.get("EXT_texture_compression_rgtc"),s!==null){if(n===A_)return s.COMPRESSED_RED_RGTC1_EXT;if(n===rC)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===sC)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===aC)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Ml?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:e}}const eH={type:"move"};class OC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new D0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new D0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new X,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new X),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new D0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new X,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new X),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const n of t.hand.values())this._getHandJoint(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,n){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(c&&t.hand){a=!0;for(const p of t.hand.values()){const d=e.getJointPose(p,n),g=this._getHandJoint(c,p);d!==null&&(g.matrix.fromArray(d.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=d.radius),g.visible=d!==null}const x=c.joints["index-finger-tip"],u=c.joints["thumb-tip"],f=x.position.distanceTo(u.position),h=.02,A=.005;c.inputState.pinching&&f>h+A?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&f<=h-A&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else l!==null&&t.gripSpace&&(s=e.getPose(t.gripSpace,n),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=e.getPose(t.targetRaySpace,n),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(eH)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const n=new D0;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}const tH=`
=======
}`;function GX(i,e,t){let n=new J8;const r=new It,s=new It,a=new cn,o=new XV({depthPacking:zz}),l=new WV,c={},x=t.maxTextureSize,u={[Lo]:er,[er]:Lo,[va]:va},h=new Ua({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new It},radius:{value:4}},vertexShader:NX,fragmentShader:OX}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const A=new ks;A.setAttribute("position",new hs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Us(A,h),d=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=$M;let p=this.type;this.render=function(E,C,w){if(d.enabled===!1||d.autoUpdate===!1&&d.needsUpdate===!1||E.length===0)return;const b=i.getRenderTarget(),v=i.getActiveCubeFace(),B=i.getActiveMipmapLevel(),R=i.state;R.setBlending(Po),R.buffers.color.setClear(1,1,1,1),R.buffers.depth.setTest(!0),R.setScissorTest(!1);const T=p!==ba&&this.type===ba,F=p===ba&&this.type!==ba;for(let M=0,D=E.length;M<D;M++){const P=E[M],k=P.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",P,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;r.copy(k.mapSize);const V=k.getFrameExtents();if(r.multiply(V),s.copy(k.mapSize),(r.x>x||r.y>x)&&(r.x>x&&(s.x=Math.floor(x/V.x),r.x=s.x*V.x,k.mapSize.x=s.x),r.y>x&&(s.y=Math.floor(x/V.y),r.y=s.y*V.y,k.mapSize.y=s.y)),k.map===null||T===!0||F===!0){const U=this.type!==ba?{minFilter:as,magFilter:as}:{};k.map!==null&&k.map.dispose(),k.map=new q0(r.x,r.y,U),k.map.texture.name=P.name+".shadowMap",k.camera.updateProjectionMatrix()}i.setRenderTarget(k.map),i.clear();const Y=k.getViewportCount();for(let U=0;U<Y;U++){const ne=k.getViewport(U);a.set(s.x*ne.x,s.y*ne.y,s.x*ne.z,s.y*ne.w),R.viewport(a),k.updateMatrices(P,U),n=k.getFrustum(),_(C,w,k.camera,P,this.type)}k.isPointLightShadow!==!0&&this.type===ba&&m(k,w),k.needsUpdate=!1}p=this.type,d.needsUpdate=!1,i.setRenderTarget(b,v,B)};function m(E,C){const w=e.update(g);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,f.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new q0(r.x,r.y)),h.uniforms.shadow_pass.value=E.map.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,i.setRenderTarget(E.mapPass),i.clear(),i.renderBufferDirect(C,null,w,h,g,null),f.uniforms.shadow_pass.value=E.mapPass.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,i.setRenderTarget(E.map),i.clear(),i.renderBufferDirect(C,null,w,f,g,null)}function I(E,C,w,b){let v=null;const B=w.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(B!==void 0)v=B;else if(v=w.isPointLight===!0?l:o,i.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const R=v.uuid,T=C.uuid;let F=c[R];F===void 0&&(F={},c[R]=F);let M=F[T];M===void 0&&(M=v.clone(),F[T]=M,C.addEventListener("dispose",y)),v=M}if(v.visible=C.visible,v.wireframe=C.wireframe,b===ba?v.side=C.shadowSide!==null?C.shadowSide:C.side:v.side=C.shadowSide!==null?C.shadowSide:u[C.side],v.alphaMap=C.alphaMap,v.alphaTest=C.alphaTest,v.map=C.map,v.clipShadows=C.clipShadows,v.clippingPlanes=C.clippingPlanes,v.clipIntersection=C.clipIntersection,v.displacementMap=C.displacementMap,v.displacementScale=C.displacementScale,v.displacementBias=C.displacementBias,v.wireframeLinewidth=C.wireframeLinewidth,v.linewidth=C.linewidth,w.isPointLight===!0&&v.isMeshDistanceMaterial===!0){const R=i.properties.get(v);R.light=w}return v}function _(E,C,w,b,v){if(E.visible===!1)return;if(E.layers.test(C.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&v===ba)&&(!E.frustumCulled||n.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(w.matrixWorldInverse,E.matrixWorld);const T=e.update(E),F=E.material;if(Array.isArray(F)){const M=T.groups;for(let D=0,P=M.length;D<P;D++){const k=M[D],V=F[k.materialIndex];if(V&&V.visible){const Y=I(E,V,b,v);E.onBeforeShadow(i,E,C,w,T,Y,k),i.renderBufferDirect(w,null,T,Y,E,k),E.onAfterShadow(i,E,C,w,T,Y,k)}}}else if(F.visible){const M=I(E,F,b,v);E.onBeforeShadow(i,E,C,w,T,M,null),i.renderBufferDirect(w,null,T,M,E,null),E.onAfterShadow(i,E,C,w,T,M,null)}}const R=E.children;for(let T=0,F=R.length;T<F;T++)_(R[T],C,w,b,v)}function y(E){E.target.removeEventListener("dispose",y);for(const w in c){const b=c[w],v=E.target.uuid;v in b&&(b[v].dispose(),delete b[v])}}}const zX={[Db]:Qb,[Fb]:kb,[Lb]:Ub,[ex]:Pb,[Qb]:Db,[kb]:Fb,[Ub]:Lb,[Pb]:ex};function VX(i,e){function t(){let z=!1;const _e=new cn;let J=null;const re=new cn(0,0,0,0);return{setMask:function(we){J!==we&&!z&&(i.colorMask(we,we,we,we),J=we)},setLocked:function(we){z=we},setClear:function(we,ve,Ke,un,jt){jt===!0&&(we*=un,ve*=un,Ke*=un),_e.set(we,ve,Ke,un),re.equals(_e)===!1&&(i.clearColor(we,ve,Ke,un),re.copy(_e))},reset:function(){z=!1,J=null,re.set(-1,0,0,0)}}}function n(){let z=!1,_e=!1,J=null,re=null,we=null;return{setReversed:function(ve){if(_e!==ve){const Ke=e.get("EXT_clip_control");_e?Ke.clipControlEXT(Ke.LOWER_LEFT_EXT,Ke.ZERO_TO_ONE_EXT):Ke.clipControlEXT(Ke.LOWER_LEFT_EXT,Ke.NEGATIVE_ONE_TO_ONE_EXT);const un=we;we=null,this.setClear(un)}_e=ve},getReversed:function(){return _e},setTest:function(ve){ve?K(i.DEPTH_TEST):ce(i.DEPTH_TEST)},setMask:function(ve){J!==ve&&!z&&(i.depthMask(ve),J=ve)},setFunc:function(ve){if(_e&&(ve=zX[ve]),re!==ve){switch(ve){case Db:i.depthFunc(i.NEVER);break;case Qb:i.depthFunc(i.ALWAYS);break;case Fb:i.depthFunc(i.LESS);break;case ex:i.depthFunc(i.LEQUAL);break;case Lb:i.depthFunc(i.EQUAL);break;case Pb:i.depthFunc(i.GEQUAL);break;case kb:i.depthFunc(i.GREATER);break;case Ub:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}re=ve}},setLocked:function(ve){z=ve},setClear:function(ve){we!==ve&&(_e&&(ve=1-ve),i.clearDepth(ve),we=ve)},reset:function(){z=!1,J=null,re=null,we=null,_e=!1}}}function r(){let z=!1,_e=null,J=null,re=null,we=null,ve=null,Ke=null,un=null,jt=null;return{setTest:function(dt){z||(dt?K(i.STENCIL_TEST):ce(i.STENCIL_TEST))},setMask:function(dt){_e!==dt&&!z&&(i.stencilMask(dt),_e=dt)},setFunc:function(dt,_n,Gn){(J!==dt||re!==_n||we!==Gn)&&(i.stencilFunc(dt,_n,Gn),J=dt,re=_n,we=Gn)},setOp:function(dt,_n,Gn){(ve!==dt||Ke!==_n||un!==Gn)&&(i.stencilOp(dt,_n,Gn),ve=dt,Ke=_n,un=Gn)},setLocked:function(dt){z=dt},setClear:function(dt){jt!==dt&&(i.clearStencil(dt),jt=dt)},reset:function(){z=!1,_e=null,J=null,re=null,we=null,ve=null,Ke=null,un=null,jt=null}}}const s=new t,a=new n,o=new r,l=new WeakMap,c=new WeakMap;let x={},u={},h=new WeakMap,f=[],A=null,g=!1,d=null,p=null,m=null,I=null,_=null,y=null,E=null,C=new Rt(0,0,0),w=0,b=!1,v=null,B=null,R=null,T=null,F=null;const M=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let D=!1,P=0;const k=i.getParameter(i.VERSION);k.indexOf("WebGL")!==-1?(P=parseFloat(/^WebGL (\d)/.exec(k)[1]),D=P>=1):k.indexOf("OpenGL ES")!==-1&&(P=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),D=P>=2);let V=null,Y={};const U=i.getParameter(i.SCISSOR_BOX),ne=i.getParameter(i.VIEWPORT),xe=new cn().fromArray(U),G=new cn().fromArray(ne);function O(z,_e,J,re){const we=new Uint8Array(4),ve=i.createTexture();i.bindTexture(z,ve),i.texParameteri(z,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(z,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Ke=0;Ke<J;Ke++)z===i.TEXTURE_3D||z===i.TEXTURE_2D_ARRAY?i.texImage3D(_e,0,i.RGBA,1,1,re,0,i.RGBA,i.UNSIGNED_BYTE,we):i.texImage2D(_e+Ke,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,we);return ve}const ee={};ee[i.TEXTURE_2D]=O(i.TEXTURE_2D,i.TEXTURE_2D,1),ee[i.TEXTURE_CUBE_MAP]=O(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),ee[i.TEXTURE_2D_ARRAY]=O(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),ee[i.TEXTURE_3D]=O(i.TEXTURE_3D,i.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),K(i.DEPTH_TEST),a.setFunc(ex),ze(!1),Ge(ZM),K(i.CULL_FACE),N(Po);function K(z){x[z]!==!0&&(i.enable(z),x[z]=!0)}function ce(z){x[z]!==!1&&(i.disable(z),x[z]=!1)}function Ae(z,_e){return u[z]!==_e?(i.bindFramebuffer(z,_e),u[z]=_e,z===i.DRAW_FRAMEBUFFER&&(u[i.FRAMEBUFFER]=_e),z===i.FRAMEBUFFER&&(u[i.DRAW_FRAMEBUFFER]=_e),!0):!1}function ge(z,_e){let J=f,re=!1;if(z){J=h.get(_e),J===void 0&&(J=[],h.set(_e,J));const we=z.textures;if(J.length!==we.length||J[0]!==i.COLOR_ATTACHMENT0){for(let ve=0,Ke=we.length;ve<Ke;ve++)J[ve]=i.COLOR_ATTACHMENT0+ve;J.length=we.length,re=!0}}else J[0]!==i.BACK&&(J[0]=i.BACK,re=!0);re&&i.drawBuffers(J)}function oe(z){return A!==z?(i.useProgram(z),A=z,!0):!1}const Se={[z0]:i.FUNC_ADD,[Az]:i.FUNC_SUBTRACT,[dz]:i.FUNC_REVERSE_SUBTRACT};Se[pz]=i.MIN,Se[gz]=i.MAX;const At={[mz]:i.ZERO,[_z]:i.ONE,[Iz]:i.SRC_COLOR,[Rb]:i.SRC_ALPHA,[wz]:i.SRC_ALPHA_SATURATE,[bz]:i.DST_COLOR,[yz]:i.DST_ALPHA,[Ez]:i.ONE_MINUS_SRC_COLOR,[Tb]:i.ONE_MINUS_SRC_ALPHA,[vz]:i.ONE_MINUS_DST_COLOR,[Cz]:i.ONE_MINUS_DST_ALPHA,[Bz]:i.CONSTANT_COLOR,[Sz]:i.ONE_MINUS_CONSTANT_COLOR,[Mz]:i.CONSTANT_ALPHA,[Rz]:i.ONE_MINUS_CONSTANT_ALPHA};function N(z,_e,J,re,we,ve,Ke,un,jt,dt){if(z===Po){g===!0&&(ce(i.BLEND),g=!1);return}if(g===!1&&(K(i.BLEND),g=!0),z!==fz){if(z!==d||dt!==b){if((p!==z0||_!==z0)&&(i.blendEquation(i.FUNC_ADD),p=z0,_=z0),dt)switch(z){case $l:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case e8:i.blendFunc(i.ONE,i.ONE);break;case t8:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case n8:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}else switch(z){case $l:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case e8:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case t8:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case n8:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}m=null,I=null,y=null,E=null,C.set(0,0,0),w=0,d=z,b=dt}return}we=we||_e,ve=ve||J,Ke=Ke||re,(_e!==p||we!==_)&&(i.blendEquationSeparate(Se[_e],Se[we]),p=_e,_=we),(J!==m||re!==I||ve!==y||Ke!==E)&&(i.blendFuncSeparate(At[J],At[re],At[ve],At[Ke]),m=J,I=re,y=ve,E=Ke),(un.equals(C)===!1||jt!==w)&&(i.blendColor(un.r,un.g,un.b,jt),C.copy(un),w=jt),d=z,b=!1}function Nt(z,_e){z.side===va?ce(i.CULL_FACE):K(i.CULL_FACE);let J=z.side===er;_e&&(J=!J),ze(J),z.blending===$l&&z.transparent===!1?N(Po):N(z.blending,z.blendEquation,z.blendSrc,z.blendDst,z.blendEquationAlpha,z.blendSrcAlpha,z.blendDstAlpha,z.blendColor,z.blendAlpha,z.premultipliedAlpha),a.setFunc(z.depthFunc),a.setTest(z.depthTest),a.setMask(z.depthWrite),s.setMask(z.colorWrite);const re=z.stencilWrite;o.setTest(re),re&&(o.setMask(z.stencilWriteMask),o.setFunc(z.stencilFunc,z.stencilRef,z.stencilFuncMask),o.setOp(z.stencilFail,z.stencilZFail,z.stencilZPass)),ke(z.polygonOffset,z.polygonOffsetFactor,z.polygonOffsetUnits),z.alphaToCoverage===!0?K(i.SAMPLE_ALPHA_TO_COVERAGE):ce(i.SAMPLE_ALPHA_TO_COVERAGE)}function ze(z){v!==z&&(z?i.frontFace(i.CW):i.frontFace(i.CCW),v=z)}function Ge(z){z!==xz?(K(i.CULL_FACE),z!==B&&(z===ZM?i.cullFace(i.BACK):z===uz?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):ce(i.CULL_FACE),B=z}function Be(z){z!==R&&(D&&i.lineWidth(z),R=z)}function ke(z,_e,J){z?(K(i.POLYGON_OFFSET_FILL),(T!==_e||F!==J)&&(i.polygonOffset(_e,J),T=_e,F=J)):ce(i.POLYGON_OFFSET_FILL)}function Re(z){z?K(i.SCISSOR_TEST):ce(i.SCISSOR_TEST)}function L(z){z===void 0&&(z=i.TEXTURE0+M-1),V!==z&&(i.activeTexture(z),V=z)}function S(z,_e,J){J===void 0&&(V===null?J=i.TEXTURE0+M-1:J=V);let re=Y[J];re===void 0&&(re={type:void 0,texture:void 0},Y[J]=re),(re.type!==z||re.texture!==_e)&&(V!==J&&(i.activeTexture(J),V=J),i.bindTexture(z,_e||ee[z]),re.type=z,re.texture=_e)}function X(){const z=Y[V];z!==void 0&&z.type!==void 0&&(i.bindTexture(z.type,null),z.type=void 0,z.texture=void 0)}function se(){try{i.compressedTexImage2D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function te(){try{i.compressedTexImage3D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function j(){try{i.texSubImage2D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Ie(){try{i.texSubImage3D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function fe(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function ue(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Te(){try{i.texStorage2D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function le(){try{i.texStorage3D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function me(){try{i.texImage2D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Fe(){try{i.texImage3D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Ue(z){xe.equals(z)===!1&&(i.scissor(z.x,z.y,z.z,z.w),xe.copy(z))}function ye(z){G.equals(z)===!1&&(i.viewport(z.x,z.y,z.z,z.w),G.copy(z))}function Xe(z,_e){let J=c.get(_e);J===void 0&&(J=new WeakMap,c.set(_e,J));let re=J.get(z);re===void 0&&(re=i.getUniformBlockIndex(_e,z.name),J.set(z,re))}function Qe(z,_e){const re=c.get(_e).get(z);l.get(_e)!==re&&(i.uniformBlockBinding(_e,re,z.__bindingPointIndex),l.set(_e,re))}function rt(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),a.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),x={},V=null,Y={},u={},h=new WeakMap,f=[],A=null,g=!1,d=null,p=null,m=null,I=null,_=null,y=null,E=null,C=new Rt(0,0,0),w=0,b=!1,v=null,B=null,R=null,T=null,F=null,xe.set(0,0,i.canvas.width,i.canvas.height),G.set(0,0,i.canvas.width,i.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:K,disable:ce,bindFramebuffer:Ae,drawBuffers:ge,useProgram:oe,setBlending:N,setMaterial:Nt,setFlipSided:ze,setCullFace:Ge,setLineWidth:Be,setPolygonOffset:ke,setScissorTest:Re,activeTexture:L,bindTexture:S,unbindTexture:X,compressedTexImage2D:se,compressedTexImage3D:te,texImage2D:me,texImage3D:Fe,updateUBOMapping:Xe,uniformBlockBinding:Qe,texStorage2D:Te,texStorage3D:le,texSubImage2D:j,texSubImage3D:Ie,compressedTexSubImage2D:fe,compressedTexSubImage3D:ue,scissor:Ue,viewport:ye,reset:rt}}function HX(i,e,t,n,r,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new It,x=new WeakMap;let u;const h=new WeakMap;let f=!1;try{f=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(L,S){return f?new OffscreenCanvas(L,S):c_("canvas")}function g(L,S,X){let se=1;const te=Re(L);if((te.width>X||te.height>X)&&(se=X/Math.max(te.width,te.height)),se<1)if(typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&L instanceof ImageBitmap||typeof VideoFrame<"u"&&L instanceof VideoFrame){const j=Math.floor(se*te.width),Ie=Math.floor(se*te.height);u===void 0&&(u=A(j,Ie));const fe=S?A(j,Ie):u;return fe.width=j,fe.height=Ie,fe.getContext("2d").drawImage(L,0,0,j,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+te.width+"x"+te.height+") to ("+j+"x"+Ie+")."),fe}else return"data"in L&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+te.width+"x"+te.height+")."),L;return L}function d(L){return L.generateMipmaps}function p(L){i.generateMipmap(L)}function m(L){return L.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:L.isWebGL3DRenderTarget?i.TEXTURE_3D:L.isWebGLArrayRenderTarget||L.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function I(L,S,X,se,te=!1){if(L!==null){if(i[L]!==void 0)return i[L];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+L+"'")}let j=S;if(S===i.RED&&(X===i.FLOAT&&(j=i.R32F),X===i.HALF_FLOAT&&(j=i.R16F),X===i.UNSIGNED_BYTE&&(j=i.R8)),S===i.RED_INTEGER&&(X===i.UNSIGNED_BYTE&&(j=i.R8UI),X===i.UNSIGNED_SHORT&&(j=i.R16UI),X===i.UNSIGNED_INT&&(j=i.R32UI),X===i.BYTE&&(j=i.R8I),X===i.SHORT&&(j=i.R16I),X===i.INT&&(j=i.R32I)),S===i.RG&&(X===i.FLOAT&&(j=i.RG32F),X===i.HALF_FLOAT&&(j=i.RG16F),X===i.UNSIGNED_BYTE&&(j=i.RG8)),S===i.RG_INTEGER&&(X===i.UNSIGNED_BYTE&&(j=i.RG8UI),X===i.UNSIGNED_SHORT&&(j=i.RG16UI),X===i.UNSIGNED_INT&&(j=i.RG32UI),X===i.BYTE&&(j=i.RG8I),X===i.SHORT&&(j=i.RG16I),X===i.INT&&(j=i.RG32I)),S===i.RGB_INTEGER&&(X===i.UNSIGNED_BYTE&&(j=i.RGB8UI),X===i.UNSIGNED_SHORT&&(j=i.RGB16UI),X===i.UNSIGNED_INT&&(j=i.RGB32UI),X===i.BYTE&&(j=i.RGB8I),X===i.SHORT&&(j=i.RGB16I),X===i.INT&&(j=i.RGB32I)),S===i.RGBA_INTEGER&&(X===i.UNSIGNED_BYTE&&(j=i.RGBA8UI),X===i.UNSIGNED_SHORT&&(j=i.RGBA16UI),X===i.UNSIGNED_INT&&(j=i.RGBA32UI),X===i.BYTE&&(j=i.RGBA8I),X===i.SHORT&&(j=i.RGBA16I),X===i.INT&&(j=i.RGBA32I)),S===i.RGB&&X===i.UNSIGNED_INT_5_9_9_9_REV&&(j=i.RGB9_E5),S===i.RGBA){const Ie=te?a_:Mt.getTransfer(se);X===i.FLOAT&&(j=i.RGBA32F),X===i.HALF_FLOAT&&(j=i.RGBA16F),X===i.UNSIGNED_BYTE&&(j=Ie===$t?i.SRGB8_ALPHA8:i.RGBA8),X===i.UNSIGNED_SHORT_4_4_4_4&&(j=i.RGBA4),X===i.UNSIGNED_SHORT_5_5_5_1&&(j=i.RGB5_A1)}return(j===i.R16F||j===i.R32F||j===i.RG16F||j===i.RG32F||j===i.RGBA16F||j===i.RGBA32F)&&e.get("EXT_color_buffer_float"),j}function _(L,S){let X;return L?S===null||S===H0||S===ix?X=i.DEPTH24_STENCIL8:S===Sa?X=i.DEPTH32F_STENCIL8:S===Tf&&(X=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):S===null||S===H0||S===ix?X=i.DEPTH_COMPONENT24:S===Sa?X=i.DEPTH_COMPONENT32F:S===Tf&&(X=i.DEPTH_COMPONENT16),X}function y(L,S){return d(L)===!0||L.isFramebufferTexture&&L.minFilter!==as&&L.minFilter!==Qr?Math.log2(Math.max(S.width,S.height))+1:L.mipmaps!==void 0&&L.mipmaps.length>0?L.mipmaps.length:L.isCompressedTexture&&Array.isArray(L.image)?S.mipmaps.length:1}function E(L){const S=L.target;S.removeEventListener("dispose",E),w(S),S.isVideoTexture&&x.delete(S)}function C(L){const S=L.target;S.removeEventListener("dispose",C),v(S)}function w(L){const S=n.get(L);if(S.__webglInit===void 0)return;const X=L.source,se=h.get(X);if(se){const te=se[S.__cacheKey];te.usedTimes--,te.usedTimes===0&&b(L),Object.keys(se).length===0&&h.delete(X)}n.remove(L)}function b(L){const S=n.get(L);i.deleteTexture(S.__webglTexture);const X=L.source,se=h.get(X);delete se[S.__cacheKey],a.memory.textures--}function v(L){const S=n.get(L);if(L.depthTexture&&(L.depthTexture.dispose(),n.remove(L.depthTexture)),L.isWebGLCubeRenderTarget)for(let se=0;se<6;se++){if(Array.isArray(S.__webglFramebuffer[se]))for(let te=0;te<S.__webglFramebuffer[se].length;te++)i.deleteFramebuffer(S.__webglFramebuffer[se][te]);else i.deleteFramebuffer(S.__webglFramebuffer[se]);S.__webglDepthbuffer&&i.deleteRenderbuffer(S.__webglDepthbuffer[se])}else{if(Array.isArray(S.__webglFramebuffer))for(let se=0;se<S.__webglFramebuffer.length;se++)i.deleteFramebuffer(S.__webglFramebuffer[se]);else i.deleteFramebuffer(S.__webglFramebuffer);if(S.__webglDepthbuffer&&i.deleteRenderbuffer(S.__webglDepthbuffer),S.__webglMultisampledFramebuffer&&i.deleteFramebuffer(S.__webglMultisampledFramebuffer),S.__webglColorRenderbuffer)for(let se=0;se<S.__webglColorRenderbuffer.length;se++)S.__webglColorRenderbuffer[se]&&i.deleteRenderbuffer(S.__webglColorRenderbuffer[se]);S.__webglDepthRenderbuffer&&i.deleteRenderbuffer(S.__webglDepthRenderbuffer)}const X=L.textures;for(let se=0,te=X.length;se<te;se++){const j=n.get(X[se]);j.__webglTexture&&(i.deleteTexture(j.__webglTexture),a.memory.textures--),n.remove(X[se])}n.remove(L)}let B=0;function R(){B=0}function T(){const L=B;return L>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+L+" texture units while this GPU supports only "+r.maxTextures),B+=1,L}function F(L){const S=[];return S.push(L.wrapS),S.push(L.wrapT),S.push(L.wrapR||0),S.push(L.magFilter),S.push(L.minFilter),S.push(L.anisotropy),S.push(L.internalFormat),S.push(L.format),S.push(L.type),S.push(L.generateMipmaps),S.push(L.premultiplyAlpha),S.push(L.flipY),S.push(L.unpackAlignment),S.push(L.colorSpace),S.join()}function M(L,S){const X=n.get(L);if(L.isVideoTexture&&Be(L),L.isRenderTargetTexture===!1&&L.version>0&&X.__version!==L.version){const se=L.image;if(se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{G(X,L,S);return}}t.bindTexture(i.TEXTURE_2D,X.__webglTexture,i.TEXTURE0+S)}function D(L,S){const X=n.get(L);if(L.version>0&&X.__version!==L.version){G(X,L,S);return}t.bindTexture(i.TEXTURE_2D_ARRAY,X.__webglTexture,i.TEXTURE0+S)}function P(L,S){const X=n.get(L);if(L.version>0&&X.__version!==L.version){G(X,L,S);return}t.bindTexture(i.TEXTURE_3D,X.__webglTexture,i.TEXTURE0+S)}function k(L,S){const X=n.get(L);if(L.version>0&&X.__version!==L.version){O(X,L,S);return}t.bindTexture(i.TEXTURE_CUBE_MAP,X.__webglTexture,i.TEXTURE0+S)}const V={[zb]:i.REPEAT,[wa]:i.CLAMP_TO_EDGE,[Vb]:i.MIRRORED_REPEAT},Y={[as]:i.NEAREST,[Oz]:i.NEAREST_MIPMAP_NEAREST,[e_]:i.NEAREST_MIPMAP_LINEAR,[Qr]:i.LINEAR,[Hb]:i.LINEAR_MIPMAP_NEAREST,[V0]:i.LINEAR_MIPMAP_LINEAR},U={[qz]:i.NEVER,[Jz]:i.ALWAYS,[Yz]:i.LESS,[d8]:i.LEQUAL,[Xz]:i.EQUAL,[Kz]:i.GEQUAL,[Wz]:i.GREATER,[jz]:i.NOTEQUAL};function ne(L,S){if(S.type===Sa&&e.has("OES_texture_float_linear")===!1&&(S.magFilter===Qr||S.magFilter===Hb||S.magFilter===e_||S.magFilter===V0||S.minFilter===Qr||S.minFilter===Hb||S.minFilter===e_||S.minFilter===V0)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(L,i.TEXTURE_WRAP_S,V[S.wrapS]),i.texParameteri(L,i.TEXTURE_WRAP_T,V[S.wrapT]),(L===i.TEXTURE_3D||L===i.TEXTURE_2D_ARRAY)&&i.texParameteri(L,i.TEXTURE_WRAP_R,V[S.wrapR]),i.texParameteri(L,i.TEXTURE_MAG_FILTER,Y[S.magFilter]),i.texParameteri(L,i.TEXTURE_MIN_FILTER,Y[S.minFilter]),S.compareFunction&&(i.texParameteri(L,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(L,i.TEXTURE_COMPARE_FUNC,U[S.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(S.magFilter===as||S.minFilter!==e_&&S.minFilter!==V0||S.type===Sa&&e.has("OES_texture_float_linear")===!1)return;if(S.anisotropy>1||n.get(S).__currentAnisotropy){const X=e.get("EXT_texture_filter_anisotropic");i.texParameterf(L,X.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(S.anisotropy,r.getMaxAnisotropy())),n.get(S).__currentAnisotropy=S.anisotropy}}}function xe(L,S){let X=!1;L.__webglInit===void 0&&(L.__webglInit=!0,S.addEventListener("dispose",E));const se=S.source;let te=h.get(se);te===void 0&&(te={},h.set(se,te));const j=F(S);if(j!==L.__cacheKey){te[j]===void 0&&(te[j]={texture:i.createTexture(),usedTimes:0},a.memory.textures++,X=!0),te[j].usedTimes++;const Ie=te[L.__cacheKey];Ie!==void 0&&(te[L.__cacheKey].usedTimes--,Ie.usedTimes===0&&b(S)),L.__cacheKey=j,L.__webglTexture=te[j].texture}return X}function G(L,S,X){let se=i.TEXTURE_2D;(S.isDataArrayTexture||S.isCompressedArrayTexture)&&(se=i.TEXTURE_2D_ARRAY),S.isData3DTexture&&(se=i.TEXTURE_3D);const te=xe(L,S),j=S.source;t.bindTexture(se,L.__webglTexture,i.TEXTURE0+X);const Ie=n.get(j);if(j.version!==Ie.__version||te===!0){t.activeTexture(i.TEXTURE0+X);const fe=Mt.getPrimaries(Mt.workingColorSpace),ue=S.colorSpace===Uo?null:Mt.getPrimaries(S.colorSpace),Te=S.colorSpace===Uo||fe===ue?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,S.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,S.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,S.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Te);let le=g(S.image,!1,r.maxTextureSize);le=ke(S,le);const me=s.convert(S.format,S.colorSpace),Fe=s.convert(S.type);let Ue=I(S.internalFormat,me,Fe,S.colorSpace,S.isVideoTexture);ne(se,S);let ye;const Xe=S.mipmaps,Qe=S.isVideoTexture!==!0,rt=Ie.__version===void 0||te===!0,z=j.dataReady,_e=y(S,le);if(S.isDepthTexture)Ue=_(S.format===sx,S.type),rt&&(Qe?t.texStorage2D(i.TEXTURE_2D,1,Ue,le.width,le.height):t.texImage2D(i.TEXTURE_2D,0,Ue,le.width,le.height,0,me,Fe,null));else if(S.isDataTexture)if(Xe.length>0){Qe&&rt&&t.texStorage2D(i.TEXTURE_2D,_e,Ue,Xe[0].width,Xe[0].height);for(let J=0,re=Xe.length;J<re;J++)ye=Xe[J],Qe?z&&t.texSubImage2D(i.TEXTURE_2D,J,0,0,ye.width,ye.height,me,Fe,ye.data):t.texImage2D(i.TEXTURE_2D,J,Ue,ye.width,ye.height,0,me,Fe,ye.data);S.generateMipmaps=!1}else Qe?(rt&&t.texStorage2D(i.TEXTURE_2D,_e,Ue,le.width,le.height),z&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,le.width,le.height,me,Fe,le.data)):t.texImage2D(i.TEXTURE_2D,0,Ue,le.width,le.height,0,me,Fe,le.data);else if(S.isCompressedTexture)if(S.isCompressedArrayTexture){Qe&&rt&&t.texStorage3D(i.TEXTURE_2D_ARRAY,_e,Ue,Xe[0].width,Xe[0].height,le.depth);for(let J=0,re=Xe.length;J<re;J++)if(ye=Xe[J],S.format!==os)if(me!==null)if(Qe){if(z)if(S.layerUpdates.size>0){const we=nR(ye.width,ye.height,S.format,S.type);for(const ve of S.layerUpdates){const Ke=ye.data.subarray(ve*we/ye.data.BYTES_PER_ELEMENT,(ve+1)*we/ye.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,J,0,0,ve,ye.width,ye.height,1,me,Ke)}S.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,J,0,0,0,ye.width,ye.height,le.depth,me,ye.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,J,Ue,ye.width,ye.height,le.depth,0,ye.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Qe?z&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,J,0,0,0,ye.width,ye.height,le.depth,me,Fe,ye.data):t.texImage3D(i.TEXTURE_2D_ARRAY,J,Ue,ye.width,ye.height,le.depth,0,me,Fe,ye.data)}else{Qe&&rt&&t.texStorage2D(i.TEXTURE_2D,_e,Ue,Xe[0].width,Xe[0].height);for(let J=0,re=Xe.length;J<re;J++)ye=Xe[J],S.format!==os?me!==null?Qe?z&&t.compressedTexSubImage2D(i.TEXTURE_2D,J,0,0,ye.width,ye.height,me,ye.data):t.compressedTexImage2D(i.TEXTURE_2D,J,Ue,ye.width,ye.height,0,ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Qe?z&&t.texSubImage2D(i.TEXTURE_2D,J,0,0,ye.width,ye.height,me,Fe,ye.data):t.texImage2D(i.TEXTURE_2D,J,Ue,ye.width,ye.height,0,me,Fe,ye.data)}else if(S.isDataArrayTexture)if(Qe){if(rt&&t.texStorage3D(i.TEXTURE_2D_ARRAY,_e,Ue,le.width,le.height,le.depth),z)if(S.layerUpdates.size>0){const J=nR(le.width,le.height,S.format,S.type);for(const re of S.layerUpdates){const we=le.data.subarray(re*J/le.data.BYTES_PER_ELEMENT,(re+1)*J/le.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,re,le.width,le.height,1,me,Fe,we)}S.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,le.width,le.height,le.depth,me,Fe,le.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,Ue,le.width,le.height,le.depth,0,me,Fe,le.data);else if(S.isData3DTexture)Qe?(rt&&t.texStorage3D(i.TEXTURE_3D,_e,Ue,le.width,le.height,le.depth),z&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,le.width,le.height,le.depth,me,Fe,le.data)):t.texImage3D(i.TEXTURE_3D,0,Ue,le.width,le.height,le.depth,0,me,Fe,le.data);else if(S.isFramebufferTexture){if(rt)if(Qe)t.texStorage2D(i.TEXTURE_2D,_e,Ue,le.width,le.height);else{let J=le.width,re=le.height;for(let we=0;we<_e;we++)t.texImage2D(i.TEXTURE_2D,we,Ue,J,re,0,me,Fe,null),J>>=1,re>>=1}}else if(Xe.length>0){if(Qe&&rt){const J=Re(Xe[0]);t.texStorage2D(i.TEXTURE_2D,_e,Ue,J.width,J.height)}for(let J=0,re=Xe.length;J<re;J++)ye=Xe[J],Qe?z&&t.texSubImage2D(i.TEXTURE_2D,J,0,0,me,Fe,ye):t.texImage2D(i.TEXTURE_2D,J,Ue,me,Fe,ye);S.generateMipmaps=!1}else if(Qe){if(rt){const J=Re(le);t.texStorage2D(i.TEXTURE_2D,_e,Ue,J.width,J.height)}z&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,me,Fe,le)}else t.texImage2D(i.TEXTURE_2D,0,Ue,me,Fe,le);d(S)&&p(se),Ie.__version=j.version,S.onUpdate&&S.onUpdate(S)}L.__version=S.version}function O(L,S,X){if(S.image.length!==6)return;const se=xe(L,S),te=S.source;t.bindTexture(i.TEXTURE_CUBE_MAP,L.__webglTexture,i.TEXTURE0+X);const j=n.get(te);if(te.version!==j.__version||se===!0){t.activeTexture(i.TEXTURE0+X);const Ie=Mt.getPrimaries(Mt.workingColorSpace),fe=S.colorSpace===Uo?null:Mt.getPrimaries(S.colorSpace),ue=S.colorSpace===Uo||Ie===fe?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,S.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,S.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,S.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,ue);const Te=S.isCompressedTexture||S.image[0].isCompressedTexture,le=S.image[0]&&S.image[0].isDataTexture,me=[];for(let re=0;re<6;re++)!Te&&!le?me[re]=g(S.image[re],!0,r.maxCubemapSize):me[re]=le?S.image[re].image:S.image[re],me[re]=ke(S,me[re]);const Fe=me[0],Ue=s.convert(S.format,S.colorSpace),ye=s.convert(S.type),Xe=I(S.internalFormat,Ue,ye,S.colorSpace),Qe=S.isVideoTexture!==!0,rt=j.__version===void 0||se===!0,z=te.dataReady;let _e=y(S,Fe);ne(i.TEXTURE_CUBE_MAP,S);let J;if(Te){Qe&&rt&&t.texStorage2D(i.TEXTURE_CUBE_MAP,_e,Xe,Fe.width,Fe.height);for(let re=0;re<6;re++){J=me[re].mipmaps;for(let we=0;we<J.length;we++){const ve=J[we];S.format!==os?Ue!==null?Qe?z&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we,0,0,ve.width,ve.height,Ue,ve.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we,Xe,ve.width,ve.height,0,ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Qe?z&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we,0,0,ve.width,ve.height,Ue,ye,ve.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we,Xe,ve.width,ve.height,0,Ue,ye,ve.data)}}}else{if(J=S.mipmaps,Qe&&rt){J.length>0&&_e++;const re=Re(me[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,_e,Xe,re.width,re.height)}for(let re=0;re<6;re++)if(le){Qe?z&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,0,0,0,me[re].width,me[re].height,Ue,ye,me[re].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,0,Xe,me[re].width,me[re].height,0,Ue,ye,me[re].data);for(let we=0;we<J.length;we++){const Ke=J[we].image[re].image;Qe?z&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we+1,0,0,Ke.width,Ke.height,Ue,ye,Ke.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we+1,Xe,Ke.width,Ke.height,0,Ue,ye,Ke.data)}}else{Qe?z&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,0,0,0,Ue,ye,me[re]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,0,Xe,Ue,ye,me[re]);for(let we=0;we<J.length;we++){const ve=J[we];Qe?z&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we+1,0,0,Ue,ye,ve.image[re]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we+1,Xe,Ue,ye,ve.image[re])}}}d(S)&&p(i.TEXTURE_CUBE_MAP),j.__version=te.version,S.onUpdate&&S.onUpdate(S)}L.__version=S.version}function ee(L,S,X,se,te,j){const Ie=s.convert(X.format,X.colorSpace),fe=s.convert(X.type),ue=I(X.internalFormat,Ie,fe,X.colorSpace),Te=n.get(S),le=n.get(X);if(le.__renderTarget=S,!Te.__hasExternalTextures){const me=Math.max(1,S.width>>j),Fe=Math.max(1,S.height>>j);te===i.TEXTURE_3D||te===i.TEXTURE_2D_ARRAY?t.texImage3D(te,j,ue,me,Fe,S.depth,0,Ie,fe,null):t.texImage2D(te,j,ue,me,Fe,0,Ie,fe,null)}t.bindFramebuffer(i.FRAMEBUFFER,L),Ge(S)?o.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,se,te,le.__webglTexture,0,ze(S)):(te===i.TEXTURE_2D||te>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&te<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,se,te,le.__webglTexture,j),t.bindFramebuffer(i.FRAMEBUFFER,null)}function K(L,S,X){if(i.bindRenderbuffer(i.RENDERBUFFER,L),S.depthBuffer){const se=S.depthTexture,te=se&&se.isDepthTexture?se.type:null,j=_(S.stencilBuffer,te),Ie=S.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,fe=ze(S);Ge(S)?o.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,fe,j,S.width,S.height):X?i.renderbufferStorageMultisample(i.RENDERBUFFER,fe,j,S.width,S.height):i.renderbufferStorage(i.RENDERBUFFER,j,S.width,S.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ie,i.RENDERBUFFER,L)}else{const se=S.textures;for(let te=0;te<se.length;te++){const j=se[te],Ie=s.convert(j.format,j.colorSpace),fe=s.convert(j.type),ue=I(j.internalFormat,Ie,fe,j.colorSpace),Te=ze(S);X&&Ge(S)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,Te,ue,S.width,S.height):Ge(S)?o.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Te,ue,S.width,S.height):i.renderbufferStorage(i.RENDERBUFFER,ue,S.width,S.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function ce(L,S){if(S&&S.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,L),!(S.depthTexture&&S.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const se=n.get(S.depthTexture);se.__renderTarget=S,(!se.__webglTexture||S.depthTexture.image.width!==S.width||S.depthTexture.image.height!==S.height)&&(S.depthTexture.image.width=S.width,S.depthTexture.image.height=S.height,S.depthTexture.needsUpdate=!0),M(S.depthTexture,0);const te=se.__webglTexture,j=ze(S);if(S.depthTexture.format===rx)Ge(S)?o.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,te,0,j):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,te,0);else if(S.depthTexture.format===sx)Ge(S)?o.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,te,0,j):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,te,0);else throw new Error("Unknown depthTexture format")}function Ae(L){const S=n.get(L),X=L.isWebGLCubeRenderTarget===!0;if(S.__boundDepthTexture!==L.depthTexture){const se=L.depthTexture;if(S.__depthDisposeCallback&&S.__depthDisposeCallback(),se){const te=()=>{delete S.__boundDepthTexture,delete S.__depthDisposeCallback,se.removeEventListener("dispose",te)};se.addEventListener("dispose",te),S.__depthDisposeCallback=te}S.__boundDepthTexture=se}if(L.depthTexture&&!S.__autoAllocateDepthBuffer){if(X)throw new Error("target.depthTexture not supported in Cube render targets");ce(S.__webglFramebuffer,L)}else if(X){S.__webglDepthbuffer=[];for(let se=0;se<6;se++)if(t.bindFramebuffer(i.FRAMEBUFFER,S.__webglFramebuffer[se]),S.__webglDepthbuffer[se]===void 0)S.__webglDepthbuffer[se]=i.createRenderbuffer(),K(S.__webglDepthbuffer[se],L,!1);else{const te=L.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,j=S.__webglDepthbuffer[se];i.bindRenderbuffer(i.RENDERBUFFER,j),i.framebufferRenderbuffer(i.FRAMEBUFFER,te,i.RENDERBUFFER,j)}}else if(t.bindFramebuffer(i.FRAMEBUFFER,S.__webglFramebuffer),S.__webglDepthbuffer===void 0)S.__webglDepthbuffer=i.createRenderbuffer(),K(S.__webglDepthbuffer,L,!1);else{const se=L.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,te=S.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,te),i.framebufferRenderbuffer(i.FRAMEBUFFER,se,i.RENDERBUFFER,te)}t.bindFramebuffer(i.FRAMEBUFFER,null)}function ge(L,S,X){const se=n.get(L);S!==void 0&&ee(se.__webglFramebuffer,L,L.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),X!==void 0&&Ae(L)}function oe(L){const S=L.texture,X=n.get(L),se=n.get(S);L.addEventListener("dispose",C);const te=L.textures,j=L.isWebGLCubeRenderTarget===!0,Ie=te.length>1;if(Ie||(se.__webglTexture===void 0&&(se.__webglTexture=i.createTexture()),se.__version=S.version,a.memory.textures++),j){X.__webglFramebuffer=[];for(let fe=0;fe<6;fe++)if(S.mipmaps&&S.mipmaps.length>0){X.__webglFramebuffer[fe]=[];for(let ue=0;ue<S.mipmaps.length;ue++)X.__webglFramebuffer[fe][ue]=i.createFramebuffer()}else X.__webglFramebuffer[fe]=i.createFramebuffer()}else{if(S.mipmaps&&S.mipmaps.length>0){X.__webglFramebuffer=[];for(let fe=0;fe<S.mipmaps.length;fe++)X.__webglFramebuffer[fe]=i.createFramebuffer()}else X.__webglFramebuffer=i.createFramebuffer();if(Ie)for(let fe=0,ue=te.length;fe<ue;fe++){const Te=n.get(te[fe]);Te.__webglTexture===void 0&&(Te.__webglTexture=i.createTexture(),a.memory.textures++)}if(L.samples>0&&Ge(L)===!1){X.__webglMultisampledFramebuffer=i.createFramebuffer(),X.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,X.__webglMultisampledFramebuffer);for(let fe=0;fe<te.length;fe++){const ue=te[fe];X.__webglColorRenderbuffer[fe]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,X.__webglColorRenderbuffer[fe]);const Te=s.convert(ue.format,ue.colorSpace),le=s.convert(ue.type),me=I(ue.internalFormat,Te,le,ue.colorSpace,L.isXRRenderTarget===!0),Fe=ze(L);i.renderbufferStorageMultisample(i.RENDERBUFFER,Fe,me,L.width,L.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+fe,i.RENDERBUFFER,X.__webglColorRenderbuffer[fe])}i.bindRenderbuffer(i.RENDERBUFFER,null),L.depthBuffer&&(X.__webglDepthRenderbuffer=i.createRenderbuffer(),K(X.__webglDepthRenderbuffer,L,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(j){t.bindTexture(i.TEXTURE_CUBE_MAP,se.__webglTexture),ne(i.TEXTURE_CUBE_MAP,S);for(let fe=0;fe<6;fe++)if(S.mipmaps&&S.mipmaps.length>0)for(let ue=0;ue<S.mipmaps.length;ue++)ee(X.__webglFramebuffer[fe][ue],L,S,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+fe,ue);else ee(X.__webglFramebuffer[fe],L,S,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0);d(S)&&p(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ie){for(let fe=0,ue=te.length;fe<ue;fe++){const Te=te[fe],le=n.get(Te);t.bindTexture(i.TEXTURE_2D,le.__webglTexture),ne(i.TEXTURE_2D,Te),ee(X.__webglFramebuffer,L,Te,i.COLOR_ATTACHMENT0+fe,i.TEXTURE_2D,0),d(Te)&&p(i.TEXTURE_2D)}t.unbindTexture()}else{let fe=i.TEXTURE_2D;if((L.isWebGL3DRenderTarget||L.isWebGLArrayRenderTarget)&&(fe=L.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(fe,se.__webglTexture),ne(fe,S),S.mipmaps&&S.mipmaps.length>0)for(let ue=0;ue<S.mipmaps.length;ue++)ee(X.__webglFramebuffer[ue],L,S,i.COLOR_ATTACHMENT0,fe,ue);else ee(X.__webglFramebuffer,L,S,i.COLOR_ATTACHMENT0,fe,0);d(S)&&p(fe),t.unbindTexture()}L.depthBuffer&&Ae(L)}function Se(L){const S=L.textures;for(let X=0,se=S.length;X<se;X++){const te=S[X];if(d(te)){const j=m(L),Ie=n.get(te).__webglTexture;t.bindTexture(j,Ie),p(j),t.unbindTexture()}}}const At=[],N=[];function Nt(L){if(L.samples>0){if(Ge(L)===!1){const S=L.textures,X=L.width,se=L.height;let te=i.COLOR_BUFFER_BIT;const j=L.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ie=n.get(L),fe=S.length>1;if(fe)for(let ue=0;ue<S.length;ue++)t.bindFramebuffer(i.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ue,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,Ie.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ue,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,Ie.__webglFramebuffer);for(let ue=0;ue<S.length;ue++){if(L.resolveDepthBuffer&&(L.depthBuffer&&(te|=i.DEPTH_BUFFER_BIT),L.stencilBuffer&&L.resolveStencilBuffer&&(te|=i.STENCIL_BUFFER_BIT)),fe){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,Ie.__webglColorRenderbuffer[ue]);const Te=n.get(S[ue]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Te,0)}i.blitFramebuffer(0,0,X,se,0,0,X,se,te,i.NEAREST),l===!0&&(At.length=0,N.length=0,At.push(i.COLOR_ATTACHMENT0+ue),L.depthBuffer&&L.resolveDepthBuffer===!1&&(At.push(j),N.push(j),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,N)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,At))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),fe)for(let ue=0;ue<S.length;ue++){t.bindFramebuffer(i.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ue,i.RENDERBUFFER,Ie.__webglColorRenderbuffer[ue]);const Te=n.get(S[ue]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,Ie.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ue,i.TEXTURE_2D,Te,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer)}else if(L.depthBuffer&&L.resolveDepthBuffer===!1&&l){const S=L.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[S])}}}function ze(L){return Math.min(r.maxSamples,L.samples)}function Ge(L){const S=n.get(L);return L.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&S.__useRenderToTexture!==!1}function Be(L){const S=a.render.frame;x.get(L)!==S&&(x.set(L,S),L.update())}function ke(L,S){const X=L.colorSpace,se=L.format,te=L.type;return L.isCompressedTexture===!0||L.isVideoTexture===!0||X!==ax&&X!==Uo&&(Mt.getTransfer(X)===$t?(se!==os||te!==Ba)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",X)),S}function Re(L){return typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement?(c.width=L.naturalWidth||L.width,c.height=L.naturalHeight||L.height):typeof VideoFrame<"u"&&L instanceof VideoFrame?(c.width=L.displayWidth,c.height=L.displayHeight):(c.width=L.width,c.height=L.height),c}this.allocateTextureUnit=T,this.resetTextureUnits=R,this.setTexture2D=M,this.setTexture2DArray=D,this.setTexture3D=P,this.setTextureCube=k,this.rebindTextures=ge,this.setupRenderTarget=oe,this.updateRenderTargetMipmap=Se,this.updateMultisampleRenderTarget=Nt,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=ee,this.useMultisampledRTT=Ge}function qX(i,e){function t(n,r=Uo){let s;const a=Mt.getTransfer(r);if(n===Ba)return i.UNSIGNED_BYTE;if(n===Yb)return i.UNSIGNED_SHORT_4_4_4_4;if(n===Xb)return i.UNSIGNED_SHORT_5_5_5_1;if(n===a8)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===r8)return i.BYTE;if(n===s8)return i.SHORT;if(n===Tf)return i.UNSIGNED_SHORT;if(n===qb)return i.INT;if(n===H0)return i.UNSIGNED_INT;if(n===Sa)return i.FLOAT;if(n===Df)return i.HALF_FLOAT;if(n===o8)return i.ALPHA;if(n===c8)return i.RGB;if(n===os)return i.RGBA;if(n===l8)return i.LUMINANCE;if(n===x8)return i.LUMINANCE_ALPHA;if(n===rx)return i.DEPTH_COMPONENT;if(n===sx)return i.DEPTH_STENCIL;if(n===u8)return i.RED;if(n===Wb)return i.RED_INTEGER;if(n===h8)return i.RG;if(n===jb)return i.RG_INTEGER;if(n===Kb)return i.RGBA_INTEGER;if(n===t_||n===n_||n===i_||n===r_)if(a===$t)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(n===t_)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===n_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===i_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===r_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(n===t_)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===n_)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===i_)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===r_)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===Jb||n===Zb||n===$b||n===ev)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(n===Jb)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Zb)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===$b)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===ev)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===tv||n===nv||n===iv)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(n===tv||n===nv)return a===$t?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(n===iv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===rv||n===sv||n===av||n===ov||n===cv||n===lv||n===xv||n===uv||n===hv||n===fv||n===Av||n===dv||n===pv||n===gv)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(n===rv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===sv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===av)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===ov)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===cv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===lv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===xv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===uv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===hv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===fv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Av)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===dv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===pv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===gv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===s_||n===mv||n===_v)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(n===s_)return a===$t?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===mv)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===_v)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===f8||n===Iv||n===Ev||n===yv)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(n===s_)return s.COMPRESSED_RED_RGTC1_EXT;if(n===Iv)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Ev)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===yv)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===ix?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const YX={type:"move"};class n3{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new J0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new J0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new W,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new W),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new J0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new W,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new W),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const g of e.hand.values()){const d=t.getJointPose(g,n),p=this._getHandJoint(c,g);d!==null&&(p.matrix.fromArray(d.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=d.radius),p.visible=d!==null}const x=c.joints["index-finger-tip"],u=c.joints["thumb-tip"],h=x.position.distanceTo(u.position),f=.02,A=.005;c.inputState.pinching&&h>f+A?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-A&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(YX)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new J0;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}const XX=`
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3
void main() {

	gl_Position = vec4( position, 1.0 );

}`,nH=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

<<<<<<< HEAD
}`;class iH{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,n){if(this.texture===null){const r=new Si,s=t.properties.get(r);s.__webglTexture=e.texture,(e.depthNear!=n.depthNear||e.depthFar!=n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(t){if(this.texture!==null&&this.mesh===null){const e=t.cameras[0].viewport,n=new va({vertexShader:tH,fragmentShader:nH,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new Ls(new U_(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class rH extends Ll{constructor(t,e){super();const n=this;let r=null,s=1,a=null,o="local-floor",l=1,c=null,x=null,u=null,f=null,h=null,A=null;const p=new iH,d=e.getContextAttributes();let g=null,m=null;const _=[],I=[],y=new Ct;let E=null;const b=new rs;b.viewport=new nn;const w=new rs;w.viewport=new nn;const C=[b,w],v=new rO;let B=null,S=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let O=_[G];return O===void 0&&(O=new OC,_[G]=O),O.getTargetRaySpace()},this.getControllerGrip=function(G){let O=_[G];return O===void 0&&(O=new OC,_[G]=O),O.getGripSpace()},this.getHand=function(G){let O=_[G];return O===void 0&&(O=new OC,_[G]=O),O.getHandSpace()};function T(G){const O=I.indexOf(G.inputSource);if(O===-1)return;const j=_[O];j!==void 0&&(j.update(G.inputSource,G.frame,c||a),j.dispatchEvent({type:G.type,data:G.inputSource}))}function Q(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",Q),r.removeEventListener("inputsourceschange",M);for(let G=0;G<_.length;G++){const O=I[G];O!==null&&(I[G]=null,_[G].disconnect(O))}B=null,S=null,p.reset(),t.setRenderTarget(g),h=null,f=null,u=null,r=null,m=null,ce.stop(),n.isPresenting=!1,t.setPixelRatio(E),t.setSize(y.width,y.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){s=G,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){o=G,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(G){c=G},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return u},this.getFrame=function(){return A},this.getSession=function(){return r},this.setSession=async function(G){if(r=G,r!==null){if(g=t.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",Q),r.addEventListener("inputsourceschange",M),d.xrCompatible!==!0&&await e.makeXRCompatible(),E=t.getPixelRatio(),t.getSize(y),r.renderState.layers===void 0){const O={antialias:d.antialias,alpha:!0,depth:d.depth,stencil:d.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(r,e,O),r.updateRenderState({baseLayer:h}),t.setPixelRatio(1),t.setSize(h.framebufferWidth,h.framebufferHeight,!1),m=new w0(h.framebufferWidth,h.framebufferHeight,{format:Zr,type:Aa,colorSpace:t.outputColorSpace,stencilBuffer:d.stencil})}else{let O=null,j=null,J=null;d.depth&&(J=d.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,O=d.stencil?Tl:Rl,j=d.stencil?Ml:v0);const le={colorFormat:e.RGBA8,depthFormat:J,scaleFactor:s};u=new XRWebGLBinding(r,e),f=u.createProjectionLayer(le),r.updateRenderState({layers:[f]}),t.setPixelRatio(1),t.setSize(f.textureWidth,f.textureHeight,!1),m=new w0(f.textureWidth,f.textureHeight,{format:Zr,type:Aa,depthTexture:new j5(f.textureWidth,f.textureHeight,j,void 0,void 0,void 0,void 0,void 0,void 0,O),stencilBuffer:d.stencil,colorSpace:t.outputColorSpace,samples:d.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}m.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await r.requestReferenceSpace(o),ce.setContext(r),ce.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};function M(G){for(let O=0;O<G.removed.length;O++){const j=G.removed[O],J=I.indexOf(j);J>=0&&(I[J]=null,_[J].disconnect(j))}for(let O=0;O<G.added.length;O++){const j=G.added[O];let J=I.indexOf(j);if(J===-1){for(let he=0;he<_.length;he++)if(he>=I.length){I.push(j),J=he;break}else if(I[he]===null){I[he]=j,J=he;break}if(J===-1)break}const le=_[J];le&&le.connect(j)}}const D=new X,U=new X;function F(G,O,j){D.setFromMatrixPosition(O.matrixWorld),U.setFromMatrixPosition(j.matrixWorld);const J=D.distanceTo(U),le=O.projectionMatrix.elements,he=j.projectionMatrix.elements,Ee=le[14]/(le[10]-1),ae=le[14]/(le[10]+1),Se=(le[9]+1)/le[5],ft=(le[9]-1)/le[5],N=(le[8]-1)/le[0],Lt=(he[8]+1)/he[0],Oe=Ee*N,Ne=Ee*Lt,Be=J/(-N+Lt),Pe=Be*-N;if(O.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(Pe),G.translateZ(Be),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert(),le[10]===-1)G.projectionMatrix.copy(O.projectionMatrix),G.projectionMatrixInverse.copy(O.projectionMatrixInverse);else{const Te=Ee+Be,k=ae+Be,R=Oe-Pe,W=Ne+(J-Pe),se=Se*ae/k*Te,ne=ft*ae/k*Te;G.projectionMatrix.makePerspective(R,W,se,ne,Te,k),G.projectionMatrixInverse.copy(G.projectionMatrix).invert()}}function z(G,O){O===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(O.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(r===null)return;let O=G.near,j=G.far;p.texture!==null&&(p.depthNear>0&&(O=p.depthNear),p.depthFar>0&&(j=p.depthFar)),v.near=w.near=b.near=O,v.far=w.far=b.far=j,(B!==v.near||S!==v.far)&&(r.updateRenderState({depthNear:v.near,depthFar:v.far}),B=v.near,S=v.far),b.layers.mask=G.layers.mask|2,w.layers.mask=G.layers.mask|4,v.layers.mask=b.layers.mask|w.layers.mask;const J=G.parent,le=v.cameras;z(v,J);for(let he=0;he<le.length;he++)z(le[he],J);le.length===2?F(v,b,w):v.projectionMatrix.copy(b.projectionMatrix),H(G,v,J)};function H(G,O,j){j===null?G.matrix.copy(O.matrixWorld):(G.matrix.copy(j.matrixWorld),G.matrix.invert(),G.matrix.multiply(O.matrixWorld)),G.matrix.decompose(G.position,G.quaternion,G.scale),G.updateMatrixWorld(!0),G.projectionMatrix.copy(O.projectionMatrix),G.projectionMatrixInverse.copy(O.projectionMatrixInverse),G.isPerspectiveCamera&&(G.fov=th*2*Math.atan(1/G.projectionMatrix.elements[5]),G.zoom=1)}this.getCamera=function(){return v},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(G){l=G,f!==null&&(f.fixedFoveation=G),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=G)},this.hasDepthSensing=function(){return p.texture!==null},this.getDepthSensingMesh=function(){return p.getMesh(v)};let P=null;function Z(G,O){if(x=O.getViewerPose(c||a),A=O,x!==null){const j=x.views;h!==null&&(t.setRenderTargetFramebuffer(m,h.framebuffer),t.setRenderTarget(m));let J=!1;j.length!==v.cameras.length&&(v.cameras.length=0,J=!0);for(let he=0;he<j.length;he++){const Ee=j[he];let ae=null;if(h!==null)ae=h.getViewport(Ee);else{const ft=u.getViewSubImage(f,Ee);ae=ft.viewport,he===0&&(t.setRenderTargetTextures(m,ft.colorTexture,f.ignoreDepthValues?void 0:ft.depthStencilTexture),t.setRenderTarget(m))}let Se=C[he];Se===void 0&&(Se=new rs,Se.layers.enable(he),Se.viewport=new nn,C[he]=Se),Se.matrix.fromArray(Ee.transform.matrix),Se.matrix.decompose(Se.position,Se.quaternion,Se.scale),Se.projectionMatrix.fromArray(Ee.projectionMatrix),Se.projectionMatrixInverse.copy(Se.projectionMatrix).invert(),Se.viewport.set(ae.x,ae.y,ae.width,ae.height),he===0&&(v.matrix.copy(Se.matrix),v.matrix.decompose(v.position,v.quaternion,v.scale)),J===!0&&v.cameras.push(Se)}const le=r.enabledFeatures;if(le&&le.includes("depth-sensing")){const he=u.getDepthInformation(j[0]);he&&he.isValid&&he.texture&&p.init(t,he,r.renderState)}}for(let j=0;j<_.length;j++){const J=I[j],le=_[j];J!==null&&le!==void 0&&le.update(J,O,c||a)}P&&P(G,O),O.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:O}),A=null}const ce=new nM;ce.setAnimationLoop(Z),this.setAnimationLoop=function(G){P=G},this.dispose=function(){}}}const k0=new Ea,sH=new Cn;function aH(i,t){function e(d,g){d.matrixAutoUpdate===!0&&d.updateMatrix(),g.value.copy(d.matrix)}function n(d,g){g.color.getRGB(d.fogColor.value,O5(i)),g.isFog?(d.fogNear.value=g.near,d.fogFar.value=g.far):g.isFogExp2&&(d.fogDensity.value=g.density)}function r(d,g,m,_,I){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(d,g):g.isMeshToonMaterial?(s(d,g),u(d,g)):g.isMeshPhongMaterial?(s(d,g),x(d,g)):g.isMeshStandardMaterial?(s(d,g),f(d,g),g.isMeshPhysicalMaterial&&h(d,g,I)):g.isMeshMatcapMaterial?(s(d,g),A(d,g)):g.isMeshDepthMaterial?s(d,g):g.isMeshDistanceMaterial?(s(d,g),p(d,g)):g.isMeshNormalMaterial?s(d,g):g.isLineBasicMaterial?(a(d,g),g.isLineDashedMaterial&&o(d,g)):g.isPointsMaterial?l(d,g,m,_):g.isSpriteMaterial?c(d,g):g.isShadowMaterial?(d.color.value.copy(g.color),d.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(d,g){d.opacity.value=g.opacity,g.color&&d.diffuse.value.copy(g.color),g.emissive&&d.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(d.map.value=g.map,e(g.map,d.mapTransform)),g.alphaMap&&(d.alphaMap.value=g.alphaMap,e(g.alphaMap,d.alphaMapTransform)),g.bumpMap&&(d.bumpMap.value=g.bumpMap,e(g.bumpMap,d.bumpMapTransform),d.bumpScale.value=g.bumpScale,g.side===Ji&&(d.bumpScale.value*=-1)),g.normalMap&&(d.normalMap.value=g.normalMap,e(g.normalMap,d.normalMapTransform),d.normalScale.value.copy(g.normalScale),g.side===Ji&&d.normalScale.value.negate()),g.displacementMap&&(d.displacementMap.value=g.displacementMap,e(g.displacementMap,d.displacementMapTransform),d.displacementScale.value=g.displacementScale,d.displacementBias.value=g.displacementBias),g.emissiveMap&&(d.emissiveMap.value=g.emissiveMap,e(g.emissiveMap,d.emissiveMapTransform)),g.specularMap&&(d.specularMap.value=g.specularMap,e(g.specularMap,d.specularMapTransform)),g.alphaTest>0&&(d.alphaTest.value=g.alphaTest);const m=t.get(g),_=m.envMap,I=m.envMapRotation;_&&(d.envMap.value=_,k0.copy(I),k0.x*=-1,k0.y*=-1,k0.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(k0.y*=-1,k0.z*=-1),d.envMapRotation.value.setFromMatrix4(sH.makeRotationFromEuler(k0)),d.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,d.reflectivity.value=g.reflectivity,d.ior.value=g.ior,d.refractionRatio.value=g.refractionRatio),g.lightMap&&(d.lightMap.value=g.lightMap,d.lightMapIntensity.value=g.lightMapIntensity,e(g.lightMap,d.lightMapTransform)),g.aoMap&&(d.aoMap.value=g.aoMap,d.aoMapIntensity.value=g.aoMapIntensity,e(g.aoMap,d.aoMapTransform))}function a(d,g){d.diffuse.value.copy(g.color),d.opacity.value=g.opacity,g.map&&(d.map.value=g.map,e(g.map,d.mapTransform))}function o(d,g){d.dashSize.value=g.dashSize,d.totalSize.value=g.dashSize+g.gapSize,d.scale.value=g.scale}function l(d,g,m,_){d.diffuse.value.copy(g.color),d.opacity.value=g.opacity,d.size.value=g.size*m,d.scale.value=_*.5,g.map&&(d.map.value=g.map,e(g.map,d.uvTransform)),g.alphaMap&&(d.alphaMap.value=g.alphaMap,e(g.alphaMap,d.alphaMapTransform)),g.alphaTest>0&&(d.alphaTest.value=g.alphaTest)}function c(d,g){d.diffuse.value.copy(g.color),d.opacity.value=g.opacity,d.rotation.value=g.rotation,g.map&&(d.map.value=g.map,e(g.map,d.mapTransform)),g.alphaMap&&(d.alphaMap.value=g.alphaMap,e(g.alphaMap,d.alphaMapTransform)),g.alphaTest>0&&(d.alphaTest.value=g.alphaTest)}function x(d,g){d.specular.value.copy(g.specular),d.shininess.value=Math.max(g.shininess,1e-4)}function u(d,g){g.gradientMap&&(d.gradientMap.value=g.gradientMap)}function f(d,g){d.metalness.value=g.metalness,g.metalnessMap&&(d.metalnessMap.value=g.metalnessMap,e(g.metalnessMap,d.metalnessMapTransform)),d.roughness.value=g.roughness,g.roughnessMap&&(d.roughnessMap.value=g.roughnessMap,e(g.roughnessMap,d.roughnessMapTransform)),g.envMap&&(d.envMapIntensity.value=g.envMapIntensity)}function h(d,g,m){d.ior.value=g.ior,g.sheen>0&&(d.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),d.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(d.sheenColorMap.value=g.sheenColorMap,e(g.sheenColorMap,d.sheenColorMapTransform)),g.sheenRoughnessMap&&(d.sheenRoughnessMap.value=g.sheenRoughnessMap,e(g.sheenRoughnessMap,d.sheenRoughnessMapTransform))),g.clearcoat>0&&(d.clearcoat.value=g.clearcoat,d.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(d.clearcoatMap.value=g.clearcoatMap,e(g.clearcoatMap,d.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(d.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,e(g.clearcoatRoughnessMap,d.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(d.clearcoatNormalMap.value=g.clearcoatNormalMap,e(g.clearcoatNormalMap,d.clearcoatNormalMapTransform),d.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ji&&d.clearcoatNormalScale.value.negate())),g.dispersion>0&&(d.dispersion.value=g.dispersion),g.iridescence>0&&(d.iridescence.value=g.iridescence,d.iridescenceIOR.value=g.iridescenceIOR,d.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],d.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(d.iridescenceMap.value=g.iridescenceMap,e(g.iridescenceMap,d.iridescenceMapTransform)),g.iridescenceThicknessMap&&(d.iridescenceThicknessMap.value=g.iridescenceThicknessMap,e(g.iridescenceThicknessMap,d.iridescenceThicknessMapTransform))),g.transmission>0&&(d.transmission.value=g.transmission,d.transmissionSamplerMap.value=m.texture,d.transmissionSamplerSize.value.set(m.width,m.height),g.transmissionMap&&(d.transmissionMap.value=g.transmissionMap,e(g.transmissionMap,d.transmissionMapTransform)),d.thickness.value=g.thickness,g.thicknessMap&&(d.thicknessMap.value=g.thicknessMap,e(g.thicknessMap,d.thicknessMapTransform)),d.attenuationDistance.value=g.attenuationDistance,d.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(d.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(d.anisotropyMap.value=g.anisotropyMap,e(g.anisotropyMap,d.anisotropyMapTransform))),d.specularIntensity.value=g.specularIntensity,d.specularColor.value.copy(g.specularColor),g.specularColorMap&&(d.specularColorMap.value=g.specularColorMap,e(g.specularColorMap,d.specularColorMapTransform)),g.specularIntensityMap&&(d.specularIntensityMap.value=g.specularIntensityMap,e(g.specularIntensityMap,d.specularIntensityMapTransform))}function A(d,g){g.matcap&&(d.matcap.value=g.matcap)}function p(d,g){const m=t.get(g).light;d.referencePosition.value.setFromMatrixPosition(m.matrixWorld),d.nearDistance.value=m.shadow.camera.near,d.farDistance.value=m.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function oH(i,t,e,n){let r={},s={},a=[];const o=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function l(m,_){const I=_.program;n.uniformBlockBinding(m,I)}function c(m,_){let I=r[m.id];I===void 0&&(A(m),I=x(m),r[m.id]=I,m.addEventListener("dispose",d));const y=_.program;n.updateUBOMapping(m,y);const E=t.render.frame;s[m.id]!==E&&(f(m),s[m.id]=E)}function x(m){const _=u();m.__bindingPointIndex=_;const I=i.createBuffer(),y=m.__size,E=m.usage;return i.bindBuffer(i.UNIFORM_BUFFER,I),i.bufferData(i.UNIFORM_BUFFER,y,E),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,_,I),I}function u(){for(let m=0;m<o;m++)if(a.indexOf(m)===-1)return a.push(m),m;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(m){const _=r[m.id],I=m.uniforms,y=m.__cache;i.bindBuffer(i.UNIFORM_BUFFER,_);for(let E=0,b=I.length;E<b;E++){const w=Array.isArray(I[E])?I[E]:[I[E]];for(let C=0,v=w.length;C<v;C++){const B=w[C];if(h(B,E,C,y)===!0){const S=B.__offset,T=Array.isArray(B.value)?B.value:[B.value];let Q=0;for(let M=0;M<T.length;M++){const D=T[M],U=p(D);typeof D=="number"||typeof D=="boolean"?(B.__data[0]=D,i.bufferSubData(i.UNIFORM_BUFFER,S+Q,B.__data)):D.isMatrix3?(B.__data[0]=D.elements[0],B.__data[1]=D.elements[1],B.__data[2]=D.elements[2],B.__data[3]=0,B.__data[4]=D.elements[3],B.__data[5]=D.elements[4],B.__data[6]=D.elements[5],B.__data[7]=0,B.__data[8]=D.elements[6],B.__data[9]=D.elements[7],B.__data[10]=D.elements[8],B.__data[11]=0):(D.toArray(B.__data,Q),Q+=U.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,S,B.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function h(m,_,I,y){const E=m.value,b=_+"_"+I;if(y[b]===void 0)return typeof E=="number"||typeof E=="boolean"?y[b]=E:y[b]=E.clone(),!0;{const w=y[b];if(typeof E=="number"||typeof E=="boolean"){if(w!==E)return y[b]=E,!0}else if(w.equals(E)===!1)return w.copy(E),!0}return!1}function A(m){const _=m.uniforms;let I=0;const y=16;for(let b=0,w=_.length;b<w;b++){const C=Array.isArray(_[b])?_[b]:[_[b]];for(let v=0,B=C.length;v<B;v++){const S=C[v],T=Array.isArray(S.value)?S.value:[S.value];for(let Q=0,M=T.length;Q<M;Q++){const D=T[Q],U=p(D),F=I%y,z=F%U.boundary,H=F+z;I+=z,H!==0&&y-H<U.storage&&(I+=y-H),S.__data=new Float32Array(U.storage/Float32Array.BYTES_PER_ELEMENT),S.__offset=I,I+=U.storage}}}const E=I%y;return E>0&&(I+=y-E),m.__size=I,m.__cache={},this}function p(m){const _={boundary:0,storage:0};return typeof m=="number"||typeof m=="boolean"?(_.boundary=4,_.storage=4):m.isVector2?(_.boundary=8,_.storage=8):m.isVector3||m.isColor?(_.boundary=16,_.storage=12):m.isVector4?(_.boundary=16,_.storage=16):m.isMatrix3?(_.boundary=48,_.storage=48):m.isMatrix4?(_.boundary=64,_.storage=64):m.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",m),_}function d(m){const _=m.target;_.removeEventListener("dispose",d);const I=a.indexOf(_.__bindingPointIndex);a.splice(I,1),i.deleteBuffer(r[_.id]),delete r[_.id],delete s[_.id]}function g(){for(const m in r)i.deleteBuffer(r[m]);a=[],r={},s={}}return{bind:l,update:c,dispose:g}}class cH{constructor(t={}){const{canvas:e=bN(),context:n=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:x="default",failIfMajorPerformanceCaveat:u=!1,reverseDepthBuffer:f=!1}=t;this.isWebGLRenderer=!0;let h;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=n.getContextAttributes().alpha}else h=a;const A=new Uint32Array(4),p=new Int32Array(4);let d=null,g=null;const m=[],_=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Rr,this.toneMapping=Eo,this.toneMappingExposure=1;const I=this;let y=!1,E=0,b=0,w=null,C=-1,v=null;const B=new nn,S=new nn;let T=null;const Q=new Qt(0);let M=0,D=e.width,U=e.height,F=1,z=null,H=null;const P=new nn(0,0,D,U),Z=new nn(0,0,D,U);let ce=!1;const G=new J5;let O=!1,j=!1;const J=new Cn,le=new Cn,he=new X,Ee=new nn,ae={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Se=!1;function ft(){return w===null?F:1}let N=n;function Lt(L,q){return e.getContext(L,q)}try{const L={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:x,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${hb}`),e.addEventListener("webglcontextlost",oe,!1),e.addEventListener("webglcontextrestored",we,!1),e.addEventListener("webglcontextcreationerror",ve,!1),N===null){const q="webgl2";if(N=Lt(q,L),N===null)throw Lt(q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(L){throw console.error("THREE.WebGLRenderer: "+L.message),L}let Oe,Ne,Be,Pe,Te,k,R,W,se,ne,K,_e,Ae,ue,De,xe,ge,Le,Ue,be,We,Qe,rt,V;function me(){Oe=new gz(N),Oe.init(),Qe=new $V(N,Oe),Ne=new uz(N,Oe,t,Qe),Be=new jV(N,Oe),Ne.reverseDepthBuffer&&f&&Be.buffers.depth.setReversed(!0),Pe=new Iz(N),Te=new UV,k=new ZV(N,Oe,Be,Te,Ne,Qe,Pe),R=new hz(I),W=new pz(I),se=new oO(N),rt=new lz(N,se),ne=new mz(N,se,Pe,rt),K=new yz(N,ne,se,Pe),Ue=new Ez(N,Ne,k),xe=new fz(Te),_e=new PV(I,R,W,Oe,Ne,rt,xe),Ae=new aH(I,Te),ue=new OV,De=new YV(Oe),Le=new cz(I,R,W,Be,K,h,l),ge=new KV(I,K,Ne),V=new oH(N,Pe,Ne,Be),be=new xz(N,Oe,Pe),We=new _z(N,Oe,Pe),Pe.programs=_e.programs,I.capabilities=Ne,I.extensions=Oe,I.properties=Te,I.renderLists=ue,I.shadowMap=ge,I.state=Be,I.info=Pe}me();const $=new rH(I,N);this.xr=$,this.getContext=function(){return N},this.getContextAttributes=function(){return N.getContextAttributes()},this.forceContextLoss=function(){const L=Oe.get("WEBGL_lose_context");L&&L.loseContext()},this.forceContextRestore=function(){const L=Oe.get("WEBGL_lose_context");L&&L.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(L){L!==void 0&&(F=L,this.setSize(D,U,!1))},this.getSize=function(L){return L.set(D,U)},this.setSize=function(L,q,ee=!0){if($.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}D=L,U=q,e.width=Math.floor(L*F),e.height=Math.floor(q*F),ee===!0&&(e.style.width=L+"px",e.style.height=q+"px"),this.setViewport(0,0,L,q)},this.getDrawingBufferSize=function(L){return L.set(D*F,U*F).floor()},this.setDrawingBufferSize=function(L,q,ee){D=L,U=q,F=ee,e.width=Math.floor(L*ee),e.height=Math.floor(q*ee),this.setViewport(0,0,L,q)},this.getCurrentViewport=function(L){return L.copy(B)},this.getViewport=function(L){return L.copy(P)},this.setViewport=function(L,q,ee,te){L.isVector4?P.set(L.x,L.y,L.z,L.w):P.set(L,q,ee,te),Be.viewport(B.copy(P).multiplyScalar(F).round())},this.getScissor=function(L){return L.copy(Z)},this.setScissor=function(L,q,ee,te){L.isVector4?Z.set(L.x,L.y,L.z,L.w):Z.set(L,q,ee,te),Be.scissor(S.copy(Z).multiplyScalar(F).round())},this.getScissorTest=function(){return ce},this.setScissorTest=function(L){Be.setScissorTest(ce=L)},this.setOpaqueSort=function(L){z=L},this.setTransparentSort=function(L){H=L},this.getClearColor=function(L){return L.copy(Le.getClearColor())},this.setClearColor=function(){Le.setClearColor.apply(Le,arguments)},this.getClearAlpha=function(){return Le.getClearAlpha()},this.setClearAlpha=function(){Le.setClearAlpha.apply(Le,arguments)},this.clear=function(L=!0,q=!0,ee=!0){let te=0;if(L){let Y=!1;if(w!==null){const pe=w.texture.format;Y=pe===Lb||pe===Qb||pe===Db}if(Y){const pe=w.texture.type,Me=pe===Aa||pe===v0||pe===Zf||pe===Ml||pe===Rb||pe===Tb,Fe=Le.getClearColor(),Ge=Le.getClearAlpha(),$e=Fe.r,et=Fe.g,qe=Fe.b;Me?(A[0]=$e,A[1]=et,A[2]=qe,A[3]=Ge,N.clearBufferuiv(N.COLOR,0,A)):(p[0]=$e,p[1]=et,p[2]=qe,p[3]=Ge,N.clearBufferiv(N.COLOR,0,p))}else te|=N.COLOR_BUFFER_BIT}q&&(te|=N.DEPTH_BUFFER_BIT),ee&&(te|=N.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),N.clear(te)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",oe,!1),e.removeEventListener("webglcontextrestored",we,!1),e.removeEventListener("webglcontextcreationerror",ve,!1),Le.dispose(),ue.dispose(),De.dispose(),Te.dispose(),R.dispose(),W.dispose(),K.dispose(),rt.dispose(),V.dispose(),_e.dispose(),$.dispose(),$.removeEventListener("sessionstart",mr),$.removeEventListener("sessionend",Di),li.stop()};function oe(L){L.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function we(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const L=Pe.autoReset,q=ge.enabled,ee=ge.autoUpdate,te=ge.needsUpdate,Y=ge.type;me(),Pe.autoReset=L,ge.enabled=q,ge.autoUpdate=ee,ge.needsUpdate=te,ge.type=Y}function ve(L){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",L.statusMessage)}function Ke(L){const q=L.target;q.removeEventListener("dispose",Ke),an(q)}function an(L){Vn(L),Te.remove(L)}function Vn(L){const q=Te.get(L).programs;q!==void 0&&(q.forEach(function(ee){_e.releaseProgram(ee)}),L.isShaderMaterial&&_e.releaseShaderCache(L))}this.renderBufferDirect=function(L,q,ee,te,Y,pe){q===null&&(q=ae);const Me=Y.isMesh&&Y.matrixWorld.determinant()<0,Fe=fW(L,q,ee,te,Y);Be.setMaterial(te,Me);let Ge=ee.index,$e=1;if(te.wireframe===!0){if(Ge=ne.getWireframeAttribute(ee),Ge===void 0)return;$e=2}const et=ee.drawRange,qe=ee.attributes.position;let Rt=et.start*$e,Ot=(et.start+et.count)*$e;pe!==null&&(Rt=Math.max(Rt,pe.start*$e),Ot=Math.min(Ot,(pe.start+pe.count)*$e)),Ge!==null?(Rt=Math.max(Rt,0),Ot=Math.min(Ot,Ge.count)):qe!=null&&(Rt=Math.max(Rt,0),Ot=Math.min(Ot,qe.count));const kn=Ot-Rt;if(kn<0||kn===1/0)return;rt.setup(Y,te,Fe,ee,Ge);let wn,Ft=be;if(Ge!==null&&(wn=se.get(Ge),Ft=We,Ft.setIndex(wn)),Y.isMesh)te.wireframe===!0?(Be.setLineWidth(te.wireframeLinewidth*ft()),Ft.setMode(N.LINES)):Ft.setMode(N.TRIANGLES);else if(Y.isLine){let Xe=te.linewidth;Xe===void 0&&(Xe=1),Be.setLineWidth(Xe*ft()),Y.isLineSegments?Ft.setMode(N.LINES):Y.isLineLoop?Ft.setMode(N.LINE_LOOP):Ft.setMode(N.LINE_STRIP)}else Y.isPoints?Ft.setMode(N.POINTS):Y.isSprite&&Ft.setMode(N.TRIANGLES);if(Y.isBatchedMesh)if(Y._multiDrawInstances!==null)Ft.renderMultiDrawInstances(Y._multiDrawStarts,Y._multiDrawCounts,Y._multiDrawCount,Y._multiDrawInstances);else if(Oe.get("WEBGL_multi_draw"))Ft.renderMultiDraw(Y._multiDrawStarts,Y._multiDrawCounts,Y._multiDrawCount);else{const Xe=Y._multiDrawStarts,xi=Y._multiDrawCounts,Gt=Y._multiDrawCount,ss=Ge?se.get(Ge).bytesPerElement:1,Ax=Te.get(te).currentProgram.getUniforms();for(let Ir=0;Ir<Gt;Ir++)Ax.setValue(N,"_gl_DrawID",Ir),Ft.render(Xe[Ir]/ss,xi[Ir])}else if(Y.isInstancedMesh)Ft.renderInstances(Rt,kn,Y.count);else if(ee.isInstancedBufferGeometry){const Xe=ee._maxInstanceCount!==void 0?ee._maxInstanceCount:1/0,xi=Math.min(ee.instanceCount,Xe);Ft.renderInstances(Rt,kn,xi)}else Ft.render(Rt,kn)};function st(L,q,ee){L.transparent===!0&&L.side===fa&&L.forceSinglePass===!1?(L.side=Ji,L.needsUpdate=!0,d2(L,q,ee),L.side=_o,L.needsUpdate=!0,d2(L,q,ee),L.side=fa):d2(L,q,ee)}this.compile=function(L,q,ee=null){ee===null&&(ee=L),g=De.get(ee),g.init(q),_.push(g),ee.traverseVisible(function(Y){Y.isLight&&Y.layers.test(q.layers)&&(g.pushLight(Y),Y.castShadow&&g.pushShadow(Y))}),L!==ee&&L.traverseVisible(function(Y){Y.isLight&&Y.layers.test(q.layers)&&(g.pushLight(Y),Y.castShadow&&g.pushShadow(Y))}),g.setupLights();const te=new Set;return L.traverse(function(Y){if(!(Y.isMesh||Y.isPoints||Y.isLine||Y.isSprite))return;const pe=Y.material;if(pe)if(Array.isArray(pe))for(let Me=0;Me<pe.length;Me++){const Fe=pe[Me];st(Fe,ee,Y),te.add(Fe)}else st(pe,ee,Y),te.add(pe)}),_.pop(),g=null,te},this.compileAsync=function(L,q,ee=null){const te=this.compile(L,q,ee);return new Promise(Y=>{function pe(){if(te.forEach(function(Me){Te.get(Me).currentProgram.isReady()&&te.delete(Me)}),te.size===0){Y(L);return}setTimeout(pe,10)}Oe.get("KHR_parallel_shader_compile")!==null?pe():setTimeout(pe,10)})};let Hn=null;function vn(L){Hn&&Hn(L)}function mr(){li.stop()}function Di(){li.start()}const li=new nM;li.setAnimationLoop(vn),typeof self<"u"&&li.setContext(self),this.setAnimationLoop=function(L){Hn=L,$.setAnimationLoop(L),L===null?li.stop():li.start()},$.addEventListener("sessionstart",mr),$.addEventListener("sessionend",Di),this.render=function(L,q){if(q!==void 0&&q.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;if(L.matrixWorldAutoUpdate===!0&&L.updateMatrixWorld(),q.parent===null&&q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),$.enabled===!0&&$.isPresenting===!0&&($.cameraAutoUpdate===!0&&$.updateCamera(q),q=$.getCamera()),L.isScene===!0&&L.onBeforeRender(I,L,q,w),g=De.get(L,_.length),g.init(q),_.push(g),le.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),G.setFromProjectionMatrix(le),j=this.localClippingEnabled,O=xe.init(this.clippingPlanes,j),d=ue.get(L,m.length),d.init(),m.push(d),$.enabled===!0&&$.isPresenting===!0){const pe=I.xr.getDepthSensingMesh();pe!==null&&_r(pe,q,-1/0,I.sortObjects)}_r(L,q,0,I.sortObjects),d.finish(),I.sortObjects===!0&&d.sort(z,H),Se=$.enabled===!1||$.isPresenting===!1||$.hasDepthSensing()===!1,Se&&Le.addToRenderList(d,L),this.info.render.frame++,O===!0&&xe.beginShadows();const ee=g.state.shadowsArray;ge.render(ee,L,q),O===!0&&xe.endShadows(),this.info.autoReset===!0&&this.info.reset();const te=d.opaque,Y=d.transmissive;if(g.setupLights(),q.isArrayCamera){const pe=q.cameras;if(Y.length>0)for(let Me=0,Fe=pe.length;Me<Fe;Me++){const Ge=pe[Me];jn(te,Y,L,Ge)}Se&&Le.render(L);for(let Me=0,Fe=pe.length;Me<Fe;Me++){const Ge=pe[Me];on(d,L,Ge,Ge.viewport)}}else Y.length>0&&jn(te,Y,L,q),Se&&Le.render(L),on(d,L,q);w!==null&&(k.updateMultisampleRenderTarget(w),k.updateRenderTargetMipmap(w)),L.isScene===!0&&L.onAfterRender(I,L,q),rt.resetDefaultState(),C=-1,v=null,_.pop(),_.length>0?(g=_[_.length-1],O===!0&&xe.setGlobalState(I.clippingPlanes,g.state.camera)):g=null,m.pop(),m.length>0?d=m[m.length-1]:d=null};function _r(L,q,ee,te){if(L.visible===!1)return;if(L.layers.test(q.layers)){if(L.isGroup)ee=L.renderOrder;else if(L.isLOD)L.autoUpdate===!0&&L.update(q);else if(L.isLight)g.pushLight(L),L.castShadow&&g.pushShadow(L);else if(L.isSprite){if(!L.frustumCulled||G.intersectsSprite(L)){te&&Ee.setFromMatrixPosition(L.matrixWorld).applyMatrix4(le);const Me=K.update(L),Fe=L.material;Fe.visible&&d.push(L,Me,Fe,ee,Ee.z,null)}}else if((L.isMesh||L.isLine||L.isPoints)&&(!L.frustumCulled||G.intersectsObject(L))){const Me=K.update(L),Fe=L.material;if(te&&(L.boundingSphere!==void 0?(L.boundingSphere===null&&L.computeBoundingSphere(),Ee.copy(L.boundingSphere.center)):(Me.boundingSphere===null&&Me.computeBoundingSphere(),Ee.copy(Me.boundingSphere.center)),Ee.applyMatrix4(L.matrixWorld).applyMatrix4(le)),Array.isArray(Fe)){const Ge=Me.groups;for(let $e=0,et=Ge.length;$e<et;$e++){const qe=Ge[$e],Rt=Fe[qe.materialIndex];Rt&&Rt.visible&&d.push(L,Me,Rt,ee,Ee.z,qe)}}else Fe.visible&&d.push(L,Me,Fe,ee,Ee.z,null)}}const pe=L.children;for(let Me=0,Fe=pe.length;Me<Fe;Me++)_r(pe[Me],q,ee,te)}function on(L,q,ee,te){const Y=L.opaque,pe=L.transmissive,Me=L.transparent;g.setupLightsView(ee),O===!0&&xe.setGlobalState(I.clippingPlanes,ee),te&&Be.viewport(B.copy(te)),Y.length>0&&er(Y,q,ee),pe.length>0&&er(pe,q,ee),Me.length>0&&er(Me,q,ee),Be.buffers.depth.setTest(!0),Be.buffers.depth.setMask(!0),Be.buffers.color.setMask(!0),Be.setPolygonOffset(!1)}function jn(L,q,ee,te){if((ee.isScene===!0?ee.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[te.id]===void 0&&(g.state.transmissionRenderTarget[te.id]=new w0(1,1,{generateMipmaps:!0,type:Oe.has("EXT_color_buffer_half_float")||Oe.has("EXT_color_buffer_float")?$f:Aa,minFilter:C0,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Dt.workingColorSpace}));const pe=g.state.transmissionRenderTarget[te.id],Me=te.viewport||B;pe.setSize(Me.z,Me.w);const Fe=I.getRenderTarget();I.setRenderTarget(pe),I.getClearColor(Q),M=I.getClearAlpha(),M<1&&I.setClearColor(16777215,.5),I.clear(),Se&&Le.render(ee);const Ge=I.toneMapping;I.toneMapping=Eo;const $e=te.viewport;if(te.viewport!==void 0&&(te.viewport=void 0),g.setupLightsView(te),O===!0&&xe.setGlobalState(I.clippingPlanes,te),er(L,ee,te),k.updateMultisampleRenderTarget(pe),k.updateRenderTargetMipmap(pe),Oe.has("WEBGL_multisampled_render_to_texture")===!1){let et=!1;for(let qe=0,Rt=q.length;qe<Rt;qe++){const Ot=q[qe],kn=Ot.object,wn=Ot.geometry,Ft=Ot.material,Xe=Ot.group;if(Ft.side===fa&&kn.layers.test(te.layers)){const xi=Ft.side;Ft.side=Ji,Ft.needsUpdate=!0,A2(kn,ee,te,wn,Ft,Xe),Ft.side=xi,Ft.needsUpdate=!0,et=!0}}et===!0&&(k.updateMultisampleRenderTarget(pe),k.updateRenderTargetMipmap(pe))}I.setRenderTarget(Fe),I.setClearColor(Q,M),$e!==void 0&&(te.viewport=$e),I.toneMapping=Ge}function er(L,q,ee){const te=q.isScene===!0?q.overrideMaterial:null;for(let Y=0,pe=L.length;Y<pe;Y++){const Me=L[Y],Fe=Me.object,Ge=Me.geometry,$e=te===null?Me.material:te,et=Me.group;Fe.layers.test(ee.layers)&&A2(Fe,q,ee,Ge,$e,et)}}function A2(L,q,ee,te,Y,pe){L.onBeforeRender(I,q,ee,te,Y,pe),L.modelViewMatrix.multiplyMatrices(ee.matrixWorldInverse,L.matrixWorld),L.normalMatrix.getNormalMatrix(L.modelViewMatrix),Y.onBeforeRender(I,q,ee,te,L,pe),Y.transparent===!0&&Y.side===fa&&Y.forceSinglePass===!1?(Y.side=Ji,Y.needsUpdate=!0,I.renderBufferDirect(ee,q,te,Y,L,pe),Y.side=_o,Y.needsUpdate=!0,I.renderBufferDirect(ee,q,te,Y,L,pe),Y.side=fa):I.renderBufferDirect(ee,q,te,Y,L,pe),L.onAfterRender(I,q,ee,te,Y,pe)}function d2(L,q,ee){q.isScene!==!0&&(q=ae);const te=Te.get(L),Y=g.state.lights,pe=g.state.shadowsArray,Me=Y.state.version,Fe=_e.getParameters(L,Y.state,pe,q,ee),Ge=_e.getProgramCacheKey(Fe);let $e=te.programs;te.environment=L.isMeshStandardMaterial?q.environment:null,te.fog=q.fog,te.envMap=(L.isMeshStandardMaterial?W:R).get(L.envMap||te.environment),te.envMapRotation=te.environment!==null&&L.envMap===null?q.environmentRotation:L.envMapRotation,$e===void 0&&(L.addEventListener("dispose",Ke),$e=new Map,te.programs=$e);let et=$e.get(Ge);if(et!==void 0){if(te.currentProgram===et&&te.lightsStateVersion===Me)return h6(L,Fe),et}else Fe.uniforms=_e.getUniforms(L),L.onBeforeCompile(Fe,I),et=_e.acquireProgram(Fe,Ge),$e.set(Ge,et),te.uniforms=Fe.uniforms;const qe=te.uniforms;return(!L.isShaderMaterial&&!L.isRawShaderMaterial||L.clipping===!0)&&(qe.clippingPlanes=xe.uniform),h6(L,Fe),te.needsLights=AW(L),te.lightsStateVersion=Me,te.needsLights&&(qe.ambientLightColor.value=Y.state.ambient,qe.lightProbe.value=Y.state.probe,qe.directionalLights.value=Y.state.directional,qe.directionalLightShadows.value=Y.state.directionalShadow,qe.spotLights.value=Y.state.spot,qe.spotLightShadows.value=Y.state.spotShadow,qe.rectAreaLights.value=Y.state.rectArea,qe.ltc_1.value=Y.state.rectAreaLTC1,qe.ltc_2.value=Y.state.rectAreaLTC2,qe.pointLights.value=Y.state.point,qe.pointLightShadows.value=Y.state.pointShadow,qe.hemisphereLights.value=Y.state.hemi,qe.directionalShadowMap.value=Y.state.directionalShadowMap,qe.directionalShadowMatrix.value=Y.state.directionalShadowMatrix,qe.spotShadowMap.value=Y.state.spotShadowMap,qe.spotLightMatrix.value=Y.state.spotLightMatrix,qe.spotLightMap.value=Y.state.spotLightMap,qe.pointShadowMap.value=Y.state.pointShadowMap,qe.pointShadowMatrix.value=Y.state.pointShadowMatrix),te.currentProgram=et,te.uniformsList=null,et}function f6(L){if(L.uniformsList===null){const q=L.currentProgram.getUniforms();L.uniformsList=V_.seqWithValue(q.seq,L.uniforms)}return L.uniformsList}function h6(L,q){const ee=Te.get(L);ee.outputColorSpace=q.outputColorSpace,ee.batching=q.batching,ee.batchingColor=q.batchingColor,ee.instancing=q.instancing,ee.instancingColor=q.instancingColor,ee.instancingMorph=q.instancingMorph,ee.skinning=q.skinning,ee.morphTargets=q.morphTargets,ee.morphNormals=q.morphNormals,ee.morphColors=q.morphColors,ee.morphTargetsCount=q.morphTargetsCount,ee.numClippingPlanes=q.numClippingPlanes,ee.numIntersection=q.numClipIntersection,ee.vertexAlphas=q.vertexAlphas,ee.vertexTangents=q.vertexTangents,ee.toneMapping=q.toneMapping}function fW(L,q,ee,te,Y){q.isScene!==!0&&(q=ae),k.resetTextureUnits();const pe=q.fog,Me=te.isMeshStandardMaterial?q.environment:null,Fe=w===null?I.outputColorSpace:w.isXRRenderTarget===!0?w.texture.colorSpace:Dl,Ge=(te.isMeshStandardMaterial?W:R).get(te.envMap||Me),$e=te.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,et=!!ee.attributes.tangent&&(!!te.normalMap||te.anisotropy>0),qe=!!ee.morphAttributes.position,Rt=!!ee.morphAttributes.normal,Ot=!!ee.morphAttributes.color;let kn=Eo;te.toneMapped&&(w===null||w.isXRRenderTarget===!0)&&(kn=I.toneMapping);const wn=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,Ft=wn!==void 0?wn.length:0,Xe=Te.get(te),xi=g.state.lights;if(O===!0&&(j===!0||L!==v)){const Qi=L===v&&te.id===C;xe.setState(te,L,Qi)}let Gt=!1;te.version===Xe.__version?(Xe.needsLights&&Xe.lightsStateVersion!==xi.state.version||Xe.outputColorSpace!==Fe||Y.isBatchedMesh&&Xe.batching===!1||!Y.isBatchedMesh&&Xe.batching===!0||Y.isBatchedMesh&&Xe.batchingColor===!0&&Y.colorTexture===null||Y.isBatchedMesh&&Xe.batchingColor===!1&&Y.colorTexture!==null||Y.isInstancedMesh&&Xe.instancing===!1||!Y.isInstancedMesh&&Xe.instancing===!0||Y.isSkinnedMesh&&Xe.skinning===!1||!Y.isSkinnedMesh&&Xe.skinning===!0||Y.isInstancedMesh&&Xe.instancingColor===!0&&Y.instanceColor===null||Y.isInstancedMesh&&Xe.instancingColor===!1&&Y.instanceColor!==null||Y.isInstancedMesh&&Xe.instancingMorph===!0&&Y.morphTexture===null||Y.isInstancedMesh&&Xe.instancingMorph===!1&&Y.morphTexture!==null||Xe.envMap!==Ge||te.fog===!0&&Xe.fog!==pe||Xe.numClippingPlanes!==void 0&&(Xe.numClippingPlanes!==xe.numPlanes||Xe.numIntersection!==xe.numIntersection)||Xe.vertexAlphas!==$e||Xe.vertexTangents!==et||Xe.morphTargets!==qe||Xe.morphNormals!==Rt||Xe.morphColors!==Ot||Xe.toneMapping!==kn||Xe.morphTargetsCount!==Ft)&&(Gt=!0):(Gt=!0,Xe.__version=te.version);let ss=Xe.currentProgram;Gt===!0&&(ss=d2(te,q,Y));let Ax=!1,Ir=!1,Fh=!1;const An=ss.getUniforms(),Fr=Xe.uniforms;if(Be.useProgram(ss.program)&&(Ax=!0,Ir=!0,Fh=!0),te.id!==C&&(C=te.id,Ir=!0),Ax||v!==L){Be.buffers.depth.getReversed()?(J.copy(L.projectionMatrix),vN(J),wN(J),An.setValue(N,"projectionMatrix",J)):An.setValue(N,"projectionMatrix",L.projectionMatrix),An.setValue(N,"viewMatrix",L.matrixWorldInverse);const tr=An.map.cameraPosition;tr!==void 0&&tr.setValue(N,he.setFromMatrixPosition(L.matrixWorld)),Ne.logarithmicDepthBuffer&&An.setValue(N,"logDepthBufFC",2/(Math.log(L.far+1)/Math.LN2)),(te.isMeshPhongMaterial||te.isMeshToonMaterial||te.isMeshLambertMaterial||te.isMeshBasicMaterial||te.isMeshStandardMaterial||te.isShaderMaterial)&&An.setValue(N,"isOrthographic",L.isOrthographicCamera===!0),v!==L&&(v=L,Ir=!0,Fh=!0)}if(Y.isSkinnedMesh){An.setOptional(N,Y,"bindMatrix"),An.setOptional(N,Y,"bindMatrixInverse");const Qi=Y.skeleton;Qi&&(Qi.boneTexture===null&&Qi.computeBoneTexture(),An.setValue(N,"boneTexture",Qi.boneTexture,k))}Y.isBatchedMesh&&(An.setOptional(N,Y,"batchingTexture"),An.setValue(N,"batchingTexture",Y._matricesTexture,k),An.setOptional(N,Y,"batchingIdTexture"),An.setValue(N,"batchingIdTexture",Y._indirectTexture,k),An.setOptional(N,Y,"batchingColorTexture"),Y._colorsTexture!==null&&An.setValue(N,"batchingColorTexture",Y._colorsTexture,k));const kr=ee.morphAttributes;if((kr.position!==void 0||kr.normal!==void 0||kr.color!==void 0)&&Ue.update(Y,ee,ss),(Ir||Xe.receiveShadow!==Y.receiveShadow)&&(Xe.receiveShadow=Y.receiveShadow,An.setValue(N,"receiveShadow",Y.receiveShadow)),te.isMeshGouraudMaterial&&te.envMap!==null&&(Fr.envMap.value=Ge,Fr.flipEnvMap.value=Ge.isCubeTexture&&Ge.isRenderTargetTexture===!1?-1:1),te.isMeshStandardMaterial&&te.envMap===null&&q.environment!==null&&(Fr.envMapIntensity.value=q.environmentIntensity),Ir&&(An.setValue(N,"toneMappingExposure",I.toneMappingExposure),Xe.needsLights&&hW(Fr,Fh),pe&&te.fog===!0&&Ae.refreshFogUniforms(Fr,pe),Ae.refreshMaterialUniforms(Fr,te,F,U,g.state.transmissionRenderTarget[L.id]),V_.upload(N,f6(Xe),Fr,k)),te.isShaderMaterial&&te.uniformsNeedUpdate===!0&&(V_.upload(N,f6(Xe),Fr,k),te.uniformsNeedUpdate=!1),te.isSpriteMaterial&&An.setValue(N,"center",Y.center),An.setValue(N,"modelViewMatrix",Y.modelViewMatrix),An.setValue(N,"normalMatrix",Y.normalMatrix),An.setValue(N,"modelMatrix",Y.matrixWorld),te.isShaderMaterial||te.isRawShaderMaterial){const Qi=te.uniformsGroups;for(let tr=0,Bv=Qi.length;tr<Bv;tr++){const H0=Qi[tr];V.update(H0,ss),V.bind(H0,ss)}}return ss}function hW(L,q){L.ambientLightColor.needsUpdate=q,L.lightProbe.needsUpdate=q,L.directionalLights.needsUpdate=q,L.directionalLightShadows.needsUpdate=q,L.pointLights.needsUpdate=q,L.pointLightShadows.needsUpdate=q,L.spotLights.needsUpdate=q,L.spotLightShadows.needsUpdate=q,L.rectAreaLights.needsUpdate=q,L.hemisphereLights.needsUpdate=q}function AW(L){return L.isMeshLambertMaterial||L.isMeshToonMaterial||L.isMeshPhongMaterial||L.isMeshStandardMaterial||L.isShadowMaterial||L.isShaderMaterial&&L.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(L,q,ee){Te.get(L.texture).__webglTexture=q,Te.get(L.depthTexture).__webglTexture=ee;const te=Te.get(L);te.__hasExternalTextures=!0,te.__autoAllocateDepthBuffer=ee===void 0,te.__autoAllocateDepthBuffer||Oe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),te.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(L,q){const ee=Te.get(L);ee.__webglFramebuffer=q,ee.__useDefaultFramebuffer=q===void 0},this.setRenderTarget=function(L,q=0,ee=0){w=L,E=q,b=ee;let te=!0,Y=null,pe=!1,Me=!1;if(L){const Ge=Te.get(L);if(Ge.__useDefaultFramebuffer!==void 0)Be.bindFramebuffer(N.FRAMEBUFFER,null),te=!1;else if(Ge.__webglFramebuffer===void 0)k.setupRenderTarget(L);else if(Ge.__hasExternalTextures)k.rebindTextures(L,Te.get(L.texture).__webglTexture,Te.get(L.depthTexture).__webglTexture);else if(L.depthBuffer){const qe=L.depthTexture;if(Ge.__boundDepthTexture!==qe){if(qe!==null&&Te.has(qe)&&(L.width!==qe.image.width||L.height!==qe.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");k.setupDepthRenderbuffer(L)}}const $e=L.texture;($e.isData3DTexture||$e.isDataArrayTexture||$e.isCompressedArrayTexture)&&(Me=!0);const et=Te.get(L).__webglFramebuffer;L.isWebGLCubeRenderTarget?(Array.isArray(et[q])?Y=et[q][ee]:Y=et[q],pe=!0):L.samples>0&&k.useMultisampledRTT(L)===!1?Y=Te.get(L).__webglMultisampledFramebuffer:Array.isArray(et)?Y=et[ee]:Y=et,B.copy(L.viewport),S.copy(L.scissor),T=L.scissorTest}else B.copy(P).multiplyScalar(F).floor(),S.copy(Z).multiplyScalar(F).floor(),T=ce;if(Be.bindFramebuffer(N.FRAMEBUFFER,Y)&&te&&Be.drawBuffers(L,Y),Be.viewport(B),Be.scissor(S),Be.setScissorTest(T),pe){const Ge=Te.get(L.texture);N.framebufferTexture2D(N.FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_CUBE_MAP_POSITIVE_X+q,Ge.__webglTexture,ee)}else if(Me){const Ge=Te.get(L.texture),$e=q||0;N.framebufferTextureLayer(N.FRAMEBUFFER,N.COLOR_ATTACHMENT0,Ge.__webglTexture,ee||0,$e)}C=-1},this.readRenderTargetPixels=function(L,q,ee,te,Y,pe,Me){if(!(L&&L.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Fe=Te.get(L).__webglFramebuffer;if(L.isWebGLCubeRenderTarget&&Me!==void 0&&(Fe=Fe[Me]),Fe){Be.bindFramebuffer(N.FRAMEBUFFER,Fe);try{const Ge=L.texture,$e=Ge.format,et=Ge.type;if(!Ne.textureFormatReadable($e)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ne.textureTypeReadable(et)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}q>=0&&q<=L.width-te&&ee>=0&&ee<=L.height-Y&&N.readPixels(q,ee,te,Y,Qe.convert($e),Qe.convert(et),pe)}finally{const Ge=w!==null?Te.get(w).__webglFramebuffer:null;Be.bindFramebuffer(N.FRAMEBUFFER,Ge)}}},this.readRenderTargetPixelsAsync=async function(L,q,ee,te,Y,pe,Me){if(!(L&&L.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Fe=Te.get(L).__webglFramebuffer;if(L.isWebGLCubeRenderTarget&&Me!==void 0&&(Fe=Fe[Me]),Fe){const Ge=L.texture,$e=Ge.format,et=Ge.type;if(!Ne.textureFormatReadable($e))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ne.textureTypeReadable(et))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(q>=0&&q<=L.width-te&&ee>=0&&ee<=L.height-Y){Be.bindFramebuffer(N.FRAMEBUFFER,Fe);const qe=N.createBuffer();N.bindBuffer(N.PIXEL_PACK_BUFFER,qe),N.bufferData(N.PIXEL_PACK_BUFFER,pe.byteLength,N.STREAM_READ),N.readPixels(q,ee,te,Y,Qe.convert($e),Qe.convert(et),0);const Rt=w!==null?Te.get(w).__webglFramebuffer:null;Be.bindFramebuffer(N.FRAMEBUFFER,Rt);const Ot=N.fenceSync(N.SYNC_GPU_COMMANDS_COMPLETE,0);return N.flush(),await CN(N,Ot,4),N.bindBuffer(N.PIXEL_PACK_BUFFER,qe),N.getBufferSubData(N.PIXEL_PACK_BUFFER,0,pe),N.deleteBuffer(qe),N.deleteSync(Ot),pe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(L,q=null,ee=0){L.isTexture!==!0&&(Fl("WebGLRenderer: copyFramebufferToTexture function signature has changed."),q=arguments[0]||null,L=arguments[1]);const te=Math.pow(2,-ee),Y=Math.floor(L.image.width*te),pe=Math.floor(L.image.height*te),Me=q!==null?q.x:0,Fe=q!==null?q.y:0;k.setTexture2D(L,0),N.copyTexSubImage2D(N.TEXTURE_2D,ee,0,0,Me,Fe,Y,pe),Be.unbindTexture()};const dW=N.createFramebuffer(),pW=N.createFramebuffer();this.copyTextureToTexture=function(L,q,ee=null,te=null,Y=0,pe=null){L.isTexture!==!0&&(Fl("WebGLRenderer: copyTextureToTexture function signature has changed."),te=arguments[0]||null,L=arguments[1],q=arguments[2],pe=arguments[3]||0,ee=null),pe===null&&(Y!==0?(Fl("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),pe=Y,Y=0):pe=0);let Me,Fe,Ge,$e,et,qe,Rt,Ot,kn;const wn=L.isCompressedTexture?L.mipmaps[pe]:L.image;if(ee!==null)Me=ee.max.x-ee.min.x,Fe=ee.max.y-ee.min.y,Ge=ee.isBox3?ee.max.z-ee.min.z:1,$e=ee.min.x,et=ee.min.y,qe=ee.isBox3?ee.min.z:0;else{const kr=Math.pow(2,-Y);Me=Math.floor(wn.width*kr),Fe=Math.floor(wn.height*kr),L.isDataArrayTexture?Ge=wn.depth:L.isData3DTexture?Ge=Math.floor(wn.depth*kr):Ge=1,$e=0,et=0,qe=0}te!==null?(Rt=te.x,Ot=te.y,kn=te.z):(Rt=0,Ot=0,kn=0);const Ft=Qe.convert(q.format),Xe=Qe.convert(q.type);let xi;q.isData3DTexture?(k.setTexture3D(q,0),xi=N.TEXTURE_3D):q.isDataArrayTexture||q.isCompressedArrayTexture?(k.setTexture2DArray(q,0),xi=N.TEXTURE_2D_ARRAY):(k.setTexture2D(q,0),xi=N.TEXTURE_2D),N.pixelStorei(N.UNPACK_FLIP_Y_WEBGL,q.flipY),N.pixelStorei(N.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),N.pixelStorei(N.UNPACK_ALIGNMENT,q.unpackAlignment);const Gt=N.getParameter(N.UNPACK_ROW_LENGTH),ss=N.getParameter(N.UNPACK_IMAGE_HEIGHT),Ax=N.getParameter(N.UNPACK_SKIP_PIXELS),Ir=N.getParameter(N.UNPACK_SKIP_ROWS),Fh=N.getParameter(N.UNPACK_SKIP_IMAGES);N.pixelStorei(N.UNPACK_ROW_LENGTH,wn.width),N.pixelStorei(N.UNPACK_IMAGE_HEIGHT,wn.height),N.pixelStorei(N.UNPACK_SKIP_PIXELS,$e),N.pixelStorei(N.UNPACK_SKIP_ROWS,et),N.pixelStorei(N.UNPACK_SKIP_IMAGES,qe);const An=L.isDataArrayTexture||L.isData3DTexture,Fr=q.isDataArrayTexture||q.isData3DTexture;if(L.isDepthTexture){const kr=Te.get(L),Qi=Te.get(q),tr=Te.get(kr.__renderTarget),Bv=Te.get(Qi.__renderTarget);Be.bindFramebuffer(N.READ_FRAMEBUFFER,tr.__webglFramebuffer),Be.bindFramebuffer(N.DRAW_FRAMEBUFFER,Bv.__webglFramebuffer);for(let H0=0;H0<Ge;H0++)An&&(N.framebufferTextureLayer(N.READ_FRAMEBUFFER,N.COLOR_ATTACHMENT0,Te.get(L).__webglTexture,Y,qe+H0),N.framebufferTextureLayer(N.DRAW_FRAMEBUFFER,N.COLOR_ATTACHMENT0,Te.get(q).__webglTexture,pe,kn+H0)),N.blitFramebuffer($e,et,Me,Fe,Rt,Ot,Me,Fe,N.DEPTH_BUFFER_BIT,N.NEAREST);Be.bindFramebuffer(N.READ_FRAMEBUFFER,null),Be.bindFramebuffer(N.DRAW_FRAMEBUFFER,null)}else if(Y!==0||L.isRenderTargetTexture||Te.has(L)){const kr=Te.get(L),Qi=Te.get(q);Be.bindFramebuffer(N.READ_FRAMEBUFFER,dW),Be.bindFramebuffer(N.DRAW_FRAMEBUFFER,pW);for(let tr=0;tr<Ge;tr++)An?N.framebufferTextureLayer(N.READ_FRAMEBUFFER,N.COLOR_ATTACHMENT0,kr.__webglTexture,Y,qe+tr):N.framebufferTexture2D(N.READ_FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_2D,kr.__webglTexture,Y),Fr?N.framebufferTextureLayer(N.DRAW_FRAMEBUFFER,N.COLOR_ATTACHMENT0,Qi.__webglTexture,pe,kn+tr):N.framebufferTexture2D(N.DRAW_FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_2D,Qi.__webglTexture,pe),Y!==0?N.blitFramebuffer($e,et,Me,Fe,Rt,Ot,Me,Fe,N.COLOR_BUFFER_BIT,N.NEAREST):Fr?N.copyTexSubImage3D(xi,pe,Rt,Ot,kn+tr,$e,et,Me,Fe):N.copyTexSubImage2D(xi,pe,Rt,Ot,$e,et,Me,Fe);Be.bindFramebuffer(N.READ_FRAMEBUFFER,null),Be.bindFramebuffer(N.DRAW_FRAMEBUFFER,null)}else Fr?L.isDataTexture||L.isData3DTexture?N.texSubImage3D(xi,pe,Rt,Ot,kn,Me,Fe,Ge,Ft,Xe,wn.data):q.isCompressedArrayTexture?N.compressedTexSubImage3D(xi,pe,Rt,Ot,kn,Me,Fe,Ge,Ft,wn.data):N.texSubImage3D(xi,pe,Rt,Ot,kn,Me,Fe,Ge,Ft,Xe,wn):L.isDataTexture?N.texSubImage2D(N.TEXTURE_2D,pe,Rt,Ot,Me,Fe,Ft,Xe,wn.data):L.isCompressedTexture?N.compressedTexSubImage2D(N.TEXTURE_2D,pe,Rt,Ot,wn.width,wn.height,Ft,wn.data):N.texSubImage2D(N.TEXTURE_2D,pe,Rt,Ot,Me,Fe,Ft,Xe,wn);N.pixelStorei(N.UNPACK_ROW_LENGTH,Gt),N.pixelStorei(N.UNPACK_IMAGE_HEIGHT,ss),N.pixelStorei(N.UNPACK_SKIP_PIXELS,Ax),N.pixelStorei(N.UNPACK_SKIP_ROWS,Ir),N.pixelStorei(N.UNPACK_SKIP_IMAGES,Fh),pe===0&&q.generateMipmaps&&N.generateMipmap(xi),Be.unbindTexture()},this.copyTextureToTexture3D=function(L,q,ee=null,te=null,Y=0){return L.isTexture!==!0&&(Fl("WebGLRenderer: copyTextureToTexture3D function signature has changed."),ee=arguments[0]||null,te=arguments[1]||null,L=arguments[2],q=arguments[3],Y=arguments[4]||0),Fl('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(L,q,ee,te,Y)},this.initRenderTarget=function(L){Te.get(L).__webglFramebuffer===void 0&&k.setupRenderTarget(L)},this.initTexture=function(L){L.isCubeTexture?k.setTextureCube(L,0):L.isData3DTexture?k.setTexture3D(L,0):L.isDataArrayTexture||L.isCompressedArrayTexture?k.setTexture2DArray(L,0):k.setTexture2D(L,0),Be.unbindTexture()},this.resetState=function(){E=0,b=0,w=null,Be.reset(),rt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return pa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorspace=Dt._getDrawingBufferColorSpace(t),e.unpackColorSpace=Dt._getUnpackColorSpace()}}const TM=new bo,q_=new X;class DM extends iO{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const t=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],e=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],n=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(n),this.setAttribute("position",new Ds(t,3)),this.setAttribute("uv",new Ds(e,2))}applyMatrix4(t){const e=this.attributes.instanceStart,n=this.attributes.instanceEnd;return e!==void 0&&(e.applyMatrix4(t),n.applyMatrix4(t),e.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(t){let e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));const n=new TC(e,6,1);return this.setAttribute("instanceStart",new Fs(n,3,0)),this.setAttribute("instanceEnd",new Fs(n,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(t){let e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));const n=new TC(e,6,1);return this.setAttribute("instanceColorStart",new Fs(n,3,0)),this.setAttribute("instanceColorEnd",new Fs(n,3,3)),this}fromWireframeGeometry(t){return this.setPositions(t.attributes.position.array),this}fromEdgesGeometry(t){return this.setPositions(t.attributes.position.array),this}fromMesh(t){return this.fromWireframeGeometry(new eO(t.geometry)),this}fromLineSegments(t){const e=t.geometry;return this.setPositions(e.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new bo);const t=this.attributes.instanceStart,e=this.attributes.instanceEnd;t!==void 0&&e!==void 0&&(this.boundingBox.setFromBufferAttribute(t),TM.setFromBufferAttribute(e),this.boundingBox.union(TM))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ah),this.boundingBox===null&&this.computeBoundingBox();const t=this.attributes.instanceStart,e=this.attributes.instanceEnd;if(t!==void 0&&e!==void 0){const n=this.boundingSphere.center;this.boundingBox.getCenter(n);let r=0;for(let s=0,a=t.count;s<a;s++)q_.fromBufferAttribute(t,s),r=Math.max(r,n.distanceToSquared(q_)),q_.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(q_));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(t){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(t)}}class QM extends DM{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(t){const e=t.length-3,n=new Float32Array(2*e);for(let r=0;r<e;r+=3)n[2*r]=t[r],n[2*r+1]=t[r+1],n[2*r+2]=t[r+2],n[2*r+3]=t[r+3],n[2*r+4]=t[r+4],n[2*r+5]=t[r+5];return super.setPositions(n),this}setColors(t){const e=t.length-3,n=new Float32Array(2*e);for(let r=0;r<e;r+=3)n[2*r]=t[r],n[2*r+1]=t[r+1],n[2*r+2]=t[r+2],n[2*r+3]=t[r+3],n[2*r+4]=t[r+4],n[2*r+5]=t[r+5];return super.setColors(n),this}setFromPoints(t){const e=t.length-1,n=new Float32Array(6*e);for(let r=0;r<e;r++)n[6*r]=t[r].x,n[6*r+1]=t[r].y,n[6*r+2]=t[r].z||0,n[6*r+3]=t[r+1].x,n[6*r+4]=t[r+1].y,n[6*r+5]=t[r+1].z||0;return super.setPositions(n),this}fromLine(t){const e=t.geometry;return this.setPositions(e.attributes.position.array),this}}Ce.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Ct(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},Zi.line={uniforms:SC.merge([Ce.common,Ce.fog,Ce.line]),vertexShader:`
=======
}`;class jX{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(this.texture===null){const r=new Fi,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!=n.depthNear||t.depthFar!=n.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new Ua({vertexShader:XX,fragmentShader:WX,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Us(new M_(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class KX extends cx{constructor(e,t){super();const n=this;let r=null,s=1,a=null,o="local-floor",l=1,c=null,x=null,u=null,h=null,f=null,A=null;const g=new jX,d=t.getContextAttributes();let p=null,m=null;const I=[],_=[],y=new It;let E=null;const C=new fs;C.viewport=new cn;const w=new fs;w.viewport=new cn;const b=[C,w],v=new KV;let B=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let O=I[G];return O===void 0&&(O=new n3,I[G]=O),O.getTargetRaySpace()},this.getControllerGrip=function(G){let O=I[G];return O===void 0&&(O=new n3,I[G]=O),O.getGripSpace()},this.getHand=function(G){let O=I[G];return O===void 0&&(O=new n3,I[G]=O),O.getHandSpace()};function T(G){const O=_.indexOf(G.inputSource);if(O===-1)return;const ee=I[O];ee!==void 0&&(ee.update(G.inputSource,G.frame,c||a),ee.dispatchEvent({type:G.type,data:G.inputSource}))}function F(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",F),r.removeEventListener("inputsourceschange",M);for(let G=0;G<I.length;G++){const O=_[G];O!==null&&(_[G]=null,I[G].disconnect(O))}B=null,R=null,g.reset(),e.setRenderTarget(p),f=null,h=null,u=null,r=null,m=null,xe.stop(),n.isPresenting=!1,e.setPixelRatio(E),e.setSize(y.width,y.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){s=G,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){o=G,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(G){c=G},this.getBaseLayer=function(){return h!==null?h:f},this.getBinding=function(){return u},this.getFrame=function(){return A},this.getSession=function(){return r},this.setSession=async function(G){if(r=G,r!==null){if(p=e.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",F),r.addEventListener("inputsourceschange",M),d.xrCompatible!==!0&&await t.makeXRCompatible(),E=e.getPixelRatio(),e.getSize(y),r.renderState.layers===void 0){const O={antialias:d.antialias,alpha:!0,depth:d.depth,stencil:d.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(r,t,O),r.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),m=new q0(f.framebufferWidth,f.framebufferHeight,{format:os,type:Ba,colorSpace:e.outputColorSpace,stencilBuffer:d.stencil})}else{let O=null,ee=null,K=null;d.depth&&(K=d.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,O=d.stencil?sx:rx,ee=d.stencil?ix:H0);const ce={colorFormat:t.RGBA8,depthFormat:K,scaleFactor:s};u=new XRWebGLBinding(r,t),h=u.createProjectionLayer(ce),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),m=new q0(h.textureWidth,h.textureHeight,{format:os,type:Ba,depthTexture:new Z8(h.textureWidth,h.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,O),stencilBuffer:d.stencil,colorSpace:e.outputColorSpace,samples:d.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}m.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await r.requestReferenceSpace(o),xe.setContext(r),xe.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return g.getDepthTexture()};function M(G){for(let O=0;O<G.removed.length;O++){const ee=G.removed[O],K=_.indexOf(ee);K>=0&&(_[K]=null,I[K].disconnect(ee))}for(let O=0;O<G.added.length;O++){const ee=G.added[O];let K=_.indexOf(ee);if(K===-1){for(let Ae=0;Ae<I.length;Ae++)if(Ae>=_.length){_.push(ee),K=Ae;break}else if(_[Ae]===null){_[Ae]=ee,K=Ae;break}if(K===-1)break}const ce=I[K];ce&&ce.connect(ee)}}const D=new W,P=new W;function k(G,O,ee){D.setFromMatrixPosition(O.matrixWorld),P.setFromMatrixPosition(ee.matrixWorld);const K=D.distanceTo(P),ce=O.projectionMatrix.elements,Ae=ee.projectionMatrix.elements,ge=ce[14]/(ce[10]-1),oe=ce[14]/(ce[10]+1),Se=(ce[9]+1)/ce[5],At=(ce[9]-1)/ce[5],N=(ce[8]-1)/ce[0],Nt=(Ae[8]+1)/Ae[0],ze=ge*N,Ge=ge*Nt,Be=K/(-N+Nt),ke=Be*-N;if(O.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(ke),G.translateZ(Be),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert(),ce[10]===-1)G.projectionMatrix.copy(O.projectionMatrix),G.projectionMatrixInverse.copy(O.projectionMatrixInverse);else{const Re=ge+Be,L=oe+Be,S=ze-ke,X=Ge+(K-ke),se=Se*oe/L*Re,te=At*oe/L*Re;G.projectionMatrix.makePerspective(S,X,se,te,Re,L),G.projectionMatrixInverse.copy(G.projectionMatrix).invert()}}function V(G,O){O===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(O.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(r===null)return;let O=G.near,ee=G.far;g.texture!==null&&(g.depthNear>0&&(O=g.depthNear),g.depthFar>0&&(ee=g.depthFar)),v.near=w.near=C.near=O,v.far=w.far=C.far=ee,(B!==v.near||R!==v.far)&&(r.updateRenderState({depthNear:v.near,depthFar:v.far}),B=v.near,R=v.far),C.layers.mask=G.layers.mask|2,w.layers.mask=G.layers.mask|4,v.layers.mask=C.layers.mask|w.layers.mask;const K=G.parent,ce=v.cameras;V(v,K);for(let Ae=0;Ae<ce.length;Ae++)V(ce[Ae],K);ce.length===2?k(v,C,w):v.projectionMatrix.copy(C.projectionMatrix),Y(G,v,K)};function Y(G,O,ee){ee===null?G.matrix.copy(O.matrixWorld):(G.matrix.copy(ee.matrixWorld),G.matrix.invert(),G.matrix.multiply(O.matrixWorld)),G.matrix.decompose(G.position,G.quaternion,G.scale),G.updateMatrixWorld(!0),G.projectionMatrix.copy(O.projectionMatrix),G.projectionMatrixInverse.copy(O.projectionMatrixInverse),G.isPerspectiveCamera&&(G.fov=Ff*2*Math.atan(1/G.projectionMatrix.elements[5]),G.zoom=1)}this.getCamera=function(){return v},this.getFoveation=function(){if(!(h===null&&f===null))return l},this.setFoveation=function(G){l=G,h!==null&&(h.fixedFoveation=G),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=G)},this.hasDepthSensing=function(){return g.texture!==null},this.getDepthSensingMesh=function(){return g.getMesh(v)};let U=null;function ne(G,O){if(x=O.getViewerPose(c||a),A=O,x!==null){const ee=x.views;f!==null&&(e.setRenderTargetFramebuffer(m,f.framebuffer),e.setRenderTarget(m));let K=!1;ee.length!==v.cameras.length&&(v.cameras.length=0,K=!0);for(let Ae=0;Ae<ee.length;Ae++){const ge=ee[Ae];let oe=null;if(f!==null)oe=f.getViewport(ge);else{const At=u.getViewSubImage(h,ge);oe=At.viewport,Ae===0&&(e.setRenderTargetTextures(m,At.colorTexture,h.ignoreDepthValues?void 0:At.depthStencilTexture),e.setRenderTarget(m))}let Se=b[Ae];Se===void 0&&(Se=new fs,Se.layers.enable(Ae),Se.viewport=new cn,b[Ae]=Se),Se.matrix.fromArray(ge.transform.matrix),Se.matrix.decompose(Se.position,Se.quaternion,Se.scale),Se.projectionMatrix.fromArray(ge.projectionMatrix),Se.projectionMatrixInverse.copy(Se.projectionMatrix).invert(),Se.viewport.set(oe.x,oe.y,oe.width,oe.height),Ae===0&&(v.matrix.copy(Se.matrix),v.matrix.decompose(v.position,v.quaternion,v.scale)),K===!0&&v.cameras.push(Se)}const ce=r.enabledFeatures;if(ce&&ce.includes("depth-sensing")){const Ae=u.getDepthInformation(ee[0]);Ae&&Ae.isValid&&Ae.texture&&g.init(e,Ae,r.renderState)}}for(let ee=0;ee<I.length;ee++){const K=_[ee],ce=I[ee];K!==null&&ce!==void 0&&ce.update(K,O,c||a)}U&&U(G,O),O.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:O}),A=null}const xe=new iR;xe.setAnimationLoop(ne),this.setAnimationLoop=function(G){U=G},this.dispose=function(){}}}const tc=new Fa,JX=new Rn;function ZX(i,e){function t(d,p){d.matrixAutoUpdate===!0&&d.updateMatrix(),p.value.copy(d.matrix)}function n(d,p){p.color.getRGB(d.fogColor.value,G8(i)),p.isFog?(d.fogNear.value=p.near,d.fogFar.value=p.far):p.isFogExp2&&(d.fogDensity.value=p.density)}function r(d,p,m,I,_){p.isMeshBasicMaterial||p.isMeshLambertMaterial?s(d,p):p.isMeshToonMaterial?(s(d,p),u(d,p)):p.isMeshPhongMaterial?(s(d,p),x(d,p)):p.isMeshStandardMaterial?(s(d,p),h(d,p),p.isMeshPhysicalMaterial&&f(d,p,_)):p.isMeshMatcapMaterial?(s(d,p),A(d,p)):p.isMeshDepthMaterial?s(d,p):p.isMeshDistanceMaterial?(s(d,p),g(d,p)):p.isMeshNormalMaterial?s(d,p):p.isLineBasicMaterial?(a(d,p),p.isLineDashedMaterial&&o(d,p)):p.isPointsMaterial?l(d,p,m,I):p.isSpriteMaterial?c(d,p):p.isShadowMaterial?(d.color.value.copy(p.color),d.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function s(d,p){d.opacity.value=p.opacity,p.color&&d.diffuse.value.copy(p.color),p.emissive&&d.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(d.map.value=p.map,t(p.map,d.mapTransform)),p.alphaMap&&(d.alphaMap.value=p.alphaMap,t(p.alphaMap,d.alphaMapTransform)),p.bumpMap&&(d.bumpMap.value=p.bumpMap,t(p.bumpMap,d.bumpMapTransform),d.bumpScale.value=p.bumpScale,p.side===er&&(d.bumpScale.value*=-1)),p.normalMap&&(d.normalMap.value=p.normalMap,t(p.normalMap,d.normalMapTransform),d.normalScale.value.copy(p.normalScale),p.side===er&&d.normalScale.value.negate()),p.displacementMap&&(d.displacementMap.value=p.displacementMap,t(p.displacementMap,d.displacementMapTransform),d.displacementScale.value=p.displacementScale,d.displacementBias.value=p.displacementBias),p.emissiveMap&&(d.emissiveMap.value=p.emissiveMap,t(p.emissiveMap,d.emissiveMapTransform)),p.specularMap&&(d.specularMap.value=p.specularMap,t(p.specularMap,d.specularMapTransform)),p.alphaTest>0&&(d.alphaTest.value=p.alphaTest);const m=e.get(p),I=m.envMap,_=m.envMapRotation;I&&(d.envMap.value=I,tc.copy(_),tc.x*=-1,tc.y*=-1,tc.z*=-1,I.isCubeTexture&&I.isRenderTargetTexture===!1&&(tc.y*=-1,tc.z*=-1),d.envMapRotation.value.setFromMatrix4(JX.makeRotationFromEuler(tc)),d.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,d.reflectivity.value=p.reflectivity,d.ior.value=p.ior,d.refractionRatio.value=p.refractionRatio),p.lightMap&&(d.lightMap.value=p.lightMap,d.lightMapIntensity.value=p.lightMapIntensity,t(p.lightMap,d.lightMapTransform)),p.aoMap&&(d.aoMap.value=p.aoMap,d.aoMapIntensity.value=p.aoMapIntensity,t(p.aoMap,d.aoMapTransform))}function a(d,p){d.diffuse.value.copy(p.color),d.opacity.value=p.opacity,p.map&&(d.map.value=p.map,t(p.map,d.mapTransform))}function o(d,p){d.dashSize.value=p.dashSize,d.totalSize.value=p.dashSize+p.gapSize,d.scale.value=p.scale}function l(d,p,m,I){d.diffuse.value.copy(p.color),d.opacity.value=p.opacity,d.size.value=p.size*m,d.scale.value=I*.5,p.map&&(d.map.value=p.map,t(p.map,d.uvTransform)),p.alphaMap&&(d.alphaMap.value=p.alphaMap,t(p.alphaMap,d.alphaMapTransform)),p.alphaTest>0&&(d.alphaTest.value=p.alphaTest)}function c(d,p){d.diffuse.value.copy(p.color),d.opacity.value=p.opacity,d.rotation.value=p.rotation,p.map&&(d.map.value=p.map,t(p.map,d.mapTransform)),p.alphaMap&&(d.alphaMap.value=p.alphaMap,t(p.alphaMap,d.alphaMapTransform)),p.alphaTest>0&&(d.alphaTest.value=p.alphaTest)}function x(d,p){d.specular.value.copy(p.specular),d.shininess.value=Math.max(p.shininess,1e-4)}function u(d,p){p.gradientMap&&(d.gradientMap.value=p.gradientMap)}function h(d,p){d.metalness.value=p.metalness,p.metalnessMap&&(d.metalnessMap.value=p.metalnessMap,t(p.metalnessMap,d.metalnessMapTransform)),d.roughness.value=p.roughness,p.roughnessMap&&(d.roughnessMap.value=p.roughnessMap,t(p.roughnessMap,d.roughnessMapTransform)),p.envMap&&(d.envMapIntensity.value=p.envMapIntensity)}function f(d,p,m){d.ior.value=p.ior,p.sheen>0&&(d.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),d.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(d.sheenColorMap.value=p.sheenColorMap,t(p.sheenColorMap,d.sheenColorMapTransform)),p.sheenRoughnessMap&&(d.sheenRoughnessMap.value=p.sheenRoughnessMap,t(p.sheenRoughnessMap,d.sheenRoughnessMapTransform))),p.clearcoat>0&&(d.clearcoat.value=p.clearcoat,d.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(d.clearcoatMap.value=p.clearcoatMap,t(p.clearcoatMap,d.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(d.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,t(p.clearcoatRoughnessMap,d.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(d.clearcoatNormalMap.value=p.clearcoatNormalMap,t(p.clearcoatNormalMap,d.clearcoatNormalMapTransform),d.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===er&&d.clearcoatNormalScale.value.negate())),p.dispersion>0&&(d.dispersion.value=p.dispersion),p.iridescence>0&&(d.iridescence.value=p.iridescence,d.iridescenceIOR.value=p.iridescenceIOR,d.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],d.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(d.iridescenceMap.value=p.iridescenceMap,t(p.iridescenceMap,d.iridescenceMapTransform)),p.iridescenceThicknessMap&&(d.iridescenceThicknessMap.value=p.iridescenceThicknessMap,t(p.iridescenceThicknessMap,d.iridescenceThicknessMapTransform))),p.transmission>0&&(d.transmission.value=p.transmission,d.transmissionSamplerMap.value=m.texture,d.transmissionSamplerSize.value.set(m.width,m.height),p.transmissionMap&&(d.transmissionMap.value=p.transmissionMap,t(p.transmissionMap,d.transmissionMapTransform)),d.thickness.value=p.thickness,p.thicknessMap&&(d.thicknessMap.value=p.thicknessMap,t(p.thicknessMap,d.thicknessMapTransform)),d.attenuationDistance.value=p.attenuationDistance,d.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(d.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(d.anisotropyMap.value=p.anisotropyMap,t(p.anisotropyMap,d.anisotropyMapTransform))),d.specularIntensity.value=p.specularIntensity,d.specularColor.value.copy(p.specularColor),p.specularColorMap&&(d.specularColorMap.value=p.specularColorMap,t(p.specularColorMap,d.specularColorMapTransform)),p.specularIntensityMap&&(d.specularIntensityMap.value=p.specularIntensityMap,t(p.specularIntensityMap,d.specularIntensityMapTransform))}function A(d,p){p.matcap&&(d.matcap.value=p.matcap)}function g(d,p){const m=e.get(p).light;d.referencePosition.value.setFromMatrixPosition(m.matrixWorld),d.nearDistance.value=m.shadow.camera.near,d.farDistance.value=m.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function $X(i,e,t,n){let r={},s={},a=[];const o=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function l(m,I){const _=I.program;n.uniformBlockBinding(m,_)}function c(m,I){let _=r[m.id];_===void 0&&(A(m),_=x(m),r[m.id]=_,m.addEventListener("dispose",d));const y=I.program;n.updateUBOMapping(m,y);const E=e.render.frame;s[m.id]!==E&&(h(m),s[m.id]=E)}function x(m){const I=u();m.__bindingPointIndex=I;const _=i.createBuffer(),y=m.__size,E=m.usage;return i.bindBuffer(i.UNIFORM_BUFFER,_),i.bufferData(i.UNIFORM_BUFFER,y,E),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,I,_),_}function u(){for(let m=0;m<o;m++)if(a.indexOf(m)===-1)return a.push(m),m;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(m){const I=r[m.id],_=m.uniforms,y=m.__cache;i.bindBuffer(i.UNIFORM_BUFFER,I);for(let E=0,C=_.length;E<C;E++){const w=Array.isArray(_[E])?_[E]:[_[E]];for(let b=0,v=w.length;b<v;b++){const B=w[b];if(f(B,E,b,y)===!0){const R=B.__offset,T=Array.isArray(B.value)?B.value:[B.value];let F=0;for(let M=0;M<T.length;M++){const D=T[M],P=g(D);typeof D=="number"||typeof D=="boolean"?(B.__data[0]=D,i.bufferSubData(i.UNIFORM_BUFFER,R+F,B.__data)):D.isMatrix3?(B.__data[0]=D.elements[0],B.__data[1]=D.elements[1],B.__data[2]=D.elements[2],B.__data[3]=0,B.__data[4]=D.elements[3],B.__data[5]=D.elements[4],B.__data[6]=D.elements[5],B.__data[7]=0,B.__data[8]=D.elements[6],B.__data[9]=D.elements[7],B.__data[10]=D.elements[8],B.__data[11]=0):(D.toArray(B.__data,F),F+=P.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,R,B.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function f(m,I,_,y){const E=m.value,C=I+"_"+_;if(y[C]===void 0)return typeof E=="number"||typeof E=="boolean"?y[C]=E:y[C]=E.clone(),!0;{const w=y[C];if(typeof E=="number"||typeof E=="boolean"){if(w!==E)return y[C]=E,!0}else if(w.equals(E)===!1)return w.copy(E),!0}return!1}function A(m){const I=m.uniforms;let _=0;const y=16;for(let C=0,w=I.length;C<w;C++){const b=Array.isArray(I[C])?I[C]:[I[C]];for(let v=0,B=b.length;v<B;v++){const R=b[v],T=Array.isArray(R.value)?R.value:[R.value];for(let F=0,M=T.length;F<M;F++){const D=T[F],P=g(D),k=_%y,V=k%P.boundary,Y=k+V;_+=V,Y!==0&&y-Y<P.storage&&(_+=y-Y),R.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=_,_+=P.storage}}}const E=_%y;return E>0&&(_+=y-E),m.__size=_,m.__cache={},this}function g(m){const I={boundary:0,storage:0};return typeof m=="number"||typeof m=="boolean"?(I.boundary=4,I.storage=4):m.isVector2?(I.boundary=8,I.storage=8):m.isVector3||m.isColor?(I.boundary=16,I.storage=12):m.isVector4?(I.boundary=16,I.storage=16):m.isMatrix3?(I.boundary=48,I.storage=48):m.isMatrix4?(I.boundary=64,I.storage=64):m.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",m),I}function d(m){const I=m.target;I.removeEventListener("dispose",d);const _=a.indexOf(I.__bindingPointIndex);a.splice(_,1),i.deleteBuffer(r[I.id]),delete r[I.id],delete s[I.id]}function p(){for(const m in r)i.deleteBuffer(r[m]);a=[],r={},s={}}return{bind:l,update:c,dispose:p}}class eW{constructor(e={}){const{canvas:t=dV(),context:n=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:x="default",failIfMajorPerformanceCaveat:u=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let f;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=n.getContextAttributes().alpha}else f=a;const A=new Uint32Array(4),g=new Int32Array(4);let d=null,p=null;const m=[],I=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Fr,this.toneMapping=ko,this.toneMappingExposure=1;const _=this;let y=!1,E=0,C=0,w=null,b=-1,v=null;const B=new cn,R=new cn;let T=null;const F=new Rt(0);let M=0,D=t.width,P=t.height,k=1,V=null,Y=null;const U=new cn(0,0,D,P),ne=new cn(0,0,D,P);let xe=!1;const G=new J8;let O=!1,ee=!1;const K=new Rn,ce=new Rn,Ae=new W,ge=new cn,oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Se=!1;function At(){return w===null?k:1}let N=n;function Nt(Q,H){return t.getContext(Q,H)}try{const Q={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:x,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Mb}`),t.addEventListener("webglcontextlost",re,!1),t.addEventListener("webglcontextrestored",we,!1),t.addEventListener("webglcontextcreationerror",ve,!1),N===null){const H="webgl2";if(N=Nt(H,Q),N===null)throw Nt(H)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Q){throw console.error("THREE.WebGLRenderer: "+Q.message),Q}let ze,Ge,Be,ke,Re,L,S,X,se,te,j,Ie,fe,ue,Te,le,me,Fe,Ue,ye,Xe,Qe,rt,z;function _e(){ze=new lY(N),ze.init(),Qe=new qX(N,ze),Ge=new iY(N,ze,e,Qe),Be=new VX(N,ze),Ge.reverseDepthBuffer&&h&&Be.buffers.depth.setReversed(!0),ke=new hY(N),Re=new RX,L=new HX(N,ze,Be,Re,Ge,Qe,ke),S=new sY(_),X=new cY(_),se=new $V(N),rt=new tY(N,se),te=new xY(N,se,ke,rt),j=new AY(N,te,se,ke),Ue=new fY(N,Ge,L),le=new rY(Re),Ie=new MX(_,S,X,ze,Ge,rt,le),fe=new ZX(_,Re),ue=new DX,Te=new UX(ze),Fe=new eY(_,S,X,Be,j,f,l),me=new GX(_,j,Ge),z=new $X(N,ke,Ge,Be),ye=new nY(N,ze,ke),Xe=new uY(N,ze,ke),ke.programs=Ie.programs,_.capabilities=Ge,_.extensions=ze,_.properties=Re,_.renderLists=ue,_.shadowMap=me,_.state=Be,_.info=ke}_e();const J=new KX(_,N);this.xr=J,this.getContext=function(){return N},this.getContextAttributes=function(){return N.getContextAttributes()},this.forceContextLoss=function(){const Q=ze.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){const Q=ze.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(Q){Q!==void 0&&(k=Q,this.setSize(D,P,!1))},this.getSize=function(Q){return Q.set(D,P)},this.setSize=function(Q,H,Z=!0){if(J.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}D=Q,P=H,t.width=Math.floor(Q*k),t.height=Math.floor(H*k),Z===!0&&(t.style.width=Q+"px",t.style.height=H+"px"),this.setViewport(0,0,Q,H)},this.getDrawingBufferSize=function(Q){return Q.set(D*k,P*k).floor()},this.setDrawingBufferSize=function(Q,H,Z){D=Q,P=H,k=Z,t.width=Math.floor(Q*Z),t.height=Math.floor(H*Z),this.setViewport(0,0,Q,H)},this.getCurrentViewport=function(Q){return Q.copy(B)},this.getViewport=function(Q){return Q.copy(U)},this.setViewport=function(Q,H,Z,$){Q.isVector4?U.set(Q.x,Q.y,Q.z,Q.w):U.set(Q,H,Z,$),Be.viewport(B.copy(U).multiplyScalar(k).round())},this.getScissor=function(Q){return Q.copy(ne)},this.setScissor=function(Q,H,Z,$){Q.isVector4?ne.set(Q.x,Q.y,Q.z,Q.w):ne.set(Q,H,Z,$),Be.scissor(R.copy(ne).multiplyScalar(k).round())},this.getScissorTest=function(){return xe},this.setScissorTest=function(Q){Be.setScissorTest(xe=Q)},this.setOpaqueSort=function(Q){V=Q},this.setTransparentSort=function(Q){Y=Q},this.getClearColor=function(Q){return Q.copy(Fe.getClearColor())},this.setClearColor=function(){Fe.setClearColor.apply(Fe,arguments)},this.getClearAlpha=function(){return Fe.getClearAlpha()},this.setClearAlpha=function(){Fe.setClearAlpha.apply(Fe,arguments)},this.clear=function(Q=!0,H=!0,Z=!0){let $=0;if(Q){let q=!1;if(w!==null){const pe=w.texture.format;q=pe===Kb||pe===jb||pe===Wb}if(q){const pe=w.texture.type,Me=pe===Ba||pe===H0||pe===Tf||pe===ix||pe===Yb||pe===Xb,Le=Fe.getClearColor(),Ne=Fe.getClearAlpha(),Ze=Le.r,$e=Le.g,qe=Le.b;Me?(A[0]=Ze,A[1]=$e,A[2]=qe,A[3]=Ne,N.clearBufferuiv(N.COLOR,0,A)):(g[0]=Ze,g[1]=$e,g[2]=qe,g[3]=Ne,N.clearBufferiv(N.COLOR,0,g))}else $|=N.COLOR_BUFFER_BIT}H&&($|=N.DEPTH_BUFFER_BIT),Z&&($|=N.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),N.clear($)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",re,!1),t.removeEventListener("webglcontextrestored",we,!1),t.removeEventListener("webglcontextcreationerror",ve,!1),Fe.dispose(),ue.dispose(),Te.dispose(),Re.dispose(),S.dispose(),X.dispose(),j.dispose(),rt.dispose(),z.dispose(),Ie.dispose(),J.dispose(),J.removeEventListener("sessionstart",Ui),J.removeEventListener("sessionend",Or),fi.stop()};function re(Q){Q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function we(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const Q=ke.autoReset,H=me.enabled,Z=me.autoUpdate,$=me.needsUpdate,q=me.type;_e(),ke.autoReset=Q,me.enabled=H,me.autoUpdate=Z,me.needsUpdate=$,me.type=q}function ve(Q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Q.statusMessage)}function Ke(Q){const H=Q.target;H.removeEventListener("dispose",Ke),un(H)}function un(Q){jt(Q),Re.remove(Q)}function jt(Q){const H=Re.get(Q).programs;H!==void 0&&(H.forEach(function(Z){Ie.releaseProgram(Z)}),Q.isShaderMaterial&&Ie.releaseShaderCache(Q))}this.renderBufferDirect=function(Q,H,Z,$,q,pe){H===null&&(H=oe);const Me=q.isMesh&&q.matrixWorld.determinant()<0,Le=GJ(Q,H,Z,$,q);Be.setMaterial($,Me);let Ne=Z.index,Ze=1;if($.wireframe===!0){if(Ne=te.getWireframeAttribute(Z),Ne===void 0)return;Ze=2}const $e=Z.drawRange,qe=Z.attributes.position;let vt=$e.start*Ze,Ot=($e.start+$e.count)*Ze;pe!==null&&(vt=Math.max(vt,pe.start*Ze),Ot=Math.min(Ot,(pe.start+pe.count)*Ze)),Ne!==null?(vt=Math.max(vt,0),Ot=Math.min(Ot,Ne.count)):qe!=null&&(vt=Math.max(vt,0),Ot=Math.min(Ot,qe.count));const zn=Ot-vt;if(zn<0||zn===1/0)return;rt.setup(q,$,Le,Z,Ne);let Tn,Tt=ye;if(Ne!==null&&(Tn=se.get(Ne),Tt=Xe,Tt.setIndex(Tn)),q.isMesh)$.wireframe===!0?(Be.setLineWidth($.wireframeLinewidth*At()),Tt.setMode(N.LINES)):Tt.setMode(N.TRIANGLES);else if(q.isLine){let We=$.linewidth;We===void 0&&(We=1),Be.setLineWidth(We*At()),q.isLineSegments?Tt.setMode(N.LINES):q.isLineLoop?Tt.setMode(N.LINE_LOOP):Tt.setMode(N.LINE_STRIP)}else q.isPoints?Tt.setMode(N.POINTS):q.isSprite&&Tt.setMode(N.TRIANGLES);if(q.isBatchedMesh)if(q._multiDrawInstances!==null)Tt.renderMultiDrawInstances(q._multiDrawStarts,q._multiDrawCounts,q._multiDrawCount,q._multiDrawInstances);else if(ze.get("WEBGL_multi_draw"))Tt.renderMultiDraw(q._multiDrawStarts,q._multiDrawCounts,q._multiDrawCount);else{const We=q._multiDrawStarts,Ai=q._multiDrawCounts,Gt=q._multiDrawCount,As=Ne?se.get(Ne).bytesPerElement:1,qx=Re.get($).currentProgram.getUniforms();for(let Er=0;Er<Gt;Er++)qx.setValue(N,"_gl_DrawID",Er),Tt.render(We[Er]/As,Ai[Er])}else if(q.isInstancedMesh)Tt.renderInstances(vt,zn,q.count);else if(Z.isInstancedBufferGeometry){const We=Z._maxInstanceCount!==void 0?Z._maxInstanceCount:1/0,Ai=Math.min(Z.instanceCount,We);Tt.renderInstances(vt,zn,Ai)}else Tt.render(vt,zn)};function dt(Q,H,Z){Q.transparent===!0&&Q.side===va&&Q.forceSinglePass===!1?(Q.side=er,Q.needsUpdate=!0,AI(Q,H,Z),Q.side=Lo,Q.needsUpdate=!0,AI(Q,H,Z),Q.side=va):AI(Q,H,Z)}this.compile=function(Q,H,Z=null){Z===null&&(Z=Q),p=Te.get(Z),p.init(H),I.push(p),Z.traverseVisible(function(q){q.isLight&&q.layers.test(H.layers)&&(p.pushLight(q),q.castShadow&&p.pushShadow(q))}),Q!==Z&&Q.traverseVisible(function(q){q.isLight&&q.layers.test(H.layers)&&(p.pushLight(q),q.castShadow&&p.pushShadow(q))}),p.setupLights();const $=new Set;return Q.traverse(function(q){if(!(q.isMesh||q.isPoints||q.isLine||q.isSprite))return;const pe=q.material;if(pe)if(Array.isArray(pe))for(let Me=0;Me<pe.length;Me++){const Le=pe[Me];dt(Le,Z,q),$.add(Le)}else dt(pe,Z,q),$.add(pe)}),I.pop(),p=null,$},this.compileAsync=function(Q,H,Z=null){const $=this.compile(Q,H,Z);return new Promise(q=>{function pe(){if($.forEach(function(Me){Re.get(Me).currentProgram.isReady()&&$.delete(Me)}),$.size===0){q(Q);return}setTimeout(pe,10)}ze.get("KHR_parallel_shader_compile")!==null?pe():setTimeout(pe,10)})};let _n=null;function Gn(Q){_n&&_n(Q)}function Ui(){fi.stop()}function Or(){fi.start()}const fi=new iR;fi.setAnimationLoop(Gn),typeof self<"u"&&fi.setContext(self),this.setAnimationLoop=function(Q){_n=Q,J.setAnimationLoop(Q),Q===null?fi.stop():fi.start()},J.addEventListener("sessionstart",Ui),J.addEventListener("sessionend",Or),this.render=function(Q,H){if(H!==void 0&&H.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;if(Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld(),H.parent===null&&H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),J.enabled===!0&&J.isPresenting===!0&&(J.cameraAutoUpdate===!0&&J.updateCamera(H),H=J.getCamera()),Q.isScene===!0&&Q.onBeforeRender(_,Q,H,w),p=Te.get(Q,I.length),p.init(H),I.push(p),ce.multiplyMatrices(H.projectionMatrix,H.matrixWorldInverse),G.setFromProjectionMatrix(ce),ee=this.localClippingEnabled,O=le.init(this.clippingPlanes,ee),d=ue.get(Q,m.length),d.init(),m.push(d),J.enabled===!0&&J.isPresenting===!0){const pe=_.xr.getDepthSensingMesh();pe!==null&&ln(pe,H,-1/0,_.sortObjects)}ln(Q,H,0,_.sortObjects),d.finish(),_.sortObjects===!0&&d.sort(V,Y),Se=J.enabled===!1||J.isPresenting===!1||J.hasDepthSensing()===!1,Se&&Fe.addToRenderList(d,Q),this.info.render.frame++,O===!0&&le.beginShadows();const Z=p.state.shadowsArray;me.render(Z,Q,H),O===!0&&le.endShadows(),this.info.autoReset===!0&&this.info.reset();const $=d.opaque,q=d.transmissive;if(p.setupLights(),H.isArrayCamera){const pe=H.cameras;if(q.length>0)for(let Me=0,Le=pe.length;Me<Le;Me++){const Ne=pe[Me];Gr($,q,Q,Ne)}Se&&Fe.render(Q);for(let Me=0,Le=pe.length;Me<Le;Me++){const Ne=pe[Me];ti(d,Q,Ne,Ne.viewport)}}else q.length>0&&Gr($,q,Q,H),Se&&Fe.render(Q),ti(d,Q,H);w!==null&&(L.updateMultisampleRenderTarget(w),L.updateRenderTargetMipmap(w)),Q.isScene===!0&&Q.onAfterRender(_,Q,H),rt.resetDefaultState(),b=-1,v=null,I.pop(),I.length>0?(p=I[I.length-1],O===!0&&le.setGlobalState(_.clippingPlanes,p.state.camera)):p=null,m.pop(),m.length>0?d=m[m.length-1]:d=null};function ln(Q,H,Z,$){if(Q.visible===!1)return;if(Q.layers.test(H.layers)){if(Q.isGroup)Z=Q.renderOrder;else if(Q.isLOD)Q.autoUpdate===!0&&Q.update(H);else if(Q.isLight)p.pushLight(Q),Q.castShadow&&p.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||G.intersectsSprite(Q)){$&&ge.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(ce);const Me=j.update(Q),Le=Q.material;Le.visible&&d.push(Q,Me,Le,Z,ge.z,null)}}else if((Q.isMesh||Q.isLine||Q.isPoints)&&(!Q.frustumCulled||G.intersectsObject(Q))){const Me=j.update(Q),Le=Q.material;if($&&(Q.boundingSphere!==void 0?(Q.boundingSphere===null&&Q.computeBoundingSphere(),ge.copy(Q.boundingSphere.center)):(Me.boundingSphere===null&&Me.computeBoundingSphere(),ge.copy(Me.boundingSphere.center)),ge.applyMatrix4(Q.matrixWorld).applyMatrix4(ce)),Array.isArray(Le)){const Ne=Me.groups;for(let Ze=0,$e=Ne.length;Ze<$e;Ze++){const qe=Ne[Ze],vt=Le[qe.materialIndex];vt&&vt.visible&&d.push(Q,Me,vt,Z,ge.z,qe)}}else Le.visible&&d.push(Q,Me,Le,Z,ge.z,null)}}const pe=Q.children;for(let Me=0,Le=pe.length;Me<Le;Me++)ln(pe[Me],H,Z,$)}function ti(Q,H,Z,$){const q=Q.opaque,pe=Q.transmissive,Me=Q.transparent;p.setupLightsView(Z),O===!0&&le.setGlobalState(_.clippingPlanes,Z),$&&Be.viewport(B.copy($)),q.length>0&&Hx(q,H,Z),pe.length>0&&Hx(pe,H,Z),Me.length>0&&Hx(Me,H,Z),Be.buffers.depth.setTest(!0),Be.buffers.depth.setMask(!0),Be.buffers.color.setMask(!0),Be.setPolygonOffset(!1)}function Gr(Q,H,Z,$){if((Z.isScene===!0?Z.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[$.id]===void 0&&(p.state.transmissionRenderTarget[$.id]=new q0(1,1,{generateMipmaps:!0,type:ze.has("EXT_color_buffer_half_float")||ze.has("EXT_color_buffer_float")?Df:Ba,minFilter:V0,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Mt.workingColorSpace}));const pe=p.state.transmissionRenderTarget[$.id],Me=$.viewport||B;pe.setSize(Me.z,Me.w);const Le=_.getRenderTarget();_.setRenderTarget(pe),_.getClearColor(F),M=_.getClearAlpha(),M<1&&_.setClearColor(16777215,.5),_.clear(),Se&&Fe.render(Z);const Ne=_.toneMapping;_.toneMapping=ko;const Ze=$.viewport;if($.viewport!==void 0&&($.viewport=void 0),p.setupLightsView($),O===!0&&le.setGlobalState(_.clippingPlanes,$),Hx(Q,Z,$),L.updateMultisampleRenderTarget(pe),L.updateRenderTargetMipmap(pe),ze.has("WEBGL_multisampled_render_to_texture")===!1){let $e=!1;for(let qe=0,vt=H.length;qe<vt;qe++){const Ot=H[qe],zn=Ot.object,Tn=Ot.geometry,Tt=Ot.material,We=Ot.group;if(Tt.side===va&&zn.layers.test($.layers)){const Ai=Tt.side;Tt.side=er,Tt.needsUpdate=!0,MT(zn,Z,$,Tn,Tt,We),Tt.side=Ai,Tt.needsUpdate=!0,$e=!0}}$e===!0&&(L.updateMultisampleRenderTarget(pe),L.updateRenderTargetMipmap(pe))}_.setRenderTarget(Le),_.setClearColor(F,M),Ze!==void 0&&($.viewport=Ze),_.toneMapping=Ne}function Hx(Q,H,Z){const $=H.isScene===!0?H.overrideMaterial:null;for(let q=0,pe=Q.length;q<pe;q++){const Me=Q[q],Le=Me.object,Ne=Me.geometry,Ze=$===null?Me.material:$,$e=Me.group;Le.layers.test(Z.layers)&&MT(Le,H,Z,Ne,Ze,$e)}}function MT(Q,H,Z,$,q,pe){Q.onBeforeRender(_,H,Z,$,q,pe),Q.modelViewMatrix.multiplyMatrices(Z.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),q.onBeforeRender(_,H,Z,$,Q,pe),q.transparent===!0&&q.side===va&&q.forceSinglePass===!1?(q.side=er,q.needsUpdate=!0,_.renderBufferDirect(Z,H,$,q,Q,pe),q.side=Lo,q.needsUpdate=!0,_.renderBufferDirect(Z,H,$,q,Q,pe),q.side=va):_.renderBufferDirect(Z,H,$,q,Q,pe),Q.onAfterRender(_,H,Z,$,q,pe)}function AI(Q,H,Z){H.isScene!==!0&&(H=oe);const $=Re.get(Q),q=p.state.lights,pe=p.state.shadowsArray,Me=q.state.version,Le=Ie.getParameters(Q,q.state,pe,H,Z),Ne=Ie.getProgramCacheKey(Le);let Ze=$.programs;$.environment=Q.isMeshStandardMaterial?H.environment:null,$.fog=H.fog,$.envMap=(Q.isMeshStandardMaterial?X:S).get(Q.envMap||$.environment),$.envMapRotation=$.environment!==null&&Q.envMap===null?H.environmentRotation:Q.envMapRotation,Ze===void 0&&(Q.addEventListener("dispose",Ke),Ze=new Map,$.programs=Ze);let $e=Ze.get(Ne);if($e!==void 0){if($.currentProgram===$e&&$.lightsStateVersion===Me)return TT(Q,Le),$e}else Le.uniforms=Ie.getUniforms(Q),Q.onBeforeCompile(Le,_),$e=Ie.acquireProgram(Le,Ne),Ze.set(Ne,$e),$.uniforms=Le.uniforms;const qe=$.uniforms;return(!Q.isShaderMaterial&&!Q.isRawShaderMaterial||Q.clipping===!0)&&(qe.clippingPlanes=le.uniform),TT(Q,Le),$.needsLights=VJ(Q),$.lightsStateVersion=Me,$.needsLights&&(qe.ambientLightColor.value=q.state.ambient,qe.lightProbe.value=q.state.probe,qe.directionalLights.value=q.state.directional,qe.directionalLightShadows.value=q.state.directionalShadow,qe.spotLights.value=q.state.spot,qe.spotLightShadows.value=q.state.spotShadow,qe.rectAreaLights.value=q.state.rectArea,qe.ltc_1.value=q.state.rectAreaLTC1,qe.ltc_2.value=q.state.rectAreaLTC2,qe.pointLights.value=q.state.point,qe.pointLightShadows.value=q.state.pointShadow,qe.hemisphereLights.value=q.state.hemi,qe.directionalShadowMap.value=q.state.directionalShadowMap,qe.directionalShadowMatrix.value=q.state.directionalShadowMatrix,qe.spotShadowMap.value=q.state.spotShadowMap,qe.spotLightMatrix.value=q.state.spotLightMatrix,qe.spotLightMap.value=q.state.spotLightMap,qe.pointShadowMap.value=q.state.pointShadowMap,qe.pointShadowMatrix.value=q.state.pointShadowMatrix),$.currentProgram=$e,$.uniformsList=null,$e}function RT(Q){if(Q.uniformsList===null){const H=Q.currentProgram.getUniforms();Q.uniformsList=F_.seqWithValue(H.seq,Q.uniforms)}return Q.uniformsList}function TT(Q,H){const Z=Re.get(Q);Z.outputColorSpace=H.outputColorSpace,Z.batching=H.batching,Z.batchingColor=H.batchingColor,Z.instancing=H.instancing,Z.instancingColor=H.instancingColor,Z.instancingMorph=H.instancingMorph,Z.skinning=H.skinning,Z.morphTargets=H.morphTargets,Z.morphNormals=H.morphNormals,Z.morphColors=H.morphColors,Z.morphTargetsCount=H.morphTargetsCount,Z.numClippingPlanes=H.numClippingPlanes,Z.numIntersection=H.numClipIntersection,Z.vertexAlphas=H.vertexAlphas,Z.vertexTangents=H.vertexTangents,Z.toneMapping=H.toneMapping}function GJ(Q,H,Z,$,q){H.isScene!==!0&&(H=oe),L.resetTextureUnits();const pe=H.fog,Me=$.isMeshStandardMaterial?H.environment:null,Le=w===null?_.outputColorSpace:w.isXRRenderTarget===!0?w.texture.colorSpace:ax,Ne=($.isMeshStandardMaterial?X:S).get($.envMap||Me),Ze=$.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,$e=!!Z.attributes.tangent&&(!!$.normalMap||$.anisotropy>0),qe=!!Z.morphAttributes.position,vt=!!Z.morphAttributes.normal,Ot=!!Z.morphAttributes.color;let zn=ko;$.toneMapped&&(w===null||w.isXRRenderTarget===!0)&&(zn=_.toneMapping);const Tn=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,Tt=Tn!==void 0?Tn.length:0,We=Re.get($),Ai=p.state.lights;if(O===!0&&(ee===!0||Q!==v)){const Ni=Q===v&&$.id===b;le.setState($,Q,Ni)}let Gt=!1;$.version===We.__version?(We.needsLights&&We.lightsStateVersion!==Ai.state.version||We.outputColorSpace!==Le||q.isBatchedMesh&&We.batching===!1||!q.isBatchedMesh&&We.batching===!0||q.isBatchedMesh&&We.batchingColor===!0&&q.colorTexture===null||q.isBatchedMesh&&We.batchingColor===!1&&q.colorTexture!==null||q.isInstancedMesh&&We.instancing===!1||!q.isInstancedMesh&&We.instancing===!0||q.isSkinnedMesh&&We.skinning===!1||!q.isSkinnedMesh&&We.skinning===!0||q.isInstancedMesh&&We.instancingColor===!0&&q.instanceColor===null||q.isInstancedMesh&&We.instancingColor===!1&&q.instanceColor!==null||q.isInstancedMesh&&We.instancingMorph===!0&&q.morphTexture===null||q.isInstancedMesh&&We.instancingMorph===!1&&q.morphTexture!==null||We.envMap!==Ne||$.fog===!0&&We.fog!==pe||We.numClippingPlanes!==void 0&&(We.numClippingPlanes!==le.numPlanes||We.numIntersection!==le.numIntersection)||We.vertexAlphas!==Ze||We.vertexTangents!==$e||We.morphTargets!==qe||We.morphNormals!==vt||We.morphColors!==Ot||We.toneMapping!==zn||We.morphTargetsCount!==Tt)&&(Gt=!0):(Gt=!0,We.__version=$.version);let As=We.currentProgram;Gt===!0&&(As=AI($,H,q));let qx=!1,Er=!1,gA=!1;const In=As.getUniforms(),zr=We.uniforms;if(Be.useProgram(As.program)&&(qx=!0,Er=!0,gA=!0),$.id!==b&&(b=$.id,Er=!0),qx||v!==Q){Be.buffers.depth.getReversed()?(K.copy(Q.projectionMatrix),gV(K),mV(K),In.setValue(N,"projectionMatrix",K)):In.setValue(N,"projectionMatrix",Q.projectionMatrix),In.setValue(N,"viewMatrix",Q.matrixWorldInverse);const rr=In.map.cameraPosition;rr!==void 0&&rr.setValue(N,Ae.setFromMatrixPosition(Q.matrixWorld)),Ge.logarithmicDepthBuffer&&In.setValue(N,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),($.isMeshPhongMaterial||$.isMeshToonMaterial||$.isMeshLambertMaterial||$.isMeshBasicMaterial||$.isMeshStandardMaterial||$.isShaderMaterial)&&In.setValue(N,"isOrthographic",Q.isOrthographicCamera===!0),v!==Q&&(v=Q,Er=!0,gA=!0)}if(q.isSkinnedMesh){In.setOptional(N,q,"bindMatrix"),In.setOptional(N,q,"bindMatrixInverse");const Ni=q.skeleton;Ni&&(Ni.boneTexture===null&&Ni.computeBoneTexture(),In.setValue(N,"boneTexture",Ni.boneTexture,L))}q.isBatchedMesh&&(In.setOptional(N,q,"batchingTexture"),In.setValue(N,"batchingTexture",q._matricesTexture,L),In.setOptional(N,q,"batchingIdTexture"),In.setValue(N,"batchingIdTexture",q._indirectTexture,L),In.setOptional(N,q,"batchingColorTexture"),q._colorsTexture!==null&&In.setValue(N,"batchingColorTexture",q._colorsTexture,L));const Vr=Z.morphAttributes;if((Vr.position!==void 0||Vr.normal!==void 0||Vr.color!==void 0)&&Ue.update(q,Z,As),(Er||We.receiveShadow!==q.receiveShadow)&&(We.receiveShadow=q.receiveShadow,In.setValue(N,"receiveShadow",q.receiveShadow)),$.isMeshGouraudMaterial&&$.envMap!==null&&(zr.envMap.value=Ne,zr.flipEnvMap.value=Ne.isCubeTexture&&Ne.isRenderTargetTexture===!1?-1:1),$.isMeshStandardMaterial&&$.envMap===null&&H.environment!==null&&(zr.envMapIntensity.value=H.environmentIntensity),Er&&(In.setValue(N,"toneMappingExposure",_.toneMappingExposure),We.needsLights&&zJ(zr,gA),pe&&$.fog===!0&&fe.refreshFogUniforms(zr,pe),fe.refreshMaterialUniforms(zr,$,k,P,p.state.transmissionRenderTarget[Q.id]),F_.upload(N,RT(We),zr,L)),$.isShaderMaterial&&$.uniformsNeedUpdate===!0&&(F_.upload(N,RT(We),zr,L),$.uniformsNeedUpdate=!1),$.isSpriteMaterial&&In.setValue(N,"center",q.center),In.setValue(N,"modelViewMatrix",q.modelViewMatrix),In.setValue(N,"normalMatrix",q.normalMatrix),In.setValue(N,"modelMatrix",q.matrixWorld),$.isShaderMaterial||$.isRawShaderMaterial){const Ni=$.uniformsGroups;for(let rr=0,J3=Ni.length;rr<J3;rr++){const lc=Ni[rr];z.update(lc,As),z.bind(lc,As)}}return As}function zJ(Q,H){Q.ambientLightColor.needsUpdate=H,Q.lightProbe.needsUpdate=H,Q.directionalLights.needsUpdate=H,Q.directionalLightShadows.needsUpdate=H,Q.pointLights.needsUpdate=H,Q.pointLightShadows.needsUpdate=H,Q.spotLights.needsUpdate=H,Q.spotLightShadows.needsUpdate=H,Q.rectAreaLights.needsUpdate=H,Q.hemisphereLights.needsUpdate=H}function VJ(Q){return Q.isMeshLambertMaterial||Q.isMeshToonMaterial||Q.isMeshPhongMaterial||Q.isMeshStandardMaterial||Q.isShadowMaterial||Q.isShaderMaterial&&Q.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(Q,H,Z){Re.get(Q.texture).__webglTexture=H,Re.get(Q.depthTexture).__webglTexture=Z;const $=Re.get(Q);$.__hasExternalTextures=!0,$.__autoAllocateDepthBuffer=Z===void 0,$.__autoAllocateDepthBuffer||ze.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),$.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Q,H){const Z=Re.get(Q);Z.__webglFramebuffer=H,Z.__useDefaultFramebuffer=H===void 0},this.setRenderTarget=function(Q,H=0,Z=0){w=Q,E=H,C=Z;let $=!0,q=null,pe=!1,Me=!1;if(Q){const Ne=Re.get(Q);if(Ne.__useDefaultFramebuffer!==void 0)Be.bindFramebuffer(N.FRAMEBUFFER,null),$=!1;else if(Ne.__webglFramebuffer===void 0)L.setupRenderTarget(Q);else if(Ne.__hasExternalTextures)L.rebindTextures(Q,Re.get(Q.texture).__webglTexture,Re.get(Q.depthTexture).__webglTexture);else if(Q.depthBuffer){const qe=Q.depthTexture;if(Ne.__boundDepthTexture!==qe){if(qe!==null&&Re.has(qe)&&(Q.width!==qe.image.width||Q.height!==qe.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");L.setupDepthRenderbuffer(Q)}}const Ze=Q.texture;(Ze.isData3DTexture||Ze.isDataArrayTexture||Ze.isCompressedArrayTexture)&&(Me=!0);const $e=Re.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(Array.isArray($e[H])?q=$e[H][Z]:q=$e[H],pe=!0):Q.samples>0&&L.useMultisampledRTT(Q)===!1?q=Re.get(Q).__webglMultisampledFramebuffer:Array.isArray($e)?q=$e[Z]:q=$e,B.copy(Q.viewport),R.copy(Q.scissor),T=Q.scissorTest}else B.copy(U).multiplyScalar(k).floor(),R.copy(ne).multiplyScalar(k).floor(),T=xe;if(Be.bindFramebuffer(N.FRAMEBUFFER,q)&&$&&Be.drawBuffers(Q,q),Be.viewport(B),Be.scissor(R),Be.setScissorTest(T),pe){const Ne=Re.get(Q.texture);N.framebufferTexture2D(N.FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_CUBE_MAP_POSITIVE_X+H,Ne.__webglTexture,Z)}else if(Me){const Ne=Re.get(Q.texture),Ze=H||0;N.framebufferTextureLayer(N.FRAMEBUFFER,N.COLOR_ATTACHMENT0,Ne.__webglTexture,Z||0,Ze)}b=-1},this.readRenderTargetPixels=function(Q,H,Z,$,q,pe,Me){if(!(Q&&Q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Le=Re.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&Me!==void 0&&(Le=Le[Me]),Le){Be.bindFramebuffer(N.FRAMEBUFFER,Le);try{const Ne=Q.texture,Ze=Ne.format,$e=Ne.type;if(!Ge.textureFormatReadable(Ze)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ge.textureTypeReadable($e)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}H>=0&&H<=Q.width-$&&Z>=0&&Z<=Q.height-q&&N.readPixels(H,Z,$,q,Qe.convert(Ze),Qe.convert($e),pe)}finally{const Ne=w!==null?Re.get(w).__webglFramebuffer:null;Be.bindFramebuffer(N.FRAMEBUFFER,Ne)}}},this.readRenderTargetPixelsAsync=async function(Q,H,Z,$,q,pe,Me){if(!(Q&&Q.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Le=Re.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&Me!==void 0&&(Le=Le[Me]),Le){const Ne=Q.texture,Ze=Ne.format,$e=Ne.type;if(!Ge.textureFormatReadable(Ze))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ge.textureTypeReadable($e))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(H>=0&&H<=Q.width-$&&Z>=0&&Z<=Q.height-q){Be.bindFramebuffer(N.FRAMEBUFFER,Le);const qe=N.createBuffer();N.bindBuffer(N.PIXEL_PACK_BUFFER,qe),N.bufferData(N.PIXEL_PACK_BUFFER,pe.byteLength,N.STREAM_READ),N.readPixels(H,Z,$,q,Qe.convert(Ze),Qe.convert($e),0);const vt=w!==null?Re.get(w).__webglFramebuffer:null;Be.bindFramebuffer(N.FRAMEBUFFER,vt);const Ot=N.fenceSync(N.SYNC_GPU_COMMANDS_COMPLETE,0);return N.flush(),await pV(N,Ot,4),N.bindBuffer(N.PIXEL_PACK_BUFFER,qe),N.getBufferSubData(N.PIXEL_PACK_BUFFER,0,pe),N.deleteBuffer(qe),N.deleteSync(Ot),pe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(Q,H=null,Z=0){Q.isTexture!==!0&&(lx("WebGLRenderer: copyFramebufferToTexture function signature has changed."),H=arguments[0]||null,Q=arguments[1]);const $=Math.pow(2,-Z),q=Math.floor(Q.image.width*$),pe=Math.floor(Q.image.height*$),Me=H!==null?H.x:0,Le=H!==null?H.y:0;L.setTexture2D(Q,0),N.copyTexSubImage2D(N.TEXTURE_2D,Z,0,0,Me,Le,q,pe),Be.unbindTexture()};const HJ=N.createFramebuffer(),qJ=N.createFramebuffer();this.copyTextureToTexture=function(Q,H,Z=null,$=null,q=0,pe=null){Q.isTexture!==!0&&(lx("WebGLRenderer: copyTextureToTexture function signature has changed."),$=arguments[0]||null,Q=arguments[1],H=arguments[2],pe=arguments[3]||0,Z=null),pe===null&&(q!==0?(lx("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),pe=q,q=0):pe=0);let Me,Le,Ne,Ze,$e,qe,vt,Ot,zn;const Tn=Q.isCompressedTexture?Q.mipmaps[pe]:Q.image;if(Z!==null)Me=Z.max.x-Z.min.x,Le=Z.max.y-Z.min.y,Ne=Z.isBox3?Z.max.z-Z.min.z:1,Ze=Z.min.x,$e=Z.min.y,qe=Z.isBox3?Z.min.z:0;else{const Vr=Math.pow(2,-q);Me=Math.floor(Tn.width*Vr),Le=Math.floor(Tn.height*Vr),Q.isDataArrayTexture?Ne=Tn.depth:Q.isData3DTexture?Ne=Math.floor(Tn.depth*Vr):Ne=1,Ze=0,$e=0,qe=0}$!==null?(vt=$.x,Ot=$.y,zn=$.z):(vt=0,Ot=0,zn=0);const Tt=Qe.convert(H.format),We=Qe.convert(H.type);let Ai;H.isData3DTexture?(L.setTexture3D(H,0),Ai=N.TEXTURE_3D):H.isDataArrayTexture||H.isCompressedArrayTexture?(L.setTexture2DArray(H,0),Ai=N.TEXTURE_2D_ARRAY):(L.setTexture2D(H,0),Ai=N.TEXTURE_2D),N.pixelStorei(N.UNPACK_FLIP_Y_WEBGL,H.flipY),N.pixelStorei(N.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),N.pixelStorei(N.UNPACK_ALIGNMENT,H.unpackAlignment);const Gt=N.getParameter(N.UNPACK_ROW_LENGTH),As=N.getParameter(N.UNPACK_IMAGE_HEIGHT),qx=N.getParameter(N.UNPACK_SKIP_PIXELS),Er=N.getParameter(N.UNPACK_SKIP_ROWS),gA=N.getParameter(N.UNPACK_SKIP_IMAGES);N.pixelStorei(N.UNPACK_ROW_LENGTH,Tn.width),N.pixelStorei(N.UNPACK_IMAGE_HEIGHT,Tn.height),N.pixelStorei(N.UNPACK_SKIP_PIXELS,Ze),N.pixelStorei(N.UNPACK_SKIP_ROWS,$e),N.pixelStorei(N.UNPACK_SKIP_IMAGES,qe);const In=Q.isDataArrayTexture||Q.isData3DTexture,zr=H.isDataArrayTexture||H.isData3DTexture;if(Q.isDepthTexture){const Vr=Re.get(Q),Ni=Re.get(H),rr=Re.get(Vr.__renderTarget),J3=Re.get(Ni.__renderTarget);Be.bindFramebuffer(N.READ_FRAMEBUFFER,rr.__webglFramebuffer),Be.bindFramebuffer(N.DRAW_FRAMEBUFFER,J3.__webglFramebuffer);for(let lc=0;lc<Ne;lc++)In&&(N.framebufferTextureLayer(N.READ_FRAMEBUFFER,N.COLOR_ATTACHMENT0,Re.get(Q).__webglTexture,q,qe+lc),N.framebufferTextureLayer(N.DRAW_FRAMEBUFFER,N.COLOR_ATTACHMENT0,Re.get(H).__webglTexture,pe,zn+lc)),N.blitFramebuffer(Ze,$e,Me,Le,vt,Ot,Me,Le,N.DEPTH_BUFFER_BIT,N.NEAREST);Be.bindFramebuffer(N.READ_FRAMEBUFFER,null),Be.bindFramebuffer(N.DRAW_FRAMEBUFFER,null)}else if(q!==0||Q.isRenderTargetTexture||Re.has(Q)){const Vr=Re.get(Q),Ni=Re.get(H);Be.bindFramebuffer(N.READ_FRAMEBUFFER,HJ),Be.bindFramebuffer(N.DRAW_FRAMEBUFFER,qJ);for(let rr=0;rr<Ne;rr++)In?N.framebufferTextureLayer(N.READ_FRAMEBUFFER,N.COLOR_ATTACHMENT0,Vr.__webglTexture,q,qe+rr):N.framebufferTexture2D(N.READ_FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_2D,Vr.__webglTexture,q),zr?N.framebufferTextureLayer(N.DRAW_FRAMEBUFFER,N.COLOR_ATTACHMENT0,Ni.__webglTexture,pe,zn+rr):N.framebufferTexture2D(N.DRAW_FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_2D,Ni.__webglTexture,pe),q!==0?N.blitFramebuffer(Ze,$e,Me,Le,vt,Ot,Me,Le,N.COLOR_BUFFER_BIT,N.NEAREST):zr?N.copyTexSubImage3D(Ai,pe,vt,Ot,zn+rr,Ze,$e,Me,Le):N.copyTexSubImage2D(Ai,pe,vt,Ot,Ze,$e,Me,Le);Be.bindFramebuffer(N.READ_FRAMEBUFFER,null),Be.bindFramebuffer(N.DRAW_FRAMEBUFFER,null)}else zr?Q.isDataTexture||Q.isData3DTexture?N.texSubImage3D(Ai,pe,vt,Ot,zn,Me,Le,Ne,Tt,We,Tn.data):H.isCompressedArrayTexture?N.compressedTexSubImage3D(Ai,pe,vt,Ot,zn,Me,Le,Ne,Tt,Tn.data):N.texSubImage3D(Ai,pe,vt,Ot,zn,Me,Le,Ne,Tt,We,Tn):Q.isDataTexture?N.texSubImage2D(N.TEXTURE_2D,pe,vt,Ot,Me,Le,Tt,We,Tn.data):Q.isCompressedTexture?N.compressedTexSubImage2D(N.TEXTURE_2D,pe,vt,Ot,Tn.width,Tn.height,Tt,Tn.data):N.texSubImage2D(N.TEXTURE_2D,pe,vt,Ot,Me,Le,Tt,We,Tn);N.pixelStorei(N.UNPACK_ROW_LENGTH,Gt),N.pixelStorei(N.UNPACK_IMAGE_HEIGHT,As),N.pixelStorei(N.UNPACK_SKIP_PIXELS,qx),N.pixelStorei(N.UNPACK_SKIP_ROWS,Er),N.pixelStorei(N.UNPACK_SKIP_IMAGES,gA),pe===0&&H.generateMipmaps&&N.generateMipmap(Ai),Be.unbindTexture()},this.copyTextureToTexture3D=function(Q,H,Z=null,$=null,q=0){return Q.isTexture!==!0&&(lx("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Z=arguments[0]||null,$=arguments[1]||null,Q=arguments[2],H=arguments[3],q=arguments[4]||0),lx('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Q,H,Z,$,q)},this.initRenderTarget=function(Q){Re.get(Q).__webglFramebuffer===void 0&&L.setupRenderTarget(Q)},this.initTexture=function(Q){Q.isCubeTexture?L.setTextureCube(Q,0):Q.isData3DTexture?L.setTexture3D(Q,0):Q.isDataArrayTexture||Q.isCompressedArrayTexture?L.setTexture2DArray(Q,0):L.setTexture2D(Q,0),Be.unbindTexture()},this.resetState=function(){E=0,C=0,w=null,Be.reset(),rt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ma}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Mt._getDrawingBufferColorSpace(e),t.unpackColorSpace=Mt._getUnpackColorSpace()}}const DR=new No,P_=new W;class QR extends jV{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],n=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(n),this.setAttribute("position",new Ps(e,3)),this.setAttribute("uv",new Ps(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new Xv(t,6,1);return this.setAttribute("instanceStart",new Ns(n,3,0)),this.setAttribute("instanceEnd",new Ns(n,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new Xv(t,6,1);return this.setAttribute("instanceColorStart",new Ns(n,3,0)),this.setAttribute("instanceColorEnd",new Ns(n,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new YV(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new No);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),DR.setFromBufferAttribute(t),this.boundingBox.union(DR))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Nf),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const n=this.boundingSphere.center;this.boundingBox.getCenter(n);let r=0;for(let s=0,a=e.count;s<a;s++)P_.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(P_)),P_.fromBufferAttribute(t,s),r=Math.max(r,n.distanceToSquared(P_));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class FR extends QR{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,n=new Float32Array(2*t);for(let r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return super.setPositions(n),this}setColors(e){const t=e.length-3,n=new Float32Array(2*t);for(let r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return super.setColors(n),this}setFromPoints(e){const t=e.length-1,n=new Float32Array(6*t);for(let r=0;r<t;r++)n[6*r]=e[r].x,n[6*r+1]=e[r].y,n[6*r+2]=e[r].z||0,n[6*r+3]=e[r+1].x,n[6*r+4]=e[r+1].y,n[6*r+5]=e[r+1].z||0;return super.setPositions(n),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}Ce.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new It(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},nr.line={uniforms:Hv.merge([Ce.common,Ce.fog,Ce.line]),vertexShader:`
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
<<<<<<< HEAD
		`};class GC extends va{constructor(t){super({type:"LineMaterial",uniforms:SC.clone(Zi.line.uniforms),vertexShader:Zi.line.vertexShader,fragmentShader:Zi.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(t)}get color(){return this.uniforms.diffuse.value}set color(t){this.uniforms.diffuse.value=t}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(t){this.uniforms.linewidth&&(this.uniforms.linewidth.value=t)}get dashed(){return"USE_DASH"in this.defines}set dashed(t){t===!0!==this.dashed&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(t){this.uniforms.dashScale.value=t}get dashSize(){return this.uniforms.dashSize.value}set dashSize(t){this.uniforms.dashSize.value=t}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(t){this.uniforms.dashOffset.value=t}get gapSize(){return this.uniforms.gapSize.value}set gapSize(t){this.uniforms.gapSize.value=t}get opacity(){return this.uniforms.opacity.value}set opacity(t){this.uniforms&&(this.uniforms.opacity.value=t)}get resolution(){return this.uniforms.resolution.value}set resolution(t){this.uniforms.resolution.value.copy(t)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(t){this.defines&&(t===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),t===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}const zC=new nn,LM=new X,FM=new X,si=new nn,ai=new nn,ks=new nn,VC=new X,HC=new Cn,oi=new sO,kM=new X,Y_=new bo,W_=new ah,Ps=new nn;let Us,P0;function PM(i,t,e){return Ps.set(0,0,-t,1).applyMatrix4(i.projectionMatrix),Ps.multiplyScalar(1/Ps.w),Ps.x=P0/e.width,Ps.y=P0/e.height,Ps.applyMatrix4(i.projectionMatrixInverse),Ps.multiplyScalar(1/Ps.w),Math.abs(Math.max(Ps.x,Ps.y))}function lH(i,t){const e=i.matrixWorld,n=i.geometry,r=n.attributes.instanceStart,s=n.attributes.instanceEnd,a=Math.min(n.instanceCount,r.count);for(let o=0,l=a;o<l;o++){oi.start.fromBufferAttribute(r,o),oi.end.fromBufferAttribute(s,o),oi.applyMatrix4(e);const c=new X,x=new X;Us.distanceSqToSegment(oi.start,oi.end,x,c),x.distanceTo(c)<P0*.5&&t.push({point:x,pointOnLine:c,distance:Us.origin.distanceTo(x),object:i,face:null,faceIndex:o,uv:null,uv1:null})}}function xH(i,t,e){const n=t.projectionMatrix,s=i.material.resolution,a=i.matrixWorld,o=i.geometry,l=o.attributes.instanceStart,c=o.attributes.instanceEnd,x=Math.min(o.instanceCount,l.count),u=-t.near;Us.at(1,ks),ks.w=1,ks.applyMatrix4(t.matrixWorldInverse),ks.applyMatrix4(n),ks.multiplyScalar(1/ks.w),ks.x*=s.x/2,ks.y*=s.y/2,ks.z=0,VC.copy(ks),HC.multiplyMatrices(t.matrixWorldInverse,a);for(let f=0,h=x;f<h;f++){if(si.fromBufferAttribute(l,f),ai.fromBufferAttribute(c,f),si.w=1,ai.w=1,si.applyMatrix4(HC),ai.applyMatrix4(HC),si.z>u&&ai.z>u)continue;if(si.z>u){const _=si.z-ai.z,I=(si.z-u)/_;si.lerp(ai,I)}else if(ai.z>u){const _=ai.z-si.z,I=(ai.z-u)/_;ai.lerp(si,I)}si.applyMatrix4(n),ai.applyMatrix4(n),si.multiplyScalar(1/si.w),ai.multiplyScalar(1/ai.w),si.x*=s.x/2,si.y*=s.y/2,ai.x*=s.x/2,ai.y*=s.y/2,oi.start.copy(si),oi.start.z=0,oi.end.copy(ai),oi.end.z=0;const p=oi.closestPointToPointParameter(VC,!0);oi.at(p,kM);const d=yN.lerp(si.z,ai.z,p),g=d>=-1&&d<=1,m=VC.distanceTo(kM)<P0*.5;if(g&&m){oi.start.fromBufferAttribute(l,f),oi.end.fromBufferAttribute(c,f),oi.start.applyMatrix4(a),oi.end.applyMatrix4(a);const _=new X,I=new X;Us.distanceSqToSegment(oi.start,oi.end,I,_),e.push({point:I,pointOnLine:_,distance:Us.origin.distanceTo(I),object:i,face:null,faceIndex:f,uv:null,uv1:null})}}}class uH extends Ls{constructor(t=new DM,e=new GC({color:Math.random()*16777215})){super(t,e),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const t=this.geometry,e=t.attributes.instanceStart,n=t.attributes.instanceEnd,r=new Float32Array(2*e.count);for(let a=0,o=0,l=e.count;a<l;a++,o+=2)LM.fromBufferAttribute(e,a),FM.fromBufferAttribute(n,a),r[o]=o===0?0:r[o-1],r[o+1]=r[o]+LM.distanceTo(FM);const s=new TC(r,2,1);return t.setAttribute("instanceDistanceStart",new Fs(s,1,0)),t.setAttribute("instanceDistanceEnd",new Fs(s,1,1)),this}raycast(t,e){const n=this.material.worldUnits,r=t.camera;r===null&&!n&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=t.params.Line2!==void 0&&t.params.Line2.threshold||0;Us=t.ray;const a=this.matrixWorld,o=this.geometry,l=this.material;P0=l.linewidth+s,o.boundingSphere===null&&o.computeBoundingSphere(),W_.copy(o.boundingSphere).applyMatrix4(a);let c;if(n)c=P0*.5;else{const u=Math.max(r.near,W_.distanceToPoint(Us.origin));c=PM(r,u,l.resolution)}if(W_.radius+=c,Us.intersectsSphere(W_)===!1)return;o.boundingBox===null&&o.computeBoundingBox(),Y_.copy(o.boundingBox).applyMatrix4(a);let x;if(n)x=P0*.5;else{const u=Math.max(r.near,Y_.distanceToPoint(Us.origin));x=PM(r,u,l.resolution)}Y_.expandByScalar(x),Us.intersectsBox(Y_)!==!1&&(n?lH(this,e):xH(this,r,e))}onBeforeRender(t){const e=this.material.uniforms;e&&e.resolution&&(t.getViewport(zC),this.material.uniforms.resolution.value.set(zC.z,zC.w))}}class fH extends uH{constructor(t=new QM,e=new GC({color:Math.random()*16777215})){super(t,e),this.isLine2=!0,this.type="Line2"}}const hH={showLabel:!1,useColorRamp:!1,extremeColor:{max:"#ff0000",min:"#0000ff"}};class UM{constructor(t={}){Ze(this,"_setProps",t=>{t.data&&(this.data=t.data),t.worlds&&(this.worlds=t.worlds),typeof t.lineStyle=="object"&&(this.state.lineStyle={...this.state.lineStyle,...t.lineStyle}),typeof t.lineLabelStyle=="object"&&(this.state.lineLabelStyle={...this.state.lineLabelStyle,...t.lineLabelStyle}),typeof t.extremeLabelStyle=="object"&&(this.state.extremeLabelStyle={...this.state.extremeLabelStyle,...t.extremeLabelStyle}),this.layer.reDraw()});return this.state={...hH,...t},this.layer=this._initLayer(),this._isGlReady=!1,this.group={lines:new D0,labels:new D0,extreme_labels:new D0},this.data=[],this.layer}_initLayer(){const t=new K4({projection:this.state.projection});return t.onBeforeUpdate=this._onBeforeUpdate.bind(this),t.onUpdate=this._onUpdate.bind(this),t.setProps=this._setProps.bind(this),!this._colorRampObject&&this.state.colorRamp&&(this._colorRampObject=this._createColorRamp(this.state.colorRamp)),t}_onBeforeUpdate(t){const{gl:e,canvas:n,extent:r,resolution:s,pixelRatio:a,size:o,projection:l}=t,c=this.state.map;if(!this._isGlReady&&c){this.renderer=new cH({context:e,antialias:!0,alpha:!0}),this.scene=new KN;const x=o[1]/o[0],u=new $5(-1,1,x,-x,1,1e3);u.position.set(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,0),this.camera=u,this.scene.add(this.camera)}this._isGlReady=!0}_onUpdate(t){this.renderer.clear();const{gl:e,canvas:n,extent:r,resolution:s,pixelRatio:a,size:o,projection:l}=t,c=this.state.map;if(c){this.renderer.setSize(o[0],o[1]);const x=o[1]/o[0];this.scene.remove(this.group.lines),this.scene.remove(this.group.labels),this.scene.remove(this.group.extreme_labels),this.group.lines.clear(),this.group.labels.clear(),this.group.extreme_labels.clear(),this.scene.clear(),this.scene.children.forEach(h=>h.dispose());const[u,f]=this.worlds;for(let h=u;h<=f;h++)Object.values(this.data.lines).forEach(({splitLines:A,properties:p,anchor:d,rotate:g},m)=>{const _=this.state.lineStyle.getWidth(p),I=this.state.lineStyle.getValue(p),y=this.state.lineStyle.useColorRamp?this._getColor(I,this._colorRampObject):new Qt(this.state.lineStyle.getColor(p));if(A.length&&(A.forEach(E=>{const b=[];E.forEach(B=>{const S=360*h+B[0],T=B[1];let[Q,M]=this.layer.lnglatToScreen([S,T],c,r,a);Q=Q/o[0]*2-1,M=(1-M/o[1])*2-1,M*=x,b.push(Q,M,0)});const w=new QM;w.setPositions(b);const C=new GC({color:y,linewidth:_,dashed:!1}),v=new fH(w,C);this.group.lines.add(v)}),this.state.lineStyle.showLabel)){const E=this.state.lineLabelStyle.getTitle(p),b=this.state.lineLabelStyle.useColorRamp?this._getColor(I,this._colorRampObject).getStyle():this.state.lineLabelStyle.getFontBackColor(p),w=this.state.lineLabelStyle.getFontColor(p),C=this.state.lineLabelStyle.getFontSize(p),v=this.state.lineLabelStyle.getFontWeight(p),B=this.state.lineLabelStyle.getFontFamily(p);if(d&&g){const S=360*h+d[0],T=d[1];let[Q,M]=this.layer.lnglatToScreen([S,T],c,r,a);Q=Q/o[0]*2-1,M=(1-M/o[1])*2-1,M*=x;const D=this._createLabel({x:Q,y:M,size:o,text:E,fillColor:b,fontColor:w,fontWeight:v,fontSize:C,fontFamily:B,rotate:g,fill:!0});this.group.labels.add(D)}}}),this.scene.add(this.group.lines),this.scene.add(this.group.labels),this.state.extremeLabelStyle.showLabel&&this.data.points.forEach(({coordinates:A,properties:p})=>{const d=360*h+A[0],g=A[1];let[m,_]=this.layer.lnglatToScreen([d,g],c,r,a);m=m/o[0]*2-1,_=(1-_/o[1])*2-1,_*=x;const I=this.state.extremeLabelStyle.getValue(p),y=this.state.extremeLabelStyle.getFontSize(p),E=this.state.extremeLabelStyle.getFontWeight(p),b=this.state.extremeLabelStyle.getFontFamily(p),w=this.state.extremeLabelStyle.useColorRamp?this._getColor(I,this._colorRampObject):new Qt(this.state.extremeLabelStyle.getFontColor(p)),C=I.toFixed(),v=this._createLabel({x:m,y:_,size:o,text:C,fontColor:w.getStyle(),fontSize:y,fontWeight:E,fontFamily:b,rotate:0,fill:!1}),B=this._createLabel({x:m,y:_+1/o[1]*50,size:o,text:p.name==="max"?"H":"L",fontColor:w.getStyle(),fontSize:y,fontWeight:E,fontFamily:b,rotate:0,fill:!1});this.group.extreme_labels.add(v),this.group.extreme_labels.add(B)}),this.scene.add(this.group.extreme_labels)}this.renderer.render(this.scene,this.camera)}_createLabel({x:t,y:e,size:n,text:r,fillColor:s,fontColor:a,fontSize:o=40,fontWeight:l="400",fontFamily:c="Microsoft YaHei",rotate:x=0,fill:u=!0}){const f=document.createElement("canvas");f.style.imageSmoothingEnabled=!1,f.style.webkitImageSmoothingEnabled=!1,f.style.mozImageSmoothingEnabled=!1;const h=f.getContext("2d"),[A,p]=[o*r.length*1.4,o];f.width=A,f.height=p,h.clearRect(0,0,A,p),h.fillStyle=s,u&&(h.beginPath(),h.ellipse(p/1,p/2,p/1,p/2,0,-Math.PI/2,Math.PI/2,!0),h.moveTo(p/1,0),h.lineTo(A-p/1,0),h.ellipse(A-p/1,p/2,p/1,p/2,0,-Math.PI/2,Math.PI/2,!1),h.lineTo(p/1,p),h.closePath(),h.fill()),h.textAlign="center",h.textBaseline="middle",h.fillStyle=a,h.font=`${l} ${o}px ${c}`,h.fillText(r,A/2,p*.6);const d=new $N(f,bb,ha,ha,Mr,Mr),g=new JN(new Y5({map:d,rotation:x,sizeAttenuation:!0}));return g.position.set(t,e,0),g.scale.set(A/n[0],p/n[1],1),g}_createColorRamp(t){const e=t.sort((u,f)=>u[0]<f[0]),n=e[0][0],r=e[e.length-1][0],s=document.createElement("canvas"),a=256,o=1;s.width=a,s.height=o;const l=s.getContext("2d"),c=l.createLinearGradient(0,0,s.width,s.height);for(let u=0;u<t.length;u++){const[f,h]=t[u],A=(f-n)/(r-n);c.addColorStop(A,h)}l.fillStyle=c,l.fillRect(0,0,s.width,s.height);const x=new Uint8Array(l.getImageData(0,0,s.width,s.height).data);return{val_min:n,val_max:r,imageData:x,width:a,height:o}}_getColor(t,e){const{val_min:n,val_max:r,imageData:s,width:a,height:o}=e;let l=(t-n)/(r-n);l=Math.max(l,0),l=Math.min(l,1);const c=Math.floor(a*l),x=0,u=s[(a*x+c)*4],f=s[(a*x+c)*4+1],h=s[(a*x+c)*4+2],A=s[(a*x+c)*4+3];return new Qt(u/255,f/255,h/255,A/255)}}class AH{constructor(t,e={}){Ze(this,"_loadGeotiff",async t=>{this.tiffLoader||(this.tiffLoader=new W4,await this.tiffLoader.load(t),await this._updateData(this.map,this.layer,this.tiffLoader))});Ze(this,"_updateData",async(t,e,n)=>{if(!n||!t||!e)return;const r=await this._getData(t,e,n);this.layer.setProps({data:r})});return this.map=t,this.data=null,this.tiffLoader=null,this.layer=new gU({map:t,...e}),this._bindEvents(),this._isReady=!1,this.layer}_bindEvents(){this.layer.loadGeotiff=this._loadGeotiff.bind(this),this.map&&this.map.on("rendercomplete",t=>{this._isReady||(this.map.on("moveend",async e=>{await this._updateData(this.map,this.layer,this.tiffLoader)}),this.map.on("movestart",e=>{this.map.getLayers().forEach(n=>{n.type==="custom"&&n.setNeedRedraw()})}),this._isReady=!0)})}async _getData(t,e,n){const r=Math.floor(t.getView().getZoom()),s=n.matchImageByZoom(r),a=t.getView().calculateExtent(t.getSize()),o=e.extentTolnglat(a,t),l=await n.getRasterByExtent(s,o,t),c=s.metaData,x=parseFloat(c.scale),u=parseFloat(c.offset),f=parseFloat(c.nodata),h=parseFloat(c.umin||c.uvmin),A=parseFloat(c.umax||c.uvmax),p=parseFloat(c.vmin||c.uvmin),d=parseFloat(c.vmax||c.uvmax),g=[];return l.forEach((m,_)=>{const I=m[0],y=m[1],E=m.bbox,b=m.width,w=m.height;g.push({dataArray_u:I,dataArray_v:y,bbox:E,width:b,height:w,metaData:{scale:x,offset:u,nodata:f,umin:h,umax:A,vmin:p,vmax:d}})}),g}}var dH=X_;X_.polyline=X_,X_.polygon=pH;function X_(i,t,e){var n=i.length,r=ix(i[0],t),s=[],a,o,l,c,x;for(e||(e=[]),a=1;a<n;a++){for(o=i[a-1],l=i[a],c=x=ix(l,t);;)if(r|c){if(r&c)break;r?(o=qC(o,l,r,t),r=ix(o,t)):(l=qC(o,l,c,t),c=ix(l,t))}else{s.push(o),c!==x?(s.push(l),a<n-1&&(e.push(s),s=[])):a===n-1&&s.push(l);break}r=x}return s.length&&e.push(s),e}function pH(i,t){var e,n,r,s,a,o,l;for(n=1;n<=8;n*=2){for(e=[],r=i[i.length-1],s=!(ix(r,t)&n),a=0;a<i.length;a++)o=i[a],l=!(ix(o,t)&n),l!==s&&e.push(qC(r,o,n,t)),l&&e.push(o),r=o,s=l;if(i=e,!i.length)break}return e}function qC(i,t,e,n){return e&8?[i[0]+(t[0]-i[0])*(n[3]-i[1])/(t[1]-i[1]),n[3]]:e&4?[i[0]+(t[0]-i[0])*(n[1]-i[1])/(t[1]-i[1]),n[1]]:e&2?[n[2],i[1]+(t[1]-i[1])*(n[2]-i[0])/(t[0]-i[0])]:e&1?[n[0],i[1]+(t[1]-i[1])*(n[0]-i[0])/(t[0]-i[0])]:null}function ix(i,t){var e=0;return i[0]<t[0]?e|=1:i[0]>t[2]&&(e|=2),i[1]<t[1]?e|=4:i[1]>t[3]&&(e|=8),e}const gH=kh(dH);class mH{constructor(t,e={}){Ze(this,"_loadGeojson",async(t,e)=>{this.geojsonLoader||(this.geojsonLoader=new Y4,await this.geojsonLoader.load(t,e),this._updateData())});Ze(this,"_updateData",()=>{if(!this.geojsonLoader||!this.map||!this.layer)return;const t=this._getData(this.data,this.map,this.geojsonLoader,this.layer);this.data=t;const e=this.map.getView().calculateExtent(this.map.getSize()),n=this.layer.extentTolnglat(e,this.map),r=this.geojsonLoader.calWorldIndex(n);this.layer.setProps({data:t,worlds:r})});this.map=t,this.data=null,this.geojsonLoader=null;let n=this.getConvertPramas(e);return this.option=n,this.layer=new UM({map:t,...n}),this._bindEvents(),this.layer}getConvertPramas(t){var n,r,s,a,o,l;let e={maxZoom:t.maxZoom||28,minZoom:t.minZoom||-4,colorRamp:(t==null?void 0:t.colorRamp)||[[500,"rgba(115,70,105,1)"],[510,"rgba(202,172,195,1)"],[520,"rgba(162,70,145,1)"],[530,"rgba(143,89,169,1)"],[540,"rgba(157,219,217,1)"],[550,"rgba(106,191,181,1)"],[560,"rgba(100,166,189,1)"],[570,"rgba(93,133,198,1)"],[580,"rgba(68,125,99,1)"],[590,"rgba(128,147,24,1)"],[600,"rgba(71,14,0,1)"]],lineStyle:{useColorRamp:((n=t==null?void 0:t.lineStyle)==null?void 0:n.useColorRamp)||!1,getWidth:c=>{var u,f;const x=parseFloat(c[((u=t==null?void 0:t.lineStyle)==null?void 0:u.textValue)||"level-value"]);if((f=t==null?void 0:t.lineStyle)!=null&&f.special)for(let h=0;h<t.lineStyle.special.length;h++){let A=t.lineStyle.special[h];if(x==A.value)return A.width}return c["stroke-width"]*2||2},getColor:c=>{var u,f;const x=parseFloat(c[((u=t==null?void 0:t.lineStyle)==null?void 0:u.textValue)||"level-value"]);if((f=t==null?void 0:t.lineStyle)!=null&&f.special)for(let h=0;h<t.lineStyle.special.length;h++){let A=t.lineStyle.special[h];if(x==A.value)return A.color}return t.lineStyle.color?t.lineStyle.color:c.stroke},getValue:c=>{var u;let x=((u=t==null?void 0:t.lineStyle)==null?void 0:u.textValue)||"level-value";return parseFloat(c[x])},showLabel:!0},lineLabelStyle:{useColorRamp:((r=t==null?void 0:t.lineLabelStyle)==null?void 0:r.useColorRamp)||!1,getTitle:c=>{var h,A;let x=((h=t==null?void 0:t.lineStyle)==null?void 0:h.textValue)||"level-value";const u=parseFloat(c[x]);let f=parseInt(((A=t==null?void 0:t.lineStyle)==null?void 0:A.precision)||0);return u.toFixed(f)},getFontBackColor:c=>{var x;return((x=t==null?void 0:t.lineLabelStyle)==null?void 0:x.fontBackColor)||"#ffffff"},getFontColor:c=>{var x;return((x=t==null?void 0:t.lineLabelStyle)==null?void 0:x.fontColor)||"#000000"},getFontSize:c=>{var x;return((x=t==null?void 0:t.lineLabelStyle)==null?void 0:x.fontSize)||30},getFontWeight:c=>600,getFontFamily:c=>"Microsoft YaHei"},extremeLabelStyle:{useColorRamp:!1,showLabel:!0,getValue:c=>{var u;let x=((u=t==null?void 0:t.extremeLabelStyle)==null?void 0:u.textValue)||"value";return parseFloat(c[x])},getTitle:c=>{var h,A;let x=((h=t==null?void 0:t.extremeLabelStyle)==null?void 0:h.textValue)||"value";const u=parseFloat(c[x]);let f=parseInt(((A=t==null?void 0:t.extremeStyle)==null?void 0:A.precision)||0);return u.toFixed(f)},getFontColor:c=>c.name==="max"?"#ff0000":"#0000ff",getFontSize:c=>{var x;return((x=t==null?void 0:t.extremeLabelStyle)==null?void 0:x.fontSize)||35},getFontWeight:c=>500,getFontFamily:c=>"Microsoft YaHei"},projection:this.map.getView().getProjection().getCode()};return((s=t==null?void 0:t.lineStyle)==null?void 0:s.showLabel)!==void 0&&(e.lineStyle.showLabel=(a=t==null?void 0:t.lineStyle)==null?void 0:a.showLabel),((o=t==null?void 0:t.extremeLabelStyle)==null?void 0:o.showLabel)!==void 0&&(e.extremeLabelStyle.showLabel=(l=t==null?void 0:t.extremeLabelStyle)==null?void 0:l.showLabel),t!=null&&t.projection&&(e.projection=t==null?void 0:t.projection),e}_render(t={}){return this.layer=new UM(t),this._bindEvents(),this.layer}_bindEvents(){this.layer.loadGeojson=this._loadGeojson.bind(this),this.map.on("moveend",async t=>{if(!this.data||!this.geojsonLoader||!this.map||!this.layer)return;const e=this._getData(this.data,this.map,this.geojsonLoader,this.layer);this.data=e;const n=this.map.getView().calculateExtent(this.map.getSize()),r=this.layer.extentTolnglat(n,this.map),s=this.geojsonLoader.calWorldIndex(r);this.layer.setProps({data:e,worlds:s});let a=this.option.maxZoom||28,o=this.option.minZoom||-4,l=this.map.getView().getZoom();l<=a&&l>=o?this.layer.setProps({lineStyle:{showLabel:!0}}):this.layer.setProps({lineStyle:{showLabel:!1}})}),this.map.on("movestart",t=>{this.map.getLayers().forEach(e=>{e.type==="custom"&&e.setNeedRedraw()})})}_getData(t,e,n,r){const s={},a={},o=[],l=e.getView().calculateExtent(e.getSize()),c=r.extentTolnglat(l,e);return n.data.features.forEach(({geometry:x,properties:u},f)=>{const{type:h,coordinates:A}=x;if(h==="LineString"){const p=gH(A,c);let d,g;if(!t||!t.lines){if(A.length>10){const m=Math.floor(A.length*Math.random()),_=Math.max(m-1,0),I=Math.min(m+1,A.length-1);d=A[m];const y=A[I][0]-A[_][0],E=A[I][1]-A[_][1];g=Math.atan(E/y)}}else if(p.length){const m=t.lines[f].anchor,_=t.lines[f].rotate;if(m&&m[0]>=c[0]&&m[0]<=c[2]&&m[1]>=c[1]&&m[1]<=c[3])d=[...m],g=_;else{let I=p[0];for(let y=1;y<p.length;y++)p[y].length>I.length&&(I=p[y]);if(I.length>10){const y=Math.floor(I.length/2),E=Math.max(y-1,0),b=Math.min(y+1,I.length-1);d=I[y];const w=I[b][0]-I[E][0],C=I[b][1]-I[E][1];g=Math.atan(C/w)}}}a[f]={splitLines:p,properties:u,anchor:d,rotate:g}}else h==="Point"&&A[0]>=c[0]&&A[0]<=c[2]&&A[1]>=c[1]&&A[1]<=c[3]&&o.push({coordinates:A,properties:u})}),s.lines=a,s.points=o,s.lnglatExtent=c,s}}function _H(){if(!document.currentScript)return;const t=document.currentScript.src.replace(/\/([^\/]+$)/gi,"/style.css");document.write(`<link rel="stylesheet" href="${t}"/>`)}_H();class IH extends Fo{decodeBlock(t){return t}}const EH=Object.freeze(Object.defineProperty({__proto__:null,default:IH},Symbol.toStringTag,{value:"Module"})),NM=9,YC=256,WC=257,yH=12;function bH(i,t,e){const n=t%8,r=Math.floor(t/8),s=8-n,a=t+e-(r+1)*8;let o=8*(r+2)-(t+e);const l=(r+2)*8-t;if(o=Math.max(0,o),r>=i.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),WC;let c=i[r]&2**(8-n)-1;c<<=e-s;let x=c;if(r+1<i.length){let u=i[r+1]>>>o;u<<=Math.max(0,e-l),x+=u}if(a>8&&r+2<i.length){const u=(r+3)*8-(t+e),f=i[r+2]>>>u;x+=f}return x}function XC(i,t){for(let e=t.length-1;e>=0;e--)i.push(t[e]);return i}function CH(i){const t=new Uint16Array(4093),e=new Uint8Array(4093);for(let A=0;A<=257;A++)t[A]=4096,e[A]=A;let n=258,r=NM,s=0;function a(){n=258,r=NM}function o(A){const p=bH(A,s,r);return s+=r,p}function l(A,p){return e[n]=p,t[n]=A,n++,n-1}function c(A){const p=[];for(let d=A;d!==4096;d=t[d])p.push(e[d]);return p}const x=[];a();const u=new Uint8Array(i);let f=o(u),h;for(;f!==WC;){if(f===YC){for(a(),f=o(u);f===YC;)f=o(u);if(f===WC)break;if(f>YC)throw new Error(`corrupted code at scanline ${f}`);{const A=c(f);XC(x,A),h=f}}else if(f<n){const A=c(f);XC(x,A),l(h,A[A.length-1]),h=f}else{const A=c(h);if(!A)throw new Error(`Bogus entry. Not in dictionary, ${h} / ${n}, position: ${s}`);XC(x,A),x.push(A[A.length-1]),l(h,A[A.length-1]),h=f}n+1>=2**r&&(r===yH?h=void 0:r++),f=o(u)}return new Uint8Array(x)}class vH extends Fo{decodeBlock(t){return CH(t).buffer}}const wH=Object.freeze(Object.defineProperty({__proto__:null,default:vH},Symbol.toStringTag,{value:"Module"})),dh=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),K_=4017,J_=799,j_=3406,Z_=2276,$_=1567,e2=3784,rx=5793,t2=2896;function OM(i,t){let e=0;const n=[];let r=16;for(;r>0&&!i[r-1];)--r;n.push({children:[],index:0});let s=n[0],a;for(let o=0;o<r;o++){for(let l=0;l<i[o];l++){for(s=n.pop(),s.children[s.index]=t[e];s.index>0;)s=n.pop();for(s.index++,n.push(s);n.length<=o;)n.push(a={children:[],index:0}),s.children[s.index]=a.children,s=a;e++}o+1<r&&(n.push(a={children:[],index:0}),s.children[s.index]=a.children,s=a)}return n[0].children}function BH(i,t,e,n,r,s,a,o,l){const{mcusPerLine:c,progressive:x}=e,u=t;let f=t,h=0,A=0;function p(){if(A>0)return A--,h>>A&1;if(h=i[f++],h===255){const G=i[f++];if(G)throw new Error(`unexpected marker: ${(h<<8|G).toString(16)}`)}return A=7,h>>>7}function d(G){let O=G,j;for(;(j=p())!==null;){if(O=O[j],typeof O=="number")return O;if(typeof O!="object")throw new Error("invalid huffman sequence")}return null}function g(G){let O=G,j=0;for(;O>0;){const J=p();if(J===null)return;j=j<<1|J,--O}return j}function m(G){const O=g(G);return O>=1<<G-1?O:O+(-1<<G)+1}function _(G,O){const j=d(G.huffmanTableDC),J=j===0?0:m(j);G.pred+=J,O[0]=G.pred;let le=1;for(;le<64;){const he=d(G.huffmanTableAC),Ee=he&15,ae=he>>4;if(Ee===0){if(ae<15)break;le+=16}else{le+=ae;const Se=dh[le];O[Se]=m(Ee),le++}}}function I(G,O){const j=d(G.huffmanTableDC),J=j===0?0:m(j)<<l;G.pred+=J,O[0]=G.pred}function y(G,O){O[0]|=p()<<l}let E=0;function b(G,O){if(E>0){E--;return}let j=s;const J=a;for(;j<=J;){const le=d(G.huffmanTableAC),he=le&15,Ee=le>>4;if(he===0){if(Ee<15){E=g(Ee)+(1<<Ee)-1;break}j+=16}else{j+=Ee;const ae=dh[j];O[ae]=m(he)*(1<<l),j++}}}let w=0,C;function v(G,O){let j=s;const J=a;let le=0;for(;j<=J;){const he=dh[j],Ee=O[he]<0?-1:1;switch(w){case 0:{const ae=d(G.huffmanTableAC),Se=ae&15;if(le=ae>>4,Se===0)le<15?(E=g(le)+(1<<le),w=4):(le=16,w=1);else{if(Se!==1)throw new Error("invalid ACn encoding");C=m(Se),w=le?2:3}continue}case 1:case 2:O[he]?O[he]+=(p()<<l)*Ee:(le--,le===0&&(w=w===2?3:0));break;case 3:O[he]?O[he]+=(p()<<l)*Ee:(O[he]=C<<l,w=0);break;case 4:O[he]&&(O[he]+=(p()<<l)*Ee);break}j++}w===4&&(E--,E===0&&(w=0))}function B(G,O,j,J,le){const he=j/c|0,Ee=j%c,ae=he*G.v+J,Se=Ee*G.h+le;O(G,G.blocks[ae][Se])}function S(G,O,j){const J=j/G.blocksPerLine|0,le=j%G.blocksPerLine;O(G,G.blocks[J][le])}const T=n.length;let Q,M,D,U,F,z;x?s===0?z=o===0?I:y:z=o===0?b:v:z=_;let H=0,P,Z;T===1?Z=n[0].blocksPerLine*n[0].blocksPerColumn:Z=c*e.mcusPerColumn;const ce=r||Z;for(;H<Z;){for(M=0;M<T;M++)n[M].pred=0;if(E=0,T===1)for(Q=n[0],F=0;F<ce;F++)S(Q,z,H),H++;else for(F=0;F<ce;F++){for(M=0;M<T;M++){Q=n[M];const{h:G,v:O}=Q;for(D=0;D<O;D++)for(U=0;U<G;U++)B(Q,z,H,D,U)}if(H++,H===Z)break}if(A=0,P=i[f]<<8|i[f+1],P<65280)throw new Error("marker was not found");if(P>=65488&&P<=65495)f+=2;else break}return f-u}function SH(i,t){const e=[],{blocksPerLine:n,blocksPerColumn:r}=t,s=n<<3,a=new Int32Array(64),o=new Uint8Array(64);function l(c,x,u){const f=t.quantizationTable;let h,A,p,d,g,m,_,I,y;const E=u;let b;for(b=0;b<64;b++)E[b]=c[b]*f[b];for(b=0;b<8;++b){const w=8*b;if(E[1+w]===0&&E[2+w]===0&&E[3+w]===0&&E[4+w]===0&&E[5+w]===0&&E[6+w]===0&&E[7+w]===0){y=rx*E[0+w]+512>>10,E[0+w]=y,E[1+w]=y,E[2+w]=y,E[3+w]=y,E[4+w]=y,E[5+w]=y,E[6+w]=y,E[7+w]=y;continue}h=rx*E[0+w]+128>>8,A=rx*E[4+w]+128>>8,p=E[2+w],d=E[6+w],g=t2*(E[1+w]-E[7+w])+128>>8,I=t2*(E[1+w]+E[7+w])+128>>8,m=E[3+w]<<4,_=E[5+w]<<4,y=h-A+1>>1,h=h+A+1>>1,A=y,y=p*e2+d*$_+128>>8,p=p*$_-d*e2+128>>8,d=y,y=g-_+1>>1,g=g+_+1>>1,_=y,y=I+m+1>>1,m=I-m+1>>1,I=y,y=h-d+1>>1,h=h+d+1>>1,d=y,y=A-p+1>>1,A=A+p+1>>1,p=y,y=g*Z_+I*j_+2048>>12,g=g*j_-I*Z_+2048>>12,I=y,y=m*J_+_*K_+2048>>12,m=m*K_-_*J_+2048>>12,_=y,E[0+w]=h+I,E[7+w]=h-I,E[1+w]=A+_,E[6+w]=A-_,E[2+w]=p+m,E[5+w]=p-m,E[3+w]=d+g,E[4+w]=d-g}for(b=0;b<8;++b){const w=b;if(E[1*8+w]===0&&E[2*8+w]===0&&E[3*8+w]===0&&E[4*8+w]===0&&E[5*8+w]===0&&E[6*8+w]===0&&E[7*8+w]===0){y=rx*u[b+0]+8192>>14,E[0*8+w]=y,E[1*8+w]=y,E[2*8+w]=y,E[3*8+w]=y,E[4*8+w]=y,E[5*8+w]=y,E[6*8+w]=y,E[7*8+w]=y;continue}h=rx*E[0*8+w]+2048>>12,A=rx*E[4*8+w]+2048>>12,p=E[2*8+w],d=E[6*8+w],g=t2*(E[1*8+w]-E[7*8+w])+2048>>12,I=t2*(E[1*8+w]+E[7*8+w])+2048>>12,m=E[3*8+w],_=E[5*8+w],y=h-A+1>>1,h=h+A+1>>1,A=y,y=p*e2+d*$_+2048>>12,p=p*$_-d*e2+2048>>12,d=y,y=g-_+1>>1,g=g+_+1>>1,_=y,y=I+m+1>>1,m=I-m+1>>1,I=y,y=h-d+1>>1,h=h+d+1>>1,d=y,y=A-p+1>>1,A=A+p+1>>1,p=y,y=g*Z_+I*j_+2048>>12,g=g*j_-I*Z_+2048>>12,I=y,y=m*J_+_*K_+2048>>12,m=m*K_-_*J_+2048>>12,_=y,E[0*8+w]=h+I,E[7*8+w]=h-I,E[1*8+w]=A+_,E[6*8+w]=A-_,E[2*8+w]=p+m,E[5*8+w]=p-m,E[3*8+w]=d+g,E[4*8+w]=d-g}for(b=0;b<64;++b){const w=128+(E[b]+8>>4);w<0?x[b]=0:w>255?x[b]=255:x[b]=w}}for(let c=0;c<r;c++){const x=c<<3;for(let u=0;u<8;u++)e.push(new Uint8Array(s));for(let u=0;u<n;u++){l(t.blocks[c][u],o,a);let f=0;const h=u<<3;for(let A=0;A<8;A++){const p=e[x+A];for(let d=0;d<8;d++)p[h+d]=o[f++]}}}return e}class MH{constructor(){this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}resetFrames(){this.frames=[]}parse(t){let e=0;function n(){const o=t[e]<<8|t[e+1];return e+=2,o}function r(){const o=n(),l=t.subarray(e,e+o-2);return e+=l.length,l}function s(o){let l=0,c=0,x,u;for(u in o.components)o.components.hasOwnProperty(u)&&(x=o.components[u],l<x.h&&(l=x.h),c<x.v&&(c=x.v));const f=Math.ceil(o.samplesPerLine/8/l),h=Math.ceil(o.scanLines/8/c);for(u in o.components)if(o.components.hasOwnProperty(u)){x=o.components[u];const A=Math.ceil(Math.ceil(o.samplesPerLine/8)*x.h/l),p=Math.ceil(Math.ceil(o.scanLines/8)*x.v/c),d=f*x.h,g=h*x.v,m=[];for(let _=0;_<g;_++){const I=[];for(let y=0;y<d;y++)I.push(new Int32Array(64));m.push(I)}x.blocksPerLine=A,x.blocksPerColumn=p,x.blocks=m}o.maxH=l,o.maxV=c,o.mcusPerLine=f,o.mcusPerColumn=h}let a=n();if(a!==65496)throw new Error("SOI not found");for(a=n();a!==65497;){switch(a){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:{const o=r();a===65504&&o[0]===74&&o[1]===70&&o[2]===73&&o[3]===70&&o[4]===0&&(this.jfif={version:{major:o[5],minor:o[6]},densityUnits:o[7],xDensity:o[8]<<8|o[9],yDensity:o[10]<<8|o[11],thumbWidth:o[12],thumbHeight:o[13],thumbData:o.subarray(14,14+3*o[12]*o[13])}),a===65518&&o[0]===65&&o[1]===100&&o[2]===111&&o[3]===98&&o[4]===101&&o[5]===0&&(this.adobe={version:o[6],flags0:o[7]<<8|o[8],flags1:o[9]<<8|o[10],transformCode:o[11]});break}case 65499:{const l=n()+e-2;for(;e<l;){const c=t[e++],x=new Int32Array(64);if(c>>4)if(c>>4===1)for(let u=0;u<64;u++){const f=dh[u];x[f]=n()}else throw new Error("DQT: invalid table spec");else for(let u=0;u<64;u++){const f=dh[u];x[f]=t[e++]}this.quantizationTables[c&15]=x}break}case 65472:case 65473:case 65474:{n();const o={extended:a===65473,progressive:a===65474,precision:t[e++],scanLines:n(),samplesPerLine:n(),components:{},componentsOrder:[]},l=t[e++];let c;for(let x=0;x<l;x++){c=t[e];const u=t[e+1]>>4,f=t[e+1]&15,h=t[e+2];o.componentsOrder.push(c),o.components[c]={h:u,v:f,quantizationIdx:h},e+=3}s(o),this.frames.push(o);break}case 65476:{const o=n();for(let l=2;l<o;){const c=t[e++],x=new Uint8Array(16);let u=0;for(let h=0;h<16;h++,e++)x[h]=t[e],u+=x[h];const f=new Uint8Array(u);for(let h=0;h<u;h++,e++)f[h]=t[e];l+=17+u,c>>4?this.huffmanTablesAC[c&15]=OM(x,f):this.huffmanTablesDC[c&15]=OM(x,f)}break}case 65501:n(),this.resetInterval=n();break;case 65498:{n();const o=t[e++],l=[],c=this.frames[0];for(let A=0;A<o;A++){const p=c.components[t[e++]],d=t[e++];p.huffmanTableDC=this.huffmanTablesDC[d>>4],p.huffmanTableAC=this.huffmanTablesAC[d&15],l.push(p)}const x=t[e++],u=t[e++],f=t[e++],h=BH(t,e,c,l,this.resetInterval,x,u,f>>4,f&15);e+=h;break}case 65535:t[e]!==255&&e--;break;default:if(t[e-3]===255&&t[e-2]>=192&&t[e-2]<=254){e-=3;break}throw new Error(`unknown JPEG marker ${a.toString(16)}`)}a=n()}}getResult(){const{frames:t}=this;if(this.frames.length===0)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(let x=0;x<this.frames.length;x++){const u=this.frames[x].components;for(const f of Object.keys(u))u[f].quantizationTable=this.quantizationTables[u[f].quantizationIdx],delete u[f].quantizationIdx}const e=t[0],{components:n,componentsOrder:r}=e,s=[],a=e.samplesPerLine,o=e.scanLines;for(let x=0;x<r.length;x++){const u=n[r[x]];s.push({lines:SH(e,u),scaleX:u.h/e.maxH,scaleY:u.v/e.maxV})}const l=new Uint8Array(a*o*s.length);let c=0;for(let x=0;x<o;++x)for(let u=0;u<a;++u)for(let f=0;f<s.length;++f){const h=s[f];l[c]=h.lines[0|x*h.scaleY][0|u*h.scaleX],++c}return l}}class RH extends Fo{constructor(t){super(),this.reader=new MH,t.JPEGTables&&this.reader.parse(t.JPEGTables)}decodeBlock(t){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(t)),this.reader.getResult().buffer}}const TH=Object.freeze(Object.defineProperty({__proto__:null,default:RH},Symbol.toStringTag,{value:"Module"}));/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const DH=4,GM=0,zM=1,QH=2;function sx(i){let t=i.length;for(;--t>=0;)i[t]=0}const LH=0,VM=1,FH=2,kH=3,PH=258,KC=29,ph=256,gh=ph+1+KC,ax=30,JC=19,HM=2*gh+1,U0=15,jC=16,UH=7,ZC=256,qM=16,YM=17,WM=18,$C=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n2=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),NH=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),XM=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),OH=512,wa=new Array((gh+2)*2);sx(wa);const mh=new Array(ax*2);sx(mh);const _h=new Array(OH);sx(_h);const Ih=new Array(PH-kH+1);sx(Ih);const ev=new Array(KC);sx(ev);const i2=new Array(ax);sx(i2);function tv(i,t,e,n,r){this.static_tree=i,this.extra_bits=t,this.extra_base=e,this.elems=n,this.max_length=r,this.has_stree=i&&i.length}let KM,JM,jM;function nv(i,t){this.dyn_tree=i,this.max_code=0,this.stat_desc=t}const ZM=i=>i<256?_h[i]:_h[256+(i>>>7)],Eh=(i,t)=>{i.pending_buf[i.pending++]=t&255,i.pending_buf[i.pending++]=t>>>8&255},$i=(i,t,e)=>{i.bi_valid>jC-e?(i.bi_buf|=t<<i.bi_valid&65535,Eh(i,i.bi_buf),i.bi_buf=t>>jC-i.bi_valid,i.bi_valid+=e-jC):(i.bi_buf|=t<<i.bi_valid&65535,i.bi_valid+=e)},Ns=(i,t,e)=>{$i(i,e[t*2],e[t*2+1])},$M=(i,t)=>{let e=0;do e|=i&1,i>>>=1,e<<=1;while(--t>0);return e>>>1},GH=i=>{i.bi_valid===16?(Eh(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=i.bi_buf&255,i.bi_buf>>=8,i.bi_valid-=8)},zH=(i,t)=>{const e=t.dyn_tree,n=t.max_code,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,x,u,f,h,A,p=0;for(f=0;f<=U0;f++)i.bl_count[f]=0;for(e[i.heap[i.heap_max]*2+1]=0,c=i.heap_max+1;c<HM;c++)x=i.heap[c],f=e[e[x*2+1]*2+1]+1,f>l&&(f=l,p++),e[x*2+1]=f,!(x>n)&&(i.bl_count[f]++,h=0,x>=o&&(h=a[x-o]),A=e[x*2],i.opt_len+=A*(f+h),s&&(i.static_len+=A*(r[x*2+1]+h)));if(p!==0){do{for(f=l-1;i.bl_count[f]===0;)f--;i.bl_count[f]--,i.bl_count[f+1]+=2,i.bl_count[l]--,p-=2}while(p>0);for(f=l;f!==0;f--)for(x=i.bl_count[f];x!==0;)u=i.heap[--c],!(u>n)&&(e[u*2+1]!==f&&(i.opt_len+=(f-e[u*2+1])*e[u*2],e[u*2+1]=f),x--)}},e8=(i,t,e)=>{const n=new Array(U0+1);let r=0,s,a;for(s=1;s<=U0;s++)r=r+e[s-1]<<1,n[s]=r;for(a=0;a<=t;a++){let o=i[a*2+1];o!==0&&(i[a*2]=$M(n[o]++,o))}},VH=()=>{let i,t,e,n,r;const s=new Array(U0+1);for(e=0,n=0;n<KC-1;n++)for(ev[n]=e,i=0;i<1<<$C[n];i++)Ih[e++]=n;for(Ih[e-1]=n,r=0,n=0;n<16;n++)for(i2[n]=r,i=0;i<1<<n2[n];i++)_h[r++]=n;for(r>>=7;n<ax;n++)for(i2[n]=r<<7,i=0;i<1<<n2[n]-7;i++)_h[256+r++]=n;for(t=0;t<=U0;t++)s[t]=0;for(i=0;i<=143;)wa[i*2+1]=8,i++,s[8]++;for(;i<=255;)wa[i*2+1]=9,i++,s[9]++;for(;i<=279;)wa[i*2+1]=7,i++,s[7]++;for(;i<=287;)wa[i*2+1]=8,i++,s[8]++;for(e8(wa,gh+1,s),i=0;i<ax;i++)mh[i*2+1]=5,mh[i*2]=$M(i,5);KM=new tv(wa,$C,ph+1,gh,U0),JM=new tv(mh,n2,0,ax,U0),jM=new tv(new Array(0),NH,0,JC,UH)},t8=i=>{let t;for(t=0;t<gh;t++)i.dyn_ltree[t*2]=0;for(t=0;t<ax;t++)i.dyn_dtree[t*2]=0;for(t=0;t<JC;t++)i.bl_tree[t*2]=0;i.dyn_ltree[ZC*2]=1,i.opt_len=i.static_len=0,i.sym_next=i.matches=0},n8=i=>{i.bi_valid>8?Eh(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0},i8=(i,t,e,n)=>{const r=t*2,s=e*2;return i[r]<i[s]||i[r]===i[s]&&n[t]<=n[e]},iv=(i,t,e)=>{const n=i.heap[e];let r=e<<1;for(;r<=i.heap_len&&(r<i.heap_len&&i8(t,i.heap[r+1],i.heap[r],i.depth)&&r++,!i8(t,n,i.heap[r],i.depth));)i.heap[e]=i.heap[r],e=r,r<<=1;i.heap[e]=n},r8=(i,t,e)=>{let n,r,s=0,a,o;if(i.sym_next!==0)do n=i.pending_buf[i.sym_buf+s++]&255,n+=(i.pending_buf[i.sym_buf+s++]&255)<<8,r=i.pending_buf[i.sym_buf+s++],n===0?Ns(i,r,t):(a=Ih[r],Ns(i,a+ph+1,t),o=$C[a],o!==0&&(r-=ev[a],$i(i,r,o)),n--,a=ZM(n),Ns(i,a,e),o=n2[a],o!==0&&(n-=i2[a],$i(i,n,o)));while(s<i.sym_next);Ns(i,ZC,t)},rv=(i,t)=>{const e=t.dyn_tree,n=t.stat_desc.static_tree,r=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,l=-1,c;for(i.heap_len=0,i.heap_max=HM,a=0;a<s;a++)e[a*2]!==0?(i.heap[++i.heap_len]=l=a,i.depth[a]=0):e[a*2+1]=0;for(;i.heap_len<2;)c=i.heap[++i.heap_len]=l<2?++l:0,e[c*2]=1,i.depth[c]=0,i.opt_len--,r&&(i.static_len-=n[c*2+1]);for(t.max_code=l,a=i.heap_len>>1;a>=1;a--)iv(i,e,a);c=s;do a=i.heap[1],i.heap[1]=i.heap[i.heap_len--],iv(i,e,1),o=i.heap[1],i.heap[--i.heap_max]=a,i.heap[--i.heap_max]=o,e[c*2]=e[a*2]+e[o*2],i.depth[c]=(i.depth[a]>=i.depth[o]?i.depth[a]:i.depth[o])+1,e[a*2+1]=e[o*2+1]=c,i.heap[1]=c++,iv(i,e,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],zH(i,t),e8(e,l,i.bl_count)},s8=(i,t,e)=>{let n,r=-1,s,a=t[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),t[(e+1)*2+1]=65535,n=0;n<=e;n++)s=a,a=t[(n+1)*2+1],!(++o<l&&s===a)&&(o<c?i.bl_tree[s*2]+=o:s!==0?(s!==r&&i.bl_tree[s*2]++,i.bl_tree[qM*2]++):o<=10?i.bl_tree[YM*2]++:i.bl_tree[WM*2]++,o=0,r=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4))},a8=(i,t,e)=>{let n,r=-1,s,a=t[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),n=0;n<=e;n++)if(s=a,a=t[(n+1)*2+1],!(++o<l&&s===a)){if(o<c)do Ns(i,s,i.bl_tree);while(--o!==0);else s!==0?(s!==r&&(Ns(i,s,i.bl_tree),o--),Ns(i,qM,i.bl_tree),$i(i,o-3,2)):o<=10?(Ns(i,YM,i.bl_tree),$i(i,o-3,3)):(Ns(i,WM,i.bl_tree),$i(i,o-11,7));o=0,r=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4)}},HH=i=>{let t;for(s8(i,i.dyn_ltree,i.l_desc.max_code),s8(i,i.dyn_dtree,i.d_desc.max_code),rv(i,i.bl_desc),t=JC-1;t>=3&&i.bl_tree[XM[t]*2+1]===0;t--);return i.opt_len+=3*(t+1)+5+5+4,t},qH=(i,t,e,n)=>{let r;for($i(i,t-257,5),$i(i,e-1,5),$i(i,n-4,4),r=0;r<n;r++)$i(i,i.bl_tree[XM[r]*2+1],3);a8(i,i.dyn_ltree,t-1),a8(i,i.dyn_dtree,e-1)},YH=i=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&i.dyn_ltree[e*2]!==0)return GM;if(i.dyn_ltree[9*2]!==0||i.dyn_ltree[10*2]!==0||i.dyn_ltree[13*2]!==0)return zM;for(e=32;e<ph;e++)if(i.dyn_ltree[e*2]!==0)return zM;return GM};let o8=!1;const WH=i=>{o8||(VH(),o8=!0),i.l_desc=new nv(i.dyn_ltree,KM),i.d_desc=new nv(i.dyn_dtree,JM),i.bl_desc=new nv(i.bl_tree,jM),i.bi_buf=0,i.bi_valid=0,t8(i)},c8=(i,t,e,n)=>{$i(i,(LH<<1)+(n?1:0),3),n8(i),Eh(i,e),Eh(i,~e),e&&i.pending_buf.set(i.window.subarray(t,t+e),i.pending),i.pending+=e},XH=i=>{$i(i,VM<<1,3),Ns(i,ZC,wa),GH(i)},KH=(i,t,e,n)=>{let r,s,a=0;i.level>0?(i.strm.data_type===QH&&(i.strm.data_type=YH(i)),rv(i,i.l_desc),rv(i,i.d_desc),a=HH(i),r=i.opt_len+3+7>>>3,s=i.static_len+3+7>>>3,s<=r&&(r=s)):r=s=e+5,e+4<=r&&t!==-1?c8(i,t,e,n):i.strategy===DH||s===r?($i(i,(VM<<1)+(n?1:0),3),r8(i,wa,mh)):($i(i,(FH<<1)+(n?1:0),3),qH(i,i.l_desc.max_code+1,i.d_desc.max_code+1,a+1),r8(i,i.dyn_ltree,i.dyn_dtree)),t8(i),n&&n8(i)},JH=(i,t,e)=>(i.pending_buf[i.sym_buf+i.sym_next++]=t,i.pending_buf[i.sym_buf+i.sym_next++]=t>>8,i.pending_buf[i.sym_buf+i.sym_next++]=e,t===0?i.dyn_ltree[e*2]++:(i.matches++,t--,i.dyn_ltree[(Ih[e]+ph+1)*2]++,i.dyn_dtree[ZM(t)*2]++),i.sym_next===i.sym_end);var jH=WH,ZH=c8,$H=KH,eq=JH,tq=XH,nq={_tr_init:jH,_tr_stored_block:ZH,_tr_flush_block:$H,_tr_tally:eq,_tr_align:tq},yh=(i,t,e,n)=>{let r=i&65535|0,s=i>>>16&65535|0,a=0;for(;e!==0;){a=e>2e3?2e3:e,e-=a;do r=r+t[n++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};const iq=()=>{let i,t=[];for(var e=0;e<256;e++){i=e;for(var n=0;n<8;n++)i=i&1?3988292384^i>>>1:i>>>1;t[e]=i}return t},rq=new Uint32Array(iq());var Jn=(i,t,e,n)=>{const r=rq,s=n+e;i^=-1;for(let a=n;a<s;a++)i=i>>>8^r[(i^t[a])&255];return i^-1},ox={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},bh={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:sq,_tr_stored_block:sv,_tr_flush_block:aq,_tr_tally:Ro,_tr_align:oq}=nq,{Z_NO_FLUSH:To,Z_PARTIAL_FLUSH:cq,Z_FULL_FLUSH:lq,Z_FINISH:Qr,Z_BLOCK:l8,Z_OK:ci,Z_STREAM_END:x8,Z_STREAM_ERROR:Os,Z_DATA_ERROR:xq,Z_BUF_ERROR:av,Z_DEFAULT_COMPRESSION:uq,Z_FILTERED:fq,Z_HUFFMAN_ONLY:r2,Z_RLE:hq,Z_FIXED:Aq,Z_DEFAULT_STRATEGY:dq,Z_UNKNOWN:pq,Z_DEFLATED:s2}=bh,gq=9,mq=15,_q=8,ov=256+1+29,Iq=30,Eq=19,yq=2*ov+1,bq=15,vt=3,Do=258,Gs=Do+vt+1,Cq=32,cx=42,cv=57,lv=69,xv=73,uv=91,fv=103,N0=113,Ch=666,Ti=1,lx=2,O0=3,xx=4,vq=3,G0=(i,t)=>(i.msg=ox[t],t),u8=i=>i*2-(i>4?9:0),Qo=i=>{let t=i.length;for(;--t>=0;)i[t]=0},wq=i=>{let t,e,n,r=i.w_size;t=i.hash_size,n=t;do e=i.head[--n],i.head[n]=e>=r?e-r:0;while(--t);t=r,n=t;do e=i.prev[--n],i.prev[n]=e>=r?e-r:0;while(--t)};let Lo=(i,t,e)=>(t<<i.hash_shift^e)&i.hash_mask;const pr=i=>{const t=i.state;let e=t.pending;e>i.avail_out&&(e=i.avail_out),e!==0&&(i.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),i.next_out),i.next_out+=e,t.pending_out+=e,i.total_out+=e,i.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},gr=(i,t)=>{aq(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,t),i.block_start=i.strstart,pr(i.strm)},Ut=(i,t)=>{i.pending_buf[i.pending++]=t},vh=(i,t)=>{i.pending_buf[i.pending++]=t>>>8&255,i.pending_buf[i.pending++]=t&255},hv=(i,t,e,n)=>{let r=i.avail_in;return r>n&&(r=n),r===0?0:(i.avail_in-=r,t.set(i.input.subarray(i.next_in,i.next_in+r),e),i.state.wrap===1?i.adler=yh(i.adler,t,r,e):i.state.wrap===2&&(i.adler=Jn(i.adler,t,r,e)),i.next_in+=r,i.total_in+=r,r)},f8=(i,t)=>{let e=i.max_chain_length,n=i.strstart,r,s,a=i.prev_length,o=i.nice_match;const l=i.strstart>i.w_size-Gs?i.strstart-(i.w_size-Gs):0,c=i.window,x=i.w_mask,u=i.prev,f=i.strstart+Do;let h=c[n+a-1],A=c[n+a];i.prev_length>=i.good_match&&(e>>=2),o>i.lookahead&&(o=i.lookahead);do if(r=t,!(c[r+a]!==A||c[r+a-1]!==h||c[r]!==c[n]||c[++r]!==c[n+1])){n+=2,r++;do;while(c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&n<f);if(s=Do-(f-n),n=f-Do,s>a){if(i.match_start=t,a=s,s>=o)break;h=c[n+a-1],A=c[n+a]}}while((t=u[t&x])>l&&--e!==0);return a<=i.lookahead?a:i.lookahead},ux=i=>{const t=i.w_size;let e,n,r;do{if(n=i.window_size-i.lookahead-i.strstart,i.strstart>=t+(t-Gs)&&(i.window.set(i.window.subarray(t,t+t-n),0),i.match_start-=t,i.strstart-=t,i.block_start-=t,i.insert>i.strstart&&(i.insert=i.strstart),wq(i),n+=t),i.strm.avail_in===0)break;if(e=hv(i.strm,i.window,i.strstart+i.lookahead,n),i.lookahead+=e,i.lookahead+i.insert>=vt)for(r=i.strstart-i.insert,i.ins_h=i.window[r],i.ins_h=Lo(i,i.ins_h,i.window[r+1]);i.insert&&(i.ins_h=Lo(i,i.ins_h,i.window[r+vt-1]),i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++,i.insert--,!(i.lookahead+i.insert<vt)););}while(i.lookahead<Gs&&i.strm.avail_in!==0)},h8=(i,t)=>{let e=i.pending_buf_size-5>i.w_size?i.w_size:i.pending_buf_size-5,n,r,s,a=0,o=i.strm.avail_in;do{if(n=65535,s=i.bi_valid+42>>3,i.strm.avail_out<s||(s=i.strm.avail_out-s,r=i.strstart-i.block_start,n>r+i.strm.avail_in&&(n=r+i.strm.avail_in),n>s&&(n=s),n<e&&(n===0&&t!==Qr||t===To||n!==r+i.strm.avail_in)))break;a=t===Qr&&n===r+i.strm.avail_in?1:0,sv(i,0,0,a),i.pending_buf[i.pending-4]=n,i.pending_buf[i.pending-3]=n>>8,i.pending_buf[i.pending-2]=~n,i.pending_buf[i.pending-1]=~n>>8,pr(i.strm),r&&(r>n&&(r=n),i.strm.output.set(i.window.subarray(i.block_start,i.block_start+r),i.strm.next_out),i.strm.next_out+=r,i.strm.avail_out-=r,i.strm.total_out+=r,i.block_start+=r,n-=r),n&&(hv(i.strm,i.strm.output,i.strm.next_out,n),i.strm.next_out+=n,i.strm.avail_out-=n,i.strm.total_out+=n)}while(a===0);return o-=i.strm.avail_in,o&&(o>=i.w_size?(i.matches=2,i.window.set(i.strm.input.subarray(i.strm.next_in-i.w_size,i.strm.next_in),0),i.strstart=i.w_size,i.insert=i.strstart):(i.window_size-i.strstart<=o&&(i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,i.insert>i.strstart&&(i.insert=i.strstart)),i.window.set(i.strm.input.subarray(i.strm.next_in-o,i.strm.next_in),i.strstart),i.strstart+=o,i.insert+=o>i.w_size-i.insert?i.w_size-i.insert:o),i.block_start=i.strstart),i.high_water<i.strstart&&(i.high_water=i.strstart),a?xx:t!==To&&t!==Qr&&i.strm.avail_in===0&&i.strstart===i.block_start?lx:(s=i.window_size-i.strstart,i.strm.avail_in>s&&i.block_start>=i.w_size&&(i.block_start-=i.w_size,i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,s+=i.w_size,i.insert>i.strstart&&(i.insert=i.strstart)),s>i.strm.avail_in&&(s=i.strm.avail_in),s&&(hv(i.strm,i.window,i.strstart,s),i.strstart+=s,i.insert+=s>i.w_size-i.insert?i.w_size-i.insert:s),i.high_water<i.strstart&&(i.high_water=i.strstart),s=i.bi_valid+42>>3,s=i.pending_buf_size-s>65535?65535:i.pending_buf_size-s,e=s>i.w_size?i.w_size:s,r=i.strstart-i.block_start,(r>=e||(r||t===Qr)&&t!==To&&i.strm.avail_in===0&&r<=s)&&(n=r>s?s:r,a=t===Qr&&i.strm.avail_in===0&&n===r?1:0,sv(i,i.block_start,n,a),i.block_start+=n,pr(i.strm)),a?O0:Ti)},Av=(i,t)=>{let e,n;for(;;){if(i.lookahead<Gs){if(ux(i),i.lookahead<Gs&&t===To)return Ti;if(i.lookahead===0)break}if(e=0,i.lookahead>=vt&&(i.ins_h=Lo(i,i.ins_h,i.window[i.strstart+vt-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),e!==0&&i.strstart-e<=i.w_size-Gs&&(i.match_length=f8(i,e)),i.match_length>=vt)if(n=Ro(i,i.strstart-i.match_start,i.match_length-vt),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=vt){i.match_length--;do i.strstart++,i.ins_h=Lo(i,i.ins_h,i.window[i.strstart+vt-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=Lo(i,i.ins_h,i.window[i.strstart+1]);else n=Ro(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(n&&(gr(i,!1),i.strm.avail_out===0))return Ti}return i.insert=i.strstart<vt-1?i.strstart:vt-1,t===Qr?(gr(i,!0),i.strm.avail_out===0?O0:xx):i.sym_next&&(gr(i,!1),i.strm.avail_out===0)?Ti:lx},fx=(i,t)=>{let e,n,r;for(;;){if(i.lookahead<Gs){if(ux(i),i.lookahead<Gs&&t===To)return Ti;if(i.lookahead===0)break}if(e=0,i.lookahead>=vt&&(i.ins_h=Lo(i,i.ins_h,i.window[i.strstart+vt-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=vt-1,e!==0&&i.prev_length<i.max_lazy_match&&i.strstart-e<=i.w_size-Gs&&(i.match_length=f8(i,e),i.match_length<=5&&(i.strategy===fq||i.match_length===vt&&i.strstart-i.match_start>4096)&&(i.match_length=vt-1)),i.prev_length>=vt&&i.match_length<=i.prev_length){r=i.strstart+i.lookahead-vt,n=Ro(i,i.strstart-1-i.prev_match,i.prev_length-vt),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=r&&(i.ins_h=Lo(i,i.ins_h,i.window[i.strstart+vt-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=vt-1,i.strstart++,n&&(gr(i,!1),i.strm.avail_out===0))return Ti}else if(i.match_available){if(n=Ro(i,0,i.window[i.strstart-1]),n&&gr(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return Ti}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(n=Ro(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<vt-1?i.strstart:vt-1,t===Qr?(gr(i,!0),i.strm.avail_out===0?O0:xx):i.sym_next&&(gr(i,!1),i.strm.avail_out===0)?Ti:lx},Bq=(i,t)=>{let e,n,r,s;const a=i.window;for(;;){if(i.lookahead<=Do){if(ux(i),i.lookahead<=Do&&t===To)return Ti;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=vt&&i.strstart>0&&(r=i.strstart-1,n=a[r],n===a[++r]&&n===a[++r]&&n===a[++r])){s=i.strstart+Do;do;while(n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&r<s);i.match_length=Do-(s-r),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=vt?(e=Ro(i,1,i.match_length-vt),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(e=Ro(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),e&&(gr(i,!1),i.strm.avail_out===0))return Ti}return i.insert=0,t===Qr?(gr(i,!0),i.strm.avail_out===0?O0:xx):i.sym_next&&(gr(i,!1),i.strm.avail_out===0)?Ti:lx},Sq=(i,t)=>{let e;for(;;){if(i.lookahead===0&&(ux(i),i.lookahead===0)){if(t===To)return Ti;break}if(i.match_length=0,e=Ro(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,e&&(gr(i,!1),i.strm.avail_out===0))return Ti}return i.insert=0,t===Qr?(gr(i,!0),i.strm.avail_out===0?O0:xx):i.sym_next&&(gr(i,!1),i.strm.avail_out===0)?Ti:lx};function zs(i,t,e,n,r){this.good_length=i,this.max_lazy=t,this.nice_length=e,this.max_chain=n,this.func=r}const wh=[new zs(0,0,0,0,h8),new zs(4,4,8,4,Av),new zs(4,5,16,8,Av),new zs(4,6,32,32,Av),new zs(4,4,16,16,fx),new zs(8,16,32,32,fx),new zs(8,16,128,128,fx),new zs(8,32,128,256,fx),new zs(32,128,258,1024,fx),new zs(32,258,258,4096,fx)],Mq=i=>{i.window_size=2*i.w_size,Qo(i.head),i.max_lazy_match=wh[i.level].max_lazy,i.good_match=wh[i.level].good_length,i.nice_match=wh[i.level].nice_length,i.max_chain_length=wh[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=vt-1,i.match_available=0,i.ins_h=0};function Rq(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=s2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(yq*2),this.dyn_dtree=new Uint16Array((2*Iq+1)*2),this.bl_tree=new Uint16Array((2*Eq+1)*2),Qo(this.dyn_ltree),Qo(this.dyn_dtree),Qo(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(bq+1),this.heap=new Uint16Array(2*ov+1),Qo(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ov+1),Qo(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Bh=i=>{if(!i)return 1;const t=i.state;return!t||t.strm!==i||t.status!==cx&&t.status!==cv&&t.status!==lv&&t.status!==xv&&t.status!==uv&&t.status!==fv&&t.status!==N0&&t.status!==Ch?1:0},A8=i=>{if(Bh(i))return G0(i,Os);i.total_in=i.total_out=0,i.data_type=pq;const t=i.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?cv:t.wrap?cx:N0,i.adler=t.wrap===2?0:1,t.last_flush=-2,sq(t),ci},d8=i=>{const t=A8(i);return t===ci&&Mq(i.state),t},Tq=(i,t)=>Bh(i)||i.state.wrap!==2?Os:(i.state.gzhead=t,ci),p8=(i,t,e,n,r,s)=>{if(!i)return Os;let a=1;if(t===uq&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),r<1||r>gq||e!==s2||n<8||n>15||t<0||t>9||s<0||s>Aq||n===8&&a!==1)return G0(i,Os);n===8&&(n=9);const o=new Rq;return i.state=o,o.strm=i,o.status=cx,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+vt-1)/vt),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=s,o.method=e,d8(i)},Dq=(i,t)=>p8(i,t,s2,mq,_q,dq),Qq=(i,t)=>{if(Bh(i)||t>l8||t<0)return i?G0(i,Os):Os;const e=i.state;if(!i.output||i.avail_in!==0&&!i.input||e.status===Ch&&t!==Qr)return G0(i,i.avail_out===0?av:Os);const n=e.last_flush;if(e.last_flush=t,e.pending!==0){if(pr(i),i.avail_out===0)return e.last_flush=-1,ci}else if(i.avail_in===0&&u8(t)<=u8(n)&&t!==Qr)return G0(i,av);if(e.status===Ch&&i.avail_in!==0)return G0(i,av);if(e.status===cx&&e.wrap===0&&(e.status=N0),e.status===cx){let r=s2+(e.w_bits-8<<4)<<8,s=-1;if(e.strategy>=r2||e.level<2?s=0:e.level<6?s=1:e.level===6?s=2:s=3,r|=s<<6,e.strstart!==0&&(r|=Cq),r+=31-r%31,vh(e,r),e.strstart!==0&&(vh(e,i.adler>>>16),vh(e,i.adler&65535)),i.adler=1,e.status=N0,pr(i),e.pending!==0)return e.last_flush=-1,ci}if(e.status===cv){if(i.adler=0,Ut(e,31),Ut(e,139),Ut(e,8),e.gzhead)Ut(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),Ut(e,e.gzhead.time&255),Ut(e,e.gzhead.time>>8&255),Ut(e,e.gzhead.time>>16&255),Ut(e,e.gzhead.time>>24&255),Ut(e,e.level===9?2:e.strategy>=r2||e.level<2?4:0),Ut(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(Ut(e,e.gzhead.extra.length&255),Ut(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(i.adler=Jn(i.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=lv;else if(Ut(e,0),Ut(e,0),Ut(e,0),Ut(e,0),Ut(e,0),Ut(e,e.level===9?2:e.strategy>=r2||e.level<2?4:0),Ut(e,vq),e.status=N0,pr(i),e.pending!==0)return e.last_flush=-1,ci}if(e.status===lv){if(e.gzhead.extra){let r=e.pending,s=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+s>e.pending_buf_size;){let o=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>r&&(i.adler=Jn(i.adler,e.pending_buf,e.pending-r,r)),e.gzindex+=o,pr(i),e.pending!==0)return e.last_flush=-1,ci;r=0,s-=o}let a=new Uint8Array(e.gzhead.extra);e.pending_buf.set(a.subarray(e.gzindex,e.gzindex+s),e.pending),e.pending+=s,e.gzhead.hcrc&&e.pending>r&&(i.adler=Jn(i.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=xv}if(e.status===xv){if(e.gzhead.name){let r=e.pending,s;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(i.adler=Jn(i.adler,e.pending_buf,e.pending-r,r)),pr(i),e.pending!==0)return e.last_flush=-1,ci;r=0}e.gzindex<e.gzhead.name.length?s=e.gzhead.name.charCodeAt(e.gzindex++)&255:s=0,Ut(e,s)}while(s!==0);e.gzhead.hcrc&&e.pending>r&&(i.adler=Jn(i.adler,e.pending_buf,e.pending-r,r)),e.gzindex=0}e.status=uv}if(e.status===uv){if(e.gzhead.comment){let r=e.pending,s;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>r&&(i.adler=Jn(i.adler,e.pending_buf,e.pending-r,r)),pr(i),e.pending!==0)return e.last_flush=-1,ci;r=0}e.gzindex<e.gzhead.comment.length?s=e.gzhead.comment.charCodeAt(e.gzindex++)&255:s=0,Ut(e,s)}while(s!==0);e.gzhead.hcrc&&e.pending>r&&(i.adler=Jn(i.adler,e.pending_buf,e.pending-r,r))}e.status=fv}if(e.status===fv){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(pr(i),e.pending!==0))return e.last_flush=-1,ci;Ut(e,i.adler&255),Ut(e,i.adler>>8&255),i.adler=0}if(e.status=N0,pr(i),e.pending!==0)return e.last_flush=-1,ci}if(i.avail_in!==0||e.lookahead!==0||t!==To&&e.status!==Ch){let r=e.level===0?h8(e,t):e.strategy===r2?Sq(e,t):e.strategy===hq?Bq(e,t):wh[e.level].func(e,t);if((r===O0||r===xx)&&(e.status=Ch),r===Ti||r===O0)return i.avail_out===0&&(e.last_flush=-1),ci;if(r===lx&&(t===cq?oq(e):t!==l8&&(sv(e,0,0,!1),t===lq&&(Qo(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),pr(i),i.avail_out===0))return e.last_flush=-1,ci}return t!==Qr?ci:e.wrap<=0?x8:(e.wrap===2?(Ut(e,i.adler&255),Ut(e,i.adler>>8&255),Ut(e,i.adler>>16&255),Ut(e,i.adler>>24&255),Ut(e,i.total_in&255),Ut(e,i.total_in>>8&255),Ut(e,i.total_in>>16&255),Ut(e,i.total_in>>24&255)):(vh(e,i.adler>>>16),vh(e,i.adler&65535)),pr(i),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?ci:x8)},Lq=i=>{if(Bh(i))return Os;const t=i.state.status;return i.state=null,t===N0?G0(i,xq):ci},Fq=(i,t)=>{let e=t.length;if(Bh(i))return Os;const n=i.state,r=n.wrap;if(r===2||r===1&&n.status!==cx||n.lookahead)return Os;if(r===1&&(i.adler=yh(i.adler,t,e,0)),n.wrap=0,e>=n.w_size){r===0&&(Qo(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(e-n.w_size,e),0),t=l,e=n.w_size}const s=i.avail_in,a=i.next_in,o=i.input;for(i.avail_in=e,i.next_in=0,i.input=t,ux(n);n.lookahead>=vt;){let l=n.strstart,c=n.lookahead-(vt-1);do n.ins_h=Lo(n,n.ins_h,n.window[l+vt-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=vt-1,ux(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=vt-1,n.match_available=0,i.next_in=a,i.input=o,i.avail_in=s,n.wrap=r,ci};var kq=Dq,Pq=p8,Uq=d8,Nq=A8,Oq=Tq,Gq=Qq,zq=Lq,Vq=Fq,Hq="pako deflate (from Nodeca project)",Sh={deflateInit:kq,deflateInit2:Pq,deflateReset:Uq,deflateResetKeep:Nq,deflateSetHeader:Oq,deflate:Gq,deflateEnd:zq,deflateSetDictionary:Vq,deflateInfo:Hq};const qq=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var Yq=function(i){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)qq(e,n)&&(i[n]=e[n])}}return i},Wq=i=>{let t=0;for(let n=0,r=i.length;n<r;n++)t+=i[n].length;const e=new Uint8Array(t);for(let n=0,r=0,s=i.length;n<s;n++){let a=i[n];e.set(a,r),r+=a.length}return e},a2={assign:Yq,flattenChunks:Wq};let g8=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g8=!1}const Mh=new Uint8Array(256);for(let i=0;i<256;i++)Mh[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Mh[254]=Mh[254]=1;var Xq=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let t,e,n,r,s,a=i.length,o=0;for(r=0;r<a;r++)e=i.charCodeAt(r),(e&64512)===55296&&r+1<a&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),r++)),o+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(o),s=0,r=0;s<o;r++)e=i.charCodeAt(r),(e&64512)===55296&&r+1<a&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),r++)),e<128?t[s++]=e:e<2048?(t[s++]=192|e>>>6,t[s++]=128|e&63):e<65536?(t[s++]=224|e>>>12,t[s++]=128|e>>>6&63,t[s++]=128|e&63):(t[s++]=240|e>>>18,t[s++]=128|e>>>12&63,t[s++]=128|e>>>6&63,t[s++]=128|e&63);return t};const Kq=(i,t)=>{if(t<65534&&i.subarray&&g8)return String.fromCharCode.apply(null,i.length===t?i:i.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(i[n]);return e};var Jq=(i,t)=>{const e=t||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,t));let n,r;const s=new Array(e*2);for(r=0,n=0;n<e;){let a=i[n++];if(a<128){s[r++]=a;continue}let o=Mh[a];if(o>4){s[r++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<e;)a=a<<6|i[n++]&63,o--;if(o>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return Kq(s,r)},jq=(i,t)=>{t=t||i.length,t>i.length&&(t=i.length);let e=t-1;for(;e>=0&&(i[e]&192)===128;)e--;return e<0||e===0?t:e+Mh[i[e]]>t?e:t},Rh={string2buf:Xq,buf2string:Jq,utf8border:jq};function Zq(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var m8=Zq;const _8=Object.prototype.toString,{Z_NO_FLUSH:$q,Z_SYNC_FLUSH:eY,Z_FULL_FLUSH:tY,Z_FINISH:nY,Z_OK:o2,Z_STREAM_END:iY,Z_DEFAULT_COMPRESSION:rY,Z_DEFAULT_STRATEGY:sY,Z_DEFLATED:aY}=bh;function dv(i){this.options=a2.assign({level:rY,method:aY,chunkSize:16384,windowBits:15,memLevel:8,strategy:sY},i||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m8,this.strm.avail_out=0;let e=Sh.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==o2)throw new Error(ox[e]);if(t.header&&Sh.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Rh.string2buf(t.dictionary):_8.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,e=Sh.deflateSetDictionary(this.strm,n),e!==o2)throw new Error(ox[e]);this._dict_set=!0}}dv.prototype.push=function(i,t){const e=this.strm,n=this.options.chunkSize;let r,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?nY:$q,typeof i=="string"?e.input=Rh.string2buf(i):_8.call(i)==="[object ArrayBuffer]"?e.input=new Uint8Array(i):e.input=i,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(s===eY||s===tY)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(r=Sh.deflate(e,s),r===iY)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),r=Sh.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o2;if(e.avail_out===0){this.onData(e.output);continue}if(s>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0},dv.prototype.onData=function(i){this.chunks.push(i)},dv.prototype.onEnd=function(i){i===o2&&(this.result=a2.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};const c2=16209,oY=16191;var cY=function(t,e){let n,r,s,a,o,l,c,x,u,f,h,A,p,d,g,m,_,I,y,E,b,w,C,v;const B=t.state;n=t.next_in,C=t.input,r=n+(t.avail_in-5),s=t.next_out,v=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),l=B.dmax,c=B.wsize,x=B.whave,u=B.wnext,f=B.window,h=B.hold,A=B.bits,p=B.lencode,d=B.distcode,g=(1<<B.lenbits)-1,m=(1<<B.distbits)-1;e:do{A<15&&(h+=C[n++]<<A,A+=8,h+=C[n++]<<A,A+=8),_=p[h&g];t:for(;;){if(I=_>>>24,h>>>=I,A-=I,I=_>>>16&255,I===0)v[s++]=_&65535;else if(I&16){y=_&65535,I&=15,I&&(A<I&&(h+=C[n++]<<A,A+=8),y+=h&(1<<I)-1,h>>>=I,A-=I),A<15&&(h+=C[n++]<<A,A+=8,h+=C[n++]<<A,A+=8),_=d[h&m];n:for(;;){if(I=_>>>24,h>>>=I,A-=I,I=_>>>16&255,I&16){if(E=_&65535,I&=15,A<I&&(h+=C[n++]<<A,A+=8,A<I&&(h+=C[n++]<<A,A+=8)),E+=h&(1<<I)-1,E>l){t.msg="invalid distance too far back",B.mode=c2;break e}if(h>>>=I,A-=I,I=s-a,E>I){if(I=E-I,I>x&&B.sane){t.msg="invalid distance too far back",B.mode=c2;break e}if(b=0,w=f,u===0){if(b+=c-I,I<y){y-=I;do v[s++]=f[b++];while(--I);b=s-E,w=v}}else if(u<I){if(b+=c+u-I,I-=u,I<y){y-=I;do v[s++]=f[b++];while(--I);if(b=0,u<y){I=u,y-=I;do v[s++]=f[b++];while(--I);b=s-E,w=v}}}else if(b+=u-I,I<y){y-=I;do v[s++]=f[b++];while(--I);b=s-E,w=v}for(;y>2;)v[s++]=w[b++],v[s++]=w[b++],v[s++]=w[b++],y-=3;y&&(v[s++]=w[b++],y>1&&(v[s++]=w[b++]))}else{b=s-E;do v[s++]=v[b++],v[s++]=v[b++],v[s++]=v[b++],y-=3;while(y>2);y&&(v[s++]=v[b++],y>1&&(v[s++]=v[b++]))}}else if(I&64){t.msg="invalid distance code",B.mode=c2;break e}else{_=d[(_&65535)+(h&(1<<I)-1)];continue n}break}}else if(I&64)if(I&32){B.mode=oY;break e}else{t.msg="invalid literal/length code",B.mode=c2;break e}else{_=p[(_&65535)+(h&(1<<I)-1)];continue t}break}}while(n<r&&s<o);y=A>>3,n-=y,A-=y<<3,h&=(1<<A)-1,t.next_in=n,t.next_out=s,t.avail_in=n<r?5+(r-n):5-(n-r),t.avail_out=s<o?257+(o-s):257-(s-o),B.hold=h,B.bits=A};const hx=15,I8=852,E8=592,y8=0,pv=1,b8=2,lY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),xY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),uY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Th=(i,t,e,n,r,s,a,o)=>{const l=o.bits;let c=0,x=0,u=0,f=0,h=0,A=0,p=0,d=0,g=0,m=0,_,I,y,E,b,w=null,C;const v=new Uint16Array(hx+1),B=new Uint16Array(hx+1);let S=null,T,Q,M;for(c=0;c<=hx;c++)v[c]=0;for(x=0;x<n;x++)v[t[e+x]]++;for(h=l,f=hx;f>=1&&v[f]===0;f--);if(h>f&&(h=f),f===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<f&&v[u]===0;u++);for(h<u&&(h=u),d=1,c=1;c<=hx;c++)if(d<<=1,d-=v[c],d<0)return-1;if(d>0&&(i===y8||f!==1))return-1;for(B[1]=0,c=1;c<hx;c++)B[c+1]=B[c]+v[c];for(x=0;x<n;x++)t[e+x]!==0&&(a[B[t[e+x]]++]=x);if(i===y8?(w=S=a,C=20):i===pv?(w=lY,S=xY,C=257):(w=uY,S=fY,C=0),m=0,x=0,c=u,b=s,A=h,p=0,y=-1,g=1<<h,E=g-1,i===pv&&g>I8||i===b8&&g>E8)return 1;for(;;){T=c-p,a[x]+1<C?(Q=0,M=a[x]):a[x]>=C?(Q=S[a[x]-C],M=w[a[x]-C]):(Q=96,M=0),_=1<<c-p,I=1<<A,u=I;do I-=_,r[b+(m>>p)+I]=T<<24|Q<<16|M|0;while(I!==0);for(_=1<<c-1;m&_;)_>>=1;if(_!==0?(m&=_-1,m+=_):m=0,x++,--v[c]===0){if(c===f)break;c=t[e+a[x]]}if(c>h&&(m&E)!==y){for(p===0&&(p=h),b+=u,A=c-p,d=1<<A;A+p<f&&(d-=v[A+p],!(d<=0));)A++,d<<=1;if(g+=1<<A,i===pv&&g>I8||i===b8&&g>E8)return 1;y=m&E,r[y]=h<<24|A<<16|b-s|0}}return m!==0&&(r[b+m]=c-p<<24|64<<16|0),o.bits=h,0};const hY=0,C8=1,v8=2,{Z_FINISH:w8,Z_BLOCK:AY,Z_TREES:l2,Z_OK:z0,Z_STREAM_END:dY,Z_NEED_DICT:pY,Z_STREAM_ERROR:Lr,Z_DATA_ERROR:B8,Z_MEM_ERROR:S8,Z_BUF_ERROR:gY,Z_DEFLATED:M8}=bh,x2=16180,R8=16181,T8=16182,D8=16183,Q8=16184,L8=16185,F8=16186,k8=16187,P8=16188,U8=16189,u2=16190,Ba=16191,gv=16192,N8=16193,mv=16194,O8=16195,G8=16196,z8=16197,V8=16198,f2=16199,h2=16200,H8=16201,q8=16202,Y8=16203,W8=16204,X8=16205,_v=16206,K8=16207,J8=16208,hn=16209,j8=16210,Z8=16211,mY=852,_Y=592,IY=15,$8=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function EY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const V0=i=>{if(!i)return 1;const t=i.state;return!t||t.strm!==i||t.mode<x2||t.mode>Z8?1:0},e6=i=>{if(V0(i))return Lr;const t=i.state;return i.total_in=i.total_out=t.total=0,i.msg="",t.wrap&&(i.adler=t.wrap&1),t.mode=x2,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(mY),t.distcode=t.distdyn=new Int32Array(_Y),t.sane=1,t.back=-1,z0},t6=i=>{if(V0(i))return Lr;const t=i.state;return t.wsize=0,t.whave=0,t.wnext=0,e6(i)},n6=(i,t)=>{let e;if(V0(i))return Lr;const n=i.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Lr:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,t6(i))},i6=(i,t)=>{if(!i)return Lr;const e=new EY;i.state=e,e.strm=i,e.window=null,e.mode=x2;const n=n6(i,t);return n!==z0&&(i.state=null),n},yY=i=>i6(i,IY);let r6=!0,Iv,Ev;const bY=i=>{if(r6){Iv=new Int32Array(512),Ev=new Int32Array(32);let t=0;for(;t<144;)i.lens[t++]=8;for(;t<256;)i.lens[t++]=9;for(;t<280;)i.lens[t++]=7;for(;t<288;)i.lens[t++]=8;for(Th(C8,i.lens,0,288,Iv,0,i.work,{bits:9}),t=0;t<32;)i.lens[t++]=5;Th(v8,i.lens,0,32,Ev,0,i.work,{bits:5}),r6=!1}i.lencode=Iv,i.lenbits=9,i.distcode=Ev,i.distbits=5},s6=(i,t,e,n)=>{let r;const s=i.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(e-s.wsize,e),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>n&&(r=n),s.window.set(t.subarray(e-n,e-n+r),s.wnext),n-=r,n?(s.window.set(t.subarray(e-n,e),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},CY=(i,t)=>{let e,n,r,s,a,o,l,c,x,u,f,h,A,p,d=0,g,m,_,I,y,E,b,w;const C=new Uint8Array(4);let v,B;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(V0(i)||!i.output||!i.input&&i.avail_in!==0)return Lr;e=i.state,e.mode===Ba&&(e.mode=gv),a=i.next_out,r=i.output,l=i.avail_out,s=i.next_in,n=i.input,o=i.avail_in,c=e.hold,x=e.bits,u=o,f=l,w=z0;e:for(;;)switch(e.mode){case x2:if(e.wrap===0){e.mode=gv;break}for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(e.wrap&2&&c===35615){e.wbits===0&&(e.wbits=15),e.check=0,C[0]=c&255,C[1]=c>>>8&255,e.check=Jn(e.check,C,2,0),c=0,x=0,e.mode=R8;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((c&255)<<8)+(c>>8))%31){i.msg="incorrect header check",e.mode=hn;break}if((c&15)!==M8){i.msg="unknown compression method",e.mode=hn;break}if(c>>>=4,x-=4,b=(c&15)+8,e.wbits===0&&(e.wbits=b),b>15||b>e.wbits){i.msg="invalid window size",e.mode=hn;break}e.dmax=1<<e.wbits,e.flags=0,i.adler=e.check=1,e.mode=c&512?U8:Ba,c=0,x=0;break;case R8:for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(e.flags=c,(e.flags&255)!==M8){i.msg="unknown compression method",e.mode=hn;break}if(e.flags&57344){i.msg="unknown header flags set",e.mode=hn;break}e.head&&(e.head.text=c>>8&1),e.flags&512&&e.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,e.check=Jn(e.check,C,2,0)),c=0,x=0,e.mode=T8;case T8:for(;x<32;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}e.head&&(e.head.time=c),e.flags&512&&e.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,e.check=Jn(e.check,C,4,0)),c=0,x=0,e.mode=D8;case D8:for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}e.head&&(e.head.xflags=c&255,e.head.os=c>>8),e.flags&512&&e.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,e.check=Jn(e.check,C,2,0)),c=0,x=0,e.mode=Q8;case Q8:if(e.flags&1024){for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}e.length=c,e.head&&(e.head.extra_len=c),e.flags&512&&e.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,e.check=Jn(e.check,C,2,0)),c=0,x=0}else e.head&&(e.head.extra=null);e.mode=L8;case L8:if(e.flags&1024&&(h=e.length,h>o&&(h=o),h&&(e.head&&(b=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(s,s+h),b)),e.flags&512&&e.wrap&4&&(e.check=Jn(e.check,n,h,s)),o-=h,s+=h,e.length-=h),e.length))break e;e.length=0,e.mode=F8;case F8:if(e.flags&2048){if(o===0)break e;h=0;do b=n[s+h++],e.head&&b&&e.length<65536&&(e.head.name+=String.fromCharCode(b));while(b&&h<o);if(e.flags&512&&e.wrap&4&&(e.check=Jn(e.check,n,h,s)),o-=h,s+=h,b)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=k8;case k8:if(e.flags&4096){if(o===0)break e;h=0;do b=n[s+h++],e.head&&b&&e.length<65536&&(e.head.comment+=String.fromCharCode(b));while(b&&h<o);if(e.flags&512&&e.wrap&4&&(e.check=Jn(e.check,n,h,s)),o-=h,s+=h,b)break e}else e.head&&(e.head.comment=null);e.mode=P8;case P8:if(e.flags&512){for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(e.wrap&4&&c!==(e.check&65535)){i.msg="header crc mismatch",e.mode=hn;break}c=0,x=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),i.adler=e.check=0,e.mode=Ba;break;case U8:for(;x<32;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}i.adler=e.check=$8(c),c=0,x=0,e.mode=u2;case u2:if(e.havedict===0)return i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=o,e.hold=c,e.bits=x,pY;i.adler=e.check=1,e.mode=Ba;case Ba:if(t===AY||t===l2)break e;case gv:if(e.last){c>>>=x&7,x-=x&7,e.mode=_v;break}for(;x<3;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}switch(e.last=c&1,c>>>=1,x-=1,c&3){case 0:e.mode=N8;break;case 1:if(bY(e),e.mode=f2,t===l2){c>>>=2,x-=2;break e}break;case 2:e.mode=G8;break;case 3:i.msg="invalid block type",e.mode=hn}c>>>=2,x-=2;break;case N8:for(c>>>=x&7,x-=x&7;x<32;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if((c&65535)!==(c>>>16^65535)){i.msg="invalid stored block lengths",e.mode=hn;break}if(e.length=c&65535,c=0,x=0,e.mode=mv,t===l2)break e;case mv:e.mode=O8;case O8:if(h=e.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;r.set(n.subarray(s,s+h),a),o-=h,s+=h,l-=h,a+=h,e.length-=h;break}e.mode=Ba;break;case G8:for(;x<14;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(e.nlen=(c&31)+257,c>>>=5,x-=5,e.ndist=(c&31)+1,c>>>=5,x-=5,e.ncode=(c&15)+4,c>>>=4,x-=4,e.nlen>286||e.ndist>30){i.msg="too many length or distance symbols",e.mode=hn;break}e.have=0,e.mode=z8;case z8:for(;e.have<e.ncode;){for(;x<3;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}e.lens[S[e.have++]]=c&7,c>>>=3,x-=3}for(;e.have<19;)e.lens[S[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,v={bits:e.lenbits},w=Th(hY,e.lens,0,19,e.lencode,0,e.work,v),e.lenbits=v.bits,w){i.msg="invalid code lengths set",e.mode=hn;break}e.have=0,e.mode=V8;case V8:for(;e.have<e.nlen+e.ndist;){for(;d=e.lencode[c&(1<<e.lenbits)-1],g=d>>>24,m=d>>>16&255,_=d&65535,!(g<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(_<16)c>>>=g,x-=g,e.lens[e.have++]=_;else{if(_===16){for(B=g+2;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(c>>>=g,x-=g,e.have===0){i.msg="invalid bit length repeat",e.mode=hn;break}b=e.lens[e.have-1],h=3+(c&3),c>>>=2,x-=2}else if(_===17){for(B=g+3;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}c>>>=g,x-=g,b=0,h=3+(c&7),c>>>=3,x-=3}else{for(B=g+7;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}c>>>=g,x-=g,b=0,h=11+(c&127),c>>>=7,x-=7}if(e.have+h>e.nlen+e.ndist){i.msg="invalid bit length repeat",e.mode=hn;break}for(;h--;)e.lens[e.have++]=b}}if(e.mode===hn)break;if(e.lens[256]===0){i.msg="invalid code -- missing end-of-block",e.mode=hn;break}if(e.lenbits=9,v={bits:e.lenbits},w=Th(C8,e.lens,0,e.nlen,e.lencode,0,e.work,v),e.lenbits=v.bits,w){i.msg="invalid literal/lengths set",e.mode=hn;break}if(e.distbits=6,e.distcode=e.distdyn,v={bits:e.distbits},w=Th(v8,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,v),e.distbits=v.bits,w){i.msg="invalid distances set",e.mode=hn;break}if(e.mode=f2,t===l2)break e;case f2:e.mode=h2;case h2:if(o>=6&&l>=258){i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=o,e.hold=c,e.bits=x,cY(i,f),a=i.next_out,r=i.output,l=i.avail_out,s=i.next_in,n=i.input,o=i.avail_in,c=e.hold,x=e.bits,e.mode===Ba&&(e.back=-1);break}for(e.back=0;d=e.lencode[c&(1<<e.lenbits)-1],g=d>>>24,m=d>>>16&255,_=d&65535,!(g<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(m&&!(m&240)){for(I=g,y=m,E=_;d=e.lencode[E+((c&(1<<I+y)-1)>>I)],g=d>>>24,m=d>>>16&255,_=d&65535,!(I+g<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}c>>>=I,x-=I,e.back+=I}if(c>>>=g,x-=g,e.back+=g,e.length=_,m===0){e.mode=X8;break}if(m&32){e.back=-1,e.mode=Ba;break}if(m&64){i.msg="invalid literal/length code",e.mode=hn;break}e.extra=m&15,e.mode=H8;case H8:if(e.extra){for(B=e.extra;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}e.length+=c&(1<<e.extra)-1,c>>>=e.extra,x-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=q8;case q8:for(;d=e.distcode[c&(1<<e.distbits)-1],g=d>>>24,m=d>>>16&255,_=d&65535,!(g<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(!(m&240)){for(I=g,y=m,E=_;d=e.distcode[E+((c&(1<<I+y)-1)>>I)],g=d>>>24,m=d>>>16&255,_=d&65535,!(I+g<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}c>>>=I,x-=I,e.back+=I}if(c>>>=g,x-=g,e.back+=g,m&64){i.msg="invalid distance code",e.mode=hn;break}e.offset=_,e.extra=m&15,e.mode=Y8;case Y8:if(e.extra){for(B=e.extra;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}e.offset+=c&(1<<e.extra)-1,c>>>=e.extra,x-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){i.msg="invalid distance too far back",e.mode=hn;break}e.mode=W8;case W8:if(l===0)break e;if(h=f-l,e.offset>h){if(h=e.offset-h,h>e.whave&&e.sane){i.msg="invalid distance too far back",e.mode=hn;break}h>e.wnext?(h-=e.wnext,A=e.wsize-h):A=e.wnext-h,h>e.length&&(h=e.length),p=e.window}else p=r,A=a-e.offset,h=e.length;h>l&&(h=l),l-=h,e.length-=h;do r[a++]=p[A++];while(--h);e.length===0&&(e.mode=h2);break;case X8:if(l===0)break e;r[a++]=e.length,l--,e.mode=h2;break;case _v:if(e.wrap){for(;x<32;){if(o===0)break e;o--,c|=n[s++]<<x,x+=8}if(f-=l,i.total_out+=f,e.total+=f,e.wrap&4&&f&&(i.adler=e.check=e.flags?Jn(e.check,r,f,a-f):yh(e.check,r,f,a-f)),f=l,e.wrap&4&&(e.flags?c:$8(c))!==e.check){i.msg="incorrect data check",e.mode=hn;break}c=0,x=0}e.mode=K8;case K8:if(e.wrap&&e.flags){for(;x<32;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(e.wrap&4&&c!==(e.total&4294967295)){i.msg="incorrect length check",e.mode=hn;break}c=0,x=0}e.mode=J8;case J8:w=dY;break e;case hn:w=B8;break e;case j8:return S8;case Z8:default:return Lr}return i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=o,e.hold=c,e.bits=x,(e.wsize||f!==i.avail_out&&e.mode<hn&&(e.mode<_v||t!==w8))&&s6(i,i.output,i.next_out,f-i.avail_out),u-=i.avail_in,f-=i.avail_out,i.total_in+=u,i.total_out+=f,e.total+=f,e.wrap&4&&f&&(i.adler=e.check=e.flags?Jn(e.check,r,f,i.next_out-f):yh(e.check,r,f,i.next_out-f)),i.data_type=e.bits+(e.last?64:0)+(e.mode===Ba?128:0)+(e.mode===f2||e.mode===mv?256:0),(u===0&&f===0||t===w8)&&w===z0&&(w=gY),w},vY=i=>{if(V0(i))return Lr;let t=i.state;return t.window&&(t.window=null),i.state=null,z0},wY=(i,t)=>{if(V0(i))return Lr;const e=i.state;return e.wrap&2?(e.head=t,t.done=!1,z0):Lr},BY=(i,t)=>{const e=t.length;let n,r,s;return V0(i)||(n=i.state,n.wrap!==0&&n.mode!==u2)?Lr:n.mode===u2&&(r=1,r=yh(r,t,e,0),r!==n.check)?B8:(s=s6(i,t,e,e),s?(n.mode=j8,S8):(n.havedict=1,z0))};var SY=t6,MY=n6,RY=e6,TY=yY,DY=i6,QY=CY,LY=vY,FY=wY,kY=BY,PY="pako inflate (from Nodeca project)",Sa={inflateReset:SY,inflateReset2:MY,inflateResetKeep:RY,inflateInit:TY,inflateInit2:DY,inflate:QY,inflateEnd:LY,inflateGetHeader:FY,inflateSetDictionary:kY,inflateInfo:PY};function UY(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var NY=UY;const a6=Object.prototype.toString,{Z_NO_FLUSH:OY,Z_FINISH:GY,Z_OK:Dh,Z_STREAM_END:yv,Z_NEED_DICT:bv,Z_STREAM_ERROR:zY,Z_DATA_ERROR:o6,Z_MEM_ERROR:VY}=bh;function Qh(i){this.options=a2.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(i&&i.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m8,this.strm.avail_out=0;let e=Sa.inflateInit2(this.strm,t.windowBits);if(e!==Dh)throw new Error(ox[e]);if(this.header=new NY,Sa.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Rh.string2buf(t.dictionary):a6.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Sa.inflateSetDictionary(this.strm,t.dictionary),e!==Dh)))throw new Error(ox[e])}Qh.prototype.push=function(i,t){const e=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?GY:OY,a6.call(i)==="[object ArrayBuffer]"?e.input=new Uint8Array(i):e.input=i,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),s=Sa.inflate(e,a),s===bv&&r&&(s=Sa.inflateSetDictionary(e,r),s===Dh?s=Sa.inflate(e,a):s===o6&&(s=bv));e.avail_in>0&&s===yv&&e.state.wrap>0&&i[e.next_in]!==0;)Sa.inflateReset(e),s=Sa.inflate(e,a);switch(s){case zY:case o6:case bv:case VY:return this.onEnd(s),this.ended=!0,!1}if(o=e.avail_out,e.next_out&&(e.avail_out===0||s===yv))if(this.options.to==="string"){let l=Rh.utf8border(e.output,e.next_out),c=e.next_out-l,x=Rh.buf2string(e.output,l);e.next_out=c,e.avail_out=n-c,c&&e.output.set(e.output.subarray(l,l+c),0),this.onData(x)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(s===Dh&&o===0)){if(s===yv)return s=Sa.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(e.avail_in===0)break}}return!0},Qh.prototype.onData=function(i){this.chunks.push(i)},Qh.prototype.onEnd=function(i){i===Dh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a2.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function Cv(i,t){const e=new Qh(t);if(e.push(i),e.err)throw e.msg||ox[e.err];return e.result}function HY(i,t){return t=t||{},t.raw=!0,Cv(i,t)}var qY=Qh,YY=Cv,WY=HY,XY=Cv,KY=bh,JY={Inflate:qY,inflate:YY,inflateRaw:WY,ungzip:XY,constants:KY};const{Inflate:vX,inflate:jY,inflateRaw:wX,ungzip:BX}=JY;var c6=jY;class ZY extends Fo{decodeBlock(t){return c6(new Uint8Array(t)).buffer}}const $Y=Object.freeze(Object.defineProperty({__proto__:null,default:ZY},Symbol.toStringTag,{value:"Module"}));class eW extends Fo{decodeBlock(t){const e=new DataView(t),n=[];for(let r=0;r<t.byteLength;++r){let s=e.getInt8(r);if(s<0){const a=e.getUint8(r+1);s=-s;for(let o=0;o<=s;++o)n.push(a);r+=1}else{for(let a=0;a<=s;++a)n.push(e.getUint8(r+a+1));r+=s+1}}return new Uint8Array(n).buffer}}const tW=Object.freeze(Object.defineProperty({__proto__:null,default:eW},Symbol.toStringTag,{value:"Module"}));var l6={exports:{}};(function(i){/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */(function(){var t=function(){var s={};s.defaultNoDataValue=-34027999387901484e22,s.decode=function(u,f){f=f||{};var h=f.encodedMaskData||f.encodedMaskData===null,A=c(u,f.inputOffset||0,h),p=f.noDataValue!==null?f.noDataValue:s.defaultNoDataValue,d=a(A,f.pixelType||Float32Array,f.encodedMaskData,p,f.returnMask),g={width:A.width,height:A.height,pixelData:d.resultPixels,minValue:d.minValue,maxValue:A.pixels.maxValue,noDataValue:p};return d.resultMask&&(g.maskData=d.resultMask),f.returnEncodedMask&&A.mask&&(g.encodedMaskData=A.mask.bitset?A.mask.bitset:null),f.returnFileInfo&&(g.fileInfo=o(A),f.computeUsedBitDepths&&(g.fileInfo.bitDepths=l(A))),g};var a=function(u,f,h,A,p){var d=0,g=u.pixels.numBlocksX,m=u.pixels.numBlocksY,_=Math.floor(u.width/g),I=Math.floor(u.height/m),y=2*u.maxZError,E=Number.MAX_VALUE,b;h=h||(u.mask?u.mask.bitset:null);var w,C;w=new f(u.width*u.height),p&&h&&(C=new Uint8Array(u.width*u.height));for(var v=new Float32Array(_*I),B,S,T=0;T<=m;T++){var Q=T!==m?I:u.height%m;if(Q!==0)for(var M=0;M<=g;M++){var D=M!==g?_:u.width%g;if(D!==0){var U=T*u.width*I+M*_,F=u.width-D,z=u.pixels.blocks[d],H,P,Z;z.encoding<2?(z.encoding===0?H=z.rawData:(x(z.stuffedData,z.bitsPerPixel,z.numValidPixels,z.offset,y,v,u.pixels.maxValue),H=v),P=0):z.encoding===2?Z=0:Z=z.offset;var ce;if(h)for(S=0;S<Q;S++){for(U&7&&(ce=h[U>>3],ce<<=U&7),B=0;B<D;B++)U&7||(ce=h[U>>3]),ce&128?(C&&(C[U]=1),b=z.encoding<2?H[P++]:Z,E=E>b?b:E,w[U++]=b):(C&&(C[U]=0),w[U++]=A),ce<<=1;U+=F}else if(z.encoding<2)for(S=0;S<Q;S++){for(B=0;B<D;B++)b=H[P++],E=E>b?b:E,w[U++]=b;U+=F}else for(E=E>Z?Z:E,S=0;S<Q;S++){for(B=0;B<D;B++)w[U++]=Z;U+=F}if(z.encoding===1&&P!==z.numValidPixels)throw"Block and Mask do not match";d++}}}return{resultPixels:w,resultMask:C,minValue:E}},o=function(u){return{fileIdentifierString:u.fileIdentifierString,fileVersion:u.fileVersion,imageType:u.imageType,height:u.height,width:u.width,maxZError:u.maxZError,eofOffset:u.eofOffset,mask:u.mask?{numBlocksX:u.mask.numBlocksX,numBlocksY:u.mask.numBlocksY,numBytes:u.mask.numBytes,maxValue:u.mask.maxValue}:null,pixels:{numBlocksX:u.pixels.numBlocksX,numBlocksY:u.pixels.numBlocksY,numBytes:u.pixels.numBytes,maxValue:u.pixels.maxValue,noDataValue:u.noDataValue}}},l=function(u){for(var f=u.pixels.numBlocksX*u.pixels.numBlocksY,h={},A=0;A<f;A++){var p=u.pixels.blocks[A];p.encoding===0?h.float32=!0:p.encoding===1?h[p.bitsPerPixel]=!0:h[0]=!0}return Object.keys(h)},c=function(u,f,h){var A={},p=new Uint8Array(u,f,10);if(A.fileIdentifierString=String.fromCharCode.apply(null,p),A.fileIdentifierString.trim()!=="CntZImage")throw"Unexpected file identifier string: "+A.fileIdentifierString;f+=10;var d=new DataView(u,f,24);if(A.fileVersion=d.getInt32(0,!0),A.imageType=d.getInt32(4,!0),A.height=d.getUint32(8,!0),A.width=d.getUint32(12,!0),A.maxZError=d.getFloat64(16,!0),f+=24,!h)if(d=new DataView(u,f,16),A.mask={},A.mask.numBlocksY=d.getUint32(0,!0),A.mask.numBlocksX=d.getUint32(4,!0),A.mask.numBytes=d.getUint32(8,!0),A.mask.maxValue=d.getFloat32(12,!0),f+=16,A.mask.numBytes>0){var g=new Uint8Array(Math.ceil(A.width*A.height/8));d=new DataView(u,f,A.mask.numBytes);var m=d.getInt16(0,!0),_=2,I=0;do{if(m>0)for(;m--;)g[I++]=d.getUint8(_++);else{var y=d.getUint8(_++);for(m=-m;m--;)g[I++]=y}m=d.getInt16(_,!0),_+=2}while(_<A.mask.numBytes);if(m!==-32768||I<g.length)throw"Unexpected end of mask RLE encoding";A.mask.bitset=g,f+=A.mask.numBytes}else A.mask.numBytes|A.mask.numBlocksY|A.mask.maxValue||(A.mask.bitset=new Uint8Array(Math.ceil(A.width*A.height/8)));d=new DataView(u,f,16),A.pixels={},A.pixels.numBlocksY=d.getUint32(0,!0),A.pixels.numBlocksX=d.getUint32(4,!0),A.pixels.numBytes=d.getUint32(8,!0),A.pixels.maxValue=d.getFloat32(12,!0),f+=16;var E=A.pixels.numBlocksX,b=A.pixels.numBlocksY,w=E+(A.width%E>0?1:0),C=b+(A.height%b>0?1:0);A.pixels.blocks=new Array(w*C);for(var v=0,B=0;B<C;B++)for(var S=0;S<w;S++){var T=0,Q=u.byteLength-f;d=new DataView(u,f,Math.min(10,Q));var M={};A.pixels.blocks[v++]=M;var D=d.getUint8(0);if(T++,M.encoding=D&63,M.encoding>3)throw"Invalid block encoding ("+M.encoding+")";if(M.encoding===2){f++;continue}if(D!==0&&D!==2){if(D>>=6,M.offsetType=D,D===2)M.offset=d.getInt8(1),T++;else if(D===1)M.offset=d.getInt16(1,!0),T+=2;else if(D===0)M.offset=d.getFloat32(1,!0),T+=4;else throw"Invalid block offset type";if(M.encoding===1)if(D=d.getUint8(T),T++,M.bitsPerPixel=D&63,D>>=6,M.numValidPixelsType=D,D===2)M.numValidPixels=d.getUint8(T),T++;else if(D===1)M.numValidPixels=d.getUint16(T,!0),T+=2;else if(D===0)M.numValidPixels=d.getUint32(T,!0),T+=4;else throw"Invalid valid pixel count type"}if(f+=T,M.encoding!==3){var U,F;if(M.encoding===0){var z=(A.pixels.numBytes-1)/4;if(z!==Math.floor(z))throw"uncompressed block has invalid length";U=new ArrayBuffer(z*4),F=new Uint8Array(U),F.set(new Uint8Array(u,f,z*4));var H=new Float32Array(U);M.rawData=H,f+=z*4}else if(M.encoding===1){var P=Math.ceil(M.numValidPixels*M.bitsPerPixel/8),Z=Math.ceil(P/4);U=new ArrayBuffer(Z*4),F=new Uint8Array(U),F.set(new Uint8Array(u,f,P)),M.stuffedData=new Uint32Array(U),f+=P}}}return A.eofOffset=f,A},x=function(u,f,h,A,p,d,g){var m=(1<<f)-1,_=0,I,y=0,E,b,w=Math.ceil((g-A)/p),C=u.length*4-Math.ceil(f*h/8);for(u[u.length-1]<<=8*C,I=0;I<h;I++){if(y===0&&(b=u[_++],y=32),y>=f)E=b>>>y-f&m,y-=f;else{var v=f-y;E=(b&m)<<v&m,b=u[_++],y=32-v,E+=b>>>y}d[I]=E<w?A+E*p:g}return d};return s}(),e=function(){var s={unstuff:function(c,x,u,f,h,A,p,d){var g=(1<<u)-1,m=0,_,I=0,y,E,b,w,C=c.length*4-Math.ceil(u*f/8);if(c[c.length-1]<<=8*C,h)for(_=0;_<f;_++)I===0&&(E=c[m++],I=32),I>=u?(y=E>>>I-u&g,I-=u):(b=u-I,y=(E&g)<<b&g,E=c[m++],I=32-b,y+=E>>>I),x[_]=h[y];else for(w=Math.ceil((d-A)/p),_=0;_<f;_++)I===0&&(E=c[m++],I=32),I>=u?(y=E>>>I-u&g,I-=u):(b=u-I,y=(E&g)<<b&g,E=c[m++],I=32-b,y+=E>>>I),x[_]=y<w?A+y*p:d},unstuffLUT:function(c,x,u,f,h,A){var p=(1<<x)-1,d=0,g=0,m=0,_=0,I=0,y,E=[],b=c.length*4-Math.ceil(x*u/8);c[c.length-1]<<=8*b;var w=Math.ceil((A-f)/h);for(g=0;g<u;g++)_===0&&(y=c[d++],_=32),_>=x?(I=y>>>_-x&p,_-=x):(m=x-_,I=(y&p)<<m&p,y=c[d++],_=32-m,I+=y>>>_),E[g]=I<w?f+I*h:A;return E.unshift(f),E},unstuff2:function(c,x,u,f,h,A,p,d){var g=(1<<u)-1,m=0,_,I=0,y=0,E,b,w;if(h)for(_=0;_<f;_++)I===0&&(b=c[m++],I=32,y=0),I>=u?(E=b>>>y&g,I-=u,y+=u):(w=u-I,E=b>>>y&g,b=c[m++],I=32-w,E|=(b&(1<<w)-1)<<u-w,y=w),x[_]=h[E];else{var C=Math.ceil((d-A)/p);for(_=0;_<f;_++)I===0&&(b=c[m++],I=32,y=0),I>=u?(E=b>>>y&g,I-=u,y+=u):(w=u-I,E=b>>>y&g,b=c[m++],I=32-w,E|=(b&(1<<w)-1)<<u-w,y=w),x[_]=E<C?A+E*p:d}return x},unstuffLUT2:function(c,x,u,f,h,A){var p=(1<<x)-1,d=0,g=0,m=0,_=0,I=0,y=0,E,b=[],w=Math.ceil((A-f)/h);for(g=0;g<u;g++)_===0&&(E=c[d++],_=32,y=0),_>=x?(I=E>>>y&p,_-=x,y+=x):(m=x-_,I=E>>>y&p,E=c[d++],_=32-m,I|=(E&(1<<m)-1)<<x-m,y=m),b[g]=I<w?f+I*h:A;return b.unshift(f),b},originalUnstuff:function(c,x,u,f){var h=(1<<u)-1,A=0,p,d=0,g,m,_,I=c.length*4-Math.ceil(u*f/8);for(c[c.length-1]<<=8*I,p=0;p<f;p++)d===0&&(m=c[A++],d=32),d>=u?(g=m>>>d-u&h,d-=u):(_=u-d,g=(m&h)<<_&h,m=c[A++],d=32-_,g+=m>>>d),x[p]=g;return x},originalUnstuff2:function(c,x,u,f){var h=(1<<u)-1,A=0,p,d=0,g=0,m,_,I;for(p=0;p<f;p++)d===0&&(_=c[A++],d=32,g=0),d>=u?(m=_>>>g&h,d-=u,g+=u):(I=u-d,m=_>>>g&h,_=c[A++],d=32-I,m|=(_&(1<<I)-1)<<u-I,g=I),x[p]=m;return x}},a={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(c){for(var x=65535,u=65535,f=c.length,h=Math.floor(f/2),A=0;h;){var p=h>=359?359:h;h-=p;do x+=c[A++]<<8,u+=x+=c[A++];while(--p);x=(x&65535)+(x>>>16),u=(u&65535)+(u>>>16)}return f&1&&(u+=x+=c[A]<<8),x=(x&65535)+(x>>>16),u=(u&65535)+(u>>>16),(u<<16|x)>>>0},readHeaderInfo:function(c,x){var u=x.ptr,f=new Uint8Array(c,u,6),h={};if(h.fileIdentifierString=String.fromCharCode.apply(null,f),h.fileIdentifierString.lastIndexOf("Lerc2",0)!==0)throw"Unexpected file identifier string (expect Lerc2 ): "+h.fileIdentifierString;u+=6;var A=new DataView(c,u,8),p=A.getInt32(0,!0);h.fileVersion=p,u+=4,p>=3&&(h.checksum=A.getUint32(4,!0),u+=4),A=new DataView(c,u,12),h.height=A.getUint32(0,!0),h.width=A.getUint32(4,!0),u+=8,p>=4?(h.numDims=A.getUint32(8,!0),u+=4):h.numDims=1,A=new DataView(c,u,40),h.numValidPixel=A.getUint32(0,!0),h.microBlockSize=A.getInt32(4,!0),h.blobSize=A.getInt32(8,!0),h.imageType=A.getInt32(12,!0),h.maxZError=A.getFloat64(16,!0),h.zMin=A.getFloat64(24,!0),h.zMax=A.getFloat64(32,!0),u+=40,x.headerInfo=h,x.ptr=u;var d,g;if(p>=3&&(g=p>=4?52:48,d=this.computeChecksumFletcher32(new Uint8Array(c,u-g,h.blobSize-14)),d!==h.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(c,x){var u=x.headerInfo,f=this.getDataTypeArray(u.imageType),h=u.numDims*this.getDataTypeSize(u.imageType),A=this.readSubArray(c,x.ptr,f,h),p=this.readSubArray(c,x.ptr+h,f,h);x.ptr+=2*h;var d,g=!0;for(d=0;d<u.numDims;d++)if(A[d]!==p[d]){g=!1;break}return u.minValues=A,u.maxValues=p,g},readSubArray:function(c,x,u,f){var h;if(u===Uint8Array)h=new Uint8Array(c,x,f);else{var A=new ArrayBuffer(f),p=new Uint8Array(A);p.set(new Uint8Array(c,x,f)),h=new u(A)}return h},readMask:function(c,x){var u=x.ptr,f=x.headerInfo,h=f.width*f.height,A=f.numValidPixel,p=new DataView(c,u,4),d={};if(d.numBytes=p.getUint32(0,!0),u+=4,(A===0||h===A)&&d.numBytes!==0)throw"invalid mask";var g,m;if(A===0)g=new Uint8Array(Math.ceil(h/8)),d.bitset=g,m=new Uint8Array(h),x.pixels.resultMask=m,u+=d.numBytes;else if(d.numBytes>0){g=new Uint8Array(Math.ceil(h/8)),p=new DataView(c,u,d.numBytes);var _=p.getInt16(0,!0),I=2,y=0,E=0;do{if(_>0)for(;_--;)g[y++]=p.getUint8(I++);else for(E=p.getUint8(I++),_=-_;_--;)g[y++]=E;_=p.getInt16(I,!0),I+=2}while(I<d.numBytes);if(_!==-32768||y<g.length)throw"Unexpected end of mask RLE encoding";m=new Uint8Array(h);var b=0,w=0;for(w=0;w<h;w++)w&7?(b=g[w>>3],b<<=w&7):b=g[w>>3],b&128&&(m[w]=1);x.pixels.resultMask=m,d.bitset=g,u+=d.numBytes}return x.ptr=u,x.mask=d,!0},readDataOneSweep:function(c,x,u,f){var h=x.ptr,A=x.headerInfo,p=A.numDims,d=A.width*A.height,g=A.imageType,m=A.numValidPixel*a.getDataTypeSize(g)*p,_,I=x.pixels.resultMask;if(u===Uint8Array)_=new Uint8Array(c,h,m);else{var y=new ArrayBuffer(m),E=new Uint8Array(y);E.set(new Uint8Array(c,h,m)),_=new u(y)}if(_.length===d*p)f?x.pixels.resultPixels=a.swapDimensionOrder(_,d,p,u,!0):x.pixels.resultPixels=_;else{x.pixels.resultPixels=new u(d*p);var b=0,w=0,C=0,v=0;if(p>1){if(f){for(w=0;w<d;w++)if(I[w])for(v=w,C=0;C<p;C++,v+=d)x.pixels.resultPixels[v]=_[b++]}else for(w=0;w<d;w++)if(I[w])for(v=w*p,C=0;C<p;C++)x.pixels.resultPixels[v+C]=_[b++]}else for(w=0;w<d;w++)I[w]&&(x.pixels.resultPixels[w]=_[b++])}return h+=m,x.ptr=h,!0},readHuffmanTree:function(c,x){var u=this.HUFFMAN_LUT_BITS_MAX,f=new DataView(c,x.ptr,16);x.ptr+=16;var h=f.getInt32(0,!0);if(h<2)throw"unsupported Huffman version";var A=f.getInt32(4,!0),p=f.getInt32(8,!0),d=f.getInt32(12,!0);if(p>=d)return!1;var g=new Uint32Array(d-p);a.decodeBits(c,x,g);var m=[],_,I,y,E;for(_=p;_<d;_++)I=_-(_<A?0:A),m[I]={first:g[_-p],second:null};var b=c.byteLength-x.ptr,w=Math.ceil(b/4),C=new ArrayBuffer(w*4),v=new Uint8Array(C);v.set(new Uint8Array(c,x.ptr,b));var B=new Uint32Array(C),S=0,T,Q=0;for(T=B[0],_=p;_<d;_++)I=_-(_<A?0:A),E=m[I].first,E>0&&(m[I].second=T<<S>>>32-E,32-S>=E?(S+=E,S===32&&(S=0,Q++,T=B[Q])):(S+=E-32,Q++,T=B[Q],m[I].second|=T>>>32-S));var M=0,D=0,U=new o;for(_=0;_<m.length;_++)m[_]!==void 0&&(M=Math.max(M,m[_].first));M>=u?D=u:D=M;var F=[],z,H,P,Z,ce,G;for(_=p;_<d;_++)if(I=_-(_<A?0:A),E=m[I].first,E>0)if(z=[E,I],E<=D)for(H=m[I].second<<D-E,P=1<<D-E,y=0;y<P;y++)F[H|y]=z;else for(H=m[I].second,G=U,Z=E-1;Z>=0;Z--)ce=H>>>Z&1,ce?(G.right||(G.right=new o),G=G.right):(G.left||(G.left=new o),G=G.left),Z===0&&!G.val&&(G.val=z[1]);return{decodeLut:F,numBitsLUTQick:D,numBitsLUT:M,tree:U,stuffedData:B,srcPtr:Q,bitPos:S}},readHuffman:function(c,x,u,f){var h=x.headerInfo,A=h.numDims,p=x.headerInfo.height,d=x.headerInfo.width,g=d*p,m=this.readHuffmanTree(c,x),_=m.decodeLut,I=m.tree,y=m.stuffedData,E=m.srcPtr,b=m.bitPos,w=m.numBitsLUTQick,C=m.numBitsLUT,v=x.headerInfo.imageType===0?128:0,B,S,T,Q=x.pixels.resultMask,M,D,U,F,z,H,P,Z=0;b>0&&(E++,b=0);var ce=y[E],G=x.encodeMode===1,O=new u(g*A),j=O,J;if(A<2||G){for(J=0;J<A;J++)if(A>1&&(j=new u(O.buffer,g*J,g),Z=0),x.headerInfo.numValidPixel===d*p)for(H=0,F=0;F<p;F++)for(z=0;z<d;z++,H++){if(S=0,M=ce<<b>>>32-w,D=M,32-b<w&&(M|=y[E+1]>>>64-b-w,D=M),_[D])S=_[D][1],b+=_[D][0];else for(M=ce<<b>>>32-C,D=M,32-b<C&&(M|=y[E+1]>>>64-b-C,D=M),B=I,P=0;P<C;P++)if(U=M>>>C-P-1&1,B=U?B.right:B.left,!(B.left||B.right)){S=B.val,b=b+P+1;break}b>=32&&(b-=32,E++,ce=y[E]),T=S-v,G?(z>0?T+=Z:F>0?T+=j[H-d]:T+=Z,T&=255,j[H]=T,Z=T):j[H]=T}else for(H=0,F=0;F<p;F++)for(z=0;z<d;z++,H++)if(Q[H]){if(S=0,M=ce<<b>>>32-w,D=M,32-b<w&&(M|=y[E+1]>>>64-b-w,D=M),_[D])S=_[D][1],b+=_[D][0];else for(M=ce<<b>>>32-C,D=M,32-b<C&&(M|=y[E+1]>>>64-b-C,D=M),B=I,P=0;P<C;P++)if(U=M>>>C-P-1&1,B=U?B.right:B.left,!(B.left||B.right)){S=B.val,b=b+P+1;break}b>=32&&(b-=32,E++,ce=y[E]),T=S-v,G?(z>0&&Q[H-1]?T+=Z:F>0&&Q[H-d]?T+=j[H-d]:T+=Z,T&=255,j[H]=T,Z=T):j[H]=T}}else for(H=0,F=0;F<p;F++)for(z=0;z<d;z++)if(H=F*d+z,!Q||Q[H])for(J=0;J<A;J++,H+=g){if(S=0,M=ce<<b>>>32-w,D=M,32-b<w&&(M|=y[E+1]>>>64-b-w,D=M),_[D])S=_[D][1],b+=_[D][0];else for(M=ce<<b>>>32-C,D=M,32-b<C&&(M|=y[E+1]>>>64-b-C,D=M),B=I,P=0;P<C;P++)if(U=M>>>C-P-1&1,B=U?B.right:B.left,!(B.left||B.right)){S=B.val,b=b+P+1;break}b>=32&&(b-=32,E++,ce=y[E]),T=S-v,j[H]=T}x.ptr=x.ptr+(E+1)*4+(b>0?4:0),x.pixels.resultPixels=O,A>1&&!f&&(x.pixels.resultPixels=a.swapDimensionOrder(O,g,A,u))},decodeBits:function(c,x,u,f,h){{var A=x.headerInfo,p=A.fileVersion,d=0,g=c.byteLength-x.ptr>=5?5:c.byteLength-x.ptr,m=new DataView(c,x.ptr,g),_=m.getUint8(0);d++;var I=_>>6,y=I===0?4:3-I,E=(_&32)>0,b=_&31,w=0;if(y===1)w=m.getUint8(d),d++;else if(y===2)w=m.getUint16(d,!0),d+=2;else if(y===4)w=m.getUint32(d,!0),d+=4;else throw"Invalid valid pixel count type";var C=2*A.maxZError,v,B,S,T,Q,M,D,U,F,z=A.numDims>1?A.maxValues[h]:A.zMax;if(E){for(x.counter.lut++,U=m.getUint8(d),d++,T=Math.ceil((U-1)*b/8),Q=Math.ceil(T/4),B=new ArrayBuffer(Q*4),S=new Uint8Array(B),x.ptr+=d,S.set(new Uint8Array(c,x.ptr,T)),D=new Uint32Array(B),x.ptr+=T,F=0;U-1>>>F;)F++;T=Math.ceil(w*F/8),Q=Math.ceil(T/4),B=new ArrayBuffer(Q*4),S=new Uint8Array(B),S.set(new Uint8Array(c,x.ptr,T)),v=new Uint32Array(B),x.ptr+=T,p>=3?M=s.unstuffLUT2(D,b,U-1,f,C,z):M=s.unstuffLUT(D,b,U-1,f,C,z),p>=3?s.unstuff2(v,u,F,w,M):s.unstuff(v,u,F,w,M)}else x.counter.bitstuffer++,F=b,x.ptr+=d,F>0&&(T=Math.ceil(w*F/8),Q=Math.ceil(T/4),B=new ArrayBuffer(Q*4),S=new Uint8Array(B),S.set(new Uint8Array(c,x.ptr,T)),v=new Uint32Array(B),x.ptr+=T,p>=3?f==null?s.originalUnstuff2(v,u,F,w):s.unstuff2(v,u,F,w,!1,f,C,z):f==null?s.originalUnstuff(v,u,F,w):s.unstuff(v,u,F,w,!1,f,C,z))}},readTiles:function(c,x,u,f){var h=x.headerInfo,A=h.width,p=h.height,d=A*p,g=h.microBlockSize,m=h.imageType,_=a.getDataTypeSize(m),I=Math.ceil(A/g),y=Math.ceil(p/g);x.pixels.numBlocksY=y,x.pixels.numBlocksX=I,x.pixels.ptr=0;var E=0,b=0,w=0,C=0,v=0,B=0,S=0,T=0,Q=0,M=0,D=0,U=0,F=0,z=0,H=0,P=0,Z,ce,G,O,j,J,le=new u(g*g),he=p%g||g,Ee=A%g||g,ae,Se,ft=h.numDims,N,Lt=x.pixels.resultMask,Oe=x.pixels.resultPixels,Ne=h.fileVersion,Be=Ne>=5?14:15,Pe,Te=h.zMax,k;for(w=0;w<y;w++)for(v=w!==y-1?g:he,C=0;C<I;C++)for(B=C!==I-1?g:Ee,D=w*A*g+C*g,U=A-B,N=0;N<ft;N++){if(ft>1?(k=Oe,D=w*A*g+C*g,Oe=new u(x.pixels.resultPixels.buffer,d*N*_,d),Te=h.maxValues[N]):k=null,S=c.byteLength-x.ptr,Z=new DataView(c,x.ptr,Math.min(10,S)),ce={},P=0,T=Z.getUint8(0),P++,Pe=h.fileVersion>=5?T&4:0,Q=T>>6&255,M=T>>2&Be,M!==(C*g>>3&Be)||Pe&&N===0)throw"integrity issue";if(J=T&3,J>3)throw x.ptr+=P,"Invalid block encoding ("+J+")";if(J===2){if(Pe)if(Lt)for(E=0;E<v;E++)for(b=0;b<B;b++)Lt[D]&&(Oe[D]=k[D]),D++;else for(E=0;E<v;E++)for(b=0;b<B;b++)Oe[D]=k[D],D++;x.counter.constant++,x.ptr+=P;continue}else if(J===0){if(Pe)throw"integrity issue";if(x.counter.uncompressed++,x.ptr+=P,F=v*B*_,z=c.byteLength-x.ptr,F=F<z?F:z,G=new ArrayBuffer(F%_===0?F:F+_-F%_),O=new Uint8Array(G),O.set(new Uint8Array(c,x.ptr,F)),j=new u(G),H=0,Lt)for(E=0;E<v;E++){for(b=0;b<B;b++)Lt[D]&&(Oe[D]=j[H++]),D++;D+=U}else for(E=0;E<v;E++){for(b=0;b<B;b++)Oe[D++]=j[H++];D+=U}x.ptr+=H*_}else if(ae=a.getDataTypeUsed(Pe&&m<6?4:m,Q),Se=a.getOnePixel(ce,P,ae,Z),P+=a.getDataTypeSize(ae),J===3)if(x.ptr+=P,x.counter.constantoffset++,Lt)for(E=0;E<v;E++){for(b=0;b<B;b++)Lt[D]&&(Oe[D]=Pe?Math.min(Te,k[D]+Se):Se),D++;D+=U}else for(E=0;E<v;E++){for(b=0;b<B;b++)Oe[D]=Pe?Math.min(Te,k[D]+Se):Se,D++;D+=U}else if(x.ptr+=P,a.decodeBits(c,x,le,Se,N),P=0,Pe)if(Lt)for(E=0;E<v;E++){for(b=0;b<B;b++)Lt[D]&&(Oe[D]=le[P++]+k[D]),D++;D+=U}else for(E=0;E<v;E++){for(b=0;b<B;b++)Oe[D]=le[P++]+k[D],D++;D+=U}else if(Lt)for(E=0;E<v;E++){for(b=0;b<B;b++)Lt[D]&&(Oe[D]=le[P++]),D++;D+=U}else for(E=0;E<v;E++){for(b=0;b<B;b++)Oe[D++]=le[P++];D+=U}}ft>1&&!f&&(x.pixels.resultPixels=a.swapDimensionOrder(x.pixels.resultPixels,d,ft,u))},formatFileInfo:function(c){return{fileIdentifierString:c.headerInfo.fileIdentifierString,fileVersion:c.headerInfo.fileVersion,imageType:c.headerInfo.imageType,height:c.headerInfo.height,width:c.headerInfo.width,numValidPixel:c.headerInfo.numValidPixel,microBlockSize:c.headerInfo.microBlockSize,blobSize:c.headerInfo.blobSize,maxZError:c.headerInfo.maxZError,pixelType:a.getPixelType(c.headerInfo.imageType),eofOffset:c.eofOffset,mask:c.mask?{numBytes:c.mask.numBytes}:null,pixels:{numBlocksX:c.pixels.numBlocksX,numBlocksY:c.pixels.numBlocksY,maxValue:c.headerInfo.zMax,minValue:c.headerInfo.zMin,noDataValue:c.noDataValue}}},constructConstantSurface:function(c,x){var u=c.headerInfo.zMax,f=c.headerInfo.zMin,h=c.headerInfo.maxValues,A=c.headerInfo.numDims,p=c.headerInfo.height*c.headerInfo.width,d=0,g=0,m=0,_=c.pixels.resultMask,I=c.pixels.resultPixels;if(_)if(A>1){if(x)for(d=0;d<A;d++)for(m=d*p,u=h[d],g=0;g<p;g++)_[g]&&(I[m+g]=u);else for(g=0;g<p;g++)if(_[g])for(m=g*A,d=0;d<A;d++)I[m+A]=h[d]}else for(g=0;g<p;g++)_[g]&&(I[g]=u);else if(A>1&&f!==u)if(x)for(d=0;d<A;d++)for(m=d*p,u=h[d],g=0;g<p;g++)I[m+g]=u;else for(g=0;g<p;g++)for(m=g*A,d=0;d<A;d++)I[m+d]=h[d];else for(g=0;g<p*A;g++)I[g]=u},getDataTypeArray:function(c){var x;switch(c){case 0:x=Int8Array;break;case 1:x=Uint8Array;break;case 2:x=Int16Array;break;case 3:x=Uint16Array;break;case 4:x=Int32Array;break;case 5:x=Uint32Array;break;case 6:x=Float32Array;break;case 7:x=Float64Array;break;default:x=Float32Array}return x},getPixelType:function(c){var x;switch(c){case 0:x="S8";break;case 1:x="U8";break;case 2:x="S16";break;case 3:x="U16";break;case 4:x="S32";break;case 5:x="U32";break;case 6:x="F32";break;case 7:x="F64";break;default:x="F32"}return x},isValidPixelValue:function(c,x){if(x==null)return!1;var u;switch(c){case 0:u=x>=-128&&x<=127;break;case 1:u=x>=0&&x<=255;break;case 2:u=x>=-32768&&x<=32767;break;case 3:u=x>=0&&x<=65536;break;case 4:u=x>=-2147483648&&x<=2147483647;break;case 5:u=x>=0&&x<=4294967296;break;case 6:u=x>=-34027999387901484e22&&x<=34027999387901484e22;break;case 7:u=x>=-17976931348623157e292&&x<=17976931348623157e292;break;default:u=!1}return u},getDataTypeSize:function(c){var x=0;switch(c){case 0:case 1:x=1;break;case 2:case 3:x=2;break;case 4:case 5:case 6:x=4;break;case 7:x=8;break;default:x=c}return x},getDataTypeUsed:function(c,x){var u=c;switch(c){case 2:case 4:u=c-x;break;case 3:case 5:u=c-2*x;break;case 6:x===0?u=c:x===1?u=2:u=1;break;case 7:x===0?u=c:u=c-2*x+1;break;default:u=c;break}return u},getOnePixel:function(c,x,u,f){var h=0;switch(u){case 0:h=f.getInt8(x);break;case 1:h=f.getUint8(x);break;case 2:h=f.getInt16(x,!0);break;case 3:h=f.getUint16(x,!0);break;case 4:h=f.getInt32(x,!0);break;case 5:h=f.getUInt32(x,!0);break;case 6:h=f.getFloat32(x,!0);break;case 7:h=f.getFloat64(x,!0);break;default:throw"the decoder does not understand this pixel type"}return h},swapDimensionOrder:function(c,x,u,f,h){var A=0,p=0,d=0,g=0,m=c;if(u>1)if(m=new f(x*u),h)for(A=0;A<x;A++)for(g=A,d=0;d<u;d++,g+=x)m[g]=c[p++];else for(A=0;A<x;A++)for(g=A,d=0;d<u;d++,g+=x)m[p++]=c[g];return m}},o=function(c,x,u){this.val=c,this.left=x,this.right=u},l={decode:function(c,x){x=x||{};var u=x.noDataValue,f=0,h={};if(h.ptr=x.inputOffset||0,h.pixels={},!!a.readHeaderInfo(c,h)){var A=h.headerInfo,p=A.fileVersion,d=a.getDataTypeArray(A.imageType);if(p>5)throw"unsupported lerc version 2."+p;a.readMask(c,h),A.numValidPixel!==A.width*A.height&&!h.pixels.resultMask&&(h.pixels.resultMask=x.maskData);var g=A.width*A.height;h.pixels.resultPixels=new d(g*A.numDims),h.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var m=!x.returnPixelInterleavedDims;if(A.numValidPixel!==0)if(A.zMax===A.zMin)a.constructConstantSurface(h,m);else if(p>=4&&a.checkMinMaxRanges(c,h))a.constructConstantSurface(h,m);else{var _=new DataView(c,h.ptr,2),I=_.getUint8(0);if(h.ptr++,I)a.readDataOneSweep(c,h,d,m);else if(p>1&&A.imageType<=1&&Math.abs(A.maxZError-.5)<1e-5){var y=_.getUint8(1);if(h.ptr++,h.encodeMode=y,y>2||p<4&&y>1)throw"Invalid Huffman flag "+y;y?a.readHuffman(c,h,d,m):a.readTiles(c,h,d,m)}else a.readTiles(c,h,d,m)}h.eofOffset=h.ptr;var E;x.inputOffset?(E=h.headerInfo.blobSize+x.inputOffset-h.ptr,Math.abs(E)>=1&&(h.eofOffset=x.inputOffset+h.headerInfo.blobSize)):(E=h.headerInfo.blobSize-h.ptr,Math.abs(E)>=1&&(h.eofOffset=h.headerInfo.blobSize));var b={width:A.width,height:A.height,pixelData:h.pixels.resultPixels,minValue:A.zMin,maxValue:A.zMax,validPixelCount:A.numValidPixel,dimCount:A.numDims,dimStats:{minValues:A.minValues,maxValues:A.maxValues},maskData:h.pixels.resultMask};if(h.pixels.resultMask&&a.isValidPixelValue(A.imageType,u)){var w=h.pixels.resultMask;for(f=0;f<g;f++)w[f]||(b.pixelData[f]=u);b.noDataValue=u}return h.noDataValue=u,x.returnFileInfo&&(b.fileInfo=a.formatFileInfo(h)),b}},getBandCount:function(c){var x=0,u=0,f={};for(f.ptr=0,f.pixels={};u<c.byteLength-58;)a.readHeaderInfo(c,f),u+=f.headerInfo.blobSize,x++,f.ptr=u;return x}};return l}(),n=function(){var s=new ArrayBuffer(4),a=new Uint8Array(s),o=new Uint32Array(s);return o[0]=1,a[0]===1}(),r={decode:function(s,a){if(!n)throw"Big endian system is not supported.";a=a||{};var o=a.inputOffset||0,l=new Uint8Array(s,o,10),c=String.fromCharCode.apply(null,l),x,u;if(c.trim()==="CntZImage")x=t,u=1;else if(c.substring(0,5)==="Lerc2")x=e,u=2;else throw"Unexpected file identifier string: "+c;for(var f=0,h=s.byteLength-10,A,p=[],d,g,m={width:0,height:0,pixels:[],pixelType:a.pixelType,mask:null,statistics:[]},_=0;o<h;){var I=x.decode(s,{inputOffset:o,encodedMaskData:A,maskData:g,returnMask:f===0,returnEncodedMask:f===0,returnFileInfo:!0,returnPixelInterleavedDims:a.returnPixelInterleavedDims,pixelType:a.pixelType||null,noDataValue:a.noDataValue||null});o=I.fileInfo.eofOffset,g=I.maskData,f===0&&(A=I.encodedMaskData,m.width=I.width,m.height=I.height,m.dimCount=I.dimCount||1,m.pixelType=I.pixelType||I.fileInfo.pixelType,m.mask=g),u>1&&(g&&p.push(g),I.fileInfo.mask&&I.fileInfo.mask.numBytes>0&&_++),f++,m.pixels.push(I.pixelData),m.statistics.push({minValue:I.minValue,maxValue:I.maxValue,noDataValue:I.noDataValue,dimStats:I.dimStats})}var y,E,b;if(u>1&&_>1){for(b=m.width*m.height,m.bandMasks=p,g=new Uint8Array(b),g.set(p[0]),y=1;y<p.length;y++)for(d=p[y],E=0;E<b;E++)g[E]=g[E]&d[E];m.maskData=g}return m}};i.exports?i.exports=r:this.Lerc=r})()})(l6);var nW=l6.exports;const iW=kh(nW);let Lh,Ma,vv;const wv={env:{emscripten_notify_memory_growth:function(i){vv=new Uint8Array(Ma.exports.memory.buffer)}}};class rW{init(){return Lh||(typeof fetch<"u"?Lh=fetch("data:application/wasm;base64,"+x6).then(t=>t.arrayBuffer()).then(t=>WebAssembly.instantiate(t,wv)).then(this._init):Lh=WebAssembly.instantiate(Buffer.from(x6,"base64"),wv).then(this._init),Lh)}_init(t){Ma=t.instance,wv.env.emscripten_notify_memory_growth(0)}decode(t,e=0){if(!Ma)throw new Error("ZSTDDecoder: Await .init() before decoding.");const n=t.byteLength,r=Ma.exports.malloc(n);vv.set(t,r),e=e||Number(Ma.exports.ZSTD_findDecompressedSize(r,n));const s=Ma.exports.malloc(e),a=Ma.exports.ZSTD_decompress(s,e,r,n),o=vv.slice(s,s+a);return Ma.exports.free(r),Ma.exports.free(s),o}}const x6="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",u6=new rW;class sW extends Fo{constructor(t){super(),this.planarConfiguration=typeof t.PlanarConfiguration<"u"?t.PlanarConfiguration:1,this.samplesPerPixel=typeof t.SamplesPerPixel<"u"?t.SamplesPerPixel:1,this.addCompression=t.LercParameters[W6.AddCompression]}decodeBlock(t){switch(this.addCompression){case R2.None:break;case R2.Deflate:t=c6(new Uint8Array(t)).buffer;break;case R2.Zstandard:t=u6.decode(new Uint8Array(t)).buffer;break;default:throw new Error(`Unsupported LERC additional compression method identifier: ${this.addCompression}`)}return iW.decode(t,{returnPixelInterleavedDims:this.planarConfiguration===1}).pixels[0].buffer}}const aW=Object.freeze(Object.defineProperty({__proto__:null,default:sW,zstd:u6},Symbol.toStringTag,{value:"Module"}));class oW extends Fo{constructor(){if(super(),typeof createImageBitmap>"u")throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if(typeof document>"u"&&typeof OffscreenCanvas>"u")throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available")}async decode(t,e){const n=new Blob([e]),r=await createImageBitmap(n);let s;typeof document<"u"?(s=document.createElement("canvas"),s.width=r.width,s.height=r.height):s=new OffscreenCanvas(r.width,r.height);const a=s.getContext("2d");return a.drawImage(r,0,0),a.getImageData(0,0,r.width,r.height).data.buffer}}const cW=Object.freeze(Object.defineProperty({__proto__:null,default:oW},Symbol.toStringTag,{value:"Module"})),lW=Worker;function xW(){const i='function A(A,e,t,i,r,I,g){try{var n=A[I](g),a=n.value}catch(A){return void t(A)}n.done?e(a):Promise.resolve(a).then(i,r)}function e(e){return function(){var t=this,i=arguments;return new Promise((function(r,I){var g=e.apply(t,i);function n(e){A(g,r,I,n,a,"next",e)}function a(e){A(g,r,I,n,a,"throw",e)}n(void 0)}))}}function t(A){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},t(A)}var i={exports:{}};!function(A){var e=function(A){var e,i=Object.prototype,r=i.hasOwnProperty,I="function"==typeof Symbol?Symbol:{},g=I.iterator||"@@iterator",n=I.asyncIterator||"@@asyncIterator",a=I.toStringTag||"@@toStringTag";function o(A,e,t){return Object.defineProperty(A,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),A[e]}try{o({},"")}catch(A){o=function(A,e,t){return A[e]=t}}function B(A,e,t,i){var r=e&&e.prototype instanceof h?e:h,I=Object.create(r.prototype),g=new S(i||[]);return I._invoke=function(A,e,t){var i=Q;return function(r,I){if(i===s)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw I;return R()}for(t.method=r,t.arg=I;;){var g=t.delegate;if(g){var n=m(g,t);if(n){if(n===c)continue;return n}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(i===Q)throw i=f,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);i=s;var a=C(A,e,t);if("normal"===a.type){if(i=t.done?f:E,a.arg===c)continue;return{value:a.arg,done:t.done}}"throw"===a.type&&(i=f,t.method="throw",t.arg=a.arg)}}}(A,t,g),I}function C(A,e,t){try{return{type:"normal",arg:A.call(e,t)}}catch(A){return{type:"throw",arg:A}}}A.wrap=B;var Q="suspendedStart",E="suspendedYield",s="executing",f="completed",c={};function h(){}function l(){}function u(){}var w={};o(w,g,(function(){return this}));var d=Object.getPrototypeOf,D=d&&d(d(v([])));D&&D!==i&&r.call(D,g)&&(w=D);var y=u.prototype=h.prototype=Object.create(w);function k(A){["next","throw","return"].forEach((function(e){o(A,e,(function(A){return this._invoke(e,A)}))}))}function p(A,e){function i(I,g,n,a){var o=C(A[I],A,g);if("throw"!==o.type){var B=o.arg,Q=B.value;return Q&&"object"===t(Q)&&r.call(Q,"__await")?e.resolve(Q.__await).then((function(A){i("next",A,n,a)}),(function(A){i("throw",A,n,a)})):e.resolve(Q).then((function(A){B.value=A,n(B)}),(function(A){return i("throw",A,n,a)}))}a(o.arg)}var I;this._invoke=function(A,t){function r(){return new e((function(e,r){i(A,t,e,r)}))}return I=I?I.then(r,r):r()}}function m(A,t){var i=A.iterator[t.method];if(i===e){if(t.delegate=null,"throw"===t.method){if(A.iterator.return&&(t.method="return",t.arg=e,m(A,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a \'throw\' method")}return c}var r=C(i,A.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var I=r.arg;return I?I.done?(t[A.resultName]=I.value,t.next=A.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,c):I:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function G(A){var e={tryLoc:A[0]};1 in A&&(e.catchLoc=A[1]),2 in A&&(e.finallyLoc=A[2],e.afterLoc=A[3]),this.tryEntries.push(e)}function F(A){var e=A.completion||{};e.type="normal",delete e.arg,A.completion=e}function S(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(G,this),this.reset(!0)}function v(A){if(A){var t=A[g];if(t)return t.call(A);if("function"==typeof A.next)return A;if(!isNaN(A.length)){var i=-1,I=function t(){for(;++i<A.length;)if(r.call(A,i))return t.value=A[i],t.done=!1,t;return t.value=e,t.done=!0,t};return I.next=I}}return{next:R}}function R(){return{value:e,done:!0}}return l.prototype=u,o(y,"constructor",u),o(u,"constructor",l),l.displayName=o(u,a,"GeneratorFunction"),A.isGeneratorFunction=function(A){var e="function"==typeof A&&A.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},A.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,u):(A.__proto__=u,o(A,a,"GeneratorFunction")),A.prototype=Object.create(y),A},A.awrap=function(A){return{__await:A}},k(p.prototype),o(p.prototype,n,(function(){return this})),A.AsyncIterator=p,A.async=function(e,t,i,r,I){void 0===I&&(I=Promise);var g=new p(B(e,t,i,r),I);return A.isGeneratorFunction(t)?g:g.next().then((function(A){return A.done?A.value:g.next()}))},k(y),o(y,a,"Generator"),o(y,g,(function(){return this})),o(y,"toString",(function(){return"[object Generator]"})),A.keys=function(A){var e=[];for(var t in A)e.push(t);return e.reverse(),function t(){for(;e.length;){var i=e.pop();if(i in A)return t.value=i,t.done=!1,t}return t.done=!0,t}},A.values=v,S.prototype={constructor:S,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!A)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if("throw"===A.type)throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var t=this;function i(i,r){return n.type="throw",n.arg=A,t.next=i,r&&(t.method="next",t.arg=e),!!r}for(var I=this.tryEntries.length-1;I>=0;--I){var g=this.tryEntries[I],n=g.completion;if("root"===g.tryLoc)return i("end");if(g.tryLoc<=this.prev){var a=r.call(g,"catchLoc"),o=r.call(g,"finallyLoc");if(a&&o){if(this.prev<g.catchLoc)return i(g.catchLoc,!0);if(this.prev<g.finallyLoc)return i(g.finallyLoc)}else if(a){if(this.prev<g.catchLoc)return i(g.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<g.finallyLoc)return i(g.finallyLoc)}}}},abrupt:function(A,e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var I=i;break}}I&&("break"===A||"continue"===A)&&I.tryLoc<=e&&e<=I.finallyLoc&&(I=null);var g=I?I.completion:{};return g.type=A,g.arg=e,I?(this.method="next",this.next=I.finallyLoc,c):this.complete(g)},complete:function(A,e){if("throw"===A.type)throw A.arg;return"break"===A.type||"continue"===A.type?this.next=A.arg:"return"===A.type?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):"normal"===A.type&&e&&(this.next=e),c},finish:function(A){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===A)return this.complete(t.completion,t.afterLoc),F(t),c}},catch:function(A){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===A){var i=t.completion;if("throw"===i.type){var r=i.arg;F(t)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(A,t,i){return this.delegate={iterator:v(A),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),c}},A}(A.exports);try{regeneratorRuntime=e}catch(A){"object"===("undefined"==typeof globalThis?"undefined":t(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(i);var r=i.exports,I=new Map;function g(A,e){Array.isArray(A)||(A=[A]),A.forEach((function(A){return I.set(A,e)}))}function n(A){return a.apply(this,arguments)}function a(){return(a=e(r.mark((function A(e){var t,i;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(t=I.get(e.Compression)){A.next=3;break}throw new Error("Unknown compression method identifier: ".concat(e.Compression));case 3:return A.next=5,t();case 5:return i=A.sent,A.abrupt("return",new i(e));case 7:case"end":return A.stop()}}),A)})))).apply(this,arguments)}g([void 0,1],(function(){return Promise.resolve().then((function(){return y})).then((function(A){return A.default}))})),g(5,(function(){return Promise.resolve().then((function(){return F})).then((function(A){return A.default}))})),g(6,(function(){throw new Error("old style JPEG compression is not supported.")})),g(7,(function(){return Promise.resolve().then((function(){return N})).then((function(A){return A.default}))})),g([8,32946],(function(){return Promise.resolve().then((function(){return OA})).then((function(A){return A.default}))})),g(32773,(function(){return Promise.resolve().then((function(){return _A})).then((function(A){return A.default}))})),g(34887,(function(){return Promise.resolve().then((function(){return le})).then(function(){var A=e(r.mark((function A(e){return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,e.zstd.init();case 2:return A.abrupt("return",e);case 3:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}()).then((function(A){return A.default}))})),g(50001,(function(){return Promise.resolve().then((function(){return de})).then((function(A){return A.default}))}));var o=globalThis;function B(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")}function C(A,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(A,i.key,i)}}function Q(A,e,t){return e&&C(A.prototype,e),t&&C(A,t),A}function E(A,e){return E=Object.setPrototypeOf||function(A,e){return A.__proto__=e,A},E(A,e)}function s(A,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(e&&e.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),e&&E(A,e)}function f(A,e){if(e&&("object"===t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(A){if(void 0===A)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return A}(A)}function c(A){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},c(A)}function h(A,e){var t=A.length-e,i=0;do{for(var r=e;r>0;r--)A[i+e]+=A[i],i++;t-=e}while(t>0)}function l(A,e,t){for(var i=0,r=A.length,I=r/t;r>e;){for(var g=e;g>0;--g)A[i+e]+=A[i],++i;r-=e}for(var n=A.slice(),a=0;a<I;++a)for(var o=0;o<t;++o)A[t*a+o]=n[(t-o-1)*I+a]}function u(A,e,t,i,r,I){if(!e||1===e)return A;for(var g=0;g<r.length;++g){if(r[g]%8!=0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(r[g]!==r[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var n=r[0]/8,a=2===I?1:r.length,o=0;o<i&&!(o*a*t*n>=A.byteLength);++o){var B=void 0;if(2===e){switch(r[0]){case 8:B=new Uint8Array(A,o*a*t*n,a*t*n);break;case 16:B=new Uint16Array(A,o*a*t*n,a*t*n/2);break;case 32:B=new Uint32Array(A,o*a*t*n,a*t*n/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(r[0]," bits per sample."))}h(B,a)}else 3===e&&l(B=new Uint8Array(A,o*a*t*n,a*t*n),a,n)}return A}o.addEventListener("message",function(){var A=e(r.mark((function A(e){var t,i,I,g,a,B;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return t=e.data,i=t.id,I=t.fileDirectory,g=t.buffer,A.next=3,n(I);case 3:return a=A.sent,A.next=6,a.decode(I,g);case 6:B=A.sent,o.postMessage({decoded:B,id:i},[B]);case 8:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}());var w=function(){function A(){B(this,A)}var t;return Q(A,[{key:"decode",value:(t=e(r.mark((function A(e,t){var i,I,g,n,a;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this.decodeBlock(t);case 2:if(i=A.sent,1===(I=e.Predictor||1)){A.next=9;break}return g=!e.StripOffsets,n=g?e.TileWidth:e.ImageWidth,a=g?e.TileLength:e.RowsPerStrip||e.ImageLength,A.abrupt("return",u(i,I,n,a,e.BitsPerSample,e.PlanarConfiguration));case 9:return A.abrupt("return",i);case 10:case"end":return A.stop()}}),A,this)}))),function(A,e){return t.apply(this,arguments)})}]),A}();function d(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var D=function(A){s(t,w);var e=d(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){return A}}]),t}(),y=Object.freeze({__proto__:null,default:D});function k(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}function p(A,e){for(var t=e.length-1;t>=0;t--)A.push(e[t]);return A}function m(A){for(var e=new Uint16Array(4093),t=new Uint8Array(4093),i=0;i<=257;i++)e[i]=4096,t[i]=i;var r=258,I=9,g=0;function n(){r=258,I=9}function a(A){var e=function(A,e,t){var i=e%8,r=Math.floor(e/8),I=8-i,g=e+t-8*(r+1),n=8*(r+2)-(e+t),a=8*(r+2)-e;if(n=Math.max(0,n),r>=A.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var o=A[r]&Math.pow(2,8-i)-1,B=o<<=t-I;if(r+1<A.length){var C=A[r+1]>>>n;B+=C<<=Math.max(0,t-a)}if(g>8&&r+2<A.length){var Q=8*(r+3)-(e+t);B+=A[r+2]>>>Q}return B}(A,g,I);return g+=I,e}function o(A,i){return t[r]=i,e[r]=A,++r-1}function B(A){for(var i=[],r=A;4096!==r;r=e[r])i.push(t[r]);return i}var C=[];n();for(var Q,E=new Uint8Array(A),s=a(E);257!==s;){if(256===s){for(n(),s=a(E);256===s;)s=a(E);if(257===s)break;if(s>256)throw new Error("corrupted code at scanline ".concat(s));p(C,B(s)),Q=s}else if(s<r){var f=B(s);p(C,f),o(Q,f[f.length-1]),Q=s}else{var c=B(Q);if(!c)throw new Error("Bogus entry. Not in dictionary, ".concat(Q," / ").concat(r,", position: ").concat(g));p(C,c),C.push(c[c.length-1]),o(Q,c[c.length-1]),Q=s}r+1>=Math.pow(2,I)&&(12===I?Q=void 0:I++),s=a(E)}return new Uint8Array(C)}var G=function(A){s(t,w);var e=k(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){return m(A).buffer}}]),t}(),F=Object.freeze({__proto__:null,default:G});function S(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var v=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function R(A,e){for(var t=0,i=[],r=16;r>0&&!A[r-1];)--r;i.push({children:[],index:0});for(var I,g=i[0],n=0;n<r;n++){for(var a=0;a<A[n];a++){for((g=i.pop()).children[g.index]=e[t];g.index>0;)g=i.pop();for(g.index++,i.push(g);i.length<=n;)i.push(I={children:[],index:0}),g.children[g.index]=I.children,g=I;t++}n+1<r&&(i.push(I={children:[],index:0}),g.children[g.index]=I.children,g=I)}return i[0].children}function U(A,e,i,r,I,g,n,a,o){var B=i.mcusPerLine,C=i.progressive,Q=e,E=e,s=0,f=0;function c(){if(f>0)return f--,s>>f&1;if(255===(s=A[E++])){var e=A[E++];if(e)throw new Error("unexpected marker: ".concat((s<<8|e).toString(16)))}return f=7,s>>>7}function h(A){for(var e,i=A;null!==(e=c());){if("number"==typeof(i=i[e]))return i;if("object"!==t(i))throw new Error("invalid huffman sequence")}return null}function l(A){for(var e=A,t=0;e>0;){var i=c();if(null===i)return;t=t<<1|i,--e}return t}function u(A){var e=l(A);return e>=1<<A-1?e:e+(-1<<A)+1}var w=0;var d,D=0;function y(A,e,t,i,r){var I=t%B,g=(t/B|0)*A.v+i,n=I*A.h+r;e(A,A.blocks[g][n])}function k(A,e,t){var i=t/A.blocksPerLine|0,r=t%A.blocksPerLine;e(A,A.blocks[i][r])}var p,m,G,F,S,R,U=r.length;R=C?0===g?0===a?function(A,e){var t=h(A.huffmanTableDC),i=0===t?0:u(t)<<o;A.pred+=i,e[0]=A.pred}:function(A,e){e[0]|=c()<<o}:0===a?function(A,e){if(w>0)w--;else for(var t=g,i=n;t<=i;){var r=h(A.huffmanTableAC),I=15&r,a=r>>4;if(0===I){if(a<15){w=l(a)+(1<<a)-1;break}t+=16}else e[v[t+=a]]=u(I)*(1<<o),t++}}:function(A,e){for(var t=g,i=n,r=0;t<=i;){var I=v[t],a=e[I]<0?-1:1;switch(D){case 0:var B=h(A.huffmanTableAC),C=15&B;if(r=B>>4,0===C)r<15?(w=l(r)+(1<<r),D=4):(r=16,D=1);else{if(1!==C)throw new Error("invalid ACn encoding");d=u(C),D=r?2:3}continue;case 1:case 2:e[I]?e[I]+=(c()<<o)*a:0==--r&&(D=2===D?3:0);break;case 3:e[I]?e[I]+=(c()<<o)*a:(e[I]=d<<o,D=0);break;case 4:e[I]&&(e[I]+=(c()<<o)*a)}t++}4===D&&0==--w&&(D=0)}:function(A,e){var t=h(A.huffmanTableDC),i=0===t?0:u(t);A.pred+=i,e[0]=A.pred;for(var r=1;r<64;){var I=h(A.huffmanTableAC),g=15&I,n=I>>4;if(0===g){if(n<15)break;r+=16}else e[v[r+=n]]=u(g),r++}};var L,b,M=0;b=1===U?r[0].blocksPerLine*r[0].blocksPerColumn:B*i.mcusPerColumn;for(var N=I||b;M<b;){for(m=0;m<U;m++)r[m].pred=0;if(w=0,1===U)for(p=r[0],S=0;S<N;S++)k(p,R,M),M++;else for(S=0;S<N;S++){for(m=0;m<U;m++){var x=p=r[m],J=x.h,q=x.v;for(G=0;G<q;G++)for(F=0;F<J;F++)y(p,R,M,G,F)}if(++M===b)break}if(f=0,(L=A[E]<<8|A[E+1])<65280)throw new Error("marker was not found");if(!(L>=65488&&L<=65495))break;E+=2}return E-Q}function L(A,e){var t=[],i=e.blocksPerLine,r=e.blocksPerColumn,I=i<<3,g=new Int32Array(64),n=new Uint8Array(64);function a(A,t,i){var r,I,g,n,a,o,B,C,Q,E,s=e.quantizationTable,f=i;for(E=0;E<64;E++)f[E]=A[E]*s[E];for(E=0;E<8;++E){var c=8*E;0!==f[1+c]||0!==f[2+c]||0!==f[3+c]||0!==f[4+c]||0!==f[5+c]||0!==f[6+c]||0!==f[7+c]?(r=5793*f[0+c]+128>>8,I=5793*f[4+c]+128>>8,g=f[2+c],n=f[6+c],a=2896*(f[1+c]-f[7+c])+128>>8,C=2896*(f[1+c]+f[7+c])+128>>8,o=f[3+c]<<4,Q=r-I+1>>1,r=r+I+1>>1,I=Q,Q=3784*g+1567*n+128>>8,g=1567*g-3784*n+128>>8,n=Q,Q=a-(B=f[5+c]<<4)+1>>1,a=a+B+1>>1,B=Q,Q=C+o+1>>1,o=C-o+1>>1,C=Q,Q=r-n+1>>1,r=r+n+1>>1,n=Q,Q=I-g+1>>1,I=I+g+1>>1,g=Q,Q=2276*a+3406*C+2048>>12,a=3406*a-2276*C+2048>>12,C=Q,Q=799*o+4017*B+2048>>12,o=4017*o-799*B+2048>>12,B=Q,f[0+c]=r+C,f[7+c]=r-C,f[1+c]=I+B,f[6+c]=I-B,f[2+c]=g+o,f[5+c]=g-o,f[3+c]=n+a,f[4+c]=n-a):(Q=5793*f[0+c]+512>>10,f[0+c]=Q,f[1+c]=Q,f[2+c]=Q,f[3+c]=Q,f[4+c]=Q,f[5+c]=Q,f[6+c]=Q,f[7+c]=Q)}for(E=0;E<8;++E){var h=E;0!==f[8+h]||0!==f[16+h]||0!==f[24+h]||0!==f[32+h]||0!==f[40+h]||0!==f[48+h]||0!==f[56+h]?(r=5793*f[0+h]+2048>>12,I=5793*f[32+h]+2048>>12,g=f[16+h],n=f[48+h],a=2896*(f[8+h]-f[56+h])+2048>>12,C=2896*(f[8+h]+f[56+h])+2048>>12,o=f[24+h],Q=r-I+1>>1,r=r+I+1>>1,I=Q,Q=3784*g+1567*n+2048>>12,g=1567*g-3784*n+2048>>12,n=Q,Q=a-(B=f[40+h])+1>>1,a=a+B+1>>1,B=Q,Q=C+o+1>>1,o=C-o+1>>1,C=Q,Q=r-n+1>>1,r=r+n+1>>1,n=Q,Q=I-g+1>>1,I=I+g+1>>1,g=Q,Q=2276*a+3406*C+2048>>12,a=3406*a-2276*C+2048>>12,C=Q,Q=799*o+4017*B+2048>>12,o=4017*o-799*B+2048>>12,B=Q,f[0+h]=r+C,f[56+h]=r-C,f[8+h]=I+B,f[48+h]=I-B,f[16+h]=g+o,f[40+h]=g-o,f[24+h]=n+a,f[32+h]=n-a):(Q=5793*i[E+0]+8192>>14,f[0+h]=Q,f[8+h]=Q,f[16+h]=Q,f[24+h]=Q,f[32+h]=Q,f[40+h]=Q,f[48+h]=Q,f[56+h]=Q)}for(E=0;E<64;++E){var l=128+(f[E]+8>>4);t[E]=l<0?0:l>255?255:l}}for(var o=0;o<r;o++){for(var B=o<<3,C=0;C<8;C++)t.push(new Uint8Array(I));for(var Q=0;Q<i;Q++){a(e.blocks[o][Q],n,g);for(var E=0,s=Q<<3,f=0;f<8;f++)for(var c=t[B+f],h=0;h<8;h++)c[s+h]=n[E++]}}return t}var b=function(){function A(){B(this,A),this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}return Q(A,[{key:"resetFrames",value:function(){this.frames=[]}},{key:"parse",value:function(A){var e=0;function t(){var t=A[e]<<8|A[e+1];return e+=2,t}function i(A){var e,t,i=0,r=0;for(t in A.components)A.components.hasOwnProperty(t)&&(i<(e=A.components[t]).h&&(i=e.h),r<e.v&&(r=e.v));var I=Math.ceil(A.samplesPerLine/8/i),g=Math.ceil(A.scanLines/8/r);for(t in A.components)if(A.components.hasOwnProperty(t)){e=A.components[t];for(var n=Math.ceil(Math.ceil(A.samplesPerLine/8)*e.h/i),a=Math.ceil(Math.ceil(A.scanLines/8)*e.v/r),o=I*e.h,B=g*e.v,C=[],Q=0;Q<B;Q++){for(var E=[],s=0;s<o;s++)E.push(new Int32Array(64));C.push(E)}e.blocksPerLine=n,e.blocksPerColumn=a,e.blocks=C}A.maxH=i,A.maxV=r,A.mcusPerLine=I,A.mcusPerColumn=g}var r,I,g=t();if(65496!==g)throw new Error("SOI not found");for(g=t();65497!==g;){switch(g){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var n=(r=void 0,I=void 0,r=t(),I=A.subarray(e,e+r-2),e+=I.length,I);65504===g&&74===n[0]&&70===n[1]&&73===n[2]&&70===n[3]&&0===n[4]&&(this.jfif={version:{major:n[5],minor:n[6]},densityUnits:n[7],xDensity:n[8]<<8|n[9],yDensity:n[10]<<8|n[11],thumbWidth:n[12],thumbHeight:n[13],thumbData:n.subarray(14,14+3*n[12]*n[13])}),65518===g&&65===n[0]&&100===n[1]&&111===n[2]&&98===n[3]&&101===n[4]&&0===n[5]&&(this.adobe={version:n[6],flags0:n[7]<<8|n[8],flags1:n[9]<<8|n[10],transformCode:n[11]});break;case 65499:for(var a=t()+e-2;e<a;){var o=A[e++],B=new Int32Array(64);if(o>>4==0)for(var C=0;C<64;C++){B[v[C]]=A[e++]}else{if(o>>4!=1)throw new Error("DQT: invalid table spec");for(var Q=0;Q<64;Q++){B[v[Q]]=t()}}this.quantizationTables[15&o]=B}break;case 65472:case 65473:case 65474:t();for(var E={extended:65473===g,progressive:65474===g,precision:A[e++],scanLines:t(),samplesPerLine:t(),components:{},componentsOrder:[]},s=A[e++],f=void 0,c=0;c<s;c++){f=A[e];var h=A[e+1]>>4,l=15&A[e+1],u=A[e+2];E.componentsOrder.push(f),E.components[f]={h:h,v:l,quantizationIdx:u},e+=3}i(E),this.frames.push(E);break;case 65476:for(var w=t(),d=2;d<w;){for(var D=A[e++],y=new Uint8Array(16),k=0,p=0;p<16;p++,e++)y[p]=A[e],k+=y[p];for(var m=new Uint8Array(k),G=0;G<k;G++,e++)m[G]=A[e];d+=17+k,D>>4==0?this.huffmanTablesDC[15&D]=R(y,m):this.huffmanTablesAC[15&D]=R(y,m)}break;case 65501:t(),this.resetInterval=t();break;case 65498:t();for(var F=A[e++],S=[],L=this.frames[0],b=0;b<F;b++){var M=L.components[A[e++]],N=A[e++];M.huffmanTableDC=this.huffmanTablesDC[N>>4],M.huffmanTableAC=this.huffmanTablesAC[15&N],S.push(M)}var x=A[e++],J=A[e++],q=A[e++],Y=U(A,e,L,S,this.resetInterval,x,J,q>>4,15&q);e+=Y;break;case 65535:255!==A[e]&&e--;break;default:if(255===A[e-3]&&A[e-2]>=192&&A[e-2]<=254){e-=3;break}throw new Error("unknown JPEG marker ".concat(g.toString(16)))}g=t()}}},{key:"getResult",value:function(){var A=this.frames;if(0===this.frames.length)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(var e=0;e<this.frames.length;e++)for(var t=this.frames[e].components,i=0,r=Object.keys(t);i<r.length;i++){var I=r[i];t[I].quantizationTable=this.quantizationTables[t[I].quantizationIdx],delete t[I].quantizationIdx}for(var g=A[0],n=g.components,a=g.componentsOrder,o=[],B=g.samplesPerLine,C=g.scanLines,Q=0;Q<a.length;Q++){var E=n[a[Q]];o.push({lines:L(0,E),scaleX:E.h/g.maxH,scaleY:E.v/g.maxV})}for(var s=new Uint8Array(B*C*o.length),f=0,c=0;c<C;++c)for(var h=0;h<B;++h)for(var l=0;l<o.length;++l){var u=o[l];s[f]=u.lines[0|c*u.scaleY][0|h*u.scaleX],++f}return s}}]),A}(),M=function(A){s(t,w);var e=S(t);function t(A){var i;return B(this,t),(i=e.call(this)).reader=new b,A.JPEGTables&&i.reader.parse(A.JPEGTables),i}return Q(t,[{key:"decodeBlock",value:function(A){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(A)),this.reader.getResult().buffer}}]),t}(),N=Object.freeze({__proto__:null,default:M});function x(A){for(var e=A.length;--e>=0;)A[e]=0}x(new Array(576)),x(new Array(60)),x(new Array(512)),x(new Array(256)),x(new Array(29)),x(new Array(30));var J=function(A,e,t,i){for(var r=65535&A|0,I=A>>>16&65535|0,g=0;0!==t;){t-=g=t>2e3?2e3:t;do{I=I+(r=r+e[i++]|0)|0}while(--g);r%=65521,I%=65521}return r|I<<16|0},q=new Uint32Array(function(){for(var A,e=[],t=0;t<256;t++){A=t;for(var i=0;i<8;i++)A=1&A?3988292384^A>>>1:A>>>1;e[t]=A}return e}()),Y=function(A,e,t,i){var r=q,I=i+t;A^=-1;for(var g=i;g<I;g++)A=A>>>8^r[255&(A^e[g])];return-1^A},K={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},O=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)},P=function(A){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!==t(i))throw new TypeError(i+"must be non-object");for(var r in i)O(i,r)&&(A[r]=i[r])}}return A},T=function(A){for(var e=0,t=0,i=A.length;t<i;t++)e+=A[t].length;for(var r=new Uint8Array(e),I=0,g=0,n=A.length;I<n;I++){var a=A[I];r.set(a,g),g+=a.length}return r},V=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(A){V=!1}for(var _=new Uint8Array(256),X=0;X<256;X++)_[X]=X>=252?6:X>=248?5:X>=240?4:X>=224?3:X>=192?2:1;_[254]=_[254]=1;var Z=function(A){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(A);var e,t,i,r,I,g=A.length,n=0;for(r=0;r<g;r++)55296==(64512&(t=A.charCodeAt(r)))&&r+1<g&&56320==(64512&(i=A.charCodeAt(r+1)))&&(t=65536+(t-55296<<10)+(i-56320),r++),n+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(n),I=0,r=0;I<n;r++)55296==(64512&(t=A.charCodeAt(r)))&&r+1<g&&56320==(64512&(i=A.charCodeAt(r+1)))&&(t=65536+(t-55296<<10)+(i-56320),r++),t<128?e[I++]=t:t<2048?(e[I++]=192|t>>>6,e[I++]=128|63&t):t<65536?(e[I++]=224|t>>>12,e[I++]=128|t>>>6&63,e[I++]=128|63&t):(e[I++]=240|t>>>18,e[I++]=128|t>>>12&63,e[I++]=128|t>>>6&63,e[I++]=128|63&t);return e},j=function(A,e){var t,i,r=e||A.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(A.subarray(0,e));var I=new Array(2*r);for(i=0,t=0;t<r;){var g=A[t++];if(g<128)I[i++]=g;else{var n=_[g];if(n>4)I[i++]=65533,t+=n-1;else{for(g&=2===n?31:3===n?15:7;n>1&&t<r;)g=g<<6|63&A[t++],n--;n>1?I[i++]=65533:g<65536?I[i++]=g:(g-=65536,I[i++]=55296|g>>10&1023,I[i++]=56320|1023&g)}}}return function(A,e){if(e<65534&&A.subarray&&V)return String.fromCharCode.apply(null,A.length===e?A:A.subarray(0,e));for(var t="",i=0;i<e;i++)t+=String.fromCharCode(A[i]);return t}(I,i)},W=function(A,e){(e=e||A.length)>A.length&&(e=A.length);for(var t=e-1;t>=0&&128==(192&A[t]);)t--;return t<0||0===t?e:t+_[A[t]]>e?t:e};var z=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},$=function(A,e){var t,i,r,I,g,n,a,o,B,C,Q,E,s,f,c,h,l,u,w,d,D,y,k,p,m=A.state;t=A.next_in,k=A.input,i=t+(A.avail_in-5),r=A.next_out,p=A.output,I=r-(e-A.avail_out),g=r+(A.avail_out-257),n=m.dmax,a=m.wsize,o=m.whave,B=m.wnext,C=m.window,Q=m.hold,E=m.bits,s=m.lencode,f=m.distcode,c=(1<<m.lenbits)-1,h=(1<<m.distbits)-1;A:do{E<15&&(Q+=k[t++]<<E,E+=8,Q+=k[t++]<<E,E+=8),l=s[Q&c];e:for(;;){if(Q>>>=u=l>>>24,E-=u,0===(u=l>>>16&255))p[r++]=65535&l;else{if(!(16&u)){if(0==(64&u)){l=s[(65535&l)+(Q&(1<<u)-1)];continue e}if(32&u){m.mode=12;break A}A.msg="invalid literal/length code",m.mode=30;break A}w=65535&l,(u&=15)&&(E<u&&(Q+=k[t++]<<E,E+=8),w+=Q&(1<<u)-1,Q>>>=u,E-=u),E<15&&(Q+=k[t++]<<E,E+=8,Q+=k[t++]<<E,E+=8),l=f[Q&h];t:for(;;){if(Q>>>=u=l>>>24,E-=u,!(16&(u=l>>>16&255))){if(0==(64&u)){l=f[(65535&l)+(Q&(1<<u)-1)];continue t}A.msg="invalid distance code",m.mode=30;break A}if(d=65535&l,E<(u&=15)&&(Q+=k[t++]<<E,(E+=8)<u&&(Q+=k[t++]<<E,E+=8)),(d+=Q&(1<<u)-1)>n){A.msg="invalid distance too far back",m.mode=30;break A}if(Q>>>=u,E-=u,d>(u=r-I)){if((u=d-u)>o&&m.sane){A.msg="invalid distance too far back",m.mode=30;break A}if(D=0,y=C,0===B){if(D+=a-u,u<w){w-=u;do{p[r++]=C[D++]}while(--u);D=r-d,y=p}}else if(B<u){if(D+=a+B-u,(u-=B)<w){w-=u;do{p[r++]=C[D++]}while(--u);if(D=0,B<w){w-=u=B;do{p[r++]=C[D++]}while(--u);D=r-d,y=p}}}else if(D+=B-u,u<w){w-=u;do{p[r++]=C[D++]}while(--u);D=r-d,y=p}for(;w>2;)p[r++]=y[D++],p[r++]=y[D++],p[r++]=y[D++],w-=3;w&&(p[r++]=y[D++],w>1&&(p[r++]=y[D++]))}else{D=r-d;do{p[r++]=p[D++],p[r++]=p[D++],p[r++]=p[D++],w-=3}while(w>2);w&&(p[r++]=p[D++],w>1&&(p[r++]=p[D++]))}break}}break}}while(t<i&&r<g);t-=w=E>>3,Q&=(1<<(E-=w<<3))-1,A.next_in=t,A.next_out=r,A.avail_in=t<i?i-t+5:5-(t-i),A.avail_out=r<g?g-r+257:257-(r-g),m.hold=Q,m.bits=E},AA=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eA=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iA=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),rA=function(A,e,t,i,r,I,g,n){var a,o,B,C,Q,E,s,f,c,h=n.bits,l=0,u=0,w=0,d=0,D=0,y=0,k=0,p=0,m=0,G=0,F=null,S=0,v=new Uint16Array(16),R=new Uint16Array(16),U=null,L=0;for(l=0;l<=15;l++)v[l]=0;for(u=0;u<i;u++)v[e[t+u]]++;for(D=h,d=15;d>=1&&0===v[d];d--);if(D>d&&(D=d),0===d)return r[I++]=20971520,r[I++]=20971520,n.bits=1,0;for(w=1;w<d&&0===v[w];w++);for(D<w&&(D=w),p=1,l=1;l<=15;l++)if(p<<=1,(p-=v[l])<0)return-1;if(p>0&&(0===A||1!==d))return-1;for(R[1]=0,l=1;l<15;l++)R[l+1]=R[l]+v[l];for(u=0;u<i;u++)0!==e[t+u]&&(g[R[e[t+u]]++]=u);if(0===A?(F=U=g,E=19):1===A?(F=AA,S-=257,U=eA,L-=257,E=256):(F=tA,U=iA,E=-1),G=0,u=0,l=w,Q=I,y=D,k=0,B=-1,C=(m=1<<D)-1,1===A&&m>852||2===A&&m>592)return 1;for(;;){s=l-k,g[u]<E?(f=0,c=g[u]):g[u]>E?(f=U[L+g[u]],c=F[S+g[u]]):(f=96,c=0),a=1<<l-k,w=o=1<<y;do{r[Q+(G>>k)+(o-=a)]=s<<24|f<<16|c|0}while(0!==o);for(a=1<<l-1;G&a;)a>>=1;if(0!==a?(G&=a-1,G+=a):G=0,u++,0==--v[l]){if(l===d)break;l=e[t+g[u]]}if(l>D&&(G&C)!==B){for(0===k&&(k=D),Q+=w,p=1<<(y=l-k);y+k<d&&!((p-=v[y+k])<=0);)y++,p<<=1;if(m+=1<<y,1===A&&m>852||2===A&&m>592)return 1;r[B=G&C]=D<<24|y<<16|Q-I|0}}return 0!==G&&(r[Q+G]=l-k<<24|64<<16|0),n.bits=D,0},IA=H.Z_FINISH,gA=H.Z_BLOCK,nA=H.Z_TREES,aA=H.Z_OK,oA=H.Z_STREAM_END,BA=H.Z_NEED_DICT,CA=H.Z_STREAM_ERROR,QA=H.Z_DATA_ERROR,EA=H.Z_MEM_ERROR,sA=H.Z_BUF_ERROR,fA=H.Z_DEFLATED,cA=function(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)};function hA(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var lA,uA,wA=function(A){if(!A||!A.state)return CA;var e=A.state;return A.total_in=A.total_out=e.total=0,A.msg="",e.wrap&&(A.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,aA},dA=function(A){if(!A||!A.state)return CA;var e=A.state;return e.wsize=0,e.whave=0,e.wnext=0,wA(A)},DA=function(A,e){var t;if(!A||!A.state)return CA;var i=A.state;return e<0?(t=0,e=-e):(t=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?CA:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,dA(A))},yA=function(A,e){if(!A)return CA;var t=new hA;A.state=t,t.window=null;var i=DA(A,e);return i!==aA&&(A.state=null),i},kA=!0,pA=function(A){if(kA){lA=new Int32Array(512),uA=new Int32Array(32);for(var e=0;e<144;)A.lens[e++]=8;for(;e<256;)A.lens[e++]=9;for(;e<280;)A.lens[e++]=7;for(;e<288;)A.lens[e++]=8;for(rA(1,A.lens,0,288,lA,0,A.work,{bits:9}),e=0;e<32;)A.lens[e++]=5;rA(2,A.lens,0,32,uA,0,A.work,{bits:5}),kA=!1}A.lencode=lA,A.lenbits=9,A.distcode=uA,A.distbits=5},mA=function(A,e,t,i){var r,I=A.state;return null===I.window&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new Uint8Array(I.wsize)),i>=I.wsize?(I.window.set(e.subarray(t-I.wsize,t),0),I.wnext=0,I.whave=I.wsize):((r=I.wsize-I.wnext)>i&&(r=i),I.window.set(e.subarray(t-i,t-i+r),I.wnext),(i-=r)?(I.window.set(e.subarray(t-i,t),0),I.wnext=i,I.whave=I.wsize):(I.wnext+=r,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=r))),0},GA={inflateReset:dA,inflateReset2:DA,inflateResetKeep:wA,inflateInit:function(A){return yA(A,15)},inflateInit2:yA,inflate:function(A,e){var t,i,r,I,g,n,a,o,B,C,Q,E,s,f,c,h,l,u,w,d,D,y,k,p,m=0,G=new Uint8Array(4),F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!A||!A.state||!A.output||!A.input&&0!==A.avail_in)return CA;12===(t=A.state).mode&&(t.mode=13),g=A.next_out,r=A.output,a=A.avail_out,I=A.next_in,i=A.input,n=A.avail_in,o=t.hold,B=t.bits,C=n,Q=a,y=aA;A:for(;;)switch(t.mode){case 1:if(0===t.wrap){t.mode=13;break}for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(2&t.wrap&&35615===o){t.check=0,G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0),o=0,B=0,t.mode=2;break}if(t.flags=0,t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&o)<<8)+(o>>8))%31){A.msg="incorrect header check",t.mode=30;break}if((15&o)!==fA){A.msg="unknown compression method",t.mode=30;break}if(B-=4,D=8+(15&(o>>>=4)),0===t.wbits)t.wbits=D;else if(D>t.wbits){A.msg="invalid window size",t.mode=30;break}t.dmax=1<<t.wbits,A.adler=t.check=1,t.mode=512&o?10:12,o=0,B=0;break;case 2:for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(t.flags=o,(255&t.flags)!==fA){A.msg="unknown compression method",t.mode=30;break}if(57344&t.flags){A.msg="unknown header flags set",t.mode=30;break}t.head&&(t.head.text=o>>8&1),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0)),o=0,B=0,t.mode=3;case 3:for(;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.head&&(t.head.time=o),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,G[2]=o>>>16&255,G[3]=o>>>24&255,t.check=Y(t.check,G,4,0)),o=0,B=0,t.mode=4;case 4:for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.head&&(t.head.xflags=255&o,t.head.os=o>>8),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0)),o=0,B=0,t.mode=5;case 5:if(1024&t.flags){for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.length=o,t.head&&(t.head.extra_len=o),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0)),o=0,B=0}else t.head&&(t.head.extra=null);t.mode=6;case 6:if(1024&t.flags&&((E=t.length)>n&&(E=n),E&&(t.head&&(D=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(I,I+E),D)),512&t.flags&&(t.check=Y(t.check,i,E,I)),n-=E,I+=E,t.length-=E),t.length))break A;t.length=0,t.mode=7;case 7:if(2048&t.flags){if(0===n)break A;E=0;do{D=i[I+E++],t.head&&D&&t.length<65536&&(t.head.name+=String.fromCharCode(D))}while(D&&E<n);if(512&t.flags&&(t.check=Y(t.check,i,E,I)),n-=E,I+=E,D)break A}else t.head&&(t.head.name=null);t.length=0,t.mode=8;case 8:if(4096&t.flags){if(0===n)break A;E=0;do{D=i[I+E++],t.head&&D&&t.length<65536&&(t.head.comment+=String.fromCharCode(D))}while(D&&E<n);if(512&t.flags&&(t.check=Y(t.check,i,E,I)),n-=E,I+=E,D)break A}else t.head&&(t.head.comment=null);t.mode=9;case 9:if(512&t.flags){for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(o!==(65535&t.check)){A.msg="header crc mismatch",t.mode=30;break}o=0,B=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),A.adler=t.check=0,t.mode=12;break;case 10:for(;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}A.adler=t.check=cA(o),o=0,B=0,t.mode=11;case 11:if(0===t.havedict)return A.next_out=g,A.avail_out=a,A.next_in=I,A.avail_in=n,t.hold=o,t.bits=B,BA;A.adler=t.check=1,t.mode=12;case 12:if(e===gA||e===nA)break A;case 13:if(t.last){o>>>=7&B,B-=7&B,t.mode=27;break}for(;B<3;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}switch(t.last=1&o,B-=1,3&(o>>>=1)){case 0:t.mode=14;break;case 1:if(pA(t),t.mode=20,e===nA){o>>>=2,B-=2;break A}break;case 2:t.mode=17;break;case 3:A.msg="invalid block type",t.mode=30}o>>>=2,B-=2;break;case 14:for(o>>>=7&B,B-=7&B;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if((65535&o)!=(o>>>16^65535)){A.msg="invalid stored block lengths",t.mode=30;break}if(t.length=65535&o,o=0,B=0,t.mode=15,e===nA)break A;case 15:t.mode=16;case 16:if(E=t.length){if(E>n&&(E=n),E>a&&(E=a),0===E)break A;r.set(i.subarray(I,I+E),g),n-=E,I+=E,a-=E,g+=E,t.length-=E;break}t.mode=12;break;case 17:for(;B<14;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(t.nlen=257+(31&o),o>>>=5,B-=5,t.ndist=1+(31&o),o>>>=5,B-=5,t.ncode=4+(15&o),o>>>=4,B-=4,t.nlen>286||t.ndist>30){A.msg="too many length or distance symbols",t.mode=30;break}t.have=0,t.mode=18;case 18:for(;t.have<t.ncode;){for(;B<3;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.lens[F[t.have++]]=7&o,o>>>=3,B-=3}for(;t.have<19;)t.lens[F[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,k={bits:t.lenbits},y=rA(0,t.lens,0,19,t.lencode,0,t.work,k),t.lenbits=k.bits,y){A.msg="invalid code lengths set",t.mode=30;break}t.have=0,t.mode=19;case 19:for(;t.have<t.nlen+t.ndist;){for(;h=(m=t.lencode[o&(1<<t.lenbits)-1])>>>16&255,l=65535&m,!((c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(l<16)o>>>=c,B-=c,t.lens[t.have++]=l;else{if(16===l){for(p=c+2;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(o>>>=c,B-=c,0===t.have){A.msg="invalid bit length repeat",t.mode=30;break}D=t.lens[t.have-1],E=3+(3&o),o>>>=2,B-=2}else if(17===l){for(p=c+3;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}B-=c,D=0,E=3+(7&(o>>>=c)),o>>>=3,B-=3}else{for(p=c+7;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}B-=c,D=0,E=11+(127&(o>>>=c)),o>>>=7,B-=7}if(t.have+E>t.nlen+t.ndist){A.msg="invalid bit length repeat",t.mode=30;break}for(;E--;)t.lens[t.have++]=D}}if(30===t.mode)break;if(0===t.lens[256]){A.msg="invalid code -- missing end-of-block",t.mode=30;break}if(t.lenbits=9,k={bits:t.lenbits},y=rA(1,t.lens,0,t.nlen,t.lencode,0,t.work,k),t.lenbits=k.bits,y){A.msg="invalid literal/lengths set",t.mode=30;break}if(t.distbits=6,t.distcode=t.distdyn,k={bits:t.distbits},y=rA(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,k),t.distbits=k.bits,y){A.msg="invalid distances set",t.mode=30;break}if(t.mode=20,e===nA)break A;case 20:t.mode=21;case 21:if(n>=6&&a>=258){A.next_out=g,A.avail_out=a,A.next_in=I,A.avail_in=n,t.hold=o,t.bits=B,$(A,Q),g=A.next_out,r=A.output,a=A.avail_out,I=A.next_in,i=A.input,n=A.avail_in,o=t.hold,B=t.bits,12===t.mode&&(t.back=-1);break}for(t.back=0;h=(m=t.lencode[o&(1<<t.lenbits)-1])>>>16&255,l=65535&m,!((c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(h&&0==(240&h)){for(u=c,w=h,d=l;h=(m=t.lencode[d+((o&(1<<u+w)-1)>>u)])>>>16&255,l=65535&m,!(u+(c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}o>>>=u,B-=u,t.back+=u}if(o>>>=c,B-=c,t.back+=c,t.length=l,0===h){t.mode=26;break}if(32&h){t.back=-1,t.mode=12;break}if(64&h){A.msg="invalid literal/length code",t.mode=30;break}t.extra=15&h,t.mode=22;case 22:if(t.extra){for(p=t.extra;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.length+=o&(1<<t.extra)-1,o>>>=t.extra,B-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=23;case 23:for(;h=(m=t.distcode[o&(1<<t.distbits)-1])>>>16&255,l=65535&m,!((c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(0==(240&h)){for(u=c,w=h,d=l;h=(m=t.distcode[d+((o&(1<<u+w)-1)>>u)])>>>16&255,l=65535&m,!(u+(c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}o>>>=u,B-=u,t.back+=u}if(o>>>=c,B-=c,t.back+=c,64&h){A.msg="invalid distance code",t.mode=30;break}t.offset=l,t.extra=15&h,t.mode=24;case 24:if(t.extra){for(p=t.extra;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.offset+=o&(1<<t.extra)-1,o>>>=t.extra,B-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){A.msg="invalid distance too far back",t.mode=30;break}t.mode=25;case 25:if(0===a)break A;if(E=Q-a,t.offset>E){if((E=t.offset-E)>t.whave&&t.sane){A.msg="invalid distance too far back",t.mode=30;break}E>t.wnext?(E-=t.wnext,s=t.wsize-E):s=t.wnext-E,E>t.length&&(E=t.length),f=t.window}else f=r,s=g-t.offset,E=t.length;E>a&&(E=a),a-=E,t.length-=E;do{r[g++]=f[s++]}while(--E);0===t.length&&(t.mode=21);break;case 26:if(0===a)break A;r[g++]=t.length,a--,t.mode=21;break;case 27:if(t.wrap){for(;B<32;){if(0===n)break A;n--,o|=i[I++]<<B,B+=8}if(Q-=a,A.total_out+=Q,t.total+=Q,Q&&(A.adler=t.check=t.flags?Y(t.check,r,Q,g-Q):J(t.check,r,Q,g-Q)),Q=a,(t.flags?o:cA(o))!==t.check){A.msg="incorrect data check",t.mode=30;break}o=0,B=0}t.mode=28;case 28:if(t.wrap&&t.flags){for(;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(o!==(4294967295&t.total)){A.msg="incorrect length check",t.mode=30;break}o=0,B=0}t.mode=29;case 29:y=oA;break A;case 30:y=QA;break A;case 31:return EA;default:return CA}return A.next_out=g,A.avail_out=a,A.next_in=I,A.avail_in=n,t.hold=o,t.bits=B,(t.wsize||Q!==A.avail_out&&t.mode<30&&(t.mode<27||e!==IA))&&mA(A,A.output,A.next_out,Q-A.avail_out),C-=A.avail_in,Q-=A.avail_out,A.total_in+=C,A.total_out+=Q,t.total+=Q,t.wrap&&Q&&(A.adler=t.check=t.flags?Y(t.check,r,Q,A.next_out-Q):J(t.check,r,Q,A.next_out-Q)),A.data_type=t.bits+(t.last?64:0)+(12===t.mode?128:0)+(20===t.mode||15===t.mode?256:0),(0===C&&0===Q||e===IA)&&y===aA&&(y=sA),y},inflateEnd:function(A){if(!A||!A.state)return CA;var e=A.state;return e.window&&(e.window=null),A.state=null,aA},inflateGetHeader:function(A,e){if(!A||!A.state)return CA;var t=A.state;return 0==(2&t.wrap)?CA:(t.head=e,e.done=!1,aA)},inflateSetDictionary:function(A,e){var t,i=e.length;return A&&A.state?0!==(t=A.state).wrap&&11!==t.mode?CA:11===t.mode&&J(1,e,i,0)!==t.check?QA:mA(A,e,i,i)?(t.mode=31,EA):(t.havedict=1,aA):CA},inflateInfo:"pako inflate (from Nodeca project)"};var FA=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},SA=Object.prototype.toString,vA=H.Z_NO_FLUSH,RA=H.Z_FINISH,UA=H.Z_OK,LA=H.Z_STREAM_END,bA=H.Z_NEED_DICT,MA=H.Z_STREAM_ERROR,NA=H.Z_DATA_ERROR,xA=H.Z_MEM_ERROR;function JA(A){this.options=P({chunkSize:65536,windowBits:15,to:""},A||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||A&&A.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z,this.strm.avail_out=0;var t=GA.inflateInit2(this.strm,e.windowBits);if(t!==UA)throw new Error(K[t]);if(this.header=new FA,GA.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Z(e.dictionary):"[object ArrayBuffer]"===SA.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=GA.inflateSetDictionary(this.strm,e.dictionary))!==UA))throw new Error(K[t])}function qA(A,e){var t=new JA(e);if(t.push(A),t.err)throw t.msg||K[t.err];return t.result}JA.prototype.push=function(A,e){var t,i,r,I=this.strm,g=this.options.chunkSize,n=this.options.dictionary;if(this.ended)return!1;for(i=e===~~e?e:!0===e?RA:vA,"[object ArrayBuffer]"===SA.call(A)?I.input=new Uint8Array(A):I.input=A,I.next_in=0,I.avail_in=I.input.length;;){for(0===I.avail_out&&(I.output=new Uint8Array(g),I.next_out=0,I.avail_out=g),(t=GA.inflate(I,i))===bA&&n&&((t=GA.inflateSetDictionary(I,n))===UA?t=GA.inflate(I,i):t===NA&&(t=bA));I.avail_in>0&&t===LA&&I.state.wrap>0&&0!==A[I.next_in];)GA.inflateReset(I),t=GA.inflate(I,i);switch(t){case MA:case NA:case bA:case xA:return this.onEnd(t),this.ended=!0,!1}if(r=I.avail_out,I.next_out&&(0===I.avail_out||t===LA))if("string"===this.options.to){var a=W(I.output,I.next_out),o=I.next_out-a,B=j(I.output,a);I.next_out=o,I.avail_out=g-o,o&&I.output.set(I.output.subarray(a,a+o),0),this.onData(B)}else this.onData(I.output.length===I.next_out?I.output:I.output.subarray(0,I.next_out));if(t!==UA||0!==r){if(t===LA)return t=GA.inflateEnd(this.strm),this.onEnd(t),this.ended=!0,!0;if(0===I.avail_in)break}}return!0},JA.prototype.onData=function(A){this.chunks.push(A)},JA.prototype.onEnd=function(A){A===UA&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=T(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};var YA={Inflate:JA,inflate:qA,inflateRaw:function(A,e){return(e=e||{}).raw=!0,qA(A,e)},ungzip:qA,constants:H}.inflate;function KA(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var HA=function(A){s(t,w);var e=KA(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){return YA(new Uint8Array(A)).buffer}}]),t}(),OA=Object.freeze({__proto__:null,default:HA});function PA(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var TA,VA=function(A){s(t,w);var e=PA(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){for(var e=new DataView(A),t=[],i=0;i<A.byteLength;++i){var r=e.getInt8(i);if(r<0){var I=e.getUint8(i+1);r=-r;for(var g=0;g<=r;++g)t.push(I);i+=1}else{for(var n=0;n<=r;++n)t.push(e.getUint8(i+n+1));i+=r+1}}return new Uint8Array(t).buffer}}]),t}(),_A=Object.freeze({__proto__:null,default:VA}),XA={exports:{}};TA=XA,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var A,e,t,i,r,I,g,n,a,o,B,C,Q,E,s,f,c=(A={defaultNoDataValue:-34027999387901484e22,decode:function(I,g){var n=(g=g||{}).encodedMaskData||null===g.encodedMaskData,a=r(I,g.inputOffset||0,n),o=null!==g.noDataValue?g.noDataValue:A.defaultNoDataValue,B=e(a,g.pixelType||Float32Array,g.encodedMaskData,o,g.returnMask),C={width:a.width,height:a.height,pixelData:B.resultPixels,minValue:B.minValue,maxValue:a.pixels.maxValue,noDataValue:o};return B.resultMask&&(C.maskData=B.resultMask),g.returnEncodedMask&&a.mask&&(C.encodedMaskData=a.mask.bitset?a.mask.bitset:null),g.returnFileInfo&&(C.fileInfo=t(a),g.computeUsedBitDepths&&(C.fileInfo.bitDepths=i(a))),C}},e=function(A,e,t,i,r){var g,n,a,o=0,B=A.pixels.numBlocksX,C=A.pixels.numBlocksY,Q=Math.floor(A.width/B),E=Math.floor(A.height/C),s=2*A.maxZError,f=Number.MAX_VALUE;t=t||(A.mask?A.mask.bitset:null),n=new e(A.width*A.height),r&&t&&(a=new Uint8Array(A.width*A.height));for(var c,h,l=new Float32Array(Q*E),u=0;u<=C;u++){var w=u!==C?E:A.height%C;if(0!==w)for(var d=0;d<=B;d++){var D=d!==B?Q:A.width%B;if(0!==D){var y,k,p,m,G=u*A.width*E+d*Q,F=A.width-D,S=A.pixels.blocks[o];if(S.encoding<2?(0===S.encoding?y=S.rawData:(I(S.stuffedData,S.bitsPerPixel,S.numValidPixels,S.offset,s,l,A.pixels.maxValue),y=l),k=0):p=2===S.encoding?0:S.offset,t)for(h=0;h<w;h++){for(7&G&&(m=t[G>>3],m<<=7&G),c=0;c<D;c++)7&G||(m=t[G>>3]),128&m?(a&&(a[G]=1),f=f>(g=S.encoding<2?y[k++]:p)?g:f,n[G++]=g):(a&&(a[G]=0),n[G++]=i),m<<=1;G+=F}else if(S.encoding<2)for(h=0;h<w;h++){for(c=0;c<D;c++)f=f>(g=y[k++])?g:f,n[G++]=g;G+=F}else for(f=f>p?p:f,h=0;h<w;h++){for(c=0;c<D;c++)n[G++]=p;G+=F}if(1===S.encoding&&k!==S.numValidPixels)throw"Block and Mask do not match";o++}}}return{resultPixels:n,resultMask:a,minValue:f}},t=function(A){return{fileIdentifierString:A.fileIdentifierString,fileVersion:A.fileVersion,imageType:A.imageType,height:A.height,width:A.width,maxZError:A.maxZError,eofOffset:A.eofOffset,mask:A.mask?{numBlocksX:A.mask.numBlocksX,numBlocksY:A.mask.numBlocksY,numBytes:A.mask.numBytes,maxValue:A.mask.maxValue}:null,pixels:{numBlocksX:A.pixels.numBlocksX,numBlocksY:A.pixels.numBlocksY,numBytes:A.pixels.numBytes,maxValue:A.pixels.maxValue,noDataValue:A.noDataValue}}},i=function(A){for(var e=A.pixels.numBlocksX*A.pixels.numBlocksY,t={},i=0;i<e;i++){var r=A.pixels.blocks[i];0===r.encoding?t.float32=!0:1===r.encoding?t[r.bitsPerPixel]=!0:t[0]=!0}return Object.keys(t)},r=function(A,e,t){var i={},r=new Uint8Array(A,e,10);if(i.fileIdentifierString=String.fromCharCode.apply(null,r),"CntZImage"!==i.fileIdentifierString.trim())throw"Unexpected file identifier string: "+i.fileIdentifierString;e+=10;var I=new DataView(A,e,24);if(i.fileVersion=I.getInt32(0,!0),i.imageType=I.getInt32(4,!0),i.height=I.getUint32(8,!0),i.width=I.getUint32(12,!0),i.maxZError=I.getFloat64(16,!0),e+=24,!t)if(I=new DataView(A,e,16),i.mask={},i.mask.numBlocksY=I.getUint32(0,!0),i.mask.numBlocksX=I.getUint32(4,!0),i.mask.numBytes=I.getUint32(8,!0),i.mask.maxValue=I.getFloat32(12,!0),e+=16,i.mask.numBytes>0){var g=new Uint8Array(Math.ceil(i.width*i.height/8)),n=(I=new DataView(A,e,i.mask.numBytes)).getInt16(0,!0),a=2,o=0;do{if(n>0)for(;n--;)g[o++]=I.getUint8(a++);else{var B=I.getUint8(a++);for(n=-n;n--;)g[o++]=B}n=I.getInt16(a,!0),a+=2}while(a<i.mask.numBytes);if(-32768!==n||o<g.length)throw"Unexpected end of mask RLE encoding";i.mask.bitset=g,e+=i.mask.numBytes}else 0==(i.mask.numBytes|i.mask.numBlocksY|i.mask.maxValue)&&(i.mask.bitset=new Uint8Array(Math.ceil(i.width*i.height/8)));I=new DataView(A,e,16),i.pixels={},i.pixels.numBlocksY=I.getUint32(0,!0),i.pixels.numBlocksX=I.getUint32(4,!0),i.pixels.numBytes=I.getUint32(8,!0),i.pixels.maxValue=I.getFloat32(12,!0),e+=16;var C=i.pixels.numBlocksX,Q=i.pixels.numBlocksY,E=C+(i.width%C>0?1:0),s=Q+(i.height%Q>0?1:0);i.pixels.blocks=new Array(E*s);for(var f=0,c=0;c<s;c++)for(var h=0;h<E;h++){var l=0,u=A.byteLength-e;I=new DataView(A,e,Math.min(10,u));var w={};i.pixels.blocks[f++]=w;var d=I.getUint8(0);if(l++,w.encoding=63&d,w.encoding>3)throw"Invalid block encoding ("+w.encoding+")";if(2!==w.encoding){if(0!==d&&2!==d){if(d>>=6,w.offsetType=d,2===d)w.offset=I.getInt8(1),l++;else if(1===d)w.offset=I.getInt16(1,!0),l+=2;else{if(0!==d)throw"Invalid block offset type";w.offset=I.getFloat32(1,!0),l+=4}if(1===w.encoding)if(d=I.getUint8(l),l++,w.bitsPerPixel=63&d,d>>=6,w.numValidPixelsType=d,2===d)w.numValidPixels=I.getUint8(l),l++;else if(1===d)w.numValidPixels=I.getUint16(l,!0),l+=2;else{if(0!==d)throw"Invalid valid pixel count type";w.numValidPixels=I.getUint32(l,!0),l+=4}}var D;if(e+=l,3!==w.encoding)if(0===w.encoding){var y=(i.pixels.numBytes-1)/4;if(y!==Math.floor(y))throw"uncompressed block has invalid length";D=new ArrayBuffer(4*y),new Uint8Array(D).set(new Uint8Array(A,e,4*y));var k=new Float32Array(D);w.rawData=k,e+=4*y}else if(1===w.encoding){var p=Math.ceil(w.numValidPixels*w.bitsPerPixel/8),m=Math.ceil(p/4);D=new ArrayBuffer(4*m),new Uint8Array(D).set(new Uint8Array(A,e,p)),w.stuffedData=new Uint32Array(D),e+=p}}else e++}return i.eofOffset=e,i},I=function(A,e,t,i,r,I,g){var n,a,o,B=(1<<e)-1,C=0,Q=0,E=Math.ceil((g-i)/r),s=4*A.length-Math.ceil(e*t/8);for(A[A.length-1]<<=8*s,n=0;n<t;n++){if(0===Q&&(o=A[C++],Q=32),Q>=e)a=o>>>Q-e&B,Q-=e;else{var f=e-Q;a=(o&B)<<f&B,a+=(o=A[C++])>>>(Q=32-f)}I[n]=a<E?i+a*r:g}return I},A),h=(g=function(A,e,t,i,r,I,g,n){var a,o,B,C,Q,E=(1<<t)-1,s=0,f=0,c=4*A.length-Math.ceil(t*i/8);if(A[A.length-1]<<=8*c,r)for(a=0;a<i;a++)0===f&&(B=A[s++],f=32),f>=t?(o=B>>>f-t&E,f-=t):(o=(B&E)<<(C=t-f)&E,o+=(B=A[s++])>>>(f=32-C)),e[a]=r[o];else for(Q=Math.ceil((n-I)/g),a=0;a<i;a++)0===f&&(B=A[s++],f=32),f>=t?(o=B>>>f-t&E,f-=t):(o=(B&E)<<(C=t-f)&E,o+=(B=A[s++])>>>(f=32-C)),e[a]=o<Q?I+o*g:n},n=function(A,e,t,i,r,I){var g,n=(1<<e)-1,a=0,o=0,B=0,C=0,Q=0,E=[],s=4*A.length-Math.ceil(e*t/8);A[A.length-1]<<=8*s;var f=Math.ceil((I-i)/r);for(o=0;o<t;o++)0===C&&(g=A[a++],C=32),C>=e?(Q=g>>>C-e&n,C-=e):(Q=(g&n)<<(B=e-C)&n,Q+=(g=A[a++])>>>(C=32-B)),E[o]=Q<f?i+Q*r:I;return E.unshift(i),E},a=function(A,e,t,i,r,I,g,n){var a,o,B,C,Q=(1<<t)-1,E=0,s=0,f=0;if(r)for(a=0;a<i;a++)0===s&&(B=A[E++],s=32,f=0),s>=t?(o=B>>>f&Q,s-=t,f+=t):(o=B>>>f&Q,s=32-(C=t-s),o|=((B=A[E++])&(1<<C)-1)<<t-C,f=C),e[a]=r[o];else{var c=Math.ceil((n-I)/g);for(a=0;a<i;a++)0===s&&(B=A[E++],s=32,f=0),s>=t?(o=B>>>f&Q,s-=t,f+=t):(o=B>>>f&Q,s=32-(C=t-s),o|=((B=A[E++])&(1<<C)-1)<<t-C,f=C),e[a]=o<c?I+o*g:n}return e},o=function(A,e,t,i,r,I){var g,n=(1<<e)-1,a=0,o=0,B=0,C=0,Q=0,E=0,s=[],f=Math.ceil((I-i)/r);for(o=0;o<t;o++)0===C&&(g=A[a++],C=32,E=0),C>=e?(Q=g>>>E&n,C-=e,E+=e):(Q=g>>>E&n,C=32-(B=e-C),Q|=((g=A[a++])&(1<<B)-1)<<e-B,E=B),s[o]=Q<f?i+Q*r:I;return s.unshift(i),s},B=function(A,e,t,i){var r,I,g,n,a=(1<<t)-1,o=0,B=0,C=4*A.length-Math.ceil(t*i/8);for(A[A.length-1]<<=8*C,r=0;r<i;r++)0===B&&(g=A[o++],B=32),B>=t?(I=g>>>B-t&a,B-=t):(I=(g&a)<<(n=t-B)&a,I+=(g=A[o++])>>>(B=32-n)),e[r]=I;return e},C=function(A,e,t,i){var r,I,g,n,a=(1<<t)-1,o=0,B=0,C=0;for(r=0;r<i;r++)0===B&&(g=A[o++],B=32,C=0),B>=t?(I=g>>>C&a,B-=t,C+=t):(I=g>>>C&a,B=32-(n=t-B),I|=((g=A[o++])&(1<<n)-1)<<t-n,C=n),e[r]=I;return e},Q={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(A){for(var e=65535,t=65535,i=A.length,r=Math.floor(i/2),I=0;r;){var g=r>=359?359:r;r-=g;do{e+=A[I++]<<8,t+=e+=A[I++]}while(--g);e=(65535&e)+(e>>>16),t=(65535&t)+(t>>>16)}return 1&i&&(t+=e+=A[I]<<8),((t=(65535&t)+(t>>>16))<<16|(e=(65535&e)+(e>>>16)))>>>0},readHeaderInfo:function(A,e){var t=e.ptr,i=new Uint8Array(A,t,6),r={};if(r.fileIdentifierString=String.fromCharCode.apply(null,i),0!==r.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+r.fileIdentifierString;t+=6;var I,g=new DataView(A,t,8),n=g.getInt32(0,!0);if(r.fileVersion=n,t+=4,n>=3&&(r.checksum=g.getUint32(4,!0),t+=4),g=new DataView(A,t,12),r.height=g.getUint32(0,!0),r.width=g.getUint32(4,!0),t+=8,n>=4?(r.numDims=g.getUint32(8,!0),t+=4):r.numDims=1,g=new DataView(A,t,40),r.numValidPixel=g.getUint32(0,!0),r.microBlockSize=g.getInt32(4,!0),r.blobSize=g.getInt32(8,!0),r.imageType=g.getInt32(12,!0),r.maxZError=g.getFloat64(16,!0),r.zMin=g.getFloat64(24,!0),r.zMax=g.getFloat64(32,!0),t+=40,e.headerInfo=r,e.ptr=t,n>=3&&(I=n>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(A,t-I,r.blobSize-14))!==r.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(A,e){var t=e.headerInfo,i=this.getDataTypeArray(t.imageType),r=t.numDims*this.getDataTypeSize(t.imageType),I=this.readSubArray(A,e.ptr,i,r),g=this.readSubArray(A,e.ptr+r,i,r);e.ptr+=2*r;var n,a=!0;for(n=0;n<t.numDims;n++)if(I[n]!==g[n]){a=!1;break}return t.minValues=I,t.maxValues=g,a},readSubArray:function(A,e,t,i){var r;if(t===Uint8Array)r=new Uint8Array(A,e,i);else{var I=new ArrayBuffer(i);new Uint8Array(I).set(new Uint8Array(A,e,i)),r=new t(I)}return r},readMask:function(A,e){var t,i,r=e.ptr,I=e.headerInfo,g=I.width*I.height,n=I.numValidPixel,a=new DataView(A,r,4),o={};if(o.numBytes=a.getUint32(0,!0),r+=4,(0===n||g===n)&&0!==o.numBytes)throw"invalid mask";if(0===n)t=new Uint8Array(Math.ceil(g/8)),o.bitset=t,i=new Uint8Array(g),e.pixels.resultMask=i,r+=o.numBytes;else if(o.numBytes>0){t=new Uint8Array(Math.ceil(g/8));var B=(a=new DataView(A,r,o.numBytes)).getInt16(0,!0),C=2,Q=0,E=0;do{if(B>0)for(;B--;)t[Q++]=a.getUint8(C++);else for(E=a.getUint8(C++),B=-B;B--;)t[Q++]=E;B=a.getInt16(C,!0),C+=2}while(C<o.numBytes);if(-32768!==B||Q<t.length)throw"Unexpected end of mask RLE encoding";i=new Uint8Array(g);var s=0,f=0;for(f=0;f<g;f++)7&f?(s=t[f>>3],s<<=7&f):s=t[f>>3],128&s&&(i[f]=1);e.pixels.resultMask=i,o.bitset=t,r+=o.numBytes}return e.ptr=r,e.mask=o,!0},readDataOneSweep:function(A,e,t,i){var r,I=e.ptr,g=e.headerInfo,n=g.numDims,a=g.width*g.height,o=g.imageType,B=g.numValidPixel*Q.getDataTypeSize(o)*n,C=e.pixels.resultMask;if(t===Uint8Array)r=new Uint8Array(A,I,B);else{var E=new ArrayBuffer(B);new Uint8Array(E).set(new Uint8Array(A,I,B)),r=new t(E)}if(r.length===a*n)e.pixels.resultPixels=i?Q.swapDimensionOrder(r,a,n,t,!0):r;else{e.pixels.resultPixels=new t(a*n);var s=0,f=0,c=0,h=0;if(n>1){if(i){for(f=0;f<a;f++)if(C[f])for(h=f,c=0;c<n;c++,h+=a)e.pixels.resultPixels[h]=r[s++]}else for(f=0;f<a;f++)if(C[f])for(h=f*n,c=0;c<n;c++)e.pixels.resultPixels[h+c]=r[s++]}else for(f=0;f<a;f++)C[f]&&(e.pixels.resultPixels[f]=r[s++])}return I+=B,e.ptr=I,!0},readHuffmanTree:function(A,e){var t=this.HUFFMAN_LUT_BITS_MAX,i=new DataView(A,e.ptr,16);if(e.ptr+=16,i.getInt32(0,!0)<2)throw"unsupported Huffman version";var r=i.getInt32(4,!0),I=i.getInt32(8,!0),g=i.getInt32(12,!0);if(I>=g)return!1;var n=new Uint32Array(g-I);Q.decodeBits(A,e,n);var a,o,B,C,s=[];for(a=I;a<g;a++)s[o=a-(a<r?0:r)]={first:n[a-I],second:null};var f=A.byteLength-e.ptr,c=Math.ceil(f/4),h=new ArrayBuffer(4*c);new Uint8Array(h).set(new Uint8Array(A,e.ptr,f));var l,u=new Uint32Array(h),w=0,d=0;for(l=u[0],a=I;a<g;a++)(C=s[o=a-(a<r?0:r)].first)>0&&(s[o].second=l<<w>>>32-C,32-w>=C?32===(w+=C)&&(w=0,l=u[++d]):(w+=C-32,l=u[++d],s[o].second|=l>>>32-w));var D=0,y=0,k=new E;for(a=0;a<s.length;a++)void 0!==s[a]&&(D=Math.max(D,s[a].first));y=D>=t?t:D;var p,m,G,F,S,v=[];for(a=I;a<g;a++)if((C=s[o=a-(a<r?0:r)].first)>0)if(p=[C,o],C<=y)for(m=s[o].second<<y-C,G=1<<y-C,B=0;B<G;B++)v[m|B]=p;else for(m=s[o].second,S=k,F=C-1;F>=0;F--)m>>>F&1?(S.right||(S.right=new E),S=S.right):(S.left||(S.left=new E),S=S.left),0!==F||S.val||(S.val=p[1]);return{decodeLut:v,numBitsLUTQick:y,numBitsLUT:D,tree:k,stuffedData:u,srcPtr:d,bitPos:w}},readHuffman:function(A,e,t,i){var r,I,g,n,a,o,B,C,E,s=e.headerInfo.numDims,f=e.headerInfo.height,c=e.headerInfo.width,h=c*f,l=this.readHuffmanTree(A,e),u=l.decodeLut,w=l.tree,d=l.stuffedData,D=l.srcPtr,y=l.bitPos,k=l.numBitsLUTQick,p=l.numBitsLUT,m=0===e.headerInfo.imageType?128:0,G=e.pixels.resultMask,F=0;y>0&&(D++,y=0);var S,v=d[D],R=1===e.encodeMode,U=new t(h*s),L=U;if(s<2||R){for(S=0;S<s;S++)if(s>1&&(L=new t(U.buffer,h*S,h),F=0),e.headerInfo.numValidPixel===c*f)for(C=0,o=0;o<f;o++)for(B=0;B<c;B++,C++){if(I=0,a=n=v<<y>>>32-k,32-y<k&&(a=n|=d[D+1]>>>64-y-k),u[a])I=u[a][1],y+=u[a][0];else for(a=n=v<<y>>>32-p,32-y<p&&(a=n|=d[D+1]>>>64-y-p),r=w,E=0;E<p;E++)if(!(r=n>>>p-E-1&1?r.right:r.left).left&&!r.right){I=r.val,y=y+E+1;break}y>=32&&(y-=32,v=d[++D]),g=I-m,R?(g+=B>0?F:o>0?L[C-c]:F,g&=255,L[C]=g,F=g):L[C]=g}else for(C=0,o=0;o<f;o++)for(B=0;B<c;B++,C++)if(G[C]){if(I=0,a=n=v<<y>>>32-k,32-y<k&&(a=n|=d[D+1]>>>64-y-k),u[a])I=u[a][1],y+=u[a][0];else for(a=n=v<<y>>>32-p,32-y<p&&(a=n|=d[D+1]>>>64-y-p),r=w,E=0;E<p;E++)if(!(r=n>>>p-E-1&1?r.right:r.left).left&&!r.right){I=r.val,y=y+E+1;break}y>=32&&(y-=32,v=d[++D]),g=I-m,R?(B>0&&G[C-1]?g+=F:o>0&&G[C-c]?g+=L[C-c]:g+=F,g&=255,L[C]=g,F=g):L[C]=g}}else for(C=0,o=0;o<f;o++)for(B=0;B<c;B++)if(C=o*c+B,!G||G[C])for(S=0;S<s;S++,C+=h){if(I=0,a=n=v<<y>>>32-k,32-y<k&&(a=n|=d[D+1]>>>64-y-k),u[a])I=u[a][1],y+=u[a][0];else for(a=n=v<<y>>>32-p,32-y<p&&(a=n|=d[D+1]>>>64-y-p),r=w,E=0;E<p;E++)if(!(r=n>>>p-E-1&1?r.right:r.left).left&&!r.right){I=r.val,y=y+E+1;break}y>=32&&(y-=32,v=d[++D]),g=I-m,L[C]=g}e.ptr=e.ptr+4*(D+1)+(y>0?4:0),e.pixels.resultPixels=U,s>1&&!i&&(e.pixels.resultPixels=Q.swapDimensionOrder(U,h,s,t))},decodeBits:function(A,e,t,i,r){var I=e.headerInfo,Q=I.fileVersion,E=0,s=A.byteLength-e.ptr>=5?5:A.byteLength-e.ptr,f=new DataView(A,e.ptr,s),c=f.getUint8(0);E++;var h=c>>6,l=0===h?4:3-h,u=(32&c)>0,w=31&c,d=0;if(1===l)d=f.getUint8(E),E++;else if(2===l)d=f.getUint16(E,!0),E+=2;else{if(4!==l)throw"Invalid valid pixel count type";d=f.getUint32(E,!0),E+=4}var D,y,k,p,m,G,F,S,v,R=2*I.maxZError,U=I.numDims>1?I.maxValues[r]:I.zMax;if(u){for(e.counter.lut++,S=f.getUint8(E),E++,p=Math.ceil((S-1)*w/8),m=Math.ceil(p/4),y=new ArrayBuffer(4*m),k=new Uint8Array(y),e.ptr+=E,k.set(new Uint8Array(A,e.ptr,p)),F=new Uint32Array(y),e.ptr+=p,v=0;S-1>>>v;)v++;p=Math.ceil(d*v/8),m=Math.ceil(p/4),y=new ArrayBuffer(4*m),(k=new Uint8Array(y)).set(new Uint8Array(A,e.ptr,p)),D=new Uint32Array(y),e.ptr+=p,G=Q>=3?o(F,w,S-1,i,R,U):n(F,w,S-1,i,R,U),Q>=3?a(D,t,v,d,G):g(D,t,v,d,G)}else e.counter.bitstuffer++,v=w,e.ptr+=E,v>0&&(p=Math.ceil(d*v/8),m=Math.ceil(p/4),y=new ArrayBuffer(4*m),(k=new Uint8Array(y)).set(new Uint8Array(A,e.ptr,p)),D=new Uint32Array(y),e.ptr+=p,Q>=3?null==i?C(D,t,v,d):a(D,t,v,d,!1,i,R,U):null==i?B(D,t,v,d):g(D,t,v,d,!1,i,R,U))},readTiles:function(A,e,t,i){var r=e.headerInfo,I=r.width,g=r.height,n=I*g,a=r.microBlockSize,o=r.imageType,B=Q.getDataTypeSize(o),C=Math.ceil(I/a),E=Math.ceil(g/a);e.pixels.numBlocksY=E,e.pixels.numBlocksX=C,e.pixels.ptr=0;var s,f,c,h,l,u,w,d,D,y,k=0,p=0,m=0,G=0,F=0,S=0,v=0,R=0,U=0,L=0,b=0,M=0,N=0,x=0,J=0,q=new t(a*a),Y=g%a||a,K=I%a||a,H=r.numDims,O=e.pixels.resultMask,P=e.pixels.resultPixels,T=r.fileVersion>=5?14:15,V=r.zMax;for(m=0;m<E;m++)for(F=m!==E-1?a:Y,G=0;G<C;G++)for(L=m*I*a+G*a,b=I-(S=G!==C-1?a:K),d=0;d<H;d++){if(H>1?(y=P,L=m*I*a+G*a,P=new t(e.pixels.resultPixels.buffer,n*d*B,n),V=r.maxValues[d]):y=null,v=A.byteLength-e.ptr,f={},J=0,R=(s=new DataView(A,e.ptr,Math.min(10,v))).getUint8(0),J++,D=r.fileVersion>=5?4&R:0,U=R>>6&255,(R>>2&T)!=(G*a>>3&T))throw"integrity issue";if(D&&0===d)throw"integrity issue";if((l=3&R)>3)throw e.ptr+=J,"Invalid block encoding ("+l+")";if(2!==l)if(0===l){if(D)throw"integrity issue";if(e.counter.uncompressed++,e.ptr+=J,M=(M=F*S*B)<(N=A.byteLength-e.ptr)?M:N,c=new ArrayBuffer(M%B==0?M:M+B-M%B),new Uint8Array(c).set(new Uint8Array(A,e.ptr,M)),h=new t(c),x=0,O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=h[x++]),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L++]=h[x++];L+=b}e.ptr+=x*B}else if(u=Q.getDataTypeUsed(D&&o<6?4:o,U),w=Q.getOnePixel(f,J,u,s),J+=Q.getDataTypeSize(u),3===l)if(e.ptr+=J,e.counter.constantoffset++,O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=D?Math.min(V,y[L]+w):w),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L]=D?Math.min(V,y[L]+w):w,L++;L+=b}else if(e.ptr+=J,Q.decodeBits(A,e,q,w,d),J=0,D)if(O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=q[J++]+y[L]),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L]=q[J++]+y[L],L++;L+=b}else if(O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=q[J++]),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L++]=q[J++];L+=b}else{if(D)if(O)for(k=0;k<F;k++)for(p=0;p<S;p++)O[L]&&(P[L]=y[L]),L++;else for(k=0;k<F;k++)for(p=0;p<S;p++)P[L]=y[L],L++;e.counter.constant++,e.ptr+=J}}H>1&&!i&&(e.pixels.resultPixels=Q.swapDimensionOrder(e.pixels.resultPixels,n,H,t))},formatFileInfo:function(A){return{fileIdentifierString:A.headerInfo.fileIdentifierString,fileVersion:A.headerInfo.fileVersion,imageType:A.headerInfo.imageType,height:A.headerInfo.height,width:A.headerInfo.width,numValidPixel:A.headerInfo.numValidPixel,microBlockSize:A.headerInfo.microBlockSize,blobSize:A.headerInfo.blobSize,maxZError:A.headerInfo.maxZError,pixelType:Q.getPixelType(A.headerInfo.imageType),eofOffset:A.eofOffset,mask:A.mask?{numBytes:A.mask.numBytes}:null,pixels:{numBlocksX:A.pixels.numBlocksX,numBlocksY:A.pixels.numBlocksY,maxValue:A.headerInfo.zMax,minValue:A.headerInfo.zMin,noDataValue:A.noDataValue}}},constructConstantSurface:function(A,e){var t=A.headerInfo.zMax,i=A.headerInfo.zMin,r=A.headerInfo.maxValues,I=A.headerInfo.numDims,g=A.headerInfo.height*A.headerInfo.width,n=0,a=0,o=0,B=A.pixels.resultMask,C=A.pixels.resultPixels;if(B)if(I>1){if(e)for(n=0;n<I;n++)for(o=n*g,t=r[n],a=0;a<g;a++)B[a]&&(C[o+a]=t);else for(a=0;a<g;a++)if(B[a])for(o=a*I,n=0;n<I;n++)C[o+I]=r[n]}else for(a=0;a<g;a++)B[a]&&(C[a]=t);else if(I>1&&i!==t)if(e)for(n=0;n<I;n++)for(o=n*g,t=r[n],a=0;a<g;a++)C[o+a]=t;else for(a=0;a<g;a++)for(o=a*I,n=0;n<I;n++)C[o+n]=r[n];else for(a=0;a<g*I;a++)C[a]=t},getDataTypeArray:function(A){var e;switch(A){case 0:e=Int8Array;break;case 1:e=Uint8Array;break;case 2:e=Int16Array;break;case 3:e=Uint16Array;break;case 4:e=Int32Array;break;case 5:e=Uint32Array;break;case 6:default:e=Float32Array;break;case 7:e=Float64Array}return e},getPixelType:function(A){var e;switch(A){case 0:e="S8";break;case 1:e="U8";break;case 2:e="S16";break;case 3:e="U16";break;case 4:e="S32";break;case 5:e="U32";break;case 6:default:e="F32";break;case 7:e="F64"}return e},isValidPixelValue:function(A,e){if(null==e)return!1;var t;switch(A){case 0:t=e>=-128&&e<=127;break;case 1:t=e>=0&&e<=255;break;case 2:t=e>=-32768&&e<=32767;break;case 3:t=e>=0&&e<=65536;break;case 4:t=e>=-2147483648&&e<=2147483647;break;case 5:t=e>=0&&e<=4294967296;break;case 6:t=e>=-34027999387901484e22&&e<=34027999387901484e22;break;case 7:t=e>=-17976931348623157e292&&e<=17976931348623157e292;break;default:t=!1}return t},getDataTypeSize:function(A){var e=0;switch(A){case 0:case 1:e=1;break;case 2:case 3:e=2;break;case 4:case 5:case 6:e=4;break;case 7:e=8;break;default:e=A}return e},getDataTypeUsed:function(A,e){var t=A;switch(A){case 2:case 4:t=A-e;break;case 3:case 5:t=A-2*e;break;case 6:t=0===e?A:1===e?2:1;break;case 7:t=0===e?A:A-2*e+1;break;default:t=A}return t},getOnePixel:function(A,e,t,i){var r=0;switch(t){case 0:r=i.getInt8(e);break;case 1:r=i.getUint8(e);break;case 2:r=i.getInt16(e,!0);break;case 3:r=i.getUint16(e,!0);break;case 4:r=i.getInt32(e,!0);break;case 5:r=i.getUInt32(e,!0);break;case 6:r=i.getFloat32(e,!0);break;case 7:r=i.getFloat64(e,!0);break;default:throw"the decoder does not understand this pixel type"}return r},swapDimensionOrder:function(A,e,t,i,r){var I=0,g=0,n=0,a=0,o=A;if(t>1)if(o=new i(e*t),r)for(I=0;I<e;I++)for(a=I,n=0;n<t;n++,a+=e)o[a]=A[g++];else for(I=0;I<e;I++)for(a=I,n=0;n<t;n++,a+=e)o[g++]=A[a];return o}},E=function(A,e,t){this.val=A,this.left=e,this.right=t},{decode:function(A,e){var t=(e=e||{}).noDataValue,i=0,r={};r.ptr=e.inputOffset||0,r.pixels={},Q.readHeaderInfo(A,r);var I=r.headerInfo,g=I.fileVersion,n=Q.getDataTypeArray(I.imageType);if(g>5)throw"unsupported lerc version 2."+g;Q.readMask(A,r),I.numValidPixel===I.width*I.height||r.pixels.resultMask||(r.pixels.resultMask=e.maskData);var a=I.width*I.height;r.pixels.resultPixels=new n(a*I.numDims),r.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var o,B=!e.returnPixelInterleavedDims;if(0!==I.numValidPixel)if(I.zMax===I.zMin)Q.constructConstantSurface(r,B);else if(g>=4&&Q.checkMinMaxRanges(A,r))Q.constructConstantSurface(r,B);else{var C=new DataView(A,r.ptr,2),E=C.getUint8(0);if(r.ptr++,E)Q.readDataOneSweep(A,r,n,B);else if(g>1&&I.imageType<=1&&Math.abs(I.maxZError-.5)<1e-5){var s=C.getUint8(1);if(r.ptr++,r.encodeMode=s,s>2||g<4&&s>1)throw"Invalid Huffman flag "+s;s?Q.readHuffman(A,r,n,B):Q.readTiles(A,r,n,B)}else Q.readTiles(A,r,n,B)}r.eofOffset=r.ptr,e.inputOffset?(o=r.headerInfo.blobSize+e.inputOffset-r.ptr,Math.abs(o)>=1&&(r.eofOffset=e.inputOffset+r.headerInfo.blobSize)):(o=r.headerInfo.blobSize-r.ptr,Math.abs(o)>=1&&(r.eofOffset=r.headerInfo.blobSize));var f={width:I.width,height:I.height,pixelData:r.pixels.resultPixels,minValue:I.zMin,maxValue:I.zMax,validPixelCount:I.numValidPixel,dimCount:I.numDims,dimStats:{minValues:I.minValues,maxValues:I.maxValues},maskData:r.pixels.resultMask};if(r.pixels.resultMask&&Q.isValidPixelValue(I.imageType,t)){var c=r.pixels.resultMask;for(i=0;i<a;i++)c[i]||(f.pixelData[i]=t);f.noDataValue=t}return r.noDataValue=t,e.returnFileInfo&&(f.fileInfo=Q.formatFileInfo(r)),f},getBandCount:function(A){for(var e=0,t=0,i={ptr:0,pixels:{}};t<A.byteLength-58;)Q.readHeaderInfo(A,i),t+=i.headerInfo.blobSize,e++,i.ptr=t;return e}}),l=(s=new ArrayBuffer(4),f=new Uint8Array(s),new Uint32Array(s)[0]=1,1===f[0]),u={decode:function(A,e){if(!l)throw"Big endian system is not supported.";var t,i,r=(e=e||{}).inputOffset||0,I=new Uint8Array(A,r,10),g=String.fromCharCode.apply(null,I);if("CntZImage"===g.trim())t=c,i=1;else{if("Lerc2"!==g.substring(0,5))throw"Unexpected file identifier string: "+g;t=h,i=2}for(var n,a,o,B,C,Q,E=0,s=A.byteLength-10,f=[],u={width:0,height:0,pixels:[],pixelType:e.pixelType,mask:null,statistics:[]},w=0;r<s;){var d=t.decode(A,{inputOffset:r,encodedMaskData:n,maskData:o,returnMask:0===E,returnEncodedMask:0===E,returnFileInfo:!0,returnPixelInterleavedDims:e.returnPixelInterleavedDims,pixelType:e.pixelType||null,noDataValue:e.noDataValue||null});r=d.fileInfo.eofOffset,o=d.maskData,0===E&&(n=d.encodedMaskData,u.width=d.width,u.height=d.height,u.dimCount=d.dimCount||1,u.pixelType=d.pixelType||d.fileInfo.pixelType,u.mask=o),i>1&&(o&&f.push(o),d.fileInfo.mask&&d.fileInfo.mask.numBytes>0&&w++),E++,u.pixels.push(d.pixelData),u.statistics.push({minValue:d.minValue,maxValue:d.maxValue,noDataValue:d.noDataValue,dimStats:d.dimStats})}if(i>1&&w>1){for(Q=u.width*u.height,u.bandMasks=f,(o=new Uint8Array(Q)).set(f[0]),B=1;B<f.length;B++)for(a=f[B],C=0;C<Q;C++)o[C]=o[C]&a[C];u.maskData=o}return u}};TA.exports?TA.exports=u:this.Lerc=u}();var ZA,jA,WA,zA=XA.exports,$A={env:{emscripten_notify_memory_growth:function(A){WA=new Uint8Array(jA.exports.memory.buffer)}}},Ae=function(){function A(){B(this,A)}return Q(A,[{key:"init",value:function(){return ZA||(ZA="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+ee).then((function(A){return A.arrayBuffer()})).then((function(A){return WebAssembly.instantiate(A,$A)})).then(this._init):WebAssembly.instantiate(Buffer.from(ee,"base64"),$A).then(this._init))}},{key:"_init",value:function(A){jA=A.instance,$A.env.emscripten_notify_memory_growth(0)}},{key:"decode",value:function(A){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!jA)throw new Error("ZSTDDecoder: Await .init() before decoding.");var t=A.byteLength,i=jA.exports.malloc(t);WA.set(A,i),e=e||Number(jA.exports.ZSTD_findDecompressedSize(i,t));var r=jA.exports.malloc(e),I=jA.exports.ZSTD_decompress(r,e,i,t),g=WA.slice(r,r+I);return jA.exports.free(i),jA.exports.free(r),g}}]),A}(),ee="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",te={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},ie={};for(var re in te)te.hasOwnProperty(re)&&(ie[te[re]]=parseInt(re,10));ie.BitsPerSample,ie.ExtraSamples,ie.SampleFormat,ie.StripByteCounts,ie.StripOffsets,ie.StripRowCounts,ie.TileByteCounts,ie.TileOffsets,ie.SubIFDs;var Ie={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},ge={};for(var ne in Ie)Ie.hasOwnProperty(ne)&&(ge[Ie[ne]]=parseInt(ne,10));var ae=1,oe=0,Be=1,Ce=2,Qe={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},Ee={};for(var se in Qe)Qe.hasOwnProperty(se)&&(Ee[Qe[se]]=parseInt(se,10));function fe(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var ce=new Ae,he=function(A){s(t,w);var e=fe(t);function t(A){var i;return B(this,t),(i=e.call(this)).planarConfiguration=void 0!==A.PlanarConfiguration?A.PlanarConfiguration:1,i.samplesPerPixel=void 0!==A.SamplesPerPixel?A.SamplesPerPixel:1,i.addCompression=A.LercParameters[ae],i}return Q(t,[{key:"decodeBlock",value:function(A){switch(this.addCompression){case oe:break;case Be:A=YA(new Uint8Array(A)).buffer;break;case Ce:A=ce.decode(new Uint8Array(A)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return zA.decode(A,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}]),t}(),le=Object.freeze({__proto__:null,zstd:ce,default:he});function ue(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var we=function(A){s(I,w);var t,i=ue(I);function I(){var A;if(B(this,I),A=i.call(this),"undefined"==typeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"==typeof document&&"undefined"==typeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return A}return Q(I,[{key:"decode",value:(t=e(r.mark((function A(e,t){var i,I,g,n;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return i=new Blob([t]),A.next=3,createImageBitmap(i);case 3:return I=A.sent,"undefined"!=typeof document?((g=document.createElement("canvas")).width=I.width,g.height=I.height):g=new OffscreenCanvas(I.width,I.height),(n=g.getContext("2d")).drawImage(I,0,0),A.abrupt("return",n.getImageData(0,0,I.width,I.height).data.buffer);case 8:case"end":return A.stop()}}),A)}))),function(A,e){return t.apply(this,arguments)})}]),I}(),de=Object.freeze({__proto__:null,default:we});';return new lW(typeof Buffer<"u"?"data:application/javascript;base64,"+Buffer.from(i,"binary").toString("base64"):URL.createObjectURL(new Blob([i],{type:"application/javascript"})))}const uW=Object.freeze(Object.defineProperty({__proto__:null,create:xW},Symbol.toStringTag,{value:"Module"}));_i.CMEStyle=wP,_i.blendLayers=rU,_i.contourLayer=mH,_i.windLayer=AH,Object.defineProperty(_i,Symbol.toStringTag,{value:"Module"})});
=======
		`};class i3 extends Ua{constructor(e){super({type:"LineMaterial",uniforms:Hv.clone(nr.line.uniforms),vertexShader:nr.line.vertexShader,fragmentShader:nr.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(e)}get color(){return this.uniforms.diffuse.value}set color(e){this.uniforms.diffuse.value=e}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(e){e===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(e){this.uniforms.linewidth&&(this.uniforms.linewidth.value=e)}get dashed(){return"USE_DASH"in this.defines}set dashed(e){e===!0!==this.dashed&&(this.needsUpdate=!0),e===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(e){this.uniforms.dashScale.value=e}get dashSize(){return this.uniforms.dashSize.value}set dashSize(e){this.uniforms.dashSize.value=e}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(e){this.uniforms.dashOffset.value=e}get gapSize(){return this.uniforms.gapSize.value}set gapSize(e){this.uniforms.gapSize.value=e}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}get resolution(){return this.uniforms.resolution.value}set resolution(e){this.uniforms.resolution.value.copy(e)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(e){this.defines&&(e===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),e===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}const r3=new cn,LR=new W,PR=new W,li=new cn,xi=new cn,Os=new cn,s3=new W,a3=new Rn,ui=new JV,kR=new W,k_=new No,U_=new Nf,Gs=new cn;let zs,nc;function UR(i,e,t){return Gs.set(0,0,-e,1).applyMatrix4(i.projectionMatrix),Gs.multiplyScalar(1/Gs.w),Gs.x=nc/t.width,Gs.y=nc/t.height,Gs.applyMatrix4(i.projectionMatrixInverse),Gs.multiplyScalar(1/Gs.w),Math.abs(Math.max(Gs.x,Gs.y))}function tW(i,e){const t=i.matrixWorld,n=i.geometry,r=n.attributes.instanceStart,s=n.attributes.instanceEnd,a=Math.min(n.instanceCount,r.count);for(let o=0,l=a;o<l;o++){ui.start.fromBufferAttribute(r,o),ui.end.fromBufferAttribute(s,o),ui.applyMatrix4(t);const c=new W,x=new W;zs.distanceSqToSegment(ui.start,ui.end,x,c),x.distanceTo(c)<nc*.5&&e.push({point:x,pointOnLine:c,distance:zs.origin.distanceTo(x),object:i,face:null,faceIndex:o,uv:null,uv1:null})}}function nW(i,e,t){const n=e.projectionMatrix,s=i.material.resolution,a=i.matrixWorld,o=i.geometry,l=o.attributes.instanceStart,c=o.attributes.instanceEnd,x=Math.min(o.instanceCount,l.count),u=-e.near;zs.at(1,Os),Os.w=1,Os.applyMatrix4(e.matrixWorldInverse),Os.applyMatrix4(n),Os.multiplyScalar(1/Os.w),Os.x*=s.x/2,Os.y*=s.y/2,Os.z=0,s3.copy(Os),a3.multiplyMatrices(e.matrixWorldInverse,a);for(let h=0,f=x;h<f;h++){if(li.fromBufferAttribute(l,h),xi.fromBufferAttribute(c,h),li.w=1,xi.w=1,li.applyMatrix4(a3),xi.applyMatrix4(a3),li.z>u&&xi.z>u)continue;if(li.z>u){const I=li.z-xi.z,_=(li.z-u)/I;li.lerp(xi,_)}else if(xi.z>u){const I=xi.z-li.z,_=(xi.z-u)/I;xi.lerp(li,_)}li.applyMatrix4(n),xi.applyMatrix4(n),li.multiplyScalar(1/li.w),xi.multiplyScalar(1/xi.w),li.x*=s.x/2,li.y*=s.y/2,xi.x*=s.x/2,xi.y*=s.y/2,ui.start.copy(li),ui.start.z=0,ui.end.copy(xi),ui.end.z=0;const g=ui.closestPointToPointParameter(s3,!0);ui.at(g,kR);const d=AV.lerp(li.z,xi.z,g),p=d>=-1&&d<=1,m=s3.distanceTo(kR)<nc*.5;if(p&&m){ui.start.fromBufferAttribute(l,h),ui.end.fromBufferAttribute(c,h),ui.start.applyMatrix4(a),ui.end.applyMatrix4(a);const I=new W,_=new W;zs.distanceSqToSegment(ui.start,ui.end,_,I),t.push({point:_,pointOnLine:I,distance:zs.origin.distanceTo(_),object:i,face:null,faceIndex:h,uv:null,uv1:null})}}}class iW extends Us{constructor(e=new QR,t=new i3({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,n=e.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let a=0,o=0,l=t.count;a<l;a++,o+=2)LR.fromBufferAttribute(t,a),PR.fromBufferAttribute(n,a),r[o]=o===0?0:r[o-1],r[o+1]=r[o]+LR.distanceTo(PR);const s=new Xv(r,2,1);return e.setAttribute("instanceDistanceStart",new Ns(s,1,0)),e.setAttribute("instanceDistanceEnd",new Ns(s,1,1)),this}raycast(e,t){const n=this.material.worldUnits,r=e.camera;r===null&&!n&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;zs=e.ray;const a=this.matrixWorld,o=this.geometry,l=this.material;nc=l.linewidth+s,o.boundingSphere===null&&o.computeBoundingSphere(),U_.copy(o.boundingSphere).applyMatrix4(a);let c;if(n)c=nc*.5;else{const u=Math.max(r.near,U_.distanceToPoint(zs.origin));c=UR(r,u,l.resolution)}if(U_.radius+=c,zs.intersectsSphere(U_)===!1)return;o.boundingBox===null&&o.computeBoundingBox(),k_.copy(o.boundingBox).applyMatrix4(a);let x;if(n)x=nc*.5;else{const u=Math.max(r.near,k_.distanceToPoint(zs.origin));x=UR(r,u,l.resolution)}k_.expandByScalar(x),zs.intersectsBox(k_)!==!1&&(n?tW(this,t):nW(this,r,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(r3),this.material.uniforms.resolution.value.set(r3.z,r3.w))}}class rW extends iW{constructor(e=new FR,t=new i3({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}const sW={showLabel:!1,useColorRamp:!1,extremeColor:{max:"#ff0000",min:"#0000ff"}};class NR{constructor(e={}){hn(this,"_setProps",e=>{e.data&&(this.data=e.data),e.worlds&&(this.worlds=e.worlds),typeof e.lineStyle=="object"&&(this.state.lineStyle={...this.state.lineStyle,...e.lineStyle}),typeof e.lineLabelStyle=="object"&&(this.state.lineLabelStyle={...this.state.lineLabelStyle,...e.lineLabelStyle}),typeof e.extremeLabelStyle=="object"&&(this.state.extremeLabelStyle={...this.state.extremeLabelStyle,...e.extremeLabelStyle}),this.layer.reDraw()});return this.state={...sW,...e},this.layer=this._initLayer(),this._isGlReady=!1,this.group={lines:new J0,labels:new J0,extreme_labels:new J0},this.data=[],this.layer}_initLayer(){const e=new KM({projection:this.state.projection});return e.onBeforeUpdate=this._onBeforeUpdate.bind(this),e.onUpdate=this._onUpdate.bind(this),e.setProps=this._setProps.bind(this),!this._colorRampObject&&this.state.colorRamp&&(this._colorRampObject=this._createColorRamp(this.state.colorRamp)),e}_onBeforeUpdate(e){const{gl:t,canvas:n,extent:r,resolution:s,pixelRatio:a,size:o,projection:l}=e,c=this.state.map;if(!this._isGlReady&&c){this.renderer=new eW({context:t,antialias:!0,alpha:!0}),this.scene=new GV;const x=o[1]/o[0],u=new eR(-1,1,x,-x,1,1e3);u.position.set(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,0),this.camera=u,this.scene.add(this.camera)}this._isGlReady=!0}_onUpdate(e){this.renderer.clear();const{gl:t,canvas:n,extent:r,resolution:s,pixelRatio:a,size:o,projection:l}=e,c=this.state.map;if(c){this.renderer.setSize(o[0],o[1]);const x=o[1]/o[0];this.scene.remove(this.group.lines),this.scene.remove(this.group.labels),this.scene.remove(this.group.extreme_labels),this.group.lines.clear(),this.group.labels.clear(),this.group.extreme_labels.clear(),this.scene.clear(),this.scene.children.forEach(f=>f.dispose());const[u,h]=this.worlds;for(let f=u;f<=h;f++)Object.values(this.data.lines).forEach(({splitLines:A,properties:g,anchor:d,rotate:p},m)=>{const I=this.state.lineStyle.getWidth(g),_=this.state.lineStyle.getValue(g),y=this.state.lineStyle.useColorRamp?this._getColor(_,this._colorRampObject):new Rt(this.state.lineStyle.getColor(g));if(A.length&&(A.forEach(E=>{const C=[];E.forEach(B=>{const R=360*f+B[0],T=B[1];let[F,M]=this.layer.lnglatToScreen([R,T],c,r,a);F=F/o[0]*2-1,M=(1-M/o[1])*2-1,M*=x,C.push(F,M,0)});const w=new FR;w.setPositions(C);const b=new i3({color:y,linewidth:I,dashed:!1}),v=new rW(w,b);this.group.lines.add(v)}),this.state.lineStyle.showLabel)){const E=this.state.lineLabelStyle.getTitle(g),C=this.state.lineLabelStyle.useColorRamp?this._getColor(_,this._colorRampObject).getStyle():this.state.lineLabelStyle.getFontBackColor(g),w=this.state.lineLabelStyle.getFontColor(g),b=this.state.lineLabelStyle.getFontSize(g),v=this.state.lineLabelStyle.getFontWeight(g),B=this.state.lineLabelStyle.getFontFamily(g);if(d&&p){const R=360*f+d[0],T=d[1];let[F,M]=this.layer.lnglatToScreen([R,T],c,r,a);F=F/o[0]*2-1,M=(1-M/o[1])*2-1,M*=x;const D=this._createLabel({x:F,y:M,size:o,text:E,fillColor:C,fontColor:w,fontWeight:v,fontSize:b,fontFamily:B,rotate:p,fill:!0});this.group.labels.add(D)}}}),this.scene.add(this.group.lines),this.scene.add(this.group.labels),this.state.extremeLabelStyle.showLabel&&this.data.points.forEach(({coordinates:A,properties:g})=>{const d=360*f+A[0],p=A[1];let[m,I]=this.layer.lnglatToScreen([d,p],c,r,a);m=m/o[0]*2-1,I=(1-I/o[1])*2-1,I*=x;const _=this.state.extremeLabelStyle.getValue(g),y=this.state.extremeLabelStyle.getFontSize(g),E=this.state.extremeLabelStyle.getFontWeight(g),C=this.state.extremeLabelStyle.getFontFamily(g),w=this.state.extremeLabelStyle.useColorRamp?this._getColor(_,this._colorRampObject):new Rt(this.state.extremeLabelStyle.getFontColor(g)),b=_.toFixed(),v=this._createLabel({x:m,y:I,size:o,text:b,fontColor:w.getStyle(),fontSize:y,fontWeight:E,fontFamily:C,rotate:0,fill:!1}),B=this._createLabel({x:m,y:I+1/o[1]*50,size:o,text:g.name==="max"?"H":"L",fontColor:w.getStyle(),fontSize:y,fontWeight:E,fontFamily:C,rotate:0,fill:!1});this.group.extreme_labels.add(v),this.group.extreme_labels.add(B)}),this.scene.add(this.group.extreme_labels)}this.renderer.render(this.scene,this.camera)}_createLabel({x:e,y:t,size:n,text:r,fillColor:s,fontColor:a,fontSize:o=40,fontWeight:l="400",fontFamily:c="Microsoft YaHei",rotate:x=0,fill:u=!0}){const h=document.createElement("canvas");h.style.imageSmoothingEnabled=!1,h.style.webkitImageSmoothingEnabled=!1,h.style.mozImageSmoothingEnabled=!1;const f=h.getContext("2d"),[A,g]=[o*r.length*1.4,o];h.width=A,h.height=g,f.clearRect(0,0,A,g),f.fillStyle=s,u&&(f.beginPath(),f.ellipse(g/1,g/2,g/1,g/2,0,-Math.PI/2,Math.PI/2,!0),f.moveTo(g/1,0),f.lineTo(A-g/1,0),f.ellipse(A-g/1,g/2,g/1,g/2,0,-Math.PI/2,Math.PI/2,!1),f.lineTo(g/1,g),f.closePath(),f.fill()),f.textAlign="center",f.textBaseline="middle",f.fillStyle=a,f.font=`${l} ${o}px ${c}`,f.fillText(r,A/2,g*.6);const d=new qV(h,Nb,wa,wa,Qr,Qr),p=new zV(new X8({map:d,rotation:x,sizeAttenuation:!0}));return p.position.set(e,t,0),p.scale.set(A/n[0],g/n[1],1),p}_createColorRamp(e){const t=e.sort((u,h)=>u[0]<h[0]),n=t[0][0],r=t[t.length-1][0],s=document.createElement("canvas"),a=256,o=1;s.width=a,s.height=o;const l=s.getContext("2d"),c=l.createLinearGradient(0,0,s.width,s.height);for(let u=0;u<e.length;u++){const[h,f]=e[u],A=(h-n)/(r-n);c.addColorStop(A,f)}l.fillStyle=c,l.fillRect(0,0,s.width,s.height);const x=new Uint8Array(l.getImageData(0,0,s.width,s.height).data);return{val_min:n,val_max:r,imageData:x,width:a,height:o}}_getColor(e,t){const{val_min:n,val_max:r,imageData:s,width:a,height:o}=t;let l=(e-n)/(r-n);l=Math.max(l,0),l=Math.min(l,1);const c=Math.floor(a*l),x=0,u=s[(a*x+c)*4],h=s[(a*x+c)*4+1],f=s[(a*x+c)*4+2],A=s[(a*x+c)*4+3];return new Rt(u/255,h/255,f/255,A/255)}}const o3=65536*65536,OR=1/o3,aW=12,GR=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),c3=0,N_=1,Wf=2,O_=5;class oW{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,n=this.length){for(;this.pos<n;){const r=this.readVarint(),s=r>>3,a=this.pos;this.type=r&7,e(s,t,this),this.pos===a&&this.skip(r)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*o3;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*o3;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let n,r;return r=t[this.pos++],n=r&127,r<128||(r=t[this.pos++],n|=(r&127)<<7,r<128)||(r=t[this.pos++],n|=(r&127)<<14,r<128)||(r=t[this.pos++],n|=(r&127)<<21,r<128)?n:(r=t[this.pos],n|=(r&15)<<28,cW(n,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=aW&&GR?GR.decode(this.buf.subarray(t,e)):EW(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===Wf?this.readVarint()+this.pos:this.pos+1}skip(e){const t=e&7;if(t===c3)for(;this.buf[this.pos++]>127;);else if(t===Wf)this.pos=this.readVarint()+this.pos;else if(t===O_)this.pos+=4;else if(t===N_)this.pos+=8;else throw new Error(`Unimplemented type: ${t}`)}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.dataView=new DataView(n.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*OR),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*OR),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){lW(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const t=this.pos;this.pos=yW(this.buf,e,this.pos);const n=this.pos-t;n>=128&&zR(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let n=0;n<t;n++)this.buf[this.pos++]=e[n]}writeRawMessage(e,t){this.pos++;const n=this.pos;e(t,this);const r=this.pos-n;r>=128&&zR(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r}writeMessage(e,t,n){this.writeTag(e,Wf),this.writeRawMessage(t,n)}writePackedVarint(e,t){t.length&&this.writeMessage(e,hW,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,fW,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,pW,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,AW,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,dW,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,gW,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,mW,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,_W,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,IW,t)}writeBytesField(e,t){this.writeTag(e,Wf),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,O_),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,O_),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,N_),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,N_),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,c3),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,c3),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,Wf),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,O_),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,N_),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function cW(i,e,t){const n=t.buf;let r,s;if(s=n[t.pos++],r=(s&112)>>4,s<128||(s=n[t.pos++],r|=(s&127)<<3,s<128)||(s=n[t.pos++],r|=(s&127)<<10,s<128)||(s=n[t.pos++],r|=(s&127)<<17,s<128)||(s=n[t.pos++],r|=(s&127)<<24,s<128)||(s=n[t.pos++],r|=(s&1)<<31,s<128))return Tx(i,r,e);throw new Error("Expected varint not more than 10 bytes")}function Tx(i,e,t){return t?e*4294967296+(i>>>0):(e>>>0)*4294967296+(i>>>0)}function lW(i,e){let t,n;if(i>=0?(t=i%4294967296|0,n=i/4294967296|0):(t=~(-i%4294967296),n=~(-i/4294967296),t^4294967295?t=t+1|0:(t=0,n=n+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),xW(t,n,e),uW(n,e)}function xW(i,e,t){t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos]=i&127}function uW(i,e){const t=(i&7)<<4;e.buf[e.pos++]|=t|((i>>>=3)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127)))))}function zR(i,e,t){const n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(n);for(let r=t.pos-1;r>=i;r--)t.buf[r+n]=t.buf[r]}function hW(i,e){for(let t=0;t<i.length;t++)e.writeVarint(i[t])}function fW(i,e){for(let t=0;t<i.length;t++)e.writeSVarint(i[t])}function AW(i,e){for(let t=0;t<i.length;t++)e.writeFloat(i[t])}function dW(i,e){for(let t=0;t<i.length;t++)e.writeDouble(i[t])}function pW(i,e){for(let t=0;t<i.length;t++)e.writeBoolean(i[t])}function gW(i,e){for(let t=0;t<i.length;t++)e.writeFixed32(i[t])}function mW(i,e){for(let t=0;t<i.length;t++)e.writeSFixed32(i[t])}function _W(i,e){for(let t=0;t<i.length;t++)e.writeFixed64(i[t])}function IW(i,e){for(let t=0;t<i.length;t++)e.writeSFixed64(i[t])}function EW(i,e,t){let n="",r=e;for(;r<t;){const s=i[r];let a=null,o=s>239?4:s>223?3:s>191?2:1;if(r+o>t)break;let l,c,x;o===1?s<128&&(a=s):o===2?(l=i[r+1],(l&192)===128&&(a=(s&31)<<6|l&63,a<=127&&(a=null))):o===3?(l=i[r+1],c=i[r+2],(l&192)===128&&(c&192)===128&&(a=(s&15)<<12|(l&63)<<6|c&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):o===4&&(l=i[r+1],c=i[r+2],x=i[r+3],(l&192)===128&&(c&192)===128&&(x&192)===128&&(a=(s&15)<<18|(l&63)<<12|(c&63)<<6|x&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,o=1):a>65535&&(a-=65536,n+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),n+=String.fromCharCode(a),r+=o}return n}function yW(i,e,t){for(let n=0,r,s;n<e.length;n++){if(r=e.charCodeAt(n),r>55295&&r<57344)if(s)if(r<56320){i[t++]=239,i[t++]=191,i[t++]=189,s=r;continue}else r=s-55296<<10|r-56320|65536,s=null;else{r>56319||n+1===e.length?(i[t++]=239,i[t++]=191,i[t++]=189):s=r;continue}else s&&(i[t++]=239,i[t++]=191,i[t++]=189,s=null);r<128?i[t++]=r:(r<2048?i[t++]=r>>6|192:(r<65536?i[t++]=r>>12|224:(i[t++]=r>>18|240,i[t++]=r>>12&63|128),i[t++]=r>>6&63|128),i[t++]=r&63|128)}return t}var l3={},CW=vW,jf,VR,G_,Na,Vs,HR=1e6,bW={Point:0,MultiPoint:1,LineString:2,MultiLineString:3,Polygon:4,MultiPolygon:5,GeometryCollection:6};function vW(i,e){jf={},G_=[],VR=0,Na=0,Vs=1,z_(i),Vs=Math.min(Vs,HR);for(var t=Math.ceil(Math.log(Vs)/Math.LN10),n=0;n<G_.length;n++)e.writeStringField(1,G_[n]);return Na!==2&&e.writeVarintField(2,Na),t!==6&&e.writeVarintField(3,t),i.type==="FeatureCollection"?e.writeMessage(4,wW,i):i.type==="Feature"?e.writeMessage(5,WR,i):e.writeMessage(6,u3,i),jf=null,e.finish()}function z_(i){var e,t;if(i.type==="FeatureCollection")for(e=0;e<i.features.length;e++)z_(i.features[e]);else if(i.type==="Feature"){i.geometry!==null&&z_(i.geometry);for(t in i.properties)XR(t)}else if(i.type==="Point")YR(i.coordinates);else if(i.type==="MultiPoint")x3(i.coordinates);else if(i.type==="GeometryCollection")for(e=0;e<i.geometries.length;e++)z_(i.geometries[e]);else if(i.type==="LineString")x3(i.coordinates);else if(i.type==="Polygon"||i.type==="MultiLineString")qR(i.coordinates);else if(i.type==="MultiPolygon")for(e=0;e<i.coordinates.length;e++)qR(i.coordinates[e]);for(t in i)JR(t,i.type)||XR(t)}function qR(i){for(var e=0;e<i.length;e++)x3(i[e])}function x3(i){for(var e=0;e<i.length;e++)YR(i[e])}function YR(i){Na=Math.max(Na,i.length);for(var e=0;e<i.length;e++)for(;Math.round(i[e]*Vs)/Vs!==i[e]&&Vs<HR;)Vs*=10}function XR(i){jf[i]===void 0&&(G_.push(i),jf[i]=VR++)}function wW(i,e){for(var t=0;t<i.features.length;t++)e.writeMessage(1,WR,i.features[t]);V_(i,e,!0)}function WR(i,e){i.geometry!==null&&e.writeMessage(1,u3,i.geometry),i.id!==void 0&&(typeof i.id=="number"&&i.id%1===0?e.writeSVarintField(12,i.id):e.writeStringField(11,i.id)),i.properties&&V_(i.properties,e),V_(i,e,!0)}function u3(i,e){e.writeVarintField(1,bW[i.type]);var t=i.coordinates;if(i.type==="Point")SW(t,e);else if(i.type==="MultiPoint")jR(t,e);else if(i.type==="LineString")jR(t,e);else if(i.type==="MultiLineString")KR(t,e);else if(i.type==="Polygon")KR(t,e,!0);else if(i.type==="MultiPolygon")MW(t,e);else if(i.type==="GeometryCollection")for(var n=0;n<i.geometries.length;n++)e.writeMessage(4,u3,i.geometries[n]);V_(i,e,!0)}function V_(i,e,t){var n=[],r=0;for(var s in i)t&&JR(s,i.type)||(e.writeMessage(13,BW,i[s]),n.push(jf[s]),n.push(r++));e.writePackedVarint(t?15:14,n)}function BW(i,e){if(i!==null){var t=typeof i;t==="string"?e.writeStringField(1,i):t==="boolean"?e.writeBooleanField(5,i):t==="object"?e.writeStringField(6,JSON.stringify(i)):t==="number"&&(i%1!==0?e.writeDoubleField(2,i):i>=0?e.writeVarintField(3,i):e.writeVarintField(4,-i))}}function SW(i,e){for(var t=[],n=0;n<Na;n++)t.push(Math.round(i[n]*Vs));e.writePackedSVarint(3,t)}function jR(i,e){var t=[];h3(t,i),e.writePackedSVarint(3,t)}function KR(i,e,t){var n=i.length,r;if(n!==1){var s=[];for(r=0;r<n;r++)s.push(i[r].length-(t?1:0));e.writePackedVarint(2,s)}var a=[];for(r=0;r<n;r++)h3(a,i[r],t);e.writePackedSVarint(3,a)}function MW(i,e){var t=i.length,n,r;if(t!==1||i[0].length!==1){var s=[t];for(n=0;n<t;n++)for(s.push(i[n].length),r=0;r<i[n].length;r++)s.push(i[n][r].length-1);e.writePackedVarint(2,s)}var a=[];for(n=0;n<t;n++)for(r=0;r<i[n].length;r++)h3(a,i[n][r],!0);e.writePackedSVarint(3,a)}function h3(i,e,t){var n,r,s=e.length-(t?1:0),a=new Array(Na);for(r=0;r<Na;r++)a[r]=0;for(n=0;n<s;n++)for(r=0;r<Na;r++){var o=Math.round(e[n][r]*Vs)-a[r];i.push(o),a[r]+=o}}function JR(i,e){if(i==="type")return!0;if(e==="FeatureCollection"){if(i==="features")return!0}else if(e==="Feature"){if(i==="id"||i==="properties"||i==="geometry")return!0}else if(e==="GeometryCollection"){if(i==="geometries")return!0}else if(i==="coordinates")return!0;return!1}var RW=DW,H_,Dx,kr,q_,Y_,TW=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];function DW(i){q_=2,Y_=Math.pow(10,6),kr=null,H_=[],Dx=[];var e=i.readFields(QW,{});return H_=null,e}function QW(i,e,t){i===1?H_.push(t.readString()):i===2?q_=t.readVarint():i===3?Y_=Math.pow(10,t.readVarint()):i===4?FW(t,e):i===5?ZR(t,e):i===6&&f3(t,e)}function FW(i,e){return e.type="FeatureCollection",e.features=[],i.readMessage(LW,e)}function ZR(i,e){e.type="Feature";var t=i.readMessage(PW,e);return"geometry"in t||(t.geometry=null),t}function f3(i,e){return e.type="Point",i.readMessage(kW,e)}function LW(i,e,t){i===1?e.features.push(ZR(t,{})):i===13?Dx.push(A3(t)):i===15&&X_(t,e)}function PW(i,e,t){i===1?e.geometry=f3(t,{}):i===11?e.id=t.readString():i===12?e.id=t.readSVarint():i===13?Dx.push(A3(t)):i===14?e.properties=X_(t,{}):i===15&&X_(t,e)}function kW(i,e,t){i===1?e.type=TW[t.readVarint()]:i===2?kr=t.readPackedVarint():i===3?UW(e,t,e.type):i===4?(e.geometries=e.geometries||[],e.geometries.push(f3(t,{}))):i===13?Dx.push(A3(t)):i===15&&X_(t,e)}function UW(i,e,t){t==="Point"?i.coordinates=NW(e):t==="MultiPoint"||t==="LineString"?i.coordinates=$R(e):t==="MultiLineString"?i.coordinates=e6(e):t==="Polygon"?i.coordinates=e6(e,!0):t==="MultiPolygon"&&(i.coordinates=OW(e))}function A3(i){for(var e=i.readVarint()+i.pos,t=null;i.pos<e;){var n=i.readVarint(),r=n>>3;r===1?t=i.readString():r===2?t=i.readDouble():r===3?t=i.readVarint():r===4?t=-i.readVarint():r===5?t=i.readBoolean():r===6&&(t=JSON.parse(i.readString()))}return t}function X_(i,e){for(var t=i.readVarint()+i.pos;i.pos<t;)e[H_[i.readVarint()]]=Dx[i.readVarint()];return Dx=[],e}function NW(i){for(var e=i.readVarint()+i.pos,t=[];i.pos<e;)t.push(i.readSVarint()/Y_);return t}function Kf(i,e,t,n){var r=0,s=[],a,o,l=[];for(o=0;o<q_;o++)l[o]=0;for(;t?r<t:i.pos<e;){for(a=[],o=0;o<q_;o++)l[o]+=i.readSVarint(),a[o]=l[o]/Y_;s.push(a),r++}return n&&s.push(s[0]),s}function $R(i){return Kf(i,i.readVarint()+i.pos)}function e6(i,e){var t=i.readVarint()+i.pos;if(!kr)return[Kf(i,t,null,e)];for(var n=[],r=0;r<kr.length;r++)n.push(Kf(i,t,kr[r],e));return kr=null,n}function OW(i){var e=i.readVarint()+i.pos;if(!kr)return[[Kf(i,e,null,!0)]];for(var t=[],n=1,r=0;r<kr[0];r++){for(var s=[],a=0;a<kr[n];a++)s.push(Kf(i,e,kr[n+1+a],!0));n+=kr[n]+1,t.push(s)}return kr=null,t}l3.encode=CW,l3.decode=RW;class GW{constructor(){hn(this,"abortController");hn(this,"load",async(e,t)=>{const n={data:null,error:null,loading:!1};return this.abortController=new AbortController,new Promise(async(r,s)=>{n.loading=!0;try{let a=null;t=="normal"?a=e:t=="geojson"?a=await fetch(e,{signal:this.abortController.singal}).then(o=>o.json()):a=await fetch(e,{signal:this.abortController.singal}).then(o=>o.arrayBuffer()).then(o=>{const l=new oW(o);return l3.decode(l)}),this.data=a,n.data=a}catch(a){a.name==="AbortError"&&(n.error=a)}finally{r(n)}})})}calWorldIndex(e){const t=Math.floor((e[0]+180)/360),n=Math.floor((e[2]+180-1e-6)/360);return[t,n]}}class zW{constructor(){hn(this,"abortController");hn(this,"load",async e=>{const t={data:null,error:null,loading:!1};return this.abortController=new AbortController,new Promise(async(n,r)=>{t.loading=!0;try{const s=await Bw(e,{},this.abortController.singal),a=await s.getImageCount(),o=[];for(let c=0;c<a;c++){const x=await s.getImage(c);o.push({image:x})}const l=o[0];o.forEach((c,x)=>{let u,h,f;try{u=c.image.getOrigin()}catch{u=null}try{h=c.image.getResolution()}catch{h=c.image.getResolution(l.image)}try{f=c.image.getBoundingBox()}catch{f=null}c.origin=u,c.resolution=h,c.bbox=f,c.metaData=c.image.getGDALMetadata()||l.image.getGDALMetadata()}),this.data=o,t.data=o}catch(s){s.name==="AbortError"&&(t.error=s)}finally{n(t)}})});hn(this,"matchImageByZoom",e=>{if(this.data){const t=Math.pow(.5,e);let n=0,r=1;for(let s=0;s<this.data.length;s++){const a=this.data[s],o=Math.abs(a.resolution[0]),l=Math.abs(t-o);l<=r&&(n=s,r=l)}return this.data[n]}return null});hn(this,"getRasterByExtent",async(e,t,n)=>{this.abortController=new AbortController;const[r,s,a]=e.origin||this.data[0].origin,[o,l]=e.resolution||this.data[0].resolution,c=e.bbox||this.data[0].bbox,x=e.metaData||this.data[0].metaData,u=this._fixBbox(c,n),h=this.calBboxes(u,t,"x"),f=[];for(let A=0;A<h.length;A++){const g=[...h[A]],d=this._normBbox(h[A]),p=(d[0]-r)/o,m=(d[1]-s)/l,I=(d[2]-r)/o,_=(d[3]-s)/l,y=Math.floor(Math.min(p,I)),E=Math.floor(Math.min(m,_)),C=Math.ceil(Math.max(p,I)),w=Math.ceil(Math.max(m,_)),b=[y,E,C,w],v=await e.image.readRasters({fillValue:parseFloat(x.nodata),window:b,signal:this.abortController.signal});v.window=b,v.bbox=g,f.push(v)}return f})}calBboxes(e,t,n="xy"){const r=Math.floor((t[0]+180)/360),s=Math.floor((t[2]+180-1e-6)/360),a=Math.floor((t[1]+90)/180),o=Math.floor((t[3]+90-1e-6)/180),l=[];if(n.includes("xy"))for(let c=r;c<=s;c++){let x=360*c+e[0];c===r&&(x=Math.max(x,t[0]));let u=360*c+e[2];c===s&&(u=Math.min(u,t[2]));for(let h=a;h<=o;h++){let f=180*h+e[1];h===a&&(f=Math.max(f,t[1]));let A=180*h+e[3];h===o&&(A=Math.min(A,t[3])),l.push([x,f,u,A])}}else if(n.includes("x"))for(let c=r;c<=s;c++){let x=360*c+e[0];c===r&&(x=Math.max(x,t[0]));let u=360*c+e[2];c===s&&(u=Math.min(u,t[2]));const h=Math.max(-90,e[1],t[1]),f=Math.min(90,e[3],t[3]);l.push([x,h,u,f])}else{const c=Math.max(-180,e[0],t[0]),x=Math.min(180,e[2],t[2]);for(let u=a;u<=o;u++){let h=180*u+e[1];u===a&&(h=Math.max(h,t[1]));let f=180*u+e[3];u===o&&(f=Math.min(f,t[3])),l.push([c,h,x,f])}}return l}_fixBbox(e,t){const n=t.getView().getProjection().worldExtent_,r=Math.max(n[0],e[0]),s=Math.min(n[2],e[2]),a=Math.max(n[1],e[1]),o=Math.min(n[3],e[3]);return[r,a,s,o]}_normBbox(e){const t=Math.floor((e[0]+180)/360),n=Math.floor((e[1]+90)/180);let r=e[0]-360*t,s=e[2]-360*t,a=e[1]-180*n,o=e[3]-180*n;return[r,a,s,o]}}class VW{constructor(e,t={}){hn(this,"_loadGeotiff",async e=>{this.tiffLoader||(this.tiffLoader=new zW,await this.tiffLoader.load(e),await this._updateData(this.map,this.layer,this.tiffLoader))});hn(this,"_updateData",async(e,t,n)=>{if(!n||!e||!t)return;const r=await this._getData(e,t,n);this.layer.setProps({data:r})});return this.map=e,this.data=null,this.tiffLoader=null,this.layer=new lz({map:e,...t}),this._bindEvents(),this._isReady=!1,this.layer}_bindEvents(){this.layer.loadGeotiff=this._loadGeotiff.bind(this),this.map&&this.map.on("rendercomplete",e=>{this._isReady||(this.map.on("moveend",async t=>{await this._updateData(this.map,this.layer,this.tiffLoader)}),this.map.on("movestart",t=>{this.map.getLayers().forEach(n=>{n.type==="custom"&&n.setNeedRedraw()})}),this._isReady=!0)})}async _getData(e,t,n){const r=Math.floor(e.getView().getZoom()),s=n.matchImageByZoom(r),a=e.getView().calculateExtent(e.getSize()),o=t.extentTolnglat(a,e),l=await n.getRasterByExtent(s,o,e),c=s.metaData,x=parseFloat(c.scale),u=parseFloat(c.offset),h=parseFloat(c.nodata),f=parseFloat(c.umin||c.uvmin),A=parseFloat(c.umax||c.uvmax),g=parseFloat(c.vmin||c.uvmin),d=parseFloat(c.vmax||c.uvmax),p=[];return l.forEach((m,I)=>{const _=m[0],y=m[1],E=m.bbox,C=m.width,w=m.height;p.push({dataArray_u:_,dataArray_v:y,bbox:E,width:C,height:w,metaData:{scale:x,offset:u,nodata:h,umin:f,umax:A,vmin:g,vmax:d}})}),p}}var HW=W_;W_.polyline=W_,W_.polygon=qW;function W_(i,e,t){var n=i.length,r=Qx(i[0],e),s=[],a,o,l,c,x;for(t||(t=[]),a=1;a<n;a++){for(o=i[a-1],l=i[a],c=x=Qx(l,e);;)if(r|c){if(r&c)break;r?(o=d3(o,l,r,e),r=Qx(o,e)):(l=d3(o,l,c,e),c=Qx(l,e))}else{s.push(o),c!==x?(s.push(l),a<n-1&&(t.push(s),s=[])):a===n-1&&s.push(l);break}r=x}return s.length&&t.push(s),t}function qW(i,e){var t,n,r,s,a,o,l;for(n=1;n<=8;n*=2){for(t=[],r=i[i.length-1],s=!(Qx(r,e)&n),a=0;a<i.length;a++)o=i[a],l=!(Qx(o,e)&n),l!==s&&t.push(d3(r,o,n,e)),l&&t.push(o),r=o,s=l;if(i=t,!i.length)break}return t}function d3(i,e,t,n){return t&8?[i[0]+(e[0]-i[0])*(n[3]-i[1])/(e[1]-i[1]),n[3]]:t&4?[i[0]+(e[0]-i[0])*(n[1]-i[1])/(e[1]-i[1]),n[1]]:t&2?[n[2],i[1]+(e[1]-i[1])*(n[2]-i[0])/(e[0]-i[0])]:t&1?[n[0],i[1]+(e[1]-i[1])*(n[0]-i[0])/(e[0]-i[0])]:null}function Qx(i,e){var t=0;return i[0]<e[0]?t|=1:i[0]>e[2]&&(t|=2),i[1]<e[1]?t|=4:i[1]>e[3]&&(t|=8),t}const YW=Wx(HW);class XW{constructor(e,t={}){hn(this,"_loadGeojson",async(e,t)=>{this.geojsonLoader||(this.geojsonLoader=new GW,await this.geojsonLoader.load(e,t),this._updateData())});hn(this,"_updateData",()=>{if(!this.geojsonLoader||!this.map||!this.layer)return;const e=this._getData(this.data,this.map,this.geojsonLoader,this.layer);this.data=e;const t=this.map.getView().calculateExtent(this.map.getSize()),n=this.layer.extentTolnglat(t,this.map),r=this.geojsonLoader.calWorldIndex(n);this.layer.setProps({data:e,worlds:r})});this.map=e,this.data=null,this.geojsonLoader=null;let n=this.getConvertPramas(t);return this.option=n,this.layer=new NR({map:e,...n}),this._bindEvents(),this.layer}getConvertPramas(e){var n,r,s,a,o,l;let t={maxZoom:e.maxZoom||28,minZoom:e.minZoom||-4,colorRamp:(e==null?void 0:e.colorRamp)||[[500,"rgba(115,70,105,1)"],[510,"rgba(202,172,195,1)"],[520,"rgba(162,70,145,1)"],[530,"rgba(143,89,169,1)"],[540,"rgba(157,219,217,1)"],[550,"rgba(106,191,181,1)"],[560,"rgba(100,166,189,1)"],[570,"rgba(93,133,198,1)"],[580,"rgba(68,125,99,1)"],[590,"rgba(128,147,24,1)"],[600,"rgba(71,14,0,1)"]],lineStyle:{useColorRamp:((n=e==null?void 0:e.lineStyle)==null?void 0:n.useColorRamp)||!1,getWidth:c=>{var u,h;const x=parseFloat(c[((u=e==null?void 0:e.lineStyle)==null?void 0:u.textValue)||"level-value"]);if((h=e==null?void 0:e.lineStyle)!=null&&h.special)for(let f=0;f<e.lineStyle.special.length;f++){let A=e.lineStyle.special[f];if(x==A.value)return A.width}return c["stroke-width"]*2||2},getColor:c=>{var u,h;const x=parseFloat(c[((u=e==null?void 0:e.lineStyle)==null?void 0:u.textValue)||"level-value"]);if((h=e==null?void 0:e.lineStyle)!=null&&h.special)for(let f=0;f<e.lineStyle.special.length;f++){let A=e.lineStyle.special[f];if(x==A.value)return A.color}return e.lineStyle.color?e.lineStyle.color:c.stroke},getValue:c=>{var u;let x=((u=e==null?void 0:e.lineStyle)==null?void 0:u.textValue)||"level-value";return parseFloat(c[x])},showLabel:!0},lineLabelStyle:{useColorRamp:((r=e==null?void 0:e.lineLabelStyle)==null?void 0:r.useColorRamp)||!1,getTitle:c=>{var f,A;debugger;let x=((f=e==null?void 0:e.lineStyle)==null?void 0:f.textValue)||"level-value";const u=parseFloat(c[x]);let h=parseInt(((A=e==null?void 0:e.lineStyle)==null?void 0:A.precision)||0);return u.toFixed(h)},getFontBackColor:c=>{var x;return((x=e==null?void 0:e.lineLabelStyle)==null?void 0:x.fontBackColor)||"#ffffff"},getFontColor:c=>{var x;return((x=e==null?void 0:e.lineLabelStyle)==null?void 0:x.fontColor)||"#000000"},getFontSize:c=>{var x;return((x=e==null?void 0:e.lineLabelStyle)==null?void 0:x.fontSize)||30},getFontWeight:c=>600,getFontFamily:c=>"Microsoft YaHei"},extremeLabelStyle:{useColorRamp:!1,showLabel:!0,getValue:c=>{var u;let x=((u=e==null?void 0:e.extremeLabelStyle)==null?void 0:u.textValue)||"value";return parseFloat(c[x])},getTitle:c=>{var h,f;let x=((h=e==null?void 0:e.extremeLabelStyle)==null?void 0:h.textValue)||"value";const u=parseFloat(c[x]);return parseInt(((f=e==null?void 0:e.extremeStyle)==null?void 0:f.precision)||0),u.toFixed()},getFontColor:c=>c.name==="max"?"#ff0000":"#0000ff",getFontSize:c=>{var x;return((x=e==null?void 0:e.extremeLabelStyle)==null?void 0:x.fontSize)||35},getFontWeight:c=>500,getFontFamily:c=>"Microsoft YaHei"},projection:this.map.getView().getProjection().getCode()};return((s=e==null?void 0:e.lineStyle)==null?void 0:s.showLabel)!==void 0&&(t.lineStyle.showLabel=(a=e==null?void 0:e.lineStyle)==null?void 0:a.showLabel),((o=e==null?void 0:e.extremeLabelStyle)==null?void 0:o.showLabel)!==void 0&&(t.extremeLabelStyle.showLabel=(l=e==null?void 0:e.extremeLabelStyle)==null?void 0:l.showLabel),e!=null&&e.projection&&(t.projection=e==null?void 0:e.projection),t}_render(e={}){return this.layer=new NR(e),this._bindEvents(),this.layer}_bindEvents(){this.layer.loadGeojson=this._loadGeojson.bind(this),this.map.on("moveend",async e=>{if(!this.data||!this.geojsonLoader||!this.map||!this.layer)return;const t=this._getData(this.data,this.map,this.geojsonLoader,this.layer);this.data=t;const n=this.map.getView().calculateExtent(this.map.getSize()),r=this.layer.extentTolnglat(n,this.map),s=this.geojsonLoader.calWorldIndex(r);this.layer.setProps({data:t,worlds:s});let a=this.option.maxZoom||28,o=this.option.minZoom||-4;debugger;let l=this.map.getView().getZoom();l<=a&&l>=o?this.layer.setProps({lineStyle:{showLabel:!0}}):this.layer.setProps({lineStyle:{showLabel:!1}})}),this.map.on("movestart",e=>{this.map.getLayers().forEach(t=>{t.type==="custom"&&t.setNeedRedraw()})})}_getData(e,t,n,r){const s={},a={},o=[],l=t.getView().calculateExtent(t.getSize()),c=r.extentTolnglat(l,t);return n.data.features.forEach(({geometry:x,properties:u},h)=>{const{type:f,coordinates:A}=x;if(f==="LineString"){const g=YW(A,c);let d,p;if(!e||!e.lines){if(A.length>10){const m=Math.floor(A.length*Math.random()),I=Math.max(m-1,0),_=Math.min(m+1,A.length-1);d=A[m];const y=A[_][0]-A[I][0],E=A[_][1]-A[I][1];p=Math.atan(E/y)}}else if(g.length){const m=e.lines[h].anchor,I=e.lines[h].rotate;if(m&&m[0]>=c[0]&&m[0]<=c[2]&&m[1]>=c[1]&&m[1]<=c[3])d=[...m],p=I;else{let _=g[0];for(let y=1;y<g.length;y++)g[y].length>_.length&&(_=g[y]);if(_.length>10){const y=Math.floor(_.length/2),E=Math.max(y-1,0),C=Math.min(y+1,_.length-1);d=_[y];const w=_[C][0]-_[E][0],b=_[C][1]-_[E][1];p=Math.atan(b/w)}}}a[h]={splitLines:g,properties:u,anchor:d,rotate:p}}else f==="Point"&&A[0]>=c[0]&&A[0]<=c[2]&&A[1]>=c[1]&&A[1]<=c[3]&&o.push({coordinates:A,properties:u})}),s.lines=a,s.points=o,s.lnglatExtent=c,s}}function WW(){if(!document.currentScript)return;const e=document.currentScript.src.replace(/\/([^\/]+$)/gi,"/style.css");document.write(`<link rel="stylesheet" href="${e}"/>`)}WW();class jW extends Jo{decodeBlock(e){return e}}const KW=Object.freeze(Object.defineProperty({__proto__:null,default:jW},Symbol.toStringTag,{value:"Module"})),t6=9,p3=256,g3=257,JW=12;function ZW(i,e,t){const n=e%8,r=Math.floor(e/8),s=8-n,a=e+t-(r+1)*8;let o=8*(r+2)-(e+t);const l=(r+2)*8-e;if(o=Math.max(0,o),r>=i.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),g3;let c=i[r]&2**(8-n)-1;c<<=t-s;let x=c;if(r+1<i.length){let u=i[r+1]>>>o;u<<=Math.max(0,t-l),x+=u}if(a>8&&r+2<i.length){const u=(r+3)*8-(e+t),h=i[r+2]>>>u;x+=h}return x}function m3(i,e){for(let t=e.length-1;t>=0;t--)i.push(e[t]);return i}function $W(i){const e=new Uint16Array(4093),t=new Uint8Array(4093);for(let A=0;A<=257;A++)e[A]=4096,t[A]=A;let n=258,r=t6,s=0;function a(){n=258,r=t6}function o(A){const g=ZW(A,s,r);return s+=r,g}function l(A,g){return t[n]=g,e[n]=A,n++,n-1}function c(A){const g=[];for(let d=A;d!==4096;d=e[d])g.push(t[d]);return g}const x=[];a();const u=new Uint8Array(i);let h=o(u),f;for(;h!==g3;){if(h===p3){for(a(),h=o(u);h===p3;)h=o(u);if(h===g3)break;if(h>p3)throw new Error(`corrupted code at scanline ${h}`);{const A=c(h);m3(x,A),f=h}}else if(h<n){const A=c(h);m3(x,A),l(f,A[A.length-1]),f=h}else{const A=c(f);if(!A)throw new Error(`Bogus entry. Not in dictionary, ${f} / ${n}, position: ${s}`);m3(x,A),x.push(A[A.length-1]),l(f,A[A.length-1]),f=h}n+1>=2**r&&(r===JW?f=void 0:r++),h=o(u)}return new Uint8Array(x)}class ej extends Jo{decodeBlock(e){return $W(e).buffer}}const tj=Object.freeze(Object.defineProperty({__proto__:null,default:ej},Symbol.toStringTag,{value:"Module"})),Jf=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),j_=4017,K_=799,J_=3406,Z_=2276,$_=1567,eI=3784,Fx=5793,tI=2896;function n6(i,e){let t=0;const n=[];let r=16;for(;r>0&&!i[r-1];)--r;n.push({children:[],index:0});let s=n[0],a;for(let o=0;o<r;o++){for(let l=0;l<i[o];l++){for(s=n.pop(),s.children[s.index]=e[t];s.index>0;)s=n.pop();for(s.index++,n.push(s);n.length<=o;)n.push(a={children:[],index:0}),s.children[s.index]=a.children,s=a;t++}o+1<r&&(n.push(a={children:[],index:0}),s.children[s.index]=a.children,s=a)}return n[0].children}function nj(i,e,t,n,r,s,a,o,l){const{mcusPerLine:c,progressive:x}=t,u=e;let h=e,f=0,A=0;function g(){if(A>0)return A--,f>>A&1;if(f=i[h++],f===255){const G=i[h++];if(G)throw new Error(`unexpected marker: ${(f<<8|G).toString(16)}`)}return A=7,f>>>7}function d(G){let O=G,ee;for(;(ee=g())!==null;){if(O=O[ee],typeof O=="number")return O;if(typeof O!="object")throw new Error("invalid huffman sequence")}return null}function p(G){let O=G,ee=0;for(;O>0;){const K=g();if(K===null)return;ee=ee<<1|K,--O}return ee}function m(G){const O=p(G);return O>=1<<G-1?O:O+(-1<<G)+1}function I(G,O){const ee=d(G.huffmanTableDC),K=ee===0?0:m(ee);G.pred+=K,O[0]=G.pred;let ce=1;for(;ce<64;){const Ae=d(G.huffmanTableAC),ge=Ae&15,oe=Ae>>4;if(ge===0){if(oe<15)break;ce+=16}else{ce+=oe;const Se=Jf[ce];O[Se]=m(ge),ce++}}}function _(G,O){const ee=d(G.huffmanTableDC),K=ee===0?0:m(ee)<<l;G.pred+=K,O[0]=G.pred}function y(G,O){O[0]|=g()<<l}let E=0;function C(G,O){if(E>0){E--;return}let ee=s;const K=a;for(;ee<=K;){const ce=d(G.huffmanTableAC),Ae=ce&15,ge=ce>>4;if(Ae===0){if(ge<15){E=p(ge)+(1<<ge)-1;break}ee+=16}else{ee+=ge;const oe=Jf[ee];O[oe]=m(Ae)*(1<<l),ee++}}}let w=0,b;function v(G,O){let ee=s;const K=a;let ce=0;for(;ee<=K;){const Ae=Jf[ee],ge=O[Ae]<0?-1:1;switch(w){case 0:{const oe=d(G.huffmanTableAC),Se=oe&15;if(ce=oe>>4,Se===0)ce<15?(E=p(ce)+(1<<ce),w=4):(ce=16,w=1);else{if(Se!==1)throw new Error("invalid ACn encoding");b=m(Se),w=ce?2:3}continue}case 1:case 2:O[Ae]?O[Ae]+=(g()<<l)*ge:(ce--,ce===0&&(w=w===2?3:0));break;case 3:O[Ae]?O[Ae]+=(g()<<l)*ge:(O[Ae]=b<<l,w=0);break;case 4:O[Ae]&&(O[Ae]+=(g()<<l)*ge);break}ee++}w===4&&(E--,E===0&&(w=0))}function B(G,O,ee,K,ce){const Ae=ee/c|0,ge=ee%c,oe=Ae*G.v+K,Se=ge*G.h+ce;O(G,G.blocks[oe][Se])}function R(G,O,ee){const K=ee/G.blocksPerLine|0,ce=ee%G.blocksPerLine;O(G,G.blocks[K][ce])}const T=n.length;let F,M,D,P,k,V;x?s===0?V=o===0?_:y:V=o===0?C:v:V=I;let Y=0,U,ne;T===1?ne=n[0].blocksPerLine*n[0].blocksPerColumn:ne=c*t.mcusPerColumn;const xe=r||ne;for(;Y<ne;){for(M=0;M<T;M++)n[M].pred=0;if(E=0,T===1)for(F=n[0],k=0;k<xe;k++)R(F,V,Y),Y++;else for(k=0;k<xe;k++){for(M=0;M<T;M++){F=n[M];const{h:G,v:O}=F;for(D=0;D<O;D++)for(P=0;P<G;P++)B(F,V,Y,D,P)}if(Y++,Y===ne)break}if(A=0,U=i[h]<<8|i[h+1],U<65280)throw new Error("marker was not found");if(U>=65488&&U<=65495)h+=2;else break}return h-u}function ij(i,e){const t=[],{blocksPerLine:n,blocksPerColumn:r}=e,s=n<<3,a=new Int32Array(64),o=new Uint8Array(64);function l(c,x,u){const h=e.quantizationTable;let f,A,g,d,p,m,I,_,y;const E=u;let C;for(C=0;C<64;C++)E[C]=c[C]*h[C];for(C=0;C<8;++C){const w=8*C;if(E[1+w]===0&&E[2+w]===0&&E[3+w]===0&&E[4+w]===0&&E[5+w]===0&&E[6+w]===0&&E[7+w]===0){y=Fx*E[0+w]+512>>10,E[0+w]=y,E[1+w]=y,E[2+w]=y,E[3+w]=y,E[4+w]=y,E[5+w]=y,E[6+w]=y,E[7+w]=y;continue}f=Fx*E[0+w]+128>>8,A=Fx*E[4+w]+128>>8,g=E[2+w],d=E[6+w],p=tI*(E[1+w]-E[7+w])+128>>8,_=tI*(E[1+w]+E[7+w])+128>>8,m=E[3+w]<<4,I=E[5+w]<<4,y=f-A+1>>1,f=f+A+1>>1,A=y,y=g*eI+d*$_+128>>8,g=g*$_-d*eI+128>>8,d=y,y=p-I+1>>1,p=p+I+1>>1,I=y,y=_+m+1>>1,m=_-m+1>>1,_=y,y=f-d+1>>1,f=f+d+1>>1,d=y,y=A-g+1>>1,A=A+g+1>>1,g=y,y=p*Z_+_*J_+2048>>12,p=p*J_-_*Z_+2048>>12,_=y,y=m*K_+I*j_+2048>>12,m=m*j_-I*K_+2048>>12,I=y,E[0+w]=f+_,E[7+w]=f-_,E[1+w]=A+I,E[6+w]=A-I,E[2+w]=g+m,E[5+w]=g-m,E[3+w]=d+p,E[4+w]=d-p}for(C=0;C<8;++C){const w=C;if(E[1*8+w]===0&&E[2*8+w]===0&&E[3*8+w]===0&&E[4*8+w]===0&&E[5*8+w]===0&&E[6*8+w]===0&&E[7*8+w]===0){y=Fx*u[C+0]+8192>>14,E[0*8+w]=y,E[1*8+w]=y,E[2*8+w]=y,E[3*8+w]=y,E[4*8+w]=y,E[5*8+w]=y,E[6*8+w]=y,E[7*8+w]=y;continue}f=Fx*E[0*8+w]+2048>>12,A=Fx*E[4*8+w]+2048>>12,g=E[2*8+w],d=E[6*8+w],p=tI*(E[1*8+w]-E[7*8+w])+2048>>12,_=tI*(E[1*8+w]+E[7*8+w])+2048>>12,m=E[3*8+w],I=E[5*8+w],y=f-A+1>>1,f=f+A+1>>1,A=y,y=g*eI+d*$_+2048>>12,g=g*$_-d*eI+2048>>12,d=y,y=p-I+1>>1,p=p+I+1>>1,I=y,y=_+m+1>>1,m=_-m+1>>1,_=y,y=f-d+1>>1,f=f+d+1>>1,d=y,y=A-g+1>>1,A=A+g+1>>1,g=y,y=p*Z_+_*J_+2048>>12,p=p*J_-_*Z_+2048>>12,_=y,y=m*K_+I*j_+2048>>12,m=m*j_-I*K_+2048>>12,I=y,E[0*8+w]=f+_,E[7*8+w]=f-_,E[1*8+w]=A+I,E[6*8+w]=A-I,E[2*8+w]=g+m,E[5*8+w]=g-m,E[3*8+w]=d+p,E[4*8+w]=d-p}for(C=0;C<64;++C){const w=128+(E[C]+8>>4);w<0?x[C]=0:w>255?x[C]=255:x[C]=w}}for(let c=0;c<r;c++){const x=c<<3;for(let u=0;u<8;u++)t.push(new Uint8Array(s));for(let u=0;u<n;u++){l(e.blocks[c][u],o,a);let h=0;const f=u<<3;for(let A=0;A<8;A++){const g=t[x+A];for(let d=0;d<8;d++)g[f+d]=o[h++]}}}return t}class rj{constructor(){this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}resetFrames(){this.frames=[]}parse(e){let t=0;function n(){const o=e[t]<<8|e[t+1];return t+=2,o}function r(){const o=n(),l=e.subarray(t,t+o-2);return t+=l.length,l}function s(o){let l=0,c=0,x,u;for(u in o.components)o.components.hasOwnProperty(u)&&(x=o.components[u],l<x.h&&(l=x.h),c<x.v&&(c=x.v));const h=Math.ceil(o.samplesPerLine/8/l),f=Math.ceil(o.scanLines/8/c);for(u in o.components)if(o.components.hasOwnProperty(u)){x=o.components[u];const A=Math.ceil(Math.ceil(o.samplesPerLine/8)*x.h/l),g=Math.ceil(Math.ceil(o.scanLines/8)*x.v/c),d=h*x.h,p=f*x.v,m=[];for(let I=0;I<p;I++){const _=[];for(let y=0;y<d;y++)_.push(new Int32Array(64));m.push(_)}x.blocksPerLine=A,x.blocksPerColumn=g,x.blocks=m}o.maxH=l,o.maxV=c,o.mcusPerLine=h,o.mcusPerColumn=f}let a=n();if(a!==65496)throw new Error("SOI not found");for(a=n();a!==65497;){switch(a){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:{const o=r();a===65504&&o[0]===74&&o[1]===70&&o[2]===73&&o[3]===70&&o[4]===0&&(this.jfif={version:{major:o[5],minor:o[6]},densityUnits:o[7],xDensity:o[8]<<8|o[9],yDensity:o[10]<<8|o[11],thumbWidth:o[12],thumbHeight:o[13],thumbData:o.subarray(14,14+3*o[12]*o[13])}),a===65518&&o[0]===65&&o[1]===100&&o[2]===111&&o[3]===98&&o[4]===101&&o[5]===0&&(this.adobe={version:o[6],flags0:o[7]<<8|o[8],flags1:o[9]<<8|o[10],transformCode:o[11]});break}case 65499:{const l=n()+t-2;for(;t<l;){const c=e[t++],x=new Int32Array(64);if(c>>4)if(c>>4===1)for(let u=0;u<64;u++){const h=Jf[u];x[h]=n()}else throw new Error("DQT: invalid table spec");else for(let u=0;u<64;u++){const h=Jf[u];x[h]=e[t++]}this.quantizationTables[c&15]=x}break}case 65472:case 65473:case 65474:{n();const o={extended:a===65473,progressive:a===65474,precision:e[t++],scanLines:n(),samplesPerLine:n(),components:{},componentsOrder:[]},l=e[t++];let c;for(let x=0;x<l;x++){c=e[t];const u=e[t+1]>>4,h=e[t+1]&15,f=e[t+2];o.componentsOrder.push(c),o.components[c]={h:u,v:h,quantizationIdx:f},t+=3}s(o),this.frames.push(o);break}case 65476:{const o=n();for(let l=2;l<o;){const c=e[t++],x=new Uint8Array(16);let u=0;for(let f=0;f<16;f++,t++)x[f]=e[t],u+=x[f];const h=new Uint8Array(u);for(let f=0;f<u;f++,t++)h[f]=e[t];l+=17+u,c>>4?this.huffmanTablesAC[c&15]=n6(x,h):this.huffmanTablesDC[c&15]=n6(x,h)}break}case 65501:n(),this.resetInterval=n();break;case 65498:{n();const o=e[t++],l=[],c=this.frames[0];for(let A=0;A<o;A++){const g=c.components[e[t++]],d=e[t++];g.huffmanTableDC=this.huffmanTablesDC[d>>4],g.huffmanTableAC=this.huffmanTablesAC[d&15],l.push(g)}const x=e[t++],u=e[t++],h=e[t++],f=nj(e,t,c,l,this.resetInterval,x,u,h>>4,h&15);t+=f;break}case 65535:e[t]!==255&&t--;break;default:if(e[t-3]===255&&e[t-2]>=192&&e[t-2]<=254){t-=3;break}throw new Error(`unknown JPEG marker ${a.toString(16)}`)}a=n()}}getResult(){const{frames:e}=this;if(this.frames.length===0)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(let x=0;x<this.frames.length;x++){const u=this.frames[x].components;for(const h of Object.keys(u))u[h].quantizationTable=this.quantizationTables[u[h].quantizationIdx],delete u[h].quantizationIdx}const t=e[0],{components:n,componentsOrder:r}=t,s=[],a=t.samplesPerLine,o=t.scanLines;for(let x=0;x<r.length;x++){const u=n[r[x]];s.push({lines:ij(t,u),scaleX:u.h/t.maxH,scaleY:u.v/t.maxV})}const l=new Uint8Array(a*o*s.length);let c=0;for(let x=0;x<o;++x)for(let u=0;u<a;++u)for(let h=0;h<s.length;++h){const f=s[h];l[c]=f.lines[0|x*f.scaleY][0|u*f.scaleX],++c}return l}}class sj extends Jo{constructor(e){super(),this.reader=new rj,e.JPEGTables&&this.reader.parse(e.JPEGTables)}decodeBlock(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}const aj=Object.freeze(Object.defineProperty({__proto__:null,default:sj},Symbol.toStringTag,{value:"Module"}));/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const oj=4,i6=0,r6=1,cj=2;function Lx(i){let e=i.length;for(;--e>=0;)i[e]=0}const lj=0,s6=1,xj=2,uj=3,hj=258,_3=29,Zf=256,$f=Zf+1+_3,Px=30,I3=19,a6=2*$f+1,ic=15,E3=16,fj=7,y3=256,o6=16,c6=17,l6=18,C3=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),nI=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Aj=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),x6=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dj=512,Oa=new Array(($f+2)*2);Lx(Oa);const eA=new Array(Px*2);Lx(eA);const tA=new Array(dj);Lx(tA);const nA=new Array(hj-uj+1);Lx(nA);const b3=new Array(_3);Lx(b3);const iI=new Array(Px);Lx(iI);function v3(i,e,t,n,r){this.static_tree=i,this.extra_bits=e,this.extra_base=t,this.elems=n,this.max_length=r,this.has_stree=i&&i.length}let u6,h6,f6;function w3(i,e){this.dyn_tree=i,this.max_code=0,this.stat_desc=e}const A6=i=>i<256?tA[i]:tA[256+(i>>>7)],iA=(i,e)=>{i.pending_buf[i.pending++]=e&255,i.pending_buf[i.pending++]=e>>>8&255},ir=(i,e,t)=>{i.bi_valid>E3-t?(i.bi_buf|=e<<i.bi_valid&65535,iA(i,i.bi_buf),i.bi_buf=e>>E3-i.bi_valid,i.bi_valid+=t-E3):(i.bi_buf|=e<<i.bi_valid&65535,i.bi_valid+=t)},Hs=(i,e,t)=>{ir(i,t[e*2],t[e*2+1])},d6=(i,e)=>{let t=0;do t|=i&1,i>>>=1,t<<=1;while(--e>0);return t>>>1},pj=i=>{i.bi_valid===16?(iA(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=i.bi_buf&255,i.bi_buf>>=8,i.bi_valid-=8)},gj=(i,e)=>{const t=e.dyn_tree,n=e.max_code,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,x,u,h,f,A,g=0;for(h=0;h<=ic;h++)i.bl_count[h]=0;for(t[i.heap[i.heap_max]*2+1]=0,c=i.heap_max+1;c<a6;c++)x=i.heap[c],h=t[t[x*2+1]*2+1]+1,h>l&&(h=l,g++),t[x*2+1]=h,!(x>n)&&(i.bl_count[h]++,f=0,x>=o&&(f=a[x-o]),A=t[x*2],i.opt_len+=A*(h+f),s&&(i.static_len+=A*(r[x*2+1]+f)));if(g!==0){do{for(h=l-1;i.bl_count[h]===0;)h--;i.bl_count[h]--,i.bl_count[h+1]+=2,i.bl_count[l]--,g-=2}while(g>0);for(h=l;h!==0;h--)for(x=i.bl_count[h];x!==0;)u=i.heap[--c],!(u>n)&&(t[u*2+1]!==h&&(i.opt_len+=(h-t[u*2+1])*t[u*2],t[u*2+1]=h),x--)}},p6=(i,e,t)=>{const n=new Array(ic+1);let r=0,s,a;for(s=1;s<=ic;s++)r=r+t[s-1]<<1,n[s]=r;for(a=0;a<=e;a++){let o=i[a*2+1];o!==0&&(i[a*2]=d6(n[o]++,o))}},mj=()=>{let i,e,t,n,r;const s=new Array(ic+1);for(t=0,n=0;n<_3-1;n++)for(b3[n]=t,i=0;i<1<<C3[n];i++)nA[t++]=n;for(nA[t-1]=n,r=0,n=0;n<16;n++)for(iI[n]=r,i=0;i<1<<nI[n];i++)tA[r++]=n;for(r>>=7;n<Px;n++)for(iI[n]=r<<7,i=0;i<1<<nI[n]-7;i++)tA[256+r++]=n;for(e=0;e<=ic;e++)s[e]=0;for(i=0;i<=143;)Oa[i*2+1]=8,i++,s[8]++;for(;i<=255;)Oa[i*2+1]=9,i++,s[9]++;for(;i<=279;)Oa[i*2+1]=7,i++,s[7]++;for(;i<=287;)Oa[i*2+1]=8,i++,s[8]++;for(p6(Oa,$f+1,s),i=0;i<Px;i++)eA[i*2+1]=5,eA[i*2]=d6(i,5);u6=new v3(Oa,C3,Zf+1,$f,ic),h6=new v3(eA,nI,0,Px,ic),f6=new v3(new Array(0),Aj,0,I3,fj)},g6=i=>{let e;for(e=0;e<$f;e++)i.dyn_ltree[e*2]=0;for(e=0;e<Px;e++)i.dyn_dtree[e*2]=0;for(e=0;e<I3;e++)i.bl_tree[e*2]=0;i.dyn_ltree[y3*2]=1,i.opt_len=i.static_len=0,i.sym_next=i.matches=0},m6=i=>{i.bi_valid>8?iA(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0},_6=(i,e,t,n)=>{const r=e*2,s=t*2;return i[r]<i[s]||i[r]===i[s]&&n[e]<=n[t]},B3=(i,e,t)=>{const n=i.heap[t];let r=t<<1;for(;r<=i.heap_len&&(r<i.heap_len&&_6(e,i.heap[r+1],i.heap[r],i.depth)&&r++,!_6(e,n,i.heap[r],i.depth));)i.heap[t]=i.heap[r],t=r,r<<=1;i.heap[t]=n},I6=(i,e,t)=>{let n,r,s=0,a,o;if(i.sym_next!==0)do n=i.pending_buf[i.sym_buf+s++]&255,n+=(i.pending_buf[i.sym_buf+s++]&255)<<8,r=i.pending_buf[i.sym_buf+s++],n===0?Hs(i,r,e):(a=nA[r],Hs(i,a+Zf+1,e),o=C3[a],o!==0&&(r-=b3[a],ir(i,r,o)),n--,a=A6(n),Hs(i,a,t),o=nI[a],o!==0&&(n-=iI[a],ir(i,n,o)));while(s<i.sym_next);Hs(i,y3,e)},S3=(i,e)=>{const t=e.dyn_tree,n=e.stat_desc.static_tree,r=e.stat_desc.has_stree,s=e.stat_desc.elems;let a,o,l=-1,c;for(i.heap_len=0,i.heap_max=a6,a=0;a<s;a++)t[a*2]!==0?(i.heap[++i.heap_len]=l=a,i.depth[a]=0):t[a*2+1]=0;for(;i.heap_len<2;)c=i.heap[++i.heap_len]=l<2?++l:0,t[c*2]=1,i.depth[c]=0,i.opt_len--,r&&(i.static_len-=n[c*2+1]);for(e.max_code=l,a=i.heap_len>>1;a>=1;a--)B3(i,t,a);c=s;do a=i.heap[1],i.heap[1]=i.heap[i.heap_len--],B3(i,t,1),o=i.heap[1],i.heap[--i.heap_max]=a,i.heap[--i.heap_max]=o,t[c*2]=t[a*2]+t[o*2],i.depth[c]=(i.depth[a]>=i.depth[o]?i.depth[a]:i.depth[o])+1,t[a*2+1]=t[o*2+1]=c,i.heap[1]=c++,B3(i,t,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],gj(i,e),p6(t,l,i.bl_count)},E6=(i,e,t)=>{let n,r=-1,s,a=e[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),e[(t+1)*2+1]=65535,n=0;n<=t;n++)s=a,a=e[(n+1)*2+1],!(++o<l&&s===a)&&(o<c?i.bl_tree[s*2]+=o:s!==0?(s!==r&&i.bl_tree[s*2]++,i.bl_tree[o6*2]++):o<=10?i.bl_tree[c6*2]++:i.bl_tree[l6*2]++,o=0,r=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4))},y6=(i,e,t)=>{let n,r=-1,s,a=e[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),n=0;n<=t;n++)if(s=a,a=e[(n+1)*2+1],!(++o<l&&s===a)){if(o<c)do Hs(i,s,i.bl_tree);while(--o!==0);else s!==0?(s!==r&&(Hs(i,s,i.bl_tree),o--),Hs(i,o6,i.bl_tree),ir(i,o-3,2)):o<=10?(Hs(i,c6,i.bl_tree),ir(i,o-3,3)):(Hs(i,l6,i.bl_tree),ir(i,o-11,7));o=0,r=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4)}},_j=i=>{let e;for(E6(i,i.dyn_ltree,i.l_desc.max_code),E6(i,i.dyn_dtree,i.d_desc.max_code),S3(i,i.bl_desc),e=I3-1;e>=3&&i.bl_tree[x6[e]*2+1]===0;e--);return i.opt_len+=3*(e+1)+5+5+4,e},Ij=(i,e,t,n)=>{let r;for(ir(i,e-257,5),ir(i,t-1,5),ir(i,n-4,4),r=0;r<n;r++)ir(i,i.bl_tree[x6[r]*2+1],3);y6(i,i.dyn_ltree,e-1),y6(i,i.dyn_dtree,t-1)},Ej=i=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&i.dyn_ltree[t*2]!==0)return i6;if(i.dyn_ltree[9*2]!==0||i.dyn_ltree[10*2]!==0||i.dyn_ltree[13*2]!==0)return r6;for(t=32;t<Zf;t++)if(i.dyn_ltree[t*2]!==0)return r6;return i6};let C6=!1;const yj=i=>{C6||(mj(),C6=!0),i.l_desc=new w3(i.dyn_ltree,u6),i.d_desc=new w3(i.dyn_dtree,h6),i.bl_desc=new w3(i.bl_tree,f6),i.bi_buf=0,i.bi_valid=0,g6(i)},b6=(i,e,t,n)=>{ir(i,(lj<<1)+(n?1:0),3),m6(i),iA(i,t),iA(i,~t),t&&i.pending_buf.set(i.window.subarray(e,e+t),i.pending),i.pending+=t},Cj=i=>{ir(i,s6<<1,3),Hs(i,y3,Oa),pj(i)},bj=(i,e,t,n)=>{let r,s,a=0;i.level>0?(i.strm.data_type===cj&&(i.strm.data_type=Ej(i)),S3(i,i.l_desc),S3(i,i.d_desc),a=_j(i),r=i.opt_len+3+7>>>3,s=i.static_len+3+7>>>3,s<=r&&(r=s)):r=s=t+5,t+4<=r&&e!==-1?b6(i,e,t,n):i.strategy===oj||s===r?(ir(i,(s6<<1)+(n?1:0),3),I6(i,Oa,eA)):(ir(i,(xj<<1)+(n?1:0),3),Ij(i,i.l_desc.max_code+1,i.d_desc.max_code+1,a+1),I6(i,i.dyn_ltree,i.dyn_dtree)),g6(i),n&&m6(i)},vj=(i,e,t)=>(i.pending_buf[i.sym_buf+i.sym_next++]=e,i.pending_buf[i.sym_buf+i.sym_next++]=e>>8,i.pending_buf[i.sym_buf+i.sym_next++]=t,e===0?i.dyn_ltree[t*2]++:(i.matches++,e--,i.dyn_ltree[(nA[t]+Zf+1)*2]++,i.dyn_dtree[A6(e)*2]++),i.sym_next===i.sym_end);var wj=yj,Bj=b6,Sj=bj,Mj=vj,Rj=Cj,Tj={_tr_init:wj,_tr_stored_block:Bj,_tr_flush_block:Sj,_tr_tally:Mj,_tr_align:Rj},rA=(i,e,t,n)=>{let r=i&65535|0,s=i>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do r=r+e[n++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};const Dj=()=>{let i,e=[];for(var t=0;t<256;t++){i=t;for(var n=0;n<8;n++)i=i&1?3988292384^i>>>1:i>>>1;e[t]=i}return e},Qj=new Uint32Array(Dj());var ei=(i,e,t,n)=>{const r=Qj,s=n+t;i^=-1;for(let a=n;a<s;a++)i=i>>>8^r[(i^e[a])&255];return i^-1},kx={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},sA={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Fj,_tr_stored_block:M3,_tr_flush_block:Lj,_tr_tally:Yo,_tr_align:Pj}=Tj,{Z_NO_FLUSH:Xo,Z_PARTIAL_FLUSH:kj,Z_FULL_FLUSH:Uj,Z_FINISH:Ur,Z_BLOCK:v6,Z_OK:hi,Z_STREAM_END:w6,Z_STREAM_ERROR:qs,Z_DATA_ERROR:Nj,Z_BUF_ERROR:R3,Z_DEFAULT_COMPRESSION:Oj,Z_FILTERED:Gj,Z_HUFFMAN_ONLY:rI,Z_RLE:zj,Z_FIXED:Vj,Z_DEFAULT_STRATEGY:Hj,Z_UNKNOWN:qj,Z_DEFLATED:sI}=sA,Yj=9,Xj=15,Wj=8,T3=256+1+29,jj=30,Kj=19,Jj=2*T3+1,Zj=15,Et=3,Wo=258,Ys=Wo+Et+1,$j=32,Ux=42,D3=57,Q3=69,F3=73,L3=91,P3=103,rc=113,aA=666,ki=1,Nx=2,sc=3,Ox=4,eK=3,ac=(i,e)=>(i.msg=kx[e],e),B6=i=>i*2-(i>4?9:0),jo=i=>{let e=i.length;for(;--e>=0;)i[e]=0},tK=i=>{let e,t,n,r=i.w_size;e=i.hash_size,n=e;do t=i.head[--n],i.head[n]=t>=r?t-r:0;while(--e);e=r,n=e;do t=i.prev[--n],i.prev[n]=t>=r?t-r:0;while(--e)};let Ko=(i,e,t)=>(e<<i.hash_shift^t)&i.hash_mask;const _r=i=>{const e=i.state;let t=e.pending;t>i.avail_out&&(t=i.avail_out),t!==0&&(i.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),i.next_out),i.next_out+=t,e.pending_out+=t,i.total_out+=t,i.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},Ir=(i,e)=>{Lj(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,e),i.block_start=i.strstart,_r(i.strm)},Pt=(i,e)=>{i.pending_buf[i.pending++]=e},oA=(i,e)=>{i.pending_buf[i.pending++]=e>>>8&255,i.pending_buf[i.pending++]=e&255},k3=(i,e,t,n)=>{let r=i.avail_in;return r>n&&(r=n),r===0?0:(i.avail_in-=r,e.set(i.input.subarray(i.next_in,i.next_in+r),t),i.state.wrap===1?i.adler=rA(i.adler,e,r,t):i.state.wrap===2&&(i.adler=ei(i.adler,e,r,t)),i.next_in+=r,i.total_in+=r,r)},S6=(i,e)=>{let t=i.max_chain_length,n=i.strstart,r,s,a=i.prev_length,o=i.nice_match;const l=i.strstart>i.w_size-Ys?i.strstart-(i.w_size-Ys):0,c=i.window,x=i.w_mask,u=i.prev,h=i.strstart+Wo;let f=c[n+a-1],A=c[n+a];i.prev_length>=i.good_match&&(t>>=2),o>i.lookahead&&(o=i.lookahead);do if(r=e,!(c[r+a]!==A||c[r+a-1]!==f||c[r]!==c[n]||c[++r]!==c[n+1])){n+=2,r++;do;while(c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&n<h);if(s=Wo-(h-n),n=h-Wo,s>a){if(i.match_start=e,a=s,s>=o)break;f=c[n+a-1],A=c[n+a]}}while((e=u[e&x])>l&&--t!==0);return a<=i.lookahead?a:i.lookahead},Gx=i=>{const e=i.w_size;let t,n,r;do{if(n=i.window_size-i.lookahead-i.strstart,i.strstart>=e+(e-Ys)&&(i.window.set(i.window.subarray(e,e+e-n),0),i.match_start-=e,i.strstart-=e,i.block_start-=e,i.insert>i.strstart&&(i.insert=i.strstart),tK(i),n+=e),i.strm.avail_in===0)break;if(t=k3(i.strm,i.window,i.strstart+i.lookahead,n),i.lookahead+=t,i.lookahead+i.insert>=Et)for(r=i.strstart-i.insert,i.ins_h=i.window[r],i.ins_h=Ko(i,i.ins_h,i.window[r+1]);i.insert&&(i.ins_h=Ko(i,i.ins_h,i.window[r+Et-1]),i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++,i.insert--,!(i.lookahead+i.insert<Et)););}while(i.lookahead<Ys&&i.strm.avail_in!==0)},M6=(i,e)=>{let t=i.pending_buf_size-5>i.w_size?i.w_size:i.pending_buf_size-5,n,r,s,a=0,o=i.strm.avail_in;do{if(n=65535,s=i.bi_valid+42>>3,i.strm.avail_out<s||(s=i.strm.avail_out-s,r=i.strstart-i.block_start,n>r+i.strm.avail_in&&(n=r+i.strm.avail_in),n>s&&(n=s),n<t&&(n===0&&e!==Ur||e===Xo||n!==r+i.strm.avail_in)))break;a=e===Ur&&n===r+i.strm.avail_in?1:0,M3(i,0,0,a),i.pending_buf[i.pending-4]=n,i.pending_buf[i.pending-3]=n>>8,i.pending_buf[i.pending-2]=~n,i.pending_buf[i.pending-1]=~n>>8,_r(i.strm),r&&(r>n&&(r=n),i.strm.output.set(i.window.subarray(i.block_start,i.block_start+r),i.strm.next_out),i.strm.next_out+=r,i.strm.avail_out-=r,i.strm.total_out+=r,i.block_start+=r,n-=r),n&&(k3(i.strm,i.strm.output,i.strm.next_out,n),i.strm.next_out+=n,i.strm.avail_out-=n,i.strm.total_out+=n)}while(a===0);return o-=i.strm.avail_in,o&&(o>=i.w_size?(i.matches=2,i.window.set(i.strm.input.subarray(i.strm.next_in-i.w_size,i.strm.next_in),0),i.strstart=i.w_size,i.insert=i.strstart):(i.window_size-i.strstart<=o&&(i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,i.insert>i.strstart&&(i.insert=i.strstart)),i.window.set(i.strm.input.subarray(i.strm.next_in-o,i.strm.next_in),i.strstart),i.strstart+=o,i.insert+=o>i.w_size-i.insert?i.w_size-i.insert:o),i.block_start=i.strstart),i.high_water<i.strstart&&(i.high_water=i.strstart),a?Ox:e!==Xo&&e!==Ur&&i.strm.avail_in===0&&i.strstart===i.block_start?Nx:(s=i.window_size-i.strstart,i.strm.avail_in>s&&i.block_start>=i.w_size&&(i.block_start-=i.w_size,i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,s+=i.w_size,i.insert>i.strstart&&(i.insert=i.strstart)),s>i.strm.avail_in&&(s=i.strm.avail_in),s&&(k3(i.strm,i.window,i.strstart,s),i.strstart+=s,i.insert+=s>i.w_size-i.insert?i.w_size-i.insert:s),i.high_water<i.strstart&&(i.high_water=i.strstart),s=i.bi_valid+42>>3,s=i.pending_buf_size-s>65535?65535:i.pending_buf_size-s,t=s>i.w_size?i.w_size:s,r=i.strstart-i.block_start,(r>=t||(r||e===Ur)&&e!==Xo&&i.strm.avail_in===0&&r<=s)&&(n=r>s?s:r,a=e===Ur&&i.strm.avail_in===0&&n===r?1:0,M3(i,i.block_start,n,a),i.block_start+=n,_r(i.strm)),a?sc:ki)},U3=(i,e)=>{let t,n;for(;;){if(i.lookahead<Ys){if(Gx(i),i.lookahead<Ys&&e===Xo)return ki;if(i.lookahead===0)break}if(t=0,i.lookahead>=Et&&(i.ins_h=Ko(i,i.ins_h,i.window[i.strstart+Et-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),t!==0&&i.strstart-t<=i.w_size-Ys&&(i.match_length=S6(i,t)),i.match_length>=Et)if(n=Yo(i,i.strstart-i.match_start,i.match_length-Et),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=Et){i.match_length--;do i.strstart++,i.ins_h=Ko(i,i.ins_h,i.window[i.strstart+Et-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=Ko(i,i.ins_h,i.window[i.strstart+1]);else n=Yo(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(n&&(Ir(i,!1),i.strm.avail_out===0))return ki}return i.insert=i.strstart<Et-1?i.strstart:Et-1,e===Ur?(Ir(i,!0),i.strm.avail_out===0?sc:Ox):i.sym_next&&(Ir(i,!1),i.strm.avail_out===0)?ki:Nx},zx=(i,e)=>{let t,n,r;for(;;){if(i.lookahead<Ys){if(Gx(i),i.lookahead<Ys&&e===Xo)return ki;if(i.lookahead===0)break}if(t=0,i.lookahead>=Et&&(i.ins_h=Ko(i,i.ins_h,i.window[i.strstart+Et-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=Et-1,t!==0&&i.prev_length<i.max_lazy_match&&i.strstart-t<=i.w_size-Ys&&(i.match_length=S6(i,t),i.match_length<=5&&(i.strategy===Gj||i.match_length===Et&&i.strstart-i.match_start>4096)&&(i.match_length=Et-1)),i.prev_length>=Et&&i.match_length<=i.prev_length){r=i.strstart+i.lookahead-Et,n=Yo(i,i.strstart-1-i.prev_match,i.prev_length-Et),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=r&&(i.ins_h=Ko(i,i.ins_h,i.window[i.strstart+Et-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=Et-1,i.strstart++,n&&(Ir(i,!1),i.strm.avail_out===0))return ki}else if(i.match_available){if(n=Yo(i,0,i.window[i.strstart-1]),n&&Ir(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return ki}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(n=Yo(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<Et-1?i.strstart:Et-1,e===Ur?(Ir(i,!0),i.strm.avail_out===0?sc:Ox):i.sym_next&&(Ir(i,!1),i.strm.avail_out===0)?ki:Nx},nK=(i,e)=>{let t,n,r,s;const a=i.window;for(;;){if(i.lookahead<=Wo){if(Gx(i),i.lookahead<=Wo&&e===Xo)return ki;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=Et&&i.strstart>0&&(r=i.strstart-1,n=a[r],n===a[++r]&&n===a[++r]&&n===a[++r])){s=i.strstart+Wo;do;while(n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&r<s);i.match_length=Wo-(s-r),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=Et?(t=Yo(i,1,i.match_length-Et),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(t=Yo(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),t&&(Ir(i,!1),i.strm.avail_out===0))return ki}return i.insert=0,e===Ur?(Ir(i,!0),i.strm.avail_out===0?sc:Ox):i.sym_next&&(Ir(i,!1),i.strm.avail_out===0)?ki:Nx},iK=(i,e)=>{let t;for(;;){if(i.lookahead===0&&(Gx(i),i.lookahead===0)){if(e===Xo)return ki;break}if(i.match_length=0,t=Yo(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,t&&(Ir(i,!1),i.strm.avail_out===0))return ki}return i.insert=0,e===Ur?(Ir(i,!0),i.strm.avail_out===0?sc:Ox):i.sym_next&&(Ir(i,!1),i.strm.avail_out===0)?ki:Nx};function Xs(i,e,t,n,r){this.good_length=i,this.max_lazy=e,this.nice_length=t,this.max_chain=n,this.func=r}const cA=[new Xs(0,0,0,0,M6),new Xs(4,4,8,4,U3),new Xs(4,5,16,8,U3),new Xs(4,6,32,32,U3),new Xs(4,4,16,16,zx),new Xs(8,16,32,32,zx),new Xs(8,16,128,128,zx),new Xs(8,32,128,256,zx),new Xs(32,128,258,1024,zx),new Xs(32,258,258,4096,zx)],rK=i=>{i.window_size=2*i.w_size,jo(i.head),i.max_lazy_match=cA[i.level].max_lazy,i.good_match=cA[i.level].good_length,i.nice_match=cA[i.level].nice_length,i.max_chain_length=cA[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=Et-1,i.match_available=0,i.ins_h=0};function sK(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=sI,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Jj*2),this.dyn_dtree=new Uint16Array((2*jj+1)*2),this.bl_tree=new Uint16Array((2*Kj+1)*2),jo(this.dyn_ltree),jo(this.dyn_dtree),jo(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Zj+1),this.heap=new Uint16Array(2*T3+1),jo(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*T3+1),jo(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const lA=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.status!==Ux&&e.status!==D3&&e.status!==Q3&&e.status!==F3&&e.status!==L3&&e.status!==P3&&e.status!==rc&&e.status!==aA?1:0},R6=i=>{if(lA(i))return ac(i,qs);i.total_in=i.total_out=0,i.data_type=qj;const e=i.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?D3:e.wrap?Ux:rc,i.adler=e.wrap===2?0:1,e.last_flush=-2,Fj(e),hi},T6=i=>{const e=R6(i);return e===hi&&rK(i.state),e},aK=(i,e)=>lA(i)||i.state.wrap!==2?qs:(i.state.gzhead=e,hi),D6=(i,e,t,n,r,s)=>{if(!i)return qs;let a=1;if(e===Oj&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),r<1||r>Yj||t!==sI||n<8||n>15||e<0||e>9||s<0||s>Vj||n===8&&a!==1)return ac(i,qs);n===8&&(n=9);const o=new sK;return i.state=o,o.strm=i,o.status=Ux,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Et-1)/Et),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=s,o.method=t,T6(i)},oK=(i,e)=>D6(i,e,sI,Xj,Wj,Hj),cK=(i,e)=>{if(lA(i)||e>v6||e<0)return i?ac(i,qs):qs;const t=i.state;if(!i.output||i.avail_in!==0&&!i.input||t.status===aA&&e!==Ur)return ac(i,i.avail_out===0?R3:qs);const n=t.last_flush;if(t.last_flush=e,t.pending!==0){if(_r(i),i.avail_out===0)return t.last_flush=-1,hi}else if(i.avail_in===0&&B6(e)<=B6(n)&&e!==Ur)return ac(i,R3);if(t.status===aA&&i.avail_in!==0)return ac(i,R3);if(t.status===Ux&&t.wrap===0&&(t.status=rc),t.status===Ux){let r=sI+(t.w_bits-8<<4)<<8,s=-1;if(t.strategy>=rI||t.level<2?s=0:t.level<6?s=1:t.level===6?s=2:s=3,r|=s<<6,t.strstart!==0&&(r|=$j),r+=31-r%31,oA(t,r),t.strstart!==0&&(oA(t,i.adler>>>16),oA(t,i.adler&65535)),i.adler=1,t.status=rc,_r(i),t.pending!==0)return t.last_flush=-1,hi}if(t.status===D3){if(i.adler=0,Pt(t,31),Pt(t,139),Pt(t,8),t.gzhead)Pt(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Pt(t,t.gzhead.time&255),Pt(t,t.gzhead.time>>8&255),Pt(t,t.gzhead.time>>16&255),Pt(t,t.gzhead.time>>24&255),Pt(t,t.level===9?2:t.strategy>=rI||t.level<2?4:0),Pt(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Pt(t,t.gzhead.extra.length&255),Pt(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(i.adler=ei(i.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=Q3;else if(Pt(t,0),Pt(t,0),Pt(t,0),Pt(t,0),Pt(t,0),Pt(t,t.level===9?2:t.strategy>=rI||t.level<2?4:0),Pt(t,eK),t.status=rc,_r(i),t.pending!==0)return t.last_flush=-1,hi}if(t.status===Q3){if(t.gzhead.extra){let r=t.pending,s=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let o=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>r&&(i.adler=ei(i.adler,t.pending_buf,t.pending-r,r)),t.gzindex+=o,_r(i),t.pending!==0)return t.last_flush=-1,hi;r=0,s-=o}let a=new Uint8Array(t.gzhead.extra);t.pending_buf.set(a.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>r&&(i.adler=ei(i.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=F3}if(t.status===F3){if(t.gzhead.name){let r=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(i.adler=ei(i.adler,t.pending_buf,t.pending-r,r)),_r(i),t.pending!==0)return t.last_flush=-1,hi;r=0}t.gzindex<t.gzhead.name.length?s=t.gzhead.name.charCodeAt(t.gzindex++)&255:s=0,Pt(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>r&&(i.adler=ei(i.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=L3}if(t.status===L3){if(t.gzhead.comment){let r=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(i.adler=ei(i.adler,t.pending_buf,t.pending-r,r)),_r(i),t.pending!==0)return t.last_flush=-1,hi;r=0}t.gzindex<t.gzhead.comment.length?s=t.gzhead.comment.charCodeAt(t.gzindex++)&255:s=0,Pt(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>r&&(i.adler=ei(i.adler,t.pending_buf,t.pending-r,r))}t.status=P3}if(t.status===P3){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(_r(i),t.pending!==0))return t.last_flush=-1,hi;Pt(t,i.adler&255),Pt(t,i.adler>>8&255),i.adler=0}if(t.status=rc,_r(i),t.pending!==0)return t.last_flush=-1,hi}if(i.avail_in!==0||t.lookahead!==0||e!==Xo&&t.status!==aA){let r=t.level===0?M6(t,e):t.strategy===rI?iK(t,e):t.strategy===zj?nK(t,e):cA[t.level].func(t,e);if((r===sc||r===Ox)&&(t.status=aA),r===ki||r===sc)return i.avail_out===0&&(t.last_flush=-1),hi;if(r===Nx&&(e===kj?Pj(t):e!==v6&&(M3(t,0,0,!1),e===Uj&&(jo(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),_r(i),i.avail_out===0))return t.last_flush=-1,hi}return e!==Ur?hi:t.wrap<=0?w6:(t.wrap===2?(Pt(t,i.adler&255),Pt(t,i.adler>>8&255),Pt(t,i.adler>>16&255),Pt(t,i.adler>>24&255),Pt(t,i.total_in&255),Pt(t,i.total_in>>8&255),Pt(t,i.total_in>>16&255),Pt(t,i.total_in>>24&255)):(oA(t,i.adler>>>16),oA(t,i.adler&65535)),_r(i),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?hi:w6)},lK=i=>{if(lA(i))return qs;const e=i.state.status;return i.state=null,e===rc?ac(i,Nj):hi},xK=(i,e)=>{let t=e.length;if(lA(i))return qs;const n=i.state,r=n.wrap;if(r===2||r===1&&n.status!==Ux||n.lookahead)return qs;if(r===1&&(i.adler=rA(i.adler,e,t,0)),n.wrap=0,t>=n.w_size){r===0&&(jo(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(e.subarray(t-n.w_size,t),0),e=l,t=n.w_size}const s=i.avail_in,a=i.next_in,o=i.input;for(i.avail_in=t,i.next_in=0,i.input=e,Gx(n);n.lookahead>=Et;){let l=n.strstart,c=n.lookahead-(Et-1);do n.ins_h=Ko(n,n.ins_h,n.window[l+Et-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=Et-1,Gx(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Et-1,n.match_available=0,i.next_in=a,i.input=o,i.avail_in=s,n.wrap=r,hi};var uK=oK,hK=D6,fK=T6,AK=R6,dK=aK,pK=cK,gK=lK,mK=xK,_K="pako deflate (from Nodeca project)",xA={deflateInit:uK,deflateInit2:hK,deflateReset:fK,deflateResetKeep:AK,deflateSetHeader:dK,deflate:pK,deflateEnd:gK,deflateSetDictionary:mK,deflateInfo:_K};const IK=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var EK=function(i){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)IK(t,n)&&(i[n]=t[n])}}return i},yK=i=>{let e=0;for(let n=0,r=i.length;n<r;n++)e+=i[n].length;const t=new Uint8Array(e);for(let n=0,r=0,s=i.length;n<s;n++){let a=i[n];t.set(a,r),r+=a.length}return t},aI={assign:EK,flattenChunks:yK};let Q6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Q6=!1}const uA=new Uint8Array(256);for(let i=0;i<256;i++)uA[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;uA[254]=uA[254]=1;var CK=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let e,t,n,r,s,a=i.length,o=0;for(r=0;r<a;r++)t=i.charCodeAt(r),(t&64512)===55296&&r+1<a&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,r=0;s<o;r++)t=i.charCodeAt(r),(t&64512)===55296&&r+1<a&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const bK=(i,e)=>{if(e<65534&&i.subarray&&Q6)return String.fromCharCode.apply(null,i.length===e?i:i.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(i[n]);return t};var vK=(i,e)=>{const t=e||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,e));let n,r;const s=new Array(t*2);for(r=0,n=0;n<t;){let a=i[n++];if(a<128){s[r++]=a;continue}let o=uA[a];if(o>4){s[r++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<t;)a=a<<6|i[n++]&63,o--;if(o>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return bK(s,r)},wK=(i,e)=>{e=e||i.length,e>i.length&&(e=i.length);let t=e-1;for(;t>=0&&(i[t]&192)===128;)t--;return t<0||t===0?e:t+uA[i[t]]>e?t:e},hA={string2buf:CK,buf2string:vK,utf8border:wK};function BK(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var F6=BK;const L6=Object.prototype.toString,{Z_NO_FLUSH:SK,Z_SYNC_FLUSH:MK,Z_FULL_FLUSH:RK,Z_FINISH:TK,Z_OK:oI,Z_STREAM_END:DK,Z_DEFAULT_COMPRESSION:QK,Z_DEFAULT_STRATEGY:FK,Z_DEFLATED:LK}=sA;function N3(i){this.options=aI.assign({level:QK,method:LK,chunkSize:16384,windowBits:15,memLevel:8,strategy:FK},i||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F6,this.strm.avail_out=0;let t=xA.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==oI)throw new Error(kx[t]);if(e.header&&xA.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=hA.string2buf(e.dictionary):L6.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,t=xA.deflateSetDictionary(this.strm,n),t!==oI)throw new Error(kx[t]);this._dict_set=!0}}N3.prototype.push=function(i,e){const t=this.strm,n=this.options.chunkSize;let r,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?TK:SK,typeof i=="string"?t.input=hA.string2buf(i):L6.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(s===MK||s===RK)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=xA.deflate(t,s),r===DK)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=xA.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===oI;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0},N3.prototype.onData=function(i){this.chunks.push(i)},N3.prototype.onEnd=function(i){i===oI&&(this.result=aI.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};const cI=16209,PK=16191;var kK=function(e,t){let n,r,s,a,o,l,c,x,u,h,f,A,g,d,p,m,I,_,y,E,C,w,b,v;const B=e.state;n=e.next_in,b=e.input,r=n+(e.avail_in-5),s=e.next_out,v=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),l=B.dmax,c=B.wsize,x=B.whave,u=B.wnext,h=B.window,f=B.hold,A=B.bits,g=B.lencode,d=B.distcode,p=(1<<B.lenbits)-1,m=(1<<B.distbits)-1;e:do{A<15&&(f+=b[n++]<<A,A+=8,f+=b[n++]<<A,A+=8),I=g[f&p];t:for(;;){if(_=I>>>24,f>>>=_,A-=_,_=I>>>16&255,_===0)v[s++]=I&65535;else if(_&16){y=I&65535,_&=15,_&&(A<_&&(f+=b[n++]<<A,A+=8),y+=f&(1<<_)-1,f>>>=_,A-=_),A<15&&(f+=b[n++]<<A,A+=8,f+=b[n++]<<A,A+=8),I=d[f&m];n:for(;;){if(_=I>>>24,f>>>=_,A-=_,_=I>>>16&255,_&16){if(E=I&65535,_&=15,A<_&&(f+=b[n++]<<A,A+=8,A<_&&(f+=b[n++]<<A,A+=8)),E+=f&(1<<_)-1,E>l){e.msg="invalid distance too far back",B.mode=cI;break e}if(f>>>=_,A-=_,_=s-a,E>_){if(_=E-_,_>x&&B.sane){e.msg="invalid distance too far back",B.mode=cI;break e}if(C=0,w=h,u===0){if(C+=c-_,_<y){y-=_;do v[s++]=h[C++];while(--_);C=s-E,w=v}}else if(u<_){if(C+=c+u-_,_-=u,_<y){y-=_;do v[s++]=h[C++];while(--_);if(C=0,u<y){_=u,y-=_;do v[s++]=h[C++];while(--_);C=s-E,w=v}}}else if(C+=u-_,_<y){y-=_;do v[s++]=h[C++];while(--_);C=s-E,w=v}for(;y>2;)v[s++]=w[C++],v[s++]=w[C++],v[s++]=w[C++],y-=3;y&&(v[s++]=w[C++],y>1&&(v[s++]=w[C++]))}else{C=s-E;do v[s++]=v[C++],v[s++]=v[C++],v[s++]=v[C++],y-=3;while(y>2);y&&(v[s++]=v[C++],y>1&&(v[s++]=v[C++]))}}else if(_&64){e.msg="invalid distance code",B.mode=cI;break e}else{I=d[(I&65535)+(f&(1<<_)-1)];continue n}break}}else if(_&64)if(_&32){B.mode=PK;break e}else{e.msg="invalid literal/length code",B.mode=cI;break e}else{I=g[(I&65535)+(f&(1<<_)-1)];continue t}break}}while(n<r&&s<o);y=A>>3,n-=y,A-=y<<3,f&=(1<<A)-1,e.next_in=n,e.next_out=s,e.avail_in=n<r?5+(r-n):5-(n-r),e.avail_out=s<o?257+(o-s):257-(s-o),B.hold=f,B.bits=A};const Vx=15,P6=852,k6=592,U6=0,O3=1,N6=2,UK=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),NK=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),OK=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),GK=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var fA=(i,e,t,n,r,s,a,o)=>{const l=o.bits;let c=0,x=0,u=0,h=0,f=0,A=0,g=0,d=0,p=0,m=0,I,_,y,E,C,w=null,b;const v=new Uint16Array(Vx+1),B=new Uint16Array(Vx+1);let R=null,T,F,M;for(c=0;c<=Vx;c++)v[c]=0;for(x=0;x<n;x++)v[e[t+x]]++;for(f=l,h=Vx;h>=1&&v[h]===0;h--);if(f>h&&(f=h),h===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<h&&v[u]===0;u++);for(f<u&&(f=u),d=1,c=1;c<=Vx;c++)if(d<<=1,d-=v[c],d<0)return-1;if(d>0&&(i===U6||h!==1))return-1;for(B[1]=0,c=1;c<Vx;c++)B[c+1]=B[c]+v[c];for(x=0;x<n;x++)e[t+x]!==0&&(a[B[e[t+x]]++]=x);if(i===U6?(w=R=a,b=20):i===O3?(w=UK,R=NK,b=257):(w=OK,R=GK,b=0),m=0,x=0,c=u,C=s,A=f,g=0,y=-1,p=1<<f,E=p-1,i===O3&&p>P6||i===N6&&p>k6)return 1;for(;;){T=c-g,a[x]+1<b?(F=0,M=a[x]):a[x]>=b?(F=R[a[x]-b],M=w[a[x]-b]):(F=96,M=0),I=1<<c-g,_=1<<A,u=_;do _-=I,r[C+(m>>g)+_]=T<<24|F<<16|M|0;while(_!==0);for(I=1<<c-1;m&I;)I>>=1;if(I!==0?(m&=I-1,m+=I):m=0,x++,--v[c]===0){if(c===h)break;c=e[t+a[x]]}if(c>f&&(m&E)!==y){for(g===0&&(g=f),C+=u,A=c-g,d=1<<A;A+g<h&&(d-=v[A+g],!(d<=0));)A++,d<<=1;if(p+=1<<A,i===O3&&p>P6||i===N6&&p>k6)return 1;y=m&E,r[y]=f<<24|A<<16|C-s|0}}return m!==0&&(r[C+m]=c-g<<24|64<<16|0),o.bits=f,0};const zK=0,O6=1,G6=2,{Z_FINISH:z6,Z_BLOCK:VK,Z_TREES:lI,Z_OK:oc,Z_STREAM_END:HK,Z_NEED_DICT:qK,Z_STREAM_ERROR:Nr,Z_DATA_ERROR:V6,Z_MEM_ERROR:H6,Z_BUF_ERROR:YK,Z_DEFLATED:q6}=sA,xI=16180,Y6=16181,X6=16182,W6=16183,j6=16184,K6=16185,J6=16186,Z6=16187,$6=16188,eT=16189,uI=16190,Ga=16191,G3=16192,tT=16193,z3=16194,nT=16195,iT=16196,rT=16197,sT=16198,hI=16199,fI=16200,aT=16201,oT=16202,cT=16203,lT=16204,xT=16205,V3=16206,uT=16207,hT=16208,mn=16209,fT=16210,AT=16211,XK=852,WK=592,jK=15,dT=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function KK(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const cc=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.mode<xI||e.mode>AT?1:0},pT=i=>{if(cc(i))return Nr;const e=i.state;return i.total_in=i.total_out=e.total=0,i.msg="",e.wrap&&(i.adler=e.wrap&1),e.mode=xI,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(XK),e.distcode=e.distdyn=new Int32Array(WK),e.sane=1,e.back=-1,oc},gT=i=>{if(cc(i))return Nr;const e=i.state;return e.wsize=0,e.whave=0,e.wnext=0,pT(i)},mT=(i,e)=>{let t;if(cc(i))return Nr;const n=i.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Nr:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,gT(i))},_T=(i,e)=>{if(!i)return Nr;const t=new KK;i.state=t,t.strm=i,t.window=null,t.mode=xI;const n=mT(i,e);return n!==oc&&(i.state=null),n},JK=i=>_T(i,jK);let IT=!0,H3,q3;const ZK=i=>{if(IT){H3=new Int32Array(512),q3=new Int32Array(32);let e=0;for(;e<144;)i.lens[e++]=8;for(;e<256;)i.lens[e++]=9;for(;e<280;)i.lens[e++]=7;for(;e<288;)i.lens[e++]=8;for(fA(O6,i.lens,0,288,H3,0,i.work,{bits:9}),e=0;e<32;)i.lens[e++]=5;fA(G6,i.lens,0,32,q3,0,i.work,{bits:5}),IT=!1}i.lencode=H3,i.lenbits=9,i.distcode=q3,i.distbits=5},ET=(i,e,t,n)=>{let r;const s=i.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>n&&(r=n),s.window.set(e.subarray(t-n,t-n+r),s.wnext),n-=r,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},$K=(i,e)=>{let t,n,r,s,a,o,l,c,x,u,h,f,A,g,d=0,p,m,I,_,y,E,C,w;const b=new Uint8Array(4);let v,B;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(cc(i)||!i.output||!i.input&&i.avail_in!==0)return Nr;t=i.state,t.mode===Ga&&(t.mode=G3),a=i.next_out,r=i.output,l=i.avail_out,s=i.next_in,n=i.input,o=i.avail_in,c=t.hold,x=t.bits,u=o,h=l,w=oc;e:for(;;)switch(t.mode){case xI:if(t.wrap===0){t.mode=G3;break}for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,b[0]=c&255,b[1]=c>>>8&255,t.check=ei(t.check,b,2,0),c=0,x=0,t.mode=Y6;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){i.msg="incorrect header check",t.mode=mn;break}if((c&15)!==q6){i.msg="unknown compression method",t.mode=mn;break}if(c>>>=4,x-=4,C=(c&15)+8,t.wbits===0&&(t.wbits=C),C>15||C>t.wbits){i.msg="invalid window size",t.mode=mn;break}t.dmax=1<<t.wbits,t.flags=0,i.adler=t.check=1,t.mode=c&512?eT:Ga,c=0,x=0;break;case Y6:for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(t.flags=c,(t.flags&255)!==q6){i.msg="unknown compression method",t.mode=mn;break}if(t.flags&57344){i.msg="unknown header flags set",t.mode=mn;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(b[0]=c&255,b[1]=c>>>8&255,t.check=ei(t.check,b,2,0)),c=0,x=0,t.mode=X6;case X6:for(;x<32;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(b[0]=c&255,b[1]=c>>>8&255,b[2]=c>>>16&255,b[3]=c>>>24&255,t.check=ei(t.check,b,4,0)),c=0,x=0,t.mode=W6;case W6:for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(b[0]=c&255,b[1]=c>>>8&255,t.check=ei(t.check,b,2,0)),c=0,x=0,t.mode=j6;case j6:if(t.flags&1024){for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(b[0]=c&255,b[1]=c>>>8&255,t.check=ei(t.check,b,2,0)),c=0,x=0}else t.head&&(t.head.extra=null);t.mode=K6;case K6:if(t.flags&1024&&(f=t.length,f>o&&(f=o),f&&(t.head&&(C=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+f),C)),t.flags&512&&t.wrap&4&&(t.check=ei(t.check,n,f,s)),o-=f,s+=f,t.length-=f),t.length))break e;t.length=0,t.mode=J6;case J6:if(t.flags&2048){if(o===0)break e;f=0;do C=n[s+f++],t.head&&C&&t.length<65536&&(t.head.name+=String.fromCharCode(C));while(C&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=ei(t.check,n,f,s)),o-=f,s+=f,C)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Z6;case Z6:if(t.flags&4096){if(o===0)break e;f=0;do C=n[s+f++],t.head&&C&&t.length<65536&&(t.head.comment+=String.fromCharCode(C));while(C&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=ei(t.check,n,f,s)),o-=f,s+=f,C)break e}else t.head&&(t.head.comment=null);t.mode=$6;case $6:if(t.flags&512){for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(t.wrap&4&&c!==(t.check&65535)){i.msg="header crc mismatch",t.mode=mn;break}c=0,x=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=Ga;break;case eT:for(;x<32;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}i.adler=t.check=dT(c),c=0,x=0,t.mode=uI;case uI:if(t.havedict===0)return i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=o,t.hold=c,t.bits=x,qK;i.adler=t.check=1,t.mode=Ga;case Ga:if(e===VK||e===lI)break e;case G3:if(t.last){c>>>=x&7,x-=x&7,t.mode=V3;break}for(;x<3;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}switch(t.last=c&1,c>>>=1,x-=1,c&3){case 0:t.mode=tT;break;case 1:if(ZK(t),t.mode=hI,e===lI){c>>>=2,x-=2;break e}break;case 2:t.mode=iT;break;case 3:i.msg="invalid block type",t.mode=mn}c>>>=2,x-=2;break;case tT:for(c>>>=x&7,x-=x&7;x<32;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if((c&65535)!==(c>>>16^65535)){i.msg="invalid stored block lengths",t.mode=mn;break}if(t.length=c&65535,c=0,x=0,t.mode=z3,e===lI)break e;case z3:t.mode=nT;case nT:if(f=t.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;r.set(n.subarray(s,s+f),a),o-=f,s+=f,l-=f,a+=f,t.length-=f;break}t.mode=Ga;break;case iT:for(;x<14;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(t.nlen=(c&31)+257,c>>>=5,x-=5,t.ndist=(c&31)+1,c>>>=5,x-=5,t.ncode=(c&15)+4,c>>>=4,x-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=mn;break}t.have=0,t.mode=rT;case rT:for(;t.have<t.ncode;){for(;x<3;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}t.lens[R[t.have++]]=c&7,c>>>=3,x-=3}for(;t.have<19;)t.lens[R[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,v={bits:t.lenbits},w=fA(zK,t.lens,0,19,t.lencode,0,t.work,v),t.lenbits=v.bits,w){i.msg="invalid code lengths set",t.mode=mn;break}t.have=0,t.mode=sT;case sT:for(;t.have<t.nlen+t.ndist;){for(;d=t.lencode[c&(1<<t.lenbits)-1],p=d>>>24,m=d>>>16&255,I=d&65535,!(p<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(I<16)c>>>=p,x-=p,t.lens[t.have++]=I;else{if(I===16){for(B=p+2;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(c>>>=p,x-=p,t.have===0){i.msg="invalid bit length repeat",t.mode=mn;break}C=t.lens[t.have-1],f=3+(c&3),c>>>=2,x-=2}else if(I===17){for(B=p+3;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}c>>>=p,x-=p,C=0,f=3+(c&7),c>>>=3,x-=3}else{for(B=p+7;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}c>>>=p,x-=p,C=0,f=11+(c&127),c>>>=7,x-=7}if(t.have+f>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=mn;break}for(;f--;)t.lens[t.have++]=C}}if(t.mode===mn)break;if(t.lens[256]===0){i.msg="invalid code -- missing end-of-block",t.mode=mn;break}if(t.lenbits=9,v={bits:t.lenbits},w=fA(O6,t.lens,0,t.nlen,t.lencode,0,t.work,v),t.lenbits=v.bits,w){i.msg="invalid literal/lengths set",t.mode=mn;break}if(t.distbits=6,t.distcode=t.distdyn,v={bits:t.distbits},w=fA(G6,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,v),t.distbits=v.bits,w){i.msg="invalid distances set",t.mode=mn;break}if(t.mode=hI,e===lI)break e;case hI:t.mode=fI;case fI:if(o>=6&&l>=258){i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=o,t.hold=c,t.bits=x,kK(i,h),a=i.next_out,r=i.output,l=i.avail_out,s=i.next_in,n=i.input,o=i.avail_in,c=t.hold,x=t.bits,t.mode===Ga&&(t.back=-1);break}for(t.back=0;d=t.lencode[c&(1<<t.lenbits)-1],p=d>>>24,m=d>>>16&255,I=d&65535,!(p<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(m&&!(m&240)){for(_=p,y=m,E=I;d=t.lencode[E+((c&(1<<_+y)-1)>>_)],p=d>>>24,m=d>>>16&255,I=d&65535,!(_+p<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}c>>>=_,x-=_,t.back+=_}if(c>>>=p,x-=p,t.back+=p,t.length=I,m===0){t.mode=xT;break}if(m&32){t.back=-1,t.mode=Ga;break}if(m&64){i.msg="invalid literal/length code",t.mode=mn;break}t.extra=m&15,t.mode=aT;case aT:if(t.extra){for(B=t.extra;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,x-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=oT;case oT:for(;d=t.distcode[c&(1<<t.distbits)-1],p=d>>>24,m=d>>>16&255,I=d&65535,!(p<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(!(m&240)){for(_=p,y=m,E=I;d=t.distcode[E+((c&(1<<_+y)-1)>>_)],p=d>>>24,m=d>>>16&255,I=d&65535,!(_+p<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}c>>>=_,x-=_,t.back+=_}if(c>>>=p,x-=p,t.back+=p,m&64){i.msg="invalid distance code",t.mode=mn;break}t.offset=I,t.extra=m&15,t.mode=cT;case cT:if(t.extra){for(B=t.extra;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,x-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=mn;break}t.mode=lT;case lT:if(l===0)break e;if(f=h-l,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=mn;break}f>t.wnext?(f-=t.wnext,A=t.wsize-f):A=t.wnext-f,f>t.length&&(f=t.length),g=t.window}else g=r,A=a-t.offset,f=t.length;f>l&&(f=l),l-=f,t.length-=f;do r[a++]=g[A++];while(--f);t.length===0&&(t.mode=fI);break;case xT:if(l===0)break e;r[a++]=t.length,l--,t.mode=fI;break;case V3:if(t.wrap){for(;x<32;){if(o===0)break e;o--,c|=n[s++]<<x,x+=8}if(h-=l,i.total_out+=h,t.total+=h,t.wrap&4&&h&&(i.adler=t.check=t.flags?ei(t.check,r,h,a-h):rA(t.check,r,h,a-h)),h=l,t.wrap&4&&(t.flags?c:dT(c))!==t.check){i.msg="incorrect data check",t.mode=mn;break}c=0,x=0}t.mode=uT;case uT:if(t.wrap&&t.flags){for(;x<32;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(t.wrap&4&&c!==(t.total&4294967295)){i.msg="incorrect length check",t.mode=mn;break}c=0,x=0}t.mode=hT;case hT:w=HK;break e;case mn:w=V6;break e;case fT:return H6;case AT:default:return Nr}return i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=o,t.hold=c,t.bits=x,(t.wsize||h!==i.avail_out&&t.mode<mn&&(t.mode<V3||e!==z6))&&ET(i,i.output,i.next_out,h-i.avail_out),u-=i.avail_in,h-=i.avail_out,i.total_in+=u,i.total_out+=h,t.total+=h,t.wrap&4&&h&&(i.adler=t.check=t.flags?ei(t.check,r,h,i.next_out-h):rA(t.check,r,h,i.next_out-h)),i.data_type=t.bits+(t.last?64:0)+(t.mode===Ga?128:0)+(t.mode===hI||t.mode===z3?256:0),(u===0&&h===0||e===z6)&&w===oc&&(w=YK),w},eJ=i=>{if(cc(i))return Nr;let e=i.state;return e.window&&(e.window=null),i.state=null,oc},tJ=(i,e)=>{if(cc(i))return Nr;const t=i.state;return t.wrap&2?(t.head=e,e.done=!1,oc):Nr},nJ=(i,e)=>{const t=e.length;let n,r,s;return cc(i)||(n=i.state,n.wrap!==0&&n.mode!==uI)?Nr:n.mode===uI&&(r=1,r=rA(r,e,t,0),r!==n.check)?V6:(s=ET(i,e,t,t),s?(n.mode=fT,H6):(n.havedict=1,oc))};var iJ=gT,rJ=mT,sJ=pT,aJ=JK,oJ=_T,cJ=$K,lJ=eJ,xJ=tJ,uJ=nJ,hJ="pako inflate (from Nodeca project)",za={inflateReset:iJ,inflateReset2:rJ,inflateResetKeep:sJ,inflateInit:aJ,inflateInit2:oJ,inflate:cJ,inflateEnd:lJ,inflateGetHeader:xJ,inflateSetDictionary:uJ,inflateInfo:hJ};function fJ(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var AJ=fJ;const yT=Object.prototype.toString,{Z_NO_FLUSH:dJ,Z_FINISH:pJ,Z_OK:AA,Z_STREAM_END:Y3,Z_NEED_DICT:X3,Z_STREAM_ERROR:gJ,Z_DATA_ERROR:CT,Z_MEM_ERROR:mJ}=sA;function dA(i){this.options=aI.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(i&&i.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new F6,this.strm.avail_out=0;let t=za.inflateInit2(this.strm,e.windowBits);if(t!==AA)throw new Error(kx[t]);if(this.header=new AJ,za.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=hA.string2buf(e.dictionary):yT.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=za.inflateSetDictionary(this.strm,e.dictionary),t!==AA)))throw new Error(kx[t])}dA.prototype.push=function(i,e){const t=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?pJ:dJ,yT.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=za.inflate(t,a),s===X3&&r&&(s=za.inflateSetDictionary(t,r),s===AA?s=za.inflate(t,a):s===CT&&(s=X3));t.avail_in>0&&s===Y3&&t.state.wrap>0&&i[t.next_in]!==0;)za.inflateReset(t),s=za.inflate(t,a);switch(s){case gJ:case CT:case X3:case mJ:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===Y3))if(this.options.to==="string"){let l=hA.utf8border(t.output,t.next_out),c=t.next_out-l,x=hA.buf2string(t.output,l);t.next_out=c,t.avail_out=n-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(x)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===AA&&o===0)){if(s===Y3)return s=za.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0},dA.prototype.onData=function(i){this.chunks.push(i)},dA.prototype.onEnd=function(i){i===AA&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=aI.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function W3(i,e){const t=new dA(e);if(t.push(i),t.err)throw t.msg||kx[t.err];return t.result}function _J(i,e){return e=e||{},e.raw=!0,W3(i,e)}var IJ=dA,EJ=W3,yJ=_J,CJ=W3,bJ=sA,vJ={Inflate:IJ,inflate:EJ,inflateRaw:yJ,ungzip:CJ,constants:bJ};const{Inflate:t$,inflate:wJ,inflateRaw:n$,ungzip:i$}=vJ;var bT=wJ;class BJ extends Jo{decodeBlock(e){return bT(new Uint8Array(e)).buffer}}const SJ=Object.freeze(Object.defineProperty({__proto__:null,default:BJ},Symbol.toStringTag,{value:"Module"}));class MJ extends Jo{decodeBlock(e){const t=new DataView(e),n=[];for(let r=0;r<e.byteLength;++r){let s=t.getInt8(r);if(s<0){const a=t.getUint8(r+1);s=-s;for(let o=0;o<=s;++o)n.push(a);r+=1}else{for(let a=0;a<=s;++a)n.push(t.getUint8(r+a+1));r+=s+1}}return new Uint8Array(n).buffer}}const RJ=Object.freeze(Object.defineProperty({__proto__:null,default:MJ},Symbol.toStringTag,{value:"Module"}));var vT={exports:{}};(function(i){/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */(function(){var e=function(){var s={};s.defaultNoDataValue=-34027999387901484e22,s.decode=function(u,h){h=h||{};var f=h.encodedMaskData||h.encodedMaskData===null,A=c(u,h.inputOffset||0,f),g=h.noDataValue!==null?h.noDataValue:s.defaultNoDataValue,d=a(A,h.pixelType||Float32Array,h.encodedMaskData,g,h.returnMask),p={width:A.width,height:A.height,pixelData:d.resultPixels,minValue:d.minValue,maxValue:A.pixels.maxValue,noDataValue:g};return d.resultMask&&(p.maskData=d.resultMask),h.returnEncodedMask&&A.mask&&(p.encodedMaskData=A.mask.bitset?A.mask.bitset:null),h.returnFileInfo&&(p.fileInfo=o(A),h.computeUsedBitDepths&&(p.fileInfo.bitDepths=l(A))),p};var a=function(u,h,f,A,g){var d=0,p=u.pixels.numBlocksX,m=u.pixels.numBlocksY,I=Math.floor(u.width/p),_=Math.floor(u.height/m),y=2*u.maxZError,E=Number.MAX_VALUE,C;f=f||(u.mask?u.mask.bitset:null);var w,b;w=new h(u.width*u.height),g&&f&&(b=new Uint8Array(u.width*u.height));for(var v=new Float32Array(I*_),B,R,T=0;T<=m;T++){var F=T!==m?_:u.height%m;if(F!==0)for(var M=0;M<=p;M++){var D=M!==p?I:u.width%p;if(D!==0){var P=T*u.width*_+M*I,k=u.width-D,V=u.pixels.blocks[d],Y,U,ne;V.encoding<2?(V.encoding===0?Y=V.rawData:(x(V.stuffedData,V.bitsPerPixel,V.numValidPixels,V.offset,y,v,u.pixels.maxValue),Y=v),U=0):V.encoding===2?ne=0:ne=V.offset;var xe;if(f)for(R=0;R<F;R++){for(P&7&&(xe=f[P>>3],xe<<=P&7),B=0;B<D;B++)P&7||(xe=f[P>>3]),xe&128?(b&&(b[P]=1),C=V.encoding<2?Y[U++]:ne,E=E>C?C:E,w[P++]=C):(b&&(b[P]=0),w[P++]=A),xe<<=1;P+=k}else if(V.encoding<2)for(R=0;R<F;R++){for(B=0;B<D;B++)C=Y[U++],E=E>C?C:E,w[P++]=C;P+=k}else for(E=E>ne?ne:E,R=0;R<F;R++){for(B=0;B<D;B++)w[P++]=ne;P+=k}if(V.encoding===1&&U!==V.numValidPixels)throw"Block and Mask do not match";d++}}}return{resultPixels:w,resultMask:b,minValue:E}},o=function(u){return{fileIdentifierString:u.fileIdentifierString,fileVersion:u.fileVersion,imageType:u.imageType,height:u.height,width:u.width,maxZError:u.maxZError,eofOffset:u.eofOffset,mask:u.mask?{numBlocksX:u.mask.numBlocksX,numBlocksY:u.mask.numBlocksY,numBytes:u.mask.numBytes,maxValue:u.mask.maxValue}:null,pixels:{numBlocksX:u.pixels.numBlocksX,numBlocksY:u.pixels.numBlocksY,numBytes:u.pixels.numBytes,maxValue:u.pixels.maxValue,noDataValue:u.noDataValue}}},l=function(u){for(var h=u.pixels.numBlocksX*u.pixels.numBlocksY,f={},A=0;A<h;A++){var g=u.pixels.blocks[A];g.encoding===0?f.float32=!0:g.encoding===1?f[g.bitsPerPixel]=!0:f[0]=!0}return Object.keys(f)},c=function(u,h,f){var A={},g=new Uint8Array(u,h,10);if(A.fileIdentifierString=String.fromCharCode.apply(null,g),A.fileIdentifierString.trim()!=="CntZImage")throw"Unexpected file identifier string: "+A.fileIdentifierString;h+=10;var d=new DataView(u,h,24);if(A.fileVersion=d.getInt32(0,!0),A.imageType=d.getInt32(4,!0),A.height=d.getUint32(8,!0),A.width=d.getUint32(12,!0),A.maxZError=d.getFloat64(16,!0),h+=24,!f)if(d=new DataView(u,h,16),A.mask={},A.mask.numBlocksY=d.getUint32(0,!0),A.mask.numBlocksX=d.getUint32(4,!0),A.mask.numBytes=d.getUint32(8,!0),A.mask.maxValue=d.getFloat32(12,!0),h+=16,A.mask.numBytes>0){var p=new Uint8Array(Math.ceil(A.width*A.height/8));d=new DataView(u,h,A.mask.numBytes);var m=d.getInt16(0,!0),I=2,_=0;do{if(m>0)for(;m--;)p[_++]=d.getUint8(I++);else{var y=d.getUint8(I++);for(m=-m;m--;)p[_++]=y}m=d.getInt16(I,!0),I+=2}while(I<A.mask.numBytes);if(m!==-32768||_<p.length)throw"Unexpected end of mask RLE encoding";A.mask.bitset=p,h+=A.mask.numBytes}else A.mask.numBytes|A.mask.numBlocksY|A.mask.maxValue||(A.mask.bitset=new Uint8Array(Math.ceil(A.width*A.height/8)));d=new DataView(u,h,16),A.pixels={},A.pixels.numBlocksY=d.getUint32(0,!0),A.pixels.numBlocksX=d.getUint32(4,!0),A.pixels.numBytes=d.getUint32(8,!0),A.pixels.maxValue=d.getFloat32(12,!0),h+=16;var E=A.pixels.numBlocksX,C=A.pixels.numBlocksY,w=E+(A.width%E>0?1:0),b=C+(A.height%C>0?1:0);A.pixels.blocks=new Array(w*b);for(var v=0,B=0;B<b;B++)for(var R=0;R<w;R++){var T=0,F=u.byteLength-h;d=new DataView(u,h,Math.min(10,F));var M={};A.pixels.blocks[v++]=M;var D=d.getUint8(0);if(T++,M.encoding=D&63,M.encoding>3)throw"Invalid block encoding ("+M.encoding+")";if(M.encoding===2){h++;continue}if(D!==0&&D!==2){if(D>>=6,M.offsetType=D,D===2)M.offset=d.getInt8(1),T++;else if(D===1)M.offset=d.getInt16(1,!0),T+=2;else if(D===0)M.offset=d.getFloat32(1,!0),T+=4;else throw"Invalid block offset type";if(M.encoding===1)if(D=d.getUint8(T),T++,M.bitsPerPixel=D&63,D>>=6,M.numValidPixelsType=D,D===2)M.numValidPixels=d.getUint8(T),T++;else if(D===1)M.numValidPixels=d.getUint16(T,!0),T+=2;else if(D===0)M.numValidPixels=d.getUint32(T,!0),T+=4;else throw"Invalid valid pixel count type"}if(h+=T,M.encoding!==3){var P,k;if(M.encoding===0){var V=(A.pixels.numBytes-1)/4;if(V!==Math.floor(V))throw"uncompressed block has invalid length";P=new ArrayBuffer(V*4),k=new Uint8Array(P),k.set(new Uint8Array(u,h,V*4));var Y=new Float32Array(P);M.rawData=Y,h+=V*4}else if(M.encoding===1){var U=Math.ceil(M.numValidPixels*M.bitsPerPixel/8),ne=Math.ceil(U/4);P=new ArrayBuffer(ne*4),k=new Uint8Array(P),k.set(new Uint8Array(u,h,U)),M.stuffedData=new Uint32Array(P),h+=U}}}return A.eofOffset=h,A},x=function(u,h,f,A,g,d,p){var m=(1<<h)-1,I=0,_,y=0,E,C,w=Math.ceil((p-A)/g),b=u.length*4-Math.ceil(h*f/8);for(u[u.length-1]<<=8*b,_=0;_<f;_++){if(y===0&&(C=u[I++],y=32),y>=h)E=C>>>y-h&m,y-=h;else{var v=h-y;E=(C&m)<<v&m,C=u[I++],y=32-v,E+=C>>>y}d[_]=E<w?A+E*g:p}return d};return s}(),t=function(){var s={unstuff:function(c,x,u,h,f,A,g,d){var p=(1<<u)-1,m=0,I,_=0,y,E,C,w,b=c.length*4-Math.ceil(u*h/8);if(c[c.length-1]<<=8*b,f)for(I=0;I<h;I++)_===0&&(E=c[m++],_=32),_>=u?(y=E>>>_-u&p,_-=u):(C=u-_,y=(E&p)<<C&p,E=c[m++],_=32-C,y+=E>>>_),x[I]=f[y];else for(w=Math.ceil((d-A)/g),I=0;I<h;I++)_===0&&(E=c[m++],_=32),_>=u?(y=E>>>_-u&p,_-=u):(C=u-_,y=(E&p)<<C&p,E=c[m++],_=32-C,y+=E>>>_),x[I]=y<w?A+y*g:d},unstuffLUT:function(c,x,u,h,f,A){var g=(1<<x)-1,d=0,p=0,m=0,I=0,_=0,y,E=[],C=c.length*4-Math.ceil(x*u/8);c[c.length-1]<<=8*C;var w=Math.ceil((A-h)/f);for(p=0;p<u;p++)I===0&&(y=c[d++],I=32),I>=x?(_=y>>>I-x&g,I-=x):(m=x-I,_=(y&g)<<m&g,y=c[d++],I=32-m,_+=y>>>I),E[p]=_<w?h+_*f:A;return E.unshift(h),E},unstuff2:function(c,x,u,h,f,A,g,d){var p=(1<<u)-1,m=0,I,_=0,y=0,E,C,w;if(f)for(I=0;I<h;I++)_===0&&(C=c[m++],_=32,y=0),_>=u?(E=C>>>y&p,_-=u,y+=u):(w=u-_,E=C>>>y&p,C=c[m++],_=32-w,E|=(C&(1<<w)-1)<<u-w,y=w),x[I]=f[E];else{var b=Math.ceil((d-A)/g);for(I=0;I<h;I++)_===0&&(C=c[m++],_=32,y=0),_>=u?(E=C>>>y&p,_-=u,y+=u):(w=u-_,E=C>>>y&p,C=c[m++],_=32-w,E|=(C&(1<<w)-1)<<u-w,y=w),x[I]=E<b?A+E*g:d}return x},unstuffLUT2:function(c,x,u,h,f,A){var g=(1<<x)-1,d=0,p=0,m=0,I=0,_=0,y=0,E,C=[],w=Math.ceil((A-h)/f);for(p=0;p<u;p++)I===0&&(E=c[d++],I=32,y=0),I>=x?(_=E>>>y&g,I-=x,y+=x):(m=x-I,_=E>>>y&g,E=c[d++],I=32-m,_|=(E&(1<<m)-1)<<x-m,y=m),C[p]=_<w?h+_*f:A;return C.unshift(h),C},originalUnstuff:function(c,x,u,h){var f=(1<<u)-1,A=0,g,d=0,p,m,I,_=c.length*4-Math.ceil(u*h/8);for(c[c.length-1]<<=8*_,g=0;g<h;g++)d===0&&(m=c[A++],d=32),d>=u?(p=m>>>d-u&f,d-=u):(I=u-d,p=(m&f)<<I&f,m=c[A++],d=32-I,p+=m>>>d),x[g]=p;return x},originalUnstuff2:function(c,x,u,h){var f=(1<<u)-1,A=0,g,d=0,p=0,m,I,_;for(g=0;g<h;g++)d===0&&(I=c[A++],d=32,p=0),d>=u?(m=I>>>p&f,d-=u,p+=u):(_=u-d,m=I>>>p&f,I=c[A++],d=32-_,m|=(I&(1<<_)-1)<<u-_,p=_),x[g]=m;return x}},a={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(c){for(var x=65535,u=65535,h=c.length,f=Math.floor(h/2),A=0;f;){var g=f>=359?359:f;f-=g;do x+=c[A++]<<8,u+=x+=c[A++];while(--g);x=(x&65535)+(x>>>16),u=(u&65535)+(u>>>16)}return h&1&&(u+=x+=c[A]<<8),x=(x&65535)+(x>>>16),u=(u&65535)+(u>>>16),(u<<16|x)>>>0},readHeaderInfo:function(c,x){var u=x.ptr,h=new Uint8Array(c,u,6),f={};if(f.fileIdentifierString=String.fromCharCode.apply(null,h),f.fileIdentifierString.lastIndexOf("Lerc2",0)!==0)throw"Unexpected file identifier string (expect Lerc2 ): "+f.fileIdentifierString;u+=6;var A=new DataView(c,u,8),g=A.getInt32(0,!0);f.fileVersion=g,u+=4,g>=3&&(f.checksum=A.getUint32(4,!0),u+=4),A=new DataView(c,u,12),f.height=A.getUint32(0,!0),f.width=A.getUint32(4,!0),u+=8,g>=4?(f.numDims=A.getUint32(8,!0),u+=4):f.numDims=1,A=new DataView(c,u,40),f.numValidPixel=A.getUint32(0,!0),f.microBlockSize=A.getInt32(4,!0),f.blobSize=A.getInt32(8,!0),f.imageType=A.getInt32(12,!0),f.maxZError=A.getFloat64(16,!0),f.zMin=A.getFloat64(24,!0),f.zMax=A.getFloat64(32,!0),u+=40,x.headerInfo=f,x.ptr=u;var d,p;if(g>=3&&(p=g>=4?52:48,d=this.computeChecksumFletcher32(new Uint8Array(c,u-p,f.blobSize-14)),d!==f.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(c,x){var u=x.headerInfo,h=this.getDataTypeArray(u.imageType),f=u.numDims*this.getDataTypeSize(u.imageType),A=this.readSubArray(c,x.ptr,h,f),g=this.readSubArray(c,x.ptr+f,h,f);x.ptr+=2*f;var d,p=!0;for(d=0;d<u.numDims;d++)if(A[d]!==g[d]){p=!1;break}return u.minValues=A,u.maxValues=g,p},readSubArray:function(c,x,u,h){var f;if(u===Uint8Array)f=new Uint8Array(c,x,h);else{var A=new ArrayBuffer(h),g=new Uint8Array(A);g.set(new Uint8Array(c,x,h)),f=new u(A)}return f},readMask:function(c,x){var u=x.ptr,h=x.headerInfo,f=h.width*h.height,A=h.numValidPixel,g=new DataView(c,u,4),d={};if(d.numBytes=g.getUint32(0,!0),u+=4,(A===0||f===A)&&d.numBytes!==0)throw"invalid mask";var p,m;if(A===0)p=new Uint8Array(Math.ceil(f/8)),d.bitset=p,m=new Uint8Array(f),x.pixels.resultMask=m,u+=d.numBytes;else if(d.numBytes>0){p=new Uint8Array(Math.ceil(f/8)),g=new DataView(c,u,d.numBytes);var I=g.getInt16(0,!0),_=2,y=0,E=0;do{if(I>0)for(;I--;)p[y++]=g.getUint8(_++);else for(E=g.getUint8(_++),I=-I;I--;)p[y++]=E;I=g.getInt16(_,!0),_+=2}while(_<d.numBytes);if(I!==-32768||y<p.length)throw"Unexpected end of mask RLE encoding";m=new Uint8Array(f);var C=0,w=0;for(w=0;w<f;w++)w&7?(C=p[w>>3],C<<=w&7):C=p[w>>3],C&128&&(m[w]=1);x.pixels.resultMask=m,d.bitset=p,u+=d.numBytes}return x.ptr=u,x.mask=d,!0},readDataOneSweep:function(c,x,u,h){var f=x.ptr,A=x.headerInfo,g=A.numDims,d=A.width*A.height,p=A.imageType,m=A.numValidPixel*a.getDataTypeSize(p)*g,I,_=x.pixels.resultMask;if(u===Uint8Array)I=new Uint8Array(c,f,m);else{var y=new ArrayBuffer(m),E=new Uint8Array(y);E.set(new Uint8Array(c,f,m)),I=new u(y)}if(I.length===d*g)h?x.pixels.resultPixels=a.swapDimensionOrder(I,d,g,u,!0):x.pixels.resultPixels=I;else{x.pixels.resultPixels=new u(d*g);var C=0,w=0,b=0,v=0;if(g>1){if(h){for(w=0;w<d;w++)if(_[w])for(v=w,b=0;b<g;b++,v+=d)x.pixels.resultPixels[v]=I[C++]}else for(w=0;w<d;w++)if(_[w])for(v=w*g,b=0;b<g;b++)x.pixels.resultPixels[v+b]=I[C++]}else for(w=0;w<d;w++)_[w]&&(x.pixels.resultPixels[w]=I[C++])}return f+=m,x.ptr=f,!0},readHuffmanTree:function(c,x){var u=this.HUFFMAN_LUT_BITS_MAX,h=new DataView(c,x.ptr,16);x.ptr+=16;var f=h.getInt32(0,!0);if(f<2)throw"unsupported Huffman version";var A=h.getInt32(4,!0),g=h.getInt32(8,!0),d=h.getInt32(12,!0);if(g>=d)return!1;var p=new Uint32Array(d-g);a.decodeBits(c,x,p);var m=[],I,_,y,E;for(I=g;I<d;I++)_=I-(I<A?0:A),m[_]={first:p[I-g],second:null};var C=c.byteLength-x.ptr,w=Math.ceil(C/4),b=new ArrayBuffer(w*4),v=new Uint8Array(b);v.set(new Uint8Array(c,x.ptr,C));var B=new Uint32Array(b),R=0,T,F=0;for(T=B[0],I=g;I<d;I++)_=I-(I<A?0:A),E=m[_].first,E>0&&(m[_].second=T<<R>>>32-E,32-R>=E?(R+=E,R===32&&(R=0,F++,T=B[F])):(R+=E-32,F++,T=B[F],m[_].second|=T>>>32-R));var M=0,D=0,P=new o;for(I=0;I<m.length;I++)m[I]!==void 0&&(M=Math.max(M,m[I].first));M>=u?D=u:D=M;var k=[],V,Y,U,ne,xe,G;for(I=g;I<d;I++)if(_=I-(I<A?0:A),E=m[_].first,E>0)if(V=[E,_],E<=D)for(Y=m[_].second<<D-E,U=1<<D-E,y=0;y<U;y++)k[Y|y]=V;else for(Y=m[_].second,G=P,ne=E-1;ne>=0;ne--)xe=Y>>>ne&1,xe?(G.right||(G.right=new o),G=G.right):(G.left||(G.left=new o),G=G.left),ne===0&&!G.val&&(G.val=V[1]);return{decodeLut:k,numBitsLUTQick:D,numBitsLUT:M,tree:P,stuffedData:B,srcPtr:F,bitPos:R}},readHuffman:function(c,x,u,h){var f=x.headerInfo,A=f.numDims,g=x.headerInfo.height,d=x.headerInfo.width,p=d*g,m=this.readHuffmanTree(c,x),I=m.decodeLut,_=m.tree,y=m.stuffedData,E=m.srcPtr,C=m.bitPos,w=m.numBitsLUTQick,b=m.numBitsLUT,v=x.headerInfo.imageType===0?128:0,B,R,T,F=x.pixels.resultMask,M,D,P,k,V,Y,U,ne=0;C>0&&(E++,C=0);var xe=y[E],G=x.encodeMode===1,O=new u(p*A),ee=O,K;if(A<2||G){for(K=0;K<A;K++)if(A>1&&(ee=new u(O.buffer,p*K,p),ne=0),x.headerInfo.numValidPixel===d*g)for(Y=0,k=0;k<g;k++)for(V=0;V<d;V++,Y++){if(R=0,M=xe<<C>>>32-w,D=M,32-C<w&&(M|=y[E+1]>>>64-C-w,D=M),I[D])R=I[D][1],C+=I[D][0];else for(M=xe<<C>>>32-b,D=M,32-C<b&&(M|=y[E+1]>>>64-C-b,D=M),B=_,U=0;U<b;U++)if(P=M>>>b-U-1&1,B=P?B.right:B.left,!(B.left||B.right)){R=B.val,C=C+U+1;break}C>=32&&(C-=32,E++,xe=y[E]),T=R-v,G?(V>0?T+=ne:k>0?T+=ee[Y-d]:T+=ne,T&=255,ee[Y]=T,ne=T):ee[Y]=T}else for(Y=0,k=0;k<g;k++)for(V=0;V<d;V++,Y++)if(F[Y]){if(R=0,M=xe<<C>>>32-w,D=M,32-C<w&&(M|=y[E+1]>>>64-C-w,D=M),I[D])R=I[D][1],C+=I[D][0];else for(M=xe<<C>>>32-b,D=M,32-C<b&&(M|=y[E+1]>>>64-C-b,D=M),B=_,U=0;U<b;U++)if(P=M>>>b-U-1&1,B=P?B.right:B.left,!(B.left||B.right)){R=B.val,C=C+U+1;break}C>=32&&(C-=32,E++,xe=y[E]),T=R-v,G?(V>0&&F[Y-1]?T+=ne:k>0&&F[Y-d]?T+=ee[Y-d]:T+=ne,T&=255,ee[Y]=T,ne=T):ee[Y]=T}}else for(Y=0,k=0;k<g;k++)for(V=0;V<d;V++)if(Y=k*d+V,!F||F[Y])for(K=0;K<A;K++,Y+=p){if(R=0,M=xe<<C>>>32-w,D=M,32-C<w&&(M|=y[E+1]>>>64-C-w,D=M),I[D])R=I[D][1],C+=I[D][0];else for(M=xe<<C>>>32-b,D=M,32-C<b&&(M|=y[E+1]>>>64-C-b,D=M),B=_,U=0;U<b;U++)if(P=M>>>b-U-1&1,B=P?B.right:B.left,!(B.left||B.right)){R=B.val,C=C+U+1;break}C>=32&&(C-=32,E++,xe=y[E]),T=R-v,ee[Y]=T}x.ptr=x.ptr+(E+1)*4+(C>0?4:0),x.pixels.resultPixels=O,A>1&&!h&&(x.pixels.resultPixels=a.swapDimensionOrder(O,p,A,u))},decodeBits:function(c,x,u,h,f){{var A=x.headerInfo,g=A.fileVersion,d=0,p=c.byteLength-x.ptr>=5?5:c.byteLength-x.ptr,m=new DataView(c,x.ptr,p),I=m.getUint8(0);d++;var _=I>>6,y=_===0?4:3-_,E=(I&32)>0,C=I&31,w=0;if(y===1)w=m.getUint8(d),d++;else if(y===2)w=m.getUint16(d,!0),d+=2;else if(y===4)w=m.getUint32(d,!0),d+=4;else throw"Invalid valid pixel count type";var b=2*A.maxZError,v,B,R,T,F,M,D,P,k,V=A.numDims>1?A.maxValues[f]:A.zMax;if(E){for(x.counter.lut++,P=m.getUint8(d),d++,T=Math.ceil((P-1)*C/8),F=Math.ceil(T/4),B=new ArrayBuffer(F*4),R=new Uint8Array(B),x.ptr+=d,R.set(new Uint8Array(c,x.ptr,T)),D=new Uint32Array(B),x.ptr+=T,k=0;P-1>>>k;)k++;T=Math.ceil(w*k/8),F=Math.ceil(T/4),B=new ArrayBuffer(F*4),R=new Uint8Array(B),R.set(new Uint8Array(c,x.ptr,T)),v=new Uint32Array(B),x.ptr+=T,g>=3?M=s.unstuffLUT2(D,C,P-1,h,b,V):M=s.unstuffLUT(D,C,P-1,h,b,V),g>=3?s.unstuff2(v,u,k,w,M):s.unstuff(v,u,k,w,M)}else x.counter.bitstuffer++,k=C,x.ptr+=d,k>0&&(T=Math.ceil(w*k/8),F=Math.ceil(T/4),B=new ArrayBuffer(F*4),R=new Uint8Array(B),R.set(new Uint8Array(c,x.ptr,T)),v=new Uint32Array(B),x.ptr+=T,g>=3?h==null?s.originalUnstuff2(v,u,k,w):s.unstuff2(v,u,k,w,!1,h,b,V):h==null?s.originalUnstuff(v,u,k,w):s.unstuff(v,u,k,w,!1,h,b,V))}},readTiles:function(c,x,u,h){var f=x.headerInfo,A=f.width,g=f.height,d=A*g,p=f.microBlockSize,m=f.imageType,I=a.getDataTypeSize(m),_=Math.ceil(A/p),y=Math.ceil(g/p);x.pixels.numBlocksY=y,x.pixels.numBlocksX=_,x.pixels.ptr=0;var E=0,C=0,w=0,b=0,v=0,B=0,R=0,T=0,F=0,M=0,D=0,P=0,k=0,V=0,Y=0,U=0,ne,xe,G,O,ee,K,ce=new u(p*p),Ae=g%p||p,ge=A%p||p,oe,Se,At=f.numDims,N,Nt=x.pixels.resultMask,ze=x.pixels.resultPixels,Ge=f.fileVersion,Be=Ge>=5?14:15,ke,Re=f.zMax,L;for(w=0;w<y;w++)for(v=w!==y-1?p:Ae,b=0;b<_;b++)for(B=b!==_-1?p:ge,D=w*A*p+b*p,P=A-B,N=0;N<At;N++){if(At>1?(L=ze,D=w*A*p+b*p,ze=new u(x.pixels.resultPixels.buffer,d*N*I,d),Re=f.maxValues[N]):L=null,R=c.byteLength-x.ptr,ne=new DataView(c,x.ptr,Math.min(10,R)),xe={},U=0,T=ne.getUint8(0),U++,ke=f.fileVersion>=5?T&4:0,F=T>>6&255,M=T>>2&Be,M!==(b*p>>3&Be)||ke&&N===0)throw"integrity issue";if(K=T&3,K>3)throw x.ptr+=U,"Invalid block encoding ("+K+")";if(K===2){if(ke)if(Nt)for(E=0;E<v;E++)for(C=0;C<B;C++)Nt[D]&&(ze[D]=L[D]),D++;else for(E=0;E<v;E++)for(C=0;C<B;C++)ze[D]=L[D],D++;x.counter.constant++,x.ptr+=U;continue}else if(K===0){if(ke)throw"integrity issue";if(x.counter.uncompressed++,x.ptr+=U,k=v*B*I,V=c.byteLength-x.ptr,k=k<V?k:V,G=new ArrayBuffer(k%I===0?k:k+I-k%I),O=new Uint8Array(G),O.set(new Uint8Array(c,x.ptr,k)),ee=new u(G),Y=0,Nt)for(E=0;E<v;E++){for(C=0;C<B;C++)Nt[D]&&(ze[D]=ee[Y++]),D++;D+=P}else for(E=0;E<v;E++){for(C=0;C<B;C++)ze[D++]=ee[Y++];D+=P}x.ptr+=Y*I}else if(oe=a.getDataTypeUsed(ke&&m<6?4:m,F),Se=a.getOnePixel(xe,U,oe,ne),U+=a.getDataTypeSize(oe),K===3)if(x.ptr+=U,x.counter.constantoffset++,Nt)for(E=0;E<v;E++){for(C=0;C<B;C++)Nt[D]&&(ze[D]=ke?Math.min(Re,L[D]+Se):Se),D++;D+=P}else for(E=0;E<v;E++){for(C=0;C<B;C++)ze[D]=ke?Math.min(Re,L[D]+Se):Se,D++;D+=P}else if(x.ptr+=U,a.decodeBits(c,x,ce,Se,N),U=0,ke)if(Nt)for(E=0;E<v;E++){for(C=0;C<B;C++)Nt[D]&&(ze[D]=ce[U++]+L[D]),D++;D+=P}else for(E=0;E<v;E++){for(C=0;C<B;C++)ze[D]=ce[U++]+L[D],D++;D+=P}else if(Nt)for(E=0;E<v;E++){for(C=0;C<B;C++)Nt[D]&&(ze[D]=ce[U++]),D++;D+=P}else for(E=0;E<v;E++){for(C=0;C<B;C++)ze[D++]=ce[U++];D+=P}}At>1&&!h&&(x.pixels.resultPixels=a.swapDimensionOrder(x.pixels.resultPixels,d,At,u))},formatFileInfo:function(c){return{fileIdentifierString:c.headerInfo.fileIdentifierString,fileVersion:c.headerInfo.fileVersion,imageType:c.headerInfo.imageType,height:c.headerInfo.height,width:c.headerInfo.width,numValidPixel:c.headerInfo.numValidPixel,microBlockSize:c.headerInfo.microBlockSize,blobSize:c.headerInfo.blobSize,maxZError:c.headerInfo.maxZError,pixelType:a.getPixelType(c.headerInfo.imageType),eofOffset:c.eofOffset,mask:c.mask?{numBytes:c.mask.numBytes}:null,pixels:{numBlocksX:c.pixels.numBlocksX,numBlocksY:c.pixels.numBlocksY,maxValue:c.headerInfo.zMax,minValue:c.headerInfo.zMin,noDataValue:c.noDataValue}}},constructConstantSurface:function(c,x){var u=c.headerInfo.zMax,h=c.headerInfo.zMin,f=c.headerInfo.maxValues,A=c.headerInfo.numDims,g=c.headerInfo.height*c.headerInfo.width,d=0,p=0,m=0,I=c.pixels.resultMask,_=c.pixels.resultPixels;if(I)if(A>1){if(x)for(d=0;d<A;d++)for(m=d*g,u=f[d],p=0;p<g;p++)I[p]&&(_[m+p]=u);else for(p=0;p<g;p++)if(I[p])for(m=p*A,d=0;d<A;d++)_[m+A]=f[d]}else for(p=0;p<g;p++)I[p]&&(_[p]=u);else if(A>1&&h!==u)if(x)for(d=0;d<A;d++)for(m=d*g,u=f[d],p=0;p<g;p++)_[m+p]=u;else for(p=0;p<g;p++)for(m=p*A,d=0;d<A;d++)_[m+d]=f[d];else for(p=0;p<g*A;p++)_[p]=u},getDataTypeArray:function(c){var x;switch(c){case 0:x=Int8Array;break;case 1:x=Uint8Array;break;case 2:x=Int16Array;break;case 3:x=Uint16Array;break;case 4:x=Int32Array;break;case 5:x=Uint32Array;break;case 6:x=Float32Array;break;case 7:x=Float64Array;break;default:x=Float32Array}return x},getPixelType:function(c){var x;switch(c){case 0:x="S8";break;case 1:x="U8";break;case 2:x="S16";break;case 3:x="U16";break;case 4:x="S32";break;case 5:x="U32";break;case 6:x="F32";break;case 7:x="F64";break;default:x="F32"}return x},isValidPixelValue:function(c,x){if(x==null)return!1;var u;switch(c){case 0:u=x>=-128&&x<=127;break;case 1:u=x>=0&&x<=255;break;case 2:u=x>=-32768&&x<=32767;break;case 3:u=x>=0&&x<=65536;break;case 4:u=x>=-2147483648&&x<=2147483647;break;case 5:u=x>=0&&x<=4294967296;break;case 6:u=x>=-34027999387901484e22&&x<=34027999387901484e22;break;case 7:u=x>=-17976931348623157e292&&x<=17976931348623157e292;break;default:u=!1}return u},getDataTypeSize:function(c){var x=0;switch(c){case 0:case 1:x=1;break;case 2:case 3:x=2;break;case 4:case 5:case 6:x=4;break;case 7:x=8;break;default:x=c}return x},getDataTypeUsed:function(c,x){var u=c;switch(c){case 2:case 4:u=c-x;break;case 3:case 5:u=c-2*x;break;case 6:x===0?u=c:x===1?u=2:u=1;break;case 7:x===0?u=c:u=c-2*x+1;break;default:u=c;break}return u},getOnePixel:function(c,x,u,h){var f=0;switch(u){case 0:f=h.getInt8(x);break;case 1:f=h.getUint8(x);break;case 2:f=h.getInt16(x,!0);break;case 3:f=h.getUint16(x,!0);break;case 4:f=h.getInt32(x,!0);break;case 5:f=h.getUInt32(x,!0);break;case 6:f=h.getFloat32(x,!0);break;case 7:f=h.getFloat64(x,!0);break;default:throw"the decoder does not understand this pixel type"}return f},swapDimensionOrder:function(c,x,u,h,f){var A=0,g=0,d=0,p=0,m=c;if(u>1)if(m=new h(x*u),f)for(A=0;A<x;A++)for(p=A,d=0;d<u;d++,p+=x)m[p]=c[g++];else for(A=0;A<x;A++)for(p=A,d=0;d<u;d++,p+=x)m[g++]=c[p];return m}},o=function(c,x,u){this.val=c,this.left=x,this.right=u},l={decode:function(c,x){x=x||{};var u=x.noDataValue,h=0,f={};if(f.ptr=x.inputOffset||0,f.pixels={},!!a.readHeaderInfo(c,f)){var A=f.headerInfo,g=A.fileVersion,d=a.getDataTypeArray(A.imageType);if(g>5)throw"unsupported lerc version 2."+g;a.readMask(c,f),A.numValidPixel!==A.width*A.height&&!f.pixels.resultMask&&(f.pixels.resultMask=x.maskData);var p=A.width*A.height;f.pixels.resultPixels=new d(p*A.numDims),f.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var m=!x.returnPixelInterleavedDims;if(A.numValidPixel!==0)if(A.zMax===A.zMin)a.constructConstantSurface(f,m);else if(g>=4&&a.checkMinMaxRanges(c,f))a.constructConstantSurface(f,m);else{var I=new DataView(c,f.ptr,2),_=I.getUint8(0);if(f.ptr++,_)a.readDataOneSweep(c,f,d,m);else if(g>1&&A.imageType<=1&&Math.abs(A.maxZError-.5)<1e-5){var y=I.getUint8(1);if(f.ptr++,f.encodeMode=y,y>2||g<4&&y>1)throw"Invalid Huffman flag "+y;y?a.readHuffman(c,f,d,m):a.readTiles(c,f,d,m)}else a.readTiles(c,f,d,m)}f.eofOffset=f.ptr;var E;x.inputOffset?(E=f.headerInfo.blobSize+x.inputOffset-f.ptr,Math.abs(E)>=1&&(f.eofOffset=x.inputOffset+f.headerInfo.blobSize)):(E=f.headerInfo.blobSize-f.ptr,Math.abs(E)>=1&&(f.eofOffset=f.headerInfo.blobSize));var C={width:A.width,height:A.height,pixelData:f.pixels.resultPixels,minValue:A.zMin,maxValue:A.zMax,validPixelCount:A.numValidPixel,dimCount:A.numDims,dimStats:{minValues:A.minValues,maxValues:A.maxValues},maskData:f.pixels.resultMask};if(f.pixels.resultMask&&a.isValidPixelValue(A.imageType,u)){var w=f.pixels.resultMask;for(h=0;h<p;h++)w[h]||(C.pixelData[h]=u);C.noDataValue=u}return f.noDataValue=u,x.returnFileInfo&&(C.fileInfo=a.formatFileInfo(f)),C}},getBandCount:function(c){var x=0,u=0,h={};for(h.ptr=0,h.pixels={};u<c.byteLength-58;)a.readHeaderInfo(c,h),u+=h.headerInfo.blobSize,x++,h.ptr=u;return x}};return l}(),n=function(){var s=new ArrayBuffer(4),a=new Uint8Array(s),o=new Uint32Array(s);return o[0]=1,a[0]===1}(),r={decode:function(s,a){if(!n)throw"Big endian system is not supported.";a=a||{};var o=a.inputOffset||0,l=new Uint8Array(s,o,10),c=String.fromCharCode.apply(null,l),x,u;if(c.trim()==="CntZImage")x=e,u=1;else if(c.substring(0,5)==="Lerc2")x=t,u=2;else throw"Unexpected file identifier string: "+c;for(var h=0,f=s.byteLength-10,A,g=[],d,p,m={width:0,height:0,pixels:[],pixelType:a.pixelType,mask:null,statistics:[]},I=0;o<f;){var _=x.decode(s,{inputOffset:o,encodedMaskData:A,maskData:p,returnMask:h===0,returnEncodedMask:h===0,returnFileInfo:!0,returnPixelInterleavedDims:a.returnPixelInterleavedDims,pixelType:a.pixelType||null,noDataValue:a.noDataValue||null});o=_.fileInfo.eofOffset,p=_.maskData,h===0&&(A=_.encodedMaskData,m.width=_.width,m.height=_.height,m.dimCount=_.dimCount||1,m.pixelType=_.pixelType||_.fileInfo.pixelType,m.mask=p),u>1&&(p&&g.push(p),_.fileInfo.mask&&_.fileInfo.mask.numBytes>0&&I++),h++,m.pixels.push(_.pixelData),m.statistics.push({minValue:_.minValue,maxValue:_.maxValue,noDataValue:_.noDataValue,dimStats:_.dimStats})}var y,E,C;if(u>1&&I>1){for(C=m.width*m.height,m.bandMasks=g,p=new Uint8Array(C),p.set(g[0]),y=1;y<g.length;y++)for(d=g[y],E=0;E<C;E++)p[E]=p[E]&d[E];m.maskData=p}return m}};i.exports?i.exports=r:this.Lerc=r})()})(vT);var TJ=vT.exports;const DJ=Wx(TJ);let pA,Va,j3;const K3={env:{emscripten_notify_memory_growth:function(i){j3=new Uint8Array(Va.exports.memory.buffer)}}};class QJ{init(){return pA||(typeof fetch<"u"?pA=fetch("data:application/wasm;base64,"+wT).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,K3)).then(this._init):pA=WebAssembly.instantiate(Buffer.from(wT,"base64"),K3).then(this._init),pA)}_init(e){Va=e.instance,K3.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!Va)throw new Error("ZSTDDecoder: Await .init() before decoding.");const n=e.byteLength,r=Va.exports.malloc(n);j3.set(e,r),t=t||Number(Va.exports.ZSTD_findDecompressedSize(r,n));const s=Va.exports.malloc(t),a=Va.exports.ZSTD_decompress(s,t,r,n),o=j3.slice(s,s+a);return Va.exports.free(r),Va.exports.free(s),o}}const wT="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",BT=new QJ;class FJ extends Jo{constructor(e){super(),this.planarConfiguration=typeof e.PlanarConfiguration<"u"?e.PlanarConfiguration:1,this.samplesPerPixel=typeof e.SamplesPerPixel<"u"?e.SamplesPerPixel:1,this.addCompression=e.LercParameters[hD.AddCompression]}decodeBlock(e){switch(this.addCompression){case MI.None:break;case MI.Deflate:e=bT(new Uint8Array(e)).buffer;break;case MI.Zstandard:e=BT.decode(new Uint8Array(e)).buffer;break;default:throw new Error(`Unsupported LERC additional compression method identifier: ${this.addCompression}`)}return DJ.decode(e,{returnPixelInterleavedDims:this.planarConfiguration===1}).pixels[0].buffer}}const LJ=Object.freeze(Object.defineProperty({__proto__:null,default:FJ,zstd:BT},Symbol.toStringTag,{value:"Module"}));class PJ extends Jo{constructor(){if(super(),typeof createImageBitmap>"u")throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if(typeof document>"u"&&typeof OffscreenCanvas>"u")throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available")}async decode(e,t){const n=new Blob([t]),r=await createImageBitmap(n);let s;typeof document<"u"?(s=document.createElement("canvas"),s.width=r.width,s.height=r.height):s=new OffscreenCanvas(r.width,r.height);const a=s.getContext("2d");return a.drawImage(r,0,0),a.getImageData(0,0,r.width,r.height).data.buffer}}const kJ=Object.freeze(Object.defineProperty({__proto__:null,default:PJ},Symbol.toStringTag,{value:"Module"})),UJ=Worker;function NJ(){const i='function A(A,e,t,i,r,I,g){try{var n=A[I](g),a=n.value}catch(A){return void t(A)}n.done?e(a):Promise.resolve(a).then(i,r)}function e(e){return function(){var t=this,i=arguments;return new Promise((function(r,I){var g=e.apply(t,i);function n(e){A(g,r,I,n,a,"next",e)}function a(e){A(g,r,I,n,a,"throw",e)}n(void 0)}))}}function t(A){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},t(A)}var i={exports:{}};!function(A){var e=function(A){var e,i=Object.prototype,r=i.hasOwnProperty,I="function"==typeof Symbol?Symbol:{},g=I.iterator||"@@iterator",n=I.asyncIterator||"@@asyncIterator",a=I.toStringTag||"@@toStringTag";function o(A,e,t){return Object.defineProperty(A,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),A[e]}try{o({},"")}catch(A){o=function(A,e,t){return A[e]=t}}function B(A,e,t,i){var r=e&&e.prototype instanceof h?e:h,I=Object.create(r.prototype),g=new S(i||[]);return I._invoke=function(A,e,t){var i=Q;return function(r,I){if(i===s)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw I;return R()}for(t.method=r,t.arg=I;;){var g=t.delegate;if(g){var n=m(g,t);if(n){if(n===c)continue;return n}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(i===Q)throw i=f,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);i=s;var a=C(A,e,t);if("normal"===a.type){if(i=t.done?f:E,a.arg===c)continue;return{value:a.arg,done:t.done}}"throw"===a.type&&(i=f,t.method="throw",t.arg=a.arg)}}}(A,t,g),I}function C(A,e,t){try{return{type:"normal",arg:A.call(e,t)}}catch(A){return{type:"throw",arg:A}}}A.wrap=B;var Q="suspendedStart",E="suspendedYield",s="executing",f="completed",c={};function h(){}function l(){}function u(){}var w={};o(w,g,(function(){return this}));var d=Object.getPrototypeOf,D=d&&d(d(v([])));D&&D!==i&&r.call(D,g)&&(w=D);var y=u.prototype=h.prototype=Object.create(w);function k(A){["next","throw","return"].forEach((function(e){o(A,e,(function(A){return this._invoke(e,A)}))}))}function p(A,e){function i(I,g,n,a){var o=C(A[I],A,g);if("throw"!==o.type){var B=o.arg,Q=B.value;return Q&&"object"===t(Q)&&r.call(Q,"__await")?e.resolve(Q.__await).then((function(A){i("next",A,n,a)}),(function(A){i("throw",A,n,a)})):e.resolve(Q).then((function(A){B.value=A,n(B)}),(function(A){return i("throw",A,n,a)}))}a(o.arg)}var I;this._invoke=function(A,t){function r(){return new e((function(e,r){i(A,t,e,r)}))}return I=I?I.then(r,r):r()}}function m(A,t){var i=A.iterator[t.method];if(i===e){if(t.delegate=null,"throw"===t.method){if(A.iterator.return&&(t.method="return",t.arg=e,m(A,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a \'throw\' method")}return c}var r=C(i,A.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var I=r.arg;return I?I.done?(t[A.resultName]=I.value,t.next=A.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,c):I:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function G(A){var e={tryLoc:A[0]};1 in A&&(e.catchLoc=A[1]),2 in A&&(e.finallyLoc=A[2],e.afterLoc=A[3]),this.tryEntries.push(e)}function F(A){var e=A.completion||{};e.type="normal",delete e.arg,A.completion=e}function S(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(G,this),this.reset(!0)}function v(A){if(A){var t=A[g];if(t)return t.call(A);if("function"==typeof A.next)return A;if(!isNaN(A.length)){var i=-1,I=function t(){for(;++i<A.length;)if(r.call(A,i))return t.value=A[i],t.done=!1,t;return t.value=e,t.done=!0,t};return I.next=I}}return{next:R}}function R(){return{value:e,done:!0}}return l.prototype=u,o(y,"constructor",u),o(u,"constructor",l),l.displayName=o(u,a,"GeneratorFunction"),A.isGeneratorFunction=function(A){var e="function"==typeof A&&A.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},A.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,u):(A.__proto__=u,o(A,a,"GeneratorFunction")),A.prototype=Object.create(y),A},A.awrap=function(A){return{__await:A}},k(p.prototype),o(p.prototype,n,(function(){return this})),A.AsyncIterator=p,A.async=function(e,t,i,r,I){void 0===I&&(I=Promise);var g=new p(B(e,t,i,r),I);return A.isGeneratorFunction(t)?g:g.next().then((function(A){return A.done?A.value:g.next()}))},k(y),o(y,a,"Generator"),o(y,g,(function(){return this})),o(y,"toString",(function(){return"[object Generator]"})),A.keys=function(A){var e=[];for(var t in A)e.push(t);return e.reverse(),function t(){for(;e.length;){var i=e.pop();if(i in A)return t.value=i,t.done=!1,t}return t.done=!0,t}},A.values=v,S.prototype={constructor:S,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!A)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if("throw"===A.type)throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var t=this;function i(i,r){return n.type="throw",n.arg=A,t.next=i,r&&(t.method="next",t.arg=e),!!r}for(var I=this.tryEntries.length-1;I>=0;--I){var g=this.tryEntries[I],n=g.completion;if("root"===g.tryLoc)return i("end");if(g.tryLoc<=this.prev){var a=r.call(g,"catchLoc"),o=r.call(g,"finallyLoc");if(a&&o){if(this.prev<g.catchLoc)return i(g.catchLoc,!0);if(this.prev<g.finallyLoc)return i(g.finallyLoc)}else if(a){if(this.prev<g.catchLoc)return i(g.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<g.finallyLoc)return i(g.finallyLoc)}}}},abrupt:function(A,e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var I=i;break}}I&&("break"===A||"continue"===A)&&I.tryLoc<=e&&e<=I.finallyLoc&&(I=null);var g=I?I.completion:{};return g.type=A,g.arg=e,I?(this.method="next",this.next=I.finallyLoc,c):this.complete(g)},complete:function(A,e){if("throw"===A.type)throw A.arg;return"break"===A.type||"continue"===A.type?this.next=A.arg:"return"===A.type?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):"normal"===A.type&&e&&(this.next=e),c},finish:function(A){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===A)return this.complete(t.completion,t.afterLoc),F(t),c}},catch:function(A){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===A){var i=t.completion;if("throw"===i.type){var r=i.arg;F(t)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(A,t,i){return this.delegate={iterator:v(A),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),c}},A}(A.exports);try{regeneratorRuntime=e}catch(A){"object"===("undefined"==typeof globalThis?"undefined":t(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(i);var r=i.exports,I=new Map;function g(A,e){Array.isArray(A)||(A=[A]),A.forEach((function(A){return I.set(A,e)}))}function n(A){return a.apply(this,arguments)}function a(){return(a=e(r.mark((function A(e){var t,i;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(t=I.get(e.Compression)){A.next=3;break}throw new Error("Unknown compression method identifier: ".concat(e.Compression));case 3:return A.next=5,t();case 5:return i=A.sent,A.abrupt("return",new i(e));case 7:case"end":return A.stop()}}),A)})))).apply(this,arguments)}g([void 0,1],(function(){return Promise.resolve().then((function(){return y})).then((function(A){return A.default}))})),g(5,(function(){return Promise.resolve().then((function(){return F})).then((function(A){return A.default}))})),g(6,(function(){throw new Error("old style JPEG compression is not supported.")})),g(7,(function(){return Promise.resolve().then((function(){return N})).then((function(A){return A.default}))})),g([8,32946],(function(){return Promise.resolve().then((function(){return OA})).then((function(A){return A.default}))})),g(32773,(function(){return Promise.resolve().then((function(){return _A})).then((function(A){return A.default}))})),g(34887,(function(){return Promise.resolve().then((function(){return le})).then(function(){var A=e(r.mark((function A(e){return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,e.zstd.init();case 2:return A.abrupt("return",e);case 3:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}()).then((function(A){return A.default}))})),g(50001,(function(){return Promise.resolve().then((function(){return de})).then((function(A){return A.default}))}));var o=globalThis;function B(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")}function C(A,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(A,i.key,i)}}function Q(A,e,t){return e&&C(A.prototype,e),t&&C(A,t),A}function E(A,e){return E=Object.setPrototypeOf||function(A,e){return A.__proto__=e,A},E(A,e)}function s(A,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(e&&e.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),e&&E(A,e)}function f(A,e){if(e&&("object"===t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(A){if(void 0===A)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return A}(A)}function c(A){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},c(A)}function h(A,e){var t=A.length-e,i=0;do{for(var r=e;r>0;r--)A[i+e]+=A[i],i++;t-=e}while(t>0)}function l(A,e,t){for(var i=0,r=A.length,I=r/t;r>e;){for(var g=e;g>0;--g)A[i+e]+=A[i],++i;r-=e}for(var n=A.slice(),a=0;a<I;++a)for(var o=0;o<t;++o)A[t*a+o]=n[(t-o-1)*I+a]}function u(A,e,t,i,r,I){if(!e||1===e)return A;for(var g=0;g<r.length;++g){if(r[g]%8!=0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(r[g]!==r[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var n=r[0]/8,a=2===I?1:r.length,o=0;o<i&&!(o*a*t*n>=A.byteLength);++o){var B=void 0;if(2===e){switch(r[0]){case 8:B=new Uint8Array(A,o*a*t*n,a*t*n);break;case 16:B=new Uint16Array(A,o*a*t*n,a*t*n/2);break;case 32:B=new Uint32Array(A,o*a*t*n,a*t*n/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(r[0]," bits per sample."))}h(B,a)}else 3===e&&l(B=new Uint8Array(A,o*a*t*n,a*t*n),a,n)}return A}o.addEventListener("message",function(){var A=e(r.mark((function A(e){var t,i,I,g,a,B;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return t=e.data,i=t.id,I=t.fileDirectory,g=t.buffer,A.next=3,n(I);case 3:return a=A.sent,A.next=6,a.decode(I,g);case 6:B=A.sent,o.postMessage({decoded:B,id:i},[B]);case 8:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}());var w=function(){function A(){B(this,A)}var t;return Q(A,[{key:"decode",value:(t=e(r.mark((function A(e,t){var i,I,g,n,a;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this.decodeBlock(t);case 2:if(i=A.sent,1===(I=e.Predictor||1)){A.next=9;break}return g=!e.StripOffsets,n=g?e.TileWidth:e.ImageWidth,a=g?e.TileLength:e.RowsPerStrip||e.ImageLength,A.abrupt("return",u(i,I,n,a,e.BitsPerSample,e.PlanarConfiguration));case 9:return A.abrupt("return",i);case 10:case"end":return A.stop()}}),A,this)}))),function(A,e){return t.apply(this,arguments)})}]),A}();function d(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var D=function(A){s(t,w);var e=d(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){return A}}]),t}(),y=Object.freeze({__proto__:null,default:D});function k(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}function p(A,e){for(var t=e.length-1;t>=0;t--)A.push(e[t]);return A}function m(A){for(var e=new Uint16Array(4093),t=new Uint8Array(4093),i=0;i<=257;i++)e[i]=4096,t[i]=i;var r=258,I=9,g=0;function n(){r=258,I=9}function a(A){var e=function(A,e,t){var i=e%8,r=Math.floor(e/8),I=8-i,g=e+t-8*(r+1),n=8*(r+2)-(e+t),a=8*(r+2)-e;if(n=Math.max(0,n),r>=A.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var o=A[r]&Math.pow(2,8-i)-1,B=o<<=t-I;if(r+1<A.length){var C=A[r+1]>>>n;B+=C<<=Math.max(0,t-a)}if(g>8&&r+2<A.length){var Q=8*(r+3)-(e+t);B+=A[r+2]>>>Q}return B}(A,g,I);return g+=I,e}function o(A,i){return t[r]=i,e[r]=A,++r-1}function B(A){for(var i=[],r=A;4096!==r;r=e[r])i.push(t[r]);return i}var C=[];n();for(var Q,E=new Uint8Array(A),s=a(E);257!==s;){if(256===s){for(n(),s=a(E);256===s;)s=a(E);if(257===s)break;if(s>256)throw new Error("corrupted code at scanline ".concat(s));p(C,B(s)),Q=s}else if(s<r){var f=B(s);p(C,f),o(Q,f[f.length-1]),Q=s}else{var c=B(Q);if(!c)throw new Error("Bogus entry. Not in dictionary, ".concat(Q," / ").concat(r,", position: ").concat(g));p(C,c),C.push(c[c.length-1]),o(Q,c[c.length-1]),Q=s}r+1>=Math.pow(2,I)&&(12===I?Q=void 0:I++),s=a(E)}return new Uint8Array(C)}var G=function(A){s(t,w);var e=k(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){return m(A).buffer}}]),t}(),F=Object.freeze({__proto__:null,default:G});function S(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var v=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function R(A,e){for(var t=0,i=[],r=16;r>0&&!A[r-1];)--r;i.push({children:[],index:0});for(var I,g=i[0],n=0;n<r;n++){for(var a=0;a<A[n];a++){for((g=i.pop()).children[g.index]=e[t];g.index>0;)g=i.pop();for(g.index++,i.push(g);i.length<=n;)i.push(I={children:[],index:0}),g.children[g.index]=I.children,g=I;t++}n+1<r&&(i.push(I={children:[],index:0}),g.children[g.index]=I.children,g=I)}return i[0].children}function U(A,e,i,r,I,g,n,a,o){var B=i.mcusPerLine,C=i.progressive,Q=e,E=e,s=0,f=0;function c(){if(f>0)return f--,s>>f&1;if(255===(s=A[E++])){var e=A[E++];if(e)throw new Error("unexpected marker: ".concat((s<<8|e).toString(16)))}return f=7,s>>>7}function h(A){for(var e,i=A;null!==(e=c());){if("number"==typeof(i=i[e]))return i;if("object"!==t(i))throw new Error("invalid huffman sequence")}return null}function l(A){for(var e=A,t=0;e>0;){var i=c();if(null===i)return;t=t<<1|i,--e}return t}function u(A){var e=l(A);return e>=1<<A-1?e:e+(-1<<A)+1}var w=0;var d,D=0;function y(A,e,t,i,r){var I=t%B,g=(t/B|0)*A.v+i,n=I*A.h+r;e(A,A.blocks[g][n])}function k(A,e,t){var i=t/A.blocksPerLine|0,r=t%A.blocksPerLine;e(A,A.blocks[i][r])}var p,m,G,F,S,R,U=r.length;R=C?0===g?0===a?function(A,e){var t=h(A.huffmanTableDC),i=0===t?0:u(t)<<o;A.pred+=i,e[0]=A.pred}:function(A,e){e[0]|=c()<<o}:0===a?function(A,e){if(w>0)w--;else for(var t=g,i=n;t<=i;){var r=h(A.huffmanTableAC),I=15&r,a=r>>4;if(0===I){if(a<15){w=l(a)+(1<<a)-1;break}t+=16}else e[v[t+=a]]=u(I)*(1<<o),t++}}:function(A,e){for(var t=g,i=n,r=0;t<=i;){var I=v[t],a=e[I]<0?-1:1;switch(D){case 0:var B=h(A.huffmanTableAC),C=15&B;if(r=B>>4,0===C)r<15?(w=l(r)+(1<<r),D=4):(r=16,D=1);else{if(1!==C)throw new Error("invalid ACn encoding");d=u(C),D=r?2:3}continue;case 1:case 2:e[I]?e[I]+=(c()<<o)*a:0==--r&&(D=2===D?3:0);break;case 3:e[I]?e[I]+=(c()<<o)*a:(e[I]=d<<o,D=0);break;case 4:e[I]&&(e[I]+=(c()<<o)*a)}t++}4===D&&0==--w&&(D=0)}:function(A,e){var t=h(A.huffmanTableDC),i=0===t?0:u(t);A.pred+=i,e[0]=A.pred;for(var r=1;r<64;){var I=h(A.huffmanTableAC),g=15&I,n=I>>4;if(0===g){if(n<15)break;r+=16}else e[v[r+=n]]=u(g),r++}};var L,b,M=0;b=1===U?r[0].blocksPerLine*r[0].blocksPerColumn:B*i.mcusPerColumn;for(var N=I||b;M<b;){for(m=0;m<U;m++)r[m].pred=0;if(w=0,1===U)for(p=r[0],S=0;S<N;S++)k(p,R,M),M++;else for(S=0;S<N;S++){for(m=0;m<U;m++){var x=p=r[m],J=x.h,q=x.v;for(G=0;G<q;G++)for(F=0;F<J;F++)y(p,R,M,G,F)}if(++M===b)break}if(f=0,(L=A[E]<<8|A[E+1])<65280)throw new Error("marker was not found");if(!(L>=65488&&L<=65495))break;E+=2}return E-Q}function L(A,e){var t=[],i=e.blocksPerLine,r=e.blocksPerColumn,I=i<<3,g=new Int32Array(64),n=new Uint8Array(64);function a(A,t,i){var r,I,g,n,a,o,B,C,Q,E,s=e.quantizationTable,f=i;for(E=0;E<64;E++)f[E]=A[E]*s[E];for(E=0;E<8;++E){var c=8*E;0!==f[1+c]||0!==f[2+c]||0!==f[3+c]||0!==f[4+c]||0!==f[5+c]||0!==f[6+c]||0!==f[7+c]?(r=5793*f[0+c]+128>>8,I=5793*f[4+c]+128>>8,g=f[2+c],n=f[6+c],a=2896*(f[1+c]-f[7+c])+128>>8,C=2896*(f[1+c]+f[7+c])+128>>8,o=f[3+c]<<4,Q=r-I+1>>1,r=r+I+1>>1,I=Q,Q=3784*g+1567*n+128>>8,g=1567*g-3784*n+128>>8,n=Q,Q=a-(B=f[5+c]<<4)+1>>1,a=a+B+1>>1,B=Q,Q=C+o+1>>1,o=C-o+1>>1,C=Q,Q=r-n+1>>1,r=r+n+1>>1,n=Q,Q=I-g+1>>1,I=I+g+1>>1,g=Q,Q=2276*a+3406*C+2048>>12,a=3406*a-2276*C+2048>>12,C=Q,Q=799*o+4017*B+2048>>12,o=4017*o-799*B+2048>>12,B=Q,f[0+c]=r+C,f[7+c]=r-C,f[1+c]=I+B,f[6+c]=I-B,f[2+c]=g+o,f[5+c]=g-o,f[3+c]=n+a,f[4+c]=n-a):(Q=5793*f[0+c]+512>>10,f[0+c]=Q,f[1+c]=Q,f[2+c]=Q,f[3+c]=Q,f[4+c]=Q,f[5+c]=Q,f[6+c]=Q,f[7+c]=Q)}for(E=0;E<8;++E){var h=E;0!==f[8+h]||0!==f[16+h]||0!==f[24+h]||0!==f[32+h]||0!==f[40+h]||0!==f[48+h]||0!==f[56+h]?(r=5793*f[0+h]+2048>>12,I=5793*f[32+h]+2048>>12,g=f[16+h],n=f[48+h],a=2896*(f[8+h]-f[56+h])+2048>>12,C=2896*(f[8+h]+f[56+h])+2048>>12,o=f[24+h],Q=r-I+1>>1,r=r+I+1>>1,I=Q,Q=3784*g+1567*n+2048>>12,g=1567*g-3784*n+2048>>12,n=Q,Q=a-(B=f[40+h])+1>>1,a=a+B+1>>1,B=Q,Q=C+o+1>>1,o=C-o+1>>1,C=Q,Q=r-n+1>>1,r=r+n+1>>1,n=Q,Q=I-g+1>>1,I=I+g+1>>1,g=Q,Q=2276*a+3406*C+2048>>12,a=3406*a-2276*C+2048>>12,C=Q,Q=799*o+4017*B+2048>>12,o=4017*o-799*B+2048>>12,B=Q,f[0+h]=r+C,f[56+h]=r-C,f[8+h]=I+B,f[48+h]=I-B,f[16+h]=g+o,f[40+h]=g-o,f[24+h]=n+a,f[32+h]=n-a):(Q=5793*i[E+0]+8192>>14,f[0+h]=Q,f[8+h]=Q,f[16+h]=Q,f[24+h]=Q,f[32+h]=Q,f[40+h]=Q,f[48+h]=Q,f[56+h]=Q)}for(E=0;E<64;++E){var l=128+(f[E]+8>>4);t[E]=l<0?0:l>255?255:l}}for(var o=0;o<r;o++){for(var B=o<<3,C=0;C<8;C++)t.push(new Uint8Array(I));for(var Q=0;Q<i;Q++){a(e.blocks[o][Q],n,g);for(var E=0,s=Q<<3,f=0;f<8;f++)for(var c=t[B+f],h=0;h<8;h++)c[s+h]=n[E++]}}return t}var b=function(){function A(){B(this,A),this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}return Q(A,[{key:"resetFrames",value:function(){this.frames=[]}},{key:"parse",value:function(A){var e=0;function t(){var t=A[e]<<8|A[e+1];return e+=2,t}function i(A){var e,t,i=0,r=0;for(t in A.components)A.components.hasOwnProperty(t)&&(i<(e=A.components[t]).h&&(i=e.h),r<e.v&&(r=e.v));var I=Math.ceil(A.samplesPerLine/8/i),g=Math.ceil(A.scanLines/8/r);for(t in A.components)if(A.components.hasOwnProperty(t)){e=A.components[t];for(var n=Math.ceil(Math.ceil(A.samplesPerLine/8)*e.h/i),a=Math.ceil(Math.ceil(A.scanLines/8)*e.v/r),o=I*e.h,B=g*e.v,C=[],Q=0;Q<B;Q++){for(var E=[],s=0;s<o;s++)E.push(new Int32Array(64));C.push(E)}e.blocksPerLine=n,e.blocksPerColumn=a,e.blocks=C}A.maxH=i,A.maxV=r,A.mcusPerLine=I,A.mcusPerColumn=g}var r,I,g=t();if(65496!==g)throw new Error("SOI not found");for(g=t();65497!==g;){switch(g){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var n=(r=void 0,I=void 0,r=t(),I=A.subarray(e,e+r-2),e+=I.length,I);65504===g&&74===n[0]&&70===n[1]&&73===n[2]&&70===n[3]&&0===n[4]&&(this.jfif={version:{major:n[5],minor:n[6]},densityUnits:n[7],xDensity:n[8]<<8|n[9],yDensity:n[10]<<8|n[11],thumbWidth:n[12],thumbHeight:n[13],thumbData:n.subarray(14,14+3*n[12]*n[13])}),65518===g&&65===n[0]&&100===n[1]&&111===n[2]&&98===n[3]&&101===n[4]&&0===n[5]&&(this.adobe={version:n[6],flags0:n[7]<<8|n[8],flags1:n[9]<<8|n[10],transformCode:n[11]});break;case 65499:for(var a=t()+e-2;e<a;){var o=A[e++],B=new Int32Array(64);if(o>>4==0)for(var C=0;C<64;C++){B[v[C]]=A[e++]}else{if(o>>4!=1)throw new Error("DQT: invalid table spec");for(var Q=0;Q<64;Q++){B[v[Q]]=t()}}this.quantizationTables[15&o]=B}break;case 65472:case 65473:case 65474:t();for(var E={extended:65473===g,progressive:65474===g,precision:A[e++],scanLines:t(),samplesPerLine:t(),components:{},componentsOrder:[]},s=A[e++],f=void 0,c=0;c<s;c++){f=A[e];var h=A[e+1]>>4,l=15&A[e+1],u=A[e+2];E.componentsOrder.push(f),E.components[f]={h:h,v:l,quantizationIdx:u},e+=3}i(E),this.frames.push(E);break;case 65476:for(var w=t(),d=2;d<w;){for(var D=A[e++],y=new Uint8Array(16),k=0,p=0;p<16;p++,e++)y[p]=A[e],k+=y[p];for(var m=new Uint8Array(k),G=0;G<k;G++,e++)m[G]=A[e];d+=17+k,D>>4==0?this.huffmanTablesDC[15&D]=R(y,m):this.huffmanTablesAC[15&D]=R(y,m)}break;case 65501:t(),this.resetInterval=t();break;case 65498:t();for(var F=A[e++],S=[],L=this.frames[0],b=0;b<F;b++){var M=L.components[A[e++]],N=A[e++];M.huffmanTableDC=this.huffmanTablesDC[N>>4],M.huffmanTableAC=this.huffmanTablesAC[15&N],S.push(M)}var x=A[e++],J=A[e++],q=A[e++],Y=U(A,e,L,S,this.resetInterval,x,J,q>>4,15&q);e+=Y;break;case 65535:255!==A[e]&&e--;break;default:if(255===A[e-3]&&A[e-2]>=192&&A[e-2]<=254){e-=3;break}throw new Error("unknown JPEG marker ".concat(g.toString(16)))}g=t()}}},{key:"getResult",value:function(){var A=this.frames;if(0===this.frames.length)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(var e=0;e<this.frames.length;e++)for(var t=this.frames[e].components,i=0,r=Object.keys(t);i<r.length;i++){var I=r[i];t[I].quantizationTable=this.quantizationTables[t[I].quantizationIdx],delete t[I].quantizationIdx}for(var g=A[0],n=g.components,a=g.componentsOrder,o=[],B=g.samplesPerLine,C=g.scanLines,Q=0;Q<a.length;Q++){var E=n[a[Q]];o.push({lines:L(0,E),scaleX:E.h/g.maxH,scaleY:E.v/g.maxV})}for(var s=new Uint8Array(B*C*o.length),f=0,c=0;c<C;++c)for(var h=0;h<B;++h)for(var l=0;l<o.length;++l){var u=o[l];s[f]=u.lines[0|c*u.scaleY][0|h*u.scaleX],++f}return s}}]),A}(),M=function(A){s(t,w);var e=S(t);function t(A){var i;return B(this,t),(i=e.call(this)).reader=new b,A.JPEGTables&&i.reader.parse(A.JPEGTables),i}return Q(t,[{key:"decodeBlock",value:function(A){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(A)),this.reader.getResult().buffer}}]),t}(),N=Object.freeze({__proto__:null,default:M});function x(A){for(var e=A.length;--e>=0;)A[e]=0}x(new Array(576)),x(new Array(60)),x(new Array(512)),x(new Array(256)),x(new Array(29)),x(new Array(30));var J=function(A,e,t,i){for(var r=65535&A|0,I=A>>>16&65535|0,g=0;0!==t;){t-=g=t>2e3?2e3:t;do{I=I+(r=r+e[i++]|0)|0}while(--g);r%=65521,I%=65521}return r|I<<16|0},q=new Uint32Array(function(){for(var A,e=[],t=0;t<256;t++){A=t;for(var i=0;i<8;i++)A=1&A?3988292384^A>>>1:A>>>1;e[t]=A}return e}()),Y=function(A,e,t,i){var r=q,I=i+t;A^=-1;for(var g=i;g<I;g++)A=A>>>8^r[255&(A^e[g])];return-1^A},K={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},O=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)},P=function(A){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!==t(i))throw new TypeError(i+"must be non-object");for(var r in i)O(i,r)&&(A[r]=i[r])}}return A},T=function(A){for(var e=0,t=0,i=A.length;t<i;t++)e+=A[t].length;for(var r=new Uint8Array(e),I=0,g=0,n=A.length;I<n;I++){var a=A[I];r.set(a,g),g+=a.length}return r},V=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(A){V=!1}for(var _=new Uint8Array(256),X=0;X<256;X++)_[X]=X>=252?6:X>=248?5:X>=240?4:X>=224?3:X>=192?2:1;_[254]=_[254]=1;var Z=function(A){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(A);var e,t,i,r,I,g=A.length,n=0;for(r=0;r<g;r++)55296==(64512&(t=A.charCodeAt(r)))&&r+1<g&&56320==(64512&(i=A.charCodeAt(r+1)))&&(t=65536+(t-55296<<10)+(i-56320),r++),n+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(n),I=0,r=0;I<n;r++)55296==(64512&(t=A.charCodeAt(r)))&&r+1<g&&56320==(64512&(i=A.charCodeAt(r+1)))&&(t=65536+(t-55296<<10)+(i-56320),r++),t<128?e[I++]=t:t<2048?(e[I++]=192|t>>>6,e[I++]=128|63&t):t<65536?(e[I++]=224|t>>>12,e[I++]=128|t>>>6&63,e[I++]=128|63&t):(e[I++]=240|t>>>18,e[I++]=128|t>>>12&63,e[I++]=128|t>>>6&63,e[I++]=128|63&t);return e},j=function(A,e){var t,i,r=e||A.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(A.subarray(0,e));var I=new Array(2*r);for(i=0,t=0;t<r;){var g=A[t++];if(g<128)I[i++]=g;else{var n=_[g];if(n>4)I[i++]=65533,t+=n-1;else{for(g&=2===n?31:3===n?15:7;n>1&&t<r;)g=g<<6|63&A[t++],n--;n>1?I[i++]=65533:g<65536?I[i++]=g:(g-=65536,I[i++]=55296|g>>10&1023,I[i++]=56320|1023&g)}}}return function(A,e){if(e<65534&&A.subarray&&V)return String.fromCharCode.apply(null,A.length===e?A:A.subarray(0,e));for(var t="",i=0;i<e;i++)t+=String.fromCharCode(A[i]);return t}(I,i)},W=function(A,e){(e=e||A.length)>A.length&&(e=A.length);for(var t=e-1;t>=0&&128==(192&A[t]);)t--;return t<0||0===t?e:t+_[A[t]]>e?t:e};var z=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},$=function(A,e){var t,i,r,I,g,n,a,o,B,C,Q,E,s,f,c,h,l,u,w,d,D,y,k,p,m=A.state;t=A.next_in,k=A.input,i=t+(A.avail_in-5),r=A.next_out,p=A.output,I=r-(e-A.avail_out),g=r+(A.avail_out-257),n=m.dmax,a=m.wsize,o=m.whave,B=m.wnext,C=m.window,Q=m.hold,E=m.bits,s=m.lencode,f=m.distcode,c=(1<<m.lenbits)-1,h=(1<<m.distbits)-1;A:do{E<15&&(Q+=k[t++]<<E,E+=8,Q+=k[t++]<<E,E+=8),l=s[Q&c];e:for(;;){if(Q>>>=u=l>>>24,E-=u,0===(u=l>>>16&255))p[r++]=65535&l;else{if(!(16&u)){if(0==(64&u)){l=s[(65535&l)+(Q&(1<<u)-1)];continue e}if(32&u){m.mode=12;break A}A.msg="invalid literal/length code",m.mode=30;break A}w=65535&l,(u&=15)&&(E<u&&(Q+=k[t++]<<E,E+=8),w+=Q&(1<<u)-1,Q>>>=u,E-=u),E<15&&(Q+=k[t++]<<E,E+=8,Q+=k[t++]<<E,E+=8),l=f[Q&h];t:for(;;){if(Q>>>=u=l>>>24,E-=u,!(16&(u=l>>>16&255))){if(0==(64&u)){l=f[(65535&l)+(Q&(1<<u)-1)];continue t}A.msg="invalid distance code",m.mode=30;break A}if(d=65535&l,E<(u&=15)&&(Q+=k[t++]<<E,(E+=8)<u&&(Q+=k[t++]<<E,E+=8)),(d+=Q&(1<<u)-1)>n){A.msg="invalid distance too far back",m.mode=30;break A}if(Q>>>=u,E-=u,d>(u=r-I)){if((u=d-u)>o&&m.sane){A.msg="invalid distance too far back",m.mode=30;break A}if(D=0,y=C,0===B){if(D+=a-u,u<w){w-=u;do{p[r++]=C[D++]}while(--u);D=r-d,y=p}}else if(B<u){if(D+=a+B-u,(u-=B)<w){w-=u;do{p[r++]=C[D++]}while(--u);if(D=0,B<w){w-=u=B;do{p[r++]=C[D++]}while(--u);D=r-d,y=p}}}else if(D+=B-u,u<w){w-=u;do{p[r++]=C[D++]}while(--u);D=r-d,y=p}for(;w>2;)p[r++]=y[D++],p[r++]=y[D++],p[r++]=y[D++],w-=3;w&&(p[r++]=y[D++],w>1&&(p[r++]=y[D++]))}else{D=r-d;do{p[r++]=p[D++],p[r++]=p[D++],p[r++]=p[D++],w-=3}while(w>2);w&&(p[r++]=p[D++],w>1&&(p[r++]=p[D++]))}break}}break}}while(t<i&&r<g);t-=w=E>>3,Q&=(1<<(E-=w<<3))-1,A.next_in=t,A.next_out=r,A.avail_in=t<i?i-t+5:5-(t-i),A.avail_out=r<g?g-r+257:257-(r-g),m.hold=Q,m.bits=E},AA=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eA=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iA=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),rA=function(A,e,t,i,r,I,g,n){var a,o,B,C,Q,E,s,f,c,h=n.bits,l=0,u=0,w=0,d=0,D=0,y=0,k=0,p=0,m=0,G=0,F=null,S=0,v=new Uint16Array(16),R=new Uint16Array(16),U=null,L=0;for(l=0;l<=15;l++)v[l]=0;for(u=0;u<i;u++)v[e[t+u]]++;for(D=h,d=15;d>=1&&0===v[d];d--);if(D>d&&(D=d),0===d)return r[I++]=20971520,r[I++]=20971520,n.bits=1,0;for(w=1;w<d&&0===v[w];w++);for(D<w&&(D=w),p=1,l=1;l<=15;l++)if(p<<=1,(p-=v[l])<0)return-1;if(p>0&&(0===A||1!==d))return-1;for(R[1]=0,l=1;l<15;l++)R[l+1]=R[l]+v[l];for(u=0;u<i;u++)0!==e[t+u]&&(g[R[e[t+u]]++]=u);if(0===A?(F=U=g,E=19):1===A?(F=AA,S-=257,U=eA,L-=257,E=256):(F=tA,U=iA,E=-1),G=0,u=0,l=w,Q=I,y=D,k=0,B=-1,C=(m=1<<D)-1,1===A&&m>852||2===A&&m>592)return 1;for(;;){s=l-k,g[u]<E?(f=0,c=g[u]):g[u]>E?(f=U[L+g[u]],c=F[S+g[u]]):(f=96,c=0),a=1<<l-k,w=o=1<<y;do{r[Q+(G>>k)+(o-=a)]=s<<24|f<<16|c|0}while(0!==o);for(a=1<<l-1;G&a;)a>>=1;if(0!==a?(G&=a-1,G+=a):G=0,u++,0==--v[l]){if(l===d)break;l=e[t+g[u]]}if(l>D&&(G&C)!==B){for(0===k&&(k=D),Q+=w,p=1<<(y=l-k);y+k<d&&!((p-=v[y+k])<=0);)y++,p<<=1;if(m+=1<<y,1===A&&m>852||2===A&&m>592)return 1;r[B=G&C]=D<<24|y<<16|Q-I|0}}return 0!==G&&(r[Q+G]=l-k<<24|64<<16|0),n.bits=D,0},IA=H.Z_FINISH,gA=H.Z_BLOCK,nA=H.Z_TREES,aA=H.Z_OK,oA=H.Z_STREAM_END,BA=H.Z_NEED_DICT,CA=H.Z_STREAM_ERROR,QA=H.Z_DATA_ERROR,EA=H.Z_MEM_ERROR,sA=H.Z_BUF_ERROR,fA=H.Z_DEFLATED,cA=function(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)};function hA(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var lA,uA,wA=function(A){if(!A||!A.state)return CA;var e=A.state;return A.total_in=A.total_out=e.total=0,A.msg="",e.wrap&&(A.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,aA},dA=function(A){if(!A||!A.state)return CA;var e=A.state;return e.wsize=0,e.whave=0,e.wnext=0,wA(A)},DA=function(A,e){var t;if(!A||!A.state)return CA;var i=A.state;return e<0?(t=0,e=-e):(t=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?CA:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,dA(A))},yA=function(A,e){if(!A)return CA;var t=new hA;A.state=t,t.window=null;var i=DA(A,e);return i!==aA&&(A.state=null),i},kA=!0,pA=function(A){if(kA){lA=new Int32Array(512),uA=new Int32Array(32);for(var e=0;e<144;)A.lens[e++]=8;for(;e<256;)A.lens[e++]=9;for(;e<280;)A.lens[e++]=7;for(;e<288;)A.lens[e++]=8;for(rA(1,A.lens,0,288,lA,0,A.work,{bits:9}),e=0;e<32;)A.lens[e++]=5;rA(2,A.lens,0,32,uA,0,A.work,{bits:5}),kA=!1}A.lencode=lA,A.lenbits=9,A.distcode=uA,A.distbits=5},mA=function(A,e,t,i){var r,I=A.state;return null===I.window&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new Uint8Array(I.wsize)),i>=I.wsize?(I.window.set(e.subarray(t-I.wsize,t),0),I.wnext=0,I.whave=I.wsize):((r=I.wsize-I.wnext)>i&&(r=i),I.window.set(e.subarray(t-i,t-i+r),I.wnext),(i-=r)?(I.window.set(e.subarray(t-i,t),0),I.wnext=i,I.whave=I.wsize):(I.wnext+=r,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=r))),0},GA={inflateReset:dA,inflateReset2:DA,inflateResetKeep:wA,inflateInit:function(A){return yA(A,15)},inflateInit2:yA,inflate:function(A,e){var t,i,r,I,g,n,a,o,B,C,Q,E,s,f,c,h,l,u,w,d,D,y,k,p,m=0,G=new Uint8Array(4),F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!A||!A.state||!A.output||!A.input&&0!==A.avail_in)return CA;12===(t=A.state).mode&&(t.mode=13),g=A.next_out,r=A.output,a=A.avail_out,I=A.next_in,i=A.input,n=A.avail_in,o=t.hold,B=t.bits,C=n,Q=a,y=aA;A:for(;;)switch(t.mode){case 1:if(0===t.wrap){t.mode=13;break}for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(2&t.wrap&&35615===o){t.check=0,G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0),o=0,B=0,t.mode=2;break}if(t.flags=0,t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&o)<<8)+(o>>8))%31){A.msg="incorrect header check",t.mode=30;break}if((15&o)!==fA){A.msg="unknown compression method",t.mode=30;break}if(B-=4,D=8+(15&(o>>>=4)),0===t.wbits)t.wbits=D;else if(D>t.wbits){A.msg="invalid window size",t.mode=30;break}t.dmax=1<<t.wbits,A.adler=t.check=1,t.mode=512&o?10:12,o=0,B=0;break;case 2:for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(t.flags=o,(255&t.flags)!==fA){A.msg="unknown compression method",t.mode=30;break}if(57344&t.flags){A.msg="unknown header flags set",t.mode=30;break}t.head&&(t.head.text=o>>8&1),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0)),o=0,B=0,t.mode=3;case 3:for(;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.head&&(t.head.time=o),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,G[2]=o>>>16&255,G[3]=o>>>24&255,t.check=Y(t.check,G,4,0)),o=0,B=0,t.mode=4;case 4:for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.head&&(t.head.xflags=255&o,t.head.os=o>>8),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0)),o=0,B=0,t.mode=5;case 5:if(1024&t.flags){for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.length=o,t.head&&(t.head.extra_len=o),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0)),o=0,B=0}else t.head&&(t.head.extra=null);t.mode=6;case 6:if(1024&t.flags&&((E=t.length)>n&&(E=n),E&&(t.head&&(D=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(I,I+E),D)),512&t.flags&&(t.check=Y(t.check,i,E,I)),n-=E,I+=E,t.length-=E),t.length))break A;t.length=0,t.mode=7;case 7:if(2048&t.flags){if(0===n)break A;E=0;do{D=i[I+E++],t.head&&D&&t.length<65536&&(t.head.name+=String.fromCharCode(D))}while(D&&E<n);if(512&t.flags&&(t.check=Y(t.check,i,E,I)),n-=E,I+=E,D)break A}else t.head&&(t.head.name=null);t.length=0,t.mode=8;case 8:if(4096&t.flags){if(0===n)break A;E=0;do{D=i[I+E++],t.head&&D&&t.length<65536&&(t.head.comment+=String.fromCharCode(D))}while(D&&E<n);if(512&t.flags&&(t.check=Y(t.check,i,E,I)),n-=E,I+=E,D)break A}else t.head&&(t.head.comment=null);t.mode=9;case 9:if(512&t.flags){for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(o!==(65535&t.check)){A.msg="header crc mismatch",t.mode=30;break}o=0,B=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),A.adler=t.check=0,t.mode=12;break;case 10:for(;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}A.adler=t.check=cA(o),o=0,B=0,t.mode=11;case 11:if(0===t.havedict)return A.next_out=g,A.avail_out=a,A.next_in=I,A.avail_in=n,t.hold=o,t.bits=B,BA;A.adler=t.check=1,t.mode=12;case 12:if(e===gA||e===nA)break A;case 13:if(t.last){o>>>=7&B,B-=7&B,t.mode=27;break}for(;B<3;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}switch(t.last=1&o,B-=1,3&(o>>>=1)){case 0:t.mode=14;break;case 1:if(pA(t),t.mode=20,e===nA){o>>>=2,B-=2;break A}break;case 2:t.mode=17;break;case 3:A.msg="invalid block type",t.mode=30}o>>>=2,B-=2;break;case 14:for(o>>>=7&B,B-=7&B;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if((65535&o)!=(o>>>16^65535)){A.msg="invalid stored block lengths",t.mode=30;break}if(t.length=65535&o,o=0,B=0,t.mode=15,e===nA)break A;case 15:t.mode=16;case 16:if(E=t.length){if(E>n&&(E=n),E>a&&(E=a),0===E)break A;r.set(i.subarray(I,I+E),g),n-=E,I+=E,a-=E,g+=E,t.length-=E;break}t.mode=12;break;case 17:for(;B<14;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(t.nlen=257+(31&o),o>>>=5,B-=5,t.ndist=1+(31&o),o>>>=5,B-=5,t.ncode=4+(15&o),o>>>=4,B-=4,t.nlen>286||t.ndist>30){A.msg="too many length or distance symbols",t.mode=30;break}t.have=0,t.mode=18;case 18:for(;t.have<t.ncode;){for(;B<3;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.lens[F[t.have++]]=7&o,o>>>=3,B-=3}for(;t.have<19;)t.lens[F[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,k={bits:t.lenbits},y=rA(0,t.lens,0,19,t.lencode,0,t.work,k),t.lenbits=k.bits,y){A.msg="invalid code lengths set",t.mode=30;break}t.have=0,t.mode=19;case 19:for(;t.have<t.nlen+t.ndist;){for(;h=(m=t.lencode[o&(1<<t.lenbits)-1])>>>16&255,l=65535&m,!((c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(l<16)o>>>=c,B-=c,t.lens[t.have++]=l;else{if(16===l){for(p=c+2;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(o>>>=c,B-=c,0===t.have){A.msg="invalid bit length repeat",t.mode=30;break}D=t.lens[t.have-1],E=3+(3&o),o>>>=2,B-=2}else if(17===l){for(p=c+3;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}B-=c,D=0,E=3+(7&(o>>>=c)),o>>>=3,B-=3}else{for(p=c+7;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}B-=c,D=0,E=11+(127&(o>>>=c)),o>>>=7,B-=7}if(t.have+E>t.nlen+t.ndist){A.msg="invalid bit length repeat",t.mode=30;break}for(;E--;)t.lens[t.have++]=D}}if(30===t.mode)break;if(0===t.lens[256]){A.msg="invalid code -- missing end-of-block",t.mode=30;break}if(t.lenbits=9,k={bits:t.lenbits},y=rA(1,t.lens,0,t.nlen,t.lencode,0,t.work,k),t.lenbits=k.bits,y){A.msg="invalid literal/lengths set",t.mode=30;break}if(t.distbits=6,t.distcode=t.distdyn,k={bits:t.distbits},y=rA(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,k),t.distbits=k.bits,y){A.msg="invalid distances set",t.mode=30;break}if(t.mode=20,e===nA)break A;case 20:t.mode=21;case 21:if(n>=6&&a>=258){A.next_out=g,A.avail_out=a,A.next_in=I,A.avail_in=n,t.hold=o,t.bits=B,$(A,Q),g=A.next_out,r=A.output,a=A.avail_out,I=A.next_in,i=A.input,n=A.avail_in,o=t.hold,B=t.bits,12===t.mode&&(t.back=-1);break}for(t.back=0;h=(m=t.lencode[o&(1<<t.lenbits)-1])>>>16&255,l=65535&m,!((c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(h&&0==(240&h)){for(u=c,w=h,d=l;h=(m=t.lencode[d+((o&(1<<u+w)-1)>>u)])>>>16&255,l=65535&m,!(u+(c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}o>>>=u,B-=u,t.back+=u}if(o>>>=c,B-=c,t.back+=c,t.length=l,0===h){t.mode=26;break}if(32&h){t.back=-1,t.mode=12;break}if(64&h){A.msg="invalid literal/length code",t.mode=30;break}t.extra=15&h,t.mode=22;case 22:if(t.extra){for(p=t.extra;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.length+=o&(1<<t.extra)-1,o>>>=t.extra,B-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=23;case 23:for(;h=(m=t.distcode[o&(1<<t.distbits)-1])>>>16&255,l=65535&m,!((c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(0==(240&h)){for(u=c,w=h,d=l;h=(m=t.distcode[d+((o&(1<<u+w)-1)>>u)])>>>16&255,l=65535&m,!(u+(c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}o>>>=u,B-=u,t.back+=u}if(o>>>=c,B-=c,t.back+=c,64&h){A.msg="invalid distance code",t.mode=30;break}t.offset=l,t.extra=15&h,t.mode=24;case 24:if(t.extra){for(p=t.extra;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.offset+=o&(1<<t.extra)-1,o>>>=t.extra,B-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){A.msg="invalid distance too far back",t.mode=30;break}t.mode=25;case 25:if(0===a)break A;if(E=Q-a,t.offset>E){if((E=t.offset-E)>t.whave&&t.sane){A.msg="invalid distance too far back",t.mode=30;break}E>t.wnext?(E-=t.wnext,s=t.wsize-E):s=t.wnext-E,E>t.length&&(E=t.length),f=t.window}else f=r,s=g-t.offset,E=t.length;E>a&&(E=a),a-=E,t.length-=E;do{r[g++]=f[s++]}while(--E);0===t.length&&(t.mode=21);break;case 26:if(0===a)break A;r[g++]=t.length,a--,t.mode=21;break;case 27:if(t.wrap){for(;B<32;){if(0===n)break A;n--,o|=i[I++]<<B,B+=8}if(Q-=a,A.total_out+=Q,t.total+=Q,Q&&(A.adler=t.check=t.flags?Y(t.check,r,Q,g-Q):J(t.check,r,Q,g-Q)),Q=a,(t.flags?o:cA(o))!==t.check){A.msg="incorrect data check",t.mode=30;break}o=0,B=0}t.mode=28;case 28:if(t.wrap&&t.flags){for(;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(o!==(4294967295&t.total)){A.msg="incorrect length check",t.mode=30;break}o=0,B=0}t.mode=29;case 29:y=oA;break A;case 30:y=QA;break A;case 31:return EA;default:return CA}return A.next_out=g,A.avail_out=a,A.next_in=I,A.avail_in=n,t.hold=o,t.bits=B,(t.wsize||Q!==A.avail_out&&t.mode<30&&(t.mode<27||e!==IA))&&mA(A,A.output,A.next_out,Q-A.avail_out),C-=A.avail_in,Q-=A.avail_out,A.total_in+=C,A.total_out+=Q,t.total+=Q,t.wrap&&Q&&(A.adler=t.check=t.flags?Y(t.check,r,Q,A.next_out-Q):J(t.check,r,Q,A.next_out-Q)),A.data_type=t.bits+(t.last?64:0)+(12===t.mode?128:0)+(20===t.mode||15===t.mode?256:0),(0===C&&0===Q||e===IA)&&y===aA&&(y=sA),y},inflateEnd:function(A){if(!A||!A.state)return CA;var e=A.state;return e.window&&(e.window=null),A.state=null,aA},inflateGetHeader:function(A,e){if(!A||!A.state)return CA;var t=A.state;return 0==(2&t.wrap)?CA:(t.head=e,e.done=!1,aA)},inflateSetDictionary:function(A,e){var t,i=e.length;return A&&A.state?0!==(t=A.state).wrap&&11!==t.mode?CA:11===t.mode&&J(1,e,i,0)!==t.check?QA:mA(A,e,i,i)?(t.mode=31,EA):(t.havedict=1,aA):CA},inflateInfo:"pako inflate (from Nodeca project)"};var FA=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},SA=Object.prototype.toString,vA=H.Z_NO_FLUSH,RA=H.Z_FINISH,UA=H.Z_OK,LA=H.Z_STREAM_END,bA=H.Z_NEED_DICT,MA=H.Z_STREAM_ERROR,NA=H.Z_DATA_ERROR,xA=H.Z_MEM_ERROR;function JA(A){this.options=P({chunkSize:65536,windowBits:15,to:""},A||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||A&&A.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z,this.strm.avail_out=0;var t=GA.inflateInit2(this.strm,e.windowBits);if(t!==UA)throw new Error(K[t]);if(this.header=new FA,GA.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Z(e.dictionary):"[object ArrayBuffer]"===SA.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=GA.inflateSetDictionary(this.strm,e.dictionary))!==UA))throw new Error(K[t])}function qA(A,e){var t=new JA(e);if(t.push(A),t.err)throw t.msg||K[t.err];return t.result}JA.prototype.push=function(A,e){var t,i,r,I=this.strm,g=this.options.chunkSize,n=this.options.dictionary;if(this.ended)return!1;for(i=e===~~e?e:!0===e?RA:vA,"[object ArrayBuffer]"===SA.call(A)?I.input=new Uint8Array(A):I.input=A,I.next_in=0,I.avail_in=I.input.length;;){for(0===I.avail_out&&(I.output=new Uint8Array(g),I.next_out=0,I.avail_out=g),(t=GA.inflate(I,i))===bA&&n&&((t=GA.inflateSetDictionary(I,n))===UA?t=GA.inflate(I,i):t===NA&&(t=bA));I.avail_in>0&&t===LA&&I.state.wrap>0&&0!==A[I.next_in];)GA.inflateReset(I),t=GA.inflate(I,i);switch(t){case MA:case NA:case bA:case xA:return this.onEnd(t),this.ended=!0,!1}if(r=I.avail_out,I.next_out&&(0===I.avail_out||t===LA))if("string"===this.options.to){var a=W(I.output,I.next_out),o=I.next_out-a,B=j(I.output,a);I.next_out=o,I.avail_out=g-o,o&&I.output.set(I.output.subarray(a,a+o),0),this.onData(B)}else this.onData(I.output.length===I.next_out?I.output:I.output.subarray(0,I.next_out));if(t!==UA||0!==r){if(t===LA)return t=GA.inflateEnd(this.strm),this.onEnd(t),this.ended=!0,!0;if(0===I.avail_in)break}}return!0},JA.prototype.onData=function(A){this.chunks.push(A)},JA.prototype.onEnd=function(A){A===UA&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=T(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};var YA={Inflate:JA,inflate:qA,inflateRaw:function(A,e){return(e=e||{}).raw=!0,qA(A,e)},ungzip:qA,constants:H}.inflate;function KA(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var HA=function(A){s(t,w);var e=KA(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){return YA(new Uint8Array(A)).buffer}}]),t}(),OA=Object.freeze({__proto__:null,default:HA});function PA(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var TA,VA=function(A){s(t,w);var e=PA(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){for(var e=new DataView(A),t=[],i=0;i<A.byteLength;++i){var r=e.getInt8(i);if(r<0){var I=e.getUint8(i+1);r=-r;for(var g=0;g<=r;++g)t.push(I);i+=1}else{for(var n=0;n<=r;++n)t.push(e.getUint8(i+n+1));i+=r+1}}return new Uint8Array(t).buffer}}]),t}(),_A=Object.freeze({__proto__:null,default:VA}),XA={exports:{}};TA=XA,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var A,e,t,i,r,I,g,n,a,o,B,C,Q,E,s,f,c=(A={defaultNoDataValue:-34027999387901484e22,decode:function(I,g){var n=(g=g||{}).encodedMaskData||null===g.encodedMaskData,a=r(I,g.inputOffset||0,n),o=null!==g.noDataValue?g.noDataValue:A.defaultNoDataValue,B=e(a,g.pixelType||Float32Array,g.encodedMaskData,o,g.returnMask),C={width:a.width,height:a.height,pixelData:B.resultPixels,minValue:B.minValue,maxValue:a.pixels.maxValue,noDataValue:o};return B.resultMask&&(C.maskData=B.resultMask),g.returnEncodedMask&&a.mask&&(C.encodedMaskData=a.mask.bitset?a.mask.bitset:null),g.returnFileInfo&&(C.fileInfo=t(a),g.computeUsedBitDepths&&(C.fileInfo.bitDepths=i(a))),C}},e=function(A,e,t,i,r){var g,n,a,o=0,B=A.pixels.numBlocksX,C=A.pixels.numBlocksY,Q=Math.floor(A.width/B),E=Math.floor(A.height/C),s=2*A.maxZError,f=Number.MAX_VALUE;t=t||(A.mask?A.mask.bitset:null),n=new e(A.width*A.height),r&&t&&(a=new Uint8Array(A.width*A.height));for(var c,h,l=new Float32Array(Q*E),u=0;u<=C;u++){var w=u!==C?E:A.height%C;if(0!==w)for(var d=0;d<=B;d++){var D=d!==B?Q:A.width%B;if(0!==D){var y,k,p,m,G=u*A.width*E+d*Q,F=A.width-D,S=A.pixels.blocks[o];if(S.encoding<2?(0===S.encoding?y=S.rawData:(I(S.stuffedData,S.bitsPerPixel,S.numValidPixels,S.offset,s,l,A.pixels.maxValue),y=l),k=0):p=2===S.encoding?0:S.offset,t)for(h=0;h<w;h++){for(7&G&&(m=t[G>>3],m<<=7&G),c=0;c<D;c++)7&G||(m=t[G>>3]),128&m?(a&&(a[G]=1),f=f>(g=S.encoding<2?y[k++]:p)?g:f,n[G++]=g):(a&&(a[G]=0),n[G++]=i),m<<=1;G+=F}else if(S.encoding<2)for(h=0;h<w;h++){for(c=0;c<D;c++)f=f>(g=y[k++])?g:f,n[G++]=g;G+=F}else for(f=f>p?p:f,h=0;h<w;h++){for(c=0;c<D;c++)n[G++]=p;G+=F}if(1===S.encoding&&k!==S.numValidPixels)throw"Block and Mask do not match";o++}}}return{resultPixels:n,resultMask:a,minValue:f}},t=function(A){return{fileIdentifierString:A.fileIdentifierString,fileVersion:A.fileVersion,imageType:A.imageType,height:A.height,width:A.width,maxZError:A.maxZError,eofOffset:A.eofOffset,mask:A.mask?{numBlocksX:A.mask.numBlocksX,numBlocksY:A.mask.numBlocksY,numBytes:A.mask.numBytes,maxValue:A.mask.maxValue}:null,pixels:{numBlocksX:A.pixels.numBlocksX,numBlocksY:A.pixels.numBlocksY,numBytes:A.pixels.numBytes,maxValue:A.pixels.maxValue,noDataValue:A.noDataValue}}},i=function(A){for(var e=A.pixels.numBlocksX*A.pixels.numBlocksY,t={},i=0;i<e;i++){var r=A.pixels.blocks[i];0===r.encoding?t.float32=!0:1===r.encoding?t[r.bitsPerPixel]=!0:t[0]=!0}return Object.keys(t)},r=function(A,e,t){var i={},r=new Uint8Array(A,e,10);if(i.fileIdentifierString=String.fromCharCode.apply(null,r),"CntZImage"!==i.fileIdentifierString.trim())throw"Unexpected file identifier string: "+i.fileIdentifierString;e+=10;var I=new DataView(A,e,24);if(i.fileVersion=I.getInt32(0,!0),i.imageType=I.getInt32(4,!0),i.height=I.getUint32(8,!0),i.width=I.getUint32(12,!0),i.maxZError=I.getFloat64(16,!0),e+=24,!t)if(I=new DataView(A,e,16),i.mask={},i.mask.numBlocksY=I.getUint32(0,!0),i.mask.numBlocksX=I.getUint32(4,!0),i.mask.numBytes=I.getUint32(8,!0),i.mask.maxValue=I.getFloat32(12,!0),e+=16,i.mask.numBytes>0){var g=new Uint8Array(Math.ceil(i.width*i.height/8)),n=(I=new DataView(A,e,i.mask.numBytes)).getInt16(0,!0),a=2,o=0;do{if(n>0)for(;n--;)g[o++]=I.getUint8(a++);else{var B=I.getUint8(a++);for(n=-n;n--;)g[o++]=B}n=I.getInt16(a,!0),a+=2}while(a<i.mask.numBytes);if(-32768!==n||o<g.length)throw"Unexpected end of mask RLE encoding";i.mask.bitset=g,e+=i.mask.numBytes}else 0==(i.mask.numBytes|i.mask.numBlocksY|i.mask.maxValue)&&(i.mask.bitset=new Uint8Array(Math.ceil(i.width*i.height/8)));I=new DataView(A,e,16),i.pixels={},i.pixels.numBlocksY=I.getUint32(0,!0),i.pixels.numBlocksX=I.getUint32(4,!0),i.pixels.numBytes=I.getUint32(8,!0),i.pixels.maxValue=I.getFloat32(12,!0),e+=16;var C=i.pixels.numBlocksX,Q=i.pixels.numBlocksY,E=C+(i.width%C>0?1:0),s=Q+(i.height%Q>0?1:0);i.pixels.blocks=new Array(E*s);for(var f=0,c=0;c<s;c++)for(var h=0;h<E;h++){var l=0,u=A.byteLength-e;I=new DataView(A,e,Math.min(10,u));var w={};i.pixels.blocks[f++]=w;var d=I.getUint8(0);if(l++,w.encoding=63&d,w.encoding>3)throw"Invalid block encoding ("+w.encoding+")";if(2!==w.encoding){if(0!==d&&2!==d){if(d>>=6,w.offsetType=d,2===d)w.offset=I.getInt8(1),l++;else if(1===d)w.offset=I.getInt16(1,!0),l+=2;else{if(0!==d)throw"Invalid block offset type";w.offset=I.getFloat32(1,!0),l+=4}if(1===w.encoding)if(d=I.getUint8(l),l++,w.bitsPerPixel=63&d,d>>=6,w.numValidPixelsType=d,2===d)w.numValidPixels=I.getUint8(l),l++;else if(1===d)w.numValidPixels=I.getUint16(l,!0),l+=2;else{if(0!==d)throw"Invalid valid pixel count type";w.numValidPixels=I.getUint32(l,!0),l+=4}}var D;if(e+=l,3!==w.encoding)if(0===w.encoding){var y=(i.pixels.numBytes-1)/4;if(y!==Math.floor(y))throw"uncompressed block has invalid length";D=new ArrayBuffer(4*y),new Uint8Array(D).set(new Uint8Array(A,e,4*y));var k=new Float32Array(D);w.rawData=k,e+=4*y}else if(1===w.encoding){var p=Math.ceil(w.numValidPixels*w.bitsPerPixel/8),m=Math.ceil(p/4);D=new ArrayBuffer(4*m),new Uint8Array(D).set(new Uint8Array(A,e,p)),w.stuffedData=new Uint32Array(D),e+=p}}else e++}return i.eofOffset=e,i},I=function(A,e,t,i,r,I,g){var n,a,o,B=(1<<e)-1,C=0,Q=0,E=Math.ceil((g-i)/r),s=4*A.length-Math.ceil(e*t/8);for(A[A.length-1]<<=8*s,n=0;n<t;n++){if(0===Q&&(o=A[C++],Q=32),Q>=e)a=o>>>Q-e&B,Q-=e;else{var f=e-Q;a=(o&B)<<f&B,a+=(o=A[C++])>>>(Q=32-f)}I[n]=a<E?i+a*r:g}return I},A),h=(g=function(A,e,t,i,r,I,g,n){var a,o,B,C,Q,E=(1<<t)-1,s=0,f=0,c=4*A.length-Math.ceil(t*i/8);if(A[A.length-1]<<=8*c,r)for(a=0;a<i;a++)0===f&&(B=A[s++],f=32),f>=t?(o=B>>>f-t&E,f-=t):(o=(B&E)<<(C=t-f)&E,o+=(B=A[s++])>>>(f=32-C)),e[a]=r[o];else for(Q=Math.ceil((n-I)/g),a=0;a<i;a++)0===f&&(B=A[s++],f=32),f>=t?(o=B>>>f-t&E,f-=t):(o=(B&E)<<(C=t-f)&E,o+=(B=A[s++])>>>(f=32-C)),e[a]=o<Q?I+o*g:n},n=function(A,e,t,i,r,I){var g,n=(1<<e)-1,a=0,o=0,B=0,C=0,Q=0,E=[],s=4*A.length-Math.ceil(e*t/8);A[A.length-1]<<=8*s;var f=Math.ceil((I-i)/r);for(o=0;o<t;o++)0===C&&(g=A[a++],C=32),C>=e?(Q=g>>>C-e&n,C-=e):(Q=(g&n)<<(B=e-C)&n,Q+=(g=A[a++])>>>(C=32-B)),E[o]=Q<f?i+Q*r:I;return E.unshift(i),E},a=function(A,e,t,i,r,I,g,n){var a,o,B,C,Q=(1<<t)-1,E=0,s=0,f=0;if(r)for(a=0;a<i;a++)0===s&&(B=A[E++],s=32,f=0),s>=t?(o=B>>>f&Q,s-=t,f+=t):(o=B>>>f&Q,s=32-(C=t-s),o|=((B=A[E++])&(1<<C)-1)<<t-C,f=C),e[a]=r[o];else{var c=Math.ceil((n-I)/g);for(a=0;a<i;a++)0===s&&(B=A[E++],s=32,f=0),s>=t?(o=B>>>f&Q,s-=t,f+=t):(o=B>>>f&Q,s=32-(C=t-s),o|=((B=A[E++])&(1<<C)-1)<<t-C,f=C),e[a]=o<c?I+o*g:n}return e},o=function(A,e,t,i,r,I){var g,n=(1<<e)-1,a=0,o=0,B=0,C=0,Q=0,E=0,s=[],f=Math.ceil((I-i)/r);for(o=0;o<t;o++)0===C&&(g=A[a++],C=32,E=0),C>=e?(Q=g>>>E&n,C-=e,E+=e):(Q=g>>>E&n,C=32-(B=e-C),Q|=((g=A[a++])&(1<<B)-1)<<e-B,E=B),s[o]=Q<f?i+Q*r:I;return s.unshift(i),s},B=function(A,e,t,i){var r,I,g,n,a=(1<<t)-1,o=0,B=0,C=4*A.length-Math.ceil(t*i/8);for(A[A.length-1]<<=8*C,r=0;r<i;r++)0===B&&(g=A[o++],B=32),B>=t?(I=g>>>B-t&a,B-=t):(I=(g&a)<<(n=t-B)&a,I+=(g=A[o++])>>>(B=32-n)),e[r]=I;return e},C=function(A,e,t,i){var r,I,g,n,a=(1<<t)-1,o=0,B=0,C=0;for(r=0;r<i;r++)0===B&&(g=A[o++],B=32,C=0),B>=t?(I=g>>>C&a,B-=t,C+=t):(I=g>>>C&a,B=32-(n=t-B),I|=((g=A[o++])&(1<<n)-1)<<t-n,C=n),e[r]=I;return e},Q={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(A){for(var e=65535,t=65535,i=A.length,r=Math.floor(i/2),I=0;r;){var g=r>=359?359:r;r-=g;do{e+=A[I++]<<8,t+=e+=A[I++]}while(--g);e=(65535&e)+(e>>>16),t=(65535&t)+(t>>>16)}return 1&i&&(t+=e+=A[I]<<8),((t=(65535&t)+(t>>>16))<<16|(e=(65535&e)+(e>>>16)))>>>0},readHeaderInfo:function(A,e){var t=e.ptr,i=new Uint8Array(A,t,6),r={};if(r.fileIdentifierString=String.fromCharCode.apply(null,i),0!==r.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+r.fileIdentifierString;t+=6;var I,g=new DataView(A,t,8),n=g.getInt32(0,!0);if(r.fileVersion=n,t+=4,n>=3&&(r.checksum=g.getUint32(4,!0),t+=4),g=new DataView(A,t,12),r.height=g.getUint32(0,!0),r.width=g.getUint32(4,!0),t+=8,n>=4?(r.numDims=g.getUint32(8,!0),t+=4):r.numDims=1,g=new DataView(A,t,40),r.numValidPixel=g.getUint32(0,!0),r.microBlockSize=g.getInt32(4,!0),r.blobSize=g.getInt32(8,!0),r.imageType=g.getInt32(12,!0),r.maxZError=g.getFloat64(16,!0),r.zMin=g.getFloat64(24,!0),r.zMax=g.getFloat64(32,!0),t+=40,e.headerInfo=r,e.ptr=t,n>=3&&(I=n>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(A,t-I,r.blobSize-14))!==r.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(A,e){var t=e.headerInfo,i=this.getDataTypeArray(t.imageType),r=t.numDims*this.getDataTypeSize(t.imageType),I=this.readSubArray(A,e.ptr,i,r),g=this.readSubArray(A,e.ptr+r,i,r);e.ptr+=2*r;var n,a=!0;for(n=0;n<t.numDims;n++)if(I[n]!==g[n]){a=!1;break}return t.minValues=I,t.maxValues=g,a},readSubArray:function(A,e,t,i){var r;if(t===Uint8Array)r=new Uint8Array(A,e,i);else{var I=new ArrayBuffer(i);new Uint8Array(I).set(new Uint8Array(A,e,i)),r=new t(I)}return r},readMask:function(A,e){var t,i,r=e.ptr,I=e.headerInfo,g=I.width*I.height,n=I.numValidPixel,a=new DataView(A,r,4),o={};if(o.numBytes=a.getUint32(0,!0),r+=4,(0===n||g===n)&&0!==o.numBytes)throw"invalid mask";if(0===n)t=new Uint8Array(Math.ceil(g/8)),o.bitset=t,i=new Uint8Array(g),e.pixels.resultMask=i,r+=o.numBytes;else if(o.numBytes>0){t=new Uint8Array(Math.ceil(g/8));var B=(a=new DataView(A,r,o.numBytes)).getInt16(0,!0),C=2,Q=0,E=0;do{if(B>0)for(;B--;)t[Q++]=a.getUint8(C++);else for(E=a.getUint8(C++),B=-B;B--;)t[Q++]=E;B=a.getInt16(C,!0),C+=2}while(C<o.numBytes);if(-32768!==B||Q<t.length)throw"Unexpected end of mask RLE encoding";i=new Uint8Array(g);var s=0,f=0;for(f=0;f<g;f++)7&f?(s=t[f>>3],s<<=7&f):s=t[f>>3],128&s&&(i[f]=1);e.pixels.resultMask=i,o.bitset=t,r+=o.numBytes}return e.ptr=r,e.mask=o,!0},readDataOneSweep:function(A,e,t,i){var r,I=e.ptr,g=e.headerInfo,n=g.numDims,a=g.width*g.height,o=g.imageType,B=g.numValidPixel*Q.getDataTypeSize(o)*n,C=e.pixels.resultMask;if(t===Uint8Array)r=new Uint8Array(A,I,B);else{var E=new ArrayBuffer(B);new Uint8Array(E).set(new Uint8Array(A,I,B)),r=new t(E)}if(r.length===a*n)e.pixels.resultPixels=i?Q.swapDimensionOrder(r,a,n,t,!0):r;else{e.pixels.resultPixels=new t(a*n);var s=0,f=0,c=0,h=0;if(n>1){if(i){for(f=0;f<a;f++)if(C[f])for(h=f,c=0;c<n;c++,h+=a)e.pixels.resultPixels[h]=r[s++]}else for(f=0;f<a;f++)if(C[f])for(h=f*n,c=0;c<n;c++)e.pixels.resultPixels[h+c]=r[s++]}else for(f=0;f<a;f++)C[f]&&(e.pixels.resultPixels[f]=r[s++])}return I+=B,e.ptr=I,!0},readHuffmanTree:function(A,e){var t=this.HUFFMAN_LUT_BITS_MAX,i=new DataView(A,e.ptr,16);if(e.ptr+=16,i.getInt32(0,!0)<2)throw"unsupported Huffman version";var r=i.getInt32(4,!0),I=i.getInt32(8,!0),g=i.getInt32(12,!0);if(I>=g)return!1;var n=new Uint32Array(g-I);Q.decodeBits(A,e,n);var a,o,B,C,s=[];for(a=I;a<g;a++)s[o=a-(a<r?0:r)]={first:n[a-I],second:null};var f=A.byteLength-e.ptr,c=Math.ceil(f/4),h=new ArrayBuffer(4*c);new Uint8Array(h).set(new Uint8Array(A,e.ptr,f));var l,u=new Uint32Array(h),w=0,d=0;for(l=u[0],a=I;a<g;a++)(C=s[o=a-(a<r?0:r)].first)>0&&(s[o].second=l<<w>>>32-C,32-w>=C?32===(w+=C)&&(w=0,l=u[++d]):(w+=C-32,l=u[++d],s[o].second|=l>>>32-w));var D=0,y=0,k=new E;for(a=0;a<s.length;a++)void 0!==s[a]&&(D=Math.max(D,s[a].first));y=D>=t?t:D;var p,m,G,F,S,v=[];for(a=I;a<g;a++)if((C=s[o=a-(a<r?0:r)].first)>0)if(p=[C,o],C<=y)for(m=s[o].second<<y-C,G=1<<y-C,B=0;B<G;B++)v[m|B]=p;else for(m=s[o].second,S=k,F=C-1;F>=0;F--)m>>>F&1?(S.right||(S.right=new E),S=S.right):(S.left||(S.left=new E),S=S.left),0!==F||S.val||(S.val=p[1]);return{decodeLut:v,numBitsLUTQick:y,numBitsLUT:D,tree:k,stuffedData:u,srcPtr:d,bitPos:w}},readHuffman:function(A,e,t,i){var r,I,g,n,a,o,B,C,E,s=e.headerInfo.numDims,f=e.headerInfo.height,c=e.headerInfo.width,h=c*f,l=this.readHuffmanTree(A,e),u=l.decodeLut,w=l.tree,d=l.stuffedData,D=l.srcPtr,y=l.bitPos,k=l.numBitsLUTQick,p=l.numBitsLUT,m=0===e.headerInfo.imageType?128:0,G=e.pixels.resultMask,F=0;y>0&&(D++,y=0);var S,v=d[D],R=1===e.encodeMode,U=new t(h*s),L=U;if(s<2||R){for(S=0;S<s;S++)if(s>1&&(L=new t(U.buffer,h*S,h),F=0),e.headerInfo.numValidPixel===c*f)for(C=0,o=0;o<f;o++)for(B=0;B<c;B++,C++){if(I=0,a=n=v<<y>>>32-k,32-y<k&&(a=n|=d[D+1]>>>64-y-k),u[a])I=u[a][1],y+=u[a][0];else for(a=n=v<<y>>>32-p,32-y<p&&(a=n|=d[D+1]>>>64-y-p),r=w,E=0;E<p;E++)if(!(r=n>>>p-E-1&1?r.right:r.left).left&&!r.right){I=r.val,y=y+E+1;break}y>=32&&(y-=32,v=d[++D]),g=I-m,R?(g+=B>0?F:o>0?L[C-c]:F,g&=255,L[C]=g,F=g):L[C]=g}else for(C=0,o=0;o<f;o++)for(B=0;B<c;B++,C++)if(G[C]){if(I=0,a=n=v<<y>>>32-k,32-y<k&&(a=n|=d[D+1]>>>64-y-k),u[a])I=u[a][1],y+=u[a][0];else for(a=n=v<<y>>>32-p,32-y<p&&(a=n|=d[D+1]>>>64-y-p),r=w,E=0;E<p;E++)if(!(r=n>>>p-E-1&1?r.right:r.left).left&&!r.right){I=r.val,y=y+E+1;break}y>=32&&(y-=32,v=d[++D]),g=I-m,R?(B>0&&G[C-1]?g+=F:o>0&&G[C-c]?g+=L[C-c]:g+=F,g&=255,L[C]=g,F=g):L[C]=g}}else for(C=0,o=0;o<f;o++)for(B=0;B<c;B++)if(C=o*c+B,!G||G[C])for(S=0;S<s;S++,C+=h){if(I=0,a=n=v<<y>>>32-k,32-y<k&&(a=n|=d[D+1]>>>64-y-k),u[a])I=u[a][1],y+=u[a][0];else for(a=n=v<<y>>>32-p,32-y<p&&(a=n|=d[D+1]>>>64-y-p),r=w,E=0;E<p;E++)if(!(r=n>>>p-E-1&1?r.right:r.left).left&&!r.right){I=r.val,y=y+E+1;break}y>=32&&(y-=32,v=d[++D]),g=I-m,L[C]=g}e.ptr=e.ptr+4*(D+1)+(y>0?4:0),e.pixels.resultPixels=U,s>1&&!i&&(e.pixels.resultPixels=Q.swapDimensionOrder(U,h,s,t))},decodeBits:function(A,e,t,i,r){var I=e.headerInfo,Q=I.fileVersion,E=0,s=A.byteLength-e.ptr>=5?5:A.byteLength-e.ptr,f=new DataView(A,e.ptr,s),c=f.getUint8(0);E++;var h=c>>6,l=0===h?4:3-h,u=(32&c)>0,w=31&c,d=0;if(1===l)d=f.getUint8(E),E++;else if(2===l)d=f.getUint16(E,!0),E+=2;else{if(4!==l)throw"Invalid valid pixel count type";d=f.getUint32(E,!0),E+=4}var D,y,k,p,m,G,F,S,v,R=2*I.maxZError,U=I.numDims>1?I.maxValues[r]:I.zMax;if(u){for(e.counter.lut++,S=f.getUint8(E),E++,p=Math.ceil((S-1)*w/8),m=Math.ceil(p/4),y=new ArrayBuffer(4*m),k=new Uint8Array(y),e.ptr+=E,k.set(new Uint8Array(A,e.ptr,p)),F=new Uint32Array(y),e.ptr+=p,v=0;S-1>>>v;)v++;p=Math.ceil(d*v/8),m=Math.ceil(p/4),y=new ArrayBuffer(4*m),(k=new Uint8Array(y)).set(new Uint8Array(A,e.ptr,p)),D=new Uint32Array(y),e.ptr+=p,G=Q>=3?o(F,w,S-1,i,R,U):n(F,w,S-1,i,R,U),Q>=3?a(D,t,v,d,G):g(D,t,v,d,G)}else e.counter.bitstuffer++,v=w,e.ptr+=E,v>0&&(p=Math.ceil(d*v/8),m=Math.ceil(p/4),y=new ArrayBuffer(4*m),(k=new Uint8Array(y)).set(new Uint8Array(A,e.ptr,p)),D=new Uint32Array(y),e.ptr+=p,Q>=3?null==i?C(D,t,v,d):a(D,t,v,d,!1,i,R,U):null==i?B(D,t,v,d):g(D,t,v,d,!1,i,R,U))},readTiles:function(A,e,t,i){var r=e.headerInfo,I=r.width,g=r.height,n=I*g,a=r.microBlockSize,o=r.imageType,B=Q.getDataTypeSize(o),C=Math.ceil(I/a),E=Math.ceil(g/a);e.pixels.numBlocksY=E,e.pixels.numBlocksX=C,e.pixels.ptr=0;var s,f,c,h,l,u,w,d,D,y,k=0,p=0,m=0,G=0,F=0,S=0,v=0,R=0,U=0,L=0,b=0,M=0,N=0,x=0,J=0,q=new t(a*a),Y=g%a||a,K=I%a||a,H=r.numDims,O=e.pixels.resultMask,P=e.pixels.resultPixels,T=r.fileVersion>=5?14:15,V=r.zMax;for(m=0;m<E;m++)for(F=m!==E-1?a:Y,G=0;G<C;G++)for(L=m*I*a+G*a,b=I-(S=G!==C-1?a:K),d=0;d<H;d++){if(H>1?(y=P,L=m*I*a+G*a,P=new t(e.pixels.resultPixels.buffer,n*d*B,n),V=r.maxValues[d]):y=null,v=A.byteLength-e.ptr,f={},J=0,R=(s=new DataView(A,e.ptr,Math.min(10,v))).getUint8(0),J++,D=r.fileVersion>=5?4&R:0,U=R>>6&255,(R>>2&T)!=(G*a>>3&T))throw"integrity issue";if(D&&0===d)throw"integrity issue";if((l=3&R)>3)throw e.ptr+=J,"Invalid block encoding ("+l+")";if(2!==l)if(0===l){if(D)throw"integrity issue";if(e.counter.uncompressed++,e.ptr+=J,M=(M=F*S*B)<(N=A.byteLength-e.ptr)?M:N,c=new ArrayBuffer(M%B==0?M:M+B-M%B),new Uint8Array(c).set(new Uint8Array(A,e.ptr,M)),h=new t(c),x=0,O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=h[x++]),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L++]=h[x++];L+=b}e.ptr+=x*B}else if(u=Q.getDataTypeUsed(D&&o<6?4:o,U),w=Q.getOnePixel(f,J,u,s),J+=Q.getDataTypeSize(u),3===l)if(e.ptr+=J,e.counter.constantoffset++,O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=D?Math.min(V,y[L]+w):w),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L]=D?Math.min(V,y[L]+w):w,L++;L+=b}else if(e.ptr+=J,Q.decodeBits(A,e,q,w,d),J=0,D)if(O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=q[J++]+y[L]),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L]=q[J++]+y[L],L++;L+=b}else if(O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=q[J++]),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L++]=q[J++];L+=b}else{if(D)if(O)for(k=0;k<F;k++)for(p=0;p<S;p++)O[L]&&(P[L]=y[L]),L++;else for(k=0;k<F;k++)for(p=0;p<S;p++)P[L]=y[L],L++;e.counter.constant++,e.ptr+=J}}H>1&&!i&&(e.pixels.resultPixels=Q.swapDimensionOrder(e.pixels.resultPixels,n,H,t))},formatFileInfo:function(A){return{fileIdentifierString:A.headerInfo.fileIdentifierString,fileVersion:A.headerInfo.fileVersion,imageType:A.headerInfo.imageType,height:A.headerInfo.height,width:A.headerInfo.width,numValidPixel:A.headerInfo.numValidPixel,microBlockSize:A.headerInfo.microBlockSize,blobSize:A.headerInfo.blobSize,maxZError:A.headerInfo.maxZError,pixelType:Q.getPixelType(A.headerInfo.imageType),eofOffset:A.eofOffset,mask:A.mask?{numBytes:A.mask.numBytes}:null,pixels:{numBlocksX:A.pixels.numBlocksX,numBlocksY:A.pixels.numBlocksY,maxValue:A.headerInfo.zMax,minValue:A.headerInfo.zMin,noDataValue:A.noDataValue}}},constructConstantSurface:function(A,e){var t=A.headerInfo.zMax,i=A.headerInfo.zMin,r=A.headerInfo.maxValues,I=A.headerInfo.numDims,g=A.headerInfo.height*A.headerInfo.width,n=0,a=0,o=0,B=A.pixels.resultMask,C=A.pixels.resultPixels;if(B)if(I>1){if(e)for(n=0;n<I;n++)for(o=n*g,t=r[n],a=0;a<g;a++)B[a]&&(C[o+a]=t);else for(a=0;a<g;a++)if(B[a])for(o=a*I,n=0;n<I;n++)C[o+I]=r[n]}else for(a=0;a<g;a++)B[a]&&(C[a]=t);else if(I>1&&i!==t)if(e)for(n=0;n<I;n++)for(o=n*g,t=r[n],a=0;a<g;a++)C[o+a]=t;else for(a=0;a<g;a++)for(o=a*I,n=0;n<I;n++)C[o+n]=r[n];else for(a=0;a<g*I;a++)C[a]=t},getDataTypeArray:function(A){var e;switch(A){case 0:e=Int8Array;break;case 1:e=Uint8Array;break;case 2:e=Int16Array;break;case 3:e=Uint16Array;break;case 4:e=Int32Array;break;case 5:e=Uint32Array;break;case 6:default:e=Float32Array;break;case 7:e=Float64Array}return e},getPixelType:function(A){var e;switch(A){case 0:e="S8";break;case 1:e="U8";break;case 2:e="S16";break;case 3:e="U16";break;case 4:e="S32";break;case 5:e="U32";break;case 6:default:e="F32";break;case 7:e="F64"}return e},isValidPixelValue:function(A,e){if(null==e)return!1;var t;switch(A){case 0:t=e>=-128&&e<=127;break;case 1:t=e>=0&&e<=255;break;case 2:t=e>=-32768&&e<=32767;break;case 3:t=e>=0&&e<=65536;break;case 4:t=e>=-2147483648&&e<=2147483647;break;case 5:t=e>=0&&e<=4294967296;break;case 6:t=e>=-34027999387901484e22&&e<=34027999387901484e22;break;case 7:t=e>=-17976931348623157e292&&e<=17976931348623157e292;break;default:t=!1}return t},getDataTypeSize:function(A){var e=0;switch(A){case 0:case 1:e=1;break;case 2:case 3:e=2;break;case 4:case 5:case 6:e=4;break;case 7:e=8;break;default:e=A}return e},getDataTypeUsed:function(A,e){var t=A;switch(A){case 2:case 4:t=A-e;break;case 3:case 5:t=A-2*e;break;case 6:t=0===e?A:1===e?2:1;break;case 7:t=0===e?A:A-2*e+1;break;default:t=A}return t},getOnePixel:function(A,e,t,i){var r=0;switch(t){case 0:r=i.getInt8(e);break;case 1:r=i.getUint8(e);break;case 2:r=i.getInt16(e,!0);break;case 3:r=i.getUint16(e,!0);break;case 4:r=i.getInt32(e,!0);break;case 5:r=i.getUInt32(e,!0);break;case 6:r=i.getFloat32(e,!0);break;case 7:r=i.getFloat64(e,!0);break;default:throw"the decoder does not understand this pixel type"}return r},swapDimensionOrder:function(A,e,t,i,r){var I=0,g=0,n=0,a=0,o=A;if(t>1)if(o=new i(e*t),r)for(I=0;I<e;I++)for(a=I,n=0;n<t;n++,a+=e)o[a]=A[g++];else for(I=0;I<e;I++)for(a=I,n=0;n<t;n++,a+=e)o[g++]=A[a];return o}},E=function(A,e,t){this.val=A,this.left=e,this.right=t},{decode:function(A,e){var t=(e=e||{}).noDataValue,i=0,r={};r.ptr=e.inputOffset||0,r.pixels={},Q.readHeaderInfo(A,r);var I=r.headerInfo,g=I.fileVersion,n=Q.getDataTypeArray(I.imageType);if(g>5)throw"unsupported lerc version 2."+g;Q.readMask(A,r),I.numValidPixel===I.width*I.height||r.pixels.resultMask||(r.pixels.resultMask=e.maskData);var a=I.width*I.height;r.pixels.resultPixels=new n(a*I.numDims),r.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var o,B=!e.returnPixelInterleavedDims;if(0!==I.numValidPixel)if(I.zMax===I.zMin)Q.constructConstantSurface(r,B);else if(g>=4&&Q.checkMinMaxRanges(A,r))Q.constructConstantSurface(r,B);else{var C=new DataView(A,r.ptr,2),E=C.getUint8(0);if(r.ptr++,E)Q.readDataOneSweep(A,r,n,B);else if(g>1&&I.imageType<=1&&Math.abs(I.maxZError-.5)<1e-5){var s=C.getUint8(1);if(r.ptr++,r.encodeMode=s,s>2||g<4&&s>1)throw"Invalid Huffman flag "+s;s?Q.readHuffman(A,r,n,B):Q.readTiles(A,r,n,B)}else Q.readTiles(A,r,n,B)}r.eofOffset=r.ptr,e.inputOffset?(o=r.headerInfo.blobSize+e.inputOffset-r.ptr,Math.abs(o)>=1&&(r.eofOffset=e.inputOffset+r.headerInfo.blobSize)):(o=r.headerInfo.blobSize-r.ptr,Math.abs(o)>=1&&(r.eofOffset=r.headerInfo.blobSize));var f={width:I.width,height:I.height,pixelData:r.pixels.resultPixels,minValue:I.zMin,maxValue:I.zMax,validPixelCount:I.numValidPixel,dimCount:I.numDims,dimStats:{minValues:I.minValues,maxValues:I.maxValues},maskData:r.pixels.resultMask};if(r.pixels.resultMask&&Q.isValidPixelValue(I.imageType,t)){var c=r.pixels.resultMask;for(i=0;i<a;i++)c[i]||(f.pixelData[i]=t);f.noDataValue=t}return r.noDataValue=t,e.returnFileInfo&&(f.fileInfo=Q.formatFileInfo(r)),f},getBandCount:function(A){for(var e=0,t=0,i={ptr:0,pixels:{}};t<A.byteLength-58;)Q.readHeaderInfo(A,i),t+=i.headerInfo.blobSize,e++,i.ptr=t;return e}}),l=(s=new ArrayBuffer(4),f=new Uint8Array(s),new Uint32Array(s)[0]=1,1===f[0]),u={decode:function(A,e){if(!l)throw"Big endian system is not supported.";var t,i,r=(e=e||{}).inputOffset||0,I=new Uint8Array(A,r,10),g=String.fromCharCode.apply(null,I);if("CntZImage"===g.trim())t=c,i=1;else{if("Lerc2"!==g.substring(0,5))throw"Unexpected file identifier string: "+g;t=h,i=2}for(var n,a,o,B,C,Q,E=0,s=A.byteLength-10,f=[],u={width:0,height:0,pixels:[],pixelType:e.pixelType,mask:null,statistics:[]},w=0;r<s;){var d=t.decode(A,{inputOffset:r,encodedMaskData:n,maskData:o,returnMask:0===E,returnEncodedMask:0===E,returnFileInfo:!0,returnPixelInterleavedDims:e.returnPixelInterleavedDims,pixelType:e.pixelType||null,noDataValue:e.noDataValue||null});r=d.fileInfo.eofOffset,o=d.maskData,0===E&&(n=d.encodedMaskData,u.width=d.width,u.height=d.height,u.dimCount=d.dimCount||1,u.pixelType=d.pixelType||d.fileInfo.pixelType,u.mask=o),i>1&&(o&&f.push(o),d.fileInfo.mask&&d.fileInfo.mask.numBytes>0&&w++),E++,u.pixels.push(d.pixelData),u.statistics.push({minValue:d.minValue,maxValue:d.maxValue,noDataValue:d.noDataValue,dimStats:d.dimStats})}if(i>1&&w>1){for(Q=u.width*u.height,u.bandMasks=f,(o=new Uint8Array(Q)).set(f[0]),B=1;B<f.length;B++)for(a=f[B],C=0;C<Q;C++)o[C]=o[C]&a[C];u.maskData=o}return u}};TA.exports?TA.exports=u:this.Lerc=u}();var ZA,jA,WA,zA=XA.exports,$A={env:{emscripten_notify_memory_growth:function(A){WA=new Uint8Array(jA.exports.memory.buffer)}}},Ae=function(){function A(){B(this,A)}return Q(A,[{key:"init",value:function(){return ZA||(ZA="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+ee).then((function(A){return A.arrayBuffer()})).then((function(A){return WebAssembly.instantiate(A,$A)})).then(this._init):WebAssembly.instantiate(Buffer.from(ee,"base64"),$A).then(this._init))}},{key:"_init",value:function(A){jA=A.instance,$A.env.emscripten_notify_memory_growth(0)}},{key:"decode",value:function(A){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!jA)throw new Error("ZSTDDecoder: Await .init() before decoding.");var t=A.byteLength,i=jA.exports.malloc(t);WA.set(A,i),e=e||Number(jA.exports.ZSTD_findDecompressedSize(i,t));var r=jA.exports.malloc(e),I=jA.exports.ZSTD_decompress(r,e,i,t),g=WA.slice(r,r+I);return jA.exports.free(i),jA.exports.free(r),g}}]),A}(),ee="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",te={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},ie={};for(var re in te)te.hasOwnProperty(re)&&(ie[te[re]]=parseInt(re,10));ie.BitsPerSample,ie.ExtraSamples,ie.SampleFormat,ie.StripByteCounts,ie.StripOffsets,ie.StripRowCounts,ie.TileByteCounts,ie.TileOffsets,ie.SubIFDs;var Ie={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},ge={};for(var ne in Ie)Ie.hasOwnProperty(ne)&&(ge[Ie[ne]]=parseInt(ne,10));var ae=1,oe=0,Be=1,Ce=2,Qe={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},Ee={};for(var se in Qe)Qe.hasOwnProperty(se)&&(Ee[Qe[se]]=parseInt(se,10));function fe(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var ce=new Ae,he=function(A){s(t,w);var e=fe(t);function t(A){var i;return B(this,t),(i=e.call(this)).planarConfiguration=void 0!==A.PlanarConfiguration?A.PlanarConfiguration:1,i.samplesPerPixel=void 0!==A.SamplesPerPixel?A.SamplesPerPixel:1,i.addCompression=A.LercParameters[ae],i}return Q(t,[{key:"decodeBlock",value:function(A){switch(this.addCompression){case oe:break;case Be:A=YA(new Uint8Array(A)).buffer;break;case Ce:A=ce.decode(new Uint8Array(A)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return zA.decode(A,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}]),t}(),le=Object.freeze({__proto__:null,zstd:ce,default:he});function ue(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var we=function(A){s(I,w);var t,i=ue(I);function I(){var A;if(B(this,I),A=i.call(this),"undefined"==typeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"==typeof document&&"undefined"==typeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return A}return Q(I,[{key:"decode",value:(t=e(r.mark((function A(e,t){var i,I,g,n;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return i=new Blob([t]),A.next=3,createImageBitmap(i);case 3:return I=A.sent,"undefined"!=typeof document?((g=document.createElement("canvas")).width=I.width,g.height=I.height):g=new OffscreenCanvas(I.width,I.height),(n=g.getContext("2d")).drawImage(I,0,0),A.abrupt("return",n.getImageData(0,0,I.width,I.height).data.buffer);case 8:case"end":return A.stop()}}),A)}))),function(A,e){return t.apply(this,arguments)})}]),I}(),de=Object.freeze({__proto__:null,default:we});';return new UJ(typeof Buffer<"u"?"data:application/javascript;base64,"+Buffer.from(i,"binary").toString("base64"):URL.createObjectURL(new Blob([i],{type:"application/javascript"})))}const OJ=Object.freeze(Object.defineProperty({__proto__:null,create:NJ},Symbol.toStringTag,{value:"Module"}));Bi.CMEStyle=GN,Bi.blendLayers=qN,Bi.contourLayer=XW,Bi.windLayer=VW,Object.defineProperty(Bi,Symbol.toStringTag,{value:"Module"})});
>>>>>>> 226719b410f5c157d93759f3ca98a18df4d946e3
