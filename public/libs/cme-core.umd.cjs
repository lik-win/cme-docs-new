<<<<<<< Updated upstream
(function(Bi,zt){typeof exports=="object"&&typeof module<"u"?zt(exports):typeof define=="function"&&define.amd?define(["exports"],zt):(Bi=typeof globalThis<"u"?globalThis:Bi||self,zt(Bi.CMECore={}))})(this,function(Bi){"use strict";var bJ=Object.defineProperty;var vJ=(Bi,zt,zr)=>zt in Bi?bJ(Bi,zt,{enumerable:!0,configurable:!0,writable:!0,value:zr}):Bi[zt]=zr;var hn=(Bi,zt,zr)=>vJ(Bi,typeof zt!="symbol"?zt+"":zt,zr);var CT;function zt(i){return(e,...t)=>MT(i,e,t)}function zr(i,e){return zt(J3(i,e).get)}const{apply:MT,construct:wJ,defineProperty:BJ,get:SJ,getOwnPropertyDescriptor:J3,getPrototypeOf:fI,has:MJ,ownKeys:RT,set:RJ,setPrototypeOf:TJ}=Reflect,{iterator:Xx,species:DJ,toStringTag:TT,for:QJ}=Symbol,DT=Object,{create:AI,defineProperty:QT,freeze:FJ,is:LJ}=DT,Z3=Array.prototype[Xx],FT=zt(Z3),$3=ArrayBuffer,LT=$3.prototype;zr(LT,"byteLength");const ew=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;ew&&zr(ew.prototype,"byteLength");const tw=fI(Uint8Array);tw.from;const Si=tw.prototype;Si[Xx],zt(Si.keys),zt(Si.values),zt(Si.entries),zt(Si.set),zt(Si.reverse),zt(Si.fill),zt(Si.copyWithin),zt(Si.sort),zt(Si.slice),zt(Si.subarray),zr(Si,"buffer"),zr(Si,"byteOffset"),zr(Si,"length"),zr(Si,TT);const PT=Uint8Array,nw=Uint16Array,dI=Uint32Array,kT=Float32Array,Wx=fI([][Xx]()),iw=zt(Wx.next),UT=zt(function*(){}().next),NT=fI(Wx),OT=DataView.prototype,GT=zt(OT.getUint16),pI=WeakMap,rw=pI.prototype,sw=zt(rw.get),zT=zt(rw.set),aw=new pI,VT=AI(null,{next:{value:function(){const e=sw(aw,this);return iw(e)}},[Xx]:{value:function(){return this}}});function HT(i){if(i[Xx]===Z3&&Wx.next===iw)return i;const e=AI(VT);return zT(aw,e,FT(i)),e}const qT=new pI,YT=AI(NT,{next:{value:function(){const e=sw(qT,this);return UT(e)},writable:!0,configurable:!0}});for(const i of RT(Wx))i!=="next"&&QT(YT,i,J3(Wx,i));const ow=new $3(4),XT=new kT(ow),WT=new dI(ow),fs=new nw(512),As=new PT(512);for(let i=0;i<256;++i){const e=i-127;e<-24?(fs[i]=0,fs[i|256]=32768,As[i]=24,As[i|256]=24):e<-14?(fs[i]=1024>>-e-14,fs[i|256]=1024>>-e-14|32768,As[i]=-e-1,As[i|256]=-e-1):e<=15?(fs[i]=e+15<<10,fs[i|256]=e+15<<10|32768,As[i]=13,As[i|256]=13):e<128?(fs[i]=31744,fs[i|256]=64512,As[i]=24,As[i|256]=24):(fs[i]=31744,fs[i|256]=64512,As[i]=13,As[i|256]=13)}const gI=new dI(2048);for(let i=1;i<1024;++i){let e=i<<13,t=0;for(;!(e&8388608);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,gI[i]=e|t}for(let i=1024;i<2048;++i)gI[i]=939524096+(i-1024<<13);const lc=new dI(64);for(let i=1;i<31;++i)lc[i]=i<<23;lc[31]=1199570944,lc[32]=2147483648;for(let i=33;i<63;++i)lc[i]=2147483648+(i-32<<23);lc[63]=3347054592;const cw=new nw(64);for(let i=1;i<64;++i)i!==32&&(cw[i]=1024);function jT(i){const e=i>>10;return WT[0]=gI[cw[e]+(i&1023)]+lc[e],XT[0]}function lw(i,e,...t){return jT(GT(i,e,...HT(t)))}function jx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var mI={exports:{}};function xw(i,e,t){const n=t&&t.debug||!1;n&&console.log("[xml-utils] getting "+e+" in "+i);const r=typeof i=="object"?i.outer:i,s=r.slice(0,r.indexOf(">")+1),a=['"',"'"];for(let o=0;o<a.length;o++){const l=a[o],c=e+"\\="+l+"([^"+l+"]*)"+l;n&&console.log("[xml-utils] pattern:",c);const u=new RegExp(c).exec(s);if(n&&console.log("[xml-utils] match:",u),u)return u[1]}}mI.exports=xw,mI.exports.default=xw;var KT=mI.exports;const _I=jx(KT);var II={exports:{}},EI={exports:{}},yI={exports:{}};function uw(i,e,t){const r=new RegExp(e).exec(i.slice(t));return r?t+r.index:-1}yI.exports=uw,yI.exports.default=uw;var JT=yI.exports,CI={exports:{}};function hw(i,e,t){const r=new RegExp(e).exec(i.slice(t));return r?t+r.index+r[0].length-1:-1}CI.exports=hw,CI.exports.default=hw;var ZT=CI.exports,bI={exports:{}};function fw(i,e){const t=new RegExp(e,"g"),n=i.match(t);return n?n.length:0}bI.exports=fw,bI.exports.default=fw;var $T=bI.exports;const eD=JT,vI=ZT,Aw=$T;function dw(i,e,t){const n=t&&t.debug||!1,r=!(t&&typeof t.nested===!1),s=t&&t.startIndex||0;n&&console.log("[xml-utils] starting findTagByName with",e," and ",t);const a=eD(i,`<${e}[ 
>/]`,s);if(n&&console.log("[xml-utils] start:",a),a===-1)return;const o=i.slice(a+e.length);let l=vI(o,"^[^<]*[ /]>",0);const c=l!==-1&&o[l-1]==="/";if(n&&console.log("[xml-utils] selfClosing:",c),c===!1)if(r){let f=0,A=1,g=0;for(;(l=vI(o,"[ /]"+e+">",f))!==-1;){const d=o.substring(f,l+1);if(A+=Aw(d,"<"+e+`[ 
	>]`),g+=Aw(d,"</"+e+">"),g>=A)break;f=l}}else l=vI(o,"[ /]"+e+">",0);const x=a+e.length+l+1;if(n&&console.log("[xml-utils] end:",x),x===-1)return;const u=i.slice(a,x);let h;return c?h=null:h=u.slice(u.indexOf(">")+1,u.lastIndexOf("<")),{inner:h,outer:u,start:a,end:x}}EI.exports=dw,EI.exports.default=dw;var tD=EI.exports;const nD=tD;function pw(i,e,t){const n=[],r=t&&t.debug||!1,s=t&&typeof t.nested=="boolean"?t.nested:!0;let a=t&&t.startIndex||0,o;for(;o=nD(i,e,{debug:r,startIndex:a});)s?a=o.start+1+e.length:a=o.end,n.push(o);return r&&console.log("findTagsByName found",n.length,"tags"),n}II.exports=pw,II.exports.default=pw;var iD=II.exports;const rD=jx(iD),Kx={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},ds={};for(const i in Kx)Kx.hasOwnProperty(i)&&(ds[Kx[i]]=parseInt(i,10));const sD=[ds.BitsPerSample,ds.ExtraSamples,ds.SampleFormat,ds.StripByteCounts,ds.StripOffsets,ds.StripRowCounts,ds.TileByteCounts,ds.TileOffsets,ds.SubIFDs],wI={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},st={};for(const i in wI)wI.hasOwnProperty(i)&&(st[wI[i]]=parseInt(i,10));const sr={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},aD={Unspecified:0,Assocalpha:1,Unassalpha:2},oD={Version:0,AddCompression:1},BI={None:0,Deflate:1,Zstandard:2},cD={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"};function lD(i,e){const{width:t,height:n}=i,r=new Uint8Array(t*n*3);let s;for(let a=0,o=0;a<i.length;++a,o+=3)s=256-i[a]/e*256,r[o]=s,r[o+1]=s,r[o+2]=s;return r}function xD(i,e){const{width:t,height:n}=i,r=new Uint8Array(t*n*3);let s;for(let a=0,o=0;a<i.length;++a,o+=3)s=i[a]/e*256,r[o]=s,r[o+1]=s,r[o+2]=s;return r}function uD(i,e){const{width:t,height:n}=i,r=new Uint8Array(t*n*3),s=e.length/3,a=e.length/3*2;for(let o=0,l=0;o<i.length;++o,l+=3){const c=i[o];r[l]=e[c]/65536*256,r[l+1]=e[c+s]/65536*256,r[l+2]=e[c+a]/65536*256}return r}function hD(i){const{width:e,height:t}=i,n=new Uint8Array(e*t*3);for(let r=0,s=0;r<i.length;r+=4,s+=3){const a=i[r],o=i[r+1],l=i[r+2],c=i[r+3];n[s]=255*((255-a)/256)*((255-c)/256),n[s+1]=255*((255-o)/256)*((255-c)/256),n[s+2]=255*((255-l)/256)*((255-c)/256)}return n}function fD(i){const{width:e,height:t}=i,n=new Uint8ClampedArray(e*t*3);for(let r=0,s=0;r<i.length;r+=3,s+=3){const a=i[r],o=i[r+1],l=i[r+2];n[s]=a+1.402*(l-128),n[s+1]=a-.34414*(o-128)-.71414*(l-128),n[s+2]=a+1.772*(o-128)}return n}const AD=.95047,dD=1,pD=1.08883;function gD(i){const{width:e,height:t}=i,n=new Uint8Array(e*t*3);for(let r=0,s=0;r<i.length;r+=3,s+=3){const a=i[r+0],o=i[r+1]<<24>>24,l=i[r+2]<<24>>24;let c=(a+16)/116,x=o/500+c,u=c-l/200,h,f,A;x=AD*(x*x*x>.008856?x*x*x:(x-16/116)/7.787),c=dD*(c*c*c>.008856?c*c*c:(c-16/116)/7.787),u=pD*(u*u*u>.008856?u*u*u:(u-16/116)/7.787),h=x*3.2406+c*-1.5372+u*-.4986,f=x*-.9689+c*1.8758+u*.0415,A=x*.0557+c*-.204+u*1.057,h=h>.0031308?1.055*h**(1/2.4)-.055:12.92*h,f=f>.0031308?1.055*f**(1/2.4)-.055:12.92*f,A=A>.0031308?1.055*A**(1/2.4)-.055:12.92*A,n[s]=Math.max(0,Math.min(1,h))*255,n[s+1]=Math.max(0,Math.min(1,f))*255,n[s+2]=Math.max(0,Math.min(1,A))*255}return n}const gw=new Map;function Va(i,e){Array.isArray(i)||(i=[i]),i.forEach(t=>gw.set(t,e))}async function mw(i){const e=gw.get(i.Compression);if(!e)throw new Error(`Unknown compression method identifier: ${i.Compression}`);const t=await e();return new t(i)}Va([void 0,1],()=>Promise.resolve().then(()=>SW).then(i=>i.default)),Va(5,()=>Promise.resolve().then(()=>QW).then(i=>i.default)),Va(6,()=>{throw new Error("old style JPEG compression is not supported.")}),Va(7,()=>Promise.resolve().then(()=>UW).then(i=>i.default)),Va([8,32946],()=>Promise.resolve().then(()=>aJ).then(i=>i.default)),Va(32773,()=>Promise.resolve().then(()=>cJ).then(i=>i.default)),Va(34887,()=>Promise.resolve().then(()=>fJ).then(async i=>(await i.zstd.init(),i)).then(i=>i.default)),Va(50001,()=>Promise.resolve().then(()=>dJ).then(i=>i.default));function mA(i,e,t,n=1){return new(Object.getPrototypeOf(i)).constructor(e*t*n)}function mD(i,e,t,n,r){const s=e/n,a=t/r;return i.map(o=>{const l=mA(o,n,r);for(let c=0;c<r;++c){const x=Math.min(Math.round(a*c),t-1);for(let u=0;u<n;++u){const h=Math.min(Math.round(s*u),e-1),f=o[x*e+h];l[c*n+u]=f}}return l})}function xc(i,e,t){return(1-t)*i+t*e}function _D(i,e,t,n,r){const s=e/n,a=t/r;return i.map(o=>{const l=mA(o,n,r);for(let c=0;c<r;++c){const x=a*c,u=Math.floor(x),h=Math.min(Math.ceil(x),t-1);for(let f=0;f<n;++f){const A=s*f,g=A%1,d=Math.floor(A),p=Math.min(Math.ceil(A),e-1),_=o[u*e+d],I=o[u*e+p],m=o[h*e+d],y=o[h*e+p],E=xc(xc(_,I,g),xc(m,y,g),x%1);l[c*n+f]=E}}return l})}function ID(i,e,t,n,r,s="nearest"){switch(s.toLowerCase()){case"nearest":return mD(i,e,t,n,r);case"bilinear":case"linear":return _D(i,e,t,n,r);default:throw new Error(`Unsupported resampling method: '${s}'`)}}function ED(i,e,t,n,r,s){const a=e/n,o=t/r,l=mA(i,n,r,s);for(let c=0;c<r;++c){const x=Math.min(Math.round(o*c),t-1);for(let u=0;u<n;++u){const h=Math.min(Math.round(a*u),e-1);for(let f=0;f<s;++f){const A=i[x*e*s+h*s+f];l[c*n*s+u*s+f]=A}}}return l}function yD(i,e,t,n,r,s){const a=e/n,o=t/r,l=mA(i,n,r,s);for(let c=0;c<r;++c){const x=o*c,u=Math.floor(x),h=Math.min(Math.ceil(x),t-1);for(let f=0;f<n;++f){const A=a*f,g=A%1,d=Math.floor(A),p=Math.min(Math.ceil(A),e-1);for(let _=0;_<s;++_){const I=i[u*e*s+d*s+_],m=i[u*e*s+p*s+_],y=i[h*e*s+d*s+_],E=i[h*e*s+p*s+_],C=xc(xc(I,m,g),xc(y,E,g),x%1);l[c*n*s+f*s+_]=C}}}return l}function CD(i,e,t,n,r,s,a="nearest"){switch(a.toLowerCase()){case"nearest":return ED(i,e,t,n,r,s);case"bilinear":case"linear":return yD(i,e,t,n,r,s);default:throw new Error(`Unsupported resampling method: '${a}'`)}}function bD(i,e,t){let n=0;for(let r=e;r<t;++r)n+=i[r];return n}function SI(i,e,t){switch(i){case 1:if(e<=8)return new Uint8Array(t);if(e<=16)return new Uint16Array(t);if(e<=32)return new Uint32Array(t);break;case 2:if(e===8)return new Int8Array(t);if(e===16)return new Int16Array(t);if(e===32)return new Int32Array(t);break;case 3:switch(e){case 16:case 32:return new Float32Array(t);case 64:return new Float64Array(t)}break}throw Error("Unsupported data format/bitsPerSample")}function vD(i,e){return(i===1||i===2)&&e<=32&&e%8===0?!1:!(i===3&&(e===16||e===32||e===64))}function wD(i,e,t,n,r,s,a){const o=new DataView(i),l=t===2?a*s:a*s*n,c=t===2?1:n,x=SI(e,r,l),u=parseInt("1".repeat(r),2);if(e===1){let h;t===1?h=n*r:h=r;let f=s*h;f&7&&(f=f+7&-8);for(let A=0;A<a;++A){const g=A*f;for(let d=0;d<s;++d){const p=g+d*c*r;for(let _=0;_<c;++_){const I=p+_*r,m=(A*s+d)*c+_,y=Math.floor(I/8),E=I%8;if(E+r<=8)x[m]=o.getUint8(y)>>8-r-E&u;else if(E+r<=16)x[m]=o.getUint16(y)>>16-r-E&u;else if(E+r<=24){const C=o.getUint16(y)<<8|o.getUint8(y+2);x[m]=C>>24-r-E&u}else x[m]=o.getUint32(y)>>32-r-E&u}}}}return x.buffer}class BD{constructor(e,t,n,r,s,a){this.fileDirectory=e,this.geoKeys=t,this.dataView=n,this.littleEndian=r,this.tiles=s?{}:null,this.isTiled=!e.StripOffsets;const o=e.PlanarConfiguration;if(this.planarConfiguration=typeof o>"u"?1:o,this.planarConfiguration!==1&&this.planarConfiguration!==2)throw new Error("Invalid planar configuration.");this.source=a}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return typeof this.fileDirectory.SamplesPerPixel<"u"?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:typeof this.fileDirectory.RowsPerStrip<"u"?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}getBytesPerPixel(){let e=0;for(let t=0;t<this.fileDirectory.BitsPerSample.length;++t)e+=this.getSampleByteSize(t);return e}getSampleByteSize(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${e} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}getReaderForSample(e){const t=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,n=this.fileDirectory.BitsPerSample[e];switch(t){case 1:if(n<=8)return DataView.prototype.getUint8;if(n<=16)return DataView.prototype.getUint16;if(n<=32)return DataView.prototype.getUint32;break;case 2:if(n<=8)return DataView.prototype.getInt8;if(n<=16)return DataView.prototype.getInt16;if(n<=32)return DataView.prototype.getInt32;break;case 3:switch(n){case 16:return function(r,s){return lw(this,r,s)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}break}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(e=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}getBitsPerSample(e=0){return this.fileDirectory.BitsPerSample[e]}getArrayForSample(e,t){const n=this.getSampleFormat(e),r=this.getBitsPerSample(e);return SI(n,r,t)}async getTileOrStrip(e,t,n,r,s){const a=Math.ceil(this.getWidth()/this.getTileWidth()),o=Math.ceil(this.getHeight()/this.getTileHeight());let l;const{tiles:c}=this;this.planarConfiguration===1?l=t*a+e:this.planarConfiguration===2&&(l=n*a*o+t*a+e);let x,u;this.isTiled?(x=this.fileDirectory.TileOffsets[l],u=this.fileDirectory.TileByteCounts[l]):(x=this.fileDirectory.StripOffsets[l],u=this.fileDirectory.StripByteCounts[l]);const h=(await this.source.fetch([{offset:x,length:u}],s))[0];let f;return c===null||!c[l]?(f=(async()=>{let A=await r.decode(this.fileDirectory,h);const g=this.getSampleFormat(),d=this.getBitsPerSample();return vD(g,d)&&(A=wD(A,g,this.planarConfiguration,this.getSamplesPerPixel(),d,this.getTileWidth(),this.getBlockHeight(t))),A})(),c!==null&&(c[l]=f)):f=c[l],{x:e,y:t,sample:n,data:await f}}async _readRaster(e,t,n,r,s,a,o,l,c){const x=this.getTileWidth(),u=this.getTileHeight(),h=this.getWidth(),f=this.getHeight(),A=Math.max(Math.floor(e[0]/x),0),g=Math.min(Math.ceil(e[2]/x),Math.ceil(h/x)),d=Math.max(Math.floor(e[1]/u),0),p=Math.min(Math.ceil(e[3]/u),Math.ceil(f/u)),_=e[2]-e[0];let I=this.getBytesPerPixel();const m=[],y=[];for(let v=0;v<t.length;++v)this.planarConfiguration===1?m.push(bD(this.fileDirectory.BitsPerSample,0,t[v])/8):m.push(0),y.push(this.getReaderForSample(t[v]));const E=[],{littleEndian:C}=this;for(let v=d;v<p;++v)for(let b=A;b<g;++b){let w;this.planarConfiguration===1&&(w=this.getTileOrStrip(b,v,0,s,c));for(let B=0;B<t.length;++B){const R=B,Q=t[B];this.planarConfiguration===2&&(I=this.getSampleByteSize(Q),w=this.getTileOrStrip(b,v,Q,s,c));const F=w.then(M=>{const T=M.data,P=new DataView(T),k=this.getBlockHeight(M.y),V=M.y*u,Y=M.x*x,U=V+k,te=(M.x+1)*x,xe=y[R],G=Math.min(k,k-(U-e[3]),f-V),O=Math.min(x,x-(te-e[2]),h-Y);for(let ee=Math.max(0,e[1]-V);ee<G;++ee)for(let K=Math.max(0,e[0]-Y);K<O;++K){const ce=(ee*x+K)*I,Ae=xe.call(P,ce+m[R],C);let ge;r?(ge=(ee+V-e[1])*_*t.length+(K+Y-e[0])*t.length+R,n[ge]=Ae):(ge=(ee+V-e[1])*_+K+Y-e[0],n[R][ge]=Ae)}});E.push(F)}}if(await Promise.all(E),a&&e[2]-e[0]!==a||o&&e[3]-e[1]!==o){let v;return r?v=CD(n,e[2]-e[0],e[3]-e[1],a,o,t.length,l):v=ID(n,e[2]-e[0],e[3]-e[1],a,o,l),v.width=a,v.height=o,v}return n.width=a||e[2]-e[0],n.height=o||e[3]-e[1],n}async readRasters({window:e,samples:t=[],interleave:n,pool:r=null,width:s,height:a,resampleMethod:o,fillValue:l,signal:c}={}){const x=e||[0,0,this.getWidth(),this.getHeight()];if(x[0]>x[2]||x[1]>x[3])throw new Error("Invalid subsets");const u=x[2]-x[0],h=x[3]-x[1],f=u*h,A=this.getSamplesPerPixel();if(!t||!t.length)for(let _=0;_<A;++_)t.push(_);else for(let _=0;_<t.length;++_)if(t[_]>=A)return Promise.reject(new RangeError(`Invalid sample index '${t[_]}'.`));let g;if(n){const _=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,I=Math.max.apply(null,this.fileDirectory.BitsPerSample);g=SI(_,I,f*t.length),l&&g.fill(l)}else{g=[];for(let _=0;_<t.length;++_){const I=this.getArrayForSample(t[_],f);Array.isArray(l)&&_<l.length?I.fill(l[_]):l&&!Array.isArray(l)&&I.fill(l),g.push(I)}}const d=r||await mw(this.fileDirectory);return await this._readRaster(x,t,g,n,d,s,a,o,c)}async readRGB({window:e,interleave:t=!0,pool:n=null,width:r,height:s,resampleMethod:a,enableAlpha:o=!1,signal:l}={}){const c=e||[0,0,this.getWidth(),this.getHeight()];if(c[0]>c[2]||c[1]>c[3])throw new Error("Invalid subsets");const x=this.fileDirectory.PhotometricInterpretation;if(x===sr.RGB){let p=[0,1,2];if(this.fileDirectory.ExtraSamples!==aD.Unspecified&&o){p=[];for(let _=0;_<this.fileDirectory.BitsPerSample.length;_+=1)p.push(_)}return this.readRasters({window:e,interleave:t,samples:p,pool:n,width:r,height:s,resampleMethod:a,signal:l})}let u;switch(x){case sr.WhiteIsZero:case sr.BlackIsZero:case sr.Palette:u=[0];break;case sr.CMYK:u=[0,1,2,3];break;case sr.YCbCr:case sr.CIELab:u=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const h={window:c,interleave:!0,samples:u,pool:n,width:r,height:s,resampleMethod:a,signal:l},{fileDirectory:f}=this,A=await this.readRasters(h),g=2**this.fileDirectory.BitsPerSample[0];let d;switch(x){case sr.WhiteIsZero:d=lD(A,g);break;case sr.BlackIsZero:d=xD(A,g);break;case sr.Palette:d=uD(A,f.ColorMap);break;case sr.CMYK:d=hD(A);break;case sr.YCbCr:d=fD(A);break;case sr.CIELab:d=gD(A);break;default:throw new Error("Unsupported photometric interpretation.")}if(!t){const p=new Uint8Array(d.length/3),_=new Uint8Array(d.length/3),I=new Uint8Array(d.length/3);for(let m=0,y=0;m<d.length;m+=3,++y)p[y]=d[m],_[y]=d[m+1],I[y]=d[m+2];d=[p,_,I]}return d.width=A.width,d.height=A.height,d}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const e=[];for(let t=0;t<this.fileDirectory.ModelTiepoint.length;t+=6)e.push({i:this.fileDirectory.ModelTiepoint[t],j:this.fileDirectory.ModelTiepoint[t+1],k:this.fileDirectory.ModelTiepoint[t+2],x:this.fileDirectory.ModelTiepoint[t+3],y:this.fileDirectory.ModelTiepoint[t+4],z:this.fileDirectory.ModelTiepoint[t+5]});return e}getGDALMetadata(e=null){const t={};if(!this.fileDirectory.GDAL_METADATA)return null;const n=this.fileDirectory.GDAL_METADATA;let r=rD(n,"Item");e===null?r=r.filter(s=>_I(s,"sample")===void 0):r=r.filter(s=>Number(_I(s,"sample"))===e);for(let s=0;s<r.length;++s){const a=r[s];t[_I(a,"name")]=a.inner}return t}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}getOrigin(){const e=this.fileDirectory.ModelTiepoint,t=this.fileDirectory.ModelTransformation;if(e&&e.length===6)return[e[3],e[4],e[5]];if(t)return[t[3],t[7],t[11]];throw new Error("The image does not have an affine transformation.")}getResolution(e=null){const t=this.fileDirectory.ModelPixelScale,n=this.fileDirectory.ModelTransformation;if(t)return[t[0],-t[1],t[2]];if(n)return n[1]===0&&n[4]===0?[n[0],-n[5],n[10]]:[Math.sqrt(n[0]*n[0]+n[4]*n[4]),-Math.sqrt(n[1]*n[1]+n[5]*n[5]),n[10]];if(e){const[r,s,a]=e.getResolution();return[r*e.getWidth()/this.getWidth(),s*e.getHeight()/this.getHeight(),a*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return this.geoKeys.GTRasterTypeGeoKey===1}getBoundingBox(e=!1){const t=this.getHeight(),n=this.getWidth();if(this.fileDirectory.ModelTransformation&&!e){const[r,s,a,o,l,c,x,u]=this.fileDirectory.ModelTransformation,f=[[0,0],[0,t],[n,0],[n,t]].map(([d,p])=>[o+r*d+s*p,u+l*d+c*p]),A=f.map(d=>d[0]),g=f.map(d=>d[1]);return[Math.min(...A),Math.min(...g),Math.max(...A),Math.max(...g)]}else{const r=this.getOrigin(),s=this.getResolution(),a=r[0],o=r[1],l=a+s[0]*n,c=o+s[1]*t;return[Math.min(a,l),Math.min(o,c),Math.max(a,l),Math.max(o,c)]}}}class SD{constructor(e){this._dataView=new DataView(e)}get buffer(){return this._dataView.buffer}getUint64(e,t){const n=this.getUint32(e,t),r=this.getUint32(e+4,t);let s;if(t){if(s=n+2**32*r,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}if(s=2**32*n+r,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}getInt64(e,t){let n=0;const r=(this._dataView.getUint8(e+(t?7:0))&128)>0;let s=!0;for(let a=0;a<8;a++){let o=this._dataView.getUint8(e+(t?a:7-a));r&&(s?o!==0&&(o=~(o-1)&255,s=!1):o=~o&255),n+=o*256**a}return r&&(n=-n),n}getUint8(e,t){return this._dataView.getUint8(e,t)}getInt8(e,t){return this._dataView.getInt8(e,t)}getUint16(e,t){return this._dataView.getUint16(e,t)}getInt16(e,t){return this._dataView.getInt16(e,t)}getUint32(e,t){return this._dataView.getUint32(e,t)}getInt32(e,t){return this._dataView.getInt32(e,t)}getFloat16(e,t){return lw(this._dataView,e,t)}getFloat32(e,t){return this._dataView.getFloat32(e,t)}getFloat64(e,t){return this._dataView.getFloat64(e,t)}}class MD{constructor(e,t,n,r){this._dataView=new DataView(e),this._sliceOffset=t,this._littleEndian=n,this._bigTiff=r}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(e,t){return this.sliceOffset<=e&&this.sliceTop>=e+t}readUint8(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}readInt8(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}readUint16(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}readInt16(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}readUint32(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}readInt32(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}readFloat32(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}readFloat64(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}readUint64(e){const t=this.readUint32(e),n=this.readUint32(e+4);let r;if(this._littleEndian){if(r=t+2**32*n,!Number.isSafeInteger(r))throw new Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}if(r=2**32*t+n,!Number.isSafeInteger(r))throw new Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}readInt64(e){let t=0;const n=(this._dataView.getUint8(e+(this._littleEndian?7:0))&128)>0;let r=!0;for(let s=0;s<8;s++){let a=this._dataView.getUint8(e+(this._littleEndian?s:7-s));n&&(r?a!==0&&(a=~(a-1)&255,r=!1):a=~a&255),t+=a*256**s}return n&&(t=-t),t}readOffset(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}const RD=typeof navigator<"u"&&navigator.hardwareConcurrency||2;class TD{constructor(e=RD,t){this.workers=null,this._awaitingDecoder=null,this.size=e,this.messageId=0,e&&(this._awaitingDecoder=t?Promise.resolve(t):new Promise(n=>{Promise.resolve().then(()=>mJ).then(r=>{n(r.create)})}),this._awaitingDecoder.then(n=>{this._awaitingDecoder=null,this.workers=[];for(let r=0;r<e;r++)this.workers.push({worker:n(),idle:!0})}))}async decode(e,t){return this._awaitingDecoder&&await this._awaitingDecoder,this.size===0?mw(e).then(n=>n.decode(e,t)):new Promise(n=>{const r=this.workers.find(o=>o.idle)||this.workers[Math.floor(Math.random()*this.size)];r.idle=!1;const s=this.messageId++,a=o=>{o.data.id===s&&(r.idle=!0,n(o.data.decoded),r.worker.removeEventListener("message",a))};r.worker.addEventListener("message",a),r.worker.postMessage({fileDirectory:e,buffer:t,id:s},[t])})}destroy(){this.workers&&(this.workers.forEach(e=>{e.worker.terminate()}),this.workers=null)}}const _w=`\r
\r
`;function Iw(i){if(typeof Object.fromEntries<"u")return Object.fromEntries(i);const e={};for(const[t,n]of i)e[t.toLowerCase()]=n;return e}function DD(i){const e=i.split(`\r
`).map(t=>{const n=t.split(":").map(r=>r.trim());return n[0]=n[0].toLowerCase(),n});return Iw(e)}function QD(i){const[e,...t]=i.split(";").map(r=>r.trim()),n=t.map(r=>r.split("="));return{type:e,params:Iw(n)}}function MI(i){let e,t,n;return i&&([,e,t,n]=i.match(/bytes (\d+)-(\d+)\/(\d+)/),e=parseInt(e,10),t=parseInt(t,10),n=parseInt(n,10)),{start:e,end:t,total:n}}function FD(i,e){let t=null;const n=new TextDecoder("ascii"),r=[],s=`--${e}`,a=`${s}--`;for(let o=0;o<10;++o)n.decode(new Uint8Array(i,o,s.length))===s&&(t=o);if(t===null)throw new Error("Could not find initial boundary");for(;t<i.byteLength;){const o=n.decode(new Uint8Array(i,t,Math.min(s.length+1024,i.byteLength-t)));if(o.length===0||o.startsWith(a))break;if(!o.startsWith(s))throw new Error("Part does not start with boundary");const l=o.substr(s.length+2);if(l.length===0)break;const c=l.indexOf(_w),x=DD(l.substr(0,c)),{start:u,end:h,total:f}=MI(x["content-range"]),A=t+s.length+c+_w.length,g=parseInt(h,10)+1-parseInt(u,10);r.push({headers:x,data:i.slice(A,A+g),offset:u,length:g,fileSize:f}),t=A+g+4}return r}class Ew{async fetch(e,t=void 0){return Promise.all(e.map(n=>this.fetchSlice(n,t)))}async fetchSlice(e){throw new Error(`fetching of slice ${e} not possible, not implemented`)}get fileSize(){return null}async close(){}}class LD extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(const[t,n]of e)this.onEviction(t,n.value)}_deleteIfExpired(e,t){return typeof t.expiry=="number"&&t.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,t.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,t){if(this._deleteIfExpired(e,t)===!1)return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const n=t.get(e);return this._getItemValue(e,n)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,n]=e;this.cache.has(t)||this._deleteIfExpired(t,n)===!1&&(yield e)}for(const e of this.cache){const[t,n]=e;this._deleteIfExpired(t,n)===!1&&(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(this._deleteIfExpired(e,t)===!1)return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:n=this.maxAge}={}){const r=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;return this.cache.has(e)?this.cache.set(e,{value:t,expiry:r}):this._set(e,{value:t,expiry:r}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],n=t.length-e;n<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(n>0&&this._emitEvictions(t.slice(0,n)),this.oldCache=new Map(t.slice(n)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,n]=e;this._deleteIfExpired(t,n)===!1&&(yield[t,n.value])}for(const e of this.oldCache){const[t,n]=e;this.cache.has(t)||this._deleteIfExpired(t,n)===!1&&(yield[t,n.value])}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const n=e[t],[r,s]=n;this._deleteIfExpired(r,s)===!1&&(yield[r,s.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const n=e[t],[r,s]=n;this.cache.has(r)||this._deleteIfExpired(r,s)===!1&&(yield[r,s.value])}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,t=this){for(const[n,r]of this.entriesAscending())e.call(t,r,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}async function PD(i){return new Promise(e=>setTimeout(e,i))}function kD(i,e){const t=Array.isArray(i)?i:Array.from(i),n=Array.isArray(e)?e:Array.from(e);return t.map((r,s)=>[r,n[s]])}class uc extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,uc),this.name="AbortError"}}class UD extends Error{constructor(e,t){super(t),this.errors=e,this.message=t,this.name="AggregateError"}}const ND=UD;class OD{constructor(e,t,n=null){this.offset=e,this.length=t,this.data=n}get top(){return this.offset+this.length}}class yw{constructor(e,t,n){this.offset=e,this.length=t,this.blockIds=n}}class GD extends Ew{constructor(e,{blockSize:t=65536,cacheSize:n=100}={}){super(),this.source=e,this.blockSize=t,this.blockCache=new LD({maxSize:n,onEviction:(r,s)=>{this.evictedBlocks.set(r,s)}}),this.evictedBlocks=new Map,this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(e,t){const n=[],r=[],s=[];this.evictedBlocks.clear();for(const{offset:h,length:f}of e){let A=h+f;const{fileSize:g}=this;g!==null&&(A=Math.min(A,g));const d=Math.floor(h/this.blockSize)*this.blockSize;for(let p=d;p<A;p+=this.blockSize){const _=Math.floor(p/this.blockSize);!this.blockCache.has(_)&&!this.blockRequests.has(_)&&(this.blockIdsToFetch.add(_),r.push(_)),this.blockRequests.has(_)&&n.push(this.blockRequests.get(_)),s.push(_)}}await PD(),this.fetchBlocks(t);const a=[];for(const h of r)this.blockRequests.has(h)&&a.push(this.blockRequests.get(h));await Promise.allSettled(n),await Promise.allSettled(a);const o=[],l=s.filter(h=>this.abortedBlockIds.has(h)||!this.blockCache.has(h));if(l.forEach(h=>this.blockIdsToFetch.add(h)),l.length>0&&t&&!t.aborted){this.fetchBlocks(null);for(const h of l){const f=this.blockRequests.get(h);if(!f)throw new Error(`Block ${h} is not in the block requests`);o.push(f)}await Promise.allSettled(o)}if(t&&t.aborted)throw new uc("Request was aborted");const c=s.map(h=>this.blockCache.get(h)||this.evictedBlocks.get(h)),x=c.filter(h=>!h);if(x.length)throw new ND(x,"Request failed");const u=new Map(kD(s,c));return this.readSliceData(e,u)}fetchBlocks(e){if(this.blockIdsToFetch.size>0){const t=this.groupBlocks(this.blockIdsToFetch),n=this.source.fetch(t,e);for(let r=0;r<t.length;++r){const s=t[r];for(const a of s.blockIds)this.blockRequests.set(a,(async()=>{try{const o=(await n)[r],l=a*this.blockSize,c=l-o.offset,x=Math.min(c+this.blockSize,o.data.byteLength),u=o.data.slice(c,x),h=new OD(l,u.byteLength,u,a);this.blockCache.set(a,h),this.abortedBlockIds.delete(a)}catch(o){if(o.name==="AbortError")o.signal=e,this.blockCache.delete(a),this.abortedBlockIds.add(a);else throw o}finally{this.blockRequests.delete(a)}})())}this.blockIdsToFetch.clear()}}groupBlocks(e){const t=Array.from(e).sort((a,o)=>a-o);if(t.length===0)return[];let n=[],r=null;const s=[];for(const a of t)r===null||r+1===a?(n.push(a),r=a):(s.push(new yw(n[0]*this.blockSize,n.length*this.blockSize,n)),n=[a],r=a);return s.push(new yw(n[0]*this.blockSize,n.length*this.blockSize,n)),s}readSliceData(e,t){return e.map(n=>{let r=n.offset+n.length;this.fileSize!==null&&(r=Math.min(this.fileSize,r));const s=Math.floor(n.offset/this.blockSize),a=Math.floor(r/this.blockSize),o=new ArrayBuffer(n.length),l=new Uint8Array(o);for(let c=s;c<=a;++c){const x=t.get(c),u=x.offset-n.offset,h=x.top-r;let f=0,A=0,g;u<0?f=-u:u>0&&(A=u),h<0?g=x.length-f:g=r-x.offset-f;const d=new Uint8Array(x.data,f,g);l.set(d,A)}return o})}}class RI{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(e){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class TI{constructor(e){this.url=e}async request({headers:e,signal:t}={}){throw new Error("request is not implemented")}}class zD extends RI{constructor(e){super(),this.response=e}get status(){return this.response.status}getHeader(e){return this.response.headers.get(e)}async getData(){return this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer}}class VD extends TI{constructor(e,t){super(e),this.credentials=t}async request({headers:e,signal:t}={}){const n=await fetch(this.url,{headers:e,credentials:this.credentials,signal:t});return new zD(n)}}class HD extends RI{constructor(e,t){super(),this.xhr=e,this.data=t}get status(){return this.xhr.status}getHeader(e){return this.xhr.getResponseHeader(e)}async getData(){return this.data}}class qD extends TI{constructRequest(e,t){return new Promise((n,r)=>{const s=new XMLHttpRequest;s.open("GET",this.url),s.responseType="arraybuffer";for(const[a,o]of Object.entries(e))s.setRequestHeader(a,o);s.onload=()=>{const a=s.response;n(new HD(s,a))},s.onerror=r,s.onabort=()=>r(new uc("Request aborted")),s.send(),t&&(t.aborted&&s.abort(),t.addEventListener("abort",()=>s.abort()))})}async request({headers:e,signal:t}={}){return await this.constructRequest(e,t)}}const DI={};class YD extends RI{constructor(e,t){super(),this.response=e,this.dataPromise=t}get status(){return this.response.statusCode}getHeader(e){return this.response.headers[e]}async getData(){return await this.dataPromise}}class XD extends TI{constructor(e){super(e),this.parsedUrl=DI.parse(this.url),this.httpApi=(this.parsedUrl.protocol==="http:",DI)}constructRequest(e,t){return new Promise((n,r)=>{const s=this.httpApi.get({...this.parsedUrl,headers:e},a=>{const o=new Promise(l=>{const c=[];a.on("data",x=>{c.push(x)}),a.on("end",()=>{const x=Buffer.concat(c).buffer;l(x)}),a.on("error",r)});n(new YD(a,o))});s.on("error",r),t&&(t.aborted&&s.destroy(new uc("Request aborted")),t.addEventListener("abort",()=>s.destroy(new uc("Request aborted"))))})}async request({headers:e,signal:t}={}){return await this.constructRequest(e,t)}}class QI extends Ew{constructor(e,t,n,r){super(),this.client=e,this.headers=t,this.maxRanges=n,this.allowFullFile=r,this._fileSize=null}async fetch(e,t){return this.maxRanges>=e.length?this.fetchSlices(e,t):(this.maxRanges>0&&e.length>1,Promise.all(e.map(n=>this.fetchSlice(n,t))))}async fetchSlices(e,t){const n=await this.client.request({headers:{...this.headers,Range:`bytes=${e.map(({offset:r,length:s})=>`${r}-${r+s}`).join(",")}`},signal:t});if(n.ok)if(n.status===206){const{type:r,params:s}=QD(n.getHeader("content-type"));if(r==="multipart/byteranges"){const u=FD(await n.getData(),s.boundary);return this._fileSize=u[0].fileSize||null,u}const a=await n.getData(),{start:o,end:l,total:c}=MI(n.getHeader("content-range"));this._fileSize=c||null;const x=[{data:a,offset:o,length:l-o}];if(e.length>1){const u=await Promise.all(e.slice(1).map(h=>this.fetchSlice(h,t)));return x.concat(u)}return x}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const r=await n.getData();return this._fileSize=r.byteLength,[{data:r,offset:0,length:r.byteLength}]}else throw new Error("Error fetching data.")}async fetchSlice(e,t){const{offset:n,length:r}=e,s=await this.client.request({headers:{...this.headers,Range:`bytes=${n}-${n+r}`},signal:t});if(s.ok)if(s.status===206){const a=await s.getData(),{total:o}=MI(s.getHeader("content-range"));return this._fileSize=o||null,{data:a,offset:n,length:r}}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const a=await s.getData();return this._fileSize=a.byteLength,{data:a,offset:0,length:a.byteLength}}else throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function FI(i,{blockSize:e,cacheSize:t}){return e===null?i:new GD(i,{blockSize:e,cacheSize:t})}function WD(i,{headers:e={},credentials:t,maxRanges:n=0,allowFullFile:r=!1,...s}={}){const a=new VD(i,t),o=new QI(a,e,n,r);return FI(o,s)}function jD(i,{headers:e={},maxRanges:t=0,allowFullFile:n=!1,...r}={}){const s=new qD(i),a=new QI(s,e,t,n);return FI(a,r)}function KD(i,{headers:e={},maxRanges:t=0,allowFullFile:n=!1,...r}={}){const s=new XD(i),a=new QI(s,e,t,n);return FI(a,r)}function JD(i,{forceXHR:e=!1,...t}={}){return typeof fetch=="function"&&!e?WD(i,t):typeof XMLHttpRequest<"u"?jD(i,t):KD(i,t)}function ZD(i,e){let t=i.length-e,n=0;do{for(let r=e;r>0;r--)i[n+e]+=i[n],n++;t-=e}while(t>0)}function $D(i,e,t){let n=0,r=i.length;const s=r/t;for(;r>e;){for(let o=e;o>0;--o)i[n+e]+=i[n],++n;r-=e}const a=i.slice();for(let o=0;o<s;++o)for(let l=0;l<t;++l)i[t*o+l]=a[(t-l-1)*s+o]}function eQ(i,e,t,n,r,s){if(!e||e===1)return i;for(let l=0;l<r.length;++l){if(r[l]%8!==0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(r[l]!==r[0])throw new Error("When decoding with predictor, all samples must have the same size.")}const a=r[0]/8,o=s===2?1:r.length;for(let l=0;l<n&&!(l*o*t*a>=i.byteLength);++l){let c;if(e===2){switch(r[0]){case 8:c=new Uint8Array(i,l*o*t*a,o*t*a);break;case 16:c=new Uint16Array(i,l*o*t*a,o*t*a/2);break;case 32:c=new Uint32Array(i,l*o*t*a,o*t*a/4);break;default:throw new Error(`Predictor 2 not allowed with ${r[0]} bits per sample.`)}ZD(c,o)}else e===3&&(c=new Uint8Array(i,l*o*t*a,o*t*a),$D(c,o,a))}return i}class Ko{async decode(e,t){const n=await this.decodeBlock(t),r=e.Predictor||1;if(r!==1){const s=!e.StripOffsets,a=s?e.TileWidth:e.ImageWidth,o=s?e.TileLength:e.RowsPerStrip||e.ImageLength;return eQ(n,r,a,o,e.BitsPerSample,e.PlanarConfiguration)}return n}}function LI(i){switch(i){case st.BYTE:case st.ASCII:case st.SBYTE:case st.UNDEFINED:return 1;case st.SHORT:case st.SSHORT:return 2;case st.LONG:case st.SLONG:case st.FLOAT:case st.IFD:return 4;case st.RATIONAL:case st.SRATIONAL:case st.DOUBLE:case st.LONG8:case st.SLONG8:case st.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${i}`)}}function tQ(i){const e=i.GeoKeyDirectory;if(!e)return null;const t={};for(let n=4;n<=e[3]*4;n+=4){const r=cD[e[n]],s=e[n+1]?Kx[e[n+1]]:null,a=e[n+2],o=e[n+3];let l=null;if(!s)l=o;else{if(l=i[s],typeof l>"u"||l===null)throw new Error(`Could not get value of geoKey '${r}'.`);typeof l=="string"?l=l.substring(o,o+a-1):l.subarray&&(l=l.subarray(o,o+a),a===1&&(l=l[0]))}t[r]=l}return t}function hc(i,e,t,n){let r=null,s=null;const a=LI(e);switch(e){case st.BYTE:case st.ASCII:case st.UNDEFINED:r=new Uint8Array(t),s=i.readUint8;break;case st.SBYTE:r=new Int8Array(t),s=i.readInt8;break;case st.SHORT:r=new Uint16Array(t),s=i.readUint16;break;case st.SSHORT:r=new Int16Array(t),s=i.readInt16;break;case st.LONG:case st.IFD:r=new Uint32Array(t),s=i.readUint32;break;case st.SLONG:r=new Int32Array(t),s=i.readInt32;break;case st.LONG8:case st.IFD8:r=new Array(t),s=i.readUint64;break;case st.SLONG8:r=new Array(t),s=i.readInt64;break;case st.RATIONAL:r=new Uint32Array(t*2),s=i.readUint32;break;case st.SRATIONAL:r=new Int32Array(t*2),s=i.readInt32;break;case st.FLOAT:r=new Float32Array(t),s=i.readFloat32;break;case st.DOUBLE:r=new Float64Array(t),s=i.readFloat64;break;default:throw new RangeError(`Invalid field type: ${e}`)}if(e===st.RATIONAL||e===st.SRATIONAL)for(let o=0;o<t;o+=2)r[o]=s.call(i,n+o*a),r[o+1]=s.call(i,n+(o*a+4));else for(let o=0;o<t;++o)r[o]=s.call(i,n+o*a);return e===st.ASCII?new TextDecoder("utf-8").decode(r):r}class nQ{constructor(e,t,n){this.fileDirectory=e,this.geoKeyDirectory=t,this.nextIFDByteOffset=n}}class _A extends Error{constructor(e){super(`No image at index ${e}`),this.index=e}}class iQ{async readRasters(e={}){const{window:t,width:n,height:r}=e;let{resX:s,resY:a,bbox:o}=e;const l=await this.getImage();let c=l;const x=await this.getImageCount(),u=l.getBoundingBox();if(t&&o)throw new Error('Both "bbox" and "window" passed.');if(n||r){if(t){const[A,g]=l.getOrigin(),[d,p]=l.getResolution();o=[A+t[0]*d,g+t[1]*p,A+t[2]*d,g+t[3]*p]}const f=o||u;if(n){if(s)throw new Error("Both width and resX passed");s=(f[2]-f[0])/n}if(r){if(a)throw new Error("Both width and resY passed");a=(f[3]-f[1])/r}}if(s||a){const f=[];for(let A=0;A<x;++A){const g=await this.getImage(A),{SubfileType:d,NewSubfileType:p}=g.fileDirectory;(A===0||d===2||p&1)&&f.push(g)}f.sort((A,g)=>A.getWidth()-g.getWidth());for(let A=0;A<f.length;++A){const g=f[A],d=(u[2]-u[0])/g.getWidth(),p=(u[3]-u[1])/g.getHeight();if(c=g,s&&s>d||a&&a>p)break}}let h=t;if(o){const[f,A]=l.getOrigin(),[g,d]=c.getResolution(l);h=[Math.round((o[0]-f)/g),Math.round((o[1]-A)/d),Math.round((o[2]-f)/g),Math.round((o[3]-A)/d)],h=[Math.min(h[0],h[2]),Math.min(h[1],h[3]),Math.max(h[0],h[2]),Math.max(h[1],h[3])]}return c.readRasters({...e,window:h})}}class PI extends iQ{constructor(e,t,n,r,s={}){super(),this.source=e,this.littleEndian=t,this.bigTiff=n,this.firstIFDOffset=r,this.cache=s.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(e,t){const n=this.bigTiff?4048:1024;return new MD((await this.source.fetch([{offset:e,length:typeof t<"u"?t:n}]))[0],e,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(e){const t=this.bigTiff?20:12,n=this.bigTiff?8:2;let r=await this.getSlice(e);const s=this.bigTiff?r.readUint64(e):r.readUint16(e),a=s*t+(this.bigTiff?16:6);r.covers(e,a)||(r=await this.getSlice(e,a));const o={};let l=e+(this.bigTiff?8:2);for(let u=0;u<s;l+=t,++u){const h=r.readUint16(l),f=r.readUint16(l+2),A=this.bigTiff?r.readUint64(l+4):r.readUint32(l+4);let g,d;const p=LI(f),_=l+(this.bigTiff?12:8);if(p*A<=(this.bigTiff?8:4))g=hc(r,f,A,_);else{const I=r.readOffset(_),m=LI(f)*A;if(r.covers(I,m))g=hc(r,f,A,I);else{const y=await this.getSlice(I,m);g=hc(y,f,A,I)}}A===1&&sD.indexOf(h)===-1&&!(f===st.RATIONAL||f===st.SRATIONAL)?d=g[0]:d=g,o[Kx[h]]=d}const c=tQ(o),x=r.readOffset(e+n+t*s);return new nQ(o,c,x)}async requestIFD(e){if(this.ifdRequests[e])return this.ifdRequests[e];if(e===0)return this.ifdRequests[e]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[e];if(!this.ifdRequests[e-1])try{this.ifdRequests[e-1]=this.requestIFD(e-1)}catch(t){throw t instanceof _A?new _A(e):t}return this.ifdRequests[e]=(async()=>{const t=await this.ifdRequests[e-1];if(t.nextIFDByteOffset===0)throw new _A(e);return this.parseFileDirectoryAt(t.nextIFDByteOffset)})(),this.ifdRequests[e]}async getImage(e=0){const t=await this.requestIFD(e);return new BD(t.fileDirectory,t.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let e=0,t=!0;for(;t;)try{await this.requestIFD(e),++e}catch(n){if(n instanceof _A)t=!1;else throw n}return e}async getGhostValues(){const e=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const t="GDAL_STRUCTURAL_METADATA_SIZE=",n=t.length+100;let r=await this.getSlice(e,n);if(t===hc(r,st.ASCII,t.length,e)){const a=hc(r,st.ASCII,n,e).split(`
`)[0],o=Number(a.split("=")[1].split(" ")[0])+a.length;o>n&&(r=await this.getSlice(e,o));const l=hc(r,st.ASCII,o,e);this.ghostValues={},l.split(`
`).filter(c=>c.length>0).map(c=>c.split("=")).forEach(([c,x])=>{this.ghostValues[c]=x})}return this.ghostValues}static async fromSource(e,t,n){const r=(await e.fetch([{offset:0,length:1024}],n))[0],s=new SD(r),a=s.getUint16(0,0);let o;if(a===18761)o=!0;else if(a===19789)o=!1;else throw new TypeError("Invalid byte order value.");const l=s.getUint16(2,o);let c;if(l===42)c=!1;else if(l===43){if(c=!0,s.getUint16(4,o)!==8)throw new Error("Unsupported offset byte-size.")}else throw new TypeError("Invalid magic number.");const x=c?s.getUint64(8,o):s.getUint32(4,o);return new PI(e,o,c,x,t)}close(){return typeof this.source.close=="function"?this.source.close():!1}}async function Cw(i,e={},t){return PI.fromSource(JD(i,e),t)}class rQ{constructor(e){this.option=e,this.abortController=new AbortController,this.url=e.url,this.tiff,this.imageCount,this.images,this.metadata,this.bbox,this.coordType=1,this.fristImage,this.bandsNumber=1,this.imageWidth=0,this.imageheight=0,this.imageBbox=[0,0,0,0],this.resolutionX,this.resolutionY,this.rasterData,this.rasterDatas=[],this.dataExtent,this.interpolationParams={la1:0,la2:0,lo1:0,lo2:0,nx:0,ny:0,dx:0,dy:0},this.grid=[],this.project="EPSG:4326"}getWorkerPool(){let e;return e||(e=new TD),e}async fetchTiff(){this.tiff=await Cw(this.url,this.abortController.singal);const e=await this.tiff.getImage(),t=await e.readRasters({pool:this.getWorkerPool()});this.imagewidth=e.getWidth(),this.imageheight=e.getHeight(),this.project=e.getGeoKeys().GeogCitationGeoKey,this.project=="WGS 84"&&(this.project="EPSG:4326"),this.bandsNumber=t.length,this.imageCount=await this.tiff.getImageCount();const n=new Array(this.imageCount);for(let s=0;s<this.imageCount;s++){const a=await this.tiff.getImage(s);n[s]={image:a};const o=a.getResolution(n[0].image);n[s]={image:a,res:[o[0],o[1]]}}const r=n[0].image;this.fristImage=r,this.metadata=this._parseMetaData(r.getGDALMetadata()),this.bbox=r.getBoundingBox(),this.coordType=this.getCoordType(this.bbox),this.images=n}matchImageByRes(e){let t=0;for(t=0;t<this.images.length;t++){const[n,r]=this.images[t].res;if(e<Math.abs(n)||e<Math.abs(r))break}return t=t>0?t-1:0,this.images[t]}_parseMetaData(e){var t,n,r,s,a,o,l,c,x,u,h,f,A,g,d,p,_,I,m,y,E,C,v,b,w,B,R,Q;return e?(e.max=((n=(t=this.option)==null?void 0:t.metadata)==null?void 0:n.max)||parseFloat(e.max||9999),e.min=((s=(r=this.option)==null?void 0:r.metadata)==null?void 0:s.min)|parseFloat(e.min||-9999),e.nodata=((o=(a=this.option)==null?void 0:a.metadata)==null?void 0:o.nodata)||parseFloat(e.nodata||-9999),e.offset=((c=(l=this.option)==null?void 0:l.metadata)==null?void 0:c.offset)||parseFloat(e.offset||0),e.unit=((u=(x=this.option)==null?void 0:x.metadata)==null?void 0:u.unit)||parseFloat(e.unit||0),(f=(h=this.option)==null?void 0:h.metadata)!=null&&f.scale&&(e.customScale=((g=(A=this.option)==null?void 0:A.metadata)==null?void 0:g.scale)/parseFloat(e.scale||1),((p=(d=this.option)==null?void 0:d.metadata)==null?void 0:p.unit)=="C"?(e.max=e.max-273.15,e.min=e.min-273.15):(e.max=e.max,e.min=e.min)),e.scale=((I=(_=this.option)==null?void 0:_.metadata)==null?void 0:I.scale)||parseFloat(e.scale||1)):(e={},e.max=((y=(m=this.option)==null?void 0:m.metadata)==null?void 0:y.max)||9999,e.min=((C=(E=this.option)==null?void 0:E.metadata)==null?void 0:C.min)||-9999,e.nodata=((b=(v=this.option)==null?void 0:v.metadata)==null?void 0:b.nodata)||-9999,e.offset=((B=(w=this.option)==null?void 0:w.metadata)==null?void 0:B.offset)||0,e.scale=((Q=(R=this.option)==null?void 0:R.metadata)==null?void 0:Q.scale)||1),e}async getDataByBbox(e,t){this.abortController.abort(),this.abortController=new AbortController;const n=this.abortController.signal,[r,s]=this.fristImage.getOrigin(),a=e.image,[o,l]=a.getResolution(this.fristImage);let c=[],x=this.calcBbox(t);this.rasterDatas=[];for(let u of x){let h=[(u[0]-r)/o,(u[1]-s)/l,(u[2]-r)/o,(u[3]-s)/l];if(h=[Math.floor(Math.min(h[0],h[2])),Math.floor(Math.min(h[1],h[3])),Math.ceil(Math.max(h[0],h[2])),Math.ceil(Math.max(h[1],h[3]))],Math.abs(h[2]-h[0])<=1||Math.abs(h[3]-h[1])<=1){let A=2;h[2]+A<this.imagewidth?h[2]=h[2]+A:(h[2]=this.imagewidth,h[0]=h[2]-A),h[0]-A<0?h[0]=0:h[0]=h[0]-A,h[3]+A<this.imageheight?h[3]=h[3]+A:h[3]=this.imageheight,h[1]-A<0?h[1]=0:h[1]=h[1]-A}u=[h[0]*o+r,h[1]*l+s,h[2]*o+r,h[3]*l+s],c=[u[0],u[3],u[2],u[1]];const f=await a.readRasters({fillValue:this.metadata.nodata,window:h,signal:n});f.wnd=h,f.dataBbox=u,this.interpolationParams.nx=f.width,this.interpolationParams.ny=f.height,this.interpolationParams.dx=e.res[0],this.interpolationParams.dy=e.res[0],this.interpolationParams.lo1=u[0],this.interpolationParams.la1=u[1],this.interpolationParams.lo2=u[2],this.interpolationParams.la2=u[3],this.metadata.bandsNumber=this.bandsNumber,f.params={interpolationParams:JSON.parse(JSON.stringify(this.interpolationParams)),bbox:JSON.parse(JSON.stringify(this.bbox)),viewBBox:c,bandsNumber:JSON.parse(JSON.stringify(this.bandsNumber)),metadata:JSON.parse(JSON.stringify(this.metadata)),project:this.project},this.rasterDatas.push(f)}return this.rasterDatas}getCoordType(e){const[t,n,r,s]=e;return t>=0&&r>180?2:1}isNoData(e){return e==this.metadata.nodata}handleData(e){const t=[];return e.forEach(n=>{const r={width:n.width,height:n.height,dataBbox:n.dataBbox,series:null};if(this.bandsNumber==1){const s=n[0],a=new Float32Array(s.length);for(let o=0;o<s.length;o++)a[o]=this.getRealValue(s[o]);r.series=a,t.push(r)}else if(this.bandsNumber==2){const s=n[0],a=n[1],o=new Float32Array(s.length);for(let l=0;l<s.length;l++)o[l]=this.getRealMultiValue(s[l],a[l]);r.series=o,t.push(r)}}),t}getRealMultiValue(e,t,n=this.metadata.nodata){if(this.isNoData(e))return n;{const r=e/this.metadata.scale+this.metadata.offset,s=t/this.metadata.scale+this.metadata.offset;return Math.sqrt(r*r+s*s)}}getRealValue(e,t=this.metadata.nodata){if(this.bandsNumber==1)return this.isNoData(e)?t:e/this.metadata.scale+this.metadata.offset}calcBbox(e){let[t,n,r,s]=e;r-t>=360?this.coordType==1?(t=-180,r=180):(t=0,r=360):(t=(t%360+360)%360,r=(r%360+360)%360,r=r==0?360:r,this.coordType==1&&(t=t>=180?t-360:t,r=r>180?r-360:r));let a=[];t>r?this.coordType==1?a=[[t,n,180,s],[-180,n,r,s]]:a=[[t,n,360,s],[0,n,r,s]]:a=[[t,n,r,s]];let o=[];for(let l in a)e=a[l],e=this.bboxIntersect(e),e&&o.push(e);return o}bboxIntersect(e){const t=this.bbox;if(this.isBboxIntersectOrContain(e,t)){const n=Math.max(e[0],t[0]),r=Math.min(e[2],t[2]),s=Math.max(e[1],t[1]),a=Math.min(e[3],t[3]);return[n,s,r,a]}else return!1}isBboxIntersectOrContain(e,t){const[n,r,s,a]=e,[o,l,c,x]=t;return!(n>=c||s<=o||a<=l||r>=x)}coordConvert(e,t=1,n=2){return e=(e%360+360)%360,n==1&&(e=e>=180?e-360:e),e}}const bw=IA;(function(i,e){const t=IA,n=i();for(;;)try{if(-parseInt(t(163))/1*(parseInt(t(167))/2)+parseInt(t(156))/3*(parseInt(t(161))/4)+-parseInt(t(158))/5*(parseInt(t(162))/6)+parseInt(t(159))/7*(-parseInt(t(169))/8)+-parseInt(t(160))/9+-parseInt(t(164))/10+-parseInt(t(168))/11*(-parseInt(t(166))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(EA,448345),bw(165),bw(157);function IA(i,e){const t=EA();return IA=function(n,r){return n=n-156,t[n]},IA(i,e)}function EA(){const i=["208232TJemyg","117750NSdDFY","881KNjmQn","5620530pdMPWE","us-ft","408GjbGFm","442SIuzEk","656843ZOrgOz","4164680snbKaW","6qpTZWh","degrees","5FCGQgy","7OqnzZn","3501441jIArsP"];return EA=function(){return i},EA()}const Ha={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var sn=Jx;(function(i,e){for(var t=Jx,n=i();;)try{var r=parseInt(t(285))/1*(parseInt(t(277))/2)+parseInt(t(312))/3+parseInt(t(302))/4*(parseInt(t(306))/5)+-parseInt(t(297))/6+parseInt(t(281))/7*(-parseInt(t(283))/8)+-parseInt(t(308))/9*(-parseInt(t(292))/10)+-parseInt(t(289))/11*(parseInt(t(275))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(yA,489868);let kI=class{constructor(e){var t=Jx;this[t(288)]=e[t(310)],this[t(279)]=e.units,this[t(301)]=e.extent!==void 0?e[t(276)]:null,this.worldExtent_=e[t(309)]!==void 0?e[t(309)]:null,this[t(278)]=e.axisOrientation!==void 0?e.axisOrientation:t(273),this[t(296)]=e[t(284)]!==void 0?e[t(284)]:!1,this[t(300)]=!!(this[t(296)]&&this[t(301)]),this[t(293)]=e[t(294)],this.defaultTileGrid_=null,this.metersPerUnit_=e[t(305)]}[sn(299)](){var e=sn;return this[e(300)]}[sn(304)](){var e=sn;return this[e(288)]}[sn(291)](){return this.extent_}[sn(311)](){var e=sn;return this[e(279)]}[sn(295)](){var e=sn;return this.metersPerUnit_||Ha[this[e(279)]]}[sn(286)](){var e=sn;return this[e(274)]}[sn(280)](){return this.axisOrientation_}isGlobal(){var e=sn;return this[e(296)]}[sn(282)](e){var t=sn;this[t(296)]=e,this[t(300)]=!!(e&&this[t(301)])}[sn(298)](){var e=sn;return this[e(287)]}[sn(307)](e){this.defaultTileGrid_=e}[sn(290)](e){var t=sn;this[t(301)]=e,this[t(300)]=!!(this[t(296)]&&e)}[sn(303)](e){var t=sn;this[t(274)]=e}[sn(272)](e){var t=sn;this[t(293)]=e}[sn(271)](){var e=sn;return this[e(293)]}};function Jx(i,e){var t=yA();return Jx=function(n,r){n=n-271;var s=t[n];return s},Jx(i,e)}function yA(){var i=["enu","worldExtent_","12uFkUct","extent","967814SfjLOh","axisOrientation_","units_","getAxisOrientation","67858wscdKE","setGlobal","496NdsxmJ","global","2UdsjwU","getWorldExtent","defaultTileGrid_","code_","10850004spBGQZ","setExtent","getExtent","50YhVjZM","getPointResolutionFunc_","getPointResolution","getMetersPerUnit","global_","2630292EwDuEH","getDefaultTileGrid","canWrapX","canWrapX_","extent_","126332kGSLnz","setWorldExtent","getCode","metersPerUnit","150aChIlT","setDefaultTileGrid","286056mSuvum","worldExtent","code","getUnits","1324254ftMQII","getPointResolutionFunc","setGetPointResolution"];return yA=function(){return i},yA()}const qa=$x;(function(i,e){const t=$x,n=i();for(;;)try{if(parseInt(t(438))/1*(parseInt(t(433))/2)+-parseInt(t(425))/3+-parseInt(t(435))/4+parseInt(t(422))/5+parseInt(t(432))/6*(-parseInt(t(420))/7)+-parseInt(t(431))/8+parseInt(t(421))/9*(parseInt(t(429))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(bA,453575);const Zx=6378137,fc=Math.PI*Zx,sQ=[-fc,-fc,fc,fc],aQ=[-180,-85,180,85];function $x(i,e){const t=bA();return $x=function(n,r){return n=n-419,t[n]},$x(i,e)}const CA=Zx*Math[qa(424)](Math[qa(428)](Math.PI/2));let Ac=class extends kI{constructor(e){super({code:e,units:"m",extent:sQ,global:!0,worldExtent:aQ,getPointResolution:function(t,n){return t/Math[$x(423)](n[1]/Zx)}})}};const vw=[new Ac(qa(427)),new Ac(qa(437)),new Ac("EPSG:102113"),new Ac(qa(419)),new Ac("http://www.opengis.net/def/crs/EPSG/0/3857"),new Ac(qa(439))];function bA(){const i=["1640880QvkMCK","222yVFojk","6918oPDzAa","atan","3060044BMJBpN","length","EPSG:102100","251MGapzt","http://www.opengis.net/gml/srs/epsg.xml#3857","EPSG:900913","110082CyqRNK","13017843tjJJlD","2094705WDTzug","cosh","log","2184057neIBHE","slice","EPSG:3857","tan","10iUmzJG","exp"];return bA=function(){return i},bA()}function oQ(i,e,t){const n=qa,r=i.length;t=t>1?t:2,e===void 0&&(t>2?e=i[n(426)]():e=new Array(r));for(let s=0;s<r;s+=t){e[s]=fc*i[s]/180;let a=Zx*Math[n(424)](Math[n(428)](Math.PI*(+i[s+1]+90)/360));a>CA?a=CA:a<-CA&&(a=-CA),e[s+1]=a}return e}function cQ(i,e,t){const n=qa,r=i[n(436)];t=t>1?t:2,e===void 0&&(t>2?e=i[n(426)]():e=new Array(r));for(let s=0;s<r;s+=t)e[s]=180*i[s]/fc,e[s+1]=360*Math[n(434)](Math[n(430)](i[s+1]/Zx))/Math.PI-90;return e}const Jo=eu;(function(i,e){const t=eu,n=i();for(;;)try{if(parseInt(t(432))/1*(-parseInt(t(429))/2)+-parseInt(t(426))/3+parseInt(t(434))/4*(-parseInt(t(438))/5)+-parseInt(t(425))/6*(-parseInt(t(442))/7)+parseInt(t(431))/8+-parseInt(t(441))/9*(parseInt(t(436))/10)+parseInt(t(433))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(vA,118231);const lQ=6378137,ww=[-180,-90,180,90];function eu(i,e){const t=vA();return eu=function(n,r){return n=n-425,t[n]},eu(i,e)}const xQ=Math.PI*lQ/180;let Zo=class extends kI{constructor(e,t){const n=eu;super({code:e,units:n(439),extent:ww,axisOrientation:t,global:!0,metersPerUnit:xQ,worldExtent:ww})}};function vA(){const i=["http://www.opengis.net/def/crs/EPSG/0/4326","10bUmZbe","neu","10bMmIXJ","degrees","urn:ogc:def:crs:OGC:1.3:CRS84","1314837ulqlIX","7yuTxoG","918354SWZKCT","272979ObLLFi","http://www.opengis.net/def/crs/OGC/1.3/CRS84","http://www.opengis.net/gml/srs/epsg.xml#4326","3086otTyzu","CRS:84","1791184gGxBpw","65YCkPXQ","908083HqgAoo","7796zGIdyR"];return vA=function(){return i},vA()}const Bw=[new Zo(Jo(430)),new Zo("EPSG:4326","neu"),new Zo(Jo(440)),new Zo("urn:ogc:def:crs:OGC:2:84"),new Zo(Jo(427)),new Zo(Jo(428),Jo(437)),new Zo(Jo(435),Jo(437))];(function(i,e){const t=wA,n=i();for(;;)try{if(-parseInt(t(365))/1+parseInt(t(372))/2+-parseInt(t(370))/3*(-parseInt(t(366))/4)+parseInt(t(364))/5+parseInt(t(371))/6*(parseInt(t(363))/7)+parseInt(t(373))/8+parseInt(t(369))/9*(-parseInt(t(368))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(BA,163123);let UI={};function uQ(i){const e=wA;return UI[i]||UI[i[e(367)](/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function wA(i,e){const t=BA();return wA=function(n,r){return n=n-363,t[n]},wA(i,e)}function hQ(i,e){UI[i]=e}function BA(){const i=["3303qDdiXJ","3MQMmVk","6bvBedL","540314MijDPr","637808vVwciX","839419rVcwUO","475125taxLxT","149499miSfWj","798296QNAjTM","replace","12310RFGyuZ"];return BA=function(){return i},BA()}function tu(i){for(const e in i)delete i[e]}function Ya(i){let e;for(e in i)return!1;return!e}(function(i,e){const t=SA,n=i();for(;;)try{if(-parseInt(t(505))/1*(parseInt(t(504))/2)+-parseInt(t(499))/3+-parseInt(t(498))/4+parseInt(t(503))/5*(parseInt(t(500))/6)+parseInt(t(501))/7+-parseInt(t(496))/8*(parseInt(t(502))/9)+parseInt(t(495))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(MA,435322);function SA(i,e){const t=MA();return SA=function(n,r){return n=n-495,t[n]},SA(i,e)}let dc={};function MA(){const i=["5LUuGAt","18782uEeWTF","19JRIEew","9024290Zpcekt","16mDNSWp","getCode","1936664ZTQWyp","1719303YuOfpg","3262188evawCu","2982735DLFGgI","905463zNkvLC"];return MA=function(){return i},MA()}function RA(i,e,t){const n=SA,r=i.getCode(),s=e[n(497)]();!(r in dc)&&(dc[r]={}),dc[r][s]=t}function fQ(i,e){let t;return i in dc&&e in dc[i]&&(t=dc[i][e]),t}(function(i,e){for(var t=NI,n=i();;)try{var r=-parseInt(t(411))/1*(parseInt(t(414))/2)+parseInt(t(412))/3*(parseInt(t(408))/4)+-parseInt(t(413))/5*(parseInt(t(417))/6)+-parseInt(t(410))/7*(-parseInt(t(407))/8)+-parseInt(t(415))/9+parseInt(t(416))/10+parseInt(t(409))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(TA,887995);const Jn={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function NI(i,e){var t=TA();return NI=function(n,r){n=n-407;var s=t[n];return s},NI(i,e)}function TA(){var i=["10155jAnzEL","790285uSBwBp","506094dEkQwr","12881448wcQpVI","1988100TkWShd","42ZyugUE","449176wyTkXb","1068NpkxaP","20325129XxHNCI","217idJAnn","5sAGfiL"];return TA=function(){return i},TA()}(function(i,e){const t=ar,n=i();for(;;)try{if(parseInt(t(408))/1+parseInt(t(403))/2+-parseInt(t(389))/3*(-parseInt(t(391))/4)+-parseInt(t(402))/5+parseInt(t(386))/6*(-parseInt(t(405))/7)+parseInt(t(384))/8*(-parseInt(t(409))/9)+parseInt(t(381))/10*(parseInt(t(407))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(FA,292004);function OI(i){const e=Er();for(let t=0,n=i.length;t<n;++t)nu(e,i[t]);return e}function AQ(i,e,t){const n=ar,r=Math.min.apply(null,i),s=Math[n(406)].apply(null,e),a=Math[n(399)].apply(null,i),o=Math[n(399)].apply(null,e);return Ws(r,s,a,o,t)}function Xa(i,e,t){return t?(t[0]=i[0]-e,t[1]=i[1]-e,t[2]=i[2]+e,t[3]=i[3]+e,t):[i[0]-e,i[1]-e,i[2]+e,i[3]+e]}function Sw(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i.slice()}function $o(i,e,t){let n,r;return e<i[0]?n=i[0]-e:i[2]<e?n=e-i[2]:n=0,t<i[1]?r=i[1]-t:i[3]<t?r=t-i[3]:r=0,n*n+r*r}function e0(i,e){return GI(i,e[0],e[1])}function Vr(i,e){return i[0]<=e[0]&&e[2]<=i[2]&&i[1]<=e[1]&&e[3]<=i[3]}function GI(i,e,t){return i[0]<=e&&e<=i[2]&&i[1]<=t&&t<=i[3]}function zI(i,e){const t=ar,n=i[0],r=i[1],s=i[2],a=i[3],o=e[0],l=e[1];let c=Jn[t(401)];return o<n?c=c|Jn[t(385)]:o>s&&(c=c|Jn[t(400)]),l<r?c=c|Jn[t(396)]:l>a&&(c=c|Jn[t(404)]),c===Jn.UNKNOWN&&(c=Jn[t(390)]),c}function Er(){return[1/0,1/0,-1/0,-1/0]}function Ws(i,e,t,n,r){return r?(r[0]=i,r[1]=e,r[2]=t,r[3]=n,r):[i,e,t,n]}function pc(i){return Ws(1/0,1/0,-1/0,-1/0,i)}function Mw(i,e){const t=i[0],n=i[1];return Ws(t,n,t,n,e)}function VI(i,e,t,n,r){const s=pc(r);return Tw(s,i,e,t,n)}function js(i,e){return i[0]==e[0]&&i[2]==e[2]&&i[1]==e[1]&&i[3]==e[3]}function Rw(i,e){return e[0]<i[0]&&(i[0]=e[0]),e[2]>i[2]&&(i[2]=e[2]),e[1]<i[1]&&(i[1]=e[1]),e[3]>i[3]&&(i[3]=e[3]),i}function nu(i,e){e[0]<i[0]&&(i[0]=e[0]),e[0]>i[2]&&(i[2]=e[0]),e[1]<i[1]&&(i[1]=e[1]),e[1]>i[3]&&(i[3]=e[1])}function Tw(i,e,t,n,r){for(;t<n;t+=r)dQ(i,e[t],e[t+1]);return i}function dQ(i,e,t){const n=ar;i[0]=Math[n(406)](i[0],e),i[1]=Math.min(i[1],t),i[2]=Math[n(399)](i[2],e),i[3]=Math[n(399)](i[3],t)}function Dw(i,e){let t;return t=e(DA(i)),t||(t=e(QA(i)),t)||(t=e(PA(i)),t)||(t=e(Ks(i)),t)?t:!1}function iu(i){let e=0;return!t0(i)&&(e=ht(i)*wn(i)),e}function DA(i){return[i[0],i[1]]}function QA(i){return[i[2],i[1]]}function FA(){const i=["BELOW","top-left","Invalid corner","max","RIGHT","UNKNOWN","1932075HBsniH","758034DzLvbl","ABOVE","7HFwRQJ","min","8192987mdQuyy","292379VuCQml","207orOarD","10aVSKtF","length","bottom-left","166456YNMeti","LEFT","2997714LHBPvA","abs","getExtent","721158HhEdUm","INTERSECTING","4QsOBdz","bottom-right","cos","canWrapX","push"];return FA=function(){return i},FA()}function yr(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function pQ(i,e){const t=ar;let n;if(e===t(383))n=DA(i);else if(e===t(392))n=QA(i);else if(e===t(397))n=Ks(i);else if(e==="top-right")n=PA(i);else throw new Error(t(398));return n}function LA(i,e,t,n,r){const s=ar,[a,o,l,c,x,u,h,f]=gQ(i,e,t,n);return Ws(Math[s(406)](a,l,x,h),Math[s(406)](o,c,u,f),Math[s(399)](a,l,x,h),Math.max(o,c,u,f),r)}function gQ(i,e,t,n){const r=ar,s=e*n[0]/2,a=e*n[1]/2,o=Math[r(393)](t),l=Math.sin(t),c=s*o,x=s*l,u=a*o,h=a*l,f=i[0],A=i[1];return[f-c+h,A-x-u,f-c-h,A-x+u,f+c-h,A+x+u,f+c+h,A+x-u,f-c+h,A-x-u]}function wn(i){return i[3]-i[1]}function Mi(i,e,t){const n=t||Er();return Bn(i,e)?(i[0]>e[0]?n[0]=i[0]:n[0]=e[0],i[1]>e[1]?n[1]=i[1]:n[1]=e[1],i[2]<e[2]?n[2]=i[2]:n[2]=e[2],i[3]<e[3]?n[3]=i[3]:n[3]=e[3]):pc(n),n}function Ks(i){return[i[0],i[3]]}function PA(i){return[i[2],i[3]]}function ht(i){return i[2]-i[0]}function Bn(i,e){return i[0]<=e[2]&&i[2]>=e[0]&&i[1]<=e[3]&&i[3]>=e[1]}function t0(i){return i[2]<i[0]||i[3]<i[1]}function ar(i,e){const t=FA();return ar=function(n,r){return n=n-381,t[n]},ar(i,e)}function mQ(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i}function _Q(i,e){const t=(i[2]-i[0])/2*(e-1),n=(i[3]-i[1])/2*(e-1);i[0]-=t,i[2]+=t,i[1]-=n,i[3]+=n}function IQ(i,e,t){const n=ar;let r=!1;const s=zI(i,e),a=zI(i,t);if(s===Jn[n(390)]||a===Jn[n(390)])r=!0;else{const o=i[0],l=i[1],c=i[2],x=i[3],u=e[0],h=e[1],f=t[0],A=t[1],g=(A-h)/(f-u);let d,p;a&Jn[n(404)]&&!(s&Jn[n(404)])&&(d=f-(A-x)/g,r=d>=o&&d<=c),!r&&a&Jn[n(400)]&&!(s&Jn.RIGHT)&&(p=A-(f-c)*g,r=p>=l&&p<=x),!r&&a&Jn[n(396)]&&!(s&Jn[n(396)])&&(d=f-(A-l)/g,r=d>=o&&d<=c),!r&&a&Jn[n(385)]&&!(s&Jn.LEFT)&&(p=A-(f-o)*g,r=p>=l&&p<=x)}return r}function Qw(i,e,t,n){const r=ar;if(t0(i))return pc(t);let s=[];s=[i[0],i[1],i[2],i[1],i[2],i[3],i[0],i[3]],e(s,s,2);const a=[],o=[];for(let l=0,c=s.length;l<c;l+=2)a[r(395)](s[l]),o.push(s[l+1]);return AQ(a,o,t)}function Fw(i,e){const t=ar,n=e[t(388)](),r=yr(i);if(e[t(394)]()&&(r[0]<n[0]||r[0]>=n[2])){const s=ht(n),a=Math.floor((r[0]-n[0])/s),o=a*s;i[0]-=o,i[2]-=o}return i}function HI(i,e,t){const n=ar;if(e[n(394)]()){const r=e[n(388)]();if(!isFinite(i[0])||!isFinite(i[2]))return[[r[0],i[1],r[2],i[3]]];Fw(i,e);const s=ht(r);if(ht(i)>s&&!t)return[[r[0],i[1],r[2],i[3]]];if(i[0]<r[0])return[[i[0]+s,i[1],r[2],i[3]],[r[0],i[1],i[2],i[3]]];if(i[2]>r[2])return[[i[0],i[1],r[2],i[3]],[r[0],i[1],i[2]-s,i[3]]]}return[i]}(function(i,e){const t=Wa,n=i();for(;;)try{if(-parseInt(t(150))/1+parseInt(t(152))/2+parseInt(t(157))/3+parseInt(t(144))/4*(parseInt(t(151))/5)+parseInt(t(153))/6*(parseInt(t(148))/7)+parseInt(t(146))/8+-parseInt(t(156))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(UA,219163);function Sn(i,e,t){const n=Wa;return Math[n(143)](Math[n(145)](i,e),t)}function EQ(i,e,t,n,r,s){const a=r-t,o=s-n;if(a!==0||o!==0){const l=((i-t)*a+(e-n)*o)/(a*a+o*o);l>1?(t=r,n=s):l>0&&(t+=a*l,n+=o*l)}return n0(i,e,t,n)}function n0(i,e,t,n){const r=t-i,s=n-e;return r*r+s*s}function yQ(i){const e=Wa,t=i[e(154)];for(let r=0;r<t;r++){let s=r,a=Math.abs(i[r][r]);for(let l=r+1;l<t;l++){const c=Math[e(155)](i[l][r]);c>a&&(a=c,s=l)}if(a===0)return null;const o=i[s];i[s]=i[r],i[r]=o;for(let l=r+1;l<t;l++){const c=-i[l][r]/i[r][r];for(let x=r;x<t+1;x++)r==x?i[l][x]=0:i[l][x]+=c*i[r][x]}}const n=new Array(t);for(let r=t-1;r>=0;r--){n[r]=i[r][t]/i[r][r];for(let s=r-1;s>=0;s--)i[s][t]-=i[s][r]*n[r]}return n}function kA(i){return i*Math.PI/180}function UA(){const i=["round","957586OLIloC","ceil","324837bFqMWK","845095XUVSEJ","448964mrzMPm","18SPvRXJ","length","abs","6363738QNZOIv","709119OouYFL","floor","min","8frbHUJ","max","334360iHBNzh"];return UA=function(){return i},UA()}function gc(i,e){const t=i%e;return t*e<0?t+e:t}function or(i,e,t){return i+t*(e-i)}function qI(i,e){const t=Wa,n=Math.pow(10,e);return Math[t(147)](i*n)/n}function Wa(i,e){const t=UA();return Wa=function(n,r){return n=n-143,t[n]},Wa(i,e)}function NA(i,e){return Math[Wa(158)](qI(i,e))}function ja(i,e){return Math[Wa(149)](qI(i,e))}(function(i,e){const t=i0,n=i();for(;;)try{if(-parseInt(t(462))/1*(parseInt(t(454))/2)+-parseInt(t(460))/3*(parseInt(t(451))/4)+-parseInt(t(453))/5*(-parseInt(t(473))/6)+-parseInt(t(452))/7+-parseInt(t(469))/8+parseInt(t(463))/9*(-parseInt(t(449))/10)+parseInt(t(467))/11*(parseInt(t(459))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(GA,381459);function CQ(i,e){return i[0]+=+e[0],i[1]+=+e[1],i}function OA(i,e){const t=i0;let n=!0;for(let r=i[t(450)]-1;r>=0;--r)if(i[r]!=e[r]){n=!1;break}return n}function GA(){const i=["84CatZXr","3213mZRmgS","sqrt","633416HBCVsq","45LLwLYQ","floor","{x}","canWrapX","2632333zAWeIl","toFixed","2887320xEMAza","getExtent","cos","abs","84ftzhbQ","1135250ysLoMU","length","972kQofLU","1374219eaMYXh","258880uvdiER","2haoIyh","{y}","charAt","{x}, {y}","replace"];return GA=function(){return i},GA()}function YI(i,e){const t=i0,n=Math[t(471)](e),r=Math.sin(e),s=i[0]*n-i[1]*r,a=i[1]*n+i[0]*r;return i[0]=s,i[1]=a,i}function bQ(i,e){return i[0]*=e,i[1]*=e,i}function i0(i,e){const t=GA();return i0=function(n,r){return n=n-449,t[n]},i0(i,e)}function XI(i,e){const t=i0;if(e.canWrapX()){const n=ht(e[t(470)]()),r=vQ(i,e,n);r&&(i[0]-=r*n)}return i}function vQ(i,e,t){const n=i0,r=e[n(470)]();let s=0;return e[n(466)]()&&(i[0]<r[0]||i[0]>r[2])&&(t=t||ht(r),s=Math.floor((i[0]-r[0])/t)),s}(function(i,e){const t=VA,n=i();for(;;)try{if(-parseInt(t(351))/1*(parseInt(t(337))/2)+parseInt(t(332))/3+-parseInt(t(342))/4+-parseInt(t(339))/5*(parseInt(t(335))/6)+parseInt(t(325))/7+-parseInt(t(326))/8+-parseInt(t(348))/9*(-parseInt(t(350))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(zA,758508);const wQ=63710088e-1;function zA(){const i=["getGeometries","sin","6451711VUBBOa","402912NJgITI","cos","MultiLineString","LinearRing","abs","asin","2069130BKSWfR","MultiPoint","EPSG:3857","6032052BfKTDV","GeometryCollection","4rPWgOA","MultiPolygon","5TwYCnr","EPSG:4326","Unsupported geometry type: ","5895900yEwYkW","LineString","transform","getCoordinates","length","radius","10216809YFjsWO","getType","20UqCooA","296798IWbORI","atan2","clone","Point"];return zA=function(){return i},zA()}function Lw(i,e,t){const n=VA;t=t||wQ;const r=kA(i[1]),s=kA(e[1]),a=(s-r)/2,o=kA(e[0]-i[0])/2,l=Math[n(356)](a)*Math[n(356)](a)+Math[n(356)](o)*Math[n(356)](o)*Math.cos(r)*Math.cos(s);return 2*t*Math[n(352)](Math.sqrt(l),Math.sqrt(1-l))}function VA(i,e){const t=zA();return VA=function(n,r){return n=n-325,t[n]},VA(i,e)}(function(i,e){const t=HA,n=i();for(;;)try{if(parseInt(t(450))/1*(-parseInt(t(462))/2)+-parseInt(t(454))/3+-parseInt(t(459))/4+-parseInt(t(458))/5+-parseInt(t(460))/6*(-parseInt(t(461))/7)+parseInt(t(456))/8*(parseInt(t(451))/9)+parseInt(t(453))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(qA,153934);function HA(i,e){const t=qA();return HA=function(n,r){return n=n-450,t[n]},HA(i,e)}const Pw={info:1,warn:2,error:3,none:4};let BQ=Pw.info;function qA(){const i=["300xbtpiJ","34867CoZULE","12452csrmEp","8lEJeyj","162xfruiT","warn","1790600kaVQwV","591537IStcBN","error","40176xtIpoM","info","165610pIVxqT","337852sjrgnG"];return qA=function(){return i},qA()}function kw(...i){const e=HA;BQ>Pw[e(452)]||console[e(452)](...i)}(function(i,e){const t=di,n=i();for(;;)try{if(parseInt(t(363))/1+-parseInt(t(365))/2*(parseInt(t(377))/3)+-parseInt(t(373))/4+-parseInt(t(369))/5+-parseInt(t(366))/6+parseInt(t(376))/7*(-parseInt(t(370))/8)+-parseInt(t(372))/9*(-parseInt(t(359))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(YA,136941);let WI=!0;function Uw(i){WI=!1}function jI(i,e){const t=di;if(e!==void 0){for(let n=0,r=i[t(360)];n<r;++n)e[n]=i[n];e=e}else e=i[t(381)]();return e}function Nw(i,e){const t=di;if(e!==void 0&&i!==e){for(let n=0,r=i[t(360)];n<r;++n)e[n]=i[n];i=e}return i}function SQ(i){hQ(i[di(374)](),i),RA(i,i,jI)}function MQ(i){i.forEach(SQ)}function Kt(i){return typeof i===di(378)?uQ(i):i||null}function KI(i,e,t,n){const r=di;i=Kt(i);let s;const a=i[r(375)]();if(a){if(s=a(e,t),n&&n!==i.getUnits()){const o=i[r(371)]();o&&(s=s*o/Ha[n])}}else{const o=i[r(362)]();if(o==r(364)&&!n||n==r(364))s=e;else{const l=ru(i,Kt(r(379)));if(l===Nw&&o!==r(364))s=e*i.getMetersPerUnit();else{let x=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];x=l(x,x,2);const u=Lw(x.slice(0,2),x[r(381)](2,4)),h=Lw(x[r(381)](4,6),x[r(381)](6,8));s=(u+h)/2}const c=n?Ha[n]:i.getMetersPerUnit();c!==void 0&&(s/=c)}}return s}function Ow(i){const e=di;MQ(i),i[e(368)](function(t){i[e(368)](function(r){t!==r&&RA(t,r,jI)})})}function RQ(i,e,t,n){const r=di;i[r(368)](function(s){e[r(368)](function(o){RA(s,o,t),RA(o,s,n)})})}function di(i,e){const t=YA();return di=function(n,r){return n=n-358,t[n]},di(i,e)}function JI(i,e){const t=di;return i?typeof i===t(378)?Kt(i):i:Kt(e)}function ZI(i,e){const t=di;return Uw(),ps(i,t(379),e!==void 0?e:t(361))}function Js(i,e){const t=di;if(i===e)return!0;const n=i[t(362)]()===e[t(362)]();return(i[t(374)]()===e[t(374)]()||ru(i,e)===jI)&&n}function ru(i,e){const t=di,n=i[t(374)](),r=e[t(374)]();let s=fQ(n,r);return!s&&(s=Nw),s}function mc(i,e){const t=Kt(i),n=Kt(e);return ru(t,n)}function ps(i,e,t){const n=di;return mc(e,t)(i,void 0,i[n(360)])}function $I(i,e,t,n){const r=mc(e,t);return Qw(i,r,void 0)}function YA(){const i=["Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.","30RIELoq","length","EPSG:3857","getUnits","147922nYHess","degrees","24dNRxqO","1547334WsoMbD","canWrapX","forEach","832005gbtYDT","3640yteorQ","getMetersPerUnit","2173077cCjeiu","319652ykhxzI","getCode","getPointResolutionFunc","469qnlkRt","50163ZBlZgS","string","EPSG:4326","getExtent","slice"];return YA=function(){return i},YA()}let TQ=null;function DQ(){return TQ}function eE(i,e){return i}function Zs(i,e){const t=di;return WI&&!OA(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(WI=!1,kw(t(358))),i}function tE(i,e){return i}function gs(i,e){return i}function QQ(){Ow(vw),Ow(Bw),RQ(Bw,vw,oQ,cQ)}QQ();function FQ(i){const e=i.getView().getProjection().getCode();let t=i.getView().calculateExtent(i.getSize());return e!=="EPSG:4326"&&(t=$I(t,e,"EPSG:4326")),t}function _c(i,e){let t;const n=i.getView().getProjection().getCode();return n!="EPSG:4326"?t=ps(e,n,"EPSG:4326"):t=e,t}function LQ(i,e){let t=e;const n=i.getView().getProjection().getCode();return n!=="EPSG:4326"&&(t=ps(e,"EPSG:4326",n)),t}class PQ{constructor(e,t){this.map=e,this.options=t,this._tiffObject=null,this.updateRender=!1,this.initBool=!1,this._zoomResolution=[1,1,.5,.5,.25,.25,.125,.125,.0625,.0625,.03125,.03125,.015625,.015625,.007,.007,.0035,.0035,.0018,.0018,9e-4,9e-4]}_render(){return this._tiffObject=new rQ(this.options),this._tiffObject.fetchTiff().then(()=>(this.initBool=!0,!0))}getData(){return new Promise((e,t)=>{this.updateRender=!1,this.worldExtent=this.map.getView().calculateExtent(this.map.getSize()),this.worldExtent=FQ(this.map,this.worldExtent);const n=this.map.getView().getZoom(),r=this._zoomResolution[Math.floor(n)],s=this._tiffObject.matchImageByRes(r);return this._tiffObject.getDataByBbox(s,this.worldExtent).then(a=>(this.updateRender=!0,e(a)))})}}const kQ={id:"4575782",name:"风向杆",font_family:"iconfont",css_prefix_text:"icon-",description:"",glyphs:[{icon_id:"41669603",name:"箭头",font_class:"jiantou",unicode:"e7c7",unicode_decimal:59335},{icon_id:"41669531",name:"反_3级",font_class:"fan_3ji",unicode:"e7c5",unicode_decimal:59333},{icon_id:"41669529",name:"反_1级",font_class:"fan_1ji",unicode:"e7c6",unicode_decimal:59334},{icon_id:"41669551",name:"反_16级",font_class:"fan_16ji",unicode:"e7b2",unicode_decimal:59314},{icon_id:"41669552",name:"反_26级",font_class:"fan_26ji",unicode:"e7b3",unicode_decimal:59315},{icon_id:"41669549",name:"反_21级",font_class:"fan_21ji",unicode:"e7b4",unicode_decimal:59316},{icon_id:"41669543",name:"反_20级",font_class:"fan_20ji",unicode:"e7b5",unicode_decimal:59317},{icon_id:"41669548",name:"反_25级",font_class:"fan_25ji",unicode:"e7b6",unicode_decimal:59318},{icon_id:"41669541",name:"反_13级",font_class:"fan_13ji",unicode:"e7b7",unicode_decimal:59319},{icon_id:"41669546",name:"反_23级",font_class:"fan_23ji",unicode:"e7b8",unicode_decimal:59320},{icon_id:"41669544",name:"反_14级",font_class:"fan_14ji",unicode:"e7b9",unicode_decimal:59321},{icon_id:"41669547",name:"反_19级",font_class:"fan_19ji",unicode:"e7ba",unicode_decimal:59322},{icon_id:"41669545",name:"反_18级",font_class:"fan_18ji",unicode:"e7bb",unicode_decimal:59323},{icon_id:"41669542",name:"反_11级",font_class:"fan_11ji",unicode:"e7bc",unicode_decimal:59324},{icon_id:"41669539",name:"反_6级",font_class:"fan_6ji",unicode:"e7bd",unicode_decimal:59325},{icon_id:"41669537",name:"反_9级",font_class:"fan_9ji",unicode:"e7be",unicode_decimal:59326},{icon_id:"41669536",name:"反_10级",font_class:"fan_10ji",unicode:"e7bf",unicode_decimal:59327},{icon_id:"41669535",name:"反_8级",font_class:"fan_8ji",unicode:"e7c0",unicode_decimal:59328},{icon_id:"41669534",name:"反_7级",font_class:"fan_7ji",unicode:"e7c1",unicode_decimal:59329},{icon_id:"41669533",name:"反_5级",font_class:"fan_5ji",unicode:"e7c2",unicode_decimal:59330},{icon_id:"41669532",name:"反_2级",font_class:"fan_2ji",unicode:"e7c3",unicode_decimal:59331},{icon_id:"41669530",name:"反_4级",font_class:"fan_4ji",unicode:"e7c4",unicode_decimal:59332},{icon_id:"41669558",name:"反_15级",font_class:"fan_15ji",unicode:"e7a9",unicode_decimal:59305},{icon_id:"41669538",name:"反_0级",font_class:"fan_0ji",unicode:"e7aa",unicode_decimal:59306},{icon_id:"41669557",name:"反_24级",font_class:"fan_24ji",unicode:"e7ab",unicode_decimal:59307},{icon_id:"41669556",name:"反_29级",font_class:"fan_29ji",unicode:"e7ac",unicode_decimal:59308},{icon_id:"41669540",name:"反_12级",font_class:"fan_12ji",unicode:"e7ad",unicode_decimal:59309},{icon_id:"41669555",name:"反_22级",font_class:"fan_22ji",unicode:"e7ae",unicode_decimal:59310},{icon_id:"41669553",name:"反_28级",font_class:"fan_28ji",unicode:"e7af",unicode_decimal:59311},{icon_id:"41669550",name:"反_17级",font_class:"fan_17ji",unicode:"e7b0",unicode_decimal:59312},{icon_id:"41669554",name:"反_27级",font_class:"fan_27ji",unicode:"e7b1",unicode_decimal:59313},{icon_id:"41352434",name:"正_16级",font_class:"zheng_16ji",unicode:"e79b",unicode_decimal:59291},{icon_id:"41352435",name:"正_15级",font_class:"zheng_15ji",unicode:"e79c",unicode_decimal:59292},{icon_id:"41352433",name:"正_14级",font_class:"zheng_14ji",unicode:"e78d",unicode_decimal:59277},{icon_id:"41352432",name:"正_12级",font_class:"zheng_12ji",unicode:"e79d",unicode_decimal:59293},{icon_id:"41352431",name:"正_13级",font_class:"zheng_13ji",unicode:"e79e",unicode_decimal:59294},{icon_id:"41352430",name:"正_11级",font_class:"zheng_11ji",unicode:"e79f",unicode_decimal:59295},{icon_id:"41352429",name:"正_9级",font_class:"zheng_9ji",unicode:"e78c",unicode_decimal:59276},{icon_id:"41352428",name:"正_10级",font_class:"zheng_10ji",unicode:"e7a0",unicode_decimal:59296},{icon_id:"41352426",name:"正_7级",font_class:"zheng_7ji",unicode:"e7a1",unicode_decimal:59297},{icon_id:"41352427",name:"正_8级",font_class:"zheng_8ji",unicode:"e7a2",unicode_decimal:59298},{icon_id:"41352421",name:"正_2级",font_class:"zheng_2ji",unicode:"e78b",unicode_decimal:59275},{icon_id:"41352425",name:"正_5级",font_class:"zheng_5ji",unicode:"e7a3",unicode_decimal:59299},{icon_id:"41352424",name:"正_6级",font_class:"zheng_6ji",unicode:"e7a4",unicode_decimal:59300},{icon_id:"41352423",name:"正_4级",font_class:"zheng_4ji",unicode:"e7a5",unicode_decimal:59301},{icon_id:"41352422",name:"正_3级",font_class:"zheng_3ji",unicode:"e7a6",unicode_decimal:59302},{icon_id:"41352420",name:"正_1级",font_class:"zheng_1ji",unicode:"e7a7",unicode_decimal:59303},{icon_id:"41352419",name:"正_0级",font_class:"zheng_0ji",unicode:"e7a8",unicode_decimal:59304},{icon_id:"41352447",name:"正_29级",font_class:"zheng_29ji",unicode:"e790",unicode_decimal:59280},{icon_id:"41352448",name:"正_28级",font_class:"zheng_28ji",unicode:"e791",unicode_decimal:59281},{icon_id:"41352446",name:"正_27级",font_class:"zheng_27ji",unicode:"e792",unicode_decimal:59282},{icon_id:"41352445",name:"正_24级",font_class:"zheng_24ji",unicode:"e793",unicode_decimal:59283},{icon_id:"41352444",name:"正_26级",font_class:"zheng_26ji",unicode:"e794",unicode_decimal:59284},{icon_id:"41352443",name:"正_25级",font_class:"zheng_25ji",unicode:"e795",unicode_decimal:59285},{icon_id:"41352442",name:"正_23级",font_class:"zheng_23ji",unicode:"e78f",unicode_decimal:59279},{icon_id:"41352440",name:"正_21级",font_class:"zheng_21ji",unicode:"e796",unicode_decimal:59286},{icon_id:"41352441",name:"正_22级",font_class:"zheng_22ji",unicode:"e797",unicode_decimal:59287},{icon_id:"41352439",name:"正_19级",font_class:"zheng_19ji",unicode:"e798",unicode_decimal:59288},{icon_id:"41352438",name:"正_20级",font_class:"zheng_20ji",unicode:"e799",unicode_decimal:59289},{icon_id:"41352437",name:"正_17级",font_class:"zheng_17ji",unicode:"e78e",unicode_decimal:59278},{icon_id:"41352436",name:"正_18级",font_class:"zheng_18ji",unicode:"e79a",unicode_decimal:59290}]};function XA(){var i=["1026864XMYVVw","3572100dbuIvp","282LFQQcL","48555ffAYoU","4wzuJjw","108KmyXyz","282251kxDWDw","681972vgHXEa","341VxhgWN","96VbDTOH","7002680hkezOK","134796yUCpYU"];return XA=function(){return i},XA()}(function(i,e){for(var t=nE,n=i();;)try{var r=parseInt(t(406))/1*(-parseInt(t(404))/2)+parseInt(t(405))/3*(-parseInt(t(399))/4)+parseInt(t(403))/5*(-parseInt(t(402))/6)+parseInt(t(401))/7+-parseInt(t(397))/8*(-parseInt(t(400))/9)+-parseInt(t(398))/10+-parseInt(t(408))/11*(-parseInt(t(407))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(XA,706862);function nE(i,e){var t=XA();return nE=function(n,r){n=n-397;var s=t[n];return s},nE(i,e)}const Pe={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function WA(){const i=["4GAPJWV","ol_uid","1767sYmNTz","4205208rYsjFG","7032yEtWdy","211002JDnxHj","156988bJWdVD","3563wceTUb","466645ZZirfG","Unimplemented abstract method.","2703132xTOKtc"];return WA=function(){return i},WA()}(function(i,e){const t=su,n=i();for(;;)try{if(-parseInt(t(145))/1+parseInt(t(146))/2+-parseInt(t(142))/3+parseInt(t(140))/4*(parseInt(t(148))/5)+-parseInt(t(144))/6*(-parseInt(t(147))/7)+-parseInt(t(143))/8+parseInt(t(139))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(WA,331477);function je(){const i=su;throw new Error(i(138))}let UQ=0;function su(i,e){const t=WA();return su=function(n,r){return n=n-138,t[n]},su(i,e)}function et(i){const e=su;return i[e(141)]||(i[e(141)]=String(++UQ))}(function(i,e){for(var t=jA,n=i();;)try{var r=parseInt(t(340))/1*(parseInt(t(344))/2)+-parseInt(t(350))/3+parseInt(t(349))/4*(parseInt(t(342))/5)+-parseInt(t(346))/6+-parseInt(t(347))/7+parseInt(t(341))/8+-parseInt(t(345))/9*(-parseInt(t(343))/10);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(KA,751855);function jA(i,e){var t=KA();return jA=function(n,r){n=n-340;var s=t[n];return s},jA(i,e)}function Gw(i){return i[0]>0&&i[1]>0}function NQ(i,e,t){return t===void 0&&(t=[0,0]),t[0]=i[0]*e+.5|0,t[1]=i[1]*e+.5|0,t}function KA(){var i=["1030yCONeu","2weQfIS","55395enoHFe","3087954ElRCrx","186879aEtrha","isArray","148672smynXT","2346417wXtAIu","1282353iUguIm","677568OjsclS","10cQPMIz"];return KA=function(){return i},KA()}function pi(i,e){var t=jA;return Array[t(348)](i)?i:(e===void 0?e=[i,i]:(e[0]=i,e[1]=i),e)}function JA(){const i=["getRotateWithView","opacity_","240355CVyAIz","getDeclutterMode","getImageState","1840544iuFsDj","getPixelRatio","2HDUqkR","scale","2004636IMbpGQ","rotation_","getAnchor","rotateWithView_","setRotation","1160526VkFlSp","displacement","listenImageChange","getRotation","resolve","rotation","clone","displacement_","907739ssAxLS","scale_","declutterMode_","getDisplacement","scaleArray_","unlistenImageChange","setOpacity","816832wwyeyE","getHitDetectionImage","getImage","opacity","258406WnRRrd","getSize","isArray","slice","getScale","load"];return JA=function(){return i},JA()}const en=ou;(function(i,e){const t=ou,n=i();for(;;)try{if(-parseInt(t(146))/1+-parseInt(t(120))/2*(-parseInt(t(127))/3)+-parseInt(t(142))/4+parseInt(t(154))/5+parseInt(t(122))/6+parseInt(t(135))/7+-parseInt(t(157))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(JA,206014);class au{constructor(e){const t=ou;this.opacity_=e[t(145)],this[t(125)]=e.rotateWithView,this[t(123)]=e[t(132)],this[t(136)]=e[t(121)],this[t(139)]=pi(e[t(121)]),this[t(134)]=e[t(128)],this[t(137)]=e.declutterMode}[en(133)](){const e=en,t=this[e(150)]();return new au({opacity:this.getOpacity(),scale:Array[e(148)](t)?t.slice():t,rotation:this[e(130)](),rotateWithView:this[e(152)](),displacement:this[e(138)]()[e(149)](),declutterMode:this[e(155)]()})}getOpacity(){return this.opacity_}[en(152)](){return this[en(125)]}[en(130)](){return this[en(123)]}getScale(){return this[en(136)]}getScaleArray(){return this.scaleArray_}[en(138)](){return this.displacement_}[en(155)](){return this[en(137)]}[en(124)](){return je()}[en(144)](e){return je()}[en(143)](){return je()}[en(119)](e){return 1}[en(156)](){return je()}getImageSize(){return je()}getOrigin(){return je()}[en(147)](){return je()}setDisplacement(e){const t=en;this[t(134)]=e}[en(141)](e){const t=en;this[t(153)]=e}setRotateWithView(e){const t=en;this[t(125)]=e}[en(126)](e){const t=en;this[t(123)]=e}setScale(e){const t=en;this.scale_=e,this[t(139)]=pi(e)}[en(129)](e){je()}[en(151)](){je()}[en(140)](e){je()}ready(){return Promise[en(131)]()}}function ou(i,e){const t=JA();return ou=function(n,r){return n=n-119,t[n]},ou(i,e)}const cu={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var ni={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};ni.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}},ni.max=ni.whitepoint[2].D65,ni.rgb=function(i,e){e=e||ni.whitepoint[2].E;var t=i[0]/e[0],n=i[1]/e[1],r=i[2]/e[2],s,a,o;return s=t*3.240969941904521+n*-1.537383177570093+r*-.498610760293,a=t*-.96924363628087+n*1.87596750150772+r*.041555057407175,o=t*.055630079696993+n*-.20397695888897+r*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[s*255,a*255,o*255]},cu.xyz=function(i,e){var t=i[0]/255,n=i[1]/255,r=i[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=t*.41239079926595+n*.35758433938387+r*.18048078840183,a=t*.21263900587151+n*.71516867876775+r*.072192315360733,o=t*.019330818715591+n*.11919477979462+r*.95053215224966;return e=e||ni.whitepoint[2].E,[s*e[0],a*e[1],o*e[2]]};const iE={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(i,e,t){var n,r,s,a,o,l,c,x,u,h,f,A,g;if(s=i[0],a=i[1],o=i[2],s===0)return[0,0,0];var d=.0011070564598794539;return e=e||"D65",t=t||2,u=ni.whitepoint[t][e][0],h=ni.whitepoint[t][e][1],f=ni.whitepoint[t][e][2],A=4*u/(u+15*h+3*f),g=9*h/(u+15*h+3*f),n=a/(13*s)+A||0,r=o/(13*s)+g||0,c=s>8?h*Math.pow((s+16)/116,3):h*s*d,l=c*9*n/(4*r)||0,x=c*(12-3*n-20*r)/(4*r)||0,[l,c,x]}};ni.luv=function(i,e,t){var n,r,s,a,o,l,c,x,u,h,f,A,g,d=.008856451679035631,p=903.2962962962961;e=e||"D65",t=t||2,u=ni.whitepoint[t][e][0],h=ni.whitepoint[t][e][1],f=ni.whitepoint[t][e][2],A=4*u/(u+15*h+3*f),g=9*h/(u+15*h+3*f),l=i[0],c=i[1],x=i[2],n=4*l/(l+15*c+3*x)||0,r=9*c/(l+15*c+3*x)||0;var _=c/h;return s=_<=d?p*_:116*Math.pow(_,1/3)-16,a=13*s*(n-A),o=13*s*(r-g),[s,a,o]};var zw={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(i){var e=i[0],t=i[1],n=i[2],r,s,a;return a=n/360*2*Math.PI,r=t*Math.cos(a),s=t*Math.sin(a),[e,r,s]},xyz:function(i){return iE.xyz(zw.luv(i))}};iE.lchuv=function(i){var e=i[0],t=i[1],n=i[2],r=Math.sqrt(t*t+n*n),s=Math.atan2(n,t),a=s*360/2/Math.PI;return a<0&&(a+=360),[e,r,a]},ni.lchuv=function(i){return iE.lchuv(ni.luv(i))};const Vw={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var Hw={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function OQ(i){var x,u;var e,t=[],n=1,r;if(typeof i=="number")return{space:"rgb",values:[i>>>16,(i&65280)>>>8,i&255],alpha:1};if(typeof i=="number")return{space:"rgb",values:[i>>>16,(i&65280)>>>8,i&255],alpha:1};if(i=String(i).toLowerCase(),Vw[i])t=Vw[i].slice(),r="rgb";else if(i==="transparent")n=0,r="rgb",t=[0,0,0];else if(i[0]==="#"){var s=i.slice(1),a=s.length,o=a<=4;n=1,o?(t=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],a===4&&(n=parseInt(s[3]+s[3],16)/255)):(t=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],a===8&&(n=parseInt(s[6]+s[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(i)){var l=e[1];r=l.replace(/a$/,"");var c=r==="cmyk"?4:r==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=t.shift()),t=t.map(function(h,f){if(h[h.length-1]==="%")return h=parseFloat(h)/100,f===3?h:r==="rgb"?h*255:r[0]==="h"||r[0]==="l"&&!f?h*100:r==="lab"?h*125:r==="lch"?f<2?h*150:h*360:r[0]==="o"&&!f?h:r==="oklab"?h*.4:r==="oklch"?f<2?h*.4:h*360:h;if(r[f]==="h"||f===2&&r[r.length-1]==="h"){if(Hw[h]!==void 0)return Hw[h];if(h.endsWith("deg"))return parseFloat(h);if(h.endsWith("turn"))return parseFloat(h)*360;if(h.endsWith("grad"))return parseFloat(h)*360/400;if(h.endsWith("rad"))return parseFloat(h)*180/Math.PI}return h==="none"?0:parseFloat(h)}),n=t.length>c?t.pop():1}else/[0-9](?:\s|\/|,)/.test(i)&&(t=i.match(/([0-9]+)/g).map(function(h){return parseFloat(h)}),r=((u=(x=i.match(/([a-z])/ig))==null?void 0:x.join(""))==null?void 0:u.toLowerCase())||"rgb");return{space:r,values:t,alpha:n}}const rE={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(i){var e=i[0]/360,t=i[1]/100,n=i[2]/100,r,s,a,o,l,c=0;if(t===0)return l=n*255,[l,l,l];for(s=n<.5?n*(1+t):n+t-n*t,r=2*n-s,o=[0,0,0];c<3;)a=e+1/3*-(c-1),a<0?a++:a>1&&a--,l=6*a<1?r+(s-r)*6*a:2*a<1?s:3*a<2?r+(s-r)*(2/3-a)*6:r,o[c++]=l*255;return o}};cu.hsl=function(i){var e=i[0]/255,t=i[1]/255,n=i[2]/255,r=Math.min(e,t,n),s=Math.max(e,t,n),a=s-r,o,l,c;return s===r?o=0:e===s?o=(t-n)/a:t===s?o=2+(n-e)/a:n===s&&(o=4+(e-t)/a),o=Math.min(o*60,360),o<0&&(o+=360),c=(r+s)/2,s===r?l=0:c<=.5?l=a/(s+r):l=a/(2-s-r),[o,l*100,c*100]};function qw(i){Array.isArray(i)&&i.raw&&(i=String.raw(...arguments)),i instanceof Number&&(i=+i);var e,t=OQ(i);if(!t.space)return[];const n=t.space[0]==="h"?rE.min:cu.min,r=t.space[0]==="h"?rE.max:cu.max;return e=Array(3),e[0]=Math.min(Math.max(t.values[0],n[0]),r[0]),e[1]=Math.min(Math.max(t.values[1],n[1]),r[1]),e[2]=Math.min(Math.max(t.values[2],n[2]),r[2]),t.space[0]==="h"&&(e=rE.rgb(e)),e.push(Math.min(Math.max(t.alpha,0),1)),e}(function(i,e){const t=$s,n=i();for(;;)try{if(-parseInt(t(365))/1+parseInt(t(369))/2*(parseInt(t(373))/3)+parseInt(t(374))/4+-parseInt(t(379))/5*(parseInt(t(364))/6)+-parseInt(t(375))/7+parseInt(t(381))/8+parseInt(t(367))/9*(parseInt(t(377))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ZA,844995);function $s(i,e){const t=ZA();return $s=function(n,r){return n=n-364,t[n]},$s(i,e)}const sE=[NaN,NaN,NaN,0];function ea(i){return typeof i=="string"?i:cE(i)}const GQ=1024,lu={};let aE=0;function zQ(i){const e=$s;if(i.length===4)return i;const t=i[e(382)]();return t[3]=1,t}function Yw(i){const e=$s,t=ni[e(368)](cu[e(370)](i));return t[3]=i[3],t}function VQ(i){const e=$s,t=ni[e(376)](zw[e(370)](i));return t[3]=i[3],t}function oE(i){const e=$s;if(i===e(366))return sE;if(lu[e(385)](i))return lu[i];if(aE>=GQ){let n=0;for(const r in lu)!(n++&3)&&(delete lu[r],--aE)}const t=qw(i);if(t[e(383)]!==4)throw new Error(e(371)+i+e(380));for(const n of t)if(isNaN(n))throw new Error(e(371)+i+e(380));return Xw(t),lu[i]=t,++aE,t}function xu(i){return Array[$s(372)](i)?i:oE(i)}function Xw(i){return i[0]=Sn(i[0]+.5|0,0,255),i[1]=Sn(i[1]+.5|0,0,255),i[2]=Sn(i[2]+.5|0,0,255),i[3]=Sn(i[3],0,1),i}function cE(i){const e=$s;let t=i[0];t!=(t|0)&&(t=t+.5|0);let n=i[1];n!=(n|0)&&(n=n+.5|0);let r=i[2];r!=(r|0)&&(r=r+.5|0);const s=i[3]===void 0?1:Math[e(384)](i[3]*1e3)/1e3;return e(378)+t+","+n+","+r+","+s+")"}function ZA(){const i=["xyz",'failed to parse "',"isArray","1155744OHihth","5985056fSRHfE","3264016pzJVBj","rgb","6660RJrHMg","rgba(","5lWSvUf",'" as color',"4738832YSteYK","slice","length","round","hasOwnProperty","9698106VJuLyJ","1688754TTDGcb","none","28953JySvgd","lchuv","2Jluctf"];return ZA=function(){return i},ZA()}const yn=td;(function(i,e){const t=td,n=i();for(;;)try{if(parseInt(t(484))/1+-parseInt(t(481))/2*(parseInt(t(462))/3)+-parseInt(t(482))/4+parseInt(t(463))/5*(parseInt(t(474))/6)+parseInt(t(485))/7+parseInt(t(483))/8*(-parseInt(t(461))/9)+-parseInt(t(475))/10*(-parseInt(t(478))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})($A,905842);const Ka=typeof navigator<"u"&&typeof navigator[yn(486)]<"u"?navigator.userAgent.toLowerCase():"",HQ=Ka.includes(yn(476));Ka[yn(460)](yn(469))&&!Ka[yn(460)](yn(468))&&(Ka[yn(460)](yn(470))||/cpu (os|iphone os) 15_4 like mac os x/[yn(466)](Ka));const qQ=Ka[yn(460)](yn(479))&&!Ka[yn(460)](yn(464));function $A(){const i=["2395PyGpde","edge","decode","test","removeEventListener","chrom","safari","version/15.4","addEventListener","function","prototype","17646ufkNTC","20qSDKIY","firefox","defineProperty","2255253tXHcAJ","webkit","undefined","124RHZnCO","4282040eMHbHm","24sIAqiu","1192167GYVBll","11224563fqcQlu","userAgent","macintosh","includes","3427263EntTOF","72372YiloiR"];return $A=function(){return i},$A()}const Ww=Ka[yn(460)](yn(459)),ed=typeof devicePixelRatio!==yn(480)?devicePixelRatio:1,jw=typeof WorkerGlobalScope!==yn(480)&&typeof OffscreenCanvas!==yn(480)&&self instanceof WorkerGlobalScope,Kw=typeof Image!==yn(480)&&Image[yn(473)][yn(465)];function td(i,e){const t=$A();return td=function(n,r){return n=n-459,t[n]},td(i,e)}yn(472);const Jw=function(){const i=yn;let e=!1;try{const t=Object[i(477)]({},"passive",{get:function(){e=!0}});window[i(471)]("_",null,t),window[i(467)]("_",null,t)}catch{}return e}();(function(i,e){const t=Ja,n=i();for(;;)try{if(parseInt(t(432))/1*(-parseInt(t(428))/2)+parseInt(t(414))/3*(-parseInt(t(412))/4)+-parseInt(t(411))/5+-parseInt(t(413))/6+-parseInt(t(416))/7*(parseInt(t(420))/8)+-parseInt(t(418))/9*(-parseInt(t(426))/10)+-parseInt(t(427))/11*(-parseInt(t(419))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(id,786620);function fn(i,e,t,n){const r=Ja;let s;return t&&t[r(424)]?s=t[r(429)]():jw?s=new OffscreenCanvas(i||300,e||300):s=document[r(431)](r(435)),i&&(s[r(417)]=i),e&&(s[r(436)]=e),s[r(434)]("2d",n)}let lE;function nd(){return!lE&&(lE=fn(1,1)),lE}function r0(i){const e=Ja,t=i[e(435)];t[e(417)]=1,t.height=1,i[e(425)](0,0,1,1)}function id(){const i=["104650OarOoM","width","697923moYkMN","24DoBGGW","16yMZRxV","remove","appendChild","offsetHeight","length","clearRect","60lEpzUw","13231823LxVLCW","4tOQNbO","shift","childNodes","createElement","30686ffCKNZ","replaceChild","getContext","canvas","height","2006665bhffRl","4kysMAV","5072274nNJDpo","2239392zKcvNR","marginLeft"];return id=function(){return i},id()}function Zw(i,e){const t=Ja,n=e.parentNode;n&&n[t(433)](i,e)}function Ja(i,e){const t=id();return Ja=function(n,r){return n=n-411,t[n]},Ja(i,e)}function YQ(i){const e=Ja;for(;i.lastChild;)i.lastChild[e(421)]()}function XQ(i,e){const t=Ja,n=i[t(430)];for(let r=0;;++r){const s=n[r],a=e[r];if(!s&&!a)break;if(s!==a){if(!s){i[t(422)](a);continue}if(!a){i.removeChild(s),--r;continue}i.insertBefore(a,s)}}}var $w=uu;(function(i,e){for(var t=uu,n=i();;)try{var r=-parseInt(t(507))/1*(-parseInt(t(500))/2)+parseInt(t(504))/3+parseInt(t(496))/4+-parseInt(t(502))/5*(parseInt(t(497))/6)+-parseInt(t(501))/7*(parseInt(t(503))/8)+-parseInt(t(508))/9+parseInt(t(505))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(sd,907069);function uu(i,e){var t=sd();return uu=function(n,r){n=n-496;var s=t[n];return s},uu(i,e)}let rd=class{constructor(){var e=uu;this[e(506)]=!1}[$w(499)](){var e=$w;!this[e(506)]&&(this[e(506)]=!0,this[e(498)]())}disposeInternal(){}};function sd(){var i=["1048MueHrP","4259754SnMrxw","6281930IbGJKM","disposed","37qsvOnb","11841129xIkmIN","5337832baONaj","348kluLtZ","disposeInternal","dispose","84122qkyAty","55944zFyifJ","143890IGGmpa"];return sd=function(){return i},sd()}function Ic(i,e){var t=ad();return Ic=function(n,r){n=n-435;var s=t[n];return s},Ic(i,e)}var eB=Ic;(function(i,e){for(var t=Ic,n=i();;)try{var r=-parseInt(t(447))/1*(parseInt(t(451))/2)+parseInt(t(445))/3*(-parseInt(t(437))/4)+-parseInt(t(440))/5*(-parseInt(t(441))/6)+parseInt(t(452))/7+-parseInt(t(449))/8*(parseInt(t(448))/9)+parseInt(t(443))/10+parseInt(t(442))/11*(-parseInt(t(435))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ad,482152);let Cr=class{constructor(e){var t=Ic;this[t(438)],this[t(436)],this[t(439)]=e,this[t(446)]=null}preventDefault(){var e=Ic;this[e(436)]=!0}[eB(450)](){var e=eB;this[e(438)]=!0}};function ad(){var i=["18579fpYAUJ","target","26OvrcwS","3339Tpnrpw","1064LfjSOs","stopPropagation","9004ThhiPE","2171043YSPVAi","12XWlCEw","defaultPrevented","40euIJnI","propagationStopped","type","9705EtLGSi","2808nEUrHO","14496207wNugPE","8097770FYbTQQ","preventDefault"];return ad=function(){return i},ad()}(function(i,e){const t=s0,n=i();for(;;)try{if(-parseInt(t(338))/1*(parseInt(t(336))/2)+parseInt(t(346))/3+parseInt(t(352))/4*(-parseInt(t(345))/5)+parseInt(t(350))/6*(-parseInt(t(340))/7)+-parseInt(t(347))/8+parseInt(t(348))/9+-parseInt(t(344))/10*(-parseInt(t(337))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(cd,383458);function WQ(i,e,t){const n=s0;let r,s;t=t||ms;let a=0,o=i[n(349)],l=!1;for(;a<o;)r=a+(o-a>>1),s=+t(i[r],e),s<0?a=r+1:(o=r,l=!s);return l?a:~a}function ms(i,e){return i>e?1:i<e?-1:0}function od(i,e,t){const n=s0;if(i[0]<=e)return 0;const r=i[n(349)];if(e<=i[r-1])return r-1;if(typeof t===n(343)){for(let s=1;s<r;++s){const a=i[s];if(a===e)return s;if(a<e)return t(e,i[s-1],a)>0?s-1:s}return r-1}if(t>0){for(let s=1;s<r;++s)if(i[s]<e)return s-1;return r-1}if(t<0){for(let s=1;s<r;++s)if(i[s]<=e)return s;return r-1}for(let s=1;s<r;++s){if(i[s]==e)return s;if(i[s]<e)return i[s-1]-e<e-i[s]?s-1:s}return r-1}function jQ(i,e,t){for(;e<t;){const n=i[e];i[e]=i[t],i[t]=n,++e,--t}}function _s(i,e){const t=s0,n=Array[t(339)](e)?e:[e],r=n[t(349)];for(let s=0;s<r;s++)i[i[t(349)]]=n[s]}function Za(i,e){const t=i.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(i[n]!==e[n])return!1;return!0}function cd(){const i=["6552189tYfIRQ","length","42Qkhdqg","indexOf","4052TZPNxF","index","value","239246sDwDMi","11ddZYMb","5HHqIid","isArray","628859CPKOEq","splice","every","function","12797170IqhzUs","415kniVcq","371466gmmkOS","3496392vDxGGY"];return cd=function(){return i},cd()}function s0(i,e){const t=cd();return s0=function(n,r){return n=n-336,t[n]},s0(i,e)}function KQ(i,e,t){const n=s0,r=e||ms;return i[n(342)](function(s,a){if(a===0)return!0;const o=r(i[a-1],s);return!(o>0||t&&o===0)})}function hu(i,e){const t=xd();return hu=function(n,r){return n=n-349,t[n]},hu(i,e)}(function(i,e){const t=hu,n=i();for(;;)try{if(parseInt(t(364))/1*(-parseInt(t(349))/2)+-parseInt(t(353))/3+parseInt(t(350))/4*(parseInt(t(354))/5)+-parseInt(t(357))/6*(parseInt(t(361))/7)+parseInt(t(352))/8+-parseInt(t(356))/9*(-parseInt(t(355))/10)+-parseInt(t(359))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(xd,621431);function fu(){return!0}function ld(){return!1}function Ec(){}function tB(i){let e,t,n;return function(){const r=hu,s=Array.prototype[r(363)][r(360)](arguments);return(!t||this!==n||!Za(s,t))&&(n=this,t=s,e=i[r(351)](this,arguments)),e}}function xd(){const i=["1251090jGQhal","72jmSJxy","60wagTIA","reject","3873562NLsrPX","call","585242XOanpH","resolve","slice","117790syfPqw","2vaenJf","1206060UfRItB","apply","5445168KLolKZ","166830tsDNIZ","5BeoDJb"];return xd=function(){return i},xd()}function yc(i){function e(){const t=hu;let n;try{n=i()}catch(r){return Promise[t(358)](r)}return n instanceof Promise?n:Promise[t(362)](n)}return e()}function Au(i,e){const t=ud();return Au=function(n,r){return n=n-289,t[n]},Au(i,e)}function ud(){const i=["387DJGBoZ","handleEvent","85080WUYjcg","1870128siIoAi","listeners_","type","eventTarget_","hasListener","2cWwFiu","splice","1018095xoTBeM","2324862epozjN","298021BngtaZ","2066517MElfRS","target","5231597BZNAuL","indexOf","includes","pendingRemovals_","disposeInternal","dispatchEvent","removeEventListener","getListeners","call","length","string","addEventListener","dispatching_"];return ud=function(){return i},ud()}const Hr=Au;(function(i,e){const t=Au,n=i();for(;;)try{if(parseInt(t(300))/1*(-parseInt(t(296))/2)+parseInt(t(301))/3+-parseInt(t(291))/4+-parseInt(t(298))/5+parseInt(t(299))/6+parseInt(t(303))/7+-parseInt(t(290))/8*(parseInt(t(316))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ud,397210);let du=class extends rd{constructor(e){const t=Au;super(),this[t(294)]=e,this[t(306)]=null,this[t(315)]=null,this.listeners_=null}[Hr(314)](e,t){const n=Hr;if(!e||!t)return;const r=this[n(292)]||(this[n(292)]={}),s=r[e]||(r[e]=[]);!s[n(305)](t)&&s.push(t)}[Hr(308)](e){const t=Hr,n=typeof e===t(313),r=n?e:e[t(293)],s=this.listeners_&&this[t(292)][r];if(!s)return;const a=n?new Cr(e):e;!a[t(302)]&&(a[t(302)]=this.eventTarget_||this);const o=this[t(315)]||(this.dispatching_={}),l=this[t(306)]||(this.pendingRemovals_={});!(r in o)&&(o[r]=0,l[r]=0),++o[r];let c;for(let x=0,u=s[t(312)];x<u;++x)if(t(289)in s[x]?c=s[x][t(289)](a):c=s[x][t(311)](this,a),c===!1||a.propagationStopped){c=!1;break}if(--o[r]===0){let x=l[r];for(delete l[r];x--;)this[t(309)](r,Ec);delete o[r]}return c}[Hr(307)](){const e=Hr;this[e(292)]&&tu(this[e(292)])}[Hr(310)](e){const t=Hr;return this[t(292)]&&this[t(292)][e]||void 0}[Hr(295)](e){const t=Hr;return this[t(292)]?e?e in this[t(292)]:Object.keys(this[t(292)])[t(312)]>0:!1}removeEventListener(e,t){const n=Hr;if(!this[n(292)])return;const r=this.listeners_[e];if(!r)return;const s=r[n(304)](t);s!==-1&&(this[n(306)]&&e in this.pendingRemovals_?(r[s]=Ec,++this[n(306)][e]):(r[n(297)](s,1),r[n(312)]===0&&delete this[n(292)][e]))}};function hd(){var i=["388EKPNSI","1117166ueGYGM","change","resize","192bxMfEY","clear","keydown","1653085hufRcH","30755dohTdK","9670EGRiWz","597348VxeNXc","touchmove","5720PgYCdh","115527KWnDTQ","error","dragenter","load","74QcFfLM","focus","blur","8466924MFHhuQ","dblclick","dragover","keypress"];return hd=function(){return i},hd()}function fd(i,e){var t=hd();return fd=function(n,r){n=n-383;var s=t[n];return s},fd(i,e)}var cr=fd;(function(i,e){for(var t=fd,n=i();;)try{var r=parseInt(t(384))/1+-parseInt(t(400))/2*(parseInt(t(396))/3)+-parseInt(t(383))/4*(-parseInt(t(391))/5)+parseInt(t(403))/6+parseInt(t(390))/7+-parseInt(t(387))/8*(parseInt(t(393))/9)+-parseInt(t(392))/10*(-parseInt(t(395))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(hd,846201);const Ye={CHANGE:cr(385),ERROR:cr(397),BLUR:cr(402),CLEAR:cr(388),CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:cr(404),DRAGENTER:cr(398),DRAGOVER:cr(405),DROP:"drop",FOCUS:cr(401),KEYDOWN:cr(389),KEYPRESS:cr(406),LOAD:cr(399),RESIZE:cr(386),TOUCHMOVE:cr(394),WHEEL:"wheel"};(function(i,e){const t=Cc,n=i();for(;;)try{if(-parseInt(t(128))/1+-parseInt(t(137))/2*(parseInt(t(139))/3)+parseInt(t(134))/4*(-parseInt(t(141))/5)+parseInt(t(135))/6*(parseInt(t(140))/7)+-parseInt(t(130))/8*(parseInt(t(136))/9)+-parseInt(t(142))/10+parseInt(t(132))/11*(parseInt(t(138))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ad,891809);function Ad(){const i=["target","apply","615620AOGSWA","bind","849688gIONhz","listener","11500357DKxJRB","removeEventListener","82172mbVCCi","2298bPlpxb","9LYcQiv","2TxTHLu","24jgqdRM","2369838kxHmed","16261lnoDCf","25RxsVZE","4743820sjPBLz"];return Ad=function(){return i},Ad()}function Cc(i,e){const t=Ad();return Cc=function(n,r){return n=n-128,t[n]},Cc(i,e)}function mt(i,e,t,n,r){const s=Cc;if(r){const o=t;t=function(){const l=Cc;i.removeEventListener(e,t),o[l(144)](n??this,arguments)}}else n&&n!==i&&(t=t[s(129)](n));const a={target:i,type:e,listener:t};return i.addEventListener(e,t),a}function dd(i,e,t,n){return mt(i,e,t,n,!0)}function Jt(i){const e=Cc;i&&i[e(143)]&&(i[e(143)][e(133)](i.type,i[e(131)]),tu(i))}const gi=a0;(function(i,e){const t=a0,n=i();for(;;)try{if(-parseInt(t(367))/1+parseInt(t(380))/2+parseInt(t(365))/3+-parseInt(t(368))/4*(-parseInt(t(377))/5)+-parseInt(t(405))/6*(parseInt(t(399))/7)+-parseInt(t(372))/8*(parseInt(t(403))/9)+parseInt(t(374))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(pd,158450);function pd(){const i=["catch","addEventListener","277461jSPGXj","src","77646HJsoti","712647daRhJA","CHANGE","261737RsUIqK","185428YKAKnq","dispatchEvent","resolution","decode","48DbuxNN","isArray","4532610KxcpOP","loader","then","5KoQvXd","state","image_","357156KlPvdZ","LOAD","error","getPixelRatio","LOADING","changed","pixelRatio_","pixelRatio","getImage","width","getResolution","IDLE","complete","load","image","ERROR","function","finally","extent","168dIdqZF","getState"];return pd=function(){return i},pd()}function a0(i,e){const t=pd();return a0=function(n,r){return n=n-365,t[n]},a0(i,e)}let xE=class extends du{constructor(e,t,n,r){const s=a0;super(),this.extent=e,this.pixelRatio_=n,this[s(370)]=t,this[s(378)]=typeof r===s(396)?Pe[s(391)]:r,this.image_=null,this[s(375)]=typeof r===s(396)?r:null}[gi(385)](){const e=gi;this[e(369)](Ye[e(366)])}getExtent(){return this[gi(398)]}[gi(388)](){return this[gi(379)]}[gi(383)](){return this[gi(386)]}[gi(390)](){return this[gi(370)]}[gi(400)](){return this[gi(378)]}[gi(393)](){const e=gi;if(this.state==Pe.IDLE&&this[e(375)]){this.state=Pe[e(384)],this[e(385)]();const t=this.getResolution(),n=Array[e(373)](t)?t[0]:t;yc(()=>this[e(375)](this.getExtent(),n,this[e(383)]()))[e(376)](r=>{const s=e;s(394)in r&&(this.image_=r[s(394)]),s(398)in r&&(this[s(398)]=r[s(398)]),s(370)in r&&(this.resolution=r[s(370)]),s(387)in r&&(this[s(386)]=r[s(387)]),(r instanceof HTMLImageElement||r instanceof ImageBitmap||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement)&&(this.image_=r),this[s(378)]=Pe.LOADED})[e(401)](r=>{const s=e;this[s(378)]=Pe.ERROR,console[s(382)](r)})[e(397)](()=>this[e(385)]())}}setImage(e){const t=gi;this[t(379)]=e}setResolution(e){this.resolution=e}};function JQ(i,e,t){const n=gi,r=i;let s=!0,a=!1,o=!1;const l=[dd(r,Ye[n(381)],function(){o=!0,!a&&e()})];return r.src&&Kw?(a=!0,r[n(371)]()[n(376)](function(){s&&e()})[n(401)](function(c){s&&(o?e():t())})):l.push(dd(r,Ye[n(395)],t)),function(){s=!1,l.forEach(Jt)}}function ZQ(i,e){return new Promise((t,n)=>{const r=a0;function s(){o(),t(i)}function a(){o(),n(new Error("Image load error"))}function o(){const l=a0;i.removeEventListener(l(393),s),i.removeEventListener(l(382),a)}i[r(402)](r(393),s),i[r(402)](r(382),a)})}function $Q(i,e){const t=gi;return e&&(i[t(404)]=e),i.src&&Kw?new Promise((n,r)=>i[t(371)]().then(()=>n(i))[t(401)](s=>i[t(392)]&&i[t(389)]?n(i):r(s))):ZQ(i)}const qr=pu;(function(i,e){const t=pu,n=i();for(;;)try{if(-parseInt(t(469))/1*(parseInt(t(467))/2)+parseInt(t(482))/3*(parseInt(t(480))/4)+parseInt(t(485))/5+-parseInt(t(472))/6*(-parseInt(t(479))/7)+-parseInt(t(484))/8+-parseInt(t(474))/9+parseInt(t(475))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(gd,503306);class e7{constructor(){const e=pu;this[e(481)]={},this[e(463)]={},this[e(468)]=0,this[e(460)]=32}[qr(459)](){const e=qr;this[e(481)]={},this[e(463)]={},this.cacheSize_=0}[qr(476)](){const e=qr;return this[e(468)]>this[e(460)]}expire(){const e=qr;if(this[e(476)]()){let t=0;for(const n in this[e(481)]){const r=this[e(481)][n];!(t++&3)&&!r[e(462)]()&&(delete this[e(481)][n],delete this.patternCache_[n],--this[e(468)])}}}[qr(461)](e,t,n){const r=qr,s=uE(e,t,n);return s in this[r(481)]?this[r(481)][s]:null}[qr(477)](e,t,n){const r=qr,s=uE(e,t,n);return s in this[r(463)]?this[r(463)][s]:null}set(e,t,n,r,s){const a=qr,o=uE(e,t,n),l=o in this[a(481)];this[a(481)][o]=r,s&&(r[a(466)]()===Pe[a(471)]&&r[a(464)](),r[a(466)]()===Pe[a(478)]?r.ready().then(()=>{const c=a;this.patternCache_[o]=nd()[c(473)](r[c(483)](1),"repeat")}):this[a(463)][o]=nd()[a(473)](r[a(483)](1),a(470))),!l&&++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function gd(){const i=["8OilOIx","cache_","879153cpxsmW","getImage","6749320vRRsZo","1375090mkJZDP","clear","maxCacheSize_","get","hasListener","patternCache_","load","null","getImageState","562xIVKDa","cacheSize_","757KersCp","repeat","IDLE","6WofXSL","createPattern","3505968MFDdXG","3120610wrRiEe","canExpireCache","getPattern","LOADING","5432413YkncNg"];return gd=function(){return i},gd()}function pu(i,e){const t=gd();return pu=function(n,r){return n=n-459,t[n]},pu(i,e)}function uE(i,e,t){const n=qr,r=t?xu(t):n(465);return e+":"+i+":"+r}const Is=new e7,an=mu;(function(i,e){const t=mu,n=i();for(;;)try{if(parseInt(t(327))/1*(-parseInt(t(293))/2)+-parseInt(t(297))/3*(parseInt(t(306))/4)+-parseInt(t(291))/5+-parseInt(t(334))/6*(parseInt(t(310))/7)+parseInt(t(287))/8+parseInt(t(320))/9+parseInt(t(299))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(md,958925);let gu=null;class nB extends du{constructor(e,t,n,r,s){const a=mu;super(),this.hitDetectionImage_=null,this[a(294)]=e,this[a(300)]=n,this.canvas_={},this[a(336)]=s,this[a(323)]=r===void 0?Pe[a(315)]:r,this.size_=e&&e[a(337)]&&e[a(311)]?[e[a(337)],e.height]:null,this[a(305)]=t,this.tainted_,this[a(309)]=null}[an(314)](){const e=an;this[e(294)]=new Image,this.crossOrigin_!==null&&(this[e(294)][e(304)]=this[e(300)])}[an(295)](){const e=an;if(this[e(325)]===void 0&&this[e(323)]===Pe.LOADED){!gu&&(gu=fn(1,1,void 0,{willReadFrequently:!0})),gu[e(302)](this[e(294)],0,0);try{gu[e(331)](0,0,1,1),this[e(325)]=!1}catch{gu=null,this[e(325)]=!0}}return this[e(325)]===!0}[an(286)](){const e=an;this[e(340)](Ye[e(319)])}[an(328)](){const e=an;this[e(323)]=Pe[e(313)],this.dispatchChangeEvent_()}[an(298)](){const e=an;this[e(323)]=Pe[e(307)],this[e(317)]=[this.image_.width,this[e(294)][e(311)]],this.dispatchChangeEvent_()}[an(324)](e){const t=an;return!this.image_&&this[t(314)](),this[t(333)](e),this[t(290)][e]?this[t(290)][e]:this.image_}[an(321)](e){const t=an;return this[t(333)](e),this[t(290)][e]?e:1}getImageState(){return this[an(323)]}[an(341)](){const e=an;if(!this[e(294)]&&this[e(314)](),!this.hitDetectionImage_)if(this[e(295)]()){const t=this[e(317)][0],n=this[e(317)][1],r=fn(t,n);r.fillRect(0,0,t,n),this[e(335)]=r[e(339)]}else this[e(335)]=this.image_;return this[e(335)]}[an(330)](){return this.size_}[an(322)](){return this[an(305)]}[an(288)](){const e=an;if(this[e(323)]===Pe.IDLE){!this[e(294)]&&this[e(314)](),this.imageState_=Pe.LOADING;try{this[e(305)]!==void 0&&(this[e(294)].src=this[e(305)])}catch{this[e(328)]()}this[e(294)]instanceof HTMLImageElement&&$Q(this[e(294)],this[e(305)])[e(303)](t=>{const n=e;this[n(294)]=t,this[n(298)]()}).catch(this[e(328)][e(332)](this))}}replaceColor_(e){const t=an;if(!this[t(336)]||this[t(290)][e]||this[t(323)]!==Pe.LOADED)return;const n=this[t(294)],r=document.createElement(t(339));r[t(337)]=Math[t(318)](n[t(337)]*e),r[t(311)]=Math[t(318)](n[t(311)]*e);const s=r[t(338)]("2d");s[t(329)](e,e),s[t(302)](n,0,0),s[t(285)]=t(308),s[t(289)]=ea(this[t(336)]),s.fillRect(0,0,r[t(337)]/e,r[t(311)]/e),s.globalCompositeOperation=t(326),s[t(302)](n,0,0),this[t(290)][e]=r}[an(292)](){const e=an;return!this[e(309)]&&(this.ready_=new Promise(t=>{const n=e;if(this[n(323)]===Pe[n(307)]||this.imageState_===Pe[n(313)])t();else{const r=()=>{const s=n;(this[s(323)]===Pe[s(307)]||this[s(323)]===Pe[s(313)])&&(this[s(301)](Ye.CHANGE,r),t())};this[n(316)](Ye[n(319)],r)}})),this[e(309)]}}function hE(i,e,t,n,r,s){const a=an;let o=e===void 0?void 0:Is.get(e,t,r);return!o&&(o=new nB(i,i&&"src"in i?i.src||void 0:e,t,n,r),Is.set(e,t,r,o,s)),s&&o&&!Is[a(312)](e,t,r)&&Is[a(296)](e,t,r,o,s),o}function mu(i,e){const t=md();return mu=function(n,r){return n=n-285,t[n]},mu(i,e)}function md(){const i=["destination-in","76331DEWKbV","handleImageError_","scale","getSize","getImageData","bind","replaceColor_","24204CcTclN","hitDetectionImage_","color_","width","getContext","canvas","dispatchEvent","getHitDetectionImage","globalCompositeOperation","dispatchChangeEvent_","2873896QHrTcI","load","fillStyle","canvas_","2011080XtDVUS","ready","2RHAJUv","image_","isTainted_","set","6LxaqiJ","handleImageLoad_","18076690cwjmVR","crossOrigin_","removeEventListener","drawImage","then","crossOrigin","src_","1363028ovgMBd","LOADED","multiply","ready_","469gxeFxZ","height","getPattern","ERROR","initializeImage_","IDLE","addEventListener","size_","ceil","CHANGE","2001222CLooBH","getPixelRatio","getSrc","imageState_","getImage","tainted_"];return md=function(){return i},md()}(function(i,e){const t=_u,n=i();for(;;)try{if(-parseInt(t(385))/1+parseInt(t(401))/2*(-parseInt(t(384))/3)+parseInt(t(388))/4+-parseInt(t(390))/5+-parseInt(t(383))/6+-parseInt(t(396))/7+-parseInt(t(402))/8*(-parseInt(t(397))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_d,297367);function _d(){const i=["3xamwtD","461214QBFXQj","offset","size","1975100psxOjQ","getPattern","1885610yRprBx","isArray","canvas","drawImage","src","color","1265488EsIMOe","10053PWSwNS","getImageState","anonymous","LOADED","187498veKviY","6712UbPoyc","object","124212QBXWQK"];return _d=function(){return i},_d()}function _u(i,e){const t=_d();return _u=function(n,r){return n=n-382,t[n]},_u(i,e)}function Es(i){const e=_u;return i?Array[e(391)](i)?cE(i):typeof i===e(382)&&e(394)in i?t7(i):i:null}function t7(i){const e=_u;if(!i[e(386)]||!i[e(387)])return Is.getPattern(i[e(394)],e(399),i.color);const t=i[e(394)]+":"+i.offset,n=Is.getPattern(t,void 0,i[e(395)]);if(n)return n;const r=Is.get(i[e(394)],e(399),null);if(r[e(398)]()!==Pe[e(400)])return null;const s=fn(i.size[0],i[e(387)][1]);return s[e(393)](r.getImage(1),i[e(386)][0],i[e(386)][1],i[e(387)][0],i[e(387)][1],0,0,i[e(387)][0],i[e(387)][1]),hE(s[e(392)],t,void 0,Pe[e(400)],i[e(395)],!0),Is[e(389)](t,void 0,i.color)}var n7=Id;function Id(i,e){var t=Ed();return Id=function(n,r){n=n-369;var s=t[n];return s},Id(i,e)}(function(i,e){for(var t=Id,n=i();;)try{var r=parseInt(t(378))/1*(-parseInt(t(377))/2)+parseInt(t(375))/3*(parseInt(t(379))/4)+parseInt(t(381))/5*(-parseInt(t(374))/6)+-parseInt(t(380))/7+parseInt(t(373))/8*(-parseInt(t(376))/9)+parseInt(t(372))/10*(-parseInt(t(369))/11)+parseInt(t(370))/12;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ed,242947);const bc={PROPERTYCHANGE:n7(371)};function Ed(){var i=["6lzFoWQ","9663IGPCuV","3519OaobEj","2oNVXkh","107563wItWZy","208MSDqbw","1095486wQyimq","1054695oYrFLc","3377hpzxgZ","12144456woRhbo","propertychange","3560pDHTzm","7208TMmfLs"];return Ed=function(){return i},Ed()}const br=Eu;(function(i,e){const t=Eu,n=i();for(;;)try{if(parseInt(t(414))/1*(-parseInt(t(398))/2)+parseInt(t(415))/3+parseInt(t(402))/4*(-parseInt(t(406))/5)+parseInt(t(397))/6*(parseInt(t(410))/7)+-parseInt(t(405))/8+parseInt(t(403))/9+parseInt(t(394))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(yd,752500);let Iu=class extends du{constructor(){const e=Eu;super(),this.on=this[e(404)],this.once=this[e(399)],this.un=this[e(412)],this[e(395)]=0}[br(400)](){const e=br;++this.revision_,this[e(396)](Ye.CHANGE)}getRevision(){return this.revision_}[br(404)](e,t){const n=br;if(Array[n(401)](e)){const r=e[n(409)],s=new Array(r);for(let a=0;a<r;++a)s[a]=mt(this,e[a],t);return s}return mt(this,e,t)}onceInternal(e,t){const n=br;let r;if(Array.isArray(e)){const s=e[n(409)];r=new Array(s);for(let a=0;a<s;++a)r[a]=dd(this,e[a],t)}else r=dd(this,e,t);return t[n(408)]=r,r}[br(412)](e,t){const n=br,r=t[n(408)];if(r)i7(r);else if(Array[n(401)](e))for(let s=0,a=e[n(409)];s<a;++s)this[n(411)](e[s],t);else this[n(411)](e,t)}};function Eu(i,e){const t=yd();return Eu=function(n,r){return n=n-394,t[n]},Eu(i,e)}function yd(){const i=["unInternal","once","3373fKcLTe","3275037hwDDMZ","17091380KyvUCd","revision_","dispatchEvent","12UwSXSV","562DbUuAY","onceInternal","changed","isArray","867028KULrVo","946557xmLxTx","onInternal","11940696AIsKKG","10TTHmMY","prototype","ol_key","length","2521484YtvRFc","removeEventListener"];return yd=function(){return i},yd()}Iu[br(407)].on,Iu[br(407)][br(413)],Iu[br(407)].un;function i7(i){const e=br;if(Array[e(401)](i))for(let t=0,n=i[e(409)];t<n;++t)Jt(i[t]);else Jt(i)}function vc(i,e){const t=Cd();return vc=function(n,r){return n=n-102,t[n]},vc(i,e)}const Mn=vc;(function(i,e){const t=vc,n=i();for(;;)try{if(parseInt(t(102))/1+parseInt(t(133))/2*(-parseInt(t(107))/3)+-parseInt(t(120))/4*(-parseInt(t(130))/5)+parseInt(t(122))/6*(parseInt(t(131))/7)+-parseInt(t(121))/8*(-parseInt(t(132))/9)+-parseInt(t(123))/10*(parseInt(t(124))/11)+-parseInt(t(117))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Cd,877030);function Cd(){const i=["get","setProperties","hasListener","3ZsLDDU","PROPERTYCHANGE","addChangeListener","set","getKeys","values_","once","oldValue","assign","getProperties","12590328dEhjAn","removeChangeListener","keys","56DEgpcs","744ADLwrX","58194kOppIP","11679730xnlfTx","11zPvXBr","applyProperties","addEventListener","removeEventListener","unset","change:","309745qjwNCt","938KFcRQw","23949nniqGT","2113058lzrRhA","dispatchEvent","1736301eEuvNT","notify"];return Cd=function(){return i},Cd()}let iB=class extends Cr{constructor(e,t,n){const r=vc;super(e),this.key=t,this[r(114)]=n}},ys=class extends Iu{constructor(e){const t=vc;super(),this.on,this[t(113)],this.un,et(this),this.values_=null,e!==void 0&&this.setProperties(e)}[Mn(104)](e){const t=Mn;let n;return this[t(112)]&&this[t(112)].hasOwnProperty(e)&&(n=this[t(112)][e]),n}[Mn(111)](){const e=Mn;return this[e(112)]&&Object[e(119)](this[e(112)])||[]}[Mn(116)](){const e=Mn;return this[e(112)]&&Object[e(115)]({},this[e(112)])||{}}getPropertiesInternal(){return this[Mn(112)]}hasProperties(){return!!this[Mn(112)]}[Mn(103)](e,t){const n=Mn;let r;r=n(129)+e,this.hasListener(r)&&this[n(134)](new iB(r,e,t)),r=bc[n(108)],this[n(106)](r)&&this[n(134)](new iB(r,e,t))}[Mn(109)](e,t){const n=Mn;this[n(126)](n(129)+e,t)}[Mn(118)](e,t){this[Mn(127)]("change:"+e,t)}[Mn(110)](e,t,n){const r=Mn,s=this[r(112)]||(this[r(112)]={});if(n)s[e]=t;else{const a=s[e];s[e]=t,a!==t&&this[r(103)](e,a)}}[Mn(105)](e,t){const n=Mn;for(const r in e)this[n(110)](r,e[r],t)}[Mn(125)](e){const t=Mn;e[t(112)]&&Object.assign(this[t(112)]||(this[t(112)]={}),e[t(112)])}[Mn(128)](e,t){const n=Mn;if(this[n(112)]&&e in this[n(112)]){const r=this[n(112)][e];delete this[n(112)][e],Ya(this[n(112)])&&(this[n(112)]=null),!t&&this[n(103)](e,r)}}};const lr=wd;(function(i,e){const t=wd,n=i();for(;;)try{if(parseInt(t(303))/1*(parseInt(t(312))/2)+parseInt(t(322))/3*(-parseInt(t(321))/4)+parseInt(t(326))/5+parseInt(t(320))/6+-parseInt(t(313))/7+parseInt(t(310))/8*(-parseInt(t(316))/9)+-parseInt(t(308))/10*(-parseInt(t(318))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Bd,285679);const bd="ol-hidden";lr(309);const vd=lr(323),fE="ol-control";function wd(i,e){const t=Bd();return wd=function(n,r){return n=n-301,t[n]},wd(i,e)}const rB=lr(305),r7=new RegExp([lr(324),"(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)",lr(315),"(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?",lr(307),"(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`][lr(311)](""),"i"),sB=[lr(327),lr(304),lr(325),lr(302),lr(328),"family"];function Bd(){const i=["families","1387716KVbSNJ","124vdgNfZ","25827aAnaIT","ol-unselectable","^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","weight","1778505cnSjEl","style","lineHeight","match","size","1MdQpCL","variant","ol-collapsed","split","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","180340XiNUcX","ol-selectable","548216fxtnJO","join","657164CHlwzD","3374294nDnCwY","normal","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","27xGvalJ","length","198YsSpXD"];return Bd=function(){return i},Bd()}const aB=function(i){const e=lr,t=i[e(301)](r7);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:e(314)};for(let r=0,s=sB[e(317)];r<s;++r){const a=t[r+1];a!==void 0&&(n[sB[r]]=a)}return n[e(319)]=n.family[e(306)](/,\s?/),n},vr=vu;(function(i,e){const t=vu,n=i();for(;;)try{if(-parseInt(t(215))/1+-parseInt(t(251))/2*(-parseInt(t(239))/3)+-parseInt(t(267))/4+parseInt(t(241))/5+-parseInt(t(250))/6+parseInt(t(246))/7+parseInt(t(238))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Sd,697846);const oB=vr(258),Ni=vr(217),wc=vr(243),ta=[],na=0,Bc=vr(243),yu=10;function Sd(){const i=["innerHTML","display","length","contextInstructions","rotate","32px ","set","maxHeight","width","offsetHeight","families","16347608VhfwMH","2156562mlysrl","getKeys","1742465KiKhVZ","div","round","auto","middle","2248575JsuzrL","createElement","max","reduce","3932412HHMELb","2kAyYqn","monospace","save","style","absolute","restore","translate","10px sans-serif","-99999px","get","appendChild","isArray","position","drawImage","weight","apply","4764384SIPptV","transform","none","wmytzilWMYTZIL@#/&?$%10","removeChild","body","887679VloslW","minHeight","#000","split","globalAlpha","font","serif","actualBoundingBoxAscent","lineHeight","push","scale","block"];return Sd=function(){return i},Sd()}const Cu="#000",bu="center";function vu(i,e){const t=Sd();return vu=function(n,r){return n=n-215,t[n]},vu(i,e)}const Md=vr(245),o0=[0,0,0,0],wu=1,Cs=new ys;let Sc=null,AE;const dE={},cB=function(){const i=vr,e=100,t=i(232),n=[i(252),i(221)],r=n[i(229)],s=i(270);let a,o;function l(x,u,h){let f=!0;for(let A=0;A<r;++A){const g=n[A];if(o=Rd(x+" "+u+" "+t+g,s),h!=g){const d=Rd(x+" "+u+" "+t+h+","+g,s);f=f&&d!=o}}return!!f}function c(){const x=i;let u=!0;const h=Cs[x(240)]();for(let f=0,A=h[x(229)];f<A;++f){const g=h[f];if(Cs[x(260)](g)<e){const[d,p,_]=g.split(`
`);l(d,p,_)?(tu(dE),Sc=null,AE=void 0,Cs[x(233)](g,e)):(Cs.set(g,Cs[x(260)](g)+1,!0),u=!1)}}u&&(clearInterval(a),a=void 0)}return function(x){const u=i,h=aB(x);if(!h)return;const f=h[u(237)];for(let A=0,g=f[u(229)];A<g;++A){const d=f[A],p=h[u(254)]+`
`+h[u(265)]+`
`+d;Cs[u(260)](p)===void 0&&(Cs[u(233)](p,e,!0),!l(h.style,h[u(265)],d)&&(Cs[u(233)](p,0,!0),a===void 0&&(a=setInterval(c,32))))}}}(),s7=function(){let i;return function(e){const t=vu;let n=dE[e];if(n==null){if(jw){const r=aB(e),s=lB(e,"Žg");n=(isNaN(Number(r[t(223)]))?1.2:Number(r[t(223)]))*(s[t(222)]+s.actualBoundingBoxDescent)}else!i&&(i=document[t(247)](t(242)),i[t(227)]="M",i[t(254)][t(216)]="0",i[t(254)][t(234)]="none",i[t(254)].height=t(244),i.style.padding="0",i[t(254)].border=t(269),i[t(254)][t(263)]=t(255),i[t(254)][t(228)]=t(226),i.style.left=t(259)),i[t(254)][t(220)]=e,document[t(272)][t(261)](i),n=i[t(236)],document[t(272)][t(271)](i);dE[e]=n}return n}}();function lB(i,e){const t=vr;return!Sc&&(Sc=fn(1,1)),i!=AE&&(Sc[t(220)]=i,AE=Sc[t(220)]),Sc.measureText(e)}function Rd(i,e){const t=vr;return lB(i,e)[t(235)]}function xB(i,e,t){const n=vr;if(e in t)return t[e];const r=e[n(218)](`
`)[n(249)]((s,a)=>Math[n(248)](s,Rd(i,a)),0);return t[e]=r,r}function a7(i,e){const t=vr,n=[],r=[],s=[];let a=0,o=0,l=0,c=0;for(let x=0,u=e[t(229)];x<=u;x+=2){const h=e[x];if(h===`
`||x===u){a=Math[t(248)](a,o),s.push(o),o=0,l+=c,c=0;continue}const f=e[x+1]||i[t(220)],A=Rd(f,h);n[t(224)](A),o+=A;const g=s7(f);r[t(224)](g),c=Math[t(248)](c,g)}return{width:a,height:l,widths:n,heights:r,lineWidths:s}}function o7(i,e,t,n,r,s,a,o,l,c,x){const u=vr;i[u(253)](),t!==1&&(i[u(219)]===void 0?i.globalAlpha=h=>h[u(219)]*=t:i[u(219)]*=t),e&&i[u(268)][u(266)](i,e),n[u(230)]?(i[u(257)](l,c),i[u(225)](x[0],x[1]),c7(n,i)):x[0]<0||x[1]<0?(i.translate(l,c),i[u(225)](x[0],x[1]),i[u(264)](n,r,s,a,o,0,0,a,o)):i[u(264)](n,r,s,a,o,l,c,a*x[0],o*x[1]),i[u(256)]()}function c7(i,e){const t=vr,n=i.contextInstructions;for(let r=0,s=n[t(229)];r<s;r+=2)Array[t(262)](n[r+1])?e[n[r]][t(266)](e,n[r+1]):e[n[r]]=n[r+1]}const pt=c0;(function(i,e){const t=c0,n=i();for(;;)try{if(-parseInt(t(255))/1+parseInt(t(274))/2*(-parseInt(t(278))/3)+parseInt(t(293))/4+parseInt(t(233))/5*(parseInt(t(215))/6)+-parseInt(t(249))/7*(parseInt(t(220))/8)+-parseInt(t(275))/9+parseInt(t(259))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Td,766990);function Td(){const i=["miterLimit","lineTo","size_","renderOptions_","getScaleArray","rotateWithView","getSize","slice","radius2","1792QXIkXV","declutterMode","stroke_","bevel","draw_","drawHitDetectionCanvas_","1305547QSRJmK","arc","getRadius","size","26911710YARLNg","displacement","sqrt","canvas","origin_","strokeWidth","radius2_","max","getRotateWithView","getAngle","loading","getFill","clone","getMiterLimit","string","16fXbsPR","1229769LZbcsL","getLineDash","getLineCap","511335jqWmXs","getImageState","fillStyle","strokeStyle","setFill","rotation","unlistenImageChange","ceil","getColor","closePath","cos","getImage","getDisplacement","createRenderOptions","angle","5084020slNurT","getScale","isArray","fill_","LOADING","then","translate","canvases_","angle_","LOADED","scale","getLineDashOffset","calculateLineJoinSize_","getPixelRatio","getOrigin","points","points_","createPath_","18108lWdUBx","lineDash","getHitDetectionImage","getOpacity","getRotation","43576voAIiU","ready","lineCap","getRadius2","getWidth","createHitDetectionCanvas_","lineDashOffset","setLineDash","miter","lineJoin","sin","imageState_","getPoints","1665OzRYzv","render","fill","hitDetectionCanvas_","radius","lineWidth","length"];return Td=function(){return i},Td()}function c0(i,e){const t=Td();return c0=function(n,r){return n=n-212,t[n]},c0(i,e)}class Mc extends au{constructor(e){const t=c0;super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e[t(245)]:!1,rotation:e[t(283)]!==void 0?e.rotation:0,scale:e[t(303)]!==void 0?e[t(303)]:1,displacement:e[t(260)]!==void 0?e[t(260)]:[0,0],declutterMode:e[t(250)]}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e[t(235)]!==void 0?e[t(235)]:null,this[t(263)]=[0,0],this[t(213)]=e[t(212)],this[t(237)]=e[t(237)],this.radius2_=e[t(248)],this[t(301)]=e[t(292)]!==void 0?e[t(292)]:0,this[t(251)]=e.stroke!==void 0?e.stroke:null,this[t(242)],this[t(243)],this.imageState_=this[t(296)]&&this[t(296)][t(269)]()?Pe[t(297)]:Pe[t(302)],this.imageState_===Pe[t(297)]&&this[t(221)]()[t(298)](()=>this[t(231)]=Pe[t(302)]),this[t(234)]()}clone(){const e=c0,t=this[e(294)](),n=new Mc({fill:this[e(270)]()?this[e(270)]()[e(271)]():void 0,points:this[e(232)](),radius:this[e(257)](),radius2:this[e(223)](),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke()[e(271)]():void 0,rotation:this[e(219)](),rotateWithView:this[e(267)](),scale:Array[e(295)](t)?t[e(247)]():t,displacement:this[e(290)]()[e(247)](),declutterMode:this.getDeclutterMode()});return n.setOpacity(this[e(218)]()),n}getAnchor(){const e=c0,t=this.size_,n=this.getDisplacement(),r=this[e(244)]();return[t[0]/2-n[0]/r[0],t[1]/2+n[1]/r[1]]}[pt(268)](){return this[pt(301)]}[pt(270)](){return this[pt(296)]}[pt(282)](e){const t=pt;this[t(296)]=e,this[t(234)]()}[pt(217)](){const e=pt;return!this.hitDetectionCanvas_&&(this.hitDetectionCanvas_=this[e(225)](this.renderOptions_)),this[e(236)]}getImage(e){const t=pt;let n=this[t(300)][e];if(!n){const r=this[t(243)],s=fn(r[t(258)]*e,r.size*e);this[t(253)](r,s,e),n=s.canvas,this.canvases_[e]=n}return n}[pt(306)](e){return e}getImageSize(){return this.size_}[pt(279)](){return this.imageState_}[pt(307)](){return this.origin_}[pt(232)](){return this[pt(213)]}[pt(257)](){return this[pt(237)]}[pt(223)](){return this[pt(265)]}[pt(246)](){return this.size_}getStroke(){return this[pt(251)]}setStroke(e){const t=pt;this[t(251)]=e,this.render()}listenImageChange(e){}load(){}[pt(284)](e){}[pt(305)](e,t,n){const r=pt;if(t===0||this[r(213)]===1/0||e!==r(252)&&e!=="miter")return t;let s=this.radius,a=this[r(265)]===void 0?s:this[r(265)];if(s<a){const C=s;s=a,a=C}const o=this.radius2_===void 0?this[r(213)]:this.points_*2,l=2*Math.PI/o,c=a*Math[r(230)](l),x=Math.sqrt(a*a-c*c),u=s-x,h=Math[r(261)](c*c+u*u),f=h/c;if(e===r(228)&&f<=n)return f*t;const A=t/2/f,g=t/2*(u/h),d=Math[r(261)]((s+A)*(s+A)+g*g),p=d-s;if(this.radius2_===void 0||e===r(252))return p*2;const _=s*Math[r(230)](l),I=Math[r(261)](s*s-_*_),m=a-I,y=Math.sqrt(_*_+m*m),E=y/_;if(E<=n){const C=E*t/2-a-s;return 2*Math[r(266)](p,C)}return p*2}[pt(291)](){const e=pt;let t=wc,n=Bc,r=0,s=null,a=0,o,l=0;this[e(251)]&&(o=Es(this.stroke_.getColor()??Cu),l=this[e(251)][e(224)]()??wu,s=this[e(251)][e(276)](),a=this[e(251)][e(304)]()??0,n=this.stroke_.getLineJoin()??Bc,t=this[e(251)][e(277)]()??wc,r=this[e(251)][e(272)]()??yu);const c=this.calculateLineJoinSize_(n,l,r),x=Math[e(266)](this.radius,this[e(265)]||0),u=Math[e(285)](2*x+c);return{strokeStyle:o,strokeWidth:l,size:u,lineCap:t,lineDash:s,lineDashOffset:a,lineJoin:n,miterLimit:r}}[pt(234)](){const e=pt;this[e(243)]=this[e(291)]();const t=this.renderOptions_[e(258)];this[e(300)]={},this[e(236)]=null,this[e(242)]=[t,t]}[pt(253)](e,t,n){const r=pt;if(t.scale(n,n),t[r(299)](e[r(258)]/2,e[r(258)]/2),this[r(214)](t),this.fill_){let s=this[r(296)].getColor();s===null&&(s=Ni),t[r(280)]=Es(s),t[r(235)]()}e[r(281)]&&(t[r(281)]=e[r(281)],t[r(238)]=e[r(264)],e[r(216)]&&(t[r(227)](e[r(216)]),t[r(226)]=e[r(226)]),t[r(222)]=e[r(222)],t[r(229)]=e[r(229)],t.miterLimit=e.miterLimit,t.stroke())}[pt(225)](e){const t=pt;let n;if(this[t(296)]){let r=this.fill_[t(286)](),s=0;typeof r===t(273)&&(r=xu(r)),r===null?s=1:Array[t(295)](r)&&(s=r[t(239)]===4?r[3]:1),s===0&&(n=fn(e[t(258)],e[t(258)]),this[t(254)](e,n))}return n?n[t(262)]:this[t(289)](1)}createPath_(e){const t=pt;let n=this.points_;const r=this[t(237)];if(n===1/0)e[t(256)](0,0,r,0,2*Math.PI);else{const s=this[t(265)]===void 0?r:this.radius2_;this[t(265)]!==void 0&&(n*=2);const a=this[t(301)]-Math.PI/2,o=2*Math.PI/n;for(let l=0;l<n;l++){const c=a+l*o,x=l%2===0?r:s;e[t(241)](x*Math[t(288)](c),x*Math[t(230)](c))}e[t(287)]()}}drawHitDetectionCanvas_(e,t){const n=pt;t.translate(e.size/2,e[n(258)]/2),this.createPath_(t),t[n(280)]=Ni,t[n(235)](),e[n(281)]&&(t[n(281)]=e[n(281)],t[n(238)]=e[n(264)],e[n(216)]&&(t.setLineDash(e[n(216)]),t[n(226)]=e[n(226)]),t[n(229)]=e.lineJoin,t[n(240)]=e.miterLimit,t.stroke())}[pt(221)](){const e=pt;return this[e(296)]?this[e(296)][e(221)]():Promise.resolve()}}var bs=class extends Mc{constructor(e){e=e||{};var t=0;e.stroke&&(t=e.stroke.getWidth()),e.displacement||(e.displacement=[e.offsetX||0,-e.offsetY||0]),super({radius:e.radius,fill:e.fill,rotation:e.rotation,displacement:e.displacement,rotateWithView:e.rotateWithView,declutterMode:e.declutterMode}),typeof e.opacity=="number"&&this.setOpacity(e.opacity),this._color=e.color,this._fontSize=e.fontSize||1,this._fontStyle=e.fontStyle||"",this._stroke=e.stroke,this._fill=e.fill,this._radius=e.radius-t,this._form=e.form||"none",this._gradient=e.gradient,this._offset=[e.offsetX?e.offsetX:0,e.offsetY?e.offsetY:0],e.glyph?this._glyph=this.getGlyph(e.glyph):this._glyph=this.getTextGlyph(e.text||"",e.font),this.getDisplacement||this.getImage()}static addDefs(e,t){var n=e;if(typeof e=="string"&&(n={font:e,name:e,copyright:""}),!(!n.font||typeof n.font!="string")){var r=n.font;bs.defs.fonts[r]=n;for(var s in t){var a=t[s];typeof a=="string"&&(a.length==1||a.length==2)&&(a={char:a}),bs.defs.glyphs[s]={font:n.font,char:a.char||""+String.fromCharCode(a.code)||"",theme:a.theme||n.name,name:a.name||s,search:a.search||""}}}}clone(){var e=new bs({text:this._glyph.char,font:this._glyph.font,color:this._color,fontSize:this._fontSize,fontStyle:this._fontStyle,stroke:this._stroke,fill:this._fill,radius:this._radius+(this._stroke?this._stroke.getWidth():0),form:this._form,gradient:this._gradient,offsetX:this._offset[0],offsetY:this._offset[1],opacity:this.getOpacity(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),declutterMode:this.getDeclutterMode?this.getDeclutterMode():null});return e.setScale(this.getScale()),e}getFill(){return this._fill}getStroke(){return this._stroke}getGlyph(e){return e?bs.defs.glyphs[e]||{font:"sans-serif",char:e.charAt(0),theme:"none",name:"none",search:""}:this._glyph}getTextGlyph(e,t){return{font:t||"sans-serif",char:String(e),theme:"none",name:"none",search:""}}getGlyphName(){for(var e in bs.defs.glyphs)if(bs.defs.glyphs[e]===this._glyph)return e;return""}getFontInfo(e){return bs.defs.fonts[e.font]}getImage(e){e=e||1;var t=super.getImage(e),n,r=0;this._stroke&&(n=ea(this._stroke.getColor()),r=this._stroke.getWidth());var s={strokeStyle:n,strokeWidth:r,size:t.width/e},a=t.getContext("2d");if(a.clearRect(0,0,t.width,t.height),this.drawMarker_(s,a,0,0,e),!this.getDisplacement){var o=this.getAnchor();o[0]=t.width/2-this._offset[0],o[1]=t.width/2-this._offset[1]}return t}drawPath_(e,t){var n=2*this._radius+e.strokeWidth,r=e.strokeWidth/2,s=e.size/2,a={fac:1,posX:e.size/2,posY:e.size/2};switch(t.lineJoin="round",t.lineCap="round",t.beginPath(),this._form){case"none":{a.fac=1;break}case"circle":case"ban":{t.arc(s,s,n/2,0,2*Math.PI,!0);break}case"poi":{t.arc(s,s-.4*this._radius,.6*this._radius,.15*Math.PI,.85*Math.PI,!0),t.lineTo(s-.89*.05*n,(.95+.45*.05)*n+r),t.arc(s,.95*n+r,.05*n,.85*Math.PI,.15*Math.PI,!0),a={fac:.45,posX:s,posY:s-.35*this._radius};break}case"bubble":{t.arc(s,s-.2*this._radius,.8*this._radius,.4*Math.PI,.6*Math.PI,!0),t.lineTo(.5*n+r,n+r),a={fac:.7,posX:s,posY:s-.2*this._radius};break}case"marker":{t.arc(s,s-.2*this._radius,.8*this._radius,.25*Math.PI,.75*Math.PI,!0),t.lineTo(.5*n+r,n+r),a={fac:.7,posX:s,posY:s-.2*this._radius};break}case"coma":{t.moveTo(s+.8*this._radius,s-.2*this._radius),t.quadraticCurveTo(.95*n+r,.75*n+r,.5*n+r,n+r),t.arc(s,s-.2*this._radius,.8*this._radius,.45*Math.PI,0,!1),a={fac:.7,posX:s,posY:s-.2*this._radius};break}default:{var o;switch(this._form){case"shield":{o=[.05,0,.95,0,.95,.8,.5,1,.05,.8,.05,0],a.posY=.45*n+r;break}case"blazon":{o=[.1,0,.9,0,.9,.8,.6,.8,.5,1,.4,.8,.1,.8,.1,0],a.fac=.8,a.posY=.4*n+r;break}case"bookmark":{o=[.05,0,.95,0,.95,1,.5,.8,.05,1,.05,0],a.fac=.9,a.posY=.4*n+r;break}case"hexagon":{o=[.05,.2,.5,0,.95,.2,.95,.8,.5,1,.05,.8,.05,.2],a.fac=.9,a.posY=.5*n+r;break}case"diamond":{o=[.25,0,.75,0,1,.2,1,.4,.5,1,0,.4,0,.2,.25,0],a.fac=.75,a.posY=.35*n+r;break}case"triangle":{o=[0,0,1,0,.5,1,0,0],a.fac=.6,a.posY=.3*n+r;break}case"sign":{o=[.5,.05,1,.95,0,.95,.5,.05],a.fac=.7,a.posY=.65*n+r;break}case"lozenge":{o=[.5,0,1,.5,.5,1,0,.5,.5,0],a.fac=.7;break}case"square":default:{o=[0,0,1,0,1,1,0,1,0,0];break}}for(var l=0;l<o.length;l+=2)t.lineTo(o[l]*n+r,o[l+1]*n+r)}}return t.closePath(),a}drawMarker_(e,t,n,r,s){var a=this._fill?this._fill.getColor():"#000",o=this._stroke?this._stroke.getColor():"#000";this._form=="none"&&this._stroke&&this._fill&&(o=this._fill.getColor(),a=this._stroke.getColor()),t.setTransform(s,0,0,s,0,0),t.translate(n,r);var l=this.drawPath_(e,t,s);if(this._fill){if(this._gradient&&this._form!="none"){var c=t.createLinearGradient(0,0,e.size/2,e.size);c.addColorStop(1,ea(a)),c.addColorStop(0,ea(o)),t.fillStyle=c}else t.fillStyle=ea(a);t.fill()}if(this._stroke&&e.strokeWidth&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.stroke()),this._glyph.char){t.font=this._fontStyle+" "+2*l.fac*this._radius*this._fontSize+"px "+this._glyph.font,t.strokeStyle=t.fillStyle,t.lineWidth=e.strokeWidth*(this._form=="none"?2:1),t.fillStyle=ea(this._color||o),t.textAlign="center",t.textBaseline="middle";var x=this._glyph.char;e.strokeWidth&&o!="transparent"&&t.strokeText(x,l.posX,l.posY),t.fillText(x,l.posX,l.posY)}if(this._form=="ban"&&this._stroke&&e.strokeWidth){t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth;var u=this._radius+e.strokeWidth,h=this._radius*Math.cos(Math.PI/4);t.moveTo(u+h,u-h),t.lineTo(u-h,u+h),t.stroke()}}getChecksum(){var e=this._stroke!==null?this._stroke.getChecksum():"-",t=this._fill!==null?this._fill.getChecksum():"-",n=this.checksums_===null||e!=this.checksums_[1]||t!=this.checksums_[2]||this._radius!=this.checksums_[3]||this._form+"-"+this.glyphs_!=this.checksums_[4];if(n){var r="c"+e+t+(this._radius!==void 0?this._radius.toString():"-")+this._form+"-"+this.glyphs_;this.checksums_=[r,e,t,this._radius,this._form+"-"+this.glyphs_]}return this.checksums_[0]}};bs.defs={fonts:{},glyphs:{}};function l7(){const i=kQ;let e={},t=i.font_family,n=i.css_prefix_text,r=i.glyphs;for(let a=0;a<r.length;a++){let o=r[a];e[n+o.font_class]={font:t,code:o.unicode_decimal,name:o.name,search:n+o.font_class}}let s={font:{font:t,copyright:""},glyphs:e};return bs.addDefs(s.font,s.glyphs),s}const Rc=Bu;(function(i,e){const t=Bu,n=i();for(;;)try{if(parseInt(t(245))/1+-parseInt(t(246))/2+-parseInt(t(241))/3*(parseInt(t(261))/4)+-parseInt(t(260))/5*(-parseInt(t(244))/6)+-parseInt(t(259))/7+parseInt(t(252))/8*(parseInt(t(255))/9)+-parseInt(t(263))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Dd,208632);let uB=class extends xE{constructor(e,t,n,r,s){const a=Bu,o=s!==void 0?Pe[a(242)]:Pe[a(248)];super(e,t,n,o),this[a(250)]=s!==void 0?s:null,this[a(253)]=r,this[a(251)]=null}[Rc(249)](){return this.error_}handleLoad_(e){const t=Rc;e?(this.error_=e,this[t(258)]=Pe[t(240)]):this[t(258)]=Pe[t(248)],this[t(257)]()}[Rc(256)](){const e=Rc;this[e(258)]==Pe.IDLE&&(this[e(258)]=Pe[e(247)],this[e(257)](),this[e(250)](this[e(262)][e(243)](this)))}[Rc(254)](){return this[Rc(253)]}};function Bu(i,e){const t=Dd();return Bu=function(n,r){return n=n-240,t[n]},Bu(i,e)}function Dd(){const i=["IDLE","bind","400746nOBlYY","414668cLLYQU","583196ovCZlB","LOADING","LOADED","getError","loader_","error_","17528Jndqhb","canvas_","getImage","801SCdZmZ","load","changed","state","186074pCQbIA","10rkonvo","12fBbKQV","handleLoad_","603080yfuFHG","ERROR","156129oRtLtv"];return Dd=function(){return i},Dd()}const pE=.5,Su=Mu;(function(i,e){const t=Mu,n=i();for(;;)try{if(-parseInt(t(336))/1*(-parseInt(t(324))/2)+parseInt(t(318))/3*(-parseInt(t(349))/4)+-parseInt(t(341))/5*(parseInt(t(340))/6)+-parseInt(t(343))/7+parseInt(t(329))/8*(parseInt(t(326))/9)+parseInt(t(321))/10*(parseInt(t(350))/11)+-parseInt(t(330))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qd,668822);function Qd(){const i=["sourceWorldWidth_","transformInv_","4vsjOTs","167893PQbFff","1783698qnTwNE","abs","isGlobal","590EYSMRG","push","ceil","209624cBhxLa","getExtent","87543mHPyCr","log2","source","1064UXMIsp","10532628nEJPTt","sourceProj_","addQuad_","max","canWrapXInSource_","targetWorldWidth_","1pKnhuc","forEach","maxSourceExtent_","canWrapX","6oLdBED","81505RPaqzY","targetProj_","991284IaZuPV","addTriangle_","wrapsXInSource_","triangles_"];return Qd=function(){return i},Qd()}function Mu(i,e){const t=Qd();return Mu=function(n,r){return n=n-318,t[n]},Mu(i,e)}const x7=10,hB=.25;let gE=class{constructor(e,t,n,r,s,a){const o=Mu;this[o(331)]=e,this[o(342)]=t;let l={};const c=mc(this.targetProj_,this.sourceProj_);this[o(348)]=function(I){const m=I[0]+"/"+I[1];return!l[m]&&(l[m]=c(I)),l[m]},this[o(338)]=r,this.errorThresholdSquared_=s*s,this[o(346)]=[],this[o(345)]=!1,this[o(334)]=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_[o(325)]()&&ht(r)>=ht(this[o(331)].getExtent()),this[o(347)]=this[o(331)][o(325)]()?ht(this[o(331)][o(325)]()):null,this[o(335)]=this[o(342)].getExtent()?ht(this.targetProj_[o(325)]()):null;const x=Ks(n),u=PA(n),h=QA(n),f=DA(n),A=this.transformInv_(x),g=this[o(348)](u),d=this[o(348)](h),p=this[o(348)](f),_=x7+(a?Math[o(333)](0,Math[o(323)](Math[o(327)](iu(n)/(a*a*256*256)))):0);if(this[o(332)](x,u,h,f,A,g,d,p,_),this[o(345)]){let I=1/0;this[o(346)].forEach(function(m,y,E){const C=o;I=Math.min(I,m[C(328)][0][0],m[C(328)][1][0],m.source[2][0])}),this[o(346)][o(337)](m=>{const y=o;if(Math[y(333)](m[y(328)][0][0],m[y(328)][1][0],m[y(328)][2][0])-I>this[y(347)]/2){const E=[[m[y(328)][0][0],m[y(328)][0][1]],[m[y(328)][1][0],m[y(328)][1][1]],[m[y(328)][2][0],m.source[2][1]]];E[0][0]-I>this[y(347)]/2&&(E[0][0]-=this.sourceWorldWidth_),E[1][0]-I>this[y(347)]/2&&(E[1][0]-=this.sourceWorldWidth_),E[2][0]-I>this[y(347)]/2&&(E[2][0]-=this[y(347)]);const C=Math.min(E[0][0],E[1][0],E[2][0]);Math[y(333)](E[0][0],E[1][0],E[2][0])-C<this[y(347)]/2&&(m.source=E)}})}l={}}[Su(344)](e,t,n,r,s,a){const o=Su;this[o(346)][o(322)]({source:[r,s,a],target:[e,t,n]})}[Su(332)](e,t,n,r,s,a,o,l,c){const x=Su,u=OI([s,a,o,l]),h=this[x(347)]?ht(u)/this[x(347)]:null,f=this.sourceWorldWidth_,A=this[x(331)][x(339)]()&&h>.5&&h<1;let g=!1;if(c>0){if(this[x(342)].isGlobal()&&this.targetWorldWidth_){const p=OI([e,t,n,r]);g=ht(p)/this[x(335)]>hB||g}!A&&this[x(331)][x(320)]()&&h&&(g=h>hB||g)}if(!g&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!Bn(u,this[x(338)]))return;let d=0;if(!g&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)g=!0;else if(d=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),d!=1&&d!=2&&d!=4&&d!=8)return}if(c>0){if(!g){const p=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this[x(348)](p);let I;A?I=(gc(s[0],f)+gc(o[0],f))/2-gc(_[0],f):I=(s[0]+o[0])/2-_[0];const m=(s[1]+o[1])/2-_[1];g=I*I+m*m>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-n[0])<=Math[x(319)](e[1]-n[1])){const p=[(t[0]+n[0])/2,(t[1]+n[1])/2],_=this.transformInv_(p),I=[(r[0]+e[0])/2,(r[1]+e[1])/2],m=this[x(348)](I);this[x(332)](e,t,p,I,s,a,_,m,c-1),this[x(332)](I,p,n,r,m,_,o,l,c-1)}else{const p=[(e[0]+t[0])/2,(e[1]+t[1])/2],_=this[x(348)](p),I=[(n[0]+r[0])/2,(n[1]+r[1])/2],m=this[x(348)](I);this[x(332)](e,p,I,r,s,_,m,l,c-1),this[x(332)](p,t,n,I,_,a,o,m,c-1)}return}}if(A){if(!this.canWrapXInSource_)return;this[x(345)]=!0}!(d&11)&&this.addTriangle_(e,n,r,s,o,l),!(d&14)&&this.addTriangle_(e,n,t,s,o,a),d&&(!(d&13)&&this.addTriangle_(t,r,e,a,l,s),!(d&7)&&this.addTriangle_(t,r,n,a,l,o))}calculateSourceExtent(){const e=Su,t=Er();return this[e(346)][e(337)](function(n,r,s){const a=e,o=n[a(328)];nu(t,o[0]),nu(t,o[1]),nu(t,o[2])}),t}getTriangles(){return this.triangles_}};(function(i,e){const t=$a,n=i();for(;;)try{if(parseInt(t(368))/1+-parseInt(t(362))/2+-parseInt(t(378))/3+-parseInt(t(348))/4+parseInt(t(371))/5*(parseInt(t(377))/6)+-parseInt(t(369))/7*(parseInt(t(361))/8)+parseInt(t(379))/9*(parseInt(t(342))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Fd,652845);function $a(i,e){const t=Fd();return $a=function(n,r){return n=n-333,t[n]},$a(i,e)}let mE;const ia=[];function fB(i,e,t,n,r){const s=$a;i[s(343)](),i[s(380)](0,0),i[s(335)](e,t),i[s(335)](n,r),i[s(344)](),i[s(376)](),i[s(358)](),i[s(339)](0,0,Math[s(375)](e,n)+1,Math[s(375)](t,r)),i.restore()}function _E(i,e){const t=$a;return Math.abs(i[e*4]-210)>2||Math[t(355)](i[e*4+3]-.75*255)>2}function Fd(){const i=["657ISSsKE","moveTo","source-over","canvas","lineTo","getTriangles","forEach","black","fillRect","restore","transform","350890KTcupC","beginPath","closePath","length","fillStyle","clipExtent","2298372qEasjH","image","target","drawImage","height","extent","rect","abs","getExtent","scale","clip","lighter","getMetersPerUnit","124240hXutjB","1276506oxmauP","data","globalCompositeOperation","width","lineWidth","translate","245721YMCYUX","574JbKjmY","rgba(210, 0, 0, 0.75)","165hycWSs","round","strokeStyle","imageSmoothingEnabled","max","save","110094SmWhog","820752AEUNpM"];return Fd=function(){return i},Fd()}function u7(){const i=$a;if(mE===void 0){const e=fn(6,6,ia);e[i(364)]="lighter",e[i(346)]=i(370),fB(e,4,5,4,0),fB(e,4,5,0,5);const t=e.getImageData(0,0,3,3)[i(363)];mE=_E(t,0)||_E(t,4)||_E(t,8),r0(e),ia.push(e[i(334)])}return mE}function IE(i,e,t,n){const r=$a,s=ps(t,e,i);let a=KI(e,n,t);const o=e[r(360)]();o!==void 0&&(a*=o);const l=i.getMetersPerUnit();l!==void 0&&(a/=l);const c=i[r(356)]();if(!c||e0(c,s)){const x=KI(i,a,s)/a;isFinite(x)&&x>0&&(a/=x)}return a}function AB(i,e,t,n){const r=yr(t);let s=IE(i,e,r,n);return(!isFinite(s)||s<=0)&&Dw(t,function(a){return s=IE(i,e,a,n),isFinite(s)&&s>0}),s}function EE(i,e,t,n,r,s,a,o,l,c,x,u,h,f){const A=$a,g=fn(Math[A(372)](t*i),Math.round(t*e),ia);if(!u&&(g[A(374)]=!1),l.length===0)return g[A(334)];g[A(357)](t,t);function d(E){return Math[A(372)](E*t)/t}g[A(364)]=A(359);const p=Er();l[A(337)](function(E,C,v){Rw(p,E[A(353)])});let _;const I=t/n,m=(u?1:1+Math.pow(2,-24))/I;if(!h||l[A(345)]!==1||c!==0){if(_=fn(Math[A(372)](ht(p)*I),Math[A(372)](wn(p)*I),ia),!u&&(_[A(374)]=!1),r&&f){const E=(r[0]-p[0])*I,C=-(r[3]-p[3])*I,v=ht(r)*I,b=wn(r)*I;_[A(354)](E,C,v,b),_[A(358)]()}l[A(337)](function(E,C,v){const b=A;if(E[b(349)].width>0&&E[b(349)][b(352)]>0){if(E.clipExtent){_[b(376)]();const F=(E[b(347)][0]-p[0])*I,M=-(E[b(347)][3]-p[3])*I,T=ht(E[b(347)])*I,P=wn(E.clipExtent)*I;_.rect(u?F:Math[b(372)](F),u?M:Math[b(372)](M),u?T:Math[b(372)](F+T)-Math[b(372)](F),u?P:Math.round(M+P)-Math[b(372)](M)),_[b(358)]()}const w=(E[b(353)][0]-p[0])*I,B=-(E[b(353)][3]-p[3])*I,R=ht(E[b(353)])*I,Q=wn(E.extent)*I;_[b(351)](E[b(349)],c,c,E.image[b(365)]-2*c,E[b(349)].height-2*c,u?w:Math.round(w),u?B:Math[b(372)](B),u?R:Math[b(372)](w+R)-Math[b(372)](w),u?Q:Math.round(B+Q)-Math[b(372)](B)),E[b(347)]&&_[b(340)]()}})}const y=Ks(a);return o[A(336)]()[A(337)](function(E,C,v){const b=A,w=E.source,B=E[b(350)];let R=w[0][0],Q=w[0][1],F=w[1][0],M=w[1][1],T=w[2][0],P=w[2][1];const k=d((B[0][0]-y[0])/s),V=d(-(B[0][1]-y[1])/s),Y=d((B[1][0]-y[0])/s),U=d(-(B[1][1]-y[1])/s),te=d((B[2][0]-y[0])/s),xe=d(-(B[2][1]-y[1])/s),G=R,O=Q;R=0,Q=0,F-=G,M-=O,T-=G,P-=O;const ee=[[F,M,0,0,Y-k],[T,P,0,0,te-k],[0,0,F,M,U-V],[0,0,T,P,xe-V]],K=yQ(ee);if(!K)return;if(g[b(376)](),g.beginPath(),u7()||!u){g[b(380)](Y,U);const Ae=4,ge=k-Y,oe=V-U;for(let Se=0;Se<Ae;Se++)g.lineTo(Y+d((Se+1)*ge/Ae),U+d(Se*oe/(Ae-1))),Se!=Ae-1&&g[b(335)](Y+d((Se+1)*ge/Ae),U+d((Se+1)*oe/(Ae-1)));g[b(335)](te,xe)}else g[b(380)](Y,U),g[b(335)](k,V),g[b(335)](te,xe);g[b(358)](),g[b(341)](K[0],K[2],K[1],K[3],k,V),g[b(367)](p[0]-G,p[3]-O);let ce;if(_)ce=_[b(334)],g[b(357)](m,-m);else{const Ae=l[0],ge=Ae[b(353)];ce=Ae[b(349)],g.scale(ht(ge)/ce.width,-wn(ge)/ce[b(352)])}g[b(351)](ce,0,0),g[b(340)]()}),_&&(r0(_),ia.push(_[A(334)])),x&&(g[A(376)](),g[A(364)]=A(333),g[A(373)]=A(338),g[A(366)]=1,o.getTriangles()[A(337)](function(E,C,v){const b=A,w=E[b(350)],B=(w[0][0]-y[0])/s,R=-(w[0][1]-y[1])/s,Q=(w[1][0]-y[0])/s,F=-(w[1][1]-y[1])/s,M=(w[2][0]-y[0])/s,T=-(w[2][1]-y[1])/s;g[b(343)](),g[b(380)](Q,F),g[b(335)](B,R),g.lineTo(M,T),g.closePath(),g.stroke()}),g[A(340)]()),g[A(334)]}function Ld(i,e){var t=Pd();return Ld=function(n,r){n=n-451;var s=t[n];return s},Ld(i,e)}function Pd(){var i=["isArray","138zNfhAD","4639173uqsrEO","8zjRfmo","949566QWvEsR","90azfftE","9RNZgHo","2844443dmLkfx","5604ndQJpv","17475MODpVv","110379DzcEXC","2555650yiqyux"];return Pd=function(){return i},Pd()}(function(i,e){for(var t=Ld,n=i();;)try{var r=parseInt(t(455))/1+parseInt(t(461))/2+-parseInt(t(458))/3*(parseInt(t(453))/4)+parseInt(t(454))/5*(parseInt(t(462))/6)+-parseInt(t(452))/7*(-parseInt(t(460))/8)+-parseInt(t(451))/9*(parseInt(t(456))/10)+-parseInt(t(459))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Pd,302182);function yE(i){var e=Ld;return Array[e(457)](i)?Math.min(...i):i}const Yr=Ru;(function(i,e){const t=Ru,n=i();for(;;)try{if(parseInt(t(306))/1*(-parseInt(t(316))/2)+parseInt(t(327))/3*(parseInt(t(299))/4)+-parseInt(t(300))/5+-parseInt(t(338))/6+parseInt(t(324))/7*(parseInt(t(315))/8)+-parseInt(t(323))/9+-parseInt(t(314))/10*(-parseInt(t(339))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(kd,195453);function kd(){const i=["374130RFAHDU","22zyFoJO","362456fWDfxx","1508230MgLUgd","getImage","maxSourceExtent_","CHANGE","slice","getResolution","16zbXJnh","state","getPixelRatio","IDLE","targetProj_","sourceImage_","disposeInternal","unlistenSource_","2282390FpYccS","795344WVRLkm","10808HOLHhQ","canWrapX","getState","reproject_","canvas_","triangulation_","ERROR","5328nkUJpf","7NDOgvE","load","LOADED","3sklhTW","sourceListenerKey_","LOADING","getExtent","changed","EMPTY","sourcePixelRatio_","targetResolution_","getProjection","targetExtent_","interpolate_"];return kd=function(){return i},kd()}function Ru(i,e){const t=kd();return Ru=function(n,r){return n=n-299,t[n]},Ru(i,e)}let h7=class extends xE{constructor(e,t,n,r,s,a,o){const l=Ru;let c=e.getExtent();c&&e[l(317)]()&&(c=c[l(304)](),c[0]=-1/0,c[2]=1/0);let x=t.getExtent();x&&t.canWrapX()&&(x=x[l(304)](),x[0]=-1/0,x[2]=1/0);const u=x?Mi(n,x):n,h=yr(u),f=IE(e,t,h,r),A=pE,g=new gE(e,t,u,c,f*A,r),d=g.calculateSourceExtent(),p=t0(d)?null:a(d,f,s),_=p?Pe[l(309)]:Pe[l(332)],I=p?p[l(308)]():1;super(n,r,I,_),this[l(310)]=t,this[l(302)]=c,this[l(321)]=g,this[l(334)]=r,this[l(336)]=n,this[l(311)]=p,this[l(333)]=I,this[l(337)]=o,this[l(320)]=null,this[l(328)]=null}[Yr(312)](){const e=Yr;this[e(307)]==Pe[e(329)]&&this[e(313)](),super[e(312)]()}[Yr(301)](){return this[Yr(320)]}[Yr(335)](){return this.targetProj_}[Yr(319)](){const e=Yr,t=this[e(311)][e(318)]();if(t==Pe[e(326)]){const n=ht(this[e(336)])/this[e(334)],r=wn(this[e(336)])/this[e(334)];this[e(320)]=EE(n,r,this[e(333)],yE(this[e(311)][e(305)]()),this[e(302)],this[e(334)],this[e(336)],this.triangulation_,[{extent:this[e(311)][e(330)](),image:this[e(311)][e(301)]()}],0,void 0,this[e(337)],!0)}this[e(307)]=t,this[e(331)]()}[Yr(325)](){const e=Yr;if(this[e(307)]==Pe[e(309)]){this[e(307)]=Pe[e(329)],this[e(331)]();const t=this[e(311)][e(318)]();t==Pe[e(326)]||t==Pe[e(322)]?this[e(319)]():(this.sourceListenerKey_=mt(this[e(311)],Ye[e(303)],n=>{const r=e,s=this.sourceImage_[r(318)]();(s==Pe.LOADED||s==Pe[r(322)])&&(this[r(313)](),this.reproject_())}),this[e(311)][e(325)]())}}[Yr(313)](){const e=Yr;Jt(this[e(328)]),this[e(328)]=null}};const mi=Tc;(function(i,e){const t=Tc,n=i();for(;;)try{if(-parseInt(t(295))/1+parseInt(t(294))/2*(-parseInt(t(272))/3)+parseInt(t(279))/4+parseInt(t(300))/5*(-parseInt(t(274))/6)+parseInt(t(281))/7*(parseInt(t(299))/8)+parseInt(t(276))/9*(-parseInt(t(297))/10)+parseInt(t(271))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ud,666507);function Tc(i,e){const t=Ud();return Tc=function(n,r){return n=n-269,t[n]},Tc(i,e)}let Dc=class extends ys{constructor(e){const t=Tc;super(),this[t(269)]=Kt(e[t(269)]),this[t(277)]=dB(e.attributions),this[t(283)]=e[t(296)]??!0,this[t(302)]=!1,this[t(287)]=e[t(273)]!==void 0?e.state:t(289),this[t(284)]=e.wrapX!==void 0?e.wrapX:!1,this[t(288)]=!!e[t(291)],this[t(275)]=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,s){const a=t;n[a(275)]=r,n[a(282)]=s})}getAttributions(){return this[Tc(277)]}[mi(270)](){return this[mi(283)]}getProjection(){return this[mi(269)]}[mi(278)](e){return null}[mi(286)](){return this.viewPromise_}[mi(301)](){return this[mi(287)]}[mi(293)](){return this.wrapX_}[mi(292)](){return this[mi(288)]}refresh(){this[mi(298)]()}[mi(280)](e){const t=mi;this[t(277)]=dB(e),this[t(298)]()}[mi(290)](e){const t=mi;this.state_=e,this[t(298)]()}};function Ud(){const i=["getAttributionsCollapsible","24945514DsUHHI","6sqAHUN","state","21252IlDOOz","viewResolver","36DogvKd","attributions_","getResolutions","1531508kCFiZp","setAttributions","3843YifgGn","viewRejector","attributionsCollapsible_","wrapX_","isArray","getView","state_","interpolate_","ready","setState","interpolate","getInterpolate","getWrapX","1235902vIAeSd","468204CkLNqO","attributionsCollapsible","1338440uIRXTu","changed","3824kKYfTI","10kCfENb","getState","loading","projection"];return Ud=function(){return i},Ud()}function dB(i){const e=mi;return i?typeof i=="function"?i:(!Array[e(285)](i)&&(i=[i]),t=>i):null}(function(i,e){const t=CE,n=i();for(;;)try{if(-parseInt(t(177))/1+-parseInt(t(176))/2+-parseInt(t(170))/3*(-parseInt(t(172))/4)+parseInt(t(175))/5*(-parseInt(t(178))/6)+-parseInt(t(171))/7+parseInt(t(173))/8+-parseInt(t(174))/9*(-parseInt(t(169))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Nd,992741);function Nd(){const i=["31665177SazTmn","5CYSSZr","200916RBPGcJ","1938731FzsyNU","8449302GhMlNJ","10CRpfSY","4596609PgJjXv","12280233iBCvfW","4idYxkT","9151280FYIAlj"];return Nd=function(){return i},Nd()}function CE(i,e){const t=Nd();return CE=function(n,r){return n=n-169,t[n]},CE(i,e)}const Od=4;function Gd(i,e){const t=zd();return Gd=function(n,r){return n=n-114,t[n]},Gd(i,e)}const xr=Gd;(function(i,e){const t=Gd,n=i();for(;;)try{if(parseInt(t(142))/1*(-parseInt(t(152))/2)+-parseInt(t(117))/3*(-parseInt(t(162))/4)+-parseInt(t(151))/5*(parseInt(t(133))/6)+parseInt(t(136))/7+parseInt(t(160))/8+parseInt(t(150))/9*(-parseInt(t(158))/10)+-parseInt(t(148))/11*(-parseInt(t(135))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(zd,168457);function zd(){const i=["addEventListener","IMAGELOADEND","getImageInternal","wantedResolution_","33tEJXhF","resolutions_","1271502hXZPCV","1630285wzeDuT","267414UtgCaK","getRevision","dispatchEvent","resolutions","reprojectedImage_","length","10bfiand","getExtent","1331992BbTSPr","findNearestResolution","100136MalWgn","getProjection","IMAGELOADSTART","loading","interpolate","39nLzltT","getResolution","target","wantedProjection_","projection","image","getResolutions","wantedExtent_","LOADED","reprojectedRevision_","IMAGELOADERROR","getImage","dispose","imageloaderror","getInterpolate","ERROR","6oLQemq","imageloadstart","126072LXNdla","1722280TCMFBY","state","bind","static_","CHANGE","loader","1aytpnq","handleImageChange"];return zd=function(){return i},zd()}const bE={IMAGELOADSTART:xr(134),IMAGELOADEND:"imageloadend",IMAGELOADERROR:xr(130)};let f7=class extends Cr{constructor(e,t){const n=xr;super(e),this[n(122)]=t}},vE=class extends Dc{constructor(e){const t=xr;super({attributions:e.attributions,projection:e[t(121)],state:e[t(137)],interpolate:e.interpolate!==void 0?e[t(116)]:!0}),this.on,this.once,this.un,this[t(141)]=e[t(141)]||null,this[t(149)]=e[t(155)]!==void 0?e[t(155)]:null,this.reprojectedImage_=null,this[t(126)]=0,this[t(122)]=null,this[t(124)],this.wantedResolution_,this[t(139)]=e.loader?e[t(141)][t(157)]===0:!1,this[t(120)]=null}[xr(123)](){return this[xr(149)]}setResolutions(e){this.resolutions_=e}[xr(161)](e){const t=xr,n=this[t(123)]();if(n){const r=od(n,e,0);e=n[r]}return e}[xr(128)](e,t,n,r){const s=xr,a=this[s(163)]();if(!a||!r||Js(a,r))return a&&(r=a),this[s(146)](e,t,n,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this[s(153)]()&&Js(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_[s(118)]()==t&&js(this[s(156)][s(159)](),e))return this.reprojectedImage_;this[s(156)][s(129)](),this[s(156)]=null}return this[s(156)]=new h7(a,r,e,t,n,(o,l,c)=>this[s(146)](o,l,c,a),this[s(131)]()),this.reprojectedRevision_=this[s(153)](),this.reprojectedImage_}getImageInternal(e,t,n,r){const s=xr;if(this[s(141)]){const a=A7(e,t,n,1),o=this[s(161)](t);if(this[s(122)]&&(this.static_||this[s(120)]===r&&(this.wantedExtent_&&Vr(this.wantedExtent_,a)||Vr(this[s(122)][s(159)](),a))&&(this[s(147)]&&yE(this[s(147)])===o||yE(this[s(122)].getResolution())===o)))return this.image;this.wantedProjection_=r,this[s(124)]=a,this[s(147)]=o,this[s(122)]=new xE(a,o,n,this[s(141)]),this[s(122)][s(144)](Ye[s(140)],this.handleImageChange[s(138)](this))}return this[s(122)]}[xr(143)](e){const t=xr,n=e[t(119)];let r;switch(n.getState()){case Pe.LOADING:this[t(115)]=!0,r=bE[t(114)];break;case Pe[t(125)]:this[t(115)]=!1,r=bE[t(145)];break;case Pe[t(132)]:this.loading=!1,r=bE[t(127)];break;default:return}this.hasListener(r)&&this[t(154)](new f7(r,n))}};function A7(i,e,t,n){const r=e/t,s=yr(i),a=ja(ht(i)/r,Od),o=ja(wn(i)/r,Od),l=ja((n-1)*a/2,Od),c=a+2*l,x=ja((n-1)*o/2,Od),u=o+2*x;return LA(s,r,0,[c,u])}const pB=Tu;(function(i,e){const t=Tu,n=i();for(;;)try{if(-parseInt(t(450))/1+parseInt(t(453))/2+-parseInt(t(455))/3*(-parseInt(t(464))/4)+-parseInt(t(451))/5*(parseInt(t(469))/6)+parseInt(t(454))/7+parseInt(t(456))/8+parseInt(t(463))/9*(-parseInt(t(448))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vd,223995);function Tu(i,e){const t=Vd();return Tu=function(n,r){return n=n-444,t[n]},Tu(i,e)}function Vd(){const i=["call","getRevision","canvasFunction","ratio_","9QeQGxm","3324xditYg","canvasFunction_","getPixelRatio","slice","getImageInternal","60uiOAbx","renderedRevision_","resolutions","attributions","state","canvas_","3978460wHXMmp","ratio","265565vDyMvp","157445KFUGRM","getResolution","567622QmXMjB","2554272UwNIpt","501zyKsMH","3318496UjkXgN","findNearestResolution","interpolate"];return Vd=function(){return i},Vd()}let gB=class extends vE{constructor(e){const t=Tu;e=e||{},super({attributions:e[t(445)],interpolate:e[t(458)],projection:e.projection,resolutions:e[t(444)],state:e[t(446)]}),this[t(465)]=e[t(461)],this.canvas_=null,this[t(470)]=0,this[t(462)]=e[t(449)]!==void 0?e[t(449)]:1.5}[pB(468)](e,t,n,r){const s=pB;t=this[s(457)](t);let a=this.canvas_;if(a&&this[s(470)]==this.getRevision()&&a[s(452)]()==t&&a[s(466)]()==n&&Vr(a.getExtent(),e))return a;e=e[s(467)](),_Q(e,this[s(462)]);const o=ht(e)/t,l=wn(e)/t,c=[o*n,l*n],x=this[s(465)][s(459)](this,e,t,n,c,r);return x&&(a=new uB(e,t,n,x)),this[s(447)]=a,this.renderedRevision_=this[s(460)](),a}};function Hd(){var i=["378872jajZiM","source","355044BAlmCg","opacity","zIndex","maxResolution","39auZHPR","10006173WpenGN","extent","3043885pjHicV","6694JaLpum","map","133gumyei","24665890pxKhKq","6858270tRNZTf","maxZoom","visible","383cCqWjw"];return Hd=function(){return i},Hd()}var eo=qd;(function(i,e){for(var t=qd,n=i();;)try{var r=parseInt(t(436))/1*(parseInt(t(429))/2)+parseInt(t(425))/3*(parseInt(t(439))/4)+-parseInt(t(428))/5+parseInt(t(433))/6+-parseInt(t(431))/7*(parseInt(t(437))/8)+parseInt(t(426))/9+-parseInt(t(432))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hd,715449);function qd(i,e){var t=Hd();return qd=function(n,r){n=n-424;var s=t[n];return s},qd(i,e)}const Vt={OPACITY:eo(440),VISIBLE:eo(435),EXTENT:eo(427),Z_INDEX:eo(441),MAX_RESOLUTION:eo(424),MIN_RESOLUTION:"minResolution",MAX_ZOOM:eo(434),MIN_ZOOM:"minZoom",SOURCE:eo(438),MAP:eo(430)};function yt(i,e){if(!i)throw new Error(e)}const gt=Du;(function(i,e){const t=Du,n=i();for(;;)try{if(-parseInt(t(471))/1+parseInt(t(531))/2+-parseInt(t(524))/3+parseInt(t(482))/4*(-parseInt(t(512))/5)+-parseInt(t(476))/6*(-parseInt(t(509))/7)+-parseInt(t(530))/8+-parseInt(t(489))/9*(-parseInt(t(499))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Yd,609809);function Yd(){const i=["getVisible","setMaxZoom","209885WEKPSO","assign","maxResolution","max","getClassName","minResolution","getBackground","getMinResolution","layer","MAX_RESOLUTION","getExtent","setVisible","581223qjZXLy","ol-layer","visible","className","managed","setMaxResolution","179824yMGMAt","545468gAYDEM","object","get","104983JZRvAq","setBackground","disposeInternal","getMinZoom","round","30qzQrcp","setOpacity","properties","background","maxZoom","background_","28VfmBvT","Layer opacity must be a number","className_","minZoom","getMaxResolution","number","changed","43857hFyrUE","set","VISIBLE","getZIndex","getMaxZoom","getLayerStatesArray","once","state_","Z_INDEX","extent","220hcMDcs","opacity","EXTENT","getLayersArray","zIndex","MIN_RESOLUTION","OPACITY","MAX_ZOOM","setProperties","MIN_ZOOM","1182874xQONMG"];return Yd=function(){return i},Yd()}function Du(i,e){const t=Yd();return Du=function(n,r){return n=n-469,t[n]},Du(i,e)}let mB=class extends ys{constructor(e){const t=Du;super(),this.on,this[t(495)],this.un,this[t(481)]=e[t(479)];const n=Object[t(513)]({},e);typeof e.properties===t(469)&&(delete n[t(478)],Object[t(513)](n,e[t(478)])),n[Vt.OPACITY]=e[t(500)]!==void 0?e[t(500)]:1,yt(typeof n[Vt[t(505)]]===t(487),t(483)),n[Vt[t(491)]]=e[t(526)]!==void 0?e[t(526)]:!0,n[Vt.Z_INDEX]=e[t(503)],n[Vt[t(521)]]=e.maxResolution!==void 0?e[t(514)]:1/0,n[Vt[t(504)]]=e[t(517)]!==void 0?e[t(517)]:0,n[Vt.MIN_ZOOM]=e[t(485)]!==void 0?e.minZoom:-1/0,n[Vt.MAX_ZOOM]=e[t(480)]!==void 0?e[t(480)]:1/0,this.className_=n[t(527)]!==void 0?n[t(527)]:t(525),delete n[t(527)],this[t(507)](n),this[t(496)]=null}[gt(518)](){return this.background_}[gt(516)](){return this[gt(484)]}getLayerState(e){const t=gt,n=this[t(496)]||{layer:this,managed:e===void 0?!0:e},r=this[t(492)]();return n.opacity=Sn(Math[t(475)](this.getOpacity()*100)/100,0,1),n[t(526)]=this[t(510)](),n[t(498)]=this.getExtent(),n[t(503)]=r===void 0&&!n[t(528)]?1/0:r,n[t(514)]=this[t(486)](),n[t(517)]=Math[t(515)](this.getMinResolution(),0),n[t(485)]=this.getMinZoom(),n.maxZoom=this[t(493)](),this.state_=n,n}[gt(502)](e){return je()}[gt(494)](e){return je()}[gt(522)](){return this[gt(470)](Vt.EXTENT)}[gt(486)](){const e=gt;return this.get(Vt[e(521)])}[gt(519)](){const e=gt;return this[e(470)](Vt[e(504)])}[gt(474)](){const e=gt;return this.get(Vt[e(508)])}[gt(493)](){const e=gt;return this.get(Vt[e(506)])}getOpacity(){const e=gt;return this[e(470)](Vt[e(505)])}getSourceState(){return je()}[gt(510)](){const e=gt;return this[e(470)](Vt[e(491)])}getZIndex(){const e=gt;return this[e(470)](Vt[e(497)])}[gt(472)](e){const t=gt;this[t(481)]=e,this[t(488)]()}setExtent(e){const t=gt;this[t(490)](Vt[t(501)],e)}[gt(529)](e){const t=gt;this.set(Vt[t(521)],e)}setMinResolution(e){const t=gt;this[t(490)](Vt[t(504)],e)}[gt(511)](e){const t=gt;this[t(490)](Vt[t(506)],e)}setMinZoom(e){this[gt(490)](Vt.MIN_ZOOM,e)}[gt(477)](e){const t=gt;yt(typeof e===t(487),"Layer opacity must be a number"),this[t(490)](Vt.OPACITY,e)}[gt(523)](e){const t=gt;this[t(490)](Vt[t(491)],e)}setZIndex(e){const t=gt;this[t(490)](Vt[t(497)],e)}[gt(473)](){const e=gt;this.state_&&(this[e(496)][e(520)]=null,this[e(496)]=null),super[e(473)]()}};var wE=Xd;(function(i,e){for(var t=Xd,n=i();;)try{var r=-parseInt(t(315))/1*(-parseInt(t(307))/2)+-parseInt(t(308))/3*(-parseInt(t(303))/4)+-parseInt(t(305))/5*(parseInt(t(304))/6)+parseInt(t(314))/7*(parseInt(t(312))/8)+-parseInt(t(316))/9*(parseInt(t(317))/10)+parseInt(t(313))/11+-parseInt(t(311))/12*(parseInt(t(306))/13);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wd,602754);function Xd(i,e){var t=Wd();return Xd=function(n,r){n=n-303;var s=t[n];return s},Xd(i,e)}function Wd(){var i=["prerender","postcompose","133944HCNjiL","6692992sMvlGY","3742464lgErMP","7drpHke","37YcMIrB","9jikGoO","1769890awdSiA","precompose","148bWXIUR","12WTLFzh","497070VZfKDu","2171daoGOB","27524YSWPue","93777KApUBB"];return Wd=function(){return i},Wd()}const wr={PRERENDER:wE(309),POSTRENDER:"postrender",PRECOMPOSE:wE(318),POSTCOMPOSE:wE(310),RENDERCOMPLETE:"rendercomplete"};function jd(){var i=["3764040lvarsM","107013HvUVWx","1725026WrTzub","39246kUdKBX","2073577XDQWjN","1oLPQPp","76jdhUQE","132skQVoY","154PFyJkh","153FnpANI","1691370XHWuQO","348792CTJqQd"];return jd=function(){return i},jd()}function BE(i,e){var t=jd();return BE=function(n,r){n=n-231;var s=t[n];return s},BE(i,e)}(function(i,e){for(var t=BE,n=i();;)try{var r=parseInt(t(237))/1*(-parseInt(t(234))/2)+-parseInt(t(233))/3*(-parseInt(t(238))/4)+parseInt(t(242))/5+parseInt(t(235))/6*(-parseInt(t(240))/7)+-parseInt(t(231))/8*(parseInt(t(241))/9)+-parseInt(t(232))/10+parseInt(t(236))/11*(parseInt(t(239))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(jd,965598);const An={ANIMATING:0,INTERACTING:1};var _B=Jd;function Kd(){var i=["1792986nKsCkh","13711flguHw","11JXUfIs","4yenzFr","104cvLjVT","1555555cYwwfY","1617696qvoCAM","center","17437810XkMfMl","214CNJNKr","4466105RYTmGD","20619Mcejpz","rotation"];return Kd=function(){return i},Kd()}(function(i,e){for(var t=Jd,n=i();;)try{var r=-parseInt(t(332))/1*(parseInt(t(327))/2)+-parseInt(t(331))/3*(-parseInt(t(334))/4)+-parseInt(t(323))/5+-parseInt(t(324))/6+parseInt(t(328))/7+-parseInt(t(335))/8*(parseInt(t(329))/9)+parseInt(t(326))/10*(parseInt(t(333))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Kd,901871);function Jd(i,e){var t=Kd();return Jd=function(n,r){n=n-323;var s=t[n];return s},Jd(i,e)}const Xr={CENTER:_B(325),RESOLUTION:"resolution",ROTATION:_B(330)},IB=42,SE=256;(function(i,e){const t=$d,n=i();for(;;)try{if(parseInt(t(496))/1*(-parseInt(t(500))/2)+parseInt(t(505))/3*(-parseInt(t(499))/4)+-parseInt(t(508))/5*(parseInt(t(506))/6)+-parseInt(t(504))/7+parseInt(t(498))/8+-parseInt(t(497))/9*(parseInt(t(501))/10)+parseInt(t(503))/11*(parseInt(t(509))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Zd,523137);function EB(i,e,t){return function(n,r,s,a,o){const l=$d;if(!n)return;if(!r&&!e)return n;const c=e?0:s[0]*r,x=e?0:s[1]*r,u=o?o[0]:0,h=o?o[1]:0;let f=i[0]+c/2+u,A=i[2]-c/2+u,g=i[1]+x/2+h,d=i[3]-x/2+h;f>A&&(f=(A+f)/2,A=f),g>d&&(g=(d+g)/2,d=g);let p=Sn(n[0],f,A),_=Sn(n[1],g,d);if(a&&t&&r){const I=30*r;p+=-I*Math.log(1+Math.max(0,f-n[0])/I)+I*Math[l(507)](1+Math[l(502)](0,n[0]-A)/I),_+=-I*Math[l(507)](1+Math[l(502)](0,g-n[1])/I)+I*Math[l(507)](1+Math[l(502)](0,n[1]-d)/I)}return[p,_]}}function Zd(){const i=["23234bUxGlG","3436870zwQkXl","max","3883gOyQQV","606641rzKOfF","423498SPdcNA","470082iSvRVc","log","25ZIvhGg","61428OrtRMT","14XXgIgy","27KHzKYK","5364472EWEUEv","8mjQonH"];return Zd=function(){return i},Zd()}function $d(i,e){const t=Zd();return $d=function(n,r){return n=n-496,t[n]},$d(i,e)}function d7(i){return i}(function(i,e){const t=l0,n=i();for(;;)try{if(parseInt(t(188))/1+-parseInt(t(191))/2+parseInt(t(196))/3*(parseInt(t(202))/4)+-parseInt(t(203))/5+parseInt(t(189))/6*(-parseInt(t(197))/7)+parseInt(t(190))/8*(-parseInt(t(193))/9)+parseInt(t(195))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(e1,812772);function e1(){const i=["210LmIpSn","3083448XZDAhX","2135570DqwjDE","min","18jfUzUn","max","47770780oOEXoV","828MIOxcV","259329BFEGng","pow","log","floor","length","576WOZxjx","5261385UVKcpC","183519xWHapq"];return e1=function(){return i},e1()}function ME(i,e,t,n){const r=l0,s=ht(e)/t[0],a=wn(e)/t[1];return n?Math[r(192)](i,Math[r(194)](s,a)):Math[r(192)](i,Math[r(192)](s,a))}function RE(i,e,t){const n=l0;let r=Math[n(192)](i,e);const s=50;return r*=Math.log(1+s*Math.max(0,i/e-1))/s+1,t&&(r=Math[n(194)](r,t),r/=Math[n(199)](1+s*Math[n(194)](0,t/i-1))/s+1),Sn(r,t/2,e*2)}function p7(i,e,t,n){return e=e!==void 0?e:!0,function(r,s,a,o){const l=l0;if(r!==void 0){const c=i[0],x=i[i[l(201)]-1],u=t?ME(c,t,a,n):c;if(o)return e?RE(r,u,x):Sn(r,x,u);const h=Math[l(192)](u,r),f=Math[l(200)](od(i,h,s));return i[f]>u&&f<i[l(201)]-1?i[f+1]:i[f]}}}function g7(i,e,t,n,r,s){return n=n!==void 0?n:!0,t=t!==void 0?t:0,function(a,o,l,c){const x=l0;if(a!==void 0){const u=r?ME(e,r,l,s):e;if(c)return n?RE(a,u,t):Sn(a,t,u);const h=1e-9,f=Math.ceil(Math.log(e/u)/Math[x(199)](i)-h),A=-o*(.5-h)+.5,g=Math[x(192)](u,a),d=Math[x(200)](Math[x(199)](e/g)/Math.log(i)+A),p=Math.max(f,d),_=e/Math[x(198)](i,p);return Sn(_,t,u)}}}function l0(i,e){const t=e1();return l0=function(n,r){return n=n-188,t[n]},l0(i,e)}function yB(i,e,t,n,r){return t=t!==void 0?t:!0,function(s,a,o,l){if(s!==void 0){const c=n?ME(i,n,o,r):i;return!t||!l?Sn(s,e,c):RE(s,c,e)}}}(function(i,e){const t=t1,n=i();for(;;)try{if(parseInt(t(198))/1*(parseInt(t(202))/2)+-parseInt(t(199))/3+parseInt(t(206))/4*(-parseInt(t(200))/5)+parseInt(t(197))/6*(-parseInt(t(203))/7)+parseInt(t(195))/8+-parseInt(t(201))/9+-parseInt(t(205))/10*(-parseInt(t(196))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(n1,439281);function TE(i){if(i!==void 0)return 0}function CB(i){if(i!==void 0)return i}function m7(i){const e=2*Math.PI/i;return function(t,n){const r=t1;if(n)return t;if(t!==void 0)return t=Math[r(204)](t/e+.5)*e,t}}function t1(i,e){const t=n1();return t1=function(n,r){return n=n-195,t[n]},t1(i,e)}function _7(i){const e=kA(5);return function(t,n){return n||t===void 0?t:Math.abs(t)<=e?0:t}}function n1(){const i=["475158JRklef","74164huCsTV","851211zYhwFO","644905KbENwS","3281571occSBs","8VfNXSe","70nSVmRv","floor","15450520XTDDuB","12qpgoId","3398416SQrGWm","11spnHSp"];return n1=function(){return i},n1()}function i1(){var i=["5944190jZfHHX","131mKiNeq","8888210CQIgic","14433kJkqpA","7796607kDaBPG","7450122IfwdMf","11446gwSSxo","8brhSMB","12737538LlvtIH","44EvfmiN"];return i1=function(){return i},i1()}function DE(i,e){var t=i1();return DE=function(n,r){n=n-254;var s=t[n];return s},DE(i,e)}(function(i,e){for(var t=DE,n=i();;)try{var r=-parseInt(t(261))/1*(parseInt(t(256))/2)+-parseInt(t(263))/3*(parseInt(t(259))/4)+-parseInt(t(260))/5+parseInt(t(255))/6+parseInt(t(254))/7+parseInt(t(257))/8*(parseInt(t(258))/9)+-parseInt(t(262))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(i1,890477);function bB(i){return Math.pow(i,3)}function Qc(i){return 1-bB(1-i)}function I7(i){return 3*i*i-2*i*i*i}function E7(i){return i}(function(i,e){const t=Qu,n=i();for(;;)try{if(-parseInt(t(382))/1+-parseInt(t(389))/2*(-parseInt(t(379))/3)+-parseInt(t(387))/4*(parseInt(t(392))/5)+-parseInt(t(391))/6*(parseInt(t(388))/7)+parseInt(t(393))/8+parseInt(t(380))/9*(-parseInt(t(386))/10)+parseInt(t(385))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(r1,135925);const vB=new Array(6);function Qu(i,e){const t=r1();return Qu=function(n,r){return n=n-379,t[n]},Qu(i,e)}function Oi(){return[1,0,0,1,0,0]}function wB(i){return FE(i,1,0,0,1,0,0)}function r1(){const i=["355176BZnqJC","93MlPFEX","71334AuHLxN","round","171046vwiPqD","sin","map","4454307jWmGLO","30vfJvVS","2972OJFobo","7FJkRJs","2762PbVMZk","matrix(","500286RRWcAK","525avfKwk"];return r1=function(){return i},r1()}function QE(i,e){const t=i[0],n=i[1],r=i[2],s=i[3],a=i[4],o=i[5],l=e[0],c=e[1],x=e[2],u=e[3],h=e[4],f=e[5];return i[0]=t*l+r*c,i[1]=n*l+s*c,i[2]=t*x+r*u,i[3]=n*x+s*u,i[4]=t*h+r*f+a,i[5]=n*h+s*f+o,i}function FE(i,e,t,n,r,s,a){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i[4]=s,i[5]=a,i}function y7(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i}function Vn(i,e){const t=e[0],n=e[1];return e[0]=i[0]*t+i[2]*n+i[4],e[1]=i[1]*t+i[3]*n+i[5],e}function LE(i,e,t){return QE(i,FE(vB,e,0,0,t,0,0))}function C7(i,e,t){return QE(i,FE(vB,1,0,0,1,e,t))}function vs(i,e,t,n,r,s,a,o){const l=Qu,c=Math[l(383)](s),x=Math.cos(s);return i[0]=n*x,i[1]=r*c,i[2]=-n*c,i[3]=r*x,i[4]=a*n*x-o*n*c+e,i[5]=a*r*c+o*r*x+t,i}function BB(i,e){const t=b7(e);yt(t!==0,"Transformation matrix cannot be inverted");const n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5];return i[0]=a/t,i[1]=-r/t,i[2]=-s/t,i[3]=n/t,i[4]=(s*l-a*o)/t,i[5]=-(n*l-r*o)/t,i}function b7(i){return i[0]*i[3]-i[1]*i[2]}const SB=[1e6,1e6,1e6,1e6,2,2];function v7(i){const e=Qu;return e(390)+i[e(384)]((n,r)=>Math[e(381)](n*SB[r])/SB[r]).join(", ")+")"}(function(i,e){const t=x0,n=i();for(;;)try{if(parseInt(t(412))/1+parseInt(t(422))/2+-parseInt(t(419))/3+-parseInt(t(415))/4*(parseInt(t(413))/5)+parseInt(t(414))/6+parseInt(t(421))/7*(parseInt(t(420))/8)+parseInt(t(418))/9*(parseInt(t(417))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(s1,799480);function to(i,e,t,n,r,s){const a=x0;s=s||[];let o=0;for(let l=e;l<t;l+=n){const c=i[l],x=i[l+1];s[o++]=r[0]*c+r[2]*x+r[4],s[o++]=r[1]*c+r[3]*x+r[5]}return s&&s[a(416)]!=o&&(s[a(416)]=o),s}function s1(){const i=["50BECcmF","770949ChpRji","3267402ixDIHw","1633888hojwrr","7CQDpQY","1265708XxnreJ","448139XBuzqi","216490dNwgAq","1310268YkUfvs","4RJAEMp","length"];return s1=function(){return i},s1()}function x0(i,e){const t=s1();return x0=function(n,r){return n=n-412,t[n]},x0(i,e)}function MB(i,e,t,n,r,s,a){const o=x0;a=a||[];const l=Math.cos(r),c=Math.sin(r),x=s[0],u=s[1];let h=0;for(let f=e;f<t;f+=n){const A=i[f]-x,g=i[f+1]-u;a[h++]=x+A*l-g*c,a[h++]=u+A*c+g*l;for(let d=f+2;d<f+n;++d)a[h++]=i[d]}return a&&a[o(416)]!=h&&(a[o(416)]=h),a}function w7(i,e,t,n,r,s,a,o){const l=x0;o=o||[];const c=a[0],x=a[1];let u=0;for(let h=e;h<t;h+=n){const f=i[h]-c,A=i[h+1]-x;o[u++]=c+r*f,o[u++]=x+s*A;for(let g=h+2;g<h+n;++g)o[u++]=i[g]}return o&&o[l(416)]!=u&&(o[l(416)]=u),o}function B7(i,e,t,n,r,s,a){const o=x0;a=a||[];let l=0;for(let c=e;c<t;c+=n){a[l++]=i[c]+r,a[l++]=i[c+1]+s;for(let x=c+2;x<c+n;++x)a[l++]=i[x]}return a&&a[o(416)]!=l&&(a[o(416)]=l),a}const Br=Fc;(function(i,e){const t=Fc,n=i();for(;;)try{if(-parseInt(t(183))/1+parseInt(t(186))/2*(-parseInt(t(181))/3)+-parseInt(t(190))/4*(parseInt(t(187))/5)+-parseInt(t(179))/6+-parseInt(t(195))/7*(-parseInt(t(193))/8)+-parseInt(t(176))/9*(-parseInt(t(189))/10)+-parseInt(t(185))/11*(-parseInt(t(194))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(a1,721152);function a1(){const i=["computeExtent","3gRAQKi","extentRevision_","882537grNTJq","simplify","3075545MnNBxQ","506774zUMDpo","1565WPxeyI","closestPointXY","9023510diCQjR","13316WOeLWt","extent_","getSimplifiedGeometry","29168IjaEbS","108RmZkhJ","735MRmRto","simplifiedGeometryRevision","getRevision","translate","containsXY","clone","applyTransform","getClosestPoint","getWorldExtent","tile-pixels","simplifyTransformedInternal","9HPhHcm","scale","intersectsCoordinate","5414898tgdRGc"];return a1=function(){return i},a1()}const RB=Oi();let TB=class extends ys{constructor(){const e=Fc;super(),this[e(191)]=Er(),this[e(182)]=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this[e(196)]=0,this.simplifyTransformedInternal=tB((t,n,r)=>{const s=e;if(!r)return this[s(192)](n);const a=this[s(200)]();return a.applyTransform(r),a.getSimplifiedGeometry(n)})}simplifyTransformed(e,t){const n=Fc;return this[n(175)](this[n(197)](),e,t)}[Br(200)](){return je()}[Br(188)](e,t,n,r){return je()}[Br(199)](e,t){const n=Br,r=this[n(172)]([e,t]);return r[0]===e&&r[1]===t}[Br(172)](e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}[Br(178)](e){return this.containsXY(e[0],e[1])}computeExtent(e){return je()}getExtent(e){const t=Br;if(this[t(182)]!=this.getRevision()){const n=this[t(180)](this.extent_);(isNaN(n[0])||isNaN(n[1]))&&pc(n),this[t(182)]=this[t(197)]()}return mQ(this[t(191)],e)}rotate(e,t){je()}[Br(177)](e,t,n){je()}[Br(184)](e){return this[Br(192)](e*e)}getSimplifiedGeometry(e){return je()}getType(){return je()}applyTransform(e){je()}intersectsExtent(e){return je()}[Br(198)](e,t){je()}transform(e,t){const n=Br,r=Kt(e),s=r.getUnits()==n(174)?function(a,o,l){const c=n,x=r.getExtent(),u=r[c(173)](),h=wn(u)/wn(x);return vs(RB,u[0],u[3],h,-h,0,0,0),to(a,0,a.length,l,RB,o),mc(r,t)(a,o,l)}:mc(r,t);return this[n(171)](s),this}};function Fc(i,e){const t=a1();return Fc=function(n,r){return n=n-171,t[n]},Fc(i,e)}const on=Fu;(function(i,e){const t=Fu,n=i();for(;;)try{if(-parseInt(t(447))/1+parseInt(t(448))/2+parseInt(t(461))/3*(parseInt(t(471))/4)+parseInt(t(452))/5+-parseInt(t(453))/6+-parseInt(t(469))/7*(-parseInt(t(451))/8)+parseInt(t(459))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(o1,465975);function Fu(i,e){const t=o1();return Fu=function(n,r){return n=n-447,t[n]},Fu(i,e)}let u0=class extends TB{constructor(){const e=Fu;super(),this[e(466)]="XY",this[e(473)]=2,this.flatCoordinates}[on(456)](e){const t=on;return VI(this[t(465)],0,this[t(465)][t(457)],this[t(473)],e)}[on(468)](){return je()}getFirstCoordinate(){const e=on;return this[e(465)][e(467)](0,this[e(473)])}getFlatCoordinates(){return this[on(465)]}[on(462)](){const e=on;return this[e(465)][e(467)](this[e(465)][e(457)]-this[e(473)])}[on(449)](){return this[on(466)]}[on(476)](e){const t=on;if(this[t(477)]!==this.getRevision()&&(this[t(472)]=0,this[t(477)]=this.getRevision()),e<0||this[t(472)]!==0&&e<=this[t(472)])return this;const n=this[t(464)](e);return n[t(460)]().length<this[t(465)][t(457)]?n:(this[t(472)]=e,this)}[on(464)](e){return this}[on(455)](){return this.stride}setFlatCoordinates(e,t){const n=on;this[n(473)]=DB(e),this[n(466)]=e,this[n(465)]=t}[on(458)](e,t){je()}[on(475)](e,t,n){const r=on;let s;if(e)s=DB(e);else{for(let a=0;a<n;++a){if(t[r(457)]===0){this.layout="XY",this.stride=2;return}t=t[0]}s=t.length,e=h0(s)}this[r(466)]=e,this.stride=s}[on(470)](e){const t=on;this[t(465)]&&(e(this[t(465)],this[t(465)],this.stride),this[t(454)]())}[on(450)](e,t){const n=on,r=this[n(460)]();if(r){const s=this[n(455)]();MB(r,0,r[n(457)],s,e,t,r),this[n(454)]()}}scale(e,t,n){const r=on;t===void 0&&(t=e),!n&&(n=yr(this[r(474)]()));const s=this[r(460)]();if(s){const a=this[r(455)]();w7(s,0,s.length,a,e,t,n,s),this.changed()}}translate(e,t){const n=on,r=this[n(460)]();if(r){const s=this[n(455)]();B7(r,0,r[n(457)],s,e,t,r),this.changed()}}};function o1(){const i=["211099vfbMdW","applyTransform","1988jhaRwF","simplifiedGeometryMaxMinSquaredTolerance","stride","getExtent","setLayout","getSimplifiedGeometry","simplifiedGeometryRevision","844917KDXfHI","426640fbmWwg","getLayout","rotate","64HwadRH","1409685nbHRMO","3402042OEvtKF","changed","getStride","computeExtent","length","setCoordinates","4309965KVmYFM","getFlatCoordinates","3999hLQVWC","getLastCoordinate","XYZM","getSimplifiedGeometryInternal","flatCoordinates","layout","slice","getCoordinates"];return o1=function(){return i},o1()}function h0(i){const e=on;let t;return i==2?t="XY":i==3?t="XYZ":i==4&&(t=e(463)),t}function DB(i){const e=on;let t;return i=="XY"?t=2:i=="XYZ"||i=="XYM"?t=3:i==e(463)&&(t=4),t}function S7(i,e,t){const n=on,r=i[n(460)]();if(!r)return null;const s=i[n(455)]();return to(r,0,r[n(457)],s,e,t)}(function(i,e){const t=no,n=i();for(;;)try{if(-parseInt(t(446))/1*(-parseInt(t(445))/2)+-parseInt(t(452))/3+parseInt(t(451))/4*(-parseInt(t(447))/5)+-parseInt(t(450))/6+parseInt(t(454))/7+-parseInt(t(453))/8+parseInt(t(449))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(c1,277032);function c1(){const i=["2274665UKUYsv","sqrt","11436957oMigpK","2658078VazPwc","4hZFkyc","1159647nYHkBl","269816DcZodD","1064420vBPcYE","length","max","344842oQWbjM","1tntWiQ"];return c1=function(){return i},c1()}function QB(i,e,t,n,r,s,a){const o=no,l=i[e],c=i[e+1],x=i[t]-l,u=i[t+1]-c;let h;if(x===0&&u===0)h=e;else{const f=((r-l)*x+(s-c)*u)/(x*x+u*u);if(f>1)h=t;else if(f>0){for(let A=0;A<n;++A)a[A]=or(i[e+A],i[t+A],f);a[o(443)]=n;return}else h=e}for(let f=0;f<n;++f)a[f]=i[h+f];a[o(443)]=n}function PE(i,e,t,n,r){let s=i[e],a=i[e+1];for(e+=n;e<t;e+=n){const o=i[e],l=i[e+1],c=n0(s,a,o,l);c>r&&(r=c),s=o,a=l}return r}function kE(i,e,t,n,r){const s=no;for(let a=0,o=t[s(443)];a<o;++a){const l=t[a];r=PE(i,e,l,n,r),e=l}return r}function M7(i,e,t,n,r){const s=no;for(let a=0,o=t[s(443)];a<o;++a){const l=t[a];r=kE(i,e,l,n,r),e=l[l[s(443)]-1]}return r}function UE(i,e,t,n,r,s,a,o,l,c,x){const u=no;if(e==t)return c;let h,f;if(r===0){if(f=n0(a,o,i[e],i[e+1]),f<c){for(h=0;h<n;++h)l[h]=i[e+h];return l[u(443)]=n,f}return c}x=x||[NaN,NaN];let A=e+n;for(;A<t;)if(QB(i,A-n,A,n,a,o,x),f=n0(a,o,x[0],x[1]),f<c){for(c=f,h=0;h<n;++h)l[h]=x[h];l[u(443)]=n,A+=n}else A+=n*Math[u(444)]((Math[u(448)](f)-Math[u(448)](c))/r|0,1);if(s&&(QB(i,t-n,e,n,a,o,x),f=n0(a,o,x[0],x[1]),f<c)){for(c=f,h=0;h<n;++h)l[h]=x[h];l[u(443)]=n}return c}function no(i,e){const t=c1();return no=function(n,r){return n=n-443,t[n]},no(i,e)}function NE(i,e,t,n,r,s,a,o,l,c,x){x=x||[NaN,NaN];for(let u=0,h=t.length;u<h;++u){const f=t[u];c=UE(i,e,f,n,r,s,a,o,l,c,x),e=f}return c}function R7(i,e,t,n,r,s,a,o,l,c,x){const u=no;x=x||[NaN,NaN];for(let h=0,f=t[u(443)];h<f;++h){const A=t[h];c=NE(i,e,A,n,r,s,a,o,l,c,x),e=A[A[u(443)]-1]}return c}(function(i,e){const t=f0,n=i();for(;;)try{if(parseInt(t(261))/1*(parseInt(t(267))/2)+parseInt(t(268))/3*(parseInt(t(270))/4)+parseInt(t(265))/5*(parseInt(t(272))/6)+parseInt(t(273))/7*(-parseInt(t(271))/8)+parseInt(t(264))/9+parseInt(t(262))/10*(-parseInt(t(266))/11)+-parseInt(t(263))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(x1,145235);function T7(i,e,t,n){const r=f0;for(let s=0,a=t[r(269)];s<a;++s)i[e++]=t[s];return e}function l1(i,e,t,n){const r=f0;for(let s=0,a=t[r(269)];s<a;++s){const o=t[s];for(let l=0;l<n;++l)i[e++]=o[l]}return e}function f0(i,e){const t=x1();return f0=function(n,r){return n=n-261,t[n]},f0(i,e)}function Lu(i,e,t,n,r){const s=f0;r=r||[];let a=0;for(let o=0,l=t[s(269)];o<l;++o){const c=l1(i,e,t[o],n);r[a++]=c,e=c}return r[s(269)]=a,r}function FB(i,e,t,n,r){const s=f0;r=r||[];let a=0;for(let o=0,l=t.length;o<l;++o){const c=Lu(i,e,t[o],n,r[a]);c[s(269)]===0&&(c[0]=e),r[a++]=c,e=c[c[s(269)]-1]}return r[s(269)]=a,r}function x1(){const i=["595Mrddiv","3gjLVCQ","278470AKJQdX","725244KVyGfc","7155nseGec","233065VBScgZ","33lYfbaH","32866pfJDgh","33MGbeRE","length","73124RuiNCu","808dmCaam","6FzUJRo"];return x1=function(){return i},x1()}(function(i,e){const t=io,n=i();for(;;)try{if(parseInt(t(258))/1+-parseInt(t(262))/2+parseInt(t(265))/3+parseInt(t(256))/4+parseInt(t(266))/5+parseInt(t(259))/6*(-parseInt(t(257))/7)+-parseInt(t(264))/8*(-parseInt(t(260))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(h1,935503);function u1(i,e,t,n,r,s,a){const o=io,l=(t-e)/n;if(l<3){for(;e<t;e+=n)s[a++]=i[e],s[a++]=i[e+1];return a}const c=new Array(l);c[0]=1,c[l-1]=1;const x=[e,t-n];let u=0;for(;x.length>0;){const h=x.pop(),f=x.pop();let A=0;const g=i[f],d=i[f+1],p=i[h],_=i[h+1];for(let I=f+n;I<h;I+=n){const m=i[I],y=i[I+1],E=EQ(m,y,g,d,p,_);E>A&&(u=I,A=E)}A>r&&(c[(u-e)/n]=1,f+n<u&&x[o(255)](f,u),u+n<h&&x.push(u,h))}for(let h=0;h<l;++h)c[h]&&(s[a++]=i[e+h*n],s[a++]=i[e+h*n+1]);return a}function LB(i,e,t,n,r,s,a,o){const l=io;for(let c=0,x=t.length;c<x;++c){const u=t[c];a=u1(i,e,u,n,r,s,a),o[l(255)](a),e=u}return a}function h1(){const i=["push","2223148DlsewV","7NNnHMs","227760YQUNAw","9619602DPOxIA","198grksZv","round","3485372yyHJIu","length","682608XmdSYb","693054ZGGPKD","6948595WkPbym"];return h1=function(){return i},h1()}function A0(i,e){return e*Math[io(261)](i/e)}function D7(i,e,t,n,r,s,a){if(e==t)return a;let o=A0(i[e],r),l=A0(i[e+1],r);e+=n,s[a++]=o,s[a++]=l;let c,x;do if(c=A0(i[e],r),x=A0(i[e+1],r),e+=n,e==t)return s[a++]=c,s[a++]=x,a;while(c==o&&x==l);for(;e<t;){const u=A0(i[e],r),h=A0(i[e+1],r);if(e+=n,u==c&&h==x)continue;const f=c-o,A=x-l,g=u-o,d=h-l;if(f*d==A*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(A<0&&d<A||A==d||A>0&&d>A)){c=u,x=h;continue}s[a++]=c,s[a++]=x,o=c,l=x,c=u,x=h}return s[a++]=c,s[a++]=x,a}function io(i,e){const t=h1();return io=function(n,r){return n=n-255,t[n]},io(i,e)}function OE(i,e,t,n,r,s,a,o){const l=io;for(let c=0,x=t[l(263)];c<x;++c){const u=t[c];a=D7(i,e,u,n,r,s,a),o[l(255)](a),e=u}return a}function Q7(i,e,t,n,r,s,a,o){const l=io;for(let c=0,x=t.length;c<x;++c){const u=t[c],h=[];a=OE(i,e,u,n,r,s,a,h),o[l(255)](h),e=u[u[l(263)]-1]}return a}(function(i,e){const t=Lc,n=i();for(;;)try{if(-parseInt(t(390))/1*(parseInt(t(401))/2)+-parseInt(t(391))/3*(parseInt(t(393))/4)+parseInt(t(394))/5+parseInt(t(397))/6*(parseInt(t(398))/7)+parseInt(t(400))/8+-parseInt(t(395))/9+-parseInt(t(392))/10*(-parseInt(t(396))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(f1,874567);function Lc(i,e){const t=f1();return Lc=function(n,r){return n=n-390,t[n]},Lc(i,e)}function f1(){const i=["24ZxEfwO","4939835XqJcfj","11415852nwCbST","22121zsGtbV","78DHGMcK","429352cRjNKO","length","10091544DSDrwf","156egENjD","412zzHgGn","740490kUnPSl","3030LiUjAZ"];return f1=function(){return i},f1()}function ro(i,e,t,n,r){const s=Lc;r=r!==void 0?r:[];let a=0;for(let o=e;o<t;o+=n)r[a++]=i.slice(o,o+n);return r[s(399)]=a,r}function Pu(i,e,t,n,r){const s=Lc;r=r!==void 0?r:[];let a=0;for(let o=0,l=t[s(399)];o<l;++o){const c=t[o];r[a++]=ro(i,e,c,n,r[a]),e=c}return r.length=a,r}function GE(i,e,t,n,r){const s=Lc;r=r!==void 0?r:[];let a=0;for(let o=0,l=t[s(399)];o<l;++o){const c=t[o];r[a++]=c[s(399)]===1&&c[0]===e?[]:Pu(i,e,c,n,r[a]),e=c[c.length-1]}return r[s(399)]=a,r}(function(i,e){const t=A1,n=i();for(;;)try{if(parseInt(t(221))/1*(-parseInt(t(222))/2)+parseInt(t(227))/3*(-parseInt(t(232))/4)+parseInt(t(223))/5+-parseInt(t(228))/6+parseInt(t(230))/7*(-parseInt(t(229))/8)+-parseInt(t(225))/9*(-parseInt(t(231))/10)+-parseInt(t(226))/11*(-parseInt(t(233))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(d1,702995);function A1(i,e){const t=d1();return A1=function(n,r){return n=n-221,t[n]},A1(i,e)}function PB(i,e,t,n){let r=0;const s=i[t-n],a=i[t-n+1];let o=0,l=0;for(;e<t;e+=n){const c=i[e]-s,x=i[e+1]-a;r+=l*c-o*x,o=c,l=x}return r/2}function kB(i,e,t,n){let r=0;for(let s=0,a=t.length;s<a;++s){const o=t[s];r+=PB(i,e,o,n),e=o}return r}function d1(){const i=["159696jNKinM","2210747nUocjH","15JEzSnN","6787074TwiLff","4278656QKnPEG","7BsZZtY","170xMQktO","256372HSKlWU","108HNkNqf","803tUIetM","182rDHJus","3260515FOjFlG","length"];return d1=function(){return i},d1()}function F7(i,e,t,n){const r=A1;let s=0;for(let a=0,o=t[r(224)];a<o;++a){const l=t[a];s+=kB(i,e,l,n),e=l[l.length-1]}return s}const Wr=Pc;(function(i,e){const t=Pc,n=i();for(;;)try{if(-parseInt(t(280))/1+-parseInt(t(266))/2*(parseInt(t(282))/3)+parseInt(t(267))/4+-parseInt(t(289))/5+parseInt(t(288))/6+-parseInt(t(281))/7+parseInt(t(286))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(p1,110198);function p1(){const i=["setFlatCoordinates","isArray","getCoordinates","changed","stride","closestPointXY","layout","99388QAMpLj","314055fiSseX","15219pgWqdt","maxDeltaRevision_","length","getType","260672vZSYQJ","getArea","1171356ByzYLu","311725sjUtgX","setLayout","flatCoordinates","22ttoOFl","579156EMsnIC","maxDelta_","getSimplifiedGeometryInternal","getRevision","sqrt","setCoordinates"];return p1=function(){return i},p1()}function Pc(i,e){const t=p1();return Pc=function(n,r){return n=n-264,t[n]},Pc(i,e)}let UB=class W3 extends u0{constructor(e,t){const n=Pc;super(),this[n(268)]=-1,this[n(283)]=-1,t!==void 0&&!Array[n(274)](e[0])?this[n(273)](t,e):this[n(272)](e,t)}clone(){const e=Pc;return new W3(this.flatCoordinates.slice(),this[e(279)])}[Wr(278)](e,t,n,r){const s=Wr;return r<$o(this.getExtent(),e,t)?r:(this[s(283)]!=this[s(270)]()&&(this[s(268)]=Math[s(271)](PE(this[s(265)],0,this[s(265)].length,this[s(277)],0)),this[s(283)]=this[s(270)]()),UE(this[s(265)],0,this[s(265)].length,this[s(277)],this.maxDelta_,!0,e,t,n,r))}[Wr(287)](){const e=Wr;return PB(this.flatCoordinates,0,this[e(265)][e(284)],this[e(277)])}[Wr(275)](){const e=Wr;return ro(this.flatCoordinates,0,this[e(265)][e(284)],this[e(277)])}[Wr(269)](e){const t=Wr,n=[];return n.length=u1(this.flatCoordinates,0,this[t(265)][t(284)],this[t(277)],e,n,0),new W3(n,"XY")}[Wr(285)](){return"LinearRing"}intersectsExtent(e){return!1}[Wr(272)](e,t){const n=Wr;this[n(264)](t,e,1),!this[n(265)]&&(this.flatCoordinates=[]),this[n(265)].length=l1(this.flatCoordinates,0,e,this[n(277)]),this[n(276)]()}};const jr=g1;(function(i,e){const t=g1,n=i();for(;;)try{if(-parseInt(t(500))/1+-parseInt(t(504))/2+parseInt(t(510))/3+-parseInt(t(501))/4+-parseInt(t(506))/5*(parseInt(t(496))/6)+-parseInt(t(502))/7*(parseInt(t(511))/8)+parseInt(t(508))/9*(parseInt(t(505))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(m1,207835);function g1(i,e){const t=m1();return g1=function(n,r){return n=n-491,t[n]},g1(i,e)}let d0=class BT extends u0{constructor(e,t){super(),this.setCoordinates(e,t)}[jr(507)](){const e=jr,t=new BT(this[e(495)][e(498)](),this[e(499)]);return t[e(494)](this),t}[jr(509)](e,t,n,r){const s=jr,a=this[s(495)],o=n0(e,t,a[0],a[1]);if(o<r){const l=this.stride;for(let c=0;c<l;++c)n[c]=a[c];return n[s(491)]=l,o}return r}getCoordinates(){const e=jr;return this.flatCoordinates[e(498)]()}[jr(492)](e){return Mw(this[jr(495)],e)}[jr(493)](){return jr(497)}intersectsExtent(e){const t=jr;return GI(e,this[t(495)][0],this[t(495)][1])}setCoordinates(e,t){const n=jr;this[n(503)](t,e,0),!this.flatCoordinates&&(this.flatCoordinates=[]),this[n(495)][n(491)]=T7(this[n(495)],0,e,this.stride),this.changed()}};function m1(){const i=["flatCoordinates","6CQIxxi","Point","slice","layout","132454YUGnjo","1532512gqVsso","11242FwtMmS","setLayout","107078quDbMu","10rrpGny","1948775GvByuH","clone","9303750yXITIv","closestPointXY","422973MWUmpa","40YDBwHT","length","computeExtent","getType","applyProperties"];return m1=function(){return i},m1()}(function(i,e){const t=ku,n=i();for(;;)try{if(parseInt(t(172))/1*(-parseInt(t(177))/2)+-parseInt(t(178))/3*(parseInt(t(175))/4)+-parseInt(t(179))/5+-parseInt(t(171))/6+-parseInt(t(180))/7+-parseInt(t(176))/8+parseInt(t(181))/9*(parseInt(t(173))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_1,311674);function ku(i,e){const t=_1();return ku=function(n,r){return n=n-171,t[n]},ku(i,e)}function _1(){const i=["138ukPGbj","20290LojMXh","length","149092HaQxlY","1367480lNoUxv","1372YGXaGl","9ERccNO","2635560OYTBbG","903651HWhVrG","6687RQqgeY","973476rhBdkp"];return _1=function(){return i},_1()}function L7(i,e,t,n,r){return!Dw(r,function(a){return!p0(i,e,t,n,a[0],a[1])})}function p0(i,e,t,n,r,s){let a=0,o=i[t-n],l=i[t-n+1];for(;e<t;e+=n){const c=i[e],x=i[e+1];l<=s?x>s&&(c-o)*(s-l)-(r-o)*(x-l)>0&&a++:x<=s&&(c-o)*(s-l)-(r-o)*(x-l)<0&&a--,o=c,l=x}return a!==0}function zE(i,e,t,n,r,s){const a=ku;if(t[a(174)]===0||!p0(i,e,t[0],n,r,s))return!1;for(let o=1,l=t[a(174)];o<l;++o)if(p0(i,t[o-1],t[o],n,r,s))return!1;return!0}function P7(i,e,t,n,r,s){const a=ku;if(t[a(174)]===0)return!1;for(let o=0,l=t[a(174)];o<l;++o){const c=t[o];if(zE(i,e,c,n,r,s))return!0;e=c[c[a(174)]-1]}return!1}function Uu(i,e){const t=I1();return Uu=function(n,r){return n=n-497,t[n]},Uu(i,e)}(function(i,e){const t=Uu,n=i();for(;;)try{if(-parseInt(t(509))/1*(-parseInt(t(504))/2)+parseInt(t(500))/3+parseInt(t(510))/4+-parseInt(t(505))/5*(-parseInt(t(501))/6)+parseInt(t(508))/7+-parseInt(t(499))/8+-parseInt(t(497))/9*(parseInt(t(506))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(I1,352358);function I1(){const i=["sort","806576HVdcLU","1511106UzFRMG","19704dqfzWj","push","length","4852BkjFAB","950CJKhfK","4095970LOjjcx","abs","1758736vhyHRl","7DMfbVQ","1144316NkElic","27EVkqmD"];return I1=function(){return i},I1()}function VE(i,e,t,n,r,s,a){const o=Uu;let l,c,x,u,h,f,A;const g=r[s+1],d=[];for(let I=0,m=t[o(503)];I<m;++I){const y=t[I];for(u=i[y-n],f=i[y-n+1],l=e;l<y;l+=n)h=i[l],A=i[l+1],(g<=f&&A<=g||f<=g&&g<=A)&&(x=(g-f)/(A-f)*(h-u)+u,d[o(502)](x)),u=h,f=A}let p=NaN,_=-1/0;for(d[o(498)](ms),u=d[0],l=1,c=d.length;l<c;++l){h=d[l];const I=Math[o(507)](h-u);I>_&&(x=(u+h)/2,zE(i,e,t,n,x,g)&&(p=x,_=I)),u=h}return isNaN(p)&&(p=r[s]),a?(a[o(502)](p,g,_),a):[p,g,_]}function NB(i,e,t,n,r){const s=Uu;let a=[];for(let o=0,l=t[s(503)];o<l;++o){const c=t[o];a=VE(i,e,c,n,r,2*o,a),e=c[c[s(503)]-1]}return a}(function(i,e){const t=E1,n=i();for(;;)try{if(parseInt(t(118))/1+-parseInt(t(119))/2+parseInt(t(120))/3+-parseInt(t(113))/4*(-parseInt(t(114))/5)+parseInt(t(112))/6+-parseInt(t(115))/7+-parseInt(t(116))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(y1,812274);function E1(i,e){const t=y1();return E1=function(n,r){return n=n-112,t[n]},E1(i,e)}function OB(i,e,t,n,r){const s=E1;let a;for(e+=n;e<t;e+=n)if(a=r(i[s(117)](e-n,e),i.slice(e,e+n)),a)return a;return!1}function y1(){const i=["71250ecnvOZ","812772dpurUw","2832441RQBYab","8625192JvDxwH","942384fsOvBg","15WBPYdH","7040320lOWavq","7482376KQTxFC","slice"];return y1=function(){return i},y1()}(function(i,e){const t=kc,n=i();for(;;)try{if(-parseInt(t(505))/1*(parseInt(t(500))/2)+parseInt(t(503))/3+parseInt(t(504))/4*(parseInt(t(499))/5)+parseInt(t(507))/6*(-parseInt(t(502))/7)+-parseInt(t(509))/8*(parseInt(t(498))/9)+-parseInt(t(497))/10*(parseInt(t(508))/11)+parseInt(t(506))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(C1,258800);function kc(i,e){const t=C1();return kc=function(n,r){return n=n-497,t[n]},kc(i,e)}function C1(){const i=["1361457cJoCur","24aEdaxI","440gRrzFh","7415352cambaU","6YLNRIH","5299855uVlteI","4504HHmYgK","10diParB","4167DeXpEC","241075LmtlmK","1198OxMerv","length","673547GZPuGX"];return C1=function(){return i},C1()}function b1(i,e,t,n,r){const s=Tw(Er(),i,e,t,n);return Bn(r,s)?Vr(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:OB(i,e,t,n,function(a,o){return IQ(r,a,o)}):!1}function k7(i,e,t,n,r){const s=kc;for(let a=0,o=t[s(501)];a<o;++a){if(b1(i,e,t[a],n,r))return!0;e=t[a]}return!1}function GB(i,e,t,n,r){return!!(b1(i,e,t,n,r)||p0(i,e,t,n,r[0],r[1])||p0(i,e,t,n,r[0],r[3])||p0(i,e,t,n,r[2],r[1])||p0(i,e,t,n,r[2],r[3]))}function zB(i,e,t,n,r){const s=kc;if(!GB(i,e,t[0],n,r))return!1;if(t[s(501)]===1)return!0;for(let a=1,o=t.length;a<o;++a)if(L7(i,t[a-1],t[a],n,r)&&!b1(i,t[a-1],t[a],n,r))return!1;return!0}function U7(i,e,t,n,r){const s=kc;for(let a=0,o=t.length;a<o;++a){const l=t[a];if(zB(i,e,l,n,r))return!0;e=l[l[s(501)]-1]}return!1}function N7(i,e,t,n){for(;e<t-n;){for(let r=0;r<n;++r){const s=i[e+r];i[e+r]=i[t-n+r],i[t-n+r]=s}e+=n,t-=n}}(function(i,e){const t=so,n=i();for(;;)try{if(parseInt(t(273))/1*(parseInt(t(265))/2)+parseInt(t(267))/3+parseInt(t(271))/4+parseInt(t(270))/5*(parseInt(t(266))/6)+-parseInt(t(274))/7*(-parseInt(t(272))/8)+parseInt(t(268))/9+-parseInt(t(269))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(v1,278747);function v1(){const i=["5UjrDNx","1274460bSzVTW","46232sPwaQn","8niCrGw","343UtmylI","slice","push","length","102494kiSmZd","2171238vhDNPk","198660hkyWti","3023568JBFgiS","14970600mkhnps"];return v1=function(){return i},v1()}function HE(i,e,t,n){let r=0,s=i[t-n],a=i[t-n+1];for(;e<t;e+=n){const o=i[e],l=i[e+1];r+=(o-s)*(l+a),s=o,a=l}return r===0?void 0:r>0}function so(i,e){const t=v1();return so=function(n,r){return n=n-262,t[n]},so(i,e)}function qE(i,e,t,n,r){const s=so;r=r!==void 0?r:!1;for(let a=0,o=t[s(264)];a<o;++a){const l=t[a],c=HE(i,e,l,n);if(a===0){if(r&&c||!r&&!c)return!1}else if(r&&!c||!r&&c)return!1;e=l}return!0}function VB(i,e,t,n,r){const s=so;for(let a=0,o=t.length;a<o;++a){const l=t[a];if(!qE(i,e,l,n,r))return!1;l[s(264)]&&(e=l[l[s(264)]-1])}return!0}function w1(i,e,t,n,r){const s=so;r=r!==void 0?r:!1;for(let a=0,o=t[s(264)];a<o;++a){const l=t[a],c=HE(i,e,l,n);(a===0?r&&c||!r&&!c:r&&!c||!r&&c)&&N7(i,e,l,n),e=l}return e}function YE(i,e,t,n,r){const s=so;for(let a=0,o=t[s(264)];a<o;++a)e=w1(i,e,t[a],n,r);return e}function HB(i,e){const t=so,n=[];let r=0,s=0,a;for(let o=0,l=e[t(264)];o<l;++o){const c=e[o],x=HE(i,r,c,2);if(a===void 0&&(a=x),x===a)n.push(e[t(262)](s,o+1));else{if(n.length===0)continue;n[n[t(264)]-1][t(263)](e[s])}s=o+1,r=c}return n}const tn=g0;(function(i,e){const t=g0,n=i();for(;;)try{if(-parseInt(t(302))/1+-parseInt(t(304))/2*(parseInt(t(288))/3)+-parseInt(t(292))/4*(-parseInt(t(270))/5)+parseInt(t(269))/6+-parseInt(t(271))/7+parseInt(t(273))/8+parseInt(t(300))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(B1,298621);function B1(){const i=["getLinearRingCount","maxDelta_","getLinearRings","getRadius","ends_","intersectsExtent","getCoordinates","cos","slice","3487992XagleF","5EjZGip","1345057aSkbnw","flatCoordinates","3470088APExfy","getExtent","Polygon","getOrientedFlatCoordinates","stride","applyProperties","getEnds","getCenter","getStride","setCoordinates","getArea","layout","orientedFlatCoordinates_","getRevision","push","1649766ilSdbl","flatInteriorPointRevision_","orientedRevision_","maxDeltaRevision_","883928aGFoNT","sqrt","getFlatInteriorPoint","XYM","length","changed","getLinearRing","closestPointXY","2154609zrDXaF","flatInteriorPoint_","434782mjpVnJ","getFlatCoordinates","2amizCg"];return B1=function(){return i},B1()}function g0(i,e){const t=B1();return g0=function(n,r){return n=n-268,t[n]},g0(i,e)}let Uc=class j3 extends u0{constructor(e,t,n){const r=g0;super(),this.ends_=[],this[r(289)]=-1,this[r(301)]=null,this[r(306)]=-1,this[r(291)]=-1,this[r(290)]=-1,this.orientedFlatCoordinates_=null,t!==void 0&&n?(this.setFlatCoordinates(t,e),this[r(309)]=n):this.setCoordinates(e,t)}appendLinearRing(e){const t=g0;this[t(272)]?_s(this[t(272)],e.getFlatCoordinates()):this[t(272)]=e[t(303)]()[t(268)](),this[t(309)][t(287)](this[t(272)][t(296)]),this[t(297)]()}clone(){const e=g0,t=new j3(this[e(272)][e(268)](),this.layout,this[e(309)][e(268)]());return t[e(278)](this),t}[tn(299)](e,t,n,r){const s=tn;return r<$o(this[s(274)](),e,t)?r:(this[s(291)]!=this[s(286)]()&&(this[s(306)]=Math.sqrt(kE(this[s(272)],0,this[s(309)],this.stride,0)),this[s(291)]=this[s(286)]()),NE(this.flatCoordinates,0,this[s(309)],this[s(277)],this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){const n=tn;return zE(this[n(276)](),0,this[n(309)],this[n(277)],e,t)}[tn(283)](){const e=tn;return kB(this.getOrientedFlatCoordinates(),0,this[e(309)],this[e(277)])}[tn(311)](e){const t=tn;let n;return e!==void 0?(n=this[t(276)]()[t(268)](),w1(n,0,this[t(309)],this.stride,e)):n=this[t(272)],Pu(n,0,this.ends_,this[t(277)])}[tn(279)](){return this[tn(309)]}[tn(294)](){const e=tn;if(this[e(289)]!=this[e(286)]()){const t=yr(this.getExtent());this[e(301)]=VE(this[e(276)](),0,this[e(309)],this[e(277)],t,0),this[e(289)]=this[e(286)]()}return this[e(301)]}getInteriorPoint(){const e=tn;return new d0(this[e(294)](),e(295))}[tn(305)](){const e=tn;return this[e(309)][e(296)]}[tn(298)](e){const t=tn;return e<0||this.ends_[t(296)]<=e?null:new UB(this[t(272)][t(268)](e===0?0:this[t(309)][e-1],this.ends_[e]),this.layout)}[tn(307)](){const e=tn,t=this[e(284)],n=this[e(272)],r=this[e(309)],s=[];let a=0;for(let o=0,l=r[e(296)];o<l;++o){const c=r[o],x=new UB(n[e(268)](a,c),t);s[e(287)](x),a=c}return s}[tn(276)](){const e=tn;if(this[e(290)]!=this.getRevision()){const t=this[e(272)];qE(t,0,this[e(309)],this.stride)?this[e(285)]=t:(this.orientedFlatCoordinates_=t[e(268)](),this[e(285)][e(296)]=w1(this[e(285)],0,this[e(309)],this[e(277)])),this[e(290)]=this[e(286)]()}return this[e(285)]}getSimplifiedGeometryInternal(e){const t=tn,n=[],r=[];return n[t(296)]=OE(this.flatCoordinates,0,this[t(309)],this[t(277)],Math[t(293)](e),n,0,r),new j3(n,"XY",r)}getType(){return tn(275)}[tn(310)](e){const t=tn;return zB(this.getOrientedFlatCoordinates(),0,this.ends_,this[t(277)],e)}[tn(282)](e,t){const n=tn;this.setLayout(t,e,2),!this[n(272)]&&(this[n(272)]=[]);const r=Lu(this[n(272)],0,e,this[n(277)],this[n(309)]);this.flatCoordinates[n(296)]=r[n(296)]===0?0:r[r[n(296)]-1],this.changed()}};function qB(i){const e=tn;if(t0(i))throw new Error("Cannot create polygon from empty extent");const t=i[0],n=i[1],r=i[2],s=i[3],a=[t,n,t,s,r,s,r,n,t,n];return new Uc(a,"XY",[a[e(296)]])}const ie=Nu;(function(i,e){const t=Nu,n=i();for(;;)try{if(parseInt(t(615))/1*(parseInt(t(465))/2)+parseInt(t(597))/3*(-parseInt(t(480))/4)+parseInt(t(622))/5*(parseInt(t(525))/6)+parseInt(t(535))/7+-parseInt(t(623))/8+-parseInt(t(599))/9+parseInt(t(574))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(S1,281411);function Nu(i,e){const t=S1();return Nu=function(n,r){return n=n-454,t[n]},Nu(i,e)}function S1(){const i=["sourceCenter","getType","length","assign","minZoom_","adjustResolutionInternal","nextRotation_","calculateCenterShift","adjustCenterInternal","minResolution","getRotation","showFullExtent","getZoomForResolution","getViewportSizeMinusPadding_","slice","resolutions_","getValueForResolutionFunction","cancelAnchor_","setConstrainResolution","resolutions","resolution","zoomFactor_","getCenter","constrainResolution","getViewportSize_","RESOLUTION","easing","adjustRotationInternal","getConstrainedZoom","2755370MTesDJ","targetResolution_","constraints_","getResolutionForZoom","getConstrainedCenter","getHints","isArray","centerOn","Invalid extent or geometry provided as `geometry`","updateAnimationKey_","minResolution_","start","applyOptions_","getConstrainedResolution","center","adjustCenter","projection","setMaxZoom","zoom","The view center is not defined","animations_","setProperties","getMinZoom","13947MhqGfN","complete","2120355BWXEBP","duration","push","getResolutionForValueFunction","fit","clone","endInteractionInternal","targetCenter_","anchor","sin","maxZoom","adjustZoom","constraint","ROTATION","getResolution","maxResolution","183UqyxaN","isGlobal","getStride","getSimplifiedGeometry","transform","set","padding","95BrRhlw","1581056OYOxlU","getCenterInternal","isDef","applyTargetState_","log","targetCenter","nearest","setResolution","smoothExtentConstraint","getProjection","INTERACTING","zoomFactor","732LSrjLs","CENTER","viewportSize_","calculateCenterRotate","once","getUpdatedOptions_","floor","filter","setHint","ANIMATING","getResolutions","nextResolution_","getFlatCoordinates","centerOnInternal","rotatedExtentForGeometry","20vRztkw","targetResolution","getMetersPerUnit","getState","getConstraints","getExtent","getZoom","getMinResolution","hints_","EPSG:3857","setMinZoom","setCenterInternal","calculateExtent","adjustRotation","animate","now","projection_","rotate","constrainOnlyCenter","maxResolution_","bind","constrainRotation","calculateCenterZoom","endInteraction","targetRotation","setViewportSize","get","getViewStateAndExtent","rotation","pow","abs","beginInteraction","setRotation","callback","getResolutionForExtentInternal","setZoom","max","changed","minZoom","setCenter","size","cos","sourceRotation","animateInternal","function","73434PlLqOO","padding_","degrees","extent","getInteracting","sourceResolution","min","multiWorld","number","adjustResolution","1139789HyNURc","enableRotation","nextCenter_","calculateExtentInternal","getAnimating","resolveConstraints","targetRotation_","getConstrainResolution","smoothResolutionConstraint","cancelAnimations"];return S1=function(){return i},S1()}const XE=0;let ws=class extends ys{constructor(e){const t=Nu;super(),this.on,this[t(469)],this.un,e=Object[t(548)]({},e),this.hints_=[0,0],this[t(594)]=[],this[t(583)],this.projection_=JI(e[t(590)],t(489)),this[t(467)]=[100,100],this[t(606)]=null,this[t(575)],this[t(541)],this.nextCenter_=null,this[t(476)],this.nextRotation_,this[t(562)]=void 0,e[t(590)]&&Uw(),e[t(588)]&&(e.center=Zs(e[t(588)],this[t(496)])),e[t(528)]&&(e[t(528)]=gs(e.extent,this[t(496)])),this[t(586)](e)}[ie(586)](e){const t=ie,n=Object[t(548)]({},e);for(const l in Xr)delete n[l];this[t(595)](n,!0);const r=G7(e);this.maxResolution_=r[t(614)],this.minResolution_=r[t(554)],this[t(566)]=r[t(464)],this.resolutions_=e[t(564)],this[t(526)]=e[t(621)],this[t(549)]=r[t(518)];const s=O7(e),a=r[t(611)],o=z7(e);this[t(576)]={center:s,resolution:a,rotation:o},this.setRotation(e[t(508)]!==void 0?e[t(508)]:0),this[t(491)](e.center!==void 0?e[t(588)]:null),e[t(565)]!==void 0?this[t(460)](e[t(565)]):e[t(592)]!==void 0&&this[t(515)](e[t(592)])}get[ie(621)](){return this[ie(526)]}set padding(e){const t=ie;let n=this[t(526)];this[t(526)]=e;const r=this.getCenterInternal();if(r){const s=e||[0,0,0,0];n=n||[0,0,0,0];const a=this[t(613)](),o=a/2*(s[3]-n[3]+n[1]-s[1]),l=a/2*(s[0]-n[0]+n[2]-s[2]);this[t(491)]([r[0]+o,r[1]-l])}}getUpdatedOptions_(e){const t=ie,n=this.getProperties();return n.resolution!==void 0?n[t(565)]=this[t(613)]():n[t(592)]=this[t(486)](),n.center=this[t(454)](),n[t(508)]=this[t(555)](),Object.assign({},n,e)}[ie(494)](e){const t=ie;this[t(455)]()&&!this.getAnimating()&&this[t(540)](0);const n=new Array(arguments[t(547)]);for(let r=0;r<n[t(547)];++r){let s=arguments[r];s[t(588)]&&(s=Object.assign({},s),s.center=Zs(s[t(588)],this[t(462)]())),s.anchor&&(s=Object.assign({},s),s[t(607)]=Zs(s.anchor,this[t(462)]())),n[r]=s}this.animateInternal.apply(this,n)}[ie(523)](e){const t=ie;let n=arguments[t(547)],r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let s=0;for(;s<n&&!this[t(455)]();++s){const u=arguments[s];u[t(588)]&&this[t(491)](u[t(588)]),u[t(592)]!==void 0?this.setZoom(u.zoom):u[t(565)]&&this[t(460)](u[t(565)]),u[t(508)]!==void 0&&this[t(512)](u[t(508)])}if(s===n){r&&M1(r,!0);return}let a=Date[t(495)](),o=this.targetCenter_.slice(),l=this[t(575)],c=this.targetRotation_;const x=[];for(;s<n;++s){const u=arguments[s],h={start:a,complete:!1,anchor:u[t(607)],duration:u[t(600)]!==void 0?u.duration:1e3,easing:u[t(571)]||I7,callback:r};if(u[t(588)]&&(h.sourceCenter=o,h[t(458)]=u[t(588)][t(559)](),o=h[t(458)]),u[t(592)]!==void 0?(h[t(530)]=l,h[t(481)]=this[t(577)](u[t(592)]),l=h[t(481)]):u.resolution&&(h[t(530)]=l,h.targetResolution=u.resolution,l=h[t(481)]),u[t(508)]!==void 0){h[t(522)]=c;const f=gc(u[t(508)]-c+Math.PI,2*Math.PI)-Math.PI;h[t(504)]=c+f,c=h[t(504)]}V7(h)?h[t(598)]=!0:a+=h[t(600)],x[t(601)](h)}this[t(594)][t(601)](x),this.setHint(An[t(474)],1),this.updateAnimations_()}[ie(539)](){const e=ie;return this[e(488)][An[e(474)]]>0}[ie(529)](){const e=ie;return this[e(488)][An[e(463)]]>0}cancelAnimations(){const e=ie;this.setHint(An[e(474)],-this[e(488)][An[e(474)]]);let t;for(let n=0,r=this[e(594)].length;n<r;++n){const s=this.animations_[n];if(s[0][e(513)]&&M1(s[0].callback,!1),!t)for(let a=0,o=s.length;a<o;++a){const l=s[a];if(!l[e(598)]){t=l[e(607)];break}}}this.animations_[e(547)]=0,this[e(562)]=t,this[e(537)]=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){const e=ie;if(this[e(583)]!==void 0&&(cancelAnimationFrame(this[e(583)]),this[e(583)]=void 0),!this[e(539)]())return;const t=Date.now();let n=!1;for(let r=this[e(594)][e(547)]-1;r>=0;--r){const s=this.animations_[r];let a=!0;for(let o=0,l=s[e(547)];o<l;++o){const c=s[o];if(c[e(598)])continue;const x=t-c[e(585)];let u=c[e(600)]>0?x/c[e(600)]:1;u>=1?(c[e(598)]=!0,u=1):a=!1;const h=c.easing(u);if(c.sourceCenter){const f=c[e(545)][0],A=c.sourceCenter[1],g=c[e(458)][0],d=c[e(458)][1];this[e(537)]=c.targetCenter;const p=f+h*(g-f),_=A+h*(d-A);this[e(606)]=[p,_]}if(c[e(530)]&&c.targetResolution){const f=h===1?c[e(481)]:c[e(530)]+h*(c[e(481)]-c[e(530)]);if(c[e(607)]){const A=this[e(569)](this[e(555)]()),g=this.constraints_[e(565)](f,0,A,!0);this[e(606)]=this[e(502)](g,c.anchor)}this[e(476)]=c.targetResolution,this.targetResolution_=f,this[e(456)](!0)}if(c.sourceRotation!==void 0&&c[e(504)]!==void 0){const f=h===1?gc(c[e(504)]+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+h*(c[e(504)]-c.sourceRotation);if(c[e(607)]){const A=this[e(576)].rotation(f,!0);this[e(606)]=this.calculateCenterRotate(A,c[e(607)])}this[e(551)]=c.targetRotation,this[e(541)]=f}if(this.applyTargetState_(!0),n=!0,!c[e(598)])break}if(a){this.animations_[r]=null,this.setHint(An[e(474)],-1),this[e(537)]=null,this[e(476)]=NaN,this[e(551)]=NaN;const o=s[0][e(513)];o&&M1(o,!0)}}this.animations_=this.animations_[e(472)](Boolean),n&&this[e(583)]===void 0&&(this[e(583)]=requestAnimationFrame(this.updateAnimations_[e(500)](this)))}calculateCenterRotate(e,t){const n=ie;let r;const s=this[n(454)]();return s!==void 0&&(r=[s[0]-t[0],s[1]-t[1]],YI(r,e-this[n(555)]()),CQ(r,t)),r}[ie(502)](e,t){const n=ie;let r;const s=this[n(454)](),a=this[n(613)]();if(s!==void 0&&a!==void 0){const o=t[0]-e*(t[0]-s[0])/a,l=t[1]-e*(t[1]-s[1])/a;r=[o,l]}return r}[ie(569)](e){const t=ie,n=this[t(467)];if(e){const r=n[0],s=n[1];return[Math[t(510)](r*Math.cos(e))+Math[t(510)](s*Math[t(608)](e)),Math[t(510)](r*Math.sin(e))+Math[t(510)](s*Math[t(521)](e))]}return n}[ie(505)](e){const t=ie;this[t(467)]=Array[t(580)](e)?e[t(559)]():[100,100],!this[t(539)]()&&this[t(540)](0)}[ie(567)](){const e=ie,t=this[e(454)]();return t&&eE(t,this[e(462)]())}getCenterInternal(){const e=ie;return this.get(Xr[e(466)])}[ie(484)](){return this[ie(576)]}[ie(542)](){const e=ie;return this.get(e(568))}[ie(579)](e){const t=ie;return e!==void 0?(e[0]=this[t(488)][0],e[1]=this[t(488)][1],e):this[t(488)][t(559)]()}[ie(492)](e){const t=ie,n=this[t(538)](e);return tE(n,this[t(462)]())}calculateExtentInternal(e){const t=ie;e=e||this[t(558)]();const n=this.getCenterInternal();yt(n,t(593));const r=this[t(613)]();yt(r!==void 0,"The view resolution is not defined");const s=this[t(555)]();return yt(s!==void 0,"The view rotation is not defined"),LA(n,r,s,e)}getMaxResolution(){return this[ie(499)]}[ie(487)](){return this[ie(584)]}getMaxZoom(){const e=ie;return this.getZoomForResolution(this[e(584)])}[ie(591)](e){const t=ie;this[t(586)](this[t(470)]({maxZoom:e}))}[ie(596)](){const e=ie;return this[e(557)](this[e(499)])}[ie(490)](e){const t=ie;this[t(586)](this[t(470)]({minZoom:e}))}[ie(563)](e){const t=ie;this[t(586)](this[t(470)]({constrainResolution:e}))}[ie(462)](){return this[ie(496)]}[ie(613)](){const e=ie;return this[e(506)](Xr[e(570)])}[ie(475)](){return this.resolutions_}getResolutionForExtent(e,t){return this[ie(514)](gs(e,this.getProjection()),t)}[ie(514)](e,t){t=t||this[ie(558)]();const r=ht(e)/t[0],s=wn(e)/t[1];return Math.max(r,s)}[ie(602)](e){const t=ie;e=e||2;const n=this[t(587)](this.maxResolution_),r=this[t(584)],s=Math.log(n/r)/Math[t(457)](e);return function(a){return n/Math[t(509)](e,a*s)}}[ie(555)](){return this[ie(506)](Xr.ROTATION)}[ie(561)](e){const t=ie,n=Math.log(e||2),r=this[t(587)](this[t(499)]),s=this[t(584)],a=Math.log(r/s)/n;return function(o){return Math[t(457)](r/o)/n/a}}getViewportSizeMinusPadding_(e){let n=this[ie(569)](e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}[ie(483)](){const e=ie,t=this[e(462)](),n=this.getResolution(),r=this.getRotation();let s=this.getCenterInternal();const a=this[e(526)];if(a){const o=this.getViewportSizeMinusPadding_();s=WE(s,this[e(569)](),[o[0]/2+a[3],o[1]/2+a[0]],n,r)}return{center:s[e(559)](0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this[e(551)],rotation:r,zoom:this.getZoom()}}[ie(507)](){return{viewState:this.getState(),extent:this.calculateExtent()}}[ie(486)](){const e=ie;let t;const n=this.getResolution();return n!==void 0&&(t=this[e(557)](n)),t}[ie(557)](e){const t=ie;let n=this[t(549)]||0,r,s;if(this[t(560)]){const a=od(this[t(560)],e,1);n=a,r=this[t(560)][a],a==this[t(560)][t(547)]-1?s=2:s=r/this[t(560)][a+1]}else r=this[t(499)],s=this[t(566)];return n+Math[t(457)](r/e)/Math[t(457)](s)}[ie(577)](e){const t=ie;if(this[t(560)]){if(this[t(560)][t(547)]<=1)return 0;const n=Sn(Math[t(471)](e),0,this[t(560)][t(547)]-2),r=this[t(560)][n]/this[t(560)][n+1];return this[t(560)][n]/Math[t(509)](r,Sn(e-n,0,1))}return this[t(499)]/Math[t(509)](this.zoomFactor_,e-this[t(549)])}[ie(603)](e,t){const n=ie;let r;if(yt(Array[n(580)](e)||typeof e[n(618)]===n(524),n(582)),Array[n(580)](e)){yt(!t0(e),"Cannot fit empty extent provided as `geometry`");const s=gs(e,this[n(462)]());r=qB(s)}else if(e[n(546)]()==="Circle"){const s=gs(e[n(485)](),this[n(462)]());r=qB(s),r[n(497)](this[n(555)](),yr(s))}else r=e;this.fitInternal(r,t)}rotatedExtentForGeometry(e){const t=ie,n=this[t(555)](),r=Math[t(521)](n),s=Math.sin(-n),a=e[t(477)](),o=e[t(617)]();let l=1/0,c=1/0,x=-1/0,u=-1/0;for(let h=0,f=a.length;h<f;h+=o){const A=a[h]*r-a[h+1]*s,g=a[h]*s+a[h+1]*r;l=Math[t(531)](l,A),c=Math.min(c,g),x=Math[t(516)](x,A),u=Math[t(516)](u,g)}return[l,c,x,u]}fitInternal(e,t){const n=ie;t=t||{};let r=t[n(520)];!r&&(r=this[n(558)]());const s=t[n(621)]!==void 0?t[n(621)]:[0,0,0,0],a=t.nearest!==void 0?t[n(459)]:!1;let o;t.minResolution!==void 0?o=t[n(554)]:t[n(609)]!==void 0?o=this[n(577)](t[n(609)]):o=0;const l=this[n(479)](e);let c=this[n(514)](l,[r[0]-s[1]-s[3],r[1]-s[0]-s[2]]);c=isNaN(c)?o:Math[n(516)](c,o),c=this[n(587)](c,a?0:1);const x=this[n(555)](),u=Math[n(608)](x),h=Math[n(521)](x),f=yr(l);f[0]+=(s[1]-s[3])/2*c,f[1]+=(s[0]-s[2])/2*c;const A=f[0]*h-f[1]*u,g=f[1]*h+f[0]*u,d=this[n(578)]([A,g],c),p=t[n(513)]?t[n(513)]:Ec;t[n(600)]!==void 0?this[n(523)]({resolution:c,center:d,duration:t[n(600)],easing:t[n(571)]},p):(this[n(575)]=c,this[n(606)]=d,this[n(456)](!1,!0),M1(p,!0))}[ie(581)](e,t,n){const r=ie;this[r(478)](Zs(e,this[r(462)]()),t,n)}[ie(478)](e,t,n){const r=ie;this[r(491)](WE(e,t,n,this[r(613)](),this[r(555)]()))}[ie(552)](e,t,n,r){const s=ie;let a;const o=this[s(526)];if(o&&e){const l=this[s(558)](-n),c=WE(e,r,[l[0]/2+o[3],l[1]/2+o[0]],t,n);a=[e[0]-c[0],e[1]-c[1]]}return a}isDef(){const e=ie;return!!this[e(454)]()&&this[e(613)]()!==void 0}[ie(589)](e){const t=ie,n=eE(this.targetCenter_,this[t(462)]());this[t(519)]([n[0]+e[0],n[1]+e[1]])}[ie(553)](e){const t=ie,n=this[t(606)];this[t(491)]([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,t){const n=ie;t=t&&Zs(t,this[n(462)]()),this[n(550)](e,t)}[ie(550)](e,t){const n=ie,r=this[n(539)]()||this[n(529)](),s=this[n(569)](this.getRotation()),a=this[n(576)][n(565)](this.targetResolution_*e,0,s,r);t&&(this.targetCenter_=this[n(502)](a,t)),this[n(575)]*=e,this.applyTargetState_()}[ie(610)](e,t){const n=ie;this[n(534)](Math[n(509)](this[n(566)],-e),t)}[ie(493)](e,t){const n=ie;t&&(t=Zs(t,this[n(462)]())),this[n(572)](e,t)}[ie(572)](e,t){const n=ie,r=this[n(539)]()||this.getInteracting(),s=this[n(576)].rotation(this[n(541)]+e,r);t&&(this[n(606)]=this[n(468)](s,t)),this[n(541)]+=e,this[n(456)]()}[ie(519)](e){this.setCenterInternal(e&&Zs(e,this.getProjection()))}[ie(491)](e){const t=ie;this[t(606)]=e,this.applyTargetState_()}[ie(473)](e,t){const n=ie;return this.hints_[e]+=t,this[n(517)](),this.hints_[e]}[ie(460)](e){const t=ie;this[t(575)]=e,this[t(456)]()}[ie(512)](e){const t=ie;this[t(541)]=e,this[t(456)]()}setZoom(e){const t=ie;this[t(460)](this[t(577)](e))}applyTargetState_(e,t){const n=ie,r=this[n(539)]()||this.getInteracting()||t,s=this[n(576)][n(508)](this[n(541)],r),a=this[n(569)](s),o=this[n(576)][n(565)](this.targetResolution_,0,a,r),l=this[n(576)].center(this.targetCenter_,o,a,r,this.calculateCenterShift(this.targetCenter_,o,s,a));this.get(Xr[n(612)])!==s&&this[n(620)](Xr[n(612)],s),this[n(506)](Xr.RESOLUTION)!==o&&(this.set(Xr[n(570)],o),this.set(n(592),this[n(486)](),!0)),(!l||!this.get(Xr[n(466)])||!OA(this[n(506)](Xr[n(466)]),l))&&this[n(620)](Xr[n(466)],l),this.getAnimating()&&!e&&this[n(544)](),this[n(562)]=void 0}resolveConstraints(e,t,n){const r=ie;e=e!==void 0?e:200;const s=t||0,a=this[r(576)].rotation(this[r(541)]),o=this[r(569)](a),l=this.constraints_[r(565)](this[r(575)],s,o),c=this[r(576)].center(this[r(606)],l,o,!1,this[r(552)](this[r(606)],l,a,o));if(e===0&&!this[r(562)]){this[r(575)]=l,this.targetRotation_=a,this[r(606)]=c,this.applyTargetState_();return}n=n||(e===0?this[r(562)]:void 0),this[r(562)]=void 0,(this[r(613)]()!==l||this[r(555)]()!==a||!this[r(454)]()||!OA(this[r(454)](),c))&&(this[r(539)]()&&this[r(544)](),this[r(523)]({rotation:a,center:c,resolution:l,duration:e,easing:Qc,anchor:n}))}[ie(511)](){const e=ie;this[e(540)](0),this[e(473)](An.INTERACTING,1)}[ie(503)](e,t,n){const r=ie;n=n&&Zs(n,this.getProjection()),this[r(605)](e,t,n)}[ie(605)](e,t,n){const r=ie;this[r(529)]()&&(this[r(473)](An.INTERACTING,-1),this.resolveConstraints(e,t,n))}getConstrainedCenter(e,t){const n=ie,r=this[n(569)](this[n(555)]());return this[n(576)].center(e,t||this[n(613)](),r)}[ie(573)](e,t){const n=ie,r=this[n(577)](e);return this.getZoomForResolution(this[n(587)](r,t))}[ie(587)](e,t){const n=ie;t=t||0;const r=this[n(569)](this[n(555)]());return this[n(576)][n(565)](e,t,r)}};function M1(i,e){setTimeout(function(){i(e)},0)}function O7(i){const e=ie;if(i[e(528)]!==void 0){const n=i[e(461)]!==void 0?i.smoothExtentConstraint:!0;return EB(i[e(528)],i[e(498)],n)}const t=JI(i[e(590)],e(489));if(i[e(532)]!==!0&&t[e(616)]()){const n=t[e(485)]()[e(559)]();return n[0]=-1/0,n[2]=1/0,EB(n,!1,!1)}return d7}function G7(i){const e=ie;let t,n,r;const s=28,a=2;let o=i[e(518)]!==void 0?i[e(518)]:XE,l=i[e(609)]!==void 0?i[e(609)]:s;const c=i[e(464)]!==void 0?i[e(464)]:a,x=i[e(532)]!==void 0?i.multiWorld:!1,u=i[e(543)]!==void 0?i[e(543)]:!0,h=i[e(556)]!==void 0?i[e(556)]:!1,f=JI(i[e(590)],"EPSG:3857"),A=f.getExtent();let g=i[e(498)],d=i[e(528)];if(!x&&!d&&f[e(616)]()&&(g=!1,d=A),i.resolutions!==void 0){const p=i[e(564)];n=p[o],r=p[l]!==void 0?p[l]:p[p[e(547)]-1],i.constrainResolution?t=p7(p,u,!g&&d,h):t=yB(n,r,u,!g&&d,h)}else{const p=A?Math[e(516)](ht(A),wn(A)):360*Ha[e(527)]/f[e(482)](),_=p/SE/Math[e(509)](a,XE),I=_/Math[e(509)](a,s-XE);n=i[e(614)],n!==void 0?o=0:n=_/Math[e(509)](c,o),r=i[e(554)],r===void 0&&(i[e(609)]!==void 0?i.maxResolution!==void 0?r=n/Math[e(509)](c,l):r=_/Math[e(509)](c,l):r=I),l=o+Math[e(471)](Math[e(457)](n/r)/Math[e(457)](c)),r=n/Math[e(509)](c,l-o),i[e(568)]?t=g7(c,n,r,u,!g&&d,h):t=yB(n,r,u,!g&&d,h)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:c}}function z7(i){const e=ie;if(i[e(536)]!==void 0?i[e(536)]:!0){const n=i[e(501)];return n===void 0||n===!0?_7():n===!1?CB:typeof n===e(533)?m7(n):CB}return TE}function V7(i){const e=ie;return!(i[e(545)]&&i.targetCenter&&!OA(i[e(545)],i.targetCenter)||i[e(530)]!==i[e(481)]||i.sourceRotation!==i[e(504)])}function WE(i,e,t,n,r){const s=ie,a=Math.cos(-r);let o=Math[s(608)](-r),l=i[0]*a-i[1]*o,c=i[1]*a+i[0]*o;l+=(e[0]/2-t[0])*n,c+=(t[1]-e[1]/2)*n,o=-o;const x=l*a-c*o,u=c*a+l*o;return[x,u]}const tt=Ou;(function(i,e){const t=Ou,n=i();for(;;)try{if(-parseInt(t(168))/1+parseInt(t(121))/2+parseInt(t(170))/3+-parseInt(t(175))/4*(parseInt(t(122))/5)+parseInt(t(145))/6+parseInt(t(123))/7+-parseInt(t(172))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(R1,757858);function R1(){const i=["map","getLayersArray","maxResolution","source","setMap","handleSourceChange_","getMapInternal","createRenderer","renderDeferred","sourceready","hasRenderer","setSource","960746yIBgkl","dispose","1363296hdINou","layerStatesArray","14472264cELVPH","rendered","sourceChangeKey_","1222572IPfbLi","getRenderer","ready","setMapInternal","CHANGE","assign","changed","prepareFrame","getLayerState","sourceReady_","unrender","getSource","undefined","getState","maxZoom","MAP","getLayerStatesArray","1913512UgFzwz","5qWHvdf","7611009gIzXHR","push","extent","zoom","resolve","render","A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both.","getExtent","disposeInternal","renderDeclutter","getViewStateAndExtent","resolution","some","PRECOMPOSE","getAttributions","layer","renderer_","isArray","mapPrecomposeKey_","set","mapRenderKey_","calculateExtent","8008830zJrLnN","getFeatures","handleSourcePropertyChange_","isVisible","SOURCE","minZoom","addChangeListener","dispatchEvent","getData","once","getSourceState"];return R1=function(){return i},R1()}function Ou(i,e){const t=R1();return Ou=function(n,r){return n=n-108,t[n]},Ou(i,e)}let m0=class extends mB{constructor(e){const t=Ou,n=Object[t(109)]({},e);delete n[t(159)],super(n),this.on,this[t(154)],this.un,this[t(141)]=null,this[t(143)]=null,this[t(174)]=null,this[t(139)]=null,this[t(113)]=!1,this[t(173)]=!1,e[t(128)]&&(this[t(128)]=e[t(128)]),e[t(156)]&&this.setMap(e[t(156)]),this[t(151)](Vt[t(149)],this[t(147)]);const r=e[t(159)]?e[t(159)]:null;this[t(167)](r)}[tt(157)](e){const t=tt;return e=e||[],e[t(124)](this),e}[tt(120)](e){const t=tt;return e=e||[],e.push(this[t(112)]()),e}[tt(115)](){const e=tt;return this.get(Vt[e(149)])||null}getRenderSource(){return this[tt(115)]()}[tt(155)](){const e=tt,t=this[e(115)]();return t?t[e(117)]():e(116)}[tt(161)](){const e=tt;this[e(110)](),!(this.sourceReady_||this.getSource()[e(117)]()!==e(177))&&(this[e(113)]=!0,this[e(152)]("sourceready"))}[tt(147)](){const e=tt;this[e(174)]&&(Jt(this[e(174)]),this[e(174)]=null),this[e(113)]=!1;const t=this.getSource();t&&(this[e(174)]=mt(t,Ye.CHANGE,this[e(161)],this),t[e(117)]()===e(177)&&(this[e(113)]=!0,setTimeout(()=>{const n=e;this[n(152)](n(165))},0))),this[e(110)]()}[tt(146)](e){const t=tt;return this[t(139)]?this[t(139)][t(146)](e):Promise[t(127)]([])}getData(e){const t=tt;return!this[t(139)]||!this[t(173)]?null:this.renderer_[t(153)](e)}[tt(148)](e){const t=tt;let n;const r=this[t(162)]();!e&&r&&(e=r.getView()),e instanceof ws?n={viewState:e[t(117)](),extent:e[t(144)]()}:n=e,!n.layerStatesArray&&r&&(n[t(171)]=r.getLayerGroup().getLayerStatesArray());let s;n[t(171)]?s=n[t(171)].find(o=>o.layer===this):s=this[t(112)]();const a=this[t(130)]();return jE(s,n.viewState)&&(!a||Bn(a,n[t(125)]))}[tt(137)](e){var a;const t=tt;if(!this[t(148)](e))return[];const n=(a=this.getSource())==null?void 0:a.getAttributions();if(!n)return[];const r=e instanceof ws?e[t(133)]():e;let s=n(r);return!Array[t(140)](s)&&(s=[s]),s}[tt(128)](e,t){const n=tt,r=this[n(176)]();return r[n(111)](e)?(this.rendered=!0,r.renderFrame(e,t)):null}[tt(114)](){const e=tt;this[e(173)]=!1}getDeclutter(){}[tt(132)](e,t){}[tt(164)](e){const t=tt,n=this[t(176)]();n&&n[t(164)](e)}[tt(178)](e){!e&&this[tt(114)](),this.set(Vt.MAP,e)}[tt(162)](){const e=tt;return this.get(Vt[e(119)])}[tt(160)](e){const t=tt;this[t(141)]&&(Jt(this.mapPrecomposeKey_),this[t(141)]=null),!e&&this[t(110)](),this.mapRenderKey_&&(Jt(this[t(143)]),this.mapRenderKey_=null),e&&(this[t(141)]=mt(e,wr[t(136)],n=>{const r=t,s=n,a=s.frameState[r(171)],o=this[r(112)](!1);yt(!a[r(135)](function(l){const c=r;return l[c(138)]===o[c(138)]}),r(129)),a[r(124)](o)}),this.mapRenderKey_=mt(this,Ye[t(108)],e[t(128)],e),this[t(110)]())}[tt(167)](e){const t=tt;this[t(142)](Vt[t(149)],e)}[tt(176)](){const e=tt;return!this.renderer_&&(this.renderer_=this.createRenderer()),this[e(139)]}[tt(166)](){return!!this[tt(139)]}[tt(163)](){return null}disposeInternal(){const e=tt;this[e(139)]&&(this.renderer_[e(169)](),delete this[e(139)]),this.setSource(null),super[e(131)]()}};function jE(i,e){const t=tt;if(!i.visible)return!1;const n=e[t(134)];if(n<i.minResolution||n>=i[t(158)])return!1;const r=e[t(126)];return r>i[t(150)]&&r<=i[t(118)]}(function(i,e){for(var t=KE,n=i();;)try{var r=-parseInt(t(368))/1*(-parseInt(t(361))/2)+-parseInt(t(365))/3*(parseInt(t(366))/4)+parseInt(t(362))/5*(-parseInt(t(364))/6)+-parseInt(t(367))/7+-parseInt(t(359))/8+-parseInt(t(363))/9+parseInt(t(360))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(T1,736022);function KE(i,e){var t=T1();return KE=function(n,r){n=n-359;var s=t[n];return s},KE(i,e)}let H7=class extends m0{constructor(e){e=e||{},super(e)}};function T1(){var i=["5381019cHcQer","8114odQkrh","8266896uWXUnQ","42522760YpHdUL","302LZFCAL","1822725VWFIEa","7947234NFSlVu","18sHXTNB","312DwGcpT","37028AzsRYb"];return T1=function(){return i},T1()}const Hn=Gu;(function(i,e){const t=Gu,n=i();for(;;)try{if(parseInt(t(435))/1*(-parseInt(t(433))/2)+parseInt(t(413))/3+parseInt(t(422))/4+parseInt(t(426))/5+parseInt(t(427))/6+-parseInt(t(424))/7*(parseInt(t(429))/8)+parseInt(t(398))/9*(-parseInt(t(419))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(D1,126845);function Gu(i,e){const t=D1();return Gu=function(n,r){return n=n-398,t[n]},Gu(i,e)}const q7=5;function D1(){const i=["ERROR","getLayer","forEachFeatureAtCoordinate","bind","changed","getStaleKeys","layer_","renderIfReadyAndVisible","447873iiboDJ","disposeInternal","target","length","addEventListener","CHANGE","30ZFSUrB","unshift","maxStaleKeys","173160TDXdqM","boundHandleImageChange_","15701tdoNHw","LOADED","990085qOSdax","740796wdOOwE","handleImageChange_","856EOXAvC","ready","IDLE","renderFrame","28xrpwJz","prepareFrame","8191dpTIOW","handleFontsChanged","97632KwtbPh","getState","staleKeys_","renderDeferred","getFeatures","getData","getVisible"];return D1=function(){return i},D1()}let Y7=class extends Iu{constructor(e){const t=Gu;super(),this.ready=!0,this[t(423)]=this[t(428)][t(408)](this),this[t(411)]=e,this.staleKeys_=new Array,this[t(421)]=q7}[Hn(410)](){return this[Hn(400)]}prependStaleKey(e){const t=Hn;this.staleKeys_[t(420)](e),this[t(400)].length>this[t(421)]&&(this[t(400)][t(416)]=this[t(421)])}[Hn(402)](e){return je()}[Hn(403)](e){return null}[Hn(434)](e){return je()}[Hn(432)](e,t){return je()}[Hn(407)](e,t,n,r,s){}[Hn(406)](){return this[Hn(411)]}[Hn(436)](){}[Hn(428)](e){const t=Hn,n=e[t(415)];(n[t(399)]()===Pe[t(425)]||n[t(399)]()===Pe[t(405)])&&this.renderIfReadyAndVisible()}loadImage(e){const t=Hn;let n=e[t(399)]();return n!=Pe[t(425)]&&n!=Pe.ERROR&&e[t(417)](Ye[t(418)],this[t(423)]),n==Pe[t(431)]&&(e.load(),n=e[t(399)]()),n==Pe[t(425)]}[Hn(412)](){const e=Hn,t=this[e(406)]();t&&t[e(404)]()&&t.getSourceState()===e(430)&&t[e(409)]()}[Hn(401)](e){}[Hn(414)](){const e=Hn;delete this.layer_,super[e(414)]()}};(function(i,e){for(var t=JE,n=i();;)try{var r=-parseInt(t(312))/1+parseInt(t(311))/2*(-parseInt(t(301))/3)+-parseInt(t(305))/4*(parseInt(t(307))/5)+parseInt(t(306))/6*(parseInt(t(302))/7)+-parseInt(t(303))/8*(-parseInt(t(309))/9)+-parseInt(t(310))/10+parseInt(t(304))/11*(parseInt(t(308))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Q1,166784);function JE(i,e){var t=Q1();return JE=function(n,r){n=n-301;var s=t[n];return s},JE(i,e)}function Q1(){var i=["164jiQxIv","96156ZYxiSe","27535SXBfnH","12CXKFRA","63qZkJnq","172710dmSJNF","4qTioIf","27456UgZFqG","15450dzqBnx","49HHhdIS","161848sAoCQF","2131789GzrrRm"];return Q1=function(){return i},Q1()}let YB=class extends Cr{constructor(e,t,n,r){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=r}};function zu(i,e){const t=F1();return zu=function(n,r){return n=n-339,t[n]},zu(i,e)}const Kr=zu;(function(i,e){const t=zu,n=i();for(;;)try{if(-parseInt(t(362))/1*(parseInt(t(351))/2)+-parseInt(t(354))/3*(-parseInt(t(342))/4)+parseInt(t(349))/5+parseInt(t(358))/6*(-parseInt(t(361))/7)+-parseInt(t(350))/8+-parseInt(t(345))/9+parseInt(t(344))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(F1,666715);let ZE=class{constructor(){hn(this,CT,(...e)=>{const t=Kr;return this[t(346)][this[t(353)]+this.offset_][t(339)](e),this});const e=zu;this.instructions_=[],this[e(353)]=0,this[e(352)]=0,this[e(359)]=new Proxy(nd(),{get:(t,n)=>{const r=e;if(typeof nd()[n]===r(360))return!this[r(346)][this.zIndex+this[r(352)]]&&(this[r(346)][this[r(353)]+this[r(352)]]=[]),this[r(346)][this[r(353)]+this[r(352)]].push(n),this.pushMethodArgs_},set:(t,n,r)=>{const s=e;return!this[s(346)][this[s(353)]+this.offset_]&&(this[s(346)][this[s(353)]+this[s(352)]]=[]),this[s(346)][this[s(353)]+this.offset_][s(339)](n,r),!0}})}[(CT=Kr(341),Kr(340))](e){const t=Kr;this[t(346)][this[t(353)]+this[t(352)]][t(339)](e)}[Kr(347)](){return this.context_}[Kr(355)](e){const t=Kr;this[t(346)][t(357)](n=>{const r=t;for(let s=0,a=n[r(356)];s<a;++s){const o=n[s];if(typeof o===r(360)){o(e);continue}const l=n[++s];if(typeof e[o]===r(360))e[o](...l);else{if(typeof l=="function"){e[o]=l(e);continue}e[o]=l}}})}[Kr(343)](){const e=Kr;this[e(346)][e(356)]=0,this[e(353)]=0,this[e(352)]=0}[Kr(348)](){const e=Kr;this[e(352)]=this.instructions_.length,this[e(353)]=0}};function F1(){const i=["3nGczZe","draw","length","forEach","5622hfLYqu","context_","function","8995eDazFI","2731URTDoW","push","pushFunction","pushMethodArgs_","4947284tQLJqA","clear","26804760CvjRbl","9638802obsYhO","instructions_","getContext","offset","2333940mbYrhV","2581096OlkJxw","820wEYIHP","offset_","zIndex"];return F1=function(){return i},F1()}const qn=Vu;(function(i,e){const t=Vu,n=i();for(;;)try{if(-parseInt(t(312))/1*(parseInt(t(320))/2)+-parseInt(t(271))/3+parseInt(t(295))/4+-parseInt(t(309))/5*(-parseInt(t(331))/6)+-parseInt(t(326))/7+parseInt(t(293))/8*(-parseInt(t(300))/9)+parseInt(t(277))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(L1,290645);function L1(){const i=["container","containerReused","canvas","32364SxtIjX","height","useContainer","lineTo","41901teuAYy","context","coordinateToPixelTransform","100%","renderedResolution","save","14195850njsmsQ","dispatchRenderEvent_","drawImage","appendChild","data","frameState","renderDeferredInternal","extent","tempTransform","transform","getClassName","dispatchEvent","firstElementChild","hasListener","declutter","backgroundColor","3682424kAKKIT","clip","1436664yIpPML","transformOrigin","absolute","getLayer","getContext","9xBjnti","className","resolution","prepareContainer","clearRect","left","pixelTransform","round","size","85bTbmCN","getBackground","POSTRENDER","273Ipepzl","getRenderTransform","pixelRatio","position","disposeInternal","width","deferredContext_","viewState","4142kmTbTY","top left","inversePixelTransform","getImageData","createElement","style","3781057VvohlO","getRenderContext"];return L1=function(){return i},L1()}const XB=[];let Nc=null;function X7(){Nc=fn(1,1,void 0,{willReadFrequently:!0})}function Vu(i,e){const t=L1();return Vu=function(n,r){return n=n-268,t[n]},Vu(i,e)}let $E=class extends Y7{constructor(e){const t=Vu;super(e),this[t(328)]=null,this[t(275)],this[t(285)]=Oi(),this[t(306)]=Oi(),this[t(322)]=Oi(),this[t(272)]=null,this[t(318)]=null,this[t(329)]=!1,this[t(282)]=null}[qn(323)](e,t,n){const r=qn;!Nc&&X7(),Nc.clearRect(0,0,1,1);let s;try{Nc[r(279)](e,t,n,1,1,0,0,1,1),s=Nc[r(323)](0,0,1,1)[r(281)]}catch{return Nc=null,null}return s}[qn(310)](e){const t=qn;let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e[t(319)][t(302)])),r||void 0}[qn(269)](e,t,n){const r=qn,s=this[r(298)]()[r(287)]();let a,o;if(e&&e[r(301)]===s&&(!n||e&&e[r(325)].backgroundColor&&Za(xu(e[r(325)][r(292)]),xu(n)))){const l=e[r(289)];l instanceof HTMLCanvasElement&&(o=l[r(299)]("2d"))}if(o&&o[r(330)][r(325)][r(286)]===t?(this[r(328)]=e,this.context=o,this.containerReused=!0):this[r(329)]?(this[r(328)]=null,this[r(272)]=null,this.containerReused=!1):this[r(328)]&&(this[r(328)][r(325)][r(292)]=null),!this[r(328)]){a=document[r(324)]("div"),a.className=s;let l=a.style;l[r(315)]=r(297),l[r(317)]=r(274),l[r(268)]=r(274),o=fn();const c=o.canvas;a[r(280)](c),l=c[r(325)],l[r(315)]=r(297),l[r(305)]="0",l[r(296)]=r(321),this.container=a,this[r(272)]=o}!this[r(329)]&&n&&!this[r(328)][r(325)].backgroundColor&&(this.container.style[r(292)]=n)}clipUnrotated(e,t,n){const r=qn,s=Ks(n),a=PA(n),o=QA(n),l=DA(n);Vn(t[r(273)],s),Vn(t[r(273)],a),Vn(t[r(273)],o),Vn(t.coordinateToPixelTransform,l);const c=this[r(322)];Vn(c,s),Vn(c,a),Vn(c,o),Vn(c,l),e[r(276)](),e.beginPath(),e.moveTo(Math[r(307)](s[0]),Math[r(307)](s[1])),e[r(270)](Math.round(a[0]),Math[r(307)](a[1])),e[r(270)](Math[r(307)](o[0]),Math[r(307)](o[1])),e[r(270)](Math[r(307)](l[0]),Math.round(l[1])),e[r(294)]()}[qn(303)](e,t){const n=qn,r=e[n(284)],s=e.viewState[n(302)],a=e[n(319)].rotation,o=e[n(314)],l=Math[n(307)](ht(r)/s*o),c=Math[n(307)](wn(r)/s*o);vs(this[n(306)],e[n(308)][0]/2,e.size[1]/2,1/o,1/o,a,-l/2,-c/2),BB(this[n(322)],this.pixelTransform);const x=v7(this[n(306)]);if(this.useContainer(t,x,this[n(310)](e)),!this[n(329)]){const u=this.context.canvas;u[n(317)]!=l||u.height!=c?(u[n(317)]=l,u[n(268)]=c):this[n(272)][n(304)](0,0,l,c),x!==u[n(325)][n(286)]&&(u.style[n(286)]=x)}}[qn(278)](e,t,n){const r=qn,s=this[r(298)]();if(s[r(290)](e)){const a=new YB(e,this[r(322)],n,t);s[r(288)](a)}}preRender(e,t){const n=qn;this.frameState=t,!t[n(291)]&&this[n(278)](wr.PRERENDER,e,t)}postRender(e,t){const n=qn;t[n(291)]||this.dispatchRenderEvent_(wr[n(311)],e,t)}[qn(283)](e){}[qn(327)](e){const t=qn;return e[t(291)]&&!this[t(318)]&&(this[t(318)]=new ZE),e.declutter?this[t(318)][t(299)]():this.context}renderDeferred(e){const t=qn;e.declutter&&(this.dispatchRenderEvent_(wr.PRERENDER,this[t(272)],e),e[t(291)]&&this[t(318)]&&(this[t(318)].draw(this[t(272)]),this[t(318)].clear()),this[t(283)](e),this.dispatchRenderEvent_(wr[t(311)],this[t(272)],e))}[qn(313)](e,t,n,r,s,a,o){const l=s/2,c=a/2,x=r/t,u=-x,h=-e[0]+o,f=-e[1];return vs(this.tempTransform,l,c,x,u,-n,h,f)}disposeInternal(){const e=qn;delete this.frameState,super[e(316)]()}};function Hu(i,e){const t=P1();return Hu=function(n,r){return n=n-103,t[n]},Hu(i,e)}const ao=Hu;(function(i,e){const t=Hu,n=i();for(;;)try{if(-parseInt(t(131))/1+parseInt(t(118))/2+parseInt(t(113))/3+-parseInt(t(114))/4*(-parseInt(t(134))/5)+parseInt(t(154))/6+parseInt(t(132))/7+-parseInt(t(105))/8*(parseInt(t(130))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(P1,341020);function P1(){const i=["layerStatesArray","getResolution","getExtent","getImageData","clipUnrotated","projection","2763540FDrtIA","container","image","186704ybkgCB","floor","getInterpolate","INTERACTING","viewState","renderedResolution","frameState","resolution","2010276FGLTEp","12pKqOFr","pixelToCoordinateTransform","getImage","width","953302LBXtVS","pixelRatio","getData","tempTransform","globalAlpha","context","getPixelRatio","getState","slice","getLayer","renderFrame","imageSmoothingEnabled","675xmZPwP","296738Ldueod","2153158RKRogW","extent","788635RSSSgy","canvas","getRenderContext","ANIMATING","preRender","prepareFrame","restore","postRender","drawImage","layerIndex","getSource","opacity","loadImage","height"];return P1=function(){return i},P1()}let W7=class extends $E{constructor(e){const t=Hu;super(e),this[t(104)]=null}[ao(116)](){const e=ao;return this[e(104)]?this[e(104)][e(116)]():null}[ao(139)](e){const t=ao,n=e.layerStatesArray[e[t(143)]],r=e[t(119)],s=e.viewState,a=s[t(112)],o=this[t(127)]()[t(144)](),l=e.viewHints;let c=e[t(133)];if(n[t(133)]!==void 0&&(c=Mi(c,gs(n[t(133)],s[t(153)]))),!l[An[t(137)]]&&!l[An[t(108)]]&&!t0(c))if(o){const x=s[t(153)],u=o[t(116)](c,a,r,x);u&&(this[t(146)](u)?this[t(104)]=u:u[t(125)]()===Pe.EMPTY&&(this[t(104)]=null))}else this[t(104)]=null;return!!this.image}[ao(120)](e){const t=ao,n=this[t(111)];if(!n)return null;const r=this[t(127)](),s=Vn(n[t(115)],e[t(126)]()),a=r.getExtent();if(a&&!e0(a,s))return null;const o=this[t(104)][t(150)](),l=this[t(104)].getImage(),c=ht(o),x=Math[t(106)](l[t(117)]*((s[0]-o[0])/c));if(x<0||x>=l[t(117)])return null;const u=wn(o),h=Math[t(106)](l[t(147)]*((o[3]-s[1])/u));return h<0||h>=l[t(147)]?null:this[t(151)](l,x,h)}[ao(128)](e,t){const n=ao,r=this[n(104)],s=r[n(150)](),a=r[n(149)](),[o,l]=Array.isArray(a)?a:[a,a],c=r[n(124)](),x=e[n(148)][e[n(143)]],u=e[n(119)],h=e[n(109)],f=h.center,A=h[n(112)],g=u*o/(A*c),d=u*l/(A*c);this.prepareContainer(e,t);const p=this.context[n(135)][n(117)],_=this[n(123)][n(135)].height,I=this[n(136)](e);let m=!1,y=!0;if(x[n(133)]){const w=gs(x.extent,h[n(153)]);y=Bn(w,e.extent),m=y&&!Vr(w,e[n(133)]),m&&this[n(152)](I,e,w)}const E=r[n(116)](),C=vs(this[n(121)],p/2,_/2,g,d,0,c*(s[0]-f[0])/o,c*(f[1]-s[3])/l);this[n(110)]=l*u/c;const v=E.width*C[0],b=E[n(147)]*C[3];if(!this[n(127)]()[n(144)]()[n(107)]()&&(I.imageSmoothingEnabled=!1),this[n(138)](I,e),y&&v>=.5&&b>=.5){const w=C[4],B=C[5],R=x[n(145)];R!==1&&(I.save(),I[n(122)]=R),I[n(142)](E,0,0,+E[n(117)],+E[n(147)],w,B,v,b),R!==1&&I[n(140)]()}return this[n(141)](this[n(123)],e),m&&I[n(140)](),I[n(129)]=!0,this[n(103)]}};(function(i,e){for(var t=k1,n=i();;)try{var r=-parseInt(t(235))/1+parseInt(t(233))/2+-parseInt(t(230))/3+-parseInt(t(237))/4+parseInt(t(228))/5+parseInt(t(232))/6*(parseInt(t(229))/7)+parseInt(t(231))/8*(parseInt(t(234))/9);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(U1,343158);function k1(i,e){var t=U1();return k1=function(n,r){n=n-228;var s=t[n];return s},k1(i,e)}function U1(){var i=["84492MKhOZA","1137300CVBRtT","9WToDOP","170574OsRwIU","getData","2545352pjzWQD","342120naYmZj","273hBupZU","284967yKpCex","470296DJhtKK"];return U1=function(){return i},U1()}let ey=class extends H7{constructor(e){super(e)}createRenderer(){return new W7(this)}getData(e){var t=k1;return super[t(236)](e)}};function WB(i,e,t){const n=i.createShader(e);if(i.shaderSource(n,t),i.compileShader(n),!i.getShaderParameter(n,i.COMPILE_STATUS))throw new Error(i.getShaderInfoLog(n));return n}function j7(i,e,t){const n=i.createProgram(),r=WB(i,i.VERTEX_SHADER,e),s=WB(i,i.FRAGMENT_SHADER,t);if(i.attachShader(n,r),i.attachShader(n,s),i.linkProgram(n),!i.getProgramParameter(n,i.LINK_STATUS))throw new Error(i.getProgramInfoLog(n));const a={program:n},o=i.getProgramParameter(n,i.ACTIVE_ATTRIBUTES);for(let c=0;c<o;c++){const x=i.getActiveAttrib(n,c);a[x.name]=i.getAttribLocation(n,x.name)}const l=i.getProgramParameter(n,i.ACTIVE_UNIFORMS);for(let c=0;c<l;c++){const x=i.getActiveUniform(n,c);a[x.name]=i.getUniformLocation(n,x.name)}return a}function ty(i,e,t,n,r){const s=i.createTexture();return i.bindTexture(i.TEXTURE_2D,s),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),t instanceof Uint8Array?i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n,r,0,i.RGBA,i.UNSIGNED_BYTE,t):t instanceof Float32Array?i.texImage2D(i.TEXTURE_2D,0,i.R32F,n,r,0,i.RED,i.FLOAT,t):t instanceof Int32Array?i.texImage2D(i.TEXTURE_2D,0,i.R32I,n,r,0,i.RED_INTEGER,i.INT,t):i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t),i.bindTexture(i.TEXTURE_2D,null),s}function ny(i,e,t){i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,e)}function iy(i,e){const t=i.createBuffer();return i.bindBuffer(i.ARRAY_BUFFER,t),i.bufferData(i.ARRAY_BUFFER,e,i.STATIC_DRAW),t}function jB(i,e,t,n){i.bindBuffer(i.ARRAY_BUFFER,e),i.enableVertexAttribArray(t),i.vertexAttribPointer(t,n,i.FLOAT,!1,0,0)}const K7=`#version 300 es
=======
(function(Ln,jt){typeof exports=="object"&&typeof module<"u"?jt(exports):typeof define=="function"&&define.amd?define(["exports"],jt):(Ln=typeof globalThis<"u"?globalThis:Ln||self,jt(Ln.CMECore={}))})(this,function(Ln){"use strict";var bL=Object.defineProperty;var BL=(Ln,jt,Di)=>jt in Ln?bL(Ln,jt,{enumerable:!0,configurable:!0,writable:!0,value:Di}):Ln[jt]=Di;var Ne=(Ln,jt,Di)=>BL(Ln,typeof jt!="symbol"?jt+"":jt,Di);var u4;function jt(i){return(e,...t)=>g4(i,e,t)}function Di(i,e){return jt(Jm(i,e).get)}const{apply:g4,construct:wL,defineProperty:QL,get:vL,getOwnPropertyDescriptor:Jm,getPrototypeOf:Wg,has:RL,ownKeys:p4,set:SL,setPrototypeOf:DL}=Reflect,{iterator:Za,species:kL,toStringTag:I4,for:ML}=Symbol,_4=Object,{create:$g,defineProperty:m4,freeze:FL,is:TL}=_4,Km=Array.prototype[Za],E4=jt(Km),Xm=ArrayBuffer,y4=Xm.prototype;Di(y4,"byteLength");const Zm=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;Zm&&Di(Zm.prototype,"byteLength");const Wm=Wg(Uint8Array);Wm.from;const En=Wm.prototype;En[Za],jt(En.keys),jt(En.values),jt(En.entries),jt(En.set),jt(En.reverse),jt(En.fill),jt(En.copyWithin),jt(En.sort),jt(En.slice),jt(En.subarray),Di(En,"buffer"),Di(En,"byteOffset"),Di(En,"length"),Di(En,I4);const C4=Uint8Array,$m=Uint16Array,t2=Uint32Array,b4=Float32Array,Wa=Wg([][Za]()),tE=jt(Wa.next),B4=jt(function*(){}().next),w4=Wg(Wa),Q4=DataView.prototype,v4=jt(Q4.getUint16),e2=WeakMap,eE=e2.prototype,nE=jt(eE.get),R4=jt(eE.set),iE=new e2,S4=$g(null,{next:{value:function(){const e=nE(iE,this);return tE(e)}},[Za]:{value:function(){return this}}});function D4(i){if(i[Za]===Km&&Wa.next===tE)return i;const e=$g(S4);return R4(iE,e,E4(i)),e}const k4=new e2,M4=$g(w4,{next:{value:function(){const e=nE(k4,this);return B4(e)},writable:!0,configurable:!0}});for(const i of p4(Wa))i!=="next"&&m4(M4,i,Jm(Wa,i));const rE=new Xm(4),F4=new b4(rE),T4=new t2(rE),zi=new $m(512),qi=new C4(512);for(let i=0;i<256;++i){const e=i-127;e<-24?(zi[i]=0,zi[i|256]=32768,qi[i]=24,qi[i|256]=24):e<-14?(zi[i]=1024>>-e-14,zi[i|256]=1024>>-e-14|32768,qi[i]=-e-1,qi[i|256]=-e-1):e<=15?(zi[i]=e+15<<10,zi[i|256]=e+15<<10|32768,qi[i]=13,qi[i|256]=13):e<128?(zi[i]=31744,zi[i|256]=64512,qi[i]=24,qi[i|256]=24):(zi[i]=31744,zi[i|256]=64512,qi[i]=13,qi[i|256]=13)}const n2=new t2(2048);for(let i=1;i<1024;++i){let e=i<<13,t=0;for(;!(e&8388608);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,n2[i]=e|t}for(let i=1024;i<2048;++i)n2[i]=939524096+(i-1024<<13);const Js=new t2(64);for(let i=1;i<31;++i)Js[i]=i<<23;Js[31]=1199570944,Js[32]=2147483648;for(let i=33;i<63;++i)Js[i]=2147483648+(i-32<<23);Js[63]=3347054592;const sE=new $m(64);for(let i=1;i<64;++i)i!==32&&(sE[i]=1024);function L4(i){const e=i>>10;return T4[0]=n2[sE[e]+(i&1023)]+Js[e],F4[0]}function oE(i,e,...t){return L4(v4(i,e,...D4(t)))}function i2(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var r2={exports:{}};function aE(i,e,t){const n=t&&t.debug||!1;n&&console.log("[xml-utils] getting "+e+" in "+i);const r=typeof i=="object"?i.outer:i,s=r.slice(0,r.indexOf(">")+1),o=['"',"'"];for(let a=0;a<o.length;a++){const c=o[a],x=e+"\\="+c+"([^"+c+"]*)"+c;n&&console.log("[xml-utils] pattern:",x);const l=new RegExp(x).exec(s);if(n&&console.log("[xml-utils] match:",l),l)return l[1]}}r2.exports=aE,r2.exports.default=aE;var G4=r2.exports;const s2=i2(G4);var o2={exports:{}},a2={exports:{}},x2={exports:{}};function xE(i,e,t){const r=new RegExp(e).exec(i.slice(t));return r?t+r.index:-1}x2.exports=xE,x2.exports.default=xE;var N4=x2.exports,c2={exports:{}};function cE(i,e,t){const r=new RegExp(e).exec(i.slice(t));return r?t+r.index+r[0].length-1:-1}c2.exports=cE,c2.exports.default=cE;var P4=c2.exports,A2={exports:{}};function AE(i,e){const t=new RegExp(e,"g"),n=i.match(t);return n?n.length:0}A2.exports=AE,A2.exports.default=AE;var U4=A2.exports;const O4=N4,l2=P4,lE=U4;function uE(i,e,t){const n=t&&t.debug||!1,r=!(t&&typeof t.nested===!1),s=t&&t.startIndex||0;n&&console.log("[xml-utils] starting findTagByName with",e," and ",t);const o=O4(i,`<${e}[ 
>/]`,s);if(n&&console.log("[xml-utils] start:",o),o===-1)return;const a=i.slice(o+e.length);let c=l2(a,"^[^<]*[ /]>",0);const x=c!==-1&&a[c-1]==="/";if(n&&console.log("[xml-utils] selfClosing:",x),x===!1)if(r){let h=0,f=1,g=0;for(;(c=l2(a,"[ /]"+e+">",h))!==-1;){const d=a.substring(h,c+1);if(f+=lE(d,"<"+e+`[ 
	>]`),g+=lE(d,"</"+e+">"),g>=f)break;h=c}}else c=l2(a,"[ /]"+e+">",0);const A=o+e.length+c+1;if(n&&console.log("[xml-utils] end:",A),A===-1)return;const l=i.slice(o,A);let u;return x?u=null:u=l.slice(l.indexOf(">")+1,l.lastIndexOf("<")),{inner:u,outer:l,start:o,end:A}}a2.exports=uE,a2.exports.default=uE;var z4=a2.exports;const q4=z4;function hE(i,e,t){const n=[],r=t&&t.debug||!1,s=t&&typeof t.nested=="boolean"?t.nested:!0;let o=t&&t.startIndex||0,a;for(;a=q4(i,e,{debug:r,startIndex:o});)s?o=a.start+1+e.length:o=a.end,n.push(a);return r&&console.log("findTagsByName found",n.length,"tags"),n}o2.exports=hE,o2.exports.default=hE;var Y4=o2.exports;const H4=i2(Y4),$a={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Yi={};for(const i in $a)$a.hasOwnProperty(i)&&(Yi[$a[i]]=parseInt(i,10));const j4=[Yi.BitsPerSample,Yi.ExtraSamples,Yi.SampleFormat,Yi.StripByteCounts,Yi.StripOffsets,Yi.StripRowCounts,Yi.TileByteCounts,Yi.TileOffsets,Yi.SubIFDs],u2={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},dt={};for(const i in u2)u2.hasOwnProperty(i)&&(dt[u2[i]]=parseInt(i,10));const ei={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},V4={Unspecified:0,Assocalpha:1,Unassalpha:2},J4={Version:0,AddCompression:1},h2={None:0,Deflate:1,Zstandard:2},K4={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"};function X4(i,e){const{width:t,height:n}=i,r=new Uint8Array(t*n*3);let s;for(let o=0,a=0;o<i.length;++o,a+=3)s=256-i[o]/e*256,r[a]=s,r[a+1]=s,r[a+2]=s;return r}function Z4(i,e){const{width:t,height:n}=i,r=new Uint8Array(t*n*3);let s;for(let o=0,a=0;o<i.length;++o,a+=3)s=i[o]/e*256,r[a]=s,r[a+1]=s,r[a+2]=s;return r}function W4(i,e){const{width:t,height:n}=i,r=new Uint8Array(t*n*3),s=e.length/3,o=e.length/3*2;for(let a=0,c=0;a<i.length;++a,c+=3){const x=i[a];r[c]=e[x]/65536*256,r[c+1]=e[x+s]/65536*256,r[c+2]=e[x+o]/65536*256}return r}function $4(i){const{width:e,height:t}=i,n=new Uint8Array(e*t*3);for(let r=0,s=0;r<i.length;r+=4,s+=3){const o=i[r],a=i[r+1],c=i[r+2],x=i[r+3];n[s]=255*((255-o)/256)*((255-x)/256),n[s+1]=255*((255-a)/256)*((255-x)/256),n[s+2]=255*((255-c)/256)*((255-x)/256)}return n}function t8(i){const{width:e,height:t}=i,n=new Uint8ClampedArray(e*t*3);for(let r=0,s=0;r<i.length;r+=3,s+=3){const o=i[r],a=i[r+1],c=i[r+2];n[s]=o+1.402*(c-128),n[s+1]=o-.34414*(a-128)-.71414*(c-128),n[s+2]=o+1.772*(a-128)}return n}const e8=.95047,n8=1,i8=1.08883;function r8(i){const{width:e,height:t}=i,n=new Uint8Array(e*t*3);for(let r=0,s=0;r<i.length;r+=3,s+=3){const o=i[r+0],a=i[r+1]<<24>>24,c=i[r+2]<<24>>24;let x=(o+16)/116,A=a/500+x,l=x-c/200,u,h,f;A=e8*(A*A*A>.008856?A*A*A:(A-16/116)/7.787),x=n8*(x*x*x>.008856?x*x*x:(x-16/116)/7.787),l=i8*(l*l*l>.008856?l*l*l:(l-16/116)/7.787),u=A*3.2406+x*-1.5372+l*-.4986,h=A*-.9689+x*1.8758+l*.0415,f=A*.0557+x*-.204+l*1.057,u=u>.0031308?1.055*u**(1/2.4)-.055:12.92*u,h=h>.0031308?1.055*h**(1/2.4)-.055:12.92*h,f=f>.0031308?1.055*f**(1/2.4)-.055:12.92*f,n[s]=Math.max(0,Math.min(1,u))*255,n[s+1]=Math.max(0,Math.min(1,h))*255,n[s+2]=Math.max(0,Math.min(1,f))*255}return n}const fE=new Map;function Zr(i,e){Array.isArray(i)||(i=[i]),i.forEach(t=>fE.set(t,e))}async function dE(i){const e=fE.get(i.Compression);if(!e)throw new Error(`Unknown compression method identifier: ${i.Compression}`);const t=await e();return new t(i)}Zr([void 0,1],()=>Promise.resolve().then(()=>kM).then(i=>i.default)),Zr(5,()=>Promise.resolve().then(()=>GM).then(i=>i.default)),Zr(6,()=>{throw new Error("old style JPEG compression is not supported.")}),Zr(7,()=>Promise.resolve().then(()=>zM).then(i=>i.default)),Zr([8,32946],()=>Promise.resolve().then(()=>AL).then(i=>i.default)),Zr(32773,()=>Promise.resolve().then(()=>uL).then(i=>i.default)),Zr(34887,()=>Promise.resolve().then(()=>pL).then(async i=>(await i.zstd.init(),i)).then(i=>i.default)),Zr(50001,()=>Promise.resolve().then(()=>_L).then(i=>i.default));function tl(i,e,t,n=1){return new(Object.getPrototypeOf(i)).constructor(e*t*n)}function s8(i,e,t,n,r){const s=e/n,o=t/r;return i.map(a=>{const c=tl(a,n,r);for(let x=0;x<r;++x){const A=Math.min(Math.round(o*x),t-1);for(let l=0;l<n;++l){const u=Math.min(Math.round(s*l),e-1),h=a[A*e+u];c[x*n+l]=h}}return c})}function Ks(i,e,t){return(1-t)*i+t*e}function o8(i,e,t,n,r){const s=e/n,o=t/r;return i.map(a=>{const c=tl(a,n,r);for(let x=0;x<r;++x){const A=o*x,l=Math.floor(A),u=Math.min(Math.ceil(A),t-1);for(let h=0;h<n;++h){const f=s*h,g=f%1,d=Math.floor(f),p=Math.min(Math.ceil(f),e-1),I=a[l*e+d],_=a[l*e+p],m=a[u*e+d],y=a[u*e+p],E=Ks(Ks(I,_,g),Ks(m,y,g),A%1);c[x*n+h]=E}}return c})}function a8(i,e,t,n,r,s="nearest"){switch(s.toLowerCase()){case"nearest":return s8(i,e,t,n,r);case"bilinear":case"linear":return o8(i,e,t,n,r);default:throw new Error(`Unsupported resampling method: '${s}'`)}}function x8(i,e,t,n,r,s){const o=e/n,a=t/r,c=tl(i,n,r,s);for(let x=0;x<r;++x){const A=Math.min(Math.round(a*x),t-1);for(let l=0;l<n;++l){const u=Math.min(Math.round(o*l),e-1);for(let h=0;h<s;++h){const f=i[A*e*s+u*s+h];c[x*n*s+l*s+h]=f}}}return c}function c8(i,e,t,n,r,s){const o=e/n,a=t/r,c=tl(i,n,r,s);for(let x=0;x<r;++x){const A=a*x,l=Math.floor(A),u=Math.min(Math.ceil(A),t-1);for(let h=0;h<n;++h){const f=o*h,g=f%1,d=Math.floor(f),p=Math.min(Math.ceil(f),e-1);for(let I=0;I<s;++I){const _=i[l*e*s+d*s+I],m=i[l*e*s+p*s+I],y=i[u*e*s+d*s+I],E=i[u*e*s+p*s+I],C=Ks(Ks(_,m,g),Ks(y,E,g),A%1);c[x*n*s+h*s+I]=C}}}return c}function A8(i,e,t,n,r,s,o="nearest"){switch(o.toLowerCase()){case"nearest":return x8(i,e,t,n,r,s);case"bilinear":case"linear":return c8(i,e,t,n,r,s);default:throw new Error(`Unsupported resampling method: '${o}'`)}}function l8(i,e,t){let n=0;for(let r=e;r<t;++r)n+=i[r];return n}function f2(i,e,t){switch(i){case 1:if(e<=8)return new Uint8Array(t);if(e<=16)return new Uint16Array(t);if(e<=32)return new Uint32Array(t);break;case 2:if(e===8)return new Int8Array(t);if(e===16)return new Int16Array(t);if(e===32)return new Int32Array(t);break;case 3:switch(e){case 16:case 32:return new Float32Array(t);case 64:return new Float64Array(t)}break}throw Error("Unsupported data format/bitsPerSample")}function u8(i,e){return(i===1||i===2)&&e<=32&&e%8===0?!1:!(i===3&&(e===16||e===32||e===64))}function h8(i,e,t,n,r,s,o){const a=new DataView(i),c=t===2?o*s:o*s*n,x=t===2?1:n,A=f2(e,r,c),l=parseInt("1".repeat(r),2);if(e===1){let u;t===1?u=n*r:u=r;let h=s*u;h&7&&(h=h+7&-8);for(let f=0;f<o;++f){const g=f*h;for(let d=0;d<s;++d){const p=g+d*x*r;for(let I=0;I<x;++I){const _=p+I*r,m=(f*s+d)*x+I,y=Math.floor(_/8),E=_%8;if(E+r<=8)A[m]=a.getUint8(y)>>8-r-E&l;else if(E+r<=16)A[m]=a.getUint16(y)>>16-r-E&l;else if(E+r<=24){const C=a.getUint16(y)<<8|a.getUint8(y+2);A[m]=C>>24-r-E&l}else A[m]=a.getUint32(y)>>32-r-E&l}}}}return A.buffer}class f8{constructor(e,t,n,r,s,o){this.fileDirectory=e,this.geoKeys=t,this.dataView=n,this.littleEndian=r,this.tiles=s?{}:null,this.isTiled=!e.StripOffsets;const a=e.PlanarConfiguration;if(this.planarConfiguration=typeof a>"u"?1:a,this.planarConfiguration!==1&&this.planarConfiguration!==2)throw new Error("Invalid planar configuration.");this.source=o}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return typeof this.fileDirectory.SamplesPerPixel<"u"?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:typeof this.fileDirectory.RowsPerStrip<"u"?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}getBytesPerPixel(){let e=0;for(let t=0;t<this.fileDirectory.BitsPerSample.length;++t)e+=this.getSampleByteSize(t);return e}getSampleByteSize(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${e} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}getReaderForSample(e){const t=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,n=this.fileDirectory.BitsPerSample[e];switch(t){case 1:if(n<=8)return DataView.prototype.getUint8;if(n<=16)return DataView.prototype.getUint16;if(n<=32)return DataView.prototype.getUint32;break;case 2:if(n<=8)return DataView.prototype.getInt8;if(n<=16)return DataView.prototype.getInt16;if(n<=32)return DataView.prototype.getInt32;break;case 3:switch(n){case 16:return function(r,s){return oE(this,r,s)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}break}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(e=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}getBitsPerSample(e=0){return this.fileDirectory.BitsPerSample[e]}getArrayForSample(e,t){const n=this.getSampleFormat(e),r=this.getBitsPerSample(e);return f2(n,r,t)}async getTileOrStrip(e,t,n,r,s){const o=Math.ceil(this.getWidth()/this.getTileWidth()),a=Math.ceil(this.getHeight()/this.getTileHeight());let c;const{tiles:x}=this;this.planarConfiguration===1?c=t*o+e:this.planarConfiguration===2&&(c=n*o*a+t*o+e);let A,l;this.isTiled?(A=this.fileDirectory.TileOffsets[c],l=this.fileDirectory.TileByteCounts[c]):(A=this.fileDirectory.StripOffsets[c],l=this.fileDirectory.StripByteCounts[c]);const u=(await this.source.fetch([{offset:A,length:l}],s))[0];let h;return x===null||!x[c]?(h=(async()=>{let f=await r.decode(this.fileDirectory,u);const g=this.getSampleFormat(),d=this.getBitsPerSample();return u8(g,d)&&(f=h8(f,g,this.planarConfiguration,this.getSamplesPerPixel(),d,this.getTileWidth(),this.getBlockHeight(t))),f})(),x!==null&&(x[c]=h)):h=x[c],{x:e,y:t,sample:n,data:await h}}async _readRaster(e,t,n,r,s,o,a,c,x){const A=this.getTileWidth(),l=this.getTileHeight(),u=this.getWidth(),h=this.getHeight(),f=Math.max(Math.floor(e[0]/A),0),g=Math.min(Math.ceil(e[2]/A),Math.ceil(u/A)),d=Math.max(Math.floor(e[1]/l),0),p=Math.min(Math.ceil(e[3]/l),Math.ceil(h/l)),I=e[2]-e[0];let _=this.getBytesPerPixel();const m=[],y=[];for(let b=0;b<t.length;++b)this.planarConfiguration===1?m.push(l8(this.fileDirectory.BitsPerSample,0,t[b])/8):m.push(0),y.push(this.getReaderForSample(t[b]));const E=[],{littleEndian:C}=this;for(let b=d;b<p;++b)for(let B=f;B<g;++B){let Q;this.planarConfiguration===1&&(Q=this.getTileOrStrip(B,b,0,s,x));for(let w=0;w<t.length;++w){const R=w,D=t[w];this.planarConfiguration===2&&(_=this.getSampleByteSize(D),Q=this.getTileOrStrip(B,b,D,s,x));const F=Q.then(v=>{const S=v.data,M=new DataView(S),L=this.getBlockHeight(v.y),P=v.y*l,O=v.x*A,k=P+L,H=(v.x+1)*A,K=y[R],q=Math.min(L,L-(k-e[3]),h-P),T=Math.min(A,A-(H-e[2]),u-O);for(let V=Math.max(0,e[1]-P);V<q;++V)for(let X=Math.max(0,e[0]-O);X<T;++X){const $=(V*A+X)*_,it=K.call(M,$+m[R],C);let st;r?(st=(V+P-e[1])*I*t.length+(X+O-e[0])*t.length+R,n[st]=it):(st=(V+P-e[1])*I+X+O-e[0],n[R][st]=it)}});E.push(F)}}if(await Promise.all(E),o&&e[2]-e[0]!==o||a&&e[3]-e[1]!==a){let b;return r?b=A8(n,e[2]-e[0],e[3]-e[1],o,a,t.length,c):b=a8(n,e[2]-e[0],e[3]-e[1],o,a,c),b.width=o,b.height=a,b}return n.width=o||e[2]-e[0],n.height=a||e[3]-e[1],n}async readRasters({window:e,samples:t=[],interleave:n,pool:r=null,width:s,height:o,resampleMethod:a,fillValue:c,signal:x}={}){const A=e||[0,0,this.getWidth(),this.getHeight()];if(A[0]>A[2]||A[1]>A[3])throw new Error("Invalid subsets");const l=A[2]-A[0],u=A[3]-A[1],h=l*u,f=this.getSamplesPerPixel();if(!t||!t.length)for(let I=0;I<f;++I)t.push(I);else for(let I=0;I<t.length;++I)if(t[I]>=f)return Promise.reject(new RangeError(`Invalid sample index '${t[I]}'.`));let g;if(n){const I=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,_=Math.max.apply(null,this.fileDirectory.BitsPerSample);g=f2(I,_,h*t.length),c&&g.fill(c)}else{g=[];for(let I=0;I<t.length;++I){const _=this.getArrayForSample(t[I],h);Array.isArray(c)&&I<c.length?_.fill(c[I]):c&&!Array.isArray(c)&&_.fill(c),g.push(_)}}const d=r||await dE(this.fileDirectory);return await this._readRaster(A,t,g,n,d,s,o,a,x)}async readRGB({window:e,interleave:t=!0,pool:n=null,width:r,height:s,resampleMethod:o,enableAlpha:a=!1,signal:c}={}){const x=e||[0,0,this.getWidth(),this.getHeight()];if(x[0]>x[2]||x[1]>x[3])throw new Error("Invalid subsets");const A=this.fileDirectory.PhotometricInterpretation;if(A===ei.RGB){let p=[0,1,2];if(this.fileDirectory.ExtraSamples!==V4.Unspecified&&a){p=[];for(let I=0;I<this.fileDirectory.BitsPerSample.length;I+=1)p.push(I)}return this.readRasters({window:e,interleave:t,samples:p,pool:n,width:r,height:s,resampleMethod:o,signal:c})}let l;switch(A){case ei.WhiteIsZero:case ei.BlackIsZero:case ei.Palette:l=[0];break;case ei.CMYK:l=[0,1,2,3];break;case ei.YCbCr:case ei.CIELab:l=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const u={window:x,interleave:!0,samples:l,pool:n,width:r,height:s,resampleMethod:o,signal:c},{fileDirectory:h}=this,f=await this.readRasters(u),g=2**this.fileDirectory.BitsPerSample[0];let d;switch(A){case ei.WhiteIsZero:d=X4(f,g);break;case ei.BlackIsZero:d=Z4(f,g);break;case ei.Palette:d=W4(f,h.ColorMap);break;case ei.CMYK:d=$4(f);break;case ei.YCbCr:d=t8(f);break;case ei.CIELab:d=r8(f);break;default:throw new Error("Unsupported photometric interpretation.")}if(!t){const p=new Uint8Array(d.length/3),I=new Uint8Array(d.length/3),_=new Uint8Array(d.length/3);for(let m=0,y=0;m<d.length;m+=3,++y)p[y]=d[m],I[y]=d[m+1],_[y]=d[m+2];d=[p,I,_]}return d.width=f.width,d.height=f.height,d}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const e=[];for(let t=0;t<this.fileDirectory.ModelTiepoint.length;t+=6)e.push({i:this.fileDirectory.ModelTiepoint[t],j:this.fileDirectory.ModelTiepoint[t+1],k:this.fileDirectory.ModelTiepoint[t+2],x:this.fileDirectory.ModelTiepoint[t+3],y:this.fileDirectory.ModelTiepoint[t+4],z:this.fileDirectory.ModelTiepoint[t+5]});return e}getGDALMetadata(e=null){const t={};if(!this.fileDirectory.GDAL_METADATA)return null;const n=this.fileDirectory.GDAL_METADATA;let r=H4(n,"Item");e===null?r=r.filter(s=>s2(s,"sample")===void 0):r=r.filter(s=>Number(s2(s,"sample"))===e);for(let s=0;s<r.length;++s){const o=r[s];t[s2(o,"name")]=o.inner}return t}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}getOrigin(){const e=this.fileDirectory.ModelTiepoint,t=this.fileDirectory.ModelTransformation;if(e&&e.length===6)return[e[3],e[4],e[5]];if(t)return[t[3],t[7],t[11]];throw new Error("The image does not have an affine transformation.")}getResolution(e=null){const t=this.fileDirectory.ModelPixelScale,n=this.fileDirectory.ModelTransformation;if(t)return[t[0],-t[1],t[2]];if(n)return n[1]===0&&n[4]===0?[n[0],-n[5],n[10]]:[Math.sqrt(n[0]*n[0]+n[4]*n[4]),-Math.sqrt(n[1]*n[1]+n[5]*n[5]),n[10]];if(e){const[r,s,o]=e.getResolution();return[r*e.getWidth()/this.getWidth(),s*e.getHeight()/this.getHeight(),o*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return this.geoKeys.GTRasterTypeGeoKey===1}getBoundingBox(e=!1){const t=this.getHeight(),n=this.getWidth();if(this.fileDirectory.ModelTransformation&&!e){const[r,s,o,a,c,x,A,l]=this.fileDirectory.ModelTransformation,h=[[0,0],[0,t],[n,0],[n,t]].map(([d,p])=>[a+r*d+s*p,l+c*d+x*p]),f=h.map(d=>d[0]),g=h.map(d=>d[1]);return[Math.min(...f),Math.min(...g),Math.max(...f),Math.max(...g)]}else{const r=this.getOrigin(),s=this.getResolution(),o=r[0],a=r[1],c=o+s[0]*n,x=a+s[1]*t;return[Math.min(o,c),Math.min(a,x),Math.max(o,c),Math.max(a,x)]}}}class d8{constructor(e){this._dataView=new DataView(e)}get buffer(){return this._dataView.buffer}getUint64(e,t){const n=this.getUint32(e,t),r=this.getUint32(e+4,t);let s;if(t){if(s=n+2**32*r,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}if(s=2**32*n+r,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}getInt64(e,t){let n=0;const r=(this._dataView.getUint8(e+(t?7:0))&128)>0;let s=!0;for(let o=0;o<8;o++){let a=this._dataView.getUint8(e+(t?o:7-o));r&&(s?a!==0&&(a=~(a-1)&255,s=!1):a=~a&255),n+=a*256**o}return r&&(n=-n),n}getUint8(e,t){return this._dataView.getUint8(e,t)}getInt8(e,t){return this._dataView.getInt8(e,t)}getUint16(e,t){return this._dataView.getUint16(e,t)}getInt16(e,t){return this._dataView.getInt16(e,t)}getUint32(e,t){return this._dataView.getUint32(e,t)}getInt32(e,t){return this._dataView.getInt32(e,t)}getFloat16(e,t){return oE(this._dataView,e,t)}getFloat32(e,t){return this._dataView.getFloat32(e,t)}getFloat64(e,t){return this._dataView.getFloat64(e,t)}}class g8{constructor(e,t,n,r){this._dataView=new DataView(e),this._sliceOffset=t,this._littleEndian=n,this._bigTiff=r}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(e,t){return this.sliceOffset<=e&&this.sliceTop>=e+t}readUint8(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}readInt8(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}readUint16(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}readInt16(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}readUint32(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}readInt32(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}readFloat32(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}readFloat64(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}readUint64(e){const t=this.readUint32(e),n=this.readUint32(e+4);let r;if(this._littleEndian){if(r=t+2**32*n,!Number.isSafeInteger(r))throw new Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}if(r=2**32*t+n,!Number.isSafeInteger(r))throw new Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}readInt64(e){let t=0;const n=(this._dataView.getUint8(e+(this._littleEndian?7:0))&128)>0;let r=!0;for(let s=0;s<8;s++){let o=this._dataView.getUint8(e+(this._littleEndian?s:7-s));n&&(r?o!==0&&(o=~(o-1)&255,r=!1):o=~o&255),t+=o*256**s}return n&&(t=-t),t}readOffset(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}const p8=typeof navigator<"u"&&navigator.hardwareConcurrency||2;class I8{constructor(e=p8,t){this.workers=null,this._awaitingDecoder=null,this.size=e,this.messageId=0,e&&(this._awaitingDecoder=t?Promise.resolve(t):new Promise(n=>{Promise.resolve().then(()=>yL).then(r=>{n(r.create)})}),this._awaitingDecoder.then(n=>{this._awaitingDecoder=null,this.workers=[];for(let r=0;r<e;r++)this.workers.push({worker:n(),idle:!0})}))}async decode(e,t){return this._awaitingDecoder&&await this._awaitingDecoder,this.size===0?dE(e).then(n=>n.decode(e,t)):new Promise(n=>{const r=this.workers.find(a=>a.idle)||this.workers[Math.floor(Math.random()*this.size)];r.idle=!1;const s=this.messageId++,o=a=>{a.data.id===s&&(r.idle=!0,n(a.data.decoded),r.worker.removeEventListener("message",o))};r.worker.addEventListener("message",o),r.worker.postMessage({fileDirectory:e,buffer:t,id:s},[t])})}destroy(){this.workers&&(this.workers.forEach(e=>{e.worker.terminate()}),this.workers=null)}}const gE=`\r
\r
`;function pE(i){if(typeof Object.fromEntries<"u")return Object.fromEntries(i);const e={};for(const[t,n]of i)e[t.toLowerCase()]=n;return e}function _8(i){const e=i.split(`\r
`).map(t=>{const n=t.split(":").map(r=>r.trim());return n[0]=n[0].toLowerCase(),n});return pE(e)}function m8(i){const[e,...t]=i.split(";").map(r=>r.trim()),n=t.map(r=>r.split("="));return{type:e,params:pE(n)}}function d2(i){let e,t,n;return i&&([,e,t,n]=i.match(/bytes (\d+)-(\d+)\/(\d+)/),e=parseInt(e,10),t=parseInt(t,10),n=parseInt(n,10)),{start:e,end:t,total:n}}function E8(i,e){let t=null;const n=new TextDecoder("ascii"),r=[],s=`--${e}`,o=`${s}--`;for(let a=0;a<10;++a)n.decode(new Uint8Array(i,a,s.length))===s&&(t=a);if(t===null)throw new Error("Could not find initial boundary");for(;t<i.byteLength;){const a=n.decode(new Uint8Array(i,t,Math.min(s.length+1024,i.byteLength-t)));if(a.length===0||a.startsWith(o))break;if(!a.startsWith(s))throw new Error("Part does not start with boundary");const c=a.substr(s.length+2);if(c.length===0)break;const x=c.indexOf(gE),A=_8(c.substr(0,x)),{start:l,end:u,total:h}=d2(A["content-range"]),f=t+s.length+x+gE.length,g=parseInt(u,10)+1-parseInt(l,10);r.push({headers:A,data:i.slice(f,f+g),offset:l,length:g,fileSize:h}),t=f+g+4}return r}class IE{async fetch(e,t=void 0){return Promise.all(e.map(n=>this.fetchSlice(n,t)))}async fetchSlice(e){throw new Error(`fetching of slice ${e} not possible, not implemented`)}get fileSize(){return null}async close(){}}class y8 extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(const[t,n]of e)this.onEviction(t,n.value)}_deleteIfExpired(e,t){return typeof t.expiry=="number"&&t.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,t.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,t){if(this._deleteIfExpired(e,t)===!1)return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const n=t.get(e);return this._getItemValue(e,n)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,n]=e;this.cache.has(t)||this._deleteIfExpired(t,n)===!1&&(yield e)}for(const e of this.cache){const[t,n]=e;this._deleteIfExpired(t,n)===!1&&(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(this._deleteIfExpired(e,t)===!1)return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:n=this.maxAge}={}){const r=typeof n=="number"&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;return this.cache.has(e)?this.cache.set(e,{value:t,expiry:r}):this._set(e,{value:t,expiry:r}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],n=t.length-e;n<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(n>0&&this._emitEvictions(t.slice(0,n)),this.oldCache=new Map(t.slice(n)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,n]=e;this._deleteIfExpired(t,n)===!1&&(yield[t,n.value])}for(const e of this.oldCache){const[t,n]=e;this.cache.has(t)||this._deleteIfExpired(t,n)===!1&&(yield[t,n.value])}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const n=e[t],[r,s]=n;this._deleteIfExpired(r,s)===!1&&(yield[r,s.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const n=e[t],[r,s]=n;this.cache.has(r)||this._deleteIfExpired(r,s)===!1&&(yield[r,s.value])}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,t=this){for(const[n,r]of this.entriesAscending())e.call(t,r,n,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}async function C8(i){return new Promise(e=>setTimeout(e,i))}function b8(i,e){const t=Array.isArray(i)?i:Array.from(i),n=Array.isArray(e)?e:Array.from(e);return t.map((r,s)=>[r,n[s]])}class Xs extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,Xs),this.name="AbortError"}}class B8 extends Error{constructor(e,t){super(t),this.errors=e,this.message=t,this.name="AggregateError"}}const w8=B8;class Q8{constructor(e,t,n=null){this.offset=e,this.length=t,this.data=n}get top(){return this.offset+this.length}}class _E{constructor(e,t,n){this.offset=e,this.length=t,this.blockIds=n}}class v8 extends IE{constructor(e,{blockSize:t=65536,cacheSize:n=100}={}){super(),this.source=e,this.blockSize=t,this.blockCache=new y8({maxSize:n,onEviction:(r,s)=>{this.evictedBlocks.set(r,s)}}),this.evictedBlocks=new Map,this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(e,t){const n=[],r=[],s=[];this.evictedBlocks.clear();for(const{offset:u,length:h}of e){let f=u+h;const{fileSize:g}=this;g!==null&&(f=Math.min(f,g));const d=Math.floor(u/this.blockSize)*this.blockSize;for(let p=d;p<f;p+=this.blockSize){const I=Math.floor(p/this.blockSize);!this.blockCache.has(I)&&!this.blockRequests.has(I)&&(this.blockIdsToFetch.add(I),r.push(I)),this.blockRequests.has(I)&&n.push(this.blockRequests.get(I)),s.push(I)}}await C8(),this.fetchBlocks(t);const o=[];for(const u of r)this.blockRequests.has(u)&&o.push(this.blockRequests.get(u));await Promise.allSettled(n),await Promise.allSettled(o);const a=[],c=s.filter(u=>this.abortedBlockIds.has(u)||!this.blockCache.has(u));if(c.forEach(u=>this.blockIdsToFetch.add(u)),c.length>0&&t&&!t.aborted){this.fetchBlocks(null);for(const u of c){const h=this.blockRequests.get(u);if(!h)throw new Error(`Block ${u} is not in the block requests`);a.push(h)}await Promise.allSettled(a)}if(t&&t.aborted)throw new Xs("Request was aborted");const x=s.map(u=>this.blockCache.get(u)||this.evictedBlocks.get(u)),A=x.filter(u=>!u);if(A.length)throw new w8(A,"Request failed");const l=new Map(b8(s,x));return this.readSliceData(e,l)}fetchBlocks(e){if(this.blockIdsToFetch.size>0){const t=this.groupBlocks(this.blockIdsToFetch),n=this.source.fetch(t,e);for(let r=0;r<t.length;++r){const s=t[r];for(const o of s.blockIds)this.blockRequests.set(o,(async()=>{try{const a=(await n)[r],c=o*this.blockSize,x=c-a.offset,A=Math.min(x+this.blockSize,a.data.byteLength),l=a.data.slice(x,A),u=new Q8(c,l.byteLength,l,o);this.blockCache.set(o,u),this.abortedBlockIds.delete(o)}catch(a){if(a.name==="AbortError")a.signal=e,this.blockCache.delete(o),this.abortedBlockIds.add(o);else throw a}finally{this.blockRequests.delete(o)}})())}this.blockIdsToFetch.clear()}}groupBlocks(e){const t=Array.from(e).sort((o,a)=>o-a);if(t.length===0)return[];let n=[],r=null;const s=[];for(const o of t)r===null||r+1===o?(n.push(o),r=o):(s.push(new _E(n[0]*this.blockSize,n.length*this.blockSize,n)),n=[o],r=o);return s.push(new _E(n[0]*this.blockSize,n.length*this.blockSize,n)),s}readSliceData(e,t){return e.map(n=>{let r=n.offset+n.length;this.fileSize!==null&&(r=Math.min(this.fileSize,r));const s=Math.floor(n.offset/this.blockSize),o=Math.floor(r/this.blockSize),a=new ArrayBuffer(n.length),c=new Uint8Array(a);for(let x=s;x<=o;++x){const A=t.get(x),l=A.offset-n.offset,u=A.top-r;let h=0,f=0,g;l<0?h=-l:l>0&&(f=l),u<0?g=A.length-h:g=r-A.offset-h;const d=new Uint8Array(A.data,h,g);c.set(d,f)}return a})}}class g2{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(e){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class p2{constructor(e){this.url=e}async request({headers:e,signal:t}={}){throw new Error("request is not implemented")}}class R8 extends g2{constructor(e){super(),this.response=e}get status(){return this.response.status}getHeader(e){return this.response.headers.get(e)}async getData(){return this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer}}class S8 extends p2{constructor(e,t){super(e),this.credentials=t}async request({headers:e,signal:t}={}){const n=await fetch(this.url,{headers:e,credentials:this.credentials,signal:t});return new R8(n)}}class D8 extends g2{constructor(e,t){super(),this.xhr=e,this.data=t}get status(){return this.xhr.status}getHeader(e){return this.xhr.getResponseHeader(e)}async getData(){return this.data}}class k8 extends p2{constructRequest(e,t){return new Promise((n,r)=>{const s=new XMLHttpRequest;s.open("GET",this.url),s.responseType="arraybuffer";for(const[o,a]of Object.entries(e))s.setRequestHeader(o,a);s.onload=()=>{const o=s.response;n(new D8(s,o))},s.onerror=r,s.onabort=()=>r(new Xs("Request aborted")),s.send(),t&&(t.aborted&&s.abort(),t.addEventListener("abort",()=>s.abort()))})}async request({headers:e,signal:t}={}){return await this.constructRequest(e,t)}}const I2={};class M8 extends g2{constructor(e,t){super(),this.response=e,this.dataPromise=t}get status(){return this.response.statusCode}getHeader(e){return this.response.headers[e]}async getData(){return await this.dataPromise}}class F8 extends p2{constructor(e){super(e),this.parsedUrl=I2.parse(this.url),this.httpApi=(this.parsedUrl.protocol==="http:",I2)}constructRequest(e,t){return new Promise((n,r)=>{const s=this.httpApi.get({...this.parsedUrl,headers:e},o=>{const a=new Promise(c=>{const x=[];o.on("data",A=>{x.push(A)}),o.on("end",()=>{const A=Buffer.concat(x).buffer;c(A)}),o.on("error",r)});n(new M8(o,a))});s.on("error",r),t&&(t.aborted&&s.destroy(new Xs("Request aborted")),t.addEventListener("abort",()=>s.destroy(new Xs("Request aborted"))))})}async request({headers:e,signal:t}={}){return await this.constructRequest(e,t)}}class _2 extends IE{constructor(e,t,n,r){super(),this.client=e,this.headers=t,this.maxRanges=n,this.allowFullFile=r,this._fileSize=null}async fetch(e,t){return this.maxRanges>=e.length?this.fetchSlices(e,t):(this.maxRanges>0&&e.length>1,Promise.all(e.map(n=>this.fetchSlice(n,t))))}async fetchSlices(e,t){const n=await this.client.request({headers:{...this.headers,Range:`bytes=${e.map(({offset:r,length:s})=>`${r}-${r+s}`).join(",")}`},signal:t});if(n.ok)if(n.status===206){const{type:r,params:s}=m8(n.getHeader("content-type"));if(r==="multipart/byteranges"){const l=E8(await n.getData(),s.boundary);return this._fileSize=l[0].fileSize||null,l}const o=await n.getData(),{start:a,end:c,total:x}=d2(n.getHeader("content-range"));this._fileSize=x||null;const A=[{data:o,offset:a,length:c-a}];if(e.length>1){const l=await Promise.all(e.slice(1).map(u=>this.fetchSlice(u,t)));return A.concat(l)}return A}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const r=await n.getData();return this._fileSize=r.byteLength,[{data:r,offset:0,length:r.byteLength}]}else throw new Error("Error fetching data.")}async fetchSlice(e,t){const{offset:n,length:r}=e,s=await this.client.request({headers:{...this.headers,Range:`bytes=${n}-${n+r}`},signal:t});if(s.ok)if(s.status===206){const o=await s.getData(),{total:a}=d2(s.getHeader("content-range"));return this._fileSize=a||null,{data:o,offset:n,length:r}}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const o=await s.getData();return this._fileSize=o.byteLength,{data:o,offset:0,length:o.byteLength}}else throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function m2(i,{blockSize:e,cacheSize:t}){return e===null?i:new v8(i,{blockSize:e,cacheSize:t})}function T8(i,{headers:e={},credentials:t,maxRanges:n=0,allowFullFile:r=!1,...s}={}){const o=new S8(i,t),a=new _2(o,e,n,r);return m2(a,s)}function L8(i,{headers:e={},maxRanges:t=0,allowFullFile:n=!1,...r}={}){const s=new k8(i),o=new _2(s,e,t,n);return m2(o,r)}function G8(i,{headers:e={},maxRanges:t=0,allowFullFile:n=!1,...r}={}){const s=new F8(i),o=new _2(s,e,t,n);return m2(o,r)}function N8(i,{forceXHR:e=!1,...t}={}){return typeof fetch=="function"&&!e?T8(i,t):typeof XMLHttpRequest<"u"?L8(i,t):G8(i,t)}function P8(i,e){let t=i.length-e,n=0;do{for(let r=e;r>0;r--)i[n+e]+=i[n],n++;t-=e}while(t>0)}function U8(i,e,t){let n=0,r=i.length;const s=r/t;for(;r>e;){for(let a=e;a>0;--a)i[n+e]+=i[n],++n;r-=e}const o=i.slice();for(let a=0;a<s;++a)for(let c=0;c<t;++c)i[t*a+c]=o[(t-c-1)*s+a]}function O8(i,e,t,n,r,s){if(!e||e===1)return i;for(let c=0;c<r.length;++c){if(r[c]%8!==0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(r[c]!==r[0])throw new Error("When decoding with predictor, all samples must have the same size.")}const o=r[0]/8,a=s===2?1:r.length;for(let c=0;c<n&&!(c*a*t*o>=i.byteLength);++c){let x;if(e===2){switch(r[0]){case 8:x=new Uint8Array(i,c*a*t*o,a*t*o);break;case 16:x=new Uint16Array(i,c*a*t*o,a*t*o/2);break;case 32:x=new Uint32Array(i,c*a*t*o,a*t*o/4);break;default:throw new Error(`Predictor 2 not allowed with ${r[0]} bits per sample.`)}P8(x,a)}else e===3&&(x=new Uint8Array(i,c*a*t*o,a*t*o),U8(x,a,o))}return i}class j0{async decode(e,t){const n=await this.decodeBlock(t),r=e.Predictor||1;if(r!==1){const s=!e.StripOffsets,o=s?e.TileWidth:e.ImageWidth,a=s?e.TileLength:e.RowsPerStrip||e.ImageLength;return O8(n,r,o,a,e.BitsPerSample,e.PlanarConfiguration)}return n}}function E2(i){switch(i){case dt.BYTE:case dt.ASCII:case dt.SBYTE:case dt.UNDEFINED:return 1;case dt.SHORT:case dt.SSHORT:return 2;case dt.LONG:case dt.SLONG:case dt.FLOAT:case dt.IFD:return 4;case dt.RATIONAL:case dt.SRATIONAL:case dt.DOUBLE:case dt.LONG8:case dt.SLONG8:case dt.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${i}`)}}function z8(i){const e=i.GeoKeyDirectory;if(!e)return null;const t={};for(let n=4;n<=e[3]*4;n+=4){const r=K4[e[n]],s=e[n+1]?$a[e[n+1]]:null,o=e[n+2],a=e[n+3];let c=null;if(!s)c=a;else{if(c=i[s],typeof c>"u"||c===null)throw new Error(`Could not get value of geoKey '${r}'.`);typeof c=="string"?c=c.substring(a,a+o-1):c.subarray&&(c=c.subarray(a,a+o),o===1&&(c=c[0]))}t[r]=c}return t}function Zs(i,e,t,n){let r=null,s=null;const o=E2(e);switch(e){case dt.BYTE:case dt.ASCII:case dt.UNDEFINED:r=new Uint8Array(t),s=i.readUint8;break;case dt.SBYTE:r=new Int8Array(t),s=i.readInt8;break;case dt.SHORT:r=new Uint16Array(t),s=i.readUint16;break;case dt.SSHORT:r=new Int16Array(t),s=i.readInt16;break;case dt.LONG:case dt.IFD:r=new Uint32Array(t),s=i.readUint32;break;case dt.SLONG:r=new Int32Array(t),s=i.readInt32;break;case dt.LONG8:case dt.IFD8:r=new Array(t),s=i.readUint64;break;case dt.SLONG8:r=new Array(t),s=i.readInt64;break;case dt.RATIONAL:r=new Uint32Array(t*2),s=i.readUint32;break;case dt.SRATIONAL:r=new Int32Array(t*2),s=i.readInt32;break;case dt.FLOAT:r=new Float32Array(t),s=i.readFloat32;break;case dt.DOUBLE:r=new Float64Array(t),s=i.readFloat64;break;default:throw new RangeError(`Invalid field type: ${e}`)}if(e===dt.RATIONAL||e===dt.SRATIONAL)for(let a=0;a<t;a+=2)r[a]=s.call(i,n+a*o),r[a+1]=s.call(i,n+(a*o+4));else for(let a=0;a<t;++a)r[a]=s.call(i,n+a*o);return e===dt.ASCII?new TextDecoder("utf-8").decode(r):r}class q8{constructor(e,t,n){this.fileDirectory=e,this.geoKeyDirectory=t,this.nextIFDByteOffset=n}}class el extends Error{constructor(e){super(`No image at index ${e}`),this.index=e}}class Y8{async readRasters(e={}){const{window:t,width:n,height:r}=e;let{resX:s,resY:o,bbox:a}=e;const c=await this.getImage();let x=c;const A=await this.getImageCount(),l=c.getBoundingBox();if(t&&a)throw new Error('Both "bbox" and "window" passed.');if(n||r){if(t){const[f,g]=c.getOrigin(),[d,p]=c.getResolution();a=[f+t[0]*d,g+t[1]*p,f+t[2]*d,g+t[3]*p]}const h=a||l;if(n){if(s)throw new Error("Both width and resX passed");s=(h[2]-h[0])/n}if(r){if(o)throw new Error("Both width and resY passed");o=(h[3]-h[1])/r}}if(s||o){const h=[];for(let f=0;f<A;++f){const g=await this.getImage(f),{SubfileType:d,NewSubfileType:p}=g.fileDirectory;(f===0||d===2||p&1)&&h.push(g)}h.sort((f,g)=>f.getWidth()-g.getWidth());for(let f=0;f<h.length;++f){const g=h[f],d=(l[2]-l[0])/g.getWidth(),p=(l[3]-l[1])/g.getHeight();if(x=g,s&&s>d||o&&o>p)break}}let u=t;if(a){const[h,f]=c.getOrigin(),[g,d]=x.getResolution(c);u=[Math.round((a[0]-h)/g),Math.round((a[1]-f)/d),Math.round((a[2]-h)/g),Math.round((a[3]-f)/d)],u=[Math.min(u[0],u[2]),Math.min(u[1],u[3]),Math.max(u[0],u[2]),Math.max(u[1],u[3])]}return x.readRasters({...e,window:u})}}class y2 extends Y8{constructor(e,t,n,r,s={}){super(),this.source=e,this.littleEndian=t,this.bigTiff=n,this.firstIFDOffset=r,this.cache=s.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(e,t){const n=this.bigTiff?4048:1024;return new g8((await this.source.fetch([{offset:e,length:typeof t<"u"?t:n}]))[0],e,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(e){const t=this.bigTiff?20:12,n=this.bigTiff?8:2;let r=await this.getSlice(e);const s=this.bigTiff?r.readUint64(e):r.readUint16(e),o=s*t+(this.bigTiff?16:6);r.covers(e,o)||(r=await this.getSlice(e,o));const a={};let c=e+(this.bigTiff?8:2);for(let l=0;l<s;c+=t,++l){const u=r.readUint16(c),h=r.readUint16(c+2),f=this.bigTiff?r.readUint64(c+4):r.readUint32(c+4);let g,d;const p=E2(h),I=c+(this.bigTiff?12:8);if(p*f<=(this.bigTiff?8:4))g=Zs(r,h,f,I);else{const _=r.readOffset(I),m=E2(h)*f;if(r.covers(_,m))g=Zs(r,h,f,_);else{const y=await this.getSlice(_,m);g=Zs(y,h,f,_)}}f===1&&j4.indexOf(u)===-1&&!(h===dt.RATIONAL||h===dt.SRATIONAL)?d=g[0]:d=g,a[$a[u]]=d}const x=z8(a),A=r.readOffset(e+n+t*s);return new q8(a,x,A)}async requestIFD(e){if(this.ifdRequests[e])return this.ifdRequests[e];if(e===0)return this.ifdRequests[e]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[e];if(!this.ifdRequests[e-1])try{this.ifdRequests[e-1]=this.requestIFD(e-1)}catch(t){throw t instanceof el?new el(e):t}return this.ifdRequests[e]=(async()=>{const t=await this.ifdRequests[e-1];if(t.nextIFDByteOffset===0)throw new el(e);return this.parseFileDirectoryAt(t.nextIFDByteOffset)})(),this.ifdRequests[e]}async getImage(e=0){const t=await this.requestIFD(e);return new f8(t.fileDirectory,t.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let e=0,t=!0;for(;t;)try{await this.requestIFD(e),++e}catch(n){if(n instanceof el)t=!1;else throw n}return e}async getGhostValues(){const e=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const t="GDAL_STRUCTURAL_METADATA_SIZE=",n=t.length+100;let r=await this.getSlice(e,n);if(t===Zs(r,dt.ASCII,t.length,e)){const o=Zs(r,dt.ASCII,n,e).split(`
`)[0],a=Number(o.split("=")[1].split(" ")[0])+o.length;a>n&&(r=await this.getSlice(e,a));const c=Zs(r,dt.ASCII,a,e);this.ghostValues={},c.split(`
`).filter(x=>x.length>0).map(x=>x.split("=")).forEach(([x,A])=>{this.ghostValues[x]=A})}return this.ghostValues}static async fromSource(e,t,n){const r=(await e.fetch([{offset:0,length:1024}],n))[0],s=new d8(r),o=s.getUint16(0,0);let a;if(o===18761)a=!0;else if(o===19789)a=!1;else throw new TypeError("Invalid byte order value.");const c=s.getUint16(2,a);let x;if(c===42)x=!1;else if(c===43){if(x=!0,s.getUint16(4,a)!==8)throw new Error("Unsupported offset byte-size.")}else throw new TypeError("Invalid magic number.");const A=x?s.getUint64(8,a):s.getUint32(4,a);return new y2(e,a,x,A,t)}close(){return typeof this.source.close=="function"?this.source.close():!1}}async function mE(i,e={},t){return y2.fromSource(N8(i,e),t)}class H8{constructor(e){this.option=e,this.abortController=new AbortController,this.url=e.url,this.tiff,this.imageCount,this.images,this.metadata,this.bbox,this.coordType=1,this.fristImage,this.bandsNumber=1,this.imageWidth=0,this.imageheight=0,this.imageBbox=[0,0,0,0],this.resolutionX,this.resolutionY,this.rasterData,this.rasterDatas=[],this.dataExtent,this.interpolationParams={la1:0,la2:0,lo1:0,lo2:0,nx:0,ny:0,dx:0,dy:0},this.grid=[],this.project="EPSG:4326"}getWorkerPool(){let e;return e||(e=new I8),e}async fetchTiff(){this.tiff=await mE(this.url,this.abortController.singal);const e=await this.tiff.getImage(),t=await e.readRasters({pool:this.getWorkerPool()});this.imagewidth=e.getWidth(),this.imageheight=e.getHeight(),this.project=e.getGeoKeys().GeogCitationGeoKey,this.project=="WGS 84"&&(this.project="EPSG:4326"),this.bandsNumber=t.length,this.imageCount=await this.tiff.getImageCount();const n=new Array(this.imageCount);for(let s=0;s<this.imageCount;s++){const o=await this.tiff.getImage(s);n[s]={image:o};const a=o.getResolution(n[0].image);n[s]={image:o,res:[a[0],a[1]]}}const r=n[0].image;this.fristImage=r,this.metadata=this._parseMetaData(r.getGDALMetadata()),this.bbox=r.getBoundingBox(),this.coordType=this.getCoordType(this.bbox),this.images=n}matchImageByRes(e){let t=0;for(t=0;t<this.images.length;t++){const[n,r]=this.images[t].res;if(e<Math.abs(n)||e<Math.abs(r))break}return t=t>0?t-1:0,this.images[t]}_parseMetaData(e){var t,n,r,s,o,a,c,x,A,l,u,h,f,g,d,p,I,_,m,y,E,C,b,B,Q,w,R,D;return e?(e.max=((n=(t=this.option)==null?void 0:t.metadata)==null?void 0:n.max)||parseFloat(e.max||9999),e.min=((s=(r=this.option)==null?void 0:r.metadata)==null?void 0:s.min)|parseFloat(e.min||-9999),e.nodata=((a=(o=this.option)==null?void 0:o.metadata)==null?void 0:a.nodata)||parseFloat(e.nodata||-9999),e.offset=((x=(c=this.option)==null?void 0:c.metadata)==null?void 0:x.offset)||parseFloat(e.offset||0),e.unit=((l=(A=this.option)==null?void 0:A.metadata)==null?void 0:l.unit)||parseFloat(e.unit||0),(h=(u=this.option)==null?void 0:u.metadata)!=null&&h.scale&&(e.customScale=((g=(f=this.option)==null?void 0:f.metadata)==null?void 0:g.scale)/parseFloat(e.scale||1),((p=(d=this.option)==null?void 0:d.metadata)==null?void 0:p.unit)=="C"?(e.max=e.max-273.15,e.min=e.min-273.15):(e.max=e.max,e.min=e.min)),e.scale=((_=(I=this.option)==null?void 0:I.metadata)==null?void 0:_.scale)||parseFloat(e.scale||1)):(e={},e.max=((y=(m=this.option)==null?void 0:m.metadata)==null?void 0:y.max)||9999,e.min=((C=(E=this.option)==null?void 0:E.metadata)==null?void 0:C.min)||-9999,e.nodata=((B=(b=this.option)==null?void 0:b.metadata)==null?void 0:B.nodata)||-9999,e.offset=((w=(Q=this.option)==null?void 0:Q.metadata)==null?void 0:w.offset)||0,e.scale=((D=(R=this.option)==null?void 0:R.metadata)==null?void 0:D.scale)||1),e}async getDataByBbox(e,t){this.abortController.abort(),this.abortController=new AbortController;const n=this.abortController.signal,[r,s]=this.fristImage.getOrigin(),o=e.image,[a,c]=o.getResolution(this.fristImage);let x=[],A=this.calcBbox(t);this.rasterDatas=[];for(let l of A){let u=[(l[0]-r)/a,(l[1]-s)/c,(l[2]-r)/a,(l[3]-s)/c];if(u=[Math.floor(Math.min(u[0],u[2])),Math.floor(Math.min(u[1],u[3])),Math.ceil(Math.max(u[0],u[2])),Math.ceil(Math.max(u[1],u[3]))],Math.abs(u[2]-u[0])<=1||Math.abs(u[3]-u[1])<=1){let f=2;u[2]+f<this.imagewidth?u[2]=u[2]+f:(u[2]=this.imagewidth,u[0]=u[2]-f),u[0]-f<0?u[0]=0:u[0]=u[0]-f,u[3]+f<this.imageheight?u[3]=u[3]+f:u[3]=this.imageheight,u[1]-f<0?u[1]=0:u[1]=u[1]-f}l=[u[0]*a+r,u[1]*c+s,u[2]*a+r,u[3]*c+s],x=[l[0],l[3],l[2],l[1]];const h=await o.readRasters({fillValue:this.metadata.nodata,window:u,signal:n});h.wnd=u,h.dataBbox=l,this.interpolationParams.nx=h.width,this.interpolationParams.ny=h.height,this.interpolationParams.dx=e.res[0],this.interpolationParams.dy=e.res[0],this.interpolationParams.lo1=l[0],this.interpolationParams.la1=l[1],this.interpolationParams.lo2=l[2],this.interpolationParams.la2=l[3],this.metadata.bandsNumber=this.bandsNumber,h.params={interpolationParams:JSON.parse(JSON.stringify(this.interpolationParams)),bbox:JSON.parse(JSON.stringify(this.bbox)),viewBBox:x,bandsNumber:JSON.parse(JSON.stringify(this.bandsNumber)),metadata:JSON.parse(JSON.stringify(this.metadata)),project:this.project},this.rasterDatas.push(h)}return this.rasterDatas}getCoordType(e){const[t,n,r,s]=e;return t>=0&&r>180?2:1}isNoData(e){return e==this.metadata.nodata}handleData(e){const t=[];return e.forEach(n=>{const r={width:n.width,height:n.height,dataBbox:n.dataBbox,series:null};if(this.bandsNumber==1){const s=n[0],o=new Float32Array(s.length);for(let a=0;a<s.length;a++)o[a]=this.getRealValue(s[a]);r.series=o,t.push(r)}else if(this.bandsNumber==2){const s=n[0],o=n[1],a=new Float32Array(s.length);for(let c=0;c<s.length;c++)a[c]=this.getRealMultiValue(s[c],o[c]);r.series=a,t.push(r)}}),t}getRealMultiValue(e,t,n=this.metadata.nodata){if(this.isNoData(e))return n;{const r=e/this.metadata.scale+this.metadata.offset,s=t/this.metadata.scale+this.metadata.offset;return Math.sqrt(r*r+s*s)}}getRealValue(e,t=this.metadata.nodata){if(this.bandsNumber==1)return this.isNoData(e)?t:e/this.metadata.scale+this.metadata.offset}calcBbox(e){let[t,n,r,s]=e;r-t>=360?this.coordType==1?(t=-180,r=180):(t=0,r=360):(t=(t%360+360)%360,r=(r%360+360)%360,r=r==0?360:r,this.coordType==1&&(t=t>=180?t-360:t,r=r>180?r-360:r));let o=[];t>r?this.coordType==1?o=[[t,n,180,s],[-180,n,r,s]]:o=[[t,n,360,s],[0,n,r,s]]:o=[[t,n,r,s]];let a=[];for(let c in o)e=o[c],e=this.bboxIntersect(e),e&&a.push(e);return a}bboxIntersect(e){const t=this.bbox;if(this.isBboxIntersectOrContain(e,t)){const n=Math.max(e[0],t[0]),r=Math.min(e[2],t[2]),s=Math.max(e[1],t[1]),o=Math.min(e[3],t[3]);return[n,s,r,o]}else return!1}isBboxIntersectOrContain(e,t){const[n,r,s,o]=e,[a,c,x,A]=t;return!(n>=x||s<=a||o<=c||r>=A)}coordConvert(e,t=1,n=2){return e=(e%360+360)%360,n==1&&(e=e>=180?e-360:e),e}}const j8=nl;(function(i,e){const t=nl,n=i();for(;;)try{if(parseInt(t(207))/1+parseInt(t(199))/2*(parseInt(t(202))/3)+-parseInt(t(205))/4+parseInt(t(198))/5*(parseInt(t(197))/6)+-parseInt(t(200))/7+parseInt(t(206))/8+-parseInt(t(204))/9*(parseInt(t(203))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(il,785419);function nl(i,e){const t=il();return nl=function(n,r){return n=n-197,t[n]},nl(i,e)}j8(201);function il(){const i=["1101114ufpabv","2353602PqgFMe","15xkjPmV","3066814GVOgOF","1629894rxSAbz","radians","3bhzPQg","11951480XyhbpQ","18TnYecM","4560972ErasFx","5899824FoJLwe"];return il=function(){return i},il()}const Wr={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};var ue=tx;(function(i,e){for(var t=tx,n=i();;)try{var r=-parseInt(t(383))/1*(parseInt(t(379))/2)+-parseInt(t(380))/3+-parseInt(t(409))/4*(parseInt(t(400))/5)+parseInt(t(410))/6+-parseInt(t(381))/7*(parseInt(t(408))/8)+parseInt(t(406))/9+parseInt(t(404))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(rl,864874);function tx(i,e){var t=rl();return tx=function(n,r){n=n-372;var s=t[n];return s},tx(i,e)}function rl(){var i=["canWrapX","global_","extent","39370yxZBee","axisOrientation","units_","code_","712420oDYfXn","setGetPointResolution","2645046lxNnXd","isGlobal","8IfuCBi","248AgoKYZ","7189464jFJNlr","setGlobal","defaultTileGrid_","getExtent","canWrapX_","extent_","getUnits","getWorldExtent","getCode","getPointResolutionFunc_","19426IRbGOU","252606BPYTcu","406875HHZHJL","units","7LXOvgj","worldExtent_","setWorldExtent","setExtent","worldExtent","getDefaultTileGrid","getPointResolution","global","getMetersPerUnit","enu","metersPerUnit","getPointResolutionFunc","metersPerUnit_","axisOrientation_"];return rl=function(){return i},rl()}let C2=class{constructor(e){var t=tx;this[t(403)]=e.code,this.units_=e[t(382)],this[t(374)]=e.extent!==void 0?e[t(399)]:null,this[t(384)]=e[t(387)]!==void 0?e.worldExtent:null,this.axisOrientation_=e[t(401)]!==void 0?e[t(401)]:t(392),this[t(398)]=e[t(390)]!==void 0?e[t(390)]:!1,this[t(373)]=!!(this[t(398)]&&this[t(374)]),this.getPointResolutionFunc_=e[t(389)],this[t(412)]=null,this.metersPerUnit_=e[t(393)]}[ue(397)](){var e=ue;return this[e(373)]}[ue(377)](){var e=ue;return this[e(403)]}[ue(372)](){return this.extent_}[ue(375)](){var e=ue;return this[e(402)]}[ue(391)](){var e=ue;return this[e(395)]||Wr[this.units_]}[ue(376)](){return this.worldExtent_}getAxisOrientation(){var e=ue;return this[e(396)]}[ue(407)](){return this.global_}[ue(411)](e){var t=ue;this.global_=e,this[t(373)]=!!(e&&this[t(374)])}[ue(388)](){var e=ue;return this[e(412)]}setDefaultTileGrid(e){var t=ue;this[t(412)]=e}[ue(386)](e){var t=ue;this[t(374)]=e,this[t(373)]=!!(this.global_&&e)}[ue(385)](e){var t=ue;this[t(384)]=e}[ue(405)](e){var t=ue;this[t(378)]=e}[ue(394)](){return this.getPointResolutionFunc_}};function sl(){const i=["cosh","24146OnvZfk","EPSG:3857","length","535315ReNjvk","54nqkcgP","EPSG:102100","http://www.opengis.net/gml/srs/epsg.xml#3857","http://www.opengis.net/def/crs/EPSG/0/3857","slice","111TazJkN","18UkSJlD","8OIFYhz","740180VmKMAZ","713032YMnwfc","exp","tan","19493199JcDxNE","604570nHYIey","log","EPSG:900913","192480izLRXW","EPSG:102113"];return sl=function(){return i},sl()}const Hi=ex;(function(i,e){const t=ex,n=i();for(;;)try{if(-parseInt(t(157))/1+-parseInt(t(154))/2*(parseInt(t(140))/3)+-parseInt(t(142))/4*(parseInt(t(148))/5)+-parseInt(t(141))/6*(-parseInt(t(143))/7)+-parseInt(t(144))/8*(parseInt(t(158))/9)+parseInt(t(151))/10+parseInt(t(147))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(sl,349959);function ex(i,e){const t=sl();return ex=function(n,r){return n=n-137,t[n]},ex(i,e)}const nx=6378137,Ws=Math.PI*nx,V8=[-Ws,-Ws,Ws,Ws],J8=[-180,-85,180,85],ol=nx*Math[Hi(149)](Math[Hi(146)](Math.PI/2));let $s=class extends C2{constructor(e){super({code:e,units:"m",extent:V8,global:!0,worldExtent:J8,getPointResolution:function(t,n){return t/Math[ex(153)](n[1]/nx)}})}};const EE=[new $s(Hi(155)),new $s(Hi(159)),new $s(Hi(152)),new $s(Hi(150)),new $s(Hi(138)),new $s(Hi(137))];function K8(i,e,t,n){const r=Hi,s=i[r(156)];t=t>1?t:2,n=n??t,e===void 0&&(t>2?e=i[r(139)]():e=new Array(s));for(let o=0;o<s;o+=n){e[o]=Ws*i[o]/180;let a=nx*Math[r(149)](Math[r(146)](Math.PI*(+i[o+1]+90)/360));a>ol?a=ol:a<-ol&&(a=-ol),e[o+1]=a}return e}function X8(i,e,t,n){const r=Hi,s=i.length;t=t>1?t:2,n=n??t,e===void 0&&(t>2?e=i[r(139)]():e=new Array(s));for(let o=0;o<s;o+=n)e[o]=180*i[o]/Ws,e[o+1]=360*Math.atan(Math[r(145)](i[o+1]/nx))/Math.PI-90;return e}function al(){const i=["5089DYwPEU","727092wMMtrh","http://www.opengis.net/gml/srs/epsg.xml#4326","urn:ogc:def:crs:OGC:1.3:CRS84","9180kwRNJb","1456072pUEURo","58959XmJsLI","EPSG:4326","http://www.opengis.net/def/crs/EPSG/0/4326","11934hsXaUv","4pZEMJr","2358HczNOF","http://www.opengis.net/def/crs/OGC/1.3/CRS84","CRS:84","neu","urn:ogc:def:crs:OGC:2:84","497403tzOXEL","696960OCoMCQ","degrees"];return al=function(){return i},al()}const _r=ix;(function(i,e){const t=ix,n=i();for(;;)try{if(-parseInt(t(238))/1+-parseInt(t(242))/2+-parseInt(t(247))/3*(parseInt(t(251))/4)+-parseInt(t(239))/5+parseInt(t(252))/6*(parseInt(t(241))/7)+-parseInt(t(246))/8+parseInt(t(250))/9*(parseInt(t(245))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(al,300976);const Z8=6378137;function ix(i,e){const t=al();return ix=function(n,r){return n=n-236,t[n]},ix(i,e)}const yE=[-180,-90,180,90],W8=Math.PI*Z8/180;let V0=class extends C2{constructor(e,t){const n=ix;super({code:e,units:n(240),extent:yE,axisOrientation:t,global:!0,metersPerUnit:W8,worldExtent:yE})}};const CE=[new V0(_r(254)),new V0(_r(248),_r(236)),new V0(_r(244)),new V0(_r(237)),new V0(_r(253)),new V0(_r(243),"neu"),new V0(_r(249),_r(236))];function xl(){const i=["106koFFMC","1271334SlkJIl","953827ZArIEG","13myVIdF","11239656ZldBms","8RVvuTw","10539135EuxvYb","491034XLlkTq","815160CnSJnT","27764ERNTie","replace","56eAOXCv","132lRoPjS","5TjfXqC","EPSG:$3"];return xl=function(){return i},xl()}(function(i,e){const t=cl,n=i();for(;;)try{if(parseInt(t(262))/1*(-parseInt(t(268))/2)+-parseInt(t(260))/3*(-parseInt(t(258))/4)+-parseInt(t(266))/5*(parseInt(t(269))/6)+-parseInt(t(270))/7*(-parseInt(t(264))/8)+parseInt(t(259))/9+-parseInt(t(261))/10*(-parseInt(t(265))/11)+parseInt(t(257))/12*(-parseInt(t(256))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(xl,810371);let b2={};function $8(i){const e=cl;return b2[i]||b2[i[e(263)](/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,e(267))]||null}function cl(i,e){const t=xl();return cl=function(n,r){return n=n-256,t[n]},cl(i,e)}function tw(i,e){b2[i]=e}function rx(i){for(const e in i)delete i[e]}function $r(i){let e;for(e in i)return!1;return!e}(function(i,e){const t=Al,n=i();for(;;)try{if(-parseInt(t(379))/1+parseInt(t(377))/2+parseInt(t(385))/3+-parseInt(t(380))/4*(-parseInt(t(383))/5)+parseInt(t(376))/6+-parseInt(t(386))/7*(parseInt(t(384))/8)+parseInt(t(382))/9*(-parseInt(t(381))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ul,928647);let to={};function Al(i,e){const t=ul();return Al=function(n,r){return n=n-376,t[n]},Al(i,e)}function ll(i,e,t){const n=Al,r=i.getCode(),s=e[n(378)]();!(r in to)&&(to[r]={}),to[r][s]=t}function ul(){const i=["331809tCQTBn","690277jurHdm","4286010MsVRRd","394678TPQqhp","getCode","806251UFxaCV","20792JAsrNP","410pNpwyN","50229WikvHK","1285kyjCcS","32OjQBxK"];return ul=function(){return i},ul()}function ew(i,e){let t;return i in to&&e in to[i]&&(t=to[i][e]),t}function hl(){var i=["3779138bpJlXO","368yFyxWf","1475076BjvUFi","6249LflmTF","468VnmXNW","575037ASElBk","3122baPenb","30jDylJM","76805pxvykK","42664ulMkfh","2yIwhBX"];return hl=function(){return i},hl()}function B2(i,e){var t=hl();return B2=function(n,r){n=n-131;var s=t[n];return s},B2(i,e)}(function(i,e){for(var t=B2,n=i();;)try{var r=parseInt(t(136))/1*(parseInt(t(137))/2)+parseInt(t(141))/3*(-parseInt(t(131))/4)+-parseInt(t(135))/5+parseInt(t(140))/6+parseInt(t(133))/7*(-parseInt(t(139))/8)+parseInt(t(132))/9*(-parseInt(t(134))/10)+parseInt(t(138))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(hl,160801);const je={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};(function(i,e){const t=yn,n=i();for(;;)try{if(-parseInt(t(498))/1*(parseInt(t(502))/2)+parseInt(t(506))/3*(parseInt(t(483))/4)+-parseInt(t(489))/5*(-parseInt(t(504))/6)+-parseInt(t(494))/7+parseInt(t(505))/8+-parseInt(t(495))/9+-parseInt(t(485))/10*(-parseInt(t(503))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Il,989924);function w2(i){const e=yn,t=hi();for(let n=0,r=i[e(508)];n<r;++n)sx(t,i[n]);return t}function nw(i,e,t){const n=yn,r=Math.min[n(493)](null,i),s=Math[n(487)][n(493)](null,e),o=Math[n(482)][n(493)](null,i),a=Math[n(482)][n(493)](null,e);return Mi(r,s,o,a,t)}function t0(i,e,t){return t?(t[0]=i[0]-e,t[1]=i[1]-e,t[2]=i[2]+e,t[3]=i[3]+e,t):[i[0]-e,i[1]-e,i[2]+e,i[3]+e]}function bE(i,e){const t=yn;return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i[t(499)]()}function J0(i,e,t){let n,r;return e<i[0]?n=i[0]-e:i[2]<e?n=e-i[2]:n=0,t<i[1]?r=i[1]-t:i[3]<t?r=t-i[3]:r=0,n*n+r*r}function K0(i,e){return Q2(i,e[0],e[1])}function ki(i,e){return i[0]<=e[0]&&e[2]<=i[2]&&i[1]<=e[1]&&e[3]<=i[3]}function Q2(i,e,t){return i[0]<=e&&e<=i[2]&&i[1]<=t&&t<=i[3]}function v2(i,e){const t=yn,n=i[0],r=i[1],s=i[2],o=i[3],a=e[0],c=e[1];let x=je.UNKNOWN;return a<n?x=x|je[t(481)]:a>s&&(x=x|je[t(511)]),c<r?x=x|je[t(480)]:c>o&&(x=x|je[t(496)]),x===je[t(509)]&&(x=je[t(491)]),x}function hi(){return[1/0,1/0,-1/0,-1/0]}function Mi(i,e,t,n,r){return r?(r[0]=i,r[1]=e,r[2]=t,r[3]=n,r):[i,e,t,n]}function eo(i){return Mi(1/0,1/0,-1/0,-1/0,i)}function BE(i,e){const t=i[0],n=i[1];return Mi(t,n,t,n,e)}function R2(i,e,t,n,r){const s=eo(r);return QE(s,i,e,t,n)}function mr(i,e){return i[0]==e[0]&&i[2]==e[2]&&i[1]==e[1]&&i[3]==e[3]}function wE(i,e){return e[0]<i[0]&&(i[0]=e[0]),e[2]>i[2]&&(i[2]=e[2]),e[1]<i[1]&&(i[1]=e[1]),e[3]>i[3]&&(i[3]=e[3]),i}function sx(i,e){e[0]<i[0]&&(i[0]=e[0]),e[0]>i[2]&&(i[2]=e[0]),e[1]<i[1]&&(i[1]=e[1]),e[1]>i[3]&&(i[3]=e[1])}function QE(i,e,t,n,r){for(;t<n;t+=r)iw(i,e[t],e[t+1]);return i}function yn(i,e){const t=Il();return yn=function(n,r){return n=n-480,t[n]},yn(i,e)}function iw(i,e,t){const n=yn;i[0]=Math[n(487)](i[0],e),i[1]=Math[n(487)](i[1],t),i[2]=Math[n(482)](i[2],e),i[3]=Math[n(482)](i[3],t)}function vE(i,e){let t;return t=e(fl(i)),t||(t=e(dl(i)),t)||(t=e(pl(i)),t)||(t=e(Er(i)),t)?t:!1}function ox(i){let e=0;return!X0(i)&&(e=Ct(i)*Be(i)),e}function fl(i){return[i[0],i[1]]}function dl(i){return[i[2],i[1]]}function fi(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function rw(i,e){const t=yn;let n;if(e===t(501))n=fl(i);else if(e==="bottom-right")n=dl(i);else if(e===t(507))n=Er(i);else if(e===t(486))n=pl(i);else throw new Error(t(484));return n}function gl(i,e,t,n,r){const s=yn,[o,a,c,x,A,l,u,h]=sw(i,e,t,n);return Mi(Math[s(487)](o,c,A,u),Math[s(487)](a,x,l,h),Math[s(482)](o,c,A,u),Math[s(482)](a,x,l,h),r)}function sw(i,e,t,n){const r=yn,s=e*n[0]/2,o=e*n[1]/2,a=Math[r(488)](t),c=Math[r(497)](t),x=s*a,A=s*c,l=o*a,u=o*c,h=i[0],f=i[1];return[h-x+u,f-A-l,h-x-u,f-A+l,h+x-u,f+A+l,h+x+u,f+A-l,h-x+u,f-A-l]}function Be(i){return i[3]-i[1]}function Cn(i,e,t){const n=t||hi();return we(i,e)?(i[0]>e[0]?n[0]=i[0]:n[0]=e[0],i[1]>e[1]?n[1]=i[1]:n[1]=e[1],i[2]<e[2]?n[2]=i[2]:n[2]=e[2],i[3]<e[3]?n[3]=i[3]:n[3]=e[3]):eo(n),n}function Er(i){return[i[0],i[3]]}function pl(i){return[i[2],i[3]]}function Ct(i){return i[2]-i[0]}function we(i,e){return i[0]<=e[2]&&i[2]>=e[0]&&i[1]<=e[3]&&i[3]>=e[1]}function X0(i){return i[2]<i[0]||i[3]<i[1]}function ow(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i}function aw(i,e){const t=(i[2]-i[0])/2*(e-1),n=(i[3]-i[1])/2*(e-1);i[0]-=t,i[2]+=t,i[1]-=n,i[3]+=n}function Il(){const i=["3874608PsiXxe","761934tzaPvQ","top-left","length","UNKNOWN","canWrapX","RIGHT","BELOW","LEFT","max","4bbvczG","Invalid corner","170XmNXLU","top-right","min","cos","10EaYoOm","floor","INTERSECTING","abs","apply","4667621AeApFo","11189673TtmlUQ","ABOVE","sin","4jRFAjI","slice","getExtent","bottom-left","982560HTuFSK","1968252GTEatj","3254988Lysusb"];return Il=function(){return i},Il()}function xw(i,e,t){const n=yn;let r=!1;const s=v2(i,e),o=v2(i,t);if(s===je.INTERSECTING||o===je.INTERSECTING)r=!0;else{const a=i[0],c=i[1],x=i[2],A=i[3],l=e[0],u=e[1],h=t[0],f=t[1],g=(f-u)/(h-l);let d,p;o&je[n(496)]&&!(s&je[n(496)])&&(d=h-(f-A)/g,r=d>=a&&d<=x),!r&&o&je.RIGHT&&!(s&je[n(511)])&&(p=f-(h-x)*g,r=p>=c&&p<=A),!r&&o&je[n(480)]&&!(s&je[n(480)])&&(d=h-(f-c)/g,r=d>=a&&d<=x),!r&&o&je[n(481)]&&!(s&je[n(481)])&&(p=f-(h-a)*g,r=p>=c&&p<=A)}return r}function RE(i,e,t,n){const r=yn;if(X0(i))return eo(t);let s=[];s=[i[0],i[1],i[2],i[1],i[2],i[3],i[0],i[3]],e(s,s,2);const o=[],a=[];for(let c=0,x=s[r(508)];c<x;c+=2)o.push(s[c]),a.push(s[c+1]);return nw(o,a,t)}function SE(i,e){const t=yn,n=e[t(500)](),r=fi(i);if(e[t(510)]()&&(r[0]<n[0]||r[0]>=n[2])){const s=Ct(n),o=Math[t(490)]((r[0]-n[0])/s),a=o*s;i[0]-=a,i[2]-=a}return i}function S2(i,e,t){if(e[yn(510)]()){const r=e.getExtent();if(!isFinite(i[0])||!isFinite(i[2]))return[[r[0],i[1],r[2],i[3]]];SE(i,e);const s=Ct(r);if(Ct(i)>s&&!t)return[[r[0],i[1],r[2],i[3]]];if(i[0]<r[0])return[[i[0]+s,i[1],r[2],i[3]],[r[0],i[1],i[2],i[3]]];if(i[2]>r[2])return[[i[0],i[1],r[2],i[3]],[r[0],i[1],i[2]-s,i[3]]]}return[i]}(function(i,e){const t=e0,n=i();for(;;)try{if(-parseInt(t(395))/1+parseInt(t(397))/2+-parseInt(t(383))/3+-parseInt(t(394))/4+-parseInt(t(392))/5+-parseInt(t(396))/6*(-parseInt(t(393))/7)+parseInt(t(382))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ml,729123);function Qe(i,e,t){const n=e0;return Math[n(387)](Math[n(390)](i,e),t)}function cw(i,e,t,n,r,s){const o=r-t,a=s-n;if(o!==0||a!==0){const c=((i-t)*o+(e-n)*a)/(o*o+a*a);c>1?(t=r,n=s):c>0&&(t+=o*c,n+=a*c)}return Z0(i,e,t,n)}function e0(i,e){const t=ml();return e0=function(n,r){return n=n-382,t[n]},e0(i,e)}function Z0(i,e,t,n){const r=t-i,s=n-e;return r*r+s*s}function Aw(i){const e=e0,t=i[e(389)];for(let r=0;r<t;r++){let s=r,o=Math[e(391)](i[r][r]);for(let c=r+1;c<t;c++){const x=Math[e(391)](i[c][r]);x>o&&(o=x,s=c)}if(o===0)return null;const a=i[s];i[s]=i[r],i[r]=a;for(let c=r+1;c<t;c++){const x=-i[c][r]/i[r][r];for(let A=r;A<t+1;A++)r==A?i[c][A]=0:i[c][A]+=x*i[r][A]}}const n=new Array(t);for(let r=t-1;r>=0;r--){n[r]=i[r][t]/i[r][r];for(let s=r-1;s>=0;s--)i[s][t]-=i[s][r]*n[r]}return n}function _l(i){return i*Math.PI/180}function no(i,e){const t=i%e;return t*e<0?t+e:t}function ml(){const i=["ceil","length","max","abs","289285YEcBqE","1129562RroLrE","3094536ONdBZf","370899WbqJUV","12JUdNeC","2190866JrmhKy","9379752lnXQut","1977363AyhqbN","pow","floor","round","min"];return ml=function(){return i},ml()}function ni(i,e,t){return i+t*(e-i)}function D2(i,e){const t=e0,n=Math[t(384)](10,e);return Math[t(386)](i*n)/n}function El(i,e){return Math[e0(385)](D2(i,e))}function n0(i,e){return Math[e0(388)](D2(i,e))}(function(i,e){const t=W0,n=i();for(;;)try{if(-parseInt(t(136))/1+parseInt(t(146))/2*(parseInt(t(129))/3)+parseInt(t(138))/4+-parseInt(t(135))/5+parseInt(t(149))/6+-parseInt(t(128))/7*(-parseInt(t(137))/8)+parseInt(t(142))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(yl,208961);function yl(){const i=["546944wCyZSR","440644mQooGe","floor","{y}","charAt","1458018BQngXe","cos","length","getCenter","14tIoyCG","sin","replace","177840dBYSXc","{x}, {y}","toFixed","canWrapX","7DVGPsI","5085TpVGGA","getExtent","getRadius","sqrt","abs","{x}","302570PtlXpG","112561UAbKAu"];return yl=function(){return i},yl()}function lw(i,e){return i[0]+=+e[0],i[1]+=+e[1],i}function W0(i,e){const t=yl();return W0=function(n,r){return n=n-127,t[n]},W0(i,e)}function Cl(i,e){const t=W0;let n=!0;for(let r=i[t(144)]-1;r>=0;--r)if(i[r]!=e[r]){n=!1;break}return n}function k2(i,e){const t=W0,n=Math[t(143)](e),r=Math[t(147)](e),s=i[0]*n-i[1]*r,o=i[1]*n+i[0]*r;return i[0]=s,i[1]=o,i}function uw(i,e){return i[0]*=e,i[1]*=e,i}function M2(i,e){const t=W0;if(e[t(127)]()){const n=Ct(e[t(130)]()),r=hw(i,e,n);r&&(i[0]-=r*n)}return i}function hw(i,e,t){const n=W0,r=e.getExtent();let s=0;return e[n(127)]()&&(i[0]<r[0]||i[0]>r[2])&&(t=t||Ct(r),s=Math.floor((i[0]-r[0])/t)),s}(function(i,e){const t=Bl,n=i();for(;;)try{if(-parseInt(t(299))/1*(parseInt(t(310))/2)+parseInt(t(312))/3+-parseInt(t(318))/4+parseInt(t(304))/5+-parseInt(t(302))/6+-parseInt(t(305))/7+-parseInt(t(308))/8*(-parseInt(t(301))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(bl,947112);function bl(){const i=["EPSG:4326","4jorZPu","abs","29146797RkqVPF","2510142TOaCsj","getCoordinates","207015souJrA","10972297NMlplT","Polygon","sin","8LIFPHI","getType","496198CkNugM","LinearRing","2484969zETASC","length","Unsupported geometry type: ","clone","asin","MultiLineString","731692xgSaft","MultiPoint","getGeometries","Point","atan2","sqrt","projection","GeometryCollection","cos","transform","LineString","MultiPolygon"];return bl=function(){return i},bl()}function Bl(i,e){const t=bl();return Bl=function(n,r){return n=n-290,t[n]},Bl(i,e)}const fw=63710088e-1;function DE(i,e,t){const n=Bl;t=t||fw;const r=_l(i[1]),s=_l(e[1]),o=(s-r)/2,a=_l(e[0]-i[0])/2,c=Math[n(307)](o)*Math[n(307)](o)+Math[n(307)](a)*Math[n(307)](a)*Math[n(294)](r)*Math.cos(s);return 2*t*Math[n(290)](Math.sqrt(c),Math[n(291)](1-c))}const kE=wl;(function(i,e){const t=wl,n=i();for(;;)try{if(-parseInt(t(492))/1+parseInt(t(495))/2+parseInt(t(489))/3*(-parseInt(t(498))/4)+parseInt(t(499))/5+parseInt(t(490))/6*(-parseInt(t(496))/7)+parseInt(t(491))/8+-parseInt(t(500))/9*(parseInt(t(494))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ql,378614);const ME={info:1,warn:2,error:3,none:4};let dw=ME[kE(488)];function FE(...i){const e=kE;dw>ME[e(493)]||console[e(493)](...i)}function wl(i,e){const t=Ql();return wl=function(n,r){return n=n-488,t[n]},wl(i,e)}function Ql(){const i=["973zCiILp","log","151692UTXvpX","3663580qSdOhv","4635ZTgRXl","info","3XWapjd","21678lTIFuF","1426200ZZMnKk","298042FAxWVH","warn","8020KHHrdk","1437650EhcQur"];return Ql=function(){return i},Ql()}(function(i,e){const t=bn,n=i();for(;;)try{if(-parseInt(t(369))/1+-parseInt(t(371))/2+parseInt(t(360))/3+-parseInt(t(372))/4*(-parseInt(t(368))/5)+-parseInt(t(374))/6*(-parseInt(t(366))/7)+parseInt(t(367))/8*(-parseInt(t(363))/9)+-parseInt(t(376))/10*(-parseInt(t(379))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(vl,683434);function bn(i,e){const t=vl();return bn=function(n,r){return n=n-360,t[n]},bn(i,e)}let F2=!0;function TE(i){F2=!1}function T2(i,e){const t=bn;if(e!==void 0){for(let n=0,r=i[t(370)];n<r;++n)e[n]=i[n];e=e}else e=i[t(381)]();return e}function vl(){const i=["7oDHayN","944EOIzzv","4055HQdDCI","1081107RkslRy","length","2354336ZLMgkz","1856lbWyrM","EPSG:4326","1274646wiKYmZ","getCode","60Vlxpti","getUnits","getExtent","4074631BgGikM","EPSG:3857","slice","getPointResolutionFunc","Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.","getMetersPerUnit","663540sPJlQr","degrees","string","6921AAbQkG","canWrapX","forEach"];return vl=function(){return i},vl()}function LE(i,e){const t=bn;if(e!==void 0&&i!==e){for(let n=0,r=i[t(370)];n<r;++n)e[n]=i[n];i=e}return i}function gw(i){tw(i[bn(375)](),i),ll(i,i,T2)}function pw(i){i.forEach(gw)}function Zt(i){return typeof i===bn(362)?$8(i):i||null}function L2(i,e,t,n){const r=bn;i=Zt(i);let s;const o=i[r(382)]();if(o){if(s=o(e,t),n&&n!==i[r(377)]()){const a=i[r(384)]();a&&(s=s*a/Wr[n])}}else{const a=i.getUnits();if(a==r(361)&&!n||n=="degrees")s=e;else{const c=ax(i,Zt(r(373)));if(c===LE&&a!==r(361))s=e*i[r(384)]();else{let A=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];A=c(A,A,2);const l=DE(A[r(381)](0,2),A.slice(2,4)),u=DE(A[r(381)](4,6),A[r(381)](6,8));s=(l+u)/2}const x=n?Wr[n]:i[r(384)]();x!==void 0&&(s/=x)}}return s}function GE(i){const e=bn;pw(i),i[e(365)](function(t){i[e(365)](function(r){t!==r&&ll(t,r,T2)})})}function Iw(i,e,t,n){i[bn(365)](function(s){e.forEach(function(o){ll(s,o,t),ll(o,s,n)})})}function G2(i,e){return i?typeof i=="string"?Zt(i):i:Zt(e)}function N2(i,e){const t=bn;return TE(),ji(i,t(373),e!==void 0?e:t(380))}function yr(i,e){const t=bn;if(i===e)return!0;const n=i.getUnits()===e[t(377)]();return(i.getCode()===e[t(375)]()||ax(i,e)===T2)&&n}function ax(i,e){const t=bn,n=i.getCode(),r=e[t(375)]();let s=ew(n,r);return!s&&(s=LE),s}function io(i,e){const t=Zt(i),n=Zt(e);return ax(t,n)}function ji(i,e,t){const n=bn;return io(e,t)(i,void 0,i[n(370)])}function P2(i,e,t,n){const r=io(e,t);return RE(i,r,void 0)}let _w=null;function mw(){return _w}function U2(i,e){return i}function Cr(i,e){const t=bn;return F2&&!Cl(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(F2=!1,FE(t(383))),i}function O2(i,e){return i}function Vi(i,e){return i}function Ew(){GE(EE),GE(CE),Iw(CE,EE,K8,X8)}Ew();function yw(i){const e=i.getView().getProjection().getCode();let t=i.getView().calculateExtent(i.getSize());return e!=="EPSG:4326"&&(t=P2(t,e,"EPSG:4326")),t}function ro(i,e){let t;const n=i.getView().getProjection().getCode();return n!="EPSG:4326"?t=ji(e,n,"EPSG:4326"):t=e,t}function Cw(i,e){let t=e;const n=i.getView().getProjection().getCode();return n!=="EPSG:4326"&&(t=ji(e,"EPSG:4326",n)),t}class bw{constructor(e,t){this.map=e,this.options=t,this._tiffObject=null,this.updateRender=!1,this.initBool=!1,this._zoomResolution=[1,1,.5,.5,.25,.25,.125,.125,.0625,.0625,.03125,.03125,.015625,.015625,.007,.007,.0035,.0035,.0018,.0018,9e-4,9e-4]}_render(){return this._tiffObject=new H8(this.options),this._tiffObject.fetchTiff().then(()=>(this.initBool=!0,!0))}getData(){return new Promise((e,t)=>{this.updateRender=!1,this.worldExtent=this.map.getView().calculateExtent(this.map.getSize()),this.worldExtent=yw(this.map,this.worldExtent);const n=this.map.getView().getZoom(),r=this._zoomResolution[Math.floor(n)],s=this._tiffObject.matchImageByRes(r);return this._tiffObject.getDataByBbox(s,this.worldExtent).then(o=>(this.updateRender=!0,e(o)))})}}const Bw={id:"4575782",name:"风向杆",font_family:"iconfont",css_prefix_text:"icon-",description:"",glyphs:[{icon_id:"41669603",name:"箭头",font_class:"jiantou",unicode:"e7c7",unicode_decimal:59335},{icon_id:"41669531",name:"反_3级",font_class:"fan_3ji",unicode:"e7c5",unicode_decimal:59333},{icon_id:"41669529",name:"反_1级",font_class:"fan_1ji",unicode:"e7c6",unicode_decimal:59334},{icon_id:"41669551",name:"反_16级",font_class:"fan_16ji",unicode:"e7b2",unicode_decimal:59314},{icon_id:"41669552",name:"反_26级",font_class:"fan_26ji",unicode:"e7b3",unicode_decimal:59315},{icon_id:"41669549",name:"反_21级",font_class:"fan_21ji",unicode:"e7b4",unicode_decimal:59316},{icon_id:"41669543",name:"反_20级",font_class:"fan_20ji",unicode:"e7b5",unicode_decimal:59317},{icon_id:"41669548",name:"反_25级",font_class:"fan_25ji",unicode:"e7b6",unicode_decimal:59318},{icon_id:"41669541",name:"反_13级",font_class:"fan_13ji",unicode:"e7b7",unicode_decimal:59319},{icon_id:"41669546",name:"反_23级",font_class:"fan_23ji",unicode:"e7b8",unicode_decimal:59320},{icon_id:"41669544",name:"反_14级",font_class:"fan_14ji",unicode:"e7b9",unicode_decimal:59321},{icon_id:"41669547",name:"反_19级",font_class:"fan_19ji",unicode:"e7ba",unicode_decimal:59322},{icon_id:"41669545",name:"反_18级",font_class:"fan_18ji",unicode:"e7bb",unicode_decimal:59323},{icon_id:"41669542",name:"反_11级",font_class:"fan_11ji",unicode:"e7bc",unicode_decimal:59324},{icon_id:"41669539",name:"反_6级",font_class:"fan_6ji",unicode:"e7bd",unicode_decimal:59325},{icon_id:"41669537",name:"反_9级",font_class:"fan_9ji",unicode:"e7be",unicode_decimal:59326},{icon_id:"41669536",name:"反_10级",font_class:"fan_10ji",unicode:"e7bf",unicode_decimal:59327},{icon_id:"41669535",name:"反_8级",font_class:"fan_8ji",unicode:"e7c0",unicode_decimal:59328},{icon_id:"41669534",name:"反_7级",font_class:"fan_7ji",unicode:"e7c1",unicode_decimal:59329},{icon_id:"41669533",name:"反_5级",font_class:"fan_5ji",unicode:"e7c2",unicode_decimal:59330},{icon_id:"41669532",name:"反_2级",font_class:"fan_2ji",unicode:"e7c3",unicode_decimal:59331},{icon_id:"41669530",name:"反_4级",font_class:"fan_4ji",unicode:"e7c4",unicode_decimal:59332},{icon_id:"41669558",name:"反_15级",font_class:"fan_15ji",unicode:"e7a9",unicode_decimal:59305},{icon_id:"41669538",name:"反_0级",font_class:"fan_0ji",unicode:"e7aa",unicode_decimal:59306},{icon_id:"41669557",name:"反_24级",font_class:"fan_24ji",unicode:"e7ab",unicode_decimal:59307},{icon_id:"41669556",name:"反_29级",font_class:"fan_29ji",unicode:"e7ac",unicode_decimal:59308},{icon_id:"41669540",name:"反_12级",font_class:"fan_12ji",unicode:"e7ad",unicode_decimal:59309},{icon_id:"41669555",name:"反_22级",font_class:"fan_22ji",unicode:"e7ae",unicode_decimal:59310},{icon_id:"41669553",name:"反_28级",font_class:"fan_28ji",unicode:"e7af",unicode_decimal:59311},{icon_id:"41669550",name:"反_17级",font_class:"fan_17ji",unicode:"e7b0",unicode_decimal:59312},{icon_id:"41669554",name:"反_27级",font_class:"fan_27ji",unicode:"e7b1",unicode_decimal:59313},{icon_id:"41352434",name:"正_16级",font_class:"zheng_16ji",unicode:"e79b",unicode_decimal:59291},{icon_id:"41352435",name:"正_15级",font_class:"zheng_15ji",unicode:"e79c",unicode_decimal:59292},{icon_id:"41352433",name:"正_14级",font_class:"zheng_14ji",unicode:"e78d",unicode_decimal:59277},{icon_id:"41352432",name:"正_12级",font_class:"zheng_12ji",unicode:"e79d",unicode_decimal:59293},{icon_id:"41352431",name:"正_13级",font_class:"zheng_13ji",unicode:"e79e",unicode_decimal:59294},{icon_id:"41352430",name:"正_11级",font_class:"zheng_11ji",unicode:"e79f",unicode_decimal:59295},{icon_id:"41352429",name:"正_9级",font_class:"zheng_9ji",unicode:"e78c",unicode_decimal:59276},{icon_id:"41352428",name:"正_10级",font_class:"zheng_10ji",unicode:"e7a0",unicode_decimal:59296},{icon_id:"41352426",name:"正_7级",font_class:"zheng_7ji",unicode:"e7a1",unicode_decimal:59297},{icon_id:"41352427",name:"正_8级",font_class:"zheng_8ji",unicode:"e7a2",unicode_decimal:59298},{icon_id:"41352421",name:"正_2级",font_class:"zheng_2ji",unicode:"e78b",unicode_decimal:59275},{icon_id:"41352425",name:"正_5级",font_class:"zheng_5ji",unicode:"e7a3",unicode_decimal:59299},{icon_id:"41352424",name:"正_6级",font_class:"zheng_6ji",unicode:"e7a4",unicode_decimal:59300},{icon_id:"41352423",name:"正_4级",font_class:"zheng_4ji",unicode:"e7a5",unicode_decimal:59301},{icon_id:"41352422",name:"正_3级",font_class:"zheng_3ji",unicode:"e7a6",unicode_decimal:59302},{icon_id:"41352420",name:"正_1级",font_class:"zheng_1ji",unicode:"e7a7",unicode_decimal:59303},{icon_id:"41352419",name:"正_0级",font_class:"zheng_0ji",unicode:"e7a8",unicode_decimal:59304},{icon_id:"41352447",name:"正_29级",font_class:"zheng_29ji",unicode:"e790",unicode_decimal:59280},{icon_id:"41352448",name:"正_28级",font_class:"zheng_28ji",unicode:"e791",unicode_decimal:59281},{icon_id:"41352446",name:"正_27级",font_class:"zheng_27ji",unicode:"e792",unicode_decimal:59282},{icon_id:"41352445",name:"正_24级",font_class:"zheng_24ji",unicode:"e793",unicode_decimal:59283},{icon_id:"41352444",name:"正_26级",font_class:"zheng_26ji",unicode:"e794",unicode_decimal:59284},{icon_id:"41352443",name:"正_25级",font_class:"zheng_25ji",unicode:"e795",unicode_decimal:59285},{icon_id:"41352442",name:"正_23级",font_class:"zheng_23ji",unicode:"e78f",unicode_decimal:59279},{icon_id:"41352440",name:"正_21级",font_class:"zheng_21ji",unicode:"e796",unicode_decimal:59286},{icon_id:"41352441",name:"正_22级",font_class:"zheng_22ji",unicode:"e797",unicode_decimal:59287},{icon_id:"41352439",name:"正_19级",font_class:"zheng_19ji",unicode:"e798",unicode_decimal:59288},{icon_id:"41352438",name:"正_20级",font_class:"zheng_20ji",unicode:"e799",unicode_decimal:59289},{icon_id:"41352437",name:"正_17级",font_class:"zheng_17ji",unicode:"e78e",unicode_decimal:59278},{icon_id:"41352436",name:"正_18级",font_class:"zheng_18ji",unicode:"e79a",unicode_decimal:59290}]};(function(i,e){for(var t=z2,n=i();;)try{var r=parseInt(t(383))/1+parseInt(t(380))/2+parseInt(t(382))/3*(-parseInt(t(377))/4)+parseInt(t(376))/5+parseInt(t(375))/6*(-parseInt(t(378))/7)+parseInt(t(379))/8+parseInt(t(374))/9*(-parseInt(t(381))/10);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Rl,514752);function z2(i,e){var t=Rl();return z2=function(n,r){n=n-374;var s=t[n];return s},z2(i,e)}function Rl(){var i=["1212648cgjVoW","355010GoQYtt","6TghLua","265312wELXOV","297FXLXWr","6036hKePrA","3543135eeqAcU","244336XfNnxX","5201dEZPzp","7805184DJnzlc"];return Rl=function(){return i},Rl()}const W={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},ww=so;(function(i,e){const t=so,n=i();for(;;)try{if(parseInt(t(381))/1+parseInt(t(376))/2+parseInt(t(385))/3*(parseInt(t(379))/4)+parseInt(t(384))/5*(parseInt(t(377))/6)+parseInt(t(375))/7+parseInt(t(380))/8+-parseInt(t(383))/9*(parseInt(t(373))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Sl,614100);function so(i,e){const t=Sl();return so=function(n,r){return n=n-373,t[n]},so(i,e)}function ot(){const i=so;throw new Error(i(378))}let Qw=0;function ct(i){const e=so;return i.ol_uid||(i[e(382)]=String(++Qw))}function Sl(){const i=["1842858XQcsqu","Unimplemented abstract method.","923996eCEmvq","6843712JQSgFh","310387ZIJsBn","ol_uid","64818LpQvZT","10UMFHPE","3fKgbvq","3490zoPnUZ","10.1.0-dev","3479875eLWVdX","1238674gSkBri"];return Sl=function(){return i},Sl()}ww(374),function(i,e){for(var t=Dl,n=i();;)try{var r=parseInt(t(269))/1+-parseInt(t(266))/2+-parseInt(t(263))/3+-parseInt(t(264))/4*(parseInt(t(268))/5)+-parseInt(t(267))/6*(parseInt(t(271))/7)+-parseInt(t(265))/8+parseInt(t(272))/9;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}}(kl,727725);function Dl(i,e){var t=kl();return Dl=function(n,r){n=n-263;var s=t[n];return s},Dl(i,e)}function NE(i){return i[0]>0&&i[1]>0}function vw(i,e,t){return t===void 0&&(t=[0,0]),t[0]=i[0]*e+.5|0,t[1]=i[1]*e+.5|0,t}function Pe(i,e){var t=Dl;return Array[t(270)](i)?i:(e===void 0?e=[i,i]:(e[0]=i,e[1]=i),e)}function kl(){var i=["4282722mpLhIW","158924ANJHJo","11619208lFqolO","2633650SOvkBm","2046126ydEQFR","155RZJwnX","644731JSrbuc","isArray","21rJmMSE","58810662fcKFlS"];return kl=function(){return i},kl()}const te=xx;(function(i,e){const t=xx,n=i();for(;;)try{if(parseInt(t(362))/1*(-parseInt(t(399))/2)+-parseInt(t(365))/3+-parseInt(t(367))/4+parseInt(t(371))/5+parseInt(t(389))/6+parseInt(t(383))/7*(-parseInt(t(366))/8)+parseInt(t(369))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ml,539231);function Ml(){const i=["getOrigin","declutterMode_","rotation_","setScale","isArray","setOpacity","rotateWithView_","scale_","22SpqZBu","getScale","getRotation","clone","ready","22597UfJrsl","getAnchor","rotateWithView","1842468spmbVo","8392YujsEk","3349004Lcvgec","rotation","9293679kUIJOC","unlistenImageChange","1324760dMLGmJ","setRotateWithView","displacement","slice","getImage","setDisplacement","getSize","getImageState","opacity_","getDisplacement","scaleArray_","load","91oFljuo","getDeclutterMode","scale","listenImageChange","getRotateWithView","setRotation","5731554zYZNqT","opacity"];return Ml=function(){return i},Ml()}function xx(i,e){const t=Ml();return xx=function(n,r){return n=n-361,t[n]},xx(i,e)}class cx{constructor(e){const t=xx;this[t(379)]=e[t(390)],this[t(397)]=e[t(364)],this[t(393)]=e[t(368)],this[t(398)]=e[t(385)],this[t(381)]=Pe(e[t(385)]),this.displacement_=e[t(373)],this[t(392)]=e.declutterMode}[te(402)](){const e=te,t=this[e(400)]();return new cx({opacity:this.getOpacity(),scale:Array[e(395)](t)?t.slice():t,rotation:this[e(401)](),rotateWithView:this[e(387)](),displacement:this[e(380)]()[e(374)](),declutterMode:this[e(384)]()})}getOpacity(){return this[te(379)]}getRotateWithView(){return this.rotateWithView_}[te(401)](){return this[te(393)]}[te(400)](){return this[te(398)]}getScaleArray(){return this[te(381)]}[te(380)](){return this.displacement_}[te(384)](){return this.declutterMode_}[te(363)](){return ot()}[te(375)](e){return ot()}getHitDetectionImage(){return ot()}getPixelRatio(e){return 1}[te(378)](){return ot()}getImageSize(){return ot()}[te(391)](){return ot()}[te(377)](){return ot()}[te(376)](e){this.displacement_=e}[te(396)](e){const t=te;this[t(379)]=e}[te(372)](e){const t=te;this[t(397)]=e}[te(388)](e){this.rotation_=e}[te(394)](e){const t=te;this[t(398)]=e,this[t(381)]=Pe(e)}[te(386)](e){ot()}[te(382)](){ot()}[te(370)](e){ot()}[te(361)](){return Promise.resolve()}}const Ax={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var We={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};We.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}},We.max=We.whitepoint[2].D65,We.rgb=function(i,e){e=e||We.whitepoint[2].E;var t=i[0]/e[0],n=i[1]/e[1],r=i[2]/e[2],s,o,a;return s=t*3.240969941904521+n*-1.537383177570093+r*-.498610760293,o=t*-.96924363628087+n*1.87596750150772+r*.041555057407175,a=t*.055630079696993+n*-.20397695888897+r*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[s*255,o*255,a*255]},Ax.xyz=function(i,e){var t=i[0]/255,n=i[1]/255,r=i[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=t*.41239079926595+n*.35758433938387+r*.18048078840183,o=t*.21263900587151+n*.71516867876775+r*.072192315360733,a=t*.019330818715591+n*.11919477979462+r*.95053215224966;return e=e||We.whitepoint[2].E,[s*e[0],o*e[1],a*e[2]]};const q2={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(i,e,t){var n,r,s,o,a,c,x,A,l,u,h,f,g;if(s=i[0],o=i[1],a=i[2],s===0)return[0,0,0];var d=.0011070564598794539;return e=e||"D65",t=t||2,l=We.whitepoint[t][e][0],u=We.whitepoint[t][e][1],h=We.whitepoint[t][e][2],f=4*l/(l+15*u+3*h),g=9*u/(l+15*u+3*h),n=o/(13*s)+f||0,r=a/(13*s)+g||0,x=s>8?u*Math.pow((s+16)/116,3):u*s*d,c=x*9*n/(4*r)||0,A=x*(12-3*n-20*r)/(4*r)||0,[c,x,A]}};We.luv=function(i,e,t){var n,r,s,o,a,c,x,A,l,u,h,f,g,d=.008856451679035631,p=903.2962962962961;e=e||"D65",t=t||2,l=We.whitepoint[t][e][0],u=We.whitepoint[t][e][1],h=We.whitepoint[t][e][2],f=4*l/(l+15*u+3*h),g=9*u/(l+15*u+3*h),c=i[0],x=i[1],A=i[2],n=4*c/(c+15*x+3*A)||0,r=9*x/(c+15*x+3*A)||0;var I=x/u;return s=I<=d?p*I:116*Math.pow(I,1/3)-16,o=13*s*(n-f),a=13*s*(r-g),[s,o,a]};var PE={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(i){var e=i[0],t=i[1],n=i[2],r,s,o;return o=n/360*2*Math.PI,r=t*Math.cos(o),s=t*Math.sin(o),[e,r,s]},xyz:function(i){return q2.xyz(PE.luv(i))}};q2.lchuv=function(i){var e=i[0],t=i[1],n=i[2],r=Math.sqrt(t*t+n*n),s=Math.atan2(n,t),o=s*360/2/Math.PI;return o<0&&(o+=360),[e,r,o]},We.lchuv=function(i){return q2.lchuv(We.luv(i))};const UE={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var OE={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Rw(i){var A,l;var e,t=[],n=1,r;if(typeof i=="number")return{space:"rgb",values:[i>>>16,(i&65280)>>>8,i&255],alpha:1};if(typeof i=="number")return{space:"rgb",values:[i>>>16,(i&65280)>>>8,i&255],alpha:1};if(i=String(i).toLowerCase(),UE[i])t=UE[i].slice(),r="rgb";else if(i==="transparent")n=0,r="rgb",t=[0,0,0];else if(i[0]==="#"){var s=i.slice(1),o=s.length,a=o<=4;n=1,a?(t=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(n=parseInt(s[3]+s[3],16)/255)):(t=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(n=parseInt(s[6]+s[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(i)){var c=e[1];r=c.replace(/a$/,"");var x=r==="cmyk"?4:r==="gray"?1:3;t=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=t.shift()),t=t.map(function(u,h){if(u[u.length-1]==="%")return u=parseFloat(u)/100,h===3?u:r==="rgb"?u*255:r[0]==="h"||r[0]==="l"&&!h?u*100:r==="lab"?u*125:r==="lch"?h<2?u*150:u*360:r[0]==="o"&&!h?u:r==="oklab"?u*.4:r==="oklch"?h<2?u*.4:u*360:u;if(r[h]==="h"||h===2&&r[r.length-1]==="h"){if(OE[u]!==void 0)return OE[u];if(u.endsWith("deg"))return parseFloat(u);if(u.endsWith("turn"))return parseFloat(u)*360;if(u.endsWith("grad"))return parseFloat(u)*360/400;if(u.endsWith("rad"))return parseFloat(u)*180/Math.PI}return u==="none"?0:parseFloat(u)}),n=t.length>x?t.pop():1}else/[0-9](?:\s|\/|,)/.test(i)&&(t=i.match(/([0-9]+)/g).map(function(u){return parseFloat(u)}),r=((l=(A=i.match(/([a-z])/ig))==null?void 0:A.join(""))==null?void 0:l.toLowerCase())||"rgb");return{space:r,values:t,alpha:n}}const Y2={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(i){var e=i[0]/360,t=i[1]/100,n=i[2]/100,r,s,o,a,c,x=0;if(t===0)return c=n*255,[c,c,c];for(s=n<.5?n*(1+t):n+t-n*t,r=2*n-s,a=[0,0,0];x<3;)o=e+1/3*-(x-1),o<0?o++:o>1&&o--,c=6*o<1?r+(s-r)*6*o:2*o<1?s:3*o<2?r+(s-r)*(2/3-o)*6:r,a[x++]=c*255;return a}};Ax.hsl=function(i){var e=i[0]/255,t=i[1]/255,n=i[2]/255,r=Math.min(e,t,n),s=Math.max(e,t,n),o=s-r,a,c,x;return s===r?a=0:e===s?a=(t-n)/o:t===s?a=2+(n-e)/o:n===s&&(a=4+(e-t)/o),a=Math.min(a*60,360),a<0&&(a+=360),x=(r+s)/2,s===r?c=0:x<=.5?c=o/(s+r):c=o/(2-s-r),[a,c*100,x*100]};function zE(i){Array.isArray(i)&&i.raw&&(i=String.raw(...arguments)),i instanceof Number&&(i=+i);var e,t=Rw(i);if(!t.space)return[];const n=t.space[0]==="h"?Y2.min:Ax.min,r=t.space[0]==="h"?Y2.max:Ax.max;return e=Array(3),e[0]=Math.min(Math.max(t.values[0],n[0]),r[0]),e[1]=Math.min(Math.max(t.values[1],n[1]),r[1]),e[2]=Math.min(Math.max(t.values[2],n[2]),r[2]),t.space[0]==="h"&&(e=Y2.rgb(e)),e.push(Math.min(Math.max(t.alpha,0),1)),e}(function(i,e){const t=br,n=i();for(;;)try{if(-parseInt(t(433))/1+-parseInt(t(425))/2*(-parseInt(t(421))/3)+parseInt(t(431))/4*(parseInt(t(430))/5)+-parseInt(t(432))/6+parseInt(t(429))/7+parseInt(t(434))/8*(-parseInt(t(435))/9)+-parseInt(t(418))/10*(parseInt(t(419))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Fl,384803);function br(i,e){const t=Fl();return br=function(n,r){return n=n-416,t[n]},br(i,e)}const H2=[NaN,NaN,NaN,0];function Br(i){return typeof i===br(417)?i:J2(i)}const Sw=1024,lx={};let j2=0;function Dw(i){const e=br;if(i[e(423)]===4)return i;const t=i[e(427)]();return t[3]=1,t}function qE(i){const e=br,t=We[e(428)](Ax[e(416)](i));return t[3]=i[3],t}function kw(i){const e=br,t=We.rgb(PE[e(416)](i));return t[3]=i[3],t}function V2(i){const e=br;if(i==="none")return H2;if(lx.hasOwnProperty(i))return lx[i];if(j2>=Sw){let n=0;for(const r in lx)!(n++&3)&&(delete lx[r],--j2)}const t=zE(i);if(t[e(423)]!==4)throw new Error('failed to parse "'+i+e(426));for(const n of t)if(isNaN(n))throw new Error(e(422)+i+e(426));return YE(t),lx[i]=t,++j2,t}function ux(i){return Array.isArray(i)?i:V2(i)}function YE(i){return i[0]=Qe(i[0]+.5|0,0,255),i[1]=Qe(i[1]+.5|0,0,255),i[2]=Qe(i[2]+.5|0,0,255),i[3]=Qe(i[3],0,1),i}function Fl(){const i=["xyz","string","50BiJrwx","536283RDbXCj","round","729Gtdvef",'failed to parse "',"length","rgba(","2974AgKgmY",'" as color',"slice","lchuv","2577288uYMTQQ","1374305bOVjAP","8xfYolB","1145370CMzpco","368188QGyGGc","32ImGOQY","206091QAvkdU"];return Fl=function(){return i},Fl()}function J2(i){const e=br;let t=i[0];t!=(t|0)&&(t=t+.5|0);let n=i[1];n!=(n|0)&&(n=n+.5|0);let r=i[2];r!=(r|0)&&(r=r+.5|0);const s=i[3]===void 0?1:Math[e(420)](i[3]*1e3)/1e3;return e(424)+t+","+n+","+r+","+s+")"}const he=Tl;(function(i,e){const t=Tl,n=i();for(;;)try{if(parseInt(t(290))/1+-parseInt(t(281))/2+-parseInt(t(273))/3*(-parseInt(t(280))/4)+parseInt(t(268))/5*(parseInt(t(293))/6)+-parseInt(t(277))/7+-parseInt(t(274))/8+parseInt(t(291))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gl,926339);const i0=typeof navigator!==he(295)&&typeof navigator[he(275)]<"u"?navigator[he(275)][he(286)]():"",Mw=i0[he(289)](he(272));i0[he(289)](he(285))&&!i0.includes(he(292))&&(i0.includes(he(288))||/cpu (os|iphone os) 15_4 like mac os x/[he(287)](i0));const Fw=i0[he(289)](he(279))&&!i0.includes(he(284)),HE=i0[he(289)](he(283));function Tl(i,e){const t=Gl();return Tl=function(n,r){return n=n-268,t[n]},Tl(i,e)}const Ll=typeof devicePixelRatio!==he(295)?devicePixelRatio:1,jE=typeof WorkerGlobalScope!==he(295)&&typeof OffscreenCanvas!==he(295)&&self instanceof WorkerGlobalScope,VE=typeof Image!==he(295)&&Image[he(269)][he(276)];he(270);function Gl(){const i=["6CyaLnj","10917648pJeDLI","userAgent","decode","4986849UUcGMU","removeEventListener","webkit","1734632xRWRqY","1769534jrlaVX","defineProperty","macintosh","edge","safari","toLowerCase","test","version/15.4","includes","687659JvXunq","4676454HHiipV","chrom","18PcxfBQ","addEventListener","undefined","3022730nSbKzy","prototype","function","passive","firefox"];return Gl=function(){return i},Gl()}const JE=function(){const i=he;let e=!1;try{const t=Object[i(282)]({},i(271),{get:function(){e=!0}});window[i(294)]("_",null,t),window[i(278)]("_",null,t)}catch{}return e}();(function(i,e){const t=r0,n=i();for(;;)try{if(parseInt(t(265))/1+parseInt(t(269))/2+parseInt(t(273))/3*(-parseInt(t(263))/4)+parseInt(t(261))/5*(-parseInt(t(270))/6)+parseInt(t(255))/7+-parseInt(t(257))/8+parseInt(t(267))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Nl,606088);function r0(i,e){const t=Nl();return r0=function(n,r){return n=n-253,t[n]},r0(i,e)}function Nl(){const i=["44eySpei","height","850998LCnIvW","createElement","9033903NjMffX","lastChild","1280488EJyWQw","42mHbVZD","clearRect","appendChild","249963TojHVk","width","offsetHeight","marginRight","removeChild","parentNode","replaceChild","1961043kAalVU","marginLeft","9484840vukQyB","canvas","insertBefore","marginBottom","47810NGglhR","getContext"];return Nl=function(){return i},Nl()}function fe(i,e,t,n){const r=r0;let s;return t&&t.length?s=t.shift():jE?s=new OffscreenCanvas(i||300,e||300):s=document[r(266)](r(258)),i&&(s[r(274)]=i),e&&(s[r(264)]=e),s[r(262)]("2d",n)}let K2;function Pl(){return!K2&&(K2=fe(1,1)),K2}function $0(i){const e=r0,t=i.canvas;t[e(274)]=1,t.height=1,i[e(271)](0,0,1,1)}function KE(i,e){const t=r0,n=e[t(253)];n&&n[t(254)](i,e)}function Tw(i){const e=r0;for(;i.lastChild;)i[e(268)].remove()}function Lw(i,e){const t=r0,n=i.childNodes;for(let r=0;;++r){const s=n[r],o=e[r];if(!s&&!o)break;if(s!==o){if(!s){i[t(272)](o);continue}if(!o){i[t(277)](s),--r;continue}i[t(259)](o,s)}}}function Ul(i,e){var t=Ol();return Ul=function(n,r){n=n-260;var s=t[n];return s},Ul(i,e)}var X2=Ul;(function(i,e){for(var t=Ul,n=i();;)try{var r=-parseInt(t(269))/1+parseInt(t(265))/2*(parseInt(t(270))/3)+parseInt(t(267))/4+-parseInt(t(260))/5*(-parseInt(t(263))/6)+parseInt(t(271))/7+-parseInt(t(264))/8*(parseInt(t(266))/9)+-parseInt(t(272))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ol,595652);function Ol(){var i=["dispose","377745eATKwK","2946GbxmCV","7924630xFNkll","19733110FhHrRf","55LWHUCc","disposed","disposeInternal","529062umuYCm","152mSkTDF","1670tCFBkf","64494znGkYG","643420KeIZJc"];return Ol=function(){return i},Ol()}let zl=class{constructor(){this.disposed=!1}[X2(268)](){var e=X2;!this[e(261)]&&(this[e(261)]=!0,this[e(262)]())}[X2(262)](){}};var ql=hx;(function(i,e){for(var t=hx,n=i();;)try{var r=parseInt(t(357))/1+parseInt(t(350))/2*(-parseInt(t(351))/3)+-parseInt(t(348))/4+-parseInt(t(363))/5*(-parseInt(t(362))/6)+-parseInt(t(355))/7*(-parseInt(t(359))/8)+parseInt(t(349))/9+parseInt(t(347))/10*(-parseInt(t(361))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Yl,719381);let di=class{constructor(e){var t=hx;this[t(358)],this[t(356)],this[t(353)]=e,this[t(360)]=null}[ql(352)](){var e=ql;this[e(356)]=!0}[ql(354)](){var e=ql;this[e(358)]=!0}};function Yl(){var i=["1216596TpBPdY","25ogIqYT","3074510DKIOdC","1031996RbMZFg","8633340EROEBG","87028quJwqD","30bMeUSH","preventDefault","type","stopPropagation","7PQUAaP","defaultPrevented","743038qIVfid","propagationStopped","1869176OREtny","target","55FHXDiA"];return Yl=function(){return i},Yl()}function hx(i,e){var t=Yl();return hx=function(n,r){n=n-347;var s=t[n];return s},hx(i,e)}(function(i,e){const t=s0,n=i();for(;;)try{if(parseInt(t(274))/1*(-parseInt(t(265))/2)+-parseInt(t(275))/3*(parseInt(t(272))/4)+-parseInt(t(276))/5*(-parseInt(t(268))/6)+parseInt(t(269))/7*(-parseInt(t(263))/8)+parseInt(t(264))/9+parseInt(t(266))/10+-parseInt(t(261))/11*(parseInt(t(279))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(jl,956728);function Gw(i,e,t){const n=s0;let r,s;t=t||Ji;let o=0,a=i[n(278)],c=!1;for(;o<a;)r=o+(a-o>>1),s=+t(i[r],e),s<0?o=r+1:(a=r,c=!s);return c?o:~o}function Ji(i,e){return i>e?1:i<e?-1:0}function Hl(i,e,t){const n=s0;if(i[0]<=e)return 0;const r=i[n(278)];if(e<=i[r-1])return r-1;if(typeof t===n(273)){for(let s=1;s<r;++s){const o=i[s];if(o===e)return s;if(o<e)return t(e,i[s-1],o)>0?s-1:s}return r-1}if(t>0){for(let s=1;s<r;++s)if(i[s]<e)return s-1;return r-1}if(t<0){for(let s=1;s<r;++s)if(i[s]<=e)return s;return r-1}for(let s=1;s<r;++s){if(i[s]==e)return s;if(i[s]<e)return i[s-1]-e<e-i[s]?s-1:s}return r-1}function Nw(i,e,t){for(;e<t;){const n=i[e];i[e]=i[t],i[t]=n,++e,--t}}function Ki(i,e){const t=s0,n=Array[t(277)](e)?e:[e],r=n[t(278)];for(let s=0;s<r;s++)i[i[t(278)]]=n[s]}function jl(){const i=["98PWYmDG","value","index","95164QuLwlo","function","1205705hrfxRm","3XuaLDB","15PmzdKF","isArray","length","21941412NhgDtD","every","11QIKWmU","indexOf","361016oSzMqB","13930461wtyIOo","2NFGbQP","12120050ppdVnm","splice","3773238BDLLFG"];return jl=function(){return i},jl()}function s0(i,e){const t=jl();return s0=function(n,r){return n=n-261,t[n]},s0(i,e)}function o0(i,e){const t=s0,n=i[t(278)];if(n!==e[t(278)])return!1;for(let r=0;r<n;r++)if(i[r]!==e[r])return!1;return!0}function Pw(i,e,t){const n=s0,r=e||Ji;return i[n(280)](function(s,o){if(o===0)return!0;const a=r(i[o-1],s);return!(a>0||t&&a===0)})}(function(i,e){const t=dx,n=i();for(;;)try{if(-parseInt(t(366))/1*(-parseInt(t(365))/2)+-parseInt(t(360))/3+-parseInt(t(368))/4+parseInt(t(369))/5+-parseInt(t(372))/6*(-parseInt(t(361))/7)+parseInt(t(371))/8+parseInt(t(373))/9*(-parseInt(t(364))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Jl,871196);function fx(){return!0}function dx(i,e){const t=Jl();return dx=function(n,r){return n=n-360,t[n]},dx(i,e)}function Vl(){return!1}function oo(){}function XE(i){let e,t,n;return function(){const r=dx,s=Array[r(374)][r(362)][r(367)](arguments);return(!t||this!==n||!o0(s,t))&&(n=this,t=s,e=i.apply(this,arguments)),e}}function ao(i){function e(){const t=dx;let n;try{n=i()}catch(r){return Promise[t(363)](r)}return n instanceof Promise?n:Promise[t(370)](n)}return e()}function Jl(){const i=["21zCdebE","slice","reject","1410LmRMfT","503432aGYGLg","1QeWalt","call","1641860yemMzc","2122615NNCful","resolve","11546296hzuANe","3454422DzaIEm","64809uQLesY","prototype","4649205HjXbrB"];return Jl=function(){return i},Jl()}const xo=ts;(function(i,e){const t=ts,n=i();for(;;)try{if(-parseInt(t(261))/1+parseInt(t(242))/2+-parseInt(t(249))/3*(parseInt(t(259))/4)+-parseInt(t(255))/5*(-parseInt(t(250))/6)+parseInt(t(254))/7*(parseInt(t(257))/8)+parseInt(t(248))/9*(-parseInt(t(239))/10)+parseInt(t(252))/11*(parseInt(t(260))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Kl,573022);function Kl(){const i=["204ijJxWk","includes","12949849VIPklq","pendingRemovals_","3551989nDJnGw","20985KsADqY","disposeInternal","8DfqmVU","push","2407324mGeHAn","12uKpYwo","359203KgqAbX","indexOf","target","keys","propagationStopped","handleEvent","9079100rANkfM","string","eventTarget_","1229164FfnyFT","dispatching_","length","type","listeners_","getListeners","9SNsnHf","3FXBIgz"];return Kl=function(){return i},Kl()}let gx=class extends zl{constructor(e){const t=ts;super(),this[t(241)]=e,this[t(253)]=null,this[t(243)]=null,this[t(246)]=null}addEventListener(e,t){const n=ts;if(!e||!t)return;const r=this.listeners_||(this[n(246)]={}),s=r[e]||(r[e]=[]);!s[n(251)](t)&&s[n(258)](t)}dispatchEvent(e){const t=ts,n=typeof e===t(240),r=n?e:e[t(245)],s=this.listeners_&&this[t(246)][r];if(!s)return;const o=n?new di(e):e;!o[t(263)]&&(o.target=this[t(241)]||this);const a=this[t(243)]||(this[t(243)]={}),c=this[t(253)]||(this[t(253)]={});!(r in a)&&(a[r]=0,c[r]=0),++a[r];let x;for(let A=0,l=s.length;A<l;++A)if("handleEvent"in s[A]?x=s[A][t(238)](o):x=s[A].call(this,o),x===!1||o[t(265)]){x=!1;break}if(--a[r]===0){let A=c[r];for(delete c[r];A--;)this.removeEventListener(r,oo);delete a[r]}return x}[xo(256)](){const e=xo;this[e(246)]&&rx(this[e(246)])}[xo(247)](e){const t=xo;return this.listeners_&&this[t(246)][e]||void 0}hasListener(e){const t=xo;return this[t(246)]?e?e in this.listeners_:Object[t(264)](this.listeners_)[t(244)]>0:!1}removeEventListener(e,t){const n=xo;if(!this[n(246)])return;const r=this[n(246)][e];if(!r)return;const s=r[n(262)](t);s!==-1&&(this[n(253)]&&e in this.pendingRemovals_?(r[s]=oo,++this[n(253)][e]):(r.splice(s,1),r.length===0&&delete this[n(246)][e]))}};function ts(i,e){const t=Kl();return ts=function(n,r){return n=n-238,t[n]},ts(i,e)}var gi=Zl;function Xl(){var i=["contextmenu","error","clear","wheel","35450KczwHa","92NNofiZ","707200DRHiJF","keypress","drop","2801817mGfWtX","648olLZKz","touchmove","753ioSvUq","blur","dragover","change","8681icgvlX","6xlerLd","1046927FWHUSi","focus","5288176rkHHHl","2354EgomHW","dblclick"];return Xl=function(){return i},Xl()}function Zl(i,e){var t=Xl();return Zl=function(n,r){n=n-404;var s=t[n];return s},Zl(i,e)}(function(i,e){for(var t=Zl,n=i();;)try{var r=parseInt(t(411))/1*(parseInt(t(423))/2)+-parseInt(t(407))/3*(parseInt(t(405))/4)+parseInt(t(424))/5+parseInt(t(412))/6*(parseInt(t(413))/7)+-parseInt(t(415))/8+-parseInt(t(404))/9+parseInt(t(422))/10*(parseInt(t(416))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Xl,435960);const rt={CHANGE:gi(410),ERROR:gi(419),BLUR:gi(408),CLEAR:gi(420),CONTEXTMENU:gi(418),CLICK:"click",DBLCLICK:gi(417),DRAGENTER:"dragenter",DRAGOVER:gi(409),DROP:gi(426),FOCUS:gi(414),KEYDOWN:"keydown",KEYPRESS:gi(425),LOAD:"load",RESIZE:"resize",TOUCHMOVE:gi(406),WHEEL:gi(421)};function co(i,e){const t=Wl();return co=function(n,r){return n=n-246,t[n]},co(i,e)}(function(i,e){const t=co,n=i();for(;;)try{if(parseInt(t(257))/1+-parseInt(t(249))/2*(parseInt(t(253))/3)+parseInt(t(246))/4*(parseInt(t(252))/5)+parseInt(t(247))/6*(-parseInt(t(261))/7)+-parseInt(t(254))/8+-parseInt(t(259))/9+parseInt(t(260))/10*(parseInt(t(258))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wl,881710);function wt(i,e,t,n,r){const s=co;if(r){const a=t;t=function(){const c=co;i[c(250)](e,t),a[c(255)](n??this,arguments)}}else n&&n!==i&&(t=t.bind(n));const o={target:i,type:e,listener:t};return i[s(248)](e,t),o}function Wl(){const i=["target","1406792uBKRSc","59356ILLFTe","747765QkIvkU","3900hIvQEM","1000594MpmalD","627276Shjftc","66tNtPHX","addEventListener","29732wFduTS","removeEventListener","type","35WUeckW","327hRNHcJ","3611312QkzSHw","apply"];return Wl=function(){return i},Wl()}function $l(i,e,t,n){return wt(i,e,t,n,!0)}function Wt(i){const e=co;i&&i.target&&(i[e(256)][e(250)](i[e(251)],i.listener),rx(i))}const Bn=a0;(function(i,e){const t=a0,n=i();for(;;)try{if(parseInt(t(149))/1*(parseInt(t(157))/2)+-parseInt(t(154))/3*(parseInt(t(131))/4)+parseInt(t(122))/5*(parseInt(t(148))/6)+parseInt(t(123))/7+-parseInt(t(158))/8*(parseInt(t(145))/9)+parseInt(t(141))/10+-parseInt(t(155))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(t1,156635);function a0(i,e){const t=t1();return a0=function(n,r){return n=n-120,t[n]},a0(i,e)}function t1(){const i=["38391OABMmL","2475165yfAcaO","getState","435882NSBJbj","24qBJrvi","complete","getExtent","pixelRatio_","error","isArray","push","changed","ERROR","24370QJlcrz","365862yDgbzd","extent","image","decode","removeEventListener","setImage","IDLE","getImage","4tvJZMv","function","load","state","catch","width","loader","src","dispatchEvent","getPixelRatio","2684810UDduvb","image_","then","Image load error","798273yoMvkb","addEventListener","resolution","150HkjHUj","1rLmydc","finally","LOADING","getResolution","LOADED"];return t1=function(){return i},t1()}let Z2=class extends gx{constructor(e,t,n,r){const s=a0;super(),this[s(124)]=e,this.pixelRatio_=n,this.resolution=t,this[s(134)]=typeof r===s(132)?W[s(129)]:r,this.image_=null,this[s(137)]=typeof r===s(132)?r:null}[Bn(120)](){this[Bn(139)](rt.CHANGE)}[Bn(160)](){return this.extent}[Bn(130)](){return this[Bn(142)]}getPixelRatio(){return this[Bn(161)]}[Bn(152)](){return this[Bn(147)]}[Bn(156)](){return this[Bn(134)]}load(){const e=Bn;if(this[e(134)]==W[e(129)]&&this[e(137)]){this.state=W[e(151)],this[e(120)]();const t=this[e(152)](),n=Array[e(163)](t)?t[0]:t;ao(()=>this[e(137)](this[e(160)](),n,this[e(140)]())).then(r=>{const s=e;s(125)in r&&(this[s(142)]=r[s(125)]),"extent"in r&&(this.extent=r[s(124)]),s(147)in r&&(this.resolution=r.resolution),"pixelRatio"in r&&(this.pixelRatio_=r.pixelRatio),(r instanceof HTMLImageElement||r instanceof ImageBitmap||r instanceof HTMLCanvasElement||r instanceof HTMLVideoElement)&&(this[s(142)]=r),this[s(134)]=W[s(153)]})[e(135)](r=>{const s=e;this[s(134)]=W[s(121)],console[s(162)](r)})[e(150)](()=>this[e(120)]())}}[Bn(128)](e){const t=Bn;this[t(142)]=e}setResolution(e){this.resolution=e}};function Uw(i,e,t){const n=Bn,r=i;let s=!0,o=!1,a=!1;const c=[$l(r,rt.LOAD,function(){a=!0,!o&&e()})];return r[n(138)]&&VE?(o=!0,r[n(126)]()[n(143)](function(){s&&e()})[n(135)](function(x){s&&(a?e():t())})):c[n(164)]($l(r,rt[n(121)],t)),function(){s=!1,c.forEach(Wt)}}function Ow(i,e){return new Promise((t,n)=>{const r=a0;function s(){a(),t(i)}function o(){const c=a0;a(),n(new Error(c(144)))}function a(){const c=a0;i[c(127)](c(133),s),i[c(127)](c(162),o)}i.addEventListener(r(133),s),i[r(146)](r(162),o)})}function zw(i,e){const t=Bn;return e&&(i[t(138)]=e),i[t(138)]&&VE?new Promise((n,r)=>i[t(126)]()[t(143)](()=>n(i))[t(135)](s=>i[t(159)]&&i[t(136)]?n(i):r(s))):Ow(i)}const pi=px;(function(i,e){const t=px,n=i();for(;;)try{if(-parseInt(t(491))/1+parseInt(t(494))/2*(parseInt(t(489))/3)+parseInt(t(503))/4+parseInt(t(492))/5+parseInt(t(512))/6*(parseInt(t(514))/7)+-parseInt(t(500))/8+-parseInt(t(493))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(e1,299367);function px(i,e){const t=e1();return px=function(n,r){return n=n-488,t[n]},px(i,e)}function e1(){const i=["repeat","553855CoJyFc","2365645KYNgVA","3984273WAhUpc","123976lstKJb","expire","load","maxCacheSize_","createPattern","cacheSize_","1678872mjbVPW","clear","setSize","388884zKDcHv","cache_","hasListener","get","ready","patternCache_","getImage","getImageState","null","6bYXXuT","set","2642752sGIrWQ","IDLE","27KxlKLn"];return e1=function(){return i},e1()}class qw{constructor(){const e=px;this.cache_={},this[e(508)]={},this[e(499)]=0,this.maxCacheSize_=32}[pi(501)](){const e=pi;this[e(504)]={},this[e(508)]={},this[e(499)]=0}canExpireCache(){const e=pi;return this[e(499)]>this[e(497)]}[pi(495)](){const e=pi;if(this.canExpireCache()){let t=0;for(const n in this[e(504)]){const r=this.cache_[n];!(t++&3)&&!r[e(505)]()&&(delete this[e(504)][n],delete this.patternCache_[n],--this[e(499)])}}}[pi(506)](e,t,n){const r=W2(e,t,n);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,n){const r=pi,s=W2(e,t,n);return s in this[r(508)]?this[r(508)][s]:null}[pi(513)](e,t,n,r,s){const o=pi,a=W2(e,t,n),c=a in this[o(504)];this[o(504)][a]=r,s&&(r[o(510)]()===W[o(488)]&&r[o(496)](),r.getImageState()===W.LOADING?r[o(507)]().then(()=>{const x=o;this[x(508)][a]=Pl()[x(498)](r[x(509)](1),x(490))}):this.patternCache_[a]=Pl().createPattern(r[o(509)](1),o(490))),!c&&++this[o(499)]}[pi(502)](e){const t=pi;this[t(497)]=e,this[t(495)]()}}function W2(i,e,t){const n=pi,r=t?ux(t):n(511);return e+":"+i+":"+r}const Xi=new qw,ae=Ix;function Ix(i,e){const t=n1();return Ix=function(n,r){return n=n-223,t[n]},Ix(i,e)}(function(i,e){const t=Ix,n=i();for(;;)try{if(parseInt(t(244))/1*(-parseInt(t(229))/2)+-parseInt(t(250))/3*(-parseInt(t(249))/4)+parseInt(t(242))/5+parseInt(t(269))/6+-parseInt(t(243))/7+-parseInt(t(248))/8+-parseInt(t(266))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(n1,607478);function n1(){const i=["src_","canvas_","crossOrigin_","isTainted_","IDLE","3405231mdhwvz","getImageData","replaceColor_","4125090JhIuoe","LOADING","scale","height","ceil","width","then","crossOrigin","fillRect","getSize","handleImageLoad_","handleImageError_","initializeImage_","bind","fillStyle","globalCompositeOperation","dispatchChangeEvent_","drawImage","906862jpBIgt","size_","ready_","imageState_","color_","canvas","getSrc","multiply","tainted_","image_","load","getPixelRatio","createElement","5040105cwBqqK","3506265nLCxOY","1EiJXky","LOADED","addEventListener","hitDetectionImage_","5839600LDjCeh","1956SEGScz","5979XWXNud","getImage","src","CHANGE","getHitDetectionImage","getContext","set","ERROR","removeEventListener","catch","destination-in"];return n1=function(){return i},n1()}let _x=null;class ZE extends gx{constructor(e,t,n,r,s){const o=Ix;super(),this.hitDetectionImage_=null,this[o(238)]=e,this[o(263)]=n,this[o(262)]={},this[o(233)]=s,this[o(232)]=r===void 0?W.IDLE:r,this.size_=e&&e.width&&e[o(272)]?[e.width,e[o(272)]]:null,this[o(261)]=t,this.tainted_,this[o(231)]=null}[ae(223)](){const e=ae;this.image_=new Image,this[e(263)]!==null&&(this.image_[e(276)]=this[e(263)])}[ae(264)](){const e=ae;if(this[e(237)]===void 0&&this[e(232)]===W[e(245)]){!_x&&(_x=fe(1,1,void 0,{willReadFrequently:!0})),_x[e(228)](this[e(238)],0,0);try{_x[e(267)](0,0,1,1),this[e(237)]=!1}catch{_x=null,this[e(237)]=!0}}return this[e(237)]===!0}[ae(227)](){this.dispatchEvent(rt.CHANGE)}handleImageError_(){const e=ae;this[e(232)]=W[e(257)],this[e(227)]()}[ae(279)](){const e=ae;this[e(232)]=W[e(245)],this[e(230)]=[this[e(238)][e(274)],this[e(238)][e(272)]],this[e(227)]()}[ae(251)](e){const t=ae;return!this.image_&&this[t(223)](),this[t(268)](e),this[t(262)][e]?this[t(262)][e]:this[t(238)]}[ae(240)](e){const t=ae;return this[t(268)](e),this[t(262)][e]?e:1}getImageState(){return this[ae(232)]}[ae(254)](){const e=ae;if(!this[e(238)]&&this.initializeImage_(),!this[e(247)])if(this[e(264)]()){const t=this[e(230)][0],n=this.size_[1],r=fe(t,n);r[e(277)](0,0,t,n),this[e(247)]=r[e(234)]}else this[e(247)]=this[e(238)];return this[e(247)]}[ae(278)](){return this[ae(230)]}[ae(235)](){return this[ae(261)]}[ae(239)](){const e=ae;if(this.imageState_===W[e(265)]){!this[e(238)]&&this[e(223)](),this[e(232)]=W[e(270)];try{this[e(261)]!==void 0&&(this.image_.src=this[e(261)])}catch{this[e(280)]()}this[e(238)]instanceof HTMLImageElement&&zw(this[e(238)],this[e(261)])[e(275)](t=>{const n=e;this[n(238)]=t,this[n(279)]()})[e(259)](this[e(280)][e(224)](this))}}[ae(268)](e){const t=ae;if(!this.color_||this[t(262)][e]||this[t(232)]!==W[t(245)])return;const n=this[t(238)],r=document[t(241)]("canvas");r[t(274)]=Math[t(273)](n[t(274)]*e),r[t(272)]=Math[t(273)](n[t(272)]*e);const s=r[t(255)]("2d");s[t(271)](e,e),s[t(228)](n,0,0),s[t(226)]=t(236),s[t(225)]=Br(this[t(233)]),s.fillRect(0,0,r.width/e,r[t(272)]/e),s[t(226)]=t(260),s.drawImage(n,0,0),this.canvas_[e]=r}ready(){const e=ae;return!this.ready_&&(this[e(231)]=new Promise(t=>{const n=e;if(this[n(232)]===W[n(245)]||this.imageState_===W[n(257)])t();else{const r=()=>{const s=n;(this[s(232)]===W.LOADED||this.imageState_===W[s(257)])&&(this[s(258)](rt[s(253)],r),t())};this[n(246)](rt[n(253)],r)}})),this[e(231)]}}function $2(i,e,t,n,r,s){const o=ae;let a=e===void 0?void 0:Xi.get(e,t,r);return!a&&(a=new ZE(i,i&&o(252)in i?i[o(252)]||void 0:e,t,n,r),Xi[o(256)](e,t,r,a,s)),s&&a&&!Xi.getPattern(e,t,r)&&Xi.set(e,t,r,a,s),a}(function(i,e){const t=mx,n=i();for(;;)try{if(parseInt(t(452))/1+parseInt(t(454))/2+parseInt(t(459))/3+parseInt(t(456))/4+parseInt(t(453))/5+-parseInt(t(451))/6*(parseInt(t(466))/7)+parseInt(t(470))/8*(-parseInt(t(457))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(i1,781491);function i1(){const i=["anonymous","931MArSJc","drawImage","color","getImageState","16AfkBFR","10752zZrDis","698729ftOgZD","5493065clbQLQ","299592xhRiRT","getImage","1951484BTyeOr","9224199GQqikF","getPattern","1903920ReKcse","offset","LOADED","canvas","size","src"];return i1=function(){return i},i1()}function mx(i,e){const t=i1();return mx=function(n,r){return n=n-451,t[n]},mx(i,e)}function Zi(i){const e=mx;return i?Array.isArray(i)?J2(i):typeof i=="object"&&e(464)in i?Yw(i):i:null}function Yw(i){const e=mx;if(!i.offset||!i[e(463)])return Xi[e(458)](i[e(464)],e(465),i.color);const t=i[e(464)]+":"+i[e(460)],n=Xi[e(458)](t,void 0,i[e(468)]);if(n)return n;const r=Xi.get(i[e(464)],e(465),null);if(r[e(469)]()!==W[e(461)])return null;const s=fe(i[e(463)][0],i.size[1]);return s[e(467)](r[e(455)](1),i[e(460)][0],i[e(460)][1],i.size[0],i[e(463)][1],0,0,i.size[0],i.size[1]),$2(s[e(462)],t,void 0,W[e(461)],i[e(468)],!0),Xi[e(458)](t,void 0,i.color)}function r1(){var i=["378ZkHCIM","3LXlwxH","70762kpzCST","2964114MrgZtE","3979382sByXAx","14376ULvRrI","1573302ZRHscj","10FjOcgD","28604ToSBAY","290992oirIaR","propertychange","50fRmhql"];return r1=function(){return i},r1()}var Hw=s1;(function(i,e){for(var t=s1,n=i();;)try{var r=-parseInt(t(346))/1+-parseInt(t(351))/2*(-parseInt(t(350))/3)+parseInt(t(345))/4*(-parseInt(t(348))/5)+-parseInt(t(343))/6+parseInt(t(349))/7*(parseInt(t(354))/8)+parseInt(t(352))/9+-parseInt(t(344))/10*(-parseInt(t(353))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(r1,198808);function s1(i,e){var t=r1();return s1=function(n,r){n=n-343;var s=t[n];return s},s1(i,e)}const Ao={PROPERTYCHANGE:Hw(347)},Ii=Ex;function Ex(i,e){const t=o1();return Ex=function(n,r){return n=n-393,t[n]},Ex(i,e)}(function(i,e){const t=Ex,n=i();for(;;)try{if(-parseInt(t(402))/1+parseInt(t(411))/2+parseInt(t(403))/3+parseInt(t(394))/4*(-parseInt(t(406))/5)+parseInt(t(412))/6*(-parseInt(t(399))/7)+parseInt(t(400))/8+parseInt(t(404))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(o1,532289);let yx=class extends gx{constructor(){const e=Ex;super(),this.on=this.onInternal,this.once=this[e(410)],this.un=this[e(405)],this[e(401)]=0}[Ii(393)](){const e=Ii;++this[e(401)],this.dispatchEvent(rt.CHANGE)}getRevision(){return this[Ii(401)]}[Ii(408)](e,t){const n=Ii;if(Array[n(407)](e)){const r=e[n(398)],s=new Array(r);for(let o=0;o<r;++o)s[o]=wt(this,e[o],t);return s}return wt(this,e,t)}[Ii(410)](e,t){const n=Ii;let r;if(Array[n(407)](e)){const s=e[n(398)];r=new Array(s);for(let o=0;o<s;++o)r[o]=$l(this,e[o],t)}else r=$l(this,e,t);return t[n(397)]=r,r}unInternal(e,t){const n=Ii,r=t[n(397)];if(r)jw(r);else if(Array[n(407)](e))for(let s=0,o=e[n(398)];s<o;++s)this.removeEventListener(e[s],t);else this[n(396)](e,t)}};yx[Ii(395)].on,yx[Ii(395)][Ii(409)],yx.prototype.un;function jw(i){const e=Ii;if(Array[e(407)](i))for(let t=0,n=i[e(398)];t<n;++t)Wt(i[t]);else Wt(i)}function o1(){const i=["5mnZVkb","isArray","onInternal","once","onceInternal","106536oFsrps","6chyDUl","changed","696716xEFeUa","prototype","removeEventListener","ol_key","length","501718bxJFan","1150360wRuySx","revision_","925379TMGSJn","1962240iPEqZe","7671402jvANnu","unInternal"];return o1=function(){return i},o1()}const ke=lo;(function(i,e){const t=lo,n=i();for(;;)try{if(-parseInt(t(347))/1*(parseInt(t(328))/2)+-parseInt(t(321))/3*(-parseInt(t(326))/4)+parseInt(t(335))/5*(parseInt(t(343))/6)+parseInt(t(342))/7*(-parseInt(t(336))/8)+parseInt(t(340))/9+parseInt(t(316))/10*(-parseInt(t(334))/11)+parseInt(t(329))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(a1,423154);function a1(){const i=["PROPERTYCHANGE","assign","applyProperties","4145364epdZaM","set","28mRGuZu","254856Smtlai","get","notify","keys","86vemmqt","key","setProperties","addEventListener","once","483440dnSozh","removeChangeListener","oldValue","dispatchEvent","addChangeListener","18114rsivJx","hasListener","removeEventListener","unset","values_","100KPOrRL","change:","10334ckOIBO","6563208ozqGcE","getProperties","hasProperties","hasOwnProperty","getPropertiesInternal","187nsOiJL","95wIHVUp","552320KUzBuu"];return a1=function(){return i},a1()}function lo(i,e){const t=a1();return lo=function(n,r){return n=n-316,t[n]},lo(i,e)}let WE=class extends di{constructor(e,t,n){const r=lo;super(e),this[r(348)]=t,this[r(318)]=n}},Wi=class extends yx{constructor(e){const t=lo;super(),this.on,this[t(351)],this.un,ct(this),this[t(325)]=null,e!==void 0&&this[t(349)](e)}[ke(344)](e){const t=ke;let n;return this.values_&&this.values_[t(332)](e)&&(n=this[t(325)][e]),n}getKeys(){const e=ke;return this.values_&&Object[e(346)](this[e(325)])||[]}[ke(330)](){const e=ke;return this[e(325)]&&Object[e(338)]({},this[e(325)])||{}}[ke(333)](){return this[ke(325)]}[ke(331)](){return!!this[ke(325)]}notify(e,t){const n=ke;let r;r=n(327)+e,this.hasListener(r)&&this[n(319)](new WE(r,e,t)),r=Ao[n(337)],this[n(322)](r)&&this.dispatchEvent(new WE(r,e,t))}[ke(320)](e,t){const n=ke;this[n(350)](n(327)+e,t)}[ke(317)](e,t){const n=ke;this[n(323)](n(327)+e,t)}[ke(341)](e,t,n){const r=ke,s=this.values_||(this[r(325)]={});if(n)s[e]=t;else{const o=s[e];s[e]=t,o!==t&&this[r(345)](e,o)}}setProperties(e,t){const n=ke;for(const r in e)this[n(341)](r,e[r],t)}[ke(339)](e){const t=ke;e[t(325)]&&Object.assign(this[t(325)]||(this[t(325)]={}),e[t(325)])}[ke(324)](e,t){const n=ke;if(this[n(325)]&&e in this[n(325)]){const r=this.values_[e];delete this[n(325)][e],$r(this[n(325)])&&(this[n(325)]=null),!t&&this[n(345)](e,r)}}};const Ve=x1;function x1(i,e){const t=A1();return x1=function(n,r){return n=n-234,t[n]},x1(i,e)}(function(i,e){const t=x1,n=i();for(;;)try{if(parseInt(t(248))/1+parseInt(t(243))/2+parseInt(t(260))/3+parseInt(t(258))/4*(parseInt(t(254))/5)+-parseInt(t(237))/6+parseInt(t(244))/7+-parseInt(t(236))/8*(parseInt(t(246))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(A1,260623);const c1=Ve(245);function A1(){const i=["2212728kxOKhV","lineHeight","ol-unsupported","1.2em","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","64728vANeZT","2941932nENQPK","ol-hidden","1917AHgKlY","^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","370442lvMqcy","style",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`,"match","ol-unselectable","join","40dDnMZi","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","weight","ol-collapsed","189308FHuWFW","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","1344588RJbNLp","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","family","ol-control","normal","38328TGiPNb"];return A1=function(){return i},A1()}const l1=Ve(252);Ve(239);const tp=Ve(234),$E=Ve(257),Vw=new RegExp([Ve(247),Ve(242),Ve(241),Ve(255),Ve(261),Ve(259),Ve(250)][Ve(253)](""),"i"),ty=[Ve(249),"variant",Ve(256),"size",Ve(238),Ve(262)],ey=function(i){const e=Ve,t=i[e(251)](Vw);if(!t)return null;const n={lineHeight:e(235),size:e(240),style:e(235),weight:"normal",variant:"normal"};for(let r=0,s=ty.length;r<s;++r){const o=t[r+1];o!==void 0&&(n[ty[r]]=o)}return n.families=n[e(262)].split(/,\s?/),n},_i=Cx;(function(i,e){const t=Cx,n=i();for(;;)try{if(parseInt(t(168))/1+-parseInt(t(197))/2+-parseInt(t(175))/3+-parseInt(t(152))/4*(-parseInt(t(188))/5)+parseInt(t(199))/6+-parseInt(t(154))/7*(-parseInt(t(191))/8)+parseInt(t(158))/9*(-parseInt(t(166))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(f1,345253);function Cx(i,e){const t=f1();return Cx=function(n,r){return n=n-152,t[n]},Cx(i,e)}const ny=_i(170),Gn=_i(155),uo="round",wr=[],Qr=0,ho="round",bx=10,Bx=_i(155),wx=_i(194),u1=_i(192),es=[0,0,0,0],Qx=1,$i=new Wi;let fo=null,ep;const np={},iy=function(){const i=_i,e=100,t=i(165),n=[i(176),i(180)],r=n[i(182)],s=i(203);let o,a;function c(A,l,u){let h=!0;for(let f=0;f<r;++f){const g=n[f];if(a=h1(A+" "+l+" "+t+g,s),u!=g){const d=h1(A+" "+l+" "+t+u+","+g,s);h=h&&d!=a}}return!!h}function x(){const A=i;let l=!0;const u=$i.getKeys();for(let h=0,f=u.length;h<f;++h){const g=u[h];if($i[A(171)](g)<e){const[d,p,I]=g[A(184)](`
`);c(d,p,I)?(rx(np),fo=null,ep=void 0,$i.set(g,e)):($i[A(173)](g,$i.get(g)+1,!0),l=!1)}}l&&(clearInterval(o),o=void 0)}return function(A){const l=i,u=ey(A);if(!u)return;const h=u[l(187)];for(let f=0,g=h[l(182)];f<g;++f){const d=h[f],p=u[l(200)]+`
`+u.weight+`
`+d;$i.get(p)===void 0&&($i[l(173)](p,e,!0),!c(u[l(200)],u[l(193)],d)&&($i.set(p,0,!0),o===void 0&&(o=setInterval(x,32))))}}}(),Jw=function(){let i;return function(e){const t=Cx;let n=np[e];if(n==null){if(jE){const r=ey(e),s=ry(e,"Žg");n=(isNaN(Number(r[t(181)]))?1.2:Number(r.lineHeight))*(s.actualBoundingBoxAscent+s[t(161)])}else!i&&(i=document[t(163)](t(201)),i.innerHTML="M",i[t(200)].minHeight="0",i[t(200)].maxHeight="none",i.style.height=t(183),i[t(200)].padding="0",i[t(200)][t(196)]=t(177),i[t(200)][t(174)]=t(185),i[t(200)][t(172)]=t(156),i.style[t(167)]=t(178)),i[t(200)][t(179)]=e,document[t(164)].appendChild(i),n=i[t(204)],document[t(164)][t(202)](i);np[e]=n}return n}}();function ry(i,e){const t=_i;return!fo&&(fo=fe(1,1)),i!=ep&&(fo[t(179)]=i,ep=fo.font),fo[t(189)](e)}function h1(i,e){const t=_i;return ry(i,e)[t(198)]}function sy(i,e,t){const n=_i;if(e in t)return t[e];const r=e.split(`
`)[n(159)]((s,o)=>Math[n(162)](s,h1(i,o)),0);return t[e]=r,r}function Kw(i,e){const t=_i,n=[],r=[],s=[];let o=0,a=0,c=0,x=0;for(let A=0,l=e[t(182)];A<=l;A+=2){const u=e[A];if(u===`
`||A===l){o=Math[t(162)](o,a),s[t(206)](a),a=0,c+=x,x=0;continue}const h=e[A+1]||i.font,f=h1(h,u);n[t(206)](f),a+=f;const g=Jw(h);r.push(g),x=Math[t(162)](x,g)}return{width:o,height:c,widths:n,heights:r,lineWidths:s}}function Xw(i,e,t,n,r,s,o,a,c,x,A){const l=_i;i[l(160)](),t!==1&&(i[l(186)]===void 0?i[l(186)]=u=>u[l(186)]*=t:i[l(186)]*=t),e&&i.transform[l(205)](i,e),n[l(153)]?(i.translate(c,x),i[l(169)](A[0],A[1]),Zw(n,i)):A[0]<0||A[1]<0?(i[l(190)](c,x),i[l(169)](A[0],A[1]),i[l(195)](n,r,s,o,a,0,0,o,a)):i[l(195)](n,r,s,o,a,c,x,o*A[0],a*A[1]),i.restore()}function Zw(i,e){const t=_i,n=i[t(153)];for(let r=0,s=n[t(182)];r<s;r+=2)Array[t(207)](n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}function f1(){const i=["save","actualBoundingBoxDescent","max","createElement","body","32px ","80EHqOln","left","389108ohayoh","scale","10px sans-serif","get","display","set","position","552528MhMDjE","monospace","none","-99999px","font","serif","lineHeight","length","auto","split","absolute","globalAlpha","families","262205soqSpX","measureText","translate","32JOqLmO","middle","weight","center","drawImage","border","198478zLiGUn","width","1130322pQUWUB","style","div","removeChild","wmytzilWMYTZIL@#/&?$%10","offsetHeight","apply","push","isArray","4fnJtpu","contextInstructions","530327fevpzV","#000","block","rotate","342351uYdYHZ","reduce"];return f1=function(){return i},f1()}const It=vx;(function(i,e){const t=vx,n=i();for(;;)try{if(parseInt(t(528))/1*(parseInt(t(563))/2)+parseInt(t(554))/3*(-parseInt(t(510))/4)+parseInt(t(485))/5+parseInt(t(551))/6*(parseInt(t(496))/7)+-parseInt(t(507))/8*(-parseInt(t(509))/9)+-parseInt(t(517))/10+-parseInt(t(483))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(d1,275417);function vx(i,e){const t=d1();return vx=function(n,r){return n=n-476,t[n]},vx(i,e)}function d1(){const i=["getColor","renderOptions_","getHitDetectionImage","getRotation","lineDashOffset","fill","displacement","arc","fillStyle","size","getSize","strokeWidth","ceil","9430696xzmfDo","getDeclutterMode","1314085orLJyg","getFill","getAngle","createRenderOptions","length","unlistenImageChange","getStroke","load","clone","LOADED","miterLimit","7rgywZM","getImage","createHitDetectionCanvas_","drawHitDetectionCanvas_","createPath_","draw_","render","angle","canvases_","lineCap","lineTo","216EREVeH","resolve","167094AcXBLF","330796WfyLXi","rotation","radius2","stroke_","sin","imageState_","getMiterLimit","2332450DFuUSf","lineWidth","size_","rotateWithView","declutterMode","setStroke","ready","setOpacity","calculateLineJoinSize_","getLineJoin","getLineDash","5GoFTlx","max","strokeStyle","stroke","string","angle_","miter","getOpacity","LOADING","origin_","getImageSize","then","isArray","getPoints","radius2_","canvas","fill_","radius","getRadius2","getRotateWithView","lineDash","setLineDash","translate","3111738dFoDyj","getScaleArray","getRadius","3bnAJUz","lineJoin","sqrt","getLineDashOffset","getDisplacement","getPixelRatio","points","hitDetectionCanvas_","getWidth","66390yjRqLM","slice","scale","points_"];return d1=function(){return i},d1()}class go extends cx{constructor(e){const t=vx;super({opacity:1,rotateWithView:e[t(520)]!==void 0?e[t(520)]:!1,rotation:e[t(511)]!==void 0?e[t(511)]:0,scale:e[t(565)]!==void 0?e.scale:1,displacement:e[t(476)]!==void 0?e.displacement:[0,0],declutterMode:e[t(521)]}),this[t(504)],this[t(561)]=null,this[t(544)]=e[t(572)]!==void 0?e.fill:null,this[t(537)]=[0,0],this[t(566)]=e[t(560)],this[t(545)]=e[t(545)],this[t(542)]=e[t(512)],this[t(533)]=e[t(503)]!==void 0?e[t(503)]:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this[t(519)],this[t(568)],this[t(515)]=this[t(544)]&&this.fill_.loading()?W[t(536)]:W.LOADED,this.imageState_===W[t(536)]&&this[t(523)]()[t(539)](()=>this.imageState_=W[t(494)]),this[t(502)]()}[It(493)](){const e=It,t=this.getScale(),n=new go({fill:this[e(486)]()?this[e(486)]()[e(493)]():void 0,points:this[e(541)](),radius:this[e(553)](),radius2:this[e(546)](),angle:this[e(487)](),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this[e(570)](),rotateWithView:this[e(547)](),scale:Array.isArray(t)?t[e(564)]():t,displacement:this[e(558)]().slice(),declutterMode:this[e(484)]()});return n[e(524)](this[e(535)]()),n}getAnchor(){const e=It,t=this[e(519)],n=this[e(558)](),r=this[e(552)]();return[t[0]/2-n[0]/r[0],t[1]/2+n[1]/r[1]]}getAngle(){return this[It(533)]}[It(486)](){return this[It(544)]}setFill(e){const t=It;this.fill_=e,this[t(502)]()}[It(569)](){const e=It;return!this[e(561)]&&(this[e(561)]=this[e(498)](this.renderOptions_)),this[e(561)]}[It(497)](e){const t=It;let n=this[t(504)][e];if(!n){const r=this[t(568)],s=fe(r.size*e,r.size*e);this[t(501)](r,s,e),n=s[t(543)],this[t(504)][e]=n}return n}[It(559)](e){return e}[It(538)](){return this[It(519)]}getImageState(){return this[It(515)]}getOrigin(){return this[It(537)]}[It(541)](){return this.points_}getRadius(){return this.radius}[It(546)](){return this[It(542)]}[It(480)](){return this.size_}[It(491)](){return this[It(513)]}[It(522)](e){const t=It;this[t(513)]=e,this[t(502)]()}listenImageChange(e){}[It(492)](){}[It(490)](e){}[It(525)](e,t,n){const r=It;if(t===0||this[r(566)]===1/0||e!=="bevel"&&e!==r(534))return t;let s=this[r(545)],o=this.radius2_===void 0?s:this[r(542)];if(s<o){const C=s;s=o,o=C}const a=this[r(542)]===void 0?this[r(566)]:this.points_*2,c=2*Math.PI/a,x=o*Math.sin(c),A=Math[r(556)](o*o-x*x),l=s-A,u=Math[r(556)](x*x+l*l),h=u/x;if(e===r(534)&&h<=n)return h*t;const f=t/2/h,g=t/2*(l/u),d=Math[r(556)]((s+f)*(s+f)+g*g),p=d-s;if(this[r(542)]===void 0||e==="bevel")return p*2;const I=s*Math[r(514)](c),_=Math.sqrt(s*s-I*I),m=o-_,y=Math[r(556)](I*I+m*m),E=y/I;if(E<=n){const C=E*t/2-o-s;return 2*Math[r(529)](p,C)}return p*2}[It(488)](){const e=It;let t=uo,n=ho,r=0,s=null,o=0,a,c=0;this[e(513)]&&(a=Zi(this[e(513)][e(567)]()??Bx),c=this.stroke_[e(562)]()??Qx,s=this[e(513)][e(527)](),o=this.stroke_[e(557)]()??0,n=this[e(513)][e(526)]()??ho,t=this[e(513)].getLineCap()??uo,r=this[e(513)][e(516)]()??bx);const x=this[e(525)](n,c,r),A=Math.max(this.radius,this[e(542)]||0),l=Math[e(482)](2*A+x);return{strokeStyle:a,strokeWidth:c,size:l,lineCap:t,lineDash:s,lineDashOffset:o,lineJoin:n,miterLimit:r}}[It(502)](){const e=It;this[e(568)]=this[e(488)]();const t=this[e(568)][e(479)];this[e(504)]={},this[e(561)]=null,this[e(519)]=[t,t]}draw_(e,t,n){const r=It;if(t[r(565)](n,n),t[r(550)](e[r(479)]/2,e[r(479)]/2),this.createPath_(t),this[r(544)]){let s=this[r(544)].getColor();s===null&&(s=Gn),t[r(478)]=Zi(s),t.fill()}e.strokeStyle&&(t[r(530)]=e.strokeStyle,t.lineWidth=e.strokeWidth,e[r(548)]&&(t[r(549)](e.lineDash),t.lineDashOffset=e[r(571)]),t[r(505)]=e[r(505)],t[r(555)]=e[r(555)],t.miterLimit=e[r(495)],t[r(531)]())}createHitDetectionCanvas_(e){const t=It;let n;if(this[t(544)]){let r=this[t(544)].getColor(),s=0;typeof r===t(532)&&(r=ux(r)),r===null?s=1:Array[t(540)](r)&&(s=r[t(489)]===4?r[3]:1),s===0&&(n=fe(e[t(479)],e[t(479)]),this[t(499)](e,n))}return n?n[t(543)]:this.getImage(1)}[It(500)](e){const t=It;let n=this[t(566)];const r=this[t(545)];if(n===1/0)e[t(477)](0,0,r,0,2*Math.PI);else{const s=this.radius2_===void 0?r:this[t(542)];this[t(542)]!==void 0&&(n*=2);const o=this[t(533)]-Math.PI/2,a=2*Math.PI/n;for(let c=0;c<n;c++){const x=o+c*a,A=c%2===0?r:s;e[t(506)](A*Math.cos(x),A*Math[t(514)](x))}e.closePath()}}drawHitDetectionCanvas_(e,t){const n=It;t[n(550)](e.size/2,e[n(479)]/2),this[n(500)](t),t[n(478)]=Gn,t[n(572)](),e.strokeStyle&&(t.strokeStyle=e[n(530)],t[n(518)]=e[n(481)],e[n(548)]&&(t.setLineDash(e[n(548)]),t[n(571)]=e[n(571)]),t[n(555)]=e[n(555)],t[n(495)]=e[n(495)],t[n(531)]())}[It(523)](){const e=It;return this[e(544)]?this[e(544)][e(523)]():Promise[e(508)]()}}var tr=class extends go{constructor(e){e=e||{};var t=0;e.stroke&&(t=e.stroke.getWidth()),e.displacement||(e.displacement=[e.offsetX||0,-e.offsetY||0]),super({radius:e.radius,fill:e.fill,rotation:e.rotation,displacement:e.displacement,rotateWithView:e.rotateWithView,declutterMode:e.declutterMode}),typeof e.opacity=="number"&&this.setOpacity(e.opacity),this._color=e.color,this._fontSize=e.fontSize||1,this._fontStyle=e.fontStyle||"",this._stroke=e.stroke,this._fill=e.fill,this._radius=e.radius-t,this._form=e.form||"none",this._gradient=e.gradient,this._offset=[e.offsetX?e.offsetX:0,e.offsetY?e.offsetY:0],e.glyph?this._glyph=this.getGlyph(e.glyph):this._glyph=this.getTextGlyph(e.text||"",e.font),this.getDisplacement||this.getImage()}static addDefs(e,t){var n=e;if(typeof e=="string"&&(n={font:e,name:e,copyright:""}),!(!n.font||typeof n.font!="string")){var r=n.font;tr.defs.fonts[r]=n;for(var s in t){var o=t[s];typeof o=="string"&&(o.length==1||o.length==2)&&(o={char:o}),tr.defs.glyphs[s]={font:n.font,char:o.char||""+String.fromCharCode(o.code)||"",theme:o.theme||n.name,name:o.name||s,search:o.search||""}}}}clone(){var e=new tr({text:this._glyph.char,font:this._glyph.font,color:this._color,fontSize:this._fontSize,fontStyle:this._fontStyle,stroke:this._stroke,fill:this._fill,radius:this._radius+(this._stroke?this._stroke.getWidth():0),form:this._form,gradient:this._gradient,offsetX:this._offset[0],offsetY:this._offset[1],opacity:this.getOpacity(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),declutterMode:this.getDeclutterMode?this.getDeclutterMode():null});return e.setScale(this.getScale()),e}getFill(){return this._fill}getStroke(){return this._stroke}getGlyph(e){return e?tr.defs.glyphs[e]||{font:"sans-serif",char:e.charAt(0),theme:"none",name:"none",search:""}:this._glyph}getTextGlyph(e,t){return{font:t||"sans-serif",char:String(e),theme:"none",name:"none",search:""}}getGlyphName(){for(var e in tr.defs.glyphs)if(tr.defs.glyphs[e]===this._glyph)return e;return""}getFontInfo(e){return tr.defs.fonts[e.font]}getImage(e){e=e||1;var t=super.getImage(e),n,r=0;this._stroke&&(n=Br(this._stroke.getColor()),r=this._stroke.getWidth());var s={strokeStyle:n,strokeWidth:r,size:t.width/e},o=t.getContext("2d");if(o.clearRect(0,0,t.width,t.height),this.drawMarker_(s,o,0,0,e),!this.getDisplacement){var a=this.getAnchor();a[0]=t.width/2-this._offset[0],a[1]=t.width/2-this._offset[1]}return t}drawPath_(e,t){var n=2*this._radius+e.strokeWidth,r=e.strokeWidth/2,s=e.size/2,o={fac:1,posX:e.size/2,posY:e.size/2};switch(t.lineJoin="round",t.lineCap="round",t.beginPath(),this._form){case"none":{o.fac=1;break}case"circle":case"ban":{t.arc(s,s,n/2,0,2*Math.PI,!0);break}case"poi":{t.arc(s,s-.4*this._radius,.6*this._radius,.15*Math.PI,.85*Math.PI,!0),t.lineTo(s-.89*.05*n,(.95+.45*.05)*n+r),t.arc(s,.95*n+r,.05*n,.85*Math.PI,.15*Math.PI,!0),o={fac:.45,posX:s,posY:s-.35*this._radius};break}case"bubble":{t.arc(s,s-.2*this._radius,.8*this._radius,.4*Math.PI,.6*Math.PI,!0),t.lineTo(.5*n+r,n+r),o={fac:.7,posX:s,posY:s-.2*this._radius};break}case"marker":{t.arc(s,s-.2*this._radius,.8*this._radius,.25*Math.PI,.75*Math.PI,!0),t.lineTo(.5*n+r,n+r),o={fac:.7,posX:s,posY:s-.2*this._radius};break}case"coma":{t.moveTo(s+.8*this._radius,s-.2*this._radius),t.quadraticCurveTo(.95*n+r,.75*n+r,.5*n+r,n+r),t.arc(s,s-.2*this._radius,.8*this._radius,.45*Math.PI,0,!1),o={fac:.7,posX:s,posY:s-.2*this._radius};break}default:{var a;switch(this._form){case"shield":{a=[.05,0,.95,0,.95,.8,.5,1,.05,.8,.05,0],o.posY=.45*n+r;break}case"blazon":{a=[.1,0,.9,0,.9,.8,.6,.8,.5,1,.4,.8,.1,.8,.1,0],o.fac=.8,o.posY=.4*n+r;break}case"bookmark":{a=[.05,0,.95,0,.95,1,.5,.8,.05,1,.05,0],o.fac=.9,o.posY=.4*n+r;break}case"hexagon":{a=[.05,.2,.5,0,.95,.2,.95,.8,.5,1,.05,.8,.05,.2],o.fac=.9,o.posY=.5*n+r;break}case"diamond":{a=[.25,0,.75,0,1,.2,1,.4,.5,1,0,.4,0,.2,.25,0],o.fac=.75,o.posY=.35*n+r;break}case"triangle":{a=[0,0,1,0,.5,1,0,0],o.fac=.6,o.posY=.3*n+r;break}case"sign":{a=[.5,.05,1,.95,0,.95,.5,.05],o.fac=.7,o.posY=.65*n+r;break}case"lozenge":{a=[.5,0,1,.5,.5,1,0,.5,.5,0],o.fac=.7;break}case"square":default:{a=[0,0,1,0,1,1,0,1,0,0];break}}for(var c=0;c<a.length;c+=2)t.lineTo(a[c]*n+r,a[c+1]*n+r)}}return t.closePath(),o}drawMarker_(e,t,n,r,s){var o=this._fill?this._fill.getColor():"#000",a=this._stroke?this._stroke.getColor():"#000";this._form=="none"&&this._stroke&&this._fill&&(a=this._fill.getColor(),o=this._stroke.getColor()),t.setTransform(s,0,0,s,0,0),t.translate(n,r);var c=this.drawPath_(e,t,s);if(this._fill){if(this._gradient&&this._form!="none"){var x=t.createLinearGradient(0,0,e.size/2,e.size);x.addColorStop(1,Br(o)),x.addColorStop(0,Br(a)),t.fillStyle=x}else t.fillStyle=Br(o);t.fill()}if(this._stroke&&e.strokeWidth&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.stroke()),this._glyph.char){t.font=this._fontStyle+" "+2*c.fac*this._radius*this._fontSize+"px "+this._glyph.font,t.strokeStyle=t.fillStyle,t.lineWidth=e.strokeWidth*(this._form=="none"?2:1),t.fillStyle=Br(this._color||a),t.textAlign="center",t.textBaseline="middle";var A=this._glyph.char;e.strokeWidth&&a!="transparent"&&t.strokeText(A,c.posX,c.posY),t.fillText(A,c.posX,c.posY)}if(this._form=="ban"&&this._stroke&&e.strokeWidth){t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth;var l=this._radius+e.strokeWidth,u=this._radius*Math.cos(Math.PI/4);t.moveTo(l+u,l-u),t.lineTo(l-u,l+u),t.stroke()}}getChecksum(){var e=this._stroke!==null?this._stroke.getChecksum():"-",t=this._fill!==null?this._fill.getChecksum():"-",n=this.checksums_===null||e!=this.checksums_[1]||t!=this.checksums_[2]||this._radius!=this.checksums_[3]||this._form+"-"+this.glyphs_!=this.checksums_[4];if(n){var r="c"+e+t+(this._radius!==void 0?this._radius.toString():"-")+this._form+"-"+this.glyphs_;this.checksums_=[r,e,t,this._radius,this._form+"-"+this.glyphs_]}return this.checksums_[0]}};tr.defs={fonts:{},glyphs:{}};function Ww(){const i=Bw;let e={},t=i.font_family,n=i.css_prefix_text,r=i.glyphs;for(let o=0;o<r.length;o++){let a=r[o];e[n+a.font_class]={font:t,code:a.unicode_decimal,name:a.name,search:n+a.font_class}}let s={font:{font:t,copyright:""},glyphs:e};return tr.addDefs(s.font,s.glyphs),s}const ns=Rx;(function(i,e){const t=Rx,n=i();for(;;)try{if(-parseInt(t(182))/1+-parseInt(t(173))/2*(-parseInt(t(184))/3)+parseInt(t(181))/4+parseInt(t(174))/5*(parseInt(t(169))/6)+-parseInt(t(179))/7+parseInt(t(178))/8+-parseInt(t(183))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(g1,817576);function g1(){const i=["load","LOADED","error_","6HkIyoA","8935nuxJtR","changed","IDLE","bind","6460400vwVYWR","7800800EzYgRj","loader_","5060084RmSXlE","395557kuGyrY","4247937ajFQfX","675132VPhfIr","canvas_","getError","getImage","handleLoad_","174AmXdIT"];return g1=function(){return i},g1()}function Rx(i,e){const t=g1();return Rx=function(n,r){return n=n-165,t[n]},Rx(i,e)}let oy=class extends Z2{constructor(e,t,n,r,s){const o=Rx,a=s!==void 0?W[o(176)]:W.LOADED;super(e,t,n,a),this[o(180)]=s!==void 0?s:null,this[o(165)]=r,this[o(172)]=null}[ns(166)](){return this[ns(172)]}handleLoad_(e){const t=ns;e?(this[t(172)]=e,this.state=W.ERROR):this.state=W[t(171)],this[t(175)]()}[ns(170)](){const e=ns;this.state==W.IDLE&&(this.state=W.LOADING,this[e(175)](),this[e(180)](this[e(168)][e(177)](this)))}[ns(167)](){return this[ns(165)]}};const ip=.5,Sx=po;function p1(){const i=["30yddfvO","24qIcizJ","148838eLLOka","maxSourceExtent_","canWrapXInSource_","isGlobal","canWrapX","162qXbLgx","16VrMWgv","sourceWorldWidth_","wrapsXInSource_","addTriangle_","triangles_","errorThresholdSquared_","35345dfEMKx","source","forEach","sourceProj_","log2","targetWorldWidth_","targetProj_","max","251888juaBXf","transformInv_","ceil","addQuad_","1876193bGBLTB","min","10029rPZkhu","162378DYxCDT","1496799wMnIER","getExtent"];return p1=function(){return i},p1()}(function(i,e){const t=po,n=i();for(;;)try{if(-parseInt(t(352))/1+-parseInt(t(347))/2+-parseInt(t(346))/3*(parseInt(t(351))/4)+-parseInt(t(332))/5*(parseInt(t(325))/6)+-parseInt(t(340))/7*(parseInt(t(326))/8)+parseInt(t(348))/9+-parseInt(t(350))/10*(-parseInt(t(344))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(p1,165084);function po(i,e){const t=p1();return po=function(n,r){return n=n-321,t[n]},po(i,e)}const $w=10,ay=.25;let rp=class{constructor(e,t,n,r,s,o){const a=po;this[a(335)]=e,this.targetProj_=t;let c={};const x=io(this[a(338)],this[a(335)]);this.transformInv_=function(_){const m=_[0]+"/"+_[1];return!c[m]&&(c[m]=x(_)),c[m]},this[a(321)]=r,this[a(331)]=s*s,this[a(330)]=[],this[a(328)]=!1,this[a(322)]=this[a(335)][a(324)]()&&!!r&&!!this[a(335)][a(349)]()&&Ct(r)>=Ct(this[a(335)][a(349)]()),this[a(327)]=this[a(335)][a(349)]()?Ct(this.sourceProj_.getExtent()):null,this[a(337)]=this[a(338)][a(349)]()?Ct(this[a(338)][a(349)]()):null;const A=Er(n),l=pl(n),u=dl(n),h=fl(n),f=this.transformInv_(A),g=this[a(341)](l),d=this[a(341)](u),p=this[a(341)](h),I=$w+(o?Math[a(339)](0,Math[a(342)](Math[a(336)](ox(n)/(o*o*256*256)))):0);if(this[a(343)](A,l,u,h,f,g,d,p,I),this[a(328)]){let _=1/0;this[a(330)].forEach(function(m,y,E){const C=a;_=Math[C(345)](_,m[C(333)][0][0],m[C(333)][1][0],m[C(333)][2][0])}),this[a(330)][a(334)](m=>{const y=a;if(Math[y(339)](m[y(333)][0][0],m[y(333)][1][0],m[y(333)][2][0])-_>this[y(327)]/2){const E=[[m.source[0][0],m[y(333)][0][1]],[m[y(333)][1][0],m[y(333)][1][1]],[m.source[2][0],m.source[2][1]]];E[0][0]-_>this[y(327)]/2&&(E[0][0]-=this[y(327)]),E[1][0]-_>this[y(327)]/2&&(E[1][0]-=this[y(327)]),E[2][0]-_>this[y(327)]/2&&(E[2][0]-=this[y(327)]);const C=Math[y(345)](E[0][0],E[1][0],E[2][0]);Math[y(339)](E[0][0],E[1][0],E[2][0])-C<this[y(327)]/2&&(m.source=E)}})}c={}}[Sx(329)](e,t,n,r,s,o){this[Sx(330)].push({source:[r,s,o],target:[e,t,n]})}[Sx(343)](e,t,n,r,s,o,a,c,x){const A=Sx,l=w2([s,o,a,c]),u=this.sourceWorldWidth_?Ct(l)/this[A(327)]:null,h=this[A(327)],f=this[A(335)][A(324)]()&&u>.5&&u<1;let g=!1;if(x>0){if(this[A(338)][A(323)]()&&this[A(337)]){const p=w2([e,t,n,r]);g=Ct(p)/this[A(337)]>ay||g}!f&&this[A(335)][A(323)]()&&u&&(g=u>ay||g)}if(!g&&this[A(321)]&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3])&&!we(l,this.maxSourceExtent_))return;let d=0;if(!g&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(c[0])||!isFinite(c[1]))){if(x>0)g=!0;else if(d=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),d!=1&&d!=2&&d!=4&&d!=8)return}if(x>0){if(!g){const p=[(e[0]+n[0])/2,(e[1]+n[1])/2],I=this[A(341)](p);let _;f?_=(no(s[0],h)+no(a[0],h))/2-no(I[0],h):_=(s[0]+a[0])/2-I[0];const m=(s[1]+a[1])/2-I[1];g=_*_+m*m>this[A(331)]}if(g){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){const p=[(t[0]+n[0])/2,(t[1]+n[1])/2],I=this.transformInv_(p),_=[(r[0]+e[0])/2,(r[1]+e[1])/2],m=this[A(341)](_);this[A(343)](e,t,p,_,s,o,I,m,x-1),this[A(343)](_,p,n,r,m,I,a,c,x-1)}else{const p=[(e[0]+t[0])/2,(e[1]+t[1])/2],I=this[A(341)](p),_=[(n[0]+r[0])/2,(n[1]+r[1])/2],m=this[A(341)](_);this.addQuad_(e,p,_,r,s,I,m,c,x-1),this.addQuad_(p,t,n,_,I,o,a,m,x-1)}return}}if(f){if(!this[A(322)])return;this.wrapsXInSource_=!0}!(d&11)&&this[A(329)](e,n,r,s,a,c),!(d&14)&&this[A(329)](e,n,t,s,a,o),d&&(!(d&13)&&this[A(329)](t,r,e,o,c,s),!(d&7)&&this[A(329)](t,r,n,o,c,a))}calculateSourceExtent(){const e=hi();return this.triangles_.forEach(function(t,n,r){const s=po,o=t[s(333)];sx(e,o[0]),sx(e,o[1]),sx(e,o[2])}),e}getTriangles(){return this[Sx(330)]}};(function(i,e){const t=x0,n=i();for(;;)try{if(parseInt(t(408))/1+-parseInt(t(450))/2*(parseInt(t(411))/3)+-parseInt(t(441))/4+-parseInt(t(443))/5*(-parseInt(t(425))/6)+-parseInt(t(412))/7*(-parseInt(t(449))/8)+parseInt(t(421))/9+-parseInt(t(426))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(I1,706638);function x0(i,e){const t=I1();return x0=function(n,r){return n=n-405,t[n]},x0(i,e)}let sp;const vr=[];function xy(i,e,t,n,r){const s=x0;i[s(431)](),i[s(445)](0,0),i[s(423)](e,t),i[s(423)](n,r),i[s(448)](),i.save(),i[s(453)](),i[s(452)](0,0,Math[s(415)](e,n)+1,Math[s(415)](t,r)),i.restore()}function op(i,e){const t=x0;return Math[t(417)](i[e*4]-210)>2||Math[t(417)](i[e*4+3]-.75*255)>2}function t6(){const i=x0;if(sp===void 0){const e=fe(6,6,vr);e[i(405)]=i(406),e[i(437)]="rgba(210, 0, 0, 0.75)",xy(e,4,5,4,0),xy(e,4,5,0,5);const t=e.getImageData(0,0,3,3)[i(433)];sp=op(t,0)||op(t,4)||op(t,8),$0(e),vr[i(407)](e[i(409)])}return sp}function I1(){const i=["round","24BeFCKa","4248594eqcwbs","getExtent","imageSmoothingEnabled","max","black","abs","scale","width","pow","11215224EHphHw","source","lineTo","clipExtent","18kubYYW","9094160GdZHHk","restore","rect","transform","height","beginPath","lineWidth","data","extent","getMetersPerUnit","drawImage","fillStyle","stroke","length","image","5427192VWJzJn","translate","475745rUduKW","source-over","moveTo","target","strokeStyle","closePath","16xPRdvU","131710Qkhkwx","forEach","fillRect","clip","getTriangles","globalCompositeOperation","lighter","push","754225rYiaNM","canvas"];return I1=function(){return i},I1()}function ap(i,e,t,n){const r=x0,s=ji(t,e,i);let o=L2(e,n,t);const a=e.getMetersPerUnit();a!==void 0&&(o*=a);const c=i[r(435)]();c!==void 0&&(o/=c);const x=i[r(413)]();if(!x||K0(x,s)){const A=L2(i,o,s)/o;isFinite(A)&&A>0&&(o/=A)}return o}function cy(i,e,t,n){const r=fi(t);let s=ap(i,e,r,n);return(!isFinite(s)||s<=0)&&vE(t,function(o){return s=ap(i,e,o,n),isFinite(s)&&s>0}),s}function xp(i,e,t,n,r,s,o,a,c,x,A,l,u,h){const f=x0,g=fe(Math[f(410)](t*i),Math[f(410)](t*e),vr);if(!l&&(g.imageSmoothingEnabled=!1),c.length===0)return g[f(409)];g[f(418)](t,t);function d(E){return Math[f(410)](E*t)/t}g[f(405)]=f(406);const p=hi();c.forEach(function(E,C,b){wE(p,E[f(434)])});let I;const _=t/n,m=(l?1:1+Math[f(420)](2,-24))/_;if(!u||c[f(439)]!==1||x!==0){if(I=fe(Math[f(410)](Ct(p)*_),Math.round(Be(p)*_),vr),!l&&(I[f(414)]=!1),r&&h){const E=(r[0]-p[0])*_,C=-(r[3]-p[3])*_,b=Ct(r)*_,B=Be(r)*_;I[f(428)](E,C,b,B),I.clip()}c.forEach(function(E,C,b){const B=f;if(E[B(440)][B(419)]>0&&E.image[B(430)]>0){if(E[B(424)]){I.save();const F=(E[B(424)][0]-p[0])*_,v=-(E.clipExtent[3]-p[3])*_,S=Ct(E[B(424)])*_,M=Be(E.clipExtent)*_;I.rect(l?F:Math[B(410)](F),l?v:Math[B(410)](v),l?S:Math[B(410)](F+S)-Math[B(410)](F),l?M:Math[B(410)](v+M)-Math.round(v)),I.clip()}const Q=(E[B(434)][0]-p[0])*_,w=-(E[B(434)][3]-p[3])*_,R=Ct(E[B(434)])*_,D=Be(E[B(434)])*_;I[B(436)](E[B(440)],x,x,E[B(440)].width-2*x,E[B(440)][B(430)]-2*x,l?Q:Math[B(410)](Q),l?w:Math.round(w),l?R:Math.round(Q+R)-Math[B(410)](Q),l?D:Math[B(410)](w+D)-Math.round(w)),E[B(424)]&&I.restore()}})}const y=Er(o);return a[f(454)]()[f(451)](function(E,C,b){const B=f,Q=E[B(422)],w=E[B(446)];let R=Q[0][0],D=Q[0][1],F=Q[1][0],v=Q[1][1],S=Q[2][0],M=Q[2][1];const L=d((w[0][0]-y[0])/s),P=d(-(w[0][1]-y[1])/s),O=d((w[1][0]-y[0])/s),k=d(-(w[1][1]-y[1])/s),H=d((w[2][0]-y[0])/s),K=d(-(w[2][1]-y[1])/s),q=R,T=D;R=0,D=0,F-=q,v-=T,S-=q,M-=T;const V=[[F,v,0,0,O-L],[S,M,0,0,H-L],[0,0,F,v,k-P],[0,0,S,M,K-P]],X=Aw(V);if(!X)return;if(g.save(),g.beginPath(),t6()||!l){g[B(445)](O,k);const it=4,st=L-O,Y=P-k;for(let yt=0;yt<it;yt++)g[B(423)](O+d((yt+1)*st/it),k+d(yt*Y/(it-1))),yt!=it-1&&g[B(423)](O+d((yt+1)*st/it),k+d((yt+1)*Y/(it-1)));g.lineTo(H,K)}else g[B(445)](O,k),g[B(423)](L,P),g.lineTo(H,K);g[B(453)](),g[B(429)](X[0],X[2],X[1],X[3],L,P),g[B(442)](p[0]-q,p[3]-T);let $;if(I)$=I.canvas,g[B(418)](m,-m);else{const it=c[0],st=it.extent;$=it[B(440)],g[B(418)](Ct(st)/$[B(419)],-Be(st)/$[B(430)])}g.drawImage($,0,0),g[B(427)]()}),I&&($0(I),vr.push(I[f(409)])),A&&(g.save(),g.globalCompositeOperation=f(444),g[f(447)]=f(416),g[f(432)]=1,a[f(454)]().forEach(function(E,C,b){const B=f,Q=E.target,w=(Q[0][0]-y[0])/s,R=-(Q[0][1]-y[1])/s,D=(Q[1][0]-y[0])/s,F=-(Q[1][1]-y[1])/s,v=(Q[2][0]-y[0])/s,S=-(Q[2][1]-y[1])/s;g[B(431)](),g[B(445)](D,F),g.lineTo(w,R),g[B(423)](v,S),g[B(448)](),g[B(438)]()}),g.restore()),g.canvas}(function(i,e){for(var t=_1,n=i();;)try{var r=parseInt(t(242))/1*(-parseInt(t(245))/2)+-parseInt(t(248))/3+parseInt(t(237))/4*(parseInt(t(238))/5)+parseInt(t(247))/6+parseInt(t(240))/7*(-parseInt(t(241))/8)+-parseInt(t(246))/9*(parseInt(t(243))/10)+parseInt(t(249))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(m1,126407);function cp(i){var e=_1;return Array[e(244)](i)?Math[e(239)](...i):i}function _1(i,e){var t=m1();return _1=function(n,r){n=n-237;var s=t[n];return s},_1(i,e)}function m1(){var i=["8itPytr","13170lTOWyx","1927340irBjgw","isArray","2ZOmUky","9oPJyYD","1282686RITpmm","400707BWuLjq","3085566hYDTcs","656FZhzaF","4105SeeoYK","min","1141357CqIaLA"];return m1=function(){return i},m1()}const Rr=Io;(function(i,e){const t=Io,n=i();for(;;)try{if(parseInt(t(350))/1+-parseInt(t(356))/2*(-parseInt(t(367))/3)+-parseInt(t(369))/4*(parseInt(t(358))/5)+parseInt(t(364))/6+parseInt(t(365))/7*(parseInt(t(386))/8)+-parseInt(t(373))/9+-parseInt(t(362))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(E1,955792);function E1(){const i=["sourcePixelRatio_","targetResolution_","maxSourceExtent_","reproject_","EMPTY","getExtent","getImage","LOADED","176xqdzmL","disposeInternal","getProjection","386078IMvDbG","load","getState","targetExtent_","unlistenSource_","targetProj_","2579434OMFdkV","changed","698370DeuNOZ","canvas_","sourceListenerKey_","triangulation_","21097230BWuSdO","IDLE","7691694yfIULG","282226nGlJLX","slice","3yaGdPq","CHANGE","8dddses","calculateSourceExtent","canWrapX","interpolate_","4498893jKaYXv","getPixelRatio","ERROR","sourceImage_","state"];return E1=function(){return i},E1()}function Io(i,e){const t=E1();return Io=function(n,r){return n=n-349,t[n]},Io(i,e)}let e6=class extends Z2{constructor(e,t,n,r,s,o,a){const c=Io;let x=e[c(383)]();x&&e[c(371)]()&&(x=x.slice(),x[0]=-1/0,x[2]=1/0);let A=t[c(383)]();A&&t.canWrapX()&&(A=A[c(366)](),A[0]=-1/0,A[2]=1/0);const l=A?Cn(n,A):n,u=fi(l),h=ap(e,t,u,r),f=ip,g=new rp(e,t,l,x,h*f,r),d=g[c(370)](),p=X0(d)?null:o(d,h,s),I=p?W[c(363)]:W[c(382)],_=p?p[c(374)]():1;super(n,r,_,I),this[c(355)]=t,this.maxSourceExtent_=x,this[c(361)]=g,this[c(379)]=r,this[c(353)]=n,this[c(376)]=p,this[c(378)]=_,this[c(372)]=a,this[c(359)]=null,this.sourceListenerKey_=null}disposeInternal(){const e=Io;this[e(377)]==W.LOADING&&this.unlistenSource_(),super[e(387)]()}[Rr(384)](){return this[Rr(359)]}[Rr(349)](){return this[Rr(355)]}[Rr(381)](){const e=Rr,t=this[e(376)][e(352)]();if(t==W.LOADED){const n=Ct(this.targetExtent_)/this.targetResolution_,r=Be(this[e(353)])/this[e(379)];this[e(359)]=xp(n,r,this[e(378)],cp(this[e(376)].getResolution()),this[e(380)],this.targetResolution_,this[e(353)],this[e(361)],[{extent:this[e(376)][e(383)](),image:this[e(376)][e(384)]()}],0,void 0,this[e(372)],!0)}this[e(377)]=t,this.changed()}[Rr(351)](){const e=Rr;if(this[e(377)]==W[e(363)]){this[e(377)]=W.LOADING,this[e(357)]();const t=this[e(376)][e(352)]();t==W[e(385)]||t==W[e(375)]?this[e(381)]():(this[e(360)]=wt(this.sourceImage_,rt[e(368)],n=>{const r=e,s=this.sourceImage_.getState();(s==W[r(385)]||s==W.ERROR)&&(this[r(354)](),this[r(381)]())}),this[e(376)][e(351)]())}}unlistenSource_(){const e=Rr;Wt(this.sourceListenerKey_),this[e(360)]=null}};const $e=Dx;(function(i,e){const t=Dx,n=i();for(;;)try{if(parseInt(t(196))/1+parseInt(t(170))/2*(-parseInt(t(179))/3)+-parseInt(t(194))/4*(-parseInt(t(174))/5)+-parseInt(t(187))/6*(-parseInt(t(190))/7)+-parseInt(t(182))/8*(parseInt(t(176))/9)+parseInt(t(197))/10+parseInt(t(183))/11*(-parseInt(t(173))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(y1,408437);let _o=class extends Wi{constructor(e){const t=Dx;super(),this[t(167)]=Zt(e[t(167)]),this[t(180)]=Ay(e[t(177)]),this[t(188)]=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e[t(189)]:t(186),this[t(168)]=e.wrapX!==void 0?e.wrapX:!1,this[t(169)]=!!e.interpolate,this[t(198)]=null,this[t(199)]=null;const n=this;this.viewPromise_=new Promise(function(r,s){const o=t;n[o(198)]=r,n[o(199)]=s})}[$e(185)](){return this.attributions_}[$e(175)](){return this[$e(188)]}[$e(192)](){return this[$e(167)]}getResolutions(e){return null}[$e(201)](){return this[$e(184)]}[$e(178)](){return this.state_}getWrapX(){return this[$e(168)]}[$e(171)](){return this[$e(169)]}[$e(191)](){this[$e(172)]()}[$e(193)](e){const t=$e;this[t(180)]=Ay(e),this.changed()}setState(e){const t=$e;this[t(181)]=e,this[t(172)]()}};function y1(){const i=["216422CyVIUy","getInterpolate","changed","2153316VVxPWn","419715RMnYIq","getAttributionsCollapsible","90765lEqJDs","attributions","getState","9QTtqLK","attributions_","state_","472MrFPOU","11OaztZA","viewPromise_","getAttributions","ready","1032UsOgQd","attributionsCollapsible_","state","5026ergiMu","refresh","getProjection","setAttributions","16uMasvx","function","379475YUiplE","6687850SnYazo","viewResolver","viewRejector","isArray","getView","projection","wrapX_","interpolate_"];return y1=function(){return i},y1()}function Dx(i,e){const t=y1();return Dx=function(n,r){return n=n-167,t[n]},Dx(i,e)}function Ay(i){const e=$e;return i?typeof i===e(195)?i:(!Array[e(200)](i)&&(i=[i]),t=>i):null}function C1(i,e){const t=B1();return C1=function(n,r){return n=n-283,t[n]},C1(i,e)}const n6=C1;(function(i,e){const t=C1,n=i();for(;;)try{if(parseInt(t(283))/1+parseInt(t(290))/2+-parseInt(t(284))/3+parseInt(t(291))/4+parseInt(t(286))/5+-parseInt(t(285))/6*(parseInt(t(292))/7)+-parseInt(t(288))/8*(parseInt(t(287))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(B1,697397),n6(289);const b1=4;function B1(){const i=["6328225ZxkYKc","353529npAdUW","312OQlfBN","1.3.0","1472576cIqJJP","3951968oTvLEW","308rwYdIz","116003WJsQRt","484320vpCNbg","97518VUsZHd"];return B1=function(){return i},B1()}const Sr=w1;(function(i,e){const t=w1,n=i();for(;;)try{if(-parseInt(t(217))/1+parseInt(t(231))/2*(parseInt(t(197))/3)+-parseInt(t(242))/4*(parseInt(t(212))/5)+-parseInt(t(229))/6*(-parseInt(t(209))/7)+-parseInt(t(218))/8+-parseInt(t(215))/9*(parseInt(t(236))/10)+parseInt(t(199))/11*(parseInt(t(230))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Q1,406536);function w1(i,e){const t=Q1();return w1=function(n,r){return n=n-196,t[n]},w1(i,e)}const Ap={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:Sr(198),IMAGELOADERROR:"imageloaderror"};let i6=class extends di{constructor(e,t){const n=Sr;super(e),this[n(216)]=t}},lp=class extends _o{constructor(e){const t=Sr;super({attributions:e[t(200)],projection:e[t(234)],state:e[t(206)],interpolate:e[t(239)]!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e[t(235)]||null,this[t(204)]=e[t(203)]!==void 0?e[t(203)]:null,this[t(243)]=null,this[t(211)]=0,this.image=null,this[t(224)],this.wantedResolution_,this[t(221)]=e[t(235)]?e[t(235)][t(213)]===0:!1,this[t(240)]=null}getResolutions(){return this[Sr(204)]}setResolutions(e){this.resolutions_=e}[Sr(207)](e){const t=this.getResolutions();if(t){const n=Hl(t,e,0);e=t[n]}return e}getImage(e,t,n,r){const s=Sr,o=this[s(232)]();if(!o||!r||yr(o,r))return o&&(r=o),this[s(233)](e,t,n,r);if(this[s(243)]){if(this.reprojectedRevision_==this[s(205)]()&&yr(this[s(243)].getProjection(),r)&&this[s(243)].getResolution()==t&&mr(this[s(243)][s(202)](),e))return this[s(243)];this[s(243)].dispose(),this[s(243)]=null}return this.reprojectedImage_=new e6(o,r,e,t,n,(a,c,x)=>this[s(233)](a,c,x,o),this[s(196)]()),this[s(211)]=this[s(205)](),this.reprojectedImage_}getImageInternal(e,t,n,r){const s=Sr;if(this[s(235)]){const o=r6(e,t,n,1),a=this[s(207)](t);if(this.image&&(this[s(221)]||this[s(240)]===r&&(this[s(224)]&&ki(this[s(224)],o)||ki(this[s(216)][s(202)](),o))&&(this.wantedResolution_&&cp(this.wantedResolution_)===a||cp(this[s(216)].getResolution())===a)))return this[s(216)];this.wantedProjection_=r,this[s(224)]=o,this[s(219)]=a,this[s(216)]=new Z2(o,a,n,this[s(235)]),this[s(216)][s(228)](rt[s(220)],this.handleImageChange[s(226)](this))}return this[s(216)]}[Sr(225)](e){const t=Sr,n=e[t(222)];let r;switch(n[t(208)]()){case W[t(241)]:this[t(210)]=!0,r=Ap[t(214)];break;case W[t(223)]:this[t(210)]=!1,r=Ap.IMAGELOADEND;break;case W.ERROR:this[t(210)]=!1,r=Ap.IMAGELOADERROR;break;default:return}this[t(227)](r)&&this[t(201)](new i6(r,n))}};function Q1(){const i=["15784188kpRNTQ","2HYeSmD","getProjection","getImageInternal","projection","loader","10QWAGVP","getImage","src","interpolate","wantedProjection_","LOADING","16dyqXMF","reprojectedImage_","getInterpolate","416019JVCItE","imageloadend","11lTAoIj","attributions","dispatchEvent","getExtent","resolutions","resolutions_","getRevision","state","findNearestResolution","getState","1906723nzqYje","loading","reprojectedRevision_","320510NXrWMS","length","IMAGELOADSTART","4957245CXFnHo","image","732228TkJtjz","422584BMLmDO","wantedResolution_","CHANGE","static_","target","LOADED","wantedExtent_","handleImageChange","bind","hasListener","addEventListener","12xZQGRq"];return Q1=function(){return i},Q1()}function r6(i,e,t,n){const r=e/t,s=fi(i),o=n0(Ct(i)/r,b1),a=n0(Be(i)/r,b1),c=n0((n-1)*o/2,b1),x=o+2*c,A=n0((n-1)*a/2,b1),l=a+2*A;return gl(s,r,0,[x,l])}(function(i,e){const t=kx,n=i();for(;;)try{if(-parseInt(t(301))/1*(-parseInt(t(304))/2)+-parseInt(t(293))/3+parseInt(t(308))/4+parseInt(t(314))/5*(parseInt(t(305))/6)+parseInt(t(299))/7+-parseInt(t(295))/8+parseInt(t(313))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(v1,884356);function v1(){const i=["16sNlDnc","78Jcglig","getPixelRatio","renderedRevision_","3895164pPmgoX","interpolate","ratio_","canvas_","resolutions","9364140rTKBwZ","54535QIIYFD","ratio","canvasFunction_","getExtent","1837257DdmLBM","findNearestResolution","14104880PyihuV","getResolution","getRevision","slice","1464141ZjjcFu","attributions","111835rHzQDm","call","canvasFunction"];return v1=function(){return i},v1()}function kx(i,e){const t=v1();return kx=function(n,r){return n=n-293,t[n]},kx(i,e)}let ly=class extends lp{constructor(e){const t=kx;e=e||{},super({attributions:e[t(300)],interpolate:e[t(309)],projection:e.projection,resolutions:e[t(312)],state:e.state}),this.canvasFunction_=e[t(303)],this[t(311)]=null,this[t(307)]=0,this.ratio_=e.ratio!==void 0?e[t(315)]:1.5}getImageInternal(e,t,n,r){const s=kx;t=this[s(294)](t);let o=this[s(311)];if(o&&this[s(307)]==this[s(297)]()&&o[s(296)]()==t&&o[s(306)]()==n&&ki(o[s(317)](),e))return o;e=e[s(298)](),aw(e,this[s(310)]);const a=Ct(e)/t,c=Be(e)/t,x=[a*n,c*n],A=this[s(316)][s(302)](this,e,t,n,x,r);return A&&(o=new oy(e,t,n,A)),this[s(311)]=o,this[s(307)]=this[s(297)](),o}};function R1(){var i=["source","visible","18VaPRIc","opacity","775340wwpCBi","398mDdCnJ","4cBaUZc","1549DCBsRB","96333KylCFW","2289024TFDmMZ","201859TGTYMV","extent","zIndex","1306065LPkLml","1519474VQtaCW","36LTvuOB","maxZoom"];return R1=function(){return i},R1()}var mo=S1;function S1(i,e){var t=R1();return S1=function(n,r){n=n-253;var s=t[n];return s},S1(i,e)}(function(i,e){for(var t=S1,n=i();;)try{var r=parseInt(t(265))/1*(-parseInt(t(263))/2)+-parseInt(t(266))/3*(parseInt(t(264))/4)+parseInt(t(254))/5+parseInt(t(260))/6*(parseInt(t(268))/7)+-parseInt(t(267))/8+-parseInt(t(256))/9*(-parseInt(t(262))/10)+parseInt(t(255))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(R1,169504);const Vt={OPACITY:mo(261),VISIBLE:mo(259),EXTENT:mo(269),Z_INDEX:mo(253),MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:mo(257),MIN_ZOOM:"minZoom",SOURCE:mo(258),MAP:"map"};function Qt(i,e){if(!i)throw new Error(e)}const Dt=Eo;(function(i,e){const t=Eo,n=i();for(;;)try{if(parseInt(t(152))/1*(-parseInt(t(140))/2)+-parseInt(t(137))/3+parseInt(t(162))/4+-parseInt(t(136))/5*(parseInt(t(167))/6)+parseInt(t(151))/7*(-parseInt(t(149))/8)+parseInt(t(157))/9*(parseInt(t(122))/10)+parseInt(t(128))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(D1,516814);function Eo(i,e){const t=D1();return Eo=function(n,r){return n=n-121,t[n]},Eo(i,e)}function D1(){const i=["getLayersArray","MIN_RESOLUTION","EXTENT","once","getZIndex","properties","round","setProperties","getOpacity","managed","background_","minResolution","ol-layer","getMinResolution","className","maxResolution","setMinZoom","MAX_RESOLUTION","extent","1592530BkxOJD","disposeInternal","OPACITY","className_","getMaxZoom","getSourceState","21219352sBsaCI","getExtent","getVisible","Layer opacity must be a number","Z_INDEX","getLayerStatesArray","number","object","155xxyqYv","2116620mhruLf","layer","set","38LYhtmd","state_","setVisible","VISIBLE","setMaxResolution","background","opacity","setZIndex","setMinResolution","2136AtGxLf","getClassName","15722UfwOnz","51869bJAOUj","visible","assign","changed","setExtent","27HmbOmb","max","MAX_ZOOM","maxZoom","MIN_ZOOM","2859764EbaqKb","get","minZoom","getMinZoom","setBackground","60810ClVKtF"];return D1=function(){return i},D1()}let uy=class extends Wi{constructor(e){const t=Eo;super(),this.on,this[t(171)],this.un,this[t(178)]=e[t(145)];const n=Object[t(154)]({},e);typeof e[t(173)]===t(135)&&(delete n[t(173)],Object[t(154)](n,e[t(173)])),n[Vt[t(124)]]=e.opacity!==void 0?e[t(146)]:1,Qt(typeof n[Vt[t(124)]]===t(134),t(131)),n[Vt[t(143)]]=e.visible!==void 0?e[t(153)]:!0,n[Vt.Z_INDEX]=e.zIndex,n[Vt.MAX_RESOLUTION]=e[t(183)]!==void 0?e.maxResolution:1/0,n[Vt[t(169)]]=e[t(179)]!==void 0?e[t(179)]:0,n[Vt[t(161)]]=e.minZoom!==void 0?e[t(164)]:-1/0,n[Vt.MAX_ZOOM]=e[t(160)]!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:t(180),delete n[t(182)],this[t(175)](n),this[t(141)]=null}getBackground(){return this[Eo(178)]}[Dt(150)](){return this[Dt(125)]}getLayerState(e){const t=Dt,n=this.state_||{layer:this,managed:e===void 0?!0:e},r=this[t(172)]();return n.opacity=Qe(Math[t(174)](this[t(176)]()*100)/100,0,1),n[t(153)]=this[t(130)](),n[t(121)]=this[t(129)](),n.zIndex=r===void 0&&!n[t(177)]?1/0:r,n[t(183)]=this.getMaxResolution(),n[t(179)]=Math[t(158)](this[t(181)](),0),n[t(164)]=this[t(165)](),n[t(160)]=this.getMaxZoom(),this.state_=n,n}[Dt(168)](e){return ot()}[Dt(133)](e){return ot()}[Dt(129)](){const e=Dt;return this[e(163)](Vt[e(170)])}getMaxResolution(){const e=Dt;return this[e(163)](Vt[e(185)])}[Dt(181)](){const e=Dt;return this[e(163)](Vt[e(169)])}getMinZoom(){return this[Dt(163)](Vt.MIN_ZOOM)}[Dt(126)](){const e=Dt;return this.get(Vt[e(159)])}getOpacity(){return this[Dt(163)](Vt.OPACITY)}[Dt(127)](){return ot()}[Dt(130)](){const e=Dt;return this[e(163)](Vt[e(143)])}getZIndex(){return this.get(Vt.Z_INDEX)}[Dt(166)](e){const t=Dt;this.background_=e,this[t(155)]()}[Dt(156)](e){const t=Dt;this[t(139)](Vt[t(170)],e)}[Dt(144)](e){const t=Dt;this.set(Vt[t(185)],e)}[Dt(148)](e){const t=Dt;this.set(Vt[t(169)],e)}setMaxZoom(e){const t=Dt;this[t(139)](Vt[t(159)],e)}[Dt(184)](e){this.set(Vt.MIN_ZOOM,e)}setOpacity(e){const t=Dt;Qt(typeof e=="number",t(131)),this[t(139)](Vt[t(124)],e)}[Dt(142)](e){const t=Dt;this[t(139)](Vt[t(143)],e)}[Dt(147)](e){const t=Dt;this[t(139)](Vt[t(132)],e)}[Dt(123)](){const e=Dt;this.state_&&(this[e(141)][e(138)]=null,this.state_=null),super[e(123)]()}};function k1(){var i=["12ZJOkke","59028eIOBIn","33xPLLKL","precompose","10696iJbSCV","prerender","postrender","2310972VrSqKN","postcompose","3tUGDTK","44bzmQHV","4736bEAewZ","5ucduiF","8634888KBqrUx","4458212XXBrEX","466510wXGlkc","35569703hKHLhz"];return k1=function(){return i},k1()}var M1=F1;function F1(i,e){var t=k1();return F1=function(n,r){n=n-445;var s=t[n];return s},F1(i,e)}(function(i,e){for(var t=F1,n=i();;)try{var r=parseInt(t(456))/1*(-parseInt(t(448))/2)+parseInt(t(447))/3*(-parseInt(t(452))/4)+-parseInt(t(450))/5*(-parseInt(t(445))/6)+parseInt(t(459))/7*(parseInt(t(449))/8)+-parseInt(t(451))/9+parseInt(t(453))/10*(parseInt(t(457))/11)+-parseInt(t(455))/12*(-parseInt(t(454))/13);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(k1,793221);const mi={PRERENDER:M1(460),POSTRENDER:M1(461),PRECOMPOSE:M1(458),POSTCOMPOSE:M1(446),RENDERCOMPLETE:"rendercomplete"};function up(i,e){var t=T1();return up=function(n,r){n=n-486;var s=t[n];return s},up(i,e)}(function(i,e){for(var t=up,n=i();;)try{var r=parseInt(t(494))/1+-parseInt(t(489))/2*(parseInt(t(486))/3)+-parseInt(t(490))/4+parseInt(t(488))/5+-parseInt(t(492))/6+-parseInt(t(491))/7+-parseInt(t(487))/8*(-parseInt(t(493))/9);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(T1,253451);const de={ANIMATING:0,INTERACTING:1};function T1(){var i=["54Zcffya","393145hrRyKU","9xvQgfT","757712ISyocy","1312090IsvcIC","245026zPsJHg","317892nzONkM","1196412TYpeZv","2114808jGZYho"];return T1=function(){return i},T1()}var s6=G1;function L1(){var i=["5610486kwEMLP","843162cOPwlP","6vKIWMq","70476tfMUZL","rotation","2213465OnuBeX","324LAUdqf","14296210BphXjc","7397912RzAIUI","9ECozWz","32476AZZALQ"];return L1=function(){return i},L1()}(function(i,e){for(var t=G1,n=i();;)try{var r=parseInt(t(107))/1+parseInt(t(109))/2+-parseInt(t(112))/3*(-parseInt(t(116))/4)+parseInt(t(111))/5*(parseInt(t(108))/6)+parseInt(t(117))/7+-parseInt(t(114))/8+-parseInt(t(115))/9*(parseInt(t(113))/10);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(L1,645083);function G1(i,e){var t=L1();return G1=function(n,r){n=n-107;var s=t[n];return s},G1(i,e)}const Fi={CENTER:"center",RESOLUTION:"resolution",ROTATION:s6(110)},hy=42,hp=256;(function(i,e){const t=P1,n=i();for(;;)try{if(-parseInt(t(306))/1+-parseInt(t(316))/2*(parseInt(t(309))/3)+parseInt(t(308))/4*(parseInt(t(311))/5)+parseInt(t(314))/6*(-parseInt(t(305))/7)+-parseInt(t(310))/8*(-parseInt(t(312))/9)+-parseInt(t(307))/10+parseInt(t(315))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(N1,264386);function fy(i,e,t){return function(n,r,s,o,a){const c=P1;if(!n)return;if(!r&&!e)return n;const x=e?0:s[0]*r,A=e?0:s[1]*r,l=a?a[0]:0,u=a?a[1]:0;let h=i[0]+x/2+l,f=i[2]-x/2+l,g=i[1]+A/2+u,d=i[3]-A/2+u;h>f&&(h=(f+h)/2,f=h),g>d&&(g=(d+g)/2,d=g);let p=Qe(n[0],h,f),I=Qe(n[1],g,d);if(o&&t&&r){const _=30*r;p+=-_*Math[c(304)](1+Math.max(0,h-n[0])/_)+_*Math[c(304)](1+Math[c(313)](0,n[0]-f)/_),I+=-_*Math[c(304)](1+Math[c(313)](0,g-n[1])/_)+_*Math.log(1+Math[c(313)](0,n[1]-d)/_)}return[p,I]}}function N1(){const i=["log","647115pfLsvn","510262gyEFnV","1593990WGmGet","30764xaRfKh","674334FZCYKA","1692832LOmUNZ","130AgBQDK","9yxmJjj","max","6DAiOqd","11709258nzNPDz","4HmbSTX"];return N1=function(){return i},N1()}function P1(i,e){const t=N1();return P1=function(n,r){return n=n-304,t[n]},P1(i,e)}function o6(i){return i}(function(i,e){const t=is,n=i();for(;;)try{if(parseInt(t(289))/1*(-parseInt(t(277))/2)+-parseInt(t(282))/3*(-parseInt(t(294))/4)+-parseInt(t(286))/5*(-parseInt(t(279))/6)+-parseInt(t(285))/7*(parseInt(t(287))/8)+-parseInt(t(284))/9*(-parseInt(t(293))/10)+-parseInt(t(275))/11*(-parseInt(t(291))/12)+-parseInt(t(283))/13===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(U1,734571);function fp(i,e,t,n){const r=is,s=Ct(e)/t[0],o=Be(e)/t[1];return n?Math[r(290)](i,Math[r(281)](s,o)):Math[r(290)](i,Math[r(290)](s,o))}function dp(i,e,t){const n=is;let r=Math[n(290)](i,e);const s=50;return r*=Math.log(1+s*Math[n(281)](0,i/e-1))/s+1,t&&(r=Math[n(281)](r,t),r/=Math.log(1+s*Math[n(281)](0,t/i-1))/s+1),Qe(r,t/2,e*2)}function a6(i,e,t,n){return e=e!==void 0?e:!0,function(r,s,o,a){const c=is;if(r!==void 0){const x=i[0],A=i[i[c(278)]-1],l=t?fp(x,t,o,n):x;if(a)return e?dp(r,l,A):Qe(r,A,l);const u=Math[c(290)](l,r),h=Math[c(280)](Hl(i,u,s));return i[h]>l&&h<i[c(278)]-1?i[h+1]:i[h]}}}function is(i,e){const t=U1();return is=function(n,r){return n=n-275,t[n]},is(i,e)}function x6(i,e,t,n,r,s){return n=n!==void 0?n:!0,t=t!==void 0?t:0,function(o,a,c,x){const A=is;if(o!==void 0){const l=r?fp(e,r,c,s):e;if(x)return n?dp(o,l,t):Qe(o,t,l);const u=1e-9,h=Math[A(276)](Math[A(288)](e/l)/Math[A(288)](i)-u),f=-a*(.5-u)+.5,g=Math[A(290)](l,o),d=Math[A(280)](Math[A(288)](e/g)/Math[A(288)](i)+f),p=Math[A(281)](h,d),I=e/Math[A(292)](i,p);return Qe(I,t,l)}}}function U1(){const i=["291722ztkYew","length","41340UQWThN","floor","max","1182jSoGgR","30185220mleEmT","369CbsQdG","21hdATDZ","760wvVijN","97936WnnInW","log","4QHyKGG","min","312kbdFOu","pow","192470PJrcHW","10628rGEzof","335676ggdbCS","ceil"];return U1=function(){return i},U1()}function dy(i,e,t,n,r){return t=t!==void 0?t:!0,function(s,o,a,c){if(s!==void 0){const x=n?fp(i,n,a,r):i;return!t||!c?Qe(s,e,x):dp(s,x,e)}}}function Mx(i,e){const t=O1();return Mx=function(n,r){return n=n-214,t[n]},Mx(i,e)}(function(i,e){const t=Mx,n=i();for(;;)try{if(-parseInt(t(226))/1*(-parseInt(t(215))/2)+-parseInt(t(223))/3*(parseInt(t(220))/4)+parseInt(t(219))/5*(parseInt(t(227))/6)+parseInt(t(216))/7*(-parseInt(t(214))/8)+parseInt(t(225))/9+-parseInt(t(218))/10*(-parseInt(t(224))/11)+parseInt(t(221))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(O1,518294);function gp(i){if(i!==void 0)return 0}function O1(){const i=["1736gJiLcy","3960996UrYYEk","floor","1299XkSUjf","27797OqQIOa","166482aMiyrE","2cNvjSd","352356GkcmCz","28008kSBuZr","113018fmcgBk","21DhOqJr","abs","80WOhdar","20MEkiwS"];return O1=function(){return i},O1()}function gy(i){if(i!==void 0)return i}function c6(i){const e=2*Math.PI/i;return function(t,n){const r=Mx;if(n)return t;if(t!==void 0)return t=Math[r(222)](t/e+.5)*e,t}}function A6(i){const e=_l(5);return function(t,n){const r=Mx;return n||t===void 0?t:Math[r(217)](t)<=e?0:t}}function z1(){var i=["pow","1684980QKoceO","3yjPsPI","914524SHBchc","365178qmEoiT","113136glNcAW","131267tWCwjL","9vjSBNg","750470TtFlWM","1089893GSyIHs"];return z1=function(){return i},z1()}(function(i,e){for(var t=q1,n=i();;)try{var r=parseInt(t(324))/1+-parseInt(t(322))/2*(parseInt(t(320))/3)+parseInt(t(321))/4+-parseInt(t(326))/5+parseInt(t(329))/6+-parseInt(t(327))/7+parseInt(t(323))/8*(parseInt(t(325))/9);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(z1,166488);function py(i){var e=q1;return Math[e(328)](i,3)}function yo(i){return 1-py(1-i)}function q1(i,e){var t=z1();return q1=function(n,r){n=n-320;var s=t[n];return s},q1(i,e)}function l6(i){return 3*i*i-2*i*i*i}function u6(i){return i}(function(i,e){const t=Co,n=i();for(;;)try{if(parseInt(t(486))/1*(-parseInt(t(468))/2)+parseInt(t(484))/3*(parseInt(t(476))/4)+parseInt(t(485))/5+-parseInt(t(469))/6*(-parseInt(t(481))/7)+parseInt(t(478))/8*(parseInt(t(477))/9)+parseInt(t(482))/10*(parseInt(t(474))/11)+-parseInt(t(483))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Y1,429166);const Iy=new Array(6);function Nn(){return[1,0,0,1,0,0]}function _y(i){return Ip(i,1,0,0,1,0,0)}function pp(i,e){const t=i[0],n=i[1],r=i[2],s=i[3],o=i[4],a=i[5],c=e[0],x=e[1],A=e[2],l=e[3],u=e[4],h=e[5];return i[0]=t*c+r*x,i[1]=n*c+s*x,i[2]=t*A+r*l,i[3]=n*A+s*l,i[4]=t*u+r*h+o,i[5]=n*u+s*h+a,i}function Ip(i,e,t,n,r,s,o){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i[4]=s,i[5]=o,i}function h6(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i}function Ue(i,e){const t=e[0],n=e[1];return e[0]=i[0]*t+i[2]*n+i[4],e[1]=i[1]*t+i[3]*n+i[5],e}function _p(i,e,t){return pp(i,Ip(Iy,e,0,0,t,0,0))}function f6(i,e,t){return pp(i,Ip(Iy,1,0,0,1,e,t))}function er(i,e,t,n,r,s,o,a){const c=Co,x=Math[c(472)](s),A=Math[c(475)](s);return i[0]=n*A,i[1]=r*x,i[2]=-n*x,i[3]=r*A,i[4]=o*n*A-a*n*x+e,i[5]=o*r*x+a*r*A+t,i}function Co(i,e){const t=Y1();return Co=function(n,r){return n=n-468,t[n]},Co(i,e)}function my(i,e){const t=Co,n=d6(e);Qt(n!==0,t(470));const r=e[0],s=e[1],o=e[2],a=e[3],c=e[4],x=e[5];return i[0]=a/n,i[1]=-s/n,i[2]=-o/n,i[3]=r/n,i[4]=(o*x-a*c)/n,i[5]=-(r*x-s*c)/n,i}function d6(i){return i[0]*i[3]-i[1]*i[2]}const Ey=[1e6,1e6,1e6,1e6,2,2];function g6(i){const e=Co;return e(480)+i[e(471)]((n,r)=>Math[e(479)](n*Ey[r])/Ey[r])[e(473)](", ")+")"}function Y1(){const i=["16uGCHOy","38080hFIYFo","6qSYEcs","Transformation matrix cannot be inverted","map","sin","join","11uRbdmL","cos","56lEDLGU","4941nuCTez","8888nBtnQP","round","matrix(","537439hmDKWp","1538860lVYTQI","3629724RfBtMJ","19674EARWFV","519345ficGRS"];return Y1=function(){return i},Y1()}function rs(i,e){const t=H1();return rs=function(n,r){return n=n-414,t[n]},rs(i,e)}(function(i,e){const t=rs,n=i();for(;;)try{if(-parseInt(t(423))/1+-parseInt(t(417))/2+-parseInt(t(420))/3*(-parseInt(t(426))/4)+-parseInt(t(416))/5*(-parseInt(t(418))/6)+parseInt(t(414))/7*(parseInt(t(421))/8)+-parseInt(t(415))/9+-parseInt(t(419))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(H1,190585);function c0(i,e,t,n,r,s,o){const a=rs;s=s||[],o=o||2;let c=0;for(let x=e;x<t;x+=n){const A=i[x],l=i[x+1];s[c++]=r[0]*A+r[2]*l+r[4],s[c++]=r[1]*A+r[3]*l+r[5];for(let u=2;u<o;u++)s[c++]=i[x+u]}return s&&s.length!=c&&(s[a(425)]=c),s}function H1(){const i=["length","80hivaDA","14XMSJDM","1967760CnuQPc","5xuKGZP","357794UOJuWL","1193466NFZcfO","114590VELkJO","47139KRzRZl","1187800YoEkyg","sin","210540YEzzIA","cos"];return H1=function(){return i},H1()}function yy(i,e,t,n,r,s,o){const a=rs;o=o||[];const c=Math[a(424)](r),x=Math[a(422)](r),A=s[0],l=s[1];let u=0;for(let h=e;h<t;h+=n){const f=i[h]-A,g=i[h+1]-l;o[u++]=A+f*c-g*x,o[u++]=l+f*x+g*c;for(let d=h+2;d<h+n;++d)o[u++]=i[d]}return o&&o[a(425)]!=u&&(o[a(425)]=u),o}function p6(i,e,t,n,r,s,o,a){const c=rs;a=a||[];const x=o[0],A=o[1];let l=0;for(let u=e;u<t;u+=n){const h=i[u]-x,f=i[u+1]-A;a[l++]=x+r*h,a[l++]=A+s*f;for(let g=u+2;g<u+n;++g)a[l++]=i[g]}return a&&a[c(425)]!=l&&(a[c(425)]=l),a}function I6(i,e,t,n,r,s,o){const a=rs;o=o||[];let c=0;for(let x=e;x<t;x+=n){o[c++]=i[x]+r,o[c++]=i[x+1]+s;for(let A=x+2;A<x+n;++A)o[c++]=i[A]}return o&&o[a(425)]!=c&&(o[a(425)]=c),o}const ii=bo;(function(i,e){const t=bo,n=i();for(;;)try{if(parseInt(t(173))/1*(parseInt(t(178))/2)+parseInt(t(183))/3+parseInt(t(185))/4*(-parseInt(t(169))/5)+parseInt(t(175))/6*(parseInt(t(167))/7)+-parseInt(t(162))/8*(parseInt(t(172))/9)+-parseInt(t(166))/10*(parseInt(t(163))/11)+parseInt(t(177))/12*(-parseInt(t(170))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(j1,559909);function bo(i,e){const t=j1();return bo=function(n,r){return n=n-157,t[n]},bo(i,e)}function j1(){const i=["simplifyTransformedInternal","length","3714650HjuErv","893053HzUcEw","tile-pixels","5vovXfv","39lnuRWR","getSimplifiedGeometry","18IplDjg","554008XrwZKU","transform","48DqSkZd","intersectsCoordinate","2254716ufJUIf","2NFxnAq","computeExtent","extent_","extentRevision_","getRevision","2371509qhRPog","closestPointXY","2052256IxDiWf","simplifiedGeometryMaxMinSquaredTolerance","getExtent","clone","getWorldExtent","containsXY","getClosestPoint","applyTransform","getUnits","1428104dRCESn","11hPHzGM"];return j1=function(){return i},j1()}const Cy=Nn();let by=class extends Wi{constructor(){const e=bo;super(),this[e(180)]=hi(),this[e(181)]=-1,this[e(186)]=0,this.simplifiedGeometryRevision=0,this[e(164)]=XE((t,n,r)=>{const s=e;if(!r)return this[s(171)](n);const o=this[s(188)]();return o[s(160)](r),o[s(171)](n)})}simplifyTransformed(e,t){const n=bo;return this[n(164)](this[n(182)](),e,t)}clone(){return ot()}[ii(184)](e,t,n,r){return ot()}containsXY(e,t){const n=ii,r=this[n(159)]([e,t]);return r[0]===e&&r[1]===t}[ii(159)](e,t){const n=ii;return t=t||[NaN,NaN],this[n(184)](e[0],e[1],t,1/0),t}[ii(176)](e){return this[ii(158)](e[0],e[1])}[ii(179)](e){return ot()}[ii(187)](e){const t=ii;if(this[t(181)]!=this[t(182)]()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&eo(n),this.extentRevision_=this[t(182)]()}return ow(this[t(180)],e)}rotate(e,t){ot()}scale(e,t,n){ot()}simplify(e){return this.getSimplifiedGeometry(e*e)}[ii(171)](e){return ot()}getType(){return ot()}[ii(160)](e){ot()}intersectsExtent(e){return ot()}translate(e,t){ot()}[ii(174)](e,t){const n=ii,r=Zt(e),s=r[n(161)]()==n(168)?function(o,a,c){const x=n,A=r[x(187)](),l=r[x(157)](),u=Be(l)/Be(A);return er(Cy,l[0],l[3],u,-u,0,0,0),c0(o,0,o[x(165)],c,Cy,a),io(r,t)(o,a,c)}:io(r,t);return this.applyTransform(s),this}};const Ft=Fx;(function(i,e){const t=Fx,n=i();for(;;)try{if(parseInt(t(471))/1*(-parseInt(t(488))/2)+parseInt(t(487))/3*(-parseInt(t(459))/4)+-parseInt(t(467))/5+parseInt(t(482))/6+parseInt(t(465))/7*(-parseInt(t(479))/8)+parseInt(t(486))/9+parseInt(t(491))/10*(parseInt(t(462))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(V1,633075);function V1(){const i=["getLastCoordinate","slice","92fqoxON","setCoordinates","changed","1067EcwEgZ","getLayout","length","21xMcIlh","getFlatCoordinates","4679420MnXXFF","getFirstCoordinate","translate","simplifiedGeometryMaxMinSquaredTolerance","1143587GOUpMp","computeExtent","getCoordinates","getSimplifiedGeometryInternal","XYZ","scale","simplifiedGeometryRevision","XYZM","1606152TVNLQx","stride","setFlatCoordinates","2558568bHcPqh","setLayout","getStride","getRevision","9629361ADjfdp","123822CubjpK","2OoVhmp","flatCoordinates","applyTransform","285340PsDkYi","rotate","XYM","layout","getSimplifiedGeometry","startsWith"];return V1=function(){return i},V1()}let ss=class extends by{constructor(){const e=Fx;super(),this[e(454)]="XY",this.stride=2,this.flatCoordinates}[Ft(472)](e){const t=Ft;return R2(this[t(489)],0,this[t(489)][t(464)],this[t(480)],e)}[Ft(473)](){return ot()}[Ft(468)](){const e=Ft;return this[e(489)][e(458)](0,this[e(480)])}[Ft(466)](){return this[Ft(489)]}[Ft(457)](){const e=Ft;return this[e(489)][e(458)](this[e(489)].length-this[e(480)])}[Ft(463)](){return this[Ft(454)]}[Ft(455)](e){const t=Ft;if(this[t(477)]!==this[t(485)]()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this[t(470)]!==0&&e<=this[t(470)])return this;const n=this[t(474)](e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}[Ft(474)](e){return this}[Ft(484)](){return this[Ft(480)]}[Ft(481)](e,t){const n=Ft;this[n(480)]=By(e),this.layout=e,this[n(489)]=t}[Ft(460)](e,t){ot()}[Ft(483)](e,t,n){const r=Ft;let s;if(e)s=By(e);else{for(let o=0;o<n;++o){if(t[r(464)]===0){this.layout="XY",this[r(480)]=2;return}t=t[0]}s=t.length,e=os(s)}this[r(454)]=e,this[r(480)]=s}[Ft(490)](e){const t=Ft;this[t(489)]&&(e(this[t(489)],this[t(489)],this[t(454)][t(456)]("XYZ")?3:2,this[t(480)]),this[t(461)]())}[Ft(492)](e,t){const n=Ft,r=this.getFlatCoordinates();if(r){const s=this[n(484)]();yy(r,0,r[n(464)],s,e,t,r),this[n(461)]()}}[Ft(476)](e,t,n){const r=Ft;t===void 0&&(t=e),!n&&(n=fi(this.getExtent()));const s=this.getFlatCoordinates();if(s){const o=this[r(484)]();p6(s,0,s[r(464)],o,e,t,n,s),this[r(461)]()}}[Ft(469)](e,t){const n=Ft,r=this.getFlatCoordinates();if(r){const s=this[n(484)]();I6(r,0,r[n(464)],s,e,t,r),this[n(461)]()}}};function os(i){const e=Ft;let t;return i==2?t="XY":i==3?t=e(475):i==4&&(t=e(478)),t}function By(i){const e=Ft;let t;return i=="XY"?t=2:i==e(475)||i==e(493)?t=3:i==e(478)&&(t=4),t}function Fx(i,e){const t=V1();return Fx=function(n,r){return n=n-454,t[n]},Fx(i,e)}function _6(i,e,t){const n=Ft,r=i.getFlatCoordinates();if(!r)return null;const s=i[n(484)]();return c0(r,0,r[n(464)],s,e,t)}function A0(i,e){const t=J1();return A0=function(n,r){return n=n-181,t[n]},A0(i,e)}(function(i,e){const t=A0,n=i();for(;;)try{if(-parseInt(t(193))/1*(-parseInt(t(186))/2)+-parseInt(t(182))/3*(parseInt(t(184))/4)+parseInt(t(181))/5*(-parseInt(t(188))/6)+parseInt(t(190))/7*(-parseInt(t(192))/8)+parseInt(t(189))/9+-parseInt(t(183))/10+parseInt(t(194))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(J1,892765);function wy(i,e,t,n,r,s,o){const a=A0,c=i[e],x=i[e+1],A=i[t]-c,l=i[t+1]-x;let u;if(A===0&&l===0)u=e;else{const h=((r-c)*A+(s-x)*l)/(A*A+l*l);if(h>1)u=t;else if(h>0){for(let f=0;f<n;++f)o[f]=ni(i[e+f],i[t+f],h);o.length=n;return}else u=e}for(let h=0;h<n;++h)o[h]=i[u+h];o[a(187)]=n}function J1(){const i=["1636460zJQrEb","max","40ydqhAz","875897PugAtQ","25506129PzkWjP","1235QoVdtR","66VyAAQB","4938500qMNEQB","260812cbKWuy","sqrt","2oNwZjV","length","19866zQekDV","14518458pVcwKq"];return J1=function(){return i},J1()}function mp(i,e,t,n,r){let s=i[e],o=i[e+1];for(e+=n;e<t;e+=n){const a=i[e],c=i[e+1],x=Z0(s,o,a,c);x>r&&(r=x),s=a,o=c}return r}function Ep(i,e,t,n,r){const s=A0;for(let o=0,a=t[s(187)];o<a;++o){const c=t[o];r=mp(i,e,c,n,r),e=c}return r}function m6(i,e,t,n,r){const s=A0;for(let o=0,a=t[s(187)];o<a;++o){const c=t[o];r=Ep(i,e,c,n,r),e=c[c[s(187)]-1]}return r}function yp(i,e,t,n,r,s,o,a,c,x,A){const l=A0;if(e==t)return x;let u,h;if(r===0){if(h=Z0(o,a,i[e],i[e+1]),h<x){for(u=0;u<n;++u)c[u]=i[e+u];return c[l(187)]=n,h}return x}A=A||[NaN,NaN];let f=e+n;for(;f<t;)if(wy(i,f-n,f,n,o,a,A),h=Z0(o,a,A[0],A[1]),h<x){for(x=h,u=0;u<n;++u)c[u]=A[u];c[l(187)]=n,f+=n}else f+=n*Math[l(191)]((Math[l(185)](h)-Math.sqrt(x))/r|0,1);if(s&&(wy(i,t-n,e,n,o,a,A),h=Z0(o,a,A[0],A[1]),h<x)){for(x=h,u=0;u<n;++u)c[u]=A[u];c[l(187)]=n}return x}function Cp(i,e,t,n,r,s,o,a,c,x,A){A=A||[NaN,NaN];for(let l=0,u=t.length;l<u;++l){const h=t[l];x=yp(i,e,h,n,r,s,o,a,c,x,A),e=h}return x}function E6(i,e,t,n,r,s,o,a,c,x,A){const l=A0;A=A||[NaN,NaN];for(let u=0,h=t.length;u<h;++u){const f=t[u];x=Cp(i,e,f,n,r,s,o,a,c,x,A),e=f[f[l(187)]-1]}return x}(function(i,e){const t=as,n=i();for(;;)try{if(-parseInt(t(117))/1*(-parseInt(t(114))/2)+-parseInt(t(119))/3*(parseInt(t(112))/4)+-parseInt(t(116))/5*(-parseInt(t(113))/6)+parseInt(t(108))/7+-parseInt(t(110))/8*(parseInt(t(111))/9)+-parseInt(t(109))/10+-parseInt(t(115))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(K1,747711);function y6(i,e,t,n){const r=as;for(let s=0,o=t[r(118)];s<o;++s)i[e++]=t[s];return e}function K1(){const i=["length","86451xbfpvy","10433850CdBRSI","2438780MgkOJe","2680vozHJK","16731zCobXe","164VWRdIL","613218cUQAKx","1198zGozgI","14164480jcjxtY","55SJYPPA","2452ggkbZM"];return K1=function(){return i},K1()}function X1(i,e,t,n){const r=as;for(let s=0,o=t[r(118)];s<o;++s){const a=t[s];for(let c=0;c<n;++c)i[e++]=a[c]}return e}function as(i,e){const t=K1();return as=function(n,r){return n=n-108,t[n]},as(i,e)}function Tx(i,e,t,n,r){const s=as;r=r||[];let o=0;for(let a=0,c=t[s(118)];a<c;++a){const x=X1(i,e,t[a],n);r[o++]=x,e=x}return r[s(118)]=o,r}function Qy(i,e,t,n,r){const s=as;r=r||[];let o=0;for(let a=0,c=t[s(118)];a<c;++a){const x=Tx(i,e,t[a],n,r[o]);x.length===0&&(x[0]=e),r[o++]=x,e=x[x[s(118)]-1]}return r.length=o,r}(function(i,e){const t=l0,n=i();for(;;)try{if(-parseInt(t(450))/1*(parseInt(t(439))/2)+parseInt(t(436))/3*(-parseInt(t(445))/4)+parseInt(t(441))/5+-parseInt(t(449))/6*(-parseInt(t(437))/7)+parseInt(t(444))/8*(parseInt(t(446))/9)+-parseInt(t(451))/10+-parseInt(t(443))/11*(-parseInt(t(440))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(W1,401031);function Z1(i,e,t,n,r,s,o){const a=l0,c=(t-e)/n;if(c<3){for(;e<t;e+=n)s[o++]=i[e],s[o++]=i[e+1];return o}const x=new Array(c);x[0]=1,x[c-1]=1;const A=[e,t-n];let l=0;for(;A[a(438)]>0;){const u=A[a(448)](),h=A.pop();let f=0;const g=i[h],d=i[h+1],p=i[u],I=i[u+1];for(let _=h+n;_<u;_+=n){const m=i[_],y=i[_+1],E=cw(m,y,g,d,p,I);E>f&&(l=_,f=E)}f>r&&(x[(l-e)/n]=1,h+n<l&&A[a(442)](h,l),l+n<u&&A[a(442)](l,u))}for(let u=0;u<c;++u)x[u]&&(s[o++]=i[e+u*n],s[o++]=i[e+u*n+1]);return o}function W1(){const i=["744QoYcqJ","12JYFzag","20772QiHRrF","round","pop","22818NUfxkj","1fIrYav","5480240ANhOcV","356973kHJvFb","1099UisGTS","length","735022NzWLVe","1020VMckRW","3423845uHFnJr","push","22913rWYYFn"];return W1=function(){return i},W1()}function vy(i,e,t,n,r,s,o,a){const c=l0;for(let x=0,A=t[c(438)];x<A;++x){const l=t[x];o=Z1(i,e,l,n,r,s,o),a.push(o),e=l}return o}function l0(i,e){const t=W1();return l0=function(n,r){return n=n-436,t[n]},l0(i,e)}function xs(i,e){return e*Math[l0(447)](i/e)}function C6(i,e,t,n,r,s,o){if(e==t)return o;let a=xs(i[e],r),c=xs(i[e+1],r);e+=n,s[o++]=a,s[o++]=c;let x,A;do if(x=xs(i[e],r),A=xs(i[e+1],r),e+=n,e==t)return s[o++]=x,s[o++]=A,o;while(x==a&&A==c);for(;e<t;){const l=xs(i[e],r),u=xs(i[e+1],r);if(e+=n,l==x&&u==A)continue;const h=x-a,f=A-c,g=l-a,d=u-c;if(h*d==f*g&&(h<0&&g<h||h==g||h>0&&g>h)&&(f<0&&d<f||f==d||f>0&&d>f)){x=l,A=u;continue}s[o++]=x,s[o++]=A,a=x,c=A,x=l,A=u}return s[o++]=x,s[o++]=A,o}function bp(i,e,t,n,r,s,o,a){const c=l0;for(let x=0,A=t[c(438)];x<A;++x){const l=t[x];o=C6(i,e,l,n,r,s,o),a[c(442)](o),e=l}return o}function b6(i,e,t,n,r,s,o,a){const c=l0;for(let x=0,A=t[c(438)];x<A;++x){const l=t[x],u=[];o=bp(i,e,l,n,r,s,o,u),a[c(442)](u),e=l[l.length-1]}return o}(function(i,e){const t=Bo,n=i();for(;;)try{if(parseInt(t(263))/1+-parseInt(t(269))/2+-parseInt(t(268))/3*(-parseInt(t(262))/4)+-parseInt(t(261))/5*(-parseInt(t(267))/6)+-parseInt(t(264))/7+parseInt(t(272))/8*(-parseInt(t(270))/9)+parseInt(t(266))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})($1,882180);function u0(i,e,t,n,r){const s=Bo;r=r!==void 0?r:[];let o=0;for(let a=e;a<t;a+=n)r[o++]=i[s(271)](a,a+n);return r[s(265)]=o,r}function Lx(i,e,t,n,r){const s=Bo;r=r!==void 0?r:[];let o=0;for(let a=0,c=t[s(265)];a<c;++a){const x=t[a];r[o++]=u0(i,e,x,n,r[o]),e=x}return r[s(265)]=o,r}function $1(){const i=["1463656agpHah","1091443bgcMhX","8547357IBdItG","length","13095900tDjlDt","186vcaSyY","3pJHHQX","1917292SGXfYl","117ZlwFRS","slice","743144pxYhnA","242345cAetFd"];return $1=function(){return i},$1()}function Bo(i,e){const t=$1();return Bo=function(n,r){return n=n-261,t[n]},Bo(i,e)}function Bp(i,e,t,n,r){const s=Bo;r=r!==void 0?r:[];let o=0;for(let a=0,c=t[s(265)];a<c;++a){const x=t[a];r[o++]=x[s(265)]===1&&x[0]===e?[]:Lx(i,e,x,n,r[o]),e=x[x[s(265)]-1]}return r.length=o,r}(function(i,e){const t=eu,n=i();for(;;)try{if(parseInt(t(261))/1+parseInt(t(260))/2*(parseInt(t(255))/3)+parseInt(t(263))/4*(-parseInt(t(257))/5)+-parseInt(t(262))/6*(parseInt(t(265))/7)+-parseInt(t(256))/8+parseInt(t(264))/9+parseInt(t(258))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(tu,992574);function tu(){const i=["7yigZVQ","461121aubrOX","2843544hbzwCk","70xFwIzE","6991360FJVAxH","length","2efZSup","1164441iUVcVQ","1801638IUaNGB","355724Rvzdqx","7884360uGBweg"];return tu=function(){return i},tu()}function Ry(i,e,t,n){let r=0;const s=i[t-n],o=i[t-n+1];let a=0,c=0;for(;e<t;e+=n){const x=i[e]-s,A=i[e+1]-o;r+=c*x-a*A,a=x,c=A}return r/2}function Sy(i,e,t,n){let r=0;for(let s=0,o=t.length;s<o;++s){const a=t[s];r+=Ry(i,e,a,n),e=a}return r}function eu(i,e){const t=tu();return eu=function(n,r){return n=n-255,t[n]},eu(i,e)}function B6(i,e,t,n){const r=eu;let s=0;for(let o=0,a=t[r(259)];o<a;++o){const c=t[o];s+=Sy(i,e,c,n),e=c[c[r(259)]-1]}return s}const wn=Gx;(function(i,e){const t=Gx,n=i();for(;;)try{if(-parseInt(t(212))/1+parseInt(t(209))/2*(parseInt(t(217))/3)+parseInt(t(216))/4*(parseInt(t(207))/5)+-parseInt(t(222))/6*(parseInt(t(228))/7)+parseInt(t(205))/8+-parseInt(t(208))/9+-parseInt(t(225))/10*(-parseInt(t(233))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(nu,204525);function Gx(i,e){const t=nu();return Gx=function(n,r){return n=n-202,t[n]},Gx(i,e)}function nu(){const i=["3039146ejZHVf","setFlatCoordinates","getRevision","slice","clone","2381952VjMAuX","getArea","1015CRaUOF","1331541mtcWPF","1182pOxSyi","flatCoordinates","changed","315093mnGxuU","intersectsExtent","getCoordinates","maxDeltaRevision_","5948LZKErP","573PKJEod","getType","getSimplifiedGeometryInternal","sqrt","maxDelta_","1362EYEENo","setCoordinates","closestPointXY","10yQsQPF","layout","LinearRing","9905VlgEjJ","length","stride","isArray","getExtent"];return nu=function(){return i},nu()}let Dy=class jm extends ss{constructor(e,t){const n=Gx;super(),this[n(221)]=-1,this[n(215)]=-1,t!==void 0&&!Array[n(231)](e[0])?this[n(234)](t,e):this[n(223)](e,t)}[wn(204)](){const e=wn;return new jm(this[e(210)][e(203)](),this[e(226)])}[wn(224)](e,t,n,r){const s=wn;return r<J0(this[s(232)](),e,t)?r:(this[s(215)]!=this[s(202)]()&&(this[s(221)]=Math[s(220)](mp(this.flatCoordinates,0,this[s(210)][s(229)],this.stride,0)),this[s(215)]=this[s(202)]()),yp(this[s(210)],0,this[s(210)][s(229)],this[s(230)],this[s(221)],!0,e,t,n,r))}[wn(206)](){const e=wn;return Ry(this[e(210)],0,this[e(210)][e(229)],this[e(230)])}[wn(214)](){const e=wn;return u0(this[e(210)],0,this[e(210)][e(229)],this[e(230)])}[wn(219)](e){const t=wn,n=[];return n[t(229)]=Z1(this[t(210)],0,this[t(210)].length,this.stride,e,n,0),new jm(n,"XY")}[wn(218)](){return wn(227)}[wn(213)](e){return!1}[wn(223)](e,t){const n=wn;this.setLayout(t,e,1),!this[n(210)]&&(this[n(210)]=[]),this[n(210)][n(229)]=X1(this.flatCoordinates,0,e,this.stride),this[n(211)]()}};const Pn=Nx;function iu(){const i=["getType","slice","1556429IxaoGf","setLayout","2230866qHYPHI","28GQgtgH","flatCoordinates","getCoordinates","15583410hGDWbY","length","stride","Point","computeExtent","1889825RRYmvv","intersectsExtent","40IukXZk","setCoordinates","clone","3725784CvTKqt","22241nqlwfO","layout","161120iDSVgp","closestPointXY"];return iu=function(){return i},iu()}(function(i,e){const t=Nx,n=i();for(;;)try{if(-parseInt(t(265))/1*(-parseInt(t(274))/2)+parseInt(t(273))/3+-parseInt(t(267))/4+-parseInt(t(259))/5+parseInt(t(264))/6+-parseInt(t(271))/7*(-parseInt(t(261))/8)+-parseInt(t(254))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(iu,637960);function Nx(i,e){const t=iu();return Nx=function(n,r){return n=n-253,t[n]},Nx(i,e)}let cs=class f4 extends ss{constructor(e,t){const n=Nx;super(),this[n(262)](e,t)}[Pn(263)](){const e=Pn,t=new f4(this[e(275)].slice(),this[e(266)]);return t.applyProperties(this),t}[Pn(268)](e,t,n,r){const s=Pn,o=this[s(275)],a=Z0(e,t,o[0],o[1]);if(a<r){const c=this[s(256)];for(let x=0;x<c;++x)n[x]=o[x];return n.length=c,a}return r}[Pn(253)](){const e=Pn;return this[e(275)][e(270)]()}[Pn(258)](e){return BE(this[Pn(275)],e)}[Pn(269)](){return Pn(257)}[Pn(260)](e){const t=Pn;return Q2(e,this.flatCoordinates[0],this[t(275)][1])}[Pn(262)](e,t){const n=Pn;this[n(272)](t,e,0),!this[n(275)]&&(this[n(275)]=[]),this[n(275)][n(255)]=y6(this.flatCoordinates,0,e,this[n(256)]),this.changed()}};(function(i,e){const t=Px,n=i();for(;;)try{if(parseInt(t(306))/1+-parseInt(t(307))/2+parseInt(t(309))/3*(-parseInt(t(305))/4)+-parseInt(t(312))/5*(-parseInt(t(313))/6)+-parseInt(t(311))/7+parseInt(t(315))/8*(-parseInt(t(314))/9)+parseInt(t(308))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ru,815059);function w6(i,e,t,n,r){return!vE(r,function(o){return!As(i,e,t,n,o[0],o[1])})}function As(i,e,t,n,r,s){let o=0,a=i[t-n],c=i[t-n+1];for(;e<t;e+=n){const x=i[e],A=i[e+1];c<=s?A>s&&(x-a)*(s-c)-(r-a)*(A-c)>0&&o++:A<=s&&(x-a)*(s-c)-(r-a)*(A-c)<0&&o--,a=x,c=A}return o!==0}function wp(i,e,t,n,r,s){const o=Px;if(t.length===0||!As(i,e,t[0],n,r,s))return!1;for(let a=1,c=t[o(310)];a<c;++a)if(As(i,t[a-1],t[a],n,r,s))return!1;return!0}function ru(){const i=["30724710FUgXaN","27VclpNp","length","7427623JdHhPx","1395GLyghW","16998xrTjGV","12585051vekrWZ","8tDZmrR","227532npiWHR","401905qTPEHL","956698eJiWGG"];return ru=function(){return i},ru()}function Px(i,e){const t=ru();return Px=function(n,r){return n=n-305,t[n]},Px(i,e)}function Q6(i,e,t,n,r,s){const o=Px;if(t[o(310)]===0)return!1;for(let a=0,c=t.length;a<c;++a){const x=t[a];if(wp(i,e,x,n,r,s))return!0;e=x[x[o(310)]-1]}return!1}(function(i,e){const t=Ux,n=i();for(;;)try{if(parseInt(t(496))/1*(parseInt(t(486))/2)+parseInt(t(488))/3*(-parseInt(t(487))/4)+parseInt(t(497))/5+parseInt(t(498))/6*(parseInt(t(489))/7)+-parseInt(t(500))/8*(-parseInt(t(495))/9)+-parseInt(t(491))/10+parseInt(t(493))/11*(-parseInt(t(492))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(su,427486);function su(){const i=["2968Gmwcgn","length","4858760gpgOqP","9204mjllmK","1958SMlkzV","sort","432kOpBqK","1haCAwn","1886065WUCrnm","2274KPDrIl","push","133160vpUpeM","587026JXqWcM","2321976bOsnlO","3qwgWml"];return su=function(){return i},su()}function Ux(i,e){const t=su();return Ux=function(n,r){return n=n-486,t[n]},Ux(i,e)}function Qp(i,e,t,n,r,s,o){const a=Ux;let c,x,A,l,u,h,f;const g=r[s+1],d=[];for(let _=0,m=t.length;_<m;++_){const y=t[_];for(l=i[y-n],h=i[y-n+1],c=e;c<y;c+=n)u=i[c],f=i[c+1],(g<=h&&f<=g||h<=g&&g<=f)&&(A=(g-h)/(f-h)*(u-l)+l,d[a(499)](A)),l=u,h=f}let p=NaN,I=-1/0;for(d[a(494)](Ji),l=d[0],c=1,x=d[a(490)];c<x;++c){u=d[c];const _=Math.abs(u-l);_>I&&(A=(l+u)/2,wp(i,e,t,n,A,g)&&(p=A,I=_)),l=u}return isNaN(p)&&(p=r[s]),o?(o[a(499)](p,g,I),o):[p,g,I]}function ky(i,e,t,n,r){const s=Ux;let o=[];for(let a=0,c=t[s(490)];a<c;++a){const x=t[a];o=Qp(i,e,x,n,r,2*a,o),e=x[x.length-1]}return o}(function(i,e){const t=ou,n=i();for(;;)try{if(-parseInt(t(503))/1*(-parseInt(t(509))/2)+-parseInt(t(496))/3*(-parseInt(t(508))/4)+parseInt(t(498))/5*(parseInt(t(502))/6)+parseInt(t(497))/7*(-parseInt(t(507))/8)+parseInt(t(505))/9*(parseInt(t(504))/10)+-parseInt(t(501))/11+-parseInt(t(500))/12*(parseInt(t(499))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(au,273115);function My(i,e,t,n,r){const s=ou;let o;for(e+=n;e<t;e+=n)if(o=r(i[s(506)](e-n,e),i[s(506)](e,e+n)),o)return o;return!1}function ou(i,e){const t=au();return ou=function(n,r){return n=n-496,t[n]},ou(i,e)}function au(){const i=["7405fQzPUL","117AxXGIu","1054344EcfjTW","187022gFqYra","942kMLQby","108UHIhgn","10IVFGKD","1179099DawaUd","slice","8aXtaDG","931084GKaHZx","6816wEJdfJ","6LvzPJE","813813XfdgQK"];return au=function(){return i},au()}function wo(i,e){const t=cu();return wo=function(n,r){return n=n-323,t[n]},wo(i,e)}(function(i,e){const t=wo,n=i();for(;;)try{if(parseInt(t(326))/1*(parseInt(t(330))/2)+parseInt(t(324))/3+parseInt(t(332))/4+parseInt(t(331))/5+-parseInt(t(325))/6+-parseInt(t(328))/7+parseInt(t(329))/8*(-parseInt(t(323))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(cu,228804);function xu(i,e,t,n,r){const s=QE(hi(),i,e,t,n);return we(r,s)?ki(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:My(i,e,t,n,function(o,a){return xw(r,o,a)}):!1}function v6(i,e,t,n,r){const s=wo;for(let o=0,a=t[s(327)];o<a;++o){if(xu(i,e,t[o],n,r))return!0;e=t[o]}return!1}function Fy(i,e,t,n,r){return!!(xu(i,e,t,n,r)||As(i,e,t,n,r[0],r[1])||As(i,e,t,n,r[0],r[3])||As(i,e,t,n,r[2],r[1])||As(i,e,t,n,r[2],r[3]))}function Ty(i,e,t,n,r){const s=wo;if(!Fy(i,e,t[0],n,r))return!1;if(t[s(327)]===1)return!0;for(let o=1,a=t.length;o<a;++o)if(w6(i,t[o-1],t[o],n,r)&&!xu(i,t[o-1],t[o],n,r))return!1;return!0}function R6(i,e,t,n,r){const s=wo;for(let o=0,a=t.length;o<a;++o){const c=t[o];if(Ty(i,e,c,n,r))return!0;e=c[c[s(327)]-1]}return!1}function cu(){const i=["848574ROlcmr","1044861ufShWA","1162320sqFLhp","244385Pjplwv","length","64526ZuMhxI","40DSvAPn","2kkYdmt","271820JDvIpg","1024544EDzZfG"];return cu=function(){return i},cu()}function S6(i,e,t,n){for(;e<t-n;){for(let r=0;r<n;++r){const s=i[e+r];i[e+r]=i[t-n+r],i[t-n+r]=s}e+=n,t-=n}}(function(i,e){const t=Qo,n=i();for(;;)try{if(-parseInt(t(311))/1*(parseInt(t(314))/2)+-parseInt(t(318))/3+parseInt(t(307))/4+parseInt(t(306))/5*(-parseInt(t(309))/6)+parseInt(t(313))/7*(parseInt(t(308))/8)+parseInt(t(315))/9+-parseInt(t(305))/10*(parseInt(t(316))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(lu,624618);function vp(i,e,t,n){let r=0,s=i[t-n],o=i[t-n+1];for(;e<t;e+=n){const a=i[e],c=i[e+1];r+=(a-s)*(c+o),s=a,o=c}return r===0?void 0:r>0}function Qo(i,e){const t=lu();return Qo=function(n,r){return n=n-305,t[n]},Qo(i,e)}function Rp(i,e,t,n,r){const s=Qo;r=r!==void 0?r:!1;for(let o=0,a=t[s(310)];o<a;++o){const c=t[o],x=vp(i,e,c,n);if(o===0){if(r&&x||!r&&!x)return!1}else if(r&&!x||!r&&x)return!1;e=c}return!0}function Ly(i,e,t,n,r){const s=Qo;for(let o=0,a=t[s(310)];o<a;++o){const c=t[o];if(!Rp(i,e,c,n,r))return!1;c[s(310)]&&(e=c[c[s(310)]-1])}return!0}function Au(i,e,t,n,r){r=r!==void 0?r:!1;for(let s=0,o=t.length;s<o;++s){const a=t[s],c=vp(i,e,a,n);(s===0?r&&c||!r&&!c:r&&!c||!r&&c)&&S6(i,e,a,n),e=a}return e}function Sp(i,e,t,n,r){for(let s=0,o=t.length;s<o;++s)e=Au(i,e,t[s],n,r);return e}function lu(){const i=["5584428GrxwFB","473OpEOxR","push","910473tqcpdO","65070QAWULY","5345TzwWVZ","658800zfxVvs","96ROhCIL","294ESldAv","length","83etlIYS","slice","642348ZKgQNx","15086DEaKGD"];return lu=function(){return i},lu()}function Gy(i,e){const t=Qo,n=[];let r=0,s=0,o;for(let a=0,c=e.length;a<c;++a){const x=e[a],A=vp(i,r,x,2);if(o===void 0&&(o=A),A===o)n.push(e[t(312)](s,a+1));else{if(n[t(310)]===0)continue;n[n[t(310)]-1][t(317)](e[s])}s=a+1,r=x}return n}const Lt=Ox;(function(i,e){const t=Ox,n=i();for(;;)try{if(parseInt(t(494))/1*(-parseInt(t(509))/2)+-parseInt(t(495))/3+parseInt(t(469))/4+parseInt(t(477))/5+parseInt(t(478))/6+parseInt(t(505))/7+-parseInt(t(472))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(uu,850487);function Ox(i,e){const t=uu();return Ox=function(n,r){return n=n-468,t[n]},Ox(i,e)}let vo=class Vm extends ss{constructor(e,t,n){const r=Ox;super(),this[r(490)]=[],this[r(474)]=-1,this[r(498)]=null,this[r(483)]=-1,this[r(493)]=-1,this[r(484)]=-1,this[r(473)]=null,t!==void 0&&n?(this.setFlatCoordinates(t,e),this.ends_=n):this[r(488)](e,t)}[Lt(503)](e){const t=Lt;this.flatCoordinates?Ki(this[t(479)],e.getFlatCoordinates()):this[t(479)]=e.getFlatCoordinates().slice(),this.ends_[t(491)](this[t(479)][t(501)]),this[t(475)]()}[Lt(489)](){const e=Lt,t=new Vm(this[e(479)][e(476)](),this[e(511)],this[e(490)][e(476)]());return t[e(514)](this),t}[Lt(506)](e,t,n,r){const s=Lt;return r<J0(this[s(496)](),e,t)?r:(this[s(493)]!=this[s(499)]()&&(this[s(483)]=Math[s(502)](Ep(this[s(479)],0,this.ends_,this.stride,0)),this[s(493)]=this[s(499)]()),Cp(this[s(479)],0,this[s(490)],this[s(504)],this[s(483)],!0,e,t,n,r))}[Lt(482)](e,t){const n=Lt;return wp(this[n(487)](),0,this[n(490)],this[n(504)],e,t)}[Lt(510)](){const e=Lt;return Sy(this[e(487)](),0,this[e(490)],this[e(504)])}[Lt(480)](e){const t=Lt;let n;return e!==void 0?(n=this[t(487)]().slice(),Au(n,0,this[t(490)],this[t(504)],e)):n=this[t(479)],Lx(n,0,this.ends_,this.stride)}[Lt(508)](){return this[Lt(490)]}[Lt(481)](){const e=Lt;if(this[e(474)]!=this.getRevision()){const t=fi(this[e(496)]());this[e(498)]=Qp(this.getOrientedFlatCoordinates(),0,this[e(490)],this[e(504)],t,0),this[e(474)]=this[e(499)]()}return this[e(498)]}[Lt(468)](){const e=Lt;return new cs(this[e(481)](),e(485))}getLinearRingCount(){const e=Lt;return this[e(490)][e(501)]}getLinearRing(e){const t=Lt;return e<0||this[t(490)].length<=e?null:new Dy(this.flatCoordinates[t(476)](e===0?0:this.ends_[e-1],this[t(490)][e]),this[t(511)])}getLinearRings(){const e=Lt,t=this[e(511)],n=this[e(479)],r=this.ends_,s=[];let o=0;for(let a=0,c=r[e(501)];a<c;++a){const x=r[a],A=new Dy(n[e(476)](o,x),t);s[e(491)](A),o=x}return s}[Lt(487)](){const e=Lt;if(this.orientedRevision_!=this.getRevision()){const t=this[e(479)];Rp(t,0,this.ends_,this.stride)?this[e(473)]=t:(this[e(473)]=t[e(476)](),this[e(473)].length=Au(this.orientedFlatCoordinates_,0,this[e(490)],this[e(504)])),this[e(484)]=this[e(499)]()}return this.orientedFlatCoordinates_}[Lt(492)](e){const t=Lt,n=[],r=[];return n[t(501)]=bp(this[t(479)],0,this[t(490)],this[t(504)],Math[t(502)](e),n,0,r),new Vm(n,"XY",r)}[Lt(470)](){return Lt(507)}[Lt(486)](e){const t=Lt;return Ty(this[t(487)](),0,this[t(490)],this[t(504)],e)}setCoordinates(e,t){const n=Lt;this[n(512)](t,e,2),!this[n(479)]&&(this[n(479)]=[]);const r=Tx(this[n(479)],0,e,this[n(504)],this[n(490)]);this[n(479)][n(501)]=r[n(501)]===0?0:r[r[n(501)]-1],this.changed()}};function Ny(i){const e=Lt;if(X0(i))throw new Error("Cannot create polygon from empty extent");const t=i[0],n=i[1],r=i[2],s=i[3],o=[t,n,t,s,r,s,r,n,t,n];return new vo(o,"XY",[o[e(501)]])}function uu(){const i=["getOrientedFlatCoordinates","setCoordinates","clone","ends_","push","getSimplifiedGeometryInternal","maxDeltaRevision_","5ZQoXRq","3726711LTqoal","getExtent","getLayout","flatInteriorPoint_","getRevision","getCenter","length","sqrt","appendLinearRing","stride","11083226UWyspx","closestPointXY","Polygon","getEnds","290606HTrGLJ","getArea","layout","setLayout","getStride","applyProperties","getInteriorPoint","423604BRCRhU","getType","sin","6149608VjTpou","orientedFlatCoordinates_","flatInteriorPointRevision_","changed","slice","4216130czrSSk","6332970EApDii","flatCoordinates","getCoordinates","getFlatInteriorPoint","containsXY","maxDelta_","orientedRevision_","XYM","intersectsExtent"];return uu=function(){return i},uu()}function hu(){const i=["resolutions_","nextCenter_","targetCenter_","cancelAnchor_","complete","The view center is not defined","getResolutionForZoom","491032dKXHyM","targetResolution","setHint","calculateCenterRotate","getType","isArray","targetResolution_","cancelAnimations","adjustResolution","centerOnInternal","maxResolution_","adjustCenterInternal","get","resolution","minResolution_","animateInternal","beginInteraction","rotatedExtentForGeometry","center","anchor","pow","getZoomForResolution","8312JlEeVo","maxZoom","calculateCenterShift","constrainResolution","constraint","getConstrainedCenter","clone","getConstrainedZoom","RESOLUTION","getCenter","The view resolution is not defined","getConstrainedResolution","setRotation","nearest","set","filter","getZoom","resolutions","getExtent","nextResolution_","multiWorld","calculateExtentInternal","projection","abs","log","viewportSize_","Cannot fit empty extent provided as `geometry`","getRotation","1197nysshp","adjustResolutionInternal","now","zoomFactor_","duration","assign","updateAnimationKey_","rotation","changed","getResolutionForValueFunction","endInteractionInternal","getViewportSizeMinusPadding_","getConstraints","sourceResolution","extent","applyOptions_","targetCenter","calculateExtent","getProjection","getViewportSize_","minZoom_","ROTATION","animations_","Invalid extent or geometry provided as `geometry`","setCenter","length","constrainOnlyCenter","getValueForResolutionFunction","getProperties","4216794xckzso","bind","adjustRotationInternal","getResolution","function","zoom","hints_","487201MTLYGa","EPSG:3857","zoomFactor","getViewStateAndExtent","updateAnimations_","getResolutionForExtentInternal","10857280UlzWXd","number","cos","slice","setResolution","setMaxZoom","padding_","getConstrainResolution","start","257295zIvaBS","maxResolution","adjustZoom","getInteracting","setViewportSize","min","setCenterInternal","getUpdatedOptions_","209165yFWkts","resolveConstraints","getStride","getCenterInternal","getState","constraints_","Circle","minResolution","targetRotation_","getMaxResolution","applyTargetState_","sourceRotation","ANIMATING","CENTER","smoothExtentConstraint","calculateCenterZoom","nextRotation_","setProperties","setConstrainResolution","getMinResolution","degrees","projection_","20waLKNO","showFullExtent","sin","INTERACTING","size","once","getAnimating","fit","easing","adjustRotation","targetRotation","push","getHints","isDef","sourceCenter","50oNhJmD","fitInternal","14quBsTv","setZoom","padding","transform","max","callback","minZoom","getResolutions","floor"];return hu=function(){return i},hu()}const G=zx;(function(i,e){const t=zx,n=i();for(;;)try{if(parseInt(t(600))/1+-parseInt(t(622))/2*(parseInt(t(592))/3)+parseInt(t(655))/4*(-parseInt(t(637))/5)+parseInt(t(570))/6*(parseInt(t(639))/7)+parseInt(t(513))/8*(parseInt(t(541))/9)+parseInt(t(583))/10+-parseInt(t(577))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(hu,709157);function zx(i,e){const t=hu();return zx=function(n,r){return n=n-494,t[n]},zx(i,e)}const Dp=0;let nr=class extends Wi{constructor(e){const t=zx;super(),this.on,this[t(627)],this.un,e=Object[t(546)]({},e),this[t(576)]=[0,0],this[t(563)]=[],this[t(547)],this[t(621)]=G2(e[t(535)],t(578)),this[t(538)]=[100,100],this[t(650)]=null,this[t(497)],this.targetRotation_,this[t(649)]=null,this[t(532)],this.nextRotation_,this[t(651)]=void 0,e[t(535)]&&TE(),e.center&&(e[t(509)]=Cr(e[t(509)],this[t(621)])),e[t(555)]&&(e.extent=Vi(e[t(555)],this[t(621)])),this[t(556)](e)}[G(556)](e){const t=G,n=Object[t(546)]({},e);for(const c in Fi)delete n[c];this[t(617)](n,!0);const r=k6(e);this[t(501)]=r.maxResolution,this[t(505)]=r[t(607)],this[t(544)]=r.zoomFactor,this[t(648)]=e[t(530)],this[t(589)]=e[t(641)],this[t(561)]=r[t(645)];const s=D6(e),o=r[t(517)],a=M6(e);this[t(605)]={center:s,resolution:o,rotation:a},this[t(525)](e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e[t(509)]:null),e[t(504)]!==void 0?this[t(587)](e.resolution):e[t(575)]!==void 0&&this[t(640)](e[t(575)])}get padding(){return this[G(589)]}set[G(641)](e){const t=G;let n=this[t(589)];this[t(589)]=e;const r=this.getCenterInternal();if(r){const s=e||[0,0,0,0];n=n||[0,0,0,0];const o=this[t(573)](),a=o/2*(s[3]-n[3]+n[1]-s[1]),c=o/2*(s[0]-n[0]+n[2]-s[2]);this[t(598)]([r[0]+a,r[1]-c])}}[G(599)](e){const t=G,n=this[t(569)]();return n[t(504)]!==void 0?n[t(504)]=this[t(573)]():n[t(575)]=this[t(529)](),n[t(509)]=this[t(603)](),n[t(548)]=this[t(540)](),Object.assign({},n,e)}animate(e){const t=G;this[t(635)]()&&!this[t(628)]()&&this[t(601)](0);const n=new Array(arguments.length);for(let r=0;r<n[t(566)];++r){let s=arguments[r];s[t(509)]&&(s=Object[t(546)]({},s),s[t(509)]=Cr(s.center,this.getProjection())),s[t(510)]&&(s=Object[t(546)]({},s),s[t(510)]=Cr(s[t(510)],this.getProjection())),n[r]=s}this[t(506)].apply(this,n)}animateInternal(e){const t=G;let n=arguments[t(566)],r;n>1&&typeof arguments[n-1]===t(574)&&(r=arguments[n-1],--n);let s=0;for(;s<n&&!this.isDef();++s){const l=arguments[s];l[t(509)]&&this[t(598)](l[t(509)]),l[t(575)]!==void 0?this[t(640)](l.zoom):l[t(504)]&&this[t(587)](l[t(504)]),l[t(548)]!==void 0&&this[t(525)](l[t(548)])}if(s===n){r&&fu(r,!0);return}let o=Date[t(543)](),a=this[t(650)][t(586)](),c=this[t(497)],x=this[t(608)];const A=[];for(;s<n;++s){const l=arguments[s],u={start:o,complete:!1,anchor:l[t(510)],duration:l.duration!==void 0?l[t(545)]:1e3,easing:l[t(630)]||l6,callback:r};if(l[t(509)]&&(u[t(636)]=a,u[t(557)]=l.center.slice(),a=u[t(557)]),l[t(575)]!==void 0?(u[t(554)]=c,u[t(656)]=this[t(654)](l[t(575)]),c=u[t(656)]):l[t(504)]&&(u.sourceResolution=c,u.targetResolution=l[t(504)],c=u.targetResolution),l[t(548)]!==void 0){u.sourceRotation=x;const h=no(l[t(548)]-x+Math.PI,2*Math.PI)-Math.PI;u[t(632)]=x+h,x=u[t(632)]}F6(u)?u[t(652)]=!0:o+=u[t(545)],A[t(633)](u)}this.animations_.push(A),this.setHint(de[t(612)],1),this[t(581)]()}[G(628)](){return this[G(576)][de.ANIMATING]>0}[G(595)](){const e=G;return this[e(576)][de[e(625)]]>0}[G(498)](){const e=G;this[e(657)](de.ANIMATING,-this.hints_[de[e(612)]]);let t;for(let n=0,r=this[e(563)].length;n<r;++n){const s=this[e(563)][n];if(s[0][e(644)]&&fu(s[0][e(644)],!1),!t)for(let o=0,a=s[e(566)];o<a;++o){const c=s[o];if(!c[e(652)]){t=c[e(510)];break}}}this[e(563)][e(566)]=0,this[e(651)]=t,this.nextCenter_=null,this[e(532)]=NaN,this[e(616)]=NaN}updateAnimations_(){const e=G;if(this[e(547)]!==void 0&&(cancelAnimationFrame(this[e(547)]),this[e(547)]=void 0),!this[e(628)]())return;const t=Date[e(543)]();let n=!1;for(let r=this.animations_[e(566)]-1;r>=0;--r){const s=this.animations_[r];let o=!0;for(let a=0,c=s.length;a<c;++a){const x=s[a];if(x[e(652)])continue;const A=t-x[e(591)];let l=x[e(545)]>0?A/x[e(545)]:1;l>=1?(x[e(652)]=!0,l=1):o=!1;const u=x[e(630)](l);if(x[e(636)]){const h=x.sourceCenter[0],f=x[e(636)][1],g=x[e(557)][0],d=x[e(557)][1];this[e(649)]=x[e(557)];const p=h+u*(g-h),I=f+u*(d-f);this[e(650)]=[p,I]}if(x[e(554)]&&x[e(656)]){const h=u===1?x.targetResolution:x[e(554)]+u*(x.targetResolution-x[e(554)]);if(x[e(510)]){const f=this[e(560)](this.getRotation()),g=this[e(605)][e(504)](h,0,f,!0);this[e(650)]=this[e(615)](g,x[e(510)])}this[e(532)]=x.targetResolution,this[e(497)]=h,this.applyTargetState_(!0)}if(x[e(611)]!==void 0&&x[e(632)]!==void 0){const h=u===1?no(x[e(632)]+Math.PI,2*Math.PI)-Math.PI:x.sourceRotation+u*(x[e(632)]-x.sourceRotation);if(x[e(510)]){const f=this.constraints_[e(548)](h,!0);this[e(650)]=this.calculateCenterRotate(f,x.anchor)}this[e(616)]=x[e(632)],this[e(608)]=h}if(this[e(610)](!0),n=!0,!x[e(652)])break}if(o){this[e(563)][r]=null,this[e(657)](de.ANIMATING,-1),this[e(649)]=null,this[e(532)]=NaN,this[e(616)]=NaN;const a=s[0][e(644)];a&&fu(a,!0)}}this[e(563)]=this.animations_[e(528)](Boolean),n&&this[e(547)]===void 0&&(this[e(547)]=requestAnimationFrame(this[e(581)][e(571)](this)))}[G(494)](e,t){const n=G;let r;const s=this[n(603)]();return s!==void 0&&(r=[s[0]-t[0],s[1]-t[1]],k2(r,e-this[n(540)]()),lw(r,t)),r}calculateCenterZoom(e,t){const n=G;let r;const s=this[n(603)](),o=this[n(573)]();if(s!==void 0&&o!==void 0){const a=t[0]-e*(t[0]-s[0])/o,c=t[1]-e*(t[1]-s[1])/o;r=[a,c]}return r}[G(560)](e){const t=G,n=this.viewportSize_;if(e){const r=n[0],s=n[1];return[Math.abs(r*Math[t(585)](e))+Math[t(536)](s*Math.sin(e)),Math[t(536)](r*Math[t(624)](e))+Math[t(536)](s*Math[t(585)](e))]}return n}[G(596)](e){const t=G;this.viewportSize_=Array[t(496)](e)?e[t(586)]():[100,100],!this[t(628)]()&&this[t(601)](0)}[G(522)](){const e=G,t=this[e(603)]();return t&&U2(t,this[e(559)]())}getCenterInternal(){const e=G;return this.get(Fi[e(613)])}[G(553)](){return this[G(605)]}[G(590)](){return this[G(503)]("constrainResolution")}[G(634)](e){const t=G;return e!==void 0?(e[0]=this[t(576)][0],e[1]=this[t(576)][1],e):this[t(576)].slice()}[G(558)](e){const t=G,n=this[t(534)](e);return O2(n,this.getProjection())}[G(534)](e){const t=G;e=e||this[t(552)]();const n=this.getCenterInternal();Qt(n,t(653));const r=this[t(573)]();Qt(r!==void 0,t(523));const s=this.getRotation();return Qt(s!==void 0,"The view rotation is not defined"),gl(n,r,s,e)}[G(609)](){return this.maxResolution_}[G(619)](){return this[G(505)]}getMaxZoom(){return this[G(512)](this.minResolution_)}[G(588)](e){const t=G;this.applyOptions_(this[t(599)]({maxZoom:e}))}getMinZoom(){const e=G;return this[e(512)](this[e(501)])}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}[G(618)](e){this[G(556)](this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this[G(621)]}getResolution(){const e=G;return this[e(503)](Fi[e(521)])}[G(646)](){return this[G(648)]}getResolutionForExtent(e,t){const n=G;return this[n(582)](Vi(e,this[n(559)]()),t)}[G(582)](e,t){t=t||this[G(552)]();const r=Ct(e)/t[0],s=Be(e)/t[1];return Math.max(r,s)}[G(550)](e){const t=G;e=e||2;const n=this[t(524)](this[t(501)]),r=this[t(505)],s=Math[t(537)](n/r)/Math[t(537)](e);return function(o){return n/Math.pow(e,o*s)}}[G(540)](){return this[G(503)](Fi.ROTATION)}[G(568)](e){const t=G,n=Math[t(537)](e||2),r=this.getConstrainedResolution(this[t(501)]),s=this[t(505)],o=Math[t(537)](r/s)/n;return function(a){return Math[t(537)](r/a)/n/o}}[G(552)](e){const t=G;let n=this.getViewportSize_(e);const r=this[t(589)];return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}[G(604)](){const e=G,t=this[e(559)](),n=this.getResolution(),r=this[e(540)]();let s=this[e(603)]();const o=this[e(589)];if(o){const a=this[e(552)]();s=kp(s,this.getViewportSize_(),[a[0]/2+o[3],a[1]/2+o[0]],n,r)}return{center:s[e(586)](0),projection:t!==void 0?t:null,resolution:n,nextCenter:this[e(649)],nextResolution:this[e(532)],nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}[G(580)](){const e=G;return{viewState:this.getState(),extent:this[e(558)]()}}[G(529)](){const e=G;let t;const n=this[e(573)]();return n!==void 0&&(t=this[e(512)](n)),t}getZoomForResolution(e){const t=G;let n=this[t(561)]||0,r,s;if(this[t(648)]){const o=Hl(this[t(648)],e,1);n=o,r=this[t(648)][o],o==this[t(648)][t(566)]-1?s=2:s=r/this[t(648)][o+1]}else r=this[t(501)],s=this[t(544)];return n+Math.log(r/e)/Math[t(537)](s)}[G(654)](e){const t=G;if(this[t(648)]){if(this.resolutions_[t(566)]<=1)return 0;const n=Qe(Math[t(647)](e),0,this.resolutions_[t(566)]-2),r=this[t(648)][n]/this[t(648)][n+1];return this.resolutions_[n]/Math.pow(r,Qe(e-n,0,1))}return this[t(501)]/Math.pow(this[t(544)],e-this[t(561)])}[G(629)](e,t){const n=G;let r;if(Qt(Array[n(496)](e)||typeof e.getSimplifiedGeometry===n(574),n(564)),Array.isArray(e)){Qt(!X0(e),n(539));const s=Vi(e,this.getProjection());r=Ny(s)}else if(e[n(495)]()===n(606)){const s=Vi(e[n(531)](),this.getProjection());r=Ny(s),r.rotate(this[n(540)](),fi(s))}else r=e;this[n(638)](r,t)}[G(508)](e){const t=G,n=this[t(540)](),r=Math[t(585)](n),s=Math.sin(-n),o=e.getFlatCoordinates(),a=e[t(602)]();let c=1/0,x=1/0,A=-1/0,l=-1/0;for(let u=0,h=o[t(566)];u<h;u+=a){const f=o[u]*r-o[u+1]*s,g=o[u]*s+o[u+1]*r;c=Math[t(597)](c,f),x=Math[t(597)](x,g),A=Math[t(643)](A,f),l=Math[t(643)](l,g)}return[c,x,A,l]}[G(638)](e,t){const n=G;t=t||{};let r=t[n(626)];!r&&(r=this[n(552)]());const s=t.padding!==void 0?t.padding:[0,0,0,0],o=t.nearest!==void 0?t[n(526)]:!1;let a;t[n(607)]!==void 0?a=t[n(607)]:t[n(514)]!==void 0?a=this.getResolutionForZoom(t[n(514)]):a=0;const c=this.rotatedExtentForGeometry(e);let x=this[n(582)](c,[r[0]-s[1]-s[3],r[1]-s[0]-s[2]]);x=isNaN(x)?a:Math[n(643)](x,a),x=this[n(524)](x,o?0:1);const A=this[n(540)](),l=Math[n(624)](A),u=Math.cos(A),h=fi(c);h[0]+=(s[1]-s[3])/2*x,h[1]+=(s[0]-s[2])/2*x;const f=h[0]*u-h[1]*l,g=h[1]*u+h[0]*l,d=this.getConstrainedCenter([f,g],x),p=t[n(644)]?t[n(644)]:oo;t[n(545)]!==void 0?this[n(506)]({resolution:x,center:d,duration:t[n(545)],easing:t.easing},p):(this.targetResolution_=x,this.targetCenter_=d,this[n(610)](!1,!0),fu(p,!0))}centerOn(e,t,n){this[G(500)](Cr(e,this.getProjection()),t,n)}centerOnInternal(e,t,n){const r=G;this[r(598)](kp(e,t,n,this[r(573)](),this[r(540)]()))}[G(515)](e,t,n,r){const s=G;let o;const a=this[s(589)];if(a&&e){const c=this.getViewportSizeMinusPadding_(-n),x=kp(e,r,[c[0]/2+a[3],c[1]/2+a[0]],t,n);o=[e[0]-x[0],e[1]-x[1]]}return o}isDef(){return!!this[G(603)]()&&this.getResolution()!==void 0}adjustCenter(e){const t=G,n=U2(this[t(650)],this[t(559)]());this[t(565)]([n[0]+e[0],n[1]+e[1]])}[G(502)](e){const t=G,n=this.targetCenter_;this[t(598)]([n[0]+e[0],n[1]+e[1]])}[G(499)](e,t){const n=G;t=t&&Cr(t,this.getProjection()),this[n(542)](e,t)}[G(542)](e,t){const n=G,r=this[n(628)]()||this[n(595)](),s=this[n(560)](this[n(540)]()),o=this.constraints_[n(504)](this.targetResolution_*e,0,s,r);t&&(this[n(650)]=this[n(615)](o,t)),this[n(497)]*=e,this[n(610)]()}[G(594)](e,t){const n=G;this[n(499)](Math[n(511)](this[n(544)],-e),t)}[G(631)](e,t){const n=G;t&&(t=Cr(t,this.getProjection())),this[n(572)](e,t)}[G(572)](e,t){const n=G,r=this[n(628)]()||this.getInteracting(),s=this[n(605)][n(548)](this[n(608)]+e,r);t&&(this[n(650)]=this[n(494)](s,t)),this[n(608)]+=e,this.applyTargetState_()}[G(565)](e){const t=G;this[t(598)](e&&Cr(e,this[t(559)]()))}[G(598)](e){const t=G;this[t(650)]=e,this[t(610)]()}[G(657)](e,t){const n=G;return this[n(576)][e]+=t,this[n(549)](),this[n(576)][e]}setResolution(e){const t=G;this[t(497)]=e,this[t(610)]()}[G(525)](e){const t=G;this[t(608)]=e,this.applyTargetState_()}[G(640)](e){const t=G;this.setResolution(this[t(654)](e))}[G(610)](e,t){const n=G,r=this[n(628)]()||this[n(595)]()||t,s=this[n(605)][n(548)](this.targetRotation_,r),o=this[n(560)](s),a=this[n(605)][n(504)](this[n(497)],0,o,r),c=this[n(605)][n(509)](this[n(650)],a,o,r,this.calculateCenterShift(this.targetCenter_,a,s,o));this.get(Fi[n(562)])!==s&&this.set(Fi[n(562)],s),this.get(Fi[n(521)])!==a&&(this[n(527)](Fi.RESOLUTION,a),this.set(n(575),this[n(529)](),!0)),(!c||!this[n(503)](Fi[n(613)])||!Cl(this[n(503)](Fi.CENTER),c))&&this[n(527)](Fi[n(613)],c),this[n(628)]()&&!e&&this.cancelAnimations(),this[n(651)]=void 0}resolveConstraints(e,t,n){const r=G;e=e!==void 0?e:200;const s=t||0,o=this[r(605)][r(548)](this[r(608)]),a=this[r(560)](o),c=this[r(605)].resolution(this[r(497)],s,a),x=this[r(605)][r(509)](this[r(650)],c,a,!1,this[r(515)](this[r(650)],c,o,a));if(e===0&&!this[r(651)]){this[r(497)]=c,this.targetRotation_=o,this[r(650)]=x,this.applyTargetState_();return}n=n||(e===0?this[r(651)]:void 0),this.cancelAnchor_=void 0,(this[r(573)]()!==c||this[r(540)]()!==o||!this[r(603)]()||!Cl(this.getCenterInternal(),x))&&(this[r(628)]()&&this[r(498)](),this[r(506)]({rotation:o,center:x,resolution:c,duration:e,easing:yo,anchor:n}))}[G(507)](){const e=G;this.resolveConstraints(0),this[e(657)](de[e(625)],1)}endInteraction(e,t,n){const r=G;n=n&&Cr(n,this[r(559)]()),this[r(551)](e,t,n)}[G(551)](e,t,n){const r=G;this[r(595)]()&&(this[r(657)](de[r(625)],-1),this[r(601)](e,t,n))}[G(518)](e,t){const n=G,r=this[n(560)](this[n(540)]());return this[n(605)][n(509)](e,t||this[n(573)](),r)}[G(520)](e,t){const n=G,r=this[n(654)](e);return this[n(512)](this[n(524)](r,t))}[G(524)](e,t){const n=G;t=t||0;const r=this[n(560)](this.getRotation());return this[n(605)][n(504)](e,t,r)}};function fu(i,e){setTimeout(function(){i(e)},0)}function D6(i){const e=G;if(i[e(555)]!==void 0){const n=i[e(614)]!==void 0?i[e(614)]:!0;return fy(i[e(555)],i.constrainOnlyCenter,n)}const t=G2(i.projection,e(578));if(i[e(533)]!==!0&&t.isGlobal()){const n=t[e(531)]().slice();return n[0]=-1/0,n[2]=1/0,fy(n,!1,!1)}return o6}function k6(i){const e=G;let t,n,r;const s=28,o=2;let a=i[e(645)]!==void 0?i[e(645)]:Dp,c=i[e(514)]!==void 0?i.maxZoom:s;const x=i[e(579)]!==void 0?i[e(579)]:o,A=i.multiWorld!==void 0?i[e(533)]:!1,l=i.smoothResolutionConstraint!==void 0?i.smoothResolutionConstraint:!0,u=i[e(623)]!==void 0?i[e(623)]:!1,h=G2(i.projection,e(578)),f=h[e(531)]();let g=i[e(567)],d=i[e(555)];if(!A&&!d&&h.isGlobal()&&(g=!1,d=f),i[e(530)]!==void 0){const p=i.resolutions;n=p[a],r=p[c]!==void 0?p[c]:p[p[e(566)]-1],i.constrainResolution?t=a6(p,l,!g&&d,u):t=dy(n,r,l,!g&&d,u)}else{const p=f?Math.max(Ct(f),Be(f)):360*Wr[e(620)]/h.getMetersPerUnit(),I=p/hp/Math[e(511)](o,Dp),_=I/Math[e(511)](o,s-Dp);n=i[e(593)],n!==void 0?a=0:n=I/Math.pow(x,a),r=i[e(607)],r===void 0&&(i[e(514)]!==void 0?i.maxResolution!==void 0?r=n/Math[e(511)](x,c):r=I/Math[e(511)](x,c):r=_),c=a+Math[e(647)](Math[e(537)](n/r)/Math[e(537)](x)),r=n/Math.pow(x,c-a),i[e(516)]?t=x6(x,n,r,l,!g&&d,u):t=dy(n,r,l,!g&&d,u)}return{constraint:t,maxResolution:n,minResolution:r,minZoom:a,zoomFactor:x}}function M6(i){const e=G;if(i.enableRotation!==void 0?i.enableRotation:!0){const n=i.constrainRotation;return n===void 0||n===!0?A6():n===!1?gy:typeof n===e(584)?c6(n):gy}return gp}function F6(i){const e=G;return!(i[e(636)]&&i[e(557)]&&!Cl(i[e(636)],i[e(557)])||i[e(554)]!==i[e(656)]||i[e(611)]!==i[e(632)])}function kp(i,e,t,n,r){const s=G,o=Math[s(585)](-r);let a=Math[s(624)](-r),c=i[0]*o-i[1]*a,x=i[1]*o+i[0]*a;c+=(e[0]/2-t[0])*n,x+=(t[1]-e[1]/2)*n,a=-a;const A=c*o-x*a,l=x*o+c*a;return[A,l]}const At=qx;(function(i,e){const t=qx,n=i();for(;;)try{if(parseInt(t(516))/1*(parseInt(t(510))/2)+parseInt(t(565))/3*(-parseInt(t(547))/4)+parseInt(t(536))/5*(parseInt(t(540))/6)+parseInt(t(560))/7+parseInt(t(501))/8*(-parseInt(t(551))/9)+parseInt(t(558))/10+-parseInt(t(518))/11*(-parseInt(t(500))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(du,788655);function du(){const i=["getLayerState","find","minResolution","map","layerStatesArray","viewState","5623868gAWzIY","dispatchEvent","ready","getRenderer","9268731bxRNlq","getMapInternal","maxZoom","getDeclutter","push","undefined","renderDeclutter","1964970QwldNj","setMap","4880554BuETGS","zoom","sourceChangeKey_","getLayersArray","calculateExtent","3nRMLKM","assign","source","getAttributions","maxResolution","SOURCE","sourceReady_","changed","sourceready","unrender","get","some","getData","36ChfXXw","8KyOPJY","dispose","render","getFeatures","visible","isVisible","getSource","createRenderer","extent","26sJuTpz","getSourceState","getLayerStatesArray","addChangeListener","prepareFrame","handleSourcePropertyChange_","53270HcQRHg","resolution","882937BBlgKz","setSource","once","rendered","set","getRenderSource","frameState","A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both.","CHANGE","getView","renderer_","disposeInternal","mapPrecomposeKey_","renderFrame","resolve","getState","getData2","renderDeferred","137005bnTZNk","layer","mapRenderKey_","handleSourceChange_","306wGnhmv"];return du=function(){return i},du()}function qx(i,e){const t=du();return qx=function(n,r){return n=n-491,t[n]},qx(i,e)}let ls=class extends uy{constructor(e){const t=qx,n=Object[t(566)]({},e);delete n[t(567)],super(n),this.on,this[t(520)],this.un,this[t(530)]=null,this.mapRenderKey_=null,this[t(562)]=null,this[t(528)]=null,this[t(493)]=!1,this.rendered=!1,e.render&&(this[t(503)]=e.render),e[t(544)]&&this[t(559)](e.map),this[t(513)](Vt.SOURCE,this[t(515)]);const r=e[t(567)]?e[t(567)]:null;this.setSource(r)}[At(563)](e){const t=At;return e=e||[],e[t(555)](this),e}[At(512)](e){const t=At;return e=e||[],e[t(555)](this[t(541)]()),e}[At(507)](){const e=At;return this.get(Vt[e(492)])||null}[At(523)](){return this[At(507)]()}[At(511)](){const e=At,t=this.getSource();return t?t[e(533)]():e(556)}[At(539)](){const e=At;this.changed(),!(this.sourceReady_||this.getSource()[e(533)]()!==e(549))&&(this[e(493)]=!0,this[e(548)](e(495)))}[At(515)](){const e=At;this[e(562)]&&(Wt(this[e(562)]),this[e(562)]=null),this.sourceReady_=!1;const t=this[e(507)]();t&&(this[e(562)]=wt(t,rt[e(526)],this[e(539)],this),t[e(533)]()===e(549)&&(this[e(493)]=!0,setTimeout(()=>{const n=e;this.dispatchEvent(n(495))},0))),this.changed()}[At(504)](e){const t=At;return this[t(528)]?this[t(528)].getFeatures(e):Promise[t(532)]([])}[At(499)](e){const t=At;return!this.renderer_||!this.rendered?null:this[t(528)][t(499)](e)}getData2(e,t){const n=At;return!this[n(528)]||!this[n(521)]?null:this.renderer_[n(534)](e,t)}[At(506)](e){const t=At;let n;const r=this[t(552)]();!e&&r&&(e=r[t(527)]()),e instanceof nr?n={viewState:e[t(533)](),extent:e[t(564)]()}:n=e,!n[t(545)]&&r&&(n[t(545)]=r.getLayerGroup()[t(512)]());let s;n[t(545)]?s=n[t(545)][t(542)](a=>a.layer===this):s=this[t(541)]();const o=this.getExtent();return Mp(s,n[t(546)])&&(!o||we(o,n[t(509)]))}getAttributions(e){var o;const t=At;if(!this[t(506)](e))return[];const n=(o=this[t(507)]())==null?void 0:o[t(568)]();if(!n)return[];const r=e instanceof nr?e.getViewStateAndExtent():e;let s=n(r);return!Array.isArray(s)&&(s=[s]),s}render(e,t){const n=At,r=this[n(550)]();return r[n(514)](e)?(this[n(521)]=!0,r[n(531)](e,t)):null}[At(496)](){const e=At;this[e(521)]=!1}[At(554)](){}[At(557)](e,t){}[At(535)](e){const t=At,n=this[t(550)]();n&&n.renderDeferred(e)}setMapInternal(e){const t=At;!e&&this[t(496)](),this[t(522)](Vt.MAP,e)}[At(552)](){return this[At(497)](Vt.MAP)}[At(559)](e){const t=At;this.mapPrecomposeKey_&&(Wt(this[t(530)]),this[t(530)]=null),!e&&this[t(494)](),this.mapRenderKey_&&(Wt(this[t(538)]),this.mapRenderKey_=null),e&&(this[t(530)]=wt(e,mi.PRECOMPOSE,n=>{const r=t,s=n,o=s[r(524)][r(545)],a=this[r(541)](!1);Qt(!o[r(498)](function(c){const x=r;return c.layer===a[x(537)]}),r(525)),o[r(555)](a)}),this[t(538)]=wt(this,rt[t(526)],e.render,e),this[t(494)]())}[At(519)](e){this[At(522)](Vt.SOURCE,e)}[At(550)](){const e=At;return!this[e(528)]&&(this.renderer_=this.createRenderer()),this[e(528)]}hasRenderer(){return!!this.renderer_}[At(508)](){return null}[At(529)](){const e=At;this[e(528)]&&(this[e(528)][e(502)](),delete this[e(528)]),this[e(519)](null),super[e(529)]()}};function Mp(i,e){const t=At;if(!i[t(505)])return!1;const n=e[t(517)];if(n<i[t(543)]||n>=i[t(491)])return!1;const r=e[t(561)];return r>i.minZoom&&r<=i[t(553)]}(function(i,e){for(var t=Fp,n=i();;)try{var r=parseInt(t(488))/1+parseInt(t(486))/2*(-parseInt(t(487))/3)+parseInt(t(485))/4*(-parseInt(t(478))/5)+-parseInt(t(480))/6+parseInt(t(482))/7+-parseInt(t(483))/8*(-parseInt(t(481))/9)+-parseInt(t(479))/10*(-parseInt(t(484))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(gu,233486);let T6=class extends ls{constructor(e){e=e||{},super(e)}};function Fp(i,e){var t=gu();return Fp=function(n,r){n=n-478;var s=t[n];return s},Fp(i,e)}function gu(){var i=["970DRGbnO","1581780HhOsea","9uSgZzC","733138bfTBGj","2223704HjRxpQ","60874RRDmvt","1031868jNvPca","425186SjDHYS","6ppWfZH","260774EgPEhH","5ryMllA"];return gu=function(){return i},gu()}const tn=Yx;(function(i,e){const t=Yx,n=i();for(;;)try{if(parseInt(t(327))/1+-parseInt(t(305))/2+parseInt(t(304))/3*(-parseInt(t(315))/4)+-parseInt(t(331))/5+parseInt(t(314))/6*(parseInt(t(321))/7)+-parseInt(t(340))/8*(parseInt(t(325))/9)+-parseInt(t(311))/10*(-parseInt(t(322))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(pu,525552);function Yx(i,e){const t=pu();return Yx=function(n,r){return n=n-302,t[n]},Yx(i,e)}function pu(){const i=["getSourceState","unshift","3315582PtHkkV","layer_","554816kjKrwg","load","IDLE","disposeInternal","706150FpexMm","staleKeys_","ready","getLayer","prependStaleKey","bind","renderIfReadyAndVisible","getData","prepareFrame","16IVNqlt","boundHandleImageChange_","target","3JSTpzp","1285566BqUAad","ERROR","LOADED","maxStaleKeys","getState","length","120QQBtzf","getStaleKeys","handleFontsChanged","108cHeMZi","1264612xQMUjJ","getVisible","handleImageChange_","renderFrame","CHANGE","loadImage","2359hpfMCO","1651496zEAyOk"];return pu=function(){return i},pu()}const L6=5;let G6=class extends yx{constructor(e){const t=Yx;super(),this[t(333)]=!0,this[t(302)]=this.handleImageChange_[t(336)](this),this[t(326)]=e,this.staleKeys_=new Array,this[t(308)]=L6}[tn(312)](){return this.staleKeys_}[tn(335)](e){const t=tn;this[t(332)][t(324)](e),this.staleKeys_[t(310)]>this[t(308)]&&(this[t(332)][t(310)]=this.maxStaleKeys)}getFeatures(e){return ot()}[tn(338)](e){return null}[tn(339)](e){return ot()}[tn(318)](e,t){return ot()}forEachFeatureAtCoordinate(e,t,n,r,s){}[tn(334)](){return this[tn(326)]}[tn(313)](){}[tn(317)](e){const t=tn,n=e[t(303)];(n[t(309)]()===W.LOADED||n.getState()===W[t(306)])&&this[t(337)]()}[tn(320)](e){const t=tn;let n=e[t(309)]();return n!=W[t(307)]&&n!=W[t(306)]&&e.addEventListener(rt[t(319)],this[t(302)]),n==W[t(329)]&&(e[t(328)](),n=e[t(309)]()),n==W.LOADED}[tn(337)](){const e=tn,t=this.getLayer();t&&t[e(316)]()&&t[e(323)]()===e(333)&&t.changed()}renderDeferred(e){}[tn(330)](){const e=tn;delete this[e(326)],super[e(330)]()}};(function(i,e){for(var t=Iu,n=i();;)try{var r=parseInt(t(229))/1+-parseInt(t(224))/2*(-parseInt(t(233))/3)+-parseInt(t(228))/4+-parseInt(t(226))/5*(parseInt(t(230))/6)+-parseInt(t(232))/7+parseInt(t(231))/8+parseInt(t(234))/9*(parseInt(t(236))/10);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_u,457026);function Iu(i,e){var t=_u();return Iu=function(n,r){n=n-224;var s=t[n];return s},Iu(i,e)}let Py=class extends di{constructor(e,t,n,r){var s=Iu;super(e),this[s(235)]=t,this[s(227)]=n,this[s(225)]=r}};function _u(){var i=["context","52570TnxiGF","frameState","218936tnYejW","529307HjBbpr","474UZRCeG","6669360EGAeJG","5284573FLGVlf","3516gIefOc","261432jfWIuo","inversePixelTransform","160oYvGQQ","460WeTOIT"];return _u=function(){return i},_u()}const Ei=Hx;(function(i,e){const t=Hx,n=i();for(;;)try{if(parseInt(t(431))/1*(parseInt(t(419))/2)+parseInt(t(429))/3+parseInt(t(417))/4*(-parseInt(t(414))/5)+-parseInt(t(421))/6+parseInt(t(425))/7+-parseInt(t(434))/8*(-parseInt(t(418))/9)+-parseInt(t(416))/10*(parseInt(t(432))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(mu,855018);function Hx(i,e){const t=mu();return Hx=function(n,r){return n=n-410,t[n]},Hx(i,e)}function mu(){const i=["context_","offset","function","1638153UbcFET","forEach","1602283NvufIi","22gJeKue","zIndex","348272bDQAma","push","length","getContext","offset_","8720whBuUU","pushMethodArgs_","11707130CIyWCt","380GiVCqc","333wQNEIg","2FTPNkz","instructions_","9878340KalDip","draw","pushFunction","clear","8745954yxSJbN"];return mu=function(){return i},mu()}let Tp=class{constructor(){Ne(this,u4,(...e)=>{const t=Ei;return this[t(420)][this[t(433)]+this[t(413)]][t(410)](e),this});const e=Hx;this[e(420)]=[],this[e(433)]=0,this.offset_=0,this.context_=new Proxy(Pl(),{get:(t,n)=>{const r=e;if(typeof Pl()[n]===r(428))return!this[r(420)][this[r(433)]+this[r(413)]]&&(this[r(420)][this[r(433)]+this[r(413)]]=[]),this[r(420)][this[r(433)]+this.offset_][r(410)](n),this[r(415)]},set:(t,n,r)=>{const s=e;return!this[s(420)][this[s(433)]+this[s(413)]]&&(this[s(420)][this.zIndex+this[s(413)]]=[]),this[s(420)][this[s(433)]+this[s(413)]][s(410)](n,r),!0}})}[(u4=Ei(415),Ei(423))](e){const t=Ei;this[t(420)][this.zIndex+this[t(413)]].push(e)}[Ei(412)](){return this[Ei(426)]}[Ei(422)](e){const t=Ei;this[t(420)][t(430)](n=>{const r=t;for(let s=0,o=n[r(411)];s<o;++s){const a=n[s];if(typeof a===r(428)){a(e);continue}const c=n[++s];if(typeof e[a]===r(428))e[a](...c);else{if(typeof c===r(428)){e[a]=c(e);continue}e[a]=c}}})}[Ei(424)](){const e=Ei;this[e(420)][e(411)]=0,this[e(433)]=0,this[e(413)]=0}[Ei(427)](){const e=Ei;this.offset_=this[e(420)][e(411)],this[e(433)]=0}};const ve=jx;(function(i,e){const t=jx,n=i();for(;;)try{if(-parseInt(t(311))/1+parseInt(t(273))/2*(-parseInt(t(275))/3)+parseInt(t(283))/4+-parseInt(t(304))/5*(parseInt(t(280))/6)+parseInt(t(256))/7*(-parseInt(t(258))/8)+parseInt(t(261))/9+parseInt(t(274))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Eu,843788);function Eu(){const i=["renderDeferredInternal","280vEyKUA","container","position","2127609HfWeqS","postRender","clearRect","absolute","tempTransform","context","div","getContext","getLayer","height","deferredContext_","POSTRENDER","1841388wwOUds","21255660iMLJqm","3iqvwsu","getImageData","viewState","lineTo","100%","3128682uXVxbf","round","className","5141340ssuMfG","rotation","firstElementChild","appendChild","renderedResolution","getClassName","clipUnrotated","dispatchEvent","transform","moveTo","getRenderTransform","canvas","pixelTransform","clear","data","declutter","pixelRatio","inversePixelTransform","dispatchRenderEvent_","disposeInternal","containerReused","5RKdySx","resolution","beginPath","getBackground","prepareContainer","transformOrigin","top left","157268YMqQbE","drawImage","left","coordinateToPixelTransform","draw","width","frameState","useContainer","backgroundColor","function","getRenderContext","extent","size","save","style","240821HBCnnf"];return Eu=function(){return i},Eu()}function jx(i,e){const t=Eu();return jx=function(n,r){return n=n-251,t[n]},jx(i,e)}const Uy=[];let Ro=null;function N6(){Ro=fe(1,1,void 0,{willReadFrequently:!0})}let Lp=class extends G6{constructor(e){const t=jx;super(e),this[t(259)]=null,this[t(287)],this[t(265)]=Nn(),this[t(295)]=Nn(),this[t(300)]=Nn(),this[t(266)]=null,this[t(271)]=null,this.containerReused=!1,this[t(317)]=null}[ve(276)](e,t,n){const r=ve;!Ro&&N6(),Ro[r(263)](0,0,1,1);let s;try{Ro[r(312)](e,t,n,1,1,0,0,1,1),s=Ro[r(276)](0,0,1,1)[r(297)]}catch{return Ro=null,null}return s}getBackground(e){const t=ve;let r=this[t(269)]()[t(307)]();return typeof r===t(320)&&(r=r(e.viewState.resolution)),r||void 0}[ve(318)](e,t,n){const r=ve,s=this[r(269)]()[r(288)]();let o,a;if(e&&e.className===s&&(!n||e&&e[r(255)][r(319)]&&o0(ux(e[r(255)][r(319)]),ux(n)))){const c=e[r(285)];c instanceof HTMLCanvasElement&&(a=c[r(268)]("2d"))}if(a&&a[r(294)][r(255)][r(291)]===t?(this[r(259)]=e,this[r(266)]=a,this[r(303)]=!0):this[r(303)]?(this[r(259)]=null,this[r(266)]=null,this[r(303)]=!1):this.container&&(this.container[r(255)][r(319)]=null),!this[r(259)]){o=document.createElement(r(267)),o[r(282)]=s;let c=o[r(255)];c[r(260)]=r(264),c[r(316)]="100%",c[r(270)]=r(279),a=fe();const x=a.canvas;o[r(286)](x),c=x.style,c[r(260)]=r(264),c[r(313)]="0",c[r(309)]=r(310),this.container=o,this[r(266)]=a}!this.containerReused&&n&&!this.container[r(255)][r(319)]&&(this.container.style[r(319)]=n)}[ve(289)](e,t,n){const r=ve,s=Er(n),o=pl(n),a=dl(n),c=fl(n);Ue(t[r(314)],s),Ue(t[r(314)],o),Ue(t[r(314)],a),Ue(t[r(314)],c);const x=this[r(300)];Ue(x,s),Ue(x,o),Ue(x,a),Ue(x,c),e[r(254)](),e[r(306)](),e[r(292)](Math[r(281)](s[0]),Math[r(281)](s[1])),e[r(278)](Math[r(281)](o[0]),Math[r(281)](o[1])),e[r(278)](Math.round(a[0]),Math[r(281)](a[1])),e.lineTo(Math.round(c[0]),Math[r(281)](c[1])),e.clip()}[ve(308)](e,t){const n=ve,r=e[n(252)],s=e[n(277)][n(305)],o=e[n(277)][n(284)],a=e[n(299)],c=Math[n(281)](Ct(r)/s*a),x=Math[n(281)](Be(r)/s*a);er(this[n(295)],e[n(253)][0]/2,e[n(253)][1]/2,1/a,1/a,o,-c/2,-x/2),my(this[n(300)],this.pixelTransform);const A=g6(this[n(295)]);if(this[n(318)](t,A,this.getBackground(e)),!this[n(303)]){const l=this.context[n(294)];l[n(316)]!=c||l[n(270)]!=x?(l[n(316)]=c,l[n(270)]=x):this[n(266)][n(263)](0,0,c,x),A!==l[n(255)][n(291)]&&(l[n(255)][n(291)]=A)}}[ve(301)](e,t,n){const r=ve,s=this[r(269)]();if(s.hasListener(e)){const o=new Py(e,this[r(300)],n,t);s[r(290)](o)}}preRender(e,t){const n=ve;this[n(317)]=t,!t.declutter&&this[n(301)](mi.PRERENDER,e,t)}[ve(262)](e,t){const n=ve;t[n(298)]||this[n(301)](mi.POSTRENDER,e,t)}[ve(257)](e){}[ve(251)](e){const t=ve;return e[t(298)]&&!this[t(271)]&&(this[t(271)]=new Tp),e[t(298)]?this[t(271)][t(268)]():this.context}renderDeferred(e){const t=ve;e.declutter&&(this.dispatchRenderEvent_(mi.PRERENDER,this[t(266)],e),e[t(298)]&&this[t(271)]&&(this.deferredContext_[t(315)](this[t(266)]),this.deferredContext_[t(296)]()),this[t(257)](e),this[t(301)](mi[t(272)],this.context,e))}[ve(293)](e,t,n,r,s,o,a){const c=ve,x=s/2,A=o/2,l=r/t,u=-l,h=-e[0]+a,f=-e[1];return er(this[c(265)],x,A,l,u,-n,h,f)}[ve(302)](){const e=ve;delete this[e(317)],super[e(302)]()}};const yu=So;(function(i,e){const t=So,n=i();for(;;)try{if(-parseInt(t(160))/1+parseInt(t(138))/2+-parseInt(t(175))/3+-parseInt(t(158))/4+parseInt(t(179))/5+-parseInt(t(157))/6*(-parseInt(t(149))/7)+-parseInt(t(137))/8*(-parseInt(t(173))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Cu,330737);function Cu(){const i=["2176955jWOqcK","floor","width","context","getResolution","save","getState","INTERACTING","pixelRatio","resolution","8144tnRGdk","724502IixUgF","restore","viewHints","extent","tempTransform","loadImage","height","getExtent","layerIndex","drawImage","getSource","147252rxPucB","getRenderContext","ANIMATING","projection","opacity","viewState","imageSmoothingEnabled","preRender","24QSwpdm","2279492QcfDFg","layerStatesArray","577231iTnLfT","frameState","getLayer","clipUnrotated","getPixelRatio","slice","getImageData","isArray","globalAlpha","getImage","prepareFrame","pixelToCoordinateTransform","canvas","7767QcZUAa","image","847437HqKhmx","EMPTY","center","postRender"];return Cu=function(){return i},Cu()}function So(i,e){const t=Cu();return So=function(n,r){return n=n-132,t[n]},So(i,e)}let P6=class extends Lp{constructor(e){const t=So;super(e),this[t(174)]=null}getImage(){const e=So;return this[e(174)]?this[e(174)][e(169)]():null}[yu(170)](e){const t=yu,n=e[t(159)][e[t(146)]],r=e[t(135)],s=e[t(154)],o=s.resolution,a=this[t(162)]()[t(148)](),c=e[t(140)];let x=e[t(141)];if(n.extent!==void 0&&(x=Cn(x,Vi(n[t(141)],s[t(152)]))),!c[de[t(151)]]&&!c[de[t(134)]]&&!X0(x))if(a){const A=s.projection,l=a[t(169)](x,o,r,A);l&&(this[t(143)](l)?this[t(174)]=l:l[t(133)]()===W[t(176)]&&(this[t(174)]=null))}else this[t(174)]=null;return!!this[t(174)]}getData(e){const t=yu,n=this[t(161)];if(!n)return null;const r=this[t(162)](),s=Ue(n[t(171)],e[t(165)]()),o=r[t(145)]();if(o&&!K0(o,s))return null;const a=this[t(174)].getExtent(),c=this[t(174)][t(169)](),x=Ct(a),A=Math.floor(c[t(181)]*((s[0]-a[0])/x));if(A<0||A>=c[t(181)])return null;const l=Be(a),u=Math[t(180)](c.height*((a[3]-s[1])/l));return u<0||u>=c[t(144)]?null:this[t(166)](c,A,u)}renderFrame(e,t){const n=yu,r=this[n(174)],s=r.getExtent(),o=r[n(183)](),[a,c]=Array[n(167)](o)?o:[o,o],x=r[n(164)](),A=e[n(159)][e[n(146)]],l=e[n(135)],u=e[n(154)],h=u[n(177)],f=u[n(136)],g=l*a/(f*x),d=l*c/(f*x);this.prepareContainer(e,t);const p=this[n(182)][n(172)][n(181)],I=this[n(182)][n(172)][n(144)],_=this[n(150)](e);let m=!1,y=!0;if(A[n(141)]){const Q=Vi(A[n(141)],u.projection);y=we(Q,e.extent),m=y&&!ki(Q,e[n(141)]),m&&this[n(163)](_,e,Q)}const E=r[n(169)](),C=er(this[n(142)],p/2,I/2,g,d,0,x*(s[0]-h[0])/a,x*(h[1]-s[3])/c);this.renderedResolution=c*l/x;const b=E.width*C[0],B=E.height*C[3];if(!this[n(162)]()[n(148)]().getInterpolate()&&(_[n(155)]=!1),this[n(156)](_,e),y&&b>=.5&&B>=.5){const Q=C[4],w=C[5],R=A[n(153)];R!==1&&(_[n(132)](),_[n(168)]=R),_[n(147)](E,0,0,+E[n(181)],+E[n(144)],Q,w,b,B),R!==1&&_[n(139)]()}return this[n(178)](this[n(182)],e),m&&_[n(139)](),_[n(155)]=!0,this.container}};function bu(){var i=["1208AILhnE","26739vXhkVK","createRenderer","17246141PtXkSM","24ofHLKm","6bpiMkX","getData","1049692JXtUob","1123180IVhtaM","2JtpFJR","343819PqJQqP","6848090DQqaFO","1585400QpwwyJ"];return bu=function(){return i},bu()}function Bu(i,e){var t=bu();return Bu=function(n,r){n=n-298;var s=t[n];return s},Bu(i,e)}var Gp=Bu;(function(i,e){for(var t=Bu,n=i();;)try{var r=-parseInt(t(304))/1*(parseInt(t(303))/2)+-parseInt(t(299))/3*(-parseInt(t(306))/4)+parseInt(t(302))/5+parseInt(t(298))/6*(-parseInt(t(301))/7)+-parseInt(t(307))/8*(parseInt(t(308))/9)+-parseInt(t(305))/10+parseInt(t(310))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(bu,508094);let Np=class extends T6{constructor(e){super(e)}[Gp(309)](){return new P6(this)}[Gp(300)](e){var t=Gp;return super[t(300)](e)}};function Oy(i,e,t){const n=i.createShader(e);if(i.shaderSource(n,t),i.compileShader(n),!i.getShaderParameter(n,i.COMPILE_STATUS))throw new Error(i.getShaderInfoLog(n));return n}function U6(i,e,t){const n=i.createProgram(),r=Oy(i,i.VERTEX_SHADER,e),s=Oy(i,i.FRAGMENT_SHADER,t);if(i.attachShader(n,r),i.attachShader(n,s),i.linkProgram(n),!i.getProgramParameter(n,i.LINK_STATUS))throw new Error(i.getProgramInfoLog(n));const o={program:n},a=i.getProgramParameter(n,i.ACTIVE_ATTRIBUTES);for(let x=0;x<a;x++){const A=i.getActiveAttrib(n,x);o[A.name]=i.getAttribLocation(n,A.name)}const c=i.getProgramParameter(n,i.ACTIVE_UNIFORMS);for(let x=0;x<c;x++){const A=i.getActiveUniform(n,x);o[A.name]=i.getUniformLocation(n,A.name)}return o}function Pp(i,e,t,n,r){const s=i.createTexture();return i.bindTexture(i.TEXTURE_2D,s),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),t instanceof Uint8Array?i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n,r,0,i.RGBA,i.UNSIGNED_BYTE,t):t instanceof Float32Array?i.texImage2D(i.TEXTURE_2D,0,i.R32F,n,r,0,i.RED,i.FLOAT,t):t instanceof Int32Array?i.texImage2D(i.TEXTURE_2D,0,i.R32I,n,r,0,i.RED_INTEGER,i.INT,t):i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t),i.bindTexture(i.TEXTURE_2D,null),s}function Up(i,e,t){i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,e)}function Op(i,e){const t=i.createBuffer();return i.bindBuffer(i.ARRAY_BUFFER,t),i.bufferData(i.ARRAY_BUFFER,e,i.STATIC_DRAW),t}function zy(i,e,t,n){i.bindBuffer(i.ARRAY_BUFFER,e),i.enableVertexAttribArray(t),i.vertexAttribPointer(t,n,i.FLOAT,!1,0,0)}const O6=`#version 300 es
>>>>>>> Stashed changes
in vec2 aVertexCoords;
in vec2 aPixelCoords;
out vec2 vPixelCoords;
void main(void) {
    gl_Position = vec4(aVertexCoords , 1.0, 1.0);
    // vTextureCoords = aTextureCoords;
    // vCRSCoords = aCRSCoords;
    vPixelCoords = aPixelCoords;
<<<<<<< Updated upstream
}`,J7=`#version 300 es
=======
}`,z6=`#version 300 es
>>>>>>> Stashed changes
precision highp float;
in vec2 vPixelCoords;
out vec4 outColor;

uniform sampler2D uColorRamp;
uniform sampler2D spotTexture1;
uniform sampler2D spotTexture2;
 uniform float u_min;
 uniform float u_max;
uniform float ramp_min;
uniform float ramp_max;
uniform vec2 bound1_min;
uniform vec2 bound1_max;
uniform vec2 bound2_min;
uniform vec2 bound2_max;

uniform int projCode;

const float PI = 3.14159265359;
const vec2 worldCoordxMin = vec2(-180.0,-90.0);
const vec2 worldCoordxMax = vec2(180.0,90.0);
vec2 mercatorToWGS84(vec2 xy) {
//4326坐标系

  if(projCode==4326){
      return  vec2(mod(xy.x, 1.0), xy.y);
    //   vec2(mod(xy.x, 1.0), xy.y);
    }
     else if(projCode==3857){
     //    return vec2(mod(xy.x, 1.0), xy.y);
    // convert lat into an angle
    float y = radians(180.0 - xy.y * 360.0);
    // use the formula to convert mercator -> WGS84
    y = 360.0 / PI  * atan(exp(y)) - 90.0;
    // normalize back into 0..1 interval
    y = y / -180.0 + 0.5;
    // pass lng through, as it doesn't change
    return vec2(mod(xy.x , 1.0), y);
     }
}
void main(void) {
    // 获取该位置的U、V 默认UV纹理覆盖整个世界
    // vec2 pos = mercatorToWGS84(vLatLngCoords);
    // vec2 pos_world = mercatorToWGS84(vPixelCoords);
    vec2 pos_world = mercatorToWGS84(vPixelCoords);
    vec2 lnglat = mix(worldCoordxMin,worldCoordxMax,pos_world);
    vec2 lnglat_valid = clamp(lnglat,bound1_min,bound1_max);
    vec2 lnglat_valid2 = clamp(lnglat,bound2_min,bound2_max);
    if (lnglat == lnglat_valid) {
        vec2 pos = clamp((lnglat-bound1_min) / (bound1_max-bound1_min) , vec2(0.0,0.0),vec2(1.0,1.0));
        vec4 texelColour = texture(spotTexture1,vec2(pos.x,1.0 - pos.y));
        float value = texelColour.r;
        float speed_t = clamp((value-ramp_min) / (ramp_max-ramp_min) , 0.0,1.0);
        // color ramp is encoded in a 16x16 texture
        // 根据速度占比
        vec2 ramp_pos = vec2(
            fract(16.0 * speed_t),
            floor(16.0 * speed_t) / 16.0);
        // 获取该点的颜色
        vec4 lengedColor =  texture(uColorRamp, ramp_pos);


         if(value>u_min&&value<u_max){
             outColor = lengedColor;
         }
         else{
            discard;
           //outColor = lengedColor;
         }
    }
    else if (lnglat == lnglat_valid2){
        vec2 pos = clamp((lnglat-bound2_min) / (bound2_max-bound2_min) , vec2(0.0,0.0),vec2(1.0,1.0));
        vec4 texelColour = texture(spotTexture2,vec2(pos.x,1.0 - pos.y));
        float value = texelColour.r;
        float speed_t = clamp((value-ramp_min) / (ramp_max-ramp_min) , 0.0,1.0);
        // color ramp is encoded in a 16x16 texture
        // 根据速度占比
        vec2 ramp_pos = vec2(
            fract(16.0 * speed_t),
            floor(16.0 * speed_t) / 16.0);
        // 获取该点的颜色
        vec4 lengedColor =  texture(uColorRamp, ramp_pos);

       if(value>u_min&&value<u_max){
         outColor = lengedColor;
         }
         else{
            discard;
        //   outColor = lengedColor;
         }
        // outColor = lengedColor;
    }
    else {
        discard;
    }
<<<<<<< Updated upstream
}`;var Z7=class extends ey{constructor(e,t){super(t),this.map=e,this.projCode=e.getView().getProjection().getCode().split(":")[1],this.options=t,this.loadfirst=!1,this._sourceStatus=0,this._tiffObject=null,this.canvas=null,this.rasterDatas=null,this.initLoadData=!0,this.worldfirstExtent=null,this.firstBool=!0,this.setProperties(t),this.interpolateType={linear:{colorRampTexture:"linear",spotTexture:"linear",colortype:"gradient"},nearest:{colorRampTexture:"nearest",spotTexture:"linear",colortype:"region"},grid:{colorRampTexture:"nearest",spotTexture:"nearest",colortype:"gradient"}},this.u_min=-9999999,this.u_max=9999999}async _render1(){return this.firstBool&&(this.firstBool=!1,this.once("postrender",e=>{this.drawGridNumber(this.rasterDatas)})),this.AddfillMultiWebGLLayer()}isViewExtentEqual(e){const t=this.map.getView().calculateExtent(this.map.getSize());return JSON.stringify(t)===JSON.stringify(e)}drawGridNumber(e){if(!(this.worldfirstExtent&&this.isViewExtentEqual(this.worldfirstExtent))){if(this.worldfirstExtent=this.map.getView().calculateExtent(this.map.getSize()),this.initLoadData==!0){this.initLoadData=!1;const t=this.map.getView().getProjection().getCode(),n=new gB({ratio:1,projection:t,canvasFunction:(r,s,a,o)=>(this.worldExtent=r,this.worldPixelRatio=a,this.canvas.width=o[0],this.canvas.height=o[1],this._render(),this.canvas)});this.setSource(n)}this.rasterDatas=e,this._render(),this._reset()}}updateStyle(e){var s;this.options.colors=e.colors;let t=this.convertColor(e),n=this.interpolateType[(e==null?void 0:e.interpolation)||((s=this.options)==null?void 0:s.interpolation)||"linear"];console.log("colorRampType",n);let r=this.gl.LINEAR;switch(n.colorRampTexture){case"linear":r=this.gl.LINEAR;break;case"nearest":r=this.gl.NEAREST;break}this.colorRampTexture=ty(this.gl,r,this.makeCilirRamp(t),16,16),this._render(),this._reset()}convertColor(e){let{colors:t}=e;return t=t.map(n=>{const s=`rgba(${n[1].join(",")})`;return[n[0],s]}),t}async AddfillMultiWebGLLayer(){return await new Promise(e=>{var o;let t=this.convertColor(this.options);this.worldExtent=this.map.getView().calculateExtent(this.map.getSize());const n=this.map.getView().getProjection().getCode();this.canvas=document.createElement("canvas"),this._initCanvas(),this.program=j7(this.gl,K7,J7),this.gl.useProgram(this.program.program),this.vertexCoordsBuffer=iy(this.gl,new Float32Array([-1,1,-1,-1,1,1,1,-1])),this.pixelCoordsBuffer=iy(this.gl,new Float32Array([0,1,0,0,1,1,1,0]));let r=this.interpolateType[((o=this.options)==null?void 0:o.interpolation)||"linear"],s=this.gl.LINEAR;switch(r.colorRampTexture){case"linear":s=this.gl.LINEAR;break;case"nearest":s=this.gl.NEAREST;break}this.colorRampTexture=ty(this.gl,s,this.makeCilirRamp(t),16,16);const a=new gB({ratio:1,projection:n,canvasFunction:(l,c,x,u)=>(this.worldExtent=l,this.worldPixelRatio=x,this.canvas.width=u[0],this.canvas.height=u[1],this._render(),this.canvas)});return this.setSource(a),e(this)})}_reset(){this._updateData()}async _updateData(){var n,r;let e=this.rasterDatas;if(e==null)return;let t;for(let s in e){const a=e[s];t=a[0];let o=new Float32Array(t.length);for(let g=0;g<t.length;g++){const d=t[g];o[g]=this.getRealValue(d,(n=a==null?void 0:a.params)==null?void 0:n.metadata)}console.log("cogtif--dataTArray",o);const l=parseInt(s)+1,c="spotTexture"+l,x="bound"+l+"_min",u="bound"+l+"_max";let h=this.interpolateType[((r=this.options)==null?void 0:r.interpolation)||"linear"],f=this.gl.LINEAR;switch(h.spotTexture){case"linear":f=this.gl.LINEAR;break;case"nearest":f=this.gl.NEAREST;break}this[c]=ty(this.gl,f,o,a.width,a.height);const A=a.dataBbox;this.gl.uniform2f(this.program[x],A[0],A[3]),this.gl.uniform2f(this.program[u],A[2],A[1])}this.gl.uniform1f(this.program.u_min,this.u_min),this.gl.uniform1f(this.program.u_max,this.u_max),this._render(),this.getSource().changed()}isNoData(e,t){return e==t.nodata}getRealValue(e,t){if(this.isNoData(e,t))return t.nodata;{let n=0;return t.unit=="C"?n=(e-273.15*t.customScale)/t.customScale+t.offset:n=e/t.scale+t.offset,n}}getRealBandNumberValue(e,t){if(this.isNoData(e,t))return t.nodata;{let n=0;return t.unit=="C"?n=(e-273.15*t.customScale)/t.customScale+t.offset:n=e/t.scale+t.offset,n}}updatePixelCoords(e){this.pixelCoordsBuffer=iy(this.gl,new Float32Array(e))}_initCanvas(){let e=this.map.getSize();this.canvas.width=e[0],this.canvas.height=e[1],this.gl=this.createGL(this.canvas)}_render(){const e=this.gl,t=this.program;e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),this.updatePixelCoords(this.boundsToCoords(this.getPixelBounds())),jB(e,this.vertexCoordsBuffer,t.aVertexCoords,2),jB(e,this.pixelCoordsBuffer,t.aPixelCoords,2),ny(e,this.colorRampTexture,0),e.uniform1i(t.uColorRamp,0),ny(this.gl,this.spotTexture1,1),this.gl.uniform1i(this.program.spotTexture1,1),ny(this.gl,this.spotTexture2,2),this.gl.uniform1i(this.program.spotTexture2,2),e.uniform1i(this.program.projCode,this.projCode),e.drawArrays(e.TRIANGLE_STRIP,0,4)}getPixelBounds(){let e=this.map.getView().getProjection().getCode(),t=0,n=0;e=="EPSG:3857"?(t=this.map.getPixelFromCoordinate(ps([-180,85.05112877980659],"EPSG:4326",e)),n=this.map.getPixelFromCoordinate(ps([180,-85.05112877980659],"EPSG:4326",e))):e=="EPSG:4326"?(t=this.map.getPixelFromCoordinate(ps([-180,90],"EPSG:4326",e)),n=this.map.getPixelFromCoordinate(ps([180,-90],"EPSG:4326",e))):e=="Albers"&&(t=this.map.getPixelFromCoordinate(ps([-179,90],"EPSG:4326",e)),n=this.map.getPixelFromCoordinate(ps([179,-90],"EPSG:4326",e)));let r=Math.abs(n[0]-t[0]),s=Math.abs(n[1]-t[1]),a=this.map.getPixelFromCoordinate([this.worldExtent[0],this.worldExtent[3]]),o=[];o[0]=a[0]-t[0],o[1]=a[1]-t[1];let l=this.map.getPixelFromCoordinate([this.worldExtent[2],this.worldExtent[1]]),c=[];c[0]=l[0]-t[0],c[1]=l[1]-t[1];let x=o[0],u=c[0],h=o[1],f=c[1],A=x/r,g=u/r,d=1-h/s,p=1-f/s;return[A,g,p,d]}boundsToCoords(e){return[e[0],e[3],e[0],e[2],e[1],e[3],e[1],e[2]]}createGL(e){this._glOpts={antialiasing:!0,alpha:!0};let t=e.getContext("webgl2",this._glOpts)||e.getContext("experimental-webgl2",this._glOpts);return t?(this._anisoExt=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this._anisoExt||console.warn("Your browser doesn`t support anisotropic filtering.  Ordinary MIP mapping will be used."),t.getExtension("OES_texture_float_linear")||console.warn("OES_texture_float_linear is not supported.")):console.warn("Your browser doesn`t seem to support WebGL."),t}makeCilirRamp(e){var x;this.getAlphaValue(e[0][1])==0&&(this.u_min=e[0][0]),this.getAlphaValue(e[e.length-1][1])==0&&(this.u_max=e[e.length-1][0]);const t=e[0][0],n=e[e.length-1][0],r=this.gl,s=this.program;r.uniform1f(s.ramp_min,t),r.uniform1f(s.ramp_max,n);const a=document.createElement("canvas"),o=a.getContext("2d");a.width=256,a.height=1;const l=o.createLinearGradient(0,0,256,0);for(const u in e){const h=(e[u][0]-t)/(n-t);l.addColorStop(h,e[u][1])}o.fillStyle=l,o.fillRect(0,0,256,1);let c=this.interpolateType[((x=this.options)==null?void 0:x.interpolation)||"linear"].colortype;if(c=="region"){const u=e.slice(-1)[0][0]-e[0][0];let h=0;e.forEach((f,A,g)=>{if(A===g.length-1)return;const d=(g[A+1][0]-f[0])*a.width/u;o.fillStyle=f[1];let p=Math.round(h+d);o.fillRect(h,0,p+1,a.height),h+=d})}else if(c=="gradient"){const u=o.createLinearGradient(0,0,256,0);for(const h in e){const f=(e[h][0]-t)/(n-t);u.addColorStop(f,e[h][1])}o.fillStyle=u,o.fillRect(0,0,256,1)}return new Uint8Array(o.getImageData(0,0,256,1).data)}getAlphaValue(e){const t=e.match(/rgba?\(\s*(\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\s*\)/);if(t)return t[4]!==void 0?parseFloat(t[4]):null;throw new Error("Invalid RGBA string")}};function $7(i,e,t,n,r){KB(i,e,t||0,n||i.length-1,r||e9)}function KB(i,e,t,n,r){for(;n>t;){if(n-t>600){var s=n-t+1,a=e-t+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(a-s/2<0?-1:1),x=Math.max(t,Math.floor(e-a*l/s+c)),u=Math.min(n,Math.floor(e+(s-a)*l/s+c));KB(i,e,x,u,r)}var h=i[e],f=t,A=n;for(qu(i,t,e),r(i[n],h)>0&&qu(i,t,n);f<A;){for(qu(i,f,A),f++,A--;r(i[f],h)<0;)f++;for(;r(i[A],h)>0;)A--}r(i[t],h)===0?qu(i,t,A):(A++,qu(i,A,n)),A<=e&&(t=A+1),e<=A&&(n=A-1)}}function qu(i,e,t){var n=i[e];i[e]=i[t],i[t]=n}function e9(i,e){return i<e?-1:i>e?1:0}let JB=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const n=[];if(!O1(e,t))return n;const r=this.toBBox,s=[];for(;t;){for(let a=0;a<t.children.length;a++){const o=t.children[a],l=t.leaf?r(o):o;O1(e,l)&&(t.leaf?n.push(o):sy(e,l)?this._all(o,n):s.push(o))}t=s.pop()}return n}collides(e){let t=this.data;if(!O1(e,t))return!1;const n=[];for(;t;){for(let r=0;r<t.children.length;r++){const s=t.children[r],a=t.leaf?this.toBBox(s):s;if(O1(e,a)){if(t.leaf||sy(e,a))return!0;n.push(s)}}t=n.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let n=0;n<e.length;n++)this.insert(e[n]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const n=this.data;this.data=t,t=n}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Gc([]),this}remove(e,t){if(!e)return this;let n=this.data;const r=this.toBBox(e),s=[],a=[];let o,l,c;for(;n||s.length;){if(n||(n=s.pop(),l=s[s.length-1],o=a.pop(),c=!0),n.leaf){const x=t9(e,n.children,t);if(x!==-1)return n.children.splice(x,1),s.push(n),this._condense(s),this}!c&&!n.leaf&&sy(n,r)?(s.push(n),a.push(o),o=0,l=n,n=n.children[0]):l?(o++,n=l.children[o],c=!1):n=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,r){const s=n-t+1;let a=this._maxEntries,o;if(s<=a)return o=Gc(e.slice(t,n+1)),Oc(o,this.toBBox),o;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),o=Gc([]),o.leaf=!1,o.height=r;const l=Math.ceil(s/a),c=l*Math.ceil(Math.sqrt(a));ZB(e,t,n,c,this.compareMinX);for(let x=t;x<=n;x+=c){const u=Math.min(x+c-1,n);ZB(e,x,u,l,this.compareMinY);for(let h=x;h<=u;h+=l){const f=Math.min(h+l-1,u);o.children.push(this._build(e,h,f,r-1))}}return Oc(o,this.toBBox),o}_chooseSubtree(e,t,n,r){for(;r.push(t),!(t.leaf||r.length-1===n);){let s=1/0,a=1/0,o;for(let l=0;l<t.children.length;l++){const c=t.children[l],x=ry(c),u=r9(e,c)-x;u<a?(a=u,s=x<s?x:s,o=c):u===a&&x<s&&(s=x,o=c)}t=o||t.children[0]}return t}_insert(e,t,n){const r=n?e:this.toBBox(e),s=[],a=this._chooseSubtree(r,this.data,t,s);for(a.children.push(e),Xu(a,r);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(r,s,t)}_split(e,t){const n=e[t],r=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,r);const a=this._chooseSplitIndex(n,s,r),o=Gc(n.children.splice(a,n.children.length-a));o.height=n.height,o.leaf=n.leaf,Oc(n,this.toBBox),Oc(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(n,o)}_splitRoot(e,t){this.data=Gc([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Oc(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let r,s=1/0,a=1/0;for(let o=t;o<=n-t;o++){const l=Yu(e,0,o,this.toBBox),c=Yu(e,o,n,this.toBBox),x=s9(l,c),u=ry(l)+ry(c);x<s?(s=x,r=o,a=u<a?u:a):x===s&&u<a&&(a=u,r=o)}return r||n-t}_chooseSplitAxis(e,t,n){const r=e.leaf?this.compareMinX:n9,s=e.leaf?this.compareMinY:i9,a=this._allDistMargin(e,t,n,r),o=this._allDistMargin(e,t,n,s);a<o&&e.children.sort(r)}_allDistMargin(e,t,n,r){e.children.sort(r);const s=this.toBBox,a=Yu(e,0,t,s),o=Yu(e,n-t,n,s);let l=N1(a)+N1(o);for(let c=t;c<n-t;c++){const x=e.children[c];Xu(a,e.leaf?s(x):x),l+=N1(a)}for(let c=n-t-1;c>=t;c--){const x=e.children[c];Xu(o,e.leaf?s(x):x),l+=N1(o)}return l}_adjustParentBBoxes(e,t,n){for(let r=n;r>=0;r--)Xu(t[r],e)}_condense(e){for(let t=e.length-1,n;t>=0;t--)e[t].children.length===0?t>0?(n=e[t-1].children,n.splice(n.indexOf(e[t]),1)):this.clear():Oc(e[t],this.toBBox)}};function t9(i,e,t){if(!t)return e.indexOf(i);for(let n=0;n<e.length;n++)if(t(i,e[n]))return n;return-1}function Oc(i,e){Yu(i,0,i.children.length,e,i)}function Yu(i,e,t,n,r){r||(r=Gc(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<t;s++){const a=i.children[s];Xu(r,i.leaf?n(a):a)}return r}function Xu(i,e){return i.minX=Math.min(i.minX,e.minX),i.minY=Math.min(i.minY,e.minY),i.maxX=Math.max(i.maxX,e.maxX),i.maxY=Math.max(i.maxY,e.maxY),i}function n9(i,e){return i.minX-e.minX}function i9(i,e){return i.minY-e.minY}function ry(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function N1(i){return i.maxX-i.minX+(i.maxY-i.minY)}function r9(i,e){return(Math.max(e.maxX,i.maxX)-Math.min(e.minX,i.minX))*(Math.max(e.maxY,i.maxY)-Math.min(e.minY,i.minY))}function s9(i,e){const t=Math.max(i.minX,e.minX),n=Math.max(i.minY,e.minY),r=Math.min(i.maxX,e.maxX),s=Math.min(i.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,s-n)}function sy(i,e){return i.minX<=e.minX&&i.minY<=e.minY&&e.maxX<=i.maxX&&e.maxY<=i.maxY}function O1(i,e){return e.minX<=i.maxX&&e.minY<=i.maxY&&e.maxX>=i.minX&&e.maxY>=i.minY}function Gc(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ZB(i,e,t,n,r){const s=[e,t];for(;s.length;){if(t=s.pop(),e=s.pop(),t-e<=n)continue;const a=e+Math.ceil((t-e)/n/2)*n;$7(i,a,e,t,r),s.push(e,a,a,t)}}function G1(){const i=["getDeclutterMode","radius","clone","render","getStroke","3690625vzWseY","12673989LAASpc","262ZofWZE","getOpacity","10394JyZNbc","setRadius","slice","rotateWithView","declutterMode","displacement","20aZpsKU","getRadius","scale","getScale","7086192FEztkX","4692072vvLKuQ","stroke","23544sqGHZo","567vrBvhL","1024620kgAJqu","rotation","getDisplacement","getFill"];return G1=function(){return i},G1()}function Wu(i,e){const t=G1();return Wu=function(n,r){return n=n-424,t[n]},Wu(i,e)}const z1=Wu;(function(i,e){const t=Wu,n=i();for(;;)try{if(parseInt(t(424))/1*(-parseInt(t(450))/2)+-parseInt(t(435))/3+parseInt(t(434))/4+-parseInt(t(448))/5+-parseInt(t(439))/6+parseInt(t(438))/7*(parseInt(t(437))/8)+parseInt(t(449))/9*(parseInt(t(430))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(G1,991840);class zc extends Mc{constructor(e){const t=Wu;e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e[t(444)],stroke:e[t(436)],scale:e[t(432)]!==void 0?e[t(432)]:1,rotation:e[t(440)]!==void 0?e.rotation:0,rotateWithView:e[t(427)]!==void 0?e[t(427)]:!1,displacement:e[t(429)]!==void 0?e[t(429)]:[0,0],declutterMode:e[t(428)]})}[z1(445)](){const e=z1,t=this[e(433)](),n=new zc({fill:this[e(442)]()?this[e(442)]().clone():void 0,stroke:this[e(447)]()?this.getStroke()[e(445)]():void 0,radius:this[e(431)](),scale:Array.isArray(t)?t[e(426)]():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this[e(441)]()[e(426)](),declutterMode:this[e(443)]()});return n.setOpacity(this[e(451)]()),n}[z1(425)](e){const t=z1;this[t(444)]=e,this[t(446)]()}}function ju(i,e){const t=V1();return ju=function(n,r){return n=n-481,t[n]},ju(i,e)}const oo=ju;(function(i,e){const t=ju,n=i();for(;;)try{if(parseInt(t(492))/1*(-parseInt(t(494))/2)+parseInt(t(502))/3*(parseInt(t(487))/4)+-parseInt(t(488))/5+-parseInt(t(485))/6*(-parseInt(t(483))/7)+parseInt(t(497))/8+parseInt(t(491))/9*(parseInt(t(484))/10)+-parseInt(t(481))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(V1,200295);function V1(){const i=["size","4059adXgeJ","color_","src","loading","getColor","7410711MKjsvh","LOADING","14PKrRyg","3815110RyetZH","991218hHTMjI","patternImage_","1152ldweJW","822580DhWpEi","ready","anonymous","9SvGYVn","145738BBKMIl","color","2YSzWMd","offset","then","661352ZbSCfR","clone","getImageState","isArray"];return V1=function(){return i},V1()}class Gi{constructor(e){const t=ju;e=e||{},this[t(486)]=null,this[t(503)]=null,e[t(493)]!==void 0&&this.setColor(e[t(493)])}[oo(498)](){const e=oo,t=this[e(506)]();return new Gi({color:Array[e(500)](t)?t.slice():t||void 0})}[oo(506)](){return this.color_}setColor(e){const t=oo;if(e!==null&&typeof e=="object"&&"src"in e){const n=hE(null,e[t(504)],t(490),void 0,e.offset?null:e[t(493)]?e[t(493)]:null,!(e[t(495)]&&e[t(501)]));n[t(489)]()[t(496)](()=>{const r=t;this[r(486)]=null}),n.getImageState()===Pe.IDLE&&n.load(),n[t(499)]()===Pe[t(482)]&&(this[t(486)]=n)}this[t(503)]=e}[oo(505)](){return!!this[oo(486)]}[oo(489)](){const e=oo;return this.patternImage_?this[e(486)][e(489)]():Promise.resolve()}}function H1(){const i=["color_","lineDashOffset_","lineDash","getMiterLimit","8365jIaNDf","lineDash_","341ubJXwo","getLineJoin","slice","getLineDash","getLineDashOffset","miterLimit","3745395qmBKIw","getLineCap","miterLimit_","width_","setMiterLimit","isArray","setLineJoin","setLineDashOffset","412DxaMiB","227571levlLc","14510ctVWVq","color","778180vGDDwR","setLineDash","72ifzbjk","lineJoin_","1013FQXgYJ","12465mPEyQf","getWidth","clone","312oxQsDr","getColor","lineJoin","lineCap_"];return H1=function(){return i},H1()}const xn=Ku;function Ku(i,e){const t=H1();return Ku=function(n,r){return n=n-197,t[n]},Ku(i,e)}(function(i,e){const t=Ku,n=i();for(;;)try{if(parseInt(t(197))/1*(parseInt(t(225))/2)+-parseInt(t(226))/3+-parseInt(t(229))/4+-parseInt(t(198))/5*(parseInt(t(231))/6)+-parseInt(t(209))/7*(parseInt(t(201))/8)+parseInt(t(217))/9+parseInt(t(227))/10*(-parseInt(t(211))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(H1,232929);class Ri{constructor(e){const t=Ku;e=e||{},this[t(205)]=e[t(228)]!==void 0?e[t(228)]:null,this.lineCap_=e.lineCap,this[t(210)]=e[t(207)]!==void 0?e[t(207)]:null,this[t(206)]=e.lineDashOffset,this.lineJoin_=e[t(203)],this[t(219)]=e[t(216)],this[t(220)]=e.width}[xn(200)](){const e=xn,t=this[e(202)]();return new Ri({color:Array[e(222)](t)?t[e(213)]():t||void 0,lineCap:this[e(218)](),lineDash:this[e(214)]()?this.getLineDash()[e(213)]():void 0,lineDashOffset:this[e(215)](),lineJoin:this[e(212)](),miterLimit:this[e(208)](),width:this[e(199)]()})}[xn(202)](){return this.color_}[xn(218)](){return this[xn(204)]}[xn(214)](){return this.lineDash_}[xn(215)](){return this[xn(206)]}[xn(212)](){return this[xn(232)]}[xn(208)](){return this[xn(219)]}[xn(199)](){return this[xn(220)]}setColor(e){const t=xn;this[t(205)]=e}setLineCap(e){const t=xn;this[t(204)]=e}[xn(230)](e){const t=xn;this[t(210)]=e}[xn(224)](e){const t=xn;this[t(206)]=e}[xn(223)](e){const t=xn;this[t(232)]=e}[xn(221)](e){const t=xn;this[t(219)]=e}setWidth(e){const t=xn;this[t(220)]=e}}const Dt=Vc;(function(i,e){const t=Vc,n=i();for(;;)try{if(-parseInt(t(247))/1*(parseInt(t(208))/2)+parseInt(t(250))/3+parseInt(t(253))/4+-parseInt(t(256))/5*(parseInt(t(218))/6)+parseInt(t(232))/7+-parseInt(t(224))/8+-parseInt(t(222))/9*(-parseInt(t(254))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(q1,385697);function Vc(i,e){const t=q1();return Vc=function(n,r){return n=n-200,t[n]},Vc(i,e)}class bt{constructor(e){const t=Vc;e=e||{},this[t(238)]=null,this[t(207)]=e5,e[t(258)]!==void 0&&this[t(237)](e[t(258)]),this[t(206)]=e.fill!==void 0?e[t(212)]:null,this[t(241)]=e[t(210)]!==void 0?e[t(210)]:null,this[t(243)]=e[t(223)]!==void 0?e[t(223)]:null,this[t(231)]=e[t(252)]!==void 0?e[t(252)]:null,this[t(230)]=e.stroke!==void 0?e[t(236)]:null,this[t(239)]=e[t(225)]!==void 0?e.text:null,this[t(240)]=e[t(203)]}clone(){const e=Vc;let t=this[e(213)]();return t&&typeof t===e(246)&&(t=t.clone()),new bt({geometry:t??void 0,fill:this[e(235)]()?this.getFill()[e(204)]():void 0,image:this[e(202)]()?this[e(202)]()[e(204)]():void 0,renderer:this[e(249)]()??void 0,stroke:this[e(229)]()?this[e(229)]()[e(204)]():void 0,text:this.getText()?this.getText()[e(204)]():void 0,zIndex:this[e(228)]()})}[Dt(249)](){return this[Dt(243)]}[Dt(227)](e){const t=Dt;this[t(243)]=e}[Dt(255)](e){const t=Dt;this[t(231)]=e}[Dt(244)](){return this[Dt(231)]}getGeometry(){return this[Dt(238)]}getGeometryFunction(){return this.geometryFunction_}[Dt(235)](){return this.fill_}[Dt(209)](e){this.fill_=e}getImage(){return this[Dt(241)]}[Dt(200)](e){const t=Dt;this[t(241)]=e}[Dt(229)](){return this[Dt(230)]}[Dt(211)](e){const t=Dt;this[t(230)]=e}[Dt(201)](){return this[Dt(239)]}[Dt(234)](e){const t=Dt;this[t(239)]=e}[Dt(228)](){return this[Dt(240)]}[Dt(237)](e){const t=Dt;typeof e=="function"?this[t(207)]=e:typeof e===t(205)?this[t(207)]=function(n){return n[t(257)](e)}:e?e!==void 0&&(this[t(207)]=function(){return e}):this[t(207)]=e5,this[t(238)]=e}[Dt(216)](e){const t=Dt;this[t(240)]=e}}function a9(i){const e=Dt;let t;if(typeof i===e(248))t=i;else{let n;Array.isArray(i)?n=i:(yt(typeof i[e(228)]===e(248),e(219)),n=[i]),t=function(){return n}}return t}let ay=null;function $B(i,e){const t=Dt;if(!ay){const n=new Gi({color:t(220)}),r=new Ri({color:t(214),width:1.25});ay=[new bt({image:new zc({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return ay}function e5(i){return i[Dt(213)]()}function q1(){const i=["1961862dJZnrk","MultiPolygon","setText","getFill","stroke","setGeometry","geometry_","text_","zIndex_","image_","MultiPoint","renderer_","getHitDetectionRenderer","LineString","object","82987YYgvdd","function","getRenderer","699798eAePPz","GeometryCollection","hitDetectionRenderer","708596MLmeRs","70fDhVUT","setHitDetectionRenderer","25wplFcm","get","geometry","setImage","getText","getImage","zIndex","clone","string","fill_","geometryFunction_","10XRaqfq","setFill","image","setStroke","fill","getGeometry","#3399CC","concat","setZIndex","Polygon","432948kQeUlp","Expected an `Style` or an array of `Style`","rgba(255,255,255,0.4)","Point","839151kbMVBM","renderer","1455456VkGimL","text","MultiLineString","setRenderer","getZIndex","getStroke","stroke_","hitDetectionRenderer_"];return q1=function(){return i},q1()}function Y1(){const i=["getRotateWithView","top-left","color","ready","`image` and `src` cannot be provided at the same time","size","CHANGE","78038Abpawp","opacity","rotateWithView","slice","A defined and non-empty `src` or `image` must be provided","getWidth","getImageSize","getImage","getPixelRatio","offsetOrigin_","1123052DWUoAV","LOADING","origin_","bottom-left","width","getSrc","initialOptions_","listenImageChange","`width` or `height` cannot be provided together with `scale`","getHeight","scale","getScaleArray","getAnchor","getOpacity","img","color_","1832650mbvQoJ","getScale","complete","getSize","anchor_","IDLE","540159usHSsx","offsetOrigin","crossOrigin","offset","fraction","1631BrwORM","195XRcYMD","crossOrigin_","normalizedAnchor_","top-right","setAnchor","offset_","anchorYUnits","2344paLxch","getHitDetectionImage","getDisplacement","LOADED","anchor","iconImage_","anchorYUnits_","anchorXUnits_","src","getOrigin","declutterMode","displacement","unlistenImageChange","3101098hKQxkU","anchorOrigin_","9XbbUGB","setScale","length","addEventListener","2SoEywm","getImageState","rotation","anchorOrigin","19968eVWgWY","load","size_","bottom-right","height","anchorXUnits"];return Y1=function(){return i},Y1()}const wt=Hc;(function(i,e){const t=Hc,n=i();for(;;)try{if(-parseInt(t(172))/1+-parseInt(t(155))/2*(parseInt(t(204))/3)+parseInt(t(182))/4+-parseInt(t(210))/5*(-parseInt(t(159))/6)+-parseInt(t(209))/7*(-parseInt(t(217))/8)+parseInt(t(151))/9*(-parseInt(t(198))/10)+parseInt(t(149))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Y1,319386);function Hc(i,e){const t=Y1();return Hc=function(n,r){return n=n-137,t[n]},Hc(i,e)}function t5(i,e,t,n){return t!==void 0&&n!==void 0?[t/i,n/e]:t!==void 0?t/i:n!==void 0?n/e:1}class _0 extends au{constructor(e){const t=Hc;e=e||{};const n=e[t(173)]!==void 0?e.opacity:1,r=e[t(157)]!==void 0?e.rotation:0,s=e[t(192)]!==void 0?e[t(192)]:1,a=e[t(174)]!==void 0?e[t(174)]:!1;super({opacity:n,rotation:r,scale:s,displacement:e[t(147)]!==void 0?e[t(147)]:[0,0],rotateWithView:a,declutterMode:e[t(146)]}),this.anchor_=e[t(140)]!==void 0?e.anchor:[.5,.5],this[t(212)]=null,this[t(150)]=e[t(158)]!==void 0?e[t(158)]:t(166),this[t(143)]=e[t(164)]!==void 0?e[t(164)]:"fraction",this[t(142)]=e[t(216)]!==void 0?e.anchorYUnits:t(208),this[t(211)]=e.crossOrigin!==void 0?e[t(206)]:null;const o=e[t(196)]!==void 0?e[t(196)]:null;let l=e[t(144)];yt(!(l!==void 0&&o),t(169)),(l===void 0||l[t(153)]===0)&&o&&(l=o[t(144)]||et(o)),yt(l!==void 0&&l[t(153)]>0,t(176)),yt(!((e.width!==void 0||e[t(163)]!==void 0)&&e[t(192)]!==void 0),t(190));let c;if(e[t(144)]!==void 0?c=Pe[t(203)]:o!==void 0&&(t(200)in o?o[t(200)]?c=o.src?Pe.LOADED:Pe.IDLE:c=Pe[t(183)]:c=Pe[t(139)]),this.color_=e.color!==void 0?xu(e[t(167)]):null,this[t(141)]=hE(o,l,this[t(211)],c,this[t(197)]),this[t(215)]=e[t(207)]!==void 0?e.offset:[0,0],this[t(181)]=e[t(205)]!==void 0?e[t(205)]:t(166),this[t(184)]=null,this[t(161)]=e.size!==void 0?e[t(170)]:null,this[t(188)],e[t(186)]!==void 0||e.height!==void 0){let x,u;if(e.size)[x,u]=e[t(170)];else{const h=this.getImage(1);if(h.width&&h[t(163)])x=h[t(186)],u=h.height;else if(h instanceof HTMLImageElement){this[t(188)]=e;const f=()=>{const A=t;if(this[A(148)](f),!this[A(188)])return;const g=this[A(141)].getSize();this[A(152)](t5(g[0],g[1],e[A(186)],e[A(163)]))};this[t(189)](f);return}}x!==void 0&&this.setScale(t5(x,u,e[t(186)],e[t(163)]))}}clone(){const e=Hc;let t,n,r;return this.initialOptions_?(n=this[e(188)][e(186)],r=this[e(188)][e(163)]):(t=this[e(199)](),t=Array.isArray(t)?t[e(175)]():t),new _0({anchor:this[e(202)][e(175)](),anchorOrigin:this[e(150)],anchorXUnits:this.anchorXUnits_,anchorYUnits:this[e(142)],color:this[e(197)]&&this.color_.slice?this[e(197)][e(175)]():this.color_||void 0,crossOrigin:this[e(211)],offset:this[e(215)][e(175)](),offsetOrigin:this.offsetOrigin_,opacity:this[e(195)](),rotateWithView:this[e(165)](),rotation:this.getRotation(),scale:t,width:n,height:r,size:this[e(161)]!==null?this[e(161)].slice():void 0,src:this[e(187)](),displacement:this[e(138)]()[e(175)](),declutterMode:this.getDeclutterMode()})}[wt(194)](){const e=wt;let t=this.normalizedAnchor_;if(!t){t=this[e(202)];const s=this[e(201)]();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_==e(208)){if(!s)return null;t=this[e(202)][e(175)](),this[e(143)]=="fraction"&&(t[0]*=s[0]),this[e(142)]==e(208)&&(t[1]*=s[1])}if(this[e(150)]!=e(166)){if(!s)return null;t===this[e(202)]&&(t=this[e(202)][e(175)]()),(this[e(150)]==e(213)||this[e(150)]=="bottom-right")&&(t[0]=-t[0]+s[0]),(this.anchorOrigin_==e(185)||this[e(150)]=="bottom-right")&&(t[1]=-t[1]+s[1])}this[e(212)]=t}const n=this[e(138)](),r=this[e(193)]();return[t[0]-n[0]/r[0],t[1]+n[1]/r[1]]}[wt(214)](e){const t=wt;this[t(202)]=e,this[t(212)]=null}getColor(){return this[wt(197)]}[wt(179)](e){const t=wt;return this.iconImage_[t(179)](e)}[wt(180)](e){const t=wt;return this[t(141)][t(180)](e)}[wt(178)](){const e=wt;return this.iconImage_[e(201)]()}[wt(156)](){const e=wt;return this[e(141)][e(156)]()}getHitDetectionImage(){const e=wt;return this[e(141)][e(137)]()}[wt(145)](){const e=wt;if(this[e(184)])return this.origin_;let t=this[e(215)];if(this.offsetOrigin_!=e(166)){const n=this.getSize(),r=this[e(141)][e(201)]();if(!n||!r)return null;t=t.slice(),(this[e(181)]==e(213)||this[e(181)]==e(162))&&(t[0]=r[0]-n[0]-t[0]),(this[e(181)]==e(185)||this[e(181)]=="bottom-right")&&(t[1]=r[1]-n[1]-t[1])}return this[e(184)]=t,this[e(184)]}getSrc(){const e=wt;return this[e(141)][e(187)]()}[wt(201)](){const e=wt;return this[e(161)]?this[e(161)]:this.iconImage_[e(201)]()}[wt(177)](){const e=wt,t=this.getScaleArray();if(this[e(161)])return this.size_[0]*t[0];if(this[e(141)][e(156)]()==Pe[e(139)])return this[e(141)].getSize()[0]*t[0]}[wt(191)](){const e=wt,t=this[e(193)]();if(this[e(161)])return this[e(161)][1]*t[1];if(this.iconImage_[e(156)]()==Pe[e(139)])return this.iconImage_[e(201)]()[1]*t[1]}[wt(152)](e){delete this.initialOptions_,super.setScale(e)}[wt(189)](e){const t=wt;this.iconImage_[t(154)](Ye[t(171)],e)}[wt(160)](){this[wt(141)].load()}[wt(148)](e){this[wt(141)].removeEventListener(Ye.CHANGE,e)}[wt(168)](){return this[wt(141)].ready()}}const De=X1;(function(i,e){const t=X1,n=i();for(;;)try{if(parseInt(t(178))/1+-parseInt(t(174))/2*(-parseInt(t(171))/3)+-parseInt(t(203))/4*(parseInt(t(233))/5)+parseInt(t(202))/6+parseInt(t(211))/7+-parseInt(t(207))/8*(-parseInt(t(154))/9)+-parseInt(t(197))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(W1,641539);function X1(i,e){const t=W1();return X1=function(n,r){return n=n-153,t[n]},X1(i,e)}const o9=De(212);class Ju{constructor(e){const t=De;e=e||{},this[t(194)]=e.font,this[t(166)]=e[t(177)],this.rotateWithView_=e[t(219)],this[t(181)]=e[t(155)],this[t(189)]=pi(e[t(155)]!==void 0?e.scale:1),this[t(176)]=e[t(198)],this.textAlign_=e[t(208)],this[t(175)]=e[t(235)],this[t(206)]=e.repeat,this.textBaseline_=e[t(210)],this.fill_=e[t(165)]!==void 0?e[t(165)]:new Gi({color:o9}),this[t(221)]=e[t(222)]!==void 0?e[t(222)]:Math.PI/4,this[t(169)]=e[t(170)]!==void 0?e[t(170)]:"point",this[t(188)]=!!e[t(168)],this[t(180)]=e[t(238)]!==void 0?e[t(238)]:null,this[t(220)]=e[t(173)]!==void 0?e[t(173)]:0,this[t(237)]=e[t(156)]!==void 0?e[t(156)]:0,this.backgroundFill_=e[t(160)]?e[t(160)]:null,this[t(190)]=e[t(200)]?e[t(200)]:null,this[t(230)]=e[t(214)]===void 0?null:e[t(214)],this.declutterMode_=e[t(239)]}clone(){const e=De,t=this[e(193)]();return new Ju({font:this[e(224)](),placement:this[e(182)](),repeat:this[e(231)](),maxAngle:this[e(163)](),overflow:this[e(184)](),rotation:this[e(216)](),rotateWithView:this[e(226)](),scale:Array[e(186)](t)?t.slice():t,text:this[e(205)](),textAlign:this[e(172)](),justify:this[e(204)](),textBaseline:this[e(209)](),fill:this[e(183)]()?this[e(183)]()[e(187)]():void 0,stroke:this[e(232)]()?this[e(232)]()[e(187)]():void 0,offsetX:this[e(191)](),offsetY:this[e(225)](),backgroundFill:this[e(185)]()?this[e(185)]().clone():void 0,backgroundStroke:this[e(196)]()?this[e(196)]().clone():void 0,padding:this[e(153)]()||void 0,declutterMode:this[e(229)]()})}[De(184)](){return this[De(188)]}[De(224)](){return this[De(194)]}[De(163)](){return this[De(221)]}[De(182)](){return this.placement_}[De(231)](){return this[De(206)]}[De(191)](){return this[De(220)]}getOffsetY(){return this[De(237)]}[De(183)](){return this[De(223)]}[De(226)](){return this.rotateWithView_}[De(216)](){return this[De(166)]}[De(193)](){return this[De(181)]}getScaleArray(){return this[De(189)]}getStroke(){return this[De(180)]}[De(205)](){return this[De(176)]}[De(172)](){return this[De(162)]}[De(204)](){return this.justify_}[De(209)](){return this.textBaseline_}[De(185)](){return this[De(213)]}[De(196)](){return this[De(190)]}[De(153)](){return this[De(230)]}[De(229)](){return this[De(199)]}[De(159)](e){const t=De;this[t(188)]=e}[De(167)](e){const t=De;this[t(194)]=e}[De(161)](e){const t=De;this[t(221)]=e}[De(215)](e){const t=De;this[t(220)]=e}[De(227)](e){this.offsetY_=e}[De(234)](e){const t=De;this[t(169)]=e}[De(217)](e){const t=De;this[t(206)]=e}setRotateWithView(e){this.rotateWithView_=e}[De(158)](e){const t=De;this[t(223)]=e}[De(236)](e){const t=De;this[t(166)]=e}[De(195)](e){const t=De;this[t(181)]=e,this[t(189)]=pi(e!==void 0?e:1)}[De(201)](e){this.stroke_=e}setText(e){this.text_=e}[De(228)](e){this.textAlign_=e}[De(179)](e){this.justify_=e}[De(218)](e){const t=De;this[t(157)]=e}setBackgroundFill(e){const t=De;this[t(213)]=e}[De(192)](e){const t=De;this[t(190)]=e}[De(164)](e){this.padding_=e}}function W1(){const i=["declutterMode_","backgroundStroke","setStroke","7089840GqDuXn","168428kYMgyr","getJustify","getText","repeat_","1906352myakHM","textAlign","getTextBaseline","textBaseline","2810108JxNILA","#333","backgroundFill_","padding","setOffsetX","getRotation","setRepeat","setTextBaseline","rotateWithView","offsetX_","maxAngle_","maxAngle","fill_","getFont","getOffsetY","getRotateWithView","setOffsetY","setTextAlign","getDeclutterMode","padding_","getRepeat","getStroke","95KIjdCs","setPlacement","justify","setRotation","offsetY_","stroke","declutterMode","getPadding","9NCsYUz","scale","offsetY","textBaseline_","setFill","setOverflow","backgroundFill","setMaxAngle","textAlign_","getMaxAngle","setPadding","fill","rotation_","setFont","overflow","placement_","placement","3418593EePwWi","getTextAlign","offsetX","2GxUTVC","justify_","text_","rotation","570887xKuZWB","setJustify","stroke_","scale_","getPlacement","getFill","getOverflow","getBackgroundFill","isArray","clone","overflow_","scaleArray_","backgroundStroke_","getOffsetX","setBackgroundStroke","getScale","font_","setScale","getBackgroundStroke","20902240GephpQ","text"];return W1=function(){return i},W1()}const be=qc;(function(i,e){const t=qc,n=i();for(;;)try{if(-parseInt(t(405))/1+parseInt(t(442))/2*(parseInt(t(381))/3)+-parseInt(t(366))/4*(parseInt(t(409))/5)+parseInt(t(391))/6*(parseInt(t(350))/7)+-parseInt(t(435))/8*(-parseInt(t(467))/9)+-parseInt(t(377))/10*(parseInt(t(421))/11)+-parseInt(t(457))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(j1,183470);let I0=0;const Ti=1<<I0++,_t=1<<I0++,zi=1<<I0++,Jr=1<<I0++;function j1(){const i=["Number","expected an array of two values for a size, got ","Clamp","failed to parse first argument in palette expression: ","LessThanOrEqualTo","expected last argument validator to return the parsed args","push","isArray","geometry-type","type","sin","Get","add","204085bbFcHq","case"," or ","GeometryCollection","string","invalid interpolation type: ","Not","Subtract","Floor","MultiPoint","literal expressions must have a specific type, got ","Any",'for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions',"Zoom","Array","value","4pCOzvQ"," or more","boolean","band","between"," to ","getGeometries","ToString"," for ","Time","Concat","150qPLxjS","failed to parse color at index "," in palette expression: ","length","660438mEzVUu","expected an array of 3 or 4 values for a color, got ","Divide","any","Pow","slice","expected a number base for exponential interpolation","Equal","failed to parse argument 1 in interpolate expression: ","failed to parse argument ","48nrIGPR","false","linear"," of case expression: ","unknown operator: "," for interpolate expression: ","got a number, but expected ","expected a string argument for var operation","cos","Polygon","match","Cos","stringify","GeometryType","152506OEaZkC","Var","All",'failed to parse "in" expression: the literal operator must be followed by an array',"66755IqQGGA","concat","array"," operation","expected an array of numbers","LineString","getType","String","substring","coalesce","got a string, but expected ","Atan","21219dlSCEh"," arguments for ","the palette color at index ","empty expression","palette","expression must be an array or a primitive value","map"," instead","ceil","Palette","Resolution","Interpolate","number","operator","1560520FNmPQg","expected ","NotEqual","abs","true","Round","var","2qKDJmH","literal","atan","MultiPolygon","properties",' for "in" expression: ',"sort",", or ",", got ","got an array of numbers, but expected ","GreaterThan","color","expected a string key or numeric array index for a get operation, got ","zoom","toString","3242268tyOecy","keys","Add","Abs","expected an even number of arguments for operation ","the second argument of palette must be an array","floor","Multiply","Point","variables","9aCYnuW","message","to-string","interpolate","GreaterThanOrEqualTo"];return j1=function(){return i},j1()}const E0=1<<I0++,Zu=1<<I0++,K1=Math.pow(2,I0)-1,oy={[Ti]:"boolean",[_t]:be(433),[zi]:be(354),[Jr]:be(453),[E0]:"number[]",[Zu]:"size"},c9=Object[be(458)](oy)[be(427)](Number)[be(448)](ms);function l9(i){return i in oy}function $u(i){const e=be,t=[];for(const n of c9)eh(i,n)&&t[e(478)](oy[n]);return t[e(380)]===0?"untyped":t.length<3?t.join(e(352)):t[e(386)](0,-1).join(", ")+e(449)+t[t[e(380)]-1]}function eh(i,e){return(i&e)===e}function co(i,e){return i===e}class Yn{constructor(e,t){const n=be;if(!l9(e))throw new Error(n(360)+$u(e));this[n(481)]=e,this[n(365)]=t}}class x9{constructor(e,t,...n){const r=be;this[r(481)]=e,this[r(434)]=t,this.args=n}}function n5(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function ii(i,e,t){const n=be;switch(typeof i){case n(368):{if(co(e,zi))return new Yn(zi,n(i?439:392));if(!eh(e,Ti))throw new Error("got a boolean, but expected "+$u(e));return new Yn(Ti,i)}case"number":{if(co(e,Zu))return new Yn(Zu,pi(i));if(co(e,Ti))return new Yn(Ti,!!i);if(co(e,zi))return new Yn(zi,i[n(456)]());if(!eh(e,_t))throw new Error(n(397)+$u(e));return new Yn(_t,i)}case n(354):{if(co(e,Jr))return new Yn(Jr,oE(i));if(co(e,Ti))return new Yn(Ti,!!i);if(!eh(e,zi))throw new Error(n(419)+$u(e));return new Yn(zi,i)}}if(!Array.isArray(i))throw new Error(n(426));if(i.length===0)throw new Error(n(424));if(typeof i[0]===n(354))return y9(i,e,t);for(const r of i)if(typeof r!==n(433))throw new Error(n(413));if(co(e,Zu)){if(i[n(380)]!==2)throw new Error(n(473)+i[n(380)]);return new Yn(Zu,i)}if(co(e,Jr)){if(i.length===3)return new Yn(Jr,[...i,1]);if(i[n(380)]===4)return new Yn(Jr,i);throw new Error(n(382)+i[n(380)])}if(!eh(e,E0))throw new Error(n(451)+$u(e));return new Yn(E0,i)}const ae={Get:"get",Var:be(441),Concat:be(410),GeometryType:be(480),Any:be(384),All:"all",Not:"!",Resolution:"resolution",Zoom:be(455),Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:be(438),Floor:be(463),Ceil:be(429),Round:"round",Sin:be(482),Cos:be(399),Atan:be(444),Sqrt:"sqrt",Match:be(401),Between:be(370),Interpolate:be(470),Coalesce:be(418),Case:be(351),In:"in",Number:be(433),String:be(354),Array:be(411),Color:be(453),Id:"id",Band:be(369),Palette:be(425),ToString:be(469)},u9={[ae[be(483)]]:Je(ot(1,1/0),h9),[ae[be(406)]]:Je(ot(1,1),f9),[ae.Id]:Je(A9,th),[ae[be(376)]]:Je(ot(2,1/0),Qt(zi)),[ae[be(404)]]:Je(d9,th),[ae[be(431)]]:Je(th),[ae[be(363)]]:Je(th),[ae[be(375)]]:Je(th),[ae[be(361)]]:Je(ot(2,1/0),Qt(Ti)),[ae[be(407)]]:Je(ot(2,1/0),Qt(Ti)),[ae[be(356)]]:Je(ot(1,1),Qt(Ti)),[ae[be(388)]]:Je(ot(2,2),Qt(K1)),[ae[be(437)]]:Je(ot(2,2),Qt(K1)),[ae[be(452)]]:Je(ot(2,2),Qt(_t)),[ae[be(471)]]:Je(ot(2,2),Qt(_t)),[ae.LessThan]:Je(ot(2,2),Qt(_t)),[ae[be(476)]]:Je(ot(2,2),Qt(_t)),[ae[be(464)]]:Je(ot(2,1/0),i5),[ae.Coalesce]:Je(ot(2,1/0),i5),[ae[be(383)]]:Je(ot(2,2),Qt(_t)),[ae[be(459)]]:Je(ot(2,1/0),Qt(_t)),[ae[be(357)]]:Je(ot(2,2),Qt(_t)),[ae[be(474)]]:Je(ot(3,3),Qt(_t)),[ae.Mod]:Je(ot(2,2),Qt(_t)),[ae[be(385)]]:Je(ot(2,2),Qt(_t)),[ae[be(460)]]:Je(ot(1,1),Qt(_t)),[ae[be(358)]]:Je(ot(1,1),Qt(_t)),[ae.Ceil]:Je(ot(1,1),Qt(_t)),[ae[be(440)]]:Je(ot(1,1),Qt(_t)),[ae.Sin]:Je(ot(1,1),Qt(_t)),[ae[be(402)]]:Je(ot(1,1),Qt(_t)),[ae[be(420)]]:Je(ot(1,2),Qt(_t)),[ae.Sqrt]:Je(ot(1,1),Qt(_t)),[ae.Match]:Je(ot(4,1/0),r5,g9),[ae.Between]:Je(ot(3,3),Qt(_t)),[ae[be(432)]]:Je(ot(6,1/0),r5,m9),[ae.Case]:Je(ot(3,1/0),p9,_9),[ae.In]:Je(ot(2,2),I9),[ae[be(472)]]:Je(ot(1,1/0),Qt(K1)),[ae[be(416)]]:Je(ot(1,1/0),Qt(K1)),[ae[be(364)]]:Je(ot(1,1/0),Qt(_t)),[ae.Color]:Je(ot(1,4),Qt(_t)),[ae.Band]:Je(ot(1,3),Qt(_t)),[ae[be(430)]]:Je(ot(2,2),E9),[ae[be(373)]]:Je(ot(1,1),Qt(Ti|_t|zi|Jr))};function h9(i,e,t){const n=be,r=i.length-1,s=new Array(r);for(let a=0;a<r;++a){const o=i[a+1];switch(typeof o){case n(433):{s[a]=new Yn(_t,o);break}case n(354):{s[a]=new Yn(zi,o);break}default:throw new Error(n(454)+o)}a===0&&t[n(446)][n(349)](String(o))}return s}function f9(i,e,t){const n=be,r=i[1];if(typeof r!==n(354))throw new Error(n(398));return t[n(466)].add(r),[new Yn(zi,r)]}function A9(i,e,t){t.featureId=!0}function d9(i,e,t){t.geometryType=!0}function th(i,e,t){const n=be,r=i[0];if(i[n(380)]!==1)throw new Error("expected no arguments for "+r+n(412));return[]}function ot(i,e){return function(t,n,r){const s=qc,a=t[0],o=t.length-1;if(i===e){if(o!==i){const l=i===1?"":"s";throw new Error(s(436)+i+" argument"+l+s(374)+a+s(450)+o)}}else if(o<i||o>e){const l=e===1/0?i+s(367):i+s(371)+e;throw new Error("expected "+l+s(422)+a+s(450)+o)}}}function qc(i,e){const t=j1();return qc=function(n,r){return n=n-349,t[n]},qc(i,e)}function i5(i,e,t){const n=be,r=i[n(380)]-1,s=new Array(r);for(let a=0;a<r;++a){const o=ii(i[a+1],e,t);s[a]=o}return s}function Qt(i){return function(e,t,n){const r=e.length-1,s=new Array(r);for(let a=0;a<r;++a){const o=ii(e[a+1],i,n);s[a]=o}return s}}function p9(i,e,t){const n=be,r=i[0],s=i[n(380)]-1;if(s%2===0)throw new Error("expected an odd number of arguments for "+r+n(450)+s+n(428))}function r5(i,e,t){const n=be,r=i[0],s=i.length-1;if(s%2===1)throw new Error(n(461)+r+n(450)+s+n(428))}function g9(i,e,t){const n=be,r=i[n(380)]-1,s=zi|_t|Ti,a=ii(i[1],s,t),o=ii(i[i[n(380)]-1],e,t),l=new Array(r-2);for(let c=0;c<r-2;c+=2){try{const x=ii(i[c+2],a[n(481)],t);l[c]=x}catch(x){throw new Error("failed to parse argument "+(c+1)+" of match expression: "+x[n(468)])}try{const x=ii(i[c+3],o.type,t);l[c+1]=x}catch(x){throw new Error(n(390)+(c+2)+" of match expression: "+x[n(468)])}}return[a,...l,o]}function m9(i,e,t){const n=be,r=i[1];let s;switch(r[0]){case n(393):s=1;break;case"exponential":const c=r[1];if(typeof c!==n(433)||c<=0)throw new Error(n(387)+(", got "+JSON.stringify(c)+" instead"));s=c;break;default:throw new Error(n(355)+JSON[n(403)](r))}const a=new Yn(_t,s);let o;try{o=ii(i[2],_t,t)}catch(c){throw new Error(n(389)+c[n(468)])}const l=new Array(i[n(380)]-3);for(let c=0;c<l.length;c+=2){try{const x=ii(i[c+3],_t,t);l[c]=x}catch(x){throw new Error(n(390)+(c+2)+n(396)+x[n(468)])}try{const x=ii(i[c+4],e,t);l[c+1]=x}catch(x){throw new Error(n(390)+(c+3)+n(396)+x[n(468)])}}return[a,o,...l]}function _9(i,e,t){const n=be,r=ii(i[i[n(380)]-1],e,t),s=new Array(i[n(380)]-1);for(let a=0;a<s[n(380)]-1;a+=2){try{const o=ii(i[a+1],Ti,t);s[a]=o}catch(o){throw new Error(n(390)+a+" of case expression: "+o[n(468)])}try{const o=ii(i[a+2],r.type,t);s[a+1]=o}catch(o){throw new Error(n(390)+(a+1)+n(394)+o[n(468)])}}return s[s[n(380)]-1]=r,s}function I9(i,e,t){const n=be;let r=i[2];if(!Array[n(479)](r))throw new Error('the second argument for the "in" operator must be an array');let s;if(typeof r[0]===n(354)){if(r[0]!==n(443))throw new Error(n(362));if(!Array[n(479)](r[1]))throw new Error(n(408));r=r[1],s=zi}else s=_t;const a=new Array(r.length);for(let l=0;l<a[n(380)];l++)try{const c=ii(r[l],s,t);a[l]=c}catch(c){throw new Error("failed to parse haystack item "+l+n(447)+c[n(468)])}return[ii(i[1],s,t),...a]}function E9(i,e,t){const n=be;let r;try{r=ii(i[1],_t,t)}catch(o){throw new Error(n(475)+o.message)}const s=i[2];if(!Array[n(479)](s))throw new Error(n(462));const a=new Array(s[n(380)]);for(let o=0;o<a[n(380)];o++){let l;try{l=ii(s[o],Jr,t)}catch(c){throw new Error(n(378)+o+n(379)+c[n(468)])}if(!(l instanceof Yn))throw new Error(n(423)+o+" must be a literal value");a[o]=l}return[r,...a]}function Je(...i){return function(e,t,n){const r=qc,s=e[0];let a;for(let o=0;o<i.length;o++){const l=i[o](e,t,n);if(o==i[r(380)]-1){if(!l)throw new Error(r(477));a=l}}return new x9(t,s,...a)}}function y9(i,e,t){const n=be,r=i[0],s=u9[r];if(!s)throw new Error(n(395)+r);return s(i,e,t)}function s5(i){const e=be;if(!i)return"";const t=i[e(415)]();switch(t){case e(465):case e(414):case"Polygon":return t;case e(359):case"MultiLineString":case e(445):return t[e(417)](5);case"Circle":return e(400);case e(353):return s5(i[e(372)]()[0]);default:return""}}(function(i,e){const t=Vi,n=i();for(;;)try{if(parseInt(t(173))/1+parseInt(t(136))/2*(parseInt(t(185))/3)+parseInt(t(188))/4*(-parseInt(t(124))/5)+parseInt(t(138))/6+-parseInt(t(146))/7*(parseInt(t(121))/8)+parseInt(t(180))/9+parseInt(t(174))/10*(-parseInt(t(148))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(J1,684275);function Vi(i,e){const t=J1();return Vi=function(n,r){return n=n-113,t[n]},Vi(i,e)}function a5(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function ra(i,e,t){const n=ii(i,e,t);return Zr(n)}function Zr(i,e){const t=Vi;if(i instanceof Yn){if(i[t(187)]===Jr&&typeof i.value===t(171)){const r=oE(i.value);return function(){return r}}return function(){return i[t(163)]}}const n=i.operator;switch(n){case ae.Number:case ae[t(154)]:case ae[t(160)]:return C9(i);case ae[t(164)]:case ae[t(172)]:return b9(i);case ae.Id:return r=>r[t(155)];case ae[t(184)]:return r=>r.geometryType;case ae[t(175)]:{const r=i.args[t(165)](s=>Zr(s));return s=>""[t(130)](...r[t(165)](a=>a(s)[t(144)]()))}case ae[t(181)]:return r=>r[t(137)];case ae[t(186)]:case ae[t(126)]:case ae.Between:case ae.In:case ae[t(161)]:return w9(i);case ae[t(125)]:case ae[t(127)]:case ae[t(149)]:case ae[t(176)]:case ae.GreaterThan:case ae[t(169)]:return v9(i);case ae[t(147)]:case ae[t(156)]:case ae.Add:case ae[t(116)]:case ae.Clamp:case ae.Mod:case ae[t(142)]:case ae[t(115)]:case ae[t(133)]:case ae.Ceil:case ae[t(117)]:case ae[t(123)]:case ae.Cos:case ae.Atan:case ae.Sqrt:return B9(i);case ae.Case:return S9(i);case ae[t(135)]:return M9(i);case ae[t(167)]:return R9(i);case ae[t(132)]:return T9(i);default:throw new Error(t(151)+n)}}function C9(i,e){const t=Vi,n=i.operator,r=i[t(114)][t(153)],s=new Array(r);for(let a=0;a<r;++a)s[a]=Zr(i[t(114)][a]);switch(n){case ae[t(160)]:return a=>{const o=t;for(let l=0;l<r;++l){const c=s[l](a);if(typeof c<"u"&&c!==null)return c}throw new Error(o(166))};case ae[t(157)]:case ae[t(154)]:return a=>{const o=t;for(let l=0;l<r;++l){const c=s[l](a);if(typeof c===n)return c}throw new Error(o(168)+n)};default:throw new Error(t(158)+n)}}function b9(i,e){const t=Vi,n=i[t(114)][0],r=n[t(163)];switch(i[t(145)]){case ae[t(164)]:return s=>{const a=t,o=i[a(114)];let l=s[a(128)][r];for(let c=1,x=o.length;c<x;++c){const u=o[c],h=u[a(163)];l=l[h]}return l};case ae.Var:return s=>s[t(177)][r];default:throw new Error(t(134)+i.operator)}}function J1(){const i=["floor","length","String","featureId","Divide","Number","Unsupported assertion operator ","sin","Coalesce","Not","Unsupported logical operator ","value","Get","map","Expected one of the values to be non-null","Interpolate","Expected one of the values to be a ","GreaterThanOrEqualTo","isArray","string","Var","784189KOIPUq","388460pWeBxW","Concat","LessThanOrEqualTo","variables","atan2","Atan","9300564HrXRFu","Resolution","Cos","atan","GeometryType","1473bEmnBq","Any","type","8356SwKzmv","pow","args","Abs","Subtract","Round","Unsupported numeric operator ","ceil","Clamp","8824xKXLUB","cos","Sin","2250YlOFes","Equal","All","NotEqual","properties","Sqrt","concat","Unsupported comparison operator ","ToString","Floor","Unsupported accessor operator ","Match","860mwuqJD","resolution","4307058piQdJg","Between","abs","Unsupported convert operator ","Pow","Add","toString","operator","6629cnJyQF","Multiply","22obiIaM","LessThan","sqrt","Unsupported operator "];return J1=function(){return i},J1()}function v9(i,e){const t=Vi,n=i.operator,r=Zr(i[t(114)][0]),s=Zr(i[t(114)][1]);switch(n){case ae[t(125)]:return a=>r(a)===s(a);case ae[t(127)]:return a=>r(a)!==s(a);case ae[t(149)]:return a=>r(a)<s(a);case ae[t(176)]:return a=>r(a)<=s(a);case ae.GreaterThan:return a=>r(a)>s(a);case ae[t(169)]:return a=>r(a)>=s(a);default:throw new Error(t(131)+n)}}function w9(i,e){const t=Vi,n=i[t(145)],r=i.args[t(153)],s=new Array(r);for(let a=0;a<r;++a)s[a]=Zr(i[t(114)][a]);switch(n){case ae[t(186)]:return a=>{for(let o=0;o<r;++o)if(s[o](a))return!0;return!1};case ae[t(126)]:return a=>{for(let o=0;o<r;++o)if(!s[o](a))return!1;return!0};case ae[t(139)]:return a=>{const o=s[0](a),l=s[1](a),c=s[2](a);return o>=l&&o<=c};case ae.In:return a=>{const o=s[0](a);for(let l=1;l<r;++l)if(o===s[l](a))return!0;return!1};case ae[t(161)]:return a=>!s[0](a);default:throw new Error(t(162)+n)}}function B9(i,e){const t=Vi,n=i[t(145)],r=i[t(114)].length,s=new Array(r);for(let a=0;a<r;++a)s[a]=Zr(i[t(114)][a]);switch(n){case ae[t(147)]:return a=>{let o=1;for(let l=0;l<r;++l)o*=s[l](a);return o};case ae[t(156)]:return a=>s[0](a)/s[1](a);case ae[t(143)]:return a=>{let o=0;for(let l=0;l<r;++l)o+=s[l](a);return o};case ae.Subtract:return a=>s[0](a)-s[1](a);case ae[t(120)]:return a=>{const o=s[0](a),l=s[1](a);if(o<l)return l;const c=s[2](a);return o>c?c:o};case ae.Mod:return a=>s[0](a)%s[1](a);case ae[t(142)]:return a=>Math[t(113)](s[0](a),s[1](a));case ae.Abs:return a=>Math[t(140)](s[0](a));case ae[t(133)]:return a=>Math[t(152)](s[0](a));case ae.Ceil:return a=>Math[t(119)](s[0](a));case ae[t(117)]:return a=>Math.round(s[0](a));case ae[t(123)]:return a=>Math[t(159)](s[0](a));case ae[t(182)]:return a=>Math[t(122)](s[0](a));case ae[t(179)]:return r===2?a=>Math[t(178)](s[0](a),s[1](a)):a=>Math[t(183)](s[0](a));case ae[t(129)]:return a=>Math[t(150)](s[0](a));default:throw new Error(t(118)+n)}}function S9(i,e){const t=Vi,n=i.args[t(153)],r=new Array(n);for(let s=0;s<n;++s)r[s]=Zr(i[t(114)][s]);return s=>{for(let a=0;a<n-1;a+=2)if(r[a](s))return r[a+1](s);return r[n-1](s)}}function M9(i,e){const t=Vi,n=i[t(114)][t(153)],r=new Array(n);for(let s=0;s<n;++s)r[s]=Zr(i[t(114)][s]);return s=>{const a=r[0](s);for(let o=1;o<n;o+=2)if(a===r[o](s))return r[o+1](s);return r[n-1](s)}}function R9(i,e){const t=Vi,n=i[t(114)][t(153)],r=new Array(n);for(let s=0;s<n;++s)r[s]=Zr(i[t(114)][s]);return s=>{const a=t,o=r[0](s),l=r[1](s);let c,x;for(let u=2;u<n;u+=2){const h=r[u](s);let f=r[u+1](s);const A=Array[a(170)](f);if(A&&(f=zQ(f)),h>=l)return u===2?f:A?D9(o,l,c,x,h,f):nh(o,l,c,x,h,f);c=h,x=f}return x}}function T9(i,e){const t=Vi,n=i[t(145)],r=i.args[t(153)],s=new Array(r);for(let a=0;a<r;++a)s[a]=Zr(i[t(114)][a]);switch(n){case ae[t(132)]:return a=>{const o=t,l=s[0](a);return i[o(114)][0][o(187)]===Jr?cE(l):l[o(144)]()};default:throw new Error(t(141)+n)}}function nh(i,e,t,n,r,s){const a=Vi,o=r-t;if(o===0)return n;const l=e-t,c=i===1?l/o:(Math[a(113)](i,l)-1)/(Math[a(113)](i,o)-1);return n+c*(s-n)}function D9(i,e,t,n,r,s){if(r-t===0)return n;const o=Yw(n),l=Yw(s);let c=l[2]-o[2];c>180?c-=360:c<-180&&(c+=360);const x=[nh(i,e,t,o[0],r,l[0]),nh(i,e,t,o[1],r,l[1]),o[2]+nh(i,e,t,0,r,c),nh(i,e,t,n[3],r,s[3])];return Xw(VQ(x))}(function(i,e){const t=Ht,n=i();for(;;)try{if(parseInt(t(487))/1*(parseInt(t(529))/2)+parseInt(t(474))/3+-parseInt(t(539))/4*(-parseInt(t(479))/5)+parseInt(t(440))/6*(parseInt(t(523))/7)+-parseInt(t(505))/8*(-parseInt(t(501))/9)+parseInt(t(425))/10*(parseInt(t(513))/11)+-parseInt(t(445))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(tp,929519);function Q9(i){return!0}function F9(i){const e=n5(),t=L9(i,e),n=a5();return function(r,s){const a=Ht;if(n.properties=r[a(435)](),n.resolution=s,e[a(504)]){const o=r.getId();o!==void 0?n[a(504)]=o:n[a(504)]=null}return e.geometryType&&(n[a(476)]=s5(r[a(496)]())),t(n)}}function o5(i){const e=Ht,t=n5(),n=i[e(517)],r=new Array(n);for(let o=0;o<n;++o)r[o]=cy(i[o],t);const s=a5(),a=new Array(n);return function(o,l){const c=e;if(s[c(450)]=o.getPropertiesInternal(),s[c(442)]=l,t.featureId){const u=o.getId();u!==void 0?s[c(504)]=u:s[c(504)]=null}let x=0;for(let u=0;u<n;++u){const h=r[u](s);h&&(a[x]=h,x+=1)}return a.length=x,a}}function L9(i,e){const t=Ht,n=i.length,r=new Array(n);for(let s=0;s<n;++s){const a=i[s],o="filter"in a?ra(a.filter,Ti,e):Q9;let l;if(Array[t(527)](a[t(495)])){const c=a[t(495)].length;l=new Array(c);for(let x=0;x<c;++x)l[x]=cy(a[t(495)][x],e)}else l=[cy(a[t(495)],e)];r[s]={filter:o,styles:l}}return function(s){const a=t,o=[];let l=!1;for(let c=0;c<n;++c){const x=r[c][a(555)];if(x(s)&&!(i[c][a(426)]&&l)){l=!0;for(const u of r[c][a(554)]){const h=u(s);h&&o[a(444)](h)}}}return o}}function cy(i,e){const t=Ht,n=ih(i,"",e),r=rh(i,"",e),s=P9(i,e),a=k9(i,e),o=Hi(i,t(429),e);if(!n&&!r&&!s&&!a&&!Ya(i))throw new Error(t(516)+JSON.stringify(i));const l=new bt;return function(c){const x=t;let u=!0;if(n){const h=n(c);h&&(u=!1),l[x(532)](h)}if(r){const h=r(c);h&&(u=!1),l[x(485)](h)}if(s){const h=s(c);h&&(u=!1),l[x(493)](h)}if(a){const h=a(c);h&&(u=!1),l[x(491)](h)}return o&&l[x(471)](o(c)),u?null:l}}function ih(i,e,t){const n=Ht;let r;if(e+n(537)in i)r=G9(i,e+"fill-",t);else{if(i[e+n(434)]===n(499))return a=>null;r=ly(i,e+n(434),t)}if(!r)return null;const s=new Gi;return function(a){const o=n,l=r(a);return l===sE?null:(s[o(498)](l),s)}}function rh(i,e,t){const n=Ht,r=Hi(i,e+n(503),t),s=ly(i,e+n(560),t);if(!r&&!s)return null;const a=sa(i,e+n(464),t),o=sa(i,e+n(478),t),l=c5(i,e+"stroke-line-dash",t),c=Hi(i,e+n(465),t),x=Hi(i,e+n(427),t),u=new Ri;return function(h){const f=n;if(s){const A=s(h);if(A===sE)return null;u[f(498)](A)}if(r&&u.setWidth(r(h)),a){const A=a(h);if(A!=="butt"&&A!==f(510)&&A!==f(438))throw new Error(f(542));u.setLineCap(A)}if(o){const A=o(h);if(A!==f(477)&&A!==f(510)&&A!==f(451))throw new Error(f(494));u[f(520)](A)}return l&&u[f(512)](l(h)),c&&u[f(449)](c(h)),x&&u[f(463)](x(h)),u}}function P9(i,e){const t=Ht,n=t(543),r=sa(i,n+t(458),e);if(!r)return null;const s=ih(i,n,e),a=ih(i,n+t(538),e),o=rh(i,n,e),l=rh(i,n+t(538),e),c=sa(i,n+t(518),e),x=Hi(i,n+t(462),e),u=Hi(i,n+t(448),e),h=Hi(i,n+t(549),e),f=sh(i,n+t(459),e),A=sa(i,n+t(533),e),g=Hi(i,n+t(526),e),d=$1(i,n+"scale",e),p=sh(i,n+t(545),e),_=Hi(i,n+"rotation",e),I=sa(i,n+t(472),e),m=sa(i,n+"justify",e),y=sa(i,n+"baseline",e),E=c5(i,n+t(547),e),C=np(i,n+t(436)),v=new Ju({declutterMode:C});return function(b){const w=t;if(v[w(493)](r(b)),s&&v[w(532)](s(b)),a&&v[w(508)](a(b)),o&&v[w(485)](o(b)),l&&v[w(492)](l(b)),c&&v.setFont(c(b)),x&&v[w(475)](x(b)),u&&v[w(454)](u(b)),h&&v[w(541)](h(b)),f&&v[w(557)](f(b)),A){const B=A(b);if(B!==w(514)&&B!==w(544))throw new Error(w(515));v[w(486)](B)}if(g&&v.setRepeat(g(b)),d&&v[w(561)](d(b)),p&&v[w(497)](p(b)),_&&v.setRotation(_(b)),I){const B=I(b);if(B!==w(556)&&B!==w(443)&&B!==w(456)&&B!==w(489)&&B!==w(524))throw new Error(w(431));v[w(430)](B)}if(m){const B=m(b);if(B!==w(556)&&B!==w(456)&&B!=="center")throw new Error(w(481));v.setJustify(B)}if(y){const B=y(b);if(B!==w(457)&&B!=="top"&&B!==w(506)&&B!==w(535)&&B!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");v[w(468)](B)}return E&&v[w(528)](E(b)),v}}function k9(i,e){const t=Ht;return t(466)in i?U9(i,e):"shape-points"in i?N9(i,e):t(470)in i?O9(i,e):null}function U9(i,e){const t=Ht,n=t(467),r=n+"src",s=h5(i[r],r),a=Z1(i,n+t(469),e),o=$1(i,n+t(453),e),l=Hi(i,n+t(483),e),c=Z1(i,n+"displacement",e),x=Hi(i,n+t(432),e),u=sh(i,n+t(545),e),h=x5(i,n+t(446)),f=u5(i,n+t(522)),A=u5(i,n+t(455)),g=q9(i,n+t(509)),d=V9(i,n+"cross-origin"),p=H9(i,n+t(433)),_=x5(i,n+t(482)),I=ep(i,n+t(536)),m=ep(i,n+t(559)),y=z9(i,n+"size"),E=np(i,n+t(436)),C=new _0({src:s,anchorOrigin:h,anchorXUnits:f,anchorYUnits:A,color:g,crossOrigin:d,offset:p,offsetOrigin:_,height:m,width:I,size:y,declutterMode:E});return function(v){const b=t;return l&&C.setOpacity(l(v)),c&&C[b(548)](c(v)),x&&C[b(461)](x(v)),u&&C[b(497)](u(v)),o&&C.setScale(o(v)),a&&C[b(452)](a(v)),C}}function N9(i,e){const t=Ht,n=t(551),r=n+t(437),s=n+"radius",a=xy(i[r],r),o=xy(i[s],s),l=ih(i,n,e),c=rh(i,n,e),x=$1(i,n+"scale",e),u=Z1(i,n+t(550),e),h=Hi(i,n+t(432),e),f=sh(i,n+t(545),e),A=ep(i,n+"radius2"),g=ep(i,n+t(439)),d=np(i,n+t(436)),p=new Mc({points:a,radius:o,radius2:A,angle:g,declutterMode:d});return function(_){const I=t;return l&&p[I(532)](l(_)),c&&p.setStroke(c(_)),u&&p.setDisplacement(u(_)),h&&p[I(461)](h(_)),f&&p[I(497)](f(_)),x&&p.setScale(x(_)),p}}function O9(i,e){const t=Ht,n=t(519),r=ih(i,n,e),s=rh(i,n,e),a=Hi(i,n+t(480),e),o=$1(i,n+"scale",e),l=Z1(i,n+t(550),e),c=Hi(i,n+t(432),e),x=sh(i,n+t(545),e),u=np(i,n+t(436)),h=new zc({radius:5,declutterMode:u});return function(f){const A=t;return a&&h.setRadius(a(f)),r&&h.setFill(r(f)),s&&h[A(485)](s(f)),l&&h[A(548)](l(f)),c&&h[A(461)](c(f)),x&&h[A(497)](x(f)),o&&h[A(561)](o(f)),h}}function Hi(i,e,t){if(!(e in i))return;const n=ra(i[e],_t,t);return function(r){return xy(n(r),e)}}function sa(i,e,t){if(!(e in i))return null;const n=ra(i[e],zi,t);return function(r){return h5(n(r),e)}}function G9(i,e,t){const n=Ht,r=sa(i,e+n(488),t),s=l5(i,e+n(502),t),a=l5(i,e+"pattern-size",t),o=ly(i,e+n(509),t);return function(l){return{src:r(l),offset:s&&s(l),size:a&&a(l),color:o&&o(l)}}}function sh(i,e,t){if(!(e in i))return null;const n=ra(i[e],Ti,t);return function(r){const s=Ht,a=n(r);if(typeof a!==s(460))throw new Error(s(546)+e);return a}}function ly(i,e,t){if(!(e in i))return null;const n=ra(i[e],Jr,t);return function(r){return f5(n(r),e)}}function c5(i,e,t){if(!(e in i))return null;const n=ra(i[e],E0,t);return function(r){return ah(n(r),e)}}function Z1(i,e,t){if(!(e in i))return null;const n=ra(i[e],E0,t);return function(r){const s=Ht,a=ah(n(r),e);if(a[s(517)]!==2)throw new Error(s(447)+e);return a}}function l5(i,e,t){if(!(e in i))return null;const n=ra(i[e],E0,t);return function(r){return A5(n(r),e)}}function $1(i,e,t){if(!(e in i))return null;const n=ra(i[e],E0|_t,t);return function(r){return Y9(n(r),e)}}function ep(i,e){const t=Ht,n=i[e];if(n!==void 0){if(typeof n!="number")throw new Error(t(484)+e);return n}}function z9(i,e){const t=Ht,n=i[e];if(n!==void 0){if(typeof n===t(500))return pi(n);if(!Array[t(527)](n))throw new Error(t(521)+e);if(n[t(517)]!==2||typeof n[0]!="number"||typeof n[1]!==t(500))throw new Error("Expected a number or size array for "+e);return n}}function tp(){const i=["setOverflow","top-right","height","stroke-color","setScale","obstacle","8264570WLYBNh","else","stroke-miter-limit","top-left","z-index","setTextAlign","Expected left, right, center, start, or end for text-align","rotation","offset","fill-color","getPropertiesInternal","declutter-mode","points","square","angle","1157154vPXZEH","bottom-right","resolution","center","push","98738004eosfiT","anchor-origin","Expected two numbers for ","offset-x","setLineDashOffset","properties","miter","setAnchor","scale","setOffsetX","anchor-y-units","right","bottom","value","overflow","boolean","setRotation","max-angle","setMiterLimit","stroke-line-cap","stroke-line-dash-offset","icon-src","icon-","setTextBaseline","anchor","circle-radius","setZIndex","align","Expected an array of numbers for ","3477720fAehDo","setMaxAngle","geometryType","bevel","stroke-line-join","1684420HfMzSQ","radius","Expected left, right, or center for text-justify","offset-origin","opacity","Expected a number for ","setStroke","setPlacement","2955NRXOqV","pattern-src","end","declutter","setImage","setBackgroundStroke","setText","Expected bevel, round, or miter line join","style","getGeometry","setRotateWithView","setColor","none","number","18lacavS","pattern-offset","stroke-width","featureId","6589736OMsxbA","middle","bottom-left","setBackgroundFill","color","round","fraction","setLineDash","22wqJbmG","point","Expected point or line for text-placement","No fill, stroke, point, or text symbolizer properties in style: ","length","font","circle-","setLineJoin","Expected a number or size array for ","anchor-x-units","49fsPVJq","start","pixels","repeat","isArray","setPadding","1126huALSM","Expected a color with 3 or 4 values for ","Expected an array for ","setFill","placement","Expected an array of two numbers for ","alphabetic","width","fill-pattern-src","background-","20HDHEbe","string","setOffsetY","Expected butt, round, or square line cap","text-","line","rotate-with-view","Expected a boolean for ","padding","setDisplacement","offset-y","displacement","shape-","Expected pixels or fraction for ","Expected a string for ","styles","filter","left"];return tp=function(){return i},tp()}function V9(i,e){const t=Ht,n=i[e];if(n!==void 0){if(typeof n!==t(540))throw new Error(t(553)+e);return n}}function Ht(i,e){const t=tp();return Ht=function(n,r){return n=n-424,t[n]},Ht(i,e)}function x5(i,e){const t=Ht,n=i[e];if(n!==void 0){if(n!==t(507)&&n!==t(441)&&n!==t(428)&&n!==t(558))throw new Error("Expected bottom-left, bottom-right, top-left, or top-right for "+e);return n}}function u5(i,e){const t=Ht,n=i[e];if(n!==void 0){if(n!==t(525)&&n!==t(511))throw new Error(t(552)+e);return n}}function H9(i,e){const t=i[e];if(t!==void 0)return ah(t,e)}function np(i,e){const t=Ht,n=i[e];if(n!==void 0){if(typeof n!="string")throw new Error(t(553)+e);if(n!==t(490)&&n!==t(424)&&n!=="none")throw new Error("Expected declutter, obstacle, or none for "+e);return n}}function q9(i,e){const t=i[e];if(t!==void 0)return f5(t,e)}function ah(i,e){const t=Ht;if(!Array.isArray(i))throw new Error(t(531)+e);const n=i.length;for(let r=0;r<n;++r)if(typeof i[r]!==t(500))throw new Error(t(473)+e);return i}function h5(i,e){const t=Ht;if(typeof i!==t(540))throw new Error(t(553)+e);return i}function xy(i,e){const t=Ht;if(typeof i!==t(500))throw new Error(t(484)+e);return i}function f5(i,e){const t=Ht;if(typeof i===t(540))return i;const n=ah(i,e),r=n[t(517)];if(r<3||r>4)throw new Error(t(530)+e);return n}function A5(i,e){const t=Ht,n=ah(i,e);if(n[t(517)]!==2)throw new Error(t(534)+e);return n}function Y9(i,e){return typeof i===Ht(500)?i:A5(i,e)}const Dn=rp;(function(i,e){const t=rp,n=i();for(;;)try{if(parseInt(t(180))/1+-parseInt(t(160))/2*(parseInt(t(153))/3)+parseInt(t(167))/4*(-parseInt(t(151))/5)+parseInt(t(178))/6+-parseInt(t(181))/7+-parseInt(t(157))/8+parseInt(t(184))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ip,989244);function ip(){const i=["set","57614wpAMho","getDeclutter","assign","getStyleFunction","renderBuffer","Expected a list of rules with a style property","updateWhileInteracting","1073908JPIhHr","renderBuffer_","setStyle","updateWhileInteracting_","updateWhileAnimating_","setRenderOrder","updateWhileAnimating","getRenderer","styleFunction_","length","declutter_","7952148fizucZ","RENDER_ORDER","834169sIHoni","13261927gmTSQB","declutter","style_","27878436bOlDzp","renderOrder","function","getFeatures","5anYSrn","changed","39SudaGx","style","get","renderDeclutter","13842864DdooJA","getRenderBuffer"];return ip=function(){return i},ip()}function rp(i,e){const t=ip();return rp=function(n,r){return n=n-150,t[n]},rp(i,e)}const d5={RENDER_ORDER:Dn(185)};class uy extends m0{constructor(e){const t=Dn;e=e||{};const n=Object[t(162)]({},e);delete n[t(154)],delete n.renderBuffer,delete n[t(173)],delete n.updateWhileInteracting,super(n),this[t(177)]=e[t(182)]?String(e[t(182)]):void 0,this[t(168)]=e[t(164)]!==void 0?e[t(164)]:100,this[t(183)]=null,this[t(175)]=void 0,this.setStyle(e.style),this[t(171)]=e[t(173)]!==void 0?e[t(173)]:!1,this[t(170)]=e.updateWhileInteracting!==void 0?e[t(166)]:!1}[Dn(161)](){return this[Dn(177)]}[Dn(150)](e){const t=Dn;return super[t(150)](e)}[Dn(158)](){return this[Dn(168)]}getRenderOrder(){const e=Dn;return this[e(155)](d5[e(179)])}getStyle(){return this[Dn(183)]}[Dn(163)](){return this[Dn(175)]}getUpdateWhileAnimating(){return this[Dn(171)]}getUpdateWhileInteracting(){return this[Dn(170)]}[Dn(156)](e,t){const n=Dn,r=this[n(161)]();!(r in e[n(182)])&&(e[n(182)][r]=new JB(9)),this[n(174)]()[n(156)](e,t)}[Dn(172)](e){this[Dn(159)](d5.RENDER_ORDER,e)}[Dn(169)](e){const t=Dn;this[t(183)]=e===void 0?$B:e;const n=X9(e);this.styleFunction_=e===null?void 0:a9(n),this[t(152)]()}}function X9(i){const e=Dn;if(i===void 0)return $B;if(!i)return null;if(typeof i===e(186)||i instanceof bt)return i;if(!Array.isArray(i))return o5([i]);if(i[e(176)]===0)return[];const t=i[e(176)],n=i[0];if(n instanceof bt){const s=new Array(t);for(let a=0;a<t;++a){const o=i[a];if(!(o instanceof bt))throw new Error("Expected a list of style instances");s[a]=o}return s}if(e(154)in n){const s=new Array(t);for(let a=0;a<t;++a){const o=i[a];if(!(e(154)in o))throw new Error(e(165));s[a]=o}return F9(s)}return o5(i)}const hy=ap;(function(i,e){const t=ap,n=i();for(;;)try{if(parseInt(t(157))/1+-parseInt(t(162))/2*(-parseInt(t(153))/3)+-parseInt(t(159))/4*(parseInt(t(160))/5)+parseInt(t(155))/6+-parseInt(t(158))/7*(parseInt(t(156))/8)+-parseInt(t(163))/9+-parseInt(t(150))/10*(-parseInt(t(154))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(op,366667);const He={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},sp=[He[hy(161)]],lo=[He[hy(151)]],y0=[He.BEGIN_PATH];function ap(i,e){const t=op();return ap=function(n,r){return n=n-150,t[n]},ap(i,e)}function op(){const i=["STROKE","CLOSE_PATH","87qLJxAu","517EEYkjk","2173392yJpmrw","2616FpIWYr","186901vHfXiC","8841dHvoFW","1584iOqKpe","8630dxMTHH","FILL","17852TbyosP","6414822mucBCc","291050LcWGQh"];return op=function(){return i},op()}const p5=[He[hy(152)]];function cp(){var i=["4926iXIWTQ","drawLineString","30cOqgfH","drawCircle","setStyle","8528312RUiIzn","drawMultiLineString","8072721wcLDco","drawText","8036OMbYDG","3399512yLGwnT","6700084gLuwTu","drawPolygon","drawFeature","setTextStyle","setFillStrokeStyle","drawGeometry","5553640rPeZCY","setImageStyle","drawGeometryCollection","1qxhDCz","drawMultiPolygon","1037496QZsyvt"];return cp=function(){return i},cp()}var ur=lp;function lp(i,e){var t=cp();return lp=function(n,r){n=n-249;var s=t[n];return s},lp(i,e)}(function(i,e){for(var t=lp,n=i();;)try{var r=-parseInt(t(257))/1*(parseInt(t(270))/2)+parseInt(t(259))/3+-parseInt(t(271))/4+parseInt(t(254))/5+parseInt(t(260))/6*(-parseInt(t(269))/7)+parseInt(t(265))/8+-parseInt(t(267))/9*(-parseInt(t(262))/10);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(cp,896221);class g5{drawCustom(e,t,n,r,s){}[ur(253)](e){}[ur(264)](e){}[ur(263)](e,t,n){}[ur(250)](e,t,n){}[ur(256)](e,t,n){}[ur(261)](e,t,n){}[ur(266)](e,t,n){}drawMultiPoint(e,t,n){}[ur(258)](e,t,n){}drawPoint(e,t,n){}[ur(249)](e,t,n){}[ur(268)](e,t,n){}[ur(252)](e,t){}[ur(255)](e,t){}[ur(251)](e,t){}}const qt=oh;(function(i,e){const t=oh,n=i();for(;;)try{if(parseInt(t(358))/1+parseInt(t(323))/2*(-parseInt(t(310))/3)+parseInt(t(353))/4+-parseInt(t(337))/5*(parseInt(t(307))/6)+-parseInt(t(376))/7*(parseInt(t(359))/8)+parseInt(t(300))/9+parseInt(t(365))/10*(-parseInt(t(346))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(xp,322034);function oh(i,e){const t=xp();return oh=function(n,r){return n=n-296,t[n]},oh(i,e)}function xp(){const i=["133310FcDqSO","lineJoin","coordinates","getStride","getEnds","Point","lineDash","lineCap","bufferedMaxExtent_","END_GEOMETRY","lineDashOffset","7jufYEt","pixelRatio","getMiterLimit","beginGeometryInstruction1_","resolution","push","4480704yIiZfe","createFill","createStroke","getLineCap","MultiPolygon","updateStrokeStyle","hitDetectionInstructions","98286WhxZBz","CUSTOM","updateFillStyle","2454FOEXsp","lineWidth","currentLineCap","state","endGeometry","Circle","getFlatCoordinates","maxExtent","getColor","drawCustom","src","currentMiterLimit","drawCustomCoordinates_","366OUEYvi","getBufferedMaxExtent","getEndss","LineString","INTERSECTING","fillStyle","getWidth","currentFillStyle","length","beginGeometry","strokeStyle","currentLineJoin","beginGeometryInstruction2_","appendFlatLineCoordinates","85xGtCQP","MultiPoint","string","instructions","applyStroke","setFillStrokeStyle","fillPatternScale","applyPixelRatio","call","341gmjayn","reverseHitDetectionInstructions","getOrientedFlatCoordinates","SET_STROKE_STYLE","miterLimit","Polygon","currentStrokeStyle","1412828McTByw","appendFlatPointCoordinates","getLineDash","BEGIN_GEOMETRY","tmpCoordinate_","590436WwytOo","2224264gOoRzg","maxLineWidth","currentLineDash","currentLineWidth","currentLineDashOffset","tolerance"];return xp=function(){return i},xp()}class ch extends g5{constructor(e,t,n,r){const s=oh;super(),this[s(364)]=e,this[s(317)]=t,this[s(377)]=r,this[s(360)]=0,this[s(298)]=n,this.beginGeometryInstruction1_=null,this[s(335)]=null,this[s(373)]=null,this.instructions=[],this[s(367)]=[],this[s(357)]=[],this[s(306)]=[],this[s(313)]={}}[qt(344)](e){const t=this.pixelRatio;return t==1?e:e.map(function(n){return n*t})}[qt(354)](e,t){const n=qt,r=this.getBufferedMaxExtent(),s=this[n(357)],a=this[n(367)];let o=a[n(331)];for(let l=0,c=e[n(331)];l<c;l+=t)s[0]=e[l],s[1]=e[l+1],e0(r,s)&&(a[o++]=s[0],a[o++]=s[1]);return o}appendFlatLineCoordinates(e,t,n,r,s,a){const o=qt,l=this[o(367)];let c=l.length;const x=this[o(324)]();a&&(t+=r);let u=e[t],h=e[t+1];const f=this.tmpCoordinate_;let A=!0,g,d,p;for(g=t+r;g<n;g+=r)f[0]=e[g],f[1]=e[g+1],p=zI(x,f),p!==d?(A&&(l[c++]=u,l[c++]=h,A=!1),l[c++]=f[0],l[c++]=f[1]):p===Jn[o(327)]?(l[c++]=f[0],l[c++]=f[1],A=!1):A=!0,u=f[0],h=f[1],d=p;return(s&&A||g===t+r)&&(l[c++]=u,l[c++]=h),c}[qt(322)](e,t,n,r,s){const a=qt;for(let o=0,l=n[a(331)];o<l;++o){const c=n[o],x=this.appendFlatLineCoordinates(e,t,c,r,!1,!1);s[a(299)](x),t=c}return t}[qt(319)](e,t,n,r,s){const a=qt;this[a(332)](e,t,s);const o=e.getType(),l=e[a(368)](),c=this[a(367)].length;let x,u,h,f,A;switch(o){case a(304):x=e[a(348)](),f=[];const g=e[a(325)]();A=0;for(let d=0,p=g[a(331)];d<p;++d){const _=[];A=this[a(322)](x,A,g[d],l,_),f[a(299)](_)}this[a(340)][a(299)]([He.CUSTOM,c,f,e,n,GE,s]),this[a(306)][a(299)]([He[a(308)],c,f,e,r||n,GE,s]);break;case a(351):case"MultiLineString":h=[],x=o==a(351)?e[a(348)]():e[a(316)](),A=this.drawCustomCoordinates_(x,0,e[a(369)](),l,h),this.instructions[a(299)]([He.CUSTOM,c,h,e,n,Pu,s]),this[a(306)][a(299)]([He.CUSTOM,c,h,e,r||n,Pu,s]);break;case a(326):case a(315):x=e[a(316)](),u=this[a(336)](x,0,x.length,l,!1,!1),this[a(340)][a(299)]([He[a(308)],c,u,e,n,ro,s]),this[a(306)].push([He[a(308)],c,u,e,r||n,ro,s]);break;case a(338):x=e.getFlatCoordinates(),u=this[a(354)](x,l),u>c&&(this[a(340)][a(299)]([He[a(308)],c,u,e,n,ro,s]),this[a(306)][a(299)]([He[a(308)],c,u,e,r||n,ro,s]));break;case a(370):x=e[a(316)](),this[a(367)][a(299)](x[0],x[1]),u=this[a(367)][a(331)],this.instructions[a(299)]([He[a(308)],c,u,e,n,void 0,s]),this[a(306)].push([He[a(308)],c,u,e,r||n,void 0,s]);break}this[a(314)](t)}[qt(332)](e,t,n){const r=qt;this.beginGeometryInstruction1_=[He.BEGIN_GEOMETRY,t,0,e,n],this[r(340)][r(299)](this[r(297)]),this[r(335)]=[He[r(356)],t,0,e,n],this.hitDetectionInstructions[r(299)](this[r(335)])}finish(){const e=qt;return{instructions:this[e(340)],hitDetectionInstructions:this[e(306)],coordinates:this[e(367)]}}[qt(347)](){const e=qt,t=this[e(306)];t.reverse();let n;const r=t.length;let s,a,o=-1;for(n=0;n<r;++n)s=t[n],a=s[0],a==He[e(374)]?o=n:a==He[e(356)]&&(s[2]=n,jQ(this[e(306)],o,n),o=-1)}[qt(342)](e,t){const n=qt,r=this[n(313)];if(e){const s=e[n(318)]();r[n(343)]=s&&typeof s=="object"&&n(320)in s?this[n(377)]:1,r[n(328)]=Es(s||Ni)}else r[n(328)]=void 0;if(t){const s=t[n(318)]();r[n(333)]=Es(s||Cu);const a=t[n(303)]();r[n(372)]=a!==void 0?a:wc;const o=t[n(355)]();r.lineDash=o?o.slice():ta;const l=t.getLineDashOffset();r[n(375)]=l||na;const c=t.getLineJoin();r[n(366)]=c!==void 0?c:Bc;const x=t[n(329)]();r.lineWidth=x!==void 0?x:wu;const u=t[n(296)]();r[n(350)]=u!==void 0?u:yu,r[n(311)]>this[n(360)]&&(this[n(360)]=r[n(311)],this.bufferedMaxExtent_=null)}else r[n(333)]=void 0,r[n(372)]=void 0,r[n(371)]=null,r[n(375)]=void 0,r.lineJoin=void 0,r[n(311)]=void 0,r[n(350)]=void 0}[qt(301)](e){const t=qt,n=e[t(328)],r=[He.SET_FILL_STYLE,n];return typeof n!==t(339)&&r.push(e.fillPatternScale),r}[qt(341)](e){const t=qt;this.instructions[t(299)](this[t(302)](e))}[qt(302)](e){const t=qt;return[He[t(349)],e[t(333)],e.lineWidth*this[t(377)],e[t(372)],e[t(366)],e[t(350)],this[t(344)](e.lineDash),e.lineDashOffset*this[t(377)]]}[qt(309)](e,t){const n=qt,r=e[n(328)];(typeof r!==n(339)||e[n(330)]!=r)&&(r!==void 0&&this[n(340)][n(299)](t.call(this,e)),e[n(330)]=r)}[qt(305)](e,t){const n=qt,r=e[n(333)],s=e.lineCap,a=e[n(371)],o=e[n(375)],l=e.lineJoin,c=e[n(311)],x=e[n(350)];(e.currentStrokeStyle!=r||e.currentLineCap!=s||a!=e[n(361)]&&!Za(e[n(361)],a)||e[n(363)]!=o||e[n(334)]!=l||e[n(362)]!=c||e[n(321)]!=x)&&(r!==void 0&&t[n(345)](this,e),e[n(352)]=r,e[n(312)]=s,e[n(361)]=a,e[n(363)]=o,e[n(334)]=l,e.currentLineWidth=c,e[n(321)]=x)}[qt(314)](e){const t=qt;this.beginGeometryInstruction1_[2]=this.instructions.length,this[t(297)]=null,this[t(335)][2]=this.hitDetectionInstructions[t(331)],this.beginGeometryInstruction2_=null;const n=[He[t(374)],e];this[t(340)][t(299)](n),this[t(306)].push(n)}[qt(324)](){const e=qt;if(!this.bufferedMaxExtent_&&(this[e(373)]=Sw(this[e(317)]),this[e(360)]>0)){const t=this[e(298)]*(this[e(360)]+1)/2;Xa(this[e(373)],t,this[e(373)])}return this[e(373)]}}function up(){const i=["declutterImageWithText_","getHitDetectionImage","beginGeometry","2524855XnazjH","scale_","originX_","907294qouyOy","getRotation","appendFlatPointCoordinates","opacity_","push","getFlatCoordinates","getStride","getImage","4xjRCdX","rotateWithView_","anchorY_","height_","14532543iFxnwa","endGeometry","reverseHitDetectionInstructions","originY_","getAnchor","getSize","1691096bmAVJH","maxExtent","DRAW_IMAGE","ceil","declutterMode_","getOpacity","1345295eSetVO","pixelRatio","imagePixelRatio_","hitDetectionImage_","7ebZIWT","hitDetectionInstructions","anchorX_","image_","width_","rotation_","length","instructions","coordinates","7159806qIANBJ","4160217uxjdWw","finish"];return up=function(){return i},up()}const fy=C0;(function(i,e){const t=C0,n=i();for(;;)try{if(-parseInt(t(453))/1+parseInt(t(429))/2+parseInt(t(467))/3+parseInt(t(437))/4*(parseInt(t(472))/5)+parseInt(t(466))/6*(parseInt(t(457))/7)+parseInt(t(447))/8+-parseInt(t(441))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(up,790023);function C0(i,e){const t=up();return C0=function(n,r){return n=n-429,t[n]},C0(i,e)}class W9 extends ch{constructor(e,t,n,r){const s=C0;super(e,t,n,r),this.hitDetectionImage_=null,this.image_=null,this[s(455)]=void 0,this[s(459)]=void 0,this[s(439)]=void 0,this[s(440)]=void 0,this[s(432)]=void 0,this[s(474)]=void 0,this[s(444)]=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this[s(473)]=void 0,this[s(461)]=void 0,this[s(451)]=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,n){const r=C0;if(!this[r(460)]||this[r(448)]&&!e0(this[r(448)],e.getFlatCoordinates()))return;this[r(471)](e,t,n);const s=e[r(434)](),a=e[r(435)](),o=this[r(465)].length,l=this.appendFlatPointCoordinates(s,a);this.instructions.push([He[r(449)],o,l,this[r(460)],this[r(459)]*this[r(455)],this[r(439)]*this.imagePixelRatio_,Math[r(450)](this[r(440)]*this[r(455)]),this.opacity_,this.originX_*this[r(455)],this[r(444)]*this[r(455)],this.rotateWithView_,this[r(462)],[this[r(473)][0]*this[r(454)]/this[r(455)],this[r(473)][1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this[r(461)]*this[r(455)]),this[r(451)],this.declutterImageWithText_]),this[r(458)][r(433)]([He[r(449)],o,l,this.hitDetectionImage_,this[r(459)],this[r(439)],this.height_,1,this[r(474)],this.originY_,this[r(438)],this[r(462)],this[r(473)],this[r(461)],this[r(451)],this[r(469)]]),this[r(442)](t)}drawMultiPoint(e,t,n){const r=C0;if(!this[r(460)])return;this.beginGeometry(e,t,n);const s=e[r(434)](),a=[];for(let c=0,x=s[r(463)];c<x;c+=e[r(435)]())(!this[r(448)]||e0(this.maxExtent,s.slice(c,c+2)))&&a[r(433)](s[c],s[c+1]);const o=this[r(465)][r(463)],l=this[r(431)](a,2);this[r(464)][r(433)]([He.DRAW_IMAGE,o,l,this[r(460)],this[r(459)]*this[r(455)],this[r(439)]*this.imagePixelRatio_,Math[r(450)](this[r(440)]*this[r(455)]),this[r(432)],this.originX_*this[r(455)],this[r(444)]*this[r(455)],this[r(438)],this.rotation_,[this.scale_[0]*this[r(454)]/this[r(455)],this[r(473)][1]*this[r(454)]/this[r(455)]],Math[r(450)](this[r(461)]*this.imagePixelRatio_),this[r(451)],this[r(469)]]),this.hitDetectionInstructions[r(433)]([He.DRAW_IMAGE,o,l,this[r(456)],this[r(459)],this.anchorY_,this[r(440)],1,this[r(474)],this[r(444)],this[r(438)],this[r(462)],this[r(473)],this[r(461)],this[r(451)],this[r(469)]]),this[r(442)](t)}[fy(468)](){const e=fy;return this[e(443)](),this[e(459)]=void 0,this[e(439)]=void 0,this[e(456)]=null,this[e(460)]=null,this[e(455)]=void 0,this[e(440)]=void 0,this[e(473)]=void 0,this[e(432)]=void 0,this[e(474)]=void 0,this[e(444)]=void 0,this[e(438)]=void 0,this[e(462)]=void 0,this[e(461)]=void 0,super.finish()}setImageStyle(e,t){const n=fy,r=e[n(445)](),s=e[n(446)](),a=e.getOrigin();this[n(455)]=e.getPixelRatio(this[n(454)]),this[n(459)]=r[0],this.anchorY_=r[1],this[n(456)]=e[n(470)](),this.image_=e[n(436)](this[n(454)]),this[n(440)]=s[1],this[n(432)]=e[n(452)](),this.originX_=a[0],this[n(444)]=a[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e[n(430)](),this[n(473)]=e.getScaleArray(),this[n(461)]=s[0],this[n(451)]=e.getDeclutterMode(),this[n(469)]=t}}const aa=hp;function hp(i,e){const t=fp();return hp=function(n,r){return n=n-242,t[n]},hp(i,e)}(function(i,e){const t=hp,n=i();for(;;)try{if(-parseInt(t(266))/1+-parseInt(t(263))/2*(-parseInt(t(262))/3)+parseInt(t(265))/4*(parseInt(t(259))/5)+parseInt(t(260))/6+-parseInt(t(250))/7+-parseInt(t(261))/8*(-parseInt(t(270))/9)+-parseInt(t(256))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(fp,910387);function fp(){const i=["getFlatCoordinates","SET_STROKE_STYLE","1683KqJsHB","state","lineWidth","length","reverseHitDetectionInstructions","lineCap","beginGeometry","applyStroke","getEnds","finish","coordinates","updateStrokeStyle","drawFlatCoordinates_","lineJoin","298130ASuleN","push","endGeometry","hitDetectionInstructions","instructions","drawMultiLineString","14717120HkPbnk","strokeStyle","getStride","1562480HOeyUF","8475018ncojLV","30904DSbEOA","1419HzIXFC","1418KnBIWw","lastStroke","20oXvnmO","1608032PxvVEM","MOVE_TO_LINE_TO"];return fp=function(){return i},fp()}class j9 extends ch{constructor(e,t,n,r){super(e,t,n,r)}[aa(248)](e,t,n,r){const s=aa,a=this.coordinates[s(273)],o=this.appendFlatLineCoordinates(e,t,n,r,!1,!1),l=[He[s(267)],a,o];return this[s(254)].push(l),this[s(253)][s(251)](l),n}drawLineString(e,t,n){const r=aa,s=this.state,a=s[r(257)],o=s[r(272)];if(a===void 0||o===void 0)return;this[r(247)](s,this[r(243)]),this[r(242)](e,t,n),this[r(253)][r(251)]([He[r(269)],s[r(257)],s[r(272)],s[r(275)],s.lineJoin,s.miterLimit,ta,na],y0);const l=e[r(268)](),c=e.getStride();this[r(248)](l,0,l[r(273)],c),this[r(253)][r(251)](lo),this.endGeometry(t)}[aa(255)](e,t,n){const r=aa,s=this[r(271)],a=s[r(257)],o=s[r(272)];if(a===void 0||o===void 0)return;this[r(247)](s,this.applyStroke),this[r(242)](e,t,n),this[r(253)].push([He[r(269)],s[r(257)],s[r(272)],s[r(275)],s[r(249)],s.miterLimit,ta,na],y0);const l=e[r(244)](),c=e[r(268)](),x=e[r(258)]();let u=0;for(let h=0,f=l[r(273)];h<f;++h)u=this[r(248)](c,u,l[h],x);this.hitDetectionInstructions[r(251)](lo),this[r(252)](t)}[aa(245)](){const e=aa,t=this[e(271)];return t[e(264)]!=null&&t[e(264)]!=this[e(246)][e(273)]&&this[e(254)][e(251)](lo),this[e(274)](),this[e(271)]=null,super.finish()}[aa(243)](e){const t=aa;e.lastStroke!=null&&e[t(264)]!=this[t(246)][t(273)]&&(this[t(254)][t(251)](lo),e[t(264)]=this[t(246)][t(273)]),e[t(264)]=0,super.applyStroke(e),this[t(254)][t(251)](y0)}}function Ap(){const i=["35RkheJI","updateStrokeStyle","7577595sEQejC","applyStroke","length","push","SET_FILL_STYLE","beginGeometry","drawFlatCoordinatess_","lineCap","fillStyle","getEnds","152mrtVlp","hitDetectionInstructions","setFillStrokeStyles_","MOVE_TO_LINE_TO","strokeStyle","instructions","SET_STROKE_STYLE","CIRCLE","546174fDFDXr","getFlatCoordinates","lineWidth","tolerance","reverseHitDetectionInstructions","coordinates","miterLimit","finish","getEndss","endGeometry","state","appendFlatLineCoordinates","54386jrSNDc","drawCircle","3318036OmWFkd","1906665LQyThe","drawPolygon","getOrientedFlatCoordinates","getStride","lineJoin","507160geIgYI","updateFillStyle","13074NwTHcT"];return Ap=function(){return i},Ap()}const oa=lh;(function(i,e){const t=lh,n=i();for(;;)try{if(-parseInt(t(213))/1+parseInt(t(225))/2+parseInt(t(235))/3*(-parseInt(t(205))/4)+parseInt(t(228))/5+-parseInt(t(227))/6+parseInt(t(236))/7*(parseInt(t(233))/8)+parseInt(t(238))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ap,302672);class m5 extends ch{constructor(e,t,n,r){super(e,t,n,r)}drawFlatCoordinatess_(e,t,n,r){const s=lh,a=this[s(223)],o=a[s(246)]!==void 0,l=a[s(209)]!==void 0,c=n[s(240)];this.instructions[s(241)](y0),this[s(206)].push(y0);for(let x=0;x<c;++x){const u=n[x],h=this[s(218)][s(240)],f=this.appendFlatLineCoordinates(e,t,u,r,!0,!l),A=[He[s(208)],h,f];this[s(210)][s(241)](A),this[s(206)][s(241)](A),l&&(this[s(210)][s(241)](p5),this[s(206)].push(p5)),t=u}return o&&(this[s(210)][s(241)](sp),this.hitDetectionInstructions[s(241)](sp)),l&&(this[s(210)].push(lo),this[s(206)][s(241)](lo)),t}[oa(226)](e,t,n){const r=oa,s=this[r(223)],a=s[r(246)],o=s.strokeStyle;if(a===void 0&&o===void 0)return;this[r(207)](),this[r(243)](e,t,n),s.fillStyle!==void 0&&this[r(206)][r(241)]([He.SET_FILL_STYLE,Ni]),s[r(209)]!==void 0&&this[r(206)][r(241)]([He.SET_STROKE_STYLE,s.strokeStyle,s[r(215)],s.lineCap,s[r(232)],s[r(219)],ta,na]);const l=e[r(214)](),c=e.getStride(),x=this.coordinates[r(240)];this[r(224)](l,0,l.length,c,!1,!1);const u=[He[r(212)],x];this.instructions[r(241)](y0,u),this.hitDetectionInstructions[r(241)](y0,u),s[r(246)]!==void 0&&(this[r(210)][r(241)](sp),this.hitDetectionInstructions.push(sp)),s[r(209)]!==void 0&&(this[r(210)][r(241)](lo),this[r(206)].push(lo)),this[r(222)](t)}[oa(229)](e,t,n){const r=oa,s=this[r(223)],a=s[r(246)],o=s[r(209)];if(a===void 0&&o===void 0)return;this[r(207)](),this[r(243)](e,t,n),s[r(246)]!==void 0&&this[r(206)][r(241)]([He[r(242)],Ni]),s[r(209)]!==void 0&&this.hitDetectionInstructions[r(241)]([He[r(211)],s[r(209)],s[r(215)],s[r(245)],s[r(232)],s[r(219)],ta,na]);const l=e[r(247)](),c=e[r(230)](),x=e[r(231)]();this.drawFlatCoordinatess_(c,0,l,x),this[r(222)](t)}drawMultiPolygon(e,t,n){const r=oa,s=this[r(223)],a=s[r(246)],o=s.strokeStyle;if(a===void 0&&o===void 0)return;this[r(207)](),this.beginGeometry(e,t,n),s[r(246)]!==void 0&&this[r(206)].push([He[r(242)],Ni]),s[r(209)]!==void 0&&this.hitDetectionInstructions[r(241)]([He[r(211)],s.strokeStyle,s[r(215)],s[r(245)],s[r(232)],s.miterLimit,ta,na]);const l=e[r(221)](),c=e[r(230)](),x=e[r(231)]();let u=0;for(let h=0,f=l.length;h<f;++h)u=this[r(244)](c,u,l[h],x);this[r(222)](t)}[oa(220)](){const e=oa;this[e(217)](),this[e(223)]=null;const t=this[e(216)];if(t!==0){const n=this.coordinates;for(let r=0,s=n[e(240)];r<s;++r)n[r]=A0(n[r],t)}return super[e(220)]()}[oa(207)](){const e=oa,t=this[e(223)];t[e(246)]!==void 0&&this[e(234)](t,this.createFill),t[e(209)]!==void 0&&this[e(237)](t,this[e(239)])}}function lh(i,e){const t=Ap();return lh=function(n,r){return n=n-205,t[n]},lh(i,e)}(function(i,e){const t=dp,n=i();for(;;)try{if(-parseInt(t(247))/1+-parseInt(t(245))/2+-parseInt(t(246))/3+-parseInt(t(237))/4*(parseInt(t(239))/5)+parseInt(t(241))/6+-parseInt(t(240))/7+-parseInt(t(238))/8*(-parseInt(t(244))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(pp,381329);function dp(i,e){const t=pp();return dp=function(n,r){return n=n-236,t[n]},dp(i,e)}function pp(){const i=["5128249yfjVxu","1775010ErEnUK","push","sqrt","9hSPOoV","597716UPuXCt","960714kMyMpH","214865ldfQeJ","slice","4FFKQMF","19293192zbawoX","3797935RzqHFj"];return pp=function(){return i},pp()}function K9(i,e,t,n,r){const s=dp,a=[];let o=t,l=0,c=e[s(236)](t,2);for(;l<i&&o+r<n;){const[x,u]=c[s(236)](-2),h=e[o+r],f=e[o+r+1],A=Math[s(243)]((h-x)*(h-x)+(f-u)*(f-u));if(l+=A,l>=i){const g=(i-l+A)/A,d=or(x,h,g),p=or(u,f,g);c[s(242)](d,p),a.push(c),c=[d,p],l==i&&(o+=r),l=0}else if(l<i)c[s(242)](e[o+r],e[o+r+1]),o+=r;else{const g=A-l,d=or(x,h,g/A),p=or(u,f,g/A);c[s(242)](d,p),a[s(242)](c),c=[d,p],l=0,o+=r}}return l>0&&a.push(c),a}(function(i,e){const t=gp,n=i();for(;;)try{if(-parseInt(t(111))/1+parseInt(t(107))/2+-parseInt(t(108))/3*(-parseInt(t(110))/4)+-parseInt(t(103))/5+parseInt(t(102))/6+-parseInt(t(105))/7+parseInt(t(104))/8*(parseInt(t(112))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(mp,398287);function J9(i,e,t,n,r){const s=gp;let a=t,o=t,l=0,c=0,x=t,u,h,f,A,g,d,p,_,I,m;for(h=t;h<n;h+=r){const y=e[h],E=e[h+1];g!==void 0&&(I=y-g,m=E-d,A=Math[s(106)](I*I+m*m),p!==void 0&&(c+=f,u=Math[s(109)]((p*I+_*m)/(f*A)),u>i&&(c>l&&(l=c,a=x,o=h),c=0,x=h-r)),f=A,p=I,_=m),g=y,d=E}return c+=A,c>l?[x,h]:[a,o]}function gp(i,e){const t=mp();return gp=function(n,r){return n=n-102,t[n]},gp(i,e)}function mp(){const i=["425660IUKHXx","9WzvzWx","605964YoZTZt","163355zPSeLk","3315008HoSgxq","4394544NvzGSG","sqrt","1557132AqiATQ","571422EdnPHO","acos","4yLVejw"];return mp=function(){return i},mp()}const Bs=xh;(function(i,e){const t=xh,n=i();for(;;)try{if(parseInt(t(503))/1*(parseInt(t(493))/2)+-parseInt(t(540))/3*(-parseInt(t(466))/4)+parseInt(t(505))/5*(-parseInt(t(560))/6)+parseInt(t(502))/7*(-parseInt(t(510))/8)+parseInt(t(470))/9+-parseInt(t(552))/10+parseInt(t(492))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_p,809869);function xh(i,e){const t=_p();return xh=function(n,r){return n=n-460,t[n]},xh(i,e)}function _p(){const i=["4940770RfPswK","repeat","createStroke","DRAW_CHARS","justify","getStride","declutterMode_","textOffsetX_","766866LyUxKj","drawChars_","getBackgroundStroke","getEnds","textRotation_","finish","DRAW_IMAGE","getMaxAngle","textKey_","hitDetectionInstructions","getFill","Circle","getLineCap","endGeometry","30372ycvRVf","MultiPoint","lineDashOffset","getExtent","9658449NMdjoE","textBaseline","getLineDashOffset","lineCap","getCenter","lineWidth","slice","getWidth","getOffsetX","getPlacement","getJustify","getFlatInteriorPoint","maxAngle","text_","setTextStyle","updateStrokeStyle","strokeKey_","textFillState_","backgroundFill","createFill","textState_","strokeStates","3715052KYWpQV","41694ROgaMx","join","miterLimit","abs","getTextAlign","getTextBaseline","textStrokeState_","backgroundStroke","getFont","7hfcyrD","31NsaoKy","labels_","25FowZyV","maxExtent","getDeclutterMode","MultiLineString","fillStates","12515296tlXgyK","getLineDash","getLineJoin","LineString","getPadding","getFlatCoordinates","lineDash","getFlatMidpoint","saveTextStates_","scale","getText","declutterImageWithText_","coordinates","appendFlatPointCoordinates","updateFillStyle","resolution","strokeStyle","drawText","getRotation","getBackgroundFill","state","string","textOffsetY_","textStates","textAlign","MultiPolygon","push","line","instructions","fillStyle","573UsRQfh","beginGeometry","fillKey_","lineJoin","overflow","getOverflow","getEndss","padding","length","font","textRotateWithView_","pixelRatio"];return _p=function(){return i},_p()}const Ip={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Z9 extends ch{constructor(e,t,n,r){const s=xh;super(e,t,n,r),this[s(504)]=null,this.text_="",this[s(559)]=0,this[s(532)]=0,this[s(550)]=void 0,this[s(564)]=0,this[s(487)]=null,this[s(509)]={},this[s(509)][Ni]={fillStyle:Ni},this.textStrokeState_=null,this[s(491)]={},this[s(490)]={},this[s(533)]={},this.textKey_="",this[s(542)]="",this[s(486)]="",this[s(558)]=void 0,this[s(521)]=void 0}[Bs(565)](){const e=Bs,t=super[e(565)]();return t[e(533)]=this[e(533)],t[e(509)]=this[e(509)],t[e(491)]=this.strokeStates,t}[Bs(527)](e,t,n){const r=Bs,s=this[r(487)],a=this[r(499)],o=this[r(490)];if(this[r(483)]===""||!o||!s&&!a)return;const l=this[r(522)];let c=l[r(548)];const x=e.getType();let u=null,h=e[r(557)]();if(o.placement===r(537)&&(x=="LineString"||x==r(508)||x=="Polygon"||x==r(535))){if(!Bn(this[r(506)],e[r(469)]()))return;let f;if(u=e.getFlatCoordinates(),x==r(513))f=[u[r(548)]];else if(x==r(508))f=e[r(563)]();else if(x=="Polygon")f=e[r(563)]().slice(0,1);else if(x==r(535)){const p=e[r(546)]();f=[];for(let _=0,I=p.length;_<I;++_)f[r(536)](p[_][0])}this[r(541)](e,t,n);const A=o[r(553)],g=A?void 0:o[r(534)];let d=0;for(let p=0,_=f[r(548)];p<_;++p){let I;A?I=K9(A*this[r(525)],u,d,f[p],h):I=[u.slice(d,f[p])];for(let m=0,y=I[r(548)];m<y;++m){const E=I[m];let C=0,v=E[r(548)];if(g==null){const w=J9(o[r(482)],E,0,E[r(548)],2);C=w[0],v=w[1]}for(let w=C;w<v;w+=h)l[r(536)](E[w],E[w+1]);const b=l.length;d=f[p],this[r(561)](c,b),c=b}}this[r(465)](t)}else{let f=o[r(544)]?null:[];switch(x){case"Point":case r(467):u=e[r(515)]();break;case"LineString":u=e[r(517)]();break;case r(463):u=e[r(474)]();break;case r(508):u=e.getFlatMidpoints(),h=2;break;case"Polygon":u=e[r(481)](),!o[r(544)]&&f.push(u[2]/this[r(525)]),h=3;break;case r(535):const I=e.getFlatInteriorPoints();u=[];for(let m=0,y=I[r(548)];m<y;m+=3)!o[r(544)]&&f[r(536)](I[m+2]/this[r(525)]),u[r(536)](I[m],I[m+1]);if(u[r(548)]===0)return;h=2;break}const A=this[r(523)](u,h);if(A===c)return;if(f&&(A-c)/2!==u.length/h){let I=c/2;f=f.filter((m,y)=>{const E=l[(I+y)*2]===u[y*h]&&l[(I+y)*2+1]===u[y*h+1];return!E&&--I,E})}this[r(518)](),(o[r(488)]||o[r(500)])&&(this.setFillStrokeStyle(o.backgroundFill,o[r(500)]),o[r(488)]&&this[r(524)](this.state,this.createFill),o.backgroundStroke&&(this[r(485)](this[r(530)],this.applyStroke),this[r(461)].push(this[r(554)](this[r(530)])))),this.beginGeometry(e,t,n);let g=o.padding;if(g!=o0&&(o[r(519)][0]<0||o[r(519)][1]<0)){let I=o[r(547)][0],m=o[r(547)][1],y=o[r(547)][2],E=o[r(547)][3];o.scale[0]<0&&(m=-m,E=-E),o[r(519)][1]<0&&(I=-I,y=-y),g=[I,m,y,E]}const d=this[r(551)];this.instructions[r(536)]([He[r(566)],c,A,null,NaN,NaN,NaN,1,0,0,this[r(550)],this[r(564)],[1,1],NaN,this[r(558)],this[r(521)],g==o0?o0:g.map(function(I){return I*d}),!!o.backgroundFill,!!o[r(500)],this.text_,this[r(460)],this[r(486)],this.fillKey_,this[r(559)],this[r(532)],f]);const p=1/d,_=this[r(530)][r(539)];o[r(488)]&&(this[r(530)].fillStyle=Ni,this[r(461)][r(536)](this.createFill(this.state))),this[r(461)].push([He.DRAW_IMAGE,c,A,null,NaN,NaN,NaN,1,0,0,this[r(550)],this[r(564)],[p,p],NaN,this.declutterMode_,this[r(521)],g,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this[r(460)],this.strokeKey_,this[r(542)]?Ni:this.fillKey_,this.textOffsetX_,this[r(532)],f]),o[r(488)]&&(this[r(530)][r(539)]=_,this[r(461)][r(536)](this[r(489)](this.state))),this[r(465)](t)}}[Bs(518)](){const e=Bs,t=this[e(499)],n=this[e(490)],r=this.textFillState_,s=this[e(486)];t&&!(s in this[e(491)])&&(this[e(491)][s]={strokeStyle:t.strokeStyle,lineCap:t[e(473)],lineDashOffset:t.lineDashOffset,lineWidth:t[e(475)],lineJoin:t[e(543)],miterLimit:t[e(495)],lineDash:t[e(516)]});const a=this.textKey_;!(a in this[e(533)])&&(this[e(533)][a]={font:n[e(549)],textAlign:n[e(534)]||bu,justify:n[e(556)],textBaseline:n[e(471)]||Md,scale:n[e(519)]});const o=this[e(542)];r&&!(o in this[e(509)])&&(this[e(509)][o]={fillStyle:r[e(539)]})}[Bs(561)](e,t){const n=Bs,r=this.textStrokeState_,s=this.textState_,a=this[n(486)],o=this[n(460)],l=this.fillKey_;this[n(518)]();const c=this[n(551)],x=Ip[s[n(471)]],u=this.textOffsetY_*c,h=this[n(483)],f=r?r[n(475)]*Math[n(496)](s[n(519)][0])/2:0;this[n(538)][n(536)]([He.DRAW_CHARS,e,t,x,s[n(544)],l,s[n(482)],c,u,a,f*c,h,o,1,this[n(558)]]),this.hitDetectionInstructions[n(536)]([He[n(555)],e,t,x,s.overflow,l&&Ni,s.maxAngle,c,u,a,f*c,h,o,1/c,this[n(558)]])}[Bs(484)](e,t){const n=Bs;let r,s,a;if(!e)this[n(483)]="";else{const o=e[n(462)]();o?(s=this[n(487)],!s&&(s={},this[n(487)]=s),s[n(539)]=Es(o.getColor()||Ni)):(s=null,this[n(487)]=s);const l=e.getStroke();if(!l)a=null,this[n(499)]=a;else{a=this[n(499)],!a&&(a={},this[n(499)]=a);const g=l[n(511)](),d=l[n(472)](),p=l[n(477)](),_=l.getMiterLimit();a[n(473)]=l[n(464)]()||wc,a.lineDash=g?g[n(476)]():ta,a[n(468)]=d===void 0?na:d,a.lineJoin=l[n(512)]()||Bc,a[n(475)]=p===void 0?wu:p,a[n(495)]=_===void 0?yu:_,a[n(526)]=Es(l.getColor()||Cu)}r=this.textState_;const c=e[n(501)]()||oB;cB(c);const x=e.getScaleArray();r[n(544)]=e[n(545)](),r[n(549)]=c,r[n(482)]=e[n(567)](),r.placement=e[n(479)](),r[n(534)]=e[n(497)](),r[n(553)]=e.getRepeat(),r.justify=e[n(480)](),r[n(471)]=e[n(498)]()||Md,r.backgroundFill=e[n(529)](),r[n(500)]=e[n(562)](),r[n(547)]=e[n(514)]()||o0,r[n(519)]=x===void 0?[1,1]:x;const u=e[n(478)](),h=e.getOffsetY(),f=e.getRotateWithView(),A=e[n(528)]();this[n(483)]=e[n(520)]()||"",this[n(559)]=u===void 0?0:u,this.textOffsetY_=h===void 0?0:h,this.textRotateWithView_=f===void 0?!1:f,this[n(564)]=A===void 0?0:A,this[n(486)]=a?(typeof a[n(526)]==n(531)?a.strokeStyle:et(a[n(526)]))+a.lineCap+a[n(468)]+"|"+a[n(475)]+a.lineJoin+a[n(495)]+"["+a[n(516)][n(494)]()+"]":"",this[n(460)]=r[n(549)]+r[n(519)]+(r.textAlign||"?")+(r[n(553)]||"?")+(r[n(556)]||"?")+(r.textBaseline||"?"),this[n(542)]=s&&s[n(539)]?typeof s[n(539)]==n(531)?s.fillStyle:"|"+et(s[n(539)]):""}this[n(558)]=e[n(507)](),this.declutterImageWithText_=t}}function Yc(i,e){const t=Ep();return Yc=function(n,r){return n=n-162,t[n]},Yc(i,e)}const _5=Yc;(function(i,e){const t=Yc,n=i();for(;;)try{if(parseInt(t(166))/1+parseInt(t(165))/2+-parseInt(t(173))/3*(parseInt(t(162))/4)+parseInt(t(170))/5*(parseInt(t(171))/6)+-parseInt(t(178))/7+parseInt(t(168))/8+-parseInt(t(177))/9*(parseInt(t(164))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ep,639247);function Ep(){const i=["370OXXtbo","26058IENfso","finish","525387mDqVVU","getBuilder","buildersByZIndex_","tolerance_","1224vilyNO","2871785yQsstn","20bYFmrs","pixelRatio_","32990BjxeqI","2344684LfEEVk","202470DVBwBp","resolution_","5420936jvgwsg","maxExtent_"];return Ep=function(){return i},Ep()}const $9={Circle:m5,Default:ch,Image:W9,LineString:j9,Polygon:m5,Text:Z9};class I5{constructor(e,t,n,r){const s=Yc;this[s(176)]=e,this[s(169)]=t,this[s(163)]=r,this[s(167)]=n,this[s(175)]={}}finish(){const e=Yc,t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const r=this.buildersByZIndex_[n];for(const s in r){const a=r[s][e(172)]();t[n][s]=a}}return t}[_5(174)](e,t){const n=_5,r=e!==void 0?e.toString():"0";let s=this[n(175)][r];s===void 0&&(s={},this[n(175)][r]=s);let a=s[t];if(a===void 0){const o=$9[t];a=new o(this[n(176)],this[n(169)],this[n(167)],this[n(163)]),s[t]=a}return a}}function yp(){const i=["push","substring","abs","3BbUzbx","196748NVzXox","510xyWVom","51438CiLkdF","7065omjYba","length","703370rCvugj","2236840CylAin","atan2","replace","sqrt","11ZkSmKL","3041180nINxyG","6577963Vnorsk","12848tjrjnm"];return yp=function(){return i},yp()}(function(i,e){const t=uh,n=i();for(;;)try{if(parseInt(t(354))/1+parseInt(t(359))/2*(-parseInt(t(353))/3)+-parseInt(t(347))/4+-parseInt(t(355))/5*(parseInt(t(356))/6)+parseInt(t(348))/7+-parseInt(t(349))/8*(-parseInt(t(357))/9)+parseInt(t(360))/10*(parseInt(t(346))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(yp,634425);function uh(i,e){const t=yp();return uh=function(n,r){return n=n-345,t[n]},uh(i,e)}function eF(i,e,t,n,r,s,a,o,l,c,x,u){const h=uh;let f=i[e],A=i[e+1],g=0,d=0,p=0,_=0;function I(){const P=uh;g=f,d=A,e+=n,f=i[e],A=i[e+1],_+=p,p=Math[P(345)]((f-g)*(f-g)+(A-d)*(A-d))}do I();while(e<t-n&&_+p<s);let m=p===0?0:(s-_)/p;const y=or(g,f,m),E=or(d,A,m),C=e-n,v=_,b=s+o*l(c,r,x);for(;e<t-n&&_+p<b;)I();m=p===0?0:(b-_)/p;const w=or(g,f,m),B=or(d,A,m);let R;if(u){const P=[y,E,w,B];MB(P,0,4,2,u,P,P),R=P[0]>P[2]}else R=y>w;const Q=Math.PI,F=[],M=C+n===e;e=C,p=0,_=v,f=i[e],A=i[e+1];let T;if(M){I(),T=Math[h(361)](A-d,f-g),R&&(T+=T>0?-Q:Q);const P=(w+y)/2,k=(B+E)/2;return F[0]=[P,k,(b-s)/2,T,r],F}r=r[h(362)](/\n/g," ");for(let P=0,k=r[h(358)];P<k;){I();let V=Math[h(361)](A-d,f-g);if(R&&(V+=V>0?-Q:Q),T!==void 0){let O=V-T;if(O+=O>Q?-2*Q:O<-Q?2*Q:0,Math[h(352)](O)>a)return null}T=V;const Y=P;let U=0;for(;P<k;++P){const O=R?k-P-1:P,ee=o*l(c,r[O],x);if(e+n<t&&_+p<s+U+ee/2)break;U+=ee}if(P===Y)continue;const te=R?r[h(351)](k-Y,k-P):r[h(351)](Y,P);m=p===0?0:(s+U/2-_)/p;const xe=or(g,f,m),G=or(d,A,m);F[h(350)]([xe,G,U/2,V,te]),s+=U}return F}(function(i,e){const t=Cp,n=i();for(;;)try{if(-parseInt(t(197))/1*(parseInt(t(206))/2)+parseInt(t(198))/3+parseInt(t(204))/4+parseInt(t(203))/5+parseInt(t(202))/6*(-parseInt(t(200))/7)+parseInt(t(207))/8*(-parseInt(t(199))/9)+parseInt(t(205))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(bp,511105);function E5(i,e,t,n){const r=Cp;let s=i[e],a=i[e+1],o=0;for(let l=e+n;l<t;l+=n){const c=i[l],x=i[l+1];o+=Math[r(201)]((c-s)*(c-s)+(x-a)*(x-a)),s=c,a=x}return o}function Cp(i,e){const t=bp();return Cp=function(n,r){return n=n-197,t[n]},Cp(i,e)}function bp(){const i=["110583GGzsIS","14ueFVgn","sqrt","2871306PTxZse","1394035yBfoTD","3728316UKRgWo","4988740vOSlnw","22TYIwer","88LvGjlL","68350dTFhLT","1936362spYiVQ"];return bp=function(){return i},bp()}function vp(i,e){const t=wp();return vp=function(n,r){return n=n-374,t[n]},vp(i,e)}const kt=vp;(function(i,e){const t=vp,n=i();for(;;)try{if(parseInt(t(397))/1*(parseInt(t(481))/2)+parseInt(t(466))/3+-parseInt(t(474))/4+-parseInt(t(410))/5+-parseInt(t(428))/6+parseInt(t(458))/7+parseInt(t(417))/8*(parseInt(t(381))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(wp,759083);function wp(){const i=["STROKE","geometry","atan2","lineJoin","declutterBox","apply","min","pixelCoordinates_","miterLimit","reduce","lineCap","6360340GfWjcC","test","BEGIN_GEOMETRY","drawLabelWithPointPlacement_","DRAW_IMAGE","textAlign","zIndex","textStates","961758EZTdvd","replayImageOrLabel_","save","start","minY","alignAndScaleFill_","height","resolution","1748104jMdyns","anchorY","replayTextBackground_","justify","labels_","widths_","fill_","6EoeABo","sqrt","setLineDash","center","canvasTransform","calculateImageOrLabelDimensions_","DRAW_CHARS","lineDashOffset","pixelRatio","createLabel","coordinates","moveTo","translate","closePath","textBaseline","4138443eCEnRD","fromCharCode","load","font","hitDetectionInstructions","originX","anchorX","MOVE_TO_LINE_TO","maxY","scale","insert","length","map","collides","middle","floor","45183KIcLut","max","renderedTransform_","round","zIndexContext_","rotate","strokeStates","fill","SET_FILL_STYLE","drawImageH","width","arc","beginPath","631640JhXtbL","end","CIRCLE","coordinateCache_","CUSTOM","none","canvas","8JGVrTQ","fillStyle","executeHitDetection","fillStates","instructions","execute","push","CLOSE_PATH","strokeStyle","feature","left","3012870WoOizY","setStrokeStyle_","declutter","SET_STROKE_STYLE","lineDash","strokeText","lineTo","drawImageX","split","abs","lineWidth","right","overlaps","declutterMode","label","viewRotation_","stroke","isArray","execute_"];return wp=function(){return i},wp()}const Xc=Er(),xo=[],ca=[],la=[],uo=[];function y5(i){return i[3].declutterBox}const C5=new RegExp("["+String[kt(382)](1425)+"-"+String[kt(382)](2303)+String[kt(382)](64285)+"-"+String[kt(382)](65023)+String[kt(382)](65136)+"-"+String[kt(382)](65276)+"ࠀ-࿿-"+String[kt(382)](126975)+"]");function Ay(i,e){const t=kt;return e===t(469)?e=C5.test(i)?t(439):t(427):e===t(411)&&(e=C5[t(459)](i)?t(427):"right"),Ip[e]}function tF(i,e,t){const n=kt;return t>0&&i[n(423)](`
`,""),i[n(423)](e,""),i}class nF{constructor(e,t,n,r,s){const a=kt;this[a(440)]=n,this.pixelRatio=t,this[a(473)]=e,this.alignAndScaleFill_,this.instructions=r[a(421)],this[a(376)]=r.coordinates,this[a(413)]={},this[a(399)]=Oi(),this[a(385)]=r[a(385)],this[a(454)]=null,this[a(443)]=0,this[a(420)]=r[a(420)]||{},this[a(403)]=r[a(403)]||{},this[a(465)]=r[a(465)]||{},this[a(479)]={},this[a(478)]={},this.zIndexContext_=s?new ZE:null}getZIndexContext(){return this[kt(401)]}[kt(375)](e,t,n,r){const s=kt,a=e+t+n+r;if(this[s(478)][a])return this[s(478)][a];const o=r?this[s(403)][r]:null,l=n?this.fillStates[n]:null,c=this[s(465)][t],x=this[s(374)],u=[c[s(390)][0]*x,c[s(390)][1]*x],h=c[s(477)]?Ip[c[s(477)]]:Ay(Array[s(445)](e)?e[0]:e,c[s(463)]||bu),f=r&&o[s(438)]?o[s(438)]:0,A=Array[s(445)](e)?e:String(e)[s(436)](`
`)[s(456)](tF,[]),{width:g,height:d,widths:p,heights:_,lineWidths:I}=a7(c,A),m=g+f,y=[],E=(m+2)*u[0],C=(d+f)*u[1],v={width:E<0?Math[s(396)](E):Math.ceil(E),height:C<0?Math[s(396)](C):Math.ceil(C),contextInstructions:y};(u[0]!=1||u[1]!=1)&&y.push(s(390),u),r&&(y.push(s(425),o[s(425)]),y.push(s(438),f),y.push(s(457),o[s(457)]),y[s(423)](s(450),o.lineJoin),y[s(423)](s(455),o[s(455)]),y[s(423)](s(483),[o[s(432)]]),y.push(s(488),o[s(488)])),n&&y[s(423)](s(418),l[s(418)]),y[s(423)](s(380),s(395)),y[s(423)](s(463),s(484));const b=.5-h;let w=h*m+b*f;const B=[],R=[];let Q=0,F=0,M=0,T=0,P;for(let k=0,V=A[s(392)];k<V;k+=2){const Y=A[k];if(Y===`
`){F+=Q,Q=0,w=h*m+b*f,++T;continue}const U=A[k+1]||c[s(384)];U!==P&&(r&&B[s(423)](s(384),U),n&&R.push(s(384),U),P=U),Q=Math[s(398)](Q,_[M]);const te=[Y,w+b*p[M]+h*(p[M]-I[T]),.5*(f+Q)+F];w+=p[M],r&&B[s(423)](s(433),te),n&&R[s(423)]("fillText",te),++M}return Array.prototype[s(423)][s(452)](y,B),Array.prototype[s(423)][s(452)](y,R),this[s(478)][a]=v,v}replayTextBackground_(e,t,n,r,s,a,o){const l=kt;e[l(409)](),e.moveTo[l(452)](e,t),e.lineTo[l(452)](e,n),e[l(434)][l(452)](e,r),e.lineTo.apply(e,s),e[l(434)].apply(e,t),a&&(this[l(471)]=a[2],this[l(480)](e)),o&&(this[l(429)](e,o),e.stroke())}[kt(486)](e,t,n,r,s,a,o,l,c,x,u,h,f,A,g,d){const p=kt;o*=h[0],l*=h[1];let _=n-o,I=r-l;const m=s+c>e?e-c:s,y=a+x>t?t-x:a,E=A[3]+m*h[0]+A[1],C=A[0]+y*h[1]+A[2],v=_-A[3],b=I-A[0];(g||u!==0)&&(xo[0]=v,uo[0]=v,xo[1]=b,ca[1]=b,ca[0]=v+E,la[0]=ca[0],la[1]=b+C,uo[1]=la[1]);let w;return u!==0?(w=vs(Oi(),n,r,1,1,u,-n,-r),Vn(w,xo),Vn(w,ca),Vn(w,la),Vn(w,uo),Ws(Math[p(453)](xo[0],ca[0],la[0],uo[0]),Math[p(453)](xo[1],ca[1],la[1],uo[1]),Math[p(398)](xo[0],ca[0],la[0],uo[0]),Math.max(xo[1],ca[1],la[1],uo[1]),Xc)):Ws(Math[p(453)](v,v+E),Math.min(b,b+C),Math[p(398)](v,v+E),Math[p(398)](b,b+C),Xc),f&&(_=Math[p(400)](_),I=Math.round(I)),{drawImageX:_,drawImageY:I,drawImageW:m,drawImageH:y,originX:c,originY:x,declutterBox:{minX:Xc[0],minY:Xc[1],maxX:Xc[2],maxY:Xc[3],value:d},canvasTransform:w,scale:h}}[kt(467)](e,t,n,r,s,a,o){const l=kt,c=!!(a||o),x=r[l(451)],u=o?o[2]*r[l(390)][0]/2:0;return x.minX-u<=t[0]&&x.maxX+u>=0&&x[l(470)]-u<=t[1]&&x[l(389)]+u>=0&&(c&&this[l(476)](e,xo,ca,la,uo,a,o),o7(e,r[l(485)],s,n,r[l(386)],r.originY,r.drawImageW,r[l(406)],r[l(435)],r.drawImageY,r[l(390)])),!0}[kt(480)](e){const t=kt,n=this[t(471)];if(n){const r=Vn(this.renderedTransform_,[0,0]),s=512*this[t(374)];e[t(468)](),e[t(378)](r[0]%s,r[1]%s),n!==1&&e.scale(n,n),e[t(402)](this[t(443)])}e[t(404)](),n&&e.restore()}[kt(429)](e,t){const n=kt;e.strokeStyle=t[1],e[n(438)]=t[2],e[n(457)]=t[3],e[n(450)]=t[4],e[n(455)]=t[5],e[n(488)]=t[7],e.setLineDash(t[6])}[kt(461)](e,t,n,r){const s=kt,a=this[s(465)][t],o=this.createLabel(e,t,r,n),l=this[s(403)][n],c=this[s(374)],x=Ay(Array[s(445)](e)?e[0]:e,a[s(463)]||bu),u=Ip[a[s(380)]||Md],h=l&&l[s(438)]?l[s(438)]:0,f=o[s(407)]/c-2*a.scale[0],A=x*f+2*(.5-x)*h,g=u*o.height/c+2*(.5-u)*h;return{label:o,anchorX:A,anchorY:g}}[kt(446)](e,t,n,r,s,a,o,l){const c=kt,x=this[c(401)];let u;this[c(454)]&&Za(n,this[c(399)])?u=this.pixelCoordinates_:(!this.pixelCoordinates_&&(this[c(454)]=[]),u=to(this[c(376)],0,this.coordinates.length,2,n,this[c(454)]),y7(this[c(399)],n));let h=0;const f=r[c(392)];let A=0,g,d,p,_,I,m,y,E,C,v,b,w,B,R=0,Q=0,F=null,M=null;const T=this[c(413)],P=this[c(443)],k=Math.round(Math[c(449)](-n[1],n[0])*1e12)/1e12,V={context:e,pixelRatio:this[c(374)],resolution:this[c(473)],rotation:P},Y=this[c(421)]!=r||this[c(440)]?0:200;let U,te,xe,G;for(;h<f;){const O=r[h];switch(O[0]){case He[c(460)]:U=O[1],G=O[3],U.getGeometry()?o!==void 0&&!Bn(o,G.getExtent())?h=O[2]+1:++h:h=O[2],x&&(x[c(464)]=O[4]);break;case He.BEGIN_PATH:R>Y&&(this[c(480)](e),R=0),Q>Y&&(e[c(444)](),Q=0),!R&&!Q&&(e.beginPath(),I=NaN,m=NaN),++h;break;case He[c(412)]:A=O[1];const K=u[A],ce=u[A+1],Ae=u[A+2],ge=u[A+3],oe=Ae-K,Se=ge-ce,At=Math[c(482)](oe*oe+Se*Se);e[c(377)](K+At,ce),e[c(408)](K,ce,At,0,2*Math.PI,!0),++h;break;case He[c(424)]:e[c(379)](),++h;break;case He[c(414)]:A=O[1],g=O[2];const N=O[3],Nt=O[4],ze=O[5];V[c(448)]=N,V[c(426)]=U,!(h in T)&&(T[h]=[]);const Ge=T[h];ze?ze(u,A,g,2,Ge):(Ge[0]=u[A],Ge[1]=u[A+1],Ge[c(392)]=2),x&&(x[c(464)]=O[6]),Nt(Ge,V),++h;break;case He[c(462)]:A=O[1],g=O[2],C=O[3],d=O[4],p=O[5];let Be=O[6];const ke=O[7],Re=O[8],L=O[9],S=O[10];let X=O[11];const se=O[12];let ne=O[13];_=O[14]||c(430);const j=O[15];if(!C&&O[c(392)]>=20){v=O[19],b=O[20],w=O[21],B=O[22];const jt=this[c(461)](v,b,w,B);C=jt[c(442)],O[3]=C;const dt=O[23];d=(jt[c(387)]-dt)*this[c(374)],O[4]=d;const In=O[24];p=(jt[c(475)]-In)*this[c(374)],O[5]=p,Be=C[c(472)],O[6]=Be,ne=C[c(407)],O[13]=ne}let Ie;O.length>25&&(Ie=O[25]);let fe,ue,Te;O[c(392)]>17?(fe=O[16],ue=O[17],Te=O[18]):(fe=o0,ue=!1,Te=!1),S&&k?X+=P:!S&&!k&&(X-=P);let le=0;for(;A<g;A+=2){if(Ie&&Ie[le++]<ne/this[c(374)])continue;const jt=this[c(486)](C.width,C[c(472)],u[A],u[A+1],ne,Be,d,p,Re,L,X,se,s,fe,ue||Te,U),dt=[e,t,C,jt,ke,ue?F:null,Te?M:null];if(l){let In,Gn,ki;if(j){const ln=g-A;if(!j[ln]){j[ln]={args:dt,declutterMode:_};continue}const ti=j[ln];In=ti.args,Gn=ti[c(441)],delete j[ln],ki=y5(In)}let Ur,fi;if(In&&(Gn!==c(430)||!l[c(394)](ki))&&(Ur=!0),(_!=="declutter"||!l[c(394)](jt[c(451)]))&&(fi=!0),Gn===c(430)&&_===c(430)){const ln=Ur&&fi;Ur=ln,fi=ln}Ur&&(Gn!=="none"&&l[c(391)](ki),this[c(467)][c(452)](this,In)),fi&&(_!==c(415)&&l[c(391)](jt.declutterBox),this[c(467)][c(452)](this,dt))}else this.replayImageOrLabel_[c(452)](this,dt)}++h;break;case He[c(487)]:const me=O[1],Fe=O[2],Ue=O[3],ye=O[4];B=O[5];const Xe=O[6],Qe=O[7],rt=O[8];w=O[9];const z=O[10];v=O[11],b=O[12];const _e=[O[13],O[13]];_=O[14]||c(430);const J=this.textStates[b],re=J.font,we=[J[c(390)][0]*Qe,J[c(390)][1]*Qe];let ve;re in this[c(479)]?ve=this.widths_[re]:(ve={},this[c(479)][re]=ve);const Ke=E5(u,me,Fe,2),un=Math[c(437)](we[0])*xB(re,v,ve);if(ye||un<=Ke){const jt=this[c(465)][b].textAlign,dt=(Ke-un)*Ay(v,jt),In=eF(u,me,Fe,2,v,dt,Xe,Math[c(437)](we[0]),xB,re,ve,k?0:this[c(443)]);e:if(In){const Gn=[];let ki,Ur,fi,ln,ti;if(w)for(ki=0,Ur=In[c(392)];ki<Ur;++ki){ti=In[ki],fi=ti[4],ln=this[c(375)](fi,b,"",w),d=ti[2]+(we[0]<0?-z:z),p=Ue*ln[c(472)]+(.5-Ue)*2*z*we[1]/we[0]-rt;const Nr=this.calculateImageOrLabelDimensions_(ln[c(407)],ln[c(472)],ti[0],ti[1],ln[c(407)],ln.height,d,p,0,0,ti[3],_e,!1,o0,!1,U);if(l&&_===c(430)&&l[c(394)](Nr.declutterBox))break e;Gn[c(423)]([e,t,ln,Nr,1,null,null])}if(B)for(ki=0,Ur=In[c(392)];ki<Ur;++ki){ti=In[ki],fi=ti[4],ln=this[c(375)](fi,b,B,""),d=ti[2],p=Ue*ln[c(472)]-rt;const Nr=this[c(486)](ln.width,ln[c(472)],ti[0],ti[1],ln[c(407)],ln[c(472)],d,p,0,0,ti[3],_e,!1,o0,!1,U);if(l&&_===c(430)&&l[c(394)](Nr[c(451)]))break e;Gn[c(423)]([e,t,ln,Nr,1,null,null])}l&&_!=="none"&&l[c(383)](Gn[c(393)](y5));for(let Nr=0,qx=Gn[c(392)];Nr<qx;++Nr)this.replayImageOrLabel_[c(452)](this,Gn[Nr])}}++h;break;case He.END_GEOMETRY:if(a!==void 0){U=O[1];const jt=a(U,G,_);if(jt)return jt}++h;break;case He.FILL:Y?R++:this.fill_(e),++h;break;case He[c(388)]:for(A=O[1],g=O[2],te=u[A],xe=u[A+1],e[c(377)](te,xe),I=te+.5|0,m=xe+.5|0,A+=2;A<g;A+=2)te=u[A],xe=u[A+1],y=te+.5|0,E=xe+.5|0,(A==g-2||y!==I||E!==m)&&(e[c(434)](te,xe),I=y,m=E);++h;break;case He[c(405)]:F=O,this[c(471)]=O[2],R&&(this[c(480)](e),R=0,Q&&(e[c(444)](),Q=0)),e[c(418)]=O[1],++h;break;case He[c(431)]:M=O,Q&&(e[c(444)](),Q=0),this[c(429)](e,O),++h;break;case He[c(447)]:Y?Q++:e[c(444)](),++h;break;default:++h;break}}return R&&this[c(480)](e),Q&&e[c(444)](),void 0}[kt(422)](e,t,n,r,s,a){const o=kt;this.viewRotation_=r,this[o(446)](e,t,n,this[o(421)],s,void 0,void 0,a)}[kt(419)](e,t,n,r,s){const a=kt;return this[a(443)]=n,this[a(446)](e,[e[a(416)][a(407)],e[a(416)][a(472)]],t,this[a(385)],!0,r,s)}}const dn=Sp;(function(i,e){const t=Sp,n=i();for(;;)try{if(parseInt(t(463))/1*(parseInt(t(445))/2)+parseInt(t(475))/3+-parseInt(t(481))/4+-parseInt(t(459))/5*(-parseInt(t(480))/6)+-parseInt(t(479))/7+-parseInt(t(469))/8+-parseInt(t(450))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Bp,682721);function Bp(){const i=["1290087BFSmOP","reverse","getClipCoords","createExecutors_","resolution_","isEmpty","Text","renderBuffer_","push","274790epTSwm","save","Circle","renderedContext_","7HayGTl","forEachFeatureAtCoordinate","length","execute","getRenderedContext","executorsByZIndex_","4375056WFFtzo","clear","moveTo","canvas","getContext","renderDeferred","2499216tljsxM","clearRect","toString","width","2572605qdHUmI","30bMskuK","1233000YtEABh","executeHitDetection","keys","Image","height","getZIndexContext","restore","overlaps_","hitDetectionTransform_","lineTo","LineString","round","maxExtent_","Polygon","pixelRatio_","clip","Default","map","268814CXrxzF","deferredZIndexContexts_","includes","sort","hitDetectionContext_"];return Bp=function(){return i},Bp()}function Sp(i,e){const t=Bp();return Sp=function(n,r){return n=n-442,t[n]},Sp(i,e)}const Wc=[dn(494),dn(461),dn(491),"Image",dn(456),dn(443)],Mp=[dn(484),dn(456)],iF=Wc.filter(i=>!Mp[dn(447)](i));class b5{constructor(e,t,n,r,s,a,o){const l=dn;this[l(493)]=e,this[l(488)]=r,this[l(495)]=n,this[l(454)]=t,this[l(457)]=a,this[l(468)]={},this.hitDetectionContext_=null,this[l(489)]=Oi(),this[l(462)]=null,this[l(446)]={},this[l(453)](s,o)}clip(e,t){const n=dn,r=this[n(452)](t);e.beginPath(),e[n(471)](r[0],r[1]),e[n(490)](r[2],r[3]),e[n(490)](r[4],r[5]),e[n(490)](r[6],r[7]),e[n(442)]()}[dn(453)](e,t){const n=dn;for(const r in e){let s=this[n(468)][r];s===void 0&&(s={},this.executorsByZIndex_[r]=s);const a=e[r];for(const o in a){const l=a[o];s[o]=new nF(this[n(454)],this[n(495)],this[n(488)],l,t)}}}hasExecutors(e){const t=dn;for(const n in this[t(468)]){const r=this.executorsByZIndex_[n];for(let s=0,a=e.length;s<a;++s)if(e[s]in r)return!0}return!1}[dn(464)](e,t,n,r,s,a){const o=dn;r=Math[o(492)](r);const l=r*2+1,c=vs(this[o(489)],r+.5,r+.5,1/t,-1/t,-n,-e[0],-e[1]),x=!this.hitDetectionContext_;x&&(this[o(449)]=fn(l,l,void 0,{willReadFrequently:!0}));const u=this.hitDetectionContext_;u[o(472)][o(478)]!==l||u[o(472)][o(485)]!==l?(u.canvas.width=l,u[o(472)][o(485)]=l):!x&&u[o(476)](0,0,l,l);let h;this[o(457)]!==void 0&&(h=Er(),nu(h,e),Xa(h,t*(this[o(457)]+r),h));const f=rF(r);let A;function g(E,C,v){const b=o,w=u.getImageData(0,0,l,l).data;for(let B=0,R=f.length;B<R;B++)if(w[f[B]]>0){if(!a||v==="none"||A!==b(484)&&A!=="Text"||a[b(447)](E)){const Q=(f[B]-3)/4,F=r-Q%l,M=r-(Q/l|0),T=s(E,C,F*F+M*M);if(T)return T}u[b(476)](0,0,l,l);break}}const d=Object[o(483)](this[o(468)])[o(444)](Number);d.sort(ms);let p,_,I,m,y;for(p=d.length-1;p>=0;--p){const E=d[p][o(477)]();for(I=this[o(468)][E],_=Wc[o(465)]-1;_>=0;--_)if(A=Wc[_],m=I[A],m!==void 0&&(y=m[o(482)](u,c,n,g,h),y))return y}}[dn(452)](e){const t=dn,n=this[t(493)];if(!n)return null;const r=n[0],s=n[1],a=n[2],o=n[3],l=[r,s,r,o,a,o,a,s];return to(l,0,8,2,e,l),l}[dn(455)](){return Ya(this.executorsByZIndex_)}execute(e,t,n,r,s,a,o){const l=dn,c=Object[l(483)](this.executorsByZIndex_).map(Number);c[l(448)](ms),a=a||Wc;const x=Wc[l(465)];let u,h,f,A,g;for(o&&c[l(451)](),u=0,h=c[l(465)];u<h;++u){const d=c[u][l(477)]();for(g=this[l(468)][d],f=0,A=a.length;f<A;++f){const p=a[f],_=g[p];if(_!==void 0){const I=o===null?void 0:_[l(486)](),m=I?I[l(473)]():e,y=this[l(493)]&&p!=="Image"&&p!==l(456);if(y&&(m[l(460)](),this[l(442)](m,n)),!I||p===l(456)||p===l(484)?_[l(466)](m,t,n,r,s,o):I.pushFunction(E=>_[l(466)](E,t,n,r,s,o)),y&&m[l(487)](),I){I.offset();const E=c[u]*x+f;!this.deferredZIndexContexts_[E]&&(this[l(446)][E]=[]),this[l(446)][E][l(458)](I)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}[dn(467)](){return this[dn(462)]}[dn(474)](){const e=dn,t=this[e(446)],n=Object[e(483)](t)[e(444)](Number)[e(448)](ms);for(let r=0,s=n[e(465)];r<s;++r)t[n[r]].forEach(a=>{const o=e;a.draw(this[o(462)]),a[o(470)]()}),t[n[r]][e(465)]=0}}const dy={};function rF(i){const e=dn;if(dy[i]!==void 0)return dy[i];const t=i*2+1,n=i*i,r=new Array(n+1);for(let a=0;a<=i;++a)for(let o=0;o<=i;++o){const l=a*a+o*o;if(l>n)break;let c=r[l];!c&&(c=[],r[l]=c),c[e(458)](((i+a)*t+(i+o))*4+3),a>0&&c[e(458)](((i-a)*t+(i+o))*4+3),o>0&&(c[e(458)](((i+a)*t+(i-o))*4+3),a>0&&c[e(458)](((i-a)*t+(i-o))*4+3))}const s=[];for(let a=0,o=r.length;a<o;++a)r[a]&&s.push(...r[a]);return dy[i]=s,s}function Rp(){const i=["getWidth","miterLimit","getFont","getType","isArray","drawMultiLineString","drawGeometryCollection","viewRotation_","lineJoin","lineDash","context_","sqrt","moveToLineTo_","fillText","31775zOmVvE","getRotation","drawPolygon","textOffsetY_","simplifyTransformed","getImage","232ANtmhG","Polygon","save","getLineDashOffset","getEnds","length","imageOpacity_","strokeText","translate","22528ZMLolR","setTextStyle","imageAnchorX_","fillState_","getText","getSize","getFlatCoordinates","3443175PJWZzQ","imageRotateWithView_","image_","getLineCap","getTextBaseline","getLineDash","MultiPolygon","drawMultiPolygon","scale","contextFillState_","closePath","getColor","restore","getTextAlign","drawText_","font","setContextTextState_","textOffsetX_","textState_","drawImages_","transformRotation_","textScale_","stroke","getFlatInteriorPoint","getRotateWithView","getGeometriesArray","getPixelRatio","162380YAlsOR","getFlatMidpoint","pixelCoordinates_","MultiPoint","textRotateWithView_","setStyle","strokeStyle","imageOriginY_","imageScale_","getOffsetY","globalAlpha","getOrientedFlatCoordinates","668091JRojIA","textRotation_","pixelRatio_","fillStyle","setContextStrokeState_","getAnchor","contextTextState_","getGeometryFunction","getMiterLimit","map","imageAnchorY_","getLineJoin","textBaseline","LineString","squaredTolerance_","getEndss","2028890uTUOvt","drawLineString","lineTo","drawImage","lineDashOffset","imageWidth_","drawCircle","getFlatInteriorPoints","getScaleArray","getOpacity","arc","drawPoint","lineWidth","moveTo","textAlign","atan2","getStroke","Circle","imageOriginX_","strokeState_","imageHeight_","textStrokeState_","fill","transform_","Point","getExtent","getOffsetX","text_","rotate","setTransform","drawRings_","setImageStyle","imageRotation_","extent_","textFillState_","drawFeature","drawGeometry","getStride","beginPath","20XBPjka","userTransform_","drawMultiPoint","contextStrokeState_","getFlatMidpoints","tmpLocalTransform_","getOrigin","setContextFillState_","306354JNphJP","lineCap","28sKzFCq","getFill"];return Rp=function(){return i},Rp()}const ut=jc;(function(i,e){const t=jc,n=i();for(;;)try{if(parseInt(t(465))/1+-parseInt(t(351))/2+parseInt(t(477))/3+-parseInt(t(422))/4*(-parseInt(t(416))/5)+-parseInt(t(398))/6*(-parseInt(t(400))/7)+parseInt(t(431))/8+parseInt(t(438))/9*(parseInt(t(390))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Rp,711424);function jc(i,e){const t=Rp();return jc=function(n,r){return n=n-339,t[n]},jc(i,e)}class sF extends g5{constructor(e,t,n,r,s,a,o){const l=jc;super(),this.context_=e,this[l(479)]=t,this[l(384)]=n,this.transform_=r,this[l(458)]=r?qI(Math[l(366)](r[1],r[0]),10):0,this[l(409)]=s,this.squaredTolerance_=a,this[l(391)]=o,this.contextFillState_=null,this[l(393)]=null,this[l(341)]=null,this[l(434)]=null,this[l(370)]=null,this[l(440)]=null,this.imageAnchorX_=0,this[l(345)]=0,this[l(371)]=0,this[l(428)]=0,this[l(369)]=0,this[l(472)]=0,this[l(439)]=!1,this.imageRotation_=0,this[l(473)]=[0,0],this[l(356)]=0,this[l(378)]="",this[l(455)]=0,this[l(419)]=0,this[l(469)]=!1,this.textRotation_=0,this.textScale_=[0,0],this[l(385)]=null,this[l(372)]=null,this[l(456)]=null,this[l(467)]=[],this[l(395)]=Oi()}drawImages_(e,t,n,r){const s=jc;if(!this[s(440)])return;const a=to(e,t,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,l=this[s(395)],c=o[s(475)];this.imageOpacity_!=1&&(o.globalAlpha=c*this[s(428)]);let x=this[s(383)];this[s(458)]===0&&(x-=this[s(409)]),this[s(439)]&&(x+=this[s(409)]);for(let u=0,h=a[s(427)];u<h;u+=2){const f=a[u]-this[s(433)],A=a[u+1]-this.imageAnchorY_;if(x!==0||this[s(473)][0]!=1||this[s(473)][1]!=1){const g=f+this.imageAnchorX_,d=A+this.imageAnchorY_;vs(l,g,d,1,1,x,-g,-d),o[s(424)](),o.transform.apply(o,l),o[s(430)](g,d),o[s(446)](this[s(473)][0],this.imageScale_[1]),o[s(354)](this[s(440)],this[s(369)],this.imageOriginY_,this.imageWidth_,this[s(371)],-this[s(433)],-this[s(345)],this[s(356)],this[s(371)]),o[s(450)]()}else o[s(354)](this[s(440)],this[s(369)],this.imageOriginY_,this[s(356)],this[s(371)],f,A,this[s(356)],this[s(371)])}this[s(428)]!=1&&(o[s(475)]=c)}[ut(452)](e,t,n,r){const s=ut;if(!this[s(456)]||this[s(378)]==="")return;this[s(385)]&&this[s(397)](this.textFillState_),this.textStrokeState_&&this[s(339)](this.textStrokeState_),this.setContextTextState_(this[s(456)]);const a=to(e,t,n,r,this[s(374)],this[s(467)]),o=this.context_;let l=this[s(478)];for(this[s(458)]===0&&(l-=this[s(409)]),this[s(469)]&&(l+=this.viewRotation_);t<n;t+=r){const c=a[t]+this.textOffsetX_,x=a[t+1]+this.textOffsetY_;l!==0||this[s(459)][0]!=1||this[s(459)][1]!=1?(o.save(),o[s(430)](c-this[s(455)],x-this[s(419)]),o[s(379)](l),o[s(430)](this[s(455)],this[s(419)]),o[s(446)](this.textScale_[0],this[s(459)][1]),this[s(372)]&&o[s(429)](this.text_,0,0),this[s(385)]&&o[s(415)](this.text_,0,0),o[s(450)]()):(this[s(372)]&&o.strokeText(this[s(378)],c,x),this[s(385)]&&o.fillText(this[s(378)],c,x))}}[ut(414)](e,t,n,r,s){const a=ut,o=this.context_,l=to(e,t,n,r,this[a(374)],this[a(467)]);o[a(364)](l[0],l[1]);let c=l[a(427)];s&&(c-=2);for(let x=2;x<c;x+=2)o[a(353)](l[x],l[x+1]);return s&&o[a(448)](),n}[ut(381)](e,t,n,r){const s=ut;for(let a=0,o=n[s(427)];a<o;++a)t=this[s(414)](e,t,n[a],r,!0);return t}drawCircle(e){const t=ut;if(this.squaredTolerance_&&(e=e[t(420)](this[t(349)],this[t(391)])),!!Bn(this[t(384)],e[t(376)]())){if(this[t(434)]||this.strokeState_){this[t(434)]&&this.setContextFillState_(this.fillState_),this[t(370)]&&this[t(339)](this[t(370)]);const n=S7(e,this[t(374)],this[t(467)]),r=n[2]-n[0],s=n[3]-n[1],a=Math[t(413)](r*r+s*s),o=this[t(412)];o[t(389)](),o[t(361)](n[0],n[1],a,0,2*Math.PI),this.fillState_&&o[t(373)](),this[t(370)]&&o.stroke()}this.text_!==""&&this[t(452)](e.getCenter(),0,2,2)}}[ut(470)](e){const t=ut;this.setFillStrokeStyle(e.getFill(),e[t(367)]()),this.setImageStyle(e[t(421)]()),this.setTextStyle(e[t(435)]())}[ut(380)](e){const t=ut;this[t(374)]=e}[ut(387)](e){const t=ut;switch(e[t(405)]()){case t(375):this[t(362)](e);break;case t(348):this[t(352)](e);break;case t(423):this[t(418)](e);break;case t(468):this[t(392)](e);break;case"MultiLineString":this[t(407)](e);break;case t(444):this[t(445)](e);break;case"GeometryCollection":this[t(408)](e);break;case t(368):this[t(357)](e);break}}[ut(386)](e,t){const n=ut,r=t[n(342)]()(e);r&&(this[n(470)](t),this[n(387)](r))}[ut(408)](e){const t=ut,n=e[t(463)]();for(let r=0,s=n.length;r<s;++r)this[t(387)](n[r])}drawPoint(e){const t=ut;this.squaredTolerance_&&(e=e[t(420)](this[t(349)],this[t(391)]));const n=e.getFlatCoordinates(),r=e[t(388)]();this[t(440)]&&this[t(457)](n,0,n[t(427)],r),this[t(378)]!==""&&this.drawText_(n,0,n[t(427)],r)}[ut(392)](e){const t=ut;this[t(349)]&&(e=e[t(420)](this[t(349)],this[t(391)]));const n=e[t(437)](),r=e[t(388)]();this[t(440)]&&this[t(457)](n,0,n[t(427)],r),this.text_!==""&&this[t(452)](n,0,n[t(427)],r)}[ut(352)](e){const t=ut;if(this[t(349)]&&(e=e.simplifyTransformed(this.squaredTolerance_,this[t(391)])),!!Bn(this.extent_,e[t(376)]())){if(this[t(370)]){this[t(339)](this.strokeState_);const n=this[t(412)],r=e[t(437)]();n[t(389)](),this[t(414)](r,0,r.length,e[t(388)](),!1),n[t(460)]()}if(this[t(378)]!==""){const n=e[t(466)]();this.drawText_(n,0,2,2)}}}[ut(407)](e){const t=ut;this.squaredTolerance_&&(e=e[t(420)](this.squaredTolerance_,this.userTransform_));const n=e[t(376)]();if(Bn(this[t(384)],n)){if(this[t(370)]){this[t(339)](this[t(370)]);const r=this.context_,s=e[t(437)]();let a=0;const o=e.getEnds(),l=e[t(388)]();r[t(389)]();for(let c=0,x=o[t(427)];c<x;++c)a=this[t(414)](s,a,o[c],l,!1);r[t(460)]()}if(this[t(378)]!==""){const r=e[t(394)]();this[t(452)](r,0,r.length,2)}}}drawPolygon(e){const t=ut;if(this[t(349)]&&(e=e[t(420)](this.squaredTolerance_,this[t(391)])),!!Bn(this.extent_,e[t(376)]())){if(this.strokeState_||this[t(434)]){this[t(434)]&&this.setContextFillState_(this[t(434)]),this[t(370)]&&this[t(339)](this[t(370)]);const n=this[t(412)];n[t(389)](),this[t(381)](e[t(476)](),0,e[t(426)](),e[t(388)]()),this.fillState_&&n[t(373)](),this[t(370)]&&n[t(460)]()}if(this[t(378)]!==""){const n=e[t(461)]();this[t(452)](n,0,2,2)}}}[ut(445)](e){const t=ut;if(this[t(349)]&&(e=e[t(420)](this[t(349)],this[t(391)])),!!Bn(this[t(384)],e[t(376)]())){if(this[t(370)]||this[t(434)]){this[t(434)]&&this.setContextFillState_(this[t(434)]),this[t(370)]&&this[t(339)](this[t(370)]);const n=this.context_,r=e.getOrientedFlatCoordinates();let s=0;const a=e[t(350)](),o=e[t(388)]();n.beginPath();for(let l=0,c=a.length;l<c;++l){const x=a[l];s=this.drawRings_(r,s,x,o)}this[t(434)]&&n[t(373)](),this[t(370)]&&n[t(460)]()}if(this.text_!==""){const n=e[t(358)]();this.drawText_(n,0,n[t(427)],2)}}}[ut(397)](e){const t=ut,n=this.context_,r=this[t(447)];r?r[t(480)]!=e[t(480)]&&(r[t(480)]=e.fillStyle,n[t(480)]=e.fillStyle):(n[t(480)]=e[t(480)],this[t(447)]={fillStyle:e[t(480)]})}[ut(339)](e){const t=ut,n=this[t(412)],r=this.contextStrokeState_;r?(r[t(399)]!=e[t(399)]&&(r.lineCap=e[t(399)],n[t(399)]=e.lineCap),!Za(r.lineDash,e[t(411)])&&n.setLineDash(r.lineDash=e[t(411)]),r[t(355)]!=e[t(355)]&&(r[t(355)]=e.lineDashOffset,n.lineDashOffset=e[t(355)]),r.lineJoin!=e[t(410)]&&(r[t(410)]=e[t(410)],n[t(410)]=e[t(410)]),r[t(363)]!=e[t(363)]&&(r.lineWidth=e[t(363)],n[t(363)]=e.lineWidth),r[t(403)]!=e.miterLimit&&(r[t(403)]=e.miterLimit,n[t(403)]=e[t(403)]),r[t(471)]!=e[t(471)]&&(r[t(471)]=e[t(471)],n[t(471)]=e[t(471)])):(n[t(399)]=e.lineCap,n.setLineDash(e[t(411)]),n[t(355)]=e[t(355)],n[t(410)]=e[t(410)],n.lineWidth=e[t(363)],n[t(403)]=e[t(403)],n[t(471)]=e[t(471)],this.contextStrokeState_={lineCap:e[t(399)],lineDash:e[t(411)],lineDashOffset:e[t(355)],lineJoin:e.lineJoin,lineWidth:e[t(363)],miterLimit:e[t(403)],strokeStyle:e[t(471)]})}[ut(454)](e){const t=ut,n=this[t(412)],r=this[t(341)],s=e[t(365)]?e[t(365)]:bu;r?(r[t(453)]!=e.font&&(r[t(453)]=e[t(453)],n[t(453)]=e[t(453)]),r[t(365)]!=s&&(r.textAlign=s,n.textAlign=s),r[t(347)]!=e[t(347)]&&(r.textBaseline=e[t(347)],n[t(347)]=e[t(347)])):(n[t(453)]=e[t(453)],n[t(365)]=s,n[t(347)]=e[t(347)],this[t(341)]={font:e[t(453)],textAlign:s,textBaseline:e[t(347)]})}setFillStrokeStyle(e,t){const n=ut;if(!e)this[n(434)]=null;else{const r=e[n(449)]();this[n(434)]={fillStyle:Es(r||Ni)}}if(!t)this[n(370)]=null;else{const r=t[n(449)](),s=t[n(441)](),a=t[n(443)](),o=t[n(425)](),l=t.getLineJoin(),c=t.getWidth(),x=t[n(343)](),u=a||ta;this[n(370)]={lineCap:s!==void 0?s:wc,lineDash:this.pixelRatio_===1?u:u[n(344)](h=>h*this.pixelRatio_),lineDashOffset:(o||na)*this[n(479)],lineJoin:l!==void 0?l:Bc,lineWidth:(c!==void 0?c:wu)*this[n(479)],miterLimit:x!==void 0?x:yu,strokeStyle:Es(r||Cu)}}}[ut(382)](e){const t=ut;let n;if(!e||!(n=e[t(436)]())){this[t(440)]=null;return}const r=e[t(464)](this[t(479)]),s=e[t(340)](),a=e[t(396)]();this[t(440)]=e.getImage(this[t(479)]),this.imageAnchorX_=s[0]*r,this[t(345)]=s[1]*r,this[t(371)]=n[1]*r,this[t(428)]=e[t(360)](),this[t(369)]=a[0],this[t(472)]=a[1],this[t(439)]=e[t(462)](),this[t(383)]=e[t(417)]();const o=e[t(359)]();this[t(473)]=[o[0]*this[t(479)]/r,o[1]*this[t(479)]/r],this[t(356)]=n[0]*r}[ut(432)](e){const t=ut;if(!e)this.text_="";else{const n=e[t(401)]();if(!n)this.textFillState_=null;else{const A=n[t(449)]();this[t(385)]={fillStyle:Es(A||Ni)}}const r=e[t(367)]();if(!r)this[t(372)]=null;else{const A=r[t(449)](),g=r[t(441)](),d=r[t(443)](),p=r[t(425)](),_=r[t(346)](),I=r[t(402)](),m=r[t(343)]();this.textStrokeState_={lineCap:g!==void 0?g:wc,lineDash:d||ta,lineDashOffset:p||na,lineJoin:_!==void 0?_:Bc,lineWidth:I!==void 0?I:wu,miterLimit:m!==void 0?m:yu,strokeStyle:Es(A||Cu)}}const s=e[t(404)](),a=e[t(377)](),o=e[t(474)](),l=e[t(462)](),c=e[t(417)](),x=e.getScaleArray(),u=e.getText(),h=e[t(451)](),f=e[t(442)]();this[t(456)]={font:s!==void 0?s:oB,textAlign:h!==void 0?h:bu,textBaseline:f!==void 0?f:Md},this[t(378)]=u!==void 0?Array[t(406)](u)?u.reduce((A,g,d)=>A+=d%2?" ":g,""):u:"",this[t(455)]=a!==void 0?this[t(479)]*a:0,this[t(419)]=o!==void 0?this[t(479)]*o:0,this.textRotateWithView_=l!==void 0?l:!1,this[t(478)]=c!==void 0?c:0,this[t(459)]=[this[t(479)]*x[0],this.pixelRatio_*x[1]]}}}(function(i,e){const t=hh,n=i();for(;;)try{if(parseInt(t(416))/1*(-parseInt(t(393))/2)+-parseInt(t(383))/3*(parseInt(t(398))/4)+-parseInt(t(385))/5*(parseInt(t(395))/6)+parseInt(t(409))/7+-parseInt(t(384))/8+-parseInt(t(405))/9+parseInt(t(369))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Tp,845355);function Tp(){const i=["28149140GCyQgY","fillStyle","isArray","length","Multi","getImageData","pixels","keys","width","getStroke","toString","round","getGeometriesArrayRecursive","height","169647oTYRcG","559920FYUsXa","5jrzPiX","canvas","floor","setText","getFill","getGeometryFunction","setTransform","getType","22Csbmte","getStyleFunction","9446970GqbvBm","Circle","map","8LhnSNF","getExtent","replace","Point","data","Polygon","padStart","10830330xOhVSW","fillRect","drawGeometry","sort","9153200xvUlSK","getAnchor","getRotation","getRotateWithView","getImageSize","push","setColor","28746xlizsb","imageSmoothingEnabled","getSize","LineString","getZIndex"];return Tp=function(){return i},Tp()}function hh(i,e){const t=Tp();return hh=function(n,r){return n=n-366,t[n]},hh(i,e)}const hr=.5;function v5(i,e,t,n,r,s,a,o,l){const c=hh,x=l?tE(r):r,u=i[0]*hr,h=i[1]*hr,f=fn(u,h);f[c(417)]=!1;const A=f[c(386)],g=new sF(f,hr,r,null,a,o,l?ru(DQ(),l):null),d=t.length,p=Math[c(387)]((256*256*256-1)/d),_={};for(let m=1;m<=d;++m){const y=t[m-1],E=y[c(394)]()||n;if(!E)continue;let C=E(y,s);if(!C)continue;!Array[c(371)](C)&&(C=[C]);const v=m*p,b=v[c(379)](16)[c(404)](7,"#00000");for(let w=0,B=C.length;w<B;++w){const R=C[w],Q=R[c(390)]()(y);if(!Q||!Bn(x,Q[c(399)]()))continue;const F=R.clone(),M=F[c(389)]();M&&M.setColor(b);const T=F[c(378)]();T&&(T[c(415)](b),T.setLineDash(null)),F[c(388)](void 0);const P=R.getImage();if(P){const U=P[c(413)]();if(!U)continue;const te=fn(U[0],U[1],void 0,{alpha:!1}),xe=te[c(386)];te[c(370)]=b,te[c(406)](0,0,xe[c(377)],xe[c(382)]),F.setImage(new _0({img:xe,anchor:P[c(410)](),anchorXUnits:c(375),anchorYUnits:c(375),offset:P.getOrigin(),opacity:1,size:P[c(366)](),scale:P.getScale(),rotation:P[c(411)](),rotateWithView:P[c(412)]()}))}const k=F[c(368)]()||0;let V=_[k];!V&&(V={},_[k]=V,V[c(403)]=[],V[c(396)]=[],V[c(367)]=[],V[c(401)]=[]);const Y=Q.getType();if(Y==="GeometryCollection"){const U=Q[c(381)]();for(let te=0,xe=U[c(372)];te<xe;++te){const G=U[te];V[G[c(392)]()[c(400)](c(373),"")][c(414)](G,F)}}else V[Y[c(400)]("Multi","")][c(414)](Q,F)}}const I=Object[c(376)](_)[c(397)](Number)[c(408)](ms);for(let m=0,y=I[c(372)];m<y;++m){const E=_[I[m]];for(const C in E){const v=E[C];for(let b=0,w=v[c(372)];b<w;b+=2){g.setStyle(v[b+1]);for(let B=0,R=e[c(372)];B<R;++B)g[c(391)](e[B]),g[c(407)](v[b])}}}return f[c(374)](0,0,A[c(377)],A[c(382)])}function w5(i,e,t){const n=hh,r=[];if(t){const s=Math[n(387)](Math[n(380)](i[0])*hr),a=Math[n(387)](Math[n(380)](i[1])*hr),o=(Sn(s,0,t[n(377)]-1)+Sn(a,0,t[n(382)]-1)*t[n(377)])*4,l=t[n(402)][o],c=t[n(402)][o+1],x=t[n(402)][o+2],u=x+256*(c+256*l),h=Math[n(387)]((256*256*256-1)/e.length);u&&u%h===0&&r.push(e[u/h-1])}return r}(function(i,e){const t=qi,n=i();for(;;)try{if(parseInt(t(490))/1*(parseInt(t(522))/2)+-parseInt(t(520))/3*(-parseInt(t(513))/4)+-parseInt(t(518))/5+parseInt(t(502))/6*(-parseInt(t(527))/7)+-parseInt(t(521))/8+parseInt(t(531))/9+parseInt(t(509))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qp,474629);const aF=.5,B5={Point:AF,LineString:uF,Polygon:pF,MultiPoint:dF,MultiLineString:hF,MultiPolygon:fF,GeometryCollection:xF,Circle:cF};function oF(i,e){return parseInt(et(i),10)-parseInt(et(e),10)}function py(i,e){const t=S5(i,e);return t*t}function S5(i,e){return aF*i/e}function cF(i,e,t,n,r){const s=qi,a=t[s(486)](),o=t[s(503)]();if(a||o){const c=i.getBuilder(t[s(525)](),s(494));c[s(519)](a,o),c[s(506)](e,n,r)}const l=t[s(496)]();if(l&&l.getText()){const c=i[s(517)](t[s(525)](),s(505));c[s(488)](l),c.drawText(e,n)}}function Dp(i,e,t,n,r,s,a,o){const l=qi,c=[],x=t.getImage();if(x){let f=!0;const A=x.getImageState();A==Pe[l(501)]||A==Pe.ERROR?f=!1:A==Pe[l(491)]&&x[l(497)](),f&&c[l(487)](x[l(515)]())}const u=t[l(486)]();u&&u.loading()&&c.push(u[l(515)]());const h=c[l(498)]>0;return h&&Promise[l(495)](c)[l(489)](()=>r(null)),lF(i,e,t,n,s,a,o),h}function lF(i,e,t,n,r,s,a){const o=qi,l=t[o(507)]()(e);if(!l)return;const c=l[o(493)](n,r);if(t.getRenderer())M5(i,c,t,e,a);else{const u=B5[c[o(523)]()];u(i,c,t,e,a,s)}}function M5(i,e,t,n,r){const s=qi;if(e.getType()=="GeometryCollection"){const o=e.getGeometries();for(let l=0,c=o.length;l<c;++l)M5(i,o[l],t,n,r);return}i[s(517)](t[s(525)](),s(524))[s(508)](e,n,t[s(511)](),t[s(530)](),r)}function xF(i,e,t,n,r,s){const a=qi,o=e[a(516)]();let l,c;for(l=0,c=o[a(498)];l<c;++l){const x=B5[o[l][a(523)]()];x(i,o[l],t,n,r,s)}}function qi(i,e){const t=Qp();return qi=function(n,r){return n=n-486,t[n]},qi(i,e)}function uF(i,e,t,n,r){const s=qi,a=t[s(503)]();if(a){const l=i[s(517)](t[s(525)](),"LineString");l[s(519)](null,a),l.drawLineString(e,n,r)}const o=t.getText();if(o&&o[s(496)]()){const l=i[s(517)](t.getZIndex(),s(505));l[s(488)](o),l.drawText(e,n,r)}}function hF(i,e,t,n,r){const s=qi,a=t[s(503)]();if(a){const l=i.getBuilder(t[s(525)](),"LineString");l[s(519)](null,a),l[s(528)](e,n,r)}const o=t.getText();if(o&&o[s(496)]()){const l=i[s(517)](t.getZIndex(),s(505));l[s(488)](o),l[s(529)](e,n,r)}}function fF(i,e,t,n,r){const s=qi,a=t.getFill(),o=t.getStroke();if(o||a){const c=i[s(517)](t[s(525)](),s(514));c[s(519)](a,o),c[s(510)](e,n,r)}const l=t[s(496)]();if(l&&l[s(496)]()){const c=i[s(517)](t[s(525)](),"Text");c[s(488)](l),c[s(529)](e,n,r)}}function AF(i,e,t,n,r,s){const a=qi,o=t.getImage(),l=t[a(496)](),c=l&&l[a(496)](),x=s&&o&&c?{}:void 0;if(o){if(o[a(512)]()!=Pe[a(501)])return;const u=i[a(517)](t[a(525)](),a(504));u[a(492)](o,x),u[a(500)](e,n,r)}if(c){const u=i[a(517)](t[a(525)](),a(505));u[a(488)](l,x),u[a(529)](e,n,r)}}function dF(i,e,t,n,r,s){const a=qi,o=t.getImage(),l=o&&o[a(526)]()!==0,c=t[a(496)](),x=c&&c[a(496)](),u=s&&l&&x?{}:void 0;if(l){if(o[a(512)]()!=Pe[a(501)])return;const h=i.getBuilder(t.getZIndex(),a(504));h[a(492)](o,u),h.drawMultiPoint(e,n,r)}if(x){const h=i[a(517)](t[a(525)](),a(505));h[a(488)](c,u),h.drawText(e,n,r)}}function pF(i,e,t,n,r){const s=qi,a=t.getFill(),o=t[s(503)]();if(a||o){const c=i[s(517)](t.getZIndex(),s(514));c[s(519)](a,o),c[s(499)](e,n,r)}const l=t[s(496)]();if(l&&l[s(496)]()){const c=i[s(517)](t[s(525)](),s(505));c[s(488)](l),c[s(529)](e,n,r)}}function Qp(){const i=["3698109KYjcJA","getFill","push","setTextStyle","then","9059oDAlWO","IDLE","setImageStyle","simplifyTransformed","Circle","all","getText","load","length","drawPolygon","drawPoint","LOADED","2521290TIfIzz","getStroke","Image","Text","drawCircle","getGeometryFunction","drawCustom","13548380uNIXIA","drawMultiPolygon","getRenderer","getImageState","4VwMUYQ","Polygon","ready","getGeometriesArray","getBuilder","3409260GWmYRi","setFillStrokeStyle","1823739GwHVNo","3666176ugvvZq","18QbveUi","getType","Default","getZIndex","getOpacity","14CwcKcr","drawMultiLineString","drawText","getHitDetectionRenderer"];return Qp=function(){return i},Qp()}const Qn=Kc;(function(i,e){const t=Kc,n=i();for(;;)try{if(parseInt(t(318))/1+-parseInt(t(321))/2+parseInt(t(381))/3*(parseInt(t(289))/4)+-parseInt(t(335))/5*(parseInt(t(300))/6)+parseInt(t(322))/7*(-parseInt(t(356))/8)+parseInt(t(334))/9*(-parseInt(t(327))/10)+parseInt(t(369))/11*(parseInt(t(382))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Fp,492181);function Fp(){const i=["renderedFrameDeclutter_","pixelRatio","layerIndex","renderedFeatures_","canWrapX","sort","hasListener","clipUnrotated","POSTRENDER","218298drANkQ","13870812RclARS","renderDeferred","clipped_","getStyleFunction","renderedExtent_","getUpdateWhileInteracting","getExtent","renderedResolution_","opacity_","frameState","setDrawContext_","renderIfReadyAndVisible","renderFrame","28DMGPZZ","width","splice","getSource","boundHandleStyleImageChange_","round","canvas","renderWorlds","height","isArray","preRender","47346CqGtFr","targetContext_","extent","animatingOrInteracting_","wrappedRenderedExtent_","globalAlpha","prepareFrame","slice","map","loadFeatures","renderedProjection_","replayGroup_","push","renderDeferredInternal","forEachFeatureAtCoordinate","viewState","renderedPixelRatio_","getUpdateWhileAnimating","121910PgxKhP","lastIndexOf","context","1099548sxQqUz","3339bElKPn","PRERENDER","distanceSq","renderedRotation_","value","305390ETobWz","execute","rotation","renderFeature","getRenderOrder","projection","hitDetectionImageData_","189FOtkyc","185FzHxHQ","geometry","ready","bind","resolution","center","getDeclutter","changed","container","renderDeclutter","restore","getOverlaps","getVisible","viewHints","getRenderTransform","renderedRevision_","renderedCenter_","handleStyleImageChange_","drawImage","clipping","postRender","16232SCHBqC","declutter","ceil","getLayer","opacity","resetDrawContext_","max","INTERACTING","all","ANIMATING","size","length","renderedRenderOrder_","22zhhGLY","finish","replayGroupChanged"];return Fp=function(){return i},Fp()}function Kc(i,e){const t=Fp();return Kc=function(n,r){return n=n-288,t[n]},Kc(i,e)}class gF extends $E{constructor(e){const t=Kc;super(e),this[t(293)]=this.handleStyleImageChange_[t(338)](this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this[t(384)]=!1,this[t(375)]=null,this[t(350)]=-1,this.renderedResolution_=NaN,this[t(386)]=Er(),this[t(304)]=Er(),this.renderedRotation_,this[t(351)]=null,this.renderedProjection_=null,this[t(316)]=1,this[t(368)]=null,this[t(372)],this[t(311)]=null,this[t(371)]=!0,this[t(354)]=!0,this[t(301)]=null,this[t(390)]=1}[Qn(296)](e,t,n){const r=Qn,s=t[r(302)],a=t[r(315)],o=a.center,l=a[r(339)],c=a.projection,x=a[r(329)],u=c[r(388)](),h=this.getLayer()[r(292)](),f=this.getLayer()[r(341)](),A=t[r(373)],g=t[r(348)],d=!(g[An.ANIMATING]||g[An.INTERACTING]),p=this.context,_=Math[r(294)](ht(s)/l*A),I=Math[r(294)](wn(s)/l*A),m=h.getWrapX()&&c[r(376)](),y=m?ht(u):null,E=m?Math[r(358)]((s[2]-u[2])/y)+1:1;let C=m?Math.floor((s[0]-u[0])/y):0;do{let v=this[r(349)](o,l,0,A,_,I,C*y);t[r(357)]&&(v=v.slice(0)),e[r(328)](p,[p[r(295)][r(290)],p[r(295)].height],v,x,d,n===void 0?Wc:n?Mp:iF,n?f&&t[r(357)][f]:void 0)}while(++C<E)}[Qn(392)](){const e=Qn;this.opacity_!==1&&(this[e(301)]=this[e(320)],this[e(320)]=fn(this[e(320)][e(295)].width,this.context.canvas[e(297)],XB))}[Qn(361)](){const e=Qn;if(this[e(390)]!==1){const t=this[e(301)][e(305)];this.targetContext_[e(305)]=this[e(390)],this[e(301)][e(353)](this[e(320)][e(295)],0,0),this[e(301)][e(305)]=t,r0(this[e(320)]),XB.push(this.context[e(295)]),this.context=this[e(301)],this[e(301)]=null}}[Qn(344)](e){const t=Qn;!this[t(311)]||!this[t(359)]()[t(341)]()||this[t(296)](this.replayGroup_,e,!0)}[Qn(313)](e){const t=Qn;this.replayGroup_&&(this[t(311)][t(383)](),this[t(384)]&&this.context[t(345)](),this[t(361)]())}[Qn(288)](e,t){const n=Qn,r=e.layerStatesArray[e[n(374)]];this[n(390)]=r[n(360)];const s=e[n(315)];this.prepareContainer(e,t);const a=this[n(320)],o=this[n(311)];let l=o&&!o.isEmpty();if(!l&&!(this[n(359)]()[n(378)](wr[n(323)])||this[n(359)]()[n(378)](wr[n(380)])))return null;if(this.setDrawContext_(),this[n(299)](a,e),s[n(332)],this[n(384)]=!1,l&&r[n(302)]&&this[n(354)]){const c=gs(r[n(302)]);l=Bn(c,e[n(302)]),this[n(384)]=l&&!Vr(c,e.extent),this.clipped_&&this[n(379)](a,e,c)}return l&&this[n(296)](o,e,this[n(359)]()[n(341)]()?!1:void 0),!e[n(357)]&&this.clipped_&&a.restore(),this[n(355)](a,e),this[n(325)]!==s[n(329)]&&(this[n(325)]=s.rotation,this[n(333)]=null),!e[n(357)]&&this[n(361)](),this[n(343)]}getFeatures(e){return new Promise(t=>{const n=Kc;if(this[n(391)]&&!this[n(333)]&&!this[n(303)]){const r=this[n(391)][n(366)].slice(),s=this[n(351)],a=this.renderedResolution_,o=this[n(325)],l=this[n(310)],c=this[n(304)],x=this[n(359)](),u=[],h=r[0]*hr,f=r[1]*hr;u.push(this[n(349)](s,a,o,hr,h,f,0)[n(307)]());const A=x[n(292)](),g=l[n(388)]();if(A.getWrapX()&&l[n(376)]()&&!Vr(g,c)){let d=c[0];const p=ht(g);let _=0,I;for(;d<g[0];)--_,I=p*_,u[n(312)](this[n(349)](s,a,o,hr,h,f,I)[n(307)]()),d+=p;for(_=0,d=c[2];d>g[2];)++_,I=p*_,u[n(312)](this[n(349)](s,a,o,hr,h,f,I)[n(307)]()),d-=p}this[n(333)]=v5(r,u,this[n(375)],x.getStyleFunction(),c,a,o,py(a,this[n(316)]),null)}t(w5(e,this[n(375)],this[n(333)]))})}[Qn(314)](e,t,n,r,s){const a=Qn;if(!this.replayGroup_)return;const o=t[a(315)][a(339)],l=t[a(315)].rotation,c=this[a(359)](),x={},u=function(g,d,p){const _=a,I=et(g),m=x[I];if(m){if(m!==!0&&p<m[_(324)]){if(p===0)return x[I]=!0,s[_(291)](s[_(319)](m),1),r(g,c,d);m[_(336)]=d,m[_(324)]=p}}else{if(p===0)return x[I]=!0,r(g,c,d);s[_(312)](x[I]={feature:g,layer:c,geometry:d,distanceSq:p,callback:r})}};let h;const f=[this[a(311)]],A=this.getLayer()[a(341)]();return f.some(g=>{const d=a;return h=g[d(314)](e,o,l,n,u,A&&t[d(357)][A]?t.declutter[A][d(364)]()[d(308)](p=>p[d(326)]):null)}),h}handleFontsChanged(){const e=Qn,t=this.getLayer();t[e(347)]()&&this.replayGroup_&&t[e(342)]()}[Qn(352)](e){this[Qn(393)]()}[Qn(306)](e){const t=Qn,n=this.getLayer(),r=n[t(292)]();if(!r)return!1;const s=e[t(348)][An[t(365)]],a=e[t(348)][An[t(363)]],o=n[t(317)](),l=n[t(387)]();if(this.ready&&!o&&s||!l&&a)return this[t(303)]=!0,!0;this[t(303)]=!1;const c=e[t(302)],x=e.viewState,u=x[t(332)],h=x[t(339)],f=e[t(373)],A=n.getRevision(),g=n.getRenderBuffer();let d=n[t(331)]();d===void 0&&(d=oF);const p=x[t(340)][t(307)](),_=Xa(c,g*h),I=_[t(307)](),m=[_[t(307)]()],y=u[t(388)]();if(r.getWrapX()&&u[t(376)]()&&!Vr(y,e[t(302)])){const M=ht(y),T=Math[t(362)](ht(_)/2,M);_[0]=y[0]-T,_[2]=y[2]+T,XI(p,u);const P=Fw(m[0],u);P[0]<y[0]&&P[2]<y[2]?m[t(312)]([P[0]+M,P[1],P[2]+M,P[3]]):P[0]>y[0]&&P[2]>y[2]&&m[t(312)]([P[0]-M,P[1],P[2]-M,P[3]])}if(this[t(337)]&&this.renderedResolution_==h&&this[t(350)]==A&&this[t(368)]==d&&this[t(372)]===!!e.declutter&&Vr(this[t(304)],_))return!Za(this[t(386)],I)&&(this[t(333)]=null,this[t(386)]=I),this[t(351)]=p,this[t(371)]=!1,!0;this[t(311)]=null;const E=new I5(S5(h,f),_,h,f);let C;for(let M=0,T=m[t(367)];M<T;++M)r[t(309)](m[M],h,u);const v=py(h,f);let b=!0;const w=(M,T)=>{const P=t;let k;const V=M[P(385)]()||n[P(385)]();if(V&&(k=V(M,h)),k){const Y=this[P(330)](M,v,k,E,C,this[P(359)]()[P(341)](),T);b=b&&!Y}},B=tE(_),R=r.getFeaturesInExtent(B);d&&R[t(377)](d);for(let M=0,T=R[t(367)];M<T;++M)w(R[M],M);this[t(375)]=R,this.ready=b;const Q=E[t(370)](),F=new b5(_,h,f,r[t(346)](),Q,n.getRenderBuffer(),!!e[t(357)]);return this[t(389)]=h,this[t(350)]=A,this.renderedRenderOrder_=d,this.renderedFrameDeclutter_=!!e[t(357)],this[t(386)]=I,this[t(304)]=_,this[t(351)]=p,this[t(310)]=u,this[t(316)]=f,this.replayGroup_=F,this[t(333)]=null,this[t(371)]=!0,!0}[Qn(330)](e,t,n,r,s,a,o){const l=Qn;if(!n)return!1;let c=!1;if(Array[l(298)](n))for(let x=0,u=n.length;x<u;++x)c=Dp(r,e,n[x],t,this.boundHandleStyleImageChange_,s,a,o)||c;else c=Dp(r,e,n,t,this[l(293)],s,a,o);return c}}function Lp(){var i=["483452OwRSVR","25poegcW","1015764GdXNGs","createRenderer","3612042ZHFzBh","195770bDNWQN","699546DtMlQF","120510GQOerj","580JvPtUW","11MUAfIG","8tWOnXH","6BrFcdp","1974280wWWiMt"];return Lp=function(){return i},Lp()}var mF=Pp;(function(i,e){for(var t=Pp,n=i();;)try{var r=-parseInt(t(242))/1+parseInt(t(237))/2*(parseInt(t(235))/3)+-parseInt(t(236))/4+-parseInt(t(238))/5*(parseInt(t(243))/6)+parseInt(t(241))/7*(parseInt(t(247))/8)+-parseInt(t(244))/9*(-parseInt(t(245))/10)+parseInt(t(246))/11*(-parseInt(t(239))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Lp,419136);function Pp(i,e){var t=Lp();return Pp=function(n,r){n=n-235;var s=t[n];return s},Pp(i,e)}class Jc extends uy{constructor(e){super(e)}[mF(240)](){return new gF(this)}}function gy(i,e){let t=_c(i,e),n=[t[0],t[1]];return t[0]<=-180&&(n[0]=t[0]%360,n[0]<=-180&&(n[0]=n[0]+360)),t[0]>=180&&(n[0]=n[0]%360,n[0]>=180&&(n[0]=n[0]-360)),LQ(i,n)}function R5(i,e){let t=i.getPixelFromCoordinate([e[0],e[1]]),n=i.getPixelFromCoordinate([e[2],e[3]]),r=Math.abs(t[0]-n[0]),s=Math.abs(t[1]-n[1]);return{tifPixelLeftTop:i.getPixelFromCoordinate([e[0],e[3]]),tifPiexlWidth:r,tifPiexHeight:s}}function T5(i,e,t,n,r,s){s=40;let a=80,o=[],l=[],c=[],u=R5(i,e).tifPixelLeftTop,{tifPixelLeftTop:h,tifPiexlWidth:f,tifPiexHeight:A}=R5(i,t),g=(h[0]-u[0])%a,d=(h[1]-u[1])%a;_c(i,[e[0],e[1]])[1]<-90&&i.getPixelFromCoordinate([e[0],-90])[1],_c(i,[e[2],e[3]])[1]>90&&(e[3]=90,i.getPixelFromCoordinate([e[0],90])[1]);let p=gy(i,[e[0],e[1]]),_=gy(i,[e[2],e[3]]);p[0],p[1],_[0],_[1];for(let I=g;I<n;I=I+a)for(let m=d+s;m<r;m=m+a){let y=i.getCoordinateFromPixel([I,m]),E=_c(i,y);E[0]>-180?c.push(parseInt((E[0]+180)/360)):E[0]<=-180&&(parseInt((E[0]-180)/360)==0,c.push(parseInt((E[0]-180)/360)));let C=gy(i,y);if(C[0]>=t[0]&&C[1]>=t[1]&&C[0]<=t[2]&&C[1]<=t[3]){o.push([I,m]);let v=i.getPixelFromCoordinate([C[0],C[1]]);l.push(v)}}return[o,l,c]}const Yt=Zc;function kp(){const i=["entries_","24avIVEZ","691360dNUJOY","forEach","get","expireCache","hasOwnProperty","peekLast","getKeys","peekLastKey","containsKey","Tried to get a value for a key that does not exist in the cache","164224UWNSot","canExpireCache","count_","pop","value_","newest_","93816tNBayK","7KtYkIX","peek","newer","older","1136890FdEEOp","Tried to set a value for a key that is used already","replace","getCount","516928jXngqR","1142334SLBkaA","key_","peekFirstKey","highWaterMark","oldest_","186jdSxas","73195PFTAhW"];return kp=function(){return i},kp()}(function(i,e){const t=Zc,n=i();for(;;)try{if(parseInt(t(507))/1+parseInt(t(517))/2+parseInt(t(516))/3*(parseInt(t(492))/4)+parseInt(t(514))/5*(-parseInt(t(513))/6)+-parseInt(t(499))/7*(-parseInt(t(498))/8)+-parseInt(t(508))/9+-parseInt(t(503))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(kp,508359);class D5{constructor(e){const t=Zc;this[t(511)]=e!==void 0?e:2048,this[t(494)]=0,this[t(515)]={},this[t(512)]=null,this.newest_=null}canExpireCache(){const e=Zc;return this[e(511)]>0&&this[e(506)]()>this.highWaterMark}[Yt(520)](e){const t=Yt;for(;this[t(493)]();)this[t(495)]()}clear(){const e=Yt;this.count_=0,this[e(515)]={},this[e(512)]=null,this[e(497)]=null}[Yt(490)](e){const t=Yt;return this[t(515)][t(521)](e)}[Yt(518)](e){const t=Yt;let n=this[t(512)];for(;n;)e(n[t(496)],n[t(509)],this),n=n[t(501)]}[Yt(519)](e,t){const n=Yt,r=this[n(515)][e];return yt(r!==void 0,n(491)),r===this[n(497)]||(r===this.oldest_?(this[n(512)]=this[n(512)][n(501)],this.oldest_.older=null):(r[n(501)][n(502)]=r[n(502)],r[n(502)][n(501)]=r.newer),r[n(501)]=null,r.older=this[n(497)],this[n(497)][n(501)]=r,this[n(497)]=r),r[n(496)]}remove(e){const t=Yt,n=this[t(515)][e];return yt(n!==void 0,t(491)),n===this[t(497)]?(this[t(497)]=n[t(502)],this[t(497)]&&(this[t(497)][t(501)]=null)):n===this[t(512)]?(this[t(512)]=n.newer,this[t(512)]&&(this[t(512)][t(502)]=null)):(n[t(501)][t(502)]=n[t(502)],n[t(502)][t(501)]=n[t(501)]),delete this[t(515)][e],--this[t(494)],n[t(496)]}[Yt(506)](){return this[Yt(494)]}[Yt(523)](){const e=Yt,t=new Array(this[e(494)]);let n=0,r;for(r=this[e(497)];r;r=r.older)t[n++]=r[e(509)];return t}getValues(){const e=Yt,t=new Array(this.count_);let n=0,r;for(r=this[e(497)];r;r=r[e(502)])t[n++]=r[e(496)];return t}[Yt(522)](){const e=Yt;return this[e(512)][e(496)]}[Yt(489)](){const e=Yt;return this[e(512)][e(509)]}[Yt(510)](){const e=Yt;return this[e(497)][e(509)]}[Yt(500)](e){var n;const t=Yt;return(n=this.entries_[e])==null?void 0:n[t(496)]}[Yt(495)](){const e=Yt,t=this.oldest_;return delete this[e(515)][t.key_],t[e(501)]&&(t.newer[e(502)]=null),this[e(512)]=t[e(501)],!this[e(512)]&&(this.newest_=null),--this.count_,t[e(496)]}[Yt(505)](e,t){const n=Yt;this.get(e),this[n(515)][e][n(496)]=t}set(e,t){const n=Yt;yt(!(e in this[n(515)]),n(504));const r={key_:e,newer:null,older:this[n(497)],value_:t};this[n(497)]?this.newest_[n(501)]=r:this.oldest_=r,this[n(497)]=r,this[n(515)][e]=r,++this[n(494)]}setSize(e){const t=Yt;this[t(511)]=e}}function Zc(i,e){const t=kp();return Zc=function(n,r){return n=n-489,t[n]},Zc(i,e)}function my(i,e){var t=Up();return my=function(n,r){n=n-451;var s=t[n];return s},my(i,e)}function Up(){var i=["5556iOcVEm","42BmerAS","5665693foeNxz","50zczqWc","2015984yORQFr","3tXOJAv","3011176jnYOuH","361584nXPmxf","13339287KKAMOq","3068088pmLPFa","3995nEjEjP"];return Up=function(){return i},Up()}(function(i,e){for(var t=my,n=i();;)try{var r=parseInt(t(460))/1+-parseInt(t(451))/2*(-parseInt(t(458))/3)+parseInt(t(459))/4+-parseInt(t(452))/5*(-parseInt(t(453))/6)+-parseInt(t(454))/7*(-parseInt(t(457))/8)+-parseInt(t(461))/9+-parseInt(t(456))/10*(parseInt(t(455))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Up,842826);const de={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},_i=fh;(function(i,e){const t=fh,n=i();for(;;)try{if(-parseInt(t(339))/1*(-parseInt(t(327))/2)+parseInt(t(343))/3*(parseInt(t(336))/4)+-parseInt(t(322))/5+parseInt(t(335))/6+parseInt(t(330))/7*(parseInt(t(345))/8)+-parseInt(t(329))/9*(parseInt(t(334))/10)+-parseInt(t(324))/11*(-parseInt(t(325))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Np,615534);function Np(){const i=["tileCoord","CHANGE","2SzXmaf","changed","transitionStarts_","getKey","22674RzDWAl","inTransition","1983448ksSdAi","interpolate","load","Tile load sequence violation","key","EMPTY","transition_","4834100buKupS","getAlpha","192401uHUXJo","696bVrdfN","setState","263894rcPPvG","getState","5463gzzjcW","7SiUurX","transition","ERROR","state","16740iEzPck","4392354cXroXd","180WZvsDj"];return Np=function(){return i},Np()}function fh(i,e){const t=Np();return fh=function(n,r){return n=n-321,t[n]},fh(i,e)}class Ah extends du{constructor(e,t,n){const r=fh;super(),n=n||{},this.tileCoord=e,this[r(333)]=t,this[r(349)]="",this[r(321)]=n[r(331)]===void 0?250:n[r(331)],this[r(341)]={},this[r(346)]=!!n[r(346)]}[_i(340)](){const e=_i;this.dispatchEvent(Ye[e(338)])}release(){const e=_i;this[e(333)]===de[e(332)]&&this[e(326)](de[e(350)])}[_i(342)](){const e=_i;return this[e(349)]+"/"+this[e(337)]}getTileCoord(){return this[_i(337)]}[_i(328)](){return this[_i(333)]}[_i(326)](e){const t=_i;if(this[t(333)]!==de[t(332)]&&this[t(333)]>e)throw new Error(t(348));this[t(333)]=e,this.changed()}[_i(347)](){je()}[_i(323)](e,t){const n=_i;if(!this[n(321)])return 1;let r=this[n(341)][e];if(!r)r=t,this[n(341)][e]=r;else if(r===-1)return 1;const s=t-r+1e3/60;return s>=this[n(321)]?1:bB(s/this.transition_)}[_i(344)](e){const t=_i;return this[t(321)]?this[t(341)][e]!==-1:!1}endTransition(e){const t=_i;this[t(321)]&&(this[t(341)][e]=-1)}}const Ss=dh;(function(i,e){const t=dh,n=i();for(;;)try{if(parseInt(t(323))/1*(parseInt(t(344))/2)+parseInt(t(341))/3+-parseInt(t(324))/4*(-parseInt(t(346))/5)+-parseInt(t(321))/6+parseInt(t(326))/7*(-parseInt(t(331))/8)+parseInt(t(325))/9*(parseInt(t(335))/10)+-parseInt(t(328))/11*(parseInt(t(334))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Op,833260);function dh(i,e){const t=Op();return dh=function(n,r){return n=n-319,t[n]},dh(i,e)}class Q5 extends Ah{constructor(e,t,n,r,s,a){const o=dh;super(e,t,a),this.crossOrigin_=r,this.src_=n,this[o(348)]=n,this[o(340)]=new Image,r!==null&&(this[o(340)][o(342)]=r),this.unlisten_=null,this[o(343)]=s}[Ss(350)](){return this.image_}[Ss(349)](e){const t=Ss;this[t(340)]=e,this.state=de[t(338)],this[t(319)](),this[t(327)]()}[Ss(339)](){const e=Ss;this.state=de[e(336)],this[e(319)](),this[e(340)]=_F(),this[e(327)]()}handleImageLoad_(){const e=Ss,t=this[e(340)];t.naturalWidth&&t[e(329)]?this[e(347)]=de[e(338)]:this[e(347)]=de.EMPTY,this[e(319)](),this.changed()}[Ss(337)](){const e=Ss;this[e(347)]==de[e(336)]&&(this[e(347)]=de.IDLE,this.image_=new Image,this[e(351)]!==null&&(this[e(340)][e(342)]=this[e(351)])),this[e(347)]==de[e(320)]&&(this[e(347)]=de.LOADING,this.changed(),this[e(343)](this,this.src_),this[e(333)]=JQ(this[e(340)],this[e(345)][e(330)](this),this[e(339)].bind(this)))}unlistenImage_(){const e=Ss;this[e(333)]&&(this[e(333)](),this[e(333)]=null)}}function _F(){const i=Ss,e=fn(1,1);return e.fillStyle=i(332),e[i(322)](0,0,1,1),e.canvas}function Op(){const i=["2VHYQSa","handleImageLoad_","59530ImLaQH","state","key","setImage","getImage","crossOrigin_","unlistenImage_","IDLE","3526170HopnWT","fillRect","1191379kXVthI","148RKENSg","4561731hFuHsq","7917eDEAgM","changed","22nXUBVE","naturalHeight","bind","2936cVOwuy","rgba(0,0,0,0)","unlisten_","4273116YqXiFN","10oNyDBc","ERROR","load","LOADED","handleImageError_","image_","1228374rxHQYK","crossOrigin","tileLoadFunction_"];return Op=function(){return i},Op()}const xa=ph;(function(i,e){const t=ph,n=i();for(;;)try{if(parseInt(t(532))/1+parseInt(t(506))/2*(-parseInt(t(510))/3)+parseInt(t(518))/4+-parseInt(t(519))/5+parseInt(t(493))/6+-parseInt(t(523))/7*(-parseInt(t(530))/8)+parseInt(t(500))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gp,934867);function ph(i,e){const t=Gp();return ph=function(n,r){return n=n-481,t[n]},ph(i,e)}function Gp(){const i=["bind","117rRMfIX","sourceZ_","canvas_","getExtent","length","triangulation_","pixelRatio_","number","1650708AIpOAB","4960680KbldoH","calculateSourceExtent","tileCoord","offset","77HoAjtT","IDLE","unlistenSources_","maxX","interpolate","sourcesListenerKeys_","ERROR","91912xzalzg","sourceTiles_","717127tOzcwU","getState","changed","load","getZForResolution","push","EMPTY","getImage","LOADING","targetTileGrid_","CHANGE","LOADED","minY","wrappedTileCoord_","getTileCoordExtent","getTriangles","state","1341936ZPxzez","sourceTileGrid_","getResolution","release","getTileSize","reproject_","forEach","17379324yHSQNM","maxY","getContext","getTileRangeForExtentAndZ","clipExtent_","gutter_","76096iJnNBD","renderEdges_","canWrapX"];return Gp=function(){return i},Gp()}class F5 extends Ah{constructor(e,t,n,r,s,a,o,l,c,x,u,h){const f=ph;super(s,de[f(524)],h),this.renderEdges_=u!==void 0?u:!1,this[f(516)]=o,this.gutter_=l,this[f(512)]=null,this[f(494)]=t,this.targetTileGrid_=r,this[f(489)]=a||s,this[f(531)]=[],this.sourcesListenerKeys_=null,this[f(511)]=0,this[f(504)]=e[f(508)]()?e.getExtent():void 0;const A=r[f(490)](this.wrappedTileCoord_),g=this[f(485)][f(513)]();let d=this[f(494)][f(513)]();const p=g?Mi(A,g):A;if(iu(p)===0){this[f(492)]=de.EMPTY;return}const _=e.getExtent();_&&(d?d=Mi(d,_):d=_);const I=r[f(495)](this[f(489)][0]),m=AB(e,n,p,I);if(!isFinite(m)||m<=0){this[f(492)]=de[f(482)];return}const y=x!==void 0?x:pE;if(this.triangulation_=new gE(e,n,p,d,m*y,I),this[f(515)][f(491)]()[f(514)]===0){this.state=de[f(482)];return}this[f(511)]=t[f(536)](m);let E=this[f(515)][f(520)]();if(d&&(e.canWrapX()?(E[1]=Sn(E[1],d[1],d[3]),E[3]=Sn(E[3],d[1],d[3])):E=Mi(E,d)),!iu(E))this[f(492)]=de.EMPTY;else{let C=0,v=0;e[f(508)]()&&(C=ht(_),v=Math.floor((E[0]-_[0])/C)),HI(E.slice(),e,!0)[f(499)](w=>{const B=f,R=t[B(503)](w,this[B(511)]);for(let Q=R.minX;Q<=R[B(526)];Q++)for(let F=R[B(488)];F<=R[B(501)];F++){const M=c(this[B(511)],Q,F,o);if(M){const T=v*C;this[B(531)][B(481)]({tile:M,offset:T})}}++v}),this[f(531)][f(514)]===0&&(this[f(492)]=de[f(482)])}}[xa(483)](){return this.canvas_}[xa(498)](){const e=xa,t=[];if(this.sourceTiles_[e(499)](n=>{var a;const r=e,s=n.tile;if(s&&s[r(533)]()==de[r(487)]){const o=this[r(494)][r(490)](s[r(521)]);o[0]+=n.offset,o[2]+=n[r(522)];const l=(a=this.clipExtent_)==null?void 0:a.slice();l&&(l[0]+=n[r(522)],l[2]+=n[r(522)]),t[r(481)]({extent:o,clipExtent:l,image:s.getImage()})}}),this[e(531)][e(514)]=0,t.length===0)this[e(492)]=de[e(529)];else{const n=this.wrappedTileCoord_[0],r=this[e(485)][e(497)](n),s=typeof r===e(517)?r:r[0],a=typeof r=="number"?r:r[1],o=this[e(485)][e(495)](n),l=this[e(494)][e(495)](this.sourceZ_),c=this[e(485)][e(490)](this[e(489)]);this.canvas_=EE(s,a,this[e(516)],l,this.sourceTileGrid_.getExtent(),o,c,this[e(515)],t,this[e(505)],this[e(507)],this[e(527)]),this[e(492)]=de[e(487)]}this[e(534)]()}[xa(535)](){const e=xa;if(this[e(492)]==de.IDLE){this.state=de[e(484)],this[e(534)]();let t=0;this[e(528)]=[],this.sourceTiles_[e(499)](({tile:n})=>{const r=e,s=n[r(533)]();if(s==de[r(524)]||s==de[r(484)]){t++;const a=mt(n,Ye[r(486)],o=>{const l=r,c=n[l(533)]();(c==de[l(487)]||c==de[l(529)]||c==de.EMPTY)&&(Jt(a),t--,t===0&&(this[l(525)](),this[l(498)]()))});this.sourcesListenerKeys_[r(481)](a)}}),t===0?setTimeout(this[e(498)][e(509)](this),0):this[e(531)].forEach(function({tile:n},r,s){const a=e;n.getState()==de[a(524)]&&n[a(535)]()})}}[xa(525)](){const e=xa;this[e(528)][e(499)](Jt),this[e(528)]=null}[xa(496)](){const e=xa;this.canvas_&&(r0(this[e(512)][e(502)]("2d")),ia[e(481)](this[e(512)]),this.canvas_=null),super[e(496)]()}}function $c(i,e){const t=Vp();return $c=function(n,r){return n=n-293,t[n]},$c(i,e)}(function(i,e){const t=$c,n=i();for(;;)try{if(-parseInt(t(305))/1*(-parseInt(t(296))/2)+parseInt(t(307))/3*(-parseInt(t(294))/4)+parseInt(t(297))/5*(parseInt(t(310))/6)+parseInt(t(302))/7*(-parseInt(t(308))/8)+parseInt(t(309))/9+parseInt(t(299))/10+-parseInt(t(293))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vp,205170);function zp(i,e,t,n){return n!==void 0?(n[0]=i,n[1]=e,n[2]=t,n):[i,e,t]}function gh(i,e,t){return i+"/"+e+"/"+t}function Vp(){const i=["63rLTInt","substring","lastIndexOf","1EUIrSd","split","3iWexhI","27256iAVHfi","230049wEHZKh","6pjDCLZ","containsXY","1363945DBEIpt","1306204ZKNJUM","getMinZoom","490522zEHsRn","1695065iyOzTq","map","765440OuSetw","length","getMaxZoom"];return Vp=function(){return i},Vp()}function L5(i){return gh(i[0],i[1],i[2])}function IF(i){const e=$c,[t,n,r]=i[e(303)](i[e(304)]("/")+1,i[e(300)])[e(306)](",")[e(298)](Number);return gh(t,n,r)}function EF(i){const e=$c;return i.split("/")[e(298)](Number)}function yF(i){return CF(i[0],i[1],i[2])}function CF(i,e,t){return(e<<i)+t}function bF(i,e){const t=$c,n=i[0],r=i[1],s=i[2];if(e[t(295)]()>n||n>e[t(301)]())return!1;const a=e.getFullTileRange(n);return a?a[t(311)](r,s):!0}const el=qp;(function(i,e){const t=qp,n=i();for(;;)try{if(parseInt(t(459))/1*(-parseInt(t(461))/2)+parseInt(t(457))/3+parseInt(t(455))/4+parseInt(t(470))/5*(-parseInt(t(460))/6)+parseInt(t(471))/7*(-parseInt(t(450))/8)+-parseInt(t(466))/9*(parseInt(t(453))/10)+parseInt(t(449))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hp,565808);class _y extends D5{[el(454)](){const e=el;for(;this[e(469)]()>0;)this.pop().release();super[e(454)]()}[el(464)](e){const t=el;for(;this[t(456)]()&&!(this[t(468)]()[t(451)]()in e);)this[t(458)]()[t(463)]()}[el(462)](){const e=el;if(this[e(469)]()===0)return;const t=this[e(452)](),n=EF(t),r=n[0];this.forEach(s=>{const a=e;s[a(467)][0]!==r&&(this[a(465)](L5(s[a(467)])),s[a(463)]())})}}function Hp(){const i=["getCount","855jkdtMf","5050129THyuOV","13602028RHxinv","8GzqMEO","getKey","peekFirstKey","1250SPjRYu","clear","4497796krbRLB","canExpireCache","168663UXCNCS","pop","23lnOVRZ","27114HmahyL","11486jCQEtR","pruneExceptNewestZ","release","expireCache","remove","16209LxrhbJ","tileCoord","peekLast"];return Hp=function(){return i},Hp()}function qp(i,e){const t=Hp();return qp=function(n,r){return n=n-449,t[n]},qp(i,e)}function Yp(){var i=["2299twfXRs","18rRuAKX","4844488ELjPGn","1370299PUmjnv","1399906epJlsQ","6bTzVMm","5340CksqBR","5317195gIfDAt","3ieXTck","9591057slXFZf","7768120ODcAEG","tileloadend"];return Yp=function(){return i},Yp()}var vF=Xp;function Xp(i,e){var t=Yp();return Xp=function(n,r){n=n-355;var s=t[n];return s},Xp(i,e)}(function(i,e){for(var t=Xp,n=i();;)try{var r=parseInt(t(365))/1+parseInt(t(366))/2*(-parseInt(t(358))/3)+-parseInt(t(364))/4+-parseInt(t(357))/5*(-parseInt(t(355))/6)+-parseInt(t(359))/7+-parseInt(t(360))/8*(-parseInt(t(363))/9)+parseInt(t(356))/10*(-parseInt(t(362))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Yp,982936);const Iy={TILELOADSTART:"tileloadstart",TILELOADEND:vF(361),TILELOADERROR:"tileloaderror"};var ri=mh;(function(i,e){for(var t=mh,n=i();;)try{var r=parseInt(t(269))/1+parseInt(t(275))/2*(parseInt(t(262))/3)+-parseInt(t(266))/4*(-parseInt(t(271))/5)+parseInt(t(270))/6+-parseInt(t(267))/7+-parseInt(t(261))/8+-parseInt(t(277))/9;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wp,907551);class Ey{constructor(e,t,n,r){var s=mh;this.minX=e,this.maxX=t,this[s(268)]=n,this[s(274)]=r}[ri(258)](e){var t=ri;return this[t(276)](e[1],e[2])}[ri(260)](e){var t=ri;return this[t(265)]<=e[t(265)]&&e.maxX<=this[t(273)]&&this[t(268)]<=e[t(268)]&&e[t(274)]<=this.maxY}[ri(276)](e,t){var n=ri;return this[n(265)]<=e&&e<=this[n(273)]&&this[n(268)]<=t&&t<=this[n(274)]}[ri(259)](e){var t=ri;return this.minX==e[t(265)]&&this[t(268)]==e[t(268)]&&this.maxX==e.maxX&&this[t(274)]==e.maxY}[ri(272)](e){var t=ri;e[t(265)]<this[t(265)]&&(this[t(265)]=e.minX),e[t(273)]>this[t(273)]&&(this[t(273)]=e[t(273)]),e[t(268)]<this[t(268)]&&(this[t(268)]=e[t(268)]),e.maxY>this.maxY&&(this.maxY=e[t(274)])}[ri(264)](){var e=ri;return this[e(274)]-this[e(268)]+1}getSize(){var e=ri;return[this[e(263)](),this[e(264)]()]}[ri(263)](){var e=ri;return this.maxX-this[e(265)]+1}intersects(e){var t=ri;return this[t(265)]<=e.maxX&&this.maxX>=e[t(265)]&&this[t(268)]<=e[t(274)]&&this[t(274)]>=e[t(268)]}}function mh(i,e){var t=Wp();return mh=function(n,r){n=n-258;var s=t[n];return s},mh(i,e)}function tl(i,e,t,n,r){var s=ri;return r!==void 0?(r[s(265)]=i,r[s(273)]=e,r[s(268)]=t,r[s(274)]=n,r):new Ey(i,e,t,n)}function Wp(){var i=["1680515RygYBu","extend","maxX","maxY","4HjgiIz","containsXY","20507301tnlGPm","contains","equals","containsTileRange","769384trTvVa","895449DBXjom","getWidth","getHeight","minX","12EPEaXf","1962261opETBk","minY","960817rzKDQQ","5979264PLOZqR"];return Wp=function(){return i},Wp()}const Bt=nl;(function(i,e){const t=nl,n=i();for(;;)try{if(-parseInt(t(447))/1+-parseInt(t(432))/2*(-parseInt(t(424))/3)+-parseInt(t(431))/4*(-parseInt(t(460))/5)+parseInt(t(453))/6+-parseInt(t(461))/7*(-parseInt(t(442))/8)+-parseInt(t(448))/9+parseInt(t(473))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(jp,707663);function nl(i,e){const t=jp();return nl=function(n,r){return n=n-415,t[n]},nl(i,e)}function jp(){const i=["maxY","minY","getTileCoordForXYAndZ_","forEachTileCoordParentTileRange","Either `tileSize` or `tileSizes` must be configured, never both","3pePxtG","tmpExtent_","getFullTileRange","minX","getTileCoordForXYAndResolution_","maxX","getMaxZoom","3432644YRvTGw","339412euLAZz","min","tileSize_","origin","fullTileRanges_","extent","tileSizes","`resolutions` must be sorted in descending order","tmpSize_","getResolutions","8YItbJX","getTileSize","sizes","resolutions","minZoom","1271557bfICDR","5985918TurNAR","max","maxZoom","getOrigin","map","204240TBTmfG","getTileRangeForTileCoordAndZ","pow","length","getTileCoordCenter","origins_","getTileCoordExtent","5TMajEY","2406803UCYaBG","extent_","calculateTileRanges_","getTileRangeForExtentAndZ","resolutions_","Either `origin` or `origins` must be configured, never both","origin_","getZForResolution","floor","tileSize","tileSizes_","getTileCoordResolution","12385860lozTXA","getTileCoordForCoordAndZ","getResolution","zoomFactor_","origins","getTileCoordForCoordAndResolution"];return jp=function(){return i},jp()}const il=[0,0,0],ho=5;class Kp{constructor(e){const t=nl;this.minZoom=e[t(446)]!==void 0?e.minZoom:0,this[t(465)]=e[t(445)],yt(KQ(this[t(465)],(s,a)=>a-s,!0),t(439));let n;if(!e[t(417)]){for(let s=0,a=this[t(465)][t(456)]-1;s<a;++s)if(!n)n=this.resolutions_[s]/this.resolutions_[s+1];else if(this[t(465)][s]/this[t(465)][s+1]!==n){n=void 0;break}}this.zoomFactor_=n,this[t(450)]=this[t(465)][t(456)]-1,this[t(467)]=e.origin!==void 0?e[t(435)]:null,this[t(458)]=null,e[t(417)]!==void 0&&(this.origins_=e[t(417)],yt(this.origins_[t(456)]==this[t(465)][t(456)],"Number of `origins` and `resolutions` must be equal"));const r=e[t(437)];r!==void 0&&!this.origin_&&!this[t(458)]&&(this[t(467)]=Ks(r)),yt(!this.origin_&&this[t(458)]||this[t(467)]&&!this[t(458)],t(466)),this[t(471)]=null,e[t(438)]!==void 0&&(this.tileSizes_=e[t(438)],yt(this[t(471)][t(456)]==this[t(465)][t(456)],"Number of `tileSizes` and `resolutions` must be equal")),this[t(434)]=e[t(470)]!==void 0?e[t(470)]:this[t(471)]?null:SE,yt(!this[t(434)]&&this[t(471)]||this.tileSize_&&!this[t(471)],t(423)),this[t(462)]=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e[t(444)][t(452)]((s,a)=>{const o=t,l=new Ey(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math[o(449)](s[1]-1,-1));if(r){const c=this[o(464)](r,a);l[o(427)]=Math[o(449)](c[o(427)],l[o(427)]),l[o(429)]=Math[o(433)](c[o(429)],l[o(429)]),l[o(420)]=Math.max(c[o(420)],l[o(420)]),l.maxY=Math[o(433)](c[o(419)],l[o(419)])}return l}):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,t,n){const r=nl,s=this[r(464)](e,t);for(let a=s[r(427)],o=s[r(429)];a<=o;++a)for(let l=s[r(420)],c=s.maxY;l<=c;++l)n([t,a,l])}[Bt(422)](e,t,n,r){const s=Bt;let a,o,l,c=null,x=e[0]-1;for(this[s(416)]===2?(o=e[1],l=e[2]):c=this[s(459)](e,r);x>=this[s(446)];){if(o!==void 0&&l!==void 0?(o=Math[s(469)](o/2),l=Math[s(469)](l/2),a=tl(o,o,l,l,n)):a=this.getTileRangeForExtentAndZ(c,x,n),t(x,a))return!0;--x}return!1}getExtent(){return this.extent_}[Bt(430)](){return this.maxZoom}getMinZoom(){return this.minZoom}[Bt(451)](e){const t=Bt;return this[t(467)]?this[t(467)]:this[t(458)][e]}[Bt(415)](e){return this[Bt(465)][e]}[Bt(441)](){return this.resolutions_}getTileCoordChildTileRange(e,t,n){const r=Bt;if(e[0]<this[r(450)]){if(this[r(416)]===2){const a=e[1]*2,o=e[2]*2;return tl(a,a+1,o,o+1,t)}const s=this[r(459)](e,n||this[r(425)]);return this[r(464)](s,e[0]+1,t)}return null}[Bt(454)](e,t,n){const r=Bt;if(t>this[r(450)]||t<this[r(446)])return null;const s=e[0],a=e[1],o=e[2];if(t===s)return tl(a,o,a,o,n);if(this[r(416)]){const c=Math[r(455)](this[r(416)],t-s),x=Math.floor(a*c),u=Math[r(469)](o*c);if(t<s)return tl(x,x,u,u,n);const h=Math.floor(c*(a+1))-1,f=Math.floor(c*(o+1))-1;return tl(x,h,u,f,n)}const l=this[r(459)](e,this[r(425)]);return this[r(464)](l,t,n)}[Bt(464)](e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,il);const r=il[1],s=il[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,il);const a=il[1],o=il[2];return tl(r,a,s,o,n)}[Bt(457)](e){const t=Bt,n=this[t(451)](e[0]),r=this[t(415)](e[0]),s=pi(this[t(443)](e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*s[0]*r,n[1]-(e[2]+.5)*s[1]*r]}[Bt(459)](e,t){const n=Bt,r=this[n(451)](e[0]),s=this[n(415)](e[0]),a=pi(this[n(443)](e[0]),this.tmpSize_),o=r[0]+e[1]*a[0]*s,l=r[1]-(e[2]+1)*a[1]*s,c=o+a[0]*s,x=l+a[1]*s;return Ws(o,l,c,x,t)}[Bt(418)](e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}[Bt(428)](e,t,n,r,s){const a=Bt,o=this.getZForResolution(n),l=n/this.getResolution(o),c=this.getOrigin(o),x=pi(this[a(443)](o),this.tmpSize_);let u=l*(e-c[0])/n/x[0],h=l*(c[1]-t)/n/x[1];return r?(u=ja(u,ho)-1,h=ja(h,ho)-1):(u=NA(u,ho),h=NA(h,ho)),zp(o,u,h,s)}getTileCoordForXYAndZ_(e,t,n,r,s){const a=Bt,o=this[a(451)](n),l=this.getResolution(n),c=pi(this[a(443)](n),this[a(440)]);let x=(e-o[0])/l/c[0],u=(o[1]-t)/l/c[1];return r?(x=ja(x,ho)-1,u=ja(u,ho)-1):(x=NA(x,ho),u=NA(u,ho)),zp(n,x,u,s)}[Bt(474)](e,t,n){return this[Bt(421)](e[0],e[1],t,!1,n)}[Bt(472)](e){return this[Bt(465)][e[0]]}getTileSize(e){const t=Bt;return this[t(434)]?this[t(434)]:this[t(471)][e]}[Bt(426)](e){const t=Bt;return this[t(436)]?this.fullTileRanges_[e]:this[t(462)]?this[t(464)](this[t(462)],e):null}[Bt(468)](e,t){const n=Bt,r=od(this[n(465)],e,t||0);return Sn(r,this[n(446)],this[n(450)])}tileCoordIntersectsViewport(e,t){const n=Bt;return GB(t,0,t.length,2,this[n(459)](e))}[Bt(463)](e){const t=Bt,n=this[t(465)].length,r=new Array(n);for(let s=this[t(446)];s<n;++s)r[s]=this.getTileRangeForExtentAndZ(e,s);this.fullTileRanges_=r}}(function(i,e){const t=fo,n=i();for(;;)try{if(parseInt(t(256))/1*(parseInt(t(247))/2)+-parseInt(t(243))/3*(parseInt(t(244))/4)+parseInt(t(234))/5*(parseInt(t(236))/6)+parseInt(t(231))/7*(parseInt(t(245))/8)+parseInt(t(235))/9*(-parseInt(t(237))/10)+parseInt(t(254))/11*(-parseInt(t(255))/12)+parseInt(t(230))/13*(parseInt(t(253))/14)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Jp,146985);function fo(i,e){const t=Jp();return fo=function(n,r){return n=n-230,t[n]},fo(i,e)}function Jp(){const i=["setDefaultTileGrid","maxZoom","minZoom","getDefaultTileGrid","461034mRJyOO","176YryzqN","177672PUajUU","23gihKoc","65ZxJyBM","518553GhCEcU","pow","ceil","1409945FvfHOf","26289yQCfdJ","6iemRmU","730gzmVIT","getExtent","max","degrees","getMetersPerUnit","getTileCoordForCoordAndZ","1806KQePHz","628lwxYld","24YRzdxV","extent","1978vwAntE","tileSize"];return Jp=function(){return i},Jp()}function P5(i){const e=fo;let t=i[e(252)]();return!t&&(t=SF(i),i[e(249)](t)),t}function wF(i,e,t){const n=fo,r=e[0],s=i.getTileCoordCenter(e),a=Zp(t);if(!e0(a,s)){const o=ht(a),l=Math[n(233)]((a[0]-s[0])/o);return s[0]+=o*l,i[n(242)](s,r)}return e}function BF(i,e,t,n){n=n!==void 0?n:"top-left";const r=k5(i,e,t);return new Kp({extent:i,origin:pQ(i,n),resolutions:r,tileSize:t})}function yy(i){const e=fo,t=i||{},n=t[e(246)]||Kt("EPSG:3857")[e(238)](),r={extent:n,minZoom:t[e(251)],tileSize:t.tileSize,resolutions:k5(n,t[e(250)],t[e(248)],t.maxResolution)};return new Kp(r)}function k5(i,e,t,n){const r=fo;e=e!==void 0?e:IB,t=pi(t!==void 0?t:SE);const s=wn(i),a=ht(i);n=n>0?n:Math[r(239)](a/t[0],s/t[1]);const o=e+1,l=new Array(o);for(let c=0;c<o;++c)l[c]=n/Math[r(232)](2,c);return l}function SF(i,e,t,n){const r=Zp(i);return BF(r,e,t,n)}function Zp(i){const e=fo;i=Kt(i);let t=i[e(238)]();if(!t){const n=180*Ha[e(240)]/i[e(241)]();t=Ws(-n,-n,n,n)}return t}const Cn=_h;(function(i,e){const t=_h,n=i();for(;;)try{if(parseInt(t(368))/1+-parseInt(t(354))/2*(-parseInt(t(370))/3)+parseInt(t(366))/4+parseInt(t(348))/5+-parseInt(t(379))/6+-parseInt(t(369))/7*(parseInt(t(361))/8)+parseInt(t(362))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})($p,263451);function $p(){const i=["projection","useTile","A VectorTile source can only be rendered if it has a projection compatible with the view projection.","cacheSize","getTileGridForProjection","8390QHrQrT","refresh","interpolate","state","getTilePixelSize","getWrapX","wrapX","134656ldxUuz","3796299ajwEGQ","canExpireCache","getKey","tmpSize","153368vzZaKB","getTile","259754FvviOl","196IGXOXo","183LoROtc","attributions","getTilePixelRatio","expireCache","isGlobal","setKey","once","tileCache","getGutterForProjection","1542582EadsTF","key","getTileCoordForTileUrlFunction","getProjection","transition","zDirection","key_","tileGrid","clear","tilePixelRatio_","getTileSize","80210CGZXbT"];return $p=function(){return i},$p()}function _h(i,e){const t=$p();return _h=function(n,r){return n=n-343,t[n]},_h(i,e)}class U5 extends Dc{constructor(e){const t=_h;super({attributions:e[t(371)],attributionsCollapsible:e.attributionsCollapsible,projection:e[t(349)],state:e[t(357)],wrapX:e[t(360)],interpolate:e[t(356)]}),this.on,this[t(376)],this.un,this[t(346)]=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e[t(344)]!==void 0?e[t(344)]:null;const n=[256,256];this.tileGrid&&pi(this[t(344)][t(347)](this[t(344)].getMinZoom()),n),this.tileCache=new _y(e[t(352)]||0),this[t(365)]=[0,0],this[t(343)]=e[t(380)]||"",this.tileOptions={transition:e[t(383)],interpolate:e.interpolate},this[t(384)]=e[t(384)]?e[t(384)]:0}[Cn(363)](){const e=Cn;return this.tileCache[e(363)]()}[Cn(373)](e,t){const n=Cn,r=this.getTileCacheForProjection(e);r&&r[n(373)](t)}[Cn(378)](e){return 0}[Cn(364)](){return this[Cn(343)]}[Cn(375)](e){const t=Cn;this[t(343)]!==e&&(this[t(343)]=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}[Cn(367)](e,t,n,r,s){return je()}getTileGrid(){return this[Cn(344)]}getTileGridForProjection(e){const t=Cn;return this[t(344)]?this[t(344)]:P5(e)}getTileCacheForProjection(e){const t=Cn,n=this[t(382)]();return yt(n===null||Js(n,e),t(351)),this[t(377)]}[Cn(372)](e){return this[Cn(346)]}[Cn(358)](e,t,n){const r=Cn,s=this[r(353)](n),a=this[r(372)](t),o=pi(s[r(347)](e),this.tmpSize);return a==1?o:NQ(o,a,this[r(365)])}[Cn(381)](e,t){const n=Cn;t=t!==void 0?t:this[n(382)]();const r=this[n(353)](t);return this[n(359)]()&&t[n(374)]()&&(e=wF(r,e,t)),bF(e,r)?e:null}[Cn(345)](){const e=Cn;this.tileCache[e(345)]()}[Cn(355)](){this.clear(),super.refresh()}[Cn(350)](e,t,n,r){}}class MF extends Cr{constructor(e,t){super(e),this.tile=t}}(function(i,e){const t=Ih,n=i();for(;;)try{if(-parseInt(t(440))/1+parseInt(t(448))/2*(-parseInt(t(444))/3)+parseInt(t(442))/4+-parseInt(t(443))/5+parseInt(t(457))/6+parseInt(t(455))/7+-parseInt(t(456))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(eg,137550);function eg(){const i=["push","1802031nUHZJf","410848mrmQbU","377808gFgOYw","length","64841hxOsOI","If the URL template has a {-y} placeholder, the grid extent must be known","998960XPBlPM","326795ijEYpI","753105hwsAqy","fromCharCode","forEach","exec","2GSohAL","join","replace","toString","includes","charCodeAt"];return eg=function(){return i},eg()}function Ih(i,e){const t=eg();return Ih=function(n,r){return n=n-439,t[n]},Ih(i,e)}const RF=/\{z\}/g,TF=/\{x\}/g,DF=/\{y\}/g,QF=/\{-y\}/g;function FF(i,e,t,n,r){const s=Ih;return i[s(450)](RF,e[s(451)]())[s(450)](TF,t.toString())[s(450)](DF,n[s(451)]())[s(450)](QF,function(){const a=s;if(r===void 0)throw new Error(a(441));return(r-n).toString()})}function N5(i){const e=Ih,t=[];let n=/\{([a-z])-([a-z])\}/[e(447)](i);if(n){const r=n[1][e(453)](0),s=n[2][e(453)](0);let a;for(a=r;a<=s;++a)t[e(454)](i.replace(n[0],String[e(445)](a)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(i),n){const r=parseInt(n[2],10);for(let s=parseInt(n[1],10);s<=r;s++)t[e(454)](i.replace(n[0],s[e(451)]()));return t}return t.push(i),t}(function(i,e){const t=rl,n=i();for(;;)try{if(parseInt(t(251))/1*(parseInt(t(250))/2)+-parseInt(t(255))/3+-parseInt(t(253))/4+parseInt(t(259))/5+parseInt(t(249))/6+-parseInt(t(252))/7*(-parseInt(t(260))/8)+-parseInt(t(254))/9*(parseInt(t(258))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(tg,145292);function rl(i,e){const t=tg();return rl=function(n,r){return n=n-248,t[n]},rl(i,e)}function LF(i,e){return function(t,n,r){const s=rl;if(!t)return;let a;const o=t[0];if(e){const l=e[s(256)](o);l&&(a=l[s(257)]()-1)}return FF(i,o,t[1],t[2],a)}}function O5(i,e){const t=rl,n=i[t(248)],r=new Array(n);for(let s=0;s<n;++s)r[s]=LF(i[s],e);return PF(r)}function PF(i){return i[rl(248)]===1?i[0]:function(t,n,r){if(!t)return;const s=yF(t),a=gc(s,i.length);return i[a](t,n,r)}}function tg(){const i=["659603xXBwUX","89916kuqpbH","2070963XpZlkT","321207VfjMGS","getFullTileRange","getHeight","10mxEmqm","1066145zVdSaI","8gMChcQ","length","637062wwOVYX","208yIjcwP","878gpzctf"];return tg=function(){return i},tg()}function ng(){const i=["key","handleTileChange","45yZgajQ","1919950hionqR","tileLoadFunction","getTileLoadFunction","tilePixelRatio","setUrl","tileLoadingKeys_","getTileUrlFunction","37484CZfEem","1045672FsAZgN","2386951QddeNl","prototype","setTileUrlFunction","getState","wrapX","attributionsCollapsible","TILELOADERROR","tileGrid","tileCache","LOADING","getUrls","join","getPrototypeOf","changed","setKey","bind","tileUrlFunction","clear","ERROR","TILELOADEND","url","generateTileUrlFunction_","setUrls","1261kLtsZH","containsKey","attributions","2602764HiCdnz","LOADED","322cAphBV","680640tZDuYT","cacheSize","projection","10TKidDA","target","urls"];return ng=function(){return i},ng()}const Ii=Eh;(function(i,e){const t=Eh,n=i();for(;;)try{if(parseInt(t(162))/1*(-parseInt(t(167))/2)+parseInt(t(168))/3+parseInt(t(184))/4*(parseInt(t(171))/5)+parseInt(t(165))/6+parseInt(t(186))/7+-parseInt(t(185))/8*(parseInt(t(176))/9)+parseInt(t(177))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ng,355838);class ig extends U5{constructor(e){const t=Eh;super({attributions:e[t(164)],cacheSize:e[t(169)],projection:e[t(170)],state:e.state,tileGrid:e[t(193)],tilePixelRatio:e[t(180)],wrapX:e[t(190)],transition:e.transition,interpolate:e.interpolate,key:e[t(174)],attributionsCollapsible:e[t(191)],zDirection:e.zDirection}),this[t(160)]=this.tileUrlFunction===ig[t(187)][t(202)],this.tileLoadFunction=e[t(178)],e[t(202)]&&(this[t(202)]=e[t(202)]),this[t(173)]=null,e[t(173)]?this[t(161)](e.urls):e[t(159)]&&this[t(181)](e[t(159)]),this[t(182)]={}}[Ii(179)](){return this[Ii(178)]}[Ii(183)](){const e=Ii;return Object[e(198)](this).tileUrlFunction===this[e(202)]?this[e(202)][e(201)](this):this[e(202)]}[Ii(196)](){return this[Ii(173)]}[Ii(175)](e){const t=Ii,n=e[t(172)],r=et(n),s=n[t(189)]();let a;s==de[t(195)]?(this[t(182)][r]=!0,a=Iy.TILELOADSTART):r in this[t(182)]&&(delete this[t(182)][r],a=s==de[t(157)]?Iy[t(192)]:s==de[t(166)]?Iy[t(158)]:void 0),a!=null&&this.dispatchEvent(new MF(a,n))}setTileLoadFunction(e){const t=Ii;this[t(194)][t(156)](),this[t(178)]=e,this[t(199)]()}[Ii(188)](e,t){const n=Ii;this[n(202)]=e,this[n(194)].pruneExceptNewestZ(),typeof t<"u"?this[n(200)](t):this[n(199)]()}[Ii(181)](e){const t=Ii,n=N5(e);this[t(173)]=n,this[t(161)](n)}setUrls(e){const t=Ii;this[t(173)]=e;const n=e[t(197)](`
`);this[t(160)]?this[t(188)](O5(e,this[t(193)]),n):this.setKey(n)}[Ii(202)](e,t,n){}useTile(e,t,n){const r=Ii,s=gh(e,t,n);this[r(194)][r(163)](s)&&this[r(194)].get(s)}}function Eh(i,e){const t=ng();return Eh=function(n,r){return n=n-156,t[n]},Eh(i,e)}const Fn=yh;(function(i,e){const t=yh,n=i();for(;;)try{if(-parseInt(t(359))/1*(-parseInt(t(375))/2)+parseInt(t(330))/3*(-parseInt(t(369))/4)+-parseInt(t(377))/5+parseInt(t(335))/6+parseInt(t(373))/7*(-parseInt(t(323))/8)+parseInt(t(361))/9*(-parseInt(t(358))/10)+parseInt(t(347))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(rg,979925);function yh(i,e){const t=rg();return yh=function(n,r){return n=n-322,t[n]},yh(i,e)}function rg(){const i=["containsKey","key","1501566sWDNVG","attributionsCollapsible","getGutterForProjection","expireCache","EMPTY","getImage","getProjection","tileGrid","addEventListener","tileCacheForProjection","createTile_","tileCache","35094180SWFWFv","renderReprojectionEdges_","handleTileChange","urls","setTileGridForProjection","tilePixelRatio","CHANGE","changed","clear","getTileGridForProjection","interpolate","5070BLeANz","6359Whpvcr","src","5517pgfAEi","getInterpolate","transition","highWaterMark","state","crossOrigin","getTileCoordForTileUrlFunction","tileGridForProjection","1072WjUQWh","tileClass","bind","getTileInternal","25025tBfeno",":disable-interpolation","598vqYiZN","get","9210675SCphng","reprojectionErrorThreshold_","zDirection","canExpireCache","3464pVKJRq","tileLoadFunction","getGutter","tileOptions","set","attributions","replace","7401egMSpu","getKey","getTileCacheForProjection"];return rg=function(){return i},rg()}class kF extends ig{constructor(e){const t=yh;super({attributions:e[t(328)],cacheSize:e.cacheSize,projection:e.projection,state:e[t(365)],tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e[t(324)]:UF,tilePixelRatio:e[t(352)],tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e[t(350)],wrapX:e.wrapX,transition:e[t(363)],interpolate:e[t(357)]!==void 0?e[t(357)]:!0,key:e[t(334)],attributionsCollapsible:e[t(336)],zDirection:e[t(379)]}),this[t(366)]=e[t(366)]!==void 0?e[t(366)]:null,this[t(370)]=e[t(370)]!==void 0?e[t(370)]:Q5,this.tileCacheForProjection={},this[t(368)]={},this[t(378)]=e.reprojectionErrorThreshold,this[t(348)]=!1}[Fn(322)](){const e=Fn;if(this[e(346)][e(322)]())return!0;for(const t in this[e(344)])if(this[e(344)][t][e(322)]())return!0;return!1}expireCache(e,t){const n=Fn,r=this[n(332)](e);this[n(346)][n(338)](this[n(346)]==r?t:{});for(const s in this[n(344)]){const a=this.tileCacheForProjection[s];a.expireCache(a==r?t:{})}}[Fn(337)](e){const t=Fn;return this.getProjection()&&e&&!Js(this[t(341)](),e)?0:this[t(325)]()}getGutter(){return 0}[Fn(331)](){const e=Fn;let t=super[e(331)]();return!this[e(362)]()&&(t+=e(374)),t}[Fn(356)](e){const t=Fn,n=this[t(341)]();if(this[t(342)]&&(!n||Js(n,e)))return this.tileGrid;const r=et(e);return!(r in this[t(368)])&&(this[t(368)][r]=P5(e)),this[t(368)][r]}[Fn(332)](e){const t=Fn,n=this[t(341)]();if(!n||Js(n,e))return this[t(346)];const r=et(e);return!(r in this[t(344)])&&(this[t(344)][r]=new _y(this[t(346)][t(364)])),this.tileCacheForProjection[r]}[Fn(345)](e,t,n,r,s,a){const o=Fn,l=[e,t,n],c=this.getTileCoordForTileUrlFunction(l,s),x=c?this.tileUrlFunction(c,r,s):void 0,u=new this.tileClass(l,x!==void 0?de.IDLE:de[o(339)],x!==void 0?x:"",this.crossOrigin,this[o(324)],this[o(326)]);return u[o(334)]=a,u[o(343)](Ye[o(353)],this[o(349)][o(371)](this)),u}getTile(e,t,n,r,s){const a=Fn,o=this[a(341)]();if(!o||!s||Js(o,s))return this[a(372)](e,t,n,r,o||s);const l=this[a(332)](s),c=[e,t,n];let x;const u=L5(c);l[a(333)](u)&&(x=l[a(376)](u));const h=this[a(331)]();if(x&&x[a(334)]==h)return x;const f=this[a(356)](o),A=this.getTileGridForProjection(s),g=this[a(367)](c,s),d=new F5(o,f,s,A,c,g,this.getTilePixelRatio(r),this.getGutter(),(p,_,I,m)=>this[a(372)](p,_,I,m,o),this[a(378)],this[a(348)],this[a(326)]);return d.key=h,x?l[a(329)](u,d):l[a(327)](u,d),d}[Fn(372)](e,t,n,r,s){const a=Fn,o=gh(e,t,n),l=this[a(331)]();if(!this[a(346)].containsKey(o)){const x=this[a(345)](e,t,n,r,s,l);return this.tileCache[a(327)](o,x),x}let c=this[a(346)][a(376)](o);return c[a(334)]!=l&&(c=this[a(345)](e,t,n,r,s,l),this[a(346)][a(329)](o,c)),c}setRenderReprojectionEdges(e){const t=Fn;if(this[t(348)]!=e){this[t(348)]=e;for(const n in this[t(344)])this[t(344)][n][t(355)]();this[t(354)]()}}[Fn(351)](e,t){const n=Fn,r=Kt(e);if(r){const s=et(r);!(s in this[n(368)])&&(this.tileGridForProjection[s]=t)}}clear(){const e=Fn;super.clear();for(const t in this[e(344)])this[e(344)][t][e(355)]()}}function UF(i,e){const t=Fn;i[t(340)]()[t(360)]=e}const Xn=sl;function sl(i,e){const t=sg();return sl=function(n,r){return n=n-466,t[n]},sl(i,e)}(function(i,e){const t=sl,n=i();for(;;)try{if(-parseInt(t(466))/1*(parseInt(t(471))/2)+parseInt(t(468))/3*(parseInt(t(502))/4)+-parseInt(t(498))/5*(parseInt(t(483))/6)+parseInt(t(481))/7+parseInt(t(491))/8*(-parseInt(t(482))/9)+parseInt(t(484))/10*(parseInt(t(490))/11)+-parseInt(t(472))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(sg,576412);function sg(){const i=["3081904IaXsBy","171IMfFbq","1681632cRAPnl","110420ZFDbjq","changed","setProperties","Expected an `ol/style/Style` or an array of `ol/style/Style.js`","handleGeometryChange_","setGeometry","748mqXAdv","146656UqvayI","setId","getSimplifiedGeometry","removeChangeListener","isArray","getGeometryName","getGeometry","5YHCQQd","handleGeometryChanged_","addChangeListener","id_","216060xGBrLd","getZIndex","geometryName_","getStyle","1qclfgl","function","39ycVQgG","getId","style_","361542PNJiYS","6090720FXmRuf","hasProperties","geometryChangeKey_","get","set","setGeometryName","CHANGE","geometry","styleFunction_"];return sg=function(){return i},sg()}class al extends ys{constructor(e){const t=sl;if(super(),this.on,this.once,this.un,this[t(501)]=void 0,this.geometryName_=t(479),this.style_=null,this[t(480)]=void 0,this[t(474)]=null,this.addChangeListener(this[t(504)],this[t(499)]),e)if(typeof e[t(493)]===t(467)){const n=e;this[t(489)](n)}else{const n=e;this[t(486)](n)}}clone(){const e=sl,t=new al(this[e(473)]()?this.getProperties():null);t.setGeometryName(this[e(496)]());const n=this.getGeometry();n&&t[e(489)](n.clone());const r=this[e(505)]();return r&&t.setStyle(r),t}[Xn(497)](){return this[Xn(475)](this.geometryName_)}[Xn(469)](){return this[Xn(501)]}[Xn(496)](){return this[Xn(504)]}getStyle(){return this[Xn(470)]}getStyleFunction(){return this[Xn(480)]}[Xn(488)](){this.changed()}[Xn(499)](){const e=Xn;this.geometryChangeKey_&&(Jt(this[e(474)]),this[e(474)]=null);const t=this[e(497)]();t&&(this.geometryChangeKey_=mt(t,Ye[e(478)],this[e(488)],this)),this[e(485)]()}[Xn(489)](e){this[Xn(476)](this.geometryName_,e)}setStyle(e){const t=Xn;this[t(470)]=e,this.styleFunction_=e?NF(e):void 0,this.changed()}[Xn(492)](e){const t=Xn;this.id_=e,this[t(485)]()}[Xn(477)](e){const t=Xn;this[t(494)](this[t(504)],this[t(499)]),this[t(504)]=e,this[t(500)](this.geometryName_,this[t(499)]),this[t(499)]()}}function NF(i){const e=Xn;if(typeof i=="function")return i;let t;return Array[e(495)](i)?t=i:(yt(typeof i[e(503)]===e(467),e(487)),t=[i]),function(){return t}}var OF=ag;function ag(i,e){var t=og();return ag=function(n,r){n=n-398;var s=t[n];return s},ag(i,e)}(function(i,e){for(var t=ag,n=i();;)try{var r=parseInt(t(399))/1+-parseInt(t(400))/2+-parseInt(t(405))/3+-parseInt(t(401))/4+parseInt(t(406))/5*(-parseInt(t(403))/6)+-parseInt(t(404))/7+parseInt(t(402))/8;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(og,584839);const Yi={ADD:OF(398),REMOVE:"remove"};function og(){var i=["300ggBaGD","159425gOBJJa","2711808wpKZBM","53905CbgNiQ","add","629685tgaXPB","1532726vjKRqI","365652Rbdvug","18229528iQLZUX"];return og=function(){return i},og()}function cg(i,e){const t=lg();return cg=function(n,r){return n=n-460,t[n]},cg(i,e)}const Ut=cg;(function(i,e){const t=cg,n=i();for(;;)try{if(-parseInt(t(479))/1+parseInt(t(481))/2+-parseInt(t(475))/3*(parseInt(t(487))/4)+-parseInt(t(461))/5+-parseInt(t(460))/6+parseInt(t(482))/7+parseInt(t(463))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(lg,726667);const G5={LENGTH:Ut(480)};function lg(){const i=["clear","dispatchEvent","LENGTH","remove","5766652HuDLeq","extend","once","forEach","ADD","array_","splice","insertAt","238848kZLoWj","2965495rGElsi","getLength","22493768yKrykB","push","REMOVE","index","removeAt","assertUnique_","unique","Index out of bounds: ","setAt","item","unique_","updateLength_","3YUVYAV","getArray","get","pop","699592cVeDaK","length","1060992mBoBCP","1110284FoqGlK"];return lg=function(){return i},lg()}class xg extends Cr{constructor(e,t,n){const r=Ut;super(e),this.element=t,this[r(466)]=n}}class Ms extends ys{constructor(e,t){const n=Ut;if(super(),this.on,this[n(489)],this.un,t=t||{},this[n(473)]=!!t[n(469)],this[n(492)]=e||[],this[n(473)])for(let r=0,s=this[n(492)].length;r<s;++r)this.assertUnique_(this[n(492)][r],r);this[n(474)]()}[Ut(483)](){const e=Ut;for(;this[e(462)]()>0;)this.pop()}[Ut(488)](e){const t=Ut;for(let n=0,r=e[t(480)];n<r;++n)this[t(464)](e[n]);return this}[Ut(490)](e){const t=Ut,n=this[t(492)];for(let r=0,s=n[t(480)];r<s;++r)e(n[r],r,n)}[Ut(476)](){return this[Ut(492)]}[Ut(472)](e){return this[Ut(492)][e]}[Ut(462)](){const e=Ut;return this[e(477)](G5[e(485)])}[Ut(494)](e,t){const n=Ut;if(e<0||e>this[n(462)]())throw new Error(n(470)+e);this[n(473)]&&this[n(468)](t),this.array_[n(493)](e,0,t),this[n(474)](),this.dispatchEvent(new xg(Yi[n(491)],t,e))}[Ut(478)](){const e=Ut;return this[e(467)](this[e(462)]()-1)}[Ut(464)](e){const t=Ut;this[t(473)]&&this.assertUnique_(e);const n=this[t(462)]();return this.insertAt(n,e),this[t(462)]()}[Ut(486)](e){const t=Ut,n=this[t(492)];for(let r=0,s=n[t(480)];r<s;++r)if(n[r]===e)return this[t(467)](r)}removeAt(e){const t=Ut;if(e<0||e>=this[t(462)]())return;const n=this.array_[e];return this.array_[t(493)](e,1),this[t(474)](),this.dispatchEvent(new xg(Yi.REMOVE,n,e)),n}[Ut(471)](e,t){const n=Ut,r=this[n(462)]();if(e>=r){this.insertAt(e,t);return}if(e<0)throw new Error(n(470)+e);this[n(473)]&&this[n(468)](t,e);const s=this[n(492)][e];this[n(492)][e]=t,this[n(484)](new xg(Yi[n(465)],s,e)),this[n(484)](new xg(Yi[n(491)],t,e))}[Ut(474)](){const e=Ut;this.set(G5[e(485)],this.array_.length)}[Ut(468)](e,t){const n=Ut;for(let r=0,s=this.array_[n(480)];r<s;++r)if(this[n(492)][r]===e&&r!==t)throw new Error("Duplicate item added to a unique collection")}}const bn=Ch;(function(i,e){const t=Ch,n=i();for(;;)try{if(parseInt(t(457))/1+-parseInt(t(474))/2+-parseInt(t(465))/3+parseInt(t(456))/4+parseInt(t(471))/5+-parseInt(t(466))/6*(-parseInt(t(472))/7)+parseInt(t(480))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ug,721915);function ug(){const i=["toJSON","minX","rbush_","minY","2577666gFNLBl","124956qeDRZs","isEmpty","map","value","remove","762890qlewHx","49XafPTL","update","609824LYGqLA","all","insert","search","concat","maxY","6362560GAQhSs","items_","clear","forEach","load","forEach_","getAll","forEachInExtent","631236pHpbGu","634560exmTNF","getExtent","getInExtent","length"];return ug=function(){return i},ug()}function Ch(i,e){const t=ug();return Ch=function(n,r){return n=n-452,t[n]},Ch(i,e)}class z5{constructor(e){const t=Ch;this[t(463)]=new JB(e),this.items_={}}[bn(476)](e,t){const n=bn,r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this[n(463)][n(476)](r),this[n(481)][et(t)]=r}load(e,t){const n=bn,r=new Array(t.length);for(let s=0,a=t.length;s<a;s++){const o=e[s],l=t[s],c={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:l};r[s]=c,this[n(481)][et(l)]=c}this[n(463)].load(r)}[bn(470)](e){const t=bn,n=et(e),r=this.items_[n];return delete this[t(481)][n],this[t(463)][t(470)](r)!==null}[bn(473)](e,t){const n=bn,r=this[n(481)][et(t)],s=[r[n(462)],r[n(464)],r.maxX,r[n(479)]];!js(s,e)&&(this[n(470)](t),this[n(476)](e,t))}getAll(){const e=bn;return this[e(463)][e(475)]()[e(468)](function(n){return n.value})}[bn(459)](e){const t=bn,n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_[t(477)](n)[t(468)](function(s){return s[t(469)]})}[bn(483)](e){const t=bn;return this[t(453)](this[t(454)](),e)}[bn(455)](e,t){const n=bn;return this[n(453)](this[n(459)](e),t)}forEach_(e,t){const n=bn;let r;for(let s=0,a=e[n(460)];s<a;s++)if(r=t(e[s]),r)return r;return r}[bn(467)](){return Ya(this[bn(481)])}[bn(482)](){const e=bn;this[e(463)][e(482)](),this[e(481)]={}}[bn(458)](e){const t=bn,n=this[t(463)][t(461)]();return Ws(n[t(462)],n[t(464)],n.maxX,n[t(479)],e)}[bn(478)](e){const t=bn;this[t(463)][t(452)](e[t(463)][t(475)]());for(const n in e[t(481)])this.items_[n]=e.items_[n]}}function ol(i,e){const t=hg();return ol=function(n,r){return n=n-240,t[n]},ol(i,e)}const Zt=ol;(function(i,e){const t=ol,n=i();for(;;)try{if(parseInt(t(259))/1+parseInt(t(260))/2+-parseInt(t(241))/3+parseInt(t(261))/4+-parseInt(t(269))/5*(parseInt(t(265))/6)+-parseInt(t(243))/7+parseInt(t(245))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(hg,269842);function hg(){const i=["unlistenGeometriesChange_","length","1522206Kxcmle","applyTransform","2220736tqgznV","simplifiedGeometryMaxMinSquaredTolerance","558208Sipxzb","intersectsExtent","listenGeometriesChange_","changeEventsKeys_","rotate","getType","translate","getGeometriesArrayRecursive","getGeometriesArray","geometries_","changed","containsXY","GeometryCollection","computeExtent","384364CUCqkZ","1075498CUHyjn","1221076QVfEUM","scale","push","disposeInternal","12vLWwfx","simplifiedGeometryRevision","getExtent","setGeometriesArray","506665vbWpBi","map","forEach","clone","applyProperties","getRevision","getSimplifiedGeometry","CHANGE"];return hg=function(){return i},hg()}class fg extends TB{constructor(e){const t=ol;super(),this.geometries_=e,this[t(248)]=[],this[t(247)]()}unlistenGeometriesChange_(){const e=ol;this.changeEventsKeys_[e(271)](Jt),this[e(248)][e(240)]=0}[Zt(247)](){const e=Zt,t=this[e(254)];for(let n=0,r=t[e(240)];n<r;++n)this[e(248)][e(263)](mt(t[n],Ye[e(276)],this[e(255)],this))}[Zt(272)](){const e=Zt,t=new fg(Cy(this[e(254)]));return t[e(273)](this),t}closestPointXY(e,t,n,r){const s=Zt;if(r<$o(this[s(267)](),e,t))return r;const a=this[s(254)];for(let o=0,l=a[s(240)];o<l;++o)r=a[o].closestPointXY(e,t,n,r);return r}[Zt(256)](e,t){const n=Zt,r=this[n(254)];for(let s=0,a=r[n(240)];s<a;++s)if(r[s][n(256)](e,t))return!0;return!1}[Zt(258)](e){const t=Zt;pc(e);const n=this[t(254)];for(let r=0,s=n[t(240)];r<s;++r)Rw(e,n[r].getExtent());return e}getGeometries(){return Cy(this.geometries_)}[Zt(253)](){return this[Zt(254)]}[Zt(252)](){const e=Zt;let t=[];const n=this.geometries_;for(let r=0,s=n.length;r<s;++r)n[r].getType()===this[e(250)]()?t=t.concat(n[r].getGeometriesArrayRecursive()):t[e(263)](n[r]);return t}[Zt(275)](e){const t=Zt;if(this.simplifiedGeometryRevision!==this[t(274)]()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this[t(266)]=this[t(274)]()),e<0||this[t(244)]!==0&&e<this[t(244)])return this;const n=[],r=this[t(254)];let s=!1;for(let a=0,o=r[t(240)];a<o;++a){const l=r[a],c=l[t(275)](e);n[t(263)](c),c!==l&&(s=!0)}return s?new fg(n):(this[t(244)]=e,this)}getType(){return Zt(257)}[Zt(246)](e){const t=this.geometries_;for(let n=0,r=t.length;n<r;++n)if(t[n].intersectsExtent(e))return!0;return!1}isEmpty(){const e=Zt;return this[e(254)][e(240)]===0}rotate(e,t){const n=Zt,r=this.geometries_;for(let s=0,a=r[n(240)];s<a;++s)r[s][n(249)](e,t);this[n(255)]()}scale(e,t,n){const r=Zt;!n&&(n=yr(this[r(267)]()));const s=this[r(254)];for(let a=0,o=s.length;a<o;++a)s[a][r(262)](e,t,n);this.changed()}setGeometries(e){this[Zt(268)](Cy(e))}setGeometriesArray(e){const t=Zt;this[t(277)](),this[t(254)]=e,this[t(247)](),this[t(255)]()}[Zt(242)](e){const t=Zt,n=this[t(254)];for(let r=0,s=n[t(240)];r<s;++r)n[r].applyTransform(e);this[t(255)]()}translate(e,t){const n=Zt,r=this.geometries_;for(let s=0,a=r[n(240)];s<a;++s)r[s][n(251)](e,t);this[n(255)]()}[Zt(264)](){const e=Zt;this[e(277)](),super[e(264)]()}}function Cy(i){const e=Zt;return i[e(270)](t=>t[e(272)]())}(function(i,e){const t=cl,n=i();for(;;)try{if(-parseInt(t(383))/1*(parseInt(t(376))/2)+parseInt(t(377))/3+-parseInt(t(381))/4+parseInt(t(379))/5+-parseInt(t(374))/6+parseInt(t(382))/7*(-parseInt(t(380))/8)+parseInt(t(385))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(dg,275546);function Ag(i,e,t,n,r,s,a){const o=cl;let l,c;const x=(t-e)/n;if(x===1)l=e;else if(x===2)l=e,c=r;else if(x!==0){let u=i[e],h=i[e+1],f=0;const A=[0];for(let p=e+n;p<t;p+=n){const _=i[p],I=i[p+1];f+=Math.sqrt((_-u)*(_-u)+(I-h)*(I-h)),A[o(375)](f),u=_,h=I}const g=r*f,d=WQ(A,g);d<0?(c=(g-A[-d-2])/(A[-d-1]-A[-d-2]),l=e+(-d-2)*n):l=e+d*n}a=a>1?a:2,s=s||new Array(a);for(let u=0;u<a;++u)s[u]=l===void 0?NaN:c===void 0?i[l+u]:or(i[l+u],i[l+n+u],c);return s}function dg(){const i=["358848UkmXWE","17RrFrSH","slice","6107157ObyulG","2702670pVxpNT","push","53282BCLWvo","1399605sgtPhO","length","2686105ZRHiMT","8bqeERI","1808708cURmte"];return dg=function(){return i},dg()}function by(i,e,t,n,r,s){const a=cl;if(t==e)return null;let o;if(r<i[e+n-1])return s?(o=i[a(384)](e,e+n),o[n-1]=r,o):null;if(i[t-1]<r)return s?(o=i.slice(t-n,t),o[n-1]=r,o):null;if(r==i[e+n-1])return i[a(384)](e,e+n);let l=e/n,c=t/n;for(;l<c;){const f=l+c>>1;r<i[(f+1)*n-1]?c=f:l=f+1}const x=i[l*n-1];if(r==x)return i.slice((l-1)*n,(l-1)*n+n);const u=i[(l+1)*n-1],h=(r-x)/(u-x);o=[];for(let f=0;f<n-1;++f)o[a(375)](or(i[(l-1)*n+f],i[l*n+f],h));return o[a(375)](r),o}function cl(i,e){const t=dg();return cl=function(n,r){return n=n-374,t[n]},cl(i,e)}function GF(i,e,t,n,r,s,a){const o=cl;if(a)return by(i,e,t[t.length-1],n,r,s);let l;if(r<i[n-1])return s?(l=i[o(384)](0,n),l[n-1]=r,l):null;if(i[i[o(378)]-1]<r)return s?(l=i[o(384)](i[o(378)]-n),l[n-1]=r,l):null;for(let c=0,x=t.length;c<x;++c){const u=t[c];if(e!=u){if(r<i[e+n-1])return null;if(r<=i[u-1])return by(i,e,u,n,r,!1);e=u}}return null}const Ln=bh;function bh(i,e){const t=pg();return bh=function(n,r){return n=n-473,t[n]},bh(i,e)}(function(i,e){const t=bh,n=i();for(;;)try{if(-parseInt(t(504))/1+parseInt(t(480))/2*(parseInt(t(497))/3)+parseInt(t(498))/4+parseInt(t(477))/5+-parseInt(t(492))/6*(parseInt(t(491))/7)+parseInt(t(503))/8+-parseInt(t(479))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(pg,187673);function pg(){const i=["setLayout","flatCoordinates","appendCoordinate","2044352tPvSIe","265927lbhFBZ","length","getRevision","stride","getType","1758340WntMVW","maxDeltaRevision_","2275263lDdpJj","30GXTlHF","flatMidpointRevision_","slice","setCoordinates","LineString","intersectsExtent","XYZM","clone","maxDelta_","XYM","getLength","56xGGHHm","22728KyHMDf","flatMidpoint_","isArray","getCoordinateAt","getCoordinates","4989WwiKOH","418216folCgL","forEachSegment"];return pg=function(){return i},pg()}class b0 extends u0{constructor(e,t){const n=bh;super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this[n(488)]=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array[n(494)](e[0])?this.setFlatCoordinates(t,e):this[n(483)](e,t)}[Ln(502)](e){_s(this[Ln(501)],e),this.changed()}[Ln(487)](){const e=Ln,t=new b0(this[e(501)][e(482)](),this.layout);return t.applyProperties(this),t}closestPointXY(e,t,n,r){const s=Ln;return r<$o(this.getExtent(),e,t)?r:(this[s(478)]!=this[s(474)]()&&(this.maxDelta_=Math.sqrt(PE(this[s(501)],0,this[s(501)].length,this[s(475)],0)),this[s(478)]=this.getRevision()),UE(this[s(501)],0,this[s(501)][s(473)],this[s(475)],this[s(488)],!1,e,t,n,r))}[Ln(499)](e){const t=Ln;return OB(this[t(501)],0,this[t(501)][t(473)],this[t(475)],e)}getCoordinateAtM(e,t){const n=Ln;return this.layout!=n(489)&&this.layout!=n(486)?null:(t=t!==void 0?t:!1,by(this.flatCoordinates,0,this[n(501)][n(473)],this[n(475)],e,t))}[Ln(496)](){const e=Ln;return ro(this[e(501)],0,this.flatCoordinates[e(473)],this.stride)}getCoordinateAt(e,t){const n=Ln;return Ag(this[n(501)],0,this.flatCoordinates[n(473)],this.stride,e,t,this[n(475)])}[Ln(490)](){const e=Ln;return E5(this.flatCoordinates,0,this[e(501)].length,this[e(475)])}getFlatMidpoint(){const e=Ln;return this[e(481)]!=this[e(474)]()&&(this[e(493)]=this[e(495)](.5,this[e(493)]??void 0),this[e(481)]=this[e(474)]()),this[e(493)]}getSimplifiedGeometryInternal(e){const t=Ln,n=[];return n[t(473)]=u1(this[t(501)],0,this[t(501)][t(473)],this[t(475)],e,n,0),new b0(n,"XY")}[Ln(476)](){return Ln(484)}[Ln(485)](e){const t=Ln;return b1(this[t(501)],0,this[t(501)][t(473)],this[t(475)],e)}[Ln(483)](e,t){const n=Ln;this[n(500)](t,e,1),!this[n(501)]&&(this[n(501)]=[]),this.flatCoordinates.length=l1(this[n(501)],0,e,this[n(475)]),this.changed()}}const Un=ll;(function(i,e){const t=ll,n=i();for(;;)try{if(-parseInt(t(420))/1*(parseInt(t(429))/2)+-parseInt(t(428))/3*(-parseInt(t(454))/4)+parseInt(t(424))/5+parseInt(t(447))/6*(-parseInt(t(417))/7)+-parseInt(t(448))/8+-parseInt(t(451))/9+parseInt(t(423))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(gg,312700);function ll(i,e){const t=gg();return ll=function(n,r){return n=n-415,t[n]},ll(i,e)}function gg(){const i=["930MTaDDW","3881440KbXdLH","layout","flatCoordinates","3909546MTDpaH","getLayout","changed","12RcKAnh","intersectsExtent","closestPointXY","2555RSEEGk","setFlatCoordinates","getType","1cnKxWc","push","XYZM","14603910TOUIoD","547875uzuuEA","getExtent","maxDeltaRevision_","clone","270249UblWEs","1102732UldIPF","XYM","slice","getLineStrings","getRevision","isArray","getSimplifiedGeometryInternal","sqrt","applyProperties","maxDelta_","stride","setCoordinates","ends_","MultiLineString","setLayout","getFlatCoordinates","getFlatMidpoints","length"];return gg=function(){return i},gg()}class vh extends u0{constructor(e,t,n){const r=ll;if(super(),this[r(441)]=[],this[r(438)]=-1,this[r(426)]=-1,Array[r(434)](e[0]))this[r(440)](e,t);else if(t!==void 0&&n)this[r(418)](t,e),this.ends_=n;else{const s=e,a=[],o=[];for(let c=0,x=s[r(446)];c<x;++c){const u=s[c];_s(a,u[r(444)]()),o[r(421)](a[r(446)])}const l=s[r(446)]===0?this[r(452)]():s[0][r(452)]();this[r(418)](l,a),this.ends_=o}}appendLineString(e){const t=ll;_s(this[t(450)],e[t(444)]()[t(431)]()),this.ends_[t(421)](this[t(450)].length),this[t(453)]()}[Un(427)](){const e=Un,t=new vh(this.flatCoordinates[e(431)](),this[e(449)],this.ends_[e(431)]());return t[e(437)](this),t}[Un(416)](e,t,n,r){const s=Un;return r<$o(this[s(425)](),e,t)?r:(this[s(426)]!=this.getRevision()&&(this[s(438)]=Math[s(436)](kE(this[s(450)],0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this[s(433)]()),NE(this[s(450)],0,this[s(441)],this[s(439)],this[s(438)],!1,e,t,n,r))}getCoordinateAtM(e,t,n){const r=Un;return this[r(449)]!=r(430)&&this[r(449)]!=r(422)||this.flatCoordinates[r(446)]===0?null:(t=t!==void 0?t:!1,n=n!==void 0?n:!1,GF(this[r(450)],0,this[r(441)],this.stride,e,t,n))}getCoordinates(){const e=Un;return Pu(this.flatCoordinates,0,this[e(441)],this.stride)}getEnds(){return this[Un(441)]}getLineString(e){const t=Un;return e<0||this[t(441)][t(446)]<=e?null:new b0(this[t(450)][t(431)](e===0?0:this.ends_[e-1],this[t(441)][e]),this[t(449)])}[Un(432)](){const e=Un,t=this.flatCoordinates,n=this[e(441)],r=this.layout,s=[];let a=0;for(let o=0,l=n[e(446)];o<l;++o){const c=n[o],x=new b0(t.slice(a,c),r);s.push(x),a=c}return s}[Un(445)](){const e=Un,t=[],n=this[e(450)];let r=0;const s=this[e(441)],a=this[e(439)];for(let o=0,l=s[e(446)];o<l;++o){const c=s[o],x=Ag(n,r,c,a,.5);_s(t,x),r=c}return t}[Un(435)](e){const t=Un,n=[],r=[];return n[t(446)]=LB(this[t(450)],0,this.ends_,this[t(439)],e,n,0,r),new vh(n,"XY",r)}[Un(419)](){return Un(442)}[Un(415)](e){const t=Un;return k7(this[t(450)],0,this[t(441)],this.stride,e)}[Un(440)](e,t){const n=Un;this[n(443)](t,e,2),!this[n(450)]&&(this[n(450)]=[]);const r=Lu(this.flatCoordinates,0,e,this[n(439)],this[n(441)]);this.flatCoordinates[n(446)]=r[n(446)]===0?0:r[r[n(446)]-1],this.changed()}}const fr=xl;function xl(i,e){const t=mg();return xl=function(n,r){return n=n-304,t[n]},xl(i,e)}(function(i,e){const t=xl,n=i();for(;;)try{if(-parseInt(t(305))/1*(parseInt(t(324))/2)+-parseInt(t(311))/3+-parseInt(t(328))/4+-parseInt(t(304))/5+parseInt(t(317))/6*(parseInt(t(306))/7)+-parseInt(t(307))/8*(-parseInt(t(321))/9)+parseInt(t(326))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(mg,466762);function mg(){const i=["855498puAuEm","changed","isArray","getExtent","applyProperties","setLayout","23826RIiaBG","setCoordinates","length","MultiPoint","46890REHQGW","intersectsExtent","getPoints","142SJZEOy","getFlatCoordinates","19923990aDuwXp","stride","2433660uICxeV","clone","flatCoordinates","layout","861195vOyjCP","11548AoQKLd","497FRaMfs","120WlDzkb","getType","getCoordinates","slice"];return mg=function(){return i},mg()}class wh extends u0{constructor(e,t){const n=xl;super(),t&&!Array[n(313)](e[0])?this.setFlatCoordinates(t,e):this[n(318)](e,t)}appendPoint(e){const t=xl;_s(this[t(330)],e[t(325)]()),this[t(312)]()}[fr(329)](){const e=fr,t=new wh(this[e(330)].slice(),this[e(331)]);return t[e(315)](this),t}closestPointXY(e,t,n,r){const s=fr;if(r<$o(this[s(314)](),e,t))return r;const a=this[s(330)],o=this[s(327)];for(let l=0,c=a[s(319)];l<c;l+=o){const x=n0(e,t,a[l],a[l+1]);if(x<r){r=x;for(let u=0;u<o;++u)n[u]=a[l+u];n[s(319)]=o}}return r}[fr(309)](){const e=fr;return ro(this[e(330)],0,this[e(330)][e(319)],this[e(327)])}getPoint(e){const t=fr,n=this[t(330)][t(319)]/this[t(327)];return e<0||n<=e?null:new d0(this[t(330)][t(310)](e*this[t(327)],(e+1)*this[t(327)]),this[t(331)])}[fr(323)](){const e=fr,t=this.flatCoordinates,n=this.layout,r=this[e(327)],s=[];for(let a=0,o=t[e(319)];a<o;a+=r){const l=new d0(t.slice(a,a+r),n);s.push(l)}return s}[fr(308)](){return fr(320)}[fr(322)](e){const t=fr,n=this[t(330)],r=this[t(327)];for(let s=0,a=n.length;s<a;s+=r){const o=n[s],l=n[s+1];if(GI(e,o,l))return!0}return!1}setCoordinates(e,t){const n=fr;this[n(316)](t,e,1),!this[n(330)]&&(this.flatCoordinates=[]),this[n(330)][n(319)]=l1(this[n(330)],0,e,this[n(327)]),this.changed()}}function _g(i,e){const t=Ig();return _g=function(n,r){return n=n-487,t[n]},_g(i,e)}(function(i,e){const t=_g,n=i();for(;;)try{if(-parseInt(t(495))/1*(parseInt(t(498))/2)+-parseInt(t(489))/3+parseInt(t(492))/4*(-parseInt(t(487))/5)+parseInt(t(490))/6*(parseInt(t(491))/7)+parseInt(t(496))/8+parseInt(t(488))/9+parseInt(t(494))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ig,205606);function Ig(){const i=["18ApTlPm","691089IJvDly","579424LPxZff","push","2702160tCPgyl","826VLAsjS","770008SyoYTC","length","554nTjDRX","10NFcKWk","1273716HrLlyt","240156birWVG"];return Ig=function(){return i},Ig()}function V5(i,e,t,n){const r=_g,s=[];let a=Er();for(let o=0,l=t.length;o<l;++o){const c=t[o];a=VI(i,e,c[0],n),s[r(493)]((a[0]+a[2])/2,(a[1]+a[3])/2),e=c[c[r(497)]-1]}return s}const nn=Bh;(function(i,e){const t=Bh,n=i();for(;;)try{if(parseInt(t(452))/1+-parseInt(t(485))/2*(parseInt(t(451))/3)+parseInt(t(441))/4*(parseInt(t(445))/5)+-parseInt(t(482))/6+parseInt(t(481))/7*(-parseInt(t(444))/8)+-parseInt(t(470))/9+parseInt(t(479))/10*(parseInt(t(460))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Eg,349938);function Eg(){const i=["getEnds","24qCphfJ","endss_","getEndss","4956296YIJBlj","274690jDIvuG","getOrientedFlatCoordinates","containsXY","appendPolygon","getFlatCoordinates","intersectsExtent","636603kdRuEo","500664nnGMzp","XYM","orientedFlatCoordinates_","setCoordinates","getSimplifiedGeometryInternal","applyProperties","orientedRevision_","getFlatInteriorPoints","451mXyMsC","slice","closestPointXY","maxDelta_","flatInteriorPointsRevision_","flatCoordinates","getArea","layout","push","length","3547890tLlvjv","changed","getPolygons","getInteriorPoints","getLayout","maxDeltaRevision_","getType","setLayout","getCoordinates","273590mJBBdd","stride","7DwBMJT","983544oPdFAi","isArray","getRevision","4Xpwnuf","flatInteriorPoints_","sqrt","setFlatCoordinates"];return Eg=function(){return i},Eg()}function Bh(i,e){const t=Eg();return Bh=function(n,r){return n=n-438,t[n]},Bh(i,e)}class Sh extends u0{constructor(e,t,n){const r=Bh;if(super(),this[r(442)]=[],this[r(464)]=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this[r(475)]=-1,this.orientedRevision_=-1,this[r(454)]=null,!n&&!Array[r(483)](e[0])){const s=e,a=[],o=[];for(let l=0,c=s[r(469)];l<c;++l){const x=s[l],u=a[r(469)],h=x[r(440)]();for(let f=0,A=h.length;f<A;++f)h[f]+=u;_s(a,x[r(449)]()),o[r(468)](h)}t=s[r(469)]===0?this[r(474)]():s[0][r(474)](),e=a,n=o}t!==void 0&&n?(this[r(439)](t,e),this[r(442)]=n):this[r(455)](e,t)}[nn(448)](e){const t=nn;let n;if(!this[t(465)])this.flatCoordinates=e[t(449)]()[t(461)](),n=e[t(440)]()[t(461)](),this.endss_.push();else{const r=this.flatCoordinates[t(469)];_s(this[t(465)],e[t(449)]()),n=e.getEnds().slice();for(let s=0,a=n[t(469)];s<a;++s)n[s]+=r}this[t(442)].push(n),this[t(471)]()}clone(){const e=nn,t=this[e(442)].length,n=new Array(t);for(let s=0;s<t;++s)n[s]=this[e(442)][s][e(461)]();const r=new Sh(this.flatCoordinates[e(461)](),this[e(467)],n);return r[e(457)](this),r}[nn(462)](e,t,n,r){const s=nn;return r<$o(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this[s(463)]=Math[s(438)](M7(this[s(465)],0,this[s(442)],this[s(480)],0)),this[s(475)]=this[s(484)]()),R7(this[s(446)](),0,this[s(442)],this[s(480)],this[s(463)],!0,e,t,n,r))}[nn(447)](e,t){const n=nn;return P7(this.getOrientedFlatCoordinates(),0,this[n(442)],this[n(480)],e,t)}[nn(466)](){const e=nn;return F7(this.getOrientedFlatCoordinates(),0,this[e(442)],this[e(480)])}[nn(478)](e){const t=nn;let n;return e!==void 0?(n=this[t(446)]().slice(),YE(n,0,this[t(442)],this[t(480)],e)):n=this.flatCoordinates,GE(n,0,this[t(442)],this[t(480)])}[nn(443)](){return this[nn(442)]}getFlatInteriorPoints(){const e=nn;if(this[e(464)]!=this[e(484)]()){const t=V5(this[e(465)],0,this.endss_,this.stride);this[e(486)]=NB(this[e(446)](),0,this[e(442)],this[e(480)],t),this[e(464)]=this.getRevision()}return this[e(486)]}[nn(473)](){const e=nn;return new wh(this[e(459)]()[e(461)](),e(453))}[nn(446)](){const e=nn;if(this.orientedRevision_!=this[e(484)]()){const t=this[e(465)];VB(t,0,this[e(442)],this.stride)?this.orientedFlatCoordinates_=t:(this[e(454)]=t[e(461)](),this[e(454)].length=YE(this[e(454)],0,this.endss_,this[e(480)])),this[e(458)]=this[e(484)]()}return this.orientedFlatCoordinates_}[nn(456)](e){const t=nn,n=[],r=[];return n.length=Q7(this.flatCoordinates,0,this[t(442)],this[t(480)],Math[t(438)](e),n,0,r),new Sh(n,"XY",r)}getPolygon(e){const t=nn;if(e<0||this[t(442)][t(469)]<=e)return null;let n;if(e===0)n=0;else{const a=this[t(442)][e-1];n=a[a.length-1]}const r=this[t(442)][e][t(461)](),s=r[r[t(469)]-1];if(n!==0)for(let a=0,o=r[t(469)];a<o;++a)r[a]-=n;return new Uc(this[t(465)][t(461)](n,s),this[t(467)],r)}[nn(472)](){const e=nn,t=this[e(467)],n=this.flatCoordinates,r=this.endss_,s=[];let a=0;for(let o=0,l=r[e(469)];o<l;++o){const c=r[o][e(461)](),x=c[c[e(469)]-1];if(a!==0)for(let h=0,f=c[e(469)];h<f;++h)c[h]-=a;const u=new Uc(n[e(461)](a,x),t,c);s[e(468)](u),a=x}return s}[nn(476)](){return"MultiPolygon"}[nn(450)](e){const t=nn;return U7(this[t(446)](),0,this[t(442)],this[t(480)],e)}setCoordinates(e,t){const n=nn;this[n(477)](t,e,3),!this.flatCoordinates&&(this.flatCoordinates=[]);const r=FB(this[n(465)],0,e,this[n(480)],this[n(442)]);if(r.length===0)this[n(465)][n(469)]=0;else{const s=r[r[n(469)]-1];this.flatCoordinates[n(469)]=s[n(469)]===0?0:s[s.length-1]}this[n(471)]()}}const Ct=Mh;(function(i,e){const t=Mh,n=i();for(;;)try{if(-parseInt(t(202))/1*(parseInt(t(189))/2)+parseInt(t(194))/3*(-parseInt(t(176))/4)+parseInt(t(205))/5*(parseInt(t(164))/6)+-parseInt(t(174))/7*(-parseInt(t(166))/8)+-parseInt(t(186))/9*(parseInt(t(173))/10)+-parseInt(t(204))/11+parseInt(t(199))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(yg,542899);function yg(){const i=["2010824oLzRpl","applyTransform","setId","getFlatInteriorPoint","getStyleFunction","type_","getWorldExtent","10OXOBBm","7EaTWGV","Invalid geometry type:","374708SkrCuc","getFlatCoordinates","getExtent","getId","slice","MultiPoint","transform","length","properties_","flatCoordinates_","2397051lJErlE","enableSimplifyTransformed","id_","546waZeKB","extent_","Polygon","stride_","MultiLineString","12Iyajin","clone","ends_","LineString","getGeometry","15312720RRhXVT","getProperties","get","1383ZTquIu","getStride","8564556LovdoU","40vrkIZh","simplifiedGeometry_","getEnds","getSimplifiedGeometry","squaredTolerance_","styleFunction","flatMidpoints_","flatInteriorPoints_","Point","getType","simplifyTransformed","prototype","getFlatMidpoint","609516TqfMKW","getPropertiesInternal"];return yg=function(){return i},yg()}function Mh(i,e){const t=yg();return Mh=function(n,r){return n=n-156,t[n]},Mh(i,e)}const H5=Oi();class Ei{constructor(e,t,n,r,s,a){const o=Mh;this[o(156)],this[o(190)],this[o(188)]=a,this[o(171)]=e,this[o(185)]=t,this.flatInteriorPoints_=null,this[o(157)]=null,this[o(196)]=n||null,this.properties_=s,this.squaredTolerance_,this.stride_=r,this[o(206)]}[Ct(201)](e){return this.properties_[e]}getExtent(){const e=Ct;return!this[e(190)]&&(this[e(190)]=this[e(171)]===e(159)?Mw(this[e(185)]):VI(this.flatCoordinates_,0,this[e(185)].length,2)),this[e(190)]}[Ct(169)](){const e=Ct;if(!this[e(158)]){const t=yr(this[e(178)]());this[e(158)]=VE(this[e(185)],0,this.ends_,2,t,0)}return this[e(158)]}getFlatInteriorPoints(){const e=Ct;if(!this[e(158)]){const t=HB(this[e(185)],this[e(196)]),n=V5(this.flatCoordinates_,0,t,2);this[e(158)]=NB(this.flatCoordinates_,0,t,2,n)}return this[e(158)]}[Ct(163)](){const e=Ct;return!this[e(157)]&&(this.flatMidpoints_=Ag(this[e(185)],0,this.flatCoordinates_.length,2,.5)),this[e(157)]}getFlatMidpoints(){const e=Ct;if(!this[e(157)]){this[e(157)]=[];const t=this[e(185)];let n=0;const r=this.ends_;for(let s=0,a=r[e(183)];s<a;++s){const o=r[s],l=Ag(t,n,o,2,.5);_s(this[e(157)],l),n=o}}return this[e(157)]}[Ct(179)](){return this[Ct(188)]}getOrientedFlatCoordinates(){return this.flatCoordinates_}[Ct(198)](){return this}[Ct(208)](e){return this}[Ct(161)](e,t){return this}getProperties(){return this[Ct(184)]}[Ct(165)](){return this.properties_}[Ct(203)](){return this[Ct(192)]}[Ct(170)](){return this[Ct(156)]}[Ct(160)](){return this[Ct(171)]}[Ct(182)](e){const t=Ct;e=Kt(e);const n=e.getExtent(),r=e[t(172)]();if(n&&r){const s=wn(r)/wn(n);vs(H5,r[0],r[3],s,-s,0,0,0),to(this.flatCoordinates_,0,this[t(185)].length,2,H5,this.flatCoordinates_)}}[Ct(167)](e){const t=Ct;e(this[t(185)],this[t(185)],this[t(192)])}[Ct(195)](){var t;const e=Ct;return new Ei(this[e(171)],this[e(185)][e(180)](),(t=this[e(196)])==null?void 0:t[e(180)](),this[e(192)],Object.assign({},this[e(184)]),this.id_)}[Ct(207)](){return this[Ct(196)]}[Ct(187)](){const e=Ct;return this[e(161)]=tB((t,n)=>{const r=e;if(t===this[r(209)])return this.simplifiedGeometry_;this[r(206)]=this[r(195)](),n&&this.simplifiedGeometry_[r(167)](n);const s=this[r(206)][r(177)]();let a;switch(this[r(171)]){case r(197):s[r(183)]=u1(s,0,this[r(206)].flatCoordinates_[r(183)],this.simplifiedGeometry_[r(192)],t,s,0),a=[s[r(183)]];break;case r(193):a=[],s[r(183)]=LB(s,0,this[r(206)][r(196)],this[r(206)][r(192)],t,s,0,a);break;case r(191):a=[],s[r(183)]=OE(s,0,this[r(206)][r(196)],this[r(206)][r(192)],Math.sqrt(t),s,0,a);break}return a&&(this[r(206)]=new Ei(this.type_,s,a,2,this[r(184)],this[r(188)])),this[r(209)]=t,this[r(206)]}),this}}Ei[Ct(162)][Ct(177)]=Ei[Ct(162)].getOrientedFlatCoordinates;function Cg(i,e){var t=bg();return Cg=function(n,r){n=n-129;var s=t[n];return s},Cg(i,e)}var ul=Cg;(function(i,e){for(var t=Cg,n=i();;)try{var r=parseInt(t(146))/1*(parseInt(t(137))/2)+-parseInt(t(130))/3*(parseInt(t(141))/4)+-parseInt(t(133))/5+-parseInt(t(139))/6*(parseInt(t(145))/7)+parseInt(t(131))/8*(parseInt(t(143))/9)+-parseInt(t(140))/10*(parseInt(t(142))/11)+parseInt(t(144))/12;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(bg,844890);function bg(){var i=["addfeature","changefeature","38AFQfUL","removefeature","66eZHdic","6550pqnlDu","948EZTOWR","17039BxZoHd","10965879efFGOM","24056964wmSmzE","374038XsImTs","23041TVcfdd","featuresloaderror","1866jEyXEX","8iAIqLs","featuresloadstart","5331420moMAty","featuresloadend"];return bg=function(){return i},bg()}const Sr={ADDFEATURE:ul(135),CHANGEFEATURE:ul(136),CLEAR:"clear",REMOVEFEATURE:ul(138),FEATURESLOADSTART:ul(132),FEATURESLOADEND:ul(134),FEATURESLOADERROR:ul(129)};(function(i,e){const t=vy,n=i();for(;;)try{if(-parseInt(t(502))/1+parseInt(t(505))/2*(-parseInt(t(507))/3)+-parseInt(t(496))/4+parseInt(t(504))/5*(parseInt(t(512))/6)+parseInt(t(500))/7*(parseInt(t(506))/8)+-parseInt(t(509))/9+-parseInt(t(498))/10*(-parseInt(t(511))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(vg,162335);function vy(i,e){const t=vg();return vy=function(n,r){return n=n-496,t[n]},vy(i,e)}function vg(){const i=["maxX","145180zXhQDF","minY","1515JIXeeB","4436IQcSZc","344sZDJRq","108yOdQCx","push","1423674gcwTbr","maxY","341iNSfPL","912DofUKM","944220CwpDAS","getZForResolution","138970wYzild","getTileRangeForExtentAndZ","49609XqWoWq"];return vg=function(){return i},vg()}function zF(i,e){return[[-1/0,-1/0,1/0,1/0]]}function VF(i,e){return[i]}function Rh(i,e){const t=wg();return Rh=function(n,r){return n=n-371,t[n]},Rh(i,e)}(function(i,e){const t=Rh,n=i();for(;;)try{if(parseInt(t(375))/1+-parseInt(t(372))/2+-parseInt(t(382))/3*(parseInt(t(390))/4)+-parseInt(t(396))/5+parseInt(t(391))/6*(parseInt(t(371))/7)+parseInt(t(386))/8*(-parseInt(t(385))/9)+-parseInt(t(395))/10*(-parseInt(t(377))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(wg,919357);let HF=!1;function q5(i,e,t,n,r,s,a){const o=Rh,l=new XMLHttpRequest;l[o(388)](o(374),typeof i=="function"?i(t,n,r):i,!0),e[o(381)]()=="arraybuffer"&&(l[o(376)]="arraybuffer"),l.withCredentials=HF,l[o(389)]=function(c){const x=o;if(!l[x(384)]||l[x(384)]>=200&&l[x(384)]<300){const u=e[x(381)]();try{let h;u==x(373)||u==x(387)?h=l[x(380)]:u==x(397)?h=l[x(393)]||l[x(380)]:u==x(378)&&(h=l.response),h?s(e[x(392)](h,{extent:t,featureProjection:r}),e[x(394)](h)):a()}catch{a()}}else a()},l.onerror=a,l[o(383)]()}function wg(){const i=["GET","103119VTlKNi","responseType","110aShmuN","arraybuffer","addFeatures","responseText","getType","3JiXyNn","send","status","1476135YAuhwB","16gezyTL","json","open","onload","1275368HgMcqQ","168aiVRzS","readFeatures","responseXML","readProjection","3444970KEZLmk","8504915rKkzMc","xml","47222ZvzyEH","939530PTXxzp","text"];return wg=function(){return i},wg()}function Y5(i,e){return function(t,n,r,s,a){const o=this;q5(i,e,t,n,r,function(l,c){o[Rh(379)](l),s!==void 0&&s(l)},a||Ec)}}const Ve=Ao;(function(i,e){const t=Ao,n=i();for(;;)try{if(-parseInt(t(315))/1*(parseInt(t(368))/2)+-parseInt(t(395))/3*(-parseInt(t(372))/4)+-parseInt(t(351))/5*(parseInt(t(356))/6)+-parseInt(t(394))/7*(-parseInt(t(366))/8)+parseInt(t(400))/9+parseInt(t(343))/10+-parseInt(t(382))/11*(parseInt(t(331))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Bg,111372);function Ao(i,e){const t=Bg();return Ao=function(n,r){return n=n-310,t[n]},Ao(i,e)}function Bg(){const i=["featuresRtree_","forEachFeatureIntersectingExtent","REMOVE","CHANGE","uidIndex_","16MurIiI","PROPERTYCHANGE","REMOVEFEATURE","getInExtent","attributions","getFeaturesAtCoordinate","isEmpty","forEachFeatureInExtent","hasListener","hasFeature","refresh","getArray","addToIndex_","remove","slice","closestPointXY","110652zaKDBy","ADDFEATURE","format_","getFeaturesInExtent","CLEAR","featuresCollection_","clear","intersectsExtent","sqrt","forEachFeature","forEach","loader","982670ZhpcKg","getClosestFeatureToCoordinate","featureChangeKeys_","addFeatureInternal","overlaps","loader_","call","removeFromIdIndex_","575XVNwbj","element","feature","forEachFeatureAtCoordinateDirect","removeFeature","8616OBwZSX","getUrl","loadFeatures","isArray","once","toString","map","getFeatures","length","addFeaturesInternal","136jbeUDK","changed","324irAIEC","overlaps_","splice","idIndex_","673548ErfSij","`format` must be set when `url` is set","bindFeaturesCollection_","addEventListener","strategy","getGeometry","intersectsCoordinate","setupChangeEvents_","addFeature","setLoader","407kCiRno","strategy_","removeFeatures","getFeatureById","ready","useSpatialIndex","getId","getExtent","removeLoadedExtent","load","nullGeometryFeatures_","values","68789bdyeju","3RJZfKC","features","update","loadedExtentsRtree_","forEachInExtent","1679112NiVCVR","removeFeatureInternal","loadingExtentsCount_","concat","target","wrapX","dispatchEvent","push","getFormat","handleFeatureChange_","url_","setUrl","FEATURESLOADERROR","insert"];return Bg=function(){return i},Bg()}class po extends Cr{constructor(e,t,n){const r=Ao;super(e),this[r(353)]=t,this[r(396)]=n}}class hl extends Dc{constructor(e){const t=Ao;e=e||{},super({attributions:e[t(319)],interpolate:!0,projection:void 0,state:t(386),wrapX:e.wrapX!==void 0?e[t(405)]:!0}),this.on,this[t(360)],this.un,this.loader_=Ec,this.format_=e.format||null,this[t(369)]=e[t(347)]===void 0?!0:e[t(347)],this.url_=e.url,e[t(342)]!==void 0?this.loader_=e[t(342)]:this.url_!==void 0&&(yt(this[t(333)],t(373)),this[t(348)]=Y5(this[t(410)],this[t(333)])),this[t(383)]=e[t(376)]!==void 0?e[t(376)]:zF;const n=e[t(387)]!==void 0?e.useSpatialIndex:!0;this[t(310)]=n?new z5:null,this[t(398)]=new z5,this[t(402)]=0,this[t(392)]={},this.idIndex_={},this[t(314)]={},this[t(345)]={},this[t(336)]=null;let r,s;Array[t(359)](e[t(396)])?s=e[t(396)]:e.features&&(r=e[t(396)],s=r[t(326)]()),!n&&r===void 0&&(r=new Ms(s)),s!==void 0&&this.addFeaturesInternal(s),r!==void 0&&this[t(374)](r)}addFeature(e){const t=Ao;this[t(346)](e),this[t(367)]()}[Ve(346)](e){const t=Ve,n=et(e);if(!this[t(327)](n,e)){this[t(336)]&&this[t(336)][t(328)](e);return}this[t(379)](n,e);const r=e[t(377)]();if(r){const s=r[t(389)]();this[t(310)]&&this[t(310)][t(413)](s,e)}else this[t(392)][n]=e;this[t(406)](new po(Sr[t(332)],e))}setupChangeEvents_(e,t){const n=Ve;t instanceof Ei||(this[n(345)][e]=[mt(t,Ye[n(313)],this[n(409)],this),mt(t,bc[n(316)],this.handleFeatureChange_,this)])}[Ve(327)](e,t){const n=Ve;let r=!0;if(t[n(388)]()!==void 0){const s=String(t[n(388)]());if(!(s in this[n(371)]))this[n(371)][s]=t;else if(t instanceof Ei){const a=this.idIndex_[s];a instanceof Ei?Array[n(359)](a)?a[n(407)](t):this[n(371)][s]=[a,t]:r=!1}else r=!1}return r&&(yt(!(e in this[n(314)]),"The passed `feature` was already added to the source"),this[n(314)][e]=t),r}addFeatures(e){this[Ve(365)](e),this.changed()}[Ve(365)](e){const t=Ve,n=[],r=[],s=[];for(let a=0,o=e[t(364)];a<o;a++){const l=e[a],c=et(l);this[t(327)](c,l)&&r[t(407)](l)}for(let a=0,o=r.length;a<o;a++){const l=r[a],c=et(l);this[t(379)](c,l);const x=l[t(377)]();if(x){const u=x.getExtent();n[t(407)](u),s.push(l)}else this[t(392)][c]=l}if(this[t(310)]&&this.featuresRtree_[t(391)](n,s),this[t(323)](Sr[t(332)]))for(let a=0,o=r[t(364)];a<o;a++)this[t(406)](new po(Sr[t(332)],r[a]))}[Ve(374)](e){const t=Ve;let n=!1;this.addEventListener(Sr[t(332)],function(r){!n&&(n=!0,e.push(r.feature),n=!1)}),this[t(375)](Sr[t(317)],function(r){const s=t;!n&&(n=!0,e[s(328)](r[s(353)]),n=!1)}),e.addEventListener(Yi.ADD,r=>{const s=t;!n&&(n=!0,this[s(380)](r[s(352)]),n=!1)}),e.addEventListener(Yi[t(312)],r=>{const s=t;!n&&(n=!0,this[s(355)](r[s(352)]),n=!1)}),this.featuresCollection_=e}[Ve(337)](e){const t=Ve;if(e){for(const r in this[t(345)])this[t(345)][r][t(341)](Jt);!this.featuresCollection_&&(this[t(345)]={},this.idIndex_={},this[t(314)]={})}else if(this[t(310)]){const r=s=>{this.removeFeatureInternal(s)};this[t(310)][t(341)](r);for(const s in this[t(392)])this[t(401)](this[t(392)][s])}this[t(336)]&&this[t(336)][t(337)](),this[t(310)]&&this.featuresRtree_[t(337)](),this[t(392)]={};const n=new po(Sr[t(335)]);this[t(406)](n),this.changed()}[Ve(340)](e){const t=Ve;if(this[t(310)])return this[t(310)].forEach(e);this[t(336)]&&this[t(336)][t(341)](e)}forEachFeatureAtCoordinateDirect(e,t){const n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,function(r){const s=Ao,a=r.getGeometry();if(a instanceof Ei||a[s(378)](e))return t(r)})}[Ve(322)](e,t){const n=Ve;if(this.featuresRtree_)return this[n(310)][n(399)](e,t);this[n(336)]&&this[n(336)][n(341)](t)}[Ve(311)](e,t){const n=Ve;return this[n(322)](e,function(r){const s=n,a=r[s(377)]();if(a instanceof Ei||a[s(338)](e)){const o=t(r);if(o)return o}})}getFeaturesCollection(){return this[Ve(336)]}[Ve(363)](){const e=Ve;let t;return this[e(336)]?t=this[e(336)][e(326)]()[e(329)](0):this[e(310)]&&(t=this.featuresRtree_.getAll(),!Ya(this[e(392)])&&_s(t,Object[e(393)](this.nullGeometryFeatures_))),t}[Ve(320)](e){const t=Ve,n=[];return this[t(354)](e,function(r){n[t(407)](r)}),n}[Ve(334)](e,t){const n=Ve;if(this[n(310)]){if(!(t&&t.canWrapX()&&this.getWrapX()))return this[n(310)][n(318)](e);const s=HI(e,t);return[][n(403)](...s[n(362)](a=>this[n(310)].getInExtent(a)))}return this[n(336)]?this.featuresCollection_.getArray()[n(329)](0):[]}[Ve(344)](e,t){const n=Ve,r=e[0],s=e[1];let a=null;const o=[NaN,NaN];let l=1/0;const c=[-1/0,-1/0,1/0,1/0];return t=t||fu,this[n(310)][n(399)](c,function(x){const u=n;if(t(x)){const h=x[u(377)](),f=l;if(l=h instanceof Ei?0:h[u(330)](r,s,o,l),l<f){a=x;const A=Math[u(339)](l);c[0]=r-A,c[1]=s-A,c[2]=r+A,c[3]=s+A}}}),a}getExtent(e){return this[Ve(310)].getExtent(e)}[Ve(385)](e){const t=Ve,n=this.idIndex_[e[t(361)]()];return n!==void 0?n:null}getFeatureByUid(e){const t=Ve,n=this[t(314)][e];return n!==void 0?n:null}[Ve(408)](){return this[Ve(333)]}getOverlaps(){return this.overlaps_}[Ve(357)](){return this[Ve(410)]}[Ve(409)](e){const t=Ve,n=e[t(404)],r=et(n),s=n[t(377)]();if(!s)!(r in this[t(392)])&&(this[t(310)]&&this[t(310)].remove(n),this[t(392)][r]=n);else{const o=s.getExtent();r in this[t(392)]?(delete this.nullGeometryFeatures_[r],this[t(310)]&&this[t(310)].insert(o,n)):this[t(310)]&&this[t(310)][t(397)](o,n)}const a=n[t(388)]();if(a!==void 0){const o=a[t(361)]();this[t(371)][o]!==n&&(this[t(350)](n),this.idIndex_[o]=n)}else this[t(350)](n),this.uidIndex_[r]=n;this[t(367)](),this[t(406)](new po(Sr.CHANGEFEATURE,n))}[Ve(324)](e){const t=Ve,n=e[t(388)]();return n!==void 0?n in this[t(371)]:et(e)in this[t(314)]}[Ve(321)](){const e=Ve;return this[e(310)]?this[e(310)][e(321)]()&&Ya(this[e(392)]):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}[Ve(358)](e,t,n){const r=Ve,s=this.loadedExtentsRtree_,a=this.strategy_(e,t,n);for(let o=0,l=a[r(364)];o<l;++o){const c=a[o];!s[r(399)](c,function(u){return Vr(u.extent,c)})&&(++this.loadingExtentsCount_,this[r(406)](new po(Sr.FEATURESLOADSTART)),this[r(348)][r(349)](this,c,t,n,u=>{const h=r;--this[h(402)],this[h(406)](new po(Sr.FEATURESLOADEND,void 0,u))},()=>{const u=r;--this[u(402)],this[u(406)](new po(Sr[u(412)]))}),s.insert(c,{extent:c[r(329)]()}))}this.loading=this[r(348)][r(364)]<4?!1:this[r(402)]>0}[Ve(325)](){const e=Ve;this.clear(!0),this[e(398)].clear(),super.refresh()}[Ve(390)](e){const t=Ve,n=this[t(398)];let r;n[t(399)](e,function(s){if(js(s.extent,e))return r=s,!0}),r&&n[t(328)](r)}[Ve(384)](e){const t=Ve;let n=!1;for(let r=0,s=e[t(364)];r<s;++r)n=this[t(401)](e[r])||n;n&&this[t(367)]()}[Ve(355)](e){const t=Ve;if(!e)return;this[t(401)](e)&&this[t(367)]()}removeFeatureInternal(e){const t=Ve,n=et(e);if(!(n in this[t(314)]))return!1;n in this[t(392)]?delete this[t(392)][n]:this[t(310)]&&this.featuresRtree_[t(328)](e);const r=this[t(345)][n];r==null||r[t(341)](Jt),delete this[t(345)][n];const s=e[t(388)]();if(s!==void 0){const a=s.toString(),o=this.idIndex_[a];o===e?delete this[t(371)][a]:Array.isArray(o)&&(o[t(370)](o.indexOf(e),1),o[t(364)]===1&&(this[t(371)][a]=o[0]))}return delete this.uidIndex_[n],this.hasListener(Sr[t(317)])&&this[t(406)](new po(Sr[t(317)],e)),!0}removeFromIdIndex_(e){const t=Ve;for(const n in this[t(371)])if(this[t(371)][n]===e){delete this.idIndex_[n];break}}[Ve(381)](e){const t=Ve;this[t(348)]=e}[Ve(411)](e){const t=Ve;yt(this[t(333)],t(373)),this[t(410)]=e,this[t(381)](Y5(e,this[t(333)]))}}function Sg(){const i=["disposeInternal","interpolate","1783653EnFGKS","2XpIMBS","disposed","height","getSize","IDLE","changed","1463435aZFFOS","width","LOADING","error_","data_","587869wnjAQi","size_","drawImage","1579160IflEQa","tileCoord","LOADED","getImageData","load","abort","436324avWvyX","state","data","3013024lfvTRJ","size","1327056CeULMi","ERROR","loader_","36kjWvhd","controller_","canvas"];return Sg=function(){return i},Sg()}const $r=Mg;(function(i,e){const t=Mg,n=i();for(;;)try{if(-parseInt(t(338))/1+parseInt(t(327))/2*(parseInt(t(326))/3)+parseInt(t(316))/4+parseInt(t(333))/5+parseInt(t(318))/6+-parseInt(t(313))/7+-parseInt(t(307))/8*(parseInt(t(321))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Sg,421889);function Mg(i,e){const t=Sg();return Mg=function(n,r){return n=n-305,t[n]},Mg(i,e)}function Rg(i){return i instanceof Image||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageBitmap?i:null}function qF(i){return i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Float32Array||i instanceof DataView?i:null}const YF=new Error($r(328));let fl=null;function XF(i){const e=$r;!fl&&(fl=fn(i[e(334)],i[e(329)],void 0,{willReadFrequently:!0}));const t=fl[e(323)],n=i[e(334)];t.width!==n&&(t[e(334)]=n);const r=i[e(329)];return t[e(329)]!==r&&(t[e(329)]=r),fl.clearRect(0,0,n,r),fl[e(306)](i,0,0),fl[e(310)](0,0,n,r)[e(315)]}const WF=[256,256];class wy extends Ah{constructor(e){const t=$r,n=de[t(331)];super(e[t(308)],n,{transition:e.transition,interpolate:e[t(325)]}),this[t(320)]=e.loader,this[t(337)]=null,this[t(336)]=null,this[t(305)]=e[t(317)]||null,this.controller_=e.controller||null}[$r(330)](){const e=$r;if(this.size_)return this[e(305)];const t=Rg(this[e(337)]);return t?[t[e(334)],t[e(329)]]:WF}getData(){return this[$r(337)]}getError(){return this[$r(336)]}[$r(311)](){const e=$r;if(this[e(314)]!==de[e(331)]&&this.state!==de[e(319)])return;this[e(314)]=de[e(335)],this[e(332)]();const t=this;this[e(320)]().then(function(n){const r=e;t.data_=n,t[r(314)]=de[r(309)],t[r(332)]()}).catch(function(n){const r=e;t[r(336)]=n,t.state=de[r(319)],t[r(332)]()})}[$r(324)](){const e=$r;this[e(322)]&&(this[e(322)][e(312)](YF),this[e(322)]=null),super[e(324)]()}}const ua=Th;(function(i,e){const t=Th,n=i();for(;;)try{if(parseInt(t(172))/1+parseInt(t(195))/2+-parseInt(t(168))/3*(-parseInt(t(202))/4)+parseInt(t(201))/5*(parseInt(t(164))/6)+-parseInt(t(210))/7+-parseInt(t(148))/8+-parseInt(t(161))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Tg,475877);function Th(i,e){const t=Tg();return Th=function(n,r){return n=n-135,t[n]},Th(i,e)}function Tg(){const i=["forEach","wrappedTileCoord_","wrappedTileCoord","getTileFunction","sourceTiles_","8094195AUZDSQ","sourceTileGrid","width","7710zHlmKt","offset","sourcesListenerKeys_","push","850305nMilDo","reproject_","getTileCoordExtent","canvas","721865wkjJWj","minY","getTileSize","LOADED","round","tileCoord","IDLE","getResolution","changed","getExtent","LOADING","sourceProj","number","tile","reprojData_","load","getImageData","state","extent","getTriangles","getState","clipExtent_","errorThreshold","816416AKhZcr","pixelRatio","height","interpolate","getSize","reprojSize_","395LwNXIL","4tFjcOQ","dataType","ceil","transition","sourceZ_","slice","bytesPerPixel","getTileRangeForExtentAndZ","353017hmckKX","BYTES_PER_ELEMENT","data","reprojError_","targetTileGrid_","EMPTY","pixelRatio_","putImageData","buffer","sourceTileGrid_","getData","targetTileGrid","floor","pixelSize","createImageData","resolve","calculateSourceExtent","length","image","714880EtTbix","canWrapX","getError","gutter_","triangulation_","getContext","minX","bind"];return Tg=function(){return i},Tg()}class jF extends wy{constructor(e){const t=Th;super({tileCoord:e[t(177)],loader:()=>Promise[t(144)](new Uint8ClampedArray(4)),interpolate:e[t(198)],transition:e[t(205)]}),this[t(135)]=e[t(196)],this.gutter_=e.gutter,this[t(186)]=null,this[t(213)]=null,this[t(200)]=void 0,this.sourceTileGrid_=e[t(162)],this.targetTileGrid_=e[t(140)],this[t(157)]=e[t(158)]||e[t(177)],this[t(160)]=[],this.sourcesListenerKeys_=null,this[t(206)]=0;const n=e[t(183)],r=n.getExtent(),s=e[t(162)][t(181)]();this[t(193)]=n.canWrapX()?s?Mi(r,s):r:s;const a=this.targetTileGrid_[t(170)](this[t(157)]),o=this[t(214)][t(181)]();let l=this.sourceTileGrid_.getExtent();const c=o?Mi(a,o):a;if(iu(c)===0){this.state=de[t(215)];return}r&&(l?l=Mi(l,r):l=r);const x=this[t(214)].getResolution(this[t(157)][0]),u=e.targetProj,h=AB(n,u,c,x);if(!isFinite(h)||h<=0){this[t(189)]=de[t(215)];return}const f=e[t(194)]!==void 0?e[t(194)]:pE;if(this[t(152)]=new gE(n,u,c,l,h*f,x),this[t(152)][t(191)]()[t(146)]===0){this[t(189)]=de[t(215)];return}this[t(206)]=this[t(138)].getZForResolution(h);let A=this.triangulation_[t(145)]();if(l&&(n[t(149)]()?(A[1]=Sn(A[1],l[1],l[3]),A[3]=Sn(A[3],l[1],l[3])):A=Mi(A,l)),!iu(A))this[t(189)]=de[t(215)];else{let g=0,d=0;n[t(149)]()&&(g=ht(r),d=Math.floor((A[0]-r[0])/g)),HI(A[t(207)](),n,!0)[t(156)](_=>{const I=t,m=this[I(138)][I(209)](_,this.sourceZ_),y=e[I(159)];for(let E=m[I(154)];E<=m.maxX;E++)for(let C=m[I(173)];C<=m.maxY;C++){const v=y(this.sourceZ_,E,C,this.pixelRatio_);if(v){const b=d*g;this[I(160)][I(167)]({tile:v,offset:b})}}++d}),this[t(160)].length===0&&(this[t(189)]=de[t(215)])}}getSize(){return this.reprojSize_}[ua(139)](){return this[ua(186)]}[ua(150)](){return this[ua(213)]}[ua(169)](){const e=ua,t=[];let n=!1;if(this[e(160)][e(156)](g=>{var V;const d=e,p=g[d(185)];if(!p||p.getState()!==de[d(175)])return;const _=p[d(199)](),I=this[d(151)];let m;const y=qF(p[d(139)]());y?m=y:(n=!0,m=XF(Rg(p[d(139)]())));const E=[_[0]+2*I,_[1]+2*I],C=m instanceof Float32Array,v=E[0]*E[1],b=C?Float32Array:Uint8ClampedArray,w=new b(m[d(137)]),B=b[d(211)],R=B*w[d(146)]/v,Q=w.byteLength/E[1],F=Math[d(141)](Q/B/E[0]),M=v*F;let T=w;if(w[d(146)]!==M){T=new b(M);let Y=0,U=0;const te=E[0]*F;for(let xe=0;xe<E[1];++xe){for(let G=0;G<te;++G)T[Y++]=w[U+G];U+=Q/B}}const P=this.sourceTileGrid_[d(170)](p[d(177)]);P[0]+=g[d(165)],P[2]+=g[d(165)];const k=(V=this[d(193)])==null?void 0:V.slice();k&&(k[0]+=g[d(165)],k[2]+=g.offset),t.push({extent:P,clipExtent:k,data:new Uint8ClampedArray(T.buffer),dataType:b,bytesPerPixel:R,pixelSize:E})}),this[e(160)][e(146)]=0,t.length===0){this[e(189)]=de.ERROR,this[e(180)]();return}const r=this[e(157)][0],s=this[e(214)][e(174)](r),a=typeof s=="number"?s:s[0],o=typeof s===e(184)?s:s[1],l=this.targetTileGrid_[e(179)](r),c=this.sourceTileGrid_.getResolution(this[e(206)]),x=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);let u,h;const f=t[0][e(208)],A=Math[e(204)](f/3);for(let g=A-1;g>=0;--g){const d=[];for(let E=0,C=t[e(146)];E<C;++E){const v=t[E],b=v[e(212)],w=v[e(142)],B=w[0],R=w[1],Q=fn(B,R,ia),F=Q[e(143)](B,R),M=F[e(212)];let T=g*3;for(let P=0,k=M[e(146)];P<k;P+=4)M[P]=b[T],M[P+1]=b[T+1],M[P+2]=b[T+2],M[P+3]=255,T+=f;Q[e(136)](F,0,0),d[e(167)]({extent:v[e(190)],clipExtent:v.clipExtent,image:Q[e(171)]})}const p=EE(a,o,this[e(135)],c,this[e(138)].getExtent(),l,x,this[e(152)],d,this[e(151)],!1,!1,!1);for(let E=0,C=d[e(146)];E<C;++E){const v=d[E][e(147)],b=v[e(153)]("2d");r0(b),ia.push(b[e(171)])}const _=p[e(153)]("2d"),I=_[e(188)](0,0,p.width,p[e(197)]);r0(_),ia[e(167)](p),!u&&(h=new Uint8ClampedArray(f*I[e(163)]*I.height),u=new t[0][e(203)](h[e(137)]));const m=I[e(212)];let y=g*3;for(let E=0,C=m.length;E<C;E+=4)m[E+3]===255?(h[y]=m[E],h[y+1]=m[E+1],h[y+2]=m[E+2]):(h[y]=0,h[y+1]=0,h[y+2]=0),y+=f}if(n){const g=fn(a,o),d=new ImageData(u,a);g[e(136)](d,0,0),this[e(186)]=g.canvas}else this.reprojData_=u;this.reprojSize_=[Math[e(176)](a*this[e(135)]),Math[e(176)](o*this[e(135)])],this[e(189)]=de[e(175)],this[e(180)]()}[ua(187)](){const e=ua;if(this[e(189)]!==de[e(178)]&&this.state!==de.ERROR)return;this[e(189)]=de.LOADING,this[e(180)]();let t=0;this[e(166)]=[],this[e(160)][e(156)](({tile:n})=>{const r=e,s=n[r(192)]();if(s!==de[r(178)]&&s!==de[r(182)])return;t++;const a=mt(n,Ye.CHANGE,()=>{const o=r,l=n[o(192)]();(l==de.LOADED||l==de.ERROR||l==de[o(215)])&&(Jt(a),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this[r(166)][r(167)](a)}),t===0?setTimeout(this[e(169)][e(155)](this),0):this[e(160)][e(156)](function({tile:n}){const r=e;n[r(192)]()==de[r(178)]&&n[r(187)]()})}unlistenSources_(){const e=ua;this.sourcesListenerKeys_[e(156)](Jt),this[e(166)]=null}}(function(i,e){const t=Dg,n=i();for(;;)try{if(parseInt(t(229))/1*(-parseInt(t(220))/2)+parseInt(t(228))/3*(-parseInt(t(226))/4)+parseInt(t(207))/5*(parseInt(t(224))/6)+-parseInt(t(196))/7+parseInt(t(208))/8+parseInt(t(195))/9*(-parseInt(t(230))/10)+parseInt(t(223))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qg,748832);function KF(i,e,t,n){const r=Dg,s=document[r(201)](r(214)),a=r(206)+et(e);function o(){const c=r;delete window[a],s[c(219)][c(197)](s)}s[r(225)]=!0,s[r(217)]=i+(i[r(194)]("?")?"&":"?")+r(222)+"="+a;const l=setTimeout(function(){o(),t&&t()},1e4);window[a]=function(c){clearTimeout(l),o(),e(c)},document.head[r(203)](s)}function Dg(i,e){const t=Qg();return Dg=function(n,r){return n=n-194,t[n]},Dg(i,e)}function Qg(){const i=["://","src","addEventListener","parentNode","2tXrxtw","setRequestHeader","callback","15627832TGHcEI","24WHerrc","async","941468pxQTIM","Unexpected response status: ","3NxgwgL","229249iBckKX","10WILWpZ","name","includes","2792727oWrxeg","7550830cJeGly","removeChild","status","href","ResponseError","createElement","parse","appendChild","responseText","Failed to issue request","olc_","135490tDoZlh","8586696qWLruU","GET","XMLHttpRequest","client","open","target","script","undefined"];return Qg=function(){return i},Qg()}var Mr=Dh;(function(i,e){for(var t=Dh,n=i();;)try{var r=-parseInt(t(354))/1*(parseInt(t(363))/2)+parseInt(t(367))/3+parseInt(t(352))/4+-parseInt(t(349))/5+-parseInt(t(356))/6+parseInt(t(372))/7*(-parseInt(t(371))/8)+parseInt(t(359))/9;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Fg,159263);function Dh(i,e){var t=Fg();return Dh=function(n,r){n=n-347;var s=t[n];return s},Dh(i,e)}let X5=class extends Ah{constructor(e,t,n,r,s,a){var o=Dh;super(e,t,a),this[o(365)]=null,this[o(353)]=r,this.features_=null,this.loader_,this[o(361)]=null,this[o(362)],this[o(347)]=s,this.url_=n,this[o(370)]=n}[Mr(375)](){var e=Mr;return this[e(353)]}[Mr(348)](){var e=Mr;return this[e(355)]}load(){var e=Mr;this[e(374)]==de[e(360)]&&(this[e(373)](de[e(357)]),this[e(347)](this,this[e(358)]),this.loader_&&this[e(368)](this.extent,this.resolution,this.projection))}[Mr(350)](e,t){var n=Mr;this[n(366)](e)}[Mr(364)](){var e=Mr;this[e(373)](de[e(351)])}[Mr(366)](e){var t=Mr;this[t(355)]=e,this.setState(de.LOADED)}[Mr(369)](e){this.loader_=e}};function Fg(){var i=["key","6152GpnLtc","98OEtmAB","setState","state","getFormat","tileLoadFunction_","getFeatures","761255YzLDMR","onLoad","ERROR","274904hXSRXb","format_","118UgKQoy","features_","1153452bbPVHI","LOADING","url_","4579506PAbkBM","IDLE","projection","resolution","1306xiVDFU","onError","extent","setFeatures","42048sIOrLd","loader_","setLoader"];return Fg=function(){return i},Fg()}const ha=Qh;(function(i,e){const t=Qh,n=i();for(;;)try{if(parseInt(t(237))/1+-parseInt(t(218))/2*(-parseInt(t(241))/3)+parseInt(t(219))/4*(parseInt(t(239))/5)+-parseInt(t(214))/6*(parseInt(t(217))/7)+-parseInt(t(228))/8*(-parseInt(t(233))/9)+parseInt(t(229))/10*(parseInt(t(220))/11)+parseInt(t(225))/12*(-parseInt(t(222))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Lg,369271);function Qh(i,e){const t=Lg();return Qh=function(n,r){return n=n-214,t[n]},Qh(i,e)}function Lg(){const i=["110rmWunB","getSourceTiles","1045577HfXLzD","executorGroups","errorTileKeys","60rjEEfE","getContext","push","17616pXUCWX","55290JmFUJY","getImage","wantedResolution","bind","1341VXfqCz","context_","sourceTiles","hasContext","398170EaPKXe","hitDetectionImageData","206215CMReiw","canvas","6ONSnuR","release","6dxXcvX","replayState_","getReplayState","4169410YBBfBY","503002tBgBib","8VsNShY"];return Lg=function(){return i},Lg()}const W5=[];class JF extends Ah{constructor(e,t,n,r){const s=Qh;super(e,t,{transition:0}),this[s(234)]=null,this[s(223)]=[],this.loadingSourceTiles=0,this[s(238)]={},this.replayState_={},this[s(235)]=[],this[s(224)]={},this[s(231)],this.getSourceTiles=r[s(232)](void 0,this),this.wrappedTileCoord=n}[ha(226)](){const e=ha;return!this[e(234)]&&(this[e(234)]=fn(1,1,W5)),this[e(234)]}hasContext(){return!!this.context_}[ha(230)](){const e=ha;return this[e(236)]()?this[e(226)]()[e(240)]:null}[ha(216)](e){const t=ha,n=et(e);return!(n in this[t(215)])&&(this[t(215)][n]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[n]}load(){this[ha(221)]()}[ha(242)](){const e=ha;r0(this[e(234)]),W5[e(227)](this[e(234)][e(240)]),this.context_=null,super.release()}}const Xi=Fh;(function(i,e){const t=Fh,n=i();for(;;)try{if(parseInt(t(520))/1+-parseInt(t(533))/2*(parseInt(t(528))/3)+-parseInt(t(552))/4*(-parseInt(t(548))/5)+parseInt(t(563))/6*(-parseInt(t(491))/7)+-parseInt(t(496))/8*(-parseInt(t(504))/9)+-parseInt(t(522))/10+parseInt(t(545))/11*(-parseInt(t(508))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Pg,898868);function Fh(i,e){const t=Pg();return Fh=function(n,r){return n=n-486,t[n]},Fh(i,e)}function Pg(){const i=["onLoad","reduce","tileLoadFunction","loadingSourceTiles","load","attributionsCollapsible","wrapX","6nxZZuQ","set","expireCache","wrappedTileCoord","map","setLoader","getZForResolution","getTileSize","tileSize","tileClass","key","onError","getTileGridForProjection","slice","containsKey","removeEventListener","6100178OmpwKC","getTileCacheForProjection","EMPTY","resolution","getTileCoordExtent","4655688vWpCxa","getCode","ERROR","LOADED","getTileCoordForTileUrlFunction","round","cacheSize","maxZoom","9GUMtoz","clear","getExtent","minZoom","7176FuIYXT","format_","zDirection","sourceTileCache_","extent","get","IDLE","url","getOrigin","getTileGrid","getTilePixelRatio","getResolutions","1619183YdaaSI","forEachTileCoord","2454480UKKrdN","getSourceTiles","getTile","peek","tileGrid","getFormat","1953YOKqnU","errorTileKeys","projection","getState","maxResolution","3886SwMsaJ","EPSG:3857","push","getResolution","tileGrids_","getKey","addEventListener","getOverlaps","state","overlaps_","length","keys","11473gEIHLI","LOADING","CHANGE","39245vdAAOB","overlaps","setState","format","868dPpbLc","bind","sourceTiles","tileUrlFunction"];return Pg=function(){return i},Pg()}class By extends ig{constructor(e){const t=Fh,n=e[t(530)]||t(534),r=e[t(512)]||Zp(n),s=e[t(526)]||yy({extent:r,maxResolution:e[t(532)],maxZoom:e[t(503)]!==void 0?e[t(503)]:22,minZoom:e[t(507)],tileSize:e[t(571)]||512});super({attributions:e.attributions,attributionsCollapsible:e[t(561)],cacheSize:e[t(502)],interpolate:!0,projection:n,state:e[t(541)],tileGrid:s,tileLoadFunction:e[t(558)]?e[t(558)]:j5,tileUrlFunction:e[t(555)],url:e[t(515)],urls:e.urls,wrapX:e[t(562)]===void 0?!0:e.wrapX,transition:e.transition,zDirection:e[t(510)]===void 0?1:e[t(510)]}),this[t(509)]=e[t(551)]?e.format:null,this.sourceTileCache_=new _y(128),this[t(542)]=e[t(549)]==null?!0:e[t(549)],this[t(572)]=e[t(572)]?e[t(572)]:X5,this[t(537)]={}}[Xi(540)](){return this.overlaps_}[Xi(505)](){this[Xi(511)].clear()}[Xi(565)](e,t){const n=Xi,r=this[n(492)](e),s=Object[n(544)](t)[n(557)]((a,o)=>{const l=n,c=IF(o),x=r[l(525)](c);if(x){const u=x[l(554)];for(let h=0,f=u.length;h<f;++h)a[u[h][l(538)]()]=!0}return a},{});super[n(565)](e,t),this[n(511)][n(565)](s)}[Xi(523)](e,t,n){const r=Xi;if(n[r(531)]()===de[r(514)]){n[r(550)](de[r(546)]);const s=n[r(566)],a=this[r(487)](t),o=a[r(495)](s),l=s[0],c=a[r(536)](l);Xa(o,-c,o);const x=this[r(526)],u=x[r(506)]();u&&Mi(o,u,o);const h=x[r(569)](c,this.zDirection);x[r(521)](o,h,f=>{const A=r,g=this[A(555)](f,e,t),d=this[A(511)][A(489)](g)?this[A(511)][A(513)](g):new this[A(572)](f,g?de[A(514)]:de[A(493)],g,this[A(509)],this[A(558)]);n[A(554)][A(535)](d);const p=d[A(531)]();if(p<de.LOADED){const _=I=>{const m=A;this.handleTileChange(I);const y=d[m(531)]();if(y===de[m(499)]||y===de.ERROR){const E=d.getKey();E in n.errorTileKeys?d[m(531)]()===de[m(499)]&&delete n[m(529)][E]:n[m(559)]--,y===de[m(498)]?n.errorTileKeys[E]=!0:d[m(490)](Ye[m(547)],_),n[m(559)]===0&&n[m(550)](Ya(n[m(529)])?de[m(499)]:de[m(498)])}};d[A(539)](Ye[A(547)],_),n[A(559)]++}p===de[A(514)]&&(d[A(512)]=x[A(495)](f),d[A(530)]=t,d[A(494)]=x[A(536)](f[0]),this[A(511)][A(564)](g,d),d[A(560)]())}),!n.loadingSourceTiles&&n[r(550)](n.sourceTiles.some(f=>f.getState()===de[r(498)])?de[r(498)]:de[r(499)])}return n[r(554)]}[Xi(524)](e,t,n,r,s){const a=Xi,o=[e,t,n];let l=this[a(500)](o,s);const c=this[a(517)]()[a(506)](),x=this[a(487)](s);if(l&&c){const f=x[a(495)](l);Xa(f,-x[a(536)](e),f),!Bn(c,f)&&(l=null)}let u=!0;if(l!==null){const f=this.tileGrid,A=x[a(536)](e),g=f.getZForResolution(A,1),d=x[a(495)](l);Xa(d,-A,d),f.forEachTileCoord(d,g,p=>{u=u&&!this.tileUrlFunction(p,r,s)})}const h=new JF(o,u?de[a(493)]:de[a(514)],l,this.getSourceTiles[a(553)](this,r,s));return h[a(573)]=this.getKey(),h}[Xi(487)](e){const t=Xi,n=e[t(497)]();let r=this[t(537)][n];if(!r){const s=this[t(526)],a=s[t(519)]()[t(488)](),o=a.map(function(x,u){return s[t(516)](u)}),l=a[t(567)](function(x,u){return s.getTileSize(u)}),c=IB+1;for(let x=a[t(543)];x<c;++x)a[t(535)](a[x-1]/2),o.push(o[x-1]),l[t(535)](l[x-1]);r=new Kp({extent:s[t(506)](),origins:o,resolutions:a,tileSizes:l}),this.tileGrids_[n]=r}return r}[Xi(518)](e){return e}getTilePixelSize(e,t,n){const r=Xi,s=this[r(487)](n),a=pi(s[r(570)](e),this.tmpSize);return[Math[r(501)](a[0]*t),Math[r(501)](a[1]*t)]}}function j5(i,e){const t=Xi;i[t(568)](function(n,r,s){const a=t;q5(e,i[a(527)](),n,r,s,i[a(556)][a(553)](i),i[a(486)].bind(i))})}function kg(i,e){var t=Ug();return kg=function(n,r){n=n-273;var s=t[n];return s},kg(i,e)}var ZF=kg;function Ug(){var i=["80rkXQAs","5846224YTPyOn","1757FTIAAa","1309626XNvbuB","338202tTiErZ","3bywVnG","183135zceEjf","2251752RbaRWU","3744nlcLPm","1243092PvzYub","preload"];return Ug=function(){return i},Ug()}(function(i,e){for(var t=kg,n=i();;)try{var r=parseInt(t(275))/1+-parseInt(t(279))/2+-parseInt(t(277))/3*(parseInt(t(281))/4)+-parseInt(t(278))/5+parseInt(t(280))/6*(-parseInt(t(274))/7)+parseInt(t(273))/8+-parseInt(t(276))/9*(-parseInt(t(283))/10);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ug,711128);const go={PRELOAD:ZF(282),USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},fa=Lh;function Ng(){const i=["6850752yQLdoF","5eJOMNe","29642140FdPquL","getPreload","3097928kzlxhq","6311585vFyKBf","assign","setPreload","USE_INTERIM_TILES_ON_ERROR","getCacheSize","getUseInterimTilesOnError","8460LrNyOB","6033ggbJuH","set","PRELOAD","preload","once","cacheSize","useInterimTilesOnError","209496tLvUJD","568tXwdpL","1024NzoOHQ","cacheSize_"];return Ng=function(){return i},Ng()}(function(i,e){const t=Lh,n=i();for(;;)try{if(-parseInt(t(454))/1+parseInt(t(456))/2*(-parseInt(t(447))/3)+-parseInt(t(462))/4+parseInt(t(459))/5*(-parseInt(t(458))/6)+parseInt(t(463))/7+parseInt(t(455))/8*(-parseInt(t(446))/9)+parseInt(t(460))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ng,643727);class $F extends m0{constructor(e){const t=Lh;e=e||{};const n=Object[t(464)]({},e),r=e[t(452)];delete e[t(452)],delete n[t(450)],delete n[t(453)],super(n),this.on,this[t(451)],this.un,this[t(457)]=r,this[t(442)](e[t(450)]!==void 0?e[t(450)]:0),this.setUseInterimTilesOnError(e[t(453)]!==void 0?e[t(453)]:!0)}[fa(444)](){return this[fa(457)]}[fa(461)](){const e=fa;return this.get(go[e(449)])}[fa(442)](e){const t=fa;this[t(448)](go[t(449)],e)}[fa(445)](){const e=fa;return this.get(go[e(443)])}setUseInterimTilesOnError(e){this[fa(448)](go.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}function Lh(i,e){const t=Ng();return Lh=function(n,r){return n=n-442,t[n]},Lh(i,e)}const pn=mo;(function(i,e){const t=mo,n=i();for(;;)try{if(-parseInt(t(505))/1+-parseInt(t(524))/2+parseInt(t(516))/3+parseInt(t(578))/4*(parseInt(t(599))/5)+-parseInt(t(561))/6+-parseInt(t(489))/7+parseInt(t(501))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Og,841095);function Og(){const i=["minX","getRenderContext","keys","maxY","getRevision","getInterpolate","getImageData","tempTileRange_","set","3359915zrLnVH","tileQueue","usedTiles","EMPTY","renderedPixelRatio","getTileCache","tempTileCoord_","renderedTiles","updateCacheSize","time","extentChanged","globalAlpha","resolution","getTileRangeForTileCoordAndZ","getData","getImage","maxStaleKeys","opacity","renderedRevision","729057uYPtYH","delete","isKeyQueued","get","enqueueTiles","drawTile","getGutterForProjection","getResolutionForZoom","getStaleKeys","expireCache","getWrapX","clear","23927256OOyQah","tempExtent","renderedRevision_","renderedProjection","1134455kRwpIX","getMaxResolution","tileCache_","tempTransform","floor","layerIndex","frameState","findAltTiles_","clipUnrotated","getTilePixelRatio","height","2931447Fytxsq","renderedSourceRevision_","width","canvas","imageSmoothingEnabled","getAlpha","add","min","1883074dxnLDl","nextExtent","viewState","push","endTransition","container","containsKey","layerStatesArray","getResolution","LOADED","prepareContainer","preRender","zDirection","postRender","nextResolution","length","projection","pixelRatio","getTile","getSource","save","layer","Rendering array data is not yet supported","getState","enqueue","getTileGridForProjection","getRenderSource","clip","renderedExtent_","maxX","getTileImage","getLayer","getKey","map","lineTo","context","tileCoord","9712806iWBeoR","animate","moveTo","minY","slice","wantedTiles","max","getTileCoordExtent","renderedSourceKey_","restore","renderComplete","unshift","findStaleTile_","extent","highWaterMark","getMinZoom","updateUsedTiles","4QqjbQP","getOrigin","getOrCreateTile","getZForResolution","round","getTileRangeForExtentAndZ","center","getTileCoordForCoordAndZ","getMapInternal","getTileCoordCenter","cacheSize","postRenderFunctions"];return Og=function(){return i},Og()}function mo(i,e){const t=Og();return mo=function(n,r){return n=n-479,t[n]},mo(i,e)}function Sy(i,e,t,n){return i+","+gh(e,t,n)}function My(i,e,t){const n=mo;if(!(t in i))return i[t]=new Set([e]),!0;const r=i[t],s=r.has(e);return!s&&r[n(522)](e),!s}function eL(i,e,t){const n=mo,r=i[t];return r?r[n(490)](e):!1}function K5(i,e){const t=mo,n=i[t(531)][i[t(510)]];n.extent&&(e=Mi(e,gs(n[t(574)],i[t(526)][t(540)])));const r=n[t(545)].getRenderSource();if(!r[t(499)]()){const s=r.getTileGridForProjection(i[t(526)][t(540)]).getExtent();s&&(e=Mi(e,s))}return e}class J5 extends $E{constructor(e,t){const n=mo;super(e),t=t||{},this[n(480)]=!0,this[n(571)]=!1,this[n(552)]=null,this[n(603)],this.renderedProjection=null,this[n(488)],this[n(606)]=[],this[n(569)],this[n(517)],this[n(502)]=Er(),this[n(597)]=new Ey(0,0,0,0),this[n(605)]=zp(0,0,0);const r=t[n(588)]!==void 0?t[n(588)]:512;this[n(507)]=new D5(r),this[n(486)]=r*.5}[pn(604)](){return this[pn(507)]}[pn(580)](e,t,n,r){const s=pn,a=this[s(507)],o=this[s(555)](),l=o[s(543)](),c=Sy(l[s(556)](),e,t,n);let x;if(a[s(530)](c))x=a[s(492)](c);else{if(x=l[s(542)](e,t,n,r[s(541)],r.viewState[s(540)]),!x)return null;a[s(598)](c,x)}return x}[pn(542)](e,t,n,r){const s=pn,a=this[s(580)](e,t,n,r);return a||null}[pn(484)](e){const t=pn,n=this[t(511)];if(!n)return null;const r=this[t(555)](),s=Vn(n.pixelToCoordinateTransform,e[t(565)]()),a=r.getExtent();if(a&&!e0(a,s))return null;const o=n.viewState,l=r[t(550)](),c=l[t(549)](o[t(540)]),x=l[t(514)](n[t(541)]);for(let u=c[t(581)](o[t(482)]);u>=c[t(576)]();--u){const h=c[t(585)](s,u),f=this[t(542)](u,h[1],h[2],n);if(!f||f.getState()!==de[t(533)])continue;const A=c[t(579)](u),g=pi(c.getTileSize(u)),d=c[t(532)](u);let p;if(f instanceof Q5)p=f.getImage();else if(f instanceof wy){if(p=Rg(f[t(484)]()),!p)continue}else continue;const _=Math[t(509)](x*((s[0]-A[0])/d-h[1]*g[0])),I=Math[t(509)](x*((A[1]-s[1])/d-h[2]*g[1])),m=Math[t(582)](x*l[t(495)](o[t(540)]));return this[t(596)](p,_+m,I+m)}return null}prepareFrame(e){const t=pn,n=this[t(555)]()[t(543)]();if(!n)return!1;const r=n.getRevision();return this[t(503)]?this[t(503)]!==r&&(this[t(503)]=r,this.renderedSourceKey_===n[t(556)]()&&this[t(507)][t(500)]()):this[t(503)]=r,!0}[pn(493)](e,t,n,r,s){const a=pn,o=e.viewState,l=this.getLayer(),c=l[a(550)](),x=c[a(549)](o[a(540)]),u=et(c);!(u in e[a(566)])&&(e[a(566)][u]={});const h=e.wantedTiles[u],f=l[a(586)](),A=Math[a(567)](n-s,x[a(576)](),x[a(581)](Math[a(523)](l[a(506)](),f?f.getView()[a(496)](Math.max(l[a(576)](),0)):x[a(532)](0)),c[a(536)]));for(let g=n;g>=A;--g){const d=x[a(583)](t,g,this[a(597)]),p=x[a(532)](g);for(let _=d[a(590)];_<=d[a(553)];++_)for(let I=d.minY;I<=d[a(593)];++I){const m=this[a(542)](g,_,I,e);if(!m||!My(r,m,g))continue;const E=m[a(556)]();if(h[E]=!0,m[a(547)]()===de.IDLE&&!e.tileQueue[a(491)](E)){const C=zp(g,_,I,this[a(605)]);e[a(600)][a(548)]([m,u,x[a(587)](C),p])}}}}[pn(573)](e,t){const n=pn,r=this[n(507)],s=e[0],a=e[1],o=e[2],l=this[n(497)]();for(let c=0;c<l[n(539)];++c){const x=Sy(l[c],s,a,o);if(r[n(530)](x)){const u=r[n(492)](x);if(u.getState()===de[n(533)])return u[n(528)](et(this)),My(t,u,s),!0}}return!1}[pn(512)](e,t,n,r){const s=pn,a=e[s(483)](t,n,this[s(597)]);if(!a)return!1;let o=!0;const l=this[s(507)],c=this.getLayer()[s(550)](),x=c.getKey();for(let u=a[s(590)];u<=a[s(553)];++u)for(let h=a[s(564)];h<=a[s(593)];++h){const f=Sy(x,n,u,h);let A=!1;if(l[s(530)](f)){const g=l[s(492)](f);g.getState()===de.LOADED&&(My(r,g,n),A=!0)}!A&&(o=!1)}return o}renderFrame(e,t){const n=pn;this[n(571)]=!0;const r=e[n(531)][e[n(510)]],s=e.viewState,a=s.projection,o=s[n(482)],l=s[n(584)],c=e[n(541)],x=this[n(555)](),u=x[n(543)](),h=u[n(594)](),f=u.getTileGridForProjection(a),A=f.getZForResolution(o,u[n(536)]),g=f[n(532)](A),d=u[n(556)]();this[n(569)]?this.renderedSourceKey_!==d&&(this.prependStaleKey(this[n(569)]),this.renderedSourceKey_=d):this.renderedSourceKey_=d;let p=e[n(574)];const _=u[n(514)](c);this[n(534)](e,t);const I=this[n(559)][n(519)][n(518)],m=this.context.canvas[n(515)],y=r[n(574)]&&gs(r[n(574)]);y&&(p=Mi(p,gs(r[n(574)])));const E=g*I/2/_,C=g*m/2/_,v=[l[0]-E,l[1]-C,l[0]+E,l[1]+C],b={};this.renderedTiles[n(539)]=0;const w=x.getPreload();if(e[n(525)]){const U=f[n(581)](s[n(538)],u.zDirection),te=K5(e,e.nextExtent);this[n(493)](e,te,U,b,w)}const B=K5(e,p);if(this.enqueueTiles(e,B,A,b,0),w>0&&setTimeout(()=>{this.enqueueTiles(e,B,A-1,b,w-1)},0),!(A in b))return this[n(529)];const R=et(this),Q=e[n(479)];for(const U of b[A]){const te=U[n(547)]();if((U instanceof F5||U instanceof jF)&&te===de[n(602)])continue;const xe=U[n(560)];if(te===de[n(533)]&&U[n(521)](R,Q)===1){U[n(528)](R);continue}if(this[n(571)]=!1,this[n(573)](xe,b)){eL(b,U,A),e.animate=!0;continue}if(this.findAltTiles_(f,xe,A+1,b))continue;const ee=f[n(576)]();for(let K=A-1;K>=ee&&!this[n(512)](f,xe,K,b);--K);}const F=g/o*c/_,M=this[n(591)](e);vs(this.tempTransform,I/2,m/2,F,F,0,-I/2,-m/2),r[n(574)]&&this[n(513)](M,e,y),!u[n(595)]()&&(M[n(520)]=!1),this[n(535)](M,e);const T=Object[n(592)](b)[n(557)](Number);T.sort(ms);let P;const k=[],V=[];for(let U=T[n(539)]-1;U>=0;--U){const te=T[U],xe=u.getTilePixelSize(te,c,a),G=f[n(532)](te),O=G/g,ee=xe[0]*O*F,K=xe[1]*O*F,ce=f.getTileCoordForCoordAndZ(Ks(v),te),Ae=f[n(568)](ce),ge=Vn(this[n(508)],[_*(Ae[0]-v[0])/g,_*(v[3]-Ae[3])/g]),oe=_*u[n(495)](a);for(const Se of b[te]){if(Se[n(547)]()!==de[n(533)])continue;const At=Se[n(560)],N=ce[1]-At[1],Nt=Math[n(582)](ge[0]-(N-1)*ee),ze=ce[2]-At[2],Ge=Math[n(582)](ge[1]-(ze-1)*K),Be=Math.round(ge[0]-N*ee),ke=Math.round(ge[1]-ze*K),Re=Nt-Be,L=Ge-ke,S=T[n(539)]===1;let X=!1;P=[Be,ke,Be+Re,ke,Be+Re,ke+L,Be,ke+L];for(let se=0,ne=k.length;se<ne;++se)if(!S&&te<V[se]){const j=k[se];Bn([Be,ke,Be+Re,ke+L],[j[0],j[3],j[4],j[7]])&&(!X&&(M[n(544)](),X=!0),M.beginPath(),M[n(563)](P[0],P[1]),M[n(558)](P[2],P[3]),M.lineTo(P[4],P[5]),M.lineTo(P[6],P[7]),M[n(563)](j[6],j[7]),M.lineTo(j[4],j[5]),M[n(558)](j[2],j[3]),M.lineTo(j[0],j[1]),M[n(551)]())}k[n(527)](P),V[n(527)](te),this[n(494)](Se,e,Be,ke,Re,L,oe,S),X&&M[n(570)](),this[n(606)][n(572)](Se),this[n(577)](e[n(601)],u,Se)}}this.renderedRevision=h,this.renderedResolution=g,this[n(480)]=!this[n(552)]||!js(this[n(552)],v),this[n(552)]=v,this.renderedPixelRatio=c,this[n(504)]=a,this[n(537)](this[n(559)],e),r.extent&&M.restore(),M[n(520)]=!0;const Y=(U,te)=>{const xe=n,G=et(u),O=te[xe(566)][G],ee=O?Object.keys(O)[xe(539)]:0;this.updateCacheSize(ee),this[xe(507)][xe(498)]()};return e[n(589)].push(Y),this[n(529)]}[pn(607)](e){const t=pn;this[t(507)][t(575)]=Math[t(567)](this[t(507)][t(575)],e*2)}[pn(494)](e,t,n,r,s,a,o,l){const c=pn;let x;if(e instanceof wy){if(x=Rg(e[c(484)]()),!x)throw new Error(c(546))}else x=this[c(554)](e);if(!x)return;const u=this[c(591)](t),h=et(this),f=t[c(531)][t[c(510)]],A=f.opacity*(l?e[c(521)](h,t[c(479)]):1),g=A!==u[c(481)];g&&(u[c(544)](),u[c(481)]=A),u.drawImage(x,o,o,x[c(518)]-2*o,x[c(515)]-2*o,n,r,s,a),g&&u.restore(),A!==f[c(487)]?t[c(562)]=!0:l&&e[c(528)](h)}getImage(){const e=pn,t=this[e(559)];return t?t[e(519)]:null}[pn(554)](e){return e[pn(485)]()}updateUsedTiles(e,t,n){const r=pn,s=et(t);!(s in e)&&(e[s]={}),e[s][n[r(556)]()]=!0}}var Z5=Gg;(function(i,e){for(var t=Gg,n=i();;)try{var r=parseInt(t(278))/1*(parseInt(t(281))/2)+-parseInt(t(282))/3*(parseInt(t(276))/4)+-parseInt(t(274))/5+-parseInt(t(280))/6+-parseInt(t(279))/7*(parseInt(t(277))/8)+parseInt(t(283))/9*(-parseInt(t(273))/10)+parseInt(t(272))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(zg,612960);function Gg(i,e){var t=zg();return Gg=function(n,r){n=n-271;var s=t[n];return s},Gg(i,e)}class Ry extends $F{constructor(e){super(e)}[Z5(271)](){var e=Z5;return new J5(this,{cacheSize:this[e(275)]()})}}function zg(){var i=["4358754eojFIP","17536XRZJMC","999dXZzzU","187911jDmeZl","createRenderer","32267422SzHOWQ","540ORbACX","3316405GIdcRK","getCacheSize","5020nqabmf","4832584HmBhFM","139uMihAQ","7yMOpYY"];return zg=function(){return i},zg()}const Pn=Al;(function(i,e){const t=Al,n=i();for(;;)try{if(-parseInt(t(346))/1+-parseInt(t(368))/2+parseInt(t(348))/3+parseInt(t(360))/4+-parseInt(t(352))/5+-parseInt(t(349))/6*(parseInt(t(347))/7)+parseInt(t(357))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vg,879655);function Vg(){const i=["siftDown_","heapify_","isKeyQueued","length","1448729SnflAb","8222529MKmAHK","2555832XYsHZD","6wBFGEx","queuedElements_","isEmpty","4517305uMhJoP","getLeftChildIndex_","Tried to enqueue an `element` that was already added to the queue","getRightChildIndex_","dequeue","31105384FlxYbP","getCount","getParentIndex_","2410256AWJKJD","elements_","priorities_","siftUp_","push","pop","isQueued","keyFunction_","1872378JvsmVI","reprioritize","priorityFunction_"];return Vg=function(){return i},Vg()}const Hg=1/0;function Al(i,e){const t=Vg();return Al=function(n,r){return n=n-342,t[n]},Al(i,e)}class tL{constructor(e,t){const n=Al;this[n(370)]=e,this[n(367)]=t,this[n(361)]=[],this[n(362)]=[],this[n(350)]={}}clear(){const e=Al;this.elements_.length=0,this[e(362)][e(345)]=0,tu(this[e(350)])}[Pn(356)](){const e=Pn,t=this[e(361)],n=this[e(362)],r=t[0];t[e(345)]==1?(t[e(345)]=0,n[e(345)]=0):(t[0]=t[e(365)](),n[0]=n[e(365)](),this[e(363)](0));const s=this[e(367)](r);return delete this[e(350)][s],r}enqueue(e){const t=Pn;yt(!(this[t(367)](e)in this[t(350)]),t(354));const n=this[t(370)](e);return n!=Hg?(this[t(361)].push(e),this[t(362)][t(364)](n),this[t(350)][this[t(367)](e)]=!0,this[t(342)](0,this.elements_[t(345)]-1),!0):!1}[Pn(358)](){const e=Pn;return this.elements_[e(345)]}[Pn(353)](e){return e*2+1}[Pn(355)](e){return e*2+2}[Pn(359)](e){return e-1>>1}[Pn(343)](){const e=Pn;let t;for(t=(this.elements_[e(345)]>>1)-1;t>=0;t--)this[e(363)](t)}[Pn(351)](){return this.elements_.length===0}[Pn(344)](e){return e in this[Pn(350)]}[Pn(366)](e){const t=Pn;return this[t(344)](this[t(367)](e))}[Pn(363)](e){const t=Pn,n=this[t(361)],r=this.priorities_,s=n[t(345)],a=n[e],o=r[e],l=e;for(;e<s>>1;){const c=this[t(353)](e),x=this.getRightChildIndex_(e),u=x<s&&r[x]<r[c]?x:c;n[e]=n[u],r[e]=r[u],e=u}n[e]=a,r[e]=o,this[t(342)](l,e)}[Pn(342)](e,t){const n=Pn,r=this[n(361)],s=this.priorities_,a=r[t],o=s[t];for(;t>e;){const l=this[n(359)](t);if(s[l]>o)r[t]=r[l],s[t]=s[l],t=l;else break}r[t]=a,s[t]=o}[Pn(369)](){const e=Pn,t=this.priorityFunction_,n=this[e(361)],r=this[e(362)];let s=0;const a=n[e(345)];let o,l,c;for(l=0;l<a;++l)o=n[l],c=t(o),c==Hg?delete this[e(350)][this[e(367)](o)]:(r[s]=c,n[s++]=o);n[e(345)]=s,r[e(345)]=s,this.heapify_()}}const _o=v0;function qg(){const i=["enqueue","load","6903TNwMgL","log","tileChangeCallback_","getKey","apply","wantedTiles","4401537uBKzUl","tilesLoading_","getState","getTilesLoading","CHANGE","EMPTY","444129urLKuv","IDLE","loadMoreTiles","4490505VECaXc","bind","viewState","tilesLoadingKeys_","boundHandleTileChange_","108423twlYuU","1450624vIHrjm","393700rHInzR","ERROR","getCount","2792QJcxag","center","6vUbxVJ","addEventListener","handleTileChange","LOADED"];return qg=function(){return i},qg()}(function(i,e){const t=v0,n=i();for(;;)try{if(parseInt(t(384))/1+-parseInt(t(394))/2+parseInt(t(392))/3+-parseInt(t(393))/4+parseInt(t(387))/5+-parseInt(t(399))/6*(parseInt(t(411))/7)+parseInt(t(397))/8*(parseInt(t(405))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(qg,457757);class $5 extends tL{constructor(e,t){const n=v0;super(function(r){return e[v0(409)](null,r)},function(r){const s=v0;return r[0][s(408)]()}),this[n(391)]=this[n(401)][n(388)](this),this.tileChangeCallback_=t,this.tilesLoading_=0,this[n(390)]={}}[_o(403)](e){const t=_o,n=super[t(403)](e);return n&&e[0][t(400)](Ye[t(382)],this[t(391)]),n}[_o(381)](){return this[_o(412)]}handleTileChange(e){const t=_o,n=e.target,r=n[t(413)]();if(r===de[t(402)]||r===de.ERROR||r===de[t(383)]){r!==de[t(395)]&&n.removeEventListener(Ye[t(382)],this[t(391)]);const s=n[t(408)]();s in this.tilesLoadingKeys_&&(delete this[t(390)][s],--this[t(412)]),this[t(407)]()}}[_o(386)](e,t){const n=_o;let r=0;for(;this[n(412)]<e&&r<t&&this[n(396)]()>0;){const s=this.dequeue()[0],a=s.getKey();s[n(413)]()===de[n(385)]&&!(a in this[n(390)])&&(this[n(390)][a]=!0,++this[n(412)],++r,s[n(404)]())}}}function v0(i,e){const t=qg();return v0=function(n,r){return n=n-381,t[n]},v0(i,e)}function nL(i,e,t,n,r){const s=_o;if(!i||!(t in i[s(410)])||!i[s(410)][t][e.getKey()])return Hg;const a=i[s(389)][s(398)],o=n[0]-a[0],l=n[1]-a[1];return 65536*Math[s(406)](r)+Math.sqrt(o*o+l*l)/r}const St=Aa;(function(i,e){const t=Aa,n=i();for(;;)try{if(parseInt(t(513))/1*(-parseInt(t(576))/2)+parseInt(t(475))/3+parseInt(t(570))/4*(parseInt(t(583))/5)+-parseInt(t(520))/6+parseInt(t(568))/7+-parseInt(t(587))/8+-parseInt(t(528))/9*(parseInt(t(575))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Yg,890918);function Yg(){const i=["maxQueueLength_","beforeoperations","dispatch_","viewState","  const buffer = __minion__(event.data);","center","getRenderer","dispatchEvent","keys","createObjectURL","processor_","getRevision","extent","height","buffers","afteroperations","9356368cQCXxu","size","676OqQyvq","disposed","time","bind","buffer","143270qsJzjC","32PSNVfL","frameState_","firstElementChild","message","set","running_","ceil","45905gfgojk","canvas","renderTargets","getResolution","8962040AomAlJ","dataLookup_","getExtent","inputs","requestedFrameState_","Unsupported layer type: ","width","meta","4110477XmKLTm","push","const ","operation","operationType_","image","});","string","animate","map","renderedImageCanvas_","onWorkerComplete_","now","ready","pixelRatio","threads_","length","disposeInternal","enqueue_","dispose","round",'self.addEventListener("message", function(event) {',"data:text/javascript;base64,","resolution","terminate","updateFrameState_","processSources_","postMessage","assign","sources","getImage","workers_","imageOps","undefined","AFTEROPERATIONS"," = ","once","setAttributions","35944arkoda","renderedRevision_","concat","binary","layers_","renderFrame","callback","6078318hdcfwc","imageOps_","job_","slice","queue_","shift","allSourcesReady_","data","414SOlPFT","useResolutions_","tileQueue_","toString","from","prototype","lib","setOperation","resolutions","getImageData","getSource","getContext","CHANGE","process","operationType","onWorkerMessage_","threads","addEventListener","clearRect","changed","resolveJob_","prepareFrame","putImageData","text/javascript"];return Yg=function(){return i},Yg()}function Aa(i,e){const t=Yg();return Aa=function(n,r){return n=n-473,t[n]},Aa(i,e)}function eS(i){return function(e){const t=Aa,n=e[t(566)],r=e[t(474)],s=e[t(507)],a=e[t(473)],o=e[t(565)],l=n[t(491)],c=n[0].byteLength;if(s){const f=new Array(l);for(let g=0;g<l;++g)f[g]=new ImageData(new Uint8ClampedArray(n[g]),a,o);return i(f,r)[t(527)][t(574)]}const x=new Uint8ClampedArray(c),u=new Array(l),h=new Array(l);for(let f=0;f<l;++f)u[f]=new Uint8ClampedArray(n[f]),h[f]=[0,0,0,0];for(let f=0;f<c;f+=4){for(let g=0;g<l;++g){const d=u[g];h[g][0]=d[f],h[g][1]=d[f+1],h[g][2]=d[f+2],h[g][3]=d[f+3]}const A=i(h,r);x[f]=A[0],x[f+1]=A[1],x[f+2]=A[2],x[f+3]=A[3]}return x[t(574)]}}function iL(i,e){const t=Aa,n=Object[t(560)](i.lib||{})[t(484)](function(a){const o=t;return o(477)+a+o(510)+i[o(534)][a][o(531)]()+";"}),r=n[t(515)](["const __minion__ = ("+eS[t(531)]()+")(",i.operation[t(531)](),");",t(496),t(556),"  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);",t(481)]),s=new Worker(typeof Blob===t(508)?t(497)+Buffer[t(532)](r.join(`
`),t(516))[t(531)]("base64"):URL[t(561)](new Blob(r,{type:t(551)})));return s[t(545)](t(579),e),s}function rL(i,e){const t=eS(i.operation);let n=!1;return{postMessage:function(r){setTimeout(function(){const s=Aa;n||e({data:{buffer:t(r),meta:r[s(474)]}})},0)},terminate:function(){n=!0}}}class sL extends rd{constructor(e){const t=Aa;super(),this[t(521)]=!!e[t(507)];let n;e[t(544)]===0?n=0:this[t(521)]?n=1:n=e[t(544)]||1;const r=new Array(n);if(n)for(let s=0;s<n;++s)r[s]=iL(e,this[t(543)].bind(this,s));else r[0]=rL(e,this[t(543)][t(573)](this,0));this[t(506)]=r,this[t(524)]=[],this[t(552)]=e.queue||1/0,this[t(581)]=0,this[t(588)]={},this[t(522)]=null}process(e,t,n){const r=Aa;this[r(493)]({inputs:e,meta:t,callback:n}),this[r(554)]()}[St(493)](e){const t=St;for(this[t(524)][t(476)](e);this[t(524)][t(491)]>this.maxQueueLength_;)this[t(524)][t(525)]().callback(null,null)}[St(554)](){const e=St;if(this.running_||this[e(524)][e(491)]===0)return;const t=this[e(524)][e(525)]();this[e(522)]=t;const n=t.inputs[0][e(473)],r=t[e(590)][0][e(565)],s=t[e(590)][e(484)](function(c){const x=e;return c.data[x(574)]}),a=this[e(506)][e(491)];if(this.running_=a,a===1){this[e(506)][0][e(502)]({buffers:s,meta:t[e(474)],imageOps:this.imageOps_,width:n,height:r},s);return}const o=t[e(590)][0][e(527)].length,l=4*Math[e(582)](o/4/a);for(let c=0;c<a;++c){const x=c*l,u=[];for(let h=0,f=s[e(491)];h<f;++h)u[e(476)](s[h][e(523)](x,x+l));this[e(506)][c][e(502)]({buffers:u,meta:t[e(474)],imageOps:this[e(521)],width:n,height:r},u)}}[St(543)](e,t){const n=St;this[n(571)]||(this[n(588)][e]=t[n(527)],--this.running_,this.running_===0&&this[n(548)]())}[St(548)](){const e=St,t=this[e(522)],n=this[e(506)][e(491)];let r,s;if(n===1)r=new Uint8ClampedArray(this[e(588)][0][e(574)]),s=this[e(588)][0].meta;else{const a=t.inputs[0].data.length;r=new Uint8ClampedArray(a),s=new Array(n);const o=4*Math[e(582)](a/4/n);for(let l=0;l<n;++l){const c=this[e(588)][l][e(574)],x=l*o;r[e(580)](new Uint8ClampedArray(c),x),s[l]=this[e(588)][l][e(474)]}}this.job_=null,this[e(588)]={},t[e(519)](null,new ImageData(r,t[e(590)][0][e(473)],t[e(590)][0].height),s),this[e(554)]()}[St(492)](){const e=St;for(let t=0;t<this[e(506)][e(491)];++t)this[e(506)][t][e(499)]();this[e(506)][e(491)]=0}}const tS={BEFOREOPERATIONS:St(553),AFTEROPERATIONS:St(567)};class nS extends Cr{constructor(e,t,n){const r=St;super(e),this.extent=t[r(564)],this.resolution=t[r(555)][r(498)]/t[r(489)],this[r(527)]=n}}class iS extends vE{constructor(e){const t=St;super({projection:null}),this.on,this[t(511)],this.un,this[t(562)]=null,this[t(479)]=e[t(542)]!==void 0?e[t(542)]:"pixel",this.threads_=e[t(544)]!==void 0?e[t(544)]:1,this[t(517)]=cL(e[t(504)]);const n=this[t(547)][t(573)](this);for(let r=0,s=this[t(517)][t(491)];r<s;++r)this[t(517)][r].addEventListener(Ye[t(540)],n);this[t(529)]=e[t(536)]!==null,this[t(530)]=new $5(function(){return 1},this[t(501)][t(573)](this)),this[t(591)],this.renderedImageCanvas_=null,this[t(514)],this.frameState_={animate:!1,coordinateToPixelTransform:Oi(),declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:oL(this[t(517)]),pixelRatio:1,pixelToCoordinateTransform:Oi(),postRenderFunctions:[],size:[0,0],tileQueue:this[t(530)],time:Date[t(487)](),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:et(this),renderTargets:{}},this[t(512)](function(r){var o;const s=t,a=[];for(let l=0,c=e[s(504)][s(491)];l<c;++l){const x=e[s(504)][l],u=x instanceof Dc?x:x[s(538)]();if(!u)continue;const h=(o=u.getAttributions())==null?void 0:o(r);typeof h===s(482)?a[s(476)](h):h!==void 0&&a[s(476)](...h)}return a}),e[t(478)]!==void 0&&this[t(535)](e[t(478)],e.lib)}[St(535)](e,t){const n=St;this.processor_&&this[n(562)][n(494)](),this[n(562)]=new sL({operation:e,imageOps:this[n(479)]===n(480),queue:1,lib:t,threads:this[n(490)]}),this[n(547)]()}[St(500)](e,t,n){const r=St,s=Object[r(503)]({},this[r(577)]);s.viewState=Object[r(503)]({},s[r(555)]);const a=yr(e);s.size[0]=Math.ceil(ht(e)/t),s[r(569)][1]=Math[r(582)](wn(e)/t),s.extent=[a[0]-s[r(569)][0]*t/2,a[1]-s[r(569)][1]*t/2,a[0]+s.size[0]*t/2,a[1]+s[r(569)][1]*t/2],s[r(572)]=Date[r(487)]();const o=s[r(555)];return o[r(557)]=a,o.projection=n,o.resolution=t,s}[St(526)](){const e=St;let t=!0,n;for(let r=0,s=this[e(517)][e(491)];r<s;++r)if(n=this.layers_[r][e(538)](),!n||n.getState()!==e(488)){t=!1;break}return t}[St(505)](e,t,n,r){const s=St;if(!this[s(526)]())return null;this.tileQueue_.loadMoreTiles(16,16),t=this.findNearestResolution(t);const a=this.updateFrameState_(e,t,r);if(this[s(591)]=a,this[s(485)]){const o=this[s(485)][s(586)](),l=this[s(485)][s(589)]();(t!==o||!js(a.extent,l))&&(this[s(485)]=null)}return(!this.renderedImageCanvas_||this[s(563)]()!==this[s(514)])&&this.processSources_(),a.animate&&requestAnimationFrame(this[s(547)][s(573)](this)),this[s(485)]}processSources_(){const e=St,t=this.requestedFrameState_,n=this[e(517)][e(491)],r=new Array(n);for(let a=0;a<n;++a){t.layerIndex=a,t[e(585)]={};const o=aL(this[e(517)][a],t);if(o)r[a]=o;else return}const s={};this[e(559)](new nS(tS.BEFOREOPERATIONS,t,s)),this.processor_[e(541)](r,s,this[e(486)][e(573)](this,t))}[St(486)](e,t,n,r){const s=St;if(t||!n)return;const a=e[s(564)],o=e[s(555)][s(498)];if(o!==this[s(591)][s(555)].resolution||!js(a,this[s(591)][s(564)]))return;let l;if(this[s(485)])l=this[s(485)].getImage()[s(539)]("2d");else{const c=Math[s(495)](ht(a)/o),x=Math[s(495)](wn(a)/o);l=fn(c,x),this.renderedImageCanvas_=new uB(a,o,1,l[s(584)])}l[s(550)](n,0,0),e[s(483)]?requestAnimationFrame(this[s(547)].bind(this)):this.changed(),this[s(514)]=this[s(563)](),this[s(559)](new nS(tS[s(509)],e,r))}getResolutions(e){const t=St;if(!this[t(529)])return null;let n=super.getResolutions();if(!n)for(let r=0,s=this.layers_[t(491)];r<s&&(n=this[t(517)][r][t(538)]().getResolutions(e),!n);++r);return n}[St(492)](){this[St(562)]&&this.processor_.dispose(),super.disposeInternal()}}iS[St(533)].dispose;let w0=null;function aL(i,e){const t=St,n=i[t(558)]();if(!n)throw new Error(t(592)+i);if(!n[t(549)](e))return null;const r=e[t(569)][0],s=e[t(569)][1];if(r===0||s===0)return null;const a=n[t(518)](e,null);let o;if(a instanceof HTMLCanvasElement)o=a;else{if(a&&(o=a[t(578)]),!(o instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+o);if(o.width===r&&o.height===s)return o[t(539)]("2d")[t(537)](0,0,r,s)}if(!w0)w0=fn(r,s,void 0,{willReadFrequently:!0});else{const l=w0[t(584)];l.width!==r||l.height!==s?w0=fn(r,s,void 0,{willReadFrequently:!0}):w0[t(546)](0,0,r,s)}return w0.drawImage(o,0,0,r,s),w0[t(537)](0,0,r,s)}function oL(i){return i[St(484)](function(t){return t.getLayerState()})}function cL(i){const e=St,t=i[e(491)],n=new Array(t);for(let r=0;r<t;++r)n[r]=lL(i[r]);return n}function lL(i){let e;return i instanceof Dc?i instanceof U5?e=new Ry({source:i}):i instanceof vE&&(e=new ey({source:i})):e=i,e}const Io=Ph;(function(i,e){const t=Ph,n=i();for(;;)try{if(parseInt(t(435))/1*(-parseInt(t(412))/2)+-parseInt(t(423))/3+parseInt(t(398))/4*(parseInt(t(420))/5)+parseInt(t(402))/6*(parseInt(t(411))/7)+-parseInt(t(413))/8*(-parseInt(t(414))/9)+parseInt(t(425))/10*(parseInt(t(416))/11)+parseInt(t(408))/12*(parseInt(t(421))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Xg,976438);function Ph(i,e){const t=Xg();return Ph=function(n,r){return n=n-393,t[n]},Ph(i,e)}class rS extends kF{constructor(e){const t=Ph;if(super({attributions:e[t(417)],cacheSize:e[t(410)],crossOrigin:e.crossOrigin,interpolate:e[t(397)],projection:Kt("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e[t(426)],wrapX:e[t(419)]!==void 0?e.wrapX:!0,transition:e[t(403)],zDirection:e[t(406)]}),this.tileJSON_=null,this.tileSize_=e.tileSize,e[t(439)])if(e[t(430)])KF(e[t(439)],this[t(427)][t(438)](this),this[t(428)][t(438)](this));else{const n=new XMLHttpRequest;n[t(431)]("load",this[t(396)][t(438)](this)),n.addEventListener("error",this[t(400)][t(438)](this)),n.open("GET",e[t(439)]),n[t(429)]()}else if(e[t(405)])this[t(427)](e[t(405)]);else throw new Error(t(407))}[Io(396)](e){const t=Io,n=e[t(432)];if(!n.status||n.status>=200&&n[t(424)]<300){let r;try{r=JSON.parse(n[t(409)])}catch{this[t(428)]();return}this.handleTileJSONResponse(r)}else this[t(428)]()}[Io(400)](e){this[Io(428)]()}getTileJSON(){return this.tileJSON_}[Io(427)](e){const t=Io,n=Kt(t(440)),r=this[t(436)]();let s;if(e[t(418)]!==void 0){const x=ru(n,r);s=Qw(e[t(418)],x)}const a=Zp(r),o=e.minzoom||0,l=e[t(401)]||22,c=yy({extent:a,maxZoom:l,minZoom:o,tileSize:this[t(437)]});if(this[t(404)]=c,this[t(422)]=O5(e.tiles,c),e.attribution&&!this[t(415)]()){const x=s!==void 0?s:a;this[t(434)](function(u){const h=t;return Bn(x,u[h(395)])?[e[h(394)]]:null})}this[t(393)]=e,this[t(433)]("ready")}[Io(428)](){const e=Io;this[e(433)](e(399))}}function Xg(){const i=["4641995nPZUYj","6873646kkUxxP","tileUrlFunction","4376286muSrDO","status","201380EyzcER","tileLoadFunction","handleTileJSONResponse","handleTileJSONError","send","jsonp","addEventListener","target","setState","setAttributions","1wuQoPp","getProjection","tileSize_","bind","url","EPSG:4326","tileJSON_","attribution","extent","onXHRLoad_","interpolate","4ooMHbz","error","onXHRError_","maxzoom","2749584TyAcSu","transition","tileGrid","tileJSON","zDirection","Either `url` or `tileJSON` options must be provided","12SnNNLt","responseText","cacheSize","7tmeaHl","2224346pThHFK","735432ARDQtf","144UfoCIx","getAttributions","88gOejiH","attributions","bounds","wrapX"];return Xg=function(){return i},Xg()}function sS(i,e,t,n,r,s,a){if(t>=e[0]&&t<=e[2]&&n<=e[1]&&n>=e[3]){var o;t<0?o=aS(Math.abs(e[2]+t),360)/s:o=aS(Math.abs(t-e[0]),360)/s,o=Math.abs(t-e[0])/s;var l=(e[1]-n)/a,c=Math.floor(o),x=c+1,u=Math.floor(l),h=u+1,f;if(f=r[u]){var A=f[c],g=f[x];if(g==null&&(g=f[c]),Eo(A)&&Eo(g)&&(f=r[h])){var d=f[c],p=f[x];if(p==null&&(p=f[c]),i==1){if(Eo(d)&&Eo(p))return Ty(o-c,l-u,A,g,d,p)}else if(i==2){let _=A.speed,I=g.speed,m=d.speed,y=p.speed,E,C;Eo(m)&&Eo(y)&&(E=Ty(o-c,l-u,_,I,m,y));let v=A.direction,b=g.direction,w=d.direction,B=p.direction;return Eo(w)&&Eo(B)&&(C=Ty(o-c,l-u,v,b,w,B)),{direction:C,speed:E}}}}return null}return null}function aS(i,e){var t=i-e*Math.floor(i/e);return t===e?0:t}function Eo(i){return i!=null}function Ty(i,e,t,n,r,s){var a=1-i,o=1-e;return t*a*o+n*i*o+r*a*e+s*i*e}function xL(i,e,t,n){let r=null;return r=uL(i,e,t,n),r}function uL(i,e,t,n){e.dx,e.dy;let r=e.nx,s=e.ny,a=[],o=0;if(t==1){const c=i[0];for(let x=0;x<s;x++){var l=[];for(let u=0;u<r;u++,o++)l[u]=fL(c[o],n,t);a[x]=l}return a}else if(t==2){const c=i[0],x=i[1];for(let u=0;u<s;u++){var l=[];for(let f=0;f<r;f++,o++)l[f]=hL(c[o],x[o],n);a[u]=l}return a}return a}function oS(i,e,t,n,r,s){let a=Math.max(i[0],e[0]),o=Math.max(i[1],e[1]),l=Math.min(i[2],e[2]),c=Math.min(i[3],e[3]);return t.la1=c,t.la2=o,t.lo1=a,t.lo2=l,xL(n,t,r,s)}function cS(i,e){return i==e.nodata}function hL(i,e,t,n){let r={};if(cS(i,t))return t.nodata;{const s=i/t.scale+t.offset,a=e/t.scale+t.offset,o=Math.sqrt(s*s+a*a);let l=270-Math.atan2(a,s)*180/Math.PI;return l>=360&&(l=l-360),r.speed=o,r.direction=l.toString(),r}}function fL(i,e,t){if(t==1){if(cS(i,e))return e;{let n=0;return e.unit=="C"?n=(i-273.15*e.customScale)/e.customScale+e.offset:n=i/e.scale+e.offset,n}}}const AL={Circle:zc,Fill:Gi,Icon:_0,Image:au,IconImage:nB,RegularShape:Mc,Stroke:Ri,Style:bt,Text:Ju,cme_style_FontSymbol:bs};function Wi(i){if(!i||typeof i!="object")return i;const e={};for(const t of Object.keys(i)){const n=AL[t];if(n)return new n(Wi(i[t]));Array.isArray(i[t])?e[t]=i[t]:e[t]=Wi(i[t])}return e}var dL=class extends Jc{constructor(e,t){super(t),this.map=e,this.options=t,this.sourceReady=!1,this.colorRamp=null,this.canvas=null,this.gl=null,this.glList=new Map,this.glSpot=null,this.firstBool=!1,this.setOpacity(0),this.loadData=!1,this.worldExtent=null}_render(){return new Promise((e,t)=>{this.once("postrender",function(n){this.firstBool=!0,this.drawGridNumber(this.rasterDatas)}),e(!0)})}isViewExtentEqual(e){const t=this.map.getView().calculateExtent(this.map.getSize());return JSON.stringify(t)===JSON.stringify(e)}drawGridNumber(e){this.worldExtent&&this.isViewExtentEqual(this.worldExtent)||e==null||e.length==0||this.setDataToLayer(e)}setDataToLayer(e){this.worldExtent=this.map.getView().calculateExtent(this.map.getSize()),this.map.getView().getZoom(),this.rasterDatas=e;let t=[],n=[],r=[],s=[],a=[],o=[],l=[];e.forEach(I=>{t.push(I.params.bbox),n.push(I.params.viewBBox),r.push(I.params.interpolationParams),s.push(I.params.bandsNumber),a.push(I.params.metadata),o.push(oS(I.params.bbox,I.params.viewBBox,I.params.interpolationParams,I,I.params.bandsNumber,I.params.metadata)),l.push(I.params.project)}),this.options;let c=this.map.getView().getProjection().getCode(),x=l[0];var u=t[0];x!=c&&(c=="EPSG:3857"&&(t[0][1]<-85.05112877980659&&(t[0][1]=-85.05112877980659),t[0][3]>85.05112877980659&&(t[0][3]=85.05112877980659)),u=$I(t[0],x,c));let h=30;const[f,A,g]=T5(this.map,this.worldExtent,u,window.innerWidth,window.innerHeight,h);let d,p=[],_;for(let I=0;I<f.length;I++)for(let m=0;m<o.length;m++){let y=this.map.getCoordinateFromPixel(f[I]),E=this._getData(y,r[m],s[m],o[m]);if(E!=null){_=new d0(y),d=new al(_);let C="";if(s[m]==2){if(C=(E.speed/a[m].scale).toFixed(2).toString(),C=(E.speed/a[m].scale).toFixed(2).toString(),C>a[m].max/a[m].scale||C<a[m].min/a[m].scale)break}else if(s[m]==1&&this.isValue(E,s[m])&&(C=E.toFixed(1).toString(),C>a[m].max||C<a[m].min))break;if(!this.getRange(C))break;this.addFeaturesStyle(C,d),p.push(d)}}this.addFeaturesToLayer(p),this.loadData=!1}getRange(e){return this.options.range?e<=(this.options.range.max||99999999)&&e>=(this.options.range.min||-99999999):!0}updateStyle(e){this.options.range=e.range,this.setDataToLayer(this.rasterDatas)}isValue(e,t){if(t==1)return e!=null&&!isNaN(e);if(t==2)if(e!=null&&!isNaN(e)){let n=e.speed;return n!=null&&!isNaN(n)}else return!1}addFeaturesStyle(e,t){let n=null;if(this.options.textStyle)n=Wi(this.options.textStyle),n.getText().setText(e.toString()),t.setStyle(n);else{let r={Style:{text:{Text:{text:e.toString(),font:"20px Calibri,sans-serif",fill:{Fill:{color:"#000000"}},stroke:{Stroke:{color:"#ffffff",width:4}}}}}};n=Wi(r),t.setStyle(n)}}addFeaturesToLayer(e){if(e.length>0){if(this.getSource())this.getSource().clear();else{let t=new hl({wrapX:!1});this.setSource(t)}e.length>0&&(this.getSource().addFeatures(e),this.setOpacity(1))}}_setSource(e){}_setStyle(e){}_remove(){}_getData(e,t,n,r){let s=_c(this.map,e),a=[t.lo1,t.la1,t.lo2,t.la2];s[0],s[1];let o=[s[0],s[1]];return o[0]%360<-180?o[0]=360+o[0]%360:o[0]=o[0]%360,o[0]>180&&(o[0]=o[0]-360),sS(n,a,o[0],o[1],r,t.dx,t.dy)}addSpotGL(e){}};function pL(i){return JSON.parse(JSON.stringify(i))}class dl{constructor(){this._style={},this.isDestoryed=!1}parse(){return new bt}serialize(){return pL(this._style)}setStyle(e){this._style=e}setColor(e){this._color=e}destory(){this._style={},this.isDestoryed=!0}}const gL={TWO_PI:Math.PI*2,HALF_PI:Math.PI/2,FITTING_COUNT:100,ZERO_TOLERANCE:1e-4,HELPER_HIDDEN_DIV:"p-helper-hidden-div",HELPER_CONTROL_POINT_DIV:"p-helper-control-point-div",HELPER_shizi:"mybkkd",SE_DISABLED:"se_disabled"};function kh(i,e){let t=e[0]-i[0],n=e[1]-i[1];return Math.sqrt(t*t+n*n)}function Wg(i,e){return[(i[0]+e[0])/2,(i[1]+e[1])/2]}function ji(i,e){return Math.atan2(e[1]-i[1],e[0]-i[0])}function mL(i,e){const t=Math.asin(Math.abs(e[1]-i[1])/kh(i,e));let n;return e[1]>=i[1]&&e[0]>=i[0]?n=t+Math.PI:e[1]>=i[1]&&e[0]<i[0]?n=gL.TWO_PI-t:e[1]<i[1]&&e[0]<i[0]?n=t:e[1]<i[1]&&e[0]>=i[0]&&(n=Math.PI-t),n}function _L(i,e,t){return[e[0]+i*(t[0]-e[0]),e[1]+i*(t[1]-e[1])]}function da(i,e,t){let n=kh(i,e),r=t/n;return _L(r,i,e)}function pl(i,e){let t=0,n=i[0],r=[n];for(let s=1;s<i.length;s++){const a=i[s];let o=t+kh(n,a),l=e-t;for(;o>=e;){let c=da(n,a,l);r.push(c),l=e,o-=e,n=c}t=o,n=a}return r.push(n),r}function jg(i,e,t=10){if(!Array.isArray(i)||!e)return null;const n=[];let r=e/2;return i.forEach((s,a)=>{if(!a)return;const o=i[a-1];let l=ji(s,o);const c=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)),x=r+c;if(x<e)r=x;else if(x===e){a!==i.length-1&&(l=(Math.PI-ji(i[a+1],s))/2);const{prevs:h,nexts:f}=lS(s,i,a,t/2);n.push({point:s,angle:l,prevs:h,nexts:f}),r=0}else{const u=e-r;let h=c-u,f,A;for(;h>0;){const g=h/c;f=s[0]-(s[0]-o[0])*g,A=s[1]-(s[1]-o[1])*g;const{prevs:d,nexts:p}=lS([f,A],i,a,t/2);n.push({point:[f,A],angle:l,prevs:d,nexts:p}),h-=e}r=Math.sqrt(Math.pow(s[0]-f,2)+Math.pow(s[1]-A,2))}}),n}function lS(i,e,t,n){const r=[],s=[];let a=i,o=0,l=0,c=0;for(let x=t;x>0;x--){if(c=kh(e[x-1],a),o+c<=n)r.push(e[x-1]),o+=c;else{c=n-o;const u=da(a,e[x-1],c);r.push(u);break}a=e[x-1]}a=i;for(let x=t;x<e.length;x++){if(c=kh(a,e[x]),l+c<=n)s.push(e[x]),l+=c;else{c=n-l;const u=da(a,e[x],c);s.push(u);break}a=e[x]}return{prevs:r.reverse(),nexts:s}}function Dy(i,e,t,n,r){const s=mL(i,e),a=r?s+t:s-t,o=n*Math.cos(a),l=n*Math.sin(a);return[e[0]+o,e[1]+l]}const Di=Uh;(function(i,e){const t=Uh,n=i();for(;;)try{if(parseInt(t(294))/1+-parseInt(t(317))/2+-parseInt(t(326))/3+-parseInt(t(322))/4*(parseInt(t(296))/5)+-parseInt(t(303))/6+parseInt(t(324))/7+parseInt(t(310))/8*(parseInt(t(284))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Kg,571382);function Uh(i,e){const t=Kg();return Uh=function(n,r){return n=n-281,t[n]},Uh(i,e)}function Kg(){const i=["2573320sHfMLQ","flatCoordinates","pow","extent","readProjection","assign","flat","2019420vJPDLo","length","properties","Circle","featureProjection","dataProjection","GeometryCollection","10047448KZfLWp","type","geometry","defaultFeatureProjection","writeFeatures","applyTransform","ends","198808xmFbOG","getUnits","featureClass","getType","Polygon","4mmlAWB","writeGeometry","1698662PgtLrK","slice","50661vCIIiJ","MultiPolygon","readFeature","clone","9zInXLo","isArray","supportedMediaTypes","tile-pixels","map","writeFeature","round","getReadOptions","readGeometry","adaptOptions","40310rGLtNn","layout"];return Kg=function(){return i},Kg()}class xS{constructor(){const e=Uh;this[e(308)]=void 0,this.defaultFeatureProjection=void 0,this[e(319)]=al,this[e(286)]=null}[Di(291)](e,t){const n=Di;if(t){let r=t[n(308)]?Kt(t.dataProjection):this.readProjection(e);t[n(299)]&&r&&r[n(318)]()===n(287)&&(r=Kt(r),r.setWorldExtent(t[n(299)])),t={dataProjection:r,featureProjection:t.featureProjection}}return this[n(293)](t)}[Di(293)](e){const t=Di;return Object[t(301)]({dataProjection:this.dataProjection,featureProjection:this[t(313)],featureClass:this.featureClass},e)}[Di(320)](){return je()}[Di(282)](e,t){return je()}readFeatures(e,t){return je()}[Di(292)](e,t){return je()}[Di(300)](e){return je()}[Di(289)](e,t){return je()}[Di(314)](e,t){return je()}[Di(323)](e,t){return je()}}function Jg(i,e,t){const n=Di,r=t?Kt(t[n(307)]):null,s=t?Kt(t[n(308)]):null;let a=i;if(r&&s&&!Js(r,s)){e&&(a=i[n(283)]());const o=e?r:s,l=e?s:r;o.getUnits()===n(287)?a.transform(o,l):a[n(315)](mc(o,l))}if(e&&t&&t.decimals!==void 0){const o=Math[n(298)](10,t.decimals),l=function(c){const x=n;for(let u=0,h=c[x(304)];u<h;++u)c[u]=Math[x(290)](c[u]*o)/o;return c};a===i&&(a=i[n(283)]()),a[n(315)](l)}return a}const IL={Point:d0,LineString:b0,Polygon:Uc,MultiPoint:wh,MultiLineString:vh,MultiPolygon:Sh};function EL(i,e,t){const n=Di;return Array[n(285)](e[0])?(!VB(i,0,e,t)&&(i=i[n(325)](),YE(i,0,e,t)),i):(!qE(i,0,e,t)&&(i=i[n(325)](),w1(i,0,e,t)),i)}function uS(i,e){var a;const t=Di,n=i[t(312)];if(!n)return[];if(Array.isArray(n))return n[t(288)](o=>uS({...i,geometry:o}))[t(302)]();const r=n.type===t(281)?t(321):n[t(311)];if(r===t(309)||r===t(306))throw new Error("Unsupported geometry type: "+r);const s=n[t(295)][t(304)];return Jg(new Ei(r,r===t(321)?EL(n.flatCoordinates,n[t(316)],s):n[t(297)],(a=n[t(316)])==null?void 0:a[t(302)](),s,i[t(305)]||{},i.id).enableSimplifyTransformed(),!1,e)}function Qy(i,e){const t=Di;if(!i)return null;if(Array[t(285)](i)){const r=i.map(s=>Qy(s,e));return new fg(r)}const n=IL[i[t(311)]];return Jg(new n(i[t(297)],i[t(295)],i.ends),!1,e)}const kn=Zg;(function(i,e){const t=Zg,n=i();for(;;)try{if(-parseInt(t(369))/1+parseInt(t(366))/2*(-parseInt(t(385))/3)+parseInt(t(378))/4*(-parseInt(t(363))/5)+parseInt(t(381))/6+-parseInt(t(376))/7*(parseInt(t(390))/8)+-parseInt(t(374))/9*(parseInt(t(382))/10)+parseInt(t(384))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})($g,650769);function Zg(i,e){const t=$g();return Zg=function(n,r){return n=n-363,t[n]},Zg(i,e)}function $g(){const i=["string","writeFeatures","readFeature","29457tWhiKU","writeGeometry","2489039pksnAk","readGeometryFromObject","7464FzyIjY","getReadOptions","writeFeatureObject","3488934TCyPkY","1370RPvqNs","readGeometry","19326109ZJdLnk","3bccoRu","stringify","writeGeometryObject","readFeaturesFromObject","readProjection","8sHrFsu","165FXFihS","getType","writeFeature","142866RYzCsV","readFeatureFromObject","readProjectionFromObject","750650CKBbCO","writeFeaturesObject"];return $g=function(){return i},$g()}class yL extends xS{constructor(){super()}[kn(364)](){return"json"}[kn(373)](e,t){const n=kn;return this[n(367)](em(e),this[n(379)](e,t))}readFeatures(e,t){const n=kn;return this[n(388)](em(e),this[n(379)](e,t))}[kn(367)](e,t){return je()}[kn(388)](e,t){return je()}[kn(383)](e,t){const n=kn;return this[n(377)](em(e),this[n(379)](e,t))}[kn(377)](e,t){return je()}[kn(389)](e){return this[kn(368)](em(e))}[kn(368)](e){return je()}[kn(365)](e,t){return JSON.stringify(this[kn(380)](e,t))}[kn(380)](e,t){return je()}[kn(372)](e,t){const n=kn;return JSON[n(386)](this[n(370)](e,t))}writeFeaturesObject(e,t){return je()}[kn(375)](e,t){return JSON[kn(386)](this.writeGeometryObject(e,t))}[kn(387)](e,t){return je()}}function em(i){if(typeof i===kn(371)){const t=JSON.parse(i);return t||null}return i!==null?i:null}const rn=Nh;(function(i,e){const t=Nh,n=i();for(;;)try{if(-parseInt(t(466))/1*(-parseInt(t(443))/2)+-parseInt(t(464))/3*(-parseInt(t(483))/4)+parseInt(t(484))/5*(-parseInt(t(459))/6)+-parseInt(t(463))/7+-parseInt(t(434))/8*(-parseInt(t(472))/9)+parseInt(t(471))/10+-parseInt(t(455))/11*(parseInt(t(447))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(tm,771492);class hS extends yL{constructor(e){const t=Nh;e=e||{},super(),this[t(486)]=Kt(e.dataProjection?e[t(486)]:"EPSG:4326"),e[t(470)]&&(this[t(446)]=Kt(e[t(470)])),e[t(437)]&&(this.featureClass=e[t(437)]),this[t(492)]=e.geometryName,this[t(445)]=e[t(462)],this[t(480)]=[t(429),t(456)]}[rn(436)](e,t){const n=rn;let r=null;e[n(430)]===n(452)?r=e:r={type:n(452),geometry:e,properties:null};const s=Fy(r[n(493)]);if(this[n(437)]===Ei)return uS({geometry:s,id:r.id,properties:r[n(465)]},t);const a=new al;return this[n(492)]?a[n(469)](this[n(492)]):this[n(445)]&&r[n(460)]&&a.setGeometryName(r[n(460)]),a[n(431)](Qy(s,t)),"id"in r&&a[n(481)](r.id),r[n(465)]&&a[n(444)](r.properties,!0),a}[rn(490)](e,t){const n=rn,r=e;let s=null;if(r[n(430)]===n(450)){const a=e;s=[];const o=a[n(489)];for(let l=0,c=o.length;l<c;++l){const x=this[n(436)](o[l],t);x&&s[n(432)](x)}}else s=[this[n(436)](e,t)];return s[n(479)]()}[rn(476)](e,t){return CL(e,t)}[rn(457)](e){const t=rn,n=e[t(473)];let r;if(n)if(n.type==t(427))r=Kt(n[t(465)][t(427)]);else if(n.type===t(448))r=Kt(t(438)+n.properties.code);else throw new Error(t(467));else r=this[t(486)];return r}[rn(458)](e,t){const n=rn;t=this.adaptOptions(t);const r={type:n(452),geometry:null,properties:null},s=e[n(485)]();if(s!==void 0&&(r.id=s),!e[n(439)]())return r;const a=e[n(487)](),o=e[n(491)]();return o&&(r.geometry=Ly(o,t),delete a[e.getGeometryName()]),!Ya(a)&&(r[n(465)]=a),r}[rn(474)](e,t){const n=rn;t=this.adaptOptions(t);const r=[];for(let s=0,a=e[n(478)];s<a;++s)r.push(this.writeFeatureObject(e[s],t));return{type:n(450),features:r}}[rn(442)](e,t){return Ly(e,this[rn(454)](t))}}function Fy(i,e){const t=rn;if(!i)return null;let n;switch(i[t(430)]){case t(441):{n=vL(i);break}case t(477):{n=wL(i);break}case"Polygon":{n=RL(i);break}case t(488):{n=SL(i);break}case t(475):{n=BL(i);break}case t(435):{n=ML(i);break}case t(482):{n=bL(i);break}default:throw new Error("Unsupported GeoJSON type: "+i[t(430)])}return n}function CL(i,e){const t=Fy(i);return Qy(t,e)}function bL(i,e){const t=rn;return i[t(494)][t(433)](function(r){return Fy(r)})}function vL(i){const e=rn,t=i[e(451)];return{type:e(441),flatCoordinates:t,layout:h0(t[e(478)])}}function wL(i){var r;const e=rn,t=i[e(451)],n=t[e(479)]();return{type:e(477),flatCoordinates:n,ends:[n.length],layout:h0(((r=t[0])==null?void 0:r[e(478)])||2)}}function BL(i){var a,o;const e=rn,t=i.coordinates,n=((o=(a=t[0])==null?void 0:a[0])==null?void 0:o[e(478)])||2,r=[],s=Lu(r,0,t,n);return{type:"MultiLineString",flatCoordinates:r,ends:s,layout:h0(n)}}function SL(i){var n;const e=rn,t=i.coordinates;return{type:e(488),flatCoordinates:t[e(479)](),layout:h0(((n=t[0])==null?void 0:n[e(478)])||2)}}function ML(i){var a,o;const e=rn,t=i[e(451)],n=[],r=((o=(a=t[0])==null?void 0:a[0])==null?void 0:o[0].length)||2,s=FB(n,0,t,r);return{type:e(435),flatCoordinates:n,ends:s,layout:h0(r)}}function RL(i){var s,a;const e=i.coordinates,t=[],n=(a=(s=e[0])==null?void 0:s[0])==null?void 0:a.length,r=Lu(t,0,e,n);return{type:"Polygon",flatCoordinates:t,ends:r,layout:h0(n)}}function Ly(i,e){const t=rn;i=Jg(i,!0,e);const n=i[t(468)]();let r;switch(n){case t(441):{r=PL(i);break}case"LineString":{r=DL(i);break}case t(428):{r=kL(i,e);break}case"MultiPoint":{r=FL(i);break}case t(475):{r=QL(i);break}case"MultiPolygon":{r=LL(i,e);break}case"GeometryCollection":{r=TL(i,e);break}case t(461):{r={type:t(482),geometries:[]};break}default:throw new Error("Unsupported geometry type: "+n)}return r}function TL(i,e){const t=rn;e=Object[t(449)]({},e),delete e[t(470)];const n=i.getGeometriesArray()[t(433)](function(r){return Ly(r,e)});return{type:t(482),geometries:n}}function DL(i,e){return{type:rn(477),coordinates:i.getCoordinates()}}function QL(i,e){return{type:"MultiLineString",coordinates:i.getCoordinates()}}function Nh(i,e){const t=tm();return Nh=function(n,r){return n=n-427,t[n]},Nh(i,e)}function FL(i,e){return{type:rn(488),coordinates:i.getCoordinates()}}function LL(i,e){const t=rn;let n;return e&&(n=e[t(453)]),{type:t(435),coordinates:i[t(440)](n)}}function PL(i,e){const t=rn;return{type:t(441),coordinates:i[t(440)]()}}function tm(){const i=["writeFeaturesObject","MultiLineString","readGeometryFromObject","LineString","length","flat","supportedMediaTypes","setId","GeometryCollection","388aBBDiN","5VfcuRP","getId","dataProjection","getProperties","MultiPoint","features","readFeaturesFromObject","getGeometry","geometryName_","geometry","geometries","name","Polygon","application/geo+json","type","setGeometry","push","map","11149448yLlZti","MultiPolygon","readFeatureFromObject","featureClass","EPSG:","hasProperties","getCoordinates","Point","writeGeometryObject","1198322IGwiGP","setProperties","extractGeometryName_","defaultFeatureProjection","45036NLviUE","EPSG","assign","FeatureCollection","coordinates","Feature","rightHanded","adaptOptions","1727UePtKf","application/vnd.geo+json","readProjectionFromObject","writeFeatureObject","4567746PYMvNl","geometry_name","Circle","extractGeometryName","7616182iEIVBQ","11607DzJVPp","properties","2nNDpDl","Unknown SRS type","getType","setGeometryName","featureProjection","2427340hvIiaQ","9AkRzrD","crs"];return tm=function(){return i},tm()}function kL(i,e){const t=rn;let n;return e&&(n=e[t(453)]),{type:t(428),coordinates:i[t(440)](n)}}class UL extends dl{constructor(e){super(),this._angle=Math.PI/4,this.lineLength=15,this._sqrt_2=1.414,this.lineWidth=e.lineWidth,this.offset=-10,this._color="rgb(204, 51, 51)",this._style={color:this._color}}renderFront(e,t,n){let r=0;r=this.offset>0?0:Math.PI;const s=Math.atan2(t[1]-n[1],t[0]-n[0])+r,a=Math.abs(this.offset),o=(t[0]+n[0])/2,l=(t[1]+n[1])/2;e.strokeStyle=this._color,e.lineWidth=this.lineWidth,e.save(),e.translate(o,l),e.rotate(s),e.beginPath(),e.moveTo(0,0),e.lineTo(0,a),e.stroke(),e.restore()}parse(){const e=new bt({stroke:new Ri({color:this._color,width:this.lineWidth})}),t=new bt({renderer:(n,r)=>{const s=r.context;s.save();const a=pl(n,40);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o]);s.restore()}});return[e,t]}}class NL extends dl{constructor(){super(),this._style={fill:{color:"rgba(0,255,0,0.4)"},stroke:{color:"#FF0000",width:2}}}parse(){let e,t=null;return this._style.fill&&(e=new Gi(this._style.fill)),this._style.stroke&&(t=new Ri(this._style.stroke)),new bt({fill:e,stroke:t})}}class OL extends dl{constructor(){super(),this._angle=Math.PI/4,this._sqrt_2=1.414,this._color="rgb(0,0,255)",this._style={color:this._color}}renderFront(e,t,n,r){const s=Wg(t,n),a=da(s,t,r),o=da(s,n,r),l=Dy(a,o,this._angle,this._sqrt_2*r,!1);e.beginPath(),e.moveTo(a[0],a[1]),e.lineTo(l[0],l[1]),e.lineTo(o[0],o[1]),e.fillStyle=this._color,e.fill()}parse(){let e=new bt({stroke:new Ri({color:this._color,width:2})}),t=new bt({renderer:(n,r)=>{const s=r.context;s.save();let a=pl(n,40);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o],10);s.restore()}});return[e,t]}}class GL extends dl{constructor(){super(),this._color="rgb(255,0,0)",this._style={color:this._color}}renderFront(e,t,n,r){const s=Wg(t,n);e.beginPath(),e.moveTo(s[0],s[1]),e.arc(s[0],s[1],r,ji(s,t)-.08,ji(s,n)+.08,!0),e.fillStyle=this._color,e.fill()}parse(){let e=new bt({stroke:new Ri({color:this._color,width:3})}),t=new bt({renderer:(n,r)=>{const s=r.context;s.save();let a=pl(n,40);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o],10);s.restore()}});return[e,t]}}class zL extends dl{constructor(){super(),this._angle=Math.PI/4,this._sqrt_2=1.414,this._color="rgb(235,18,245)",this._style={color:this._color}}renderFront(e,t,n,r){const s=Wg(t,n),a=da(s,t,r);e.beginPath(),e.moveTo(a[0],a[1]),e.arc(a[0],a[1],r,ji(s,t)-.08,ji(s,n)+.08,!0),e.fillStyle=this._color,e.fill();const o=da(s,n,r*2),l=Dy(s,o,this._angle,r*this._sqrt_2,!1);e.beginPath(),e.moveTo(s[0],s[1]),e.lineTo(l[0],l[1]),e.lineTo(o[0],o[1]),e.fillStyle=this._color,e.fill()}parse(){let e=new bt({stroke:new Ri({color:this._color,width:3})}),t=new bt({renderer:(n,r)=>{const s=r.context;s.save();let a=pl(n,60);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o],10);s.restore()}});return[e,t]}}class VL extends dl{constructor(){super(),this._angle=Math.PI/4,this._sqrt_2=1.414,this._color="rgb(255,0,0)",this._style={color:this._color}}renderFront(e,t,n,r){const s=Wg(t,n),a=da(s,t,r);e.beginPath(),e.moveTo(a[0],a[1]),e.arc(a[0],a[1],r,ji(s,t)-.08,ji(s,n)+.08,!0),e.fillStyle=this._color,e.fill();const o=da(s,n,r*2),l=Dy(s,o,this._angle,r*this._sqrt_2,!0);e.beginPath(),e.moveTo(s[0],s[1]),e.lineTo(l[0],l[1]),e.lineTo(o[0],o[1]),e.fillStyle=this._color,e.fill()}parse(){let e=new bt({stroke:new Ri({color:this._color,width:3})}),t=new bt({renderer:(n,r)=>{const s=r.context;s.save();let a=pl(n,60);for(let o=1;o<a.length;o++)this.renderFront(s,a[o-1],a[o],10);s.restore()}});return[e,t]}}function HL(i){i={lineStyle:{Style:{stroke:{Stroke:{color:"red",width:5,lineDash:[5,10,25]}}}},options:{offset:10,color:"red",width:4}};let e=Wi(i.lineStyle),t=i.options;const n=new bt({renderer:(r,s)=>{const a=s.context;a.save();const o=pl(r,40);for(let l=1;l<o.length;l++)qL(a,o[l-1],o[l],t);a.restore()}});return[e,n]}function qL(i,e,t,n){let r=n.offset,s=n.color,a=n.width,o=0;o=r>0?0:Math.PI;const l=Math.atan2(e[1]-t[1],e[0]-t[0])+o,c=Math.abs(r),x=(e[0]+t[0])/2,u=(e[1]+t[1])/2;i.strokeStyle=s,i.lineWidth=a,i.save(),i.translate(x,u),i.rotate(l),i.beginPath(),i.moveTo(0,0),i.lineTo(0,c),i.stroke(),i.restore()}function fS(i){let e=Wi(i.lineStyle);const t=i.options,n=((t==null?void 0:t.radius)||10)*2,r=(t==null?void 0:t.distance)||120,s=!!(t!=null&&t.clockwise)||!1;let a=new bt({renderer:(o,l)=>{const c=l.context;c.save();let x=jg(o,r,n);c.fillStyle=(t==null?void 0:t.color)||"#00f";for(let u=0;u<x.length;u++){const{point:h,angle:f,prevs:A,nexts:g}=x[u],d=s?f:f+Math.PI,p=h[0]+Math.sin(d)*n*Math.SQRT2/2,_=h[1]-Math.cos(d)*n*Math.SQRT2/2,I=A.concat([h]).concat(g).concat([[p,_]]);c.beginPath(),c.moveTo(I[0][0],I[0][1]),I.forEach(m=>c.lineTo(m[0],m[1])),c.fill(),c.closePath()}c.restore()}});return[e,a]}function YL(i){let e=Wi(i.lineStyle);const t=i.options,n=(t==null?void 0:t.radius)||10,r=(t==null?void 0:t.distance)||120,s=!!(t!=null&&t.clockwise)||!1;let a=new bt({renderer:(o,l)=>{const c=l.context;c.save();let x=jg(o,r,n);c.fillStyle=(t==null?void 0:t.color)||"#f00";for(let u=0;u<x.length;u++){const{point:h,prevs:f,nexts:A}=x[u],g=f.concat([h]).concat(A),d=ji(h,f[0]),p=ji(h,A[A.length-1]);c.beginPath(),c.moveTo(g[0][0],h[0][1]),g.forEach(_=>c.lineTo(_[0],_[1])),c.arc(h[0],h[1],n,d,p,s),c.fill(),c.closePath()}c.restore()}});return[e,a]}function XL(i){let e=Wi(i.lineStyle);const t=i.options,n=t.radius||10,r=t.distance||120,s=!!(t!=null&&t.clockwise)||!1;let a=new bt({renderer:(o,l)=>{const c=l.context;c.save();let x=jg(o,r,n*2);for(let u=0;u<x.length;u++){const{point:h,angle:f,prevs:A,nexts:g}=x[u];if(u%2){const d=A.concat([h]).concat(g),p=ji(h,A[0]),_=ji(h,g[g.length-1]);c.beginPath(),c.moveTo(d[0][0],h[0][1]),d.forEach(I=>c.lineTo(I[0],I[1])),c.arc(h[0],h[1],n,p,_,s),c.fillStyle="#f00"}else{const d=s?f+Math.PI:f,p=h[0]+Math.sin(d)*n*Math.SQRT2,_=h[1]-Math.cos(d)*n*Math.SQRT2,I=A.concat([h]).concat(g).concat([[p,_]]);c.beginPath(),c.moveTo(I[0][0],I[0][1]),I.forEach(m=>c.lineTo(m[0],m[1])),c.fillStyle="#00f"}c.fill(),c.closePath()}c.restore()}});return[e,a]}function WL(i){let e=Wi(i.lineStyle);const t=i.options||{},n=t.radius||10,r=t.distance||120,s=!!(t!=null&&t.clockwise)||!1;let a=new bt({renderer:(o,l)=>{const c=l.context;c.save();let x=jg(o,r,n*2);for(let u=0;u<x.length;u++){const{point:h,angle:f,prevs:A,nexts:g}=x[u];if(u%2){const d=A.concat([h]).concat(g),p=ji(h,A[0]),_=ji(h,g[g.length-1]);c.beginPath(),c.moveTo(d[0][0],h[0][1]),d.forEach(I=>c.lineTo(I[0],I[1])),c.arc(h[0],h[1],n,p,_,!s),c.fillStyle="#f00"}else{const d=h[0]+Math.sin(f)*n*Math.SQRT2,p=h[1]-Math.cos(f)*n*Math.SQRT2,_=A.concat([h]).concat(g).concat([[d,p]]);c.beginPath(),c.moveTo(_[0][0],_[0][1]),_.forEach(I=>c.lineTo(I[0],I[1])),c.fillStyle="#00f"}c.fill(),c.closePath()}c.restore()}});return[e,a]}function qJ(i){}var jL=class{constructor(e){}getCme_FrostLineStyle(e){return HL(e)}getCme_LINES_SYMBOL2(e){return fS(e)}getCme_LINES_18(e){return fS(e)}getCme_LINES_19(e){return YL(e)}getCme_LINES_41(e){return XL(e)}getCme_LINES_51(e){return WL(e)}getCme_ParallelLines(e,t){return void 0}getCme_Style(e){return Wi(e)}},AS=class{constructor(e){}getCme_Style(e){return Wi(e)}},gl=class extends Gi{constructor(e){super(),e=e||{};var t,n=this.canvas_=document.createElement("canvas"),r=Number(e.scale)>0?Number(e.scale):1,s=r*ed||ed,a=n.getContext("2d");if(e.image){e.image.load();var o,l=e.image.getImage();if(l.width)n.width=Math.round(l.width*s),n.height=Math.round(l.height*s),a.globalAlpha=typeof e.opacity=="number"?e.opacity:1,a.drawImage(l,0,0,l.width,l.height,0,0,n.width,n.height),t=a.createPattern(n,"repeat");else{var c=this;t=[0,0,0,0],l.onload=function(){n.width=Math.round(l.width*s),n.height=Math.round(l.height*s),a.globalAlpha=typeof e.opacity=="number"?e.opacity:1,a.drawImage(l,0,0,l.width,l.height,0,0,n.width,n.height),t=a.createPattern(n,"repeat"),c.setColor(t)}}}else{var x=this.getPattern_(e);if(n.width=Math.round(x.width*s),n.height=Math.round(x.height*s),a.beginPath(),e.fill&&(a.fillStyle=ea(e.fill.getColor()),a.fillRect(0,0,n.width,n.height)),a.scale(s,s),a.lineCap="round",a.lineWidth=x.stroke||1,a.fillStyle=ea(e.color||"#000"),a.strokeStyle=ea(e.color||"#000"),x.circles)for(o=0;o<x.circles.length;o++){var u=x.circles[o];a.beginPath(),a.arc(u[0],u[1],u[2],0,2*Math.PI),x.fill&&a.fill(),x.stroke&&a.stroke()}if(x.repeat||(x.repeat=[[0,0]]),x.char&&(a.font=x.font||x.width+"px Arial",a.textAlign="center",a.textBaseline="middle",x.angle?(a.fillText(x.char,x.width/4,x.height/4),a.fillText(x.char,5*x.width/4,5*x.height/4),a.fillText(x.char,x.width/4,5*x.height/4),a.fillText(x.char,5*x.width/4,x.height/4),a.fillText(x.char,3*x.width/4,3*x.height/4),a.fillText(x.char,-x.width/4,-x.height/4),a.fillText(x.char,3*x.width/4,-x.height/4),a.fillText(x.char,-x.width/4,3*x.height/4)):a.fillText(x.char,x.width/2,x.height/2)),x.lines)for(o=0;o<x.lines.length;o++)for(var h=0;h<x.repeat.length;h++){var f=x.lines[o];a.beginPath(),a.moveTo(f[0]+x.repeat[h][0],f[1]+x.repeat[h][1]);for(var A=2;A<f.length;A+=2)a.lineTo(f[A]+x.repeat[h][0],f[A+1]+x.repeat[h][1]);x.fill&&a.fill(),x.stroke&&a.stroke(),a.save(),a.strokeStyle="red",a.strokeWidth=.1,a.restore()}if(t=a.createPattern(n,"repeat"),e.offset){var g=e.offset;if(typeof g=="number"&&(g=[g,g]),g instanceof Array){var d=Math.round(g[0]*s),p=Math.round(g[1]*s);a.scale(1/s,1/s),a.clearRect(0,0,n.width,n.height),a.translate(d,p),a.fillStyle=t,a.fillRect(-d,-p,n.width,n.height),t=a.createPattern(n,"repeat")}}}this.setColor(t)}static addPattern(e,t){t||(t={}),gl.patterns[e||t.char]={width:t.width||t.size||10,height:t.height||t.size||10,font:t.font,char:t.char,circles:t.circles,lines:t.lines,repeat:t.repeat,stroke:t.stroke,angle:t.angle,fill:t.fill}}clone(){var e=super.clone();return e.canvas_=this.canvas_,e}getImage(){return this.canvas_}getPattern_(e){var t=gl.patterns[e.pattern]||gl.patterns.dot,n=Math.round(e.spacing)||10,r;switch(e.pattern){case"dot":case"circle":{r=e.size===0?0:e.size/2||2,e.angle?(n=t.width=t.height=Math.round(n*1.4),t.circles=[[n/4,n/4,r],[3*n/4,3*n/4,r]],e.pattern=="circle"&&(t.circles=t.circles.concat([[n/4+n,n/4,r],[n/4,n/4+n,r],[3*n/4-n,3*n/4,r],[3*n/4,3*n/4-n,r],[n/4+n,n/4+n,r],[3*n/4-n,3*n/4-n,r]]))):(t.width=t.height=n,t.circles=[[n/2,n/2,r]],e.pattern=="circle"&&(t.circles=t.circles.concat([[n/2+n,n/2,r],[n/2-n,n/2,r],[n/2,n/2+n,r],[n/2,n/2-n,r],[n/2+n,n/2+n,r],[n/2+n,n/2-n,r],[n/2-n,n/2+n,r],[n/2-n,n/2-n,r]])));break}case"tile":case"square":{r=e.size===0?0:e.size/2||2,e.angle?(t.width=t.height=n,t.lines=[[n/2-r,n/2,n/2,n/2-r,n/2+r,n/2,n/2,n/2+r,n/2-r,n/2]]):(t.width=t.height=n,t.lines=[[n/2-r,n/2-r,n/2+r,n/2-r,n/2+r,n/2+r,n/2-r,n/2+r,n/2-r,n/2-r]]),e.pattern=="square"&&(t.repeat=[[0,0],[0,n],[n,0],[0,-n],[-n,0],[-n,-n],[n,n],[-n,n],[n,-n]]);break}case"cross":e.angle&&(e.angle=45);case"hatch":{var s=Math.round(((e.angle||0)-90)%360);s>180&&(s-=360),s*=Math.PI/180;var a=Math.cos(s),o=Math.sin(s);if(Math.abs(o)<1e-4)t.width=t.height=n,t.lines=[[0,.5,n,.5]],t.repeat=[[0,0],[0,n]];else if(Math.abs(a)<1e-4)t.width=t.height=n,t.lines=[[.5,0,.5,n]],t.repeat=[[0,0],[n,0]],e.pattern=="cross"&&(t.lines.push([0,.5,n,.5]),t.repeat.push([0,n]));else{var l=t.width=Math.round(Math.abs(n/o))||1,c=t.height=Math.round(Math.abs(n/a))||1;e.pattern=="cross"?(t.lines=[[-l,-c,2*l,2*c],[2*l,-c,-l,2*c]],t.repeat=[[0,0]]):a*o>0?(t.lines=[[-l,-c,2*l,2*c]],t.repeat=[[0,0],[l,0],[0,c]]):(t.lines=[[2*l,-c,-l,2*c]],t.repeat=[[0,0],[-l,0],[0,c]])}t.stroke=e.size===0?0:e.size||4;break}}return t}};gl.patterns={hatch:{width:5,height:5,lines:[[0,2.5,5,2.5]],stroke:1},cross:{width:7,height:7,lines:[[0,3,10,3],[3,0,3,10]],stroke:1},dot:{width:8,height:8,circles:[[5,5,2]],stroke:!1,fill:!0},circle:{width:10,height:10,circles:[[5,5,2]],stroke:1,fill:!1},square:{width:10,height:10,lines:[[3,3,3,8,8,8,8,3,3,3]],stroke:1,fill:!1},tile:{width:10,height:10,lines:[[3,3,3,8,8,8,8,3,3,3]],fill:!0},woven:{width:12,height:12,lines:[[3,3,9,9],[0,12,3,9],[9,3,12,0],[-1,1,1,-1],[13,11,11,13]],stroke:1},crosses:{width:8,height:8,lines:[[2,2,6,6],[2,6,6,2]],stroke:1},caps:{width:8,height:8,lines:[[2,6,4,2,6,6]],stroke:1},nylon:{width:20,height:20,lines:[[1,6,1,1,6,1],[6,11,11,11,11,6],[11,16,11,21,16,21],[16,11,21,11,21,16]],repeat:[[0,0],[-20,0],[0,-20]],stroke:1},hexagon:{width:20,height:12,lines:[[0,10,4,4,10,4,14,10,10,16,4,16,0,10]],stroke:1,repeat:[[0,0],[10,6],[10,-6],[-10,-6]]},cemetry:{width:15,height:19,lines:[[0,3.5,7,3.5],[3.5,0,3.5,10]],stroke:1,repeat:[[0,0],[7,9]]},sand:{width:20,height:20,circles:[[1,2,1],[9,3,1],[2,16,1],[7,8,1],[6,14,1],[4,19,1],[14,2,1],[12,10,1],[14,18,1],[18,8,1],[18,14,1]],fill:1},conglomerate:{width:60,height:40,circles:[[2,4,1],[17,3,1],[26,18,1],[12,17,1],[5,17,2],[28,11,2]],lines:[[7,5,6,7,9,9,11,8,11,6,9,5,7,5],[16,10,15,13,16,14,19,15,21,13,22,9,20,8,19,8,16,10],[24,6,26,7,27,5,26,4,24,4,24,6]],repeat:[[30,0],[-15,20],[15,20],[45,20]],stroke:1},conglomerate2:{width:60,height:40,circles:[[2,4,1],[17,3,1],[26,18,1],[12,17,1],[5,17,2],[28,11,2]],lines:[[7,5,6,7,9,9,11,8,11,6,9,5,7,5],[16,10,15,13,16,14,19,15,21,13,22,9,20,8,19,8,16,10],[24,6,26,7,27,5,26,4,24,4,24,6]],repeat:[[30,0],[-15,20],[15,20],[45,20]],fill:1},gravel:{width:15,height:10,circles:[[4,2,1],[5,9,1],[1,7,1]],lines:[[7,5,6,6,7,7,8,7,9,7,10,5,9,4,7,5],[11,2,14,4,14,1,12,1,11,2]],stroke:1},brick:{width:18,height:16,lines:[[0,1,18,1],[0,10,18,10],[6,1,6,10],[12,10,12,18],[12,0,12,1]],stroke:1},dolomite:{width:20,height:16,lines:[[0,1,20,1],[0,9,20,9],[1,9,6,1],[11,9,14,16],[14,0,14.4,1]],stroke:1},coal:{width:20,height:16,lines:[[1,5,7,1,7,7],[11,10,12,5,18,9],[5,10,2,15,9,15],[15,16,15,13,20,16],[15,0,15,2,20,0]],fill:1},breccia:{width:20,height:16,lines:[[1,5,7,1,7,7,1,5],[11,10,12,5,18,9,11,10],[5,10,2,15,9,15,5,10],[15,16,15,13,22,18],[15,0,15,2,20,0]],stroke:1},clay:{width:20,height:20,lines:[[0,0,3,11,0,20],[11,0,10,3,13,13,11,20],[0,0,10,3,20,0],[0,12,3,11,13,13,20,12]],stroke:1},flooded:{width:15,height:10,lines:[[0,1,10,1],[0,6,5,6],[10,6,15,6]],stroke:1},chaos:{width:40,height:40,lines:[[40,2,40,0,38,0,40,2],[4,0,3,2,2,5,0,0,0,3,2,7,5,6,7,7,8,10,9,12,9,13,9,14,8,14,6,15,2,15,0,20,0,22,2,20,5,19,8,15,10,14,11,12.25,10,12,10,10,12,9,13,7,12,6,13,4,16,7,17,4,20,0,18,0,15,3,14,2,14,0,12,1,11,0,10,1,11,4,10,7,9,8,8,5,6,4,5,3,5,1,5,0,4,0],[7,1,7,3,8,3,8,2,7,1],[4,3,5,5,4,5,4,3],[34,5,33,7,38,10,38,8,36,5,34,5],[27,0,23,2,21,8,30,0,27,0],[25,8,26,12,26,16,22.71875,15.375,20,13,18,15,17,18,13,22,17,21,19,22,21,20,19,18,22,17,30,25,26,26,24,28,21.75,33.34375,20,36,18,40,20,40,24,37,25,32,27,31,26,38,27,37,30,32,32,35,36,37,38,40,38,39,40,40,37,36,34,32,37,31,36,29,33,27,34,24,39,21,40,21,40,16,37,20,31,22,32,25,27,20,29,15,30,20,32,20,34,18,33,12,31,11,29,14,26,9,25,8],[39,24,37,26,40,28,39,24],[13,15,9,19,14,18,13,15],[18,23,14,27,16,27,17,25,20,26,18,23],[6,24,2,26,1,28,2,30,5,28,12,30,16,32,18,30,15,30,12,28,9,25,7,27,6,24],[29,27,32,28,33,31,30,29,27,28,29,27],[5,35,1,33,3,36,13,38,15,35,10,36,5,35]],fill:1},grass:{width:27,height:22,lines:[[0,10.5,13,10.5],[2.5,10,1.5,7],[4.5,10,4.5,5,3.5,4],[7,10,7.5,6,8.5,3],[10,10,11,6]],repeat:[[0,0],[14,10]],stroke:1},swamp:{width:24,height:23,lines:[[0,10.5,9.5,10.5],[2.5,10,2.5,7],[4.5,10,4.5,4],[6.5,10,6.5,6],[3,12.5,7,12.5]],repeat:[[0,0],[14,10]],stroke:1},reed:{width:26,height:23,lines:[[2.5,10,2,7],[4.5,10,4.2,4],[6.5,10,6.8,4],[8.5,10,9,6],[3.7,4,3.7,2.5],[4.7,4,4.7,2.5],[6.3,4,6.3,2.5],[7.3,4,7.3,2.5]],circles:[[4.2,2.5,.5],[18.2,12.5,.5],[6.8,2.5,.5],[20.8,12.5,.5],[9,6,.5],[23,16,.5]],repeat:[[0,0],[14,10]],stroke:1},wave:{width:10,height:8,lines:[[0,0,5,4,10,0]],stroke:1},vine:{width:13,height:13,lines:[[3,0,3,6],[9,7,9,13]],stroke:1},forest:{width:55,height:30,circles:[[7,7,3.5],[20,20,1.5],[42,22,3.5],[35,5,1.5]],stroke:1},forest2:{width:55,height:30,circles:[[7,7,3.5],[20,20,1.5],[42,22,3.5],[35,5,1.5]],fill:1,stroke:1},scrub:{width:26,height:20,lines:[[1,4,4,8,6,4]],circles:[[20,13,1.5]],stroke:1},tree:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78]],repeat:[[3,1],[18,16]],stroke:1},tree2:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61]],repeat:[[3,1],[18,16]],fill:1,stroke:1},pine:{width:30,height:30,lines:[[5.66,11.31,2.83,11.31,2.83,8.49,0,8.49,2.83,0,5.66,8.49,2.83,8.49]],repeat:[[3,1],[18,16]],stroke:1},pine2:{width:30,height:30,lines:[[5.66,11.31,2.83,11.31,2.83,8.49,0,8.49,2.83,0,5.66,8.49,2.83,8.49,2.83,11.31,5.66,11.31]],repeat:[[3,1],[18,16]],fill:1,stroke:1},mixtree:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61],[23.66,27.31,20.83,27.31,20.83,24.49,18,24.49,20.83,16,23.66,24.49,20.83,24.49,20.83,27.31,23.66,27.31]],repeat:[[3,1]],stroke:1},mixtree2:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61],[23.66,27.31,20.83,27.31,20.83,24.49,18,24.49,20.83,16,23.66,24.49,20.83,24.49,20.83,27.31,23.66,27.31]],repeat:[[3,1]],fill:1,stroke:1},pines:{width:22,height:20,lines:[[1,4,3.5,1,6,4],[1,8,3.5,5,6,8],[3.5,1,3.5,11],[12,14.5,14.5,14,17,14.5],[12,18,17,18],[14.5,12,14.5,18]],repeat:[[2,1]],stroke:1},rock:{width:20,height:20,lines:[[1,0,1,9],[4,0,4,9],[7,0,7,9],[10,1,19,1],[10,4,19,4],[10,7,19,7],[0,11,9,11],[0,14,9,14],[0,17,9,17],[12,10,12,19],[15,10,15,19],[18,10,18,19]],repeat:[[.5,.5]],stroke:1},rocks:{width:20,height:20,lines:[[5,0,3,0,5,4,4,6,0,3,0,5,3,6,5,9,3.75,10,2.5,10,0,9,0,10,4,11,5,14,4,15,0,13,0,13,0,13,0,14,0,14,5,16,5,18,3,19,0,19,-.25,19.9375,5,20,10,19,10,20,11,20,12,19,14,20,15,20,17,19,20,20,20,19,19,16,20,15,20,11,20,10,19,8,20,5,20,0,19,0,20,2,19,4,17,4,16,3,15,0,14,0,15,4,11,5,10,4,11,0,10,0,9,4,6,5,5,0],[18,5,19,6,18,10,16,10,14,9,16,5,18,5],[5,6,9,5,10,6,10,9,6,10,5,6],[14,5,14,8,13,9,12,9,11,7,12,5,14,5],[5,11,8,10,9,11,10,14,6,15,6,15,5,11],[13,10,14,11,15,14,15,14,15,14,11,15,10,11,11,10,13,10],[15,12,16,11,19,11,19,15,16,14,16,14,15,12],[6,16,9,15,10,18,5,19,6,16],[10,16,14,16,14,18,13,19,11,18,10,16],[15,15,18,16,18,18,16,19,15,18,15,15]],stroke:1}};function KL(i){return new bt({fill:new gl({pattern:i.pattern,ratio:i.ratio||1,color:i.color,offset:i.offset||0,scale:i.scale||1,fill:new Gi({color:i.fill}),size:i.size,spacing:i.spacing,angle:i.angle})})}function JL(i){return new bt({fill:new gl({pattern:i.pattern,ratio:i.ratio||1,color:i.color,offset:i.offset||0,scale:i.scale||1,fill:new Gi({color:i.fill}),size:i.size,spacing:i.spacing,angle:i.angle})})}var ZL=class{constructor(e){}getCme_Style(e){return Wi(e)}getCme_FILLAREA_1101_2_5(e){return KL(e)}getCme_FILLAREA_1101_2_4(e){return JL(e)}},$L=class{constructor(e){}getCme_Style(e){return Wi(e)}};const vn=nm;(function(i,e){const t=nm,n=i();for(;;)try{if(-parseInt(t(388))/1*(parseInt(t(395))/2)+parseInt(t(403))/3+-parseInt(t(387))/4+parseInt(t(385))/5*(parseInt(t(406))/6)+parseInt(t(380))/7+parseInt(t(389))/8+-parseInt(t(359))/9*(parseInt(t(398))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(im,452793);function nm(i,e){const t=im();return nm=function(n,r){return n=n-349,t[n]},nm(i,e)}function im(){const i=["maxZoom","1505670KtoCnW","handleLayersAdd_","zIndex","66olAQvH","set","CHANGE","handleLayerChange_","extent","minZoom","getSourceState","handleLayersRemove_","slice","minResolution","listenerKeys_","setLayers","9pPdCLv","LAYERS","max","layers","handleLayerGroupRemove_","maxResolution","handleLayerGroupAdd_","forEach","layer","removelayer","getLayersArray","dispatchEvent","opacity","getArray","handleLayersChanged_","element","get","REMOVE","getLayerState","length","registerLayerListeners_","5516441ckBMAO","push","getLayers","getLayerStatesArray","assign","307595sZQwvx","PROPERTYCHANGE","1386788mCdThp","44WRveTZ","5211496IDaaAw","addChangeListener","changed","isArray","min","addlayer","37912xhZnqe","ADD","layersListenerKeys_","9845450YggOKS","ready","once","visible"];return im=function(){return i},im()}class yo extends Cr{constructor(e,t){super(e),this.layer=t}}const Py={LAYERS:vn(362)};class B0 extends mB{constructor(e){const t=vn;e=e||{};const n=Object[t(384)]({},e);delete n[t(362)];let r=e[t(362)];super(n),this.on,this[t(400)],this.un,this[t(397)]=[],this.listenerKeys_={},this[t(390)](Py[t(360)],this[t(373)]),r?Array[t(392)](r)?r=new Ms(r[t(355)](),{unique:!0}):yt(typeof r[t(372)]=="function","Expected `layers` to be an array or a `Collection`"):r=new Ms(void 0,{unique:!0}),this[t(358)](r)}[vn(350)](){this[vn(391)]()}[vn(373)](){const e=vn;this.layersListenerKeys_[e(366)](Jt),this[e(397)][e(378)]=0;const t=this.getLayers();this[e(397)][e(381)](mt(t,Yi[e(396)],this[e(404)],this),mt(t,Yi[e(376)],this[e(354)],this));for(const r in this.listenerKeys_)this[e(357)][r][e(366)](Jt);tu(this.listenerKeys_);const n=t[e(372)]();for(let r=0,s=n[e(378)];r<s;r++){const a=n[r];this[e(379)](a),this[e(370)](new yo(e(394),a))}this[e(391)]()}[vn(379)](e){const t=vn,n=[mt(e,bc[t(386)],this[t(350)],this),mt(e,Ye[t(349)],this[t(350)],this)];e instanceof B0&&n[t(381)](mt(e,t(394),this[t(365)],this),mt(e,t(368),this[t(363)],this)),this.listenerKeys_[et(e)]=n}[vn(365)](e){const t=vn;this[t(370)](new yo(t(394),e[t(367)]))}handleLayerGroupRemove_(e){const t=vn;this[t(370)](new yo(t(368),e[t(367)]))}[vn(404)](e){const t=vn,n=e[t(374)];this[t(379)](n),this[t(370)](new yo(t(394),n)),this[t(391)]()}[vn(354)](e){const t=vn,n=e[t(374)],r=et(n);this.listenerKeys_[r].forEach(Jt),delete this[t(357)][r],this[t(370)](new yo(t(368),n)),this[t(391)]()}getLayers(){const e=vn;return this[e(375)](Py[e(360)])}[vn(358)](e){const t=vn,n=this[t(382)]();if(n){const r=n[t(372)]();for(let s=0,a=r.length;s<a;++s)this.dispatchEvent(new yo("removelayer",r[s]))}this[t(407)](Py[t(360)],e)}[vn(369)](e){const t=vn;return e=e!==void 0?e:[],this[t(382)]()[t(366)](function(n){n[t(369)](e)}),e}getLayerStatesArray(e){const t=vn,n=e!==void 0?e:[],r=n[t(378)];this[t(382)]().forEach(function(o){o[t(383)](n)});const s=this[t(377)]();let a=s[t(405)];!e&&s[t(405)]===void 0&&(a=0);for(let o=r,l=n[t(378)];o<l;o++){const c=n[o];c[t(371)]*=s[t(371)],c[t(401)]=c[t(401)]&&s[t(401)],c.maxResolution=Math[t(393)](c[t(364)],s.maxResolution),c[t(356)]=Math[t(361)](c.minResolution,s.minResolution),c[t(352)]=Math[t(361)](c.minZoom,s[t(352)]),c[t(402)]=Math[t(393)](c[t(402)],s.maxZoom),s[t(351)]!==void 0&&(c[t(351)]!==void 0?c.extent=Mi(c[t(351)],s[t(351)]):c[t(351)]=s[t(351)]),c[t(405)]===void 0&&(c.zIndex=a)}return n}[vn(353)](){return vn(399)}}var ky={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ky.read=function(i,e,t,n,r){var s,a,o=r*8-n-1,l=(1<<o)-1,c=l>>1,x=-7,u=t?r-1:0,h=t?-1:1,f=i[e+u];for(u+=h,s=f&(1<<-x)-1,f>>=-x,x+=o;x>0;s=s*256+i[e+u],u+=h,x-=8);for(a=s&(1<<-x)-1,s>>=-x,x+=n;x>0;a=a*256+i[e+u],u+=h,x-=8);if(s===0)s=1-c;else{if(s===l)return a?NaN:(f?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-c}return(f?-1:1)*a*Math.pow(2,s-n)},ky.write=function(i,e,t,n,r,s){var a,o,l,c=s*8-r-1,x=(1<<c)-1,u=x>>1,h=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,A=n?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=x):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+u>=1?e+=h/l:e+=h*Math.pow(2,1-u),e*l>=2&&(a++,l/=2),a+u>=x?(o=0,a=x):a+u>=1?(o=(e*l-1)*Math.pow(2,r),a=a+u):(o=e*Math.pow(2,u-1)*Math.pow(2,r),a=0));r>=8;i[t+f]=o&255,f+=A,o/=256,r-=8);for(a=a<<r|o,c+=r;c>0;i[t+f]=a&255,f+=A,a/=256,c-=8);i[t+f-A]|=g*128};var eP=Ft,rm=ky;function Ft(i){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(i)?i:new Uint8Array(i||0),this.pos=0,this.type=0,this.length=this.buf.length}Ft.Varint=0,Ft.Fixed64=1,Ft.Bytes=2,Ft.Fixed32=5;var Uy=65536*65536,dS=1/Uy,tP=12,pS=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Ft.prototype={destroy:function(){this.buf=null},readFields:function(i,e,t){for(t=t||this.length;this.pos<t;){var n=this.readVarint(),r=n>>3,s=this.pos;this.type=n&7,i(r,e,this),this.pos===s&&this.skip(n)}return e},readMessage:function(i,e){return this.readFields(i,e,this.readVarint()+this.pos)},readFixed32:function(){var i=sm(this.buf,this.pos);return this.pos+=4,i},readSFixed32:function(){var i=mS(this.buf,this.pos);return this.pos+=4,i},readFixed64:function(){var i=sm(this.buf,this.pos)+sm(this.buf,this.pos+4)*Uy;return this.pos+=8,i},readSFixed64:function(){var i=sm(this.buf,this.pos)+mS(this.buf,this.pos+4)*Uy;return this.pos+=8,i},readFloat:function(){var i=rm.read(this.buf,this.pos,!0,23,4);return this.pos+=4,i},readDouble:function(){var i=rm.read(this.buf,this.pos,!0,52,8);return this.pos+=8,i},readVarint:function(i){var e=this.buf,t,n;return n=e[this.pos++],t=n&127,n<128||(n=e[this.pos++],t|=(n&127)<<7,n<128)||(n=e[this.pos++],t|=(n&127)<<14,n<128)||(n=e[this.pos++],t|=(n&127)<<21,n<128)?t:(n=e[this.pos],t|=(n&15)<<28,nP(t,i,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var i=this.readVarint();return i%2===1?(i+1)/-2:i/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var i=this.readVarint()+this.pos,e=this.pos;return this.pos=i,i-e>=tP&&pS?pP(this.buf,e,i):dP(this.buf,e,i)},readBytes:function(){var i=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,i);return this.pos=i,e},readPackedVarint:function(i,e){if(this.type!==Ft.Bytes)return i.push(this.readVarint(e));var t=pa(this);for(i=i||[];this.pos<t;)i.push(this.readVarint(e));return i},readPackedSVarint:function(i){if(this.type!==Ft.Bytes)return i.push(this.readSVarint());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readSVarint());return i},readPackedBoolean:function(i){if(this.type!==Ft.Bytes)return i.push(this.readBoolean());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readBoolean());return i},readPackedFloat:function(i){if(this.type!==Ft.Bytes)return i.push(this.readFloat());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readFloat());return i},readPackedDouble:function(i){if(this.type!==Ft.Bytes)return i.push(this.readDouble());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readDouble());return i},readPackedFixed32:function(i){if(this.type!==Ft.Bytes)return i.push(this.readFixed32());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readFixed32());return i},readPackedSFixed32:function(i){if(this.type!==Ft.Bytes)return i.push(this.readSFixed32());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readSFixed32());return i},readPackedFixed64:function(i){if(this.type!==Ft.Bytes)return i.push(this.readFixed64());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readFixed64());return i},readPackedSFixed64:function(i){if(this.type!==Ft.Bytes)return i.push(this.readSFixed64());var e=pa(this);for(i=i||[];this.pos<e;)i.push(this.readSFixed64());return i},skip:function(i){var e=i&7;if(e===Ft.Varint)for(;this.buf[this.pos++]>127;);else if(e===Ft.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Ft.Fixed32)this.pos+=4;else if(e===Ft.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+e)},writeTag:function(i,e){this.writeVarint(i<<3|e)},realloc:function(i){for(var e=this.length||16;e<this.pos+i;)e*=2;if(e!==this.length){var t=new Uint8Array(e);t.set(this.buf),this.buf=t,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(i){this.realloc(4),_l(this.buf,i,this.pos),this.pos+=4},writeSFixed32:function(i){this.realloc(4),_l(this.buf,i,this.pos),this.pos+=4},writeFixed64:function(i){this.realloc(8),_l(this.buf,i&-1,this.pos),_l(this.buf,Math.floor(i*dS),this.pos+4),this.pos+=8},writeSFixed64:function(i){this.realloc(8),_l(this.buf,i&-1,this.pos),_l(this.buf,Math.floor(i*dS),this.pos+4),this.pos+=8},writeVarint:function(i){if(i=+i||0,i>268435455||i<0){iP(i,this);return}this.realloc(4),this.buf[this.pos++]=i&127|(i>127?128:0),!(i<=127)&&(this.buf[this.pos++]=(i>>>=7)&127|(i>127?128:0),!(i<=127)&&(this.buf[this.pos++]=(i>>>=7)&127|(i>127?128:0),!(i<=127)&&(this.buf[this.pos++]=i>>>7&127)))},writeSVarint:function(i){this.writeVarint(i<0?-i*2-1:i*2)},writeBoolean:function(i){this.writeVarint(!!i)},writeString:function(i){i=String(i),this.realloc(i.length*4),this.pos++;var e=this.pos;this.pos=gP(this.buf,i,this.pos);var t=this.pos-e;t>=128&&gS(e,t,this),this.pos=e-1,this.writeVarint(t),this.pos+=t},writeFloat:function(i){this.realloc(4),rm.write(this.buf,i,this.pos,!0,23,4),this.pos+=4},writeDouble:function(i){this.realloc(8),rm.write(this.buf,i,this.pos,!0,52,8),this.pos+=8},writeBytes:function(i){var e=i.length;this.writeVarint(e),this.realloc(e);for(var t=0;t<e;t++)this.buf[this.pos++]=i[t]},writeRawMessage:function(i,e){this.pos++;var t=this.pos;i(e,this);var n=this.pos-t;n>=128&&gS(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeMessage:function(i,e,t){this.writeTag(i,Ft.Bytes),this.writeRawMessage(e,t)},writePackedVarint:function(i,e){e.length&&this.writeMessage(i,aP,e)},writePackedSVarint:function(i,e){e.length&&this.writeMessage(i,oP,e)},writePackedBoolean:function(i,e){e.length&&this.writeMessage(i,xP,e)},writePackedFloat:function(i,e){e.length&&this.writeMessage(i,cP,e)},writePackedDouble:function(i,e){e.length&&this.writeMessage(i,lP,e)},writePackedFixed32:function(i,e){e.length&&this.writeMessage(i,uP,e)},writePackedSFixed32:function(i,e){e.length&&this.writeMessage(i,hP,e)},writePackedFixed64:function(i,e){e.length&&this.writeMessage(i,fP,e)},writePackedSFixed64:function(i,e){e.length&&this.writeMessage(i,AP,e)},writeBytesField:function(i,e){this.writeTag(i,Ft.Bytes),this.writeBytes(e)},writeFixed32Field:function(i,e){this.writeTag(i,Ft.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(i,e){this.writeTag(i,Ft.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(i,e){this.writeTag(i,Ft.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(i,e){this.writeTag(i,Ft.Fixed64),this.writeSFixed64(e)},writeVarintField:function(i,e){this.writeTag(i,Ft.Varint),this.writeVarint(e)},writeSVarintField:function(i,e){this.writeTag(i,Ft.Varint),this.writeSVarint(e)},writeStringField:function(i,e){this.writeTag(i,Ft.Bytes),this.writeString(e)},writeFloatField:function(i,e){this.writeTag(i,Ft.Fixed32),this.writeFloat(e)},writeDoubleField:function(i,e){this.writeTag(i,Ft.Fixed64),this.writeDouble(e)},writeBooleanField:function(i,e){this.writeVarintField(i,!!e)}};function nP(i,e,t){var n=t.buf,r,s;if(s=n[t.pos++],r=(s&112)>>4,s<128||(s=n[t.pos++],r|=(s&127)<<3,s<128)||(s=n[t.pos++],r|=(s&127)<<10,s<128)||(s=n[t.pos++],r|=(s&127)<<17,s<128)||(s=n[t.pos++],r|=(s&127)<<24,s<128)||(s=n[t.pos++],r|=(s&1)<<31,s<128))return ml(i,r,e);throw new Error("Expected varint not more than 10 bytes")}function pa(i){return i.type===Ft.Bytes?i.readVarint()+i.pos:i.pos+1}function ml(i,e,t){return t?e*4294967296+(i>>>0):(e>>>0)*4294967296+(i>>>0)}function iP(i,e){var t,n;if(i>=0?(t=i%4294967296|0,n=i/4294967296|0):(t=~(-i%4294967296),n=~(-i/4294967296),t^4294967295?t=t+1|0:(t=0,n=n+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),rP(t,n,e),sP(n,e)}function rP(i,e,t){t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos]=i&127}function sP(i,e){var t=(i&7)<<4;e.buf[e.pos++]|=t|((i>>>=3)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127)))))}function gS(i,e,t){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(n);for(var r=t.pos-1;r>=i;r--)t.buf[r+n]=t.buf[r]}function aP(i,e){for(var t=0;t<i.length;t++)e.writeVarint(i[t])}function oP(i,e){for(var t=0;t<i.length;t++)e.writeSVarint(i[t])}function cP(i,e){for(var t=0;t<i.length;t++)e.writeFloat(i[t])}function lP(i,e){for(var t=0;t<i.length;t++)e.writeDouble(i[t])}function xP(i,e){for(var t=0;t<i.length;t++)e.writeBoolean(i[t])}function uP(i,e){for(var t=0;t<i.length;t++)e.writeFixed32(i[t])}function hP(i,e){for(var t=0;t<i.length;t++)e.writeSFixed32(i[t])}function fP(i,e){for(var t=0;t<i.length;t++)e.writeFixed64(i[t])}function AP(i,e){for(var t=0;t<i.length;t++)e.writeSFixed64(i[t])}function sm(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16)+i[e+3]*16777216}function _l(i,e,t){i[t]=e,i[t+1]=e>>>8,i[t+2]=e>>>16,i[t+3]=e>>>24}function mS(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16)+(i[e+3]<<24)}function dP(i,e,t){for(var n="",r=e;r<t;){var s=i[r],a=null,o=s>239?4:s>223?3:s>191?2:1;if(r+o>t)break;var l,c,x;o===1?s<128&&(a=s):o===2?(l=i[r+1],(l&192)===128&&(a=(s&31)<<6|l&63,a<=127&&(a=null))):o===3?(l=i[r+1],c=i[r+2],(l&192)===128&&(c&192)===128&&(a=(s&15)<<12|(l&63)<<6|c&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):o===4&&(l=i[r+1],c=i[r+2],x=i[r+3],(l&192)===128&&(c&192)===128&&(x&192)===128&&(a=(s&15)<<18|(l&63)<<12|(c&63)<<6|x&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,o=1):a>65535&&(a-=65536,n+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),n+=String.fromCharCode(a),r+=o}return n}function pP(i,e,t){return pS.decode(i.subarray(e,t))}function gP(i,e,t){for(var n=0,r,s;n<e.length;n++){if(r=e.charCodeAt(n),r>55295&&r<57344)if(s)if(r<56320){i[t++]=239,i[t++]=191,i[t++]=189,s=r;continue}else r=s-55296<<10|r-56320|65536,s=null;else{r>56319||n+1===e.length?(i[t++]=239,i[t++]=191,i[t++]=189):s=r;continue}else s&&(i[t++]=239,i[t++]=191,i[t++]=189,s=null);r<128?i[t++]=r:(r<2048?i[t++]=r>>6|192:(r<65536?i[t++]=r>>12|224:(i[t++]=r>>18|240,i[t++]=r>>12&63|128),i[t++]=r>>6&63|128),i[t++]=r&63|128)}return t}const mP=jx(eP),yi=Oh;(function(i,e){const t=Oh,n=i();for(;;)try{if(parseInt(t(365))/1*(parseInt(t(348))/2)+-parseInt(t(369))/3+-parseInt(t(355))/4*(-parseInt(t(320))/5)+-parseInt(t(341))/6*(parseInt(t(364))/7)+-parseInt(t(361))/8*(-parseInt(t(337))/9)+parseInt(t(360))/10*(parseInt(t(352))/11)+-parseInt(t(349))/12*(parseInt(t(374))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(am,810163);function am(){const i=["push","getType","dataProjection","2248987GJZSca","MultiLineString","idProperty","readVarint","1478775gMClTi","readBoolean","featureClass","name","includes","geometryName_","arraybuffer","Invalid command found in the PBF","supportedMediaTypes","Point","type","layerName","readVarint64","values","properties","tile-pixels","length","95607CSCHAk","layers_","setExtent","layerName_","5046216wkfYOZ","application/vnd.mapbox-vector-tile","geometryName","readRawGeometry_","readFields","layers","readProjection","566126ovLXFo","84XPXRaq","keys","MultiPoint","11bzzCwE","layer","Polygon","4NMZXhI","idProperty_","setId","setLayers","readSVarint","9254980XPgvEU","904IhgCOh","features","geometry","7jbpXaG","5rpUzIg","createFeature_","readString","pos","2924325IwWDGx","extent"];return am=function(){return i},am()}class _S extends xS{constructor(e){const t=Oh;super(),e=e||{},this[t(373)]=new kI({code:"",units:t(335)}),this[t(322)]=e.featureClass?e[t(322)]:Ei,this[t(325)]=e[t(343)],this[t(340)]=e.layerName?e[t(331)]:t(353),this.layers_=e[t(346)]?e[t(346)]:null,this[t(356)]=e[t(318)],this[t(328)]=[t(342),"application/x-protobuf"]}[yi(344)](e,t,n,r){const s=yi;e[s(368)]=t[s(363)];const a=e[s(319)]()+e[s(368)];let o=1,l=0,c=0,x=0,u=0,h=0;for(;e[s(368)]<a;){if(!l){const f=e[s(319)]();o=f&7,l=f>>3}if(l--,o===1||o===2)c+=e[s(359)](),x+=e[s(359)](),o===1&&u>h&&(r[s(371)](u),h=u),n[s(371)](c,x),u+=2;else if(o===7)u>h&&(n[s(371)](n[h],n[h+1]),u+=2);else throw new Error(s(327))}u>h&&(r[s(371)](u),h=u)}[yi(366)](e,t,n){const r=yi,s=t[r(330)];if(s===0)return null;let a;const o=t[r(334)];let l;this[r(356)]?(l=o[this[r(356)]],delete o[this[r(356)]]):l=t.id,o[this.layerName_]=t[r(353)][r(323)];const c=[],x=[];this[r(344)](e,t,c,x);const u=CP(s,x[r(336)]);if(this[r(322)]===Ei)a=new this[r(322)](u,c,x,2,o,l),a.transform(n[r(373)]);else{let h;if(u==r(354)){const g=HB(c,x);h=g[r(336)]>1?new Sh(c,"XY",g):new Uc(c,"XY",x)}else h=u===r(329)?new d0(c,"XY"):u==="LineString"?new b0(c,"XY"):u===r(351)?new wh(c,"XY"):u===r(375)?new vh(c,"XY",x):null;const f=this[r(322)];a=new f,this[r(325)]&&a.setGeometryName(this.geometryName_);const A=Jg(h,!1,n);a.setGeometry(A),l!==void 0&&a[r(357)](l),a.setProperties(o,!0)}return a}[yi(372)](){return yi(326)}readFeatures(e,t){const n=yi,r=this[n(338)];t=this.adaptOptions(t);const s=Kt(t.dataProjection);s.setWorldExtent(t[n(370)]),t[n(373)]=s;const a=new mP(e),o=a[n(345)](_P,{}),l=[];for(const c in o){if(r&&!r[n(324)](c))continue;const x=o[c],u=x?[0,0,x[n(370)],x[n(370)]]:null;s[n(339)](u);for(let h=0,f=x[n(336)];h<f;++h){const A=yP(a,x,h),g=this[n(366)](a,A,t);g!==null&&l.push(g)}}return l}[yi(347)](e){return this[yi(373)]}[yi(358)](e){const t=yi;this[t(338)]=e}}function Oh(i,e){const t=am();return Oh=function(n,r){return n=n-318,t[n]},Oh(i,e)}function _P(i,e,t){const n=yi;if(i===3){const r={keys:[],values:[],features:[]},s=t.readVarint()+t[n(368)];t[n(345)](IP,r,s),r[n(336)]=r[n(362)][n(336)],r[n(336)]&&(e[r[n(323)]]=r)}}function IP(i,e,t){const n=yi;if(i===15)e.version=t[n(319)]();else if(i===1)e[n(323)]=t.readString();else if(i===5)e.extent=t[n(319)]();else if(i===2)e[n(362)].push(t[n(368)]);else if(i===3)e.keys[n(371)](t.readString());else if(i===4){let r=null;const s=t[n(319)]()+t[n(368)];for(;t.pos<s;)i=t.readVarint()>>3,r=i===1?t[n(367)]():i===2?t.readFloat():i===3?t.readDouble():i===4?t[n(332)]():i===5?t.readVarint():i===6?t[n(359)]():i===7?t[n(321)]():null;e.values[n(371)](r)}}function EP(i,e,t){const n=yi;if(i==1)e.id=t.readVarint();else if(i==2){const r=t[n(319)]()+t[n(368)];for(;t[n(368)]<r;){const s=e.layer[n(350)][t[n(319)]()],a=e[n(353)][n(333)][t[n(319)]()];e.properties[s]=a}}else i==3?e[n(330)]=t[n(319)]():i==4&&(e[n(363)]=t[n(368)])}function yP(i,e,t){const n=yi;i.pos=e[n(362)][t];const r=i[n(319)]()+i[n(368)],s={layer:e,type:0,properties:{}};return i.readFields(EP,s,r),s}function CP(i,e){const t=yi;let n;return i===1?n=e===1?t(329):"MultiPoint":i===2?n=e===1?"LineString":t(375):i===3&&(n=t(354)),n}const Rs=Il;function om(){const i=["coordinateToPixelTransform","managed","30CqvGGI","2617546yucsZq","center","call","9CpnWwB","96698gYChqT","1RVTEyf","push","getMap","size","resolution","17937072hIKMDe","getRenderer","canWrapX","hasRenderer","layerStatesArray","feature","rotation","258YPhvyU","map_","6569700bgUxud","getWrapX","sort","getExtent","length","postRenderFunctions","26dXeYqG","geometry","layer","9gaPsZB","canExpireCache","hasFeatureAtCoordinate","distanceSq","renderFrame","230772UxctFD","viewState","4323688AOHWeg","3722433PMPaXn","projection","expire","bind","getSource","forEachFeatureAtCoordinate","scheduleExpireIconCache","callback"];return om=function(){return i},om()}(function(i,e){const t=Il,n=i();for(;;)try{if(parseInt(t(282))/1*(-parseInt(t(277))/2)+-parseInt(t(258))/3*(-parseInt(t(263))/4)+-parseInt(t(249))/5+parseInt(t(247))/6*(parseInt(t(281))/7)+parseInt(t(265))/8*(parseInt(t(280))/9)+parseInt(t(276))/10*(-parseInt(t(266))/11)+parseInt(t(287))/12*(parseInt(t(255))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(om,659132);function Il(i,e){const t=om();return Il=function(n,r){return n=n-244,t[n]},Il(i,e)}class bP extends rd{constructor(e){const t=Il;super(),this[t(248)]=e}dispatchRenderEvent(e,t){je()}calculateMatrices2D(e){const t=Il,n=e.viewState,r=e[t(274)],s=e.pixelToCoordinateTransform;vs(r,e.size[0]/2,e[t(285)][1]/2,1/n.resolution,-1/n[t(286)],-n[t(246)],-n[t(278)][0],-n.center[1]),BB(s,r)}[Rs(271)](e,t,n,r,s,a,o,l){const c=Rs;let x;const u=t[c(264)];function h(y,E,C,v){return s.call(a,E,y?C:null,v)}const f=u[c(267)],A=XI(e.slice(),f),g=[[0,0]];if(f[c(289)]()&&r){const y=f[c(252)](),E=ht(y);g[c(283)]([-E,0],[E,0])}const d=t[c(244)],p=d[c(253)],_=[],I=[];for(let y=0;y<g[c(253)];y++)for(let E=p-1;E>=0;--E){const C=d[E],v=C[c(257)];if(v[c(290)]()&&jE(C,u)&&o[c(279)](l,v)){const b=v[c(288)](),w=v[c(270)]();if(b&&w){const B=w[c(250)]()?A:e,R=h[c(269)](null,C[c(275)]);I[0]=B[0]+g[y][0],I[1]=B[1]+g[y][1],x=b[c(271)](I,t,n,R,_)}if(x)return x}}if(_[c(253)]===0)return;const m=1/_[c(253)];return _.forEach((y,E)=>y.distanceSq+=E*m),_[c(251)]((y,E)=>y[c(261)]-E[c(261)]),_.some(y=>{const E=c;return x=y[E(273)](y[E(245)],y[E(257)],y[E(256)])}),x}[Rs(260)](e,t,n,r,s,a){return this[Rs(271)](e,t,n,r,fu,this,s,a)!==void 0}[Rs(284)](){return this[Rs(248)]}[Rs(262)](e){je()}[Rs(272)](e){const t=Rs;Is[t(259)]()&&e[t(254)][t(283)](vP)}}function vP(i,e){Is[Rs(268)]()}const S0=Gh;(function(i,e){const t=Gh,n=i();for(;;)try{if(-parseInt(t(379))/1*(-parseInt(t(421))/2)+-parseInt(t(387))/3*(parseInt(t(381))/4)+-parseInt(t(399))/5*(parseInt(t(419))/6)+parseInt(t(398))/7*(-parseInt(t(395))/8)+-parseInt(t(392))/9+parseInt(t(416))/10+parseInt(t(389))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(cm,229810);function Gh(i,e){const t=cm();return Gh=function(n,r){return n=n-377,t[n]},Gh(i,e)}function cm(){const i=["bind","renderDeferred","element_","3600jBTnTu","renderedVisible_","6080624awFARf","forEach","push","4123242YFuqrP","scheduleExpireIconCache","children_","2067144yihdHc","createElement","100%","7QrtisL","298115SBlUzs","layer","getViewport","redrawText","getMap","display","absolute","fontChangeListenerKey_","render","hasListener","none","remove","insertBefore","zIndex","className","declutter","dispatchRenderEvent","1143320uPlvgO","height","layerIndex","6eoVBxS","renderDeclutter","26hHinYx","PROPERTYCHANGE","dispatchEvent","layerStatesArray","some","sort","getSourceState","getDeclutter","calculateMatrices2D","ready","disposeInternal","30496fYlYoj","style","192jwRIxo","length","viewState"];return cm=function(){return i},cm()}class wP extends bP{constructor(e){const t=Gh;super(e),this[t(406)]=mt(Cs,bc[t(422)],e[t(402)][t(384)](e)),this[t(386)]=document[t(396)]("div");const n=this[t(386)][t(380)];n.position=t(405),n.width=t(397),n[t(417)]=t(397),n[t(412)]="0",this[t(386)][t(413)]=vd+" ol-layers";const r=e[t(401)]();r[t(411)](this[t(386)],r.firstChild||null),this[t(394)]=[],this[t(388)]=!0}[S0(415)](e,t){const n=S0,r=this[n(403)]();if(r[n(408)](e)){const s=new YB(e,void 0,t);r[n(423)](s)}}[S0(378)](){const e=S0;Jt(this[e(406)]),this[e(386)][e(410)](),super[e(378)]()}renderFrame(e){const t=S0;if(!e){this[t(388)]&&(this[t(386)][t(380)][t(404)]=t(409),this[t(388)]=!1);return}this[t(429)](e),this[t(415)](wr.PRECOMPOSE,e);const n=e[t(424)][t(426)]((l,c)=>l[t(412)]-c[t(412)]);n[t(425)](l=>l[t(400)]instanceof uy&&l.layer.getDeclutter())&&(e[t(414)]={});const s=e[t(383)];this.children_[t(382)]=0;const a=[];let o=null;for(let l=0,c=n[t(382)];l<c;++l){const x=n[l];e[t(418)]=l;const u=x.layer,h=u[t(427)]();if(!jE(x,s)||h!=t(377)&&h!="undefined"){u.unrender();continue}const f=u[t(407)](e,o);f&&(f!==o&&(this[t(394)][t(391)](f),o=f),a.push(x))}this.declutter(e,a),XQ(this[t(386)],this[t(394)]),this[t(415)](wr.POSTCOMPOSE,e),!this.renderedVisible_&&(this.element_[t(380)].display="",this[t(388)]=!0),this[t(393)](e)}[S0(414)](e,t){const n=S0;if(e[n(414)]){for(let r=t[n(382)]-1;r>=0;--r){const s=t[r],a=s.layer;a[n(428)]()&&a[n(420)](e,s)}t[n(390)](r=>r[n(400)][n(385)](e))}}}(function(i,e){for(var t=xm,n=i();;)try{var r=parseInt(t(422))/1+-parseInt(t(412))/2+-parseInt(t(413))/3*(parseInt(t(416))/4)+-parseInt(t(411))/5+parseInt(t(414))/6*(parseInt(t(421))/7)+-parseInt(t(417))/8+parseInt(t(419))/9*(parseInt(t(415))/10);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(lm,713271);class El extends Cr{constructor(e,t,n){var r=xm;super(e),this[r(420)]=t,this[r(418)]=n!==void 0?n:null}}function lm(){var i=["3907265FukqkF","2715002sfjVJL","3iOQpZz","34962TbCahf","400CeTtui","5000516kETEGc","7955128mCQGSt","frameState","866025nmzBuZ","map","637fAzZXt","717488bzKIhp"];return lm=function(){return i},lm()}function xm(i,e){var t=lm();return xm=function(n,r){n=n-411;var s=t[n];return s},xm(i,e)}var Rr=zh;function zh(i,e){var t=um();return zh=function(n,r){n=n-162;var s=t[n];return s},zh(i,e)}function um(){var i=["pixel_","3157707WIcZnG","dragging","525329qblbtA","coordinate","getEventPixel","activePointers","1737912vSnQFR","17986Iutquk","40600OxpyUK","preventDefault","970572sNCRko","pixel","3149928pxGjES","6WOQrUe","map","coordinate_","originalEvent","getCoordinateFromPixel","stopPropagation"];return um=function(){return i},um()}(function(i,e){for(var t=zh,n=i();;)try{var r=parseInt(t(165))/1+parseInt(t(170))/2*(parseInt(t(176))/3)+parseInt(t(175))/4+parseInt(t(171))/5+parseInt(t(173))/6+-parseInt(t(163))/7+-parseInt(t(169))/8;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(um,832339);class Co extends El{constructor(e,t,n,r,s,a){var o=zh;super(e,t,s),this.originalEvent=n,this[o(162)]=null,this[o(178)]=null,this[o(164)]=r!==void 0?r:!1,this[o(168)]=a}get[Rr(174)](){var e=Rr;return!this.pixel_&&(this[e(162)]=this[e(177)][e(167)](this.originalEvent)),this[e(162)]}set[Rr(174)](e){var t=Rr;this[t(162)]=e}get[Rr(166)](){var e=Rr;return!this.coordinate_&&(this[e(178)]=this.map[e(180)](this[e(174)])),this[e(178)]}set[Rr(166)](e){var t=Rr;this[t(178)]=e}[Rr(172)](){var e=Rr;super[e(172)](),e(172)in this[e(179)]&&this.originalEvent[e(172)]()}[Rr(181)](){var e=Rr;super[e(181)](),e(181)in this[e(179)]&&this.originalEvent[e(181)]()}}function hm(){var i=["3004vyfbeR","4664471rkzFGE","669XICxMr","pointerout","pointerenter","805527HcNoGv","pointermove","singleclick","pointerdown","31542000tJuFUe","DBLCLICK","pointercancel","3518676QPYiTC","2940722rCYNcA","2448350ALJkyW","pointerover"];return hm=function(){return i},hm()}function fm(i,e){var t=hm();return fm=function(n,r){n=n-367;var s=t[n];return s},fm(i,e)}var bo=fm;(function(i,e){for(var t=fm,n=i();;)try{var r=-parseInt(t(375))/1+-parseInt(t(367))/2+-parseInt(t(372))/3*(parseInt(t(370))/4)+-parseInt(t(368))/5+parseInt(t(382))/6+-parseInt(t(371))/7+parseInt(t(379))/8;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(hm,929812);const Rn={SINGLECLICK:bo(377),CLICK:Ye.CLICK,DBLCLICK:Ye[bo(380)],POINTERDRAG:"pointerdrag",POINTERMOVE:bo(376),POINTERDOWN:bo(378),POINTERUP:"pointerup",POINTEROVER:bo(369),POINTEROUT:bo(373),POINTERENTER:bo(374),POINTERLEAVE:"pointerleave",POINTERCANCEL:bo(381)};function Am(i,e){var t=pm();return Am=function(n,r){n=n-415;var s=t[n];return s},Am(i,e)}var dm=Am;function pm(){var i=["114FlwUiF","pointerenter","4025040xeMckQ","2373741iNKuRp","pointercancel","1096PXZcMi","10HlFWJY","463119lLpIke","65734AWanqz","pointerout","39745jzbWGz","pointerover","12439LgbjTr","1048400tOymaa"];return pm=function(){return i},pm()}(function(i,e){for(var t=Am,n=i();;)try{var r=parseInt(t(419))/1*(parseInt(t(421))/2)+-parseInt(t(420))/3+parseInt(t(426))/4+-parseInt(t(423))/5*(-parseInt(t(427))/6)+parseInt(t(425))/7*(-parseInt(t(418))/8)+parseInt(t(416))/9+-parseInt(t(415))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(pm,205224);const Ny={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:dm(424),POINTEROUT:dm(422),POINTERENTER:dm(428),POINTERLEAVE:"pointerleave",POINTERCANCEL:dm(417)},si=Vh;(function(i,e){const t=Vh,n=i();for(;;)try{if(parseInt(t(261))/1*(parseInt(t(246))/2)+-parseInt(t(250))/3+-parseInt(t(252))/4+-parseInt(t(231))/5+-parseInt(t(238))/6*(-parseInt(t(256))/7)+-parseInt(t(240))/8*(-parseInt(t(276))/9)+-parseInt(t(251))/10*(parseInt(t(243))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(gm,679694);function Vh(i,e){const t=gm();return Vh=function(n,r){return n=n-225,t[n]},Vh(i,e)}function gm(){const i=["activePointers_","target","dispatchEvent","POINTERMOVE","dragging_","length","bind","down_","5435705FUarwh","SINGLECLICK","map_","boolean","POINTERUP","forEach","moveTolerance_","12gbKgGA","boundHandleTouchMove_","8YtefLJ","removeEventListener","updateActivePointers_","55NzteXw","emulateClicks_","handlePointerDown_","137846PBIYfH","dragListenerKeys_","relayMoveEvent_","defaultPrevented","607068yEXzRA","270730skLBdH","3738028YUwpUX","disposeInternal","abs","getRootNode","2289077RlcrGD","isMouseActionButton_","trackedTouches_","emulateClick_","addEventListener","19WziAVr","TOUCHMOVE","values","handlePointerMove_","clientY","handlePointerUp_","relayedListenerKey_","pointerdownListenerKey_","type","DBLCLICK","pointerId","isMoving_","push","clientX","element_","9679536PCLHff","POINTERCANCEL","cancelable","clickTimeoutId_","originalPointerMoveEvent_","handleTouchMove_","POINTERDOWN"];return gm=function(){return i},gm()}class BP extends du{constructor(e,t){const n=Vh;super(e),this[n(233)]=e,this[n(279)],this[n(244)]=!1,this[n(227)]=!1,this[n(247)]=[],this[n(237)]=t===void 0?1:t,this.down_=null;const r=this[n(233)].getViewport();this[n(283)]=[],this.trackedTouches_={},this.element_=r,this[n(268)]=mt(r,Ny[n(282)],this[n(245)],this),this[n(280)],this[n(267)]=mt(r,Ny[n(226)],this[n(248)],this),this.boundHandleTouchMove_=this[n(281)][n(229)](this),this[n(275)][n(260)](Ye[n(262)],this.boundHandleTouchMove_,Jw?{passive:!1}:!1)}[si(259)](e){const t=si;let n=new Co(Rn.CLICK,this[t(233)],e);this[t(225)](n),this[t(279)]!==void 0?(clearTimeout(this[t(279)]),this[t(279)]=void 0,n=new Co(Rn[t(270)],this[t(233)],e),this.dispatchEvent(n)):this[t(279)]=setTimeout(()=>{const r=t;this[r(279)]=void 0;const s=new Co(Rn[r(232)],this[r(233)],e);this[r(225)](s)},250)}[si(242)](e){const t=si,n=e,r=n[t(271)];if(n.type==Rn[t(235)]||n.type==Rn[t(277)]){delete this[t(258)][r];for(const s in this[t(258)])if(this.trackedTouches_[s].target!==n[t(284)]){delete this.trackedTouches_[s];break}}else(n[t(269)]==Rn[t(282)]||n[t(269)]==Rn[t(226)])&&(this[t(258)][r]=n);this[t(283)]=Object[t(263)](this.trackedTouches_)}[si(266)](e){const t=si;this[t(242)](e);const n=new Co(Rn[t(235)],this.map_,e,void 0,void 0,this.activePointers_);this[t(225)](n),this[t(244)]&&!n.defaultPrevented&&!this[t(227)]&&this[t(257)](e)&&this[t(259)](this[t(230)]),this[t(283)][t(228)]===0&&(this[t(247)][t(236)](Jt),this[t(247)][t(228)]=0,this[t(227)]=!1,this.down_=null)}[si(257)](e){return e.button===0}[si(245)](e){const t=si;this.emulateClicks_=this[t(283)].length===0,this[t(242)](e);const n=new Co(Rn[t(282)],this[t(233)],e,void 0,void 0,this[t(283)]);if(this[t(225)](n),this[t(230)]=new PointerEvent(e[t(269)],e),Object.defineProperty(this[t(230)],t(284),{writable:!1,value:e[t(284)]}),this[t(247)][t(228)]===0){const r=this[t(233)].getOwnerDocument();this.dragListenerKeys_.push(mt(r,Rn[t(226)],this[t(264)],this),mt(r,Rn[t(235)],this[t(266)],this),mt(this.element_,Rn[t(277)],this[t(266)],this)),this[t(275)][t(255)]&&this[t(275)][t(255)]()!==r&&this.dragListenerKeys_[t(273)](mt(this[t(275)][t(255)](),Rn.POINTERUP,this[t(266)],this))}}[si(264)](e){const t=si;if(this.isMoving_(e)){this[t(242)](e),this.dragging_=!0;const n=new Co(Rn.POINTERDRAG,this[t(233)],e,this[t(227)],void 0,this[t(283)]);this[t(225)](n)}}relayMoveEvent_(e){const t=si;this[t(280)]=e;const n=!!(this[t(230)]&&this.isMoving_(e));this[t(225)](new Co(Rn[t(226)],this[t(233)],e,n))}[si(281)](e){const t=si,n=this[t(280)];(!n||n[t(249)])&&(typeof e.cancelable!==t(234)||e[t(278)]===!0)&&e.preventDefault()}[si(272)](e){const t=si;return this[t(227)]||Math[t(254)](e[t(274)]-this[t(230)][t(274)])>this[t(237)]||Math[t(254)](e[t(265)]-this[t(230)].clientY)>this[t(237)]}disposeInternal(){const e=si;this[e(267)]&&(Jt(this[e(267)]),this[e(267)]=null),this.element_[e(241)](Ye[e(262)],this[e(239)]),this[e(268)]&&(Jt(this[e(268)]),this[e(268)]=null),this.dragListenerKeys_[e(236)](Jt),this[e(247)].length=0,this[e(275)]=null,super[e(253)]()}}var mm=Im;function _m(){var i=["14788983qdcEpo","5517adJuhd","14920SjgTPX","7889628eAXkqi","1338EWDMYJ","7ruLfGa","moveend","loadend","movestart","postrender","7167ZzooHh","5ROqGYU","1783567thbowu","3982868yAADdT","3060130oKxysB"];return _m=function(){return i},_m()}function Im(i,e){var t=_m();return Im=function(n,r){n=n-247;var s=t[n];return s},Im(i,e)}(function(i,e){for(var t=Im,n=i();;)try{var r=parseInt(t(259))/1+-parseInt(t(251))/2*(-parseInt(t(257))/3)+parseInt(t(260))/4*(-parseInt(t(258))/5)+parseInt(t(250))/6*(parseInt(t(252))/7)+-parseInt(t(249))/8*(parseInt(t(248))/9)+-parseInt(t(261))/10+-parseInt(t(247))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_m,907318);const vo={POSTRENDER:mm(256),MOVESTART:mm(255),MOVEEND:mm(253),LOADSTART:"loadstart",LOADEND:mm(254)};var Em=Cm;(function(i,e){for(var t=Cm,n=i();;)try{var r=-parseInt(t(432))/1+-parseInt(t(428))/2*(-parseInt(t(427))/3)+-parseInt(t(423))/4*(-parseInt(t(434))/5)+parseInt(t(425))/6*(-parseInt(t(426))/7)+parseInt(t(435))/8+parseInt(t(437))/9+-parseInt(t(433))/10*(-parseInt(t(436))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ym,280229);function ym(){var i=["4vDFDdo","size","117630aUUejs","147ZVhVFp","4674qaUInu","192RVprlg","view","target","layergroup","493099AmqFLc","36520RYEOzC","1440405ahPBQK","898544QHwANB","363IROeEQ","4630950doQXIg"];return ym=function(){return i},ym()}function Cm(i,e){var t=ym();return Cm=function(n,r){n=n-423;var s=t[n];return s},Cm(i,e)}const Ci={LAYERGROUP:Em(431),SIZE:Em(424),TARGET:Em(430),VIEW:Em(429)};function bm(){const i=["style","132trVkWT","8212379gEzcQb","listenerKeys","target","27YwHzGH","getMap","pointerEvents","render","setMap","3dKrALm","POSTRENDER","push","7452900fZIoNX","disposeInternal","string","328956EifORw","element","395048LjvplL","getOverlayContainerStopEvent","appendChild","target_","auto","map_","setTarget","8895776UpKdQX","remove","19420WjXWtO","getElementById","6995790RFjPIM"];return bm=function(){return i},bm()}const M0=yl;(function(i,e){const t=yl,n=i();for(;;)try{if(-parseInt(t(429))/1+parseInt(t(431))/2*(parseInt(t(423))/3)+parseInt(t(444))/4*(-parseInt(t(440))/5)+-parseInt(t(426))/6+parseInt(t(445))/7+-parseInt(t(438))/8+parseInt(t(448))/9*(parseInt(t(442))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(bm,658208);function yl(i,e){const t=bm();return yl=function(n,r){return n=n-423,t[n]},yl(i,e)}class Oy extends ys{constructor(e){const t=yl;super();const n=e[t(430)];n&&!e[t(447)]&&!n.style[t(450)]&&(n[t(443)][t(450)]=t(435)),this[t(430)]=n||null,this[t(434)]=null,this[t(436)]=null,this[t(446)]=[],e[t(451)]&&(this[t(451)]=e[t(451)]),e[t(447)]&&this[t(437)](e.target)}disposeInternal(){var t;const e=yl;(t=this.element)==null||t[e(439)](),super[e(427)]()}[M0(449)](){return this[M0(436)]}[M0(452)](e){var n;const t=M0;this[t(436)]&&((n=this[t(430)])==null||n[t(439)]());for(let r=0,s=this[t(446)].length;r<s;++r)Jt(this[t(446)][r]);this[t(446)].length=0,this[t(436)]=e,e&&((this.target_??e[t(432)]())[t(433)](this[t(430)]),this[t(451)]!==Ec&&this[t(446)][t(425)](mt(e,vo[t(424)],this[t(451)],this)),e[t(451)]())}[M0(451)](e){}[M0(437)](e){const t=M0;this.target_=typeof e===t(428)?document[t(441)](e):e}}function vm(){const i=["-expand","48sCMauO","all","handleToggle_","type","8hGuOZP","forEach","ulElement_","collectSourceAttributions_","renderedVisible_","target","expandClassName","className","flatMap","2577300RicfQj","toggle","map","getAllLayers","tipLabel","renderedAttributions_","collapseLabel","collapsible","style","button","collapseClassName","render","span","collapsed","277070sxNhzm","setAttribute","preventDefault","addEventListener","length","getAttributionsCollapsible","label_","display","label","4190543LACmfo","getMap","createElement","classList","collapsible_","setCollapsible","toggleButton_","add","attributions_","ol-attribution","innerHTML","15854iSqKrC","collapseLabel_","aria-expanded","6xoHRNn","674037tfpANq","from","appendChild","userCollapsed_","overrideCollapsible_","44MGLdQR","getCollapsible","none","element"," ol-uncollapsible","collapsed_","5431329SCzhPh","updateElement_","5088630EAwwrV","string","getSource","handleClick_","div","textContent"];return vm=function(){return i},vm()}const Ki=Hh;(function(i,e){const t=Hh,n=i();for(;;)try{if(parseInt(t(551))/1+-parseInt(t(547))/2*(parseInt(t(500))/3)+-parseInt(t(485))/4*(-parseInt(t(527))/5)+parseInt(t(550))/6*(parseInt(t(536))/7)+-parseInt(t(504))/8*(parseInt(t(491))/9)+-parseInt(t(493))/10+-parseInt(t(513))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(vm,408764);function Hh(i,e){const t=vm();return Hh=function(n,r){return n=n-483,t[n]},Hh(i,e)}class SP extends Oy{constructor(e){const t=Hh;e=e||{},super({element:document[t(538)](t(497)),render:e[t(524)],target:e[t(509)]}),this[t(506)]=document[t(538)]("ul"),this[t(490)]=e.collapsed!==void 0?e[t(526)]:!0,this[t(483)]=this[t(490)],this[t(484)]=e[t(520)]!==void 0,this[t(540)]=e.collapsible!==void 0?e[t(520)]:!0,!this[t(540)]&&(this[t(490)]=!1),this.attributions_=e.attributions;const n=e.className!==void 0?e[t(511)]:t(545),r=e[t(517)]!==void 0?e[t(517)]:"Attributions",s=e.expandClassName!==void 0?e[t(510)]:n+t(499),a=e[t(519)]!==void 0?e[t(519)]:"›",o=e[t(523)]!==void 0?e.collapseClassName:n+"-collapse";typeof a===t(494)?(this.collapseLabel_=document[t(538)](t(525)),this[t(548)].textContent=a,this[t(548)].className=o):this[t(548)]=a;const l=e[t(535)]!==void 0?e.label:"i";typeof l===t(494)?(this[t(533)]=document[t(538)]("span"),this[t(533)][t(498)]=l,this[t(533)].className=s):this.label_=l;const c=this.collapsible_&&!this[t(490)]?this[t(548)]:this.label_;this[t(542)]=document[t(538)](t(522)),this[t(542)][t(528)](t(503),t(522)),this[t(542)].setAttribute(t(549),String(!this.collapsed_)),this[t(542)].title=r,this[t(542)].appendChild(c),this[t(542)][t(530)](Ye.CLICK,this.handleClick_.bind(this),!1);const x=n+" "+vd+" "+fE+(this[t(490)]&&this[t(540)]?" "+rB:"")+(this.collapsible_?"":t(489)),u=this[t(488)];u.className=x,u[t(553)](this[t(542)]),u[t(553)](this[t(506)]),this.renderedAttributions_=[],this[t(508)]=!0}[Ki(507)](e){const t=Ki,n=this[t(537)]()[t(516)](),r=new Set(n[t(512)](s=>s.getAttributions(e)));if(this[t(544)]!==void 0&&(Array.isArray(this[t(544)])?this[t(544)][t(505)](s=>r[t(543)](s)):r[t(543)](this.attributions_)),!this[t(484)]){const s=!n.some(a=>{var o;return((o=a[t(495)]())==null?void 0:o[t(532)]())===!1});this.setCollapsible(s)}return Array[t(552)](r)}async[Ki(492)](e){const t=Ki;if(!e){this[t(508)]&&(this[t(488)][t(521)][t(534)]=t(487),this.renderedVisible_=!1);return}const n=await Promise[t(501)](this[t(507)](e)[t(515)](s=>yc(()=>s))),r=n.length>0;if(this[t(508)]!=r&&(this[t(488)][t(521)][t(534)]=r?"":t(487),this[t(508)]=r),!Za(n,this[t(518)])){YQ(this[t(506)]);for(let s=0,a=n[t(531)];s<a;++s){const o=document[t(538)]("li");o[t(546)]=n[s],this[t(506)][t(553)](o)}this.renderedAttributions_=n}}[Ki(496)](e){const t=Ki;e[t(529)](),this[t(502)](),this[t(483)]=this[t(490)]}handleToggle_(){const e=Ki;this.element[e(539)].toggle(rB),this[e(490)]?Zw(this.collapseLabel_,this[e(533)]):Zw(this[e(533)],this[e(548)]),this[e(490)]=!this[e(490)],this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}[Ki(486)](){return this[Ki(540)]}[Ki(541)](e){const t=Ki;this[t(540)]!==e&&(this[t(540)]=e,this[t(488)].classList[t(514)]("ol-uncollapsible"),this[t(483)]&&this[t(502)]())}setCollapsed(e){const t=Ki;this[t(483)]=e,!(!this[t(540)]||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}[Ki(524)](e){this[Ki(492)](e.frameState)}}const qh=Yh;(function(i,e){const t=Yh,n=i();for(;;)try{if(-parseInt(t(468))/1*(-parseInt(t(491))/2)+parseInt(t(476))/3*(-parseInt(t(475))/4)+parseInt(t(500))/5*(-parseInt(t(487))/6)+-parseInt(t(458))/7*(-parseInt(t(470))/8)+parseInt(t(496))/9+parseInt(t(464))/10+-parseInt(t(483))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(wm,250579);function wm(){const i=["textContent","ol-rotate","callResetNorth_","div","Reset rotation","ol-compass","addEventListener","classList","resetNorth_","7cqvtIC","handleClick_","createElement","rad)","label","preventDefault","492060GsknXq","title","duration","compassClassName","191201jXkyNf","contains","2548904kBkDuD","element","getRotation","tipLabel","rotation_","437244DGaqYm","6vlJJFY","appendChild","render","span","bind","setRotation","transform","2723303mNblqA","duration_","className","autoHide_","6nHDavL","getMap","add","resetNorth","2iNlAfe","string","rotation","button","animate","1812267BDSqRy","autoHide","label_","target","218045bpVhjt"];return wm=function(){return i},wm()}function Yh(i,e){const t=wm();return Yh=function(n,r){return n=n-457,t[n]},Yh(i,e)}class MP extends Oy{constructor(e){const t=Yh;e=e||{},super({element:document[t(460)](t(504)),render:e[t(478)],target:e[t(499)]});const n=e[t(485)]!==void 0?e.className:t(502),r=e[t(462)]!==void 0?e[t(462)]:"⇧",s=e.compassClassName!==void 0?e[t(467)]:t(506);this.label_=null,typeof r===t(492)?(this[t(498)]=document[t(460)](t(479)),this[t(498)][t(485)]=s,this[t(498)][t(501)]=r):(this[t(498)]=r,this.label_[t(508)][t(489)](s));const a=e.tipLabel?e[t(473)]:t(505),o=document[t(460)](t(494));o.className=n+"-reset",o.setAttribute("type","button"),o[t(465)]=a,o[t(477)](this[t(498)]),o[t(507)](Ye.CLICK,this[t(459)][t(480)](this),!1);const l=n+" "+vd+" "+fE,c=this.element;c.className=l,c[t(477)](o),this[t(503)]=e[t(490)]?e[t(490)]:void 0,this[t(484)]=e[t(466)]!==void 0?e[t(466)]:250,this[t(486)]=e[t(497)]!==void 0?e[t(497)]:!0,this[t(474)]=void 0,this[t(486)]&&this.element[t(508)][t(489)](bd)}[qh(459)](e){const t=qh;e[t(463)](),this[t(503)]!==void 0?this[t(503)]():this.resetNorth_()}[qh(457)](){const e=qh,t=this[e(488)](),n=t.getView();if(!n)return;const r=n[e(472)]();r!==void 0&&(this[e(484)]>0&&r%(2*Math.PI)!==0?n[e(495)]({rotation:0,duration:this[e(484)],easing:Qc}):n[e(481)](0))}render(e){const t=qh,n=e.frameState;if(!n)return;const r=n.viewState[t(493)];if(r!=this[t(474)]){const s="rotate("+r+t(461);if(this.autoHide_){const a=this[t(471)].classList[t(469)](bd);!a&&r===0?this.element[t(508)][t(489)](bd):a&&r!==0&&this[t(471)][t(508)].remove(bd)}this[t(498)].style[t(482)]=s}this.rotation_=r}}const Bm=Xh;(function(i,e){const t=Xh,n=i();for(;;)try{if(parseInt(t(379))/1+parseInt(t(364))/2*(parseInt(t(387))/3)+-parseInt(t(358))/4*(-parseInt(t(349))/5)+parseInt(t(385))/6+parseInt(t(363))/7+-parseInt(t(381))/8*(-parseInt(t(348))/9)+-parseInt(t(378))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Sm,372309);function Xh(i,e){const t=Sm();return Xh=function(n,r){return n=n-347,t[n]},Xh(i,e)}function Sm(){const i=["zoomByDelta_","18348610vAUQsG","501653iCoKSr","delta","195248MqLpun","createTextNode","getZoom","getConstrainedZoom","4206708oYwLcS","button","1003254zNQoBA","cancelAnimations","createElement","zoomOutTipLabel","CLICK","zoomInClassName","9tgupdF","65TzZfnf","duration","string","title","zoomInTipLabel","zoomOutLabel","getAnimating","zoomInLabel","addEventListener","82600koRjtV","getView","zoomOutClassName","div","setAttribute","298949BXMGau","4ReVkBP","type","handleClick_","bind","element","animate","preventDefault","ol-zoom","Zoom out","-out","duration_","appendChild","className"];return Sm=function(){return i},Sm()}class RP extends Oy{constructor(e){const t=Xh;e=e||{},super({element:document[t(389)](t(361)),target:e.target});const n=e[t(376)]!==void 0?e[t(376)]:t(371),r=e.delta!==void 0?e[t(380)]:1,s=e[t(347)]!==void 0?e.zoomInClassName:n+"-in",a=e[t(360)]!==void 0?e.zoomOutClassName:n+t(373),o=e.zoomInLabel!==void 0?e[t(356)]:"+",l=e[t(354)]!==void 0?e[t(354)]:"–",c=e[t(353)]!==void 0?e[t(353)]:"Zoom in",x=e.zoomOutTipLabel!==void 0?e[t(390)]:t(372),u=document[t(389)]("button");u.className=s,u.setAttribute(t(365),t(386)),u[t(352)]=c,u.appendChild(typeof o===t(351)?document[t(382)](o):o),u[t(357)](Ye[t(391)],this[t(366)][t(367)](this,r),!1);const h=document[t(389)]("button");h[t(376)]=a,h[t(362)](t(365),t(386)),h[t(352)]=x,h[t(375)](typeof l===t(351)?document.createTextNode(l):l),h[t(357)](Ye[t(391)],this[t(366)][t(367)](this,-r),!1);const f=n+" "+vd+" "+fE,A=this[t(368)];A[t(376)]=f,A[t(375)](u),A[t(375)](h),this[t(374)]=e[t(350)]!==void 0?e[t(350)]:250}[Bm(366)](e,t){const n=Bm;t[n(370)](),this[n(377)](e)}[Bm(377)](e){const t=Bm,n=this.getMap(),r=n[t(359)]();if(!r)return;const s=r[t(383)]();if(s!==void 0){const a=r[t(384)](s+e);this.duration_>0?(r[t(355)]()&&r[t(388)](),r[t(369)]({zoom:a,duration:this[t(374)],easing:Qc})):r.setZoom(a)}}}function Mm(){const i=["350exXlqa","26453rWixsf","attribution","push","3708228Hfnjvs","attributionOptions","107031gErhEq","280FiILZx","rotate","17130861HCTObx","113193fvhULo","1089594cFPeIC","zoom","309316rwqMwi","4yhwaJU","15eRilWJ"];return Mm=function(){return i},Mm()}(function(i,e){const t=Rm,n=i();for(;;)try{if(parseInt(t(510))/1+parseInt(t(513))/2*(parseInt(t(505))/3)+-parseInt(t(512))/4*(-parseInt(t(514))/5)+parseInt(t(503))/6+parseInt(t(500))/7*(-parseInt(t(506))/8)+parseInt(t(509))/9*(parseInt(t(499))/10)+-parseInt(t(508))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Mm,761552);function Rm(i,e){const t=Mm();return Rm=function(n,r){return n=n-499,t[n]},Rm(i,e)}function TP(i){const e=Rm;i=i||{};const t=new Ms;return(i.zoom!==void 0?i[e(511)]:!0)&&t[e(502)](new RP(i.zoomOptions)),(i[e(507)]!==void 0?i[e(507)]:!0)&&t[e(502)](new MP(i.rotateOptions)),(i.attribution!==void 0?i[e(501)]:!0)&&t[e(502)](new SP(i[e(504)])),t}var DP=Dm;function Tm(){var i=["275634RsXRMH","18chpwwi","3591pCktlX","150TEZWKU","3978944uTRswk","6uYMAKz","1590280UrPKdA","10gEEfXo","7998684xsQlRc","4458LzRLCB","8011840ePHPTv","798556tWoLJF","52MvOHdU","active"];return Tm=function(){return i},Tm()}function Dm(i,e){var t=Tm();return Dm=function(n,r){n=n-225;var s=t[n];return s},Dm(i,e)}(function(i,e){for(var t=Dm,n=i();;)try{var r=parseInt(t(231))/1*(-parseInt(t(238))/2)+-parseInt(t(236))/3*(-parseInt(t(237))/4)+parseInt(t(227))/5+-parseInt(t(226))/6*(-parseInt(t(233))/7)+parseInt(t(235))/8*(parseInt(t(232))/9)+parseInt(t(234))/10*(parseInt(t(228))/11)+parseInt(t(225))/12*(-parseInt(t(229))/13);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Tm,817945);const IS={ACTIVE:DP(230)};function Wh(i,e){const t=Qm();return Wh=function(n,r){return n=n-343,t[n]},Wh(i,e)}const ga=Wh;(function(i,e){const t=Wh,n=i();for(;;)try{if(-parseInt(t(364))/1*(-parseInt(t(355))/2)+-parseInt(t(356))/3*(parseInt(t(347))/4)+-parseInt(t(366))/5*(parseInt(t(360))/6)+-parseInt(t(346))/7*(-parseInt(t(372))/8)+parseInt(t(354))/9+-parseInt(t(362))/10*(parseInt(t(367))/11)+-parseInt(t(343))/12*(-parseInt(t(369))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qm,543307);class jh extends ys{constructor(e){const t=Wh;super(),this.on,this[t(371)],this.un,e&&e.handleEvent&&(this.handleEvent=e[t(357)]),this[t(348)]=null,this[t(349)](!0)}[ga(365)](){return this[ga(358)](IS.ACTIVE)}[ga(370)](){return this.map_}handleEvent(e){return!0}[ga(349)](e){this[ga(368)](IS.ACTIVE,e)}[ga(361)](e){const t=ga;this[t(348)]=e}}function QP(i,e,t){const n=ga,r=i[n(352)]();if(r){const s=[r[0]+e[0],r[1]+e[1]];i[n(350)]({duration:t!==void 0?t:250,easing:E7,center:i[n(345)](s)})}}function Gy(i,e,t,n){const r=ga,s=i[r(363)]();if(s===void 0)return;const a=i[r(353)](s+e),o=i[r(351)](a);i.getAnimating()&&i[r(344)](),i[r(359)]({resolution:o,anchor:t,duration:n!==void 0?n:250,easing:Qc})}function Qm(){const i=["handleEvent","get","animate","12gBwOVx","setMap","10dqkcNt","getZoom","2uIZtkW","getActive","2176910rXbYCc","304579TCiXVS","set","13YkjLhK","getMap","once","16yfSVJm","8511252UepgIw","cancelAnimations","getConstrainedCenter","906731YamRWa","234268oDrmJD","map_","setActive","animateInternal","getResolutionForZoom","getCenterInternal","getConstrainedZoom","5777865pLeEhc","299974GrxyRq","24eONAxD"];return Qm=function(){return i},Qm()}function Fm(){const i=["DBLCLICK","24rcZBrt","coordinate","type","3120355fvZwwi","originalEvent","6616212VYhWUa","1599904LtKtiY","delta_","1qFccJR","delta","shiftKey","preventDefault","2998002IUnMjV","9811039JSoscu","2724741IqzRne","2577027qboJJT"];return Fm=function(){return i},Fm()}(function(i,e){const t=Kh,n=i();for(;;)try{if(parseInt(t(266))/1*(parseInt(t(264))/2)+parseInt(t(273))/3+parseInt(t(263))/4+-parseInt(t(261))/5+parseInt(t(270))/6+-parseInt(t(271))/7+parseInt(t(258))/8*(-parseInt(t(272))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Fm,878786);class FP extends jh{constructor(e){const t=Kh;super(),e=e||{},this[t(265)]=e[t(267)]?e[t(267)]:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){const t=Kh;let n=!1;if(e[t(260)]==Rn[t(257)]){const r=e[t(262)],s=e.map,a=e[t(259)],o=r[t(268)]?-this.delta_:this[t(265)],l=s.getView();Gy(l,o,a,this.duration_),r[t(269)](),n=!0}return!n}}function Kh(i,e){const t=Fm();return Kh=function(n,r){return n=n-257,t[n]},Kh(i,e)}const es=Jh;function Jh(i,e){const t=Lm();return Jh=function(n,r){return n=n-246,t[n]},Jh(i,e)}(function(i,e){const t=Jh,n=i();for(;;)try{if(-parseInt(t(272))/1*(-parseInt(t(270))/2)+-parseInt(t(256))/3+-parseInt(t(252))/4+-parseInt(t(254))/5*(-parseInt(t(261))/6)+parseInt(t(250))/7*(-parseInt(t(269))/8)+-parseInt(t(276))/9+parseInt(t(248))/10*(parseInt(t(251))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Lm,728257);function Lm(){const i=["type","691166iRyGjJ","77zkmSRD","2433264DdtFnz","POINTERDOWN","25GqzvAS","activePointers","1448190tSqSRw","handleUpEvent","targetPointers","handleEvent","handleDragEvent","1216452pFMfFu","POINTERUP","preventDefault","length","handleMoveEvent","getPointerCount","clientY","updateTrackedPointers_","32MGbGZX","473756lMIKPI","POINTERDRAG","4fNxeGG","originalEvent","handleDownEvent","clientX","3383946oTGqfd","POINTERMOVE","stopDown","handlingDownUpSequence","898610oCdFvf"];return Lm=function(){return i},Lm()}class Zh extends jh{constructor(e){const t=Jh;e=e||{},super(e),e[t(274)]&&(this[t(274)]=e[t(274)]),e[t(260)]&&(this[t(260)]=e[t(260)]),e.handleMoveEvent&&(this[t(265)]=e.handleMoveEvent),e[t(257)]&&(this.handleUpEvent=e[t(257)]),e[t(246)]&&(this[t(246)]=e[t(246)]),this[t(247)]=!1,this[t(258)]=[]}[es(266)](){const e=es;return this.targetPointers[e(264)]}[es(274)](e){return!1}handleDragEvent(e){}[es(259)](e){const t=es;if(!e.originalEvent)return!0;let n=!1;if(this[t(268)](e),this[t(247)]){if(e[t(249)]==Rn[t(271)])this[t(260)](e),e[t(273)][t(263)]();else if(e[t(249)]==Rn[t(262)]){const r=this[t(257)](e);this[t(247)]=r&&this[t(258)].length>0}}else if(e[t(249)]==Rn[t(253)]){const r=this.handleDownEvent(e);this[t(247)]=r,n=this[t(246)](r)}else e.type==Rn[t(277)]&&this[t(265)](e);return!n}[es(265)](e){}[es(257)](e){return!1}[es(246)](e){return e}[es(268)](e){const t=es;e[t(255)]&&(this[t(258)]=e[t(255)])}}function zy(i){const e=es,t=i.length;let n=0,r=0;for(let s=0;s<t;s++)n+=i[s][e(275)],r+=i[s][e(267)];return{clientX:n/t,clientY:r/t}}(function(i,e){const t=Ji,n=i();for(;;)try{if(parseInt(t(157))/1+parseInt(t(149))/2+parseInt(t(146))/3*(parseInt(t(164))/4)+parseInt(t(153))/5*(-parseInt(t(151))/6)+-parseInt(t(167))/7+-parseInt(t(175))/8*(-parseInt(t(155))/9)+-parseInt(t(156))/10*(parseInt(t(173))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Pm,120331);function Pm(){const i=["20SplenO","209393hrkYDC","INPUT","ctrlKey","metaKey","CLICK","target","DBLCLICK","120tFriws","shiftKey","map","1008182RxIbkJ","length","mapBrowserEvent must originate from a pointer event","originalEvent","hasAttribute","mouse","954085YfJbLX","touch","64vkSMjj","tagName","altKey","tabindex","getTargetElement","activeElement","isContentEditable","14214FjdejJ","type","pointermove","205898fJxeKX","isPrimary","116826Aevijx","button","45OanMau","pointerType","178407tOfVTL"];return Pm=function(){return i},Pm()}function Ji(i,e){const t=Pm();return Ji=function(n,r){return n=n-146,t[n]},Ji(i,e)}function Vy(i){const e=arguments;return function(t){const n=Ji;let r=!0;for(let s=0,a=e[n(168)];s<a&&(r=r&&e[s](t),!!r);++s);return r}}const LP=function(i){const e=Ji,t=i[e(170)];return t[e(177)]&&!(t[e(160)]||t[e(159)])&&t.shiftKey},PP=function(i){const e=Ji,t=i[e(166)][e(179)](),n=i[e(166)].getOwnerDocument()[e(180)];return t.contains(n)},ES=function(i){const e=Ji;return i[e(166)][e(179)]()[e(171)](e(178))?PP(i):!0},kP=fu,yS=function(i){const e=Ji,t=i[e(170)];return t[e(152)]==0&&!(qQ&&Ww&&t[e(159)])},CS=function(i){const e=Ji,t=i[e(170)];return!t[e(177)]&&!(t[e(160)]||t.ctrlKey)&&!t.shiftKey},UP=function(i){const e=Ji,t=i[e(170)];return Ww?t[e(160)]:t.ctrlKey},NP=function(i){const e=Ji,t=i[e(170)];return!t.altKey&&!(t[e(160)]||t[e(159)])&&t[e(165)]},bS=function(i){const e=Ji,t=i[e(170)],n=t[e(162)][e(176)];return n!==e(158)&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target[e(181)]},Hy=function(i){const e=Ji,t=i.originalEvent;return yt(t!==void 0,e(169)),t.pointerType==e(172)},OP=function(i){const e=Ji,t=i[e(170)];return yt(t!==void 0,e(169)),t[e(150)]&&t[e(152)]===0},$h=ef;(function(i,e){const t=ef,n=i();for(;;)try{if(parseInt(t(329))/1*(parseInt(t(367))/2)+parseInt(t(359))/3*(-parseInt(t(369))/4)+-parseInt(t(331))/5*(-parseInt(t(350))/6)+parseInt(t(356))/7*(parseInt(t(345))/8)+-parseInt(t(354))/9+parseInt(t(337))/10+-parseInt(t(370))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(km,598204);function ef(i,e){const t=km();return ef=function(n,r){return n=n-328,t[n]},ef(i,e)}function km(){const i=["beginInteraction","kinetic","getView","getDistance","350OiLPVI","adjustCenterInternal","36536OYtxGF","7771368TNCgfn","map","endInteraction","751jFJJsz","getEventPixel","37640jtNxAv","condition_","lastPointersCount_","getAngle","begin","getCenterInternal","9494400bErhLW","handleDownEvent","getAnimating","lastCentroid","sin","length","cos","cancelAnimations","66008VmcviT","end","noKinetic_","preventDefault","getRotation","234yAiPsh","originalEvent","condition","onFocusOnly","4913802pApTYH","kinetic_","497TbCUTr","handleDragEvent","getCoordinateFromPixelInternal","36ITeKhh","getResolution","panning_","targetPointers"];return km=function(){return i},km()}class GP extends Zh{constructor(e){const t=ef;super({stopDown:ld}),e=e||{},this[t(355)]=e[t(364)],this[t(340)]=null,this.lastPointersCount_,this[t(361)]=!1;const n=e[t(352)]?e[t(352)]:Vy(CS,OP);this.condition_=e[t(353)]?Vy(ES,n):n,this[t(347)]=!1}[$h(357)](e){const t=$h,n=e[t(371)];!this[t(361)]&&(this[t(361)]=!0,n[t(365)]()[t(363)]());const r=this[t(362)],s=n[t(330)](zy(r));if(r[t(342)]==this.lastPointersCount_){if(this[t(355)]&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const a=[this[t(340)][0]-s[0],s[1]-this[t(340)][1]],o=e[t(371)],l=o[t(365)]();bQ(a,l[t(360)]()),YI(a,l[t(349)]()),l[t(368)](a)}}else this[t(355)]&&this.kinetic_[t(335)]();this.lastCentroid=s,this[t(333)]=r[t(342)],e[t(351)][t(348)]()}handleUpEvent(e){const t=$h,n=e[t(371)],r=n[t(365)]();if(this.targetPointers[t(342)]===0){if(!this[t(347)]&&this[t(355)]&&this[t(355)][t(346)]()){const s=this[t(355)][t(366)](),a=this.kinetic_[t(334)](),o=r[t(336)](),l=n.getPixelFromCoordinateInternal(o),c=n[t(358)]([l[0]-s*Math[t(343)](a),l[1]-s*Math[t(341)](a)]);r.animateInternal({center:r.getConstrainedCenter(c),duration:500,easing:Qc})}return this[t(361)]&&(this.panning_=!1,r[t(328)]()),!1}return this[t(355)]&&this.kinetic_[t(335)](),this.lastCentroid=null,!0}[$h(338)](e){const t=$h;if(this[t(362)].length>0&&this[t(332)](e)){const n=e[t(371)],r=n[t(365)]();return this.lastCentroid=null,r[t(339)]()&&r[t(344)](),this[t(355)]&&this[t(355)][t(335)](),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}const Cl=tf;(function(i,e){const t=tf,n=i();for(;;)try{if(-parseInt(t(252))/1+-parseInt(t(249))/2+parseInt(t(255))/3*(-parseInt(t(251))/4)+parseInt(t(242))/5+-parseInt(t(231))/6*(parseInt(t(232))/7)+-parseInt(t(245))/8*(parseInt(t(240))/9)+-parseInt(t(243))/10*(-parseInt(t(239))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Um,425121);function tf(i,e){const t=Um();return tf=function(n,r){return n=n-229,t[n]},tf(i,e)}function Um(){const i=["lastAngle_","305112RLWuTo","849225aFSnNA","map","rotation","33IauShe","handleDragEvent","endInteraction","adjustRotationInternal","64092kEbmOj","469ygEHKB","duration","condition","atan2","handleUpEvent","duration_","condition_","84381wQMpVj","7186653zYyXOP","getView","2673030GYHreY","4630hkAnMR","getConstraints","8hYFwPM","beginInteraction","pixel","handleDownEvent","917328PnMunf"];return Um=function(){return i},Um()}class zP extends Zh{constructor(e){const t=tf;e=e||{},super({stopDown:ld}),this[t(238)]=e[t(234)]?e.condition:LP,this.lastAngle_=void 0,this[t(237)]=e[t(233)]!==void 0?e[t(233)]:250}[Cl(256)](e){const t=Cl;if(!Hy(e))return;const n=e[t(253)],r=n[t(241)]();if(r[t(244)]()[t(254)]===TE)return;const s=n.getSize(),a=e[t(247)],o=Math[t(235)](s[1]/2-a[1],a[0]-s[0]/2);if(this[t(250)]!==void 0){const l=o-this[t(250)];r[t(230)](-l)}this.lastAngle_=o}[Cl(236)](e){const t=Cl;return Hy(e)?(e[t(253)].getView()[t(229)](this.duration_),!1):!0}[Cl(248)](e){const t=Cl;return Hy(e)&&yS(e)&&this[t(238)](e)?(e[t(253)][t(241)]()[t(246)](),this.lastAngle_=void 0,!0):!1}}function Nm(){const i=["inherit","setCoordinates","width","style","ol-box ","832671sIEjCe","pointerEvents","1233291oxqszR","startPixel_","149214rkGXfU","createOrUpdateGeometry","endPixel_","getGeometry","height","setPixels","setMap","abs","231174XiuOIM","element_","12zhwHYQ","appendChild","getOverlayContainer","map","className","div","2525808IDCOgr","getCoordinateFromPixelInternal","map_","min","top","position","3244EUdDDD","auto","1812951DGPpkq","removeChild","geometry_","115SCjQWo","left","absolute","render_"];return Nm=function(){return i},Nm()}function bl(i,e){const t=Nm();return bl=function(n,r){return n=n-474,t[n]},bl(i,e)}const ma=bl;(function(i,e){const t=bl,n=i();for(;;)try{if(-parseInt(t(490))/1+-parseInt(t(482))/2+parseInt(t(480))/3+parseInt(t(504))/4*(-parseInt(t(509))/5)+-parseInt(t(492))/6*(-parseInt(t(478))/7)+-parseInt(t(498))/8+parseInt(t(506))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Nm,210282);class VP extends rd{constructor(e){const t=bl;super(),this[t(508)]=null,this[t(491)]=document.createElement(t(497)),this[t(491)][t(476)][t(503)]=t(511),this[t(491)][t(476)][t(479)]=t(505),this.element_[t(496)]=t(477)+e,this.map_=null,this[t(481)]=null,this[t(484)]=null}disposeInternal(){this[bl(488)](null)}[ma(512)](){const e=ma,t=this[e(481)],n=this[e(484)],r="px",s=this[e(491)][e(476)];s[e(510)]=Math[e(501)](t[0],n[0])+r,s[e(502)]=Math[e(501)](t[1],n[1])+r,s.width=Math[e(489)](n[0]-t[0])+r,s[e(486)]=Math.abs(n[1]-t[1])+r}[ma(488)](e){const t=ma;if(this[t(500)]){this[t(500)][t(494)]()[t(507)](this[t(491)]);const n=this[t(491)][t(476)];n[t(510)]=t(513),n[t(502)]=t(513),n[t(475)]=t(513),n[t(486)]=t(513)}this.map_=e,this.map_&&this[t(500)][t(494)]()[t(493)](this[t(491)])}[ma(487)](e,t){const n=ma;this.startPixel_=e,this.endPixel_=t,this[n(483)](),this[n(512)]()}[ma(483)](){const e=ma;if(!this[e(500)])return;const t=this.startPixel_,n=this[e(484)],r=[t,[t[0],n[1]],n,[n[0],t[1]]],s=r[e(495)](this.map_[e(499)],this[e(500)]);s[4]=s[0].slice(),this[e(508)]?this[e(508)][e(474)]([s]):this.geometry_=new Uc([s])}[ma(485)](){return this.geometry_}}const ai=Om;(function(i,e){const t=Om,n=i();for(;;)try{if(-parseInt(t(291))/1*(-parseInt(t(312))/2)+-parseInt(t(309))/3+parseInt(t(306))/4*(parseInt(t(307))/5)+parseInt(t(290))/6+parseInt(t(320))/7*(parseInt(t(297))/8)+-parseInt(t(296))/9+-parseInt(t(319))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gm,452988);function Om(i,e){const t=Gm();return Om=function(n,r){return n=n-287,t[n]},Om(i,e)}const nf={BOXSTART:ai(301),BOXDRAG:ai(289),BOXEND:ai(305),BOXCANCEL:ai(313)};function Gm(){const i=["BOXCANCEL","boxend","4TolIig","339620oPRvbP","handleDragEvent","2661759tTyvdh","className","map","70MWduub","boxcancel","condition","setActive","minArea_","setMap","BOXDRAG","4233120ZAMXVo","91lKWgkw","BOXEND","coordinate","box_","boxEndCondition","onBoxEnd","handleDownEvent","boxdrag","2094816ptgTiw","22186PubYDq","pixel","defaultBoxEndCondition","handleUpEvent","dispatchEvent","1441107fvYISc","449296myhIIS","minArea","condition_","startPixel_","boxstart","ol-dragbox","getGeometry"];return Gm=function(){return i},Gm()}class zm extends Cr{constructor(e,t,n){const r=ai;super(e),this[r(322)]=t,this.mapBrowserEvent=n}}class HP extends Zh{constructor(e){const t=ai;super(),this.on,this.once,this.un,e=e||{},this.box_=new VP(e[t(310)]||t(302)),this[t(316)]=e[t(298)]!==void 0?e.minArea:64,e[t(287)]&&(this[t(287)]=e[t(287)]),this[t(300)]=null,this[t(299)]=e[t(314)]?e.condition:yS,this.boxEndCondition_=e[t(324)]?e[t(324)]:this[t(293)]}[ai(293)](e,t,n){const r=n[0]-t[0],s=n[1]-t[1];return r*r+s*s>=this.minArea_}[ai(303)](){const e=ai;return this[e(323)][e(303)]()}[ai(308)](e){const t=ai;this[t(300)]&&(this[t(323)].setPixels(this[t(300)],e[t(292)]),this[t(295)](new zm(nf[t(318)],e[t(322)],e)))}[ai(294)](e){const t=ai;if(!this[t(300)])return!1;this[t(323)].setMap(null);const n=this.boxEndCondition_(e,this[t(300)],e[t(292)]);return n&&this[t(287)](e),this[t(295)](new zm(n?nf[t(321)]:nf[t(304)],e[t(322)],e)),!1}[ai(288)](e){const t=ai;return this[t(299)](e)?(this.startPixel_=e[t(292)],this.box_[t(317)](e[t(311)]),this[t(323)].setPixels(this[t(300)],this[t(300)]),this[t(295)](new zm(nf.BOXSTART,e[t(322)],e)),!0):!1}onBoxEnd(e){}[ai(315)](e){const t=ai;!e&&(this[t(323)].setMap(null),this.startPixel_&&(this[t(295)](new zm(nf[t(304)],this[t(300)],null)),this[t(300)]=null)),super[t(315)](e)}}(function(i,e){const t=rf,n=i();for(;;)try{if(parseInt(t(135))/1+parseInt(t(125))/2*(-parseInt(t(133))/3)+-parseInt(t(134))/4*(-parseInt(t(140))/5)+parseInt(t(130))/6*(parseInt(t(142))/7)+parseInt(t(138))/8+-parseInt(t(123))/9+-parseInt(t(122))/10*(-parseInt(t(129))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vm,304228);class qP extends HP{constructor(e){const t=rf;e=e||{};const n=e[t(128)]?e.condition:NP;super({condition:n,className:e.className||t(124),minArea:e[t(137)]}),this[t(126)]=e.duration!==void 0?e.duration:200,this[t(131)]=e[t(127)]!==void 0?e.out:!1}onBoxEnd(e){const t=rf,n=this[t(132)](),r=n[t(139)]();let s=this[t(136)]();if(this.out_){const a=r.rotatedExtentForGeometry(s),o=r[t(143)](a),l=r[t(141)]()/o;s=s.clone(),s.scale(l*l)}r.fitInternal(s,{duration:this[t(126)],easing:Qc})}}function rf(i,e){const t=Vm();return rf=function(n,r){return n=n-122,t[n]},rf(i,e)}function Vm(){const i=["240lzNhxi","985644bpUYdB","ol-dragzoom","467710LuqmAg","duration_","out","condition","18986czROOy","1019640UwvQDJ","out_","getMap","6sfpjmM","3044taAMYX","401456xphagS","getGeometry","minArea","1095848KAFIFp","getView","865xJQXrv","getResolution","7RaQzFh","getResolutionForExtentInternal"];return Vm=function(){return i},Vm()}function Hm(i,e){var t=qm();return Hm=function(n,r){n=n-238;var s=t[n];return s},Hm(i,e)}var qy=Hm;(function(i,e){for(var t=Hm,n=i();;)try{var r=-parseInt(t(238))/1+parseInt(t(240))/2*(-parseInt(t(244))/3)+parseInt(t(242))/4+-parseInt(t(243))/5+-parseInt(t(246))/6+-parseInt(t(241))/7+parseInt(t(247))/8;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(qm,605783);const R0={LEFT:qy(248),UP:qy(245),RIGHT:"ArrowRight",DOWN:qy(239)};function qm(){var i=["4939530UMkAlY","35961vPqbvq","ArrowUp","1244160LnqbHj","14172536HrNuot","ArrowLeft","34282kpiUIj","ArrowDown","18PafxRF","2737987jUheeu","2251152xDeMLx"];return qm=function(){return i},qm()}function sf(i,e){const t=Ym();return sf=function(n,r){return n=n-101,t[n]},sf(i,e)}const vS=sf;(function(i,e){const t=sf,n=i();for(;;)try{if(parseInt(t(130))/1+-parseInt(t(113))/2*(parseInt(t(120))/3)+parseInt(t(123))/4+-parseInt(t(108))/5*(-parseInt(t(124))/6)+-parseInt(t(118))/7*(parseInt(t(129))/8)+-parseInt(t(117))/9*(-parseInt(t(128))/10)+parseInt(t(116))/11*(-parseInt(t(119))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ym,366558);function Ym(){const i=["RIGHT","pixelDelta","getRotation","preventDefault","pixelDelta_","condition","2553535uUdcFO","condition_","key","defaultCondition_","DOWN","857932TRLtVp","type","handleEvent","216557yRqxWO","2529aOAOOz","7pHRINM","696SvsOsx","3PLIXAc","KEYDOWN","map","1411944mDBcZH","6ltpjrT","LEFT","duration_","duration","25790phTHiF","2391240fQyIsC","647883gpRimS","getView"];return Ym=function(){return i},Ym()}class YP extends jh{constructor(e){const t=sf;super(),e=e||{},this[t(111)]=function(n){return CS(n)&&bS(n)},this[t(109)]=e[t(107)]!==void 0?e[t(107)]:this.defaultCondition_,this[t(126)]=e[t(127)]!==void 0?e[t(127)]:100,this[t(106)]=e[t(103)]!==void 0?e[t(103)]:128}[vS(115)](e){const t=vS;let n=!1;if(e[t(114)]==Ye[t(121)]){const r=e.originalEvent,s=r[t(110)];if(this[t(109)](e)&&(s==R0[t(112)]||s==R0[t(125)]||s==R0[t(102)]||s==R0.UP)){const a=e[t(122)],o=a[t(101)](),l=o.getResolution()*this[t(106)];let c=0,x=0;s==R0.DOWN?x=-l:s==R0[t(125)]?c=-l:s==R0[t(102)]?c=l:x=l;const u=[c,x];YI(u,o[t(104)]()),QP(o,u,this[t(126)]),r[t(105)](),n=!0}}return!n}}const wS=af;(function(i,e){const t=af,n=i();for(;;)try{if(-parseInt(t(462))/1+-parseInt(t(464))/2+parseInt(t(475))/3*(parseInt(t(454))/4)+parseInt(t(470))/5*(-parseInt(t(474))/6)+parseInt(t(473))/7*(-parseInt(t(472))/8)+parseInt(t(456))/9*(-parseInt(t(476))/10)+-parseInt(t(466))/11*(-parseInt(t(461))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Xm,668082);function Xm(){const i=["33cJubgx","condition","delta","originalEvent","2005qdataM","handleEvent","312bAtOWj","208047sBtRxQ","480KoohiE","81099BWMIXk","5510fYkmrZ","delta_","getView","92kaYvtX","key","19629LqDhlg","condition_","type","KEYPRESS","KEYDOWN","18609876aOqkbj","1205795EMUOSb","duration","2014842KogOzu","duration_"];return Xm=function(){return i},Xm()}function af(i,e){const t=Xm();return af=function(n,r){return n=n-452,t[n]},af(i,e)}class XP extends jh{constructor(e){const t=af;super(),e=e||{},this[t(457)]=e[t(467)]?e[t(467)]:function(n){return!UP(n)&&bS(n)},this[t(452)]=e[t(468)]?e[t(468)]:1,this.duration_=e[t(463)]!==void 0?e.duration:100}[wS(471)](e){const t=wS;let n=!1;if(e[t(458)]==Ye[t(460)]||e.type==Ye[t(459)]){const r=e[t(469)],s=r[t(455)];if(this[t(457)](e)&&(s==="+"||s==="-")){const a=e.map,o=s==="+"?this[t(452)]:-this[t(452)],l=a[t(453)]();Gy(l,o,void 0,this[t(465)]),r.preventDefault(),n=!0}}return!n}}const T0=vl;(function(i,e){const t=vl,n=i();for(;;)try{if(parseInt(t(439))/1+-parseInt(t(441))/2+-parseInt(t(437))/3*(parseInt(t(422))/4)+-parseInt(t(426))/5+parseInt(t(428))/6+-parseInt(t(423))/7*(-parseInt(t(429))/8)+-parseInt(t(427))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wm,909008);function vl(i,e){const t=Wm();return vl=function(n,r){return n=n-422,t[n]},vl(i,e)}class WP{constructor(e,t,n){const r=vl;this.decay_=e,this[r(442)]=t,this[r(430)]=n,this[r(435)]=[],this[r(434)]=0,this[r(432)]=0}begin(){const e=vl;this[e(435)][e(440)]=0,this.angle_=0,this[e(432)]=0}[T0(436)](e,t){const n=T0;this[n(435)][n(431)](e,t,Date[n(444)]())}[T0(433)](){const e=T0;if(this[e(435)][e(440)]<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this[e(435)][n+2]<t)return!1;let r=n-3;for(;r>0&&this[e(435)][r+2]>t;)r-=3;const s=this[e(435)][n+2]-this[e(435)][r+2];if(s<1e3/60)return!1;const a=this[e(435)][n]-this[e(435)][r],o=this[e(435)][n+1]-this.points_[r+1];return this.angle_=Math[e(443)](o,a),this.initialVelocity_=Math[e(424)](a*a+o*o)/s,this[e(432)]>this[e(442)]}[T0(425)](){const e=T0;return(this.minVelocity_-this[e(432)])/this[e(438)]}getAngle(){return this[T0(434)]}}function Wm(){const i=["4491148PpcYwI","161BwEhaa","sqrt","getDistance","128655repAzP","9536688wTUCOn","6494790ezzITu","590808WHNRCF","delay_","push","initialVelocity_","end","angle_","points_","update","3CwBpug","decay_","782210uJDVvj","length","892180djMTUT","minVelocity_","atan2","now"];return Wm=function(){return i},Wm()}const wl=Bl;function Bl(i,e){const t=jm();return Bl=function(n,r){return n=n-320,t[n]},Bl(i,e)}(function(i,e){const t=Bl,n=i();for(;;)try{if(parseInt(t(334))/1*(parseInt(t(373))/2)+-parseInt(t(346))/3+-parseInt(t(333))/4*(parseInt(t(364))/5)+-parseInt(t(328))/6*(parseInt(t(368))/7)+-parseInt(t(356))/8+parseInt(t(341))/9*(parseInt(t(352))/10)+-parseInt(t(365))/11*(-parseInt(t(345))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(jm,718005);function jm(){const i=["constrainResolution_","startTime_","35576OSiPoG","getAnimating","getConstrainResolution","cancelAnimations","timeoutId_","DOM_DELTA_PIXEL","DOM_DELTA_LINE","getView","abs","endInteraction_","useAnchor_","57630kIpepG","deltaMode","handleWheelZoom_","preventDefault","duration","36kQzgEG","68KvwCAb","useAnchor","totalDelta_","type","deltaPerZoom_","endInteraction","condition","23283CftFmZ","trackpadEventGap_","bind","maxDelta_","264isuHOU","1298709kAwRlS","lastAnchor_","condition_","mode_","setMouseAnchor","wheel","4610wmeCvK","constrainResolution","coordinate","getMap","6180232awWsEq","map","max","WHEEL","maxDelta","handleEvent","lastDelta_","trackpadTimeoutId_","585210uqBJZU","431387jdaFLO","duration_","timeout_","210VeIsnq","timeout","trackpad"];return jm=function(){return i},jm()}class jP extends jh{constructor(e){const t=Bl;e=e||{},super(e),this[t(336)]=0,this[t(362)]=0,this[t(344)]=e.maxDelta!==void 0?e[t(360)]:1,this[t(366)]=e[t(332)]!==void 0?e.duration:250,this[t(367)]=e[t(369)]!==void 0?e[t(369)]:80,this[t(327)]=e[t(335)]!==void 0?e[t(335)]:!0,this[t(371)]=e.constrainResolution!==void 0?e[t(353)]:!1;const n=e[t(340)]?e.condition:kP;this[t(348)]=e.onFocusOnly?Vy(ES,n):n,this[t(347)]=null,this[t(372)]=void 0,this[t(321)],this.mode_=void 0,this[t(342)]=400,this[t(363)],this[t(338)]=300}endInteraction_(){const e=Bl;this[e(363)]=void 0;const t=this[e(355)]();if(!t)return;t[e(324)]()[e(339)](void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this[e(347)])}[wl(361)](e){const t=wl;if(!this[t(348)](e)||e[t(337)]!==Ye.WHEEL)return!0;const r=e[t(357)],s=e.originalEvent;s[t(331)](),this[t(327)]&&(this.lastAnchor_=e[t(354)]);let a;if(e[t(337)]==Ye[t(359)]&&(a=s.deltaY,HQ&&s.deltaMode===WheelEvent[t(322)]&&(a/=ed),s[t(329)]===WheelEvent[t(323)]&&(a*=40)),a===0)return!1;this[t(362)]=a;const o=Date.now();this[t(372)]===void 0&&(this[t(372)]=o),(!this.mode_||o-this[t(372)]>this[t(342)])&&(this[t(349)]=Math[t(325)](a)<4?t(370):t(351));const l=r[t(324)]();if(this[t(349)]==="trackpad"&&!(l[t(375)]()||this.constrainResolution_))return this[t(363)]?clearTimeout(this[t(363)]):(l[t(374)]()&&l[t(320)](),l.beginInteraction()),this[t(363)]=setTimeout(this[t(326)][t(343)](this),this[t(367)]),l.adjustZoom(-a/this[t(338)],this[t(347)]),this[t(372)]=o,!1;this[t(336)]+=a;const c=Math[t(358)](this[t(367)]-(o-this[t(372)]),0);return clearTimeout(this[t(321)]),this[t(321)]=setTimeout(this.handleWheelZoom_[t(343)](this,r),c),!1}[wl(330)](e){const t=wl,n=e[t(324)]();n[t(374)]()&&n.cancelAnimations();let r=-Sn(this[t(336)],-this[t(344)]*this[t(338)],this[t(344)]*this[t(338)])/this[t(338)];(n[t(375)]()||this[t(371)])&&(r=r?r>0?1:-1:0),Gy(n,r,this[t(347)],this[t(366)]),this.mode_=void 0,this[t(336)]=0,this[t(347)]=null,this[t(372)]=void 0,this[t(321)]=void 0}[wl(350)](e){const t=wl;this[t(327)]=e,!e&&(this[t(347)]=null)}}const Sl=of;function of(i,e){const t=Km();return of=function(n,r){return n=n-350,t[n]},of(i,e)}function Km(){const i=["92002LUhIVW","targetPointers","rotation","lastAngle_","152jGvOSV","threshold","clientY","1735644PJztMO","handlingDownUpSequence","handleDragEvent","length","adjustRotationInternal","atan2","getView","stopDown","6940HNjKeC","14973030GEwdWQ","abs","clientX","handleUpEvent","anchor_","duration","handleDownEvent","getEventPixel","3HTtVnP","1109985HyrTXF","3371452FXsBbf","rotationDelta_","rotating_","map","631040ydvgPl","duration_"];return Km=function(){return i},Km()}(function(i,e){const t=of,n=i();for(;;)try{if(-parseInt(t(380))/1*(parseInt(t(356))/2)+-parseInt(t(381))/3+-parseInt(t(360))/4*(parseInt(t(371))/5)+-parseInt(t(363))/6+-parseInt(t(350))/7+-parseInt(t(354))/8+parseInt(t(372))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Km,253138);class KP extends Zh{constructor(e){const t=of;e=e||{};const n=e;!n[t(370)]&&(n[t(370)]=ld),super(n),this[t(376)]=null,this[t(359)]=void 0,this[t(352)]=!1,this[t(351)]=0,this.threshold_=e[t(361)]!==void 0?e.threshold:.3,this[t(355)]=e[t(377)]!==void 0?e[t(377)]:250}[Sl(365)](e){const t=Sl;let n=0;const r=this[t(357)][0],s=this.targetPointers[1],a=Math[t(368)](s[t(362)]-r[t(362)],s[t(374)]-r[t(374)]);if(this.lastAngle_!==void 0){const c=a-this.lastAngle_;this[t(351)]+=c,!this[t(352)]&&Math[t(373)](this[t(351)])>this.threshold_&&(this.rotating_=!0),n=c}this[t(359)]=a;const o=e[t(353)],l=o.getView();l.getConstraints()[t(358)]!==TE&&(this[t(376)]=o.getCoordinateFromPixelInternal(o[t(379)](zy(this[t(357)]))),this.rotating_&&(o.render(),l[t(367)](n,this[t(376)])))}[Sl(375)](e){const t=Sl;return this[t(357)].length<2?(e[t(353)].getView().endInteraction(this[t(355)]),!1):!0}[Sl(378)](e){const t=Sl;if(this.targetPointers[t(366)]>=2){const n=e.map;return this[t(376)]=null,this[t(359)]=void 0,this[t(352)]=!1,this[t(351)]=0,!this[t(364)]&&n[t(369)]().beginInteraction(),!0}return!1}}const cf=lf;(function(i,e){const t=lf,n=i();for(;;)try{if(-parseInt(t(272))/1*(parseInt(t(262))/2)+-parseInt(t(253))/3*(-parseInt(t(254))/4)+parseInt(t(243))/5*(parseInt(t(247))/6)+parseInt(t(246))/7*(parseInt(t(245))/8)+-parseInt(t(252))/9*(parseInt(t(265))/10)+-parseInt(t(260))/11*(-parseInt(t(264))/12)+-parseInt(t(248))/13===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Jm,123545);function lf(i,e){const t=Jm();return lf=function(n,r){return n=n-243,t[n]},lf(i,e)}class JP extends Zh{constructor(e){const t=lf;e=e||{};const n=e;!n[t(263)]&&(n.stopDown=ld),super(n),this[t(257)]=null,this[t(258)]=e[t(270)]!==void 0?e[t(270)]:400,this.lastDistance_=void 0,this[t(259)]=1}[cf(266)](e){const t=cf;let n=1;const r=this.targetPointers[0],s=this[t(274)][1],a=r[t(268)]-s.clientX,o=r[t(244)]-s.clientY,l=Math[t(255)](a*a+o*o);this[t(275)]!==void 0&&(n=this[t(275)]/l),this[t(275)]=l;const c=e[t(269)],x=c[t(261)]();n!=1&&(this[t(259)]=n),this[t(257)]=c.getCoordinateFromPixelInternal(c[t(250)](zy(this[t(274)]))),c[t(273)](),x.adjustResolutionInternal(n,this[t(257)])}[cf(256)](e){const t=cf;if(this[t(274)][t(271)]<2){const n=e[t(269)],r=n.getView(),s=this[t(259)]>1?1:-1;return r[t(249)](this[t(258)],s),!1}return!0}handleDownEvent(e){const t=cf;if(this[t(274)].length>=2){const n=e.map;return this.anchor_=null,this[t(275)]=void 0,this[t(259)]=1,!this[t(267)]&&n[t(261)]()[t(251)](),!0}return!1}}function Jm(){const i=["sqrt","handleUpEvent","anchor_","duration_","lastScaleDelta_","4279cDVzmO","getView","26fYHoOe","stopDown","1740VedhZM","190YcIWhc","handleDragEvent","handlingDownUpSequence","clientX","map","duration","length","1868BxaluV","render","targetPointers","lastDistance_","124895fvyFKn","clientY","645824ooOMfe","21gREnKZ","6PivESz","2596516uLXxEh","endInteraction","getEventPixel","beginInteraction","55323IuQsrq","211179YxGJfJ","8qMAkzl"];return Jm=function(){return i},Jm()}function Zm(i,e){const t=$m();return Zm=function(n,r){return n=n-193,t[n]},Zm(i,e)}(function(i,e){const t=Zm,n=i();for(;;)try{if(-parseInt(t(207))/1+parseInt(t(193))/2+parseInt(t(195))/3+-parseInt(t(196))/4+-parseInt(t(198))/5+parseInt(t(200))/6+-parseInt(t(199))/7===e)break;n.push(n.shift())}catch{n.push(n.shift())}})($m,644969);function $m(){const i=["keyboard","1150989bghCuZ","mouseWheelZoom","altShiftDragRotate","push","zoomDelta","949504YcjwqS","onFocusOnly","3231051BufMdi","813104YewVyk","doubleClickZoom","3886350ykmixR","309057fqDySW","7613316QhqkES","shiftDragZoom","zoomDuration","pinchRotate","pinchZoom","dragPan"];return $m=function(){return i},$m()}function ZP(i){const e=Zm;i=i||{};const t=new Ms,n=new WP(-.005,.05,100);return(i.altShiftDragRotate!==void 0?i[e(209)]:!0)&&t[e(210)](new zP),(i[e(197)]!==void 0?i[e(197)]:!0)&&t.push(new FP({delta:i[e(211)],duration:i.zoomDuration})),(i.dragPan!==void 0?i[e(205)]:!0)&&t[e(210)](new GP({onFocusOnly:i[e(194)],kinetic:n})),(i[e(203)]!==void 0?i[e(203)]:!0)&&t[e(210)](new KP),(i[e(204)]!==void 0?i.pinchZoom:!0)&&t[e(210)](new JP({duration:i[e(202)]})),(i[e(206)]!==void 0?i[e(206)]:!0)&&(t.push(new YP),t[e(210)](new XP({delta:i.zoomDelta,duration:i.zoomDuration}))),(i[e(208)]!==void 0?i[e(208)]:!0)&&t[e(210)](new jP({onFocusOnly:i[e(194)],duration:i.zoomDuration})),(i[e(201)]!==void 0?i[e(201)]:!0)&&t[e(210)](new qP({duration:i[e(202)]})),t}const he=_a;(function(i,e){const t=_a,n=i();for(;;)try{if(-parseInt(t(172))/1+-parseInt(t(322))/2*(-parseInt(t(332))/3)+parseInt(t(353))/4*(parseInt(t(159))/5)+parseInt(t(320))/6*(parseInt(t(327))/7)+-parseInt(t(145))/8*(parseInt(t(166))/9)+-parseInt(t(157))/10*(-parseInt(t(335))/11)+parseInt(t(197))/12*(-parseInt(t(178))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(e2,935185);function _a(i,e){const t=e2();return _a=function(n,r){return n=n-132,t[n]},_a(i,e)}function BS(i){const e=_a;if(i instanceof m0){i.setMapInternal(null);return}i instanceof B0&&i[e(260)]().forEach(BS)}function SS(i,e){const t=_a;if(i instanceof m0){i[t(338)](e);return}if(i instanceof B0){const n=i[t(260)]()[t(255)]();for(let r=0,s=n[t(217)];r<s;++r)SS(n[r],e)}}function e2(){const i=["getElementById","overlayIdIndex_","paddingTop","targetChangeHandlerKeys_","bind","374024ANZBEO","getState","getId","targetElement_","absolute","offsetWidth","INTERACTING","overlays","frameIndex_","nextExtent","POINTERDOWN","getOwnerDocument","13756710wqeaCh","getSource","8789315mdhoud","renderer_","top","overlayContainerStopEvent_","reprioritize","getAllLayers","renderComplete_","18QFbPFU","getCoordinateFromPixelInternal","setProperties","getControls","getEventCoordinateInternal","boundHandleBrowserEvent_","844073GdEsmE","dispatchEvent","postRenderFunctions","observe","push","getActive","104USagDm","hitTolerance","disposeInternal","getLayerStatesArray","interactions","LOADEND","ol-overlaycontainer-stopevent","getTargetElement","offsetHeight","none","setView","postRenderTimeoutHandle_","borderBottomWidth","getProjection","addChangeListener","removeControl","handleTargetChanged_","disconnect","removeInteraction","5410884zEWdyy","updateSize","loadMoreTiles","addLayer","checkWrapped","resolution","getEventPixel","set","center","extent","viewPropertyListenerKey_","100%","forEachFeatureAtPixel","width","CHANGE","hasFeatureAtPixel","ol-overlaycontainer","setViewportSize","unobserve","KEYDOWN","length","moveTolerance","layers","nextRotation","setTarget","pixelRatio","once","viewport_","overlayContainer_","maxTilesLoading_","handleMapBrowserEvent","layerGroupPropertyListenerKeys_","getLoadingOrNotReady","controls","forEach","setLayerGroup","changedTouches","position","frameState","SIZE","rotation","keyboardEventTarget","maxTilesLoading","getHints","borderTopWidth","now","nextResolution","getOverlayContainerStopEvent","TARGET","borderLeftWidth","layer","getInteractions","nextCenter","dispatchRenderEvent","isDef","type","ADD","KEYPRESS","getArray","paddingLeft","clientY","addInteraction","div","getLayers","handleBrowserEvent","getClientRects","apply","hidden","No map visible because the map container's width or height are 0.","render","addOverlayInternal_","setSize","mapBrowserEventHandler_","RENDERCOMPLETE","handleTileChange_","paddingRight","pixelToCoordinateTransform_","getFeaturesAtPixel","isEmpty","updateViewportSize_","redrawText","remove","visible","setLayers","overlays_","handlePostRender","clear","hasRenderer","LOADSTART","propagationStopped","values","forEachFeatureAtCoordinate","host","LAYERGROUP","moveTolerance_","PROPERTYCHANGE","createElement","pixelRatio_","animationDelay_","hasListener","addEventListener","getOverlayContainer","renderFrame","className","height","keyboardEventTarget_","VIEW","removelayer","handleSizeChanged_","layerFilter","view","loaded_","borderRightWidth","then","WHEEL","getTilesLoading","getTarget","handleViewPropertyChanged_","originalEvent","relative","style","paddingBottom","animationDelayKey_","30516RAhTgE","viewChangeListenerKey_","8wJiAQy","ontouchstart","ANIMATING","max","addOverlay","2149rxLWoi","pointerEvents","element"," ol-touch","tileQueue_","588813hSnfFc","prototype","handleLayerAdd_","11jjIoPF","handleLayerGroupChanged_","setMap","setMapInternal","frameState_","getMap","isArray","get","getRootNode","toString","removeEventListener","dispose","getView","removeLayer","viewHints","coordinateToPixelTransform_","getAnimating","getSize","4uJhbZX","resolveConstraints","function","getRenderer","handleViewChanged_","getTilePriority","postRenderFunctions_","getPixelFromCoordinateInternal","left","resizeObserver_","renderFrame_","slice","renderSync","getOverlays","ol-viewport","animate","previousExtent_","MOVESTART","getLayerGroup","getEventCoordinate","appendChild","getCount","addlayer","REMOVE","handleLayerRemove_"];return e2=function(){return i},e2()}let Yy=class extends ys{constructor(e){const t=_a;super(),e=e||{},this.on,this[t(223)],this.un;const n=$P(e);this.renderComplete_=!1,this[t(308)]=!0,this[t(171)]=this.handleBrowserEvent[t(144)](this),this[t(226)]=e[t(239)]!==void 0?e[t(239)]:16,this[t(294)]=e[t(222)]!==void 0?e[t(222)]:ed,this[t(189)],this[t(319)],this[t(295)]=this.animationDelay_[t(144)](this),this[t(350)]=Oi(),this.pixelToCoordinateTransform_=Oi(),this[t(153)]=0,this[t(339)]=null,this[t(369)]=null,this[t(207)]=null,this[t(321)]=null,this.layerGroupPropertyListenerKeys_=null,this[t(224)]=document.createElement(t(259)),this[t(224)].className=t(367)+(t(323)in window?t(330):""),this[t(224)][t(317)].position=t(316),this[t(224)].style.overflow=t(264),this[t(224)][t(317)][t(210)]=t(208),this[t(224)][t(317)][t(301)]=t(208),this.overlayContainer_=document[t(293)]("div"),this[t(225)].style[t(234)]="absolute",this[t(225)].style.zIndex="0",this[t(225)][t(317)][t(210)]=t(208),this[t(225)][t(317)][t(301)]=t(208),this[t(225)].style[t(328)]=t(187),this[t(225)][t(300)]=t(213),this[t(224)][t(135)](this[t(225)]),this[t(162)]=document[t(293)](t(259)),this[t(162)][t(317)][t(234)]=t(149),this[t(162)].style.zIndex="0",this.overlayContainerStopEvent_[t(317)][t(210)]="100%",this[t(162)][t(317)][t(301)]=t(208),this.overlayContainerStopEvent_[t(317)][t(328)]="none",this[t(162)][t(300)]=t(184),this[t(224)][t(135)](this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this[t(291)]=e[t(218)],this[t(302)]=n[t(238)],this[t(143)]=null,this.targetElement_=null,this[t(362)]=new ResizeObserver(()=>this[t(198)]()),this[t(230)]=n[t(230)]||TP(),this[t(182)]=n[t(182)]||ZP({onFocusOnly:!0}),this[t(281)]=n[t(152)],this[t(141)]={},this.renderer_=null,this[t(359)]=[],this[t(331)]=new $5(this[t(358)][t(144)](this),this[t(271)][t(144)](this)),this[t(192)](Ci[t(290)],this[t(336)]),this.addChangeListener(Ci[t(303)],this[t(357)]),this[t(192)](Ci[t(236)],this[t(305)]),this[t(192)](Ci[t(245)],this[t(194)]),this[t(168)](n[t(287)]);const r=this;e.view&&!(e[t(307)]instanceof ws)&&e[t(307)][t(310)](function(s){r[t(188)](new ws(s))}),this[t(230)][t(297)](Yi[t(253)],s=>{const a=t;s[a(329)][a(337)](this)}),this.controls[t(297)](Yi[t(138)],s=>{const a=t;s[a(329)][a(337)](null)}),this.interactions[t(297)](Yi[t(253)],s=>{const a=t;s[a(329)][a(337)](this)}),this[t(182)].addEventListener(Yi[t(138)],s=>{const a=t;s[a(329)][a(337)](null)}),this[t(281)].addEventListener(Yi[t(253)],s=>{const a=t;this[a(267)](s[a(329)])}),this.overlays_[t(297)](Yi[t(138)],s=>{const a=t,o=s[a(329)][a(147)]();o!==void 0&&delete this[a(141)][o[a(344)]()],s[a(329)].setMap(null)}),this[t(230)][t(231)](s=>{s[t(337)](this)}),this[t(182)].forEach(s=>{s[t(337)](this)}),this[t(281)].forEach(this[t(267)][t(144)](this))}addControl(e){this[_a(169)]().push(e)}[he(258)](e){this.getInteractions().push(e)}[he(200)](e){const t=he;this[t(133)]()[t(260)]()[t(176)](e)}[he(334)](e){SS(e.layer,this)}[he(326)](e){const t=he;this[t(366)]()[t(176)](e)}[he(267)](e){const t=he,n=e[t(147)]();n!==void 0&&(this[t(141)][n[t(344)]()]=e),e[t(337)](this)}[he(180)](){const e=he;this[e(230)][e(283)](),this[e(182)][e(283)](),this.overlays_[e(283)](),this[e(362)][e(195)](),this.setTarget(null),super.disposeInternal()}[he(209)](e,t,n){const r=he;if(!this.frameState_||!this[r(160)])return;const s=this[r(167)](e);n=n!==void 0?n:{};const a=n[r(179)]!==void 0?n[r(179)]:0,o=n.layerFilter!==void 0?n[r(306)]:fu,l=n[r(201)]!==!1;return this[r(160)][r(288)](s,this[r(339)],a,l,t,null,o,null)}[he(274)](e,t){const n=he,r=[];return this[n(209)](e,function(s){r[n(176)](s)},t),r}[he(164)](){const e=he,t=[];function n(r){const s=_a;r[s(231)](function(a){const o=s;a instanceof B0?n(a[o(260)]()):t[o(176)](a)})}return n(this[e(260)]()),t}[he(212)](e,t){const n=he;if(!this[n(339)]||!this[n(160)])return!1;const r=this[n(167)](e);t=t!==void 0?t:{};const s=t[n(306)]!==void 0?t[n(306)]:fu,a=t[n(179)]!==void 0?t[n(179)]:0,o=t[n(201)]!==!1;return this[n(160)].hasFeatureAtCoordinate(r,this[n(339)],a,o,s,null)}[he(134)](e){const t=he;return this.getCoordinateFromPixel(this[t(203)](e))}[he(170)](e){const t=he;return this[t(167)](this[t(203)](e))}[he(203)](e){const t=he,n=this[t(224)],r=n.getBoundingClientRect(),s=this[t(352)](),a=r.width/s[0],o=r[t(301)]/s[1],l=t(233)in e?e[t(233)][0]:e;return[(l.clientX-r[t(361)])/a,(l[t(257)]-r[t(161)])/o]}[he(313)](){const e=he;return this[e(342)](Ci[e(245)])}[he(185)](){return this.targetElement_}getCoordinateFromPixel(e){const t=he;return eE(this[t(167)](e),this.getView()[t(191)]())}[he(167)](e){const t=he,n=this[t(339)];return n?Vn(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this[he(230)]}[he(366)](){return this.overlays_}getOverlayById(e){const t=he,n=this[t(141)][e[t(344)]()];return n!==void 0?n:null}[he(248)](){return this[he(182)]}[he(133)](){const e=he;return this.get(Ci[e(290)])}[he(280)](e){const t=he,n=this[t(133)]();if(e instanceof Ms){n.setLayers(e);return}const r=n[t(260)]();r[t(283)](),r.extend(e)}[he(260)](){const e=he;return this[e(133)]()[e(260)]()}getLoadingOrNotReady(){const e=he,t=this[e(133)]().getLayerStatesArray();for(let n=0,r=t[e(217)];n<r;++n){const s=t[n];if(!s[e(279)])continue;const a=s[e(247)][e(356)]();if(a&&!a.ready)return!0;const o=s[e(247)][e(158)]();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const t=he,n=Zs(e,this[t(347)]()[t(191)]());return this[t(360)](n)}getPixelFromCoordinateInternal(e){const t=he,n=this.frameState_;return n?Vn(n.coordinateToPixelTransform,e[t(364)](0,2)):null}[he(356)](){return this[he(160)]}[he(352)](){const e=he;return this[e(342)](Ci[e(236)])}getView(){const e=he;return this[e(342)](Ci[e(303)])}getViewport(){return this[he(224)]}[he(298)](){return this[he(225)]}[he(244)](){return this.overlayContainerStopEvent_}[he(156)](){const e=he,t=this[e(185)]();return t?t.ownerDocument:document}[he(358)](e,t,n,r){return nL(this.frameState_,e,t,n,r)}[he(261)](e,t){const n=he;t=t||e[n(252)];const r=new Co(t,this,e);this[n(227)](r)}[he(227)](e){const t=he;if(!this[t(339)])return;const n=e[t(315)],r=n.type;if(r===Ny[t(155)]||r===Ye[t(311)]||r===Ye[t(216)]){const s=this.getOwnerDocument(),a=this.viewport_[t(343)]?this.viewport_.getRootNode():s,o=n.target;if(this[t(162)].contains(o)||!(a===s?s.documentElement:a).contains(o))return}if(e[t(235)]=this[t(339)],this[t(173)](e)!==!1){const s=this[t(248)]()[t(255)]()[t(364)]();for(let a=s[t(217)]-1;a>=0;a--){const o=s[a];if(o[t(340)]()!==this||!o[t(177)]()||!this[t(185)]())continue;if(!o.handleEvent(e)||e[t(286)])break}}}[he(282)](){const e=he,t=this.frameState_,n=this[e(331)];if(!n[e(275)]()){let s=this.maxTilesLoading_,a=s;if(t){const o=t[e(349)];if(o[An[e(324)]]||o[An[e(151)]]){const l=Date[e(242)]()-t.time>8;s=l?0:8,a=l?0:2}}n[e(312)]()<s&&(n[e(163)](),n[e(199)](s,a))}t&&this[e(160)]&&!t.animate&&(this[e(165)]?(this[e(296)](wr[e(270)])&&this.renderer_[e(250)](wr[e(270)],t),this[e(308)]===!1&&(this[e(308)]=!0,this[e(173)](new El(vo[e(183)],this,t)))):this[e(308)]===!0&&(this[e(308)]=!1,this.dispatchEvent(new El(vo[e(285)],this,t))));const r=this[e(359)];for(let s=0,a=r[e(217)];s<a;++s)r[s](this,t);r[e(217)]=0}handleSizeChanged_(){const e=he;this.getView()&&!this[e(347)]()[e(351)]()&&this[e(347)]()[e(354)](0),this.render()}[he(194)](){const e=he;if(this[e(269)]){for(let r=0,s=this[e(143)][e(217)];r<s;++r)Jt(this[e(143)][r]);this[e(143)]=null,this[e(224)].removeEventListener(Ye.CONTEXTMENU,this[e(171)]),this[e(224)][e(345)](Ye.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_[e(346)](),this.mapBrowserEventHandler_=null,this[e(224)][e(278)]()}if(this[e(148)]){this[e(362)][e(215)](this[e(148)]);const r=this[e(148)][e(343)]();r instanceof ShadowRoot&&this[e(362)][e(215)](r[e(289)]),this[e(268)](void 0)}const t=this[e(313)](),n=typeof t=="string"?document[e(140)](t):t;if(this[e(148)]=n,!n)this[e(160)]&&(clearTimeout(this[e(189)]),this[e(189)]=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this[e(160)]=null),this[e(319)]&&(cancelAnimationFrame(this[e(319)]),this[e(319)]=void 0);else{n[e(135)](this[e(224)]),!this[e(160)]&&(this[e(160)]=new wP(this)),this[e(269)]=new BP(this,this.moveTolerance_);for(const a in Rn)this[e(269)].addEventListener(Rn[a],this.handleMapBrowserEvent.bind(this));this[e(224)].addEventListener(Ye.CONTEXTMENU,this[e(171)],!1),this[e(224)][e(297)](Ye[e(311)],this.boundHandleBrowserEvent_,Jw?{passive:!1}:!1);const r=this[e(302)]?this.keyboardEventTarget_:n;this[e(143)]=[mt(r,Ye[e(216)],this[e(261)],this),mt(r,Ye[e(254)],this[e(261)],this)];const s=n[e(343)]();s instanceof ShadowRoot&&this[e(362)].observe(s[e(289)]),this[e(362)][e(175)](n)}this[e(198)]()}[he(271)](){this[he(266)]()}handleViewPropertyChanged_(){this.render()}[he(357)](){const e=he;this[e(207)]&&(Jt(this.viewPropertyListenerKey_),this[e(207)]=null),this[e(321)]&&(Jt(this[e(321)]),this[e(321)]=null);const t=this[e(347)]();t&&(this[e(276)](this.getSize()),this[e(207)]=mt(t,bc[e(292)],this[e(314)],this),this[e(321)]=mt(t,Ye[e(211)],this[e(314)],this),t.resolveConstraints(0)),this.render()}[he(336)](){const e=he;this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_[e(231)](Jt),this[e(228)]=null);const t=this[e(133)]();t&&(this.handleLayerAdd_(new yo(e(137),t)),this[e(228)]=[mt(t,bc[e(292)],this[e(266)],this),mt(t,Ye[e(211)],this[e(266)],this),mt(t,e(137),this[e(334)],this),mt(t,e(304),this[e(139)],this)]),this.render()}isRendered(){return!!this[he(339)]}[he(295)](){const e=he;this[e(319)]=void 0,this.renderFrame_(Date[e(242)]())}[he(365)](){const e=he;this[e(319)]&&cancelAnimationFrame(this[e(319)]),this[e(295)]()}[he(277)](){const e=he,t=this[e(133)]()[e(181)]();for(let n=0,r=t[e(217)];n<r;++n){const s=t[n][e(247)];s[e(284)]()&&s.getRenderer().handleFontsChanged()}}[he(266)](){this[he(160)]&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}[he(193)](e){const t=he;return this[t(169)]()[t(278)](e)}[he(196)](e){const t=he;return this.getInteractions()[t(278)](e)}[he(348)](e){const t=he;return this[t(133)]()[t(260)]()[t(278)](e)}[he(139)](e){BS(e[he(247)])}removeOverlay(e){return this[he(366)]().remove(e)}[he(363)](e){const t=he,n=this[t(352)](),r=this[t(347)](),s=this[t(339)];let a=null;if(n!==void 0&&Gw(n)&&r&&r[t(251)]()){const o=r[t(240)](this[t(339)]?this[t(339)][t(349)]:void 0),l=r[t(146)]();if(a={animate:!1,coordinateToPixelTransform:this[t(350)],declutter:null,extent:LA(l[t(205)],l[t(202)],l[t(237)],n),index:this[t(153)]++,layerIndex:0,layerStatesArray:this[t(133)]()[t(181)](),pixelRatio:this[t(294)],pixelToCoordinateTransform:this[t(273)],postRenderFunctions:[],size:n,tileQueue:this[t(331)],time:e,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:et(this),renderTargets:{}},l[t(249)]&&l.nextResolution){const c=isNaN(l[t(220)])?l.rotation:l[t(220)];a[t(154)]=LA(l.nextCenter,l[t(243)],c,n)}}this[t(339)]=a,this.renderer_[t(299)](a),a&&(a[t(368)]&&this.render(),Array[t(333)].push[t(263)](this[t(359)],a[t(174)]),s&&(!this.previousExtent_||!t0(this[t(369)])&&!js(a[t(206)],this[t(369)]))&&(this.dispatchEvent(new El(vo[t(132)],this,s)),this[t(369)]=pc(this[t(369)])),this[t(369)]&&!a[t(349)][An.ANIMATING]&&!a[t(349)][An.INTERACTING]&&!js(a[t(206)],this.previousExtent_)&&(this[t(173)](new El(vo.MOVEEND,this,a)),Sw(a[t(206)],this[t(369)]))),this.dispatchEvent(new El(vo.POSTRENDER,this,a)),this[t(165)]=(this[t(296)](vo[t(285)])||this[t(296)](vo.LOADEND)||this[t(296)](wr[t(270)]))&&!this[t(331)].getTilesLoading()&&!this[t(331)][t(136)]()&&!this[t(229)](),!this[t(189)]&&(this.postRenderTimeoutHandle_=setTimeout(()=>{const o=t;this.postRenderTimeoutHandle_=void 0,this[o(282)]()},0))}[he(232)](e){const t=he,n=this[t(133)]();n&&this[t(139)](new yo(t(304),n)),this[t(204)](Ci[t(290)],e)}setSize(e){this[he(204)](Ci.SIZE,e)}[he(221)](e){const t=he;this[t(204)](Ci[t(245)],e)}[he(188)](e){const t=he;if(!e||e instanceof ws){this[t(204)](Ci[t(303)],e);return}this[t(204)](Ci[t(303)],new ws);const n=this;e[t(310)](function(r){n.setView(new ws(r))})}updateSize(){const e=he,t=this[e(185)]();let n;if(t){const s=getComputedStyle(t),a=t[e(150)]-parseFloat(s[e(246)])-parseFloat(s[e(256)])-parseFloat(s[e(272)])-parseFloat(s[e(309)]),o=t.offsetHeight-parseFloat(s[e(241)])-parseFloat(s[e(142)])-parseFloat(s[e(318)])-parseFloat(s[e(190)]);!isNaN(a)&&!isNaN(o)&&(n=[Math[e(325)](0,a),Math[e(325)](0,o)],!Gw(n)&&(t[e(150)]||t[e(186)]||t[e(262)]()[e(217)])&&kw(e(265)))}const r=this[e(352)]();n&&(!r||!Za(n,r))&&(this[e(268)](n),this.updateViewportSize_(n))}[he(276)](e){const t=he,n=this[t(347)]();n&&n[t(214)](e)}};function $P(i){const e=he;let t=null;i[e(238)]!==void 0&&(t=typeof i[e(238)]=="string"?document[e(140)](i[e(238)]):i[e(238)]);const n={},r=i.layers&&typeof i[e(219)][e(260)]=="function"?i[e(219)]:new B0({layers:i.layers});n[Ci[e(290)]]=r,n[Ci[e(245)]]=i.target,n[Ci[e(303)]]=i[e(307)]instanceof ws?i[e(307)]:new ws;let s;i.controls!==void 0&&(Array.isArray(i[e(230)])?s=new Ms(i[e(230)][e(364)]()):(yt(typeof i[e(230)].getArray===e(355),"Expected `controls` to be an array or an `ol/Collection.js`"),s=i[e(230)]));let a;i.interactions!==void 0&&(Array.isArray(i[e(182)])?a=new Ms(i[e(182)][e(364)]()):(yt(typeof i[e(182)][e(255)]===e(355),"Expected `interactions` to be an array or an `ol/Collection.js`"),a=i[e(182)]));let o;return i[e(152)]!==void 0?Array[e(341)](i[e(152)])?o=new Ms(i[e(152)][e(364)]()):(yt(typeof i.overlays.getArray===e(355),"Expected `overlays` to be an array or an `ol/Collection.js`"),o=i.overlays):o=new Ms,{controls:s,interactions:a,keyboardEventTarget:t,overlays:o,values:n}}function Ml(i,e){const t=t2();return Ml=function(n,r){return n=n-221,t[n]},Ml(i,e)}const ct=Ml;(function(i,e){const t=Ml,n=i();for(;;)try{if(parseInt(t(335))/1+-parseInt(t(236))/2*(parseInt(t(270))/3)+parseInt(t(345))/4*(parseInt(t(324))/5)+parseInt(t(223))/6*(-parseInt(t(227))/7)+-parseInt(t(316))/8+parseInt(t(305))/9*(-parseInt(t(273))/10)+parseInt(t(267))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(t2,770991);function t2(){const i=["viewState","tileGrid","getDeferredZIndexContexts","prepareFrame","filter","zDirection","getStyleFunction","getFeatures","inversePixelTransform","217728TXfofy","layerStatesArray","declutter","boundHandleStyleImageChange_","LineString","wantedResolution","getTile","renderedOpacity_","renderedResolution","getDeclutter","getTileCoordCenter","10281808VUQjLI","getOverlaps","context","changed","beginPath","Text","getCount","Default","7355JFPJHQ","keys","apply","updateExecutorGroup_","canvas","getOrCreateTile","setTransform","dirty","handleFontsChanged","renderedTileResolution","ready","1491334hPmyMT","getExtent","getState","map","getRenderBuffer","renderedTileRevision","tileCoord","getTileCache","postRender","value","1868jsiilG","viewHints","loadingSourceTiles","getRevision","getTileCoordExtent","getContext","INTERACTING","getClipCoords","distanceSq","getSource","push","pixelRatio","ANIMATING","renderedRenderOrder","opacity","getZForResolution","width","round","toString","1120080FNIzWB","executorGroups","tmpTransform_","renderFeature","28hYsGrg","getReplayState","clip","rotation","renderedPixelToCoordinateTransform_","handleStyleImageChange_","getTileCoordForCoordAndResolution","bind","draw","644054TXVEwm","Circle","getVisible","length","getGeometry","concat","resolution","forEachFeatureAtCoordinate","save","projection","renderDeferredInternal","height","hasExecutors","renderedRotation_","slice","restore","renderedLayerRevision_","Image","all","getId","getResolution","size","tileClipContexts_","getSourceTiles","getTileGrid","getRenderMode","forEach","lineTo","drawTile","getRenderTransform","getLayer","29390196BxIxvZ","tileImageNeedsRender_","globalAlpha","6UUreNz","layerIndex","renderTileImage_","580yWxyhd","hitDetectionImageData","execute","reduce","sort","getWrapX","getTileGridForProjection","moveTo","tempExtent","getRenderOrder","some","isArray","renderedRevision","getRenderedContext","lastIndexOf","LOADED","Polygon","clear","renderedTiles","geometry","splice","wrappedTileCoord","getTileRenderTransform"];return t2=function(){return i},t2()}const ek={image:[ct(289),ct(237),ct(309),ct(253),"Text"],hybrid:["Polygon",ct(309)],vector:[]},MS={hybrid:["Image",ct(321),ct(323)],vector:[ct(289),ct(237),ct(309),ct(253),ct(321),"Default"]};class tk extends J5{constructor(e,t){const n=ct;super(e,t),this[n(308)]=this[n(232)][n(234)](this),this.renderedLayerRevision_,this[n(231)]=null,this[n(249)],this.renderedOpacity_=1,this[n(225)]=Oi(),this[n(258)]=null}drawTile(e,t,n,r,s,a,o,l){const c=ct;this[c(327)](e,t[c(356)],t.viewState[c(245)]),this.tileImageNeedsRender_(e)&&this.renderTileImage_(e,t),super[c(264)](e,t,n,r,s,a,o,l)}[ct(311)](e,t,n,r){const s=ct,a=this[s(329)](e,t,n,r);if(!a)return null;const o=r.viewState,l=o[s(242)],c=r[s(346)];return(!(c[An[s(357)]]||c[An[s(351)]])||!a[s(310)])&&(a[s(310)]=l),a}[ct(299)](e){const t=ct,n=this[t(266)]().getRevision();return this.renderedLayerRevision_!==n&&(this[t(252)]=n,this[t(291)][t(239)]=0),super[t(299)](e)}[ct(327)](e,t,n){const r=ct,s=this[r(266)](),a=s[r(348)](),o=s[r(282)]()||null,l=e[r(310)],c=e.getReplayState(s);if(!c.dirty&&c.renderedResolution===l&&c[r(285)]==a&&c[r(358)]==o)return;const x=s[r(354)](),u=!!s.getDeclutter(),h=x[r(260)](),f=x[r(279)](n),A=f[r(349)](e[r(294)]),g=x.getSourceTiles(t,n,e),d=et(s);delete e.hitDetectionImageData[d],e[r(224)][d]=[],c[r(331)]=!1;for(let p=0,_=g[r(239)];p<_;++p){const I=g[p];if(I[r(337)]()!=de[r(288)])continue;const m=I.tileCoord,y=h.getTileCoordExtent(m),E=Mi(A,y),C=Xa(E,s.getRenderBuffer()*l,this[r(281)]),v=js(y,E)?null:C,b=new I5(0,E,l,t),w=py(l,t),B=function(T,P){const k=r;let V;const Y=T.getStyleFunction()||s[k(302)]();if(Y&&(V=Y(T,l)),V){const U=this[k(226)](T,w,V,b,u,P);c[k(331)]=c[k(331)]||U}},R=I[r(303)]();o&&o!==c.renderedRenderOrder&&R[r(277)](o);for(let T=0,P=R[r(239)];T<P;++T){const k=R[T];(!v||Bn(v,k[r(240)]().getExtent()))&&B.call(this,k,T)}const Q=b.finish(),F=s[r(261)]()!=="vector"&&u&&g.length===1?null:E,M=new b5(F,l,t,x[r(317)](),Q,s[r(339)](),!0);e[r(224)][d][r(355)](M)}c[r(285)]=a,c[r(358)]=o,c[r(313)]=l}[ct(243)](e,t,n,r,s){const a=ct,o=t.viewState[a(242)],l=t[a(296)][a(230)];n=n??0;const c=this[a(266)](),x=c[a(354)](),u=x[a(279)](t[a(296)][a(245)]),h=OI([e]);Xa(h,o*n,h);const f={},A=function(p,_,I){const m=a;let y=p[m(255)]();y===void 0&&(y=et(p));const E=f[y];if(E){if(E!==!0&&I<E[m(353)]){if(I===0)return f[y]=!0,s[m(293)](s[m(287)](E),1),r(p,c,_);E[m(292)]=_,E[m(353)]=I}}else{if(I===0)return f[y]=!0,r(p,c,_);s.push(f[y]={feature:p,layer:c,geometry:_,distanceSq:I,callback:r})}},g=this[a(291)];let d;for(let p=0,_=g[a(239)];!d&&p<_;++p){const I=g[p],m=u.getTileCoordExtent(I[a(294)]);if(!Bn(m,h))continue;const y=et(c),E=[I[a(224)][y]],C=c[a(314)]();E[a(283)](v=>{const b=a,w=C?t.declutter[C][b(254)]()[b(338)](B=>B[b(344)]):null;for(let B=0,R=v.length;B<R;++B)if(d=v[B][b(243)](e,o,l,n,A,w),d)return!0})}return d}[ct(303)](e){return new Promise((t,n)=>{const r=Ml,s=this[r(266)](),a=et(s),o=s.getSource(),l=this.renderedProjection,c=l[r(336)](),x=this[r(313)],u=o[r(279)](l),h=Vn(this[r(231)],e[r(250)]()),f=u[r(233)](h,x);let A;for(let m=0,y=this[r(291)][r(239)];m<y;++m)if(f.toString()===this.renderedTiles[m][r(341)][r(222)]()){if(A=this[r(291)][m],A[r(337)]()===de[r(288)]){const E=u[r(349)](A[r(341)]);o[r(278)]()&&l.canWrapX()&&!Vr(c,E)&&XI(h,l);break}A=void 0}if(!A||A[r(347)]>0){t([]);return}const g=u.getTileCoordExtent(A.wrappedTileCoord),d=Ks(g),p=[(h[0]-d[0])/x,(d[1]-h[1])/x],_=A[r(259)]()[r(276)](function(m,y){const E=r;return m[E(241)](y[E(303)]())},[]);let I=A[r(274)][a];if(!I){const m=pi(u.getTileSize(u.getZForResolution(x,o[r(301)]))),y=this[r(249)],E=[this[r(265)](u[r(315)](A[r(294)]),x,0,hr,m[0]*hr,m[1]*hr,0)];I=v5(m,E,_,s[r(302)](),u[r(349)](A.wrappedTileCoord),A[r(228)](s).renderedResolution,y),A.hitDetectionImageData[a]=I}t(w5(p,_,I))})}getFeaturesInExtent(e){const t=ct,n=[],r=this[t(342)]();if(r[t(322)]()===0)return n;const s=this[t(266)]().getSource()[t(297)],a=s[t(360)](this.renderedResolution);return r[t(262)](o=>{const l=t;if(o[l(341)][0]!==a||o[l(337)]()!==de[l(288)])return;const c=o[l(259)]();for(let x=0,u=c[l(239)];x<u;++x){const h=c[x],f=h[l(341)];if(Bn(e,s[l(349)](f))){const A=h[l(303)]();if(A)for(let g=0,d=A[l(239)];g<d;++g){const p=A[g],_=p.getGeometry();Bn(e,_.getExtent())&&n.push(p)}}}}),n}[ct(332)](){const e=ct,t=this[e(266)]();t[e(238)]()&&this[e(252)]!==void 0&&t[e(319)]()}[ct(232)](e){this.renderIfReadyAndVisible()}renderDeclutter(e,t){const n=ct,r=this[n(318)],s=r[n(269)];r[n(269)]=t[n(359)];const a=e.viewHints,o=!(a[An.ANIMATING]||a[An[n(351)]]),l=this[n(291)];for(let c=0,x=l[n(239)];c<x;++c){const u=l[c],h=u.executorGroups[et(this[n(266)]())],f=this[n(266)]()[n(314)]();if(h)for(let A=h[n(239)]-1;A>=0;--A)h[A].execute(this[n(318)],[this[n(318)][n(328)][n(361)],this.context[n(328)][n(247)]],this.getTileRenderTransform(u,e),e[n(296)].rotation,o,Mp,f?e[n(307)][f]:void 0)}r.globalAlpha=s}[ct(246)](e){const t=ct,n=this.renderedTiles,r=n[t(276)]((l,c,x)=>{const u=t;return c[u(224)][et(this[u(266)]())][u(262)](h=>l[u(355)]({executorGroup:h,index:x})),l},[]),s=r[t(338)](({executorGroup:l})=>l[t(298)]()),a={};for(let l=0,c=r[t(239)];l<c;++l){const x=r[l].executorGroup[t(298)]();for(const u in x)a[u]=!0}Object[t(325)](a)[t(277)](ms)[t(338)](Number)[t(262)](l=>{s[t(262)]((x,u)=>{x[l]&&(x[l].forEach(h=>{const f=Ml,{executorGroup:A,index:g}=r[u],d=A[f(286)](),p=d[f(269)];d[f(269)]=this[f(312)];const _=this[f(258)][g];_&&_[f(235)](d),h[f(235)](d),_&&d[f(251)](),d.globalAlpha=p,h[f(290)]()}),x[l].length=0)})})}[ct(295)](e,t){const n=ct,r=t.pixelRatio,s=t.viewState,a=s.center,o=s.resolution,l=s[n(230)],c=t[n(257)],x=Math[n(221)](c[0]*r),u=Math[n(221)](c[1]*r),h=this[n(266)]()[n(354)](),f=h[n(279)](t[n(296)][n(245)]),A=e[n(341)],g=f[n(349)](e[n(294)]),d=f[n(349)](A,this.tempExtent)[0]-g[0];return QE(LE(this[n(304)][n(250)](),1/r,1/r),this.getRenderTransform(a,o,l,r,x,u,d))}[ct(343)](e,t){var y;const n=ct,r=t[n(346)],s=!(r[An[n(357)]]||r[An[n(351)]]);this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform[n(250)](),this[n(249)]=t[n(296)][n(230)],this[n(312)]=t[n(306)][t[n(271)]][n(359)];const a=this[n(266)](),o=a[n(261)](),l=e[n(269)];e[n(269)]=this[n(312)];const c=a[n(314)](),x=c?MS[o][n(300)](E=>!Mp.includes(E)):MS[o],u=t[n(296)],h=u[n(230)],f=a[n(354)](),A=f[n(279)](u[n(245)]),g=A[n(360)](u[n(242)],f[n(301)]),d=this.renderedTiles,p=[],_=[],I=[];let m=!0;for(let E=d[n(239)]-1;E>=0;--E){const C=d[E];m=m&&!C[n(228)](a)[n(331)];const v=C[n(224)][et(a)][n(300)](M=>M[n(248)](x));if(v[n(239)]===0)continue;const b=this[n(295)](C,t),w=C[n(341)][0];let B=!1;const R=v[0][n(352)](b);let Q=e,F;if(R){F=new ZE,Q=F.getContext();for(let M=0,T=p[n(239)];M<T;++M)if(g!==w&&w<_[M]){const P=p[M];Bn([R[0],R[3],R[4],R[7]],[P[0],P[3],P[4],P[7]])&&(!B&&(Q[n(244)](),B=!0),Q[n(320)](),Q[n(280)](R[0],R[1]),Q[n(263)](R[2],R[3]),Q[n(263)](R[4],R[5]),Q[n(263)](R[6],R[7]),Q[n(280)](P[6],P[7]),Q[n(263)](P[4],P[5]),Q[n(263)](P[2],P[3]),Q[n(263)](P[0],P[1]),Q[n(229)]())}p[n(355)](R),_.push(w)}for(let M=0,T=v.length;M<T;++M)v[M].execute(e,[e[n(328)][n(361)],e[n(328)].height],b,h,s,x,(y=t.declutter)==null?void 0:y[c]);B&&(Q===e?Q.restore():I[E]=F)}e[n(269)]=l,this[n(334)]=m,this.tileClipContexts_=I,!t.declutter&&this.renderDeferredInternal(t),super.postRender(e,t)}[ct(226)](e,t,n,r,s,a){const o=ct;if(!n)return!1;let l=!1;if(Array[o(284)](n))for(let c=0,x=n.length;c<x;++c)l=Dp(r,e,n[c],t,this[o(308)],void 0,s,a)||l;else l=Dp(r,e,n,t,this[o(308)],void 0,s,a);return l}[ct(268)](e){const t=ct,n=this[t(266)]();if(n[t(261)]()==="vector")return!1;const r=e[t(228)](n),s=n[t(348)](),a=e[t(310)];return r[t(333)]!==a||r[t(340)]!==s}[ct(272)](e,t){const n=ct,r=this[n(266)](),s=e[n(228)](r),a=r.getRevision(),o=e.executorGroups[et(r)];s[n(340)]=a;const l=e[n(294)],c=l[0],x=r[n(354)]();let u=t[n(356)];const h=t[n(296)],f=h.projection,A=x[n(279)](f),g=A[n(256)](e[n(341)][0]),d=t[n(356)]/e.wantedResolution*g,p=A[n(256)](c),_=e[n(350)]();u=Math.round(Math.max(u,d/u));const I=x.getTilePixelSize(c,u,f);_[n(328)][n(361)]=I[0],_[n(328)].height=I[1];const m=u/d;if(m!==1){const v=wB(this.tmpTransform_);LE(v,m,m),_[n(330)][n(326)](_,v)}const y=A[n(349)](l,this[n(281)]),E=d/p,C=wB(this.tmpTransform_);LE(C,E,-E),C7(C,-y[0],-y[3]);for(let v=0,b=o.length;v<b;++v)o[v][n(275)](_,[_[n(328)].width*m,_[n(328)][n(247)]*m],C,0,!0,ek[r[n(261)]()],null);s[n(333)]=e[n(310)]}}function n2(){const i=["`renderMode` must be `'hybrid'` or `'vector'`","4PDOcea","preload","setPreload","hybrid","getFeaturesInExtent","5698ejURms","useInterimTilesOnError","PRELOAD","10ESNXbQ","renderMode_","setUseInterimTilesOnError","4645BXlmLX","28763FciKeS","once","getUseInterimTilesOnError","648TzwdmU","set","createRenderer","331011iCPidb","cacheSize_","vector","769672xyIkaR","getBackground","cacheSize","USE_INTERIM_TILES_ON_ERROR","assign","398760hxUxYY","getPreload","getFeatures","getRenderMode","renderMode","getRenderer","493lPpGcz","2HNumwI","810HQVAnk","setBackground"];return n2=function(){return i},n2()}function xf(i,e){const t=n2();return xf=function(n,r){return n=n-340,t[n]},xf(i,e)}const Zi=xf;(function(i,e){const t=xf,n=i();for(;;)try{if(-parseInt(t(361))/1*(-parseInt(t(362))/2)+parseInt(t(355))/3*(parseInt(t(366))/4)+-parseInt(t(340))/5*(-parseInt(t(363))/6)+parseInt(t(341))/7+-parseInt(t(350))/8+parseInt(t(347))/9*(-parseInt(t(374))/10)+-parseInt(t(371))/11*(parseInt(t(344))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(n2,101977);class D0 extends uy{constructor(e){const t=xf;e=e||{};const n=Object[t(354)]({},e);delete n[t(367)];const r=e[t(352)]===void 0?0:e[t(352)];delete e[t(352)],delete n[t(372)],super(n),this.on,this[t(342)],this.un,this[t(348)]=r;const s=e[t(359)]||t(369);yt(s==t(369)||s==t(349),t(365)),this[t(375)]=s,this.setPreload(e[t(367)]?e[t(367)]:0),this[t(376)](e[t(372)]!==void 0?e[t(372)]:!0),this[t(351)],this[t(364)]}[Zi(346)](){return new tk(this,{cacheSize:this.cacheSize_})}[Zi(357)](e){const t=Zi;return super[t(357)](e)}[Zi(370)](e){const t=Zi;return this[t(360)]()[t(370)](e)}[Zi(358)](){return this[Zi(375)]}[Zi(356)](){return this.get(go.PRELOAD)}[Zi(343)](){const e=Zi;return this.get(go[e(353)])}[Zi(368)](e){const t=Zi;this[t(345)](go[t(373)],e)}[Zi(376)](e){const t=Zi;this[t(345)](go[t(353)],e)}}function RS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var nk={},TS,DS={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function uf(i){return i=Math.round(i),i<0?0:i>255?255:i}function QS(i){return i<0?0:i>1?1:i}function Xy(i){return i[i.length-1]==="%"?uf(parseFloat(i)/100*255):uf(parseInt(i))}function i2(i){return i[i.length-1]==="%"?QS(parseFloat(i)/100):QS(parseFloat(i))}function Wy(i,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?i+(e-i)*t*6:t*2<1?e:t*3<2?i+(e-i)*(2/3-t)*6:i}function ik(i){var e=i.replace(/ /g,"").toLowerCase();if(e in DS)return DS[e].slice();if(e[0]==="#"){if(e.length===4){var t=parseInt(e.substr(1),16);return t>=0&&t<=4095?[(t&3840)>>4|(t&3840)>>8,t&240|(t&240)>>4,t&15|(t&15)<<4,1]:null}else if(e.length===7){var t=parseInt(e.substr(1),16);return t>=0&&t<=16777215?[(t&16711680)>>16,(t&65280)>>8,t&255,1]:null}return null}var n=e.indexOf("("),r=e.indexOf(")");if(n!==-1&&r+1===e.length){var s=e.substr(0,n),a=e.substr(n+1,r-(n+1)).split(","),o=1;switch(s){case"rgba":if(a.length!==4)return null;o=i2(a.pop());case"rgb":return a.length!==3?null:[Xy(a[0]),Xy(a[1]),Xy(a[2]),o];case"hsla":if(a.length!==4)return null;o=i2(a.pop());case"hsl":if(a.length!==3)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=i2(a[1]),x=i2(a[2]),u=x<=.5?x*(c+1):x+c-x*c,h=x*2-u;return[uf(Wy(h,u,l+1/3)*255),uf(Wy(h,u,l)*255),uf(Wy(h,u,l-1/3)*255),o];default:return null}}return null}try{TS=nk.parseCSSColor=ik}catch{}let ts=class K3{constructor(e,t,n,r=1){this.r=e,this.g=t,this.b=n,this.a=r}static parse(e){if(!e)return;if(e instanceof K3)return e;if(typeof e!="string")return;const t=TS(e);if(t)return new K3(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}toString(){const[e,t,n,r]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${r})`}toArray(){const{r:e,g:t,b:n,a:r}=this;return r===0?[0,0,0,0]:[e*255/r,t*255/r,n*255/r,r]}toArray01(){const{r:e,g:t,b:n,a:r}=this;return r===0?[0,0,0,0]:[e/r,t/r,n/r,r]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:n,a:r}=this;return[e,t,n,r]}};ts.black=new ts(0,0,0,1),ts.white=new ts(1,1,1,1),ts.transparent=new ts(0,0,0,0),ts.red=new ts(1,0,0,1),ts.blue=new ts(0,0,1,1);var Ar=ts;function hf(i){return typeof i=="object"?["literal",i]:i}function rk(i,e){let t=i.stops;if(!t)return sk(i,e);const n=t&&typeof t[0][0]=="object",r=n||i.property!==void 0,s=n||!r;return t=t.map(a=>!r&&e.tokens&&typeof a[1]=="string"?[a[0],lk(a[1])]:[a[0],hf(a[1])]),n?ak(i,e,t):s?ck(i,e,t):Ky(i,e,t)}function sk(i,e){const t=["get",i.property];if(i.default===void 0)return e.type==="string"?["string",t]:t;if(e.type==="enum")return["match",t,Object.keys(e.values),t,i.default];{const n=[e.type==="color"?"to-color":e.type,t,hf(i.default)];return e.type==="array"&&n.splice(1,0,e.value,e.length||null),n}}function jy(i){switch(i.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function ak(i,e,t){const n={},r={},s=[];for(let o=0;o<t.length;o++){const l=t[o],c=l[0].zoom;n[c]===void 0&&(n[c]={zoom:c,type:i.type,property:i.property,default:i.default},r[c]=[],s.push(c)),r[c].push([l[0].value,l[1]])}if(Zy({},e)==="exponential"){const o=[jy(i),["linear"],["zoom"]];for(const l of s){const c=Ky(n[l],e,r[l]);Rl(o,l,c,!1)}return o}else{const o=["step",["zoom"]];for(const l of s){const c=Ky(n[l],e,r[l]);Rl(o,l,c,!0)}return Jy(o),o}}function ok(i,e){if(i!==void 0)return i;if(e!==void 0)return e}function FS(i,e){const t=hf(ok(i.default,e.default));return t===void 0&&e.type==="resolvedImage"?"":t}function Ky(i,e,t){const n=Zy(i,e),r=["get",i.property];if(n==="categorical"&&typeof t[0][0]=="boolean"){const s=["case"];for(const a of t)s.push(["==",r,a[0]],a[1]);return s.push(FS(i,e)),s}else if(n==="categorical"){const s=["match",r];for(const a of t)Rl(s,a[0],a[1],!1);return s.push(FS(i,e)),s}else if(n==="interval"){const s=["step",["number",r]];for(const a of t)Rl(s,a[0],a[1],!0);return Jy(s),i.default===void 0?s:["case",["==",["typeof",r],"number"],s,hf(i.default)]}else if(n==="exponential"){const s=i.base!==void 0?i.base:1,a=[jy(i),s===1?["linear"]:["exponential",s],["number",r]];for(const o of t)Rl(a,o[0],o[1],!1);return i.default===void 0?a:["case",["==",["typeof",r],"number"],a,hf(i.default)]}else throw new Error(`Unknown property function type ${n}`)}function ck(i,e,t,n=["zoom"]){const r=Zy(i,e);let s,a=!1;if(r==="interval")s=["step",n],a=!0;else if(r==="exponential"){const o=i.base!==void 0?i.base:1;s=[jy(i),o===1?["linear"]:["exponential",o],n]}else throw new Error(`Unknown zoom function type "${r}"`);for(const o of t)Rl(s,o[0],o[1],a);return Jy(s),s}function Jy(i){i[0]==="step"&&i.length===3&&(i.push(0),i.push(i[3]))}function Rl(i,e,t,n){i.length>3&&e===i[i.length-2]||(n&&i.length===2||i.push(e),i.push(t))}function Zy(i,e){return i.type?i.type:e.expression.interpolated?"exponential":"interval"}function lk(i){const e=["concat"],t=/{([^{}]+)}/g;let n=0;for(let r=t.exec(i);r!==null;r=t.exec(i)){const s=i.slice(n,t.lastIndex-r[0].length);n=t.lastIndex,s.length>0&&e.push(s),e.push(["get",r[1]])}if(e.length===1)return i;if(n<i.length)e.push(i.slice(n));else if(e.length===2)return["to-string",e[1]];return e}class xk extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var Ts=xk;class $y{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[n,r]of t)this.bindings[n]=r}concat(e){return new $y(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1}}var uk=$y;const r2={kind:"null"},Ee={kind:"number"},lt={kind:"string"},nt={kind:"boolean"},Ia={kind:"color"},Tl={kind:"object"},it={kind:"value"},hk={kind:"error"},s2={kind:"collator"},a2={kind:"formatted"},ff={kind:"resolvedImage"};function Tr(i,e){return{kind:"array",itemType:i,N:e}}function gn(i){if(i.kind==="array"){const e=gn(i.itemType);return typeof i.N=="number"?`array<${e}, ${i.N}>`:i.itemType.kind==="value"?"array":`array<${e}>`}else return i.kind}const fk=[r2,Ee,lt,nt,Ia,a2,Tl,Tr(it),ff];function Af(i,e){if(e.kind==="error")return null;if(i.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!Af(i.itemType,e.itemType))&&(typeof i.N!="number"||i.N===e.N))return null}else{if(i.kind===e.kind)return null;if(i.kind==="value"){for(const t of fk)if(!Af(t,e))return null}}return`Expected ${gn(i)} but found ${gn(e)} instead.`}function eC(i,e){return e.some(t=>t.kind===i.kind)}function df(i,e){return e.some(t=>t==="null"?i===null:t==="array"?Array.isArray(i):t==="object"?i&&!Array.isArray(i)&&typeof i=="object":t===typeof i)}class tC{constructor(e,t,n){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class nC{constructor(e,t,n,r,s){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=s}}class Ds{constructor(e){this.sections=e}static fromString(e){return new Ds([new nC(e,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof Ds?e:Ds.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class wo{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new wo({name:e,available:!1}):null}serialize(){return["image",this.name]}}function LS(i,e,t,n){return typeof i=="number"&&i>=0&&i<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255?typeof n>"u"||typeof n=="number"&&n>=0&&n<=1?null:`Invalid rgba value [${[i,e,t,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof n=="number"?[i,e,t,n]:[i,e,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function o2(i){if(i===null)return!0;if(typeof i=="string")return!0;if(typeof i=="boolean")return!0;if(typeof i=="number")return!0;if(i instanceof Ar)return!0;if(i instanceof tC)return!0;if(i instanceof Ds)return!0;if(i instanceof wo)return!0;if(Array.isArray(i)){for(const e of i)if(!o2(e))return!1;return!0}else if(typeof i=="object"){for(const e in i)if(!o2(i[e]))return!1;return!0}else return!1}function Wn(i){if(i===null)return r2;if(typeof i=="string")return lt;if(typeof i=="boolean")return nt;if(typeof i=="number")return Ee;if(i instanceof Ar)return Ia;if(i instanceof tC)return s2;if(i instanceof Ds)return a2;if(i instanceof wo)return ff;if(Array.isArray(i)){const e=i.length;let t;for(const n of i){const r=Wn(n);if(!t)t=r;else{if(t===r)continue;t=it;break}}return Tr(t||it,e)}else return Tl}function pf(i){const e=typeof i;return i===null?"":e==="string"||e==="number"||e==="boolean"?String(i):i instanceof Ar||i instanceof Ds||i instanceof wo?i.toString():JSON.stringify(i)}class iC{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!o2(e[1]))return t.error("invalid value");const n=e[1];let r=Wn(n);const s=t.expectedType;return r.kind==="array"&&r.N===0&&s&&s.kind==="array"&&(typeof s.N!="number"||s.N===0)&&(r=s),new iC(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Ar?["rgba"].concat(this.value.toArray()):this.value instanceof Ds?this.value.serialize():this.value}}var c2=iC;class Ak{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}var oi=Ak;const rC={string:lt,number:Ee,boolean:nt,object:Tl};class sC{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n=1,r;const s=e[0];if(s==="array"){let o;if(e.length>2){const c=e[1];if(typeof c!="string"||!(c in rC)||c==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=rC[c],n++}else o=it;let l;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);l=e[2],n++}r=Tr(o,l)}else r=rC[s];const a=[];for(;n<e.length;n++){const o=t.parse(e[n],n,it);if(!o)return null;a.push(o)}return new sC(r,a)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(Af(this.type,Wn(n))){if(t===this.args.length-1)throw new oi(`Expected value to be of type ${gn(this.type)}, but found ${gn(Wn(n))} instead.`)}else return n}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if(e.kind==="array"){const n=e.itemType;if(n.kind==="string"||n.kind==="number"||n.kind==="boolean"){t.push(n.kind);const r=e.N;(typeof r=="number"||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map(n=>n.serialize()))}}var Ea=sC;class l2{constructor(e){this.type=a2,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&typeof n=="object")return t.error("First argument must be an image or text section.");const r=[];let s=!1;for(let a=1;a<=e.length-1;++a){const o=e[a];if(s&&typeof o=="object"&&!Array.isArray(o)){s=!1;let l=null;if(o["font-scale"]&&(l=t.parse(o["font-scale"],1,Ee),!l))return null;let c=null;if(o["text-font"]&&(c=t.parse(o["text-font"],1,Tr(lt)),!c))return null;let x=null;if(o["text-color"]&&(x=t.parse(o["text-color"],1,Ia),!x))return null;const u=r[r.length-1];u.scale=l,u.font=c,u.textColor=x}else{const l=t.parse(e[a],1,it);if(!l)return null;const c=l.type.kind;if(c!=="string"&&c!=="value"&&c!=="null"&&c!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");s=!0,r.push({content:l,scale:null,font:null,textColor:null})}}return new l2(r)}evaluate(e){const t=n=>{const r=n.content.evaluate(e);return Wn(r)===ff?new nC("",r,null,null,null):new nC(pf(r),null,n.scale?n.scale.evaluate(e):null,n.font?n.font.evaluate(e).join(","):null,n.textColor?n.textColor.evaluate(e):null)};return new Ds(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class x2{constructor(e){this.type=ff,this.input=e}static parse(e,t){if(e.length!==2)return t.error("Expected two arguments.");const n=t.parse(e[1],1,lt);return n?new x2(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=wo.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const dk={"to-boolean":nt,"to-color":Ia,"to-number":Ee,"to-string":lt};class aC{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if((n==="to-boolean"||n==="to-string")&&e.length!==2)return t.error("Expected one argument.");const r=dk[n],s=[];for(let a=1;a<e.length;a++){const o=t.parse(e[a],a,it);if(!o)return null;s.push(o)}return new aC(r,s)}evaluate(e){if(this.type.kind==="boolean")return!!this.args[0].evaluate(e);if(this.type.kind==="color"){let t,n;for(const r of this.args){if(t=r.evaluate(e),n=null,t instanceof Ar)return t;if(typeof t=="string"){const s=e.parseColor(t);if(s)return s}else if(Array.isArray(t)&&(t.length<3||t.length>4?n=`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:n=LS(t[0],t[1],t[2],t[3]),!n))return new Ar(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new oi(n||`Could not parse color from value '${typeof t=="string"?t:String(JSON.stringify(t))}'`)}else if(this.type.kind==="number"){let t=null;for(const n of this.args){if(t=n.evaluate(e),t===null)return 0;const r=Number(t);if(!isNaN(r))return r}throw new oi(`Could not convert ${JSON.stringify(t)} to number.`)}else return this.type.kind==="formatted"?Ds.fromString(pf(this.args[0].evaluate(e))):this.type.kind==="resolvedImage"?wo.fromString(pf(this.args[0].evaluate(e))):pf(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if(this.type.kind==="formatted")return new l2([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new x2(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild(t=>{e.push(t.serialize())}),e}}var Dl=aC;const pk=["Unknown","Point","LineString","Polygon"];class gk{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?pk[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:n,y:r}=this.featureTileCoord,s=n*t-e[0],a=r*t-e[1],o=this.featureDistanceData.bearing[0],l=this.featureDistanceData.bearing[1];return o*s+l*a}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Ar.parse(e)),t}}var PS=gk;class Ql{constructor(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const n=e[0],r=Ql.definitions[n];if(!r)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const s=Array.isArray(r)?r[0]:r.type,a=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,o=a.filter(([c])=>!Array.isArray(c)||c.length===e.length-1);let l=null;for(const[c,x]of o){l=new HS(t.registry,t.path,null,t.scope);const u=[];let h=!1;for(let f=1;f<e.length;f++){const A=e[f],g=Array.isArray(c)?c[f-1]:c.type,d=l.parse(A,1+u.length,g);if(!d){h=!0;break}u.push(d)}if(!h){if(Array.isArray(c)&&c.length!==u.length){l.error(`Expected ${c.length} arguments, but found ${u.length} instead.`);continue}for(let f=0;f<u.length;f++){const A=Array.isArray(c)?c[f]:c.type,g=u[f];l.concat(f+1).checkSubtype(A,g.type)}if(l.errors.length===0)return new Ql(n,s,x,u)}}if(o.length===1)t.errors.push(...l.errors);else{const x=(o.length?o:a).map(([h])=>mk(h)).join(" | "),u=[];for(let h=1;h<e.length;h++){const f=t.parse(e[h],1+u.length);if(!f)return null;u.push(gn(f.type))}t.error(`Expected arguments of type ${x}, but found (${u.join(", ")}) instead.`)}return null}static register(e,t){Ql.definitions=t;for(const n in t)e[n]=Ql}}function mk(i){return Array.isArray(i)?`(${i.map(gn).join(", ")})`:`(${gn(i.type)}...)`}var Fl=Ql;class u2{constructor(e,t,n){this.type=s2,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(e.length!==2)return t.error("Expected one argument.");const n=e[1];if(typeof n!="object"||Array.isArray(n))return t.error("Collator options argument must be an object.");const r=t.parse(n["case-sensitive"]===void 0?!1:n["case-sensitive"],1,nt);if(!r)return null;const s=t.parse(n["diacritic-sensitive"]===void 0?!1:n["diacritic-sensitive"],1,nt);if(!s)return null;let a=null;return n.locale&&(a=t.parse(n.locale,1,lt),!a)?null:new u2(r,s,a)}evaluate(e){return new tC(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Bo=8192;function oC(i,e){i[0]=Math.min(i[0],e[0]),i[1]=Math.min(i[1],e[1]),i[2]=Math.max(i[2],e[0]),i[3]=Math.max(i[3],e[1])}function _k(i){return(180+i)/360}function Ik(i){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360}function h2(i,e){return!(i[0]<=e[0]||i[2]>=e[2]||i[1]<=e[1]||i[3]>=e[3])}function Ek(i,e){const t=_k(i[0]),n=Ik(i[1]),r=Math.pow(2,e.z);return[Math.round(t*r*Bo),Math.round(n*r*Bo)]}function yk(i,e,t){const n=i[0]-e[0],r=i[1]-e[1],s=i[0]-t[0],a=i[1]-t[1];return n*a-s*r===0&&n*s<=0&&r*a<=0}function Ck(i,e,t){return e[1]>i[1]!=t[1]>i[1]&&i[0]<(t[0]-e[0])*(i[1]-e[1])/(t[1]-e[1])+e[0]}function cC(i,e){let t=!1;for(let n=0,r=e.length;n<r;n++){const s=e[n];for(let a=0,o=s.length;a<o-1;a++){if(yk(i,s[a],s[a+1]))return!1;Ck(i,s[a],s[a+1])&&(t=!t)}}return t}function bk(i,e){for(let t=0;t<e.length;t++)if(cC(i,e[t]))return!0;return!1}function vk(i,e){return i[0]*e[1]-i[1]*e[0]}function kS(i,e,t,n){const r=i[0]-t[0],s=i[1]-t[1],a=e[0]-t[0],o=e[1]-t[1],l=n[0]-t[0],c=n[1]-t[1],x=r*c-l*s,u=a*c-l*o;return x>0&&u<0||x<0&&u>0}function wk(i,e,t,n){const r=[e[0]-i[0],e[1]-i[1]],s=[n[0]-t[0],n[1]-t[1]];return vk(s,r)===0?!1:!!(kS(i,e,t,n)&&kS(t,n,i,e))}function Bk(i,e,t){for(const n of t)for(let r=0;r<n.length-1;++r)if(wk(i,e,n[r],n[r+1]))return!0;return!1}function US(i,e){for(let t=0;t<i.length;++t)if(!cC(i[t],e))return!1;for(let t=0;t<i.length-1;++t)if(Bk(i[t],i[t+1],e))return!1;return!0}function Sk(i,e){for(let t=0;t<e.length;t++)if(US(i,e[t]))return!0;return!1}function lC(i,e,t){const n=[];for(let r=0;r<i.length;r++){const s=[];for(let a=0;a<i[r].length;a++){const o=Ek(i[r][a],t);oC(e,o),s.push(o)}n.push(s)}return n}function NS(i,e,t){const n=[];for(let r=0;r<i.length;r++){const s=lC(i[r],e,t);n.push(s)}return n}function OS(i,e,t,n){if(i[0]<t[0]||i[0]>t[2]){const r=n*.5;let s=i[0]-t[0]>r?-n:t[0]-i[0]>r?n:0;s===0&&(s=i[0]-t[2]>r?-n:t[2]-i[0]>r?n:0),i[0]+=s}oC(e,i)}function Mk(i){i[0]=i[1]=1/0,i[2]=i[3]=-1/0}function GS(i,e,t,n){const r=Math.pow(2,n.z)*Bo,s=[n.x*Bo,n.y*Bo],a=[];if(!i)return a;for(const o of i)for(const l of o){const c=[l.x+s[0],l.y+s[1]];OS(c,e,t,r),a.push(c)}return a}function zS(i,e,t,n){const r=Math.pow(2,n.z)*Bo,s=[n.x*Bo,n.y*Bo],a=[];if(!i)return a;for(const o of i){const l=[];for(const c of o){const x=[c.x+s[0],c.y+s[1]];oC(e,x),l.push(x)}a.push(l)}if(e[2]-e[0]<=r/2){Mk(e);for(const o of a)for(const l of o)OS(l,e,t,r)}return a}function Rk(i,e){const t=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=i.canonicalID();if(!r)return!1;if(e.type==="Polygon"){const s=lC(e.coordinates,n,r),a=GS(i.geometry(),t,n,r);if(!h2(t,n))return!1;for(const o of a)if(!cC(o,s))return!1}if(e.type==="MultiPolygon"){const s=NS(e.coordinates,n,r),a=GS(i.geometry(),t,n,r);if(!h2(t,n))return!1;for(const o of a)if(!bk(o,s))return!1}return!0}function Tk(i,e){const t=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=i.canonicalID();if(!r)return!1;if(e.type==="Polygon"){const s=lC(e.coordinates,n,r),a=zS(i.geometry(),t,n,r);if(!h2(t,n))return!1;for(const o of a)if(!US(o,s))return!1}if(e.type==="MultiPolygon"){const s=NS(e.coordinates,n,r),a=zS(i.geometry(),t,n,r);if(!h2(t,n))return!1;for(const o of a)if(!Sk(o,s))return!1}return!0}class gf{constructor(e,t){this.type=nt,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(o2(e[1])){const n=e[1];if(n.type==="FeatureCollection")for(let r=0;r<n.features.length;++r){const s=n.features[r].geometry.type;if(s==="Polygon"||s==="MultiPolygon")return new gf(n,n.features[r].geometry)}else if(n.type==="Feature"){const r=n.geometry.type;if(r==="Polygon"||r==="MultiPolygon")return new gf(n,n.geometry)}else if(n.type==="Polygon"||n.type==="MultiPolygon")return new gf(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return Rk(e,this.geometries);if(e.geometryType()==="LineString")return Tk(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var xC=gf;function f2(i){if(i instanceof Fl){if(i.name==="get"&&i.args.length===1)return!1;if(i.name==="feature-state")return!1;if(i.name==="has"&&i.args.length===1)return!1;if(i.name==="properties"||i.name==="geometry-type"||i.name==="id")return!1;if(/^filter-/.test(i.name))return!1}if(i instanceof xC)return!1;let e=!0;return i.eachChild(t=>{e&&!f2(t)&&(e=!1)}),e}function uC(i){if(i instanceof Fl&&i.name==="feature-state")return!1;let e=!0;return i.eachChild(t=>{e&&!uC(t)&&(e=!1)}),e}function hC(i,e){if(i instanceof Fl&&e.indexOf(i.name)>=0)return!1;let t=!0;return i.eachChild(n=>{t&&!hC(n,e)&&(t=!1)}),t}class fC{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new fC(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var VS=fC;class AC{constructor(e,t=[],n,r=new uk,s=[]){this.registry=e,this.path=t,this.key=t.map(a=>`[${a}]`).join(""),this.scope=r,this.errors=s,this.expectedType=n}parse(e,t,n,r,s={}){return t?this.concat(t,n,r)._parse(e,s):this._parse(e,s)}_parse(e,t){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function n(r,s,a){return a==="assert"?new Ea(s,[r]):a==="coerce"?new Dl(s,[r]):r}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if(typeof r!="string")return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const s=this.registry[r];if(s){let a=s.parse(e,this);if(!a)return null;if(this.expectedType){const o=this.expectedType,l=a.type;if((o.kind==="string"||o.kind==="number"||o.kind==="boolean"||o.kind==="object"||o.kind==="array")&&l.kind==="value")a=n(a,o,t.typeAnnotation||"assert");else if((o.kind==="color"||o.kind==="formatted"||o.kind==="resolvedImage")&&(l.kind==="value"||l.kind==="string"))a=n(a,o,t.typeAnnotation||"coerce");else if(this.checkSubtype(o,l))return null}if(!(a instanceof c2)&&a.type.kind!=="resolvedImage"&&dC(a)){const o=new PS;try{a=new c2(a.type,a.evaluate(o))}catch(l){return this.error(l.message),null}}return a}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const r=typeof e=="number"?this.path.concat(e):this.path,s=n?this.scope.concat(n):this.scope;return new AC(this.registry,r,t||null,s,this.errors)}error(e,...t){const n=`${this.key}${t.map(r=>`[${r}]`).join("")}`;this.errors.push(new Ts(n,e))}checkSubtype(e,t){const n=Af(e,t);return n&&this.error(n),n}}var HS=AC;function dC(i){if(i instanceof VS)return dC(i.boundExpression);if(i instanceof Fl&&i.name==="error")return!1;if(i instanceof u2)return!1;if(i instanceof xC)return!1;const e=i instanceof Dl||i instanceof Ea;let t=!0;return i.eachChild(n=>{e?t=t&&dC(n):t=t&&n instanceof c2}),t?f2(i)&&hC(i,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function qS(i,e){const t=i.length-1;let n=0,r=t,s=0,a,o;for(;n<=r;)if(s=Math.floor((n+r)/2),a=i[s],o=i[s+1],a<=e){if(s===t||e<o)return s;n=s+1}else if(a>e)r=s-1;else throw new oi("Input is not a number.");return 0}class pC{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[r,s]of n)this.labels.push(r),this.outputs.push(s)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,Ee);if(!n)return null;const r=[];let s=null;t.expectedType&&t.expectedType.kind!=="value"&&(s=t.expectedType);for(let a=1;a<e.length;a+=2){const o=a===1?-1/0:e[a],l=e[a+1],c=a,x=a+1;if(typeof o!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(r.length&&r[r.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);const u=t.parse(l,x,s);if(!u)return null;s=s||u.type,r.push([o,u])}return new pC(s,n,r)}evaluate(e){const t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const s=t.length;if(r>=t[s-1])return n[s-1].evaluate(e);const a=qS(t,r);return n[a].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var YS=pC,Dk=Ll;function Ll(i,e,t,n){this.cx=3*i,this.bx=3*(t-i)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=i,this.p1y=n,this.p2x=t,this.p2y=n}Ll.prototype.sampleCurveX=function(i){return((this.ax*i+this.bx)*i+this.cx)*i},Ll.prototype.sampleCurveY=function(i){return((this.ay*i+this.by)*i+this.cy)*i},Ll.prototype.sampleCurveDerivativeX=function(i){return(3*this.ax*i+2*this.bx)*i+this.cx},Ll.prototype.solveCurveX=function(i,e){typeof e>"u"&&(e=1e-6);var t,n,r,s,a;for(r=i,a=0;a<8;a++){if(s=this.sampleCurveX(r)-i,Math.abs(s)<e)return r;var o=this.sampleCurveDerivativeX(r);if(Math.abs(o)<1e-6)break;r=r-s/o}if(t=0,n=1,r=i,r<t)return t;if(r>n)return n;for(;t<n;){if(s=this.sampleCurveX(r),Math.abs(s-i)<e)return r;i>s?t=r:n=r,r=(n-t)*.5+t}return r},Ll.prototype.solve=function(i,e){return this.sampleCurveY(this.solveCurveX(i,e))};var Qk=RS(Dk);function dr(i,e,t){return i*(1-t)+e*t}function Fk(i,e,t){return new Ar(dr(i.r,e.r,t),dr(i.g,e.g,t),dr(i.b,e.b,t),dr(i.a,e.a,t))}function Lk(i,e,t){return i.map((n,r)=>dr(n,e[r],t))}var Pk=Object.freeze({__proto__:null,number:dr,color:Fk,array:Lk});const XS=.95047,WS=1,jS=1.08883,KS=4/29,Pl=6/29,JS=3*Pl*Pl,kk=Pl*Pl*Pl,Uk=Math.PI/180,Nk=180/Math.PI;function gC(i){return i>kk?Math.pow(i,1/3):i/JS+KS}function mC(i){return i>Pl?i*i*i:JS*(i-KS)}function _C(i){return 255*(i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055)}function IC(i){return i/=255,i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function ZS(i){const e=IC(i.r),t=IC(i.g),n=IC(i.b),r=gC((.4124564*e+.3575761*t+.1804375*n)/XS),s=gC((.2126729*e+.7151522*t+.072175*n)/WS),a=gC((.0193339*e+.119192*t+.9503041*n)/jS);return{l:116*s-16,a:500*(r-s),b:200*(s-a),alpha:i.a}}function $S(i){let e=(i.l+16)/116,t=isNaN(i.a)?e:e+i.a/500,n=isNaN(i.b)?e:e-i.b/200;return e=WS*mC(e),t=XS*mC(t),n=jS*mC(n),new Ar(_C(3.2404542*t-1.5371385*e-.4985314*n),_C(-.969266*t+1.8760108*e+.041556*n),_C(.0556434*t-.2040259*e+1.0572252*n),i.alpha)}function Ok(i,e,t){return{l:dr(i.l,e.l,t),a:dr(i.a,e.a,t),b:dr(i.b,e.b,t),alpha:dr(i.alpha,e.alpha,t)}}function Gk(i){const{l:e,a:t,b:n}=ZS(i),r=Math.atan2(n,t)*Nk;return{h:r<0?r+360:r,c:Math.sqrt(t*t+n*n),l:e,alpha:i.a}}function zk(i){const e=i.h*Uk,t=i.c,n=i.l;return $S({l:n,a:Math.cos(e)*t,b:Math.sin(e)*t,alpha:i.alpha})}function Vk(i,e,t){const n=e-i;return i+t*(n>180||n<-180?n-360*Math.round(n/360):n)}function Hk(i,e,t){return{h:Vk(i.h,e.h,t),c:dr(i.c,e.c,t),l:dr(i.l,e.l,t),alpha:dr(i.alpha,e.alpha,t)}}const A2={forward:ZS,reverse:$S,interpolate:Ok},d2={forward:Gk,reverse:zk,interpolate:Hk};class p2{constructor(e,t,n,r,s){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[a,o]of s)this.labels.push(a),this.outputs.push(o)}static interpolationFactor(e,t,n,r){let s=0;if(e.name==="exponential")s=EC(t,e.base,n,r);else if(e.name==="linear")s=EC(t,1,n,r);else if(e.name==="cubic-bezier"){const a=e.controlPoints;s=new Qk(a[0],a[1],a[2],a[3]).solve(EC(t,1,n,r))}return s}static parse(e,t){let[n,r,s,...a]=e;if(!Array.isArray(r)||r.length===0)return t.error("Expected an interpolation type expression.",1);if(r[0]==="linear")r={name:"linear"};else if(r[0]==="exponential"){const c=r[1];if(typeof c!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:c}}else if(r[0]==="cubic-bezier"){const c=r.slice(1);if(c.length!==4||c.some(x=>typeof x!="number"||x<0||x>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:c}}else return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(s=t.parse(s,2,Ee),!s)return null;const o=[];let l=null;n==="interpolate-hcl"||n==="interpolate-lab"?l=Ia:t.expectedType&&t.expectedType.kind!=="value"&&(l=t.expectedType);for(let c=0;c<a.length;c+=2){const x=a[c],u=a[c+1],h=c+3,f=c+4;if(typeof x!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(o.length&&o[o.length-1][0]>=x)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);const A=t.parse(u,f,l);if(!A)return null;l=l||A.type,o.push([x,A])}return l.kind!=="number"&&l.kind!=="color"&&!(l.kind==="array"&&l.itemType.kind==="number"&&typeof l.N=="number")?t.error(`Type ${gn(l)} is not interpolatable.`):new p2(l,n,r,s,o)}evaluate(e){const t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const s=t.length;if(r>=t[s-1])return n[s-1].evaluate(e);const a=qS(t,r),o=t[a],l=t[a+1],c=p2.interpolationFactor(this.interpolation,r,o,l),x=n[a].evaluate(e),u=n[a+1].evaluate(e);return this.operator==="interpolate"?Pk[this.type.kind.toLowerCase()](x,u,c):this.operator==="interpolate-hcl"?d2.reverse(d2.interpolate(d2.forward(x),d2.forward(u),c)):A2.reverse(A2.interpolate(A2.forward(x),A2.forward(u),c))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;this.interpolation.name==="linear"?e=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?e=["linear"]:e=["exponential",this.interpolation.base]:e=["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t}}function EC(i,e,t,n){const r=n-t,s=i-t;return r===0?0:e===1?s/r:(Math.pow(e,s)-1)/(Math.pow(e,r)-1)}var Q0=p2;class g2{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const r=t.expectedType;r&&r.kind!=="value"&&(n=r);const s=[];for(const o of e.slice(1)){const l=t.parse(o,1+s.length,n,void 0,{typeAnnotation:"omit"});if(!l)return null;n=n||l.type,s.push(l)}return r&&s.some(o=>Af(r,o.type))?new g2(it,s):new g2(n,s)}evaluate(e){let t=null,n=0,r;for(const s of this.args){if(n++,t=s.evaluate(e),t&&t instanceof wo&&!t.available&&(r||(r=t),t=null,n===this.args.length))return r;if(t!==null)break}return t}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var e4=g2;class yC{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let s=1;s<e.length-1;s+=2){const a=e[s];if(typeof a!="string")return t.error(`Expected string, but found ${typeof a} instead.`,s);if(/[^a-zA-Z0-9_]/.test(a))return t.error("Variable names must contain only alphanumeric characters or '_'.",s);const o=t.parse(e[s+1],s+1);if(!o)return null;n.push([a,o])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return r?new yC(n,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}var t4=yC;class CC{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Ee),r=t.parse(e[2],2,Tr(t.expectedType||it));if(!n||!r)return null;const s=r.type;return new CC(s.itemType,n,r)}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new oi(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new oi(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new oi(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var qk=CC;class bC{constructor(e,t){this.type=nt,this.needle=e,this.haystack=t}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,it),r=t.parse(e[2],2,it);return!n||!r?null:eC(n.type,[nt,lt,Ee,r2,it])?new bC(n,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${gn(n.type)} instead`)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(n==null)return!1;if(!df(t,["boolean","string","number","null"]))throw new oi(`Expected first argument to be of type boolean, string, number or null, but found ${gn(Wn(t))} instead.`);if(!df(n,["string","array"]))throw new oi(`Expected second argument to be of type array or string, but found ${gn(Wn(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Yk=bC;class m2{constructor(e,t,n){this.type=Ee,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,it),r=t.parse(e[2],2,it);if(!n||!r)return null;if(!eC(n.type,[nt,lt,Ee,r2,it]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${gn(n.type)} instead`);if(e.length===4){const s=t.parse(e[3],3,Ee);return s?new m2(n,r,s):null}else return new m2(n,r)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!df(t,["boolean","string","number","null"]))throw new oi(`Expected first argument to be of type boolean, string, number or null, but found ${gn(Wn(t))} instead.`);if(!df(n,["string","array"]))throw new oi(`Expected second argument to be of type array or string, but found ${gn(Wn(n))} instead.`);if(this.fromIndex){const r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Xk=m2;class vC{constructor(e,t,n,r,s,a){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=s,this.otherwise=a}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let n,r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const s={},a=[];for(let c=2;c<e.length-1;c+=2){let x=e[c];const u=e[c+1];Array.isArray(x)||(x=[x]);const h=t.concat(c);if(x.length===0)return h.error("Expected at least one branch label.");for(const A of x){if(typeof A!="number"&&typeof A!="string")return h.error("Branch labels must be numbers or strings.");if(typeof A=="number"&&Math.abs(A)>Number.MAX_SAFE_INTEGER)return h.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof A=="number"&&Math.floor(A)!==A)return h.error("Numeric branch labels must be integer values.");if(!n)n=Wn(A);else if(h.checkSubtype(n,Wn(A)))return null;if(typeof s[String(A)]<"u")return h.error("Branch labels must be unique.");s[String(A)]=a.length}const f=t.parse(u,c,r);if(!f)return null;r=r||f.type,a.push(f)}const o=t.parse(e[1],1,it);if(!o)return null;const l=t.parse(e[e.length-1],e.length-1,r);return!l||o.type.kind!=="value"&&t.concat(1).checkSubtype(n,o.type)?null:new vC(n,r,o,s,a,l)}evaluate(e){const t=this.input.evaluate(e);return(Wn(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],r={};for(const a of t){const o=r[this.cases[a]];o===void 0?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[o][1].push(a)}const s=a=>this.inputType.kind==="number"?Number(a):a;for(const[a,o]of n)o.length===1?e.push(s(o[0])):e.push(o.map(s)),e.push(this.outputs[a].serialize());return e.push(this.otherwise.serialize()),e}}var Wk=vC;class wC{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&t.expectedType.kind!=="value"&&(n=t.expectedType);const r=[];for(let a=1;a<e.length-1;a+=2){const o=t.parse(e[a],a,nt);if(!o)return null;const l=t.parse(e[a+1],a+1,n);if(!l)return null;r.push([o,l]),n=n||l.type}const s=t.parse(e[e.length-1],e.length-1,n);return s?new wC(n,r,s):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var jk=wC;class _2{constructor(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,it),r=t.parse(e[2],2,Ee);if(!n||!r)return null;if(!eC(n.type,[Tr(it),lt,it]))return t.error(`Expected first argument to be of type array or string, but found ${gn(n.type)} instead`);if(e.length===4){const s=t.parse(e[3],3,Ee);return s?new _2(n.type,n,r,s):null}else return new _2(n.type,n,r)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!df(t,["string","array"]))throw new oi(`Expected first argument to be of type array or string, but found ${gn(Wn(t))} instead.`);if(this.endIndex){const r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Kk=_2;function n4(i,e){return i==="=="||i==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function Jk(i,e,t){return e===t}function Zk(i,e,t){return e!==t}function $k(i,e,t){return e<t}function eU(i,e,t){return e>t}function tU(i,e,t){return e<=t}function nU(i,e,t){return e>=t}function i4(i,e,t,n){return n.compare(e,t)===0}function iU(i,e,t,n){return!i4(i,e,t,n)}function rU(i,e,t,n){return n.compare(e,t)<0}function sU(i,e,t,n){return n.compare(e,t)>0}function aU(i,e,t,n){return n.compare(e,t)<=0}function oU(i,e,t,n){return n.compare(e,t)>=0}function kl(i,e,t){const n=i!=="=="&&i!=="!=";return class ST{constructor(s,a,o){this.type=nt,this.lhs=s,this.rhs=a,this.collator=o,this.hasUntypedArgument=s.type.kind==="value"||a.type.kind==="value"}static parse(s,a){if(s.length!==3&&s.length!==4)return a.error("Expected two or three arguments.");const o=s[0];let l=a.parse(s[1],1,it);if(!l)return null;if(!n4(o,l.type))return a.concat(1).error(`"${o}" comparisons are not supported for type '${gn(l.type)}'.`);let c=a.parse(s[2],2,it);if(!c)return null;if(!n4(o,c.type))return a.concat(2).error(`"${o}" comparisons are not supported for type '${gn(c.type)}'.`);if(l.type.kind!==c.type.kind&&l.type.kind!=="value"&&c.type.kind!=="value")return a.error(`Cannot compare types '${gn(l.type)}' and '${gn(c.type)}'.`);n&&(l.type.kind==="value"&&c.type.kind!=="value"?l=new Ea(c.type,[l]):l.type.kind!=="value"&&c.type.kind==="value"&&(c=new Ea(l.type,[c])));let x=null;if(s.length===4){if(l.type.kind!=="string"&&c.type.kind!=="string"&&l.type.kind!=="value"&&c.type.kind!=="value")return a.error("Cannot use collator to compare non-string types.");if(x=a.parse(s[3],3,s2),!x)return null}return new ST(l,c,x)}evaluate(s){const a=this.lhs.evaluate(s),o=this.rhs.evaluate(s);if(n&&this.hasUntypedArgument){const l=Wn(a),c=Wn(o);if(l.kind!==c.kind||!(l.kind==="string"||l.kind==="number"))throw new oi(`Expected arguments for "${i}" to be (string, string) or (number, number), but found (${l.kind}, ${c.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const l=Wn(a),c=Wn(o);if(l.kind!=="string"||c.kind!=="string")return e(s,a,o)}return this.collator?t(s,a,o,this.collator.evaluate(s)):e(s,a,o)}eachChild(s){s(this.lhs),s(this.rhs),this.collator&&s(this.collator)}outputDefined(){return!0}serialize(){const s=[i];return this.eachChild(a=>{s.push(a.serialize())}),s}}}const cU=kl("==",Jk,i4),lU=kl("!=",Zk,iU),xU=kl("<",$k,rU),uU=kl(">",eU,sU),hU=kl("<=",tU,aU),fU=kl(">=",nU,oU);class BC{constructor(e,t,n,r,s,a){this.type=lt,this.number=e,this.locale=t,this.currency=n,this.unit=r,this.minFractionDigits=s,this.maxFractionDigits=a}static parse(e,t){if(e.length!==3)return t.error("Expected two arguments.");const n=t.parse(e[1],1,Ee);if(!n)return null;const r=e[2];if(typeof r!="object"||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let s=null;if(r.locale&&(s=t.parse(r.locale,1,lt),!s))return null;let a=null;if(r.currency&&(a=t.parse(r.currency,1,lt),!a))return null;let o=null;if(r.unit&&(o=t.parse(r.unit,1,lt),!o))return null;let l=null;if(r["min-fraction-digits"]&&(l=t.parse(r["min-fraction-digits"],1,Ee),!l))return null;let c=null;return r["max-fraction-digits"]&&(c=t.parse(r["max-fraction-digits"],1,Ee),!c)?null:new BC(n,s,a,o,l,c)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency&&"currency"||this.unit&&"unit"||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class SC{constructor(e){this.type=Ee,this.input=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?n.type.kind!=="array"&&n.type.kind!=="string"&&n.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${gn(n.type)} instead.`):new SC(n):null}evaluate(e){const t=this.input.evaluate(e);if(typeof t=="string")return t.length;if(Array.isArray(t))return t.length;throw new oi(`Expected value to be of type string or array, but found ${gn(Wn(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var AU=SC;const r4={"==":cU,"!=":lU,">":uU,"<":xU,">=":fU,"<=":hU,array:Ea,at:qk,boolean:Ea,case:jk,coalesce:e4,collator:u2,format:l2,image:x2,in:Yk,"index-of":Xk,interpolate:Q0,"interpolate-hcl":Q0,"interpolate-lab":Q0,length:AU,let:t4,literal:c2,match:Wk,number:Ea,"number-format":BC,object:Ea,slice:Kk,step:YS,string:Ea,"to-boolean":Dl,"to-color":Dl,"to-number":Dl,"to-string":Dl,var:VS,within:xC};function s4(i,[e,t,n,r]){e=e.evaluate(i),t=t.evaluate(i),n=n.evaluate(i);const s=r?r.evaluate(i):1,a=LS(e,t,n,s);if(a)throw new oi(a);return new Ar(e/255*s,t/255*s,n/255*s,s)}function a4(i,e){return i in e}function MC(i,e){const t=e[i];return typeof t>"u"?null:t}function dU(i,e,t,n){for(;t<=n;){const r=t+n>>1;if(e[r]===i)return!0;e[r]>i?n=r-1:t=r+1}return!1}function F0(i){return{type:i}}Fl.register(r4,{error:[hk,[lt],(i,[e])=>{throw new oi(e.evaluate(i))}],typeof:[lt,[it],(i,[e])=>gn(Wn(e.evaluate(i)))],"to-rgba":[Tr(Ee,4),[Ia],(i,[e])=>e.evaluate(i).toArray()],rgb:[Ia,[Ee,Ee,Ee],s4],rgba:[Ia,[Ee,Ee,Ee,Ee],s4],has:{type:nt,overloads:[[[lt],(i,[e])=>a4(e.evaluate(i),i.properties())],[[lt,Tl],(i,[e,t])=>a4(e.evaluate(i),t.evaluate(i))]]},get:{type:it,overloads:[[[lt],(i,[e])=>MC(e.evaluate(i),i.properties())],[[lt,Tl],(i,[e,t])=>MC(e.evaluate(i),t.evaluate(i))]]},"feature-state":[it,[lt],(i,[e])=>MC(e.evaluate(i),i.featureState||{})],properties:[Tl,[],i=>i.properties()],"geometry-type":[lt,[],i=>i.geometryType()],id:[it,[],i=>i.id()],zoom:[Ee,[],i=>i.globals.zoom],pitch:[Ee,[],i=>i.globals.pitch||0],"distance-from-center":[Ee,[],i=>i.distanceFromCenter()],"heatmap-density":[Ee,[],i=>i.globals.heatmapDensity||0],"line-progress":[Ee,[],i=>i.globals.lineProgress||0],"sky-radial-progress":[Ee,[],i=>i.globals.skyRadialProgress||0],accumulated:[it,[],i=>i.globals.accumulated===void 0?null:i.globals.accumulated],"+":[Ee,F0(Ee),(i,e)=>{let t=0;for(const n of e)t+=n.evaluate(i);return t}],"*":[Ee,F0(Ee),(i,e)=>{let t=1;for(const n of e)t*=n.evaluate(i);return t}],"-":{type:Ee,overloads:[[[Ee,Ee],(i,[e,t])=>e.evaluate(i)-t.evaluate(i)],[[Ee],(i,[e])=>-e.evaluate(i)]]},"/":[Ee,[Ee,Ee],(i,[e,t])=>e.evaluate(i)/t.evaluate(i)],"%":[Ee,[Ee,Ee],(i,[e,t])=>e.evaluate(i)%t.evaluate(i)],ln2:[Ee,[],()=>Math.LN2],pi:[Ee,[],()=>Math.PI],e:[Ee,[],()=>Math.E],"^":[Ee,[Ee,Ee],(i,[e,t])=>Math.pow(e.evaluate(i),t.evaluate(i))],sqrt:[Ee,[Ee],(i,[e])=>Math.sqrt(e.evaluate(i))],log10:[Ee,[Ee],(i,[e])=>Math.log(e.evaluate(i))/Math.LN10],ln:[Ee,[Ee],(i,[e])=>Math.log(e.evaluate(i))],log2:[Ee,[Ee],(i,[e])=>Math.log(e.evaluate(i))/Math.LN2],sin:[Ee,[Ee],(i,[e])=>Math.sin(e.evaluate(i))],cos:[Ee,[Ee],(i,[e])=>Math.cos(e.evaluate(i))],tan:[Ee,[Ee],(i,[e])=>Math.tan(e.evaluate(i))],asin:[Ee,[Ee],(i,[e])=>Math.asin(e.evaluate(i))],acos:[Ee,[Ee],(i,[e])=>Math.acos(e.evaluate(i))],atan:[Ee,[Ee],(i,[e])=>Math.atan(e.evaluate(i))],min:[Ee,F0(Ee),(i,e)=>Math.min(...e.map(t=>t.evaluate(i)))],max:[Ee,F0(Ee),(i,e)=>Math.max(...e.map(t=>t.evaluate(i)))],abs:[Ee,[Ee],(i,[e])=>Math.abs(e.evaluate(i))],round:[Ee,[Ee],(i,[e])=>{const t=e.evaluate(i);return t<0?-Math.round(-t):Math.round(t)}],floor:[Ee,[Ee],(i,[e])=>Math.floor(e.evaluate(i))],ceil:[Ee,[Ee],(i,[e])=>Math.ceil(e.evaluate(i))],"filter-==":[nt,[lt,it],(i,[e,t])=>i.properties()[e.value]===t.value],"filter-id-==":[nt,[it],(i,[e])=>i.id()===e.value],"filter-type-==":[nt,[lt],(i,[e])=>i.geometryType()===e.value],"filter-<":[nt,[lt,it],(i,[e,t])=>{const n=i.properties()[e.value],r=t.value;return typeof n==typeof r&&n<r}],"filter-id-<":[nt,[it],(i,[e])=>{const t=i.id(),n=e.value;return typeof t==typeof n&&t<n}],"filter->":[nt,[lt,it],(i,[e,t])=>{const n=i.properties()[e.value],r=t.value;return typeof n==typeof r&&n>r}],"filter-id->":[nt,[it],(i,[e])=>{const t=i.id(),n=e.value;return typeof t==typeof n&&t>n}],"filter-<=":[nt,[lt,it],(i,[e,t])=>{const n=i.properties()[e.value],r=t.value;return typeof n==typeof r&&n<=r}],"filter-id-<=":[nt,[it],(i,[e])=>{const t=i.id(),n=e.value;return typeof t==typeof n&&t<=n}],"filter->=":[nt,[lt,it],(i,[e,t])=>{const n=i.properties()[e.value],r=t.value;return typeof n==typeof r&&n>=r}],"filter-id->=":[nt,[it],(i,[e])=>{const t=i.id(),n=e.value;return typeof t==typeof n&&t>=n}],"filter-has":[nt,[it],(i,[e])=>e.value in i.properties()],"filter-has-id":[nt,[],i=>i.id()!==null&&i.id()!==void 0],"filter-type-in":[nt,[Tr(lt)],(i,[e])=>e.value.indexOf(i.geometryType())>=0],"filter-id-in":[nt,[Tr(it)],(i,[e])=>e.value.indexOf(i.id())>=0],"filter-in-small":[nt,[lt,Tr(it)],(i,[e,t])=>t.value.indexOf(i.properties()[e.value])>=0],"filter-in-large":[nt,[lt,Tr(it)],(i,[e,t])=>dU(i.properties()[e.value],t.value,0,t.value.length-1)],all:{type:nt,overloads:[[[nt,nt],(i,[e,t])=>e.evaluate(i)&&t.evaluate(i)],[F0(nt),(i,e)=>{for(const t of e)if(!t.evaluate(i))return!1;return!0}]]},any:{type:nt,overloads:[[[nt,nt],(i,[e,t])=>e.evaluate(i)||t.evaluate(i)],[F0(nt),(i,e)=>{for(const t of e)if(t.evaluate(i))return!0;return!1}]]},"!":[nt,[nt],(i,[e])=>!e.evaluate(i)],"is-supported-script":[nt,[lt],(i,[e])=>{const t=i.globals&&i.globals.isSupportedScript;return t?t(e.evaluate(i)):!0}],upcase:[lt,[lt],(i,[e])=>e.evaluate(i).toUpperCase()],downcase:[lt,[lt],(i,[e])=>e.evaluate(i).toLowerCase()],concat:[lt,F0(it),(i,e)=>e.map(t=>pf(t.evaluate(i))).join("")],"resolved-locale":[lt,[s2],(i,[e])=>e.evaluate(i).resolvedLocale()]});var o4=r4;function RC(i){return{result:"success",value:i}}function Ul(i){return{result:"error",value:i}}function pU(i){return i["property-type"]==="data-driven"}function gU(i){return!!i.expression&&i.expression.parameters.indexOf("zoom")>-1}function mU(i){return!!i.expression&&i.expression.interpolated}function c4(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}class _U{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new PS,this._defaultValue=t?CU(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(e,t,n,r,s,a,o,l){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r||null,this._evaluator.availableImages=s||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=l||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,r,s,a,o,l){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r||null,this._evaluator.availableImages=s||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=l||null;try{const c=this.expression.evaluate(this._evaluator);if(c==null||typeof c=="number"&&c!==c)return this._defaultValue;if(this._enumValues&&!(c in this._enumValues))throw new oi(`Expected value to be one of ${Object.keys(this._enumValues).map(x=>JSON.stringify(x)).join(", ")}, but found ${JSON.stringify(c)} instead.`);return c}catch(c){return this._warningHistory[c.message]||(this._warningHistory[c.message]=!0,typeof console<"u"&&console.warn(c.message)),this._defaultValue}}}function IU(i){return Array.isArray(i)&&i.length>0&&typeof i[0]=="string"&&i[0]in o4}function TC(i,e){const t=new HS(o4,[],e?yU(e):void 0),n=t.parse(i,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return n?RC(new _U(n,e)):Ul(t.errors)}class l4{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!=="constant"&&!uC(t.expression)}evaluateWithoutErrorHandling(e,t,n,r,s,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,s,a)}evaluate(e,t,n,r,s,a){return this._styleExpression.evaluate(e,t,n,r,s,a)}}class x4{constructor(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent=e!=="camera"&&!uC(t.expression),this.interpolationType=r}evaluateWithoutErrorHandling(e,t,n,r,s,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,s,a)}evaluate(e,t,n,r,s,a){return this._styleExpression.evaluate(e,t,n,r,s,a)}interpolationFactor(e,t,n){return this.interpolationType?Q0.interpolationFactor(this.interpolationType,e,t,n):0}}function EU(i,e){if(i=TC(i,e),i.result==="error")return i;const t=i.value.expression,n=f2(t);if(!n&&!pU(e))return Ul([new Ts("","data expressions not supported")]);const r=hC(t,["zoom","pitch","distance-from-center"]);if(!r&&!gU(e))return Ul([new Ts("","zoom expressions not supported")]);const s=I2(t);if(!s&&!r)return Ul([new Ts("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(s instanceof Ts)return Ul([s]);if(s instanceof Q0&&!mU(e))return Ul([new Ts("",'"interpolate" expressions cannot be used with this property')]);if(!s)return RC(n?new l4("constant",i.value):new l4("source",i.value));const a=s instanceof Q0?s.interpolation:void 0;return RC(n?new x4("camera",i.value,s.labels,a):new x4("composite",i.value,s.labels,a))}function I2(i){let e=null;if(i instanceof t4)e=I2(i.result);else if(i instanceof e4){for(const t of i.args)if(e=I2(t),e)break}else(i instanceof YS||i instanceof Q0)&&i.input instanceof Fl&&i.input.name==="zoom"&&(e=i);return e instanceof Ts||i.eachChild(t=>{const n=I2(t);n instanceof Ts?e=n:!e&&n?e=new Ts("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new Ts("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function yU(i){const e={color:Ia,string:lt,number:Ee,enum:lt,boolean:nt,formatted:a2,resolvedImage:ff};return i.type==="array"?Tr(e[i.value]||it,i.length):e[i.type]}function CU(i){return i.type==="color"&&(c4(i.default)||Array.isArray(i.default))?new Ar(0,0,0,0):i.type==="color"?Ar.parse(i.default)||null:i.default===void 0?null:i.default}function bU(i){return i instanceof Number||i instanceof String||i instanceof Boolean?i.valueOf():i}function DC(i){if(Array.isArray(i))return i.map(DC);if(i instanceof Object&&!(i instanceof Number||i instanceof String||i instanceof Boolean)){const e={};for(const t in i)e[t]=DC(i[t]);return e}return bU(i)}var u4={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["fill-extrusion-edge-radius"]}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function h4(i){if(i===!0||i===!1)return!0;if(!Array.isArray(i)||i.length===0)return!1;switch(i[0]){case"has":return i.length>=2&&i[1]!=="$id"&&i[1]!=="$type";case"in":return i.length>=3&&(typeof i[1]!="string"||Array.isArray(i[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return i.length!==3||Array.isArray(i[1])||Array.isArray(i[2]);case"any":case"all":for(const e of i.slice(1))if(!h4(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}function vU(i,e="fill"){if(i==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};h4(i)||(i=E2(i));const t=i;let n=!0;try{n=wU(t)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
=======
}`;var q6=class extends Np{constructor(e,t){super(t),this.map=e,this.projCode=e.getView().getProjection().getCode().split(":")[1],this.options=t,this._zoomResolution=[1,1,.5,.5,.25,.25,.125,.125,.0625,.0625,.03125,.03125,.015625,.015625,.007,.007,.0035,.0035,.0018,.0018,9e-4,9e-4],this.loadfirst=!1,this._sourceStatus=0,this._tiffObject=null,this.canvas=null,this.rasterDatas=null,this.initLoadData=!0,this.worldfirstExtent=null,this.firstBool=!0,this.setProperties(t),this.interpolateType={linear:{colorRampTexture:"linear",spotTexture:"linear",colortype:"gradient"},nearest:{colorRampTexture:"nearest",spotTexture:"linear",colortype:"region"},grid:{colorRampTexture:"linear",spotTexture:"nearest",colortype:"region"}}}async _render1(){return this.firstBool&&(this.firstBool=!1,this.once("postrender",e=>{this.drawGridNumber(this.rasterDatas)})),this.AddfillMultiWebGLLayer()}isViewExtentEqual(e){const t=this.map.getView().calculateExtent(this.map.getSize());return JSON.stringify(t)===JSON.stringify(e)}drawGridNumber(e){if(!(this.worldfirstExtent&&this.isViewExtentEqual(this.worldfirstExtent))){if(this.worldfirstExtent=this.map.getView().calculateExtent(this.map.getSize()),this.initLoadData==!0){this.initLoadData=!1;const t=this.map.getView().getProjection().getCode(),n=new ly({ratio:1,projection:t,canvasFunction:(r,s,o,a)=>(this.worldExtent=r,this.worldPixelRatio=o,this.canvas.width=a[0],this.canvas.height=a[1],this._render(),this.canvas)});this.setSource(n)}this.rasterDatas=e,this._render(),this._reset()}}updateStyle(e){var s;this.options.colors=e.colors;let t=this.convertColor(e),n=this.interpolateType[(e==null?void 0:e.interpolation)||((s=this.options)==null?void 0:s.interpolation)||"linear"];console.log("colorRampType",n);let r=this.gl.LINEAR;switch(n.colorRampTexture){case"linear":r=this.gl.LINEAR;break;case"nearest":r=this.gl.NEAREST;break}this.colorRampTexture=Pp(this.gl,r,this.makeCilirRamp(t),16,16),this._render(),this._reset()}convertColor(e){let{colors:t}=e;return t=t.map(n=>{const s=`rgba(${n[1].join(",")})`;return[n[0],s]}),t}async AddfillMultiWebGLLayer(){return await new Promise(e=>{var a;let t=this.convertColor(this.options);this.worldExtent=this.map.getView().calculateExtent(this.map.getSize());const n=this.map.getView().getProjection().getCode();this.canvas=document.createElement("canvas"),this._initCanvas(),this.program=U6(this.gl,O6,z6),this.gl.useProgram(this.program.program),this.vertexCoordsBuffer=Op(this.gl,new Float32Array([-1,1,-1,-1,1,1,1,-1])),this.pixelCoordsBuffer=Op(this.gl,new Float32Array([0,1,0,0,1,1,1,0]));let r=this.interpolateType[((a=this.options)==null?void 0:a.interpolation)||"linear"],s=this.gl.LINEAR;switch(r.colorRampTexture){case"linear":s=this.gl.LINEAR;break;case"nearest":s=this.gl.NEAREST;break}this.colorRampTexture=Pp(this.gl,s,this.makeCilirRamp(t),16,16);const o=new ly({ratio:1,projection:n,canvasFunction:(c,x,A,l)=>(this.worldExtent=c,this.worldPixelRatio=A,this.canvas.width=l[0],this.canvas.height=l[1],this._render(),this.canvas)});return this.setSource(o),e(this)})}_reset(){this._updateData()}async _updateData(){var t,n;let e=this.rasterDatas;if(e!=null){for(let r in e){const s=e[r],o=s[0];let a=new Float32Array(o.length);for(let g=0;g<o.length;g++){const d=o[g];a[g]=this.getRealValue(d,(t=s==null?void 0:s.params)==null?void 0:t.metadata)}const c=parseInt(r)+1,x="spotTexture"+c,A="bound"+c+"_min",l="bound"+c+"_max";let u=this.interpolateType[((n=this.options)==null?void 0:n.interpolation)||"linear"],h=this.gl.LINEAR;switch(u.spotTexture){case"linear":h=this.gl.LINEAR;break;case"nearest":h=this.gl.NEAREST;break}this[x]=Pp(this.gl,h,a,s.width,s.height);const f=s.dataBbox;this.gl.uniform2f(this.program[A],f[0],f[3]),this.gl.uniform2f(this.program[l],f[2],f[1])}this._render(),this.getSource().changed()}}isNoData(e,t){return e==t.nodata}getRealValue(e,t){if(this.isNoData(e,t))return t.nodata;{let n=0;return t.unit=="C"?n=(e-273.15*t.customScale)/t.customScale+t.offset:n=e/t.scale+t.offset,n}}updatePixelCoords(e){this.pixelCoordsBuffer=Op(this.gl,new Float32Array(e))}_initCanvas(){let e=this.map.getSize();this.canvas.width=e[0],this.canvas.height=e[1],this.gl=this.createGL(this.canvas)}_render(){const e=this.gl,t=this.program;e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),this.updatePixelCoords(this.boundsToCoords(this.getPixelBounds())),zy(e,this.vertexCoordsBuffer,t.aVertexCoords,2),zy(e,this.pixelCoordsBuffer,t.aPixelCoords,2),Up(e,this.colorRampTexture,0),e.uniform1i(t.uColorRamp,0),Up(this.gl,this.spotTexture1,1),this.gl.uniform1i(this.program.spotTexture1,1),Up(this.gl,this.spotTexture2,2),this.gl.uniform1i(this.program.spotTexture2,2),e.uniform1i(this.program.projCode,this.projCode),e.drawArrays(e.TRIANGLE_STRIP,0,4)}getPixelBounds(){let e=this.map.getView().getProjection().getCode(),t=0,n=0;e=="EPSG:3857"?(t=this.map.getPixelFromCoordinate(ji([-180,85.05112877980659],"EPSG:4326",e)),n=this.map.getPixelFromCoordinate(ji([180,-85.05112877980659],"EPSG:4326",e))):e=="EPSG:4326"?(t=this.map.getPixelFromCoordinate(ji([-180,90],"EPSG:4326",e)),n=this.map.getPixelFromCoordinate(ji([180,-90],"EPSG:4326",e))):e=="Albers"&&(t=this.map.getPixelFromCoordinate(ji([-179,90],"EPSG:4326",e)),n=this.map.getPixelFromCoordinate(ji([179,-90],"EPSG:4326",e)));let r=Math.abs(n[0]-t[0]),s=Math.abs(n[1]-t[1]),o=this.map.getPixelFromCoordinate([this.worldExtent[0],this.worldExtent[3]]),a=[];a[0]=o[0]-t[0],a[1]=o[1]-t[1];let c=this.map.getPixelFromCoordinate([this.worldExtent[2],this.worldExtent[1]]),x=[];x[0]=c[0]-t[0],x[1]=c[1]-t[1];let A=a[0],l=x[0],u=a[1],h=x[1],f=A/r,g=l/r,d=1-u/s,p=1-h/s;return[f,g,p,d]}boundsToCoords(e){return[e[0],e[3],e[0],e[2],e[1],e[3],e[1],e[2]]}createGL(e){this._glOpts={antialiasing:!0,alpha:!0};let t=e.getContext("webgl2",this._glOpts)||e.getContext("experimental-webgl2",this._glOpts);return t?(this._anisoExt=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this._anisoExt||console.warn("Your browser doesn`t support anisotropic filtering.  Ordinary MIP mapping will be used."),t.getExtension("OES_texture_float_linear")||console.warn("OES_texture_float_linear is not supported.")):console.warn("Your browser doesn`t seem to support WebGL."),t}makeCilirRamp(e){var u;let t=[e[0][0]-50,e[0][1]],n=[e[e.length-1][0]+50,e[e.length-1][1]];e.unshift(t),e.push(n);const r=e[0][0],s=e[e.length-1][0],o=this.gl,a=this.program;o.uniform1f(a.ramp_min,r),o.uniform1f(a.ramp_max,s);const c=document.createElement("canvas"),x=c.getContext("2d");c.width=256,c.height=1;const A=x.createLinearGradient(0,0,256,0);for(const h in e){const f=(e[h][0]-r)/(s-r);A.addColorStop(f,e[h][1])}x.fillStyle=A,x.fillRect(0,0,256,1);let l=this.interpolateType[((u=this.options)==null?void 0:u.interpolation)||"linear"].colortype;if(l=="region"){const h=x.createLinearGradient(0,0,256,0);for(const f in e){const g=(e[f][0]-r)/(s-r);h.addColorStop(g,e[f][1])}x.fillStyle=h,x.fillRect(0,0,256,1)}else if(l=="gradient"){const h=e.slice(-1)[0][0]-e[0][0];let f=0;e.forEach((g,d,p)=>{if(d===p.length-1)return;const I=(p[d+1][0]-g[0])*c.width/h;x.fillStyle=g[1],x.clearRect(f,0,f+I,c.height),x.fillRect(f,0,f+I,c.height),f+=I})}return new Uint8Array(x.getImageData(0,0,256,1).data)}};function qy(i,e,t=0,n=i.length-1,r=Y6){for(;n>t;){if(n-t>600){const c=n-t+1,x=e-t+1,A=Math.log(c),l=.5*Math.exp(2*A/3),u=.5*Math.sqrt(A*l*(c-l)/c)*(x-c/2<0?-1:1),h=Math.max(t,Math.floor(e-x*l/c+u)),f=Math.min(n,Math.floor(e+(c-x)*l/c+u));qy(i,e,h,f,r)}const s=i[e];let o=t,a=n;for(Vx(i,t,e),r(i[n],s)>0&&Vx(i,t,n);o<a;){for(Vx(i,o,a),o++,a--;r(i[o],s)<0;)o++;for(;r(i[a],s)>0;)a--}r(i[t],s)===0?Vx(i,t,a):(a++,Vx(i,a,n)),a<=e&&(t=a+1),e<=a&&(n=a-1)}}function Vx(i,e,t){const n=i[e];i[e]=i[t],i[t]=n}function Y6(i,e){return i<e?-1:i>e?1:0}let Yy=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const n=[];if(!Qu(e,t))return n;const r=this.toBBox,s=[];for(;t;){for(let o=0;o<t.children.length;o++){const a=t.children[o],c=t.leaf?r(a):a;Qu(e,c)&&(t.leaf?n.push(a):qp(e,c)?this._all(a,n):s.push(a))}t=s.pop()}return n}collides(e){let t=this.data;if(!Qu(e,t))return!1;const n=[];for(;t;){for(let r=0;r<t.children.length;r++){const s=t.children[r],o=t.leaf?this.toBBox(s):s;if(Qu(e,o)){if(t.leaf||qp(e,o))return!0;n.push(s)}}t=n.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let n=0;n<e.length;n++)this.insert(e[n]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const n=this.data;this.data=t,t=n}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=ko([]),this}remove(e,t){if(!e)return this;let n=this.data;const r=this.toBBox(e),s=[],o=[];let a,c,x;for(;n||s.length;){if(n||(n=s.pop(),c=s[s.length-1],a=o.pop(),x=!0),n.leaf){const A=H6(e,n.children,t);if(A!==-1)return n.children.splice(A,1),s.push(n),this._condense(s),this}!x&&!n.leaf&&qp(n,r)?(s.push(n),o.push(a),a=0,c=n,n=n.children[0]):c?(a++,n=c.children[a],x=!1):n=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,r){const s=n-t+1;let o=this._maxEntries,a;if(s<=o)return a=ko(e.slice(t,n+1)),Do(a,this.toBBox),a;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),a=ko([]),a.leaf=!1,a.height=r;const c=Math.ceil(s/o),x=c*Math.ceil(Math.sqrt(o));Hy(e,t,n,x,this.compareMinX);for(let A=t;A<=n;A+=x){const l=Math.min(A+x-1,n);Hy(e,A,l,c,this.compareMinY);for(let u=A;u<=l;u+=c){const h=Math.min(u+c-1,l);a.children.push(this._build(e,u,h,r-1))}}return Do(a,this.toBBox),a}_chooseSubtree(e,t,n,r){for(;r.push(t),!(t.leaf||r.length-1===n);){let s=1/0,o=1/0,a;for(let c=0;c<t.children.length;c++){const x=t.children[c],A=zp(x),l=J6(e,x)-A;l<o?(o=l,s=A<s?A:s,a=x):l===o&&A<s&&(s=A,a=x)}t=a||t.children[0]}return t}_insert(e,t,n){const r=n?e:this.toBBox(e),s=[],o=this._chooseSubtree(r,this.data,t,s);for(o.children.push(e),Kx(o,r);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(r,s,t)}_split(e,t){const n=e[t],r=n.children.length,s=this._minEntries;this._chooseSplitAxis(n,s,r);const o=this._chooseSplitIndex(n,s,r),a=ko(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,Do(n,this.toBBox),Do(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)}_splitRoot(e,t){this.data=ko([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Do(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let r,s=1/0,o=1/0;for(let a=t;a<=n-t;a++){const c=Jx(e,0,a,this.toBBox),x=Jx(e,a,n,this.toBBox),A=K6(c,x),l=zp(c)+zp(x);A<s?(s=A,r=a,o=l<o?l:o):A===s&&l<o&&(o=l,r=a)}return r||n-t}_chooseSplitAxis(e,t,n){const r=e.leaf?this.compareMinX:j6,s=e.leaf?this.compareMinY:V6,o=this._allDistMargin(e,t,n,r),a=this._allDistMargin(e,t,n,s);o<a&&e.children.sort(r)}_allDistMargin(e,t,n,r){e.children.sort(r);const s=this.toBBox,o=Jx(e,0,t,s),a=Jx(e,n-t,n,s);let c=wu(o)+wu(a);for(let x=t;x<n-t;x++){const A=e.children[x];Kx(o,e.leaf?s(A):A),c+=wu(o)}for(let x=n-t-1;x>=t;x--){const A=e.children[x];Kx(a,e.leaf?s(A):A),c+=wu(a)}return c}_adjustParentBBoxes(e,t,n){for(let r=n;r>=0;r--)Kx(t[r],e)}_condense(e){for(let t=e.length-1,n;t>=0;t--)e[t].children.length===0?t>0?(n=e[t-1].children,n.splice(n.indexOf(e[t]),1)):this.clear():Do(e[t],this.toBBox)}};function H6(i,e,t){if(!t)return e.indexOf(i);for(let n=0;n<e.length;n++)if(t(i,e[n]))return n;return-1}function Do(i,e){Jx(i,0,i.children.length,e,i)}function Jx(i,e,t,n,r){r||(r=ko(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<t;s++){const o=i.children[s];Kx(r,i.leaf?n(o):o)}return r}function Kx(i,e){return i.minX=Math.min(i.minX,e.minX),i.minY=Math.min(i.minY,e.minY),i.maxX=Math.max(i.maxX,e.maxX),i.maxY=Math.max(i.maxY,e.maxY),i}function j6(i,e){return i.minX-e.minX}function V6(i,e){return i.minY-e.minY}function zp(i){return(i.maxX-i.minX)*(i.maxY-i.minY)}function wu(i){return i.maxX-i.minX+(i.maxY-i.minY)}function J6(i,e){return(Math.max(e.maxX,i.maxX)-Math.min(e.minX,i.minX))*(Math.max(e.maxY,i.maxY)-Math.min(e.minY,i.minY))}function K6(i,e){const t=Math.max(i.minX,e.minX),n=Math.max(i.minY,e.minY),r=Math.min(i.maxX,e.maxX),s=Math.min(i.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,s-n)}function qp(i,e){return i.minX<=e.minX&&i.minY<=e.minY&&e.maxX<=i.maxX&&e.maxY<=i.maxY}function Qu(i,e){return e.minX<=i.maxX&&e.minY<=i.maxY&&e.maxX>=i.minX&&e.maxY>=i.minY}function ko(i){return{children:i,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Hy(i,e,t,n,r){const s=[e,t];for(;s.length;){if(t=s.pop(),e=s.pop(),t-e<=n)continue;const o=e+Math.ceil((t-e)/n/2)*n;qy(i,o,e,t,r),s.push(e,o,o,t)}}function Xx(i,e){const t=vu();return Xx=function(n,r){return n=n-287,t[n]},Xx(i,e)}const Yp=Xx;(function(i,e){const t=Xx,n=i();for(;;)try{if(parseInt(t(315))/1*(-parseInt(t(294))/2)+parseInt(t(291))/3+-parseInt(t(305))/4+-parseInt(t(311))/5+-parseInt(t(309))/6*(-parseInt(t(302))/7)+-parseInt(t(301))/8*(parseInt(t(307))/9)+parseInt(t(293))/10*(parseInt(t(289))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(vu,120341);function vu(){const i=["slice","10XgeznB","5740MJEmUp","isArray","setOpacity","setRadius","getStroke","getDeclutterMode","rotateWithView","632XEpWuC","7VpTUIG","getDisplacement","clone","463296LiSJhP","rotation","15219IQIZhU","radius","755886fLJPmH","getFill","438005HdYnMG","stroke","getScale","declutterMode","63yISeoO","fill","scale","4841397EpMibA","getRadius","216171HsZjFw"];return vu=function(){return i},vu()}class Mo extends go{constructor(e){const t=Xx;e=e||{radius:5},super({points:1/0,fill:e[t(287)],radius:e[t(308)],stroke:e[t(312)],scale:e[t(288)]!==void 0?e[t(288)]:1,rotation:e[t(306)]!==void 0?e[t(306)]:0,rotateWithView:e[t(300)]!==void 0?e[t(300)]:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e[t(314)]})}[Yp(304)](){const e=Yp,t=this[e(313)](),n=new Mo({fill:this[e(310)]()?this[e(310)]()[e(304)]():void 0,stroke:this[e(298)]()?this[e(298)]()[e(304)]():void 0,radius:this[e(290)](),scale:Array[e(295)](t)?t[e(292)]():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this[e(303)]()[e(292)](),declutterMode:this[e(299)]()});return n[e(296)](this.getOpacity()),n}[Yp(297)](e){this.radius=e,this.render()}}function Ru(){const i=["then","setColor","getColor","25wSaHhp","resolve","offset","2483124iHMQSu","color","size","ready","LOADING","clone","3511377RPqDNu","getImageState","slice","2437326LEBmye","color_","2xpHGNl","anonymous","isArray","src","patternImage_","IDLE","21500eHWwJx","895843vybjlH","loading","object","8629502WBWPCU","10816840sOsZfQ"];return Ru=function(){return i},Ru()}const Dr=Zx;(function(i,e){const t=Zx,n=i();for(;;)try{if(-parseInt(t(176))/1*(parseInt(t(169))/2)+parseInt(t(158))/3+-parseInt(t(175))/4*(-parseInt(t(184))/5)+parseInt(t(167))/6+-parseInt(t(179))/7+parseInt(t(180))/8+parseInt(t(164))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ru,874433);class Un{constructor(e){const t=Zx;e=e||{},this[t(173)]=null,this[t(168)]=null,e.color!==void 0&&this[t(182)](e[t(159)])}[Dr(163)](){const e=Dr,t=this.getColor();return new Un({color:Array[e(171)](t)?t[e(166)]():t||void 0})}[Dr(183)](){return this.color_}[Dr(182)](e){const t=Dr;if(e!==null&&typeof e===t(178)&&t(172)in e){const n=$2(null,e[t(172)],t(170),void 0,e[t(157)]?null:e[t(159)]?e[t(159)]:null,!(e[t(157)]&&e[t(160)]));n[t(161)]()[t(181)](()=>{const r=t;this[r(173)]=null}),n[t(165)]()===W[t(174)]&&n.load(),n[t(165)]()===W[t(162)]&&(this.patternImage_=n)}this[t(168)]=e}[Dr(177)](){return!!this[Dr(173)]}[Dr(161)](){const e=Dr;return this[e(173)]?this[e(173)][e(161)]():Promise[e(156)]()}}function Zx(i,e){const t=Ru();return Zx=function(n,r){return n=n-156,t[n]},Zx(i,e)}const me=Wx;function Wx(i,e){const t=Su();return Wx=function(n,r){return n=n-477,t[n]},Wx(i,e)}function Su(){const i=["color","miterLimit","setLineJoin","miterLimit_","1tQgzwt","width_","getLineJoin","slice","lineCap_","4732931uNssbb","1708242jGfSbM","getMiterLimit","getWidth","setLineDashOffset","lineDash","width","color_","lineDashOffset_","lineJoin","clone","setColor","1489840yhBIOT","lineDashOffset","lineJoin_","1338412NUKMBu","5BYxmjj","1675540ImcLUU","27CVcXWz","6mNDzZE","getLineDash","setLineDash","getLineDashOffset","getLineCap","lineCap","597832azhEbv","lineDash_","setLineCap","7650929CUqvlT"];return Su=function(){return i},Su()}(function(i,e){const t=Wx,n=i();for(;;)try{if(-parseInt(t(494))/1*(-parseInt(t(486))/2)+-parseInt(t(480))/3*(-parseInt(t(514))/4)+-parseInt(t(477))/5*(parseInt(t(500))/6)+parseInt(t(499))/7+parseInt(t(511))/8+-parseInt(t(479))/9*(parseInt(t(478))/10)+-parseInt(t(489))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Su,347577);class Qn{constructor(e){const t=Wx;e=e||{},this.color_=e[t(490)]!==void 0?e[t(490)]:null,this[t(498)]=e[t(485)],this[t(487)]=e[t(504)]!==void 0?e.lineDash:null,this[t(507)]=e[t(512)],this[t(513)]=e[t(508)],this.miterLimit_=e[t(491)],this[t(495)]=e[t(505)]}[me(509)](){const e=me,t=this.getColor();return new Qn({color:Array.isArray(t)?t[e(497)]():t||void 0,lineCap:this[e(484)](),lineDash:this.getLineDash()?this[e(481)]()[e(497)]():void 0,lineDashOffset:this[e(483)](),lineJoin:this[e(496)](),miterLimit:this[e(501)](),width:this[e(502)]()})}getColor(){return this.color_}getLineCap(){return this[me(498)]}[me(481)](){return this.lineDash_}getLineDashOffset(){return this[me(507)]}[me(496)](){return this[me(513)]}[me(501)](){return this[me(493)]}[me(502)](){return this[me(495)]}[me(510)](e){const t=me;this[t(506)]=e}[me(488)](e){const t=me;this[t(498)]=e}[me(482)](e){const t=me;this[t(487)]=e}[me(503)](e){const t=me;this[t(507)]=e}[me(492)](e){const t=me;this[t(513)]=e}setMiterLimit(e){const t=me;this[t(493)]=e}setWidth(e){const t=me;this[t(495)]=e}}const Gt=$x;(function(i,e){const t=$x,n=i();for(;;)try{if(parseInt(t(408))/1*(-parseInt(t(381))/2)+parseInt(t(403))/3+parseInt(t(390))/4*(-parseInt(t(388))/5)+parseInt(t(378))/6+parseInt(t(402))/7*(-parseInt(t(368))/8)+-parseInt(t(399))/9*(parseInt(t(397))/10)+parseInt(t(369))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Du,616653);function $x(i,e){const t=Du();return $x=function(n,r){return n=n-357,t[n]},$x(i,e)}class Mt{constructor(e){const t=$x;e=e||{},this.geometry_=null,this[t(389)]=Vy,e[t(374)]!==void 0&&this.setGeometry(e[t(374)]),this[t(396)]=e[t(400)]!==void 0?e[t(400)]:null,this.image_=e[t(387)]!==void 0?e[t(387)]:null,this[t(393)]=e[t(359)]!==void 0?e[t(359)]:null,this[t(385)]=e[t(365)]!==void 0?e[t(365)]:null,this[t(394)]=e[t(384)]!==void 0?e[t(384)]:null,this[t(379)]=e[t(371)]!==void 0?e.text:null,this[t(398)]=e[t(357)]}[Gt(373)](){const e=Gt;let t=this[e(362)]();return t&&typeof t===e(409)&&(t=t[e(373)]()),new Mt({geometry:t??void 0,fill:this.getFill()?this[e(401)]().clone():void 0,image:this[e(376)]()?this.getImage()[e(373)]():void 0,renderer:this[e(406)]()??void 0,stroke:this.getStroke()?this.getStroke()[e(373)]():void 0,text:this[e(366)]()?this[e(366)]().clone():void 0,zIndex:this[e(413)]()})}[Gt(406)](){return this[Gt(393)]}[Gt(370)](e){const t=Gt;this[t(393)]=e}[Gt(407)](e){const t=Gt;this[t(385)]=e}getHitDetectionRenderer(){return this[Gt(385)]}[Gt(362)](){return this.geometry_}[Gt(358)](){return this[Gt(389)]}[Gt(401)](){return this[Gt(396)]}[Gt(412)](e){this.fill_=e}getImage(){return this.image_}[Gt(363)](e){const t=Gt;this[t(383)]=e}[Gt(372)](){return this.stroke_}[Gt(410)](e){const t=Gt;this[t(394)]=e}[Gt(366)](){return this[Gt(379)]}[Gt(395)](e){this.text_=e}[Gt(413)](){return this[Gt(398)]}[Gt(391)](e){const t=Gt;typeof e===t(380)?this.geometryFunction_=e:typeof e===t(377)?this.geometryFunction_=function(n){return n[t(411)](e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this[t(389)]=Vy,this.geometry_=e}[Gt(364)](e){const t=Gt;this[t(398)]=e}}function X6(i){const e=Gt;let t;if(typeof i===e(380))t=i;else{let n;Array[e(386)](i)?n=i:(Qt(typeof i.getZIndex===e(380),e(360)),n=[i]),t=function(){return n}}return t}let Hp=null;function jy(i,e){if(!Hp){const t=new Un({color:"rgba(255,255,255,0.4)"}),n=new Qn({color:"#3399CC",width:1.25});Hp=[new Mt({image:new Mo({fill:t,stroke:n,radius:5}),fill:t,stroke:n})]}return Hp}function Du(){const i=["setRenderer","text","getStroke","clone","geometry","MultiPolygon","getImage","string","6662808oueiIY","text_","function","12994IJScxa","MultiPoint","image_","stroke","hitDetectionRenderer_","isArray","image","30CORHyW","geometryFunction_","343612rASHuR","setGeometry","Polygon","renderer_","stroke_","setText","fill_","890VuepAb","zIndex_","110709PcjAVH","fill","getFill","317261ciMrRq","927408kBGYlC","Point","concat","getRenderer","setHitDetectionRenderer","29rEUjDT","object","setStroke","get","setFill","getZIndex","zIndex","getGeometryFunction","renderer","Expected an `Style` or an array of `Style`","GeometryCollection","getGeometry","setImage","setZIndex","hitDetectionRenderer","getText","LineString","80sIxRHt","15937889kpPFeT"];return Du=function(){return i},Du()}function Vy(i){return i[Gt(362)]()}const ee=Fo;(function(i,e){const t=Fo,n=i();for(;;)try{if(-parseInt(t(411))/1+parseInt(t(378))/2*(parseInt(t(387))/3)+parseInt(t(359))/4+-parseInt(t(395))/5*(-parseInt(t(412))/6)+parseInt(t(356))/7+-parseInt(t(396))/8*(-parseInt(t(399))/9)+-parseInt(t(417))/10*(parseInt(t(383))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ku,613408);function Fo(i,e){const t=ku();return Fo=function(n,r){return n=n-355,t[n]},Fo(i,e)}function ku(){const i=["9835443VpnvIX","origin_","offsetOrigin_","unlistenImageChange","getHitDetectionImage","getImage","anchor","rotation","getSize","offsetOrigin","addEventListener","scale","1044676YfMmrN","48LCPnmS","offset_","displacement","img","size_","214930WgILsa","src","bottom-left","rotateWithView","length","anchorOrigin_","getOpacity","anchorXUnits_","offset","`width` or `height` cannot be provided together with `scale`","setScale","normalizedAnchor_","getWidth","bottom-right","fraction","height","top-left","1775249wJuSEE","iconImage_","getHeight","328564UoKoFr","getDisplacement","getAnchor","getScaleArray","LOADED","CHANGE","LOADING","getRotation","size","anchorYUnits","getOrigin","opacity","color","anchorOrigin","anchor_","`image` and `src` cannot be provided at the same time","setAnchor","ready","getSrc","122DLPAXz","anchorYUnits_","getRotateWithView","declutterMode","width","187lTsYmk","crossOrigin_","removeEventListener","crossOrigin","20334SCcGLt","top-right","getScale","getColor","getImageState","slice","color_","complete","113395noeGDn","8aGVRjX","initialOptions_","IDLE"];return ku=function(){return i},ku()}function Jy(i,e,t,n){return t!==void 0&&n!==void 0?[t/i,n/e]:t!==void 0?t/i:n!==void 0?n/e:1}class us extends cx{constructor(e){const t=Fo;e=e||{};const n=e[t(370)]!==void 0?e[t(370)]:1,r=e[t(406)]!==void 0?e.rotation:0,s=e[t(410)]!==void 0?e[t(410)]:1,o=e[t(420)]!==void 0?e[t(420)]:!1;super({opacity:n,rotation:r,scale:s,displacement:e[t(414)]!==void 0?e.displacement:[0,0],rotateWithView:o,declutterMode:e[t(381)]}),this.anchor_=e[t(405)]!==void 0?e[t(405)]:[.5,.5],this[t(428)]=null,this[t(422)]=e[t(372)]!==void 0?e[t(372)]:t(355),this[t(424)]=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this[t(379)]=e[t(368)]!==void 0?e[t(368)]:t(431),this[t(384)]=e[t(386)]!==void 0?e[t(386)]:null;const a=e[t(415)]!==void 0?e.img:null;let c=e.src;Qt(!(c!==void 0&&a),t(374)),(c===void 0||c[t(421)]===0)&&a&&(c=a[t(418)]||ct(a)),Qt(c!==void 0&&c[t(421)]>0,"A defined and non-empty `src` or `image` must be provided"),Qt(!((e[t(382)]!==void 0||e[t(432)]!==void 0)&&e.scale!==void 0),t(426));let x;if(e[t(418)]!==void 0?x=W[t(398)]:a!==void 0&&(t(394)in a?a[t(394)]?x=a[t(418)]?W.LOADED:W[t(398)]:x=W[t(365)]:x=W[t(363)]),this[t(393)]=e[t(371)]!==void 0?ux(e[t(371)]):null,this[t(357)]=$2(a,c,this.crossOrigin_,x,this[t(393)]),this.offset_=e[t(425)]!==void 0?e[t(425)]:[0,0],this[t(401)]=e[t(408)]!==void 0?e[t(408)]:t(355),this.origin_=null,this.size_=e[t(367)]!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e[t(432)]!==void 0){let A,l;if(e.size)[A,l]=e[t(367)];else{const u=this.getImage(1);if(u[t(382)]&&u[t(432)])A=u.width,l=u.height;else if(u instanceof HTMLImageElement){this[t(397)]=e;const h=()=>{const f=t;if(this[f(402)](h),!this[f(397)])return;const g=this.iconImage_.getSize();this[f(427)](Jy(g[0],g[1],e[f(382)],e.height))};this.listenImageChange(h);return}}A!==void 0&&this[t(427)](Jy(A,l,e[t(382)],e.height))}}clone(){const e=Fo;let t,n,r;return this[e(397)]?(n=this[e(397)][e(382)],r=this.initialOptions_[e(432)]):(t=this[e(389)](),t=Array.isArray(t)?t[e(392)]():t),new us({anchor:this[e(373)][e(392)](),anchorOrigin:this[e(422)],anchorXUnits:this[e(424)],anchorYUnits:this[e(379)],color:this[e(393)]&&this[e(393)].slice?this[e(393)].slice():this[e(393)]||void 0,crossOrigin:this[e(384)],offset:this[e(413)].slice(),offsetOrigin:this[e(401)],opacity:this[e(423)](),rotateWithView:this[e(380)](),rotation:this[e(366)](),scale:t,width:n,height:r,size:this[e(416)]!==null?this.size_.slice():void 0,src:this[e(377)](),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}[ee(361)](){const e=ee;let t=this[e(428)];if(!t){t=this[e(373)];const s=this[e(407)]();if(this[e(424)]==e(431)||this[e(379)]==e(431)){if(!s)return null;t=this[e(373)][e(392)](),this.anchorXUnits_=="fraction"&&(t[0]*=s[0]),this[e(379)]=="fraction"&&(t[1]*=s[1])}if(this[e(422)]!="top-left"){if(!s)return null;t===this[e(373)]&&(t=this[e(373)][e(392)]()),(this[e(422)]==e(388)||this[e(422)]==e(430))&&(t[0]=-t[0]+s[0]),(this[e(422)]==e(419)||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+s[1])}this[e(428)]=t}const n=this[e(360)](),r=this[e(362)]();return[t[0]-n[0]/r[0],t[1]+n[1]/r[1]]}[ee(375)](e){const t=ee;this[t(373)]=e,this[t(428)]=null}[ee(390)](){return this[ee(393)]}[ee(404)](e){return this[ee(357)].getImage(e)}getPixelRatio(e){return this[ee(357)].getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}[ee(391)](){const e=ee;return this[e(357)][e(391)]()}[ee(403)](){return this.iconImage_.getHitDetectionImage()}[ee(369)](){const e=ee;if(this.origin_)return this[e(400)];let t=this[e(413)];if(this[e(401)]!="top-left"){const n=this[e(407)](),r=this.iconImage_[e(407)]();if(!n||!r)return null;t=t[e(392)](),(this.offsetOrigin_==e(388)||this.offsetOrigin_==e(430))&&(t[0]=r[0]-n[0]-t[0]),(this[e(401)]==e(419)||this[e(401)]==e(430))&&(t[1]=r[1]-n[1]-t[1])}return this.origin_=t,this[e(400)]}[ee(377)](){return this[ee(357)].getSrc()}getSize(){const e=ee;return this.size_?this[e(416)]:this[e(357)][e(407)]()}[ee(429)](){const e=ee,t=this[e(362)]();if(this[e(416)])return this[e(416)][0]*t[0];if(this[e(357)][e(391)]()==W[e(363)])return this.iconImage_[e(407)]()[0]*t[0]}[ee(358)](){const e=ee,t=this.getScaleArray();if(this.size_)return this[e(416)][1]*t[1];if(this[e(357)].getImageState()==W[e(363)])return this[e(357)][e(407)]()[1]*t[1]}[ee(427)](e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){const t=ee;this[t(357)][t(409)](rt.CHANGE,e)}load(){this[ee(357)].load()}[ee(402)](e){const t=ee;this.iconImage_[t(385)](rt[t(364)],e)}ready(){const e=ee;return this[e(357)][e(376)]()}}const Z=To;(function(i,e){const t=To,n=i();for(;;)try{if(parseInt(t(361))/1+parseInt(t(338))/2+parseInt(t(402))/3+-parseInt(t(329))/4*(-parseInt(t(391))/5)+-parseInt(t(407))/6+parseInt(t(378))/7*(parseInt(t(381))/8)+-parseInt(t(398))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Mu,437384);function To(i,e){const t=Mu();return To=function(n,r){return n=n-326,t[n]},To(i,e)}function Mu(){const i=["declutterMode_","repeat_","setScale","textBaseline_","setJustify","getTextBaseline","getOffsetX","setPlacement","offsetY","backgroundStroke_","backgroundFill","repeat","isArray","rotateWithView_","getMaxAngle","font_","scale_","setOffsetX","padding","placement_","textAlign","593411SqyIxL","offsetX","slice","maxAngle","getBackgroundFill","setRepeat","setFill","getFill","rotation_","getDeclutterMode","offsetY_","getOverflow","setOverflow","getRepeat","scaleArray_","offsetX_","setTextAlign","2051vxLoRb","point","getScaleArray","13880tzbGTD","getRotateWithView","justify_","justify","setMaxAngle","getOffsetY","getScale","backgroundStroke","textBaseline","stroke_","795poRBGX","setBackgroundFill","stroke","setTextBaseline","getJustify","declutterMode","setOffsetY","7502607GwebXy","fill_","padding_","getStroke","246273qNghAp","backgroundFill_","font","getPlacement","getFont","4886274XbAxMh","fill","placement","setBackgroundStroke","rotation","setRotateWithView","setStroke","maxAngle_","clone","getTextAlign","textAlign_","12308fmahym","getPadding","rotateWithView","scale","getBackgroundStroke","getRotation","overflow_","text_","getText","824572GEsiMZ","text"];return Mu=function(){return i},Mu()}const Z6="#333";class tc{constructor(e){const t=To;e=e||{},this[t(355)]=e[t(404)],this.rotation_=e[t(411)],this.rotateWithView_=e[t(331)],this[t(356)]=e[t(332)],this[t(375)]=Pe(e[t(332)]!==void 0?e[t(332)]:1),this[t(336)]=e[t(339)],this[t(328)]=e[t(360)],this[t(383)]=e[t(384)],this.repeat_=e[t(351)],this[t(343)]=e[t(389)],this.fill_=e.fill!==void 0?e[t(408)]:new Un({color:Z6}),this[t(414)]=e[t(364)]!==void 0?e[t(364)]:Math.PI/4,this[t(359)]=e[t(409)]!==void 0?e.placement:t(379),this[t(335)]=!!e.overflow,this[t(390)]=e.stroke!==void 0?e[t(393)]:null,this[t(376)]=e.offsetX!==void 0?e[t(362)]:0,this.offsetY_=e[t(348)]!==void 0?e.offsetY:0,this.backgroundFill_=e[t(350)]?e[t(350)]:null,this.backgroundStroke_=e.backgroundStroke?e[t(388)]:null,this[t(400)]=e[t(358)]===void 0?null:e[t(358)],this[t(340)]=e[t(396)]}clone(){const e=To,t=this[e(387)]();return new tc({font:this[e(406)](),placement:this.getPlacement(),repeat:this[e(374)](),maxAngle:this[e(354)](),overflow:this[e(372)](),rotation:this[e(334)](),rotateWithView:this[e(382)](),scale:Array[e(352)](t)?t[e(363)]():t,text:this[e(337)](),textAlign:this[e(327)](),justify:this[e(395)](),textBaseline:this.getTextBaseline(),fill:this[e(368)]()?this[e(368)]()[e(326)]():void 0,stroke:this[e(401)]()?this[e(401)]()[e(326)]():void 0,offsetX:this.getOffsetX(),offsetY:this[e(386)](),backgroundFill:this[e(365)]()?this[e(365)]()[e(326)]():void 0,backgroundStroke:this[e(333)]()?this[e(333)]()[e(326)]():void 0,padding:this[e(330)]()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}[Z(406)](){return this.font_}[Z(354)](){return this[Z(414)]}[Z(405)](){return this[Z(359)]}[Z(374)](){return this[Z(341)]}[Z(346)](){return this[Z(376)]}[Z(386)](){return this[Z(371)]}[Z(368)](){return this[Z(399)]}[Z(382)](){return this[Z(353)]}[Z(334)](){return this.rotation_}getScale(){return this[Z(356)]}[Z(380)](){return this[Z(375)]}getStroke(){return this[Z(390)]}[Z(337)](){return this[Z(336)]}getTextAlign(){return this.textAlign_}[Z(395)](){return this[Z(383)]}[Z(345)](){return this[Z(343)]}getBackgroundFill(){return this[Z(403)]}[Z(333)](){return this[Z(349)]}[Z(330)](){return this.padding_}[Z(370)](){return this[Z(340)]}[Z(373)](e){const t=Z;this[t(335)]=e}setFont(e){const t=Z;this[t(355)]=e}[Z(385)](e){const t=Z;this[t(414)]=e}[Z(357)](e){const t=Z;this[t(376)]=e}[Z(397)](e){const t=Z;this[t(371)]=e}[Z(347)](e){const t=Z;this[t(359)]=e}[Z(366)](e){const t=Z;this[t(341)]=e}[Z(412)](e){this.rotateWithView_=e}[Z(367)](e){const t=Z;this[t(399)]=e}setRotation(e){const t=Z;this[t(369)]=e}[Z(342)](e){const t=Z;this[t(356)]=e,this.scaleArray_=Pe(e!==void 0?e:1)}[Z(413)](e){const t=Z;this[t(390)]=e}setText(e){const t=Z;this[t(336)]=e}[Z(377)](e){const t=Z;this[t(328)]=e}[Z(344)](e){const t=Z;this[t(383)]=e}[Z(394)](e){const t=Z;this[t(343)]=e}[Z(392)](e){const t=Z;this[t(403)]=e}[Z(410)](e){const t=Z;this[t(349)]=e}setPadding(e){const t=Z;this[t(400)]=e}}const J=ds;(function(i,e){const t=ds,n=i();for(;;)try{if(-parseInt(t(451))/1+parseInt(t(544))/2+-parseInt(t(421))/3+parseInt(t(495))/4*(-parseInt(t(537))/5)+-parseInt(t(503))/6+-parseInt(t(468))/7+-parseInt(t(458))/8*(-parseInt(t(517))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Tu,462002);let hs=0;const vn=1<<hs++,vt=1<<hs++,On=1<<hs++,Ti=1<<hs++,fs=1<<hs++,ec=1<<hs++,Fu=Math[J(526)](2,hs)-1;function ds(i,e){const t=Tu();return ds=function(n,r){return n=n-414,t[n]},ds(i,e)}const jp={[vn]:J(457),[vt]:J(449),[On]:J(416),[Ti]:J(448),[fs]:J(444),[ec]:J(516)},W6=Object.keys(jp)[J(480)](Number)[J(540)](Ji);function $6(i){return i in jp}function nc(i){const e=J,t=[];for(const n of W6)ic(i,n)&&t[e(520)](jp[n]);return t[e(432)]===0?e(529):t[e(432)]<3?t[e(447)](" or "):t[e(521)](0,-1)[e(447)](", ")+e(492)+t[t[e(432)]-1]}function ic(i,e){return(i&e)===e}function h0(i,e){return i===e}class Oe{constructor(e,t){const n=J;if(!$6(e))throw new Error(n(506)+nc(e));this[n(507)]=e,this[n(479)]=t}}class tQ{constructor(e,t,...n){const r=J;this[r(507)]=e,this[r(473)]=t,this.args=n}}function Ky(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function en(i,e,t){const n=J;switch(typeof i){case"boolean":{if(h0(e,On))return new Oe(On,n(i?439:440));if(!ic(e,vn))throw new Error(n(541)+nc(e));return new Oe(vn,i)}case n(449):{if(h0(e,ec))return new Oe(ec,Pe(i));if(h0(e,vn))return new Oe(vn,!!i);if(h0(e,On))return new Oe(On,i[n(428)]());if(!ic(e,vt))throw new Error(n(485)+nc(e));return new Oe(vt,i)}case"string":{if(h0(e,Ti))return new Oe(Ti,V2(i));if(h0(e,vn))return new Oe(vn,!!i);if(!ic(e,On))throw new Error("got a string, but expected "+nc(e));return new Oe(On,i)}}if(!Array[n(525)](i))throw new Error(n(466));if(i[n(432)]===0)throw new Error(n(531));if(typeof i[0]===n(416))return lQ(i,e,t);for(const r of i)if(typeof r!==n(449))throw new Error(n(534));if(h0(e,ec)){if(i[n(432)]!==2)throw new Error(n(434)+i[n(432)]);return new Oe(ec,i)}if(h0(e,Ti)){if(i[n(432)]===3)return new Oe(Ti,[...i,1]);if(i[n(432)]===4)return new Oe(Ti,i);throw new Error(n(486)+i[n(432)])}if(!ic(e,fs))throw new Error("got an array of numbers, but expected "+nc(e));return new Oe(fs,i)}const N={Get:"get",Var:J(446),Concat:J(431),GeometryType:J(519),LineMetric:J(463),Any:"any",All:J(528),Not:"!",Resolution:J(538),Zoom:J(489),Time:J(539),Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:J(508),Mod:"%",Pow:"^",Abs:"abs",Floor:J(518),Ceil:"ceil",Round:"round",Sin:J(505),Cos:"cos",Atan:J(450),Sqrt:J(443),Match:J(493),Between:J(487),Interpolate:"interpolate",Coalesce:J(543),Case:"case",In:"in",Number:"number",String:J(416),Array:J(500),Color:J(448),Id:"id",Band:J(482),Palette:J(536),ToString:J(484),Has:J(496)},eQ={[N.Get]:at(gt(1,1/0),Xy),[N[J(532)]]:at(gt(1,1),nQ),[N[J(530)]]:at(gt(1,1/0),Xy),[N.Id]:at(iQ,Lo),[N[J(499)]]:at(gt(2,1/0),Nt(On)),[N[J(470)]]:at(rQ,Lo),[N.LineMetric]:at(Lo),[N[J(502)]]:at(Lo),[N[J(415)]]:at(Lo),[N[J(417)]]:at(Lo),[N.Any]:at(gt(2,1/0),Nt(vn)),[N.All]:at(gt(2,1/0),Nt(vn)),[N.Not]:at(gt(1,1),Nt(vn)),[N[J(527)]]:at(gt(2,2),Nt(Fu)),[N[J(456)]]:at(gt(2,2),Nt(Fu)),[N[J(445)]]:at(gt(2,2),Nt(vt)),[N.GreaterThanOrEqualTo]:at(gt(2,2),Nt(vt)),[N[J(471)]]:at(gt(2,2),Nt(vt)),[N[J(523)]]:at(gt(2,2),Nt(vt)),[N.Multiply]:at(gt(2,1/0),Zy),[N[J(436)]]:at(gt(2,1/0),Zy),[N[J(483)]]:at(gt(2,2),Nt(vt)),[N[J(464)]]:at(gt(2,1/0),Nt(vt)),[N[J(477)]]:at(gt(2,2),Nt(vt)),[N[J(452)]]:at(gt(3,3),Nt(vt)),[N[J(542)]]:at(gt(2,2),Nt(vt)),[N[J(478)]]:at(gt(2,2),Nt(vt)),[N[J(438)]]:at(gt(1,1),Nt(vt)),[N.Floor]:at(gt(1,1),Nt(vt)),[N[J(513)]]:at(gt(1,1),Nt(vt)),[N[J(490)]]:at(gt(1,1),Nt(vt)),[N[J(474)]]:at(gt(1,1),Nt(vt)),[N[J(430)]]:at(gt(1,1),Nt(vt)),[N[J(460)]]:at(gt(1,2),Nt(vt)),[N.Sqrt]:at(gt(1,1),Nt(vt)),[N[J(433)]]:at(gt(4,1/0),Wy,oQ),[N[J(419)]]:at(gt(3,3),Nt(vt)),[N.Interpolate]:at(gt(6,1/0),Wy,aQ),[N[J(420)]]:at(gt(3,1/0),sQ,xQ),[N.In]:at(gt(2,2),cQ),[N[J(512)]]:at(gt(1,1/0),Nt(Fu)),[N.String]:at(gt(1,1/0),Nt(Fu)),[N[J(501)]]:at(gt(1,1/0),Nt(vt)),[N.Color]:at(gt(1,4),Nt(vt)),[N[J(418)]]:at(gt(1,3),Nt(vt)),[N[J(545)]]:at(gt(2,2),AQ),[N[J(515)]]:at(gt(1,1),Nt(vn|vt|On|Ti))};function Xy(i,e,t){const n=J,r=i[n(432)]-1,s=new Array(r);for(let o=0;o<r;++o){const a=i[o+1];switch(typeof a){case n(449):{s[o]=new Oe(vt,a);break}case n(416):{s[o]=new Oe(On,a);break}default:throw new Error(n(524)+a)}o===0&&t[n(494)][n(462)](String(a))}return s}function nQ(i,e,t){const n=J,r=i[1];if(typeof r!==n(416))throw new Error("expected a string argument for var operation");return t[n(442)][n(462)](r),[new Oe(On,r)]}function iQ(i,e,t){t.featureId=!0}function Tu(){const i=["expected an array of 3 or 4 values for a color, got ","between","failed to parse first argument in palette expression: ","zoom","Round"," to ",", or ","match","properties","7132VsloYu","has",'failed to parse "in" expression: the literal operator must be followed by an array',"substring","Concat","array","Array","Resolution","3893712ftPcbB","failed to parse argument ","sin","literal expressions must have a specific type, got ","type","clamp",", got ","expected last argument validator to return the parsed args","the second argument of palette must be an array","Number","Ceil","failed to parse argument 1 in interpolate expression: ","ToString","size","486jXgzSE","floor","geometry-type","push","slice","MultiPolygon","LessThanOrEqualTo","expected a string key or numeric array index for a get operation, got ","isArray","pow","Equal","all","untyped","Has","empty expression","Var","expected ","expected an array of numbers","Polygon","palette","1655vgtmXt","resolution","time","sort","got a boolean, but expected ","Mod","coalesce","1321120gaDigh","Palette"," or more","MultiPoint","getType","Zoom","string","Time","Band","Between","Case","2750409JapWcw"," of match expression: "," of case expression: ","exponential","expected an even number of arguments for operation ","GeometryCollection"," for interpolate expression: ","toString","Circle","Cos","concat","length","Match","expected an array of two values for a size, got ","Point","Coalesce"," instead","Abs","true","false"," in palette expression: ","variables","sqrt","number[]","GreaterThan","var","join","color","number","atan","293985MSPmcA","Clamp",'the second argument for the "in" operator must be an array'," arguments for "," operation","NotEqual","boolean","386264sLPETO","unknown operator: ","Atan",' for "in" expression: ',"add","line-metric","Add","message","expression must be an array or a primitive value","invalid interpolation type: ","2491489KsguIS","stringify","GeometryType","LessThan","expected an odd number of arguments for ","operator","Sin","LineString","the palette color at index ","Subtract","Pow","value","map"," argument","band","Divide","to-string","got a number, but expected "];return Tu=function(){return i},Tu()}function rQ(i,e,t){t.geometryType=!0}function Lo(i,e,t){const n=J,r=i[0];if(i.length!==1)throw new Error("expected no arguments for "+r+n(455));return[]}function gt(i,e){return function(t,n,r){const s=ds,o=t[0],a=t[s(432)]-1;if(i===e){if(a!==i){const c=i===1?"":"s";throw new Error(s(533)+i+s(481)+c+" for "+o+s(509)+a)}}else if(a<i||a>e){const c=e===1/0?i+s(546):i+s(491)+e;throw new Error(s(533)+c+s(454)+o+s(509)+a)}}}function Zy(i,e,t){const n=i.length-1,r=new Array(n);for(let s=0;s<n;++s){const o=en(i[s+1],e,t);r[s]=o}return r}function Nt(i){return function(e,t,n){const r=ds,s=e[r(432)]-1,o=new Array(s);for(let a=0;a<s;++a){const c=en(e[a+1],i,n);o[a]=c}return o}}function sQ(i,e,t){const n=J,r=i[0],s=i[n(432)]-1;if(s%2===0)throw new Error(n(472)+r+n(509)+s+" instead")}function Wy(i,e,t){const n=J,r=i[0],s=i[n(432)]-1;if(s%2===1)throw new Error(n(425)+r+n(509)+s+n(437))}function oQ(i,e,t){const n=J,r=i[n(432)]-1,s=On|vt|vn,o=en(i[1],s,t),a=en(i[i[n(432)]-1],e,t),c=new Array(r-2);for(let x=0;x<r-2;x+=2){try{const A=en(i[x+2],o[n(507)],t);c[x]=A}catch(A){throw new Error(n(504)+(x+1)+n(422)+A[n(465)])}try{const A=en(i[x+3],a[n(507)],t);c[x+1]=A}catch(A){throw new Error(n(504)+(x+2)+n(422)+A[n(465)])}}return[o,...c,a]}function aQ(i,e,t){const n=J,r=i[1];let s;switch(r[0]){case"linear":s=1;break;case n(424):const x=r[1];if(typeof x!==n(449)||x<=0)throw new Error("expected a number base for exponential interpolation"+(n(509)+JSON.stringify(x)+n(437)));s=x;break;default:throw new Error(n(467)+JSON[n(469)](r))}const o=new Oe(vt,s);let a;try{a=en(i[2],vt,t)}catch(x){throw new Error(n(514)+x[n(465)])}const c=new Array(i[n(432)]-3);for(let x=0;x<c.length;x+=2){try{const A=en(i[x+3],vt,t);c[x]=A}catch(A){throw new Error(n(504)+(x+2)+n(427)+A.message)}try{const A=en(i[x+4],e,t);c[x+1]=A}catch(A){throw new Error(n(504)+(x+3)+n(427)+A[n(465)])}}return[o,a,...c]}function xQ(i,e,t){const n=J,r=en(i[i[n(432)]-1],e,t),s=new Array(i[n(432)]-1);for(let o=0;o<s[n(432)]-1;o+=2){try{const a=en(i[o+1],vn,t);s[o]=a}catch(a){throw new Error(n(504)+o+" of case expression: "+a[n(465)])}try{const a=en(i[o+2],r[n(507)],t);s[o+1]=a}catch(a){throw new Error(n(504)+(o+1)+n(423)+a.message)}}return s[s[n(432)]-1]=r,s}function cQ(i,e,t){const n=J;let r=i[2];if(!Array[n(525)](r))throw new Error(n(453));let s;if(typeof r[0]===n(416)){if(r[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array[n(525)](r[1]))throw new Error(n(497));r=r[1],s=On}else s=vt;const o=new Array(r[n(432)]);for(let c=0;c<o[n(432)];c++)try{const x=en(r[c],s,t);o[c]=x}catch(x){throw new Error("failed to parse haystack item "+c+n(461)+x[n(465)])}return[en(i[1],s,t),...o]}function AQ(i,e,t){const n=J;let r;try{r=en(i[1],vt,t)}catch(a){throw new Error(n(488)+a[n(465)])}const s=i[2];if(!Array.isArray(s))throw new Error(n(511));const o=new Array(s.length);for(let a=0;a<o.length;a++){let c;try{c=en(s[a],Ti,t)}catch(x){throw new Error("failed to parse color at index "+a+n(441)+x[n(465)])}if(!(c instanceof Oe))throw new Error(n(476)+a+" must be a literal value");o[a]=c}return[r,...o]}function at(...i){return function(e,t,n){const r=ds,s=e[0];let o;for(let a=0;a<i.length;a++){const c=i[a](e,t,n);if(a==i.length-1){if(!c)throw new Error(r(510));o=c}}return new tQ(t,s,...o)}}function lQ(i,e,t){const n=J,r=i[0],s=eQ[r];if(!s)throw new Error(n(459)+r);return s(i,e,t)}function $y(i){const e=J;if(!i)return"";const t=i[e(414)]();switch(t){case e(435):case e(475):case e(535):return t;case e(547):case"MultiLineString":case e(522):return t[e(498)](5);case e(429):return"Polygon";case e(426):return $y(i.getGeometries()[0]);default:return""}}function zn(i,e){const t=Lu();return zn=function(n,r){return n=n-476,t[n]},zn(i,e)}(function(i,e){const t=zn,n=i();for(;;)try{if(parseInt(t(494))/1+-parseInt(t(496))/2*(-parseInt(t(551))/3)+-parseInt(t(526))/4*(-parseInt(t(547))/5)+parseInt(t(519))/6*(parseInt(t(486))/7)+parseInt(t(498))/8+parseInt(t(536))/9*(-parseInt(t(550))/10)+-parseInt(t(528))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Lu,315660);function tC(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function kr(i,e,t){const n=en(i,e,t);return Li(n)}function Li(i,e){const t=zn;if(i instanceof Oe){if(i[t(508)]===Ti&&typeof i[t(544)]===t(535)){const r=V2(i[t(544)]);return function(){return r}}return function(){return i[t(544)]}}const n=i.operator;switch(n){case N[t(546)]:case N.String:case N[t(552)]:return uQ(i);case N[t(500)]:case N[t(515)]:case N.Has:return hQ(i);case N.Id:return r=>r[t(516)];case N[t(478)]:return r=>r[t(542)];case N[t(555)]:{const r=i[t(493)][t(520)](s=>Li(s));return s=>""[t(527)](...r[t(520)](o=>o(s)[t(554)]()))}case N[t(524)]:return r=>r[t(521)];case N[t(531)]:case N.All:case N.Between:case N.In:case N[t(538)]:return dQ(i);case N[t(482)]:case N[t(491)]:case N[t(514)]:case N[t(497)]:case N[t(540)]:case N[t(534)]:return fQ(i);case N[t(530)]:case N[t(495)]:case N[t(492)]:case N[t(489)]:case N[t(480)]:case N[t(509)]:case N[t(553)]:case N[t(543)]:case N[t(502)]:case N.Ceil:case N[t(545)]:case N[t(487)]:case N[t(548)]:case N.Atan:case N[t(511)]:return gQ(i);case N.Case:return pQ(i);case N[t(477)]:return IQ(i);case N[t(510)]:return _Q(i);case N[t(518)]:return mQ(i);default:throw new Error(t(506)+n)}}function uQ(i,e){const t=zn,n=i.operator,r=i[t(493)].length,s=new Array(r);for(let o=0;o<r;++o)s[o]=Li(i.args[o]);switch(n){case N[t(552)]:return o=>{const a=t;for(let c=0;c<r;++c){const x=s[c](o);if(typeof x!==a(483)&&x!==null)return x}throw new Error(a(504))};case N[t(546)]:case N[t(549)]:return o=>{const a=t;for(let c=0;c<r;++c){const x=s[c](o);if(typeof x===n)return x}throw new Error(a(539)+n)};default:throw new Error(t(533)+n)}}function hQ(i,e){const t=zn,n=i.args[0],r=n.value;switch(i.operator){case N[t(500)]:return s=>{const o=t,a=i[o(493)];let c=s.properties[r];for(let x=1,A=a[o(481)];x<A;++x){const l=a[x],u=l.value;c=c[u]}return c};case N[t(515)]:return s=>s[t(476)][r];case N[t(501)]:return s=>{const o=t,a=i[o(493)];if(!(r in s[o(499)]))return!1;let c=s[o(499)][r];for(let x=1,A=a[o(481)];x<A;++x){const l=a[x],u=l[o(544)];if(!c||!Object[o(525)](c,u))return!1;c=c[u]}return!0};default:throw new Error(t(537)+i[t(479)])}}function Lu(){const i=["ceil","35hDpGSo","Sin","All","Subtract","Unsupported convert operator ","NotEqual","Add","args","577793nTpdbs","Divide","4pDIdiw","LessThanOrEqualTo","4226864ywgIOf","properties","Get","Has","Floor","sin","Expected one of the values to be non-null","Unsupported numeric operator ","Unsupported operator ","isArray","type","Mod","Interpolate","Sqrt","Unsupported logical operator ","round","LessThan","Var","featureId","atan2","ToString","449196xuXNOd","map","resolution","Between","Ceil","Resolution","hasOwn","1288GxomHd","concat","14556938lWnaRR","abs","Multiply","Any","Atan","Unsupported assertion operator ","GreaterThanOrEqualTo","string","279qaTqRK","Unsupported accessor operator ","Not","Expected one of the values to be a ","GreaterThan","Unsupported comparison operator ","geometryType","Abs","value","Round","Number","5905LenieG","Cos","String","110950rnOatY","183300YydRtc","Coalesce","Pow","toString","Concat","variables","Match","GeometryType","operator","Clamp","length","Equal","undefined","pow"];return Lu=function(){return i},Lu()}function fQ(i,e){const t=zn,n=i[t(479)],r=Li(i.args[0]),s=Li(i.args[1]);switch(n){case N[t(482)]:return o=>r(o)===s(o);case N[t(491)]:return o=>r(o)!==s(o);case N[t(514)]:return o=>r(o)<s(o);case N.LessThanOrEqualTo:return o=>r(o)<=s(o);case N[t(540)]:return o=>r(o)>s(o);case N[t(534)]:return o=>r(o)>=s(o);default:throw new Error(t(541)+n)}}function dQ(i,e){const t=zn,n=i[t(479)],r=i[t(493)][t(481)],s=new Array(r);for(let o=0;o<r;++o)s[o]=Li(i[t(493)][o]);switch(n){case N.Any:return o=>{for(let a=0;a<r;++a)if(s[a](o))return!0;return!1};case N[t(488)]:return o=>{for(let a=0;a<r;++a)if(!s[a](o))return!1;return!0};case N[t(522)]:return o=>{const a=s[0](o),c=s[1](o),x=s[2](o);return a>=c&&a<=x};case N.In:return o=>{const a=s[0](o);for(let c=1;c<r;++c)if(a===s[c](o))return!0;return!1};case N[t(538)]:return o=>!s[0](o);default:throw new Error(t(512)+n)}}function gQ(i,e){const t=zn,n=i[t(479)],r=i.args.length,s=new Array(r);for(let o=0;o<r;++o)s[o]=Li(i[t(493)][o]);switch(n){case N[t(530)]:return o=>{let a=1;for(let c=0;c<r;++c)a*=s[c](o);return a};case N[t(495)]:return o=>s[0](o)/s[1](o);case N[t(492)]:return o=>{let a=0;for(let c=0;c<r;++c)a+=s[c](o);return a};case N.Subtract:return o=>s[0](o)-s[1](o);case N[t(480)]:return o=>{const a=s[0](o),c=s[1](o);if(a<c)return c;const x=s[2](o);return a>x?x:a};case N[t(509)]:return o=>s[0](o)%s[1](o);case N[t(553)]:return o=>Math[t(484)](s[0](o),s[1](o));case N[t(543)]:return o=>Math[t(529)](s[0](o));case N[t(502)]:return o=>Math.floor(s[0](o));case N[t(523)]:return o=>Math[t(485)](s[0](o));case N[t(545)]:return o=>Math[t(513)](s[0](o));case N[t(487)]:return o=>Math[t(503)](s[0](o));case N[t(548)]:return o=>Math.cos(s[0](o));case N[t(532)]:return r===2?o=>Math[t(517)](s[0](o),s[1](o)):o=>Math.atan(s[0](o));case N[t(511)]:return o=>Math.sqrt(s[0](o));default:throw new Error(t(505)+n)}}function pQ(i,e){const t=zn,n=i[t(493)][t(481)],r=new Array(n);for(let s=0;s<n;++s)r[s]=Li(i.args[s]);return s=>{for(let o=0;o<n-1;o+=2)if(r[o](s))return r[o+1](s);return r[n-1](s)}}function IQ(i,e){const t=zn,n=i[t(493)][t(481)],r=new Array(n);for(let s=0;s<n;++s)r[s]=Li(i[t(493)][s]);return s=>{const o=r[0](s);for(let a=1;a<n;a+=2)if(o===r[a](s))return r[a+1](s);return r[n-1](s)}}function _Q(i,e){const t=zn,n=i[t(493)][t(481)],r=new Array(n);for(let s=0;s<n;++s)r[s]=Li(i[t(493)][s]);return s=>{const o=t,a=r[0](s),c=r[1](s);let x,A;for(let l=2;l<n;l+=2){const u=r[l](s);let h=r[l+1](s);const f=Array[o(507)](h);if(f&&(h=Dw(h)),u>=c)return l===2?h:f?EQ(a,c,x,A,u,h):rc(a,c,x,A,u,h);x=u,A=h}return A}}function mQ(i,e){const t=zn,n=i.operator,r=i[t(493)][t(481)],s=new Array(r);for(let o=0;o<r;++o)s[o]=Li(i[t(493)][o]);switch(n){case N[t(518)]:return o=>{const a=t,c=s[0](o);return i[a(493)][0][a(508)]===Ti?J2(c):c[a(554)]()};default:throw new Error(t(490)+n)}}function rc(i,e,t,n,r,s){const o=zn,a=r-t;if(a===0)return n;const c=e-t,x=i===1?c/a:(Math[o(484)](i,c)-1)/(Math[o(484)](i,a)-1);return n+x*(s-n)}function EQ(i,e,t,n,r,s){if(r-t===0)return n;const a=qE(n),c=qE(s);let x=c[2]-a[2];x>180?x-=360:x<-180&&(x+=360);const A=[rc(i,e,t,a[0],r,c[0]),rc(i,e,t,a[1],r,c[1]),a[2]+rc(i,e,t,0,r,x),rc(i,e,t,n[3],r,s[3])];return YE(kw(A))}(function(i,e){const t=Jt,n=i();for(;;)try{if(-parseInt(t(451))/1+-parseInt(t(470))/2+-parseInt(t(508))/3+parseInt(t(545))/4+parseInt(t(556))/5+parseInt(t(536))/6+parseInt(t(526))/7===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gu,619435);function Gu(){const i=["Expected an array for ","shape-points","Expected point or line for text-placement","hanging","fill-color","opacity","getPropertiesInternal","No fill, stroke, point, or text symbolizer properties in style: ","setLineDashOffset","padding","stroke-line-dash-offset","top-right","setRotateWithView","setLineDash","setStroke","butt","boolean","bottom-right","top-left","circle-","radius2","none","obstacle","bevel","pattern-offset","setOffsetY","pattern-size","401979ugUuSV","overflow","right","length","Expected left, right, or center for text-justify","offset-y","width","Expected an array of numbers for ","Expected a number or size array for ","setBackgroundFill","offset-origin","rotate-with-view","offset-x","pattern-src","setLineJoin","isArray","middle","anchor","7549941LTQkHS","style","scale","stroke-miter-limit","stringify","setFont","anchor-origin","stroke-color","setColor","z-index","5248464JKCBrg","round","Expected a string for ","align","displacement","stroke-line-dash","shape-","setOpacity","center","96196ZukDbg","setLineCap","setPadding","stroke-line-join","resolution","background-","fraction","Expected bottom, top, middle, alphabetic, or hanging for text-baseline","setDisplacement","angle","Expected a color with 3 or 4 values for ","1308740GvHjog","Expected butt, round, or square line cap","Expected two numbers for ","Expected pixels or fraction for ","bottom-left","setOverflow","max-angle","setText","setRotation","circle-radius","setMiterLimit","styles","start","setTextBaseline","Expected a number for ","getGeometry","setMaxAngle","string","bottom","placement","number","setJustify","setPlacement","Expected an array of two numbers for ","fill-pattern-src","654204yDgdvM","anchor-y-units","line","Expected bottom-left, bottom-right, top-left, or top-right for ","rotation","setTextAlign","geometryType","point","setFill","Expected left, right, center, start, or end for text-align","setZIndex","anchor-x-units","filter","stroke-line-cap","declutter-mode","stroke-width","pixels","color","featureId","1662944BPTCjR","size","getId","icon-","declutter","value","left","setScale","fill-","push","points"];return Gu=function(){return i},Gu()}function Jt(i,e){const t=Gu();return Jt=function(n,r){return n=n-427,t[n]},Jt(i,e)}function yQ(i){return!0}function CQ(i){const e=Ky(),t=bQ(i,e),n=tC();return function(r,s){const o=Jt;if(n.properties=r[o(487)](),n[o(549)]=s,e.featureId){const a=r.getId();a!==void 0?n[o(469)]=a:n[o(469)]=null}return e[o(457)]&&(n[o(457)]=$y(r[o(441)]())),t(n)}}function eC(i){const e=Jt,t=Ky(),n=i[e(511)],r=new Array(n);for(let a=0;a<n;++a)r[a]=Vp(i[a],t);const s=tC(),o=new Array(n);return function(a,c){const x=e;if(s.properties=a[x(487)](),s[x(549)]=c,t.featureId){const l=a[x(472)]();l!==void 0?s[x(469)]=l:s[x(469)]=null}let A=0;for(let l=0;l<n;++l){const u=r[l](s);u&&(o[A]=u,A+=1)}return o[x(511)]=A,o}}function bQ(i,e){const t=Jt,n=i[t(511)],r=new Array(n);for(let s=0;s<n;++s){const o=i[s],a="filter"in o?kr(o[t(463)],vn,e):yQ;let c;if(Array[t(523)](o[t(527)])){const x=o[t(527)].length;c=new Array(x);for(let A=0;A<x;++A)c[A]=Vp(o[t(527)][A],e)}else c=[Vp(o[t(527)],e)];r[s]={filter:a,styles:c}}return function(s){const o=t,a=[];let c=!1;for(let x=0;x<n;++x){const A=r[x][o(463)];if(A(s)&&!(i[x].else&&c)){c=!0;for(const l of r[x][o(437)]){const u=l(s);u&&a[o(479)](u)}}}return a}}function Vp(i,e){const t=Jt,n=sc(i,"",e),r=oc(i,"",e),s=BQ(i,e),o=wQ(i,e),a=qn(i,t(535),e);if(!n&&!r&&!s&&!o&&!$r(i))throw new Error(t(488)+JSON[t(530)](i));const c=new Mt;return function(x){const A=t;let l=!0;if(n){const u=n(x);u&&(l=!1),c.setFill(u)}if(r){const u=r(x);u&&(l=!1),c[A(495)](u)}if(s){const u=s(x);u&&(l=!1),c[A(433)](u)}if(o){const u=o(x);u&&(l=!1),c.setImage(u)}return a&&c[A(461)](a(x)),l?null:c}}function sc(i,e,t){const n=Jt;let r;if(e+n(450)in i)r=SQ(i,e+n(478),t);else{if(i[e+"fill-color"]===n(502))return o=>null;r=Jp(i,e+n(485),t)}if(!r)return null;const s=new Un;return function(o){const a=n,c=r(o);return c===H2?null:(s[a(534)](c),s)}}function oc(i,e,t){const n=Jt,r=qn(i,e+n(466),t),s=Jp(i,e+n(533),t);if(!r&&!s)return null;const o=Mr(i,e+n(464),t),a=Mr(i,e+n(548),t),c=nC(i,e+n(541),t),x=qn(i,e+n(491),t),A=qn(i,e+n(529),t),l=new Qn;return function(u){const h=n;if(s){const f=s(u);if(f===H2)return null;l[h(534)](f)}if(r&&l.setWidth(r(u)),o){const f=o(u);if(f!==h(496)&&f!==h(537)&&f!=="square")throw new Error(h(427));l[h(546)](f)}if(a){const f=a(u);if(f!==h(504)&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");l[h(522)](f)}return c&&l[h(494)](c(u)),x&&l[h(489)](x(u)),A&&l[h(436)](A(u)),l}}function BQ(i,e){const t=Jt,n="text-",r=Mr(i,n+t(475),e);if(!r)return null;const s=sc(i,n,e),o=sc(i,n+t(550),e),a=oc(i,n,e),c=oc(i,n+"background-",e),x=Mr(i,n+"font",e),A=qn(i,n+t(432),e),l=qn(i,n+t(520),e),u=qn(i,n+t(513),e),h=ac(i,n+t(509),e),f=Mr(i,n+t(445),e),g=qn(i,n+"repeat",e),d=Pu(i,n+"scale",e),p=ac(i,n+t(519),e),I=qn(i,n+t(455),e),_=Mr(i,n+t(539),e),m=Mr(i,n+"justify",e),y=Mr(i,n+"baseline",e),E=nC(i,n+t(490),e),C=Ou(i,n+t(465)),b=new tc({declutterMode:C});return function(B){const Q=t;if(b[Q(433)](r(B)),s&&b[Q(459)](s(B)),o&&b[Q(517)](o(B)),a&&b[Q(495)](a(B)),c&&b.setBackgroundStroke(c(B)),x&&b[Q(531)](x(B)),A&&b[Q(442)](A(B)),l&&b.setOffsetX(l(B)),u&&b[Q(506)](u(B)),h&&b[Q(431)](h(B)),f){const w=f(B);if(w!==Q(458)&&w!==Q(453))throw new Error(Q(483));b[Q(448)](w)}if(g&&b.setRepeat(g(B)),d&&b[Q(477)](d(B)),p&&b[Q(493)](p(B)),I&&b[Q(434)](I(B)),_){const w=_(B);if(w!=="left"&&w!==Q(544)&&w!==Q(510)&&w!=="end"&&w!==Q(438))throw new Error(Q(460));b[Q(456)](w)}if(m){const w=m(B);if(w!==Q(476)&&w!==Q(510)&&w!==Q(544))throw new Error(Q(512));b[Q(447)](w)}if(y){const w=y(B);if(w!==Q(444)&&w!=="top"&&w!==Q(524)&&w!=="alphabetic"&&w!==Q(484))throw new Error(Q(552));b[Q(439)](w)}return E&&b[Q(547)](E(B)),b}}function wQ(i,e){const t=Jt;return"icon-src"in i?QQ(i,e):t(482)in i?vQ(i,e):t(435)in i?RQ(i,e):null}function QQ(i,e){const t=Jt,n=t(473),r=n+"src",s=oC(i[r],r),o=Nu(i,n+t(525),e),a=Pu(i,n+t(528),e),c=qn(i,n+t(486),e),x=Nu(i,n+t(540),e),A=qn(i,n+t(455),e),l=ac(i,n+t(519),e),u=rC(i,n+t(532)),h=sC(i,n+t(462)),f=sC(i,n+t(452)),g=FQ(i,n+t(468)),d=kQ(i,n+"cross-origin"),p=MQ(i,n+"offset"),I=rC(i,n+t(518)),_=Uu(i,n+t(514)),m=Uu(i,n+"height"),y=DQ(i,n+t(471)),E=Ou(i,n+t(465)),C=new us({src:s,anchorOrigin:u,anchorXUnits:h,anchorYUnits:f,color:g,crossOrigin:d,offset:p,offsetOrigin:I,height:m,width:_,size:y,declutterMode:E});return function(b){const B=t;return c&&C[B(543)](c(b)),x&&C[B(553)](x(b)),A&&C.setRotation(A(b)),l&&C[B(493)](l(b)),a&&C[B(477)](a(b)),o&&C.setAnchor(o(b)),C}}function vQ(i,e){const t=Jt,n=t(542),r=n+t(480),s=n+"radius",o=Kp(i[r],r),a=Kp(i[s],s),c=sc(i,n,e),x=oc(i,n,e),A=Pu(i,n+t(528),e),l=Nu(i,n+t(540),e),u=qn(i,n+t(455),e),h=ac(i,n+t(519),e),f=Uu(i,n+t(501)),g=Uu(i,n+t(554)),d=Ou(i,n+"declutter-mode"),p=new go({points:o,radius:a,radius2:f,angle:g,declutterMode:d});return function(I){const _=t;return c&&p[_(459)](c(I)),x&&p[_(495)](x(I)),l&&p[_(553)](l(I)),u&&p[_(434)](u(I)),h&&p[_(493)](h(I)),A&&p[_(477)](A(I)),p}}function RQ(i,e){const t=Jt,n=t(500),r=sc(i,n,e),s=oc(i,n,e),o=qn(i,n+"radius",e),a=Pu(i,n+t(528),e),c=Nu(i,n+t(540),e),x=qn(i,n+t(455),e),A=ac(i,n+t(519),e),l=Ou(i,n+"declutter-mode"),u=new Mo({radius:5,declutterMode:l});return function(h){const f=t;return o&&u.setRadius(o(h)),r&&u[f(459)](r(h)),s&&u.setStroke(s(h)),c&&u[f(553)](c(h)),x&&u[f(434)](x(h)),A&&u[f(493)](A(h)),a&&u.setScale(a(h)),u}}function qn(i,e,t){if(!(e in i))return;const n=kr(i[e],vt,t);return function(r){return Kp(n(r),e)}}function Mr(i,e,t){if(!(e in i))return null;const n=kr(i[e],On,t);return function(r){return oC(n(r),e)}}function SQ(i,e,t){const n=Jt,r=Mr(i,e+n(521),t),s=iC(i,e+n(505),t),o=iC(i,e+n(507),t),a=Jp(i,e+n(468),t);return function(c){return{src:r(c),offset:s&&s(c),size:o&&o(c),color:a&&a(c)}}}function ac(i,e,t){if(!(e in i))return null;const n=kr(i[e],vn,t);return function(r){const s=Jt,o=n(r);if(typeof o!==s(497))throw new Error("Expected a boolean for "+e);return o}}function Jp(i,e,t){if(!(e in i))return null;const n=kr(i[e],Ti,t);return function(r){return aC(n(r),e)}}function nC(i,e,t){if(!(e in i))return null;const n=kr(i[e],fs,t);return function(r){return xc(n(r),e)}}function Nu(i,e,t){if(!(e in i))return null;const n=kr(i[e],fs,t);return function(r){const s=Jt,o=xc(n(r),e);if(o.length!==2)throw new Error(s(428)+e);return o}}function iC(i,e,t){if(!(e in i))return null;const n=kr(i[e],fs,t);return function(r){return xC(n(r),e)}}function Pu(i,e,t){if(!(e in i))return null;const n=kr(i[e],fs|vt,t);return function(r){return TQ(n(r),e)}}function Uu(i,e){const t=Jt,n=i[e];if(n!==void 0){if(typeof n!="number")throw new Error(t(440)+e);return n}}function DQ(i,e){const t=Jt,n=i[e];if(n!==void 0){if(typeof n===t(446))return Pe(n);if(!Array[t(523)](n))throw new Error(t(516)+e);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!==t(446))throw new Error(t(516)+e);return n}}function kQ(i,e){const t=Jt,n=i[e];if(n!==void 0){if(typeof n!="string")throw new Error(t(538)+e);return n}}function rC(i,e){const t=Jt,n=i[e];if(n!==void 0){if(n!==t(430)&&n!==t(498)&&n!==t(499)&&n!==t(492))throw new Error(t(454)+e);return n}}function sC(i,e){const t=Jt,n=i[e];if(n!==void 0){if(n!==t(467)&&n!==t(551))throw new Error(t(429)+e);return n}}function MQ(i,e){const t=i[e];if(t!==void 0)return xc(t,e)}function Ou(i,e){const t=Jt,n=i[e];if(n!==void 0){if(typeof n!="string")throw new Error(t(538)+e);if(n!==t(474)&&n!==t(503)&&n!==t(502))throw new Error("Expected declutter, obstacle, or none for "+e);return n}}function FQ(i,e){const t=i[e];if(t!==void 0)return aC(t,e)}function xc(i,e){const t=Jt;if(!Array[t(523)](i))throw new Error(t(481)+e);const n=i.length;for(let r=0;r<n;++r)if(typeof i[r]!="number")throw new Error(t(515)+e);return i}function oC(i,e){const t=Jt;if(typeof i!="string")throw new Error(t(538)+e);return i}function Kp(i,e){if(typeof i!==Jt(446))throw new Error("Expected a number for "+e);return i}function aC(i,e){const t=Jt;if(typeof i===t(443))return i;const n=xc(i,e),r=n[t(511)];if(r<3||r>4)throw new Error(t(555)+e);return n}function xC(i,e){const t=Jt,n=xc(i,e);if(n[t(511)]!==2)throw new Error(t(449)+e);return n}function TQ(i,e){return typeof i===Jt(446)?i:xC(i,e)}const nn=Go;(function(i,e){const t=Go,n=i();for(;;)try{if(parseInt(t(300))/1*(-parseInt(t(307))/2)+parseInt(t(270))/3*(-parseInt(t(292))/4)+parseInt(t(282))/5*(-parseInt(t(275))/6)+-parseInt(t(274))/7*(-parseInt(t(303))/8)+-parseInt(t(295))/9*(parseInt(t(277))/10)+-parseInt(t(310))/11*(parseInt(t(297))/12)+parseInt(t(276))/13===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(zu,573842);const cC={RENDER_ORDER:"renderOrder"};class Xp extends ls{constructor(e){const t=Go;e=e||{};const n=Object[t(278)]({},e);delete n[t(293)],delete n[t(285)],delete n.updateWhileAnimating,delete n[t(301)],super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this[t(289)]=e[t(285)]!==void 0?e[t(285)]:100,this[t(308)]=null,this[t(279)]=void 0,this[t(281)](e.style),this.updateWhileAnimating_=e[t(271)]!==void 0?e[t(271)]:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e[t(301)]:!1}getDeclutter(){return this[Go(284)]}[nn(287)](e){return super.getFeatures(e)}getRenderBuffer(){return this[nn(289)]}[nn(311)](){return this[nn(304)](cC.RENDER_ORDER)}[nn(309)](){return this[nn(308)]}[nn(302)](){return this.styleFunction_}[nn(283)](){return this[nn(298)]}getUpdateWhileInteracting(){return this[nn(294)]}[nn(269)](e,t){const n=nn,r=this[n(288)]();!(r in e[n(306)])&&(e[n(306)][r]=new Yy(9)),this[n(299)]().renderDeclutter(e,t)}[nn(280)](e){this[nn(290)](cC.RENDER_ORDER,e)}[nn(281)](e){const t=nn;this.style_=e===void 0?jy:e;const n=LQ(e);this[t(279)]=e===null?void 0:X6(n),this[t(296)]()}}function LQ(i){const e=nn;if(i===void 0)return jy;if(!i)return null;if(typeof i===e(305)||i instanceof Mt)return i;if(!Array[e(286)](i))return eC([i]);if(i[e(273)]===0)return[];const t=i[e(273)],n=i[0];if(n instanceof Mt){const s=new Array(t);for(let o=0;o<t;++o){const a=i[o];if(!(a instanceof Mt))throw new Error(e(291));s[o]=a}return s}if("style"in n){const s=new Array(t);for(let o=0;o<t;++o){const a=i[o];if(!(e(293)in a))throw new Error(e(272));s[o]=a}return CQ(s)}return eC(i)}function Go(i,e){const t=zu();return Go=function(n,r){return n=n-269,t[n]},Go(i,e)}function zu(){const i=["Expected a list of style instances","1742604FnflCh","style","updateWhileInteracting_","10299123mJzPYj","changed","12oaWeVP","updateWhileAnimating_","getRenderer","1oaVhkJ","updateWhileInteracting","getStyleFunction","8FmfkyZ","get","function","declutter","1539246hFPmVu","style_","getStyle","5287491arrprQ","getRenderOrder","renderDeclutter","3rYOHSm","updateWhileAnimating","Expected a list of rules with a style property","length","6272777qkAuUD","54XLLjMm","38058384EuPLMm","10qAnXJf","assign","styleFunction_","setRenderOrder","setStyle","233075NUtccO","getUpdateWhileAnimating","declutter_","renderBuffer","isArray","getFeatures","getDeclutter","renderBuffer_","set"];return zu=function(){return i},zu()}const Zp=qu;(function(i,e){const t=qu,n=i();for(;;)try{if(parseInt(t(182))/1+parseInt(t(191))/2*(-parseInt(t(179))/3)+-parseInt(t(180))/4+parseInt(t(190))/5+parseInt(t(183))/6*(-parseInt(t(187))/7)+parseInt(t(181))/8*(-parseInt(t(188))/9)+parseInt(t(185))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hu,947970);function qu(i,e){const t=Hu();return qu=function(n,r){return n=n-179,t[n]},qu(i,e)}const et={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Yu=[et.FILL],f0=[et[Zp(186)]];function Hu(){const i=["CLOSE_PATH","24188490XLBbLd","STROKE","2303ESxeXG","405kjVOEE","BEGIN_PATH","3260660dGrfiP","44ikwVsm","166485YxUyWr","3977404bHrznZ","35032AQYEvG","1481581MPLhbk","21744RMGpto"];return Hu=function(){return i},Hu()}const gs=[et[Zp(189)]],AC=[et[Zp(184)]];var yi=ju;function ju(i,e){var t=Vu();return ju=function(n,r){n=n-446;var s=t[n];return s},ju(i,e)}(function(i,e){for(var t=ju,n=i();;)try{var r=parseInt(t(459))/1*(parseInt(t(446))/2)+-parseInt(t(447))/3*(-parseInt(t(452))/4)+parseInt(t(463))/5*(parseInt(t(457))/6)+parseInt(t(450))/7*(-parseInt(t(460))/8)+parseInt(t(455))/9+-parseInt(t(454))/10+parseInt(t(467))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vu,904810);class lC{[yi(458)](e,t,n,r,s){}[yi(448)](e){}setStyle(e){}[yi(449)](e,t,n){}[yi(456)](e,t,n){}[yi(453)](e,t,n){}drawLineString(e,t,n){}drawMultiLineString(e,t,n){}[yi(462)](e,t,n){}[yi(465)](e,t,n){}drawPoint(e,t,n){}[yi(464)](e,t,n){}[yi(466)](e,t,n){}[yi(451)](e,t){}[yi(468)](e,t){}[yi(461)](e,t){}}function Vu(){var i=["setFillStrokeStyle","65244dVsKsK","drawGeometryCollection","17762620QydVqH","3943026kQfIBY","drawFeature","42RmLCvP","drawCustom","1akUVDk","16oESWFW","setTextStyle","drawMultiPoint","373595CqjcKY","drawPolygon","drawMultiPolygon","drawText","2687465UtmUBo","setImageStyle","2572060zlvMht","318DSOjbd","drawGeometry","drawCircle","5387851liPtZe"];return Vu=function(){return i},Vu()}const zt=cc;function Ju(){const i=["Polygon","string","fillStyle","state","miterLimit","src","reverseHitDetectionInstructions","currentStrokeStyle","applyStroke","lineDashOffset","push","currentFillStyle","instructions","349572KEiskc","2eHXXEN","currentLineDash","appendFlatLineCoordinates","305020fDpmWh","slice","currentLineDashOffset","88xcywEN","lineCap","currentLineWidth","472785CbGEdF","endGeometry","INTERSECTING","MultiLineString","beginGeometry","call","resolution","maxExtent","CUSTOM","tmpCoordinate_","tolerance","BEGIN_GEOMETRY","Point","strokeStyle","91NMaqpT","drawCustomCoordinates_","length","fillPatternScale","30qcvozk","pixelRatio","getLineCap","getMiterLimit","finish","setFillStrokeStyle","updateFillStyle","createFill","getBufferedMaxExtent","map","currentMiterLimit","coordinates","getType","253815lfwMMg","lineDash","277440YEIZEF","updateStrokeStyle","beginGeometryInstruction2_","currentLineCap","applyPixelRatio","lineJoin","END_GEOMETRY","createStroke","bufferedMaxExtent_","getLineJoin","20NGXoZR","getFlatCoordinates","maxLineWidth","MultiPolygon","hitDetectionInstructions","lineWidth","beginGeometryInstruction1_","1494243VXnsxh","currentLineJoin","LineString","getWidth","getColor","getEndss","drawCustom","8hFLfTo","928844draOor"];return Ju=function(){return i},Ju()}function cc(i,e){const t=Ju();return cc=function(n,r){return n=n-300,t[n]},cc(i,e)}(function(i,e){const t=cc,n=i();for(;;)try{if(parseInt(t(367))/1*(-parseInt(t(327))/2)+parseInt(t(325))/3*(parseInt(t(337))/4)+-parseInt(t(376))/5*(-parseInt(t(312))/6)+-parseInt(t(352))/7+-parseInt(t(351))/8*(parseInt(t(344))/9)+parseInt(t(370))/10*(-parseInt(t(373))/11)+parseInt(t(366))/12*(parseInt(t(308))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ju,279552);class Ac extends lC{constructor(e,t,n,r){const s=cc;super(),this[s(304)]=e,this[s(301)]=t,this[s(313)]=r,this[s(339)]=0,this[s(300)]=n,this[s(343)]=null,this[s(329)]=null,this[s(335)]=null,this[s(365)]=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this[s(356)]={}}[zt(331)](e){const t=zt,n=this[t(313)];return n==1?e:e[t(321)](function(r){return r*n})}appendFlatPointCoordinates(e,t){const n=zt,r=this.getBufferedMaxExtent(),s=this.tmpCoordinate_,o=this[n(323)];let a=o[n(310)];for(let c=0,x=e[n(310)];c<x;c+=t)s[0]=e[c],s[1]=e[c+1],K0(r,s)&&(o[a++]=s[0],o[a++]=s[1]);return a}appendFlatLineCoordinates(e,t,n,r,s,o){const a=zt,c=this[a(323)];let x=c[a(310)];const A=this[a(320)]();o&&(t+=r);let l=e[t],u=e[t+1];const h=this[a(303)];let f=!0,g,d,p;for(g=t+r;g<n;g+=r)h[0]=e[g],h[1]=e[g+1],p=v2(A,h),p!==d?(f&&(c[x++]=l,c[x++]=u,f=!1),c[x++]=h[0],c[x++]=h[1]):p===je[a(378)]?(c[x++]=h[0],c[x++]=h[1],f=!1):f=!0,l=h[0],u=h[1],d=p;return(s&&f||g===t+r)&&(c[x++]=l,c[x++]=u),x}[zt(309)](e,t,n,r,s){const o=zt;for(let a=0,c=n[o(310)];a<c;++a){const x=n[a],A=this[o(369)](e,t,x,r,!1,!1);s[o(363)](A),t=x}return t}[zt(350)](e,t,n,r,s){const o=zt;this[o(380)](e,t,s);const a=e[o(324)](),c=e.getStride(),x=this[o(323)].length;let A,l,u,h,f;switch(a){case o(340):A=e.getOrientedFlatCoordinates(),h=[];const g=e[o(349)]();f=0;for(let d=0,p=g[o(310)];d<p;++d){const I=[];f=this[o(309)](A,f,g[d],c,I),h.push(I)}this[o(365)].push([et.CUSTOM,x,h,e,n,Bp,s]),this.hitDetectionInstructions[o(363)]([et[o(302)],x,h,e,r||n,Bp,s]);break;case o(353):case o(379):u=[],A=a==o(353)?e.getOrientedFlatCoordinates():e[o(338)](),f=this.drawCustomCoordinates_(A,0,e.getEnds(),c,u),this.instructions.push([et[o(302)],x,u,e,n,Lx,s]),this.hitDetectionInstructions.push([et[o(302)],x,u,e,r||n,Lx,s]);break;case o(346):case"Circle":A=e[o(338)](),l=this.appendFlatLineCoordinates(A,0,A[o(310)],c,!1,!1),this[o(365)][o(363)]([et.CUSTOM,x,l,e,n,u0,s]),this[o(341)][o(363)]([et[o(302)],x,l,e,r||n,u0,s]);break;case"MultiPoint":A=e[o(338)](),l=this.appendFlatPointCoordinates(A,c),l>x&&(this[o(365)][o(363)]([et.CUSTOM,x,l,e,n,u0,s]),this.hitDetectionInstructions[o(363)]([et[o(302)],x,l,e,r||n,u0,s]));break;case o(306):A=e[o(338)](),this[o(323)][o(363)](A[0],A[1]),l=this[o(323)][o(310)],this[o(365)].push([et[o(302)],x,l,e,n,void 0,s]),this[o(341)][o(363)]([et[o(302)],x,l,e,r||n,void 0,s]);break}this.endGeometry(t)}[zt(380)](e,t,n){const r=zt;this[r(343)]=[et[r(305)],t,0,e,n],this.instructions[r(363)](this.beginGeometryInstruction1_),this[r(329)]=[et[r(305)],t,0,e,n],this.hitDetectionInstructions[r(363)](this[r(329)])}[zt(316)](){const e=zt;return{instructions:this[e(365)],hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this[e(323)]}}[zt(359)](){const e=zt,t=this[e(341)];t.reverse();let n;const r=t.length;let s,o,a=-1;for(n=0;n<r;++n)s=t[n],o=s[0],o==et[e(333)]?a=n:o==et[e(305)]&&(s[2]=n,Nw(this[e(341)],a,n),a=-1)}[zt(317)](e,t){const n=zt,r=this[n(356)];if(e){const s=e[n(348)]();r.fillPatternScale=s&&typeof s=="object"&&n(358)in s?this.pixelRatio:1,r[n(355)]=Zi(s||Gn)}else r[n(355)]=void 0;if(t){const s=t[n(348)]();r.strokeStyle=Zi(s||Bx);const o=t[n(314)]();r[n(374)]=o!==void 0?o:uo;const a=t.getLineDash();r[n(326)]=a?a[n(371)]():wr;const c=t.getLineDashOffset();r[n(362)]=c||Qr;const x=t[n(336)]();r[n(332)]=x!==void 0?x:ho;const A=t[n(347)]();r.lineWidth=A!==void 0?A:Qx;const l=t[n(315)]();r[n(357)]=l!==void 0?l:bx,r[n(342)]>this.maxLineWidth&&(this.maxLineWidth=r[n(342)],this[n(335)]=null)}else r[n(307)]=void 0,r[n(374)]=void 0,r[n(326)]=null,r.lineDashOffset=void 0,r[n(332)]=void 0,r[n(342)]=void 0,r[n(357)]=void 0}[zt(319)](e){const t=zt,n=e[t(355)],r=[et.SET_FILL_STYLE,n];return typeof n!==t(354)&&r.push(e[t(311)]),r}[zt(361)](e){const t=zt;this[t(365)].push(this[t(334)](e))}[zt(334)](e){const t=zt;return[et.SET_STROKE_STYLE,e[t(307)],e.lineWidth*this.pixelRatio,e.lineCap,e[t(332)],e[t(357)],this[t(331)](e.lineDash),e[t(362)]*this[t(313)]]}[zt(318)](e,t){const n=zt,r=e[n(355)];(typeof r!="string"||e[n(364)]!=r)&&(r!==void 0&&this.instructions[n(363)](t.call(this,e)),e[n(364)]=r)}[zt(328)](e,t){const n=zt,r=e[n(307)],s=e.lineCap,o=e.lineDash,a=e[n(362)],c=e[n(332)],x=e[n(342)],A=e[n(357)];(e[n(360)]!=r||e[n(330)]!=s||o!=e[n(368)]&&!o0(e[n(368)],o)||e.currentLineDashOffset!=a||e[n(345)]!=c||e[n(375)]!=x||e[n(322)]!=A)&&(r!==void 0&&t[n(381)](this,e),e[n(360)]=r,e[n(330)]=s,e[n(368)]=o,e[n(372)]=a,e[n(345)]=c,e[n(375)]=x,e[n(322)]=A)}[zt(377)](e){const t=zt;this.beginGeometryInstruction1_[2]=this[t(365)][t(310)],this[t(343)]=null,this[t(329)][2]=this[t(341)].length,this.beginGeometryInstruction2_=null;const n=[et[t(333)],e];this[t(365)][t(363)](n),this[t(341)][t(363)](n)}[zt(320)](){const e=zt;if(!this[e(335)]&&(this[e(335)]=bE(this[e(301)]),this[e(339)]>0)){const t=this[e(300)]*(this[e(339)]+1)/2;t0(this[e(335)],t,this.bufferedMaxExtent_)}return this[e(335)]}}const ps=lc;(function(i,e){const t=lc,n=i();for(;;)try{if(parseInt(t(425))/1*(-parseInt(t(444))/2)+-parseInt(t(429))/3*(-parseInt(t(450))/4)+-parseInt(t(448))/5+parseInt(t(453))/6*(parseInt(t(416))/7)+parseInt(t(427))/8+parseInt(t(431))/9+parseInt(t(428))/10*(-parseInt(t(465))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ku,613498);function lc(i,e){const t=Ku();return lc=function(n,r){return n=n-415,t[n]},lc(i,e)}function Ku(){const i=["height_","getRotateWithView","pixelRatio","finish","rotateWithView_","getAnchor","ceil","hitDetectionImage_","getHitDetectionImage","1065716Xzhrql","anchorX_","length","maxExtent","417270GgMJhC","width_","728396jxsbmv","drawPoint","scale_","12eVTwbT","declutterImageWithText_","getStride","getSize","getFlatCoordinates","declutterMode_","beginGeometry","anchorY_","appendFlatPointCoordinates","DRAW_IMAGE","opacity_","image_","110Sjyyqc","slice","imagePixelRatio_","originY_","setImageStyle","2213743YPxCjP","getOrigin","getScaleArray","getDeclutterMode","rotation_","hitDetectionInstructions","coordinates","instructions","originX_","1ZdUQBX","getImage","4981888QLpGZM","1379090qyMgPV","6rBnIoL","getOpacity","8905212xYdtKw","push","getRotation","reverseHitDetectionInstructions"];return Ku=function(){return i},Ku()}class GQ extends Ac{constructor(e,t,n,r){const s=lc;super(e,t,n,r),this.hitDetectionImage_=null,this[s(464)]=null,this[s(467)]=void 0,this.anchorX_=void 0,this[s(460)]=void 0,this.height_=void 0,this[s(463)]=void 0,this.originX_=void 0,this[s(468)]=void 0,this[s(439)]=void 0,this[s(420)]=void 0,this[s(452)]=void 0,this[s(449)]=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}[ps(451)](e,t,n){const r=ps;if(!this[r(464)]||this[r(447)]&&!K0(this[r(447)],e[r(457)]()))return;this[r(459)](e,t,n);const s=e[r(457)](),o=e[r(455)](),a=this.coordinates[r(446)],c=this[r(461)](s,o);this[r(423)][r(432)]([et[r(462)],a,c,this[r(464)],this[r(445)]*this.imagePixelRatio_,this.anchorY_*this[r(467)],Math[r(441)](this[r(435)]*this.imagePixelRatio_),this.opacity_,this[r(424)]*this.imagePixelRatio_,this[r(468)]*this[r(467)],this[r(439)],this.rotation_,[this[r(452)][0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this[r(437)]/this[r(467)]],Math.ceil(this[r(449)]*this[r(467)]),this[r(458)],this[r(454)]]),this[r(421)][r(432)]([et.DRAW_IMAGE,a,c,this[r(442)],this.anchorX_,this.anchorY_,this[r(435)],1,this[r(424)],this.originY_,this.rotateWithView_,this.rotation_,this[r(452)],this.width_,this.declutterMode_,this[r(454)]]),this.endGeometry(t)}drawMultiPoint(e,t,n){const r=ps;if(!this[r(464)])return;this[r(459)](e,t,n);const s=e.getFlatCoordinates(),o=[];for(let x=0,A=s[r(446)];x<A;x+=e[r(455)]())(!this[r(447)]||K0(this.maxExtent,s[r(466)](x,x+2)))&&o.push(s[x],s[x+1]);const a=this[r(422)][r(446)],c=this[r(461)](o,2);this.instructions[r(432)]([et[r(462)],a,c,this[r(464)],this[r(445)]*this[r(467)],this[r(460)]*this[r(467)],Math[r(441)](this[r(435)]*this[r(467)]),this.opacity_,this[r(424)]*this[r(467)],this.originY_*this[r(467)],this[r(439)],this[r(420)],[this[r(452)][0]*this[r(437)]/this[r(467)],this[r(452)][1]*this.pixelRatio/this[r(467)]],Math.ceil(this[r(449)]*this[r(467)]),this[r(458)],this[r(454)]]),this[r(421)][r(432)]([et[r(462)],a,c,this[r(442)],this[r(445)],this[r(460)],this.height_,1,this[r(424)],this[r(468)],this[r(439)],this[r(420)],this[r(452)],this.width_,this[r(458)],this[r(454)]]),this.endGeometry(t)}[ps(438)](){const e=ps;return this[e(434)](),this.anchorX_=void 0,this[e(460)]=void 0,this[e(442)]=null,this[e(464)]=null,this[e(467)]=void 0,this[e(435)]=void 0,this.scale_=void 0,this[e(463)]=void 0,this[e(424)]=void 0,this[e(468)]=void 0,this[e(439)]=void 0,this.rotation_=void 0,this[e(449)]=void 0,super.finish()}[ps(415)](e,t){const n=ps,r=e[n(440)](),s=e[n(456)](),o=e[n(417)]();this[n(467)]=e.getPixelRatio(this.pixelRatio),this[n(445)]=r[0],this[n(460)]=r[1],this.hitDetectionImage_=e[n(443)](),this[n(464)]=e[n(426)](this[n(437)]),this[n(435)]=s[1],this[n(463)]=e[n(430)](),this[n(424)]=o[0],this.originY_=o[1],this[n(439)]=e[n(436)](),this[n(420)]=e[n(433)](),this[n(452)]=e[n(418)](),this[n(449)]=s[0],this[n(458)]=e[n(419)](),this.declutterImageWithText_=t}}const Is=Zu;(function(i,e){const t=Zu,n=i();for(;;)try{if(parseInt(t(184))/1+parseInt(t(182))/2+-parseInt(t(171))/3*(-parseInt(t(188))/4)+parseInt(t(199))/5+parseInt(t(203))/6+-parseInt(t(191))/7*(-parseInt(t(186))/8)+-parseInt(t(169))/9*(parseInt(t(201))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Xu,104942);function Xu(){const i=["lineWidth","coordinates","hitDetectionInstructions","lineCap","lineJoin","getFlatCoordinates","instructions","68732ZteRSy","state","90162ZduPXo","appendFlatLineCoordinates","689144XpPYtu","finish","61352DvKCGW","endGeometry","beginGeometry","7CwXQcW","lastStroke","getEnds","updateStrokeStyle","length","reverseHitDetectionInstructions","drawMultiLineString","strokeStyle","308460sbZYFz","getStride","730iNFLFk","SET_STROKE_STYLE","1258044NbdRBO","MOVE_TO_LINE_TO","69183JdviFs","push","36hjKsZn","drawFlatCoordinates_","applyStroke","miterLimit"];return Xu=function(){return i},Xu()}function Zu(i,e){const t=Xu();return Zu=function(n,r){return n=n-169,t[n]},Zu(i,e)}class NQ extends Ac{constructor(e,t,n,r){super(e,t,n,r)}[Is(172)](e,t,n,r){const s=Is,o=this[s(176)][s(195)],a=this[s(185)](e,t,n,r,!1,!1),c=[et[s(204)],o,a];return this.instructions[s(170)](c),this[s(177)][s(170)](c),n}drawLineString(e,t,n){const r=Is,s=this[r(183)],o=s[r(198)],a=s[r(175)];if(o===void 0||a===void 0)return;this.updateStrokeStyle(s,this.applyStroke),this[r(190)](e,t,n),this[r(177)].push([et[r(202)],s[r(198)],s[r(175)],s[r(178)],s[r(179)],s.miterLimit,wr,Qr],gs);const c=e[r(180)](),x=e.getStride();this[r(172)](c,0,c[r(195)],x),this[r(177)][r(170)](f0),this[r(189)](t)}[Is(197)](e,t,n){const r=Is,s=this[r(183)],o=s[r(198)],a=s[r(175)];if(o===void 0||a===void 0)return;this[r(194)](s,this[r(173)]),this[r(190)](e,t,n),this[r(177)].push([et[r(202)],s.strokeStyle,s[r(175)],s[r(178)],s[r(179)],s[r(174)],wr,Qr],gs);const c=e[r(193)](),x=e[r(180)](),A=e[r(200)]();let l=0;for(let u=0,h=c[r(195)];u<h;++u)l=this.drawFlatCoordinates_(x,l,c[u],A);this[r(177)][r(170)](f0),this[r(189)](t)}finish(){const e=Is,t=this[e(183)];return t[e(192)]!=null&&t[e(192)]!=this[e(176)].length&&this[e(181)].push(f0),this[e(196)](),this[e(183)]=null,super[e(187)]()}applyStroke(e){const t=Is;e.lastStroke!=null&&e.lastStroke!=this[t(176)][t(195)]&&(this[t(181)][t(170)](f0),e[t(192)]=this[t(176)].length),e[t(192)]=0,super[t(173)](e),this[t(181)][t(170)](gs)}}const _s=No;(function(i,e){const t=No,n=i();for(;;)try{if(parseInt(t(132))/1+parseInt(t(153))/2*(parseInt(t(135))/3)+-parseInt(t(136))/4+parseInt(t(113))/5+parseInt(t(128))/6*(-parseInt(t(131))/7)+parseInt(t(138))/8+-parseInt(t(126))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wu,724041);function No(i,e){const t=Wu();return No=function(n,r){return n=n-112,t[n]},No(i,e)}function Wu(){const i=["appendFlatLineCoordinates","fillStyle","getOrientedFlatCoordinates","hitDetectionInstructions","getEndss","endGeometry","drawFlatCoordinatess_","push","16kcNilK","tolerance","3484665cutdZg","reverseHitDetectionInstructions","getStride","lineWidth","lineCap","applyStroke","SET_FILL_STYLE","SET_STROKE_STYLE","updateStrokeStyle","getFlatCoordinates","length","finish","createFill","7208910YLkPWY","updateFillStyle","3999894HVzjLU","coordinates","getEnds","7VAxCnt","297066MSxOlC","strokeStyle","instructions","199662aprDxg","1049492ULjvFU","setFillStrokeStyles_","7420976THvEVm","drawPolygon","miterLimit","beginGeometry","lineJoin","state","drawMultiPolygon"];return Wu=function(){return i},Wu()}class uC extends Ac{constructor(e,t,n,r){super(e,t,n,r)}drawFlatCoordinatess_(e,t,n,r){const s=No,o=this[s(143)],a=o.fillStyle!==void 0,c=o[s(133)]!==void 0,x=n.length;this.instructions[s(152)](gs),this[s(148)][s(152)](gs);for(let A=0;A<x;++A){const l=n[A],u=this.coordinates.length,h=this[s(145)](e,t,l,r,!0,!c),f=[et.MOVE_TO_LINE_TO,u,h];this[s(134)][s(152)](f),this[s(148)][s(152)](f),c&&(this[s(134)][s(152)](AC),this[s(148)].push(AC)),t=l}return a&&(this[s(134)][s(152)](Yu),this[s(148)][s(152)](Yu)),c&&(this[s(134)][s(152)](f0),this[s(148)][s(152)](f0)),t}drawCircle(e,t,n){const r=No,s=this[r(143)],o=s.fillStyle,a=s[r(133)];if(o===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this[r(141)](e,t,n),s[r(146)]!==void 0&&this[r(148)][r(152)]([et.SET_FILL_STYLE,Gn]),s.strokeStyle!==void 0&&this[r(148)][r(152)]([et[r(120)],s[r(133)],s[r(116)],s[r(117)],s.lineJoin,s[r(140)],wr,Qr]);const c=e[r(122)](),x=e[r(115)](),A=this[r(129)][r(123)];this[r(145)](c,0,c.length,x,!1,!1);const l=[et.CIRCLE,A];this[r(134)][r(152)](gs,l),this[r(148)][r(152)](gs,l),s[r(146)]!==void 0&&(this[r(134)][r(152)](Yu),this[r(148)][r(152)](Yu)),s[r(133)]!==void 0&&(this[r(134)].push(f0),this[r(148)].push(f0)),this[r(150)](t)}[_s(139)](e,t,n){const r=_s,s=this[r(143)],o=s[r(146)],a=s[r(133)];if(o===void 0&&a===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),s[r(146)]!==void 0&&this[r(148)][r(152)]([et[r(119)],Gn]),s[r(133)]!==void 0&&this[r(148)][r(152)]([et[r(120)],s[r(133)],s[r(116)],s.lineCap,s[r(142)],s.miterLimit,wr,Qr]);const c=e[r(130)](),x=e[r(147)](),A=e[r(115)]();this[r(151)](x,0,c,A),this.endGeometry(t)}[_s(144)](e,t,n){const r=_s,s=this.state,o=s.fillStyle,a=s[r(133)];if(o===void 0&&a===void 0)return;this[r(137)](),this.beginGeometry(e,t,n),s.fillStyle!==void 0&&this[r(148)][r(152)]([et[r(119)],Gn]),s.strokeStyle!==void 0&&this[r(148)][r(152)]([et[r(120)],s[r(133)],s[r(116)],s[r(117)],s[r(142)],s[r(140)],wr,Qr]);const c=e[r(149)](),x=e[r(147)](),A=e[r(115)]();let l=0;for(let u=0,h=c.length;u<h;++u)l=this[r(151)](x,l,c[u],A);this[r(150)](t)}[_s(124)](){const e=_s;this[e(114)](),this[e(143)]=null;const t=this[e(112)];if(t!==0){const n=this[e(129)];for(let r=0,s=n[e(123)];r<s;++r)n[r]=xs(n[r],t)}return super[e(124)]()}setFillStrokeStyles_(){const e=_s,t=this[e(143)];t[e(146)]!==void 0&&this[e(127)](t,this[e(125)]),t[e(133)]!==void 0&&this[e(121)](t,this[e(118)])}}(function(i,e){const t=$u,n=i();for(;;)try{if(parseInt(t(344))/1*(-parseInt(t(343))/2)+-parseInt(t(345))/3*(parseInt(t(346))/4)+-parseInt(t(352))/5+-parseInt(t(353))/6*(-parseInt(t(349))/7)+-parseInt(t(348))/8+-parseInt(t(347))/9*(parseInt(t(350))/10)+parseInt(t(351))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(th,183355);function $u(i,e){const t=th();return $u=function(n,r){return n=n-343,t[n]},$u(i,e)}function th(){const i=["14106290UAwGym","194290ykiVen","1614GvtawC","push","sqrt","2Vllbkg","313932CwIhlG","102WmhfeD","13012FHDbkq","9FhyhUa","2348504gYKVYT","175yoemFa","3488050gEYRlL"];return th=function(){return i},th()}function PQ(i,e,t,n,r){const s=$u,o=[];let a=t,c=0,x=e.slice(t,2);for(;c<i&&a+r<n;){const[A,l]=x.slice(-2),u=e[a+r],h=e[a+r+1],f=Math[s(355)]((u-A)*(u-A)+(h-l)*(h-l));if(c+=f,c>=i){const g=(i-c+f)/f,d=ni(A,u,g),p=ni(l,h,g);x.push(d,p),o[s(354)](x),x=[d,p],c==i&&(a+=r),c=0}else if(c<i)x.push(e[a+r],e[a+r+1]),a+=r;else{const g=f-c,d=ni(A,u,g/f),p=ni(l,h,g/f);x[s(354)](d,p),o.push(x),x=[d,p],c=0,a+=r}}return c>0&&o.push(x),o}function eh(){const i=["321794iecRnv","148GAIUrf","10047030Gntgmv","2961016hseyjj","26770OwNXjq","510vDAQhz","745623xBerln","50016HwUxCQ","9JxUdIW","sqrt","200YUEiHd","10229849kSXslt"];return eh=function(){return i},eh()}function nh(i,e){const t=eh();return nh=function(n,r){return n=n-217,t[n]},nh(i,e)}(function(i,e){const t=nh,n=i();for(;;)try{if(parseInt(t(225))/1+parseInt(t(217))/2*(parseInt(t(226))/3)+parseInt(t(220))/4*(parseInt(t(223))/5)+parseInt(t(221))/6+-parseInt(t(218))/7+-parseInt(t(222))/8*(parseInt(t(227))/9)+-parseInt(t(224))/10*(parseInt(t(219))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(eh,961938);function UQ(i,e,t,n,r){const s=nh;let o=t,a=t,c=0,x=0,A=t,l,u,h,f,g,d,p,I,_,m;for(u=t;u<n;u+=r){const y=e[u],E=e[u+1];g!==void 0&&(_=y-g,m=E-d,f=Math[s(228)](_*_+m*m),p!==void 0&&(x+=h,l=Math.acos((p*_+I*m)/(h*f)),l>i&&(x>c&&(c=x,o=A,a=u),x=0,A=u-r)),h=f,p=_,I=m),g=y,d=E}return x+=f,x>c?[A,u]:[o,a]}function ih(){const i=["MultiPolygon","getFill","textKey_","250999PAHyix","lineCap","Circle","createFill","getJustify","getStroke","textRotateWithView_","getFlatCoordinates","getMiterLimit","11382wfdzez","updateStrokeStyle","textStrokeState_","2013570ouFDFg","strokeKey_","overflow","state","textFillState_","font","map","lineJoin","Point","fillStyle","getTextBaseline","getStride","declutterImageWithText_","DRAW_IMAGE","join","hitDetectionInstructions","line","7UkzeLY","repeat","2041028pSpzlv","length","textOffsetX_","setTextStyle","40ZRYJGE","4480cXZdjF","getDeclutterMode","declutterMode_","justify","getFlatMidpoints","getScaleArray","getExtent","getText","getBackgroundStroke","saveTextStates_","textState_","getFlatMidpoint","88rEzFOE","setFillStrokeStyle","lineWidth","drawChars_","lineDashOffset","LineString","getFlatInteriorPoints","textStates","lineDash","textAlign","abs","getFont","getEnds","fillKey_","appendFlatPointCoordinates","getRotateWithView","getOverflow","maxAngle","1530600EnANEl","textOffsetY_","getColor","slice","strokeStates","textRotation_","getOffsetY","finish","getCenter","push","createStroke","backgroundStroke","textBaseline","pixelRatio","beginGeometry","text_","getTextAlign","coordinates","getLineJoin","updateFillStyle","MultiLineString","endGeometry","173808sTxtFR","instructions","resolution","placement","string","strokeStyle","getEndss","getBackgroundFill","padding","scale","backgroundFill","fillStates","17237inUpmf","maxExtent","getLineDash","getPlacement","Polygon"];return ih=function(){return i},ih()}const rh=d0;(function(i,e){const t=d0,n=i();for(;;)try{if(parseInt(t(352))/1+-parseInt(t(279))/2*(-parseInt(t(361))/3)+-parseInt(t(275))/4+parseInt(t(310))/5+parseInt(t(364))/6*(-parseInt(t(273))/7)+-parseInt(t(292))/8*(parseInt(t(332))/9)+-parseInt(t(280))/10*(-parseInt(t(344))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ih,276731);const sh={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class OQ extends Ac{constructor(e,t,n,r){const s=d0;super(e,t,n,r),this.labels_=null,this[s(325)]="",this[s(277)]=0,this[s(311)]=0,this[s(358)]=void 0,this[s(315)]=0,this[s(368)]=null,this[s(343)]={},this[s(343)][Gn]={fillStyle:Gn},this[s(363)]=null,this[s(314)]={},this[s(290)]={},this[s(299)]={},this[s(351)]="",this[s(305)]="",this[s(365)]="",this[s(282)]=void 0,this[s(268)]=void 0}finish(){const e=d0,t=super[e(317)]();return t[e(299)]=this[e(299)],t[e(343)]=this[e(343)],t[e(314)]=this.strokeStates,t}drawText(e,t,n){const r=d0,s=this[r(368)],o=this.textStrokeState_,a=this[r(290)];if(this.text_===""||!a||!s&&!o)return;const c=this[r(327)];let x=c[r(276)];const A=e.getType();let l=null,u=e[r(267)]();if(a.placement===r(272)&&(A==r(297)||A==r(330)||A==r(348)||A==r(349))){if(!we(this[r(345)],e[r(286)]()))return;let h;if(l=e.getFlatCoordinates(),A==r(297))h=[l[r(276)]];else if(A=="MultiLineString")h=e[r(304)]();else if(A==r(348))h=e[r(304)]()[r(313)](0,1);else if(A==r(349)){const p=e[r(338)]();h=[];for(let I=0,_=p.length;I<_;++I)h[r(319)](p[I][0])}this[r(324)](e,t,n);const f=a[r(274)],g=f?void 0:a[r(301)];let d=0;for(let p=0,I=h[r(276)];p<I;++p){let _;f?_=PQ(f*this[r(334)],l,d,h[p],u):_=[l[r(313)](d,h[p])];for(let m=0,y=_[r(276)];m<y;++m){const E=_[m];let C=0,b=E[r(276)];if(g==null){const Q=UQ(a.maxAngle,E,0,E[r(276)],2);C=Q[0],b=Q[1]}for(let Q=C;Q<b;Q+=u)c[r(319)](E[Q],E[Q+1]);const B=c[r(276)];d=h[p],this[r(295)](x,B),x=B}}this[r(331)](t)}else{let h=a[r(366)]?null:[];switch(A){case r(264):case"MultiPoint":l=e[r(359)]();break;case"LineString":l=e[r(291)]();break;case r(354):l=e[r(318)]();break;case r(330):l=e[r(284)](),u=2;break;case r(348):l=e.getFlatInteriorPoint(),!a[r(366)]&&h.push(l[2]/this.resolution),u=3;break;case r(349):const _=e[r(298)]();l=[];for(let m=0,y=_.length;m<y;m+=3)!a.overflow&&h[r(319)](_[m+2]/this[r(334)]),l.push(_[m],_[m+1]);if(l[r(276)]===0)return;u=2;break}const f=this[r(306)](l,u);if(f===x)return;if(h&&(f-x)/2!==l.length/u){let _=x/2;h=h.filter((m,y)=>{const E=c[(_+y)*2]===l[y*u]&&c[(_+y)*2+1]===l[y*u+1];return!E&&--_,E})}this[r(289)](),(a[r(342)]||a[r(321)])&&(this[r(293)](a[r(342)],a[r(321)]),a[r(342)]&&this[r(329)](this[r(367)],this.createFill),a.backgroundStroke&&(this[r(362)](this[r(367)],this.applyStroke),this[r(271)].push(this[r(320)](this.state)))),this[r(324)](e,t,n);let g=a[r(340)];if(g!=es&&(a[r(341)][0]<0||a.scale[1]<0)){let _=a[r(340)][0],m=a[r(340)][1],y=a[r(340)][2],E=a[r(340)][3];a[r(341)][0]<0&&(m=-m,E=-E),a.scale[1]<0&&(_=-_,y=-y),g=[_,m,y,E]}const d=this.pixelRatio;this[r(333)].push([et[r(269)],x,f,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this[r(315)],[1,1],NaN,this[r(282)],this[r(268)],g==es?es:g[r(262)](function(_){return _*d}),!!a.backgroundFill,!!a[r(321)],this[r(325)],this[r(351)],this[r(365)],this[r(305)],this.textOffsetX_,this[r(311)],h]);const p=1/d,I=this[r(367)][r(265)];a.backgroundFill&&(this.state.fillStyle=Gn,this[r(271)][r(319)](this.createFill(this.state))),this[r(271)].push([et[r(269)],x,f,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this[r(315)],[p,p],NaN,this[r(282)],this[r(268)],g,!!a[r(342)],!!a[r(321)],this[r(325)],this[r(351)],this.strokeKey_,this.fillKey_?Gn:this.fillKey_,this[r(277)],this.textOffsetY_,h]),a[r(342)]&&(this[r(367)][r(265)]=I,this[r(271)][r(319)](this[r(355)](this[r(367)]))),this[r(331)](t)}}saveTextStates_(){const e=d0,t=this[e(363)],n=this[e(290)],r=this[e(368)],s=this.strokeKey_;t&&!(s in this[e(314)])&&(this[e(314)][s]={strokeStyle:t[e(337)],lineCap:t[e(353)],lineDashOffset:t[e(296)],lineWidth:t[e(294)],lineJoin:t[e(263)],miterLimit:t.miterLimit,lineDash:t.lineDash});const o=this[e(351)];!(o in this[e(299)])&&(this[e(299)][o]={font:n.font,textAlign:n[e(301)]||wx,justify:n[e(283)],textBaseline:n[e(322)]||u1,scale:n.scale});const a=this[e(305)];r&&!(a in this[e(343)])&&(this.fillStates[a]={fillStyle:r.fillStyle})}[rh(295)](e,t){const n=rh,r=this.textStrokeState_,s=this[n(290)],o=this[n(365)],a=this[n(351)],c=this.fillKey_;this[n(289)]();const x=this[n(323)],A=sh[s[n(322)]],l=this[n(311)]*x,u=this[n(325)],h=r?r[n(294)]*Math[n(302)](s.scale[0])/2:0;this[n(333)][n(319)]([et.DRAW_CHARS,e,t,A,s[n(366)],c,s[n(309)],x,l,o,h*x,u,a,1,this.declutterMode_]),this[n(271)][n(319)]([et.DRAW_CHARS,e,t,A,s[n(366)],c&&Gn,s[n(309)],x,l,o,h*x,u,a,1/x,this[n(282)]])}[rh(278)](e,t){const n=rh;let r,s,o;if(!e)this[n(325)]="";else{const a=e[n(350)]();a?(s=this[n(368)],!s&&(s={},this[n(368)]=s),s[n(265)]=Zi(a[n(312)]()||Gn)):(s=null,this[n(368)]=s);const c=e[n(357)]();if(!c)o=null,this[n(363)]=o;else{o=this[n(363)],!o&&(o={},this[n(363)]=o);const g=c[n(346)](),d=c.getLineDashOffset(),p=c.getWidth(),I=c[n(360)]();o[n(353)]=c.getLineCap()||uo,o[n(300)]=g?g[n(313)]():wr,o[n(296)]=d===void 0?Qr:d,o[n(263)]=c[n(328)]()||ho,o.lineWidth=p===void 0?Qx:p,o.miterLimit=I===void 0?bx:I,o.strokeStyle=Zi(c[n(312)]()||Bx)}r=this[n(290)];const x=e[n(303)]()||ny;iy(x);const A=e[n(285)]();r[n(366)]=e[n(308)](),r[n(261)]=x,r[n(309)]=e.getMaxAngle(),r[n(335)]=e[n(347)](),r[n(301)]=e[n(326)](),r.repeat=e.getRepeat(),r.justify=e[n(356)](),r.textBaseline=e[n(266)]()||u1,r[n(342)]=e[n(339)](),r[n(321)]=e[n(288)](),r[n(340)]=e.getPadding()||es,r[n(341)]=A===void 0?[1,1]:A;const l=e.getOffsetX(),u=e[n(316)](),h=e[n(307)](),f=e.getRotation();this[n(325)]=e[n(287)]()||"",this[n(277)]=l===void 0?0:l,this[n(311)]=u===void 0?0:u,this[n(358)]=h===void 0?!1:h,this[n(315)]=f===void 0?0:f,this[n(365)]=o?(typeof o[n(337)]=="string"?o.strokeStyle:ct(o[n(337)]))+o[n(353)]+o.lineDashOffset+"|"+o[n(294)]+o[n(263)]+o.miterLimit+"["+o.lineDash[n(270)]()+"]":"",this[n(351)]=r[n(261)]+r[n(341)]+(r.textAlign||"?")+(r.repeat||"?")+(r[n(283)]||"?")+(r[n(322)]||"?"),this.fillKey_=s&&s[n(265)]?typeof s[n(265)]==n(336)?s[n(265)]:"|"+ct(s[n(265)]):""}this[n(282)]=e[n(281)](),this.declutterImageWithText_=t}}function d0(i,e){const t=ih();return d0=function(n,r){return n=n-261,t[n]},d0(i,e)}const Wp=uc;(function(i,e){const t=uc,n=i();for(;;)try{if(parseInt(t(207))/1+parseInt(t(220))/2*(-parseInt(t(215))/3)+parseInt(t(218))/4+parseInt(t(213))/5+-parseInt(t(219))/6*(parseInt(t(221))/7)+parseInt(t(211))/8*(-parseInt(t(212))/9)+parseInt(t(205))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(oh,785176);function uc(i,e){const t=oh();return uc=function(n,r){return n=n-205,t[n]},uc(i,e)}function oh(){const i=["515978vJHKXF","511763DQgKSo","tolerance_","12761980CeJLvA","finish","353737IPgnjy","resolution_","buildersByZIndex_","getBuilder","4895552zuVOIT","9VbKKHc","1727830CgAdTs","maxExtent_","9nXcXVn","pixelRatio_","toString","5168884wgJjUJ","90bxARBh"];return oh=function(){return i},oh()}const zQ={Circle:uC,Default:Ac,Image:GQ,LineString:NQ,Polygon:uC,Text:OQ};class hC{constructor(e,t,n,r){const s=uc;this[s(222)]=e,this[s(214)]=t,this[s(216)]=r,this[s(208)]=n,this[s(209)]={}}[Wp(206)](){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const n=this.buildersByZIndex_[t];for(const r in n){const s=n[r].finish();e[t][r]=s}}return e}[Wp(210)](e,t){const n=Wp,r=e!==void 0?e[n(217)]():"0";let s=this.buildersByZIndex_[r];s===void 0&&(s={},this[n(209)][r]=s);let o=s[t];if(o===void 0){const a=zQ[t];o=new a(this.tolerance_,this.maxExtent_,this[n(208)],this.pixelRatio_),s[t]=o}return o}}(function(i,e){const t=hc,n=i();for(;;)try{if(-parseInt(t(172))/1*(parseInt(t(171))/2)+parseInt(t(167))/3+-parseInt(t(182))/4*(-parseInt(t(174))/5)+parseInt(t(178))/6+-parseInt(t(169))/7*(-parseInt(t(177))/8)+parseInt(t(181))/9*(-parseInt(t(168))/10)+-parseInt(t(176))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ah,509515);function ah(){const i=["6004020TCFFfI","sqrt","replace","54FwqGnM","108KWaJAg","545784gtCoCr","150760HPmYSM","7woYIpR","push","155326OIDWuu","1huubWS","atan2","18770ZewipF","substring","14372633QLIvRG","5602248YPhRRu"];return ah=function(){return i},ah()}function hc(i,e){const t=ah();return hc=function(n,r){return n=n-167,t[n]},hc(i,e)}function qQ(i,e,t,n,r,s,o,a,c,x,A,l){const u=hc;let h=i[e],f=i[e+1],g=0,d=0,p=0,I=0;function _(){const M=hc;g=h,d=f,e+=n,h=i[e],f=i[e+1],I+=p,p=Math[M(179)]((h-g)*(h-g)+(f-d)*(f-d))}do _();while(e<t-n&&I+p<s);let m=p===0?0:(s-I)/p;const y=ni(g,h,m),E=ni(d,f,m),C=e-n,b=I,B=s+a*c(x,r,A);for(;e<t-n&&I+p<B;)_();m=p===0?0:(B-I)/p;const Q=ni(g,h,m),w=ni(d,f,m);let R;if(l){const M=[y,E,Q,w];yy(M,0,4,2,l,M,M),R=M[0]>M[2]}else R=y>Q;const D=Math.PI,F=[],v=C+n===e;e=C,p=0,I=b,h=i[e],f=i[e+1];let S;if(v){_(),S=Math[u(173)](f-d,h-g),R&&(S+=S>0?-D:D);const M=(Q+y)/2,L=(w+E)/2;return F[0]=[M,L,(B-s)/2,S,r],F}r=r[u(180)](/\n/g," ");for(let M=0,L=r.length;M<L;){_();let P=Math[u(173)](f-d,h-g);if(R&&(P+=P>0?-D:D),S!==void 0){let T=P-S;if(T+=T>D?-2*D:T<-D?2*D:0,Math.abs(T)>o)return null}S=P;const O=M;let k=0;for(;M<L;++M){const T=R?L-M-1:M,V=a*c(x,r[T],A);if(e+n<t&&I+p<s+k+V/2)break;k+=V}if(M===O)continue;const H=R?r[u(175)](L-O,L-M):r[u(175)](O,M);m=p===0?0:(s+k/2-I)/p;const K=ni(g,h,m),q=ni(d,f,m);F[u(170)]([K,q,k/2,P,H]),s+=k}return F}(function(i,e){const t=ch,n=i();for(;;)try{if(parseInt(t(414))/1*(-parseInt(t(408))/2)+parseInt(t(413))/3+-parseInt(t(404))/4+parseInt(t(411))/5*(parseInt(t(405))/6)+parseInt(t(409))/7*(parseInt(t(412))/8)+-parseInt(t(415))/9+parseInt(t(410))/10*(parseInt(t(407))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(xh,811962);function fC(i,e,t,n){const r=ch;let s=i[e],o=i[e+1],a=0;for(let c=e+n;c<t;c+=n){const x=i[c],A=i[c+1];a+=Math[r(406)]((x-s)*(x-s)+(A-o)*(A-o)),s=x,o=A}return a}function xh(){const i=["20NBxZkY","285tenIRk","264VIKunc","413331UPXISL","1594297XnEmHi","10241028vjMpXh","1960192VPuOyA","123978JncvKI","sqrt","9187486vXJzgY","2jFgZxG","222341mfrwnJ"];return xh=function(){return i},xh()}function ch(i,e){const t=xh();return ch=function(n,r){return n=n-404,t[n]},ch(i,e)}const $t=fc;(function(i,e){const t=fc,n=i();for(;;)try{if(parseInt(t(318))/1+-parseInt(t(325))/2+parseInt(t(343))/3+-parseInt(t(302))/4*(parseInt(t(347))/5)+-parseInt(t(296))/6*(-parseInt(t(297))/7)+-parseInt(t(307))/8*(parseInt(t(380))/9)+-parseInt(t(379))/10*(-parseInt(t(364))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ah,529494);function fc(i,e){const t=Ah();return fc=function(n,r){return n=n-287,t[n]},fc(i,e)}function Ah(){const i=["DRAW_CHARS","canvasTransform","zIndex","fillText","pixelRatio","122226VGDKRs","28XSjaGJ","drawImageY","minY","feature","scale","199088EjNJyq","execute","coordinateCache_","save","instructions","3928GTTnDR","font","lineDashOffset","abs","translate","calculateImageOrLabelDimensions_","execute_","CUSTOM","createLabel","setStrokeStyle_","textAlign","1010015kLeRzE","SET_FILL_STYLE","zIndexContext_","right","sqrt","resolution","minX","1400666eZNVUO","fillStates","lineWidth","strokeText","load","insert","stroke","DRAW_IMAGE","MOVE_TO_LINE_TO","replayTextBackground_","anchorX","justify","textStates","atan2","lineCap","declutter","canvas","SET_STROKE_STYLE","1106259BTcgib","geometry","declutterBox","overlaps","5PjwuNU","maxX","BEGIN_PATH","hitDetectionInstructions","apply","anchorY","start","none","closePath","viewRotation_","map","length","declutterMode","fromCharCode","widths_","end","restore","88726PYuuYH","replayImageOrLabel_","fillStyle","moveTo","textBaseline","maxY","alignAndScaleFill_","floor","CLOSE_PATH","drawLabelWithPointPlacement_","renderedTransform_","fill_","args","STROKE","getExtent","820irCwHP","15435ypwuxL","height","arc","min","beginPath","originX","coordinates","isArray","getZIndexContext","ceil","getGeometry","strokeStyle","drawImageW","collides","middle","lineTo","width","prototype","END_GEOMETRY","round","push","pixelCoordinates_","max","drawImageX","miterLimit","labels_","lineJoin","CIRCLE","fill","lineDash","reduce","originY","strokeStates","left","BEGIN_GEOMETRY"];return Ah=function(){return i},Ah()}const Po=hi(),g0=[],Fr=[],Tr=[],p0=[];function dC(i){const e=fc;return i[3][e(345)]}const gC=new RegExp("["+String[$t(360)](1425)+"-"+String[$t(360)](2303)+"יִ-"+String[$t(360)](65023)+String[$t(360)](65136)+"-ﻼࠀ-"+String[$t(360)](69631)+String[$t(360)](124928)+"-]");function $p(i,e){const t=$t;return e===t(353)?e=gC.test(i)?t(321):"left":e===t(362)&&(e=gC.test(i)?t(289):"right"),sh[e]}function YQ(i,e,t){const n=$t;return t>0&&i[n(400)](`
`,""),i[n(400)](e,""),i}class HQ{constructor(e,t,n,r,s){const o=$t;this[o(346)]=n,this[o(295)]=t,this.resolution=e,this[o(370)],this.instructions=r.instructions,this[o(386)]=r[o(386)],this[o(304)]={},this[o(374)]=Nn(),this[o(350)]=r[o(350)],this[o(401)]=null,this[o(356)]=0,this[o(326)]=r[o(326)]||{},this[o(288)]=r[o(288)]||{},this.textStates=r[o(337)]||{},this[o(361)]={},this.labels_={},this[o(320)]=s?new Tp:null}[$t(388)](){return this[$t(320)]}[$t(315)](e,t,n,r){const s=$t,o=e+t+n+r;if(this[s(405)][o])return this[s(405)][o];const a=r?this[s(288)][r]:null,c=n?this[s(326)][n]:null,x=this[s(337)][t],A=this[s(295)],l=[x.scale[0]*A,x[s(301)][1]*A],u=x[s(336)]?sh[x[s(336)]]:$p(Array[s(387)](e)?e[0]:e,x[s(317)]||wx),h=r&&a[s(327)]?a.lineWidth:0,f=Array[s(387)](e)?e:String(e).split(`
`)[s(410)](YQ,[]),{width:g,height:d,widths:p,heights:I,lineWidths:_}=Kw(x,f),m=g+h,y=[],E=(m+2)*l[0],C=(d+h)*l[1],b={width:E<0?Math.floor(E):Math[s(389)](E),height:C<0?Math[s(371)](C):Math[s(389)](C),contextInstructions:y};(l[0]!=1||l[1]!=1)&&y[s(400)](s(301),l),r&&(y.push(s(391),a[s(391)]),y[s(400)](s(327),h),y[s(400)](s(339),a[s(339)]),y[s(400)](s(406),a[s(406)]),y[s(400)](s(404),a[s(404)]),y.push("setLineDash",[a[s(409)]]),y[s(400)](s(309),a.lineDashOffset)),n&&y[s(400)](s(366),c[s(366)]),y[s(400)]("textBaseline",s(394)),y[s(400)](s(317),"center");const B=.5-u;let Q=u*m+B*h;const w=[],R=[];let D=0,F=0,v=0,S=0,M;for(let L=0,P=f[s(358)];L<P;L+=2){const O=f[L];if(O===`
`){F+=D,D=0,Q=u*m+B*h,++S;continue}const k=f[L+1]||x[s(308)];k!==M&&(r&&w[s(400)](s(308),k),n&&R[s(400)](s(308),k),M=k),D=Math[s(402)](D,I[v]);const H=[O,Q+B*p[v]+u*(p[v]-_[S]),.5*(h+D)+F];Q+=p[v],r&&w[s(400)](s(328),H),n&&R.push(s(294),H),++v}return Array[s(397)].push[s(351)](y,w),Array.prototype[s(400)].apply(y,R),this[s(405)][o]=b,b}[$t(334)](e,t,n,r,s,o,a){const c=$t;e[c(384)](),e[c(367)][c(351)](e,t),e[c(395)].apply(e,n),e[c(395)][c(351)](e,r),e.lineTo[c(351)](e,s),e[c(395)][c(351)](e,t),o&&(this[c(370)]=o[2],this.fill_(e)),a&&(this[c(316)](e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,n,r,s,o,a,c,x,A,l,u,h,f,g,d){const p=$t;a*=u[0],c*=u[1];let I=n-a,_=r-c;const m=s+x>e?e-x:s,y=o+A>t?t-A:o,E=f[3]+m*u[0]+f[1],C=f[0]+y*u[1]+f[2],b=I-f[3],B=_-f[0];(g||l!==0)&&(g0[0]=b,p0[0]=b,g0[1]=B,Fr[1]=B,Fr[0]=b+E,Tr[0]=Fr[0],Tr[1]=B+C,p0[1]=Tr[1]);let Q;return l!==0?(Q=er(Nn(),n,r,1,1,l,-n,-r),Ue(Q,g0),Ue(Q,Fr),Ue(Q,Tr),Ue(Q,p0),Mi(Math.min(g0[0],Fr[0],Tr[0],p0[0]),Math[p(383)](g0[1],Fr[1],Tr[1],p0[1]),Math[p(402)](g0[0],Fr[0],Tr[0],p0[0]),Math.max(g0[1],Fr[1],Tr[1],p0[1]),Po)):Mi(Math[p(383)](b,b+E),Math.min(B,B+C),Math[p(402)](b,b+E),Math.max(B,B+C),Po),h&&(I=Math.round(I),_=Math[p(399)](_)),{drawImageX:I,drawImageY:_,drawImageW:m,drawImageH:y,originX:x,originY:A,declutterBox:{minX:Po[0],minY:Po[1],maxX:Po[2],maxY:Po[3],value:d},canvasTransform:Q,scale:u}}[$t(365)](e,t,n,r,s,o,a){const c=$t,x=!!(o||a),A=r[c(345)],l=a?a[2]*r[c(301)][0]/2:0;return A[c(324)]-l<=t[0]&&A[c(348)]+l>=0&&A[c(299)]-l<=t[1]&&A[c(369)]+l>=0&&(x&&this.replayTextBackground_(e,g0,Fr,Tr,p0,o,a),Xw(e,r[c(292)],s,n,r[c(385)],r[c(287)],r[c(392)],r.drawImageH,r[c(403)],r[c(298)],r[c(301)])),!0}fill_(e){const t=$t,n=this[t(370)];if(n){const r=Ue(this.renderedTransform_,[0,0]),s=512*this[t(295)];e[t(305)](),e[t(311)](r[0]%s,r[1]%s),n!==1&&e.scale(n,n),e.rotate(this[t(356)])}e[t(408)](),n&&e[t(363)]()}[$t(316)](e,t){const n=$t;e[n(391)]=t[1],e.lineWidth=t[2],e[n(339)]=t[3],e[n(406)]=t[4],e[n(404)]=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}[$t(373)](e,t,n,r){const s=$t,o=this[s(337)][t],a=this[s(315)](e,t,r,n),c=this[s(288)][n],x=this[s(295)],A=$p(Array.isArray(e)?e[0]:e,o[s(317)]||wx),l=sh[o[s(368)]||u1],u=c&&c[s(327)]?c[s(327)]:0,h=a.width/x-2*o[s(301)][0],f=A*h+2*(.5-A)*u,g=l*a[s(381)]/x+2*(.5-l)*u;return{label:a,anchorX:f,anchorY:g}}[$t(313)](e,t,n,r,s,o,a,c){const x=$t,A=this.zIndexContext_;let l;this[x(401)]&&o0(n,this[x(374)])?l=this[x(401)]:(!this[x(401)]&&(this[x(401)]=[]),l=c0(this[x(386)],0,this[x(386)][x(358)],2,n,this[x(401)]),h6(this[x(374)],n));let u=0;const h=r[x(358)];let f=0,g,d,p,I,_,m,y,E,C,b,B,Q,w,R=0,D=0,F=null,v=null;const S=this.coordinateCache_,M=this[x(356)],L=Math[x(399)](Math[x(338)](-n[1],n[0])*1e12)/1e12,P={context:e,pixelRatio:this.pixelRatio,resolution:this[x(323)],rotation:M},O=this[x(306)]!=r||this.overlaps?0:200;let k,H,K,q;for(;u<h;){const T=r[u];switch(T[0]){case et[x(290)]:k=T[1],q=T[3],k[x(390)]()?a!==void 0&&!we(a,q[x(378)]())?u=T[2]+1:++u:u=T[2],A&&(A[x(293)]=T[4]);break;case et[x(349)]:R>O&&(this[x(375)](e),R=0),D>O&&(e.stroke(),D=0),!R&&!D&&(e[x(384)](),_=NaN,m=NaN),++u;break;case et[x(407)]:f=T[1];const X=l[f],$=l[f+1],it=l[f+2],st=l[f+3],Y=it-X,yt=st-$,Dn=Math[x(322)](Y*Y+yt*yt);e.moveTo(X+Dn,$),e[x(382)](X,$,Dn,0,2*Math.PI,!0),++u;break;case et[x(372)]:e[x(355)](),++u;break;case et[x(314)]:f=T[1],g=T[2];const ht=T[3],An=T[4],Ie=T[5];P[x(344)]=ht,P[x(300)]=k,!(u in S)&&(S[u]=[]);const Ae=S[u];Ie?Ie(l,f,g,2,Ae):(Ae[0]=l[f],Ae[1]=l[f+1],Ae[x(358)]=2),A&&(A[x(293)]=T[6]),An(Ae,P),++u;break;case et[x(332)]:f=T[1],g=T[2],C=T[3],d=T[4],p=T[5];let He=T[6];const bt=T[7],In=T[8],Fe=T[9],ti=T[10];let ui=T[11];const pr=T[12];let Ht=T[13];I=T[14]||x(340);const ft=T[15];if(!C&&T.length>=20){b=T[19],B=T[20],Q=T[21],w=T[22];const vi=this[x(373)](b,B,Q,w);C=vi.label,T[3]=C;const Vs=T[23];d=(vi[x(335)]-Vs)*this[x(295)],T[4]=d;const Ri=T[24];p=(vi[x(352)]-Ri)*this[x(295)],T[5]=p,He=C[x(381)],T[6]=He,Ht=C[x(396)],T[13]=Ht}let Xt;T[x(358)]>25&&(Xt=T[25]);let oe,mt,St;T[x(358)]>17?(oe=T[16],mt=T[17],St=T[18]):(oe=es,mt=!1,St=!1),ti&&L?ui+=M:!ti&&!L&&(ui-=M);let be=0;for(;f<g;f+=2){if(Xt&&Xt[be++]<Ht/this[x(295)])continue;const vi=this.calculateImageOrLabelDimensions_(C.width,C[x(381)],l[f],l[f+1],Ht,He,d,p,In,Fe,ui,pr,s,oe,mt||St,k),Vs=[e,t,C,vi,bt,mt?F:null,St?v:null];if(c){let Ri,Ir,Si;if(ft){const De=g-f;if(!ft[De]){ft[De]={args:Vs,declutterMode:I};continue}const Tn=ft[De];Ri=Tn[x(376)],Ir=Tn[x(359)],delete ft[De],Si=dC(Ri)}let Jr,Kr;if(Ri&&(Ir!==x(340)||!c[x(393)](Si))&&(Jr=!0),(I!==x(340)||!c.collides(vi[x(345)]))&&(Kr=!0),Ir===x(340)&&I==="declutter"){const De=Jr&&Kr;Jr=De,Kr=De}Jr&&(Ir!==x(354)&&c.insert(Si),this[x(365)][x(351)](this,Ri)),Kr&&(I!==x(354)&&c[x(330)](vi[x(345)]),this[x(365)][x(351)](this,Vs))}else this.replayImageOrLabel_[x(351)](this,Vs)}++u;break;case et[x(291)]:const _e=T[1],kn=T[2],ln=T[3],un=T[4];w=T[5];const _n=T[6],le=T[7],Mn=T[8];Q=T[9];const mn=T[10];b=T[11],B=T[12];const Fn=[T[13],T[13]];I=T[14]||x(340);const Ge=this[x(337)][B],Oi=Ge[x(308)],Hs=[Ge[x(301)][0]*le,Ge[x(301)][1]*le];let js;Oi in this[x(361)]?js=this[x(361)][Oi]:(js={},this[x(361)][Oi]=js);const Zg=fC(l,_e,kn,2),h4=Math[x(310)](Hs[0])*sy(Oi,b,js);if(un||h4<=Zg){const vi=this[x(337)][B][x(317)],Vs=(Zg-h4)*$p(b,vi),Ri=qQ(l,_e,kn,2,b,Vs,_n,Math[x(310)](Hs[0]),sy,Oi,js,L?0:this[x(356)]);t:if(Ri){const Ir=[];let Si,Jr,Kr,De,Tn;if(Q)for(Si=0,Jr=Ri[x(358)];Si<Jr;++Si){Tn=Ri[Si],Kr=Tn[4],De=this[x(315)](Kr,B,"",Q),d=Tn[2]+(Hs[0]<0?-mn:mn),p=ln*De[x(381)]+(.5-ln)*2*mn*Hs[1]/Hs[0]-Mn;const Xr=this[x(312)](De[x(396)],De.height,Tn[0],Tn[1],De[x(396)],De[x(381)],d,p,0,0,Tn[3],Fn,!1,es,!1,k);if(c&&I==="declutter"&&c[x(393)](Xr[x(345)]))break t;Ir[x(400)]([e,t,De,Xr,1,null,null])}if(w)for(Si=0,Jr=Ri[x(358)];Si<Jr;++Si){Tn=Ri[Si],Kr=Tn[4],De=this[x(315)](Kr,B,w,""),d=Tn[2],p=ln*De[x(381)]-Mn;const Xr=this[x(312)](De.width,De.height,Tn[0],Tn[1],De[x(396)],De[x(381)],d,p,0,0,Tn[3],Fn,!1,es,!1,k);if(c&&I==="declutter"&&c[x(393)](Xr[x(345)]))break t;Ir.push([e,t,De,Xr,1,null,null])}c&&I!==x(354)&&c[x(329)](Ir[x(357)](dC));for(let Xr=0,CL=Ir.length;Xr<CL;++Xr)this[x(365)].apply(this,Ir[Xr])}}++u;break;case et[x(398)]:if(o!==void 0){k=T[1];const vi=o(k,q,I);if(vi)return vi}++u;break;case et.FILL:O?R++:this[x(375)](e),++u;break;case et[x(333)]:for(f=T[1],g=T[2],H=l[f],K=l[f+1],e[x(367)](H,K),_=H+.5|0,m=K+.5|0,f+=2;f<g;f+=2)H=l[f],K=l[f+1],y=H+.5|0,E=K+.5|0,(f==g-2||y!==_||E!==m)&&(e[x(395)](H,K),_=y,m=E);++u;break;case et[x(319)]:F=T,this[x(370)]=T[2],R&&(this[x(375)](e),R=0,D&&(e.stroke(),D=0)),e[x(366)]=T[1],++u;break;case et[x(342)]:v=T,D&&(e[x(331)](),D=0),this[x(316)](e,T),++u;break;case et[x(377)]:O?D++:e[x(331)](),++u;break;default:++u;break}}return R&&this[x(375)](e),D&&e[x(331)](),void 0}[$t(303)](e,t,n,r,s,o){const a=$t;this[a(356)]=r,this[a(313)](e,t,n,this[a(306)],s,void 0,void 0,o)}executeHitDetection(e,t,n,r,s){const o=$t;return this.viewRotation_=n,this[o(313)](e,[e.canvas.width,e[o(341)].height],t,this[o(350)],!0,r,s)}}const ie=hh;(function(i,e){const t=hh,n=i();for(;;)try{if(parseInt(t(389))/1+-parseInt(t(399))/2*(-parseInt(t(355))/3)+parseInt(t(407))/4+-parseInt(t(375))/5+-parseInt(t(381))/6*(-parseInt(t(383))/7)+parseInt(t(380))/8*(-parseInt(t(373))/9)+-parseInt(t(387))/10*(parseInt(t(405))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(lh,827708);function lh(){const i=["overlaps_","offset","height","executorsByZIndex_","execute","getImageData","clear","none","data","canvas","clearRect","reverse","643122xJxCks","Image","3537965JCdDMH","renderedContext_","Polygon","pushFunction","createExecutors_","128JgXNpy","4745742XgfNjo","renderDeferred","14QUpeOF","sort","LineString","renderBuffer_","30uTyHvx","maxExtent_","359022KgIQyf","getDeferredZIndexContexts","lineTo","restore","pixelRatio_","map","draw","getClipCoords","push","keys","171026MaHczd","resolution_","save","hitDetectionContext_","width","length","2081079iTmLDY","moveTo","3168728PqyJzd","filter","getZIndexContext","hasExecutors","Text","toString","Default","18uglKvp","deferredZIndexContexts_","isEmpty","clip","hitDetectionTransform_","includes"];return lh=function(){return i},lh()}const Uo=[ie(377),"Circle",ie(385),"Image",ie(352),ie(354)],uh=[ie(374),"Text"],jQ=Uo[ie(408)](i=>!uh[ie(360)](i));class pC{constructor(e,t,n,r,s,o,a){const c=ie;this[c(388)]=e,this[c(361)]=r,this[c(393)]=n,this[c(400)]=t,this.renderBuffer_=o,this[c(364)]={},this.hitDetectionContext_=null,this[c(359)]=Nn(),this[c(376)]=null,this[c(356)]={},this[c(379)](s,a)}[ie(358)](e,t){const n=ie,r=this[n(396)](t);e.beginPath(),e[n(406)](r[0],r[1]),e.lineTo(r[2],r[3]),e[n(391)](r[4],r[5]),e[n(391)](r[6],r[7]),e[n(358)]()}[ie(379)](e,t){const n=ie;for(const r in e){let s=this[n(364)][r];s===void 0&&(s={},this[n(364)][r]=s);const o=e[r];for(const a in o){const c=o[a];s[a]=new HQ(this.resolution_,this[n(393)],this[n(361)],c,t)}}}[ie(351)](e){const t=ie;for(const n in this[t(364)]){const r=this[t(364)][n];for(let s=0,o=e[t(404)];s<o;++s)if(e[s]in r)return!0}return!1}forEachFeatureAtCoordinate(e,t,n,r,s,o){const a=ie;r=Math.round(r);const c=r*2+1,x=er(this[a(359)],r+.5,r+.5,1/t,-1/t,-n,-e[0],-e[1]),A=!this[a(402)];A&&(this[a(402)]=fe(c,c,void 0,{willReadFrequently:!0}));const l=this[a(402)];l[a(370)][a(403)]!==c||l[a(370)].height!==c?(l[a(370)][a(403)]=c,l[a(370)][a(363)]=c):!A&&l[a(371)](0,0,c,c);let u;this[a(386)]!==void 0&&(u=hi(),sx(u,e),t0(u,t*(this.renderBuffer_+r),u));const h=VQ(r);let f;function g(E,C,b){const B=a,Q=l[B(366)](0,0,c,c)[B(369)];for(let w=0,R=h[B(404)];w<R;w++)if(Q[h[w]]>0){if(!o||b===B(368)||f!==B(374)&&f!=="Text"||o.includes(E)){const D=(h[w]-3)/4,F=r-D%c,v=r-(D/c|0),S=s(E,C,F*F+v*v);if(S)return S}l.clearRect(0,0,c,c);break}}const d=Object.keys(this[a(364)])[a(394)](Number);d[a(384)](Ji);let p,I,_,m,y;for(p=d[a(404)]-1;p>=0;--p){const E=d[p][a(353)]();for(_=this[a(364)][E],I=Uo.length-1;I>=0;--I)if(f=Uo[I],m=_[f],m!==void 0&&(y=m.executeHitDetection(l,x,n,g,u),y))return y}}[ie(396)](e){const t=this.maxExtent_;if(!t)return null;const n=t[0],r=t[1],s=t[2],o=t[3],a=[n,r,n,o,s,o,s,r];return c0(a,0,8,2,e,a),a}[ie(357)](){return $r(this[ie(364)])}[ie(365)](e,t,n,r,s,o,a){const c=ie,x=Object[c(398)](this[c(364)])[c(394)](Number);x[c(384)](Ji),o=o||Uo;const A=Uo.length;let l,u,h,f,g;for(a&&x[c(372)](),l=0,u=x[c(404)];l<u;++l){const d=x[l].toString();for(g=this[c(364)][d],h=0,f=o[c(404)];h<f;++h){const p=o[h],I=g[p];if(I!==void 0){const _=a===null?void 0:I[c(409)](),m=_?_.getContext():e,y=this[c(388)]&&p!==c(374)&&p!==c(352);if(y&&(m[c(401)](),this.clip(m,n)),!_||p===c(352)||p===c(374)?I[c(365)](m,t,n,r,s,a):_[c(378)](E=>I[c(365)](E,t,n,r,s,a)),y&&m[c(392)](),_){_[c(362)]();const E=x[l]*A+h;!this[c(356)][E]&&(this[c(356)][E]=[]),this[c(356)][E].push(_)}}}}this[c(376)]=e}[ie(390)](){return this[ie(356)]}getRenderedContext(){return this[ie(376)]}[ie(382)](){const e=ie,t=this[e(356)],n=Object[e(398)](t)[e(394)](Number)[e(384)](Ji);for(let r=0,s=n.length;r<s;++r)t[n[r]].forEach(o=>{const a=e;o[a(395)](this[a(376)]),o[a(367)]()}),t[n[r]][e(404)]=0}}const tI={};function VQ(i){const e=ie;if(tI[i]!==void 0)return tI[i];const t=i*2+1,n=i*i,r=new Array(n+1);for(let o=0;o<=i;++o)for(let a=0;a<=i;++a){const c=o*o+a*a;if(c>n)break;let x=r[c];!x&&(x=[],r[c]=x),x[e(397)](((i+o)*t+(i+a))*4+3),o>0&&x[e(397)](((i-o)*t+(i+a))*4+3),a>0&&(x[e(397)](((i+o)*t+(i-a))*4+3),o>0&&x[e(397)](((i-o)*t+(i-a))*4+3))}const s=[];for(let o=0,a=r[e(404)];o<a;++o)r[o]&&s[e(397)](...r[o]);return tI[i]=s,s}function hh(i,e){const t=lh();return hh=function(n,r){return n=n-351,t[n]},hh(i,e)}const Bt=Oo;function Oo(i,e){const t=fh();return Oo=function(n,r){return n=n-144,t[n]},Oo(i,e)}(function(i,e){const t=Oo,n=i();for(;;)try{if(-parseInt(t(234))/1+-parseInt(t(276))/2*(parseInt(t(202))/3)+-parseInt(t(154))/4+parseInt(t(222))/5*(parseInt(t(239))/6)+-parseInt(t(256))/7+parseInt(t(271))/8*(parseInt(t(149))/9)+parseInt(t(237))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(fh,243406);function fh(){const i=["text_","getImage","imageWidth_","imageRotateWithView_","drawCircle","setContextTextState_","getStroke","transform_","drawImages_","setTextStyle","lineDash","fill","imageHeight_","save","setImageStyle","drawGeometry","strokeStyle","imageAnchorY_","simplifyTransformed","setTransform","getMiterLimit","sqrt","setContextFillState_","translate","imageOpacity_","textFillState_","extent_","getAnchor","font","restore","getText","getRotateWithView","atan2","117UdecoI","getOffsetX","contextStrokeState_","LineString","getFlatMidpoint","getExtent","imageOriginY_","getPixelRatio","textBaseline","drawMultiPolygon","imageOriginX_","getEndss","getFill","textStrokeState_","globalAlpha","fillText","getGeometryFunction","getOffsetY","viewRotation_","textAlign","3895nqvcwM","context_","imageScale_","getFlatCoordinates","lineDashOffset","getLineDashOffset","setContextStrokeState_","squaredTolerance_","setLineDash","setFillStrokeStyle","drawRings_","getTextBaseline","283571iODfGm","userTransform_","drawMultiLineString","4372880UHiMIQ","moveToLineTo_","3282JRTDpu","textOffsetX_","drawGeometryCollection","getTextAlign","drawFeature","drawText_","reduce","getFlatMidpoints","GeometryCollection","textOffsetY_","pixelCoordinates_","map","isArray","getScaleArray","lineJoin","fillState_","textRotateWithView_","715323zvUKTQ","miterLimit","stroke","getEnds","getSize","getFlatInteriorPoint","Point","getLineJoin","getGeometriesArray","imageRotation_","scale","getFlatInteriorPoints","textScale_","pixelRatio_","getRotation","8RPYXyI","MultiLineString","fillStyle","arc","lineWidth","17026guuArC","lineCap","drawLineString","contextTextState_","Polygon","beginPath","closePath","getOrientedFlatCoordinates","image_","moveTo","getColor","textRotation_","2594223WgXRJa","length","setStyle","getOrigin","transformRotation_","761900RSCULK","getLineCap","drawImage","imageAnchorX_","textState_","getStride","contextFillState_","getWidth","drawPoint","strokeText","drawMultiPoint","strokeState_","Circle","MultiPoint","drawPolygon"];return fh=function(){return i},fh()}class JQ extends lC{constructor(e,t,n,r,s,o,a){const c=Oo;super(),this.context_=e,this[c(269)]=t,this[c(195)]=n,this[c(176)]=r,this.transformRotation_=r?D2(Math[c(201)](r[1],r[0]),10):0,this[c(220)]=s,this[c(229)]=o,this[c(235)]=a,this[c(160)]=null,this.contextStrokeState_=null,this[c(279)]=null,this[c(254)]=null,this[c(165)]=null,this[c(145)]=null,this.imageAnchorX_=0,this[c(186)]=0,this.imageHeight_=0,this[c(193)]=0,this[c(212)]=0,this[c(208)]=0,this[c(172)]=!1,this[c(265)]=0,this[c(224)]=[0,0],this[c(171)]=0,this[c(169)]="",this[c(240)]=0,this[c(248)]=0,this[c(255)]=!1,this.textRotation_=0,this[c(268)]=[0,0],this[c(194)]=null,this[c(215)]=null,this[c(158)]=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Nn()}drawImages_(e,t,n,r){const s=Oo;if(!this[s(145)])return;const o=c0(e,t,n,r,this[s(176)],this[s(249)]),a=this[s(223)],c=this.tmpLocalTransform_,x=a.globalAlpha;this[s(193)]!=1&&(a.globalAlpha=x*this.imageOpacity_);let A=this[s(265)];this[s(153)]===0&&(A-=this[s(220)]),this[s(172)]&&(A+=this[s(220)]);for(let l=0,u=o[s(150)];l<u;l+=2){const h=o[l]-this[s(157)],f=o[l+1]-this.imageAnchorY_;if(A!==0||this[s(224)][0]!=1||this[s(224)][1]!=1){const g=h+this[s(157)],d=f+this[s(186)];er(c,g,d,1,1,A,-g,-d),a[s(182)](),a.transform.apply(a,c),a[s(192)](g,d),a[s(266)](this.imageScale_[0],this[s(224)][1]),a[s(156)](this.image_,this.imageOriginX_,this[s(208)],this[s(171)],this.imageHeight_,-this[s(157)],-this[s(186)],this[s(171)],this[s(181)]),a.restore()}else a[s(156)](this.image_,this[s(212)],this.imageOriginY_,this.imageWidth_,this[s(181)],h,f,this[s(171)],this[s(181)])}this[s(193)]!=1&&(a[s(216)]=x)}[Bt(244)](e,t,n,r){const s=Bt;if(!this[s(158)]||this[s(169)]==="")return;this[s(194)]&&this[s(191)](this[s(194)]),this.textStrokeState_&&this[s(228)](this[s(215)]),this[s(174)](this[s(158)]);const o=c0(e,t,n,r,this[s(176)],this[s(249)]),a=this[s(223)];let c=this[s(148)];for(this.transformRotation_===0&&(c-=this[s(220)]),this.textRotateWithView_&&(c+=this.viewRotation_);t<n;t+=r){const x=o[t]+this[s(240)],A=o[t+1]+this[s(248)];c!==0||this[s(268)][0]!=1||this[s(268)][1]!=1?(a[s(182)](),a[s(192)](x-this[s(240)],A-this[s(248)]),a.rotate(c),a[s(192)](this[s(240)],this.textOffsetY_),a[s(266)](this[s(268)][0],this[s(268)][1]),this[s(215)]&&a[s(163)](this[s(169)],0,0),this[s(194)]&&a[s(217)](this[s(169)],0,0),a[s(198)]()):(this[s(215)]&&a[s(163)](this[s(169)],x,A),this[s(194)]&&a.fillText(this.text_,x,A))}}[Bt(238)](e,t,n,r,s){const o=Bt,a=this.context_,c=c0(e,t,n,r,this[o(176)],this[o(249)]);a[o(146)](c[0],c[1]);let x=c[o(150)];s&&(x-=2);for(let A=2;A<x;A+=2)a.lineTo(c[A],c[A+1]);return s&&a[o(282)](),n}[Bt(232)](e,t,n,r){const s=Bt;for(let o=0,a=n[s(150)];o<a;++o)t=this.moveToLineTo_(e,t,n[o],r,!0);return t}drawCircle(e){const t=Bt;if(this[t(229)]&&(e=e[t(187)](this[t(229)],this.userTransform_)),!!we(this[t(195)],e[t(207)]())){if(this[t(254)]||this[t(165)]){this.fillState_&&this[t(191)](this[t(254)]),this[t(165)]&&this[t(228)](this[t(165)]);const n=_6(e,this[t(176)],this[t(249)]),r=n[2]-n[0],s=n[3]-n[1],o=Math[t(190)](r*r+s*s),a=this[t(223)];a[t(281)](),a[t(274)](n[0],n[1],o,0,2*Math.PI),this[t(254)]&&a[t(180)](),this.strokeState_&&a[t(258)]()}this.text_!==""&&this[t(244)](e.getCenter(),0,2,2)}}setStyle(e){const t=Bt;this[t(231)](e[t(214)](),e.getStroke()),this[t(183)](e.getImage()),this[t(178)](e[t(199)]())}[Bt(188)](e){const t=Bt;this[t(176)]=e}[Bt(184)](e){const t=Bt;switch(e.getType()){case t(262):this[t(162)](e);break;case t(205):this[t(278)](e);break;case t(280):this[t(168)](e);break;case t(167):this[t(164)](e);break;case t(272):this[t(236)](e);break;case"MultiPolygon":this[t(211)](e);break;case t(247):this.drawGeometryCollection(e);break;case t(166):this[t(173)](e);break}}[Bt(243)](e,t){const n=Bt,r=t[n(218)]()(e);r&&(this[n(151)](t),this[n(184)](r))}[Bt(241)](e){const t=Bt,n=e[t(264)]();for(let r=0,s=n[t(150)];r<s;++r)this[t(184)](n[r])}[Bt(162)](e){const t=Bt;this[t(229)]&&(e=e.simplifyTransformed(this[t(229)],this[t(235)]));const n=e[t(225)](),r=e.getStride();this[t(145)]&&this.drawImages_(n,0,n.length,r),this[t(169)]!==""&&this.drawText_(n,0,n[t(150)],r)}[Bt(164)](e){const t=Bt;this[t(229)]&&(e=e[t(187)](this.squaredTolerance_,this[t(235)]));const n=e[t(225)](),r=e[t(159)]();this.image_&&this[t(177)](n,0,n[t(150)],r),this[t(169)]!==""&&this[t(244)](n,0,n[t(150)],r)}drawLineString(e){const t=Bt;if(this[t(229)]&&(e=e[t(187)](this[t(229)],this[t(235)])),!!we(this[t(195)],e.getExtent())){if(this[t(165)]){this[t(228)](this.strokeState_);const n=this[t(223)],r=e[t(225)]();n[t(281)](),this[t(238)](r,0,r[t(150)],e[t(159)](),!1),n[t(258)]()}if(this[t(169)]!==""){const n=e[t(206)]();this[t(244)](n,0,2,2)}}}[Bt(236)](e){const t=Bt;this.squaredTolerance_&&(e=e[t(187)](this[t(229)],this[t(235)]));const n=e[t(207)]();if(we(this[t(195)],n)){if(this[t(165)]){this.setContextStrokeState_(this.strokeState_);const r=this[t(223)],s=e[t(225)]();let o=0;const a=e.getEnds(),c=e.getStride();r.beginPath();for(let x=0,A=a[t(150)];x<A;++x)o=this.moveToLineTo_(s,o,a[x],c,!1);r[t(258)]()}if(this[t(169)]!==""){const r=e[t(246)]();this[t(244)](r,0,r[t(150)],2)}}}drawPolygon(e){const t=Bt;if(this[t(229)]&&(e=e[t(187)](this[t(229)],this[t(235)])),!!we(this[t(195)],e[t(207)]())){if(this[t(165)]||this.fillState_){this[t(254)]&&this[t(191)](this.fillState_),this[t(165)]&&this[t(228)](this[t(165)]);const n=this[t(223)];n[t(281)](),this[t(232)](e[t(144)](),0,e[t(259)](),e[t(159)]()),this[t(254)]&&n[t(180)](),this.strokeState_&&n[t(258)]()}if(this.text_!==""){const n=e[t(261)]();this[t(244)](n,0,2,2)}}}drawMultiPolygon(e){const t=Bt;if(this.squaredTolerance_&&(e=e[t(187)](this[t(229)],this.userTransform_)),!!we(this[t(195)],e[t(207)]())){if(this[t(165)]||this[t(254)]){this[t(254)]&&this[t(191)](this[t(254)]),this[t(165)]&&this[t(228)](this[t(165)]);const n=this[t(223)],r=e[t(144)]();let s=0;const o=e[t(213)](),a=e[t(159)]();n[t(281)]();for(let c=0,x=o[t(150)];c<x;++c){const A=o[c];s=this[t(232)](r,s,A,a)}this[t(254)]&&n[t(180)](),this.strokeState_&&n[t(258)]()}if(this[t(169)]!==""){const n=e[t(267)]();this.drawText_(n,0,n[t(150)],2)}}}[Bt(191)](e){const t=Bt,n=this[t(223)],r=this.contextFillState_;r?r[t(273)]!=e[t(273)]&&(r[t(273)]=e[t(273)],n[t(273)]=e.fillStyle):(n[t(273)]=e.fillStyle,this.contextFillState_={fillStyle:e[t(273)]})}[Bt(228)](e){const t=Bt,n=this[t(223)],r=this[t(204)];r?(r.lineCap!=e[t(277)]&&(r.lineCap=e[t(277)],n[t(277)]=e[t(277)]),!o0(r.lineDash,e[t(179)])&&n.setLineDash(r.lineDash=e[t(179)]),r[t(226)]!=e[t(226)]&&(r.lineDashOffset=e.lineDashOffset,n[t(226)]=e.lineDashOffset),r.lineJoin!=e[t(253)]&&(r[t(253)]=e[t(253)],n[t(253)]=e[t(253)]),r.lineWidth!=e[t(275)]&&(r[t(275)]=e[t(275)],n.lineWidth=e.lineWidth),r.miterLimit!=e[t(257)]&&(r[t(257)]=e[t(257)],n[t(257)]=e.miterLimit),r.strokeStyle!=e[t(185)]&&(r[t(185)]=e[t(185)],n.strokeStyle=e[t(185)])):(n.lineCap=e[t(277)],n[t(230)](e[t(179)]),n[t(226)]=e[t(226)],n[t(253)]=e.lineJoin,n[t(275)]=e[t(275)],n[t(257)]=e.miterLimit,n[t(185)]=e[t(185)],this[t(204)]={lineCap:e[t(277)],lineDash:e[t(179)],lineDashOffset:e[t(226)],lineJoin:e.lineJoin,lineWidth:e[t(275)],miterLimit:e[t(257)],strokeStyle:e[t(185)]})}setContextTextState_(e){const t=Bt,n=this[t(223)],r=this[t(279)],s=e[t(221)]?e.textAlign:wx;r?(r.font!=e.font&&(r[t(197)]=e[t(197)],n[t(197)]=e[t(197)]),r.textAlign!=s&&(r[t(221)]=s,n[t(221)]=s),r.textBaseline!=e[t(210)]&&(r.textBaseline=e[t(210)],n[t(210)]=e[t(210)])):(n[t(197)]=e[t(197)],n[t(221)]=s,n[t(210)]=e[t(210)],this.contextTextState_={font:e.font,textAlign:s,textBaseline:e[t(210)]})}[Bt(231)](e,t){const n=Bt;if(!e)this[n(254)]=null;else{const r=e[n(147)]();this.fillState_={fillStyle:Zi(r||Gn)}}if(!t)this[n(165)]=null;else{const r=t[n(147)](),s=t.getLineCap(),o=t.getLineDash(),a=t.getLineDashOffset(),c=t.getLineJoin(),x=t[n(161)](),A=t[n(189)](),l=o||wr;this[n(165)]={lineCap:s!==void 0?s:uo,lineDash:this.pixelRatio_===1?l:l[n(250)](u=>u*this[n(269)]),lineDashOffset:(a||Qr)*this[n(269)],lineJoin:c!==void 0?c:ho,lineWidth:(x!==void 0?x:Qx)*this[n(269)],miterLimit:A!==void 0?A:bx,strokeStyle:Zi(r||Bx)}}}[Bt(183)](e){const t=Bt;let n;if(!e||!(n=e[t(260)]())){this.image_=null;return}const r=e[t(209)](this[t(269)]),s=e[t(196)](),o=e[t(152)]();this[t(145)]=e[t(170)](this[t(269)]),this[t(157)]=s[0]*r,this[t(186)]=s[1]*r,this.imageHeight_=n[1]*r,this[t(193)]=e.getOpacity(),this[t(212)]=o[0],this[t(208)]=o[1],this[t(172)]=e[t(200)](),this[t(265)]=e[t(270)]();const a=e.getScaleArray();this[t(224)]=[a[0]*this[t(269)]/r,a[1]*this[t(269)]/r],this.imageWidth_=n[0]*r}[Bt(178)](e){const t=Bt;if(!e)this[t(169)]="";else{const n=e[t(214)]();if(!n)this[t(194)]=null;else{const f=n[t(147)]();this[t(194)]={fillStyle:Zi(f||Gn)}}const r=e[t(175)]();if(!r)this[t(215)]=null;else{const f=r[t(147)](),g=r[t(155)](),d=r.getLineDash(),p=r[t(227)](),I=r[t(263)](),_=r.getWidth(),m=r.getMiterLimit();this[t(215)]={lineCap:g!==void 0?g:uo,lineDash:d||wr,lineDashOffset:p||Qr,lineJoin:I!==void 0?I:ho,lineWidth:_!==void 0?_:Qx,miterLimit:m!==void 0?m:bx,strokeStyle:Zi(f||Bx)}}const s=e.getFont(),o=e[t(203)](),a=e[t(219)](),c=e[t(200)](),x=e.getRotation(),A=e[t(252)](),l=e[t(199)](),u=e[t(242)](),h=e[t(233)]();this[t(158)]={font:s!==void 0?s:ny,textAlign:u!==void 0?u:wx,textBaseline:h!==void 0?h:u1},this[t(169)]=l!==void 0?Array[t(251)](l)?l[t(245)]((f,g,d)=>f+=d%2?" ":g,""):l:"",this[t(240)]=o!==void 0?this[t(269)]*o:0,this[t(248)]=a!==void 0?this[t(269)]*a:0,this[t(255)]=c!==void 0?c:!1,this.textRotation_=x!==void 0?x:0,this[t(268)]=[this[t(269)]*A[0],this[t(269)]*A[1]]}}}(function(i,e){const t=dc,n=i();for(;;)try{if(parseInt(t(213))/1*(-parseInt(t(200))/2)+parseInt(t(171))/3+parseInt(t(179))/4+parseInt(t(186))/5+-parseInt(t(201))/6+parseInt(t(169))/7+parseInt(t(170))/8*(-parseInt(t(206))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(dh,929774);function dc(i,e){const t=dh();return dc=function(n,r){return n=n-167,t[n]},dc(i,e)}function dh(){const i=["5212374LGnHAn","floor","getImageData","getImageSize","setImage","getScale","LineString","fillStyle","2099560NeakBp","Point","canvas","width","height","getAnchor","clone","421390EJkCoq","getRotateWithView","replace","round","padStart","getStyleFunction","setLineDash","Polygon","getFill","data","fillRect","getType","getSize","push","14lwEAGD","3061632xRrUkU","Multi","getExtent","getGeometryFunction","getImage","3951216kQymMQ","imageSmoothingEnabled","getOrigin","toString","setTransform","length","pixels","48429ITgeRM","keys","getZIndex","2173297PdgZzl","16LKxGjk"];return dh=function(){return i},dh()}const ri=.5;function IC(i,e,t,n,r,s,o,a,c){const x=dc,A=c?O2(r):r,l=i[0]*ri,u=i[1]*ri,h=fe(l,u);h[x(207)]=!1;const f=h.canvas,g=new JQ(h,ri,r,null,o,a,c?ax(mw(),c):null),d=t[x(211)],p=Math[x(172)]((256*256*256-1)/d),I={};for(let m=1;m<=d;++m){const y=t[m-1],E=y[x(191)]()||n;if(!E)continue;let C=E(y,s);if(!C)continue;!Array.isArray(C)&&(C=[C]);const b=m*p,B=b[x(209)](16)[x(190)](7,"#00000");for(let Q=0,w=C[x(211)];Q<w;++Q){const R=C[Q],D=R[x(204)]()(y);if(!D||!we(A,D[x(203)]()))continue;const F=R[x(185)](),v=F[x(194)]();v&&v.setColor(B);const S=F.getStroke();S&&(S.setColor(B),S[x(192)](null)),F.setText(void 0);const M=R[x(205)]();if(M){const k=M[x(174)]();if(!k)continue;const H=fe(k[0],k[1],void 0,{alpha:!1}),K=H[x(181)];H[x(178)]=B,H[x(196)](0,0,K[x(182)],K[x(183)]),F[x(175)](new us({img:K,anchor:M[x(184)](),anchorXUnits:x(212),anchorYUnits:x(212),offset:M[x(208)](),opacity:1,size:M[x(198)](),scale:M[x(176)](),rotation:M.getRotation(),rotateWithView:M[x(187)]()}))}const L=F[x(168)]()||0;let P=I[L];!P&&(P={},I[L]=P,P[x(193)]=[],P.Circle=[],P[x(177)]=[],P[x(180)]=[]);const O=D[x(197)]();if(O==="GeometryCollection"){const k=D.getGeometriesArrayRecursive();for(let H=0,K=k[x(211)];H<K;++H){const q=k[H];P[q[x(197)]()[x(188)](x(202),"")].push(q,F)}}else P[O[x(188)](x(202),"")][x(199)](D,F)}}const _=Object[x(167)](I).map(Number).sort(Ji);for(let m=0,y=_[x(211)];m<y;++m){const E=I[_[m]];for(const C in E){const b=E[C];for(let B=0,Q=b[x(211)];B<Q;B+=2){g.setStyle(b[B+1]);for(let w=0,R=e.length;w<R;++w)g[x(210)](e[w]),g.drawGeometry(b[B])}}}return h[x(173)](0,0,f.width,f.height)}function _C(i,e,t){const n=dc,r=[];if(t){const s=Math[n(172)](Math.round(i[0])*ri),o=Math[n(172)](Math[n(189)](i[1])*ri),a=(Qe(s,0,t.width-1)+Qe(o,0,t.height-1)*t[n(182)])*4,c=t[n(195)][a],x=t[n(195)][a+1],A=t.data[a+2],l=A+256*(x+256*c),u=Math[n(172)]((256*256*256-1)/e[n(211)]);l&&l%u===0&&r[n(199)](e[l/u-1])}return r}function gh(){const i=["drawText","all","Circle","setImageStyle","ERROR","Image","10YIkiTG","setTextStyle","getBuilder","loading","then","Text","length","getFill","1047775nWVQeO","2907690kLlcCb","getOpacity","LOADED","getImageState","1236657uRpRwP","drawPolygon","Default","ready","18587162VVyNaw","getGeometriesArray","5297652SCaiVY","75002RqjtkY","getZIndex","getText","getStroke","drawCustom","Polygon","GeometryCollection","2047969yPRnMT","getImage","drawLineString","4rkoZTK","getType","setFillStrokeStyle","12IgFpjH","simplifyTransformed","drawMultiPolygon","drawPoint","drawMultiLineString","load","getHitDetectionRenderer","8QUnyLG","IDLE","getGeometryFunction","push","LineString"];return gh=function(){return i},gh()}(function(i,e){const t=Yn,n=i();for(;;)try{if(-parseInt(t(324))/1*(-parseInt(t(337))/2)+parseInt(t(368))/3+parseInt(t(334))/4*(-parseInt(t(363))/5)+parseInt(t(364))/6+parseInt(t(331))/7*(parseInt(t(344))/8)+parseInt(t(323))/9*(parseInt(t(355))/10)+-parseInt(t(372))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(gh,328744);function Yn(i,e){const t=gh();return Yn=function(n,r){return n=n-323,t[n]},Yn(i,e)}const KQ=.5,mC={Point:i9,LineString:t9,Polygon:s9,MultiPoint:r9,MultiLineString:e9,MultiPolygon:n9,GeometryCollection:$Q,Circle:ZQ};function XQ(i,e){return parseInt(ct(i),10)-parseInt(ct(e),10)}function eI(i,e){const t=EC(i,e);return t*t}function EC(i,e){return KQ*i/e}function ZQ(i,e,t,n,r){const s=Yn,o=t[s(362)](),a=t.getStroke();if(o||a){const x=i[s(357)](t[s(325)](),s(351));x[s(336)](o,a),x.drawCircle(e,n,r)}const c=t.getText();if(c&&c[s(326)]()){const x=i[s(357)](t[s(325)](),s(360));x[s(356)](c),x[s(349)](e,n)}}function ph(i,e,t,n,r,s,o,a){const c=Yn,x=[],A=t[c(332)]();if(A){let h=!0;const f=A[c(367)]();f==W[c(366)]||f==W[c(353)]?h=!1:f==W[c(345)]&&A[c(342)](),h&&x[c(347)](A[c(371)]())}const l=t[c(362)]();l&&l[c(358)]()&&x[c(347)](l[c(371)]());const u=x[c(361)]>0;return u&&Promise[c(350)](x)[c(359)](()=>r(null)),WQ(i,e,t,n,s,o,a),u}function WQ(i,e,t,n,r,s,o){const a=Yn,c=t[a(346)]()(e);if(!c)return;const x=c[a(338)](n,r);if(t.getRenderer())yC(i,x,t,e,o);else{const l=mC[x[a(335)]()];l(i,x,t,e,o,s)}}function yC(i,e,t,n,r){const s=Yn;if(e.getType()==s(330)){const a=e.getGeometries();for(let c=0,x=a.length;c<x;++c)yC(i,a[c],t,n,r);return}i[s(357)](t[s(325)](),s(370))[s(328)](e,n,t.getRenderer(),t[s(343)](),r)}function $Q(i,e,t,n,r,s){const o=Yn,a=e[o(373)]();let c,x;for(c=0,x=a[o(361)];c<x;++c){const A=mC[a[c][o(335)]()];A(i,a[c],t,n,r,s)}}function t9(i,e,t,n,r){const s=Yn,o=t[s(327)]();if(o){const c=i[s(357)](t.getZIndex(),s(348));c[s(336)](null,o),c[s(333)](e,n,r)}const a=t[s(326)]();if(a&&a[s(326)]()){const c=i[s(357)](t[s(325)](),"Text");c[s(356)](a),c[s(349)](e,n,r)}}function e9(i,e,t,n,r){const s=Yn,o=t.getStroke();if(o){const c=i[s(357)](t[s(325)](),s(348));c[s(336)](null,o),c[s(341)](e,n,r)}const a=t.getText();if(a&&a[s(326)]()){const c=i[s(357)](t[s(325)](),s(360));c[s(356)](a),c[s(349)](e,n,r)}}function n9(i,e,t,n,r){const s=Yn,o=t[s(362)](),a=t[s(327)]();if(a||o){const x=i[s(357)](t.getZIndex(),s(329));x.setFillStrokeStyle(o,a),x[s(339)](e,n,r)}const c=t[s(326)]();if(c&&c[s(326)]()){const x=i[s(357)](t[s(325)](),"Text");x[s(356)](c),x.drawText(e,n,r)}}function i9(i,e,t,n,r,s){const o=Yn,a=t[o(332)](),c=t[o(326)](),x=c&&c[o(326)](),A=s&&a&&x?{}:void 0;if(a){if(a[o(367)]()!=W[o(366)])return;const l=i[o(357)](t.getZIndex(),"Image");l[o(352)](a,A),l[o(340)](e,n,r)}if(x){const l=i[o(357)](t[o(325)](),"Text");l[o(356)](c,A),l[o(349)](e,n,r)}}function r9(i,e,t,n,r,s){const o=Yn,a=t[o(332)](),c=a&&a[o(365)]()!==0,x=t.getText(),A=x&&x.getText(),l=s&&c&&A?{}:void 0;if(c){if(a[o(367)]()!=W[o(366)])return;const u=i[o(357)](t.getZIndex(),o(354));u[o(352)](a,l),u.drawMultiPoint(e,n,r)}if(A){const u=i[o(357)](t[o(325)](),o(360));u[o(356)](x,l),u[o(349)](e,n,r)}}function s9(i,e,t,n,r){const s=Yn,o=t[s(362)](),a=t[s(327)]();if(o||a){const x=i[s(357)](t[s(325)](),s(329));x[s(336)](o,a),x[s(369)](e,n,r)}const c=t[s(326)]();if(c&&c.getText()){const x=i[s(357)](t.getZIndex(),"Text");x[s(356)](c),x[s(349)](e,n,r)}}const Re=zo;(function(i,e){const t=zo,n=i();for(;;)try{if(-parseInt(t(262))/1+-parseInt(t(226))/2*(parseInt(t(280))/3)+-parseInt(t(284))/4+parseInt(t(261))/5*(-parseInt(t(232))/6)+parseInt(t(204))/7*(parseInt(t(246))/8)+parseInt(t(275))/9+parseInt(t(200))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ih,895725);function zo(i,e){const t=Ih();return zo=function(n,r){return n=n-196,t[n]},zo(i,e)}class o9 extends Lp{constructor(e){const t=zo;super(e),this[t(216)]=this[t(297)][t(230)](this),this[t(215)],this[t(258)]=null,this[t(244)]=!1,this[t(212)]=null,this[t(222)]=-1,this[t(231)]=NaN,this[t(236)]=hi(),this[t(203)]=hi(),this[t(266)],this[t(294)]=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this[t(210)]=null,this[t(238)],this[t(271)]=null,this[t(249)]=!0,this[t(293)]=!0,this[t(269)]=null,this[t(196)]=1}[Re(223)](e,t,n){const r=Re,s=t.extent,o=t[r(201)],a=o[r(278)],c=o.resolution,x=o[r(207)],A=o[r(273)],l=x[r(274)](),u=this[r(217)]()[r(205)](),h=this[r(217)]()[r(243)](),f=t.pixelRatio,g=t.viewHints,d=!(g[de[r(241)]]||g[de[r(245)]]),p=this[r(260)],I=Math[r(290)](Ct(s)/c*f),_=Math[r(290)](Be(s)/c*f),m=u[r(250)]()&&x[r(229)](),y=m?Ct(l):null,E=m?Math[r(247)]((s[2]-l[2])/y)+1:1;let C=m?Math.floor((s[0]-l[0])/y):0;do{let b=this[r(276)](a,c,0,f,I,_,C*y);t[r(270)]&&(b=b[r(257)](0)),e[r(214)](p,[p[r(239)][r(283)],p.canvas.height],b,A,d,n===void 0?Uo:n?uh:jQ,n?h&&t[r(270)][h]:void 0)}while(++C<E)}[Re(268)](){const e=Re;this[e(196)]!==1&&(this.targetContext_=this.context,this[e(260)]=fe(this[e(260)][e(239)][e(283)],this[e(260)].canvas[e(253)],Uy))}[Re(199)](){const e=Re;if(this[e(196)]!==1){const t=this.targetContext_[e(291)];this[e(269)][e(291)]=this[e(196)],this.targetContext_[e(255)](this.context[e(239)],0,0),this.targetContext_[e(291)]=t,$0(this[e(260)]),Uy.push(this[e(260)][e(239)]),this.context=this[e(269)],this[e(269)]=null}}renderDeclutter(e){const t=Re;!this[t(271)]||!this[t(217)]().getDeclutter()||this[t(223)](this[t(271)],e,!0)}[Re(211)](e){const t=Re;this[t(271)]&&(this[t(271)][t(242)](),this.clipped_&&this[t(260)].restore(),this.resetDrawContext_())}[Re(281)](e,t){const n=Re,r=e[n(220)][e[n(224)]];this.opacity_=r.opacity;const s=e.viewState;this[n(237)](e,t);const o=this[n(260)],a=this[n(271)];let c=a&&!a[n(225)]();if(!c&&!(this[n(217)]()[n(218)](mi[n(296)])||this.getLayer()[n(218)](mi[n(285)])))return null;if(this[n(268)](),this[n(287)](o,e),s.projection,this.clipped_=!1,c&&r[n(234)]&&this[n(293)]){const x=Vi(r[n(234)]);c=we(x,e[n(234)]),this[n(244)]=c&&!ki(x,e[n(234)]),this.clipped_&&this.clipUnrotated(o,e,x)}return c&&this.renderWorlds(a,e,this[n(217)]().getDeclutter()?!1:void 0),!e[n(270)]&&this[n(244)]&&o[n(202)](),this[n(219)](o,e),this[n(266)]!==s[n(273)]&&(this.renderedRotation_=s[n(273)],this[n(258)]=null),!e[n(270)]&&this[n(199)](),this[n(292)]}[Re(288)](e){return new Promise(t=>{const n=zo;if(this.frameState&&!this[n(258)]&&!this[n(215)]){const r=this[n(279)][n(265)].slice(),s=this[n(294)],o=this[n(231)],a=this[n(266)],c=this[n(197)],x=this[n(203)],A=this[n(217)](),l=[],u=r[0]*ri,h=r[1]*ri;l[n(251)](this[n(276)](s,o,a,ri,u,h,0)[n(257)]());const f=A[n(205)](),g=c.getExtent();if(f[n(250)]()&&c[n(229)]()&&!ki(g,x)){let d=x[0];const p=Ct(g);let I=0,_;for(;d<g[0];)--I,_=p*I,l[n(251)](this[n(276)](s,o,a,ri,u,h,_).slice()),d+=p;for(I=0,d=x[2];d>g[2];)++I,_=p*I,l[n(251)](this[n(276)](s,o,a,ri,u,h,_)[n(257)]()),d-=p}this[n(258)]=IC(r,l,this[n(212)],A[n(259)](),x,o,a,eI(o,this[n(233)]),null)}t(_C(e,this[n(212)],this[n(258)]))})}[Re(295)](e,t,n,r,s){const o=Re;if(!this[o(271)])return;const a=t[o(201)].resolution,c=t[o(201)][o(273)],x=this[o(217)](),A={},l=function(g,d,p){const I=o,_=ct(g),m=A[_];if(m){if(m!==!0&&p<m[I(289)]){if(p===0)return A[_]=!0,s[I(264)](s[I(209)](m),1),r(g,x,d);m.geometry=d,m[I(289)]=p}}else{if(p===0)return A[_]=!0,r(g,x,d);s[I(251)](A[_]={feature:g,layer:x,geometry:d,distanceSq:p,callback:r})}};let u;const h=[this.replayGroup_],f=this.getLayer()[o(243)]();return h.some(g=>{const d=o;return u=g[d(295)](e,a,c,n,l,f&&t[d(270)][f]?t[d(270)][f][d(252)]().map(p=>p[d(254)]):null)}),u}[Re(282)](){const e=Re,t=this.getLayer();t[e(272)]()&&this[e(271)]&&t[e(263)]()}[Re(297)](e){this[Re(227)]()}[Re(286)](e){const t=Re,n=this.getLayer(),r=n[t(205)]();if(!r)return!1;const s=e.viewHints[de[t(241)]],o=e[t(256)][de[t(245)]],a=n.getUpdateWhileAnimating(),c=n[t(277)]();if(this[t(267)]&&!a&&s||!c&&o)return this[t(215)]=!0,!0;this[t(215)]=!1;const x=e[t(234)],A=e[t(201)],l=A[t(207)],u=A.resolution,h=e[t(206)],f=n[t(228)](),g=n.getRenderBuffer();let d=n.getRenderOrder();d===void 0&&(d=XQ);const p=A[t(278)][t(257)](),I=t0(x,g*u),_=I[t(257)](),m=[I[t(257)]()],y=l[t(274)]();if(r[t(250)]()&&l[t(229)]()&&!ki(y,e.extent)){const v=Ct(y),S=Math.max(Ct(I)/2,v);I[0]=y[0]-S,I[2]=y[2]+S,M2(p,l);const M=SE(m[0],l);M[0]<y[0]&&M[2]<y[2]?m.push([M[0]+v,M[1],M[2]+v,M[3]]):M[0]>y[0]&&M[2]>y[2]&&m[t(251)]([M[0]-v,M[1],M[2]-v,M[3]])}if(this[t(267)]&&this[t(231)]==u&&this.renderedRevision_==f&&this[t(210)]==d&&this[t(238)]===!!e[t(270)]&&ki(this[t(203)],I))return!o0(this[t(236)],_)&&(this[t(258)]=null,this.renderedExtent_=_),this[t(294)]=p,this[t(249)]=!1,!0;this.replayGroup_=null;const E=new hC(EC(u,h),I,u,h);let C;for(let v=0,S=m[t(235)];v<S;++v)r[t(248)](m[v],u,l);const b=eI(u,h);let B=!0;const Q=(v,S)=>{const M=t;let L;const P=v[M(259)]()||n[M(259)]();if(P&&(L=P(v,u)),L){const O=this[M(298)](v,b,L,E,C,this[M(217)]()[M(243)](),S);B=B&&!O}},w=O2(I),R=r[t(221)](w);d&&R[t(198)](d);for(let v=0,S=R[t(235)];v<S;++v)Q(R[v],v);this[t(212)]=R,this[t(267)]=B;const D=E[t(240)](),F=new pC(I,u,h,r.getOverlaps(),D,n[t(213)](),!!e[t(270)]);return this[t(231)]=u,this[t(222)]=f,this[t(210)]=d,this[t(238)]=!!e[t(270)],this.renderedExtent_=_,this.wrappedRenderedExtent_=I,this[t(294)]=p,this.renderedProjection_=l,this.renderedPixelRatio_=h,this[t(271)]=F,this[t(258)]=null,this[t(249)]=!0,!0}[Re(298)](e,t,n,r,s,o,a){const c=Re;if(!n)return!1;let x=!1;if(Array[c(208)](n))for(let A=0,l=n[c(235)];A<l;++A)x=ph(r,e,n[A],t,this.boundHandleStyleImageChange_,s,o,a)||x;else x=ph(r,e,n,t,this[c(216)],s,o,a);return x}}function Ih(){const i=["getRenderTransform","getUpdateWhileInteracting","center","frameState","4258581jeUgtX","renderFrame","handleFontsChanged","width","1947364CbPlvV","POSTRENDER","prepareFrame","preRender","getFeatures","distanceSq","round","globalAlpha","container","clipping","renderedCenter_","forEachFeatureAtCoordinate","PRERENDER","handleStyleImageChange_","renderFeature","opacity_","renderedProjection_","sort","resetDrawContext_","10905750WzifQG","viewState","restore","wrappedRenderedExtent_","925701bLQOmH","getSource","pixelRatio","projection","isArray","lastIndexOf","renderedRenderOrder_","renderDeferredInternal","renderedFeatures_","getRenderBuffer","execute","animatingOrInteracting_","boundHandleStyleImageChange_","getLayer","hasListener","postRender","layerStatesArray","getFeaturesInExtent","renderedRevision_","renderWorlds","layerIndex","isEmpty","2ideacT","renderIfReadyAndVisible","getRevision","canWrapX","bind","renderedResolution_","6FaKVYH","renderedPixelRatio_","extent","length","renderedExtent_","prepareContainer","renderedFrameDeclutter_","canvas","finish","ANIMATING","renderDeferred","getDeclutter","clipped_","INTERACTING","104UPIjZS","ceil","loadFeatures","replayGroupChanged","getWrapX","push","all","height","value","drawImage","viewHints","slice","hitDetectionImageData_","getStyleFunction","context","5388740EXrVeI","260070dJyETf","changed","splice","size","renderedRotation_","ready","setDrawContext_","targetContext_","declutter","replayGroup_","getVisible","rotation","getExtent","11971593HOXlln"];return Ih=function(){return i},Ih()}var a9=mh;(function(i,e){for(var t=mh,n=i();;)try{var r=parseInt(t(340))/1*(-parseInt(t(346))/2)+-parseInt(t(337))/3*(parseInt(t(339))/4)+-parseInt(t(342))/5+parseInt(t(341))/6+-parseInt(t(344))/7*(parseInt(t(343))/8)+-parseInt(t(338))/9+parseInt(t(347))/10*(parseInt(t(348))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_h,619052);function _h(){var i=["createRenderer","2sbeiBG","170ShydwD","1874653EEnXDM","1381245pIggDa","10962810SqhpSi","8pNvnhl","246258gVXXax","5930448JndZZE","3816835kbncvG","1136gLWKdU","5817hypubc"];return _h=function(){return i},_h()}class qo extends Xp{constructor(e){super(e)}[a9(345)](){return new o9(this)}}function mh(i,e){var t=_h();return mh=function(n,r){n=n-337;var s=t[n];return s},mh(i,e)}function nI(i,e){let t=ro(i,e),n=[t[0],t[1]];return t[0]<=-180&&(n[0]=t[0]%360,n[0]<=-180&&(n[0]=n[0]+360)),t[0]>=180&&(n[0]=n[0]%360,n[0]>=180&&(n[0]=n[0]-360)),Cw(i,n)}function CC(i,e){let t=i.getPixelFromCoordinate([e[0],e[1]]),n=i.getPixelFromCoordinate([e[2],e[3]]),r=Math.abs(t[0]-n[0]),s=Math.abs(t[1]-n[1]);return{tifPixelLeftTop:i.getPixelFromCoordinate([e[0],e[3]]),tifPiexlWidth:r,tifPiexHeight:s}}function bC(i,e,t,n,r,s){s=40;let o=80,a=[],c=[],x=[],l=CC(i,e).tifPixelLeftTop,{tifPixelLeftTop:u,tifPiexlWidth:h,tifPiexHeight:f}=CC(i,t),g=(u[0]-l[0])%o,d=(u[1]-l[1])%o;ro(i,[e[0],e[1]])[1]<-90&&i.getPixelFromCoordinate([e[0],-90])[1],ro(i,[e[2],e[3]])[1]>90&&(e[3]=90,i.getPixelFromCoordinate([e[0],90])[1]);let p=nI(i,[e[0],e[1]]),I=nI(i,[e[2],e[3]]);p[0],p[1],I[0],I[1];for(let _=g;_<n;_=_+o)for(let m=d+s;m<r;m=m+o){let y=i.getCoordinateFromPixel([_,m]),E=ro(i,y);E[0]>-180?x.push(parseInt((E[0]+180)/360)):E[0]<=-180&&(parseInt((E[0]-180)/360)==0,x.push(parseInt((E[0]-180)/360)));let C=nI(i,y);if(C[0]>=t[0]&&C[1]>=t[1]&&C[0]<=t[2]&&C[1]<=t[3]){a.push([_,m]);let b=i.getPixelFromCoordinate([C[0],C[1]]);c.push(b)}}return[a,c,x]}const Et=gc;function Eh(){const i=["getKeys","join","oldest_","6nHRnXv","includes","count_","getValues","string","11GRADeQ","toString","1212492Gsnjda","key_","startPath 必须是一个字符串","value_","findClosestNode","length","newer","containsKey","replace","canExpireCache","getCount","Tried to set a value for a key that is used already","1700265dRjLpm","350536YKrZoC","4DWvAVf","get","older","abs","newest_","peekFirstKey","setSize","entries_","Tried to get a value for a key that does not exist in the cache","4762230ywUJtC","peek","747LqTRvg","ConverttopositiveString","346056bRlVEw","peekLastKey","highWaterMark","get2","68808gaLaTV","split","forEach","expireCache","5FBMRmj","3023348ZxsrdB"];return Eh=function(){return i},Eh()}function gc(i,e){const t=Eh();return gc=function(n,r){return n=n-226,t[n]},gc(i,e)}(function(i,e){const t=gc,n=i();for(;;)try{if(-parseInt(t(270))/1*(-parseInt(t(269))/2)+parseInt(t(236))/3+-parseInt(t(245))/4*(parseInt(t(244))/5)+parseInt(t(249))/6*(parseInt(t(268))/7)+-parseInt(t(240))/8*(-parseInt(t(234))/9)+-parseInt(t(232))/10+-parseInt(t(254))/11*(parseInt(t(256))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Eh,440101);class BC{constructor(e){const t=gc;this.highWaterMark=e!==void 0?e:2048,this.count_=0,this[t(230)]={},this[t(248)]=null,this[t(227)]=null}[Et(265)](){const e=Et;return this[e(238)]>0&&this[e(266)]()>this.highWaterMark}[Et(243)](e){const t=Et;for(;this[t(265)]();)this.pop()}clear(){const e=Et;this[e(251)]=0,this[e(230)]={},this.oldest_=null,this.newest_=null}[Et(263)](e){return this[Et(230)].hasOwnProperty(e)}[Et(242)](e){const t=Et;let n=this[t(248)];for(;n;)e(n.value_,n[t(257)],this),n=n[t(262)]}modifyString(e,t){const n=Et,r=e[n(241)](",");let s=r[1][n(241)]("/");s[t]=(parseInt(s[t],10)-1)[n(255)](),Number(s[t])<0&&(s[1]="0");const o=s.join("/");return r[0]+","+o}[Et(235)](e){const t=Et;if(e[t(250)](",")){const n=e[t(241)](",");let r=n[n.length-1][t(241)]("/");if(parseInt(r[1],10)<0)for(let o=1;o<r[t(261)];o++)r[o]="0";const s=r.join("/");return n[n[t(261)]-1]=s,n[t(247)](",")}else{let n=e[t(241)]("/");if(parseInt(n[1],10)<0)for(let r=1;r<n[t(261)];r++)n[r]="0";return n[t(247)]("/")}}[Et(260)](e,t){const n=Et;if(typeof t!==n(253))throw new TypeError(n(258));if(e[t])return t;let r=t[n(241)](","),s=r[1].split("/"),o=null,a=1/0;for(const c in e){let x=c.split(","),A=x[1][n(241)]("/"),l=0;for(let u=0;u<Math.max(s[n(261)],A[n(261)]);u++){const h=parseInt(s[u]||0),f=parseInt(A[u]||0);l+=Math[n(226)](h-f)}l<a&&(a=l,e[c],o=c)}return o}[Et(271)](e,t){const n=Et;let r=this[n(235)](e),s=this[n(230)][r];return t!==void 0&&(r=e+"/"+t,s=this[n(230)][r],s===void 0&&(t>0?r=e+"/"+(t-1):t<0&&(r=e+"/"+(t+1)),r=this[n(235)](r),r=this.findClosestNode(this[n(230)],r),s=this.entries_[r])),Qt(s!==void 0,n(231)),s===this[n(227)]?s[n(259)]:(s===this.oldest_?(this[n(248)]=this[n(248)][n(262)],this[n(248)].older=null):(s[n(262)][n(272)]=s[n(272)],s[n(272)][n(262)]=s[n(262)]),s[n(262)]=null,s[n(272)]=this[n(227)],this.newest_[n(262)]=s,this[n(227)]=s,s.value_)}[Et(239)](e,t){const n=Et;let r=e+"/"+t,s=this[n(230)][r];return s===void 0&&(t>=0,r=e+"/"+(t-1),s=this[n(230)][r]),Qt(s!==void 0,n(231)),s===this[n(227)]?s[n(259)]:(s===this.oldest_?(this[n(248)]=this[n(248)][n(262)],this.oldest_[n(272)]=null):(s[n(262)].older=s.older,s.older[n(262)]=s.newer),s[n(262)]=null,s.older=this[n(227)],this[n(227)].newer=s,this[n(227)]=s,s.value_)}remove(e){const t=Et,n=this[t(230)][e];return Qt(n!==void 0,t(231)),n===this[t(227)]?(this[t(227)]=n.older,this[t(227)]&&(this[t(227)][t(262)]=null)):n===this.oldest_?(this[t(248)]=n[t(262)],this[t(248)]&&(this[t(248)][t(272)]=null)):(n[t(262)][t(272)]=n.older,n[t(272)][t(262)]=n.newer),delete this[t(230)][e],--this[t(251)],n[t(259)]}[Et(266)](){return this[Et(251)]}[Et(246)](){const e=Et,t=new Array(this.count_);let n=0,r;for(r=this[e(227)];r;r=r[e(272)])t[n++]=r[e(257)];return t}[Et(252)](){const e=Et,t=new Array(this.count_);let n=0,r;for(r=this[e(227)];r;r=r.older)t[n++]=r[e(259)];return t}peekLast(){const e=Et;return this[e(248)][e(259)]}[Et(237)](){const e=Et;return this.oldest_[e(257)]}[Et(228)](){const e=Et;return this[e(227)][e(257)]}[Et(233)](e){var n;const t=Et;return(n=this[t(230)][e])==null?void 0:n[t(259)]}pop(){const e=Et,t=this[e(248)];return delete this[e(230)][t[e(257)]],t[e(262)]&&(t[e(262)].older=null),this.oldest_=t[e(262)],!this[e(248)]&&(this.newest_=null),--this.count_,t.value_}[Et(264)](e,t){const n=Et;this[n(271)](e),this[n(230)][e][n(259)]=t}set(e,t){const n=Et;Qt(!(e in this.entries_),n(267));const r={key_:e,newer:null,older:this[n(227)],value_:t};this[n(227)]?this[n(227)][n(262)]=r:this[n(248)]=r,this.newest_=r,this[n(230)][e]=r,++this[n(251)]}[Et(229)](e){const t=Et;this[t(238)]=e}}function iI(i,e){var t=yh();return iI=function(n,r){n=n-322;var s=t[n];return s},iI(i,e)}function yh(){var i=["238080IlmDRe","35577470aCsazV","72bdqNvT","92wUaGmp","7181248PYdOFC","301sTKXjM","15528375qFpdAF","1880725yEUzFB","59848YXXpWZ","3208eMppyv"];return yh=function(){return i},yh()}(function(i,e){for(var t=iI,n=i();;)try{var r=parseInt(t(325))/1*(parseInt(t(329))/2)+parseInt(t(328))/3*(parseInt(t(324))/4)+-parseInt(t(323))/5+-parseInt(t(326))/6*(-parseInt(t(331))/7)+parseInt(t(330))/8+parseInt(t(322))/9+-parseInt(t(327))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(yh,902035);const z={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},hn=pc;(function(i,e){const t=pc,n=i();for(;;)try{if(parseInt(t(308))/1+parseInt(t(296))/2+-parseInt(t(294))/3*(parseInt(t(290))/4)+-parseInt(t(298))/5*(-parseInt(t(283))/6)+parseInt(t(304))/7*(-parseInt(t(306))/8)+parseInt(t(299))/9+-parseInt(t(295))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ch,426465);function pc(i,e){const t=Ch();return pc=function(n,r){return n=n-283,t[n]},pc(i,e)}class Ic extends gx{constructor(e,t,n){const r=pc;super(),n=n||{},this.tileCoord=e,this.state=t,this[r(311)]="",this[r(289)]=n.transition===void 0?250:n[r(293)],this[r(284)]={},this.interpolate=!!n[r(297)]}[hn(300)](){const e=hn;this[e(305)](rt[e(286)])}release(){const e=hn;this[e(291)]===z[e(285)]&&this.setState(z[e(288)])}getKey(){const e=hn;return this[e(311)]+"/"+this[e(310)]}[hn(292)](){return this.tileCoord}[hn(301)](){return this[hn(291)]}[hn(309)](e){const t=hn;if(this[t(291)]!==z.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this[t(291)]=e,this[t(300)]()}[hn(303)](){ot()}[hn(302)](e,t){const n=hn;if(!this[n(289)])return 1;let r=this[n(284)][e];if(!r)r=t,this[n(284)][e]=r;else if(r===-1)return 1;const s=t-r+1e3/60;return s>=this.transition_?1:py(s/this.transition_)}[hn(307)](e){const t=hn;return this[t(289)]?this[t(284)][e]!==-1:!1}[hn(287)](e){const t=hn;this[t(289)]&&(this[t(284)][e]=-1)}}function Ch(){const i=["4598860aaXKEr","896952CsoyqJ","interpolate","3129155swjgFM","1448433iYIOng","changed","getState","getAlpha","load","619661kwwLJk","dispatchEvent","16twJzAq","inTransition","323781LrOyEw","setState","tileCoord","key","6XHGzNj","transitionStarts_","ERROR","CHANGE","endTransition","EMPTY","transition_","4mhWNtI","state","getTileCoord","transition","1486884vzQFcZ"];return Ch=function(){return i},Ch()}const Gi=Yo;function Yo(i,e){const t=bh();return Yo=function(n,r){return n=n-184,t[n]},Yo(i,e)}function bh(){const i=["unlisten_","crossOrigin_","handleImageError_","EMPTY","setImage","key","load","fillStyle","crossOrigin","1602WsWvSm","naturalHeight","LOADING","image_","12218sxNRKe","IDLE","676408sPrWCS","4840bxnPEG","ERROR","LOADED","canvas","5oZvwoF","fillRect","tileLoadFunction_","493446hQqgdf","state","src_","181243ADpOmt","rgba(0,0,0,0)","1505014AKOBNA","handleImageLoad_","unlistenImage_","2260920DaSlBK","changed","3CdRygw"];return bh=function(){return i},bh()}(function(i,e){const t=Yo,n=i();for(;;)try{if(-parseInt(t(189))/1+-parseInt(t(210))/2*(-parseInt(t(196))/3)+-parseInt(t(212))/4+parseInt(t(217))/5*(-parseInt(t(186))/6)+parseInt(t(191))/7+parseInt(t(194))/8+-parseInt(t(206))/9*(-parseInt(t(213))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(bh,157292);class wC extends Ic{constructor(e,t,n,r,s,o){const a=Yo;super(e,t,o),this[a(198)]=r,this[a(188)]=n,this[a(202)]=n,this[a(209)]=new Image,r!==null&&(this[a(209)][a(205)]=r),this[a(197)]=null,this[a(185)]=s}getImage(){return this[Yo(209)]}[Gi(201)](e){const t=Gi;this[t(209)]=e,this[t(187)]=z.LOADED,this.unlistenImage_(),this.changed()}[Gi(199)](){const e=Gi;this[e(187)]=z[e(214)],this[e(193)](),this.image_=x9(),this[e(195)]()}[Gi(192)](){const e=Gi,t=this.image_;t.naturalWidth&&t[e(207)]?this[e(187)]=z[e(215)]:this[e(187)]=z[e(200)],this[e(193)](),this[e(195)]()}[Gi(203)](){const e=Gi;this.state==z.ERROR&&(this.state=z[e(211)],this[e(209)]=new Image,this.crossOrigin_!==null&&(this[e(209)].crossOrigin=this.crossOrigin_)),this.state==z[e(211)]&&(this[e(187)]=z[e(208)],this[e(195)](),this[e(185)](this,this.src_),this.unlisten_=Uw(this.image_,this[e(192)].bind(this),this[e(199)].bind(this)))}[Gi(193)](){const e=Gi;this.unlisten_&&(this[e(197)](),this[e(197)]=null)}}function x9(){const i=Gi,e=fe(1,1);return e[i(204)]=i(190),e[i(184)](0,0,1,1),e[i(216)]}const ir=_c;(function(i,e){const t=_c,n=i();for(;;)try{if(-parseInt(t(203))/1+-parseInt(t(220))/2+-parseInt(t(197))/3+parseInt(t(200))/4+parseInt(t(236))/5*(parseInt(t(221))/6)+-parseInt(t(230))/7+parseInt(t(189))/8*(parseInt(t(240))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Bh,195595);function _c(i,e){const t=Bh();return _c=function(n,r){return n=n-189,t[n]},_c(i,e)}function Bh(){const i=["18HbAWNw","LOADING","tile","load","2411216shlQXX","release","getImage","sourceTiles_","getResolution","clipExtent_","calculateSourceExtent","canvas_","889302rrkSPd","getTileRangeForExtentAndZ","sourcesListenerKeys_","1201524TxXNfL","changed","getContext","102235fWWLWg","minX","state","floor","getExtent","offset","LOADED","unlistenSources_","push","canWrapX","maxY","number","EMPTY","interpolate","getTileCoordExtent","pixelRatio_","length","465110OXAgAt","366nFPDXN","getTileSize","targetTileGrid_","getState","gutter_","bind","IDLE","sourceZ_","tileCoord","2516696FBEhnZ","wrappedTileCoord_","slice","ERROR","triangulation_","forEach","23210gTzVFY","maxX","reproject_","sourceTileGrid_"];return Bh=function(){return i},Bh()}class QC extends Ic{constructor(e,t,n,r,s,o,a,c,x,A,l,u){const h=_c;super(s,z.IDLE,u),this.renderEdges_=l!==void 0?l:!1,this.pixelRatio_=a,this[h(225)]=c,this.canvas_=null,this.sourceTileGrid_=t,this[h(223)]=r,this[h(231)]=o||s,this[h(192)]=[],this.sourcesListenerKeys_=null,this[h(228)]=0,this[h(194)]=e[h(212)]()?e[h(207)]():void 0;const f=r[h(217)](this[h(231)]),g=this.targetTileGrid_.getExtent();let d=this[h(239)][h(207)]();const p=g?Cn(f,g):f;if(ox(p)===0){this[h(205)]=z[h(215)];return}const I=e[h(207)]();I&&(d?d=Cn(d,I):d=I);const _=r[h(193)](this.wrappedTileCoord_[0]),m=cy(e,n,p,_);if(!isFinite(m)||m<=0){this[h(205)]=z.EMPTY;return}const y=A!==void 0?A:ip;if(this.triangulation_=new rp(e,n,p,d,m*y,_),this.triangulation_.getTriangles()[h(219)]===0){this[h(205)]=z[h(215)];return}this[h(228)]=t.getZForResolution(m);let E=this[h(234)][h(195)]();if(d&&(e[h(212)]()?(E[1]=Qe(E[1],d[1],d[3]),E[3]=Qe(E[3],d[1],d[3])):E=Cn(E,d)),!ox(E))this.state=z.EMPTY;else{let C=0,b=0;e[h(212)]()&&(C=Ct(I),b=Math[h(206)]((E[0]-I[0])/C)),S2(E[h(232)](),e,!0)[h(235)](Q=>{const w=h,R=t[w(198)](Q,this[w(228)]);for(let D=R[w(204)];D<=R[w(237)];D++)for(let F=R.minY;F<=R[w(213)];F++){const v=x(this[w(228)],D,F,a);if(v){const S=b*C;this[w(192)][w(211)]({tile:v,offset:S})}}++b}),this.sourceTiles_[h(219)]===0&&(this[h(205)]=z[h(215)])}}[ir(191)](){return this[ir(196)]}[ir(238)](){const e=ir,t=[];if(this[e(192)][e(235)](n=>{var o;const r=e,s=n[r(242)];if(s&&s[r(224)]()==z[r(209)]){const a=this[r(239)][r(217)](s[r(229)]);a[0]+=n[r(208)],a[2]+=n[r(208)];const c=(o=this[r(194)])==null?void 0:o[r(232)]();c&&(c[0]+=n[r(208)],c[2]+=n[r(208)]),t[r(211)]({extent:a,clipExtent:c,image:s.getImage()})}}),this[e(192)][e(219)]=0,t.length===0)this[e(205)]=z[e(233)];else{const n=this[e(231)][0],r=this[e(223)][e(222)](n),s=typeof r===e(214)?r:r[0],o=typeof r===e(214)?r:r[1],a=this[e(223)].getResolution(n),c=this.sourceTileGrid_[e(193)](this.sourceZ_),x=this[e(223)][e(217)](this[e(231)]);this[e(196)]=xp(s,o,this[e(218)],c,this[e(239)][e(207)](),a,x,this[e(234)],t,this[e(225)],this.renderEdges_,this[e(216)]),this.state=z[e(209)]}this[e(201)]()}[ir(243)](){const e=ir;if(this[e(205)]==z[e(227)]){this[e(205)]=z[e(241)],this.changed();let t=0;this.sourcesListenerKeys_=[],this[e(192)][e(235)](({tile:n})=>{const r=e,s=n[r(224)]();if(s==z[r(227)]||s==z[r(241)]){t++;const o=wt(n,rt.CHANGE,a=>{const c=r,x=n.getState();(x==z[c(209)]||x==z[c(233)]||x==z[c(215)])&&(Wt(o),t--,t===0&&(this[c(210)](),this[c(238)]()))});this.sourcesListenerKeys_[r(211)](o)}}),t===0?setTimeout(this.reproject_[e(226)](this),0):this[e(192)][e(235)](function({tile:n},r,s){const o=e;n[o(224)]()==z[o(227)]&&n.load()})}}[ir(210)](){this[ir(199)].forEach(Wt),this.sourcesListenerKeys_=null}[ir(190)](){const e=ir;this[e(196)]&&($0(this[e(196)][e(202)]("2d")),vr.push(this.canvas_),this.canvas_=null),super[e(190)]()}}(function(i,e){const t=Ho,n=i();for(;;)try{if(parseInt(t(323))/1+-parseInt(t(320))/2*(-parseInt(t(315))/3)+-parseInt(t(317))/4+-parseInt(t(308))/5*(parseInt(t(321))/6)+parseInt(t(319))/7+-parseInt(t(324))/8*(-parseInt(t(314))/9)+-parseInt(t(313))/10*(-parseInt(t(309))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qh,783615);function wh(i,e,t,n){return n!==void 0?(n[0]=i,n[1]=e,n[2]=t,n):[i,e,t]}function mc(i,e,t){return t<0&&(t=0),i+"/"+e+"/"+t}function c9(i,e,t,n){return t<0&&(t=0),i+"/"+e+"/"+t+"/"+n}function vC(i){return i[3]?c9(i[0],i[1],i[2],i[3]):mc(i[0],i[1],i[2])}function A9(i){const e=Ho,[t,n,r]=i.substring(i.lastIndexOf("/")+1,i[e(316)])[e(312)](",")[e(322)](Number);return mc(t,n,r)}function l9(i){const e=Ho;return i[e(312)]("/")[e(322)](Number)}function Qh(){const i=["3738207VmymwM","containsXY","getMaxZoom","split","20xzHcgZ","81OZaSVk","3597oqAhnY","length","5234940ejkQhb","getFullTileRange","196063YUQjhn","62SBWQse","12kdWMKa","map","1421242jZNxrj","1324896VzSpxL","3910630jiAGLA"];return Qh=function(){return i},Qh()}function u9(i){return h9(i[0],i[1],i[2])}function Ho(i,e){const t=Qh();return Ho=function(n,r){return n=n-308,t[n]},Ho(i,e)}function h9(i,e,t){return(e<<i)+t}function f9(i,e){const t=Ho,n=i[0],r=i[1],s=i[2];if(e.getMinZoom()>n||n>e[t(311)]())return!1;const o=e[t(318)](n);return o?o[t(310)](r,s):!0}const vh=Ec;(function(i,e){const t=Ec,n=i();for(;;)try{if(parseInt(t(506))/1*(parseInt(t(495))/2)+parseInt(t(499))/3+parseInt(t(496))/4+parseInt(t(490))/5+parseInt(t(508))/6*(parseInt(t(494))/7)+-parseInt(t(502))/8*(parseInt(t(501))/9)+-parseInt(t(504))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Rh,921208);function Rh(){const i=["32824340DmxIPc","expireCache","890653KbQluA","getCount","12QkAXcS","clear","7474105uUhkPv","pruneExceptNewestZ","tileCoord","release","3863447SpHTDH","4ZPIXmV","1215808YEnLYy","canExpireCache","peekFirstKey","3736926fsqARz","remove","81XqMETd","1534152ChjTFj","pop"];return Rh=function(){return i},Rh()}function Ec(i,e){const t=Rh();return Ec=function(n,r){return n=n-490,t[n]},Ec(i,e)}class rI extends BC{clear(){const e=Ec;for(;this[e(507)]()>0;)this[e(503)]()[e(493)]();super[e(509)]()}[vh(505)](e){const t=vh;for(;this[t(497)]()&&!(this.peekLast().getKey()in e);)this[t(503)]()[t(493)]()}[vh(491)](){const e=vh;if(this[e(507)]()===0)return;const t=this[e(498)](),n=l9(t),r=n[0];this.forEach(s=>{const o=e;s[o(492)][0]!==r&&(this[o(500)](vC(s[o(492)])),s[o(493)]())})}}var RC=Sh;(function(i,e){for(var t=Sh,n=i();;)try{var r=-parseInt(t(182))/1*(parseInt(t(183))/2)+-parseInt(t(189))/3*(parseInt(t(185))/4)+-parseInt(t(176))/5+-parseInt(t(187))/6*(parseInt(t(180))/7)+-parseInt(t(186))/8*(-parseInt(t(181))/9)+-parseInt(t(188))/10*(-parseInt(t(178))/11)+parseInt(t(177))/12;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Dh,946521);function Sh(i,e){var t=Dh();return Sh=function(n,r){n=n-176;var s=t[n];return s},Sh(i,e)}const sI={TILELOADSTART:RC(179),TILELOADEND:RC(184),TILELOADERROR:"tileloaderror"};function Dh(){var i=["tileloadend","3584936DeyCjI","847200YLtITQ","2004366JXcDWg","13990YUTipS","6NguQIp","8665250jBeosf","57576684EjOxwF","9691OtOADs","tileloadstart","14optxKg","45LqMyji","15dHOcEG","189322PgsrAt"];return Dh=function(){return i},Dh()}var Je=yc;(function(i,e){for(var t=yc,n=i();;)try{var r=parseInt(t(355))/1+parseInt(t(360))/2*(parseInt(t(349))/3)+parseInt(t(356))/4*(-parseInt(t(354))/5)+-parseInt(t(347))/6*(-parseInt(t(345))/7)+parseInt(t(352))/8+-parseInt(t(343))/9+parseInt(t(357))/10*(-parseInt(t(340))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(kh,160413);function yc(i,e){var t=kh();return yc=function(n,r){n=n-340;var s=t[n];return s},yc(i,e)}class oI{constructor(e,t,n,r){var s=yc;this[s(344)]=e,this.maxX=t,this.minY=n,this.maxY=r}[Je(362)](e){var t=Je;return this[t(361)](e[1],e[2])}[Je(358)](e){var t=Je;return this[t(344)]<=e.minX&&e[t(350)]<=this[t(350)]&&this[t(342)]<=e.minY&&e.maxY<=this[t(348)]}[Je(361)](e,t){var n=Je;return this[n(344)]<=e&&e<=this[n(350)]&&this[n(342)]<=t&&t<=this[n(348)]}equals(e){var t=Je;return this[t(344)]==e[t(344)]&&this[t(342)]==e[t(342)]&&this[t(350)]==e[t(350)]&&this[t(348)]==e[t(348)]}[Je(341)](e){var t=Je;e[t(344)]<this[t(344)]&&(this[t(344)]=e[t(344)]),e.maxX>this[t(350)]&&(this[t(350)]=e.maxX),e[t(342)]<this[t(342)]&&(this.minY=e[t(342)]),e[t(348)]>this[t(348)]&&(this[t(348)]=e[t(348)])}[Je(359)](){var e=Je;return this.maxY-this[e(342)]+1}[Je(346)](){var e=Je;return[this[e(353)](),this[e(359)]()]}[Je(353)](){var e=Je;return this[e(350)]-this.minX+1}[Je(351)](e){var t=Je;return this.minX<=e[t(350)]&&this[t(350)]>=e[t(344)]&&this[t(342)]<=e.maxY&&this.maxY>=e.minY}}function rr(i,e,t,n,r){var s=Je;return r!==void 0?(r[s(344)]=i,r.maxX=e,r.minY=t,r.maxY=n,r):new oI(i,e,t,n)}function kh(){var i=["minX","70042RcyzHr","getSize","126IDZkXo","maxY","45GiNBUo","maxX","intersects","1699248eXyTNF","getWidth","564910kEJNze","15619YeruhA","4NJXqob","2944590URZqrl","containsTileRange","getHeight","22382RwDnVi","containsXY","contains","11PzbaMt","extend","minY","343458XHenaA"];return kh=function(){return i},kh()}const _t=ms;(function(i,e){const t=ms,n=i();for(;;)try{if(parseInt(t(273))/1+parseInt(t(285))/2*(parseInt(t(269))/3)+parseInt(t(278))/4*(parseInt(t(290))/5)+parseInt(t(271))/6*(-parseInt(t(300))/7)+-parseInt(t(306))/8*(-parseInt(t(316))/9)+parseInt(t(276))/10+-parseInt(t(309))/11*(parseInt(t(311))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Mh,448481);function Mh(){const i=["getOrigin","24TCQSzs","tileSizes","minZoom","getTileCoordForCoordAndResolution","resolutions_","10818FReysz","origin_","getTileSize","getResolution","origins","maxX","zoomFactor_","Either `origin` or `origins` must be configured, never both","tileSize_","maxZoom","origins_","minX","Number of `origins` and `resolutions` must be equal","getMinZoom","779766wjaXPS","getMaxZoom","1254zQcpFF","getTileCoordExtent","461953BEsWTZ","getResolutions","getTileCoordResolution","6287970KEYqZo","pow","8MAVzXe","maxY","getTileCoordChildTileRange","tileCoordIntersectsViewport","floor","sizes","tmpSize_","6swFoAU","map","getTileCoordForXYAndZ_","getTileRangeForExtentAndZ2","getExtent","1799585PejOSr","tileSize","getTileCoordForCoordAndZ","calculateTileRanges_","getTileRangeForTileCoordAndZ","fullTileRanges_","minY","getTileRangeForExtentAndZ","length","tmpExtent_","4767iePJaH","max","tileSizes_","origin","getTileCoordForXYAndResolution_","extent_","4768yGVSua","min","getZForResolution","14937626DWQqAt"];return Mh=function(){return i},Mh()}const qt=[0,0,0],I0=5;class Fh{constructor(e){const t=ms;this[t(313)]=e.minZoom!==void 0?e[t(313)]:0,this[t(315)]=e.resolutions,Qt(Pw(this[t(315)],(s,o)=>o-s,!0),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let s=0,o=this[t(315)][t(298)]-1;s<o;++s)if(!n)n=this.resolutions_[s]/this[t(315)][s+1];else if(this[t(315)][s]/this[t(315)][s+1]!==n){n=void 0;break}}this[t(261)]=n,this[t(264)]=this[t(315)].length-1,this[t(317)]=e[t(303)]!==void 0?e[t(303)]:null,this.origins_=null,e[t(320)]!==void 0&&(this[t(265)]=e[t(320)],Qt(this[t(265)][t(298)]==this[t(315)][t(298)],t(267)));const r=e.extent;r!==void 0&&!this[t(317)]&&!this[t(265)]&&(this[t(317)]=Er(r)),Qt(!this[t(317)]&&this[t(265)]||this[t(317)]&&!this.origins_,t(262)),this[t(302)]=null,e[t(312)]!==void 0&&(this[t(302)]=e[t(312)],Qt(this.tileSizes_[t(298)]==this[t(315)].length,"Number of `tileSizes` and `resolutions` must be equal")),this[t(263)]=e[t(291)]!==void 0?e[t(291)]:this[t(302)]?null:hp,Qt(!this[t(263)]&&this[t(302)]||this[t(263)]&&!this[t(302)],"Either `tileSize` or `tileSizes` must be configured, never both"),this[t(305)]=r!==void 0?r:null,this.fullTileRanges_=null,this[t(284)]=[0,0],this[t(299)]=[0,0,0,0],e[t(283)]!==void 0?this[t(295)]=e[t(283)][t(286)]((s,o)=>{const a=t,c=new oI(Math[a(307)](0,s[0]),Math.max(s[0]-1,-1),Math[a(307)](0,s[1]),Math[a(301)](s[1]-1,-1));if(r){const x=this[a(297)](r,o);c[a(266)]=Math[a(301)](x[a(266)],c.minX),c[a(260)]=Math[a(307)](x[a(260)],c.maxX),c[a(296)]=Math[a(301)](x[a(296)],c[a(296)]),c[a(279)]=Math[a(307)](x.maxY,c[a(279)])}return c}):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,t,n){const r=ms,s=this[r(297)](e,t);for(let o=s[r(266)],a=s[r(260)];o<=a;++o)for(let c=s[r(296)],x=s[r(279)];c<=x;++c)n([t,o,c])}forEachTileCoordParentTileRange(e,t,n,r){const s=ms;let o,a,c,x=null,A=e[0]-1;for(this[s(261)]===2?(a=e[1],c=e[2]):x=this[s(272)](e,r);A>=this[s(313)];){if(a!==void 0&&c!==void 0?(a=Math[s(282)](a/2),c=Math[s(282)](c/2),o=rr(a,a,c,c,n)):o=this[s(297)](x,A,n),t(A,o))return!0;--A}return!1}[_t(289)](){return this[_t(305)]}[_t(270)](){return this.maxZoom}[_t(268)](){return this[_t(313)]}[_t(310)](e){const t=_t;return this[t(317)]?this[t(317)]:this[t(265)][e]}[_t(319)](e){return this[_t(315)][e]}[_t(274)](){return this[_t(315)]}[_t(280)](e,t,n){const r=_t;if(e[0]<this[r(264)]){if(this[r(261)]===2){const o=e[1]*2,a=e[2]*2;return rr(o,o+1,a,a+1,t)}const s=this[r(272)](e,n||this[r(299)]);return this.getTileRangeForExtentAndZ(s,e[0]+1,t)}return null}[_t(294)](e,t,n){const r=_t;if(t>this.maxZoom||t<this.minZoom)return null;const s=e[0],o=e[1],a=e[2];if(t===s)return rr(o,a,o,a,n);if(this[r(261)]){const x=Math[r(277)](this[r(261)],t-s),A=Math[r(282)](o*x),l=Math[r(282)](a*x);if(t<s)return rr(A,A,l,l,n);const u=Math[r(282)](x*(o+1))-1,h=Math[r(282)](x*(a+1))-1;return rr(A,u,l,h,n)}const c=this[r(272)](e,this[r(299)]);return this.getTileRangeForExtentAndZ(c,t,n)}getTileRangeForExtentAndZ(e,t,n){const r=_t;this[r(287)](e[0],e[3],t,!1,qt);const s=qt[1],o=qt[2];this[r(287)](e[2],e[1],t,!0,qt);const a=qt[1],c=qt[2];return rr(s,a,o,c,n)}[_t(288)](e,t){const n=_t;this[n(310)](t),this[n(319)](t),Pe(this[n(318)](t),this.tmpSize_);let[r,s,o,a]=e,c=(r- -180)/360,x=Math[n(282)](c),A=(o- -180)/360,l=Math.floor(A);function u(d){const p=n;let I=d- -180,_=I/360,m=Math[p(282)](_);return d-m*360}let h={},f=[],g=0;if(x==l){f=[u(e[0]),e[1],u(e[2]),e[3]],g=x,this[n(287)](f[0],f[3],t,!1,qt);const d=qt[1],p=qt[2];this[n(287)](f[2],f[1],t,!0,qt);const I=qt[1],_=qt[2];let m=rr(d,I,p,_);h[g]=m}else for(let d=x;d<=l;d++)if(g=d,d==x){f=[u(r),s,180,a],this[n(287)](f[0],f[3],t,!1,qt);const p=qt[1],I=qt[2];this[n(287)](f[2],f[1],t,!0,qt);const _=qt[1],m=qt[2];let y=rr(p,_,I,m);h[g]=y}else if(d==l){f=[-180,s,u(o),a],this[n(287)](f[0],f[3],t,!1,qt);const p=qt[1],I=qt[2];this[n(287)](f[2],f[1],t,!0,qt);const _=qt[1],m=qt[2];let y=rr(p,_,I,m);h[g]=y}else{f=[-180,s,180,a],this[n(287)](f[0],f[3],t,!1,qt);const p=qt[1],I=qt[2];this[n(287)](f[2],f[1],t,!0,qt);const _=qt[1],m=qt[2];let y=rr(p,_,I,m);h[g]=y}return h}getTileCoordCenter(e){const t=_t,n=this[t(310)](e[0]),r=this[t(319)](e[0]),s=Pe(this[t(318)](e[0]),this[t(284)]);return[n[0]+(e[1]+.5)*s[0]*r,n[1]-(e[2]+.5)*s[1]*r]}getTileCoordExtent(e,t){const n=_t,r=this[n(310)](e[0]),s=this[n(319)](e[0]),o=Pe(this[n(318)](e[0]),this[n(284)]),a=r[0]+e[1]*o[0]*s,c=r[1]-(e[2]+1)*o[1]*s,x=a+o[0]*s,A=c+o[1]*s;return Mi(a,c,x,A,t)}getTileCoordExtent2(e,t){const n=_t;let r=e[3];if(r!=null&&r!=null){const s=this.getOrigin(e[0]);let o=[s[0],s[1]];o[0]+=360*r;const a=this[n(319)](e[0]),c=Pe(this[n(318)](e[0]),this[n(284)]),x=o[0]+e[1]*c[0]*a,A=o[1]-(e[2]+1)*c[1]*a,l=x+c[0]*a,u=A+c[1]*a;return Mi(x,A,l,u,t)}else{const s=this.getOrigin(e[0]),o=this[n(319)](e[0]),a=Pe(this[n(318)](e[0]),this[n(284)]),c=s[0]+e[1]*a[0]*o,x=s[1]-(e[2]+1)*a[1]*o,A=c+a[0]*o,l=x+a[1]*o;return Mi(c,x,A,l,t)}}[_t(314)](e,t,n){return this[_t(304)](e[0],e[1],t,!1,n)}[_t(304)](e,t,n,r,s){const o=_t,a=this[o(308)](n),c=n/this[o(319)](a),x=this[o(310)](a),A=Pe(this[o(318)](a),this[o(284)]);let l=c*(e-x[0])/n/A[0],u=c*(x[1]-t)/n/A[1];return r?(l=n0(l,I0)-1,u=n0(u,I0)-1):(l=El(l,I0),u=El(u,I0)),wh(a,l,u,s)}[_t(287)](e,t,n,r,s){const o=_t,a=this[o(310)](n),c=this[o(319)](n),x=Pe(this[o(318)](n),this[o(284)]);let A=(e-a[0])/c/x[0],l=(a[1]-t)/c/x[1];return r?(A=n0(A,I0)-1,l=n0(l,I0)-1):(A=El(A,I0),l=El(l,I0)),wh(n,A,l,s)}[_t(292)](e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}[_t(275)](e){return this[_t(315)][e[0]]}[_t(318)](e){const t=_t;return this[t(263)]?this[t(263)]:this.tileSizes_[e]}getFullTileRange(e){const t=_t;return this.fullTileRanges_?this[t(295)][e]:this.extent_?this[t(297)](this[t(305)],e):null}[_t(308)](e,t){const n=_t,r=Hl(this[n(315)],e,t||0);return Qe(r,this[n(313)],this.maxZoom)}[_t(281)](e,t){return Fy(t,0,t[_t(298)],2,this.getTileCoordExtent(e))}[_t(293)](e){const t=_t,n=this[t(315)][t(298)],r=new Array(n);for(let s=this[t(313)];s<n;++s)r[s]=this[t(297)](e,s);this.fullTileRanges_=r}}function ms(i,e){const t=Mh();return ms=function(n,r){return n=n-260,t[n]},ms(i,e)}(function(i,e){const t=Lr,n=i();for(;;)try{if(-parseInt(t(359))/1+parseInt(t(356))/2*(parseInt(t(362))/3)+parseInt(t(363))/4*(parseInt(t(347))/5)+parseInt(t(357))/6*(parseInt(t(358))/7)+-parseInt(t(352))/8*(-parseInt(t(351))/9)+parseInt(t(342))/10+-parseInt(t(345))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Th,285741);function Lr(i,e){const t=Th();return Lr=function(n,r){return n=n-340,t[n]},Lr(i,e)}function Th(){const i=["409595FUAISf","getTileCoordCenter","top-left","getTileCoordForCoordAndZ","4926321KPbFxl","8JJXPtl","maxResolution","ceil","max","377794WEOtmG","570378uSknVO","42KiOaRB","488896SQQOxH","EPSG:3857","extent","3MjEmkK","4nVqSZd","tileSize","getDefaultTileGrid","pow","5412970CRDitG","getMetersPerUnit","minZoom","12707453dhlbyC","setDefaultTileGrid"];return Th=function(){return i},Th()}function SC(i){const e=Lr;let t=i[e(340)]();return!t&&(t=p9(i),i[e(346)](t)),t}function d9(i,e,t){const n=Lr,r=e[0],s=i[n(348)](e),o=Lh(t);if(!K0(o,s)){const a=Ct(o),c=Math[n(354)]((o[0]-s[0])/a);return s[0]+=a*c,i[n(350)](s,r)}return e}function g9(i,e,t,n){n=n!==void 0?n:Lr(349);const s=DC(i,e,t);return new Fh({extent:i,origin:rw(i,n),resolutions:s,tileSize:t})}function aI(i){const e=Lr,t=i||{},n=t[e(361)]||Zt(e(360)).getExtent(),r={extent:n,minZoom:t[e(344)],tileSize:t[e(364)],resolutions:DC(n,t.maxZoom,t[e(364)],t[e(353)])};return new Fh(r)}function DC(i,e,t,n){const r=Lr;e=e!==void 0?e:hy,t=Pe(t!==void 0?t:hp);const s=Be(i),o=Ct(i);n=n>0?n:Math[r(355)](o/t[0],s/t[1]);const a=e+1,c=new Array(a);for(let x=0;x<a;++x)c[x]=n/Math[r(341)](2,x);return c}function p9(i,e,t,n){const r=Lh(i);return g9(r,e,t,n)}function Lh(i){const e=Lr;i=Zt(i);let t=i.getExtent();if(!t){const n=180*Wr.degrees/i[e(343)]();t=Mi(-n,-n,n,n)}return t}const re=Cc;(function(i,e){const t=Cc,n=i();for(;;)try{if(-parseInt(t(299))/1*(parseInt(t(298))/2)+-parseInt(t(308))/3+-parseInt(t(278))/4*(parseInt(t(285))/5)+parseInt(t(274))/6+parseInt(t(287))/7*(-parseInt(t(275))/8)+parseInt(t(281))/9*(parseInt(t(307))/10)+parseInt(t(289))/11*(parseInt(t(271))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gh,739277);function Gh(){const i=["interpolate","tileCache","2PEioml","363917zFzCHA","getTileGrid","canExpireCache","getMinZoom","getWrapX","setKey","tmpSize","tilePixelRatio","460lWkvqw","1275942LNRwgM","A VectorTile source can only be rendered if it has a projection compatible with the view projection.","getResolutions","getTileSize","getProjection","useTile","getTile","clear","getTilePixelRatio","refresh","3095220isJouu","getTileCoordForTileUrlFunction","getTileGridForProjection","6391668BrLSbD","64GBysdL","getTilePixelSize","attributions","4mpJkfx","getTileCacheForProjection","zDirection","281304UsvzoX","key_","tileGrid","projection","413045Xvswds","expireCache","1006138kDeajf","tileOptions","11sQPPqp","tilePixelRatio_","isGlobal","state","once","getKey","getGutterForProjection"];return Gh=function(){return i},Gh()}class kC extends _o{constructor(e){const t=Cc;super({attributions:e[t(277)],attributionsCollapsible:e.attributionsCollapsible,projection:e[t(284)],state:e[t(292)],wrapX:e.wrapX,interpolate:e[t(296)]}),this.on,this[t(293)],this.un,this[t(290)]=e[t(306)]!==void 0?e[t(306)]:1,this[t(283)]=e[t(283)]!==void 0?e[t(283)]:null;const n=[256,256];this.tileGrid&&Pe(this[t(283)].getTileSize(this.tileGrid[t(302)]()),n),this[t(297)]=new rI(e.cacheSize||0),this[t(305)]=[0,0],this[t(282)]=e.key||"",this[t(288)]={transition:e.transition,interpolate:e.interpolate},this[t(280)]=e.zDirection?e.zDirection:0}[re(301)](){const e=re;return this[e(297)][e(301)]()}[re(286)](e,t){const n=re,r=this[n(279)](e);r&&r[n(286)](t)}[re(295)](e){return 0}[re(294)](){return this[re(282)]}[re(304)](e){const t=re;this[t(282)]!==e&&(this[t(282)]=e,this.changed())}[re(310)](e){const t=re,n=e?this[t(273)](e):this.tileGrid;return n?n[t(310)]():null}[re(314)](e,t,n,r,s){return ot()}[re(300)](){return this.tileGrid}[re(273)](e){const t=re;return this[t(283)]?this[t(283)]:SC(e)}[re(279)](e){const t=re,n=this[t(312)]();return Qt(n===null||yr(n,e),t(309)),this[t(297)]}[re(269)](e){return this[re(290)]}[re(276)](e,t,n){const r=re,s=this[r(273)](n),o=this[r(269)](t),a=Pe(s[r(311)](e),this[r(305)]);return o==1?a:vw(a,o,this[r(305)])}[re(272)](e,t){const n=re;t=t!==void 0?t:this[n(312)]();const r=this[n(273)](t);return this[n(303)]()&&t[n(291)]()&&(e[3]!=null&&e[3]!=null||(e=d9(r,e,t))),f9(e,r)?e:null}clear(){const e=re;this.tileCache[e(315)]()}refresh(){const e=re;this.clear(),super[e(270)]()}[re(313)](e,t,n,r){}}function Cc(i,e){const t=Gh();return Cc=function(n,r){return n=n-269,t[n]},Cc(i,e)}class I9 extends di{constructor(e,t){super(e),this.tile=t}}(function(i,e){const t=bc,n=i();for(;;)try{if(parseInt(t(207))/1+-parseInt(t(211))/2+-parseInt(t(199))/3*(parseInt(t(206))/4)+parseInt(t(216))/5+-parseInt(t(198))/6*(parseInt(t(217))/7)+-parseInt(t(197))/8*(-parseInt(t(203))/9)+-parseInt(t(201))/10*(parseInt(t(209))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Nh,389459);function Nh(){const i=["If the URL template has a {-y} placeholder, the grid extent must be known","4YEwZdq","449757wVYKGP","replace","11IwWEYD","charCodeAt","635398ORzjSF","exec","length","keys","push","3839365cSYvjj","4203738nycWGO","8YtMVPg","6bRaikl","1172328USerTb","includes","2333410DSLYXJ","toString","6427611qRqwgz","forEach"];return Nh=function(){return i},Nh()}const _9=/\{z\}/g,m9=/\{x\}/g,E9=/\{y\}/g,y9=/\{-y\}/g;function bc(i,e){const t=Nh();return bc=function(n,r){return n=n-197,t[n]},bc(i,e)}function C9(i,e,t,n,r){const s=bc;return i[s(208)](_9,e[s(202)]())[s(208)](m9,t.toString())[s(208)](E9,n[s(202)]())[s(208)](y9,function(){const o=s;if(r===void 0)throw new Error(o(205));return(r-n)[o(202)]()})}function MC(i){const e=bc,t=[];let n=/\{([a-z])-([a-z])\}/[e(212)](i);if(n){const r=n[1][e(210)](0),s=n[2].charCodeAt(0);let o;for(o=r;o<=s;++o)t[e(215)](i[e(208)](n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/[e(212)](i),n){const r=parseInt(n[2],10);for(let s=parseInt(n[1],10);s<=r;s++)t[e(215)](i.replace(n[0],s.toString()));return t}return t[e(215)](i),t}(function(i,e){const t=jo,n=i();for(;;)try{if(parseInt(t(291))/1*(parseInt(t(297))/2)+parseInt(t(290))/3+-parseInt(t(294))/4*(-parseInt(t(286))/5)+parseInt(t(296))/6*(-parseInt(t(288))/7)+parseInt(t(285))/8+parseInt(t(295))/9*(-parseInt(t(287))/10)+parseInt(t(292))/11*(-parseInt(t(289))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ph,560796);function jo(i,e){const t=Ph();return jo=function(n,r){return n=n-285,t[n]},jo(i,e)}function b9(i,e){return function(t,n,r){const s=jo;if(!t)return;let o;const a=t[0];if(e){const c=e[s(293)](a);c&&(o=c[s(298)]()-1)}return C9(i,a,t[1],t[2],o)}}function FC(i,e){const t=jo,n=i[t(299)],r=new Array(n);for(let s=0;s<n;++s)r[s]=b9(i[s],e);return B9(r)}function Ph(){const i=["6900phsaEH","1447968CJWbwY","1tdeKbr","24607BcJNAV","getFullTileRange","66020kuDXAE","303039CcepmD","12csKaTI","1060330EVuSAE","getHeight","length","8079136fzUNHh","185FZOYdz","130ECTVdx","1220114xrYSjY"];return Ph=function(){return i},Ph()}function B9(i){const e=jo;return i[e(299)]===1?i[0]:function(t,n,r){const s=e;if(!t)return;const o=u9(t),a=no(o,i[s(299)]);return i[a](t,n,r)}}const rn=Bc;(function(i,e){const t=Bc,n=i();for(;;)try{if(parseInt(t(447))/1+-parseInt(t(460))/2*(parseInt(t(478))/3)+parseInt(t(437))/4*(-parseInt(t(462))/5)+parseInt(t(480))/6+-parseInt(t(475))/7+parseInt(t(476))/8+-parseInt(t(455))/9*(-parseInt(t(440))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Uh,162449);function Bc(i,e){const t=Uh();return Bc=function(n,r){return n=n-432,t[n]},Bc(i,e)}function Uh(){const i=["transition","tileCache","ERROR","tilePixelRatio","821688zvmAoT","1874992Efmdhr","getState","6lzCaEZ","changed","1860444cvfZBA","wrapX","TILELOADEND","tileLoadFunction","LOADING","urls","1188332bvzMBD","setUrls","getTileLoadFunction","90JLLuhv","tileUrlFunction","attributions","url","setKey","attributionsCollapsible","state","60043HPJynr","pruneExceptNewestZ","prototype","interpolate","LOADED","setTileUrlFunction","setUrl","get","72963WRWyEP","generateTileUrlFunction_","getPrototypeOf","tileLoadingKeys_","undefined","100538hJGZcP","join","5glxQwB","clear","bind","getTileUrlFunction","zDirection","cacheSize","target","getUrls","setTileLoadFunction"];return Uh=function(){return i},Uh()}class Oh extends kC{constructor(e){const t=Bc;super({attributions:e[t(442)],cacheSize:e[t(467)],projection:e.projection,state:e[t(446)],tileGrid:e.tileGrid,tilePixelRatio:e[t(474)],wrapX:e[t(432)],transition:e[t(471)],interpolate:e[t(450)],key:e.key,attributionsCollapsible:e[t(445)],zDirection:e[t(466)]}),this[t(456)]=this[t(441)]===Oh[t(449)][t(441)],this[t(434)]=e[t(434)],e.tileUrlFunction&&(this[t(441)]=e.tileUrlFunction),this.urls=null,e[t(436)]?this.setUrls(e[t(436)]):e[t(443)]&&this.setUrl(e[t(443)]),this[t(458)]={}}[rn(439)](){return this[rn(434)]}[rn(465)](){const e=rn;return Object[e(457)](this)[e(441)]===this[e(441)]?this.tileUrlFunction[e(464)](this):this[e(441)]}[rn(469)](){return this[rn(436)]}handleTileChange(e){const t=rn,n=e[t(468)],r=ct(n),s=n[t(477)]();let o;s==z[t(435)]?(this[t(458)][r]=!0,o=sI.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this[t(458)][r],o=s==z[t(473)]?sI.TILELOADERROR:s==z[t(451)]?sI[t(433)]:void 0),o!=null&&this.dispatchEvent(new I9(o,n))}[rn(470)](e){const t=rn;this[t(472)][t(463)](),this.tileLoadFunction=e,this[t(479)]()}[rn(452)](e,t){const n=rn;this[n(441)]=e,this[n(472)][n(448)](),typeof t!==n(459)?this[n(444)](t):this[n(479)]()}[rn(453)](e){const t=rn,n=MC(e);this[t(436)]=n,this[t(438)](n)}[rn(438)](e){const t=rn;this.urls=e;const n=e[t(461)](`
`);this.generateTileUrlFunction_?this[t(452)](FC(e,this.tileGrid),n):this[t(444)](n)}[rn(441)](e,t,n){}useTile(e,t,n){const r=rn,s=mc(e,t,n);this.tileCache.containsKey(s)&&this.tileCache[r(454)](s)}}const xe=wc;(function(i,e){const t=wc,n=i();for(;;)try{if(parseInt(t(426))/1*(parseInt(t(437))/2)+parseInt(t(416))/3+parseInt(t(419))/4+-parseInt(t(433))/5*(parseInt(t(448))/6)+parseInt(t(436))/7+parseInt(t(417))/8*(parseInt(t(431))/9)+-parseInt(t(424))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(zh,197918);function wc(i,e){const t=zh();return wc=function(n,r){return n=n-395,t[n]},wc(i,e)}function zh(){const i=["3WIyxto","getGutter","reprojectionErrorThreshold","key","reprojectionErrorThreshold_","540VidXdh","getInterpolate","165ZVzUNX","clear","tileOptions","239211aDqDFq","14098xjNTFL","highWaterMark","canExpireCache","tileCacheForProjection","getKey","state","tileGridForProjection","getTileCacheForProjection","getImage","CHANGE","bind","51042Naisak","expireCache","crossOrigin","transition","get","containsKey","wrapX","setRenderReprojectionEdges","src","createTile_","getTilePixelRatio","getTileGridForProjection","tileLoadFunction","tileClass","urls","tileCache","getTileCoordForTileUrlFunction","attributionsCollapsible","url","setTileGridForProjection","tileUrlFunction",":disable-interpolation","attributions","tileGrid","replace","set","426930KfnHsl","48352JvtMgF","getTile","1574156jVezBQ","getGutterForProjection","getProjection","renderReprojectionEdges_","IDLE","4751600lXyHIj","getTileInternal"];return zh=function(){return i},zh()}class w9 extends Oh{constructor(e){const t=wc;super({attributions:e[t(412)],cacheSize:e.cacheSize,projection:e.projection,state:e[t(442)],tileGrid:e[t(413)],tileLoadFunction:e[t(402)]?e[t(402)]:Q9,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e[t(408)],urls:e[t(404)],wrapX:e[t(396)],transition:e[t(451)],interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e[t(429)],attributionsCollapsible:e[t(407)],zDirection:e.zDirection}),this[t(450)]=e[t(450)]!==void 0?e[t(450)]:null,this.tileClass=e.tileClass!==void 0?e[t(403)]:wC,this[t(440)]={},this.tileGridForProjection={},this[t(430)]=e[t(428)],this.renderReprojectionEdges_=!1}[xe(439)](){const e=xe;if(this[e(405)][e(439)]())return!0;for(const t in this[e(440)])if(this[e(440)][t][e(439)]())return!0;return!1}expireCache(e,t){const n=xe,r=this[n(444)](e);this[n(405)][n(449)](this.tileCache==r?t:{});for(const s in this.tileCacheForProjection){const o=this.tileCacheForProjection[s];o[n(449)](o==r?t:{})}}[xe(420)](e){const t=xe;return this[t(421)]()&&e&&!yr(this[t(421)](),e)?0:this[t(427)]()}[xe(427)](){return 0}[xe(441)](){const e=xe;let t=super[e(441)]();return!this[e(432)]()&&(t+=e(411)),t}[xe(401)](e){const t=xe,n=this[t(421)]();if(this[t(413)]&&(!n||yr(n,e)))return this[t(413)];const r=ct(e);return!(r in this[t(443)])&&(this[t(443)][r]=SC(e)),this[t(443)][r]}[xe(444)](e){const t=xe,n=this[t(421)]();if(!n||yr(n,e))return this.tileCache;const r=ct(e);return!(r in this[t(440)])&&(this[t(440)][r]=new rI(this[t(405)][t(438)])),this.tileCacheForProjection[r]}[xe(399)](e,t,n,r,s,o){const a=xe,c=[e,t,n],x=this[a(406)](c,s),A=x?this[a(410)](x,r,s):void 0,l=new this[a(403)](c,A!==void 0?z[a(423)]:z.EMPTY,A!==void 0?A:"",this[a(450)],this.tileLoadFunction,this[a(435)]);return l.key=o,l.addEventListener(rt[a(446)],this.handleTileChange[a(447)](this)),l}[xe(418)](e,t,n,r,s){const o=xe,a=this.getProjection();if(!a||!s||yr(a,s))return this[o(425)](e,t,n,r,a||s);const c=this[o(444)](s),x=[e,t,n];let A;const l=vC(x);c[o(395)](l)&&(A=c.get(l));const u=this.getKey();if(A&&A[o(429)]==u)return A;const h=this[o(401)](a),f=this[o(401)](s),g=this[o(406)](x,s),d=new QC(a,h,s,f,x,g,this[o(400)](r),this[o(427)](),(p,I,_,m)=>this[o(425)](p,I,_,m,a),this[o(430)],this[o(422)],this[o(435)]);return d[o(429)]=u,A?c[o(414)](l,d):c[o(415)](l,d),d}[xe(425)](e,t,n,r,s){const o=xe,a=mc(e,t,n),c=this[o(441)]();if(!this[o(405)][o(395)](a)){const A=this[o(399)](e,t,n,r,s,c);return this[o(405)].set(a,A),A}let x=this[o(405)][o(452)](a);return x[o(429)]!=c&&(x=this[o(399)](e,t,n,r,s,c),this[o(405)][o(414)](a,x)),x}[xe(397)](e){const t=xe;if(this[t(422)]!=e){this[t(422)]=e;for(const n in this[t(440)])this[t(440)][n][t(434)]();this.changed()}}[xe(409)](e,t){const n=xe,r=Zt(e);if(r){const s=ct(r);!(s in this[n(443)])&&(this.tileGridForProjection[s]=t)}}[xe(434)](){const e=xe;super[e(434)]();for(const t in this[e(440)])this[e(440)][t][e(434)]()}}function Q9(i,e){const t=xe;i[t(445)]()[t(398)]=e}const Ee=Qc;function Qc(i,e){const t=qh();return Qc=function(n,r){return n=n-232,t[n]},Qc(i,e)}(function(i,e){const t=Qc,n=i();for(;;)try{if(-parseInt(t(268))/1+-parseInt(t(256))/2*(-parseInt(t(262))/3)+parseInt(t(265))/4+parseInt(t(260))/5+parseInt(t(267))/6+-parseInt(t(236))/7+-parseInt(t(240))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(qh,569147);function qh(){const i=["getZIndex","getStyle","function","style_","hasProperties","getId","46VDbOXu","setProperties","getStyleFunction","styleFunction_","3824725UlYVZx","geometry","18549nCzrGx","geometryName_","clone","3432892YTTKQu","CHANGE","6725286ObQiwd","1094711aRnvzf","removeChangeListener","id_","getGeometryName","addChangeListener","get","454034drjQlv","handleGeometryChange_","set","changed","9260304CQPqga","isArray","geometryChangeKey_","once","setGeometry","getGeometry","setGeometryName","setStyle","getSimplifiedGeometry","handleGeometryChanged_"];return qh=function(){return i},qh()}class Vo extends Wi{constructor(e){const t=Qc;if(super(),this.on,this[t(243)],this.un,this[t(232)]=void 0,this.geometryName_=t(261),this[t(253)]=null,this[t(259)]=void 0,this[t(242)]=null,this[t(234)](this.geometryName_,this[t(249)]),e)if(typeof e[t(248)]=="function"){const n=e;this.setGeometry(n)}else{const n=e;this[t(257)](n)}}[Ee(264)](){const e=Ee,t=new Vo(this[e(254)]()?this.getProperties():null);t[e(246)](this[e(233)]());const n=this[e(245)]();n&&t.setGeometry(n.clone());const r=this.getStyle();return r&&t[e(247)](r),t}[Ee(245)](){const e=Ee;return this[e(235)](this[e(263)])}[Ee(255)](){return this[Ee(232)]}[Ee(233)](){return this[Ee(263)]}[Ee(251)](){return this[Ee(253)]}[Ee(258)](){return this[Ee(259)]}[Ee(237)](){this.changed()}[Ee(249)](){const e=Ee;this[e(242)]&&(Wt(this[e(242)]),this[e(242)]=null);const t=this[e(245)]();t&&(this[e(242)]=wt(t,rt[e(266)],this[e(237)],this)),this[e(239)]()}[Ee(244)](e){const t=Ee;this[t(238)](this[t(263)],e)}[Ee(247)](e){const t=Ee;this[t(253)]=e,this[t(259)]=e?v9(e):void 0,this[t(239)]()}setId(e){const t=Ee;this[t(232)]=e,this.changed()}[Ee(246)](e){const t=Ee;this[t(269)](this.geometryName_,this[t(249)]),this.geometryName_=e,this[t(234)](this[t(263)],this.handleGeometryChanged_),this[t(249)]()}}function v9(i){const e=Ee;if(typeof i===e(252))return i;let t;return Array[e(241)](i)?t=i:(Qt(typeof i[e(250)]=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[i]),function(){return t}}function Yh(i,e){var t=Hh();return Yh=function(n,r){n=n-175;var s=t[n];return s},Yh(i,e)}var R9=Yh;function Hh(){var i=["135315AnjvGL","44491084rKfsqg","61221LcKiDY","4422606GvtfTq","164jVERiC","6203754EHwzht","20fVmaqY","10vUcbGA","7vdOOil","3172716OoFrGf","8712232cehGmh","add"];return Hh=function(){return i},Hh()}(function(i,e){for(var t=Yh,n=i();;)try{var r=-parseInt(t(177))/1*(parseInt(t(181))/2)+-parseInt(t(178))/3+-parseInt(t(179))/4*(-parseInt(t(175))/5)+-parseInt(t(184))/6+-parseInt(t(183))/7*(parseInt(t(185))/8)+parseInt(t(180))/9*(-parseInt(t(182))/10)+parseInt(t(176))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hh,760694);const Hn={ADD:R9(186),REMOVE:"remove"},se=Jo;(function(i,e){const t=Jo,n=i();for(;;)try{if(-parseInt(t(234))/1*(-parseInt(t(227))/2)+-parseInt(t(222))/3+-parseInt(t(203))/4+parseInt(t(210))/5+-parseInt(t(230))/6+-parseInt(t(233))/7+parseInt(t(216))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(jh,814715);const TC={LENGTH:"length"};function jh(){const i=["once","index","ADD","getLength","REMOVE","22606952eBpGiE","get","LENGTH","insertAt","getArray","set","880056kOitGM","item","array_","remove","assertUnique_","12ZheSXf","push","setAt","5427570LvzQpy","extend","removeAt","11079285qWmptH","54189RWIBNQ","dispatchEvent","updateLength_","2957308UthEbe","pop","splice","length","clear","element","unique_","5918705nqxMbg"];return jh=function(){return i},jh()}function Jo(i,e){const t=jh();return Jo=function(n,r){return n=n-203,t[n]},Jo(i,e)}class Vh extends di{constructor(e,t,n){const r=Jo;super(e),this[r(208)]=t,this[r(212)]=n}}class sr extends Wi{constructor(e,t){const n=Jo;if(super(),this.on,this[n(211)],this.un,t=t||{},this[n(209)]=!!t.unique,this.array_=e||[],this[n(209)])for(let r=0,s=this[n(224)][n(206)];r<s;++r)this[n(226)](this[n(224)][r],r);this[n(236)]()}[se(207)](){const e=se;for(;this.getLength()>0;)this[e(204)]()}[se(231)](e){const t=se;for(let n=0,r=e[t(206)];n<r;++n)this[t(228)](e[n]);return this}forEach(e){const t=se,n=this[t(224)];for(let r=0,s=n.length;r<s;++r)e(n[r],r,n)}[se(220)](){return this.array_}[se(223)](e){return this[se(224)][e]}[se(214)](){const e=se;return this[e(217)](TC[e(218)])}[se(219)](e,t){const n=se;if(e<0||e>this[n(214)]())throw new Error("Index out of bounds: "+e);this[n(209)]&&this[n(226)](t),this[n(224)][n(205)](e,0,t),this.updateLength_(),this[n(235)](new Vh(Hn[n(213)],t,e))}[se(204)](){const e=se;return this[e(232)](this[e(214)]()-1)}[se(228)](e){const t=se;this.unique_&&this[t(226)](e);const n=this.getLength();return this[t(219)](n,e),this.getLength()}[se(225)](e){const t=se,n=this[t(224)];for(let r=0,s=n[t(206)];r<s;++r)if(n[r]===e)return this.removeAt(r)}[se(232)](e){const t=se;if(e<0||e>=this[t(214)]())return;const n=this[t(224)][e];return this[t(224)][t(205)](e,1),this[t(236)](),this[t(235)](new Vh(Hn[t(215)],n,e)),n}[se(229)](e,t){const n=se,r=this[n(214)]();if(e>=r){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this[n(209)]&&this.assertUnique_(t,e);const s=this[n(224)][e];this[n(224)][e]=t,this[n(235)](new Vh(Hn[n(215)],s,e)),this[n(235)](new Vh(Hn[n(213)],t,e))}[se(236)](){const e=se;this[e(221)](TC[e(218)],this[e(224)][e(206)])}[se(226)](e,t){const n=se;for(let r=0,s=this[n(224)][n(206)];r<s;++r)if(this[n(224)][r]===e&&r!==t)throw new Error("Duplicate item added to a unique collection")}}const Me=Ko;(function(i,e){const t=Ko,n=i();for(;;)try{if(-parseInt(t(426))/1*(-parseInt(t(455))/2)+-parseInt(t(432))/3+-parseInt(t(452))/4*(parseInt(t(450))/5)+parseInt(t(451))/6+parseInt(t(448))/7*(-parseInt(t(427))/8)+-parseInt(t(433))/9*(parseInt(t(442))/10)+parseInt(t(453))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Jh,423780);class LC{constructor(e){const t=Ko;this[t(431)]=new Yy(e),this[t(425)]={}}insert(e,t){const n=Ko,r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this[n(431)][n(437)](r),this[n(425)][ct(t)]=r}[Me(430)](e,t){const n=Me,r=new Array(t[n(434)]);for(let s=0,o=t[n(434)];s<o;s++){const a=e[s],c=t[s],x={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:c};r[s]=x,this[n(425)][ct(c)]=x}this.rbush_[n(430)](r)}[Me(445)](e){const t=Me,n=ct(e),r=this[t(425)][n];return delete this[t(425)][n],this[t(431)][t(445)](r)!==null}[Me(429)](e,t){const n=Me,r=this[n(425)][ct(t)],s=[r[n(441)],r[n(428)],r.maxX,r.maxY];!mr(s,e)&&(this[n(445)](t),this.insert(e,t))}[Me(439)](){const e=Me;return this[e(431)].all()[e(446)](function(n){return n[e(458)]})}[Me(457)](e){const t=Me,n={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(n)[t(446)](function(s){return s[t(458)]})}forEach(e){const t=Me;return this[t(440)](this[t(439)](),e)}[Me(443)](e,t){const n=Me;return this[n(440)](this[n(457)](e),t)}[Me(440)](e,t){let n;for(let r=0,s=e.length;r<s;r++)if(n=t(e[r]),n)return n;return n}[Me(436)](){return $r(this.items_)}[Me(444)](){const e=Me;this[e(431)].clear(),this[e(425)]={}}[Me(456)](e){const t=Me,n=this[t(431)][t(449)]();return Mi(n[t(441)],n[t(428)],n[t(447)],n[t(438)],e)}[Me(454)](e){const t=Me;this[t(431)][t(430)](e[t(431)][t(435)]());for(const n in e.items_)this[t(425)][n]=e.items_[n]}}function Jh(){const i=["minY","update","load","rbush_","2000601KMLQAN","3440286RYRqkA","length","all","isEmpty","insert","maxY","getAll","forEach_","minX","20xUsdAC","forEachInExtent","clear","remove","map","maxX","7jrBDga","toJSON","2415amfCgt","1720638SKKFmH","4236cGTNtU","22304502OhEteh","concat","36ERNJwO","getExtent","getInExtent","value","items_","7613pyHNKs","678696mNwpeo"];return Jh=function(){return i},Jh()}function Ko(i,e){const t=Jh();return Ko=function(n,r){return n=n-425,t[n]},Ko(i,e)}function Kh(){const i=["disposeInternal","getGeometries","closestPointXY","getExtent","2755892vqiaSE","changeEventsKeys_","rotate","unlistenGeometriesChange_","containsXY","getGeometriesArrayRecursive","translate","forEach","changed","scale","80973mxtrcK","clone","geometries_","applyTransform","34688710abJyVK","getType","2372564oljzJv","3UkjGtW","simplifiedGeometryRevision","length","push","isEmpty","listenGeometriesChange_","1080cTrPYu","intersectsExtent","CHANGE","45978gMlFnc","getRevision","635VodsCs","401665NLFGgD","simplifiedGeometryMaxMinSquaredTolerance","setGeometriesArray","computeExtent","5351381szIzjT","map"];return Kh=function(){return i},Kh()}const Pt=vc;(function(i,e){const t=vc,n=i();for(;;)try{if(-parseInt(t(217))/1+parseInt(t(204))/2*(parseInt(t(205))/3)+-parseInt(t(227))/4+parseInt(t(216))/5*(-parseInt(t(214))/6)+-parseInt(t(221))/7+-parseInt(t(211))/8*(parseInt(t(198))/9)+parseInt(t(202))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Kh,612236);class Xh extends by{constructor(e){const t=vc;super(),this[t(200)]=e,this[t(228)]=[],this[t(210)]()}[Pt(230)](){const e=Pt;this.changeEventsKeys_[e(195)](Wt),this[e(228)].length=0}[Pt(210)](){const e=Pt,t=this[e(200)];for(let n=0,r=t[e(207)];n<r;++n)this.changeEventsKeys_.push(wt(t[n],rt[e(213)],this.changed,this))}[Pt(199)](){const e=new Xh(xI(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,n,r){const s=Pt;if(r<J0(this.getExtent(),e,t))return r;const o=this[s(200)];for(let a=0,c=o.length;a<c;++a)r=o[a][s(225)](e,t,n,r);return r}containsXY(e,t){const n=Pt,r=this[n(200)];for(let s=0,o=r.length;s<o;++s)if(r[s][n(231)](e,t))return!0;return!1}[Pt(220)](e){const t=Pt;eo(e);const n=this.geometries_;for(let r=0,s=n.length;r<s;++r)wE(e,n[r][t(226)]());return e}[Pt(224)](){return xI(this[Pt(200)])}getGeometriesArray(){return this[Pt(200)]}getGeometriesArrayRecursive(){const e=Pt;let t=[];const n=this[e(200)];for(let r=0,s=n[e(207)];r<s;++r)n[r].getType()===this.getType()?t=t.concat(n[r][e(232)]()):t[e(208)](n[r]);return t}getSimplifiedGeometry(e){const t=Pt;if(this.simplifiedGeometryRevision!==this[t(215)]()&&(this[t(218)]=0,this[t(206)]=this[t(215)]()),e<0||this[t(218)]!==0&&e<this[t(218)])return this;const n=[],r=this[t(200)];let s=!1;for(let o=0,a=r[t(207)];o<a;++o){const c=r[o],x=c.getSimplifiedGeometry(e);n[t(208)](x),x!==c&&(s=!0)}return s?new Xh(n):(this[t(218)]=e,this)}[Pt(203)](){return"GeometryCollection"}[Pt(212)](e){const t=Pt,n=this[t(200)];for(let r=0,s=n[t(207)];r<s;++r)if(n[r][t(212)](e))return!0;return!1}[Pt(209)](){return this.geometries_.length===0}[Pt(229)](e,t){const n=Pt,r=this[n(200)];for(let s=0,o=r[n(207)];s<o;++s)r[s][n(229)](e,t);this.changed()}scale(e,t,n){const r=Pt;!n&&(n=fi(this[r(226)]()));const s=this[r(200)];for(let o=0,a=s[r(207)];o<a;++o)s[o][r(197)](e,t,n);this[r(196)]()}setGeometries(e){this[Pt(219)](xI(e))}[Pt(219)](e){const t=Pt;this[t(230)](),this[t(200)]=e,this[t(210)](),this[t(196)]()}[Pt(201)](e){const t=Pt,n=this[t(200)];for(let r=0,s=n[t(207)];r<s;++r)n[r][t(201)](e);this[t(196)]()}[Pt(194)](e,t){const n=Pt,r=this[n(200)];for(let s=0,o=r[n(207)];s<o;++s)r[s][n(194)](e,t);this[n(196)]()}[Pt(223)](){const e=Pt;this[e(230)](),super[e(223)]()}}function vc(i,e){const t=Kh();return vc=function(n,r){return n=n-194,t[n]},vc(i,e)}function xI(i){const e=Pt;return i[e(222)](t=>t[e(199)]())}(function(i,e){const t=Xo,n=i();for(;;)try{if(parseInt(t(310))/1+-parseInt(t(305))/2+parseInt(t(308))/3*(-parseInt(t(303))/4)+parseInt(t(307))/5*(parseInt(t(306))/6)+parseInt(t(309))/7+parseInt(t(304))/8+parseInt(t(313))/9*(-parseInt(t(311))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Zh,275425);function Xo(i,e){const t=Zh();return Xo=function(n,r){return n=n-302,t[n]},Xo(i,e)}function Zh(){const i=["push","8aTdzWd","377496jgkcRT","79062MdxDZu","154146iOboCo","50WJAsII","326181CUxYRZ","1285025Wobdif","223952zVDjMK","1020dFrNwH","slice","15813ZkIBYj","length","sqrt"];return Zh=function(){return i},Zh()}function Wh(i,e,t,n,r,s,o){const a=Xo;let c,x;const A=(t-e)/n;if(A===1)c=e;else if(A===2)c=e,x=r;else if(A!==0){let l=i[e],u=i[e+1],h=0;const f=[0];for(let p=e+n;p<t;p+=n){const I=i[p],_=i[p+1];h+=Math[a(315)]((I-l)*(I-l)+(_-u)*(_-u)),f[a(302)](h),l=I,u=_}const g=r*h,d=Gw(f,g);d<0?(x=(g-f[-d-2])/(f[-d-1]-f[-d-2]),c=e+(-d-2)*n):c=e+d*n}o=o>1?o:2,s=s||new Array(o);for(let l=0;l<o;++l)s[l]=c===void 0?NaN:x===void 0?i[c+l]:ni(i[c+l],i[c+n+l],x);return s}function cI(i,e,t,n,r,s){const o=Xo;if(t==e)return null;let a;if(r<i[e+n-1])return s?(a=i.slice(e,e+n),a[n-1]=r,a):null;if(i[t-1]<r)return s?(a=i[o(312)](t-n,t),a[n-1]=r,a):null;if(r==i[e+n-1])return i[o(312)](e,e+n);let c=e/n,x=t/n;for(;c<x;){const h=c+x>>1;r<i[(h+1)*n-1]?x=h:c=h+1}const A=i[c*n-1];if(r==A)return i[o(312)]((c-1)*n,(c-1)*n+n);const l=i[(c+1)*n-1],u=(r-A)/(l-A);a=[];for(let h=0;h<n-1;++h)a[o(302)](ni(i[(c-1)*n+h],i[c*n+h],u));return a[o(302)](r),a}function S9(i,e,t,n,r,s,o){const a=Xo;if(o)return cI(i,e,t[t[a(314)]-1],n,r,s);let c;if(r<i[n-1])return s?(c=i[a(312)](0,n),c[n-1]=r,c):null;if(i[i.length-1]<r)return s?(c=i[a(312)](i[a(314)]-n),c[n-1]=r,c):null;for(let x=0,A=t.length;x<A;++x){const l=t[x];if(e!=l){if(r<i[e+n-1])return null;if(r<=i[l-1])return cI(i,e,l,n,r,!1);e=l}}return null}const ye=Rc;(function(i,e){const t=Rc,n=i();for(;;)try{if(parseInt(t(263))/1*(-parseInt(t(238))/2)+-parseInt(t(239))/3*(-parseInt(t(234))/4)+parseInt(t(257))/5*(-parseInt(t(227))/6)+parseInt(t(250))/7*(parseInt(t(231))/8)+-parseInt(t(254))/9+parseInt(t(260))/10+-parseInt(t(264))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})($h,992072);function Rc(i,e){const t=$h();return Rc=function(n,r){return n=n-227,t[n]},Rc(i,e)}function $h(){const i=["3982CluJWL","3IbASYE","XYZM","changed","flatMidpointRevision_","intersectsExtent","closestPointXY","flatCoordinates","sqrt","getRevision","maxDelta_","applyProperties","7TurbTR","getExtent","maxDeltaRevision_","getFlatMidpoint","3814803EKCjQB","clone","XYM","117985ePARCH","length","getLength","10112430TVvjnf","getSimplifiedGeometryInternal","flatMidpoint_","2RwRwHC","10052526UOkpSH","appendCoordinate","354hQesva","slice","getCoordinateAtM","setCoordinates","15783080paUskg","setLayout","stride","2967528wvtcCt","getType","layout","getCoordinateAt"];return $h=function(){return i},$h()}class Es extends ss{constructor(e,t){const n=Rc;super(),this[n(262)]=null,this[n(242)]=-1,this[n(248)]=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this[n(230)](e,t)}[ye(265)](e){const t=ye;Ki(this[t(245)],e),this[t(241)]()}[ye(255)](){const e=ye,t=new Es(this[e(245)][e(228)](),this[e(236)]);return t[e(249)](this),t}[ye(244)](e,t,n,r){const s=ye;return r<J0(this[s(251)](),e,t)?r:(this[s(252)]!=this[s(247)]()&&(this[s(248)]=Math[s(246)](mp(this.flatCoordinates,0,this.flatCoordinates[s(258)],this[s(233)],0)),this[s(252)]=this.getRevision()),yp(this[s(245)],0,this[s(245)][s(258)],this[s(233)],this[s(248)],!1,e,t,n,r))}forEachSegment(e){const t=ye;return My(this.flatCoordinates,0,this[t(245)].length,this[t(233)],e)}[ye(229)](e,t){const n=ye;return this[n(236)]!=n(256)&&this[n(236)]!=n(240)?null:(t=t!==void 0?t:!1,cI(this[n(245)],0,this[n(245)][n(258)],this[n(233)],e,t))}getCoordinates(){const e=ye;return u0(this.flatCoordinates,0,this.flatCoordinates.length,this[e(233)])}[ye(237)](e,t){const n=ye;return Wh(this[n(245)],0,this[n(245)][n(258)],this[n(233)],e,t,this[n(233)])}[ye(259)](){const e=ye;return fC(this[e(245)],0,this[e(245)][e(258)],this[e(233)])}[ye(253)](){const e=ye;return this.flatMidpointRevision_!=this[e(247)]()&&(this[e(262)]=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this[e(242)]=this[e(247)]()),this.flatMidpoint_}[ye(261)](e){const t=ye,n=[];return n[t(258)]=Z1(this[t(245)],0,this[t(245)][t(258)],this[t(233)],e,n,0),new Es(n,"XY")}[ye(235)](){return"LineString"}[ye(243)](e){const t=ye;return xu(this[t(245)],0,this[t(245)][t(258)],this.stride,e)}[ye(230)](e,t){const n=ye;this[n(232)](t,e,1),!this.flatCoordinates&&(this[n(245)]=[]),this[n(245)][n(258)]=X1(this[n(245)],0,e,this.stride),this.changed()}}const ce=Sc;(function(i,e){const t=Sc,n=i();for(;;)try{if(parseInt(t(321))/1*(parseInt(t(308))/2)+-parseInt(t(348))/3*(-parseInt(t(323))/4)+-parseInt(t(319))/5+parseInt(t(325))/6*(parseInt(t(329))/7)+-parseInt(t(313))/8*(-parseInt(t(310))/9)+-parseInt(t(327))/10+-parseInt(t(307))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(tf,148089);function tf(){const i=["getType","113996iYQgPf","push","8598vZQKlA","ends_","78860EooqZn","maxDelta_","63vlwbUp","layout","getCoordinates","getEnds","flatCoordinates","maxDeltaRevision_","getSimplifiedGeometryInternal","XYZM","getRevision","getExtent","appendLineString","getFlatCoordinates","stride","XYM","slice","setCoordinates","MultiLineString","getLineStrings","applyProperties","21oXPYQC","intersectsExtent","2082179rviXPe","224522tgjlqw","isArray","38934PDxhoN","getLayout","getFlatMidpoints","232KXdpeE","closestPointXY","getCoordinateAtM","length","setFlatCoordinates","clone","1085510YBLwfA","changed","2kggSyB"];return tf=function(){return i},tf()}function Sc(i,e){const t=tf();return Sc=function(n,r){return n=n-306,t[n]},Sc(i,e)}class Dc extends ss{constructor(e,t,n){const r=Sc;if(super(),this[r(326)]=[],this[r(328)]=-1,this[r(334)]=-1,Array[r(309)](e[0]))this[r(344)](e,t);else if(t!==void 0&&n)this.setFlatCoordinates(t,e),this[r(326)]=n;else{const s=e,o=[],a=[];for(let x=0,A=s[r(316)];x<A;++x){const l=s[x];Ki(o,l[r(340)]()),a[r(324)](o[r(316)])}const c=s.length===0?this[r(311)]():s[0].getLayout();this[r(317)](c,o),this[r(326)]=a}}[ce(339)](e){const t=ce;Ki(this.flatCoordinates,e.getFlatCoordinates()[t(343)]()),this[t(326)][t(324)](this[t(333)][t(316)]),this[t(320)]()}[ce(318)](){const e=ce,t=new Dc(this.flatCoordinates[e(343)](),this[e(330)],this[e(326)].slice());return t[e(347)](this),t}[ce(314)](e,t,n,r){const s=ce;return r<J0(this[s(338)](),e,t)?r:(this[s(334)]!=this.getRevision()&&(this[s(328)]=Math.sqrt(Ep(this[s(333)],0,this[s(326)],this[s(341)],0)),this[s(334)]=this[s(337)]()),Cp(this[s(333)],0,this[s(326)],this.stride,this[s(328)],!1,e,t,n,r))}[ce(315)](e,t,n){const r=ce;return this.layout!=r(342)&&this[r(330)]!=r(336)||this.flatCoordinates[r(316)]===0?null:(t=t!==void 0?t:!1,n=n!==void 0?n:!1,S9(this[r(333)],0,this[r(326)],this[r(341)],e,t,n))}[ce(331)](){const e=ce;return Lx(this[e(333)],0,this[e(326)],this[e(341)])}[ce(332)](){return this[ce(326)]}getLineString(e){const t=ce;return e<0||this.ends_.length<=e?null:new Es(this[t(333)][t(343)](e===0?0:this.ends_[e-1],this[t(326)][e]),this.layout)}[ce(346)](){const e=ce,t=this[e(333)],n=this[e(326)],r=this[e(330)],s=[];let o=0;for(let a=0,c=n.length;a<c;++a){const x=n[a],A=new Es(t[e(343)](o,x),r);s[e(324)](A),o=x}return s}[ce(312)](){const e=ce,t=[],n=this[e(333)];let r=0;const s=this.ends_,o=this.stride;for(let a=0,c=s[e(316)];a<c;++a){const x=s[a],A=Wh(n,r,x,o,.5);Ki(t,A),r=x}return t}[ce(335)](e){const t=ce,n=[],r=[];return n[t(316)]=vy(this.flatCoordinates,0,this[t(326)],this.stride,e,n,0,r),new Dc(n,"XY",r)}[ce(322)](){return ce(345)}[ce(306)](e){const t=ce;return v6(this.flatCoordinates,0,this[t(326)],this.stride,e)}[ce(344)](e,t){const n=ce;this.setLayout(t,e,2),!this[n(333)]&&(this.flatCoordinates=[]);const r=Tx(this[n(333)],0,e,this[n(341)],this[n(326)]);this[n(333)].length=r.length===0?0:r[r[n(316)]-1],this[n(320)]()}}const sn=kc;function ef(){const i=["stride","getCoordinates","layout","clone","flatCoordinates","27crKhTw","1054056OgVemt","1569799WlOsRA","MultiPoint","getPoints","appendPoint","getPoint","setCoordinates","length","isArray","getExtent","changed","18022NOsnaG","1430328EFtpZI","1064754yxxHhy","getType","8Kqffym","applyProperties","171772EjxTGV","slice","464355EQyJmQ","getFlatCoordinates","intersectsExtent"];return ef=function(){return i},ef()}(function(i,e){const t=kc,n=i();for(;;)try{if(parseInt(t(165))/1+-parseInt(t(159))/2*(parseInt(t(175))/3)+parseInt(t(176))/4+-parseInt(t(167))/5+parseInt(t(160))/6+parseInt(t(177))/7*(-parseInt(t(163))/8)+-parseInt(t(161))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ef,157141);function kc(i,e){const t=ef();return kc=function(n,r){return n=n-150,t[n]},kc(i,e)}class Mc extends ss{constructor(e,t){const n=kc;super(),t&&!Array[n(156)](e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}[sn(152)](e){const t=sn;Ki(this.flatCoordinates,e[t(168)]()),this[t(158)]()}[sn(173)](){const e=sn,t=new Mc(this[e(174)][e(166)](),this[e(172)]);return t[e(164)](this),t}closestPointXY(e,t,n,r){const s=sn;if(r<J0(this[s(157)](),e,t))return r;const o=this[s(174)],a=this.stride;for(let c=0,x=o.length;c<x;c+=a){const A=Z0(e,t,o[c],o[c+1]);if(A<r){r=A;for(let l=0;l<a;++l)n[l]=o[c+l];n[s(155)]=a}}return r}[sn(171)](){const e=sn;return u0(this.flatCoordinates,0,this[e(174)].length,this[e(170)])}[sn(153)](e){const t=sn,n=this.flatCoordinates[t(155)]/this[t(170)];return e<0||n<=e?null:new cs(this[t(174)][t(166)](e*this[t(170)],(e+1)*this[t(170)]),this[t(172)])}[sn(151)](){const e=sn,t=this[e(174)],n=this[e(172)],r=this[e(170)],s=[];for(let o=0,a=t[e(155)];o<a;o+=r){const c=new cs(t[e(166)](o,o+r),n);s.push(c)}return s}[sn(162)](){return sn(150)}[sn(169)](e){const t=sn,n=this.flatCoordinates,r=this[t(170)];for(let s=0,o=n[t(155)];s<o;s+=r){const a=n[s],c=n[s+1];if(Q2(e,a,c))return!0}return!1}[sn(154)](e,t){const n=sn;this.setLayout(t,e,1),!this.flatCoordinates&&(this[n(174)]=[]),this[n(174)].length=X1(this[n(174)],0,e,this[n(170)]),this[n(158)]()}}function nf(){const i=["36722gOiPRZ","5996GtfgkX","1390cKaUPX","825blVJjZ","2923752SPlRcb","7063vpBGUm","2860022ddXRSy","1182fYgsEW","length","2174APJznC","790MrRWxy","36711hjlqYn"];return nf=function(){return i},nf()}(function(i,e){const t=rf,n=i();for(;;)try{if(-parseInt(t(263))/1+-parseInt(t(260))/2*(-parseInt(t(254))/3)+-parseInt(t(264))/4*(parseInt(t(253))/5)+-parseInt(t(258))/6*(-parseInt(t(256))/7)+-parseInt(t(255))/8+-parseInt(t(262))/9*(-parseInt(t(261))/10)+parseInt(t(257))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(nf,261028);function rf(i,e){const t=nf();return rf=function(n,r){return n=n-253,t[n]},rf(i,e)}function GC(i,e,t,n){const r=rf,s=[];let o=hi();for(let a=0,c=t[r(259)];a<c;++a){const x=t[a];o=R2(i,e,x[0],n),s.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=x[x[r(259)]-1]}return s}function Fc(i,e){const t=sf();return Fc=function(n,r){return n=n-419,t[n]},Fc(i,e)}const Yt=Fc;(function(i,e){const t=Fc,n=i();for(;;)try{if(-parseInt(t(463))/1*(-parseInt(t(451))/2)+parseInt(t(460))/3*(-parseInt(t(427))/4)+parseInt(t(435))/5*(parseInt(t(432))/6)+parseInt(t(428))/7+-parseInt(t(448))/8+parseInt(t(450))/9*(-parseInt(t(434))/10)+parseInt(t(458))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(sf,977703);function sf(){const i=["endss_","4TqmACj","13418076WtFdrf","getArea","maxDelta_","getEnds","6IQnrLB","orientedFlatCoordinates_","4076250wOSZuA","6733490CFaSOE","orientedRevision_","layout","getOrientedFlatCoordinates","slice","getFlatInteriorPoints","maxDeltaRevision_","setCoordinates","getCoordinates","containsXY","intersectsExtent","length","getFlatCoordinates","7360360lypNFk","getInteriorPoints","27iyFWsQ","542FEhUVd","clone","sqrt","flatInteriorPoints_","changed","XYM","MultiPolygon","3427479EKXetC","getPolygon","3205854JjyTHV","getLayout","getEndss","2266aSxtLf","push","flatInteriorPointsRevision_","stride","getType","flatCoordinates","getSimplifiedGeometryInternal","appendPolygon","applyProperties","getRevision","setLayout"];return sf=function(){return i},sf()}class Tc extends ss{constructor(e,t,n){const r=Fc;if(super(),this[r(426)]=[],this[r(465)]=-1,this[r(454)]=null,this.maxDelta_=-1,this[r(441)]=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){const s=e,o=[],a=[];for(let c=0,x=s[r(446)];c<x;++c){const A=s[c],l=o[r(446)],u=A[r(431)]();for(let h=0,f=u.length;h<f;++h)u[h]+=l;Ki(o,A[r(447)]()),a[r(464)](u)}t=s[r(446)]===0?this[r(461)]():s[0][r(461)](),e=o,n=a}t!==void 0&&n?(this.setFlatCoordinates(t,e),this[r(426)]=n):this[r(442)](e,t)}[Yt(422)](e){const t=Yt;let n;if(!this[t(420)])this.flatCoordinates=e[t(447)]()[t(439)](),n=e[t(431)]()[t(439)](),this[t(426)][t(464)]();else{const r=this[t(420)][t(446)];Ki(this.flatCoordinates,e.getFlatCoordinates()),n=e[t(431)]().slice();for(let s=0,o=n[t(446)];s<o;++s)n[s]+=r}this[t(426)][t(464)](n),this.changed()}[Yt(452)](){const e=Yt,t=this[e(426)][e(446)],n=new Array(t);for(let s=0;s<t;++s)n[s]=this.endss_[s][e(439)]();const r=new Tc(this[e(420)][e(439)](),this[e(437)],n);return r[e(423)](this),r}closestPointXY(e,t,n,r){const s=Yt;return r<J0(this.getExtent(),e,t)?r:(this[s(441)]!=this[s(424)]()&&(this[s(430)]=Math[s(453)](m6(this[s(420)],0,this[s(426)],this[s(466)],0)),this.maxDeltaRevision_=this[s(424)]()),E6(this.getOrientedFlatCoordinates(),0,this.endss_,this[s(466)],this[s(430)],!0,e,t,n,r))}[Yt(444)](e,t){const n=Yt;return Q6(this[n(438)](),0,this[n(426)],this.stride,e,t)}[Yt(429)](){const e=Yt;return B6(this.getOrientedFlatCoordinates(),0,this[e(426)],this[e(466)])}[Yt(443)](e){const t=Yt;let n;return e!==void 0?(n=this[t(438)]()[t(439)](),Sp(n,0,this[t(426)],this.stride,e)):n=this[t(420)],Bp(n,0,this[t(426)],this[t(466)])}[Yt(462)](){return this[Yt(426)]}[Yt(440)](){const e=Yt;if(this[e(465)]!=this[e(424)]()){const t=GC(this[e(420)],0,this.endss_,this[e(466)]);this[e(454)]=ky(this.getOrientedFlatCoordinates(),0,this[e(426)],this[e(466)],t),this[e(465)]=this[e(424)]()}return this.flatInteriorPoints_}[Yt(449)](){const e=Yt;return new Mc(this[e(440)]()[e(439)](),e(456))}[Yt(438)](){const e=Yt;if(this[e(436)]!=this[e(424)]()){const t=this[e(420)];Ly(t,0,this[e(426)],this[e(466)])?this[e(433)]=t:(this.orientedFlatCoordinates_=t.slice(),this[e(433)].length=Sp(this[e(433)],0,this[e(426)],this[e(466)])),this[e(436)]=this.getRevision()}return this.orientedFlatCoordinates_}[Yt(421)](e){const t=Yt,n=[],r=[];return n.length=b6(this[t(420)],0,this[t(426)],this[t(466)],Math[t(453)](e),n,0,r),new Tc(n,"XY",r)}[Yt(459)](e){const t=Yt;if(e<0||this[t(426)].length<=e)return null;let n;if(e===0)n=0;else{const o=this[t(426)][e-1];n=o[o[t(446)]-1]}const r=this[t(426)][e].slice(),s=r[r[t(446)]-1];if(n!==0)for(let o=0,a=r[t(446)];o<a;++o)r[o]-=n;return new vo(this[t(420)][t(439)](n,s),this[t(437)],r)}getPolygons(){const e=Yt,t=this.layout,n=this.flatCoordinates,r=this[e(426)],s=[];let o=0;for(let a=0,c=r[e(446)];a<c;++a){const x=r[a][e(439)](),A=x[x[e(446)]-1];if(o!==0)for(let u=0,h=x[e(446)];u<h;++u)x[u]-=o;const l=new vo(n.slice(o,A),t,x);s.push(l),o=A}return s}[Yt(419)](){return Yt(457)}[Yt(445)](e){const t=Yt;return R6(this[t(438)](),0,this.endss_,this[t(466)],e)}[Yt(442)](e,t){const n=Yt;this[n(425)](t,e,3),!this[n(420)]&&(this.flatCoordinates=[]);const r=Qy(this[n(420)],0,e,this[n(466)],this[n(426)]);if(r.length===0)this[n(420)][n(446)]=0;else{const s=r[r[n(446)]-1];this[n(420)].length=s.length===0?0:s[s[n(446)]-1]}this[n(455)]()}}const Tt=Lc;(function(i,e){const t=Lc,n=i();for(;;)try{if(-parseInt(t(384))/1*(parseInt(t(394))/2)+-parseInt(t(386))/3+-parseInt(t(362))/4*(-parseInt(t(401))/5)+parseInt(t(387))/6*(parseInt(t(372))/7)+-parseInt(t(396))/8+-parseInt(t(377))/9+parseInt(t(365))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(of,392709);function Lc(i,e){const t=of();return Lc=function(n,r){return n=n-358,t[n]},Lc(i,e)}function of(){const i=["1892937rWZHlK","116802WUCijp","assign","Invalid geometry type:","Point","flatMidpoints_","flatCoordinates_","flatInteriorPoints_","2AYpzMk","getFlatInteriorPoint","1192264EAUUyS","styleFunction","stride_","ends_","simplifiedGeometry_","20gPzWYT","extent_","prototype","getFlatMidpoints","transform","MultiPoint","setGeometryName","getEnds","getProperties","length","simplifyTransformed","MultiLineString","getGeometry","22772oqRdeB","Polygon","getPropertiesInternal","14239910GLSlhS","getWorldExtent","setId","type_","get","properties_","getType","133OigSSS","getStride","applyTransform","id_","setGeometry","5786712fHwoXu","getOrientedFlatCoordinates","getFlatCoordinates","slice","getExtent","clone","getId","947WiPWsX","squaredTolerance_"];return of=function(){return i},of()}const NC=Nn();class fn{constructor(e,t,n,r,s,o){const a=Lc;this[a(397)],this[a(402)],this[a(375)]=o,this[a(368)]=e,this[a(392)]=t,this[a(393)]=null,this[a(391)]=null,this[a(399)]=n||null,this[a(370)]=s,this[a(385)],this[a(398)]=r,this[a(400)]}[Tt(369)](e){return this[Tt(370)][e]}[Tt(381)](){const e=Tt;return!this.extent_&&(this[e(402)]=this.type_===e(390)?BE(this[e(392)]):R2(this.flatCoordinates_,0,this[e(392)][e(358)],2)),this[e(402)]}[Tt(395)](){const e=Tt;if(!this[e(393)]){const t=fi(this[e(381)]());this.flatInteriorPoints_=Qp(this[e(392)],0,this[e(399)],2,t,0)}return this[e(393)]}getFlatInteriorPoints(){const e=Tt;if(!this.flatInteriorPoints_){const t=Gy(this[e(392)],this[e(399)]),n=GC(this.flatCoordinates_,0,t,2);this[e(393)]=ky(this[e(392)],0,t,2,n)}return this[e(393)]}getFlatMidpoint(){const e=Tt;return!this[e(391)]&&(this[e(391)]=Wh(this[e(392)],0,this[e(392)].length,2,.5)),this[e(391)]}[Tt(404)](){const e=Tt;if(!this[e(391)]){this[e(391)]=[];const t=this[e(392)];let n=0;const r=this[e(399)];for(let s=0,o=r.length;s<o;++s){const a=r[s],c=Wh(t,n,a,2,.5);Ki(this[e(391)],c),n=a}}return this[e(391)]}getId(){return this[Tt(375)]}[Tt(378)](){return this[Tt(392)]}[Tt(361)](){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}[Tt(409)](){return this[Tt(370)]}[Tt(364)](){return this[Tt(370)]}[Tt(373)](){return this.stride_}getStyleFunction(){return this[Tt(397)]}getType(){return this[Tt(368)]}[Tt(405)](e){const t=Tt;e=Zt(e);const n=e[t(381)](),r=e[t(366)]();if(n&&r){const s=Be(r)/Be(n);er(NC,r[0],r[3],s,-s,0,0,0),c0(this[t(392)],0,this.flatCoordinates_[t(358)],2,NC,this[t(392)])}}[Tt(374)](e){const t=Tt;e(this.flatCoordinates_,this[t(392)],this[t(398)])}[Tt(382)](){var t;const e=Tt;return new fn(this[e(368)],this.flatCoordinates_[e(380)](),(t=this[e(399)])==null?void 0:t[e(380)](),this[e(398)],Object[e(388)]({},this.properties_),this[e(375)])}[Tt(408)](){return this[Tt(399)]}enableSimplifyTransformed(){const e=Tt;return this[e(359)]=XE((t,n)=>{const r=e;if(t===this[r(385)])return this.simplifiedGeometry_;this[r(400)]=this[r(382)](),n&&this.simplifiedGeometry_[r(374)](n);const s=this.simplifiedGeometry_.getFlatCoordinates();let o;switch(this[r(368)]){case"LineString":s[r(358)]=Z1(s,0,this[r(400)].flatCoordinates_[r(358)],this.simplifiedGeometry_.stride_,t,s,0),o=[s.length];break;case"MultiLineString":o=[],s.length=vy(s,0,this[r(400)][r(399)],this[r(400)][r(398)],t,s,0,o);break;case r(363):o=[],s.length=bp(s,0,this[r(400)].ends_,this[r(400)][r(398)],Math.sqrt(t),s,0,o);break}return o&&(this[r(400)]=new fn(this[r(368)],s,o,2,this[r(370)],this[r(375)])),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}fn.prototype.getFlatCoordinates=fn[Tt(403)][Tt(378)];var Zo=af;function af(i,e){var t=xf();return af=function(n,r){n=n-471;var s=t[n];return s},af(i,e)}(function(i,e){for(var t=af,n=i();;)try{var r=parseInt(t(478))/1*(parseInt(t(477))/2)+-parseInt(t(483))/3*(parseInt(t(485))/4)+parseInt(t(474))/5+parseInt(t(475))/6*(parseInt(t(473))/7)+parseInt(t(482))/8+parseInt(t(484))/9*(parseInt(t(481))/10)+-parseInt(t(479))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(xf,273866);const Ci={ADDFEATURE:Zo(472),CHANGEFEATURE:"changefeature",CLEAR:Zo(486),REMOVEFEATURE:Zo(476),FEATURESLOADSTART:Zo(487),FEATURESLOADEND:Zo(480),FEATURESLOADERROR:Zo(471)};function xf(){var i=["featuresloadend","6790LSqEod","1573224GigngP","3vRBHIM","3177OYfcrT","2140396jzPkQO","clear","featuresloadstart","featuresloaderror","addfeature","112VNTANW","1794785JEjgkl","136992ntNSep","removefeature","303908sqzgfz","2KpjseI","7211072KQBbel"];return xf=function(){return i},xf()}(function(i,e){const t=AI,n=i();for(;;)try{if(parseInt(t(417))/1*(-parseInt(t(409))/2)+-parseInt(t(411))/3*(parseInt(t(416))/4)+-parseInt(t(413))/5+-parseInt(t(418))/6+parseInt(t(412))/7*(-parseInt(t(414))/8)+-parseInt(t(405))/9+-parseInt(t(410))/10*(-parseInt(t(402))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(cf,965241);function D9(i,e){return[[-1/0,-1/0,1/0,1/0]]}function k9(i,e){return[i]}function AI(i,e){const t=cf();return AI=function(n,r){return n=n-402,t[n]},AI(i,e)}function cf(){const i=["4205264zENXsg","maxY","597836HvDMHC","13rhVgcH","3449034VDtIFF","94112051sVBPSB","push","maxX","16547940wCZcsj","getZForResolution","minX","getTileCoordExtent","178174fttBEq","10NTrivo","27TwYWjR","14Viewpo","8111615XZCxuN"];return cf=function(){return i},cf()}(function(i,e){const t=lf,n=i();for(;;)try{if(parseInt(t(429))/1*(parseInt(t(416))/2)+-parseInt(t(426))/3+-parseInt(t(430))/4*(parseInt(t(423))/5)+-parseInt(t(420))/6+parseInt(t(421))/7+-parseInt(t(432))/8*(parseInt(t(424))/9)+parseInt(t(417))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Af,323032);let M9=!1;function Af(){const i=["140nfikLq","responseType","1784vLDQEQ","getType","readFeatures","status","onerror","readProjection","xml","onload","1418xHhGCD","15025820VDVocL","send","withCredentials","1738110KkNKkN","2809821kbIxBa","text","40650AHwrsx","18594yNDrTZ","responseText","1916637WATDYq","arraybuffer","GET","131zZbcgU"];return Af=function(){return i},Af()}function lf(i,e){const t=Af();return lf=function(n,r){return n=n-409,t[n]},lf(i,e)}function PC(i,e,t,n,r,s,o){const a=lf,c=new XMLHttpRequest;c.open(a(428),typeof i=="function"?i(t,n,r):i,!0),e[a(409)]()==a(427)&&(c[a(431)]=a(427)),c[a(419)]=M9,c[a(415)]=function(x){const A=a;if(!c[A(411)]||c.status>=200&&c[A(411)]<300){const l=e[A(409)]();try{let u;l==A(422)||l=="json"?u=c[A(425)]:l==A(414)?u=c.responseXML||c[A(425)]:l=="arraybuffer"&&(u=c.response),u?s(e[A(410)](u,{extent:t,featureProjection:r}),e[A(413)](u)):o()}catch{o()}}else o()},c[a(412)]=o,c[a(418)]()}function UC(i,e){return function(t,n,r,s,o){const a=this;PC(i,e,t,n,r,function(c,x){a.addFeatures(c),s!==void 0&&s(c)},o||oo)}}const nt=_0;(function(i,e){const t=_0,n=i();for(;;)try{if(-parseInt(t(324))/1+-parseInt(t(344))/2*(parseInt(t(329))/3)+-parseInt(t(363))/4*(parseInt(t(385))/5)+parseInt(t(304))/6*(-parseInt(t(338))/7)+-parseInt(t(364))/8*(parseInt(t(356))/9)+parseInt(t(308))/10*(parseInt(t(303))/11)+parseInt(t(312))/12*(parseInt(t(302))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(uf,352623);function uf(){const i=["length","intersectsExtent","getExtent","getInExtent","forEachInExtent","overlaps","27626911SEUVqH","22wQnlzo","34446FpjkgB","refresh","ADD","getOverlaps","2369090hQRVVA","dispatchEvent","getFormat","getGeometry","12OQlsBS","load","CHANGE","intersectsCoordinate","CLEAR","handleFeatureChange_","isEmpty","addFeatureInternal","getAll","forEach","REMOVEFEATURE","clear","570863Qlpwws","FEATURESLOADEND","getClosestFeatureToCoordinate","wrapX","concat","28806VgXxne","hasListener","forEachFeatureIntersectingExtent","ADDFEATURE","removeFeature","forEachFeatureAtCoordinateDirect","remove","values","indexOf","791RcQiME","overlaps_","format","bindFeaturesCollection_","removeFeatureInternal","nullGeometryFeatures_","94jXghyn","target","call","extent","features","getLength","loader","CHANGEFEATURE","hasFeature","update","forEachFeatureInExtent","addFeatures","540oBUqdh","strategy","PROPERTYCHANGE","push","The passed `feature` was already added to the source","slice","map","712mMvoCD","32488kboXBh","strategy_","getId","getFeatureByUid","getFeatureById","element","addFeaturesInternal","format_","`format` must be set when `url` is set","closestPointXY","setLoader","featureChangeKeys_","canWrapX","getUrl","FEATURESLOADERROR","loader_","idIndex_","toString","getArray","addEventListener","addToIndex_","9320gaSzGv","useSpatialIndex","insert","feature","uidIndex_","url_","attributions","changed","removeFromIdIndex_","addFeature","getFeaturesAtCoordinate","featuresCollection_","isArray","sqrt","getWrapX","once","featuresRtree_","loadedExtentsRtree_","loadingExtentsCount_"];return uf=function(){return i},uf()}function _0(i,e){const t=uf();return _0=function(n,r){return n=n-294,t[n]},_0(i,e)}class m0 extends di{constructor(e,t,n){const r=_0;super(e),this[r(388)]=t,this[r(348)]=n}}class Wo extends _o{constructor(e){const t=_0;e=e||{},super({attributions:e[t(391)],interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e[t(327)]:!0}),this.on,this[t(400)],this.un,this[t(379)]=oo,this.format_=e[t(340)]||null,this[t(339)]=e[t(301)]===void 0?!0:e.overlaps,this.url_=e.url,e[t(350)]!==void 0?this[t(379)]=e[t(350)]:this.url_!==void 0&&(Qt(this[t(371)],t(372)),this[t(379)]=UC(this[t(390)],this[t(371)])),this[t(365)]=e[t(357)]!==void 0?e[t(357)]:D9;const n=e[t(386)]!==void 0?e[t(386)]:!0;this[t(401)]=n?new LC:null,this[t(294)]=new LC,this[t(295)]=0,this[t(343)]={},this[t(380)]={},this.uidIndex_={},this[t(375)]={},this[t(396)]=null;let r,s;Array[t(397)](e[t(348)])?s=e[t(348)]:e.features&&(r=e.features,s=r.getArray()),!n&&r===void 0&&(r=new sr(s)),s!==void 0&&this[t(370)](s),r!==void 0&&this[t(341)](r)}addFeature(e){const t=_0;this.addFeatureInternal(e),this[t(392)]()}[nt(319)](e){const t=nt,n=ct(e);if(!this[t(384)](n,e)){this[t(396)]&&this[t(396)][t(335)](e);return}this.setupChangeEvents_(n,e);const r=e[t(311)]();if(r){const s=r[t(298)]();this[t(401)]&&this.featuresRtree_.insert(s,e)}else this[t(343)][n]=e;this[t(309)](new m0(Ci[t(332)],e))}setupChangeEvents_(e,t){const n=nt;t instanceof fn||(this[n(375)][e]=[wt(t,rt[n(314)],this[n(317)],this),wt(t,Ao[n(358)],this[n(317)],this)])}[nt(384)](e,t){const n=nt;let r=!0;if(t[n(366)]()!==void 0){const s=String(t.getId());if(!(s in this[n(380)]))this[n(380)][s]=t;else if(t instanceof fn){const o=this[n(380)][s];o instanceof fn?Array[n(397)](o)?o[n(359)](t):this.idIndex_[s]=[o,t]:r=!1}else r=!1}return r&&(Qt(!(e in this[n(389)]),n(360)),this.uidIndex_[e]=t),r}[nt(355)](e){const t=nt;this.addFeaturesInternal(e),this[t(392)]()}[nt(370)](e){const t=nt,n=[],r=[],s=[];for(let o=0,a=e[t(296)];o<a;o++){const c=e[o],x=ct(c);this[t(384)](x,c)&&r.push(c)}for(let o=0,a=r.length;o<a;o++){const c=r[o],x=ct(c);this.setupChangeEvents_(x,c);const A=c[t(311)]();if(A){const l=A[t(298)]();n[t(359)](l),s[t(359)](c)}else this[t(343)][x]=c}if(this.featuresRtree_&&this[t(401)][t(313)](n,s),this[t(330)](Ci[t(332)]))for(let o=0,a=r.length;o<a;o++)this.dispatchEvent(new m0(Ci[t(332)],r[o]))}[nt(341)](e){const t=nt;let n=!1;this[t(383)](Ci.ADDFEATURE,function(r){const s=t;!n&&(n=!0,e[s(359)](r.feature),n=!1)}),this[t(383)](Ci[t(322)],function(r){const s=t;!n&&(n=!0,e.remove(r[s(388)]),n=!1)}),e[t(383)](Hn[t(306)],r=>{const s=t;!n&&(n=!0,this[s(394)](r[s(369)]),n=!1)}),e[t(383)](Hn.REMOVE,r=>{const s=t;!n&&(n=!0,this.removeFeature(r[s(369)]),n=!1)}),this.featuresCollection_=e}clear(e){const t=nt;if(e){for(const r in this[t(375)])this.featureChangeKeys_[r].forEach(Wt);!this[t(396)]&&(this[t(375)]={},this.idIndex_={},this[t(389)]={})}else if(this.featuresRtree_){const r=s=>{this[t(342)](s)};this.featuresRtree_[t(321)](r);for(const s in this.nullGeometryFeatures_)this[t(342)](this[t(343)][s])}this[t(396)]&&this[t(396)][t(323)](),this[t(401)]&&this.featuresRtree_[t(323)](),this.nullGeometryFeatures_={};const n=new m0(Ci[t(316)]);this.dispatchEvent(n),this[t(392)]()}forEachFeature(e){const t=nt;if(this.featuresRtree_)return this[t(401)][t(321)](e);this.featuresCollection_&&this.featuresCollection_[t(321)](e)}[nt(334)](e,t){const n=nt,r=[e[0],e[1],e[0],e[1]];return this[n(354)](r,function(s){const o=n,a=s[o(311)]();if(a instanceof fn||a[o(315)](e))return t(s)})}[nt(354)](e,t){const n=nt;if(this[n(401)])return this[n(401)][n(300)](e,t);this[n(396)]&&this[n(396)][n(321)](t)}[nt(331)](e,t){return this.forEachFeatureInExtent(e,function(n){const r=_0,s=n[r(311)]();if(s instanceof fn||s[r(297)](e)){const o=t(n);if(o)return o}})}getFeaturesCollection(){return this[nt(396)]}getFeatures(){const e=nt;let t;return this[e(396)]?t=this.featuresCollection_[e(382)]()[e(361)](0):this[e(401)]&&(t=this[e(401)][e(320)](),!$r(this[e(343)])&&Ki(t,Object[e(336)](this.nullGeometryFeatures_))),t}[nt(395)](e){const t=nt,n=[];return this[t(334)](e,function(r){n[t(359)](r)}),n}getFeaturesInExtent(e,t){const n=nt;if(this[n(401)]){if(!(t&&t[n(376)]()&&this[n(399)]()))return this[n(401)][n(299)](e);const s=S2(e,t);return[][n(328)](...s[n(362)](o=>this.featuresRtree_[n(299)](o)))}return this[n(396)]?this[n(396)][n(382)]().slice(0):[]}[nt(326)](e,t){const n=nt,r=e[0],s=e[1];let o=null;const a=[NaN,NaN];let c=1/0;const x=[-1/0,-1/0,1/0,1/0];return t=t||fx,this[n(401)].forEachInExtent(x,function(A){const l=n;if(t(A)){const u=A.getGeometry(),h=c;if(c=u instanceof fn?0:u[l(373)](r,s,a,c),c<h){o=A;const f=Math[l(398)](c);x[0]=r-f,x[1]=s-f,x[2]=r+f,x[3]=s+f}}}),o}[nt(298)](e){const t=nt;return this[t(401)][t(298)](e)}[nt(368)](e){const t=nt,n=this[t(380)][e[t(381)]()];return n!==void 0?n:null}[nt(367)](e){const t=nt,n=this[t(389)][e];return n!==void 0?n:null}[nt(310)](){return this.format_}[nt(307)](){return this.overlaps_}[nt(377)](){return this[nt(390)]}[nt(317)](e){const t=nt,n=e[t(345)],r=ct(n),s=n[t(311)]();if(!s)!(r in this.nullGeometryFeatures_)&&(this[t(401)]&&this[t(401)][t(335)](n),this[t(343)][r]=n);else{const a=s.getExtent();r in this[t(343)]?(delete this[t(343)][r],this[t(401)]&&this[t(401)][t(387)](a,n)):this[t(401)]&&this[t(401)][t(353)](a,n)}const o=n[t(366)]();if(o!==void 0){const a=o[t(381)]();this.idIndex_[a]!==n&&(this[t(393)](n),this[t(380)][a]=n)}else this[t(393)](n),this.uidIndex_[r]=n;this.changed(),this[t(309)](new m0(Ci[t(351)],n))}[nt(352)](e){const t=nt,n=e[t(366)]();return n!==void 0?n in this[t(380)]:ct(e)in this[t(389)]}isEmpty(){const e=nt;return this.featuresRtree_?this[e(401)][e(318)]()&&$r(this[e(343)]):this.featuresCollection_?this[e(396)][e(349)]()===0:!0}loadFeatures(e,t,n){const r=nt,s=this[r(294)],o=this[r(365)](e,t,n);for(let a=0,c=o.length;a<c;++a){const x=o[a];!s[r(300)](x,function(l){return ki(l.extent,x)})&&(++this[r(295)],this[r(309)](new m0(Ci.FEATURESLOADSTART)),this[r(379)][r(346)](this,x,t,n,l=>{const u=r;--this.loadingExtentsCount_,this[u(309)](new m0(Ci[u(325)],void 0,l))},()=>{const l=r;--this.loadingExtentsCount_,this[l(309)](new m0(Ci[l(378)]))}),s.insert(x,{extent:x[r(361)]()}))}this.loading=this.loader_[r(296)]<4?!1:this[r(295)]>0}[nt(305)](){const e=nt;this[e(323)](!0),this.loadedExtentsRtree_[e(323)](),super[e(305)]()}removeLoadedExtent(e){const t=nt,n=this.loadedExtentsRtree_;let r;n[t(300)](e,function(s){if(mr(s[t(347)],e))return r=s,!0}),r&&n.remove(r)}removeFeatures(e){const t=nt;let n=!1;for(let r=0,s=e.length;r<s;++r)n=this[t(342)](e[r])||n;n&&this[t(392)]()}[nt(333)](e){const t=nt;if(!e)return;this.removeFeatureInternal(e)&&this[t(392)]()}[nt(342)](e){const t=nt,n=ct(e);if(!(n in this[t(389)]))return!1;n in this.nullGeometryFeatures_?delete this[t(343)][n]:this.featuresRtree_&&this[t(401)][t(335)](e);const r=this[t(375)][n];r==null||r.forEach(Wt),delete this[t(375)][n];const s=e[t(366)]();if(s!==void 0){const o=s.toString(),a=this[t(380)][o];a===e?delete this[t(380)][o]:Array.isArray(a)&&(a.splice(a[t(337)](e),1),a.length===1&&(this[t(380)][o]=a[0]))}return delete this.uidIndex_[n],this.hasListener(Ci[t(322)])&&this.dispatchEvent(new m0(Ci[t(322)],e)),!0}removeFromIdIndex_(e){const t=nt;for(const n in this[t(380)])if(this.idIndex_[n]===e){delete this[t(380)][n];break}}[nt(374)](e){const t=nt;this[t(379)]=e}setUrl(e){const t=nt;Qt(this.format_,"`format` must be set when `url` is set"),this[t(390)]=e,this[t(374)](UC(e,this.format_))}}const or=ta;(function(i,e){const t=ta,n=i();for(;;)try{if(parseInt(t(240))/1*(parseInt(t(242))/2)+-parseInt(t(253))/3*(-parseInt(t(254))/4)+parseInt(t(241))/5+parseInt(t(252))/6+-parseInt(t(231))/7*(parseInt(t(248))/8)+-parseInt(t(227))/9+-parseInt(t(247))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(hf,926372);function hf(){const i=["20YeYzcw","getData","IDLE","error_","getImageData","ERROR","size_","height","state","15548994bsXbyj","LOADING","changed","canvas","67417qvDqYI","data_","width","catch","size","then","getError","disposeInternal","load","81484tyFKVg","4793735HLaAtQ","32tZkoTw","LOADED","controller_","interpolate","loader_","30290950hqHptF","56YEhjYo","getSize","abort","clearRect","9827094BvThHB","1110126qELibR"];return hf=function(){return i},hf()}function ff(i){return i instanceof Image||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement||i instanceof ImageBitmap?i:null}function F9(i){return i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Float32Array||i instanceof DataView?i:null}const T9=new Error("disposed");let $o=null;function L9(i){const e=ta;!$o&&($o=fe(i[e(233)],i[e(225)],void 0,{willReadFrequently:!0}));const t=$o[e(230)],n=i.width;t[e(233)]!==n&&(t[e(233)]=n);const r=i[e(225)];return t.height!==r&&(t[e(225)]=r),$o[e(251)](0,0,n,r),$o.drawImage(i,0,0),$o[e(222)](0,0,n,r).data}const G9=[256,256];function ta(i,e){const t=hf();return ta=function(n,r){return n=n-220,t[n]},ta(i,e)}class lI extends Ic{constructor(e){const t=ta,n=z[t(220)];super(e.tileCoord,n,{transition:e.transition,interpolate:e[t(245)]}),this[t(246)]=e.loader,this.data_=null,this.error_=null,this[t(224)]=e[t(235)]||null,this[t(244)]=e.controller||null}[or(249)](){const e=or;if(this[e(224)])return this[e(224)];const t=ff(this[e(232)]);return t?[t[e(233)],t[e(225)]]:G9}[or(255)](){return this[or(232)]}[or(237)](){return this[or(221)]}[or(239)](){const e=or;if(this[e(226)]!==z.IDLE&&this[e(226)]!==z[e(223)])return;this[e(226)]=z[e(228)],this[e(229)]();const t=this;this[e(246)]()[e(236)](function(n){const r=e;t.data_=n,t[r(226)]=z[r(243)],t[r(229)]()})[e(234)](function(n){const r=e;t[r(221)]=n,t[r(226)]=z[r(223)],t[r(229)]()})}[or(238)](){const e=or;this[e(244)]&&(this[e(244)][e(250)](T9),this.controller_=null),super[e(238)]()}}const ar=Gc;(function(i,e){const t=Gc,n=i();for(;;)try{if(-parseInt(t(176))/1+parseInt(t(168))/2+parseInt(t(123))/3+parseInt(t(144))/4*(parseInt(t(190))/5)+-parseInt(t(142))/6*(-parseInt(t(180))/7)+parseInt(t(132))/8+-parseInt(t(133))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(df,815272);function df(){const i=["unlistenSources_","sourceTileGrid","71718cRBhlq","getContext","20Dvdeiy","state","length","reproject_","createImageData","sourcesListenerKeys_","sourceTiles_","floor","getResolution","getTileCoordExtent","data","errorThreshold","targetTileGrid_","ceil","minX","extent","ERROR","putImageData","changed","getTriangles","transition","CHANGE","round","getZForResolution","374108GHcHKb","number","LOADING","wrappedTileCoord_","sourceProj","pixelRatio_","maxY","maxX","1267260pOzOQZ","slice","sourceTileGrid_","resolve","826vBhZqS","getImageData","gutter","triangulation_","minY","reprojSize_","push","getError","getExtent","wrappedTileCoord","1486630KYdKaq","EMPTY","offset","forEach","reprojError_","LOADED","canWrapX","IDLE","load","byteLength","3117252eQxbXe","bind","buffer","getData","calculateSourceExtent","tileCoord","targetTileGrid","getSize","height","11201120ljlitY","30967470YTawqM","reprojData_","clipExtent_","sourceZ_","canvas","getState","width"];return df=function(){return i},df()}function Gc(i,e){const t=df();return Gc=function(n,r){return n=n-122,t[n]},Gc(i,e)}class N9 extends lI{constructor(e){const t=Gc;super({tileCoord:e[t(128)],loader:()=>Promise[t(179)](new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e[t(164)]}),this[t(173)]=e.pixelRatio,this.gutter_=e[t(182)],this[t(134)]=null,this[t(194)]=null,this.reprojSize_=void 0,this[t(178)]=e[t(141)],this[t(156)]=e[t(129)],this.wrappedTileCoord_=e[t(189)]||e[t(128)],this[t(150)]=[],this[t(149)]=null,this[t(136)]=0;const n=e[t(172)],r=n[t(188)](),s=e.sourceTileGrid[t(188)]();this.clipExtent_=n.canWrapX()?s?Cn(r,s):r:s;const o=this[t(156)][t(153)](this[t(171)]),a=this[t(156)][t(188)]();let c=this[t(178)][t(188)]();const x=a?Cn(o,a):o;if(ox(x)===0){this[t(145)]=z[t(191)];return}r&&(c?c=Cn(c,r):c=r);const A=this[t(156)][t(152)](this[t(171)][0]),l=e.targetProj,u=cy(n,l,x,A);if(!isFinite(u)||u<=0){this[t(145)]=z[t(191)];return}const h=e[t(155)]!==void 0?e.errorThreshold:ip;if(this[t(183)]=new rp(n,l,x,c,u*h,A),this[t(183)][t(163)]()[t(146)]===0){this.state=z[t(191)];return}this.sourceZ_=this[t(178)][t(167)](u);let f=this[t(183)][t(127)]();if(c&&(n[t(196)]()?(f[1]=Qe(f[1],c[1],c[3]),f[3]=Qe(f[3],c[1],c[3])):f=Cn(f,c)),!ox(f))this[t(145)]=z.EMPTY;else{let g=0,d=0;n[t(196)]()&&(g=Ct(r),d=Math[t(151)]((f[0]-r[0])/g)),S2(f[t(177)](),n,!0)[t(193)](I=>{const _=t,m=this.sourceTileGrid_.getTileRangeForExtentAndZ(I,this[_(136)]),y=e.getTileFunction;for(let E=m[_(158)];E<=m[_(175)];E++)for(let C=m[_(184)];C<=m[_(174)];C++){const b=y(this[_(136)],E,C,this[_(173)]);if(b){const B=d*g;this[_(150)][_(186)]({tile:b,offset:B})}}++d}),this.sourceTiles_[t(146)]===0&&(this[t(145)]=z.EMPTY)}}[ar(130)](){return this[ar(185)]}[ar(126)](){return this[ar(134)]}[ar(187)](){return this[ar(194)]}reproject_(){const e=ar,t=[];let n=!1;if(this[e(150)].forEach(g=>{var P;const d=e,p=g.tile;if(!p||p[d(138)]()!==z[d(195)])return;const I=p[d(130)](),_=this.gutter_;let m;const y=F9(p[d(126)]());y?m=y:(n=!0,m=L9(ff(p.getData())));const E=[I[0]+2*_,I[1]+2*_],C=m instanceof Float32Array,b=E[0]*E[1],B=C?Float32Array:Uint8ClampedArray,Q=new B(m[d(125)]),w=B.BYTES_PER_ELEMENT,R=w*Q[d(146)]/b,D=Q[d(122)]/E[1],F=Math.floor(D/w/E[0]),v=b*F;let S=Q;if(Q[d(146)]!==v){S=new B(v);let O=0,k=0;const H=E[0]*F;for(let K=0;K<E[1];++K){for(let q=0;q<H;++q)S[O++]=Q[k+q];k+=D/w}}const M=this.sourceTileGrid_.getTileCoordExtent(p[d(128)]);M[0]+=g[d(192)],M[2]+=g[d(192)];const L=(P=this[d(135)])==null?void 0:P[d(177)]();L&&(L[0]+=g[d(192)],L[2]+=g.offset),t[d(186)]({extent:M,clipExtent:L,data:new Uint8ClampedArray(S.buffer),dataType:B,bytesPerPixel:R,pixelSize:E})}),this[e(150)][e(146)]=0,t[e(146)]===0){this[e(145)]=z[e(160)],this[e(162)]();return}const r=this[e(171)][0],s=this.targetTileGrid_.getTileSize(r),o=typeof s===e(169)?s:s[0],a=typeof s===e(169)?s:s[1],c=this[e(156)].getResolution(r),x=this[e(178)].getResolution(this[e(136)]),A=this[e(156)][e(153)](this.wrappedTileCoord_);let l,u;const h=t[0].bytesPerPixel,f=Math[e(157)](h/3);for(let g=f-1;g>=0;--g){const d=[];for(let E=0,C=t.length;E<C;++E){const b=t[E],B=b.data,Q=b.pixelSize,w=Q[0],R=Q[1],D=fe(w,R,vr),F=D[e(148)](w,R),v=F.data;let S=g*3;for(let M=0,L=v.length;M<L;M+=4)v[M]=B[S],v[M+1]=B[S+1],v[M+2]=B[S+2],v[M+3]=255,S+=h;D[e(161)](F,0,0),d[e(186)]({extent:b[e(159)],clipExtent:b.clipExtent,image:D[e(137)]})}const p=xp(o,a,this.pixelRatio_,x,this[e(178)][e(188)](),c,A,this[e(183)],d,this.gutter_,!1,!1,!1);for(let E=0,C=d.length;E<C;++E){const b=d[E].image,B=b[e(143)]("2d");$0(B),vr.push(B.canvas)}const I=p.getContext("2d"),_=I[e(181)](0,0,p[e(139)],p[e(131)]);$0(I),vr[e(186)](p),!l&&(u=new Uint8ClampedArray(h*_[e(139)]*_[e(131)]),l=new t[0].dataType(u.buffer));const m=_[e(154)];let y=g*3;for(let E=0,C=m[e(146)];E<C;E+=4)m[E+3]===255?(u[y]=m[E],u[y+1]=m[E+1],u[y+2]=m[E+2]):(u[y]=0,u[y+1]=0,u[y+2]=0),y+=h}if(n){const g=fe(o,a),d=new ImageData(l,o);g.putImageData(d,0,0),this[e(134)]=g[e(137)]}else this[e(134)]=l;this.reprojSize_=[Math[e(166)](o*this[e(173)]),Math[e(166)](a*this.pixelRatio_)],this[e(145)]=z[e(195)],this.changed()}load(){const e=ar;if(this.state!==z[e(197)]&&this.state!==z[e(160)])return;this.state=z.LOADING,this.changed();let t=0;this[e(149)]=[],this[e(150)][e(193)](({tile:n})=>{const r=e,s=n[r(138)]();if(s!==z.IDLE&&s!==z[r(170)])return;t++;const o=wt(n,rt[r(165)],()=>{const a=r,c=n[a(138)]();(c==z.LOADED||c==z.ERROR||c==z[a(191)])&&(Wt(o),t--,t===0&&(this[a(140)](),this[a(147)]()))});this[r(149)][r(186)](o)}),t===0?setTimeout(this.reproject_[e(124)](this),0):this[e(150)][e(193)](function({tile:n}){const r=e;n[r(138)]()==z[r(197)]&&n[r(198)]()})}[ar(140)](){const e=ar;this[e(149)][e(193)](Wt),this.sourcesListenerKeys_=null}}(function(i,e){const t=gf,n=i();for(;;)try{if(parseInt(t(515))/1+-parseInt(t(528))/2*(-parseInt(t(504))/3)+parseInt(t(523))/4+parseInt(t(526))/5*(-parseInt(t(529))/6)+-parseInt(t(498))/7*(parseInt(t(509))/8)+parseInt(t(527))/9+-parseInt(t(531))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(pf,525446);function gf(i,e){const t=pf();return gf=function(n,r){return n=n-493,t[n]},gf(i,e)}function P9(i,e,t,n){const r=gf,s=document[r(508)](r(516)),o=r(525)+ct(e);function a(){const x=r;delete window[o],s.parentNode[x(514)](s)}s[r(497)]=!0,s[r(493)]=i+(i[r(495)]("?")?"&":"?")+r(502)+"="+o;const c=setTimeout(function(){a(),t&&t()},1e4);window[o]=function(x){clearTimeout(c),a(),e(x)},document[r(519)].appendChild(s)}function pf(){const i=["callback","Error parsing response text as JSON: ","12czsAmn","undefined","error","Accept","createElement","8TATHpq","addEventListener","://","href","GET","removeChild","340159gpxtVH","script","send","responseText","head","message","name","setRequestHeader","3085048KwskeU","target","olc_","5FUcmcE","6489891AmFNaY","470996ILrZaL","5282094pbREhk","open","8857600AMQxze","load","src","ResponseError","includes","response","async","3380699qBDEat","ClientError","client","status"];return pf=function(){return i},pf()}function If(){var i=["onLoad","key","LOADING","load","LOADED","getFeatures","540XsCIAd","resolution","1291192UvvRDb","format_","103761djLGEj","projection","640966fJICBa","IDLE","setLoader","setFeatures","6198vZyIbp","state","1155366PkFUZt","features_","10446890KkQRjI","2gTEKRE","2802384bUUXsG","tileLoadFunction_","loader_","80pHOhsX","11rarFQa","getFormat","extent","setState"];return If=function(){return i},If()}var bi=Nc;(function(i,e){for(var t=Nc,n=i();;)try{var r=parseInt(t(369))/1+-parseInt(t(378))/2*(parseInt(t(375))/3)+-parseInt(t(365))/4+-parseInt(t(363))/5*(parseInt(t(373))/6)+parseInt(t(367))/7*(-parseInt(t(382))/8)+-parseInt(t(379))/9+parseInt(t(377))/10*(parseInt(t(383))/11);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(If,406565);function Nc(i,e){var t=If();return Nc=function(n,r){n=n-355;var s=t[n];return s},Nc(i,e)}let OC=class extends Ic{constructor(e,t,n,r,s,o){var a=Nc;super(e,t,o),this[a(355)]=null,this[a(366)]=r,this[a(376)]=null,this[a(381)],this[a(368)]=null,this.resolution,this[a(380)]=s,this.url_=n,this[a(358)]=n}[bi(384)](){var e=bi;return this[e(366)]}[bi(362)](){var e=bi;return this[e(376)]}[bi(360)](){var e=bi;this[e(374)]==z[e(370)]&&(this.setState(z[e(359)]),this[e(380)](this,this.url_),this.loader_&&this[e(381)](this[e(355)],this[e(364)],this.projection))}[bi(357)](e,t){var n=bi;this[n(372)](e)}onError(){var e=bi;this[e(356)](z.ERROR)}[bi(372)](e){var t=bi;this[t(376)]=e,this.setState(z[t(361)])}[bi(371)](e){this.loader_=e}};const xr=ea;(function(i,e){const t=ea,n=i();for(;;)try{if(-parseInt(t(437))/1*(parseInt(t(433))/2)+parseInt(t(440))/3+-parseInt(t(446))/4*(-parseInt(t(442))/5)+-parseInt(t(428))/6*(parseInt(t(441))/7)+parseInt(t(451))/8*(-parseInt(t(448))/9)+-parseInt(t(424))/10*(-parseInt(t(438))/11)+parseInt(t(423))/12*(parseInt(t(436))/13)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_f,235046);const zC=[];function _f(){const i=["2079LaFbad","replayState_","855102nmupni","651XAfjOX","7565xIEPtq","wrappedTileCoord","getImage","wantedResolution","780yRyMBX","getReplayState","1169451lELMLr","sourceTiles","hasContext","8RdGkVz","load","executorGroups","9924kaQfFv","17370AxUYZb","getContext","loadingSourceTiles","getSourceTiles","18042UJIzbd","errorTileKeys","context_","bind","canvas","10xvTwIz","hitDetectionImageData","release","2041mTKDiU","78713ffPAFO"];return _f=function(){return i},_f()}class U9 extends Ic{constructor(e,t,n,r){const s=ea;super(e,t,{transition:0}),this[s(430)]=null,this[s(453)]=[],this[s(426)]=0,this[s(434)]={},this[s(439)]={},this[s(449)]=[],this[s(429)]={},this[s(445)],this[s(427)]=r[s(431)](void 0,this),this[s(443)]=n}getContext(){const e=ea;return!this[e(430)]&&(this[e(430)]=fe(1,1,zC)),this[e(430)]}[xr(450)](){return!!this[xr(430)]}[xr(444)](){const e=xr;return this[e(450)]()?this[e(425)]()[e(432)]:null}[xr(447)](e){const t=xr,n=ct(e);return!(n in this[t(439)])&&(this[t(439)][n]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[n]}[xr(452)](){this[xr(427)]()}[xr(435)](){const e=xr;$0(this[e(430)]),zC.push(this[e(430)][e(432)]),this[e(430)]=null,super[e(435)]()}}function ea(i,e){const t=_f();return ea=function(n,r){return n=n-423,t[n]},ea(i,e)}const si=na;function na(i,e){const t=mf();return na=function(n,r){return n=n-439,t[n]},na(i,e)}(function(i,e){const t=na,n=i();for(;;)try{if(parseInt(t(499))/1*(parseInt(t(447))/2)+-parseInt(t(508))/3*(parseInt(t(493))/4)+parseInt(t(448))/5*(parseInt(t(496))/6)+-parseInt(t(443))/7+-parseInt(t(513))/8*(-parseInt(t(446))/9)+parseInt(t(506))/10+parseInt(t(456))/11*(-parseInt(t(477))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(mf,253290);function mf(){const i=["907GpAmPu","LOADING","projection","getKey","tileGrid","keys","getTileCoordForTileUrlFunction","1192310INmwuD","overlaps_","56667jMaSCS","tileUrlFunction","getFormat","getTileCacheForProjection","IDLE","75632UTMbgH","slice","tileGrids_","resolution","map","round","length","wrappedTileCoord","format","getResolution","expireCache","getTileGrid","errorTileKeys","2340436lRZZnI","forEachTileCoord","EPSG:3857","279KEjnTr","802oeybih","25dnJgrG","ERROR","getTileCoordExtent","setState","clear","getState","state","wrapX","4375349HkXioi","push","loadingSourceTiles","reduce","tileLoadFunction","set","getTileGridForProjection","sourceTileCache_","onError","getZForResolution","getTilePixelSize","cacheSize","containsKey","extent","bind","overlaps","removeEventListener","getTilePixelRatio","LOADED","tileClass","maxZoom","12oqrClv","handleTileChange","tileSize","getExtent","getResolutions","zDirection","urls","CHANGE","format_","maxResolution","attributionsCollapsible","getSourceTiles","getOrigin","minZoom","load","sourceTiles","40YVnVdp","getOverlaps","EMPTY","477930fyHgXT","getTileSize","addEventListener"];return mf=function(){return i},mf()}class uI extends Oh{constructor(e){const t=na,n=e[t(501)]||t(445),r=e.extent||Lh(n),s=e[t(503)]||aI({extent:r,maxResolution:e[t(486)],maxZoom:e[t(476)]!==void 0?e[t(476)]:22,minZoom:e[t(490)],tileSize:e[t(479)]||512});super({attributions:e.attributions,attributionsCollapsible:e[t(487)],cacheSize:e[t(467)],interpolate:!0,projection:n,state:e[t(454)],tileGrid:s,tileLoadFunction:e[t(460)]?e[t(460)]:qC,tileUrlFunction:e[t(509)],url:e.url,urls:e[t(483)],wrapX:e[t(455)]===void 0?!0:e[t(455)],transition:e.transition,zDirection:e[t(482)]===void 0?1:e.zDirection}),this[t(485)]=e[t(521)]?e.format:null,this[t(463)]=new rI(128),this[t(507)]=e.overlaps==null?!0:e[t(471)],this[t(475)]=e.tileClass?e.tileClass:OC,this.tileGrids_={}}[si(494)](){return this[si(507)]}[si(452)](){this[si(463)].clear()}[si(440)](e,t){const n=si,r=this[n(511)](e),s=Object[n(504)](t)[n(459)]((o,a)=>{const c=n,x=A9(a),A=r.peek(x);if(A){const l=A.sourceTiles;for(let u=0,h=l[c(519)];u<h;++u)o[l[u][c(502)]()]=!0}return o},{});super.expireCache(e,t),this[n(463)][n(440)](s)}getSourceTiles(e,t,n){const r=si;if(n[r(453)]()===z[r(512)]){n[r(451)](z[r(500)]);const s=n[r(520)],o=this[r(462)](t),a=o[r(450)](s),c=s[0],x=o[r(439)](c);t0(a,-x,a);const A=this[r(503)],l=A.getExtent();l&&Cn(a,l,a);const u=A.getZForResolution(x,this[r(482)]);A[r(444)](a,u,h=>{const f=r,g=this[f(509)](h,e,t),d=this.sourceTileCache_[f(468)](g)?this[f(463)].get(g):new this[f(475)](h,g?z[f(512)]:z.EMPTY,g,this[f(485)],this.tileLoadFunction);n[f(492)][f(457)](d);const p=d[f(453)]();if(p<z.LOADED){const I=_=>{const m=f;this[m(478)](_);const y=d[m(453)]();if(y===z.LOADED||y===z[m(449)]){const E=d.getKey();E in n.errorTileKeys?d[m(453)]()===z[m(474)]&&delete n[m(442)][E]:n[m(458)]--,y===z[m(449)]?n[m(442)][E]=!0:d[m(472)](rt[m(484)],I),n[m(458)]===0&&n[m(451)]($r(n[m(442)])?z.LOADED:z[m(449)])}};d[f(498)](rt[f(484)],I),n[f(458)]++}p===z.IDLE&&(d[f(469)]=A.getTileCoordExtent(h),d[f(501)]=t,d[f(516)]=A[f(439)](h[0]),this[f(463)][f(461)](g,d),d[f(491)]())}),!n[r(458)]&&n.setState(n[r(492)].some(h=>h[r(453)]()===z[r(449)])?z[r(449)]:z[r(474)])}return n[r(492)]}getTile(e,t,n,r,s){const o=si,a=[e,t,n];let c=this[o(505)](a,s);const x=this[o(441)]()[o(480)](),A=this[o(462)](s);if(c&&x){const h=A[o(450)](c);t0(h,-A[o(439)](e),h),!we(x,h)&&(c=null)}let l=!0;if(c!==null){const h=this[o(503)],f=A.getResolution(e),g=h[o(465)](f,1),d=A[o(450)](c);t0(d,-f,d),h[o(444)](d,g,p=>{l=l&&!this[o(509)](p,r,s)})}const u=new U9(a,l?z[o(495)]:z[o(512)],c,this[o(488)][o(470)](this,r,s));return u.key=this[o(502)](),u}[si(462)](e){const t=si,n=e.getCode();let r=this[t(515)][n];if(!r){const s=this[t(503)],o=s[t(481)]()[t(514)](),a=o.map(function(A,l){return s[t(489)](l)}),c=o[t(517)](function(A,l){return s[t(497)](l)}),x=hy+1;for(let A=o[t(519)];A<x;++A)o[t(457)](o[A-1]/2),a[t(457)](a[A-1]),c[t(457)](c[A-1]);r=new Fh({extent:s[t(480)](),origins:a,resolutions:o,tileSizes:c}),this[t(515)][n]=r}return r}[si(473)](e){return e}[si(466)](e,t,n){const r=si,s=this[r(462)](n),o=Pe(s[r(497)](e),this.tmpSize);return[Math[r(518)](o[0]*t),Math[r(518)](o[1]*t)]}}function qC(i,e){i.setLoader(function(t,n,r){const s=na;PC(e,i[s(510)](),t,n,r,i.onLoad.bind(i),i[s(464)].bind(i))})}function Ef(){var i=["284656aPjCUS","useInterimTilesOnError","227yztjVF","2830leMtgd","3257196ejBhxW","3LaaQKD","3899106qeHTNY","14958tMdJJf","84VpMLZd","1490foUXQO","9066024VMVMVm","4301965JFnQHn","preload"];return Ef=function(){return i},Ef()}var YC=yf;(function(i,e){for(var t=yf,n=i();;)try{var r=parseInt(t(313))/1*(-parseInt(t(314))/2)+parseInt(t(316))/3*(parseInt(t(315))/4)+-parseInt(t(322))/5+parseInt(t(317))/6+-parseInt(t(319))/7*(parseInt(t(324))/8)+-parseInt(t(318))/9*(parseInt(t(320))/10)+parseInt(t(321))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ef,432114);function yf(i,e){var t=Ef();return yf=function(n,r){n=n-313;var s=t[n];return s},yf(i,e)}const E0={PRELOAD:YC(323),USE_INTERIM_TILES_ON_ERROR:YC(325)},oi=Pc;(function(i,e){const t=Pc,n=i();for(;;)try{if(-parseInt(t(339))/1+parseInt(t(340))/2*(-parseInt(t(337))/3)+parseInt(t(344))/4*(parseInt(t(350))/5)+-parseInt(t(334))/6*(-parseInt(t(357))/7)+-parseInt(t(348))/8+-parseInt(t(335))/9+parseInt(t(336))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Cf,447369);function Cf(){const i=["20RVpTLx","setPreload","USE_INTERIM_TILES_ON_ERROR","once","useInterimTilesOnError","set","cacheSize_","791IOmUOJ","getData","33162IBCmhY","5634756fCSUdT","12011480lgMYob","3QGEWps","getCacheSize","872027lutkNa","970586nKzddF","preload","cacheSize","get","848180eyRdRb","getData2","getUseInterimTilesOnError","setUseInterimTilesOnError","1944848oFsNqP","PRELOAD"];return Cf=function(){return i},Cf()}function Pc(i,e){const t=Cf();return Pc=function(n,r){return n=n-334,t[n]},Pc(i,e)}class O9 extends ls{constructor(e){const t=Pc;e=e||{};const n=Object.assign({},e),r=e.cacheSize;delete e[t(342)],delete n[t(341)],delete n[t(354)],super(n),this.on,this[t(353)],this.un,this.cacheSize_=r,this[t(351)](e.preload!==void 0?e[t(341)]:0),this[t(347)](e[t(354)]!==void 0?e[t(354)]:!0)}[oi(338)](){return this[oi(356)]}getPreload(){const e=oi;return this.get(E0[e(349)])}[oi(351)](e){this[oi(355)](E0.PRELOAD,e)}[oi(346)](){return this[oi(343)](E0.USE_INTERIM_TILES_ON_ERROR)}[oi(347)](e){const t=oi;this[t(355)](E0[t(352)],e)}[oi(358)](e){const t=oi;return super[t(358)](e)}[oi(345)](e,t){const n=oi;return super[n(345)](e,t)}}const Ce=ys;(function(i,e){const t=ys,n=i();for(;;)try{if(parseInt(t(303))/1*(-parseInt(t(271))/2)+-parseInt(t(205))/3*(-parseInt(t(282))/4)+-parseInt(t(216))/5*(parseInt(t(189))/6)+-parseInt(t(187))/7*(-parseInt(t(207))/8)+-parseInt(t(246))/9+-parseInt(t(221))/10+-parseInt(t(224))/11*(-parseInt(t(206))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(bf,255752);function bf(){const i=["length","renderedSourceKey_","getSource","wantedTiles","enqueue","getImageData","layerIndex","getKey","moveTo","534EcyEXS","getExtent","maxX","pixelToCoordinateTransform","keys","getGutterForProjection","highWaterMark","projection","extentChanged","getImage","renderedRevision","12ZtHeJY","getTileImage","renderedProjection","maxStaleKeys","containsKey","pixelRatio","getResolution","get","preRender","set","getRenderContext","time","zDirection","renderComplete","width","getTile","cacheSize","tileCache_","renderedExtent_","frameState","updateUsedTiles","1370KbLRNE","minY","lineTo","postRender","renderedPixelRatio","getRevision","layerStatesArray","max","globalAlpha","tempTileCoord_","has","tempTileRange_","add","7441WbJIre","getAlpha","6378WHrvEG","animate","opacity","getTileGridForProjection","nextResolution","getTileCoordCenter","floor","tileCoord","resolution","getPreload","getZForResolution","context","slice","tempTransform","getTilePixelSize","restore","448284FqimYe","10273488flLZmz","256IGsiAA","extent","nextExtent","endTransition","center","clip","renderedTiles","save","renderedSourceRevision_","5qQRfnf","viewState","usedTiles","getTilePixelRatio","prependStaleKey","4221680paKMBc","LOADED","getMapInternal","11vJpWal","container","getTileRangeForExtentAndZ","imageSmoothingEnabled","getTileCoordExtent","drawImage","getLayer","getTileCache","map","round","getState","height","Rendering array data is not yet supported","isKeyQueued","getTileCoordForCoordAndZ","findStaleTile_","beginPath","getTileSize","tileQueue","enqueueTiles","updateCacheSize","prepareContainer","2642859oOjPqi","EMPTY","unshift","minX","IDLE","getData","getRenderSource","renderedResolution","getMinZoom","canvas","push","expireCache","findAltTiles_","renderFrame","renderedRevision_","getWrapX"];return bf=function(){return i},bf()}function hI(i,e,t,n){return i+","+mc(e,t,n)}function fI(i,e,t){const n=ys;if(!(t in i))return i[t]=new Set([e]),!0;const r=i[t],s=r[n(313)](e);return!s&&r[n(186)](e),!s}function z9(i,e,t){const n=i[t];return n?n.delete(e):!1}function HC(i,e){const t=ys,n=i[t(309)][i.layerIndex];n[t(208)]&&(e=Cn(e,Vi(n[t(208)],i.viewState[t(278)])));const r=n.layer[t(252)]();if(!r[t(261)]()){const s=r[t(192)](i.viewState[t(278)]).getExtent();s&&(e=Cn(e,s))}return e}function ys(i,e){const t=bf();return ys=function(n,r){return n=n-186,t[n]},ys(i,e)}class jC extends Lp{constructor(e,t){const n=ys;super(e),t=t||{},this[n(279)]=!0,this[n(295)]=!1,this.renderedExtent_=null,this[n(307)],this.renderedProjection=null,this[n(281)],this.renderedTiles=[],this[n(263)],this[n(215)],this.tempExtent=hi(),this[n(314)]=new oI(0,0,0,0),this[n(312)]=wh(0,0,0);const r=t.cacheSize!==void 0?t[n(298)]:512;this[n(299)]=new BC(r),this[n(285)]=r*.5}[Ce(231)](){return this[Ce(299)]}getOrCreateTile(e,t,n,r){const s=Ce,o=this[s(299)],a=this[s(230)](),c=a[s(264)](),x=hI(c[s(269)](),e,t,n);let A;if(o[s(286)](x))A=o[s(289)](x);else{if(A=c[s(297)](e,t,n,r[s(287)],r[s(217)].projection),!A)return null;o[s(291)](x,A)}return A}[Ce(297)](e,t,n,r){const s=this.getOrCreateTile(e,t,n,r);return s||null}[Ce(251)](e){const t=Ce,n=this[t(301)];if(!n)return null;const r=this.getLayer(),s=Ue(n[t(274)],e[t(201)]()),o=r[t(272)]();if(o&&!K0(o,s))return null;const a=n.viewState,c=r.getRenderSource(),x=c[t(192)](a.projection),A=c[t(219)](n[t(287)]);for(let l=x.getZForResolution(a[t(197)]);l>=x[t(254)]();--l){const u=x.getTileCoordForCoordAndZ(s,l),h=this[t(297)](l,u[1],u[2],n);if(!h||h[t(234)]()!==z[t(222)])continue;const f=x.getOrigin(l),g=Pe(x[t(241)](l)),d=x[t(288)](l);let p;if(h instanceof wC)p=h[t(280)]();else if(h instanceof lI){if(p=ff(h[t(251)]()),!p)continue}else continue;const I=Math.floor(A*((s[0]-f[0])/d-u[1]*g[0])),_=Math[t(195)](A*((f[1]-s[1])/d-u[2]*g[1])),m=Math[t(233)](A*c.getGutterForProjection(a[t(278)]));return this[t(267)](p,I+m,_+m)}return null}prepareFrame(e){const t=Ce,n=this.getLayer()[t(264)]();if(!n)return!1;const r=n[t(308)]();return this[t(260)]?this[t(260)]!==r&&(this[t(260)]=r,this[t(263)]===n[t(269)]()&&this.tileCache_.clear()):this.renderedRevision_=r,!0}[Ce(243)](e,t,n,r,s){const o=Ce,a=e.viewState,c=this.getLayer(),x=c.getRenderSource(),A=x[o(192)](a[o(278)]),l=ct(x);!(l in e[o(265)])&&(e[o(265)][l]={});const u=e[o(265)][l],h=c[o(223)](),f=Math[o(310)](n-s,A[o(254)](),A[o(199)](Math.min(c.getMaxResolution(),h?h.getView().getResolutionForZoom(Math.max(c[o(254)](),0)):A[o(288)](0)),x[o(294)]));for(let g=n;g>=f;--g){const d=A[o(226)](t,g,this[o(314)]),p=A[o(288)](g);for(let I=d[o(249)];I<=d[o(273)];++I)for(let _=d[o(304)];_<=d.maxY;++_){const m=this[o(297)](g,I,_,e);if(!m||!fI(r,m,g))continue;const E=m[o(269)]();if(u[E]=!0,m[o(234)]()===z[o(250)]&&!e[o(242)][o(237)](E)){const C=wh(g,I,_,this[o(312)]);e[o(242)][o(266)]([m,l,A[o(194)](C),p])}}}}[Ce(239)](e,t){const n=Ce,r=this[n(299)],s=e[0],o=e[1],a=e[2],c=this.getStaleKeys();for(let x=0;x<c.length;++x){const A=hI(c[x],s,o,a);if(r.containsKey(A)){const l=r.get(A);if(l[n(234)]()===z[n(222)])return l[n(210)](ct(this)),fI(t,l,s),!0}}return!1}[Ce(258)](e,t,n,r){const s=Ce,o=e.getTileRangeForTileCoordAndZ(t,n,this[s(314)]);if(!o)return!1;let a=!0;const c=this[s(299)],x=this[s(230)]()[s(252)](),A=x.getKey();for(let l=o[s(249)];l<=o[s(273)];++l)for(let u=o.minY;u<=o.maxY;++u){const h=hI(A,n,l,u);let f=!1;if(c.containsKey(h)){const g=c[s(289)](h);g[s(234)]()===z[s(222)]&&(fI(r,g,n),f=!0)}!f&&(a=!1)}return a}[Ce(259)](e,t){const n=Ce;this.renderComplete=!0;const r=e[n(309)][e[n(268)]],s=e[n(217)],o=s[n(278)],a=s[n(197)],c=s[n(211)],x=e[n(287)],A=this[n(230)](),l=A[n(264)](),u=l[n(308)](),h=l[n(192)](o),f=h[n(199)](a,l[n(294)]),g=h[n(288)](f),d=l[n(269)]();this[n(263)]?this.renderedSourceKey_!==d&&(this[n(220)](this[n(263)]),this[n(263)]=d):this[n(263)]=d;let p=e[n(208)];const I=l[n(219)](x);this[n(245)](e,t);const _=this[n(200)][n(255)][n(296)],m=this[n(200)][n(255)][n(235)],y=r[n(208)]&&Vi(r.extent);y&&(p=Cn(p,Vi(r[n(208)])));const E=g*_/2/I,C=g*m/2/I,b=[c[0]-E,c[1]-C,c[0]+E,c[1]+C],B={};this[n(213)][n(262)]=0;const Q=A[n(198)]();if(e.nextExtent){const k=h[n(199)](s[n(193)],l[n(294)]),H=HC(e,e[n(209)]);this[n(243)](e,H,k,B,Q)}const w=HC(e,p);if(this[n(243)](e,w,f,B,0),Q>0&&setTimeout(()=>{this.enqueueTiles(e,w,f-1,B,Q-1)},0),!(f in B))return this.container;const R=ct(this),D=e.time;for(const k of B[f]){const H=k.getState();if((k instanceof QC||k instanceof N9)&&H===z[n(247)])continue;const K=k[n(196)];if(H===z[n(222)]&&k[n(188)](R,D)===1){k[n(210)](R);continue}if(this[n(295)]=!1,this[n(239)](K,B)){z9(B,k,f),e[n(190)]=!0;continue}if(this.findAltTiles_(h,K,f+1,B))continue;const V=h[n(254)]();for(let X=f-1;X>=V&&!this[n(258)](h,K,X,B);--X);}const F=g/a*x/I,v=this[n(292)](e);er(this[n(202)],_/2,m/2,F,F,0,-_/2,-m/2),r[n(208)]&&this.clipUnrotated(v,e,y),!l.getInterpolate()&&(v[n(227)]=!1),this[n(290)](v,e);const S=Object[n(275)](B)[n(232)](Number);S.sort(Ji);let M;const L=[],P=[];for(let k=S[n(262)]-1;k>=0;--k){const H=S[k],K=l[n(203)](H,x,o),q=h[n(288)](H),T=q/g,V=K[0]*T*F,X=K[1]*T*F,$=h[n(238)](Er(b),H),it=h[n(228)]($),st=Ue(this[n(202)],[I*(it[0]-b[0])/g,I*(b[3]-it[3])/g]),Y=I*l[n(276)](o);for(const yt of B[H]){if(yt[n(234)]()!==z[n(222)])continue;const Dn=yt[n(196)],ht=$[1]-Dn[1],An=Math.round(st[0]-(ht-1)*V),Ie=$[2]-Dn[2],Ae=Math.round(st[1]-(Ie-1)*X),He=Math[n(233)](st[0]-ht*V),bt=Math[n(233)](st[1]-Ie*X),In=An-He,Fe=Ae-bt,ti=S[n(262)]===1;let ui=!1;M=[He,bt,He+In,bt,He+In,bt+Fe,He,bt+Fe];for(let pr=0,Ht=L.length;pr<Ht;++pr)if(!ti&&H<P[pr]){const ft=L[pr];we([He,bt,He+In,bt+Fe],[ft[0],ft[3],ft[4],ft[7]])&&(!ui&&(v[n(214)](),ui=!0),v[n(240)](),v[n(270)](M[0],M[1]),v[n(305)](M[2],M[3]),v[n(305)](M[4],M[5]),v[n(305)](M[6],M[7]),v[n(270)](ft[6],ft[7]),v.lineTo(ft[4],ft[5]),v[n(305)](ft[2],ft[3]),v[n(305)](ft[0],ft[1]),v[n(212)]())}L[n(256)](M),P[n(256)](H),this.drawTile(yt,e,He,bt,In,Fe,Y,ti),ui&&v[n(204)](),this[n(213)][n(248)](yt),this.updateUsedTiles(e[n(218)],l,yt)}}this[n(281)]=u,this[n(253)]=g,this[n(279)]=!this[n(300)]||!mr(this[n(300)],b),this[n(300)]=b,this[n(307)]=x,this[n(284)]=o,this[n(306)](this[n(200)],e),r[n(208)]&&v[n(204)](),v.imageSmoothingEnabled=!0;const O=(k,H)=>{const K=n,q=ct(l),T=H[K(265)][q],V=T?Object[K(275)](T)[K(262)]:0;this[K(244)](V),this.tileCache_[K(257)]()};return e.postRenderFunctions.push(O),this[n(225)]}[Ce(244)](e){const t=Ce;this.tileCache_[t(277)]=Math[t(310)](this[t(299)].highWaterMark,e*2)}drawTile(e,t,n,r,s,o,a,c){const x=Ce;let A;if(e instanceof lI){if(A=ff(e[x(251)]()),!A)throw new Error(x(236))}else A=this[x(283)](e);if(!A)return;const l=this[x(292)](t),u=ct(this),h=t[x(309)][t[x(268)]],f=h[x(191)]*(c?e[x(188)](u,t[x(293)]):1),g=f!==l.globalAlpha;g&&(l[x(214)](),l[x(311)]=f),l[x(229)](A,a,a,A[x(296)]-2*a,A[x(235)]-2*a,n,r,s,o),g&&l[x(204)](),f!==h[x(191)]?t[x(190)]=!0:c&&e[x(210)](u)}[Ce(280)](){const e=Ce,t=this[e(200)];return t?t[e(255)]:null}getTileImage(e){return e[Ce(280)]()}[Ce(302)](e,t,n){const r=Ce,s=ct(t);!(s in e)&&(e[s]={}),e[s][n[r(269)]()]=!0}}function Bf(i,e){var t=wf();return Bf=function(n,r){n=n-339;var s=t[n];return s},Bf(i,e)}var VC=Bf;function wf(){var i=["26481105ybEyRs","214350oHxbCt","createRenderer","15XMuJDv","751111MoLXRt","getCacheSize","80wLqtoN","31836lWxiSN","1676792aqptil","4209590nquAVb","5025870irmhpB"];return wf=function(){return i},wf()}(function(i,e){for(var t=Bf,n=i();;)try{var r=-parseInt(t(347))/1+parseInt(t(344))/2*(-parseInt(t(346))/3)+parseInt(t(340))/4+-parseInt(t(341))/5+-parseInt(t(342))/6+parseInt(t(339))/7*(parseInt(t(349))/8)+parseInt(t(343))/9;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(wf,440474);class dI extends O9{constructor(e){super(e)}[VC(345)](){var e=VC;return new jC(this,{cacheSize:this[e(348)]()})}}const Te=Uc;function Qf(){const i=["4012002VvLyLG","elements_","push","480747UGByqu","priorityFunction_","6UZZcxi","reprioritize","queuedElements_","49CaGScv","4660pcJhmE","641712eRpJkb","11730630BUiBtq","siftUp_","heapify_","getParentIndex_","getRightChildIndex_","Tried to enqueue an `element` that was already added to the queue","length","144134uhQAvD","priorities_","clear","isKeyQueued","keyFunction_","2611722ADfZjU","115ZHEOkQ","getLeftChildIndex_","dequeue","siftDown_","pop","isEmpty"];return Qf=function(){return i},Qf()}(function(i,e){const t=Uc,n=i();for(;;)try{if(parseInt(t(418))/1+-parseInt(t(405))/2*(parseInt(t(433))/3)+-parseInt(t(409))/4*(-parseInt(t(424))/5)+parseInt(t(423))/6+parseInt(t(408))/7*(-parseInt(t(410))/8)+-parseInt(t(430))/9+parseInt(t(411))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qf,291256);const vf=1/0;function Uc(i,e){const t=Qf();return Uc=function(n,r){return n=n-404,t[n]},Uc(i,e)}class q9{constructor(e,t){const n=Uc;this[n(404)]=e,this[n(422)]=t,this[n(431)]=[],this[n(419)]=[],this.queuedElements_={}}[Te(420)](){const e=Te;this.elements_[e(417)]=0,this.priorities_[e(417)]=0,rx(this[e(407)])}[Te(426)](){const e=Te,t=this[e(431)],n=this[e(419)],r=t[0];t[e(417)]==1?(t[e(417)]=0,n[e(417)]=0):(t[0]=t[e(428)](),n[0]=n.pop(),this[e(412)](0));const s=this[e(422)](r);return delete this[e(407)][s],r}enqueue(e){const t=Te;Qt(!(this[t(422)](e)in this[t(407)]),t(416));const n=this[t(404)](e);return n!=vf?(this[t(431)][t(432)](e),this[t(419)][t(432)](n),this[t(407)][this[t(422)](e)]=!0,this[t(427)](0,this.elements_.length-1),!0):!1}getCount(){const e=Te;return this.elements_[e(417)]}[Te(425)](e){return e*2+1}getRightChildIndex_(e){return e*2+2}[Te(414)](e){return e-1>>1}[Te(413)](){const e=Te;let t;for(t=(this[e(431)][e(417)]>>1)-1;t>=0;t--)this.siftUp_(t)}[Te(429)](){return this[Te(431)].length===0}isKeyQueued(e){return e in this[Te(407)]}isQueued(e){const t=Te;return this[t(421)](this[t(422)](e))}[Te(412)](e){const t=Te,n=this[t(431)],r=this[t(419)],s=n.length,o=n[e],a=r[e],c=e;for(;e<s>>1;){const x=this.getLeftChildIndex_(e),A=this[t(415)](e),l=A<s&&r[A]<r[x]?A:x;n[e]=n[l],r[e]=r[l],e=l}n[e]=o,r[e]=a,this[t(427)](c,e)}[Te(427)](e,t){const n=Te,r=this.elements_,s=this[n(419)],o=r[t],a=s[t];for(;t>e;){const c=this[n(414)](t);if(s[c]>a)r[t]=r[c],s[t]=s[c],t=c;else break}r[t]=o,s[t]=a}[Te(406)](){const e=Te,t=this[e(404)],n=this[e(431)],r=this.priorities_;let s=0;const o=n[e(417)];let a,c,x;for(c=0;c<o;++c)a=n[c],x=t(a),x==vf?delete this[e(407)][this[e(422)](a)]:(r[s]=x,n[s++]=a);n[e(417)]=s,r[e(417)]=s,this[e(413)]()}}function Rf(){const i=["EMPTY","4KAioxt","dequeue","tilesLoading_","getKey","ERROR","viewState","837DWcXvN","412983NmsECh","63rqMkuM","center","2942FsCDhj","72135OIKSPM","bind","enqueue","getTilesLoading","294wFRzhG","tilesLoadingKeys_","addEventListener","loadMoreTiles","CHANGE","getState","removeEventListener","apply","handleTileChange","30IatxNn","1226325LWigkT","target","wantedTiles","boundHandleTileChange_","865304PRjETW","23144eYfDkm","sqrt","load","5343204MyFTVo","tileChangeCallback_"];return Rf=function(){return i},Rf()}function y0(i,e){const t=Rf();return y0=function(n,r){return n=n-266,t[n]},y0(i,e)}const ia=y0;(function(i,e){const t=y0,n=i();for(;;)try{if(-parseInt(t(280))/1*(parseInt(t(282))/2)+parseInt(t(279))/3*(parseInt(t(272))/4)+parseInt(t(297))/5+-parseInt(t(287))/6*(parseInt(t(283))/7)+parseInt(t(266))/8*(parseInt(t(278))/9)+-parseInt(t(296))/10*(parseInt(t(301))/11)+parseInt(t(269))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Rf,263632);class JC extends q9{constructor(e,t){const n=y0;super(function(r){return e[y0(294)](null,r)},function(r){const s=y0;return r[0][s(275)]()}),this[n(300)]=this[n(295)][n(284)](this),this[n(270)]=t,this[n(274)]=0,this[n(288)]={}}enqueue(e){const t=y0,n=super[t(285)](e);return n&&e[0][t(289)](rt[t(291)],this[t(300)]),n}[ia(286)](){return this.tilesLoading_}[ia(295)](e){const t=ia,n=e[t(298)],r=n[t(292)]();if(r===z.LOADED||r===z[t(276)]||r===z[t(271)]){r!==z[t(276)]&&n[t(293)](rt.CHANGE,this[t(300)]);const s=n[t(275)]();s in this[t(288)]&&(delete this[t(288)][s],--this[t(274)]),this.tileChangeCallback_()}}[ia(290)](e,t){const n=ia;let r=0;for(;this.tilesLoading_<e&&r<t&&this.getCount()>0;){const s=this[n(273)]()[0],o=s[n(275)]();s[n(292)]()===z.IDLE&&!(o in this[n(288)])&&(this[n(288)][o]=!0,++this[n(274)],++r,s[n(268)]())}}}function Y9(i,e,t,n,r){const s=ia;if(!i||!(t in i[s(299)])||!i[s(299)][t][e[s(275)]()])return vf;const o=i[s(277)][s(281)],a=n[0]-o[0],c=n[1]-o[1];return 65536*Math.log(r)+Math[s(267)](a*a+c*c)/r}function Gr(i,e){const t=Sf();return Gr=function(n,r){return n=n-292,t[n]},Gr(i,e)}const kt=Gr;(function(i,e){const t=Gr,n=i();for(;;)try{if(-parseInt(t(362))/1+parseInt(t(391))/2*(parseInt(t(301))/3)+parseInt(t(352))/4+parseInt(t(323))/5+parseInt(t(305))/6*(parseInt(t(371))/7)+-parseInt(t(403))/8*(parseInt(t(340))/9)+-parseInt(t(294))/10*(-parseInt(t(369))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Sf,301264);function KC(i){return function(e){const t=Gr,n=e.buffers,r=e.meta,s=e.imageOps,o=e[t(384)],a=e.height,c=n[t(392)],x=n[0][t(393)];if(s){const h=new Array(c);for(let g=0;g<c;++g)h[g]=new ImageData(new Uint8ClampedArray(n[g]),o,a);return i(h,r)[t(380)][t(361)]}const A=new Uint8ClampedArray(x),l=new Array(c),u=new Array(c);for(let h=0;h<c;++h)l[h]=new Uint8ClampedArray(n[h]),u[h]=[0,0,0,0];for(let h=0;h<x;h+=4){for(let g=0;g<c;++g){const d=l[g];u[g][0]=d[h],u[g][1]=d[h+1],u[g][2]=d[h+2],u[g][3]=d[h+3]}const f=i(u,r);A[h]=f[0],A[h+1]=f[1],A[h+2]=f[2],A[h+3]=f[3]}return A[t(361)]}}function Sf(){const i=["imageOps_","data","sources","operationType","projection","width","imageOps","setAttributions","queue","once","const ","text/javascript","85390tVbAak","length","byteLength","updateFrameState_","operation","disposeInternal","requestedFrameState_","dispose","toString","callback","allSourcesReady_","getSource","8DBzTGT","undefined","getExtent","renderedRevision_","push","useResolutions_","process","processSources_","prototype","Unsupported layer type: ","job_","resolution","});","70UXfpIS","pixelRatio","animate","changed","dispatch_","CHANGE","image","6PkhGGe","threads","time","now","6YwQBBT","ceil","AFTEROPERATIONS","getContext","inputs","map","viewState","threads_","workers_","queue_","findNearestResolution","ready","assign","enqueue_","getState","getAttributions","center","terminate","1655410saIuuL","dataLookup_","concat","setOperation","renderFrame","running_","postMessage","getRevision","  const buffer = __minion__(event.data);","operationType_","onWorkerMessage_","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","string","frameState_","onWorkerComplete_","putImageData","layers_","3696669kPbVGs","renderedImageCanvas_","getImage","meta","processor_",'self.addEventListener("message", function(event) {',"message","size","getImageData","lib","height","pixel","1422908VvBdnw","prepareFrame","firstElementChild","getResolutions","canvas","slice","round","const __minion__ = (","beforeoperations","buffer","471323eCNHNz","shift","addEventListener","resolutions","resolveJob_","bind","keys","260788NdkJrD","extent","1716211MIWyMh","dispatchEvent","from","Unsupported rendered element: ","loadMoreTiles","tileQueue_","base64","afteroperations"];return Sf=function(){return i},Sf()}function H9(i,e){const t=Gr,n=Object[t(368)](i[t(349)]||{})[t(310)](function(o){const a=t;return a(389)+o+" = "+i[a(349)][o].toString()+";"}),r=n[t(325)]([t(359)+KC.toString()+")(",i[t(395)][t(399)](),");",t(345),t(331),t(334),t(293)]),s=new Worker(typeof Blob===t(404)?"data:text/javascript;base64,"+Buffer[t(373)](r.join(`
`),"binary").toString(t(377)):URL.createObjectURL(new Blob(r,{type:t(390)})));return s[t(364)](t(346),e),s}function j9(i,e){const t=Gr,n=KC(i[t(395)]);let r=!1;return{postMessage:function(s){setTimeout(function(){const o=Gr;r||e({data:{buffer:n(s),meta:s[o(343)]}})},0)},terminate:function(){r=!0}}}class V9 extends zl{constructor(e){const t=Gr;super(),this[t(379)]=!!e[t(385)];let n;e.threads===0?n=0:this[t(379)]?n=1:n=e[t(302)]||1;const r=new Array(n);if(n)for(let s=0;s<n;++s)r[s]=H9(e,this[t(333)].bind(this,s));else r[0]=j9(e,this.onWorkerMessage_[t(367)](this,0));this.workers_=r,this[t(314)]=[],this.maxQueueLength_=e[t(387)]||1/0,this[t(328)]=0,this.dataLookup_={},this[t(413)]=null}[kt(409)](e,t,n){const r=kt;this[r(318)]({inputs:e,meta:t,callback:n}),this[r(298)]()}enqueue_(e){const t=kt;for(this.queue_[t(407)](e);this[t(314)][t(392)]>this.maxQueueLength_;)this.queue_[t(363)]()[t(400)](null,null)}[kt(298)](){const e=kt;if(this.running_||this[e(314)].length===0)return;const t=this[e(314)].shift();this[e(413)]=t;const n=t[e(309)][0].width,r=t.inputs[0].height,s=t[e(309)][e(310)](function(x){return x.data.buffer}),o=this[e(313)][e(392)];if(this[e(328)]=o,o===1){this[e(313)][0][e(329)]({buffers:s,meta:t.meta,imageOps:this[e(379)],width:n,height:r},s);return}const a=t[e(309)][0][e(380)][e(392)],c=4*Math[e(306)](a/4/o);for(let x=0;x<o;++x){const A=x*c,l=[];for(let u=0,h=s[e(392)];u<h;++u)l[e(407)](s[u][e(357)](A,A+c));this.workers_[x][e(329)]({buffers:l,meta:t.meta,imageOps:this[e(379)],width:n,height:r},l)}}[kt(333)](e,t){const n=kt;this.disposed||(this[n(324)][e]=t.data,--this.running_,this.running_===0&&this.resolveJob_())}[kt(366)](){const e=kt,t=this[e(413)],n=this[e(313)].length;let r,s;if(n===1)r=new Uint8ClampedArray(this.dataLookup_[0][e(361)]),s=this[e(324)][0][e(343)];else{const o=t[e(309)][0].data[e(392)];r=new Uint8ClampedArray(o),s=new Array(n);const a=4*Math.ceil(o/4/n);for(let c=0;c<n;++c){const x=this[e(324)][c][e(361)],A=c*a;r.set(new Uint8ClampedArray(x),A),s[c]=this.dataLookup_[c].meta}}this[e(413)]=null,this[e(324)]={},t[e(400)](null,new ImageData(r,t[e(309)][0][e(384)],t[e(309)][0][e(350)]),s),this[e(298)]()}disposeInternal(){const e=kt;for(let t=0;t<this[e(313)][e(392)];++t)this[e(313)][t][e(322)]();this[e(313)][e(392)]=0}}const XC={BEFOREOPERATIONS:kt(360),AFTEROPERATIONS:kt(378)};class ZC extends di{constructor(e,t,n){const r=kt;super(e),this.extent=t[r(370)],this[r(292)]=t[r(311)][r(292)]/t[r(295)],this[r(380)]=n}}class WC extends lp{constructor(e){const t=kt;super({projection:null}),this.on,this[t(388)],this.un,this.processor_=null,this.operationType_=e[t(382)]!==void 0?e[t(382)]:t(351),this[t(312)]=e[t(302)]!==void 0?e[t(302)]:1,this[t(339)]=X9(e[t(381)]);const n=this.changed[t(367)](this);for(let r=0,s=this[t(339)][t(392)];r<s;++r)this[t(339)][r].addEventListener(rt[t(299)],n);this[t(408)]=e[t(365)]!==null,this[t(376)]=new JC(function(){return 1},this[t(410)].bind(this)),this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:Nn(),declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:K9(this[t(339)]),pixelRatio:1,pixelToCoordinateTransform:Nn(),postRenderFunctions:[],size:[0,0],tileQueue:this[t(376)],time:Date[t(304)](),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:ct(this),renderTargets:{}},this[t(386)](function(r){var a;const s=t,o=[];for(let c=0,x=e.sources.length;c<x;++c){const A=e[s(381)][c],l=A instanceof _o?A:A[s(402)]();if(!l)continue;const u=(a=l[s(320)]())==null?void 0:a(r);typeof u===s(335)?o[s(407)](u):u!==void 0&&o[s(407)](...u)}return o}),e[t(395)]!==void 0&&this[t(326)](e[t(395)],e[t(349)])}[kt(326)](e,t){const n=kt;this[n(344)]&&this[n(344)][n(398)](),this.processor_=new V9({operation:e,imageOps:this[n(332)]===n(300),queue:1,lib:t,threads:this[n(312)]}),this[n(297)]()}[kt(394)](e,t,n){const r=kt,s=Object[r(317)]({},this[r(336)]);s[r(311)]=Object.assign({},s.viewState);const o=fi(e);s[r(347)][0]=Math[r(306)](Ct(e)/t),s[r(347)][1]=Math[r(306)](Be(e)/t),s[r(370)]=[o[0]-s[r(347)][0]*t/2,o[1]-s[r(347)][1]*t/2,o[0]+s[r(347)][0]*t/2,o[1]+s[r(347)][1]*t/2],s[r(303)]=Date[r(304)]();const a=s.viewState;return a[r(321)]=o,a[r(383)]=n,a[r(292)]=t,s}[kt(401)](){const e=kt;let t=!0,n;for(let r=0,s=this.layers_[e(392)];r<s;++r)if(n=this[e(339)][r].getSource(),!n||n[e(319)]()!==e(316)){t=!1;break}return t}[kt(342)](e,t,n,r){const s=kt;if(!this.allSourcesReady_())return null;this[s(376)][s(375)](16,16),t=this[s(315)](t);const o=this.updateFrameState_(e,t,r);if(this[s(397)]=o,this[s(341)]){const a=this.renderedImageCanvas_.getResolution(),c=this[s(341)][s(405)]();(t!==a||!mr(o[s(370)],c))&&(this.renderedImageCanvas_=null)}return(!this[s(341)]||this[s(330)]()!==this[s(406)])&&this[s(410)](),o.animate&&requestAnimationFrame(this[s(297)].bind(this)),this.renderedImageCanvas_}[kt(410)](){const e=kt,t=this.requestedFrameState_,n=this.layers_[e(392)],r=new Array(n);for(let o=0;o<n;++o){t.layerIndex=o,t.renderTargets={};const a=J9(this.layers_[o],t);if(a)r[o]=a;else return}const s={};this[e(372)](new ZC(XC.BEFOREOPERATIONS,t,s)),this[e(344)].process(r,s,this.onWorkerComplete_[e(367)](this,t))}[kt(337)](e,t,n,r){const s=kt;if(t||!n)return;const o=e[s(370)],a=e[s(311)][s(292)];if(a!==this[s(397)][s(311)][s(292)]||!mr(o,this.requestedFrameState_.extent))return;let c;if(this[s(341)])c=this.renderedImageCanvas_[s(342)]()[s(308)]("2d");else{const x=Math[s(358)](Ct(o)/a),A=Math[s(358)](Be(o)/a);c=fe(x,A),this[s(341)]=new oy(o,a,1,c.canvas)}c[s(338)](n,0,0),e[s(296)]?requestAnimationFrame(this[s(297)][s(367)](this)):this.changed(),this[s(406)]=this.getRevision(),this[s(372)](new ZC(XC[s(307)],e,r))}[kt(355)](e){const t=kt;if(!this.useResolutions_)return null;let n=super[t(355)]();if(!n)for(let r=0,s=this[t(339)].length;r<s&&(n=this.layers_[r][t(402)]().getResolutions(e),!n);++r);return n}[kt(396)](){const e=kt;this[e(344)]&&this[e(344)].dispose(),super[e(396)]()}}WC[kt(411)][kt(398)];let Cs=null;function J9(i,e){const t=kt,n=i.getRenderer();if(!n)throw new Error(t(412)+i);if(!n[t(353)](e))return null;const r=e[t(347)][0],s=e[t(347)][1];if(r===0||s===0)return null;const o=n[t(327)](e,null);let a;if(o instanceof HTMLCanvasElement)a=o;else{if(o&&(a=o[t(354)]),!(a instanceof HTMLCanvasElement))throw new Error(t(374)+a);if(a.width===r&&a[t(350)]===s)return a[t(308)]("2d")[t(348)](0,0,r,s)}if(!Cs)Cs=fe(r,s,void 0,{willReadFrequently:!0});else{const c=Cs[t(356)];c.width!==r||c[t(350)]!==s?Cs=fe(r,s,void 0,{willReadFrequently:!0}):Cs.clearRect(0,0,r,s)}return Cs.drawImage(a,0,0,r,s),Cs[t(348)](0,0,r,s)}function K9(i){return i[kt(310)](function(t){return t.getLayerState()})}function X9(i){const e=i.length,t=new Array(e);for(let n=0;n<e;++n)t[n]=Z9(i[n]);return t}function Z9(i){let e;return i instanceof _o?i instanceof kC?e=new dI({source:i}):i instanceof lp&&(e=new Np({source:i})):e=i,e}const C0=Oc;(function(i,e){const t=Oc,n=i();for(;;)try{if(-parseInt(t(126))/1*(parseInt(t(130))/2)+parseInt(t(129))/3*(parseInt(t(139))/4)+-parseInt(t(137))/5*(parseInt(t(171))/6)+-parseInt(t(131))/7*(parseInt(t(135))/8)+-parseInt(t(155))/9+-parseInt(t(168))/10*(-parseInt(t(164))/11)+parseInt(t(157))/12===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Df,219453);function Df(){const i=["ready","getTileJSON","onXHRLoad_","17350rNgYFY","load","extent","159726IunLuX","attributions","EPSG:4326","bounds","setState","bind","tileJSON_","1266ONUDwU","onXHRError_","target","12594wDozSu","60wfAgWC","335657YxrbwX","transition","Either `url` or `tileJSON` options must be provided","tiles","8iosGbI","GET","20yCFnrq","getAttributions","228aSFicW","handleTileJSONResponse","handleTileJSONError","parse","jsonp","EPSG:3857","responseText","open","tileGrid","addEventListener","status","tileSize","tileLoadFunction","wrapX","minzoom","interpolate","3045780EROpKF","getProjection","5257584gwJkvA","error","url","tileSize_","tileJSON","reprojectionErrorThreshold","send","462FjyMvq"];return Df=function(){return i},Df()}function Oc(i,e){const t=Df();return Oc=function(n,r){return n=n-124,t[n]},Oc(i,e)}class $C extends w9{constructor(e){const t=Oc;if(super({attributions:e[t(172)],cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e[t(154)],projection:Zt(t(144)),reprojectionErrorThreshold:e[t(162)],state:"loading",tileLoadFunction:e[t(151)],wrapX:e[t(152)]!==void 0?e[t(152)]:!0,transition:e[t(132)],zDirection:e.zDirection}),this[t(125)]=null,this[t(160)]=e[t(150)],e[t(159)])if(e[t(143)])P9(e[t(159)],this[t(140)][t(124)](this),this[t(141)][t(124)](this));else{const n=new XMLHttpRequest;n[t(148)](t(169),this[t(167)][t(124)](this)),n[t(148)](t(158),this[t(127)].bind(this)),n[t(146)](t(136),e[t(159)]),n[t(163)]()}else if(e[t(161)])this[t(140)](e.tileJSON);else throw new Error(t(133))}[C0(167)](e){const t=C0,n=e[t(128)];if(!n[t(149)]||n[t(149)]>=200&&n[t(149)]<300){let r;try{r=JSON[t(142)](n[t(145)])}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(r)}else this[t(141)]()}[C0(127)](e){this.handleTileJSONError()}[C0(166)](){return this[C0(125)]}[C0(140)](e){const t=C0,n=Zt(t(173)),r=this[t(156)]();let s;if(e[t(174)]!==void 0){const A=ax(n,r);s=RE(e[t(174)],A)}const o=Lh(r),a=e[t(153)]||0,c=e.maxzoom||22,x=aI({extent:o,maxZoom:c,minZoom:a,tileSize:this[t(160)]});if(this[t(147)]=x,this.tileUrlFunction=FC(e[t(134)],x),e.attribution&&!this[t(138)]()){const A=s!==void 0?s:o;this.setAttributions(function(l){return we(A,l[t(170)])?[e.attribution]:null})}this[t(125)]=e,this.setState(t(165))}handleTileJSONError(){const e=C0;this[e(175)](e(158))}}function t3(i,e,t,n,r,s,o){if(t>=e[0]&&t<=e[2]&&n<=e[1]&&n>=e[3]){var a;t<0?a=e3(Math.abs(e[2]+t),360)/s:a=e3(Math.abs(t-e[0]),360)/s,a=Math.abs(t-e[0])/s;var c=(e[1]-n)/o,x=Math.floor(a),A=x+1,l=Math.floor(c),u=l+1,h;if(h=r[l]){var f=h[x],g=h[A];if(g==null&&(g=h[x]),b0(f)&&b0(g)&&(h=r[u])){var d=h[x],p=h[A];if(p==null&&(p=h[x]),i==1){if(b0(d)&&b0(p))return gI(a-x,c-l,f,g,d,p)}else if(i==2){let I=f.speed,_=g.speed,m=d.speed,y=p.speed,E,C;b0(m)&&b0(y)&&(E=gI(a-x,c-l,I,_,m,y));let b=f.direction,B=g.direction,Q=d.direction,w=p.direction;return b0(Q)&&b0(w)&&(C=gI(a-x,c-l,b,B,Q,w)),{direction:C,speed:E}}}}return null}return null}function e3(i,e){var t=i-e*Math.floor(i/e);return t===e?0:t}function b0(i){return i!=null}function gI(i,e,t,n,r,s){var o=1-i,a=1-e;return t*o*a+n*i*a+r*o*e+s*i*e}function W9(i,e,t,n){let r=null;return r=$9(i,e,t,n),r}function $9(i,e,t,n){e.dx,e.dy;let r=e.nx,s=e.ny,o=[],a=0;if(t==1){const x=i[0];for(let A=0;A<s;A++){var c=[];for(let l=0;l<r;l++,a++)c[l]=e7(x[a],n,t);o[A]=c}return o}else if(t==2){const x=i[0],A=i[1];for(let l=0;l<s;l++){var c=[];for(let h=0;h<r;h++,a++)c[h]=t7(x[a],A[a],n);o[l]=c}return o}return o}function n3(i,e,t,n,r,s){let o=Math.max(i[0],e[0]),a=Math.max(i[1],e[1]),c=Math.min(i[2],e[2]),x=Math.min(i[3],e[3]);return t.la1=x,t.la2=a,t.lo1=o,t.lo2=c,W9(n,t,r,s)}function i3(i,e){return i==e.nodata}function t7(i,e,t,n){let r={};if(i3(i,t))return t.nodata;{const s=i/t.scale+t.offset,o=e/t.scale+t.offset,a=Math.sqrt(s*s+o*o);let c=270-Math.atan2(o,s)*180/Math.PI;return c>=360&&(c=c-360),r.speed=a,r.direction=c.toString(),r}}function e7(i,e,t){if(t==1){if(i3(i,e))return e;{let n=0;return e.unit=="C"?n=(i-273.15*e.customScale)/e.customScale+e.offset:n=i/e.scale+e.offset,n}}}const n7={Circle:Mo,Fill:Un,Icon:us,Image:cx,IconImage:ZE,RegularShape:go,Stroke:Qn,Style:Mt,Text:tc,cme_style_FontSymbol:tr};function jn(i){if(!i||typeof i!="object")return i;const e={};for(const t of Object.keys(i)){const n=n7[t];if(n)return new n(jn(i[t]));Array.isArray(i[t])?e[t]=i[t]:e[t]=jn(i[t])}return e}var i7=class extends qo{constructor(e,t){super(t),this.map=e,this.options=t,this._zoomResolution=[1,1,.5,.5,.25,.25,.125,.125,.0625,.0625,.03125,.03125,.015625,.015625,.007,.007,.0035,.0035,.0018,.0018,9e-4,9e-4],this.sourceReady=!1,this.colorRamp=null,this.canvas=null,this.gl=null,this.glList=new Map,this.glSpot=null,this.firstBool=!1,this.setOpacity(0),this.loadData=!1,this.worldExtent=null}_render(){return new Promise((e,t)=>{this.once("postrender",function(n){this.firstBool=!0,this.drawGridNumber(this.rasterDatas)}),e(!0)})}isViewExtentEqual(e){const t=this.map.getView().calculateExtent(this.map.getSize());return JSON.stringify(t)===JSON.stringify(e)}drawGridNumber(e){this.worldExtent&&this.isViewExtentEqual(this.worldExtent)||e==null||e.length==0||this.setDataToLayer(e)}setDataToLayer(e){this.worldExtent=this.map.getView().calculateExtent(this.map.getSize()),this.map.getView().getZoom(),this.rasterDatas=e;let t=[],n=[],r=[],s=[],o=[],a=[],c=[];e.forEach(_=>{t.push(_.params.bbox),n.push(_.params.viewBBox),r.push(_.params.interpolationParams),s.push(_.params.bandsNumber),o.push(_.params.metadata),a.push(n3(_.params.bbox,_.params.viewBBox,_.params.interpolationParams,_,_.params.bandsNumber,_.params.metadata)),c.push(_.params.project)}),this.options;let x=this.map.getView().getProjection().getCode(),A=c[0];var l=t[0];A!=x&&(x=="EPSG:3857"&&(t[0][1]<-85.05112877980659&&(t[0][1]=-85.05112877980659),t[0][3]>85.05112877980659&&(t[0][3]=85.05112877980659)),l=P2(t[0],A,x));let u=30;const[h,f,g]=bC(this.map,this.worldExtent,l,window.innerWidth,window.innerHeight,u);let d,p=[],I;debugger;for(let _=0;_<h.length;_++)for(let m=0;m<a.length;m++){let y=this.map.getCoordinateFromPixel(h[_]),E=this._getData(y,r[m],s[m],a[m]);if(E!=null){I=new cs(y),d=new Vo(I);let C="";if(s[m]==2){if(C=(E.speed/o[m].scale).toFixed(2).toString(),C>o[m].max/o[m].scale||C<o[m].min/o[m].scale)break}else if(s[m]==1&&this.isValue(E,s[m])&&(C=E.toFixed(1).toString(),C>o[m].max||C<o[m].min))break;if(!this.getRange(C))break;this.addFeaturesStyle(C,d),p.push(d)}}this.addFeaturesToLayer(p),this.loadData=!1}getRange(e){return this.options.range?e<=(this.options.range.max||99999999)&&e>=(this.options.range.min||-99999999):!0}updateStyle(e){this.options.range=e.range,this.setDataToLayer(this.rasterDatas)}isValue(e,t){if(t==1)return e!=null&&!isNaN(e);if(t==2)if(e!=null&&!isNaN(e)){let n=e.speed;return n!=null&&!isNaN(n)}else return!1}addFeaturesStyle(e,t){let n=null;if(this.options.textStyle)n=jn(this.options.textStyle),n.getText().setText(e.toString()),t.setStyle(n);else{let r={Style:{text:{Text:{text:e.toString(),font:"20px Calibri,sans-serif",fill:{Fill:{color:"#000000"}},stroke:{Stroke:{color:"#ffffff",width:4}}}}}};n=jn(r),t.setStyle(n)}}addFeaturesToLayer(e){if(e.length>0){if(this.getSource())this.getSource().clear();else{let t=new Wo({wrapX:!1});this.setSource(t)}e.length>0&&(this.getSource().addFeatures(e),this.setOpacity(1))}}_setSource(e){}_setStyle(e){}_remove(){}_getData(e,t,n,r){let s=ro(this.map,e),o=[t.lo1,t.la1,t.lo2,t.la2];s[0],s[1];let a=[s[0],s[1]];return a[0]%360<-180?a[0]=360+a[0]%360:a[0]=a[0]%360,a[0]>180&&(a[0]=a[0]-360),t3(n,o,a[0],a[1],r,t.dx,t.dy)}addSpotGL(e){}};function r7(i){return JSON.parse(JSON.stringify(i))}class ra{constructor(){this._style={},this.isDestoryed=!1}parse(){return new Mt}serialize(){return r7(this._style)}setStyle(e){this._style=e}setColor(e){this._color=e}destory(){this._style={},this.isDestoryed=!0}}const s7={TWO_PI:Math.PI*2,HALF_PI:Math.PI/2,FITTING_COUNT:100,ZERO_TOLERANCE:1e-4,HELPER_HIDDEN_DIV:"p-helper-hidden-div",HELPER_CONTROL_POINT_DIV:"p-helper-control-point-div",HELPER_shizi:"mybkkd",SE_DISABLED:"se_disabled"};function zc(i,e){let t=e[0]-i[0],n=e[1]-i[1];return Math.sqrt(t*t+n*n)}function kf(i,e){return[(i[0]+e[0])/2,(i[1]+e[1])/2]}function Vn(i,e){return Math.atan2(e[1]-i[1],e[0]-i[0])}function o7(i,e){const t=Math.asin(Math.abs(e[1]-i[1])/zc(i,e));let n;return e[1]>=i[1]&&e[0]>=i[0]?n=t+Math.PI:e[1]>=i[1]&&e[0]<i[0]?n=s7.TWO_PI-t:e[1]<i[1]&&e[0]<i[0]?n=t:e[1]<i[1]&&e[0]>=i[0]&&(n=Math.PI-t),n}function a7(i,e,t){return[e[0]+i*(t[0]-e[0]),e[1]+i*(t[1]-e[1])]}function Nr(i,e,t){let n=zc(i,e),r=t/n;return a7(r,i,e)}function sa(i,e){let t=0,n=i[0],r=[n];for(let s=1;s<i.length;s++){const o=i[s];let a=t+zc(n,o),c=e-t;for(;a>=e;){let x=Nr(n,o,c);r.push(x),c=e,a-=e,n=x}t=a,n=o}return r.push(n),r}function Mf(i,e,t=10){if(!Array.isArray(i)||!e)return null;const n=[];let r=e/2;return i.forEach((s,o)=>{if(!o)return;const a=i[o-1];let c=Vn(s,a);const x=Math.sqrt(Math.pow(s[0]-a[0],2)+Math.pow(s[1]-a[1],2)),A=r+x;if(A<e)r=A;else if(A===e){o!==i.length-1&&(c=(Math.PI-Vn(i[o+1],s))/2);const{prevs:u,nexts:h}=r3(s,i,o,t/2);n.push({point:s,angle:c,prevs:u,nexts:h}),r=0}else{const l=e-r;let u=x-l,h,f;for(;u>0;){const g=u/x;h=s[0]-(s[0]-a[0])*g,f=s[1]-(s[1]-a[1])*g;const{prevs:d,nexts:p}=r3([h,f],i,o,t/2);n.push({point:[h,f],angle:c,prevs:d,nexts:p}),u-=e}r=Math.sqrt(Math.pow(s[0]-h,2)+Math.pow(s[1]-f,2))}}),n}function r3(i,e,t,n){const r=[],s=[];let o=i,a=0,c=0,x=0;for(let A=t;A>0;A--){if(x=zc(e[A-1],o),a+x<=n)r.push(e[A-1]),a+=x;else{x=n-a;const l=Nr(o,e[A-1],x);r.push(l);break}o=e[A-1]}o=i;for(let A=t;A<e.length;A++){if(x=zc(o,e[A]),c+x<=n)s.push(e[A]),c+=x;else{x=n-c;const l=Nr(o,e[A],x);s.push(l);break}o=e[A]}return{prevs:r.reverse(),nexts:s}}function pI(i,e,t,n,r){const s=o7(i,e),o=r?s+t:s-t,a=n*Math.cos(o),c=n*Math.sin(o);return[e[0]+a,e[1]+c]}const dn=qc;(function(i,e){const t=qc,n=i();for(;;)try{if(-parseInt(t(342))/1+parseInt(t(345))/2+parseInt(t(344))/3+parseInt(t(346))/4+parseInt(t(322))/5+-parseInt(t(338))/6*(parseInt(t(306))/7)+parseInt(t(313))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ff,383482);function Ff(){const i=["Circle","pow","4842OOoscl","getReadOptions","GeometryCollection","featureProjection","511631QTRVDg","Unsupported geometry type: ","205635aSPZqR","6586mXsLme","938916eZyJIM","transform","5663hZCeXH","readFeatures","tile-pixels","slice","readProjection","featureClass","map","5656368MMEzjg","clone","properties","getUnits","ends","round","writeFeatures","flatCoordinates","Polygon","2671815icGANJ","isArray","defaultFeatureProjection","dataProjection","type","readFeature","writeFeature","flat","extent","writeGeometry","adaptOptions","supportedMediaTypes","getType","readGeometry"];return Ff=function(){return i},Ff()}function qc(i,e){const t=Ff();return qc=function(n,r){return n=n-306,t[n]},qc(i,e)}class s3{constructor(){const e=qc;this[e(325)]=void 0,this[e(324)]=void 0,this[e(311)]=Vo,this[e(333)]=null}[dn(339)](e,t){const n=dn;if(t){let r=t[n(325)]?Zt(t[n(325)]):this[n(310)](e);t[n(330)]&&r&&r.getUnits()===n(308)&&(r=Zt(r),r.setWorldExtent(t.extent)),t={dataProjection:r,featureProjection:t[n(341)]}}return this.adaptOptions(t)}[dn(332)](e){const t=dn;return Object.assign({dataProjection:this[t(325)],featureProjection:this[t(324)],featureClass:this[t(311)]},e)}[dn(334)](){return ot()}[dn(327)](e,t){return ot()}[dn(307)](e,t){return ot()}[dn(335)](e,t){return ot()}[dn(310)](e){return ot()}[dn(328)](e,t){return ot()}[dn(319)](e,t){return ot()}[dn(331)](e,t){return ot()}}function Tf(i,e,t){const n=dn,r=t?Zt(t[n(341)]):null,s=t?Zt(t.dataProjection):null;let o=i;if(r&&s&&!yr(r,s)){e&&(o=i[n(314)]());const a=e?r:s,c=e?s:r;a[n(316)]()==="tile-pixels"?o[n(347)](a,c):o.applyTransform(io(a,c))}if(e&&t&&t.decimals!==void 0){const a=Math[n(337)](10,t.decimals),c=function(x){const A=n;for(let l=0,u=x.length;l<u;++l)x[l]=Math[A(318)](x[l]*a)/a;return x};o===i&&(o=i.clone()),o.applyTransform(c)}return o}const x7={Point:cs,LineString:Es,Polygon:vo,MultiPoint:Mc,MultiLineString:Dc,MultiPolygon:Tc};function c7(i,e,t){const n=dn;return Array[n(323)](e[0])?(!Ly(i,0,e,t)&&(i=i[n(309)](),Sp(i,0,e,t)),i):(!Rp(i,0,e,t)&&(i=i[n(309)](),Au(i,0,e,t)),i)}function o3(i,e){var o;const t=dn,n=i.geometry;if(!n)return[];if(Array[t(323)](n))return n[t(312)](a=>o3({...i,geometry:a}))[t(329)]();const r=n[t(326)]==="MultiPolygon"?t(321):n[t(326)];if(r===t(340)||r===t(336))throw new Error(t(343)+r);const s=n.layout.length;return Tf(new fn(r,r===t(321)?c7(n[t(320)],n[t(317)],s):n[t(320)],(o=n.ends)==null?void 0:o[t(329)](),s,i[t(315)]||{},i.id).enableSimplifyTransformed(),!1,e)}function II(i,e){const t=dn;if(!i)return null;if(Array.isArray(i)){const r=i[t(312)](s=>II(s,e));return new Xh(r)}const n=x7[i[t(326)]];return Tf(new n(i[t(320)],i.layout,i.ends),!1,e)}const ze=Lf;(function(i,e){const t=Lf,n=i();for(;;)try{if(parseInt(t(228))/1*(-parseInt(t(236))/2)+-parseInt(t(243))/3+parseInt(t(241))/4+parseInt(t(233))/5+parseInt(t(232))/6+-parseInt(t(230))/7*(parseInt(t(231))/8)+-parseInt(t(221))/9*(-parseInt(t(225))/10)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gf,337357);function Lf(i,e){const t=Gf();return Lf=function(n,r){return n=n-220,t[n]},Lf(i,e)}function Gf(){const i=["readFeaturesFromObject","readGeometryFromObject","10yqFvLC","string","getReadOptions","7045hNsDcg","readFeature","7Zqyald","2750392wBQJBt","481476MvcQcH","2620070fnoaqa","readGeometry","readProjectionFromObject","188AHwnyv","writeFeatureObject","readFeatures","stringify","writeFeature","2271648mUSYCf","writeFeaturesObject","1648647NoWauT","readProjection","readFeatureFromObject","getType","6486867JCqPhA","writeGeometryObject"];return Gf=function(){return i},Gf()}class A7 extends s3{constructor(){super()}[ze(220)](){return"json"}[ze(229)](e,t){const n=ze;return this[n(245)](Nf(e),this[n(227)](e,t))}[ze(238)](e,t){const n=ze;return this[n(223)](Nf(e),this[n(227)](e,t))}readFeatureFromObject(e,t){return ot()}[ze(223)](e,t){return ot()}[ze(234)](e,t){const n=ze;return this[n(224)](Nf(e),this[n(227)](e,t))}[ze(224)](e,t){return ot()}[ze(244)](e){return this[ze(235)](Nf(e))}[ze(235)](e){return ot()}[ze(240)](e,t){const n=ze;return JSON[n(239)](this[n(237)](e,t))}[ze(237)](e,t){return ot()}writeFeatures(e,t){const n=ze;return JSON[n(239)](this[n(242)](e,t))}[ze(242)](e,t){return ot()}writeGeometry(e,t){const n=ze;return JSON[n(239)](this[n(222)](e,t))}writeGeometryObject(e,t){return ot()}}function Nf(i){if(typeof i===ze(226)){const t=JSON.parse(i);return t||null}return i!==null?i:null}const ne=Yc;function Yc(i,e){const t=Pf();return Yc=function(n,r){return n=n-271,t[n]},Yc(i,e)}(function(i,e){const t=Yc,n=i();for(;;)try{if(-parseInt(t(294))/1+-parseInt(t(332))/2*(-parseInt(t(309))/3)+parseInt(t(285))/4*(parseInt(t(278))/5)+parseInt(t(272))/6+parseInt(t(280))/7+-parseInt(t(293))/8*(parseInt(t(296))/9)+-parseInt(t(322))/10*(-parseInt(t(298))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Pf,265813);class a3 extends A7{constructor(e){const t=Yc;e=e||{},super(),this[t(295)]=Zt(e.dataProjection?e[t(295)]:t(308)),e.featureProjection&&(this.defaultFeatureProjection=Zt(e[t(297)])),e[t(286)]&&(this[t(286)]=e[t(286)]),this.geometryName_=e[t(275)],this.extractGeometryName_=e.extractGeometryName,this[t(292)]=[t(276),t(302)]}[ne(333)](e,t){const n=ne;let r=null;e[n(320)]===n(290)?r=e:r={type:n(290),geometry:e,properties:null};const s=_I(r[n(307)]);if(this[n(286)]===fn)return o3({geometry:s,id:r.id,properties:r[n(312)]},t);const o=new Vo;return this[n(323)]?o[n(282)](this[n(323)]):this[n(271)]&&r.geometry_name&&o.setGeometryName(r[n(279)]),o[n(287)](II(s,t)),"id"in r&&o.setId(r.id),r[n(312)]&&o[n(318)](r[n(312)],!0),o}[ne(284)](e,t){const n=ne,r=e;let s=null;if(r[n(320)]===n(325)){const o=e;s=[];const a=o[n(326)];for(let c=0,x=a[n(291)];c<x;++c){const A=this.readFeatureFromObject(a[c],t);A&&s[n(335)](A)}}else s=[this[n(333)](e,t)];return s[n(321)]()}[ne(328)](e,t){return l7(e,t)}[ne(310)](e){const t=ne,n=e[t(277)];let r;if(n)if(n[t(320)]==t(327))r=Zt(n[t(312)][t(327)]);else if(n[t(320)]===t(314))r=Zt(t(299)+n[t(312)][t(281)]);else throw new Error("Unknown SRS type");else r=this[t(295)];return r}writeFeatureObject(e,t){const n=ne;t=this[n(337)](t);const r={type:n(290),geometry:null,properties:null},s=e[n(330)]();if(s!==void 0&&(r.id=s),!e[n(283)]())return r;const o=e[n(329)](),a=e[n(324)]();return a&&(r.geometry=mI(a,t),delete o[e[n(315)]()]),!$r(o)&&(r[n(312)]=o),r}[ne(334)](e,t){const n=ne;t=this[n(337)](t);const r=[];for(let s=0,o=e[n(291)];s<o;++s)r[n(335)](this.writeFeatureObject(e[s],t));return{type:n(325),features:r}}writeGeometryObject(e,t){return mI(e,this[ne(337)](t))}}function _I(i,e){const t=ne;if(!i)return null;let n;switch(i[t(320)]){case t(306):{n=h7(i);break}case t(303):{n=f7(i);break}case t(273):{n=I7(i);break}case t(301):{n=g7(i);break}case t(305):{n=d7(i);break}case t(304):{n=p7(i);break}case t(288):{n=u7(i);break}default:throw new Error(t(274)+i[t(320)])}return n}function l7(i,e){const t=_I(i);return II(t,e)}function u7(i,e){const t=ne;return i[t(313)][t(289)](function(r){return _I(r)})}function h7(i){const e=ne,t=i[e(317)];return{type:"Point",flatCoordinates:t,layout:os(t[e(291)])}}function f7(i){var r;const e=ne,t=i[e(317)],n=t.flat();return{type:"LineString",flatCoordinates:n,ends:[n[e(291)]],layout:os(((r=t[0])==null?void 0:r[e(291)])||2)}}function d7(i){var o,a;const e=ne,t=i[e(317)],n=((a=(o=t[0])==null?void 0:o[0])==null?void 0:a[e(291)])||2,r=[],s=Tx(r,0,t,n);return{type:"MultiLineString",flatCoordinates:r,ends:s,layout:os(n)}}function g7(i){var n;const e=ne,t=i[e(317)];return{type:e(301),flatCoordinates:t.flat(),layout:os(((n=t[0])==null?void 0:n[e(291)])||2)}}function p7(i){var o,a;const e=ne,t=i.coordinates,n=[],r=((a=(o=t[0])==null?void 0:o[0])==null?void 0:a[0].length)||2,s=Qy(n,0,t,r);return{type:e(304),flatCoordinates:n,ends:s,layout:os(r)}}function Pf(){const i=["geometryName","application/geo+json","crs","603295ZwDXuB","geometry_name","190274VCnFQx","code","setGeometryName","hasProperties","readFeaturesFromObject","4ejcOsC","featureClass","setGeometry","GeometryCollection","map","Feature","length","supportedMediaTypes","99208NaMpzt","509521tholPy","dataProjection","54CsrYyf","featureProjection","5995HXjumo","EPSG:","Circle","MultiPoint","application/vnd.geo+json","LineString","MultiPolygon","MultiLineString","Point","geometry","EPSG:4326","1111269rzGcFE","readProjectionFromObject","getType","properties","geometries","EPSG","getGeometryName","rightHanded","coordinates","setProperties","getGeometriesArray","type","flat","2230rZnXGK","geometryName_","getGeometry","FeatureCollection","features","name","readGeometryFromObject","getProperties","getId","getCoordinates","2bWPqaC","readFeatureFromObject","writeFeaturesObject","push","Unsupported geometry type: ","adaptOptions","extractGeometryName_","1259646MmYORv","Polygon","Unsupported GeoJSON type: "];return Pf=function(){return i},Pf()}function I7(i){var o,a;const e=ne,t=i[e(317)],n=[],r=(a=(o=t[0])==null?void 0:o[0])==null?void 0:a[e(291)],s=Tx(n,0,t,r);return{type:e(273),flatCoordinates:n,ends:s,layout:os(r)}}function mI(i,e){const t=ne;i=Tf(i,!0,e);const n=i[t(311)]();let r;switch(n){case"Point":{r=b7(i);break}case t(303):{r=m7(i);break}case"Polygon":{r=B7(i,e);break}case t(301):{r=y7(i);break}case t(305):{r=E7(i);break}case t(304):{r=C7(i,e);break}case t(288):{r=_7(i,e);break}case t(300):{r={type:t(288),geometries:[]};break}default:throw new Error(t(336)+n)}return r}function _7(i,e){const t=ne;return e=Object.assign({},e),delete e[t(297)],{type:"GeometryCollection",geometries:i[t(319)]().map(function(r){return mI(r,e)})}}function m7(i,e){const t=ne;return{type:t(303),coordinates:i[t(331)]()}}function E7(i,e){return{type:"MultiLineString",coordinates:i[ne(331)]()}}function y7(i,e){const t=ne;return{type:t(301),coordinates:i[t(331)]()}}function C7(i,e){const t=ne;let n;return e&&(n=e[t(316)]),{type:t(304),coordinates:i[t(331)](n)}}function b7(i,e){return{type:ne(306),coordinates:i.getCoordinates()}}function B7(i,e){const t=ne;let n;return e&&(n=e[t(316)]),{type:t(273),coordinates:i[t(331)](n)}}class w7 extends ra{constructor(e){super(),this._angle=Math.PI/4,this.lineLength=15,this._sqrt_2=1.414,this.lineWidth=e.lineWidth,this.offset=-10,this._color="rgb(204, 51, 51)",this._style={color:this._color}}renderFront(e,t,n){let r=0;r=this.offset>0?0:Math.PI;const s=Math.atan2(t[1]-n[1],t[0]-n[0])+r,o=Math.abs(this.offset),a=(t[0]+n[0])/2,c=(t[1]+n[1])/2;e.strokeStyle=this._color,e.lineWidth=this.lineWidth,e.save(),e.translate(a,c),e.rotate(s),e.beginPath(),e.moveTo(0,0),e.lineTo(0,o),e.stroke(),e.restore()}parse(){const e=new Mt({stroke:new Qn({color:this._color,width:this.lineWidth})}),t=new Mt({renderer:(n,r)=>{const s=r.context;s.save();const o=sa(n,40);for(let a=1;a<o.length;a++)this.renderFront(s,o[a-1],o[a]);s.restore()}});return[e,t]}}class Q7 extends ra{constructor(){super(),this._style={fill:{color:"rgba(0,255,0,0.4)"},stroke:{color:"#FF0000",width:2}}}parse(){let e,t=null;return this._style.fill&&(e=new Un(this._style.fill)),this._style.stroke&&(t=new Qn(this._style.stroke)),new Mt({fill:e,stroke:t})}}class v7 extends ra{constructor(){super(),this._angle=Math.PI/4,this._sqrt_2=1.414,this._color="rgb(0,0,255)",this._style={color:this._color}}renderFront(e,t,n,r){const s=kf(t,n),o=Nr(s,t,r),a=Nr(s,n,r),c=pI(o,a,this._angle,this._sqrt_2*r,!1);e.beginPath(),e.moveTo(o[0],o[1]),e.lineTo(c[0],c[1]),e.lineTo(a[0],a[1]),e.fillStyle=this._color,e.fill()}parse(){let e=new Mt({stroke:new Qn({color:this._color,width:2})}),t=new Mt({renderer:(n,r)=>{const s=r.context;s.save();let o=sa(n,40);for(let a=1;a<o.length;a++)this.renderFront(s,o[a-1],o[a],10);s.restore()}});return[e,t]}}class R7 extends ra{constructor(){super(),this._color="rgb(255,0,0)",this._style={color:this._color}}renderFront(e,t,n,r){const s=kf(t,n);e.beginPath(),e.moveTo(s[0],s[1]),e.arc(s[0],s[1],r,Vn(s,t)-.08,Vn(s,n)+.08,!0),e.fillStyle=this._color,e.fill()}parse(){let e=new Mt({stroke:new Qn({color:this._color,width:3})}),t=new Mt({renderer:(n,r)=>{const s=r.context;s.save();let o=sa(n,40);for(let a=1;a<o.length;a++)this.renderFront(s,o[a-1],o[a],10);s.restore()}});return[e,t]}}class S7 extends ra{constructor(){super(),this._angle=Math.PI/4,this._sqrt_2=1.414,this._color="rgb(235,18,245)",this._style={color:this._color}}renderFront(e,t,n,r){const s=kf(t,n),o=Nr(s,t,r);e.beginPath(),e.moveTo(o[0],o[1]),e.arc(o[0],o[1],r,Vn(s,t)-.08,Vn(s,n)+.08,!0),e.fillStyle=this._color,e.fill();const a=Nr(s,n,r*2),c=pI(s,a,this._angle,r*this._sqrt_2,!1);e.beginPath(),e.moveTo(s[0],s[1]),e.lineTo(c[0],c[1]),e.lineTo(a[0],a[1]),e.fillStyle=this._color,e.fill()}parse(){let e=new Mt({stroke:new Qn({color:this._color,width:3})}),t=new Mt({renderer:(n,r)=>{const s=r.context;s.save();let o=sa(n,60);for(let a=1;a<o.length;a++)this.renderFront(s,o[a-1],o[a],10);s.restore()}});return[e,t]}}class D7 extends ra{constructor(){super(),this._angle=Math.PI/4,this._sqrt_2=1.414,this._color="rgb(255,0,0)",this._style={color:this._color}}renderFront(e,t,n,r){const s=kf(t,n),o=Nr(s,t,r);e.beginPath(),e.moveTo(o[0],o[1]),e.arc(o[0],o[1],r,Vn(s,t)-.08,Vn(s,n)+.08,!0),e.fillStyle=this._color,e.fill();const a=Nr(s,n,r*2),c=pI(s,a,this._angle,r*this._sqrt_2,!0);e.beginPath(),e.moveTo(s[0],s[1]),e.lineTo(c[0],c[1]),e.lineTo(a[0],a[1]),e.fillStyle=this._color,e.fill()}parse(){let e=new Mt({stroke:new Qn({color:this._color,width:3})}),t=new Mt({renderer:(n,r)=>{const s=r.context;s.save();let o=sa(n,60);for(let a=1;a<o.length;a++)this.renderFront(s,o[a-1],o[a],10);s.restore()}});return[e,t]}}function k7(i){i={lineStyle:{Style:{stroke:{Stroke:{color:"red",width:5,lineDash:[5,10,25]}}}},options:{offset:10,color:"red",width:4}};let e=jn(i.lineStyle),t=i.options;const n=new Mt({renderer:(r,s)=>{const o=s.context;o.save();const a=sa(r,40);for(let c=1;c<a.length;c++)M7(o,a[c-1],a[c],t);o.restore()}});return[e,n]}function M7(i,e,t,n){let r=n.offset,s=n.color,o=n.width,a=0;a=r>0?0:Math.PI;const c=Math.atan2(e[1]-t[1],e[0]-t[0])+a,x=Math.abs(r),A=(e[0]+t[0])/2,l=(e[1]+t[1])/2;i.strokeStyle=s,i.lineWidth=o,i.save(),i.translate(A,l),i.rotate(c),i.beginPath(),i.moveTo(0,0),i.lineTo(0,x),i.stroke(),i.restore()}function x3(i){let e=jn(i.lineStyle);const t=i.options,n=((t==null?void 0:t.radius)||10)*2,r=(t==null?void 0:t.distance)||120,s=!!(t!=null&&t.clockwise)||!1;let o=new Mt({renderer:(a,c)=>{const x=c.context;x.save();let A=Mf(a,r,n);x.fillStyle=(t==null?void 0:t.color)||"#00f";for(let l=0;l<A.length;l++){const{point:u,angle:h,prevs:f,nexts:g}=A[l],d=s?h:h+Math.PI,p=u[0]+Math.sin(d)*n*Math.SQRT2/2,I=u[1]-Math.cos(d)*n*Math.SQRT2/2,_=f.concat([u]).concat(g).concat([[p,I]]);x.beginPath(),x.moveTo(_[0][0],_[0][1]),_.forEach(m=>x.lineTo(m[0],m[1])),x.fill(),x.closePath()}x.restore()}});return[e,o]}function F7(i){let e=jn(i.lineStyle);const t=i.options,n=(t==null?void 0:t.radius)||10,r=(t==null?void 0:t.distance)||120,s=!!(t!=null&&t.clockwise)||!1;let o=new Mt({renderer:(a,c)=>{const x=c.context;x.save();let A=Mf(a,r,n);x.fillStyle=(t==null?void 0:t.color)||"#f00";for(let l=0;l<A.length;l++){const{point:u,prevs:h,nexts:f}=A[l],g=h.concat([u]).concat(f),d=Vn(u,h[0]),p=Vn(u,f[f.length-1]);x.beginPath(),x.moveTo(g[0][0],u[0][1]),g.forEach(I=>x.lineTo(I[0],I[1])),x.arc(u[0],u[1],n,d,p,s),x.fill(),x.closePath()}x.restore()}});return[e,o]}function T7(i){let e=jn(i.lineStyle);const t=i.options,n=t.radius||10,r=t.distance||120,s=!!(t!=null&&t.clockwise)||!1;let o=new Mt({renderer:(a,c)=>{const x=c.context;x.save();let A=Mf(a,r,n*2);for(let l=0;l<A.length;l++){const{point:u,angle:h,prevs:f,nexts:g}=A[l];if(l%2){const d=f.concat([u]).concat(g),p=Vn(u,f[0]),I=Vn(u,g[g.length-1]);x.beginPath(),x.moveTo(d[0][0],u[0][1]),d.forEach(_=>x.lineTo(_[0],_[1])),x.arc(u[0],u[1],n,p,I,s),x.fillStyle="#f00"}else{const d=s?h+Math.PI:h,p=u[0]+Math.sin(d)*n*Math.SQRT2,I=u[1]-Math.cos(d)*n*Math.SQRT2,_=f.concat([u]).concat(g).concat([[p,I]]);x.beginPath(),x.moveTo(_[0][0],_[0][1]),_.forEach(m=>x.lineTo(m[0],m[1])),x.fillStyle="#00f"}x.fill(),x.closePath()}x.restore()}});return[e,o]}function L7(i){let e=jn(i.lineStyle);const t=i.options||{},n=t.radius||10,r=t.distance||120,s=!!(t!=null&&t.clockwise)||!1;let o=new Mt({renderer:(a,c)=>{const x=c.context;x.save();let A=Mf(a,r,n*2);for(let l=0;l<A.length;l++){const{point:u,angle:h,prevs:f,nexts:g}=A[l];if(l%2){const d=f.concat([u]).concat(g),p=Vn(u,f[0]),I=Vn(u,g[g.length-1]);x.beginPath(),x.moveTo(d[0][0],u[0][1]),d.forEach(_=>x.lineTo(_[0],_[1])),x.arc(u[0],u[1],n,p,I,!s),x.fillStyle="#f00"}else{const d=u[0]+Math.sin(h)*n*Math.SQRT2,p=u[1]-Math.cos(h)*n*Math.SQRT2,I=f.concat([u]).concat(g).concat([[d,p]]);x.beginPath(),x.moveTo(I[0][0],I[0][1]),I.forEach(_=>x.lineTo(_[0],_[1])),x.fillStyle="#00f"}x.fill(),x.closePath()}x.restore()}});return[e,o]}function HL(i){}var G7=class{constructor(e){}getCme_FrostLineStyle(e){return k7(e)}getCme_LINES_SYMBOL2(e){return x3(e)}getCme_LINES_18(e){return x3(e)}getCme_LINES_19(e){return F7(e)}getCme_LINES_41(e){return T7(e)}getCme_LINES_51(e){return L7(e)}getCme_ParallelLines(e,t){return void 0}getCme_Style(e){return jn(e)}},c3=class{constructor(e){}getCme_Style(e){return jn(e)}},oa=class extends Un{constructor(e){super(),e=e||{};var t,n=this.canvas_=document.createElement("canvas"),r=Number(e.scale)>0?Number(e.scale):1,s=r*Ll||Ll,o=n.getContext("2d");if(e.image){e.image.load();var a,c=e.image.getImage();if(c.width)n.width=Math.round(c.width*s),n.height=Math.round(c.height*s),o.globalAlpha=typeof e.opacity=="number"?e.opacity:1,o.drawImage(c,0,0,c.width,c.height,0,0,n.width,n.height),t=o.createPattern(n,"repeat");else{var x=this;t=[0,0,0,0],c.onload=function(){n.width=Math.round(c.width*s),n.height=Math.round(c.height*s),o.globalAlpha=typeof e.opacity=="number"?e.opacity:1,o.drawImage(c,0,0,c.width,c.height,0,0,n.width,n.height),t=o.createPattern(n,"repeat"),x.setColor(t)}}}else{var A=this.getPattern_(e);if(n.width=Math.round(A.width*s),n.height=Math.round(A.height*s),o.beginPath(),e.fill&&(o.fillStyle=Br(e.fill.getColor()),o.fillRect(0,0,n.width,n.height)),o.scale(s,s),o.lineCap="round",o.lineWidth=A.stroke||1,o.fillStyle=Br(e.color||"#000"),o.strokeStyle=Br(e.color||"#000"),A.circles)for(a=0;a<A.circles.length;a++){var l=A.circles[a];o.beginPath(),o.arc(l[0],l[1],l[2],0,2*Math.PI),A.fill&&o.fill(),A.stroke&&o.stroke()}if(A.repeat||(A.repeat=[[0,0]]),A.char&&(o.font=A.font||A.width+"px Arial",o.textAlign="center",o.textBaseline="middle",A.angle?(o.fillText(A.char,A.width/4,A.height/4),o.fillText(A.char,5*A.width/4,5*A.height/4),o.fillText(A.char,A.width/4,5*A.height/4),o.fillText(A.char,5*A.width/4,A.height/4),o.fillText(A.char,3*A.width/4,3*A.height/4),o.fillText(A.char,-A.width/4,-A.height/4),o.fillText(A.char,3*A.width/4,-A.height/4),o.fillText(A.char,-A.width/4,3*A.height/4)):o.fillText(A.char,A.width/2,A.height/2)),A.lines)for(a=0;a<A.lines.length;a++)for(var u=0;u<A.repeat.length;u++){var h=A.lines[a];o.beginPath(),o.moveTo(h[0]+A.repeat[u][0],h[1]+A.repeat[u][1]);for(var f=2;f<h.length;f+=2)o.lineTo(h[f]+A.repeat[u][0],h[f+1]+A.repeat[u][1]);A.fill&&o.fill(),A.stroke&&o.stroke(),o.save(),o.strokeStyle="red",o.strokeWidth=.1,o.restore()}if(t=o.createPattern(n,"repeat"),e.offset){var g=e.offset;if(typeof g=="number"&&(g=[g,g]),g instanceof Array){var d=Math.round(g[0]*s),p=Math.round(g[1]*s);o.scale(1/s,1/s),o.clearRect(0,0,n.width,n.height),o.translate(d,p),o.fillStyle=t,o.fillRect(-d,-p,n.width,n.height),t=o.createPattern(n,"repeat")}}}this.setColor(t)}static addPattern(e,t){t||(t={}),oa.patterns[e||t.char]={width:t.width||t.size||10,height:t.height||t.size||10,font:t.font,char:t.char,circles:t.circles,lines:t.lines,repeat:t.repeat,stroke:t.stroke,angle:t.angle,fill:t.fill}}clone(){var e=super.clone();return e.canvas_=this.canvas_,e}getImage(){return this.canvas_}getPattern_(e){var t=oa.patterns[e.pattern]||oa.patterns.dot,n=Math.round(e.spacing)||10,r;switch(e.pattern){case"dot":case"circle":{r=e.size===0?0:e.size/2||2,e.angle?(n=t.width=t.height=Math.round(n*1.4),t.circles=[[n/4,n/4,r],[3*n/4,3*n/4,r]],e.pattern=="circle"&&(t.circles=t.circles.concat([[n/4+n,n/4,r],[n/4,n/4+n,r],[3*n/4-n,3*n/4,r],[3*n/4,3*n/4-n,r],[n/4+n,n/4+n,r],[3*n/4-n,3*n/4-n,r]]))):(t.width=t.height=n,t.circles=[[n/2,n/2,r]],e.pattern=="circle"&&(t.circles=t.circles.concat([[n/2+n,n/2,r],[n/2-n,n/2,r],[n/2,n/2+n,r],[n/2,n/2-n,r],[n/2+n,n/2+n,r],[n/2+n,n/2-n,r],[n/2-n,n/2+n,r],[n/2-n,n/2-n,r]])));break}case"tile":case"square":{r=e.size===0?0:e.size/2||2,e.angle?(t.width=t.height=n,t.lines=[[n/2-r,n/2,n/2,n/2-r,n/2+r,n/2,n/2,n/2+r,n/2-r,n/2]]):(t.width=t.height=n,t.lines=[[n/2-r,n/2-r,n/2+r,n/2-r,n/2+r,n/2+r,n/2-r,n/2+r,n/2-r,n/2-r]]),e.pattern=="square"&&(t.repeat=[[0,0],[0,n],[n,0],[0,-n],[-n,0],[-n,-n],[n,n],[-n,n],[n,-n]]);break}case"cross":e.angle&&(e.angle=45);case"hatch":{var s=Math.round(((e.angle||0)-90)%360);s>180&&(s-=360),s*=Math.PI/180;var o=Math.cos(s),a=Math.sin(s);if(Math.abs(a)<1e-4)t.width=t.height=n,t.lines=[[0,.5,n,.5]],t.repeat=[[0,0],[0,n]];else if(Math.abs(o)<1e-4)t.width=t.height=n,t.lines=[[.5,0,.5,n]],t.repeat=[[0,0],[n,0]],e.pattern=="cross"&&(t.lines.push([0,.5,n,.5]),t.repeat.push([0,n]));else{var c=t.width=Math.round(Math.abs(n/a))||1,x=t.height=Math.round(Math.abs(n/o))||1;e.pattern=="cross"?(t.lines=[[-c,-x,2*c,2*x],[2*c,-x,-c,2*x]],t.repeat=[[0,0]]):o*a>0?(t.lines=[[-c,-x,2*c,2*x]],t.repeat=[[0,0],[c,0],[0,x]]):(t.lines=[[2*c,-x,-c,2*x]],t.repeat=[[0,0],[-c,0],[0,x]])}t.stroke=e.size===0?0:e.size||4;break}}return t}};oa.patterns={hatch:{width:5,height:5,lines:[[0,2.5,5,2.5]],stroke:1},cross:{width:7,height:7,lines:[[0,3,10,3],[3,0,3,10]],stroke:1},dot:{width:8,height:8,circles:[[5,5,2]],stroke:!1,fill:!0},circle:{width:10,height:10,circles:[[5,5,2]],stroke:1,fill:!1},square:{width:10,height:10,lines:[[3,3,3,8,8,8,8,3,3,3]],stroke:1,fill:!1},tile:{width:10,height:10,lines:[[3,3,3,8,8,8,8,3,3,3]],fill:!0},woven:{width:12,height:12,lines:[[3,3,9,9],[0,12,3,9],[9,3,12,0],[-1,1,1,-1],[13,11,11,13]],stroke:1},crosses:{width:8,height:8,lines:[[2,2,6,6],[2,6,6,2]],stroke:1},caps:{width:8,height:8,lines:[[2,6,4,2,6,6]],stroke:1},nylon:{width:20,height:20,lines:[[1,6,1,1,6,1],[6,11,11,11,11,6],[11,16,11,21,16,21],[16,11,21,11,21,16]],repeat:[[0,0],[-20,0],[0,-20]],stroke:1},hexagon:{width:20,height:12,lines:[[0,10,4,4,10,4,14,10,10,16,4,16,0,10]],stroke:1,repeat:[[0,0],[10,6],[10,-6],[-10,-6]]},cemetry:{width:15,height:19,lines:[[0,3.5,7,3.5],[3.5,0,3.5,10]],stroke:1,repeat:[[0,0],[7,9]]},sand:{width:20,height:20,circles:[[1,2,1],[9,3,1],[2,16,1],[7,8,1],[6,14,1],[4,19,1],[14,2,1],[12,10,1],[14,18,1],[18,8,1],[18,14,1]],fill:1},conglomerate:{width:60,height:40,circles:[[2,4,1],[17,3,1],[26,18,1],[12,17,1],[5,17,2],[28,11,2]],lines:[[7,5,6,7,9,9,11,8,11,6,9,5,7,5],[16,10,15,13,16,14,19,15,21,13,22,9,20,8,19,8,16,10],[24,6,26,7,27,5,26,4,24,4,24,6]],repeat:[[30,0],[-15,20],[15,20],[45,20]],stroke:1},conglomerate2:{width:60,height:40,circles:[[2,4,1],[17,3,1],[26,18,1],[12,17,1],[5,17,2],[28,11,2]],lines:[[7,5,6,7,9,9,11,8,11,6,9,5,7,5],[16,10,15,13,16,14,19,15,21,13,22,9,20,8,19,8,16,10],[24,6,26,7,27,5,26,4,24,4,24,6]],repeat:[[30,0],[-15,20],[15,20],[45,20]],fill:1},gravel:{width:15,height:10,circles:[[4,2,1],[5,9,1],[1,7,1]],lines:[[7,5,6,6,7,7,8,7,9,7,10,5,9,4,7,5],[11,2,14,4,14,1,12,1,11,2]],stroke:1},brick:{width:18,height:16,lines:[[0,1,18,1],[0,10,18,10],[6,1,6,10],[12,10,12,18],[12,0,12,1]],stroke:1},dolomite:{width:20,height:16,lines:[[0,1,20,1],[0,9,20,9],[1,9,6,1],[11,9,14,16],[14,0,14.4,1]],stroke:1},coal:{width:20,height:16,lines:[[1,5,7,1,7,7],[11,10,12,5,18,9],[5,10,2,15,9,15],[15,16,15,13,20,16],[15,0,15,2,20,0]],fill:1},breccia:{width:20,height:16,lines:[[1,5,7,1,7,7,1,5],[11,10,12,5,18,9,11,10],[5,10,2,15,9,15,5,10],[15,16,15,13,22,18],[15,0,15,2,20,0]],stroke:1},clay:{width:20,height:20,lines:[[0,0,3,11,0,20],[11,0,10,3,13,13,11,20],[0,0,10,3,20,0],[0,12,3,11,13,13,20,12]],stroke:1},flooded:{width:15,height:10,lines:[[0,1,10,1],[0,6,5,6],[10,6,15,6]],stroke:1},chaos:{width:40,height:40,lines:[[40,2,40,0,38,0,40,2],[4,0,3,2,2,5,0,0,0,3,2,7,5,6,7,7,8,10,9,12,9,13,9,14,8,14,6,15,2,15,0,20,0,22,2,20,5,19,8,15,10,14,11,12.25,10,12,10,10,12,9,13,7,12,6,13,4,16,7,17,4,20,0,18,0,15,3,14,2,14,0,12,1,11,0,10,1,11,4,10,7,9,8,8,5,6,4,5,3,5,1,5,0,4,0],[7,1,7,3,8,3,8,2,7,1],[4,3,5,5,4,5,4,3],[34,5,33,7,38,10,38,8,36,5,34,5],[27,0,23,2,21,8,30,0,27,0],[25,8,26,12,26,16,22.71875,15.375,20,13,18,15,17,18,13,22,17,21,19,22,21,20,19,18,22,17,30,25,26,26,24,28,21.75,33.34375,20,36,18,40,20,40,24,37,25,32,27,31,26,38,27,37,30,32,32,35,36,37,38,40,38,39,40,40,37,36,34,32,37,31,36,29,33,27,34,24,39,21,40,21,40,16,37,20,31,22,32,25,27,20,29,15,30,20,32,20,34,18,33,12,31,11,29,14,26,9,25,8],[39,24,37,26,40,28,39,24],[13,15,9,19,14,18,13,15],[18,23,14,27,16,27,17,25,20,26,18,23],[6,24,2,26,1,28,2,30,5,28,12,30,16,32,18,30,15,30,12,28,9,25,7,27,6,24],[29,27,32,28,33,31,30,29,27,28,29,27],[5,35,1,33,3,36,13,38,15,35,10,36,5,35]],fill:1},grass:{width:27,height:22,lines:[[0,10.5,13,10.5],[2.5,10,1.5,7],[4.5,10,4.5,5,3.5,4],[7,10,7.5,6,8.5,3],[10,10,11,6]],repeat:[[0,0],[14,10]],stroke:1},swamp:{width:24,height:23,lines:[[0,10.5,9.5,10.5],[2.5,10,2.5,7],[4.5,10,4.5,4],[6.5,10,6.5,6],[3,12.5,7,12.5]],repeat:[[0,0],[14,10]],stroke:1},reed:{width:26,height:23,lines:[[2.5,10,2,7],[4.5,10,4.2,4],[6.5,10,6.8,4],[8.5,10,9,6],[3.7,4,3.7,2.5],[4.7,4,4.7,2.5],[6.3,4,6.3,2.5],[7.3,4,7.3,2.5]],circles:[[4.2,2.5,.5],[18.2,12.5,.5],[6.8,2.5,.5],[20.8,12.5,.5],[9,6,.5],[23,16,.5]],repeat:[[0,0],[14,10]],stroke:1},wave:{width:10,height:8,lines:[[0,0,5,4,10,0]],stroke:1},vine:{width:13,height:13,lines:[[3,0,3,6],[9,7,9,13]],stroke:1},forest:{width:55,height:30,circles:[[7,7,3.5],[20,20,1.5],[42,22,3.5],[35,5,1.5]],stroke:1},forest2:{width:55,height:30,circles:[[7,7,3.5],[20,20,1.5],[42,22,3.5],[35,5,1.5]],fill:1,stroke:1},scrub:{width:26,height:20,lines:[[1,4,4,8,6,4]],circles:[[20,13,1.5]],stroke:1},tree:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78]],repeat:[[3,1],[18,16]],stroke:1},tree2:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61]],repeat:[[3,1],[18,16]],fill:1,stroke:1},pine:{width:30,height:30,lines:[[5.66,11.31,2.83,11.31,2.83,8.49,0,8.49,2.83,0,5.66,8.49,2.83,8.49]],repeat:[[3,1],[18,16]],stroke:1},pine2:{width:30,height:30,lines:[[5.66,11.31,2.83,11.31,2.83,8.49,0,8.49,2.83,0,5.66,8.49,2.83,8.49,2.83,11.31,5.66,11.31]],repeat:[[3,1],[18,16]],fill:1,stroke:1},mixtree:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61],[23.66,27.31,20.83,27.31,20.83,24.49,18,24.49,20.83,16,23.66,24.49,20.83,24.49,20.83,27.31,23.66,27.31]],repeat:[[3,1]],stroke:1},mixtree2:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61],[23.66,27.31,20.83,27.31,20.83,24.49,18,24.49,20.83,16,23.66,24.49,20.83,24.49,20.83,27.31,23.66,27.31]],repeat:[[3,1]],fill:1,stroke:1},pines:{width:22,height:20,lines:[[1,4,3.5,1,6,4],[1,8,3.5,5,6,8],[3.5,1,3.5,11],[12,14.5,14.5,14,17,14.5],[12,18,17,18],[14.5,12,14.5,18]],repeat:[[2,1]],stroke:1},rock:{width:20,height:20,lines:[[1,0,1,9],[4,0,4,9],[7,0,7,9],[10,1,19,1],[10,4,19,4],[10,7,19,7],[0,11,9,11],[0,14,9,14],[0,17,9,17],[12,10,12,19],[15,10,15,19],[18,10,18,19]],repeat:[[.5,.5]],stroke:1},rocks:{width:20,height:20,lines:[[5,0,3,0,5,4,4,6,0,3,0,5,3,6,5,9,3.75,10,2.5,10,0,9,0,10,4,11,5,14,4,15,0,13,0,13,0,13,0,14,0,14,5,16,5,18,3,19,0,19,-.25,19.9375,5,20,10,19,10,20,11,20,12,19,14,20,15,20,17,19,20,20,20,19,19,16,20,15,20,11,20,10,19,8,20,5,20,0,19,0,20,2,19,4,17,4,16,3,15,0,14,0,15,4,11,5,10,4,11,0,10,0,9,4,6,5,5,0],[18,5,19,6,18,10,16,10,14,9,16,5,18,5],[5,6,9,5,10,6,10,9,6,10,5,6],[14,5,14,8,13,9,12,9,11,7,12,5,14,5],[5,11,8,10,9,11,10,14,6,15,6,15,5,11],[13,10,14,11,15,14,15,14,15,14,11,15,10,11,11,10,13,10],[15,12,16,11,19,11,19,15,16,14,16,14,15,12],[6,16,9,15,10,18,5,19,6,16],[10,16,14,16,14,18,13,19,11,18,10,16],[15,15,18,16,18,18,16,19,15,18,15,15]],stroke:1}};function N7(i){return new Mt({fill:new oa({pattern:i.pattern,ratio:i.ratio||1,color:i.color,offset:i.offset||0,scale:i.scale||1,fill:new Un({color:i.fill}),size:i.size,spacing:i.spacing,angle:i.angle})})}function P7(i){return new Mt({fill:new oa({pattern:i.pattern,ratio:i.ratio||1,color:i.color,offset:i.offset||0,scale:i.scale||1,fill:new Un({color:i.fill}),size:i.size,spacing:i.spacing,angle:i.angle})})}var U7=class{constructor(e){}getCme_Style(e){return jn(e)}getCme_FILLAREA_1101_2_5(e){return N7(e)}getCme_FILLAREA_1101_2_4(e){return P7(e)}},O7=class{constructor(e){}getCme_Style(e){return jn(e)}};const qe=bs;(function(i,e){const t=bs,n=i();for(;;)try{if(parseInt(t(448))/1+parseInt(t(443))/2+parseInt(t(434))/3*(-parseInt(t(404))/4)+parseInt(t(429))/5*(parseInt(t(414))/6)+-parseInt(t(441))/7*(parseInt(t(450))/8)+-parseInt(t(442))/9*(-parseInt(t(427))/10)+parseInt(t(411))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Uf,372350);function Uf(){const i=["push","handleLayerChange_","zIndex","638770nrYFHL","handleLayerGroupRemove_","10fuHlzI","getLayerState","element","ADD","handleLayersChanged_","20202JPXKhy","dispatchEvent","getArray","minResolution","min","assign","addChangeListener","7IQEGRh","9DjBmqf","26208bJvYho","visible","getLayers","handleLayersRemove_","opacity","511765ZJpDzX","CHANGE","4174936wrbJHG","handleLayerGroupAdd_","changed","Expected `layers` to be an array or a `Collection`","slice","addlayer","LAYERS","listenerKeys_","maxResolution","removelayer","324dUjXOu","registerLayerListeners_","maxZoom","extent","setLayers","max","forEach","6387953DkPaMW","PROPERTYCHANGE","layers","810606BpYBPz","layersListenerKeys_","getLayersArray","handleLayersAdd_","function","getSourceState","once","getLayerStatesArray","layer","length"];return Uf=function(){return i},Uf()}function bs(i,e){const t=Uf();return bs=function(n,r){return n=n-398,t[n]},bs(i,e)}class B0 extends di{constructor(e,t){const n=bs;super(e),this[n(422)]=t}}const EI={LAYERS:"layers"};class Bs extends uy{constructor(e){const t=bs;e=e||{};const n=Object[t(439)]({},e);delete n[t(413)];let r=e[t(413)];super(n),this.on,this[t(420)],this.un,this[t(415)]=[],this.listenerKeys_={},this[t(440)](EI.LAYERS,this[t(433)]),r?Array.isArray(r)?r=new sr(r[t(398)](),{unique:!0}):Qt(typeof r[t(436)]===t(418),t(453)):r=new sr(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this[bs(452)]()}[qe(433)](){const e=qe;this[e(415)][e(410)](Wt),this.layersListenerKeys_[e(423)]=0;const t=this[e(445)]();this[e(415)][e(424)](wt(t,Hn[e(432)],this[e(417)],this),wt(t,Hn.REMOVE,this.handleLayersRemove_,this));for(const r in this[e(401)])this[e(401)][r].forEach(Wt);rx(this[e(401)]);const n=t[e(436)]();for(let r=0,s=n.length;r<s;r++){const o=n[r];this[e(405)](o),this.dispatchEvent(new B0(e(399),o))}this.changed()}registerLayerListeners_(e){const t=qe,n=[wt(e,Ao[t(412)],this[t(425)],this),wt(e,rt[t(449)],this[t(425)],this)];e instanceof Bs&&n[t(424)](wt(e,t(399),this[t(451)],this),wt(e,t(403),this.handleLayerGroupRemove_,this)),this[t(401)][ct(e)]=n}[qe(451)](e){this[qe(435)](new B0("addlayer",e.layer))}[qe(428)](e){const t=qe;this[t(435)](new B0(t(403),e[t(422)]))}[qe(417)](e){const t=qe,n=e[t(431)];this[t(405)](n),this[t(435)](new B0(t(399),n)),this.changed()}[qe(446)](e){const t=qe,n=e[t(431)],r=ct(n);this[t(401)][r][t(410)](Wt),delete this.listenerKeys_[r],this[t(435)](new B0(t(403),n)),this[t(452)]()}getLayers(){const e=qe;return this.get(EI[e(400)])}[qe(408)](e){const t=qe,n=this[t(445)]();if(n){const r=n.getArray();for(let s=0,o=r[t(423)];s<o;++s)this[t(435)](new B0(t(403),r[s]))}this.set(EI.LAYERS,e)}[qe(416)](e){const t=qe;return e=e!==void 0?e:[],this[t(445)]()[t(410)](function(n){n[t(416)](e)}),e}[qe(421)](e){const t=qe,n=e!==void 0?e:[],r=n[t(423)];this[t(445)]()[t(410)](function(a){a[t(421)](n)});const s=this[t(430)]();let o=s[t(426)];!e&&s.zIndex===void 0&&(o=0);for(let a=r,c=n[t(423)];a<c;a++){const x=n[a];x[t(447)]*=s.opacity,x[t(444)]=x[t(444)]&&s[t(444)],x[t(402)]=Math.min(x[t(402)],s[t(402)]),x[t(437)]=Math[t(409)](x[t(437)],s[t(437)]),x.minZoom=Math[t(409)](x.minZoom,s.minZoom),x.maxZoom=Math[t(438)](x[t(406)],s[t(406)]),s[t(407)]!==void 0&&(x[t(407)]!==void 0?x.extent=Cn(x[t(407)],s[t(407)]):x[t(407)]=s[t(407)]),x[t(426)]===void 0&&(x[t(426)]=o)}return n}[qe(419)](){return"ready"}}const yI=65536*65536,A3=1/yI,z7=12,l3=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),CI=0,Of=1,Hc=2,zf=5;class q7{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,n=this.length){for(;this.pos<n;){const r=this.readVarint(),s=r>>3,o=this.pos;this.type=r&7,e(s,t,this),this.pos===o&&this.skip(r)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*yI;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*yI;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let n,r;return r=t[this.pos++],n=r&127,r<128||(r=t[this.pos++],n|=(r&127)<<7,r<128)||(r=t[this.pos++],n|=(r&127)<<14,r<128)||(r=t[this.pos++],n|=(r&127)<<21,r<128)?n:(r=t[this.pos],n|=(r&15)<<28,Y7(n,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=z7&&l3?l3.decode(this.buf.subarray(t,e)):iv(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===Hc?this.readVarint()+this.pos:this.pos+1}skip(e){const t=e&7;if(t===CI)for(;this.buf[this.pos++]>127;);else if(t===Hc)this.pos=this.readVarint()+this.pos;else if(t===zf)this.pos+=4;else if(t===Of)this.pos+=8;else throw new Error(`Unimplemented type: ${t}`)}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.dataView=new DataView(n.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*A3),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*A3),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){H7(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const t=this.pos;this.pos=rv(this.buf,e,this.pos);const n=this.pos-t;n>=128&&u3(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let n=0;n<t;n++)this.buf[this.pos++]=e[n]}writeRawMessage(e,t){this.pos++;const n=this.pos;e(t,this);const r=this.pos-n;r>=128&&u3(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r}writeMessage(e,t,n){this.writeTag(e,Hc),this.writeRawMessage(t,n)}writePackedVarint(e,t){t.length&&this.writeMessage(e,J7,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,K7,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,W7,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,X7,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,Z7,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,$7,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,tv,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,ev,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,nv,t)}writeBytesField(e,t){this.writeTag(e,Hc),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,zf),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,zf),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,Of),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,Of),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,CI),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,CI),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,Hc),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,zf),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,Of),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function Y7(i,e,t){const n=t.buf;let r,s;if(s=n[t.pos++],r=(s&112)>>4,s<128||(s=n[t.pos++],r|=(s&127)<<3,s<128)||(s=n[t.pos++],r|=(s&127)<<10,s<128)||(s=n[t.pos++],r|=(s&127)<<17,s<128)||(s=n[t.pos++],r|=(s&127)<<24,s<128)||(s=n[t.pos++],r|=(s&1)<<31,s<128))return aa(i,r,e);throw new Error("Expected varint not more than 10 bytes")}function aa(i,e,t){return t?e*4294967296+(i>>>0):(e>>>0)*4294967296+(i>>>0)}function H7(i,e){let t,n;if(i>=0?(t=i%4294967296|0,n=i/4294967296|0):(t=~(-i%4294967296),n=~(-i/4294967296),t^4294967295?t=t+1|0:(t=0,n=n+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),j7(t,n,e),V7(n,e)}function j7(i,e,t){t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos]=i&127}function V7(i,e){const t=(i&7)<<4;e.buf[e.pos++]|=t|((i>>>=3)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127)))))}function u3(i,e,t){const n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(n);for(let r=t.pos-1;r>=i;r--)t.buf[r+n]=t.buf[r]}function J7(i,e){for(let t=0;t<i.length;t++)e.writeVarint(i[t])}function K7(i,e){for(let t=0;t<i.length;t++)e.writeSVarint(i[t])}function X7(i,e){for(let t=0;t<i.length;t++)e.writeFloat(i[t])}function Z7(i,e){for(let t=0;t<i.length;t++)e.writeDouble(i[t])}function W7(i,e){for(let t=0;t<i.length;t++)e.writeBoolean(i[t])}function $7(i,e){for(let t=0;t<i.length;t++)e.writeFixed32(i[t])}function tv(i,e){for(let t=0;t<i.length;t++)e.writeSFixed32(i[t])}function ev(i,e){for(let t=0;t<i.length;t++)e.writeFixed64(i[t])}function nv(i,e){for(let t=0;t<i.length;t++)e.writeSFixed64(i[t])}function iv(i,e,t){let n="",r=e;for(;r<t;){const s=i[r];let o=null,a=s>239?4:s>223?3:s>191?2:1;if(r+a>t)break;let c,x,A;a===1?s<128&&(o=s):a===2?(c=i[r+1],(c&192)===128&&(o=(s&31)<<6|c&63,o<=127&&(o=null))):a===3?(c=i[r+1],x=i[r+2],(c&192)===128&&(x&192)===128&&(o=(s&15)<<12|(c&63)<<6|x&63,(o<=2047||o>=55296&&o<=57343)&&(o=null))):a===4&&(c=i[r+1],x=i[r+2],A=i[r+3],(c&192)===128&&(x&192)===128&&(A&192)===128&&(o=(s&15)<<18|(c&63)<<12|(x&63)<<6|A&63,(o<=65535||o>=1114112)&&(o=null))),o===null?(o=65533,a=1):o>65535&&(o-=65536,n+=String.fromCharCode(o>>>10&1023|55296),o=56320|o&1023),n+=String.fromCharCode(o),r+=a}return n}function rv(i,e,t){for(let n=0,r,s;n<e.length;n++){if(r=e.charCodeAt(n),r>55295&&r<57344)if(s)if(r<56320){i[t++]=239,i[t++]=191,i[t++]=189,s=r;continue}else r=s-55296<<10|r-56320|65536,s=null;else{r>56319||n+1===e.length?(i[t++]=239,i[t++]=191,i[t++]=189):s=r;continue}else s&&(i[t++]=239,i[t++]=191,i[t++]=189,s=null);r<128?i[t++]=r:(r<2048?i[t++]=r>>6|192:(r<65536?i[t++]=r>>12|224:(i[t++]=r>>18|240,i[t++]=r>>12&63|128),i[t++]=r>>6&63|128),i[t++]=r&63|128)}return t}const Rn=xa;function qf(){const i=["readBoolean","readVarint64","371218qUrFVm","features","11269170muCCdy","extent","552WKZeTC","includes","keys","idProperty_","arraybuffer","Polygon","2063585fgdCoI","layer","geometryName_","tile-pixels","values","geometry","MultiPoint","readSVarint","setGeometryName","setLayers","readProjection","setProperties","push","MultiLineString","readFeatures","readVarint","LineString","featureClass","layerName_","transform","8mGBRvZ","pos","length","layers_","392979zJZYbK","readFields","2489712njtpNb","Point","name","adaptOptions","Invalid command found in the PBF","version","readString","application/vnd.mapbox-vector-tile","4223352omxzpn","dataProjection","getType","idProperty","setExtent","layers","4dIGFuS","supportedMediaTypes","properties","13095uecnOy","application/x-protobuf","createFeature_","type"];return qf=function(){return i},qf()}(function(i,e){const t=xa,n=i();for(;;)try{if(-parseInt(t(224))/1+-parseInt(t(195))/2*(-parseInt(t(199))/3)+parseInt(t(215))/4*(parseInt(t(234))/5)+parseInt(t(201))/6+parseInt(t(209))/7+parseInt(t(228))/8*(-parseInt(t(218))/9)+-parseInt(t(226))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(qf,356447);function xa(i,e){const t=qf();return xa=function(n,r){return n=n-189,t[n]},xa(i,e)}class h3 extends s3{constructor(e){const t=xa;super(),e=e||{},this[t(210)]=new C2({code:"",units:t(237)}),this[t(192)]=e[t(192)]?e[t(192)]:fn,this[t(236)]=e.geometryName,this.layerName_=e.layerName?e.layerName:t(235),this.layers_=e[t(214)]?e.layers:null,this.idProperty_=e[t(212)],this[t(216)]=[t(208),t(219)]}readRawGeometry_(e,t,n,r){const s=xa;e[s(196)]=t[s(239)];const o=e[s(190)]()+e[s(196)];let a=1,c=0,x=0,A=0,l=0,u=0;for(;e[s(196)]<o;){if(!c){const h=e[s(190)]();a=h&7,c=h>>3}if(c--,a===1||a===2)x+=e[s(241)](),A+=e.readSVarint(),a===1&&l>u&&(r.push(l),u=l),n[s(246)](x,A),l+=2;else if(a===7)l>u&&(n[s(246)](n[u],n[u+1]),l+=2);else throw new Error(s(205))}l>u&&(r[s(246)](l),u=l)}[Rn(220)](e,t,n){const r=Rn,s=t[r(221)];if(s===0)return null;let o;const a=t[r(217)];let c;this.idProperty_?(c=a[this[r(231)]],delete a[this[r(231)]]):c=t.id,a[this[r(193)]]=t[r(235)][r(203)];const x=[],A=[];this.readRawGeometry_(e,t,x,A);const l=cv(s,A[r(197)]);if(this[r(192)]===fn)o=new this.featureClass(l,x,A,2,a,c),o[r(194)](n[r(210)]);else{let u;if(l==r(233)){const g=Gy(x,A);u=g.length>1?new Tc(x,"XY",g):new vo(x,"XY",A)}else u=l===r(202)?new cs(x,"XY"):l===r(191)?new Es(x,"XY"):l===r(240)?new Mc(x,"XY"):l===r(247)?new Dc(x,"XY",A):null;const h=this[r(192)];o=new h,this[r(236)]&&o[r(242)](this[r(236)]);const f=Tf(u,!1,n);o.setGeometry(f),c!==void 0&&o.setId(c),o[r(245)](a,!0)}return o}[Rn(211)](){return Rn(232)}[Rn(189)](e,t){const n=Rn,r=this[n(198)];t=this[n(204)](t);const s=Zt(t[n(210)]);s.setWorldExtent(t.extent),t[n(210)]=s;const o=new q7(e),a=o[n(200)](sv,{}),c=[];for(const x in a){if(r&&!r[n(229)](x))continue;const A=a[x],l=A?[0,0,A[n(227)],A[n(227)]]:null;s[n(213)](l);for(let u=0,h=A[n(197)];u<h;++u){const f=xv(o,A,u),g=this[n(220)](o,f,t);g!==null&&c[n(246)](g)}}return c}[Rn(244)](e){return this[Rn(210)]}[Rn(243)](e){const t=Rn;this[t(198)]=e}}function sv(i,e,t){const n=Rn;if(i===3){const r={keys:[],values:[],features:[]},s=t[n(190)]()+t.pos;t[n(200)](ov,r,s),r.length=r[n(225)].length,r.length&&(e[r[n(203)]]=r)}}function ov(i,e,t){const n=Rn;if(i===15)e[n(206)]=t[n(190)]();else if(i===1)e[n(203)]=t.readString();else if(i===5)e[n(227)]=t[n(190)]();else if(i===2)e[n(225)][n(246)](t[n(196)]);else if(i===3)e[n(230)][n(246)](t[n(207)]());else if(i===4){let r=null;const s=t[n(190)]()+t.pos;for(;t[n(196)]<s;)i=t[n(190)]()>>3,r=i===1?t[n(207)]():i===2?t.readFloat():i===3?t.readDouble():i===4?t[n(223)]():i===5?t[n(190)]():i===6?t[n(241)]():i===7?t[n(222)]():null;e.values.push(r)}}function av(i,e,t){const n=Rn;if(i==1)e.id=t.readVarint();else if(i==2){const r=t.readVarint()+t.pos;for(;t[n(196)]<r;){const s=e[n(235)][n(230)][t[n(190)]()],o=e[n(235)][n(238)][t[n(190)]()];e[n(217)][s]=o}}else i==3?e[n(221)]=t[n(190)]():i==4&&(e[n(239)]=t.pos)}function xv(i,e,t){const n=Rn;i[n(196)]=e[n(225)][t];const r=i[n(190)]()+i[n(196)],s={layer:e,type:0,properties:{}};return i[n(200)](av,s,r),s}function cv(i,e){const t=Rn;let n;return i===1?n=t(e===1?202:240):i===2?n=e===1?t(191):"MultiLineString":i===3&&(n="Polygon"),n}const ai=jc;function jc(i,e){const t=Yf();return jc=function(n,r){return n=n-421,t[n]},jc(i,e)}function Yf(){const i=["2220825ChrTlN","scheduleExpireIconCache","expire","380400gNaZyv","center","canWrapX","distanceSq","forEachFeatureAtCoordinate","size","geometry","42nVULwx","12683540itvIyi","forEach","some","pixelToCoordinateTransform","callback","managed","hasFeatureAtCoordinate","4205412NbJVkx","map_","dispatchRenderEvent","slice","getWrapX","bind","layer","viewState","call","6EsCAIq","3145667HucBmY","2576604kdmuIY","canExpireCache","postRenderFunctions","resolution","coordinateToPixelTransform","renderFrame","hasRenderer","sort","push","length","getMap","5hrlXdt","calculateMatrices2D","18389stCgsT"];return Yf=function(){return i},Yf()}(function(i,e){const t=jc,n=i();for(;;)try{if(parseInt(t(443))/1*(parseInt(t(454))/2)+-parseInt(t(444))/3+parseInt(t(430))/4*(parseInt(t(441))/5)+-parseInt(t(428))/6*(parseInt(t(429))/7)+-parseInt(t(447))/8+-parseInt(t(462))/9+parseInt(t(455))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Yf,594200);class Av extends zl{constructor(e){const t=jc;super(),this[t(463)]=e}[ai(421)](e,t){ot()}[ai(442)](e){const t=ai,n=e.viewState,r=e[t(434)],s=e[t(458)];er(r,e.size[0]/2,e[t(452)][1]/2,1/n[t(433)],-1/n.resolution,-n.rotation,-n[t(448)][0],-n.center[1]),my(s,r)}[ai(451)](e,t,n,r,s,o,a,c){const x=ai;let A;const l=t[x(426)];function u(y,E,C,b){return s[x(427)](o,E,y?C:null,b)}const h=l.projection,f=M2(e[x(422)](),h),g=[[0,0]];if(h[x(449)]()&&r){const y=h.getExtent(),E=Ct(y);g[x(438)]([-E,0],[E,0])}const d=t.layerStatesArray,p=d[x(439)],I=[],_=[];for(let y=0;y<g[x(439)];y++)for(let E=p-1;E>=0;--E){const C=d[E],b=C.layer;if(b[x(436)]()&&Mp(C,l)&&a.call(c,b)){const B=b.getRenderer(),Q=b.getSource();if(B&&Q){const w=Q[x(423)]()?f:e,R=u[x(424)](null,C[x(460)]);_[0]=w[0]+g[y][0],_[1]=w[1]+g[y][1],A=B[x(451)](_,t,n,R,I)}if(A)return A}}if(I.length===0)return;const m=1/I[x(439)];return I[x(456)]((y,E)=>y.distanceSq+=E*m),I[x(437)]((y,E)=>y[x(450)]-E[x(450)]),I[x(457)](y=>{const E=x;return A=y[E(459)](y.feature,y[E(425)],y[E(453)])}),A}[ai(461)](e,t,n,r,s,o){return this[ai(451)](e,t,n,r,fx,this,s,o)!==void 0}[ai(440)](){return this[ai(463)]}[ai(435)](e){ot()}[ai(445)](e){const t=ai;Xi[t(431)]()&&e[t(432)][t(438)](lv)}}function lv(i,e){Xi[ai(446)]()}function Vc(i,e){const t=Hf();return Vc=function(n,r){return n=n-235,t[n]},Vc(i,e)}const w0=Vc;function Hf(){const i=["insertBefore","PRECOMPOSE","PROPERTYCHANGE","push","6685870KQETPQ","createElement","1401924kxRfwN","height","renderFrame","display","dispatchEvent","some","length","hasListener","getSourceState","ready","unrender","undefined","sort","renderedVisible_","1670010FuSkUv","children_","layerIndex","absolute","4VdPEIu","getViewport","declutter","fontChangeListenerKey_","redrawText","1011015sihkKO","layer","getDeclutter","164VUJeWm","forEach","disposeInternal","14lvGiva","scheduleExpireIconCache","calculateMatrices2D","style","9OVjhsR","none","2691576FfUGiu","element_","layerStatesArray","getMap","dispatchRenderEvent","zIndex","position","100%","POSTCOMPOSE","bind","16408348rPKfPC","6914aCRtzN"];return Hf=function(){return i},Hf()}(function(i,e){const t=Vc,n=i();for(;;)try{if(-parseInt(t(261))/1*(-parseInt(t(281))/2)+-parseInt(t(235))/3*(parseInt(t(253))/4)+parseInt(t(258))/5+parseInt(t(249))/6*(parseInt(t(264))/7)+parseInt(t(270))/8+-parseInt(t(268))/9*(-parseInt(t(286))/10)+-parseInt(t(280))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Hf,371879);class uv extends Av{constructor(e){const t=Vc;super(e),this.fontChangeListenerKey_=wt($i,Ao[t(284)],e[t(257)][t(279)](e)),this.element_=document[t(287)]("div");const n=this[t(271)][t(267)];n[t(276)]=t(252),n.width=t(277),n[t(236)]=t(277),n[t(275)]="0",this[t(271)].className=l1+" ol-layers";const r=e[t(254)]();r[t(282)](this[t(271)],r.firstChild||null),this.children_=[],this[t(248)]=!0}[w0(274)](e,t){const n=w0,r=this[n(273)]();if(r[n(242)](e)){const s=new Py(e,void 0,t);r[n(239)](s)}}[w0(263)](){const e=w0;Wt(this[e(256)]),this.element_.remove(),super[e(263)]()}[w0(237)](e){const t=w0;if(!e){this[t(248)]&&(this[t(271)][t(267)][t(238)]=t(269),this[t(248)]=!1);return}this[t(266)](e),this[t(274)](mi[t(283)],e);const n=e[t(272)][t(247)]((c,x)=>c[t(275)]-x[t(275)]);n[t(240)](c=>c[t(259)]instanceof Xp&&c[t(259)][t(260)]())&&(e[t(255)]={});const s=e.viewState;this[t(250)][t(241)]=0;const o=[];let a=null;for(let c=0,x=n[t(241)];c<x;++c){const A=n[c];e[t(251)]=c;const l=A.layer,u=l[t(243)]();if(!Mp(A,s)||u!=t(244)&&u!=t(246)){l[t(245)]();continue}const h=l.render(e,a);h&&(h!==a&&(this[t(250)].push(h),a=h),o[t(285)](A))}this[t(255)](e,o),Lw(this[t(271)],this[t(250)]),this[t(274)](mi[t(278)],e),!this[t(248)]&&(this[t(271)][t(267)].display="",this[t(248)]=!0),this[t(265)](e)}[w0(255)](e,t){const n=w0;if(e[n(255)]){for(let r=t[n(241)]-1;r>=0;--r){const s=t[r],o=s[n(259)];o[n(260)]()&&o.renderDeclutter(e,s)}t[n(262)](r=>r[n(259)].renderDeferred(e))}}}(function(i,e){for(var t=jf,n=i();;)try{var r=parseInt(t(115))/1*(-parseInt(t(119))/2)+-parseInt(t(110))/3*(parseInt(t(109))/4)+-parseInt(t(111))/5*(parseInt(t(120))/6)+parseInt(t(112))/7+parseInt(t(113))/8*(-parseInt(t(121))/9)+parseInt(t(117))/10*(-parseInt(t(123))/11)+parseInt(t(116))/12*(parseInt(t(114))/13);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Vf,331287);class ca extends di{constructor(e,t,n){var r=jf;super(e),this[r(118)]=t,this[r(122)]=n!==void 0?n:null}}function jf(i,e){var t=Vf();return jf=function(n,r){n=n-109;var s=t[n];return s},jf(i,e)}function Vf(){var i=["2103600xqWuYT","3swGfRM","295yymfTU","3328220LkiTrv","8ErIroD","377wiRzuG","771vmjheP","757164SakiYV","30fdAsVo","map","404xFzADU","54294oSTarP","5012433rKSkQc","frameState","738892YSvYNe"];return Vf=function(){return i},Vf()}function Jf(){var i=["246248DIzzwI","438932XkXfNG","coordinate","coordinate_","pixel_","getEventPixel","activePointers","572301QHEVKL","54650JSzgrJ","pixel","817884rDgCtz","map","848830pRQXzp","getCoordinateFromPixel","originalEvent","stopPropagation","15ZplGFT","1501297JbeDWu","preventDefault"];return Jf=function(){return i},Jf()}var Ni=Jc;(function(i,e){for(var t=Jc,n=i();;)try{var r=-parseInt(t(358))/1+parseInt(t(343))/2+parseInt(t(357))/3+-parseInt(t(351))/4+-parseInt(t(347))/5*(parseInt(t(360))/6)+parseInt(t(348))/7+-parseInt(t(350))/8;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Jf,225547);class Q0 extends ca{constructor(e,t,n,r,s,o){var a=Jc;super(e,t,s),this.originalEvent=n,this[a(354)]=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this[a(356)]=o}get[Ni(359)](){var e=Ni;return!this[e(354)]&&(this[e(354)]=this[e(361)][e(355)](this.originalEvent)),this[e(354)]}set[Ni(359)](e){this.pixel_=e}get[Ni(352)](){var e=Ni;return!this.coordinate_&&(this[e(353)]=this[e(361)][e(344)](this[e(359)])),this[e(353)]}set[Ni(352)](e){var t=Ni;this[t(353)]=e}[Ni(349)](){var e=Ni;super[e(349)](),"preventDefault"in this[e(345)]&&this.originalEvent[e(349)]()}[Ni(346)](){var e=Ni;super[e(346)](),e(346)in this.originalEvent&&this[e(345)].stopPropagation()}}function Jc(i,e){var t=Jf();return Jc=function(n,r){n=n-343;var s=t[n];return s},Jc(i,e)}function Kf(){var i=["pointerup","144760PIPDQe","308LykkTv","DBLCLICK","pointerleave","9MPwokz","1587012pDtdhq","pointerover","singleclick","516WpUXED","2gkOmrc","36065YxbhQc","pointermove","pointerdrag","pointerdown","6392570LgQIQz","191676mtnvGK","2271612KNXxrP","1617WCoFTE","708937UEZkEp"];return Kf=function(){return i},Kf()}var v0=Xf;(function(i,e){for(var t=Xf,n=i();;)try{var r=parseInt(t(170))/1*(parseInt(t(181))/2)+-parseInt(t(177))/3+parseInt(t(180))/4*(-parseInt(t(182))/5)+parseInt(t(168))/6+parseInt(t(173))/7*(-parseInt(t(172))/8)+-parseInt(t(176))/9*(parseInt(t(186))/10)+-parseInt(t(169))/11*(-parseInt(t(167))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Kf,540652);function Xf(i,e){var t=Kf();return Xf=function(n,r){n=n-167;var s=t[n];return s},Xf(i,e)}const Se={SINGLECLICK:v0(179),CLICK:rt.CLICK,DBLCLICK:rt[v0(174)],POINTERDRAG:v0(184),POINTERMOVE:v0(183),POINTERDOWN:v0(185),POINTERUP:v0(171),POINTEROVER:v0(178),POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:v0(175),POINTERCANCEL:"pointercancel"};function Zf(i,e){var t=Wf();return Zf=function(n,r){n=n-406;var s=t[n];return s},Zf(i,e)}var Aa=Zf;(function(i,e){for(var t=Zf,n=i();;)try{var r=-parseInt(t(408))/1*(-parseInt(t(416))/2)+-parseInt(t(413))/3+-parseInt(t(409))/4+parseInt(t(420))/5+-parseInt(t(414))/6*(parseInt(t(417))/7)+parseInt(t(412))/8*(-parseInt(t(415))/9)+parseInt(t(418))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Wf,106108);const bI={POINTERMOVE:"pointermove",POINTERDOWN:Aa(410),POINTERUP:Aa(407),POINTEROVER:Aa(419),POINTEROUT:Aa(406),POINTERENTER:Aa(411),POINTERLEAVE:"pointerleave",POINTERCANCEL:Aa(421)};function Wf(){var i=["pointercancel","pointerout","pointerup","1ZOhowZ","360192VPJLvY","pointerdown","pointerenter","374368PXIeHR","355962AMKJcB","470562SpyEOB","9YQvSSi","166048JTEdOM","7sZbBSe","3375040QzPXlB","pointerover","97525dGfVjU"];return Wf=function(){return i},Wf()}const Jn=ws;(function(i,e){const t=ws,n=i();for(;;)try{if(parseInt(t(302))/1+-parseInt(t(272))/2+-parseInt(t(324))/3+-parseInt(t(308))/4*(parseInt(t(296))/5)+-parseInt(t(293))/6+-parseInt(t(300))/7+parseInt(t(306))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})($f,508314);function $f(){const i=["13224RBQetJ","defaultPrevented","clientY","TOUCHMOVE","isMouseActionButton_","getOwnerDocument","SINGLECLICK","dispatchEvent","pointerId","isMoving_","activePointers_","abs","getRootNode","CLICK","handlePointerDown_","cancelable","393744IZwnaZ","pointerdownListenerKey_","DBLCLICK","target","handleTouchMove_","originalPointerMoveEvent_","796150sHDUZw","POINTERCANCEL","POINTERDRAG","dragging_","moveTolerance_","handlePointerMove_","relayedListenerKey_","type","POINTERUP","updateActivePointers_","getViewport","boundHandleTouchMove_","clickTimeoutId_","clientX","down_","trackedTouches_","emulateClicks_","POINTERMOVE","element_","POINTERDOWN","bind","4166754KKPvsf","button","forEach","905gSwlHb","length","handlePointerUp_","relayMoveEvent_","630693IclJwu","map_","884779LFDTwW","disposeInternal","defineProperty","dragListenerKeys_","12286416qWkgjd","push"];return $f=function(){return i},$f()}function ws(i,e){const t=$f();return ws=function(n,r){return n=n-269,t[n]},ws(i,e)}class hv extends gx{constructor(e,t){const n=ws;super(e),this[n(301)]=e,this[n(284)],this[n(288)]=!1,this[n(275)]=!1,this.dragListenerKeys_=[],this[n(276)]=t===void 0?1:t,this[n(286)]=null;const r=this.map_[n(282)]();this[n(318)]=[],this.trackedTouches_={},this[n(290)]=r,this[n(325)]=wt(r,bI.POINTERDOWN,this[n(322)],this),this[n(271)],this[n(278)]=wt(r,bI.POINTERMOVE,this[n(299)],this),this[n(283)]=this[n(270)][n(292)](this),this[n(290)].addEventListener(rt[n(311)],this[n(283)],JE?{passive:!1}:!1)}emulateClick_(e){const t=ws;let n=new Q0(Se[t(321)],this[t(301)],e);this[t(315)](n),this[t(284)]!==void 0?(clearTimeout(this[t(284)]),this.clickTimeoutId_=void 0,n=new Q0(Se[t(326)],this.map_,e),this.dispatchEvent(n)):this[t(284)]=setTimeout(()=>{const r=t;this[r(284)]=void 0;const s=new Q0(Se[r(314)],this[r(301)],e);this[r(315)](s)},250)}updateActivePointers_(e){const t=ws,n=e,r=n[t(316)];if(n.type==Se[t(280)]||n[t(279)]==Se[t(273)]){delete this[t(287)][r];for(const s in this[t(287)])if(this[t(287)][s].target!==n[t(269)]){delete this[t(287)][s];break}}else(n[t(279)]==Se[t(291)]||n[t(279)]==Se.POINTERMOVE)&&(this[t(287)][r]=n);this[t(318)]=Object.values(this.trackedTouches_)}[Jn(298)](e){const t=Jn;this.updateActivePointers_(e);const n=new Q0(Se.POINTERUP,this[t(301)],e,void 0,void 0,this.activePointers_);this[t(315)](n),this.emulateClicks_&&!n[t(309)]&&!this[t(275)]&&this[t(312)](e)&&this.emulateClick_(this[t(286)]),this[t(318)][t(297)]===0&&(this.dragListenerKeys_[t(295)](Wt),this[t(305)][t(297)]=0,this[t(275)]=!1,this[t(286)]=null)}isMouseActionButton_(e){return e[Jn(294)]===0}[Jn(322)](e){const t=Jn;this.emulateClicks_=this[t(318)][t(297)]===0,this[t(281)](e);const n=new Q0(Se.POINTERDOWN,this[t(301)],e,void 0,void 0,this[t(318)]);if(this.dispatchEvent(n),this[t(286)]=new PointerEvent(e[t(279)],e),Object[t(304)](this[t(286)],"target",{writable:!1,value:e[t(269)]}),this[t(305)][t(297)]===0){const r=this[t(301)][t(313)]();this[t(305)][t(307)](wt(r,Se[t(289)],this[t(277)],this),wt(r,Se[t(280)],this[t(298)],this),wt(this[t(290)],Se[t(273)],this.handlePointerUp_,this)),this.element_[t(320)]&&this[t(290)][t(320)]()!==r&&this[t(305)][t(307)](wt(this[t(290)][t(320)](),Se[t(280)],this[t(298)],this))}}[Jn(277)](e){const t=Jn;if(this.isMoving_(e)){this[t(281)](e),this.dragging_=!0;const n=new Q0(Se[t(274)],this.map_,e,this.dragging_,void 0,this[t(318)]);this.dispatchEvent(n)}}relayMoveEvent_(e){const t=Jn;this[t(271)]=e;const n=!!(this[t(286)]&&this[t(317)](e));this.dispatchEvent(new Q0(Se[t(289)],this[t(301)],e,n))}[Jn(270)](e){const t=Jn,n=this[t(271)];(!n||n[t(309)])&&(typeof e[t(323)]!="boolean"||e.cancelable===!0)&&e.preventDefault()}[Jn(317)](e){const t=Jn;return this.dragging_||Math[t(319)](e[t(285)]-this[t(286)][t(285)])>this[t(276)]||Math[t(319)](e[t(310)]-this[t(286)][t(310)])>this.moveTolerance_}[Jn(303)](){const e=Jn;this[e(278)]&&(Wt(this[e(278)]),this.relayedListenerKey_=null),this.element_.removeEventListener(rt[e(311)],this.boundHandleTouchMove_),this[e(325)]&&(Wt(this[e(325)]),this[e(325)]=null),this[e(305)][e(295)](Wt),this[e(305)].length=0,this[e(290)]=null,super[e(303)]()}}var td=ed;function ed(i,e){var t=nd();return ed=function(n,r){n=n-249;var s=t[n];return s},ed(i,e)}function nd(){var i=["18508TcxsCk","moveend","movestart","37809jCPPzu","24546XwKhqg","1730modElR","loadstart","postrender","2424sfEkgq","498841qKmuDN","3819725vFnbSj","2BEAtjz","16aFvosX","461517RlEjOG","24395019RwhlpJ"];return nd=function(){return i},nd()}(function(i,e){for(var t=ed,n=i();;)try{var r=parseInt(t(259))/1*(-parseInt(t(261))/2)+parseInt(t(263))/3*(-parseInt(t(262))/4)+-parseInt(t(260))/5+-parseInt(t(254))/6+-parseInt(t(250))/7*(-parseInt(t(258))/8)+-parseInt(t(253))/9*(parseInt(t(255))/10)+parseInt(t(249))/11;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(nd,409855);const R0={POSTRENDER:td(257),MOVESTART:td(252),MOVEEND:td(251),LOADSTART:td(256),LOADEND:"loadend"};function id(){var i=["size","3588546RqiaaR","10561AQfoan","43636140ZGxoZC","9TLapSb","180PHcIlk","15500BUufNd","target","415JBTVal","7697628UIBYMV","6687590cfrOHa","9247976ykItBb","layergroup"];return id=function(){return i},id()}var BI=rd;(function(i,e){for(var t=rd,n=i();;)try{var r=parseInt(t(301))/1*(-parseInt(t(304))/2)+-parseInt(t(300))/3+parseInt(t(305))/4*(-parseInt(t(307))/5)+-parseInt(t(308))/6+-parseInt(t(309))/7+parseInt(t(310))/8*(parseInt(t(303))/9)+parseInt(t(302))/10;if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(id,813006);function rd(i,e){var t=id();return rd=function(n,r){n=n-298;var s=t[n];return s},rd(i,e)}const gn={LAYERGROUP:BI(298),SIZE:BI(299),TARGET:BI(306),VIEW:"view"};function Kc(i,e){const t=sd();return Kc=function(n,r){return n=n-448,t[n]},Kc(i,e)}const S0=Kc;(function(i,e){const t=Kc,n=i();for(;;)try{if(parseInt(t(472))/1*(parseInt(t(460))/2)+parseInt(t(475))/3*(parseInt(t(448))/4)+parseInt(t(468))/5+-parseInt(t(464))/6+parseInt(t(473))/7+-parseInt(t(450))/8*(parseInt(t(474))/9)+parseInt(t(455))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(sd,514396);function sd(){const i=["3853310MMxOHO","pointerEvents","style","remove","disposeInternal","4064HdLnQE","string","POSTRENDER","getMap","4671840uYCSnB","setMap","render","element","1466810cNileg","map_","setTarget","target_","248KRYCyh","5332082QTgvBB","9yGZroD","48dTXdhL","40736LRUHVt","length","6514104usWIsI","getElementById","auto","listenerKeys","target"];return sd=function(){return i},sd()}class wI extends Wi{constructor(e){const t=Kc;super();const n=e[t(467)];n&&!e.target&&!n[t(457)][t(456)]&&(n.style[t(456)]=t(452)),this[t(467)]=n||null,this[t(471)]=null,this[t(469)]=null,this[t(453)]=[],e[t(466)]&&(this[t(466)]=e[t(466)]),e[t(454)]&&this.setTarget(e.target)}[S0(459)](){var t;const e=S0;(t=this[e(467)])==null||t.remove(),super[e(459)]()}[S0(463)](){return this.map_}[S0(465)](e){var n;const t=S0;this[t(469)]&&((n=this[t(467)])==null||n[t(458)]());for(let r=0,s=this[t(453)][t(449)];r<s;++r)Wt(this[t(453)][r]);this.listenerKeys[t(449)]=0,this[t(469)]=e,e&&((this[t(471)]??e.getOverlayContainerStopEvent()).appendChild(this[t(467)]),this[t(466)]!==oo&&this[t(453)].push(wt(e,R0[t(462)],this[t(466)],this)),e[t(466)]())}[S0(466)](e){}[S0(470)](e){const t=S0;this[t(471)]=typeof e===t(461)?document[t(451)](e):e}}const on=Xc;(function(i,e){const t=Xc,n=i();for(;;)try{if(parseInt(t(412))/1*(-parseInt(t(408))/2)+parseInt(t(390))/3*(-parseInt(t(383))/4)+-parseInt(t(415))/5*(-parseInt(t(435))/6)+parseInt(t(391))/7*(parseInt(t(418))/8)+-parseInt(t(440))/9*(parseInt(t(438))/10)+parseInt(t(370))/11*(parseInt(t(395))/12)+parseInt(t(416))/13*(parseInt(t(396))/14)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(od,522016);class fv extends wI{constructor(e){const t=Xc;e=e||{},super({element:document[t(400)](t(398)),render:e[t(441)],target:e[t(377)]}),this[t(378)]=document[t(400)]("ul"),this[t(417)]=e.collapsed!==void 0?e[t(407)]:!0,this[t(423)]=this[t(417)],this[t(368)]=e[t(419)]!==void 0,this[t(381)]=e[t(419)]!==void 0?e[t(419)]:!0,!this.collapsible_&&(this[t(417)]=!1),this[t(444)]=e[t(382)];const n=e[t(425)]!==void 0?e.className:t(386),r=e[t(392)]!==void 0?e.tipLabel:t(422),s=e[t(401)]!==void 0?e[t(401)]:n+"-expand",o=e[t(426)]!==void 0?e[t(426)]:"›",a=e[t(384)]!==void 0?e[t(384)]:n+t(420);typeof o===t(367)?(this[t(372)]=document[t(400)](t(388)),this.collapseLabel_[t(429)]=o,this[t(372)][t(425)]=a):this.collapseLabel_=o;const c=e[t(443)]!==void 0?e[t(443)]:"i";typeof c===t(367)?(this.label_=document.createElement(t(388)),this[t(428)][t(429)]=c,this[t(428)][t(425)]=s):this[t(428)]=c;const x=this[t(381)]&&!this.collapsed_?this[t(372)]:this.label_;this[t(373)]=document[t(400)]("button"),this[t(373)].setAttribute(t(430),t(436)),this[t(373)].setAttribute("aria-expanded",String(!this.collapsed_)),this[t(373)].title=r,this.toggleButton_[t(431)](x),this.toggleButton_[t(369)](rt[t(405)],this[t(442)].bind(this),!1);const A=n+" "+l1+" "+tp+(this[t(417)]&&this[t(381)]?" "+$E:"")+(this[t(381)]?"":t(433)),l=this.element;l.className=A,l[t(431)](this[t(373)]),l[t(431)](this.ulElement_),this[t(411)]=[],this[t(424)]=!0}[on(445)](e){const t=on,n=this[t(397)]().getAllLayers(),r=new Set(n[t(402)](s=>s.getAttributions(e)));if(this[t(444)]!==void 0&&(Array[t(379)](this.attributions_)?this[t(444)][t(371)](s=>r[t(374)](s)):r[t(374)](this[t(444)])),!this.overrideCollapsible_){const s=!n[t(439)](o=>{var a;return((a=o.getSource())==null?void 0:a.getAttributionsCollapsible())===!1});this.setCollapsible(s)}return Array[t(380)](r)}async updateElement_(e){const t=on;if(!e){this[t(424)]&&(this[t(409)][t(393)][t(432)]=t(437),this.renderedVisible_=!1);return}const n=await Promise[t(421)](this[t(445)](e)[t(389)](s=>ao(()=>s))),r=n.length>0;if(this[t(424)]!=r&&(this.element.style.display=r?"":t(437),this[t(424)]=r),!o0(n,this.renderedAttributions_)){Tw(this[t(378)]);for(let s=0,o=n[t(394)];s<o;++s){const a=document[t(400)]("li");a[t(375)]=n[s],this[t(378)][t(431)](a)}this.renderedAttributions_=n}}[on(442)](e){const t=on;e[t(410)](),this.handleToggle_(),this[t(423)]=this[t(417)]}[on(366)](){const e=on;this[e(409)][e(399)][e(406)]($E),this[e(417)]?KE(this[e(372)],this[e(428)]):KE(this[e(428)],this.collapseLabel_),this[e(417)]=!this[e(417)],this[e(373)][e(404)](e(403),String(!this[e(417)]))}[on(427)](){return this[on(381)]}[on(413)](e){const t=on;this[t(381)]!==e&&(this[t(381)]=e,this[t(409)][t(399)][t(406)](t(414)),this[t(423)]&&this[t(366)]())}[on(434)](e){const t=on;this.userCollapsed_=e,!(!this.collapsible_||this[t(417)]===e)&&this[t(366)]()}[on(376)](){return this[on(417)]}[on(441)](e){const t=on;this[t(385)](e[t(387)])}}function Xc(i,e){const t=od();return Xc=function(n,r){return n=n-366,t[n]},Xc(i,e)}function od(){const i=["6eTxZLT","element","preventDefault","renderedAttributions_","88966uqeALt","setCollapsible","ol-uncollapsible","1560cfYics","65lyuGEZ","collapsed_","8yLwDcg","collapsible","-collapse","all","Attributions","userCollapsed_","renderedVisible_","className","collapseLabel","getCollapsible","label_","textContent","type","appendChild","display"," ol-uncollapsible","setCollapsed","3984kZjspp","button","none","4696270QFhsrl","some","9xIutQi","render","handleClick_","label","attributions_","collectSourceAttributions_","handleToggle_","string","overrideCollapsible_","addEventListener","11pulaNh","forEach","collapseLabel_","toggleButton_","add","innerHTML","getCollapsed","target","ulElement_","isArray","from","collapsible_","attributions","241828tjHGQm","collapseClassName","updateElement_","ol-attribution","frameState","span","map","39txPRFp","5753307nYiDpN","tipLabel","style","length","7614696SskRGx","1066394ZofsCO","getMap","div","classList","createElement","expandClassName","flatMap","aria-expanded","setAttribute","CLICK","toggle","collapsed"];return od=function(){return i},od()}const Zc=Wc;(function(i,e){const t=Wc,n=i();for(;;)try{if(parseInt(t(502))/1*(parseInt(t(540))/2)+parseInt(t(526))/3*(-parseInt(t(528))/4)+parseInt(t(492))/5+parseInt(t(538))/6+parseInt(t(532))/7*(-parseInt(t(535))/8)+-parseInt(t(530))/9+-parseInt(t(503))/10*(-parseInt(t(539))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ad,391113);function Wc(i,e){const t=ad();return Wc=function(n,r){return n=n-492,t[n]},Wc(i,e)}function ad(){const i=["classList","duration","rotation","tipLabel","1343340mDcXjl","label","ol-compass","element","remove","resetNorth","autoHide_","bind","setRotation","ol-rotate","1CJfaxU","464570pZVFTY","Reset rotation","add","rotate(","textContent","setAttribute","viewState","contains","duration_","appendChild","target","createElement","getRotation","rotation_","resetNorth_","button","frameState","rad)","transform","animate","span","addEventListener","-reset","3OEWnuL","render","796084lKPJKx","callResetNorth_","5759424nyKoAx","handleClick_","7rgTZHa","div","string","956896xpKJZK","autoHide","className","1838982YzTYwD","55FQlUFI","1084464eYsolW","compassClassName","label_","title"];return ad=function(){return i},ad()}class dv extends wI{constructor(e){const t=Wc;e=e||{},super({element:document[t(514)](t(533)),render:e[t(527)],target:e[t(513)]});const n=e[t(537)]!==void 0?e[t(537)]:t(501),r=e[t(493)]!==void 0?e.label:"⇧",s=e[t(541)]!==void 0?e.compassClassName:t(494);this[t(542)]=null,typeof r===t(534)?(this.label_=document.createElement(t(523)),this[t(542)][t(537)]=s,this[t(542)][t(507)]=r):(this[t(542)]=r,this.label_[t(544)].add(s));const o=e.tipLabel?e[t(547)]:t(504),a=document[t(514)](t(518));a[t(537)]=n+t(525),a[t(508)]("type",t(518)),a[t(543)]=o,a.appendChild(this[t(542)]),a[t(524)](rt.CLICK,this[t(531)][t(499)](this),!1);const c=n+" "+l1+" "+tp,x=this[t(495)];x[t(537)]=c,x[t(512)](a),this[t(529)]=e[t(497)]?e[t(497)]:void 0,this[t(511)]=e[t(545)]!==void 0?e[t(545)]:250,this[t(498)]=e[t(536)]!==void 0?e.autoHide:!0,this[t(516)]=void 0,this.autoHide_&&this[t(495)][t(544)][t(505)](c1)}[Zc(531)](e){const t=Zc;e.preventDefault(),this.callResetNorth_!==void 0?this[t(529)]():this[t(517)]()}[Zc(517)](){const e=Zc,t=this.getMap(),n=t.getView();if(!n)return;const r=n[e(515)]();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n[e(522)]({rotation:0,duration:this[e(511)],easing:yo}):n[e(500)](0))}render(e){const t=Zc,n=e[t(519)];if(!n)return;const r=n[t(509)][t(546)];if(r!=this[t(516)]){const s=t(506)+r+t(520);if(this[t(498)]){const o=this.element[t(544)][t(510)](c1);!o&&r===0?this[t(495)][t(544)][t(505)](c1):o&&r!==0&&this[t(495)][t(544)][t(496)](c1)}this[t(542)].style[t(521)]=s}this.rotation_=r}}function $c(i,e){const t=cd();return $c=function(n,r){return n=n-241,t[n]},$c(i,e)}const xd=$c;(function(i,e){const t=$c,n=i();for(;;)try{if(-parseInt(t(264))/1+-parseInt(t(247))/2+-parseInt(t(280))/3*(-parseInt(t(269))/4)+-parseInt(t(273))/5+parseInt(t(259))/6*(-parseInt(t(279))/7)+-parseInt(t(267))/8+parseInt(t(272))/9===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(cd,267219);class gv extends wI{constructor(e){const t=$c;e=e||{},super({element:document.createElement(t(265)),target:e.target});const n=e[t(257)]!==void 0?e[t(257)]:t(242),r=e[t(251)]!==void 0?e[t(251)]:1,s=e[t(243)]!==void 0?e[t(243)]:n+t(271),o=e[t(262)]!==void 0?e[t(262)]:n+t(274),a=e[t(249)]!==void 0?e.zoomInLabel:"+",c=e[t(278)]!==void 0?e[t(278)]:"–",x=e[t(250)]!==void 0?e[t(250)]:t(268),A=e[t(244)]!==void 0?e[t(244)]:t(277),l=document[t(266)](t(263));l.className=s,l[t(261)](t(275),t(263)),l[t(281)]=x,l[t(258)](typeof a===t(252)?document[t(255)](a):a),l[t(246)](rt[t(241)],this.handleClick_.bind(this,r),!1);const u=document.createElement("button");u.className=o,u[t(261)](t(275),t(263)),u[t(281)]=A,u[t(258)](typeof c===t(252)?document.createTextNode(c):c),u[t(246)](rt[t(241)],this[t(254)].bind(this,-r),!1);const h=n+" "+l1+" "+tp,f=this.element;f.className=h,f[t(258)](l),f[t(258)](u),this[t(256)]=e[t(253)]!==void 0?e.duration:250}[xd(254)](e,t){const n=xd;t.preventDefault(),this[n(270)](e)}[xd(270)](e){const t=xd,n=this.getMap(),r=n[t(276)]();if(!r)return;const s=r[t(248)]();if(s!==void 0){const o=r[t(260)](s+e);this[t(256)]>0?(r.getAnimating()&&r[t(245)](),r.animate({zoom:o,duration:this[t(256)],easing:yo})):r.setZoom(o)}}}function cd(){const i=["className","appendChild","2399226elHNHK","getConstrainedZoom","setAttribute","zoomOutClassName","button","526017SbFDUc","div","createElement","254992zFljiF","Zoom in","262204CNftBv","zoomByDelta_","-in","9318672tfbxQF","195255ajCHLo","-out","type","getView","Zoom out","zoomOutLabel","7tMiwjb","21BwMLXT","title","CLICK","ol-zoom","zoomInClassName","zoomOutTipLabel","cancelAnimations","addEventListener","460466KRzzcd","getZoom","zoomInLabel","zoomInTipLabel","delta","string","duration","handleClick_","createTextNode","duration_"];return cd=function(){return i},cd()}function Ad(){const i=["zoomOptions","18117340YkPrmZ","zoom","attribution","63145rCECEP","9133EQAGra","20HOWSrQ","6991145rCyYEU","push","3590192TPhFfQ","143096mzEuZV","rotate","rotateOptions","attributionOptions","2899686LCFAfG","369Flrhvx","246fxFRwm"];return Ad=function(){return i},Ad()}(function(i,e){const t=ld,n=i();for(;;)try{if(parseInt(t(462))/1*(parseInt(t(463))/2)+-parseInt(t(454))/3+parseInt(t(466))/4+parseInt(t(461))/5*(parseInt(t(456))/6)+-parseInt(t(464))/7+-parseInt(t(450))/8*(parseInt(t(455))/9)+parseInt(t(458))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ad,619737);function ld(i,e){const t=Ad();return ld=function(n,r){return n=n-450,t[n]},ld(i,e)}function pv(i){const e=ld;i=i||{};const t=new sr;return(i.zoom!==void 0?i[e(459)]:!0)&&t.push(new gv(i[e(457)])),(i[e(451)]!==void 0?i[e(451)]:!0)&&t[e(465)](new dv(i[e(452)])),(i[e(460)]!==void 0?i[e(460)]:!0)&&t.push(new fv(i[e(453)])),t}var Iv=hd;(function(i,e){for(var t=hd,n=i();;)try{var r=-parseInt(t(253))/1*(parseInt(t(254))/2)+-parseInt(t(249))/3*(parseInt(t(246))/4)+parseInt(t(250))/5+-parseInt(t(248))/6*(parseInt(t(244))/7)+parseInt(t(245))/8*(parseInt(t(252))/9)+parseInt(t(247))/10+-parseInt(t(251))/11*(-parseInt(t(242))/12);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(ud,194207);function ud(){var i=["61561iucLmv","12WJzjPq","2580KMgvaV","active","633437wQBZtC","8TCLBWl","266324hfibuW","2897340QMbgQZ","18KUoHAh","3oQizsy","1678015huGCjz","2827cPFyqt","1989315ElQLpB"];return ud=function(){return i},ud()}function hd(i,e){var t=ud();return hd=function(n,r){n=n-242;var s=t[n];return s},hd(i,e)}const f3={ACTIVE:Iv(243)},Qs=la;function la(i,e){const t=fd();return la=function(n,r){return n=n-392,t[n]},la(i,e)}(function(i,e){const t=la,n=i();for(;;)try{if(parseInt(t(407))/1*(parseInt(t(405))/2)+parseInt(t(419))/3*(-parseInt(t(406))/4)+parseInt(t(392))/5+-parseInt(t(399))/6*(-parseInt(t(396))/7)+-parseInt(t(404))/8+-parseInt(t(409))/9+-parseInt(t(401))/10*(-parseInt(t(398))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(fd,451484);class tA extends Wi{constructor(e){const t=la;super(),this.on,this[t(410)],this.un,e&&e[t(403)]&&(this[t(403)]=e[t(403)]),this[t(400)]=null,this[t(417)](!0)}getActive(){const e=la;return this[e(408)](f3[e(412)])}[Qs(397)](){return this[Qs(400)]}[Qs(403)](e){return!0}setActive(e){const t=Qs;this[t(416)](f3[t(412)],e)}[Qs(414)](e){this.map_=e}}function fd(){const i=["229107SFTFPP","1427525uiQzNe","animateInternal","getConstrainedZoom","getCenterInternal","7OXLKPq","getMap","187TBwFsA","84048vZKyPe","map_","617930eEbwqq","cancelAnimations","handleEvent","1595248mJKwrx","6VSGZGc","28cocNfI","23059kgWtMi","get","2103282JDmAUS","once","getConstrainedCenter","ACTIVE","animate","setMap","getZoom","set","setActive","getResolutionForZoom"];return fd=function(){return i},fd()}function _v(i,e,t){const n=Qs,r=i[n(395)]();if(r){const s=[r[0]+e[0],r[1]+e[1]];i[n(393)]({duration:t!==void 0?t:250,easing:u6,center:i[n(411)](s)})}}function QI(i,e,t,n){const r=Qs,s=i[r(415)]();if(s===void 0)return;const o=i[r(394)](s+e),a=i[r(418)](o);i.getAnimating()&&i[r(402)](),i[r(413)]({resolution:a,anchor:t,duration:n!==void 0?n:250,easing:yo})}(function(i,e){const t=eA,n=i();for(;;)try{if(parseInt(t(268))/1*(parseInt(t(262))/2)+parseInt(t(265))/3+parseInt(t(260))/4+-parseInt(t(273))/5*(-parseInt(t(272))/6)+-parseInt(t(259))/7+parseInt(t(263))/8*(parseInt(t(275))/9)+-parseInt(t(266))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(dd,972506);function eA(i,e){const t=dd();return eA=function(n,r){return n=n-259,t[n]},eA(i,e)}class mv extends tA{constructor(e){const t=eA;super(),e=e||{},this.delta_=e[t(270)]?e[t(270)]:1,this.duration_=e[t(276)]!==void 0?e[t(276)]:250}handleEvent(e){const t=eA;let n=!1;if(e[t(261)]==Se.DBLCLICK){const r=e[t(267)],s=e[t(274)],o=e[t(277)],a=r[t(269)]?-this.delta_:this[t(271)],c=s.getView();QI(c,a,o,this.duration_),r[t(264)](),n=!0}return!n}}function dd(){const i=["duration","coordinate","6336134GfFOTu","5306716hepUxc","type","52396UMETPh","58328GDhzjN","preventDefault","5722599nDYTZm","33673890ZcYpbz","originalEvent","52kGvDHM","shiftKey","delta","delta_","30NRimbh","181925XMCVfz","map","576DMhsRh"];return dd=function(){return i},dd()}const Pr=ua;(function(i,e){const t=ua,n=i();for(;;)try{if(-parseInt(t(224))/1+parseInt(t(209))/2*(-parseInt(t(228))/3)+-parseInt(t(225))/4+parseInt(t(220))/5+-parseInt(t(214))/6*(-parseInt(t(208))/7)+parseInt(t(218))/8*(-parseInt(t(230))/9)+parseInt(t(210))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(gd,343674);function ua(i,e){const t=gd();return ua=function(n,r){return n=n-203,t[n]},ua(i,e)}function gd(){const i=["originalEvent","POINTERMOVE","length","750088DAWfPx","POINTERDRAG","3067750hNZmzi","stopDown","handleDragEvent","handleDownEvent","569447Ncrzus","1588704sRXqbA","POINTERUP","targetPointers","3hyAcrb","handlingDownUpSequence","9dDUcqY","handleUpEvent","POINTERDOWN","type","activePointers","updateTrackedPointers_","handleMoveEvent","2121182GFhhvL","882902cXjcJy","9289330qEEsjh","handleEvent","preventDefault","clientX","6MYOGiR"];return gd=function(){return i},gd()}class nA extends tA{constructor(e){const t=ua;e=e||{},super(e),e[t(223)]&&(this.handleDownEvent=e[t(223)]),e[t(222)]&&(this[t(222)]=e[t(222)]),e[t(207)]&&(this[t(207)]=e[t(207)]),e[t(231)]&&(this[t(231)]=e[t(231)]),e[t(221)]&&(this[t(221)]=e.stopDown),this[t(229)]=!1,this[t(227)]=[]}getPointerCount(){const e=ua;return this[e(227)][e(217)]}[Pr(223)](e){return!1}handleDragEvent(e){}[Pr(211)](e){const t=Pr;if(!e[t(215)])return!0;let n=!1;if(this[t(206)](e),this[t(229)]){if(e.type==Se[t(219)])this[t(222)](e),e[t(215)][t(212)]();else if(e.type==Se[t(226)]){const r=this[t(231)](e);this[t(229)]=r&&this[t(227)][t(217)]>0}}else if(e[t(204)]==Se[t(203)]){const r=this.handleDownEvent(e);this[t(229)]=r,n=this[t(221)](r)}else e[t(204)]==Se[t(216)]&&this[t(207)](e);return!n}[Pr(207)](e){}[Pr(231)](e){return!1}[Pr(221)](e){return e}[Pr(206)](e){const t=Pr;e[t(205)]&&(this[t(227)]=e.activePointers)}}function vI(i){const e=Pr,t=i[e(217)];let n=0,r=0;for(let s=0;s<t;s++)n+=i[s][e(213)],r+=i[s].clientY;return{clientX:n/t,clientY:r/t}}(function(i,e){const t=Kn,n=i();for(;;)try{if(parseInt(t(537))/1*(parseInt(t(504))/2)+parseInt(t(530))/3+-parseInt(t(516))/4*(parseInt(t(505))/5)+-parseInt(t(513))/6+parseInt(t(535))/7*(parseInt(t(500))/8)+-parseInt(t(502))/9*(-parseInt(t(518))/10)+-parseInt(t(532))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(pd,410918);function pd(){const i=["429725YDGSlU","hasAttribute","host","CLICK","type","length","pointermove","altKey","2516712IyJJtq","map","ctrlKey","20BXWfrN","pen","374030Wlherb","getRootNode","isContentEditable","tabindex","pointerType","mapBrowserEvent must originate from a pointer event","target","metaKey","INPUT","tagName","SELECT","TEXTAREA","2301564wxFftz","mouse","2445245qrbImt","touch","getOwnerDocument","13762CSazkS","getTargetElement","134dObkGW","1192mcsHGZ","shiftKey","18WUZulF","originalEvent","5186DWqFsj"];return pd=function(){return i},pd()}function RI(i){const e=arguments;return function(t){const n=Kn;let r=!0;for(let s=0,o=e[n(510)];s<o&&(r=r&&e[s](t),!!r);++s);return r}}const Ev=function(i){const e=Kn,t=i[e(503)];return t[e(512)]&&!(t[e(525)]||t[e(515)])&&t[e(501)]},yv=function(i){const e=Kn,t=i[e(514)][e(536)](),n=t[e(519)](),r=i[e(514)][e(534)]().activeElement;return n instanceof ShadowRoot?n[e(507)].contains(r):t.contains(r)},d3=function(i){const e=Kn,t=i.map[e(536)](),n=t[e(519)]();return(n instanceof ShadowRoot?n[e(507)]:t)[e(506)](e(521))?yv(i):!0},Cv=fx,g3=function(i){const e=Kn,t=i.originalEvent;return t.button==0&&!(Fw&&HE&&t[e(515)])},p3=function(i){const e=Kn,t=i[e(503)];return!t.altKey&&!(t[e(525)]||t[e(515)])&&!t[e(501)]};function Kn(i,e){const t=pd();return Kn=function(n,r){return n=n-500,t[n]},Kn(i,e)}const bv=function(i){const e=Kn,t=i[e(503)];return HE?t.metaKey:t[e(515)]},Bv=function(i){const e=Kn,t=i[e(503)];return!t[e(512)]&&!(t[e(525)]||t[e(515)])&&t[e(501)]},I3=function(i){const e=Kn,t=i[e(503)],n=t[e(524)][e(527)];return n!==e(526)&&n!==e(528)&&n!==e(529)&&!t[e(524)][e(520)]},SI=function(i){const e=Kn,t=i[e(503)];return Qt(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t[e(522)]==e(531)},wv=function(i){const e=Kn,t=i[e(503)];return Qt(t!==void 0,e(523)),t.isPrimary&&t.button===0};function Id(){const i=["lastCentroid","20tonzNf","endInteraction","condition_","1640408WEZlNq","originalEvent","kinetic_","handleDragEvent","9BiVeqX","onFocusOnly","begin","targetPointers","22bUeJvI","sin","293502iGtkOW","preventDefault","getView","getDistance","4jHoVpq","6IhODoT","cancelAnimations","cos","update","getConstrainedCenter","606685gToeME","kinetic","handleDownEvent","2325850whTprN","27427NixubP","handleUpEvent","getEventPixel","getCenterInternal","725536Tudvdo","panning_","adjustCenterInternal","noKinetic_","condition","map","6904500MCHETZ","length","lastPointersCount_"];return Id=function(){return i},Id()}const ha=iA;(function(i,e){const t=iA,n=i();for(;;)try{if(parseInt(t(161))/1*(parseInt(t(151))/2)+parseInt(t(147))/3*(-parseInt(t(134))/4)+-parseInt(t(157))/5*(parseInt(t(152))/6)+parseInt(t(124))/7+-parseInt(t(137))/8+-parseInt(t(141))/9*(parseInt(t(160))/10)+-parseInt(t(145))/11*(-parseInt(t(130))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Id,261109);function iA(i,e){const t=Id();return iA=function(n,r){return n=n-122,t[n]},iA(i,e)}class Qv extends nA{constructor(e){const t=iA;super({stopDown:Vl}),e=e||{},this[t(139)]=e[t(158)],this.lastCentroid=null,this[t(132)],this.panning_=!1;const n=e[t(128)]?e[t(128)]:RI(p3,wv);this[t(136)]=e[t(142)]?RI(d3,n):n,this[t(127)]=!1}[ha(140)](e){const t=ha,n=e[t(129)];!this[t(125)]&&(this.panning_=!0,n[t(149)]().beginInteraction());const r=this[t(144)],s=n[t(122)](vI(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_[t(155)](s[0],s[1]),this[t(133)]){const o=[this[t(133)][0]-s[0],s[1]-this[t(133)][1]],a=e.map,c=a[t(149)]();uw(o,c.getResolution()),k2(o,c.getRotation()),c[t(126)](o)}}else this.kinetic_&&this[t(139)][t(143)]();this[t(133)]=s,this[t(132)]=r[t(131)],e[t(138)][t(148)]()}[ha(162)](e){const t=ha,n=e[t(129)],r=n.getView();if(this[t(144)][t(131)]===0){if(!this[t(127)]&&this[t(139)]&&this[t(139)].end()){const s=this[t(139)][t(150)](),o=this[t(139)].getAngle(),a=r[t(123)](),c=n.getPixelFromCoordinateInternal(a),x=n.getCoordinateFromPixelInternal([c[0]-s*Math[t(154)](o),c[1]-s*Math[t(146)](o)]);r.animateInternal({center:r[t(156)](x),duration:500,easing:yo})}return this[t(125)]&&(this[t(125)]=!1,r[t(135)]()),!1}return this[t(139)]&&this[t(139)][t(143)](),this.lastCentroid=null,!0}[ha(159)](e){const t=ha;if(this.targetPointers.length>0&&this[t(136)](e)){const n=e[t(129)],r=n[t(149)]();return this[t(133)]=null,r.getAnimating()&&r[t(153)](),this[t(139)]&&this[t(139)][t(143)](),this[t(127)]=this[t(144)][t(131)]>1,!0}return!1}}const fa=rA;function _d(){const i=["getView","2188698nONBgd","pixel","beginInteraction","handleDownEvent","adjustRotationInternal","882150UHxwmL","lastAngle_","duration","map","45ruQtJQ","14654321ZmkBej","getSize","51861GdMpUa","handleUpEvent","7dMSOMQ","76LGsEkn","getConstraints","1JTIUzo","2187180fsTFwJ","condition_","1957152gbZYWb","handleDragEvent","condition","5331584sGLugp","endInteraction"];return _d=function(){return i},_d()}(function(i,e){const t=rA,n=i();for(;;)try{if(-parseInt(t(399))/1*(-parseInt(t(382))/2)+parseInt(t(394))/3*(parseInt(t(397))/4)+parseInt(t(374))/5+-parseInt(t(376))/6*(-parseInt(t(396))/7)+-parseInt(t(379))/8+-parseInt(t(391))/9*(-parseInt(t(387))/10)+-parseInt(t(392))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(_d,628846);function rA(i,e){const t=_d();return rA=function(n,r){return n=n-374,t[n]},rA(i,e)}class vv extends nA{constructor(e){const t=rA;e=e||{},super({stopDown:Vl}),this.condition_=e.condition?e[t(378)]:Ev,this[t(388)]=void 0,this.duration_=e.duration!==void 0?e[t(389)]:250}[fa(377)](e){const t=fa;if(!SI(e))return;const n=e[t(390)],r=n[t(381)]();if(r[t(398)]().rotation===gp)return;const s=n[t(393)](),o=e[t(383)],a=Math.atan2(s[1]/2-o[1],o[0]-s[0]/2);if(this[t(388)]!==void 0){const c=a-this[t(388)];r[t(386)](-c)}this[t(388)]=a}[fa(395)](e){const t=fa;return SI(e)?(e.map[t(381)]()[t(380)](this.duration_),!1):!0}[fa(385)](e){const t=fa;return SI(e)&&g3(e)&&this[t(375)](e)?(e[t(390)][t(381)]()[t(384)](),this[t(388)]=void 0,!0):!1}}const cr=sA;function sA(i,e){const t=md();return sA=function(n,r){return n=n-385,t[n]},sA(i,e)}(function(i,e){const t=sA,n=i();for(;;)try{if(-parseInt(t(397))/1*(-parseInt(t(422))/2)+-parseInt(t(408))/3+-parseInt(t(421))/4+parseInt(t(412))/5*(-parseInt(t(390))/6)+-parseInt(t(416))/7*(parseInt(t(391))/8)+-parseInt(t(413))/9+-parseInt(t(404))/10*(-parseInt(t(426))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(md,167501);function md(){const i=["element_","39619sGExBA","appendChild","disposeInternal","auto","pointerEvents","geometry_","endPixel_","9777820LuXreq","style","getOverlayContainer","createOrUpdateGeometry","818304vYrUpn","render_","getCoordinateFromPixelInternal","abs","85JyFhfl","304290DWAhVA","ol-box ","setPixels","1589889aLWGRR","height","inherit","absolute","div","559116CYvTeK","8JyCyXP","createElement","left","map","11ePpxno","startPixel_","width","setCoordinates","removeChild","map_","104214cEAAmw","8fzEjUd","setMap","top","min","position"];return md=function(){return i},md()}class Rv extends zl{constructor(e){const t=sA;super(),this[t(402)]=null,this[t(396)]=document[t(423)](t(420)),this[t(396)][t(405)][t(395)]=t(419),this[t(396)][t(405)][t(401)]=t(400),this.element_.className=t(414)+e,this.map_=null,this[t(385)]=null,this.endPixel_=null}[cr(399)](){this[cr(392)](null)}[cr(409)](){const e=cr,t=this.startPixel_,n=this[e(403)],r="px",s=this[e(396)][e(405)];s[e(424)]=Math[e(394)](t[0],n[0])+r,s[e(393)]=Math[e(394)](t[1],n[1])+r,s.width=Math[e(411)](n[0]-t[0])+r,s[e(417)]=Math.abs(n[1]-t[1])+r}setMap(e){const t=cr;if(this[t(389)]){this[t(389)][t(406)]()[t(388)](this.element_);const n=this[t(396)][t(405)];n[t(424)]=t(418),n.top=t(418),n[t(386)]=t(418),n[t(417)]=t(418)}this[t(389)]=e,this.map_&&this.map_[t(406)]()[t(398)](this[t(396)])}[cr(415)](e,t){const n=cr;this[n(385)]=e,this[n(403)]=t,this[n(407)](),this[n(409)]()}[cr(407)](){const e=cr;if(!this[e(389)])return;const t=this[e(385)],n=this.endPixel_,r=[t,[t[0],n[1]],n,[n[0],t[1]]],s=r[e(425)](this.map_[e(410)],this[e(389)]);s[4]=s[0].slice(),this[e(402)]?this[e(402)][e(387)]([s]):this[e(402)]=new vo([s])}getGeometry(){return this[cr(402)]}}const Ke=Ed;(function(i,e){const t=Ed,n=i();for(;;)try{if(-parseInt(t(262))/1+parseInt(t(283))/2*(parseInt(t(299))/3)+parseInt(t(270))/4*(-parseInt(t(280))/5)+parseInt(t(294))/6*(parseInt(t(278))/7)+parseInt(t(290))/8+-parseInt(t(267))/9*(parseInt(t(264))/10)+parseInt(t(275))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(yd,300980);const da={BOXSTART:"boxstart",BOXDRAG:Ke(261),BOXEND:Ke(277),BOXCANCEL:Ke(295)};function Ed(i,e){const t=yd();return Ed=function(n,r){return n=n-259,t[n]},Ed(i,e)}function yd(){const i=["defaultBoxEndCondition","getGeometry","condition_","coordinate","setActive","4021528mVwQcO","getMap","minArea_","map","444CEjfRo","boxcancel","setPixels","handleDownEvent","BOXDRAG","3WVvzKJ","BOXSTART","dispatchEvent","boxdrag","262995awuZJf","BOXCANCEL","5167090qXLxYW","startPixel_","handleDragEvent","9nlKveE","className","boxEndCondition_","1756lnMoaF","handleUpEvent","minArea","condition","onBoxEnd","2144010TAUDDX","box_","boxend","42154OdVZAa","pixel","1660ggUZJq","ol-dragbox","once","166406HamUnB","setMap"];return yd=function(){return i},yd()}class oA extends di{constructor(e,t,n){const r=Ke;super(e),this[r(288)]=t,this.mapBrowserEvent=n}}class Sv extends nA{constructor(e){const t=Ke;super(),this.on,this[t(282)],this.un,e=e??{},this[t(276)]=new Rv(e[t(268)]||t(281)),this[t(292)]=e[t(272)]??64,e[t(274)]&&(this[t(274)]=e[t(274)]),this[t(265)]=null,this[t(287)]=e[t(273)]??g3,this.boxEndCondition_=e.boxEndCondition??this[t(285)]}defaultBoxEndCondition(e,t,n){const r=Ke,s=n[0]-t[0],o=n[1]-t[1];return s*s+o*o>=this[r(292)]}[Ke(286)](){const e=Ke;return this[e(276)][e(286)]()}[Ke(266)](e){const t=Ke;this.startPixel_&&(this[t(276)][t(296)](this.startPixel_,e[t(279)]),this[t(260)](new oA(da[t(298)],e[t(288)],e)))}[Ke(271)](e){const t=Ke;if(!this[t(265)])return!1;const n=this[t(269)](e,this.startPixel_,e[t(279)]);return n&&this[t(274)](e),this.dispatchEvent(new oA(n?da.BOXEND:da[t(263)],e.coordinate,e)),this[t(276)][t(284)](null),this[t(265)]=null,!1}[Ke(297)](e){const t=Ke;return this[t(287)](e)?(this[t(265)]=e[t(279)],this[t(276)][t(284)](e[t(293)]),this.box_[t(296)](this.startPixel_,this[t(265)]),this[t(260)](new oA(da[t(259)],e.coordinate,e)),!0):!1}onBoxEnd(e){}[Ke(289)](e){const t=Ke;!e&&(this[t(276)][t(284)](null),this.startPixel_&&(this[t(260)](new oA(da[t(263)],this[t(265)],null)),this.startPixel_=null)),super[t(289)](e)}[Ke(284)](e){const t=Ke;this[t(291)]()&&(this[t(276)][t(284)](null),this[t(265)]&&(this[t(260)](new oA(da.BOXCANCEL,this[t(265)],null)),this[t(265)]=null)),super[t(284)](e)}}const _3=aA;(function(i,e){const t=aA,n=i();for(;;)try{if(parseInt(t(475))/1*(parseInt(t(467))/2)+-parseInt(t(477))/3+-parseInt(t(453))/4*(-parseInt(t(455))/5)+-parseInt(t(469))/6*(-parseInt(t(468))/7)+parseInt(t(457))/8+-parseInt(t(452))/9+parseInt(t(470))/10*(-parseInt(t(460))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Cd,712697);function Cd(){const i=["759owjxAK","getGeometry","out_","duration","rotatedExtentForGeometry","className","out","436JGOpxo","7rfzkHv","6371958vGdhId","292220zgSXHf","minArea","getResolutionForExtentInternal","ol-dragzoom","fitInternal","4790Zdovmp","getMap","2628606gBLJyh","condition","851499LcfLbs","66664cJLDpk","getView","145cAUECj","onBoxEnd","8882408zhoTOl","clone","duration_"];return Cd=function(){return i},Cd()}class Dv extends Sv{constructor(e){const t=aA;e=e||{};const n=e[t(451)]?e.condition:Bv;super({condition:n,className:e[t(465)]||t(473),minArea:e[t(471)]}),this[t(459)]=e[t(463)]!==void 0?e[t(463)]:200,this.out_=e.out!==void 0?e[t(466)]:!1}[_3(456)](e){const t=_3,n=this[t(476)](),r=n[t(454)]();let s=this[t(461)]();if(this[t(462)]){const o=r[t(464)](s),a=r[t(472)](o),c=r.getResolution()/a;s=s[t(458)](),s.scale(c*c)}r[t(474)](s,{duration:this[t(459)],easing:yo})}}function aA(i,e){const t=Cd();return aA=function(n,r){return n=n-451,t[n]},aA(i,e)}var bd=wd;function Bd(){var i=["2196632cHrwax","195730zEkiMm","2351847tMvWLi","ArrowRight","153347UuEwme","ArrowDown","ArrowLeft","2554380kznODw","16653VsVMXY","ArrowUp","2488jdGfKD","27684BCMnyT","3366BGlUeE"];return Bd=function(){return i},Bd()}(function(i,e){for(var t=wd,n=i();;)try{var r=parseInt(t(203))/1+parseInt(t(200))/2+parseInt(t(201))/3+parseInt(t(199))/4+-parseInt(t(193))/5+-parseInt(t(198))/6*(parseInt(t(194))/7)+parseInt(t(196))/8*(parseInt(t(197))/9);if(r===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Bd,695460);function wd(i,e){var t=Bd();return wd=function(n,r){n=n-191;var s=t[n];return s},wd(i,e)}const vs={LEFT:bd(192),UP:bd(195),RIGHT:bd(202),DOWN:bd(191)},m3=xA;(function(i,e){const t=xA,n=i();for(;;)try{if(parseInt(t(171))/1*(parseInt(t(155))/2)+parseInt(t(154))/3+-parseInt(t(153))/4*(-parseInt(t(164))/5)+parseInt(t(165))/6+-parseInt(t(161))/7*(parseInt(t(157))/8)+-parseInt(t(167))/9+-parseInt(t(156))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Qd,440057);function xA(i,e){const t=Qd();return xA=function(n,r){return n=n-146,t[n]},xA(i,e)}function Qd(){const i=["13645xlIzca","3727098WVSWrP","handleEvent","2810412tEofbj","duration","defaultCondition_","LEFT","2KpFmRJ","DOWN","pixelDelta_","pixelDelta","KEYDOWN","condition_","key","RIGHT","getView","originalEvent","1180cKUtvh","557271exfBIH","283106mbOkgM","8174120Svktms","208oqKwAQ","condition","getRotation","duration_","87598IkXQgD","getResolution","preventDefault"];return Qd=function(){return i},Qd()}class kv extends tA{constructor(e){const t=xA;super(),e=e||{},this[t(169)]=function(n){return p3(n)&&I3(n)},this[t(148)]=e[t(158)]!==void 0?e[t(158)]:this[t(169)],this[t(160)]=e[t(168)]!==void 0?e[t(168)]:100,this[t(173)]=e[t(146)]!==void 0?e.pixelDelta:128}[m3(166)](e){const t=m3;let n=!1;if(e.type==rt[t(147)]){const r=e[t(152)],s=r[t(149)];if(this[t(148)](e)&&(s==vs.DOWN||s==vs[t(170)]||s==vs[t(150)]||s==vs.UP)){const o=e.map,a=o[t(151)](),c=a[t(162)]()*this[t(173)];let x=0,A=0;s==vs[t(172)]?A=-c:s==vs[t(170)]?x=-c:s==vs[t(150)]?x=c:A=c;const l=[x,A];k2(l,a[t(159)]()),_v(a,l,this[t(160)]),r[t(163)](),n=!0}}return!n}}(function(i,e){const t=cA,n=i();for(;;)try{if(-parseInt(t(326))/1*(-parseInt(t(317))/2)+-parseInt(t(331))/3+-parseInt(t(315))/4+parseInt(t(333))/5*(parseInt(t(322))/6)+parseInt(t(320))/7*(-parseInt(t(321))/8)+-parseInt(t(323))/9*(-parseInt(t(336))/10)+parseInt(t(316))/11*(-parseInt(t(325))/12)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(vd,632391);function cA(i,e){const t=vd();return cA=function(n,r){return n=n-314,t[n]},cA(i,e)}class Mv extends tA{constructor(e){const t=cA;super(),e=e||{},this[t(324)]=e[t(329)]?e[t(329)]:function(n){return!bv(n)&&I3(n)},this[t(327)]=e[t(335)]?e.delta:1,this.duration_=e[t(318)]!==void 0?e[t(318)]:100}handleEvent(e){const t=cA;let n=!1;if(e.type==rt[t(337)]||e.type==rt[t(314)]){const r=e[t(334)],s=r[t(319)];if(this[t(324)](e)&&(s==="+"||s==="-")){const o=e[t(330)],a=s==="+"?this[t(327)]:-this[t(327)],c=o[t(332)]();QI(c,a,void 0,this[t(328)]),r.preventDefault(),n=!0}}return!n}}function vd(){const i=["425283ayXHMx","getView","365IdQaST","originalEvent","delta","490660WZDzxW","KEYDOWN","KEYPRESS","494244IOwoho","2123891GiTmuQ","328WvOoKy","duration","key","401989LGRcRx","120CcUqqC","30102QmKbiY","171RABZEa","condition_","12GFxhwB","3986mkjwUq","delta_","duration_","condition","map"];return vd=function(){return i},vd()}const D0=AA;function AA(i,e){const t=Rd();return AA=function(n,r){return n=n-438,t[n]},AA(i,e)}(function(i,e){const t=AA,n=i();for(;;)try{if(parseInt(t(442))/1*(-parseInt(t(450))/2)+-parseInt(t(438))/3*(parseInt(t(452))/4)+-parseInt(t(447))/5+parseInt(t(460))/6+parseInt(t(451))/7+-parseInt(t(445))/8*(-parseInt(t(456))/9)+parseInt(t(440))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Rd,359616);class Fv{constructor(e,t,n){const r=AA;this[r(459)]=e,this[r(443)]=t,this[r(455)]=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}[D0(454)](){const e=D0;this[e(448)].length=0,this[e(458)]=0,this[e(449)]=0}[D0(441)](e,t){const n=D0;this.points_[n(457)](e,t,Date[n(439)]())}end(){const e=D0;if(this[e(448)].length<6)return!1;const t=Date[e(439)]()-this.delay_,n=this[e(448)][e(446)]-3;if(this[e(448)][n+2]<t)return!1;let r=n-3;for(;r>0&&this[e(448)][r+2]>t;)r-=3;const s=this[e(448)][n+2]-this[e(448)][r+2];if(s<1e3/60)return!1;const o=this[e(448)][n]-this[e(448)][r],a=this[e(448)][n+1]-this[e(448)][r+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math[e(444)](o*o+a*a)/s,this.initialVelocity_>this.minVelocity_}[D0(453)](){const e=D0;return(this[e(443)]-this[e(449)])/this.decay_}getAngle(){return this[D0(458)]}}function Rd(){const i=["6899CwDIcu","minVelocity_","sqrt","8wFmscz","length","2596340jFVqjb","points_","initialVelocity_","200zBMYVq","3859415fbcPwH","4awXIrW","getDistance","begin","delay_","1997073OvWvdH","push","angle_","decay_","111288OWwBYr","897825nxBUmw","now","10762690evjgvA","update"];return Rd=function(){return i},Rd()}function lA(i,e){const t=Sd();return lA=function(n,r){return n=n-471,t[n]},lA(i,e)}const ga=lA;(function(i,e){const t=lA,n=i();for(;;)try{if(-parseInt(t(477))/1+parseInt(t(488))/2+-parseInt(t(479))/3+parseInt(t(521))/4+parseInt(t(473))/5*(-parseInt(t(497))/6)+-parseInt(t(516))/7+parseInt(t(514))/8===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Sd,512293);function Sd(){const i=["getView","adjustZoom","WHEEL","constrainResolution","type","startTime_","originalEvent","getConstrainResolution","lastAnchor_","deltaPerZoom_","9259848nrPXzj","coordinate","4115552hcBTkf","bind","totalDelta_","onFocusOnly","map","603336fToFCp","timeout_","useAnchor","maxDelta","endInteraction_","cancelAnimations","17800ezHquO","duration_","trackpad","setMouseAnchor","897545sYvNLc","getMap","94284HHznge","DOM_DELTA_LINE","constrainResolution_","timeoutId_","condition","timeout","handleWheelZoom_","getAnimating","duration","1555694QKkHLO","mode_","useAnchor_","deltaMode","trackpadEventGap_","DOM_DELTA_PIXEL","preventDefault","maxDelta_","condition_","96BkiZHM","now","beginInteraction","trackpadTimeoutId_","endInteraction","abs","lastDelta_"];return Sd=function(){return i},Sd()}class Tv extends tA{constructor(e){const t=lA;e=e||{},super(e),this.totalDelta_=0,this[t(503)]=0,this.maxDelta_=e[t(524)]!==void 0?e[t(524)]:1,this[t(474)]=e[t(487)]!==void 0?e[t(487)]:250,this[t(522)]=e.timeout!==void 0?e[t(484)]:80,this[t(490)]=e[t(523)]!==void 0?e[t(523)]:!0,this[t(481)]=e[t(507)]!==void 0?e.constrainResolution:!1;const n=e[t(483)]?e[t(483)]:Cv;this[t(496)]=e[t(519)]?RI(d3,n):n,this[t(512)]=null,this.startTime_=void 0,this[t(482)],this.mode_=void 0,this[t(492)]=400,this[t(500)],this[t(513)]=300}[ga(471)](){const e=ga;this[e(500)]=void 0;const t=this[e(478)]();if(!t)return;t[e(504)]()[e(501)](void 0,this[e(503)]?this[e(503)]>0?1:-1:0,this[e(512)])}handleEvent(e){const t=ga;if(!this[t(496)](e)||e[t(508)]!==rt[t(506)])return!0;const r=e[t(520)],s=e[t(510)];s[t(494)](),this.useAnchor_&&(this[t(512)]=e[t(515)]);let o;if(e[t(508)]==rt[t(506)]&&(o=s.deltaY,Mw&&s.deltaMode===WheelEvent[t(493)]&&(o/=Ll),s[t(491)]===WheelEvent[t(480)]&&(o*=40)),o===0)return!1;this[t(503)]=o;const a=Date[t(498)]();this[t(509)]===void 0&&(this[t(509)]=a),(!this[t(489)]||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math[t(502)](o)<4?t(475):"wheel");const c=r[t(504)]();if(this[t(489)]==="trackpad"&&!(c[t(511)]()||this[t(481)]))return this[t(500)]?clearTimeout(this[t(500)]):(c[t(486)]()&&c[t(472)](),c[t(499)]()),this[t(500)]=setTimeout(this.endInteraction_[t(517)](this),this.timeout_),c[t(505)](-o/this[t(513)],this.lastAnchor_),this.startTime_=a,!1;this[t(518)]+=o;const x=Math.max(this[t(522)]-(a-this[t(509)]),0);return clearTimeout(this[t(482)]),this[t(482)]=setTimeout(this[t(485)].bind(this,r),x),!1}handleWheelZoom_(e){const t=ga,n=e[t(504)]();n[t(486)]()&&n[t(472)]();let r=-Qe(this[t(518)],-this[t(495)]*this[t(513)],this[t(495)]*this[t(513)])/this.deltaPerZoom_;(n[t(511)]()||this[t(481)])&&(r=r?r>0?1:-1:0),QI(n,r,this[t(512)],this[t(474)]),this[t(489)]=void 0,this[t(518)]=0,this.lastAnchor_=null,this[t(509)]=void 0,this.timeoutId_=void 0}[ga(476)](e){const t=ga;this[t(490)]=e,!e&&(this[t(512)]=null)}}function Rs(i,e){const t=Dd();return Rs=function(n,r){return n=n-286,t[n]},Rs(i,e)}const E3=Rs;function Dd(){const i=["anchor_","5321036pQGGiW","beginInteraction","duration_","527018aviDLr","threshold","rotationDelta_","duration","targetPointers","lastAngle_","stopDown","1730opOudx","getConstraints","atan2","map","75493aBaTMd","rotation","handleDownEvent","endInteraction","11762944QdjVTB","clientY","4713651yQdDOa","getView","6tzndxe","3774862HzjLiA","3930EghbHv","threshold_","getEventPixel","abs","rotating_","clientX","1335BEfCQH","length","3rEKaLD"];return Dd=function(){return i},Dd()}(function(i,e){const t=Rs,n=i();for(;;)try{if(parseInt(t(301))/1*(-parseInt(t(286))/2)+-parseInt(t(296))/3*(parseInt(t(298))/4)+-parseInt(t(294))/5*(-parseInt(t(288))/6)+parseInt(t(287))/7+parseInt(t(316))/8+parseInt(t(318))/9+-parseInt(t(308))/10*(-parseInt(t(312))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Dd,984244);class Lv extends nA{constructor(e){const t=Rs;e=e||{};const n=e;!n[t(307)]&&(n.stopDown=Vl),super(n),this[t(297)]=null,this[t(306)]=void 0,this[t(292)]=!1,this.rotationDelta_=0,this[t(289)]=e[t(302)]!==void 0?e[t(302)]:.3,this[t(300)]=e[t(304)]!==void 0?e[t(304)]:250}handleDragEvent(e){const t=Rs;let n=0;const r=this[t(305)][0],s=this[t(305)][1],o=Math[t(310)](s[t(317)]-r[t(317)],s[t(293)]-r[t(293)]);if(this[t(306)]!==void 0){const x=o-this[t(306)];this[t(303)]+=x,!this[t(292)]&&Math[t(291)](this[t(303)])>this[t(289)]&&(this[t(292)]=!0),n=x}this[t(306)]=o;const a=e[t(311)],c=a[t(319)]();c[t(309)]()[t(313)]!==gp&&(this[t(297)]=a.getCoordinateFromPixelInternal(a[t(290)](vI(this.targetPointers))),this[t(292)]&&(a.render(),c.adjustRotationInternal(n,this[t(297)])))}handleUpEvent(e){const t=Rs;return this[t(305)][t(295)]<2?(e[t(311)][t(319)]()[t(315)](this[t(300)]),!1):!0}[E3(314)](e){const t=E3;if(this[t(305)].length>=2){const n=e[t(311)];return this.anchor_=null,this.lastAngle_=void 0,this[t(292)]=!1,this[t(303)]=0,!this.handlingDownUpSequence&&n[t(319)]()[t(299)](),!0}return!1}}function Ss(i,e){const t=kd();return Ss=function(n,r){return n=n-324,t[n]},Ss(i,e)}const y3=Ss;(function(i,e){const t=Ss,n=i();for(;;)try{if(-parseInt(t(347))/1+parseInt(t(339))/2+parseInt(t(326))/3*(parseInt(t(329))/4)+-parseInt(t(343))/5+-parseInt(t(330))/6+-parseInt(t(332))/7+parseInt(t(348))/8*(parseInt(t(342))/9)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(kd,137262);class Gv extends nA{constructor(e){const t=Ss;e=e||{};const n=e;!n.stopDown&&(n.stopDown=Vl),super(n),this[t(341)]=null,this.duration_=e.duration!==void 0?e.duration:400,this[t(338)]=void 0,this[t(327)]=1}handleDragEvent(e){const t=Ss;let n=1;const r=this[t(328)][0],s=this[t(328)][1],o=r[t(324)]-s[t(324)],a=r[t(344)]-s.clientY,c=Math[t(340)](o*o+a*a);this[t(338)]!==void 0&&(n=this.lastDistance_/c),this[t(338)]=c;const x=e[t(325)],A=x[t(346)]();n!=1&&(this[t(327)]=n),this[t(341)]=x.getCoordinateFromPixelInternal(x[t(335)](vI(this.targetPointers))),x.render(),A[t(337)](n,this[t(341)])}handleUpEvent(e){const t=Ss;if(this.targetPointers[t(345)]<2){const n=e[t(325)],r=n[t(346)](),s=this[t(327)]>1?1:-1;return r[t(331)](this.duration_,s),!1}return!0}[y3(333)](e){const t=y3;if(this.targetPointers[t(345)]>=2){const n=e[t(325)];return this[t(341)]=null,this[t(338)]=void 0,this[t(327)]=1,!this[t(334)]&&n[t(346)]()[t(336)](),!0}return!1}}function kd(){const i=["27NzrOgi","lastScaleDelta_","targetPointers","42496MXLfUm","248412QpTWKE","endInteraction","1305836ORlzJF","handleDownEvent","handlingDownUpSequence","getEventPixel","beginInteraction","adjustResolutionInternal","lastDistance_","219790kPrdxg","sqrt","anchor_","69111XViMPj","1329075vYpwEn","clientY","length","getView","65940xSQqvP","512vODkTp","clientX","map"];return kd=function(){return i},kd()}(function(i,e){const t=Fd,n=i();for(;;)try{if(parseInt(t(203))/1*(-parseInt(t(196))/2)+parseInt(t(199))/3+-parseInt(t(190))/4*(-parseInt(t(194))/5)+parseInt(t(186))/6*(-parseInt(t(202))/7)+-parseInt(t(201))/8+parseInt(t(193))/9*(-parseInt(t(192))/10)+parseInt(t(200))/11===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Md,788168);function Md(){const i=["368cRBbRv","mouseWheelZoom","904110CBpfBe","81oumMhS","41190SinFmO","keyboard","1226124sxvNwp","dragPan","zoomDelta","1210890YWbYYb","36853355ntLKQl","1000824NCPDvo","189TzFegw","2JZwJoL","pinchZoom","zoomDuration","push","346386wjFOHi","pinchRotate","onFocusOnly","shiftDragZoom"];return Md=function(){return i},Md()}function Fd(i,e){const t=Md();return Fd=function(n,r){return n=n-183,t[n]},Fd(i,e)}function Nv(i){const e=Fd;i=i||{};const t=new sr,n=new Fv(-.005,.05,100);return(i.altShiftDragRotate!==void 0?i.altShiftDragRotate:!0)&&t[e(185)](new vv),(i.doubleClickZoom!==void 0?i.doubleClickZoom:!0)&&t[e(185)](new mv({delta:i[e(198)],duration:i[e(184)]})),(i[e(197)]!==void 0?i.dragPan:!0)&&t[e(185)](new Qv({onFocusOnly:i[e(188)],kinetic:n})),(i[e(187)]!==void 0?i.pinchRotate:!0)&&t.push(new Lv),(i.pinchZoom!==void 0?i[e(183)]:!0)&&t[e(185)](new Gv({duration:i[e(184)]})),(i[e(195)]!==void 0?i[e(195)]:!0)&&(t[e(185)](new kv),t[e(185)](new Mv({delta:i[e(198)],duration:i[e(184)]}))),(i[e(191)]!==void 0?i[e(191)]:!0)&&t[e(185)](new Tv({onFocusOnly:i[e(188)],duration:i[e(184)]})),(i[e(189)]!==void 0?i[e(189)]:!0)&&t[e(185)](new Dv({duration:i[e(184)]})),t}const U=k0;(function(i,e){const t=k0,n=i();for(;;)try{if(-parseInt(t(428))/1*(-parseInt(t(289))/2)+-parseInt(t(479))/3+-parseInt(t(414))/4+-parseInt(t(319))/5*(parseInt(t(332))/6)+-parseInt(t(291))/7+parseInt(t(343))/8*(parseInt(t(379))/9)+parseInt(t(501))/10*(parseInt(t(361))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Td,539381);function k0(i,e){const t=Td();return k0=function(n,r){return n=n-277,t[n]},k0(i,e)}function Td(){const i=["slice","documentElement","getEventCoordinateInternal","rotation","addLayer","nextResolution","boundHandleBrowserEvent_","getLayers","getProjection","RENDERCOMPLETE","getRenderer","handleTargetChanged_","INTERACTING","getLoadingOrNotReady","pixelRatio_","handleBrowserEvent","KEYPRESS","disconnect","zIndex","removeOverlay","render","handleMapBrowserEvent","getSize","getPixelFromCoordinate","handleEvent","getInteractions","removeLayer","postRenderFunctions","addlayer","animationDelay_","height","removelayer","time","getId","ol-overlaycontainer","checkWrapped","addEventListener","host","REMOVE","getOwnerDocument","setLayers","dispatchRenderEvent","setTarget","getAnimating","disposeInternal","remove","removeControl","getView","2804865OTsYRr","handleLayerGroupChanged_","frameIndex_","getPixelFromCoordinateInternal","Expected `interactions` to be an array or an `ol/Collection.js`","isEmpty","maxTilesLoading_","ontouchstart","removeEventListener","contains"," ol-touch","POSTRENDER","handleLayerRemove_","CHANGE","viewPropertyListenerKey_","LAYERGROUP","addOverlay","changedTouches","overlayIdIndex_","renderFrame_","controls","clear","10ZINmtE","resizeObserver_","overlayContainerStopEvent_","hasFeatureAtPixel","setMapInternal","apply","left","propagationStopped","clientY","getArray","getSource","element","No map visible because the map container's width or height are 0.","tileQueue_","push","relative","viewChangeListenerKey_","values","nextExtent","ol-overlaycontainer-stopevent","pixelToCoordinateTransform","SIZE","target","viewHints","style","2aoODJt","mapBrowserEventHandler_","6054328eVMmMH","updateViewportSize_","interactions","paddingRight","loadMoreTiles","TARGET","forEachFeatureAtPixel","Expected `controls` to be an array or an `ol/Collection.js`","view","VIEW","ADD","getElementById","function","frameState","paddingTop","dispatchEvent","frameState_","setView","handleViewPropertyChanged_","borderTopWidth","animationDelayKey_","overflow","getCoordinateFromPixel","animate","loading","unobserve","Expected `overlays` to be an array or an `ol/Collection.js`","observe","776765gJRPiH","addOverlayInternal_","LOADSTART","getTilePriority","getBoundingClientRect","length","now","set","toString","layerGroupPropertyListenerKeys_","nextRotation","hitTolerance","reprioritize","24FHhoyQ","position","getTarget","renderComplete_","WHEEL","getLayerStatesArray","absolute","getRootNode","appendChild","layer","layers","3664lTdsYr","keyboardEventTarget","overlays","borderRightWidth","getOverlayContainerStopEvent","borderBottomWidth","ol-viewport","setViewportSize","resolveConstraints","renderer_","top","isDef","renderSync","handleSizeChanged_","getEventPixel","addInteraction","handleViewChanged_","keyboardEventTarget_","21272119gWSDNn","targetChangeHandlerKeys_","pointerEvents","className","KEYDOWN","isRendered","LOADEND","getLayerGroup","getTargetElement","hasListener","getTilesLoading","targetElement_","getViewport","previousExtent_","visible","removeInteraction","pixelToCoordinateTransform_","handleTileChange_","15354JrviYf","viewport_","bind","layerFilter","get","isArray","renderFrame","handlePostRender","forEach","setSize","getControls","center","forEachFeatureAtCoordinate","CONTEXTMENU","getMap","getEventCoordinate","ANIMATING","width","paddingBottom","moveTolerance_","then","createElement","getOverlayContainer","addChangeListener","overlayContainer_","prototype","coordinateToPixelTransform_","setMap","div","100%","maxTilesLoading","getOverlays","setLayerGroup","nextCenter","postRenderTimeoutHandle_","528152adFrCJ","updateSize","max","handleLayerAdd_","extend","getCoordinateFromPixelInternal","pixelRatio","postRenderFunctions_","overlays_","MOVESTART","borderLeftWidth","loaded_","PROPERTYCHANGE","extent","377513fpcyKd","addControl","getFeaturesAtPixel"];return Td=function(){return i},Td()}function C3(i){const e=k0;if(i instanceof ls){i.setMapInternal(null);return}i instanceof Bs&&i[e(438)]()[e(387)](C3)}function b3(i,e){const t=k0;if(i instanceof ls){i[t(505)](e);return}if(i instanceof Bs){const n=i[t(438)]()[t(510)]();for(let r=0,s=n[t(324)];r<s;++r)b3(n[r],e)}}let DI=class extends Wi{constructor(e){const t=k0;super(),e=e||{},this.on,this.once,this.un;const n=Pv(e);this[t(335)]=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent[t(381)](this),this.maxTilesLoading_=e[t(409)]!==void 0?e[t(409)]:16,this.pixelRatio_=e.pixelRatio!==void 0?e[t(420)]:Ll,this[t(413)],this.animationDelayKey_,this[t(460)]=this[t(460)][t(381)](this),this[t(405)]=Nn(),this[t(377)]=Nn(),this[t(481)]=0,this[t(307)]=null,this[t(374)]=null,this[t(493)]=null,this[t(280)]=null,this[t(328)]=null,this[t(380)]=document.createElement(t(407)),this[t(380)][t(364)]=t(349)+(t(486)in window?t(489):""),this[t(380)].style[t(333)]=t(279),this.viewport_[t(288)][t(312)]="hidden",this[t(380)].style[t(396)]=t(408),this[t(380)][t(288)][t(461)]="100%",this[t(403)]=document.createElement(t(407)),this[t(403)][t(288)][t(333)]=t(338),this[t(403)][t(288)].zIndex="0",this[t(403)][t(288)][t(396)]=t(408),this.overlayContainer_[t(288)].height=t(408),this.overlayContainer_.style[t(363)]="none",this.overlayContainer_[t(364)]=t(465),this[t(380)][t(340)](this[t(403)]),this[t(503)]=document[t(400)](t(407)),this[t(503)][t(288)][t(333)]=t(338),this[t(503)][t(288)][t(449)]="0",this[t(503)][t(288)][t(396)]=t(408),this[t(503)].style[t(461)]=t(408),this[t(503)][t(288)][t(363)]="none",this[t(503)][t(364)]=t(283),this.viewport_[t(340)](this.overlayContainerStopEvent_),this[t(290)]=null,this.moveTolerance_=e.moveTolerance,this[t(360)]=n.keyboardEventTarget,this[t(362)]=null,this.targetElement_=null,this[t(502)]=new ResizeObserver(()=>this[t(415)]()),this.controls=n.controls||pv(),this[t(293)]=n[t(293)]||Nv({onFocusOnly:!0}),this[t(422)]=n[t(345)],this[t(497)]={},this[t(352)]=null,this[t(421)]=[],this[t(277)]=new JC(this.getTilePriority[t(381)](this),this[t(378)].bind(this)),this[t(402)](gn[t(494)],this[t(480)]),this[t(402)](gn[t(300)],this[t(359)]),this[t(402)](gn[t(285)],this[t(356)]),this.addChangeListener(gn[t(296)],this[t(442)]),this.setProperties(n[t(281)]);const r=this;e[t(299)]&&!(e.view instanceof nr)&&e[t(299)][t(399)](function(s){r.setView(new nr(s))}),this.controls.addEventListener(Hn[t(301)],s=>{const o=t;s[o(512)][o(406)](this)}),this.controls.addEventListener(Hn[t(469)],s=>{s[t(512)].setMap(null)}),this[t(293)][t(467)](Hn.ADD,s=>{const o=t;s[o(512)][o(406)](this)}),this[t(293)][t(467)](Hn[t(469)],s=>{const o=t;s.element[o(406)](null)}),this[t(422)].addEventListener(Hn.ADD,s=>{const o=t;this.addOverlayInternal_(s[o(512)])}),this[t(422)].addEventListener(Hn[t(469)],s=>{const o=t,a=s[o(512)][o(464)]();a!==void 0&&delete this[o(497)][a[o(327)]()],s[o(512)][o(406)](null)}),this[t(499)][t(387)](s=>{s[t(406)](this)}),this[t(293)][t(387)](s=>{s[t(406)](this)}),this.overlays_[t(387)](this[t(320)][t(381)](this))}[U(429)](e){const t=U;this.getControls()[t(278)](e)}[U(358)](e){this[U(456)]().push(e)}[U(435)](e){const t=U;this[t(368)]()[t(438)]()[t(278)](e)}[U(417)](e){b3(e[U(341)],this)}[U(495)](e){const t=U;this[t(410)]()[t(278)](e)}[U(320)](e){const t=U,n=e[t(464)]();n!==void 0&&(this[t(497)][n[t(327)]()]=e),e[t(406)](this)}[U(475)](){const e=U;this[e(499)].clear(),this[e(293)].clear(),this[e(422)].clear(),this[e(502)][e(448)](),this[e(473)](null),super.disposeInternal()}forEachFeatureAtPixel(e,t,n){const r=U;if(!this[r(307)]||!this[r(352)])return;const s=this[r(419)](e);n=n!==void 0?n:{};const o=n[r(330)]!==void 0?n[r(330)]:0,a=n[r(382)]!==void 0?n[r(382)]:fx,c=n[r(466)]!==!1;return this.renderer_[r(391)](s,this[r(307)],o,c,t,null,a,null)}[U(430)](e,t){const n=U,r=[];return this[n(297)](e,function(s){r.push(s)},t),r}getAllLayers(){const e=U,t=[];function n(r){const s=k0;r[s(387)](function(o){const a=s;o instanceof Bs?n(o[a(438)]()):t[a(278)](o)})}return n(this[e(438)]()),t}[U(504)](e,t){const n=U;if(!this[n(307)]||!this[n(352)])return!1;const r=this[n(419)](e);t=t!==void 0?t:{};const s=t[n(382)]!==void 0?t[n(382)]:fx,o=t.hitTolerance!==void 0?t[n(330)]:0,a=t[n(466)]!==!1;return this[n(352)].hasFeatureAtCoordinate(r,this[n(307)],o,a,s,null)}[U(394)](e){const t=U;return this[t(313)](this[t(357)](e))}[U(433)](e){const t=U;return this[t(419)](this[t(357)](e))}[U(357)](e){const t=U,n=this[t(380)],r=n[t(323)](),s=this[t(453)](),o=r[t(396)]/s[0],a=r[t(461)]/s[1],c=t(496)in e?e[t(496)][0]:e;return[(c.clientX-r[t(507)])/o,(c[t(509)]-r[t(353)])/a]}[U(334)](){const e=U;return this.get(gn[e(296)])}getTargetElement(){return this[U(372)]}[U(313)](e){const t=U;return U2(this.getCoordinateFromPixelInternal(e),this[t(478)]().getProjection())}[U(419)](e){const t=U,n=this[t(307)];return n?Ue(n[t(284)],e[t(431)]()):null}[U(389)](){return this.controls}[U(410)](){return this[U(422)]}getOverlayById(e){const t=U,n=this[t(497)][e[t(327)]()];return n!==void 0?n:null}[U(456)](){return this[U(293)]}getLayerGroup(){const e=U;return this.get(gn[e(494)])}[U(471)](e){const t=U,n=this[t(368)]();if(e instanceof sr){n[t(471)](e);return}const r=n.getLayers();r[t(500)](),r[t(418)](e)}[U(438)](){return this[U(368)]().getLayers()}[U(444)](){const e=U,t=this[e(368)]()[e(337)]();for(let n=0,r=t.length;n<r;++n){const s=t[n];if(!s[e(375)])continue;const o=s[e(341)][e(441)]();if(o&&!o.ready)return!0;const a=s[e(341)][e(511)]();if(a&&a[e(315)])return!0}return!1}[U(454)](e){const t=U,n=Cr(e,this[t(478)]()[t(439)]());return this.getPixelFromCoordinateInternal(n)}[U(482)](e){const t=U,n=this[t(307)];return n?Ue(n.coordinateToPixelTransform,e.slice(0,2)):null}[U(441)](){return this[U(352)]}[U(453)](){const e=U;return this[e(383)](gn[e(285)])}[U(478)](){const e=U;return this[e(383)](gn[e(300)])}[U(373)](){return this[U(380)]}[U(401)](){return this.overlayContainer_}[U(347)](){return this.overlayContainerStopEvent_}[U(470)](){const e=this.getTargetElement();return e?e.ownerDocument:document}[U(322)](e,t,n,r){return Y9(this[U(307)],e,t,n,r)}[U(446)](e,t){const n=U;t=t||e.type;const r=new Q0(t,this,e);this[n(452)](r)}[U(452)](e){const t=U;if(!this[t(307)])return;const n=e.originalEvent,r=n.type;if(r===bI.POINTERDOWN||r===rt[t(336)]||r===rt[t(365)]){const s=this[t(470)](),o=this[t(380)][t(339)]?this[t(380)][t(339)]():s,a=n[t(286)],c=o instanceof ShadowRoot?o[t(468)]===a?o[t(468)].ownerDocument:o:o===s?s[t(432)]:o;if(this[t(503)].contains(a)||!c[t(488)](a))return}if(e[t(304)]=this[t(307)],this[t(306)](e)!==!1){const s=this[t(456)]()[t(510)]().slice();for(let o=s[t(324)]-1;o>=0;o--){const a=s[o];if(a[t(393)]()!==this||!a.getActive()||!this.getTargetElement())continue;if(!a[t(455)](e)||e[t(508)])break}}}[U(386)](){const e=U,t=this[e(307)],n=this[e(277)];if(!n[e(484)]()){let s=this[e(485)],o=s;if(t){const a=t.viewHints;if(a[de[e(395)]]||a[de.INTERACTING]){const c=Date.now()-t[e(463)]>8;s=c?0:8,o=c?0:2}}n[e(371)]()<s&&(n[e(331)](),n[e(295)](s,o))}t&&this[e(352)]&&!t[e(314)]&&(this.renderComplete_?(this[e(370)](mi.RENDERCOMPLETE)&&this.renderer_[e(472)](mi[e(440)],t),this.loaded_===!1&&(this[e(425)]=!0,this[e(306)](new ca(R0[e(367)],this,t)))):this[e(425)]===!0&&(this[e(425)]=!1,this.dispatchEvent(new ca(R0.LOADSTART,this,t))));const r=this[e(421)];for(let s=0,o=r[e(324)];s<o;++s)r[s](this,t);r[e(324)]=0}handleSizeChanged_(){const e=U;this[e(478)]()&&!this[e(478)]()[e(474)]()&&this.getView()[e(351)](0),this.render()}[U(442)](){const e=U;if(this.mapBrowserEventHandler_){for(let r=0,s=this[e(362)][e(324)];r<s;++r)Wt(this[e(362)][r]);this[e(362)]=null,this.viewport_[e(487)](rt[e(392)],this[e(437)]),this[e(380)][e(487)](rt[e(336)],this[e(437)]),this[e(290)].dispose(),this.mapBrowserEventHandler_=null,this[e(380)].remove()}if(this.targetElement_){this[e(502)][e(316)](this[e(372)]);const r=this[e(372)][e(339)]();r instanceof ShadowRoot&&this[e(502)].unobserve(r[e(468)]),this[e(388)](void 0)}const t=this[e(334)](),n=typeof t=="string"?document[e(302)](t):t;if(this[e(372)]=n,!n)this[e(352)]&&(clearTimeout(this[e(413)]),this[e(413)]=void 0,this.postRenderFunctions_[e(324)]=0,this[e(352)].dispose(),this[e(352)]=null),this[e(311)]&&(cancelAnimationFrame(this[e(311)]),this.animationDelayKey_=void 0);else{n[e(340)](this[e(380)]),!this[e(352)]&&(this.renderer_=new uv(this)),this.mapBrowserEventHandler_=new hv(this,this[e(398)]);for(const o in Se)this[e(290)][e(467)](Se[o],this[e(452)][e(381)](this));this.viewport_[e(467)](rt[e(392)],this[e(437)],!1),this.viewport_[e(467)](rt[e(336)],this[e(437)],JE?{passive:!1}:!1);let r;if(this[e(360)])r=this[e(360)];else{const o=n[e(339)]();r=o instanceof ShadowRoot?o[e(468)]:n}this[e(362)]=[wt(r,rt[e(365)],this[e(446)],this),wt(r,rt[e(447)],this.handleBrowserEvent,this)];const s=n.getRootNode();s instanceof ShadowRoot&&this[e(502)][e(318)](s[e(468)]),this[e(502)][e(318)](n)}this[e(415)]()}[U(378)](){this[U(451)]()}handleViewPropertyChanged_(){this.render()}[U(359)](){const e=U;this[e(493)]&&(Wt(this[e(493)]),this[e(493)]=null),this[e(280)]&&(Wt(this[e(280)]),this.viewChangeListenerKey_=null);const t=this[e(478)]();t&&(this[e(292)](this[e(453)]()),this[e(493)]=wt(t,Ao[e(426)],this[e(309)],this),this[e(280)]=wt(t,rt[e(492)],this.handleViewPropertyChanged_,this),t[e(351)](0)),this[e(451)]()}[U(480)](){const e=U;this.layerGroupPropertyListenerKeys_&&(this[e(328)][e(387)](Wt),this[e(328)]=null);const t=this[e(368)]();t&&(this[e(417)](new B0(e(459),t)),this[e(328)]=[wt(t,Ao[e(426)],this[e(451)],this),wt(t,rt[e(492)],this[e(451)],this),wt(t,e(459),this[e(417)],this),wt(t,e(462),this.handleLayerRemove_,this)]),this[e(451)]()}[U(366)](){return!!this[U(307)]}[U(460)](){const e=U;this[e(311)]=void 0,this[e(498)](Date[e(325)]())}[U(355)](){const e=U;this[e(311)]&&cancelAnimationFrame(this[e(311)]),this[e(460)]()}redrawText(){const e=U,t=this.getLayerGroup()[e(337)]();for(let n=0,r=t[e(324)];n<r;++n){const s=t[n][e(341)];s.hasRenderer()&&s[e(441)]().handleFontsChanged()}}render(){const e=U;this[e(352)]&&this.animationDelayKey_===void 0&&(this[e(311)]=requestAnimationFrame(this.animationDelay_))}[U(477)](e){const t=U;return this[t(389)]()[t(476)](e)}[U(376)](e){const t=U;return this[t(456)]()[t(476)](e)}[U(457)](e){const t=U;return this[t(368)]()[t(438)]()[t(476)](e)}[U(491)](e){C3(e[U(341)])}[U(450)](e){return this.getOverlays().remove(e)}renderFrame_(e){const t=U,n=this[t(453)](),r=this[t(478)](),s=this[t(307)];let o=null;if(n!==void 0&&NE(n)&&r&&r[t(354)]()){const a=r.getHints(this.frameState_?this[t(307)][t(287)]:void 0),c=r.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:gl(c[t(390)],c.resolution,c[t(434)],n),index:this[t(481)]++,layerIndex:0,layerStatesArray:this.getLayerGroup()[t(337)](),pixelRatio:this[t(445)],pixelToCoordinateTransform:this[t(377)],postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:c,viewHints:a,wantedTiles:{},mapId:ct(this),renderTargets:{}},c[t(412)]&&c.nextResolution){const x=isNaN(c.nextRotation)?c.rotation:c[t(329)];o[t(282)]=gl(c[t(412)],c[t(436)],x,n)}}this[t(307)]=o,this.renderer_[t(385)](o),o&&(o[t(314)]&&this[t(451)](),Array[t(404)].push[t(506)](this.postRenderFunctions_,o[t(458)]),s&&(!this[t(374)]||!X0(this.previousExtent_)&&!mr(o[t(427)],this[t(374)]))&&(this[t(306)](new ca(R0[t(423)],this,s)),this[t(374)]=eo(this[t(374)])),this[t(374)]&&!o[t(287)][de[t(395)]]&&!o.viewHints[de[t(443)]]&&!mr(o[t(427)],this[t(374)])&&(this[t(306)](new ca(R0.MOVEEND,this,o)),bE(o.extent,this.previousExtent_))),this[t(306)](new ca(R0[t(490)],this,o)),this[t(335)]=(this[t(370)](R0[t(321)])||this[t(370)](R0.LOADEND)||this[t(370)](mi[t(440)]))&&!this.tileQueue_[t(371)]()&&!this[t(277)].getCount()&&!this[t(444)](),!this.postRenderTimeoutHandle_&&(this[t(413)]=setTimeout(()=>{const a=t;this[a(413)]=void 0,this[a(386)]()},0))}[U(411)](e){const t=U,n=this[t(368)]();n&&this.handleLayerRemove_(new B0(t(462),n)),this[t(326)](gn[t(494)],e)}[U(388)](e){const t=U;this[t(326)](gn[t(285)],e)}[U(473)](e){const t=U;this[t(326)](gn[t(296)],e)}[U(308)](e){const t=U;if(!e||e instanceof nr){this[t(326)](gn[t(300)],e);return}this[t(326)](gn.VIEW,new nr);const n=this;e[t(399)](function(r){n.setView(new nr(r))})}[U(415)](){const e=U,t=this[e(369)]();let n;if(t){const s=getComputedStyle(t),o=t.offsetWidth-parseFloat(s[e(424)])-parseFloat(s.paddingLeft)-parseFloat(s[e(294)])-parseFloat(s[e(346)]),a=t.offsetHeight-parseFloat(s[e(310)])-parseFloat(s[e(305)])-parseFloat(s[e(397)])-parseFloat(s[e(348)]);!isNaN(o)&&!isNaN(a)&&(n=[Math[e(416)](0,o),Math[e(416)](0,a)],!NE(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&FE(e(513)))}const r=this.getSize();n&&(!r||!o0(n,r))&&(this.setSize(n),this[e(292)](n))}[U(292)](e){const t=U,n=this[t(478)]();n&&n[t(350)](e)}};function Pv(i){const e=U;let t=null;i[e(344)]!==void 0&&(t=typeof i[e(344)]=="string"?document[e(302)](i.keyboardEventTarget):i[e(344)]);const n={},r=i[e(342)]&&typeof i[e(342)].getLayers===e(303)?i[e(342)]:new Bs({layers:i[e(342)]});n[gn[e(494)]]=r,n[gn.TARGET]=i[e(286)],n[gn[e(300)]]=i[e(299)]instanceof nr?i.view:new nr;let s;i[e(499)]!==void 0&&(Array.isArray(i.controls)?s=new sr(i.controls[e(431)]()):(Qt(typeof i.controls[e(510)]===e(303),e(298)),s=i[e(499)]));let o;i[e(293)]!==void 0&&(Array.isArray(i.interactions)?o=new sr(i[e(293)][e(431)]()):(Qt(typeof i[e(293)][e(510)]=="function",e(483)),o=i[e(293)]));let a;return i[e(345)]!==void 0?Array[e(384)](i[e(345)])?a=new sr(i.overlays.slice()):(Qt(typeof i.overlays.getArray===e(303),e(317)),a=i[e(345)]):a=new sr,{controls:s,interactions:o,keyboardEventTarget:t,overlays:a,values:n}}const xt=pa;(function(i,e){const t=pa,n=i();for(;;)try{if(parseInt(t(228))/1*(-parseInt(t(298))/2)+parseInt(t(217))/3+-parseInt(t(268))/4*(parseInt(t(222))/5)+-parseInt(t(194))/6*(-parseInt(t(316))/7)+parseInt(t(238))/8+-parseInt(t(306))/9+parseInt(t(315))/10===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ld,142783);function Ld(){const i=["execute","ANIMATING","getId","LineString","finish","isArray","getTileCoordExtent","postRender","Circle","call","getSource","inversePixelTransform","updateExecutorGroup_","clear","includes","getStyleFunction","getRenderOrder","filter","getTileRenderTransform","slice","getTile","Polygon","Default","tempExtent","canvas","getRenderBuffer","wrappedTileCoord","toString","executorGroups","2znVjIH","rotation","tmpTransform_","beginPath","getDeclutter","getResolution","renderedRotation_","getExtent","1497204UpbPVE","lineTo","concat","moveTo","renderedRevision","renderedRenderOrder","tileImageNeedsRender_","geometry","length","407910TAvHMr","70553zZTyRg","getFeaturesInExtent","renderedTileResolution","drawTile","layerIndex","getDeferredZIndexContexts","forEachFeatureAtCoordinate","getGeometry","globalAlpha","getOrCreateTile","renderedTiles","declutter","renderedResolution","resolution","setTransform","tileClipContexts_","getState","viewHints","tileCoord","hitDetectionImageData","138IMUYHF","getWrapX","push","getTileCoordCenter","getVisible","draw","renderDeferredInternal","getTileCoordForCoordAndResolution","getRenderMode","getZForResolution","forEach","hasExecutors","getFeatures","renderedTileRevision","renderDeclutter","wantedResolution","getReplayState","getSourceTiles","executorGroup","bind","all","getTileCache","viewState","623388yEslxR","vector","renderedOpacity_","layerStatesArray","handleStyleImageChange_","1115pYwYty","projection","opacity","getLayer","getTileGridForProjection","pixelToCoordinateTransform","163258FgRZdj","ready","zDirection","round","getContext","renderIfReadyAndVisible","boundHandleStyleImageChange_","some","getTileGrid","context","1008128hdkHXV","reduce","handleFontsChanged","getRenderTransform","LOADED","Image","getTilePixelSize","dirty","INTERACTING","renderedPixelToCoordinateTransform_","canWrapX","clip","lastIndexOf","width","prepareFrame","apply","Text","renderTileImage_","renderFeature","changed","map","getRevision","pixelRatio","sort","distanceSq","keys","size","renderedLayerRevision_","height","restore","2404criHHu"];return Ld=function(){return i},Ld()}function pa(i,e){const t=Ld();return pa=function(n,r){return n=n-193,t[n]},pa(i,e)}const Uv={image:[xt(290),xt(277),xt(272),"Image",xt(254)],hybrid:["Polygon",xt(272)],vector:[]},B3={hybrid:[xt(243),xt(254),xt(291)],vector:[xt(290),"Circle",xt(272),xt(243),xt(254),xt(291)]};class Ov extends jC{constructor(e,t){const n=xt;super(e,t),this.boundHandleStyleImageChange_=this[n(221)][n(213)](this),this[n(265)],this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this[n(219)]=1,this[n(300)]=Nn(),this[n(331)]=null}drawTile(e,t,n,r,s,o,a,c){const x=xt;this[x(281)](e,t.pixelRatio,t[x(216)][x(223)]),this[x(312)](e)&&this[x(255)](e,t),super[x(319)](e,t,n,r,s,o,a,c)}[xt(289)](e,t,n,r){const s=xt,o=this[s(325)](e,t,n,r);if(!o)return null;const a=r[s(216)],c=a[s(329)],x=r[s(333)];return(!(x[de.ANIMATING]||x[de[s(246)]])||!o[s(209)])&&(o[s(209)]=c),o}[xt(252)](e){const t=xt,n=this[t(225)]()[t(259)]();return this[t(265)]!==n&&(this[t(265)]=n,this[t(326)][t(314)]=0),super[t(252)](e)}updateExecutorGroup_(e,t,n){const r=xt,s=this[r(225)](),o=s[r(259)](),a=s[r(285)]()||null,c=e[r(209)],x=e[r(210)](s);if(!x[r(245)]&&x[r(328)]===c&&x[r(310)]==o&&x[r(311)]==a)return;const A=s[r(279)](),l=!!s[r(302)](),u=A[r(236)](),h=A[r(226)](n),f=h[r(275)](e[r(295)]),g=A[r(211)](t,n,e),d=ct(s);delete e[r(193)][d],e[r(297)][d]=[],x[r(245)]=!1;for(let p=0,I=g[r(314)];p<I;++p){const _=g[p];if(_[r(332)]()!=z[r(242)])continue;const m=_[r(334)],y=u[r(275)](m),E=Cn(f,y),C=t0(E,s[r(294)]()*c,this[r(292)]),b=mr(y,E)?null:C,B=new hC(0,E,c,t),Q=eI(c,t),w=function(S,M){const L=r;let P;const O=S[L(284)]()||s[L(284)]();if(O&&(P=O(S,c)),P){const k=this.renderFeature(S,Q,P,B,l,M);x[L(245)]=x[L(245)]||k}},R=_[r(206)]();a&&a!==x[r(311)]&&R[r(261)](a);for(let S=0,M=R[r(314)];S<M;++S){const L=R[S];(!b||we(b,L.getGeometry().getExtent()))&&w[r(278)](this,L,S)}const D=B[r(273)](),F=s.getRenderMode()!=="vector"&&l&&g[r(314)]===1?null:E,v=new pC(F,c,t,A.getOverlaps(),D,s.getRenderBuffer(),!0);e[r(297)][d].push(v)}x[r(310)]=o,x[r(311)]=a,x[r(328)]=c}[xt(322)](e,t,n,r,s){const o=xt,a=t[o(216)][o(329)],c=t[o(216)][o(299)];n=n??0;const x=this[o(225)](),A=x[o(279)](),l=A[o(226)](t[o(216)][o(223)]),u=w2([e]);t0(u,a*n,u);const h={},f=function(p,I,_){const m=o;let y=p[m(271)]();y===void 0&&(y=ct(p));const E=h[y];if(E){if(E!==!0&&_<E[m(262)]){if(_===0)return h[y]=!0,s.splice(s[m(250)](E),1),r(p,x,I);E[m(313)]=I,E[m(262)]=_}}else{if(_===0)return h[y]=!0,r(p,x,I);s[m(196)](h[y]={feature:p,layer:x,geometry:I,distanceSq:_,callback:r})}},g=this[o(326)];let d;for(let p=0,I=g[o(314)];!d&&p<I;++p){const _=g[p],m=l[o(275)](_[o(295)]);if(!we(m,u))continue;const y=ct(x),E=[_.executorGroups[y]],C=x.getDeclutter();E[o(235)](b=>{const B=o,Q=C?t[B(327)][C][B(214)]()[B(258)](w=>w.value):null;for(let w=0,R=b[B(314)];w<R;++w)if(d=b[w][B(322)](e,a,c,n,f,Q),d)return!0})}return d}[xt(206)](e){return new Promise((t,n)=>{const r=pa,s=this[r(225)](),o=ct(s),a=s[r(279)](),c=this.renderedProjection,x=c[r(305)](),A=this[r(328)],l=a[r(226)](c),u=Ue(this[r(247)],e.slice()),h=l[r(201)](u,A);let f;for(let m=0,y=this.renderedTiles[r(314)];m<y;++m)if(h[r(296)]()===this[r(326)][m].tileCoord[r(296)]()){if(f=this[r(326)][m],f[r(332)]()===z[r(242)]){const E=l.getTileCoordExtent(f[r(334)]);a[r(195)]()&&c[r(248)]()&&!ki(x,E)&&M2(u,c);break}f=void 0}if(!f||f.loadingSourceTiles>0){t([]);return}const g=l.getTileCoordExtent(f[r(295)]),d=Er(g),p=[(u[0]-d[0])/A,(d[1]-u[1])/A],I=f[r(211)]()[r(239)](function(m,y){const E=r;return m[E(308)](y[E(206)]())},[]);let _=f[r(193)][o];if(!_){const m=Pe(l.getTileSize(l[r(203)](A,a[r(230)]))),y=this.renderedRotation_,E=[this[r(241)](l[r(197)](f[r(295)]),A,0,ri,m[0]*ri,m[1]*ri,0)];_=IC(m,E,I,s.getStyleFunction(),l[r(275)](f[r(295)]),f[r(210)](s)[r(328)],y),f[r(193)][o]=_}t(_C(p,I,_))})}[xt(317)](e){const t=xt,n=[],r=this[t(215)]();if(r.getCount()===0)return n;const s=this[t(225)]()[t(279)]().tileGrid,o=s[t(203)](this[t(328)]);return r[t(204)](a=>{const c=t;if(a[c(334)][0]!==o||a.getState()!==z[c(242)])return;const x=a[c(211)]();for(let A=0,l=x[c(314)];A<l;++A){const u=x[A],h=u[c(334)];if(we(e,s.getTileCoordExtent(h))){const f=u[c(206)]();if(f)for(let g=0,d=f[c(314)];g<d;++g){const p=f[g],I=p[c(323)]();we(e,I[c(305)]())&&n.push(p)}}}}),n}[xt(240)](){const e=xt,t=this[e(225)]();t[e(198)]()&&this.renderedLayerRevision_!==void 0&&t[e(257)]()}[xt(221)](e){this[xt(233)]()}[xt(208)](e,t){const n=xt,r=this[n(237)],s=r[n(324)];r[n(324)]=t[n(224)];const o=e.viewHints,a=!(o[de[n(270)]]||o[de.INTERACTING]),c=this.renderedTiles;for(let x=0,A=c[n(314)];x<A;++x){const l=c[x],u=l.executorGroups[ct(this[n(225)]())],h=this[n(225)]().getDeclutter();if(u)for(let f=u.length-1;f>=0;--f)u[f][n(269)](this[n(237)],[this[n(237)][n(293)][n(251)],this.context.canvas[n(266)]],this.getTileRenderTransform(l,e),e[n(216)][n(299)],a,uh,h?e[n(327)][h]:void 0)}r[n(324)]=s}[xt(200)](e){const t=xt,n=this[t(326)],r=n.reduce((c,x,A)=>{const l=t;return x.executorGroups[ct(this[l(225)]())].forEach(u=>c[l(196)]({executorGroup:u,index:A})),c},[]),s=r[t(258)](({executorGroup:c})=>c[t(321)]()),o={};for(let c=0,x=r[t(314)];c<x;++c){const A=r[c][t(212)].getDeferredZIndexContexts();for(const l in A)o[l]=!0}Object[t(263)](o)[t(261)](Ji)[t(258)](Number)[t(204)](c=>{const x=t;s[x(204)]((A,l)=>{const u=x;A[c]&&(A[c].forEach(h=>{const f=pa,{executorGroup:g,index:d}=r[l],p=g.getRenderedContext(),I=p.globalAlpha;p[f(324)]=this[f(219)];const _=this[f(331)][d];_&&_.draw(p),h[f(199)](p),_&&p[f(267)](),p[f(324)]=I,h[f(282)]()}),A[c][u(314)]=0)})})}[xt(287)](e,t){const n=xt,r=t[n(260)],s=t[n(216)],o=s.center,a=s[n(329)],c=s[n(299)],x=t[n(264)],A=Math[n(231)](x[0]*r),l=Math.round(x[1]*r),u=this[n(225)]()[n(279)](),h=u[n(226)](t[n(216)][n(223)]),f=e[n(334)],g=h.getTileCoordExtent(e[n(295)]),d=h[n(275)](f,this[n(292)])[0]-g[0];return pp(_p(this[n(280)][n(288)](),1/r,1/r),this[n(241)](o,a,c,r,A,l,d))}[xt(276)](e,t){var y;const n=xt,r=t[n(333)],s=!(r[de[n(270)]]||r[de[n(246)]]);this[n(247)]=t[n(227)].slice(),this[n(304)]=t[n(216)][n(299)],this[n(219)]=t[n(220)][t[n(320)]].opacity;const o=this[n(225)](),a=o.getRenderMode(),c=e.globalAlpha;e[n(324)]=this.renderedOpacity_;const x=o[n(302)](),A=x?B3[a][n(286)](E=>!uh[n(283)](E)):B3[a],l=t[n(216)],u=l[n(299)],h=o.getSource(),f=h[n(226)](l[n(223)]),g=f[n(203)](l[n(329)],h.zDirection),d=this[n(326)],p=[],I=[],_=[];let m=!0;for(let E=d[n(314)]-1;E>=0;--E){const C=d[E];m=m&&!C[n(210)](o)[n(245)];const b=C[n(297)][ct(o)].filter(v=>v[n(205)](A));if(b[n(314)]===0)continue;const B=this[n(287)](C,t),Q=C[n(334)][0];let w=!1;const R=b[0].getClipCoords(B);let D=e,F;if(R){F=new Tp,D=F[n(232)]();for(let v=0,S=p[n(314)];v<S;++v)if(g!==Q&&Q<I[v]){const M=p[v];we([R[0],R[3],R[4],R[7]],[M[0],M[3],M[4],M[7]])&&(!w&&(D.save(),w=!0),D[n(301)](),D.moveTo(R[0],R[1]),D[n(307)](R[2],R[3]),D[n(307)](R[4],R[5]),D.lineTo(R[6],R[7]),D[n(309)](M[6],M[7]),D[n(307)](M[4],M[5]),D[n(307)](M[2],M[3]),D[n(307)](M[0],M[1]),D[n(249)]())}p.push(R),I[n(196)](Q)}for(let v=0,S=b.length;v<S;++v)b[v][n(269)](e,[e.canvas[n(251)],e[n(293)][n(266)]],B,u,s,A,(y=t[n(327)])==null?void 0:y[x]);w&&(D===e?D[n(267)]():_[E]=F)}e[n(324)]=c,this[n(229)]=m,this[n(331)]=_,!t[n(327)]&&this[n(200)](t),super[n(276)](e,t)}[xt(256)](e,t,n,r,s,o){const a=xt;if(!n)return!1;let c=!1;if(Array[a(274)](n))for(let x=0,A=n.length;x<A;++x)c=ph(r,e,n[x],t,this[a(234)],void 0,s,o)||c;else c=ph(r,e,n,t,this.boundHandleStyleImageChange_,void 0,s,o);return c}[xt(312)](e){const t=xt,n=this[t(225)]();if(n[t(202)]()===t(218))return!1;const r=e[t(210)](n),s=n.getRevision(),o=e[t(209)];return r[t(318)]!==o||r[t(207)]!==s}[xt(255)](e,t){const n=xt,r=this[n(225)](),s=e[n(210)](r),o=r[n(259)](),a=e[n(297)][ct(r)];s[n(207)]=o;const c=e[n(295)],x=c[0],A=r[n(279)]();let l=t[n(260)];const u=t[n(216)],h=u[n(223)],f=A[n(226)](h),g=f[n(303)](e[n(334)][0]),d=t[n(260)]/e[n(209)]*g,p=f.getResolution(x),I=e[n(232)]();l=Math.round(Math.max(l,d/l));const _=A[n(244)](x,l,h);I.canvas[n(251)]=_[0],I[n(293)].height=_[1];const m=l/d;if(m!==1){const b=_y(this.tmpTransform_);_p(b,m,m),I[n(330)][n(253)](I,b)}const y=f[n(275)](c,this.tempExtent),E=d/p,C=_y(this[n(300)]);_p(C,E,-E),f6(C,-y[0],-y[3]);for(let b=0,B=a[n(314)];b<B;++b)a[b][n(269)](I,[I[n(293)][n(251)]*m,I.canvas[n(266)]*m],C,0,!0,Uv[r[n(202)]()],null);s[n(318)]=e.wantedResolution}}const Xn=uA;function uA(i,e){const t=Gd();return uA=function(n,r){return n=n-479,t[n]},uA(i,e)}(function(i,e){const t=uA,n=i();for(;;)try{if(-parseInt(t(481))/1*(parseInt(t(511))/2)+parseInt(t(479))/3+parseInt(t(503))/4*(parseInt(t(497))/5)+-parseInt(t(501))/6+-parseInt(t(502))/7+parseInt(t(488))/8*(parseInt(t(505))/9)+parseInt(t(487))/10*(parseInt(t(513))/11)===e)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gd,750793);class Ds extends Xp{constructor(e){const t=uA;e=e||{};const n=Object[t(498)]({},e);delete n.preload;const r=e[t(480)]===void 0?0:e.cacheSize;delete e[t(480)],delete n[t(483)],super(n),this.on,this[t(492)],this.un,this[t(506)]=r;const s=e[t(493)]||t(510);Qt(s=="hybrid"||s==t(509),t(504)),this[t(486)]=s,this[t(507)](e[t(496)]?e.preload:0),this.setUseInterimTilesOnError(e[t(483)]!==void 0?e[t(483)]:!0),this[t(491)],this[t(499)]}[Xn(482)](){const e=Xn;return new Ov(this,{cacheSize:this[e(506)]})}[Xn(508)](e){return super.getFeatures(e)}[Xn(485)](e){return this[Xn(514)]().getFeaturesInExtent(e)}[Xn(484)](){return this[Xn(486)]}[Xn(512)](){const e=Xn;return this[e(490)](E0[e(494)])}[Xn(495)](){const e=Xn;return this[e(490)](E0[e(500)])}[Xn(507)](e){const t=Xn;this[t(489)](E0[t(494)],e)}setUseInterimTilesOnError(e){const t=Xn;this.set(E0[t(500)],e)}}function Gd(){const i=["114163wklBQD","81292SMpHqm","`renderMode` must be `'hybrid'` or `'vector'`","2547AqhdSb","cacheSize_","setPreload","getFeatures","vector","hybrid","2jPMuwO","getPreload","5940231pYhcvt","getRenderer","846267UFELsR","cacheSize","1419601UGZgqV","createRenderer","useInterimTilesOnError","getRenderMode","getFeaturesInExtent","renderMode_","50HslxFq","11640cwdYls","set","get","getBackground","once","renderMode","PRELOAD","getUseInterimTilesOnError","preload","15QbSPvE","assign","setBackground","USE_INTERIM_TILES_ON_ERROR","7609350iMXGPe"];return Gd=function(){return i},Gd()}function w3(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var zv={},Q3,v3={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function hA(i){return i=Math.round(i),i<0?0:i>255?255:i}function R3(i){return i<0?0:i>1?1:i}function kI(i){return i[i.length-1]==="%"?hA(parseFloat(i)/100*255):hA(parseInt(i))}function Nd(i){return i[i.length-1]==="%"?R3(parseFloat(i)/100):R3(parseFloat(i))}function MI(i,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?i+(e-i)*t*6:t*2<1?e:t*3<2?i+(e-i)*(2/3-t)*6:i}function qv(i){var e=i.replace(/ /g,"").toLowerCase();if(e in v3)return v3[e].slice();if(e[0]==="#"){if(e.length===4){var t=parseInt(e.substr(1),16);return t>=0&&t<=4095?[(t&3840)>>4|(t&3840)>>8,t&240|(t&240)>>4,t&15|(t&15)<<4,1]:null}else if(e.length===7){var t=parseInt(e.substr(1),16);return t>=0&&t<=16777215?[(t&16711680)>>16,(t&65280)>>8,t&255,1]:null}return null}var n=e.indexOf("("),r=e.indexOf(")");if(n!==-1&&r+1===e.length){var s=e.substr(0,n),o=e.substr(n+1,r-(n+1)).split(","),a=1;switch(s){case"rgba":if(o.length!==4)return null;a=Nd(o.pop());case"rgb":return o.length!==3?null:[kI(o[0]),kI(o[1]),kI(o[2]),a];case"hsla":if(o.length!==4)return null;a=Nd(o.pop());case"hsl":if(o.length!==3)return null;var c=(parseFloat(o[0])%360+360)%360/360,x=Nd(o[1]),A=Nd(o[2]),l=A<=.5?A*(x+1):A+x-A*x,u=A*2-l;return[hA(MI(u,l,c+1/3)*255),hA(MI(u,l,c)*255),hA(MI(u,l,c-1/3)*255),a];default:return null}}return null}try{Q3=zv.parseCSSColor=qv}catch{}class Zn{constructor(e,t,n,r=1){this.r=e,this.g=t,this.b=n,this.a=r}static parse(e){if(!e)return;if(e instanceof Zn)return e;if(typeof e!="string")return;const t=Q3(e);if(t)return new Zn(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}toString(){const[e,t,n,r]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${r})`}toArray(){const{r:e,g:t,b:n,a:r}=this;return r===0?[0,0,0,0]:[e*255/r,t*255/r,n*255/r,r]}toArray01(){const{r:e,g:t,b:n,a:r}=this;return r===0?[0,0,0,0]:[e/r,t/r,n/r,r]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:n,a:r}=this;return[e,t,n,r]}}Zn.black=new Zn(0,0,0,1),Zn.white=new Zn(1,1,1,1),Zn.transparent=new Zn(0,0,0,0),Zn.red=new Zn(1,0,0,1),Zn.blue=new Zn(0,0,1,1);var xi=Zn;function fA(i){return typeof i=="object"?["literal",i]:i}function Yv(i,e){let t=i.stops;if(!t)return Hv(i,e);const n=t&&typeof t[0][0]=="object",r=n||i.property!==void 0,s=n||!r;return t=t.map(o=>!r&&e.tokens&&typeof o[1]=="string"?[o[0],Kv(o[1])]:[o[0],fA(o[1])]),n?jv(i,e,t):s?Jv(i,e,t):TI(i,e,t)}function Hv(i,e){const t=["get",i.property];if(i.default===void 0)return e.type==="string"?["string",t]:t;if(e.type==="enum")return["match",t,Object.keys(e.values),t,i.default];{const n=[e.type==="color"?"to-color":e.type,t,fA(i.default)];return e.type==="array"&&n.splice(1,0,e.value,e.length||null),n}}function FI(i){switch(i.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function jv(i,e,t){const n={},r={},s=[];for(let a=0;a<t.length;a++){const c=t[a],x=c[0].zoom;n[x]===void 0&&(n[x]={zoom:x,type:i.type,property:i.property,default:i.default},r[x]=[],s.push(x)),r[x].push([c[0].value,c[1]])}if(GI({},e)==="exponential"){const a=[FI(i),["linear"],["zoom"]];for(const c of s){const x=TI(n[c],e,r[c]);Ia(a,c,x,!1)}return a}else{const a=["step",["zoom"]];for(const c of s){const x=TI(n[c],e,r[c]);Ia(a,c,x,!0)}return LI(a),a}}function Vv(i,e){if(i!==void 0)return i;if(e!==void 0)return e}function S3(i,e){const t=fA(Vv(i.default,e.default));return t===void 0&&e.type==="resolvedImage"?"":t}function TI(i,e,t){const n=GI(i,e),r=["get",i.property];if(n==="categorical"&&typeof t[0][0]=="boolean"){const s=["case"];for(const o of t)s.push(["==",r,o[0]],o[1]);return s.push(S3(i,e)),s}else if(n==="categorical"){const s=["match",r];for(const o of t)Ia(s,o[0],o[1],!1);return s.push(S3(i,e)),s}else if(n==="interval"){const s=["step",["number",r]];for(const o of t)Ia(s,o[0],o[1],!0);return LI(s),i.default===void 0?s:["case",["==",["typeof",r],"number"],s,fA(i.default)]}else if(n==="exponential"){const s=i.base!==void 0?i.base:1,o=[FI(i),s===1?["linear"]:["exponential",s],["number",r]];for(const a of t)Ia(o,a[0],a[1],!1);return i.default===void 0?o:["case",["==",["typeof",r],"number"],o,fA(i.default)]}else throw new Error(`Unknown property function type ${n}`)}function Jv(i,e,t,n=["zoom"]){const r=GI(i,e);let s,o=!1;if(r==="interval")s=["step",n],o=!0;else if(r==="exponential"){const a=i.base!==void 0?i.base:1;s=[FI(i),a===1?["linear"]:["exponential",a],n]}else throw new Error(`Unknown zoom function type "${r}"`);for(const a of t)Ia(s,a[0],a[1],o);return LI(s),s}function LI(i){i[0]==="step"&&i.length===3&&(i.push(0),i.push(i[3]))}function Ia(i,e,t,n){i.length>3&&e===i[i.length-2]||(n&&i.length===2||i.push(e),i.push(t))}function GI(i,e){return i.type?i.type:e.expression.interpolated?"exponential":"interval"}function Kv(i){const e=["concat"],t=/{([^{}]+)}/g;let n=0;for(let r=t.exec(i);r!==null;r=t.exec(i)){const s=i.slice(n,t.lastIndex-r[0].length);n=t.lastIndex,s.length>0&&e.push(s),e.push(["get",r[1]])}if(e.length===1)return i;if(n<i.length)e.push(i.slice(n));else if(e.length===2)return["to-string",e[1]];return e}class Xv extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var Ar=Xv;class NI{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[n,r]of t)this.bindings[n]=r}concat(e){return new NI(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1}}var Zv=NI;const Pd={kind:"null"},j={kind:"number"},pt={kind:"string"},lt={kind:"boolean"},Ur={kind:"color"},_a={kind:"object"},ut={kind:"value"},Wv={kind:"error"},Ud={kind:"collator"},Od={kind:"formatted"},dA={kind:"resolvedImage"};function Bi(i,e){return{kind:"array",itemType:i,N:e}}function ge(i){if(i.kind==="array"){const e=ge(i.itemType);return typeof i.N=="number"?`array<${e}, ${i.N}>`:i.itemType.kind==="value"?"array":`array<${e}>`}else return i.kind}const $v=[Pd,j,pt,lt,Ur,Od,_a,Bi(ut),dA];function gA(i,e){if(e.kind==="error")return null;if(i.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!gA(i.itemType,e.itemType))&&(typeof i.N!="number"||i.N===e.N))return null}else{if(i.kind===e.kind)return null;if(i.kind==="value"){for(const t of $v)if(!gA(t,e))return null}}return`Expected ${ge(i)} but found ${ge(e)} instead.`}function PI(i,e){return e.some(t=>t.kind===i.kind)}function pA(i,e){return e.some(t=>t==="null"?i===null:t==="array"?Array.isArray(i):t==="object"?i&&!Array.isArray(i)&&typeof i=="object":t===typeof i)}class UI{constructor(e,t,n){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class OI{constructor(e,t,n,r,s){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=s}}class lr{constructor(e){this.sections=e}static fromString(e){return new lr([new OI(e,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof lr?e:lr.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class M0{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new M0({name:e,available:!1}):null}serialize(){return["image",this.name]}}function D3(i,e,t,n){return typeof i=="number"&&i>=0&&i<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255?typeof n>"u"||typeof n=="number"&&n>=0&&n<=1?null:`Invalid rgba value [${[i,e,t,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof n=="number"?[i,e,t,n]:[i,e,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function zd(i){if(i===null)return!0;if(typeof i=="string")return!0;if(typeof i=="boolean")return!0;if(typeof i=="number")return!0;if(i instanceof xi)return!0;if(i instanceof UI)return!0;if(i instanceof lr)return!0;if(i instanceof M0)return!0;if(Array.isArray(i)){for(const e of i)if(!zd(e))return!1;return!0}else if(typeof i=="object"){for(const e in i)if(!zd(i[e]))return!1;return!0}else return!1}function Ye(i){if(i===null)return Pd;if(typeof i=="string")return pt;if(typeof i=="boolean")return lt;if(typeof i=="number")return j;if(i instanceof xi)return Ur;if(i instanceof UI)return Ud;if(i instanceof lr)return Od;if(i instanceof M0)return dA;if(Array.isArray(i)){const e=i.length;let t;for(const n of i){const r=Ye(n);if(!t)t=r;else{if(t===r)continue;t=ut;break}}return Bi(t||ut,e)}else return _a}function IA(i){const e=typeof i;return i===null?"":e==="string"||e==="number"||e==="boolean"?String(i):i instanceof xi||i instanceof lr||i instanceof M0?i.toString():JSON.stringify(i)}class zI{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!zd(e[1]))return t.error("invalid value");const n=e[1];let r=Ye(n);const s=t.expectedType;return r.kind==="array"&&r.N===0&&s&&s.kind==="array"&&(typeof s.N!="number"||s.N===0)&&(r=s),new zI(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof xi?["rgba"].concat(this.value.toArray()):this.value instanceof lr?this.value.serialize():this.value}}var qd=zI;class tR{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}var an=tR;const qI={string:pt,number:j,boolean:lt,object:_a};class YI{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n=1,r;const s=e[0];if(s==="array"){let a;if(e.length>2){const x=e[1];if(typeof x!="string"||!(x in qI)||x==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=qI[x],n++}else a=ut;let c;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);c=e[2],n++}r=Bi(a,c)}else r=qI[s];const o=[];for(;n<e.length;n++){const a=t.parse(e[n],n,ut);if(!a)return null;o.push(a)}return new YI(r,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(gA(this.type,Ye(n))){if(t===this.args.length-1)throw new an(`Expected value to be of type ${ge(this.type)}, but found ${ge(Ye(n))} instead.`)}else return n}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if(e.kind==="array"){const n=e.itemType;if(n.kind==="string"||n.kind==="number"||n.kind==="boolean"){t.push(n.kind);const r=e.N;(typeof r=="number"||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map(n=>n.serialize()))}}var Or=YI;class Yd{constructor(e){this.type=Od,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&typeof n=="object")return t.error("First argument must be an image or text section.");const r=[];let s=!1;for(let o=1;o<=e.length-1;++o){const a=e[o];if(s&&typeof a=="object"&&!Array.isArray(a)){s=!1;let c=null;if(a["font-scale"]&&(c=t.parse(a["font-scale"],1,j),!c))return null;let x=null;if(a["text-font"]&&(x=t.parse(a["text-font"],1,Bi(pt)),!x))return null;let A=null;if(a["text-color"]&&(A=t.parse(a["text-color"],1,Ur),!A))return null;const l=r[r.length-1];l.scale=c,l.font=x,l.textColor=A}else{const c=t.parse(e[o],1,ut);if(!c)return null;const x=c.type.kind;if(x!=="string"&&x!=="value"&&x!=="null"&&x!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");s=!0,r.push({content:c,scale:null,font:null,textColor:null})}}return new Yd(r)}evaluate(e){const t=n=>{const r=n.content.evaluate(e);return Ye(r)===dA?new OI("",r,null,null,null):new OI(IA(r),null,n.scale?n.scale.evaluate(e):null,n.font?n.font.evaluate(e).join(","):null,n.textColor?n.textColor.evaluate(e):null)};return new lr(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class Hd{constructor(e){this.type=dA,this.input=e}static parse(e,t){if(e.length!==2)return t.error("Expected two arguments.");const n=t.parse(e[1],1,pt);return n?new Hd(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=M0.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const eR={"to-boolean":lt,"to-color":Ur,"to-number":j,"to-string":pt};class HI{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if((n==="to-boolean"||n==="to-string")&&e.length!==2)return t.error("Expected one argument.");const r=eR[n],s=[];for(let o=1;o<e.length;o++){const a=t.parse(e[o],o,ut);if(!a)return null;s.push(a)}return new HI(r,s)}evaluate(e){if(this.type.kind==="boolean")return!!this.args[0].evaluate(e);if(this.type.kind==="color"){let t,n;for(const r of this.args){if(t=r.evaluate(e),n=null,t instanceof xi)return t;if(typeof t=="string"){const s=e.parseColor(t);if(s)return s}else if(Array.isArray(t)&&(t.length<3||t.length>4?n=`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:n=D3(t[0],t[1],t[2],t[3]),!n))return new xi(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new an(n||`Could not parse color from value '${typeof t=="string"?t:String(JSON.stringify(t))}'`)}else if(this.type.kind==="number"){let t=null;for(const n of this.args){if(t=n.evaluate(e),t===null)return 0;const r=Number(t);if(!isNaN(r))return r}throw new an(`Could not convert ${JSON.stringify(t)} to number.`)}else return this.type.kind==="formatted"?lr.fromString(IA(this.args[0].evaluate(e))):this.type.kind==="resolvedImage"?M0.fromString(IA(this.args[0].evaluate(e))):IA(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Yd([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Hd(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild(t=>{e.push(t.serialize())}),e}}var ma=HI;const nR=["Unknown","Point","LineString","Polygon"];class iR{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?nR[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:n,y:r}=this.featureTileCoord,s=n*t-e[0],o=r*t-e[1],a=this.featureDistanceData.bearing[0],c=this.featureDistanceData.bearing[1];return a*s+c*o}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=xi.parse(e)),t}}var k3=iR;class Ea{constructor(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const n=e[0],r=Ea.definitions[n];if(!r)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const s=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=o.filter(([x])=>!Array.isArray(x)||x.length===e.length-1);let c=null;for(const[x,A]of a){c=new U3(t.registry,t.path,null,t.scope);const l=[];let u=!1;for(let h=1;h<e.length;h++){const f=e[h],g=Array.isArray(x)?x[h-1]:x.type,d=c.parse(f,1+l.length,g);if(!d){u=!0;break}l.push(d)}if(!u){if(Array.isArray(x)&&x.length!==l.length){c.error(`Expected ${x.length} arguments, but found ${l.length} instead.`);continue}for(let h=0;h<l.length;h++){const f=Array.isArray(x)?x[h]:x.type,g=l[h];c.concat(h+1).checkSubtype(f,g.type)}if(c.errors.length===0)return new Ea(n,s,A,l)}}if(a.length===1)t.errors.push(...c.errors);else{const A=(a.length?a:o).map(([u])=>rR(u)).join(" | "),l=[];for(let u=1;u<e.length;u++){const h=t.parse(e[u],1+l.length);if(!h)return null;l.push(ge(h.type))}t.error(`Expected arguments of type ${A}, but found (${l.join(", ")}) instead.`)}return null}static register(e,t){Ea.definitions=t;for(const n in t)e[n]=Ea}}function rR(i){return Array.isArray(i)?`(${i.map(ge).join(", ")})`:`(${ge(i.type)}...)`}var ya=Ea;class jd{constructor(e,t,n){this.type=Ud,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(e.length!==2)return t.error("Expected one argument.");const n=e[1];if(typeof n!="object"||Array.isArray(n))return t.error("Collator options argument must be an object.");const r=t.parse(n["case-sensitive"]===void 0?!1:n["case-sensitive"],1,lt);if(!r)return null;const s=t.parse(n["diacritic-sensitive"]===void 0?!1:n["diacritic-sensitive"],1,lt);if(!s)return null;let o=null;return n.locale&&(o=t.parse(n.locale,1,pt),!o)?null:new jd(r,s,o)}evaluate(e){return new UI(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const F0=8192;function jI(i,e){i[0]=Math.min(i[0],e[0]),i[1]=Math.min(i[1],e[1]),i[2]=Math.max(i[2],e[0]),i[3]=Math.max(i[3],e[1])}function sR(i){return(180+i)/360}function oR(i){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360}function Vd(i,e){return!(i[0]<=e[0]||i[2]>=e[2]||i[1]<=e[1]||i[3]>=e[3])}function aR(i,e){const t=sR(i[0]),n=oR(i[1]),r=Math.pow(2,e.z);return[Math.round(t*r*F0),Math.round(n*r*F0)]}function xR(i,e,t){const n=i[0]-e[0],r=i[1]-e[1],s=i[0]-t[0],o=i[1]-t[1];return n*o-s*r===0&&n*s<=0&&r*o<=0}function cR(i,e,t){return e[1]>i[1]!=t[1]>i[1]&&i[0]<(t[0]-e[0])*(i[1]-e[1])/(t[1]-e[1])+e[0]}function VI(i,e){let t=!1;for(let n=0,r=e.length;n<r;n++){const s=e[n];for(let o=0,a=s.length;o<a-1;o++){if(xR(i,s[o],s[o+1]))return!1;cR(i,s[o],s[o+1])&&(t=!t)}}return t}function AR(i,e){for(let t=0;t<e.length;t++)if(VI(i,e[t]))return!0;return!1}function lR(i,e){return i[0]*e[1]-i[1]*e[0]}function M3(i,e,t,n){const r=i[0]-t[0],s=i[1]-t[1],o=e[0]-t[0],a=e[1]-t[1],c=n[0]-t[0],x=n[1]-t[1],A=r*x-c*s,l=o*x-c*a;return A>0&&l<0||A<0&&l>0}function uR(i,e,t,n){const r=[e[0]-i[0],e[1]-i[1]],s=[n[0]-t[0],n[1]-t[1]];return lR(s,r)===0?!1:!!(M3(i,e,t,n)&&M3(t,n,i,e))}function hR(i,e,t){for(const n of t)for(let r=0;r<n.length-1;++r)if(uR(i,e,n[r],n[r+1]))return!0;return!1}function F3(i,e){for(let t=0;t<i.length;++t)if(!VI(i[t],e))return!1;for(let t=0;t<i.length-1;++t)if(hR(i[t],i[t+1],e))return!1;return!0}function fR(i,e){for(let t=0;t<e.length;t++)if(F3(i,e[t]))return!0;return!1}function JI(i,e,t){const n=[];for(let r=0;r<i.length;r++){const s=[];for(let o=0;o<i[r].length;o++){const a=aR(i[r][o],t);jI(e,a),s.push(a)}n.push(s)}return n}function T3(i,e,t){const n=[];for(let r=0;r<i.length;r++){const s=JI(i[r],e,t);n.push(s)}return n}function L3(i,e,t,n){if(i[0]<t[0]||i[0]>t[2]){const r=n*.5;let s=i[0]-t[0]>r?-n:t[0]-i[0]>r?n:0;s===0&&(s=i[0]-t[2]>r?-n:t[2]-i[0]>r?n:0),i[0]+=s}jI(e,i)}function dR(i){i[0]=i[1]=1/0,i[2]=i[3]=-1/0}function G3(i,e,t,n){const r=Math.pow(2,n.z)*F0,s=[n.x*F0,n.y*F0],o=[];if(!i)return o;for(const a of i)for(const c of a){const x=[c.x+s[0],c.y+s[1]];L3(x,e,t,r),o.push(x)}return o}function N3(i,e,t,n){const r=Math.pow(2,n.z)*F0,s=[n.x*F0,n.y*F0],o=[];if(!i)return o;for(const a of i){const c=[];for(const x of a){const A=[x.x+s[0],x.y+s[1]];jI(e,A),c.push(A)}o.push(c)}if(e[2]-e[0]<=r/2){dR(e);for(const a of o)for(const c of a)L3(c,e,t,r)}return o}function gR(i,e){const t=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=i.canonicalID();if(!r)return!1;if(e.type==="Polygon"){const s=JI(e.coordinates,n,r),o=G3(i.geometry(),t,n,r);if(!Vd(t,n))return!1;for(const a of o)if(!VI(a,s))return!1}if(e.type==="MultiPolygon"){const s=T3(e.coordinates,n,r),o=G3(i.geometry(),t,n,r);if(!Vd(t,n))return!1;for(const a of o)if(!AR(a,s))return!1}return!0}function pR(i,e){const t=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],r=i.canonicalID();if(!r)return!1;if(e.type==="Polygon"){const s=JI(e.coordinates,n,r),o=N3(i.geometry(),t,n,r);if(!Vd(t,n))return!1;for(const a of o)if(!F3(a,s))return!1}if(e.type==="MultiPolygon"){const s=T3(e.coordinates,n,r),o=N3(i.geometry(),t,n,r);if(!Vd(t,n))return!1;for(const a of o)if(!fR(a,s))return!1}return!0}class _A{constructor(e,t){this.type=lt,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(zd(e[1])){const n=e[1];if(n.type==="FeatureCollection")for(let r=0;r<n.features.length;++r){const s=n.features[r].geometry.type;if(s==="Polygon"||s==="MultiPolygon")return new _A(n,n.features[r].geometry)}else if(n.type==="Feature"){const r=n.geometry.type;if(r==="Polygon"||r==="MultiPolygon")return new _A(n,n.geometry)}else if(n.type==="Polygon"||n.type==="MultiPolygon")return new _A(n,n)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return gR(e,this.geometries);if(e.geometryType()==="LineString")return pR(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var KI=_A;function Jd(i){if(i instanceof ya){if(i.name==="get"&&i.args.length===1)return!1;if(i.name==="feature-state")return!1;if(i.name==="has"&&i.args.length===1)return!1;if(i.name==="properties"||i.name==="geometry-type"||i.name==="id")return!1;if(/^filter-/.test(i.name))return!1}if(i instanceof KI)return!1;let e=!0;return i.eachChild(t=>{e&&!Jd(t)&&(e=!1)}),e}function XI(i){if(i instanceof ya&&i.name==="feature-state")return!1;let e=!0;return i.eachChild(t=>{e&&!XI(t)&&(e=!1)}),e}function ZI(i,e){if(i instanceof ya&&e.indexOf(i.name)>=0)return!1;let t=!0;return i.eachChild(n=>{t&&!ZI(n,e)&&(t=!1)}),t}class WI{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new WI(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var P3=WI;class $I{constructor(e,t=[],n,r=new Zv,s=[]){this.registry=e,this.path=t,this.key=t.map(o=>`[${o}]`).join(""),this.scope=r,this.errors=s,this.expectedType=n}parse(e,t,n,r,s={}){return t?this.concat(t,n,r)._parse(e,s):this._parse(e,s)}_parse(e,t){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function n(r,s,o){return o==="assert"?new Or(s,[r]):o==="coerce"?new ma(s,[r]):r}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if(typeof r!="string")return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const s=this.registry[r];if(s){let o=s.parse(e,this);if(!o)return null;if(this.expectedType){const a=this.expectedType,c=o.type;if((a.kind==="string"||a.kind==="number"||a.kind==="boolean"||a.kind==="object"||a.kind==="array")&&c.kind==="value")o=n(o,a,t.typeAnnotation||"assert");else if((a.kind==="color"||a.kind==="formatted"||a.kind==="resolvedImage")&&(c.kind==="value"||c.kind==="string"))o=n(o,a,t.typeAnnotation||"coerce");else if(this.checkSubtype(a,c))return null}if(!(o instanceof qd)&&o.type.kind!=="resolvedImage"&&t_(o)){const a=new k3;try{o=new qd(o.type,o.evaluate(a))}catch(c){return this.error(c.message),null}}return o}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const r=typeof e=="number"?this.path.concat(e):this.path,s=n?this.scope.concat(n):this.scope;return new $I(this.registry,r,t||null,s,this.errors)}error(e,...t){const n=`${this.key}${t.map(r=>`[${r}]`).join("")}`;this.errors.push(new Ar(n,e))}checkSubtype(e,t){const n=gA(e,t);return n&&this.error(n),n}}var U3=$I;function t_(i){if(i instanceof P3)return t_(i.boundExpression);if(i instanceof ya&&i.name==="error")return!1;if(i instanceof jd)return!1;if(i instanceof KI)return!1;const e=i instanceof ma||i instanceof Or;let t=!0;return i.eachChild(n=>{e?t=t&&t_(n):t=t&&n instanceof qd}),t?Jd(i)&&ZI(i,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"]):!1}function O3(i,e){const t=i.length-1;let n=0,r=t,s=0,o,a;for(;n<=r;)if(s=Math.floor((n+r)/2),o=i[s],a=i[s+1],o<=e){if(s===t||e<a)return s;n=s+1}else if(o>e)r=s-1;else throw new an("Input is not a number.");return 0}class e_{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[r,s]of n)this.labels.push(r),this.outputs.push(s)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,j);if(!n)return null;const r=[];let s=null;t.expectedType&&t.expectedType.kind!=="value"&&(s=t.expectedType);for(let o=1;o<e.length;o+=2){const a=o===1?-1/0:e[o],c=e[o+1],x=o,A=o+1;if(typeof a!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',x);if(r.length&&r[r.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',x);const l=t.parse(c,A,s);if(!l)return null;s=s||l.type,r.push([a,l])}return new e_(s,n,r)}evaluate(e){const t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const s=t.length;if(r>=t[s-1])return n[s-1].evaluate(e);const o=O3(t,r);return n[o].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var z3=e_,IR=Ca;function Ca(i,e,t,n){this.cx=3*i,this.bx=3*(t-i)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=i,this.p1y=n,this.p2x=t,this.p2y=n}Ca.prototype.sampleCurveX=function(i){return((this.ax*i+this.bx)*i+this.cx)*i},Ca.prototype.sampleCurveY=function(i){return((this.ay*i+this.by)*i+this.cy)*i},Ca.prototype.sampleCurveDerivativeX=function(i){return(3*this.ax*i+2*this.bx)*i+this.cx},Ca.prototype.solveCurveX=function(i,e){typeof e>"u"&&(e=1e-6);var t,n,r,s,o;for(r=i,o=0;o<8;o++){if(s=this.sampleCurveX(r)-i,Math.abs(s)<e)return r;var a=this.sampleCurveDerivativeX(r);if(Math.abs(a)<1e-6)break;r=r-s/a}if(t=0,n=1,r=i,r<t)return t;if(r>n)return n;for(;t<n;){if(s=this.sampleCurveX(r),Math.abs(s-i)<e)return r;i>s?t=r:n=r,r=(n-t)*.5+t}return r},Ca.prototype.solve=function(i,e){return this.sampleCurveY(this.solveCurveX(i,e))};var _R=w3(IR);function ci(i,e,t){return i*(1-t)+e*t}function mR(i,e,t){return new xi(ci(i.r,e.r,t),ci(i.g,e.g,t),ci(i.b,e.b,t),ci(i.a,e.a,t))}function ER(i,e,t){return i.map((n,r)=>ci(n,e[r],t))}var yR=Object.freeze({__proto__:null,number:ci,color:mR,array:ER});const q3=.95047,Y3=1,H3=1.08883,j3=4/29,ba=6/29,V3=3*ba*ba,CR=ba*ba*ba,bR=Math.PI/180,BR=180/Math.PI;function n_(i){return i>CR?Math.pow(i,1/3):i/V3+j3}function i_(i){return i>ba?i*i*i:V3*(i-j3)}function r_(i){return 255*(i<=.0031308?12.92*i:1.055*Math.pow(i,1/2.4)-.055)}function s_(i){return i/=255,i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function J3(i){const e=s_(i.r),t=s_(i.g),n=s_(i.b),r=n_((.4124564*e+.3575761*t+.1804375*n)/q3),s=n_((.2126729*e+.7151522*t+.072175*n)/Y3),o=n_((.0193339*e+.119192*t+.9503041*n)/H3);return{l:116*s-16,a:500*(r-s),b:200*(s-o),alpha:i.a}}function K3(i){let e=(i.l+16)/116,t=isNaN(i.a)?e:e+i.a/500,n=isNaN(i.b)?e:e-i.b/200;return e=Y3*i_(e),t=q3*i_(t),n=H3*i_(n),new xi(r_(3.2404542*t-1.5371385*e-.4985314*n),r_(-.969266*t+1.8760108*e+.041556*n),r_(.0556434*t-.2040259*e+1.0572252*n),i.alpha)}function wR(i,e,t){return{l:ci(i.l,e.l,t),a:ci(i.a,e.a,t),b:ci(i.b,e.b,t),alpha:ci(i.alpha,e.alpha,t)}}function QR(i){const{l:e,a:t,b:n}=J3(i),r=Math.atan2(n,t)*BR;return{h:r<0?r+360:r,c:Math.sqrt(t*t+n*n),l:e,alpha:i.a}}function vR(i){const e=i.h*bR,t=i.c,n=i.l;return K3({l:n,a:Math.cos(e)*t,b:Math.sin(e)*t,alpha:i.alpha})}function RR(i,e,t){const n=e-i;return i+t*(n>180||n<-180?n-360*Math.round(n/360):n)}function SR(i,e,t){return{h:RR(i.h,e.h,t),c:ci(i.c,e.c,t),l:ci(i.l,e.l,t),alpha:ci(i.alpha,e.alpha,t)}}const Kd={forward:J3,reverse:K3,interpolate:wR},Xd={forward:QR,reverse:vR,interpolate:SR};class Zd{constructor(e,t,n,r,s){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[o,a]of s)this.labels.push(o),this.outputs.push(a)}static interpolationFactor(e,t,n,r){let s=0;if(e.name==="exponential")s=o_(t,e.base,n,r);else if(e.name==="linear")s=o_(t,1,n,r);else if(e.name==="cubic-bezier"){const o=e.controlPoints;s=new _R(o[0],o[1],o[2],o[3]).solve(o_(t,1,n,r))}return s}static parse(e,t){let[n,r,s,...o]=e;if(!Array.isArray(r)||r.length===0)return t.error("Expected an interpolation type expression.",1);if(r[0]==="linear")r={name:"linear"};else if(r[0]==="exponential"){const x=r[1];if(typeof x!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:x}}else if(r[0]==="cubic-bezier"){const x=r.slice(1);if(x.length!==4||x.some(A=>typeof A!="number"||A<0||A>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:x}}else return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(s=t.parse(s,2,j),!s)return null;const a=[];let c=null;n==="interpolate-hcl"||n==="interpolate-lab"?c=Ur:t.expectedType&&t.expectedType.kind!=="value"&&(c=t.expectedType);for(let x=0;x<o.length;x+=2){const A=o[x],l=o[x+1],u=x+3,h=x+4;if(typeof A!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(a.length&&a[a.length-1][0]>=A)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',u);const f=t.parse(l,h,c);if(!f)return null;c=c||f.type,a.push([A,f])}return c.kind!=="number"&&c.kind!=="color"&&!(c.kind==="array"&&c.itemType.kind==="number"&&typeof c.N=="number")?t.error(`Type ${ge(c)} is not interpolatable.`):new Zd(c,n,r,s,a)}evaluate(e){const t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const s=t.length;if(r>=t[s-1])return n[s-1].evaluate(e);const o=O3(t,r),a=t[o],c=t[o+1],x=Zd.interpolationFactor(this.interpolation,r,a,c),A=n[o].evaluate(e),l=n[o+1].evaluate(e);return this.operator==="interpolate"?yR[this.type.kind.toLowerCase()](A,l,x):this.operator==="interpolate-hcl"?Xd.reverse(Xd.interpolate(Xd.forward(A),Xd.forward(l),x)):Kd.reverse(Kd.interpolate(Kd.forward(A),Kd.forward(l),x))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;this.interpolation.name==="linear"?e=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?e=["linear"]:e=["exponential",this.interpolation.base]:e=["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t}}function o_(i,e,t,n){const r=n-t,s=i-t;return r===0?0:e===1?s/r:(Math.pow(e,s)-1)/(Math.pow(e,r)-1)}var ks=Zd;class Wd{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const r=t.expectedType;r&&r.kind!=="value"&&(n=r);const s=[];for(const a of e.slice(1)){const c=t.parse(a,1+s.length,n,void 0,{typeAnnotation:"omit"});if(!c)return null;n=n||c.type,s.push(c)}return r&&s.some(a=>gA(r,a.type))?new Wd(ut,s):new Wd(n,s)}evaluate(e){let t=null,n=0,r;for(const s of this.args){if(n++,t=s.evaluate(e),t&&t instanceof M0&&!t.available&&(r||(r=t),t=null,n===this.args.length))return r;if(t!==null)break}return t}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var X3=Wd;class a_{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let s=1;s<e.length-1;s+=2){const o=e[s];if(typeof o!="string")return t.error(`Expected string, but found ${typeof o} instead.`,s);if(/[^a-zA-Z0-9_]/.test(o))return t.error("Variable names must contain only alphanumeric characters or '_'.",s);const a=t.parse(e[s+1],s+1);if(!a)return null;n.push([o,a])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return r?new a_(n,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}var Z3=a_;class x_{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,j),r=t.parse(e[2],2,Bi(t.expectedType||ut));if(!n||!r)return null;const s=r.type;return new x_(s.itemType,n,r)}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new an(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new an(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new an(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var DR=x_;class c_{constructor(e,t){this.type=lt,this.needle=e,this.haystack=t}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ut),r=t.parse(e[2],2,ut);return!n||!r?null:PI(n.type,[lt,pt,j,Pd,ut])?new c_(n,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${ge(n.type)} instead`)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(n==null)return!1;if(!pA(t,["boolean","string","number","null"]))throw new an(`Expected first argument to be of type boolean, string, number or null, but found ${ge(Ye(t))} instead.`);if(!pA(n,["string","array"]))throw new an(`Expected second argument to be of type array or string, but found ${ge(Ye(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var kR=c_;class $d{constructor(e,t,n){this.type=j,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ut),r=t.parse(e[2],2,ut);if(!n||!r)return null;if(!PI(n.type,[lt,pt,j,Pd,ut]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${ge(n.type)} instead`);if(e.length===4){const s=t.parse(e[3],3,j);return s?new $d(n,r,s):null}else return new $d(n,r)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!pA(t,["boolean","string","number","null"]))throw new an(`Expected first argument to be of type boolean, string, number or null, but found ${ge(Ye(t))} instead.`);if(!pA(n,["string","array"]))throw new an(`Expected second argument to be of type array or string, but found ${ge(Ye(n))} instead.`);if(this.fromIndex){const r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var MR=$d;class A_{constructor(e,t,n,r,s,o){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=s,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let n,r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const s={},o=[];for(let x=2;x<e.length-1;x+=2){let A=e[x];const l=e[x+1];Array.isArray(A)||(A=[A]);const u=t.concat(x);if(A.length===0)return u.error("Expected at least one branch label.");for(const f of A){if(typeof f!="number"&&typeof f!="string")return u.error("Branch labels must be numbers or strings.");if(typeof f=="number"&&Math.abs(f)>Number.MAX_SAFE_INTEGER)return u.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof f=="number"&&Math.floor(f)!==f)return u.error("Numeric branch labels must be integer values.");if(!n)n=Ye(f);else if(u.checkSubtype(n,Ye(f)))return null;if(typeof s[String(f)]<"u")return u.error("Branch labels must be unique.");s[String(f)]=o.length}const h=t.parse(l,x,r);if(!h)return null;r=r||h.type,o.push(h)}const a=t.parse(e[1],1,ut);if(!a)return null;const c=t.parse(e[e.length-1],e.length-1,r);return!c||a.type.kind!=="value"&&t.concat(1).checkSubtype(n,a.type)?null:new A_(n,r,a,s,o,c)}evaluate(e){const t=this.input.evaluate(e);return(Ye(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],r={};for(const o of t){const a=r[this.cases[o]];a===void 0?(r[this.cases[o]]=n.length,n.push([this.cases[o],[o]])):n[a][1].push(o)}const s=o=>this.inputType.kind==="number"?Number(o):o;for(const[o,a]of n)a.length===1?e.push(s(a[0])):e.push(a.map(s)),e.push(this.outputs[o].serialize());return e.push(this.otherwise.serialize()),e}}var FR=A_;class l_{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&t.expectedType.kind!=="value"&&(n=t.expectedType);const r=[];for(let o=1;o<e.length-1;o+=2){const a=t.parse(e[o],o,lt);if(!a)return null;const c=t.parse(e[o+1],o+1,n);if(!c)return null;r.push([a,c]),n=n||c.type}const s=t.parse(e[e.length-1],e.length-1,n);return s?new l_(n,r,s):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var TR=l_;class tg{constructor(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ut),r=t.parse(e[2],2,j);if(!n||!r)return null;if(!PI(n.type,[Bi(ut),pt,ut]))return t.error(`Expected first argument to be of type array or string, but found ${ge(n.type)} instead`);if(e.length===4){const s=t.parse(e[3],3,j);return s?new tg(n.type,n,r,s):null}else return new tg(n.type,n,r)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!pA(t,["string","array"]))throw new an(`Expected first argument to be of type array or string, but found ${ge(Ye(t))} instead.`);if(this.endIndex){const r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var LR=tg;function W3(i,e){return i==="=="||i==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function GR(i,e,t){return e===t}function NR(i,e,t){return e!==t}function PR(i,e,t){return e<t}function UR(i,e,t){return e>t}function OR(i,e,t){return e<=t}function zR(i,e,t){return e>=t}function $3(i,e,t,n){return n.compare(e,t)===0}function qR(i,e,t,n){return!$3(i,e,t,n)}function YR(i,e,t,n){return n.compare(e,t)<0}function HR(i,e,t,n){return n.compare(e,t)>0}function jR(i,e,t,n){return n.compare(e,t)<=0}function VR(i,e,t,n){return n.compare(e,t)>=0}function Ba(i,e,t){const n=i!=="=="&&i!=="!=";return class d4{constructor(s,o,a){this.type=lt,this.lhs=s,this.rhs=o,this.collator=a,this.hasUntypedArgument=s.type.kind==="value"||o.type.kind==="value"}static parse(s,o){if(s.length!==3&&s.length!==4)return o.error("Expected two or three arguments.");const a=s[0];let c=o.parse(s[1],1,ut);if(!c)return null;if(!W3(a,c.type))return o.concat(1).error(`"${a}" comparisons are not supported for type '${ge(c.type)}'.`);let x=o.parse(s[2],2,ut);if(!x)return null;if(!W3(a,x.type))return o.concat(2).error(`"${a}" comparisons are not supported for type '${ge(x.type)}'.`);if(c.type.kind!==x.type.kind&&c.type.kind!=="value"&&x.type.kind!=="value")return o.error(`Cannot compare types '${ge(c.type)}' and '${ge(x.type)}'.`);n&&(c.type.kind==="value"&&x.type.kind!=="value"?c=new Or(x.type,[c]):c.type.kind!=="value"&&x.type.kind==="value"&&(x=new Or(c.type,[x])));let A=null;if(s.length===4){if(c.type.kind!=="string"&&x.type.kind!=="string"&&c.type.kind!=="value"&&x.type.kind!=="value")return o.error("Cannot use collator to compare non-string types.");if(A=o.parse(s[3],3,Ud),!A)return null}return new d4(c,x,A)}evaluate(s){const o=this.lhs.evaluate(s),a=this.rhs.evaluate(s);if(n&&this.hasUntypedArgument){const c=Ye(o),x=Ye(a);if(c.kind!==x.kind||!(c.kind==="string"||c.kind==="number"))throw new an(`Expected arguments for "${i}" to be (string, string) or (number, number), but found (${c.kind}, ${x.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const c=Ye(o),x=Ye(a);if(c.kind!=="string"||x.kind!=="string")return e(s,o,a)}return this.collator?t(s,o,a,this.collator.evaluate(s)):e(s,o,a)}eachChild(s){s(this.lhs),s(this.rhs),this.collator&&s(this.collator)}outputDefined(){return!0}serialize(){const s=[i];return this.eachChild(o=>{s.push(o.serialize())}),s}}}const JR=Ba("==",GR,$3),KR=Ba("!=",NR,qR),XR=Ba("<",PR,YR),ZR=Ba(">",UR,HR),WR=Ba("<=",OR,jR),$R=Ba(">=",zR,VR);class u_{constructor(e,t,n,r,s,o){this.type=pt,this.number=e,this.locale=t,this.currency=n,this.unit=r,this.minFractionDigits=s,this.maxFractionDigits=o}static parse(e,t){if(e.length!==3)return t.error("Expected two arguments.");const n=t.parse(e[1],1,j);if(!n)return null;const r=e[2];if(typeof r!="object"||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let s=null;if(r.locale&&(s=t.parse(r.locale,1,pt),!s))return null;let o=null;if(r.currency&&(o=t.parse(r.currency,1,pt),!o))return null;let a=null;if(r.unit&&(a=t.parse(r.unit,1,pt),!a))return null;let c=null;if(r["min-fraction-digits"]&&(c=t.parse(r["min-fraction-digits"],1,j),!c))return null;let x=null;return r["max-fraction-digits"]&&(x=t.parse(r["max-fraction-digits"],1,j),!x)?null:new u_(n,s,o,a,c,x)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency&&"currency"||this.unit&&"unit"||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class h_{constructor(e){this.type=j,this.input=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?n.type.kind!=="array"&&n.type.kind!=="string"&&n.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${ge(n.type)} instead.`):new h_(n):null}evaluate(e){const t=this.input.evaluate(e);if(typeof t=="string")return t.length;if(Array.isArray(t))return t.length;throw new an(`Expected value to be of type string or array, but found ${ge(Ye(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var tS=h_;const tb={"==":JR,"!=":KR,">":ZR,"<":XR,">=":$R,"<=":WR,array:Or,at:DR,boolean:Or,case:TR,coalesce:X3,collator:jd,format:Yd,image:Hd,in:kR,"index-of":MR,interpolate:ks,"interpolate-hcl":ks,"interpolate-lab":ks,length:tS,let:Z3,literal:qd,match:FR,number:Or,"number-format":u_,object:Or,slice:LR,step:z3,string:Or,"to-boolean":ma,"to-color":ma,"to-number":ma,"to-string":ma,var:P3,within:KI};function eb(i,[e,t,n,r]){e=e.evaluate(i),t=t.evaluate(i),n=n.evaluate(i);const s=r?r.evaluate(i):1,o=D3(e,t,n,s);if(o)throw new an(o);return new xi(e/255*s,t/255*s,n/255*s,s)}function nb(i,e){return i in e}function f_(i,e){const t=e[i];return typeof t>"u"?null:t}function eS(i,e,t,n){for(;t<=n;){const r=t+n>>1;if(e[r]===i)return!0;e[r]>i?n=r-1:t=r+1}return!1}function Ms(i){return{type:i}}ya.register(tb,{error:[Wv,[pt],(i,[e])=>{throw new an(e.evaluate(i))}],typeof:[pt,[ut],(i,[e])=>ge(Ye(e.evaluate(i)))],"to-rgba":[Bi(j,4),[Ur],(i,[e])=>e.evaluate(i).toArray()],rgb:[Ur,[j,j,j],eb],rgba:[Ur,[j,j,j,j],eb],has:{type:lt,overloads:[[[pt],(i,[e])=>nb(e.evaluate(i),i.properties())],[[pt,_a],(i,[e,t])=>nb(e.evaluate(i),t.evaluate(i))]]},get:{type:ut,overloads:[[[pt],(i,[e])=>f_(e.evaluate(i),i.properties())],[[pt,_a],(i,[e,t])=>f_(e.evaluate(i),t.evaluate(i))]]},"feature-state":[ut,[pt],(i,[e])=>f_(e.evaluate(i),i.featureState||{})],properties:[_a,[],i=>i.properties()],"geometry-type":[pt,[],i=>i.geometryType()],id:[ut,[],i=>i.id()],zoom:[j,[],i=>i.globals.zoom],pitch:[j,[],i=>i.globals.pitch||0],"distance-from-center":[j,[],i=>i.distanceFromCenter()],"heatmap-density":[j,[],i=>i.globals.heatmapDensity||0],"line-progress":[j,[],i=>i.globals.lineProgress||0],"sky-radial-progress":[j,[],i=>i.globals.skyRadialProgress||0],accumulated:[ut,[],i=>i.globals.accumulated===void 0?null:i.globals.accumulated],"+":[j,Ms(j),(i,e)=>{let t=0;for(const n of e)t+=n.evaluate(i);return t}],"*":[j,Ms(j),(i,e)=>{let t=1;for(const n of e)t*=n.evaluate(i);return t}],"-":{type:j,overloads:[[[j,j],(i,[e,t])=>e.evaluate(i)-t.evaluate(i)],[[j],(i,[e])=>-e.evaluate(i)]]},"/":[j,[j,j],(i,[e,t])=>e.evaluate(i)/t.evaluate(i)],"%":[j,[j,j],(i,[e,t])=>e.evaluate(i)%t.evaluate(i)],ln2:[j,[],()=>Math.LN2],pi:[j,[],()=>Math.PI],e:[j,[],()=>Math.E],"^":[j,[j,j],(i,[e,t])=>Math.pow(e.evaluate(i),t.evaluate(i))],sqrt:[j,[j],(i,[e])=>Math.sqrt(e.evaluate(i))],log10:[j,[j],(i,[e])=>Math.log(e.evaluate(i))/Math.LN10],ln:[j,[j],(i,[e])=>Math.log(e.evaluate(i))],log2:[j,[j],(i,[e])=>Math.log(e.evaluate(i))/Math.LN2],sin:[j,[j],(i,[e])=>Math.sin(e.evaluate(i))],cos:[j,[j],(i,[e])=>Math.cos(e.evaluate(i))],tan:[j,[j],(i,[e])=>Math.tan(e.evaluate(i))],asin:[j,[j],(i,[e])=>Math.asin(e.evaluate(i))],acos:[j,[j],(i,[e])=>Math.acos(e.evaluate(i))],atan:[j,[j],(i,[e])=>Math.atan(e.evaluate(i))],min:[j,Ms(j),(i,e)=>Math.min(...e.map(t=>t.evaluate(i)))],max:[j,Ms(j),(i,e)=>Math.max(...e.map(t=>t.evaluate(i)))],abs:[j,[j],(i,[e])=>Math.abs(e.evaluate(i))],round:[j,[j],(i,[e])=>{const t=e.evaluate(i);return t<0?-Math.round(-t):Math.round(t)}],floor:[j,[j],(i,[e])=>Math.floor(e.evaluate(i))],ceil:[j,[j],(i,[e])=>Math.ceil(e.evaluate(i))],"filter-==":[lt,[pt,ut],(i,[e,t])=>i.properties()[e.value]===t.value],"filter-id-==":[lt,[ut],(i,[e])=>i.id()===e.value],"filter-type-==":[lt,[pt],(i,[e])=>i.geometryType()===e.value],"filter-<":[lt,[pt,ut],(i,[e,t])=>{const n=i.properties()[e.value],r=t.value;return typeof n==typeof r&&n<r}],"filter-id-<":[lt,[ut],(i,[e])=>{const t=i.id(),n=e.value;return typeof t==typeof n&&t<n}],"filter->":[lt,[pt,ut],(i,[e,t])=>{const n=i.properties()[e.value],r=t.value;return typeof n==typeof r&&n>r}],"filter-id->":[lt,[ut],(i,[e])=>{const t=i.id(),n=e.value;return typeof t==typeof n&&t>n}],"filter-<=":[lt,[pt,ut],(i,[e,t])=>{const n=i.properties()[e.value],r=t.value;return typeof n==typeof r&&n<=r}],"filter-id-<=":[lt,[ut],(i,[e])=>{const t=i.id(),n=e.value;return typeof t==typeof n&&t<=n}],"filter->=":[lt,[pt,ut],(i,[e,t])=>{const n=i.properties()[e.value],r=t.value;return typeof n==typeof r&&n>=r}],"filter-id->=":[lt,[ut],(i,[e])=>{const t=i.id(),n=e.value;return typeof t==typeof n&&t>=n}],"filter-has":[lt,[ut],(i,[e])=>e.value in i.properties()],"filter-has-id":[lt,[],i=>i.id()!==null&&i.id()!==void 0],"filter-type-in":[lt,[Bi(pt)],(i,[e])=>e.value.indexOf(i.geometryType())>=0],"filter-id-in":[lt,[Bi(ut)],(i,[e])=>e.value.indexOf(i.id())>=0],"filter-in-small":[lt,[pt,Bi(ut)],(i,[e,t])=>t.value.indexOf(i.properties()[e.value])>=0],"filter-in-large":[lt,[pt,Bi(ut)],(i,[e,t])=>eS(i.properties()[e.value],t.value,0,t.value.length-1)],all:{type:lt,overloads:[[[lt,lt],(i,[e,t])=>e.evaluate(i)&&t.evaluate(i)],[Ms(lt),(i,e)=>{for(const t of e)if(!t.evaluate(i))return!1;return!0}]]},any:{type:lt,overloads:[[[lt,lt],(i,[e,t])=>e.evaluate(i)||t.evaluate(i)],[Ms(lt),(i,e)=>{for(const t of e)if(t.evaluate(i))return!0;return!1}]]},"!":[lt,[lt],(i,[e])=>!e.evaluate(i)],"is-supported-script":[lt,[pt],(i,[e])=>{const t=i.globals&&i.globals.isSupportedScript;return t?t(e.evaluate(i)):!0}],upcase:[pt,[pt],(i,[e])=>e.evaluate(i).toUpperCase()],downcase:[pt,[pt],(i,[e])=>e.evaluate(i).toLowerCase()],concat:[pt,Ms(ut),(i,e)=>e.map(t=>IA(t.evaluate(i))).join("")],"resolved-locale":[pt,[Ud],(i,[e])=>e.evaluate(i).resolvedLocale()]});var ib=tb;function d_(i){return{result:"success",value:i}}function wa(i){return{result:"error",value:i}}function nS(i){return i["property-type"]==="data-driven"}function iS(i){return!!i.expression&&i.expression.parameters.indexOf("zoom")>-1}function rS(i){return!!i.expression&&i.expression.interpolated}function rb(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}class sS{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new k3,this._defaultValue=t?cS(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(e,t,n,r,s,o,a,c){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r||null,this._evaluator.availableImages=s||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=c||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,r,s,o,a,c){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r||null,this._evaluator.availableImages=s||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=c||null;try{const x=this.expression.evaluate(this._evaluator);if(x==null||typeof x=="number"&&x!==x)return this._defaultValue;if(this._enumValues&&!(x in this._enumValues))throw new an(`Expected value to be one of ${Object.keys(this._enumValues).map(A=>JSON.stringify(A)).join(", ")}, but found ${JSON.stringify(x)} instead.`);return x}catch(x){return this._warningHistory[x.message]||(this._warningHistory[x.message]=!0,typeof console<"u"&&console.warn(x.message)),this._defaultValue}}}function oS(i){return Array.isArray(i)&&i.length>0&&typeof i[0]=="string"&&i[0]in ib}function g_(i,e){const t=new U3(ib,[],e?xS(e):void 0),n=t.parse(i,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return n?d_(new sS(n,e)):wa(t.errors)}class sb{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!=="constant"&&!XI(t.expression)}evaluateWithoutErrorHandling(e,t,n,r,s,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,s,o)}evaluate(e,t,n,r,s,o){return this._styleExpression.evaluate(e,t,n,r,s,o)}}class ob{constructor(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent=e!=="camera"&&!XI(t.expression),this.interpolationType=r}evaluateWithoutErrorHandling(e,t,n,r,s,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,s,o)}evaluate(e,t,n,r,s,o){return this._styleExpression.evaluate(e,t,n,r,s,o)}interpolationFactor(e,t,n){return this.interpolationType?ks.interpolationFactor(this.interpolationType,e,t,n):0}}function aS(i,e){if(i=g_(i,e),i.result==="error")return i;const t=i.value.expression,n=Jd(t);if(!n&&!nS(e))return wa([new Ar("","data expressions not supported")]);const r=ZI(t,["zoom","pitch","distance-from-center"]);if(!r&&!iS(e))return wa([new Ar("","zoom expressions not supported")]);const s=eg(t);if(!s&&!r)return wa([new Ar("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(s instanceof Ar)return wa([s]);if(s instanceof ks&&!rS(e))return wa([new Ar("",'"interpolate" expressions cannot be used with this property')]);if(!s)return d_(n?new sb("constant",i.value):new sb("source",i.value));const o=s instanceof ks?s.interpolation:void 0;return d_(n?new ob("camera",i.value,s.labels,o):new ob("composite",i.value,s.labels,o))}function eg(i){let e=null;if(i instanceof Z3)e=eg(i.result);else if(i instanceof X3){for(const t of i.args)if(e=eg(t),e)break}else(i instanceof z3||i instanceof ks)&&i.input instanceof ya&&i.input.name==="zoom"&&(e=i);return e instanceof Ar||i.eachChild(t=>{const n=eg(t);n instanceof Ar?e=n:!e&&n?e=new Ar("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new Ar("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function xS(i){const e={color:Ur,string:pt,number:j,enum:pt,boolean:lt,formatted:Od,resolvedImage:dA};return i.type==="array"?Bi(e[i.value]||ut,i.length):e[i.type]}function cS(i){return i.type==="color"&&(rb(i.default)||Array.isArray(i.default))?new xi(0,0,0,0):i.type==="color"?xi.parse(i.default)||null:i.default===void 0?null:i.default}function AS(i){return i instanceof Number||i instanceof String||i instanceof Boolean?i.valueOf():i}function p_(i){if(Array.isArray(i))return i.map(p_);if(i instanceof Object&&!(i instanceof Number||i instanceof String||i instanceof Boolean)){const e={};for(const t in i)e[t]=p_(i[t]);return e}return AS(i)}var ab={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"},"fill-extrusion-edge-radius":{type:"number",private:!0,default:0,minimum:0,maximum:1,"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant",type:"number",private:!0,default:0,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant",type:"number",private:!0,default:3,minimum:0,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["fill-extrusion-edge-radius"]}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!1,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function xb(i){if(i===!0||i===!1)return!0;if(!Array.isArray(i)||i.length===0)return!1;switch(i[0]){case"has":return i.length>=2&&i[1]!=="$id"&&i[1]!=="$type";case"in":return i.length>=3&&(typeof i[1]!="string"||Array.isArray(i[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return i.length!==3||Array.isArray(i[1])||Array.isArray(i[2]);case"any":case"all":for(const e of i.slice(1))if(!xb(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}function lS(i,e="fill"){if(i==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};xb(i)||(i=ng(i));const t=i;let n=!0;try{n=uS(t)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
>>>>>>> Stashed changes
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(t,null,2)}
<<<<<<< Updated upstream
        `)}const r=u4[`filter_${e}`],s=TC(n,r);let a=null;if(s.result==="error")throw new Error(s.value.map(x=>`${x.key}: ${x.message}`).join(", "));a=(x,u,h)=>s.value.evaluate(x,u,{},h);let o=null,l=null;if(n!==t){const x=TC(t,r);if(x.result==="error")throw new Error(x.value.map(u=>`${u.key}: ${u.message}`).join(", "));o=(u,h,f,A,g)=>x.value.evaluate(u,h,{},f,void 0,void 0,A,g),l=!f2(x.value.expression)}a=a;const c=d4(n);return{filter:a,dynamicFilter:o||void 0,needGeometry:c,needFeature:!!l}}function wU(i){if(!Nl(i))return i;let e=DC(i);return A4(e),e=f4(e),e}function f4(i){if(!Array.isArray(i))return i;const e=MU(i);return e===!0?e:e.map(t=>f4(t))}function A4(i){let e=!1;const t=[];if(i[0]==="case"){for(let n=1;n<i.length-1;n+=2)e=e||Nl(i[n]),t.push(i[n+1]);t.push(i[i.length-1])}else if(i[0]==="match"){e=e||Nl(i[1]);for(let n=2;n<i.length-1;n+=2)t.push(i[n+1]);t.push(i[i.length-1])}else if(i[0]==="step"){e=e||Nl(i[1]);for(let n=1;n<i.length-1;n+=2)t.push(i[n+1])}e&&(i.length=0,i.push("any",...t));for(let n=1;n<i.length;n++)A4(i[n])}function Nl(i){if(!Array.isArray(i))return!1;if(BU(i[0]))return!0;for(let e=1;e<i.length;e++){const t=i[e];if(Nl(t))return!0}return!1}function BU(i){return i==="pitch"||i==="distance-from-center"}const SU=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function MU(i){if(SU.has(i[0]))for(let e=1;e<i.length;e++){const t=i[e];if(Nl(t))return!0}return i}function RU(i,e){return i<e?-1:i>e?1:0}function d4(i){if(!Array.isArray(i))return!1;if(i[0]==="within")return!0;for(let e=1;e<i.length;e++)if(d4(i[e]))return!0;return!1}function E2(i){if(!i)return!0;const e=i[0];return i.length<=1?e!=="any":e==="=="?QC(i[1],i[2],"=="):e==="!="?y2(QC(i[1],i[2],"==")):e==="<"||e===">"||e==="<="||e===">="?QC(i[1],i[2],e):e==="any"?TU(i.slice(1)):e==="all"?["all"].concat(i.slice(1).map(E2)):e==="none"?["all"].concat(i.slice(1).map(E2).map(y2)):e==="in"?p4(i[1],i.slice(2)):e==="!in"?y2(p4(i[1],i.slice(2))):e==="has"?g4(i[1]):e==="!has"?y2(g4(i[1])):e==="within"?i:!0}function QC(i,e,t){switch(i){case"$type":return[`filter-type-${t}`,e];case"$id":return[`filter-id-${t}`,e];default:return[`filter-${t}`,i,e]}}function TU(i){return["any"].concat(i.map(E2))}function p4(i,e){if(e.length===0)return!1;switch(i){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",i,["literal",e.sort(RU)]]:["filter-in-small",i,["literal",e]]}}function g4(i){switch(i){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",i]}}function y2(i){return["!",i]}var DU=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function QU(i,e){const t={};for(const n in i)n!=="ref"&&(t[n]=i[n]);return DU.forEach(n=>{n in e&&(t[n]=e[n])}),t}function m4(i){i=i.slice();const e=Object.create(null);for(let t=0;t<i.length;t++)e[i[t].id]=i[t];for(let t=0;t<i.length;t++)"ref"in i[t]&&(i[t]=QU(i[t],e[i[t].ref]));return i}var _4={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},mf=" ",I4=/(italic|oblique)$/i,E4={},FU=function(i,e,t){var n=E4[i];if(!n){Array.isArray(i)||(i=[i]);for(var r=400,s="normal",a=[],o,l,c=0,x=i.length;c<x;++c){var u=i[c],h=u.split(" "),f=h[h.length-1].toLowerCase();f=="normal"||f=="italic"||f=="oblique"?(s=l?s:f,l=!0,h.pop(),f=h[h.length-1].toLowerCase()):I4.test(f)&&(f=f.replace(I4,""),s=l?s:h[h.length-1].replace(f,""),l=!0);for(var A in _4){var g=h.length>1?h[h.length-2].toLowerCase():"";if(f==A||f==A.replace("-","")||g+"-"+f==A){r=o?r:_4[A],h.pop(),g&&A.startsWith(g)&&h.pop();break}}!o&&typeof f=="number"&&(r=f,o=!0);var d=h.join(mf).replace("Klokantech Noto Sans","Noto Sans");d.indexOf(mf)!==-1&&(d='"'+d+'"'),a.push(d)}n=E4[i]=[s,r,a]}return n[0]+mf+n[1]+mf+e+"px"+(t?"/"+t:"")+mf+n[2]},FC=RS(FU);const y4="https://api.mapbox.com";function LC(i){const e="mapbox://";return i.indexOf(e)!==0?"":i.slice(e.length)}function LU(i,e,t){const n=LC(i);if(!n)return decodeURI(new URL(i,t).href);const r="sprites/";if(n.indexOf(r)!==0)throw new Error(`unexpected sprites url: ${i}`);const s=n.slice(r.length);return`${y4}/styles/v1/${s}/sprite?access_token=${e}`}function C2(i,e){const t=LC(i);if(!t)return decodeURI(new URL(i,location.href).href);const n="styles/";if(t.indexOf(n)!==0)throw new Error(`unexpected style url: ${i}`);const r=t.slice(n.length);return`${y4}/styles/v1/${r}?&access_token=${e}`}function b2(i,e,t,n){const r=new URL(i,n),s=LC(i);if(!s)return e&&(r.searchParams.has(t)||r.searchParams.set(t,e)),decodeURI(r.href);if(s==="mapbox.satellite"){const a=window.devicePixelRatio>=1.5?"@2x":"";return`https://api.mapbox.com/v4/${s}/{z}/{x}/{y}${a}.webp?access_token=${e}`}return`https://{a-d}.tiles.mapbox.com/v4/${s}/{z}/{x}/{y}.vector.pbf?access_token=${e}`}const v2={},C4={};let PU=0;function PC(i){return i.id||(i.id=PU++),i.id}function w2(i,e){return PC(i)+"."+et(e)}function kC(i){let e=v2[i.id];return e||(e={},v2[PC(i)]=e),e}function kU(){for(const i in v2)delete v2[i]}function b4(i){let e=C4[i.id];return e||(e={},C4[PC(i)]=e),e}function UC(i){return i*Math.PI/180}const ns=function(){const i=[];for(let e=78271.51696402048;i.length<=24;e/=2)i.push(e);return i}();function B2(i,e){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(i,e);const t=document.createElement("canvas");return t.width=i,t.height=e,t}function NC(i,e){let t=0;const n=e.length;for(;t<n;++t)if(e[t]<i&&t+1<n){const s=e[t]/e[t+1];return t+Math.log(e[t]/i)/Math.log(s)}return n-1}function S2(i,e){const t=Math.floor(i),n=Math.pow(2,i-t);return e[t]/n}const Ol={};function Gl(i,e,t={},n){if(e in Ol)return n&&(n.request=Ol[e][0]),Ol[e][1];const r=t.transformRequest&&t.transformRequest(e,i)||e,s=yc(()=>r).then(a=>(a instanceof Request||(a=new Request(a)),a.headers.get("Accept")||a.headers.set("Accept","application/json"),n&&(n.request=a),fetch(a).then(function(o){return delete Ol[e],o.ok?o.json():Promise.reject(new Error("Error fetching source "+e))}).catch(function(o){return delete Ol[e],Promise.reject(new Error("Error fetching source "+e))})));return Ol[e]=[r,s],s}function OC(i,e){if(typeof i=="string")if(i.trim().startsWith("{"))try{const t=JSON.parse(i);return Promise.resolve(t)}catch(t){return Promise.reject(t)}else return i=C2(i,e.accessToken),Gl("Style",i,e);else return Promise.resolve(i)}const v4={};function w4(i,e,t={}){const n=[e,JSON.stringify(i)].toString();let r=v4[n];if(!r||t.transformRequest){let s;t.transformRequest&&(s=(o,l)=>{const c=t.transformRequest&&t.transformRequest(l,"Tiles")||l;if(o instanceof X5)o.setLoader((x,u,h)=>{yc(()=>c).then(f=>{fetch(f).then(A=>A.arrayBuffer()).then(A=>{const d=o.getFormat().readFeatures(A,{extent:x,featureProjection:h});o.setFeatures(d)}).catch(A=>o.setState(de.ERROR))})});else{const x=o.getImage();yc(()=>c).then(u=>{u instanceof Request?fetch(u).then(h=>h.blob()).then(h=>{const f=URL.createObjectURL(h);x.addEventListener("load",()=>URL.revokeObjectURL(f)),x.addEventListener("error",()=>URL.revokeObjectURL(f)),x.src=f}).catch(h=>o.setState(de.ERROR)):x.src=u})}});const a=i.url;if(a&&!i.tiles){const o=b2(a,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(a.startsWith("mapbox://"))r=Promise.resolve({tileJson:Object.assign({},i,{url:void 0,tiles:N5(o)}),tileLoadFunction:s});else{const l={};r=Gl("Source",o,t,l).then(function(c){return c.tiles=c.tiles.map(function(x){return c.scheme==="tms"&&(x=x.replace("{y}","{-y}")),b2(x,t.accessToken,t.accessTokenParam||"access_token",l.request.url)}),Promise.resolve({tileJson:c,tileLoadFunction:s})})}}else i=Object.assign({},i,{tiles:i.tiles.map(function(o){return i.scheme==="tms"&&(o=o.replace("{y}","{-y}")),b2(o,t.accessToken,t.accessTokenParam||"access_token",e||location.href)})}),r=Promise.resolve({tileJson:Object.assign({},i),tileLoadFunction:s});v4[n]=r}return r}function B4(i,e,t,n){const r=[2*t*e.pixelRatio+e.width,2*t*e.pixelRatio+e.height],s=B2(r[0],r[1]),a=s.getContext("2d");a.drawImage(i,e.x,e.y,e.width,e.height,t*e.pixelRatio,t*e.pixelRatio,e.width,e.height);const o=a.getImageData(0,0,r[0],r[1]);a.globalCompositeOperation="destination-over",a.fillStyle=`rgba(${n.r*255},${n.g*255},${n.b*255},${n.a})`;const l=o.data;for(let c=0,x=o.width;c<x;++c)for(let u=0,h=o.height;u<h;++u){const f=(u*x+c)*4;l[f+3]>0&&a.arc(c,u,t*e.pixelRatio,0,2*Math.PI)}return a.fill(),s}function UU(i,e,t){const n=Math.max(0,Math.min(1,(t-i)/(e-i)));return n*n*(3-2*n)}function S4(i,e,t){const n=B2(e.width,e.height),r=n.getContext("2d");r.drawImage(i,e.x,e.y,e.width,e.height,0,0,e.width,e.height);const s=r.getImageData(0,0,e.width,e.height),a=s.data;for(let o=0,l=s.width;o<l;++o)for(let c=0,x=s.height;c<x;++c){const u=(c*l+o)*4,h=a[u+3]/255,f=.75,A=.1,g=UU(f-A,f+A,h);g>0?(a[u+0]=Math.round(255*t.r*g),a[u+1]=Math.round(255*t.g*g),a[u+2]=Math.round(255*t.b*g),a[u+3]=Math.round(255*g)):a[u+3]=0}return r.putImageData(s,0,0),n}const NU=Array(256).join(" ");function GC(i,e){if(e>=.05){let t="";const n=i.split(`
`),r=NU.slice(0,Math.round(e/.1));for(let s=0,a=n.length;s<a;++s)s>0&&(t+=`
`),t+=n[s].split("").join(r);return t}return i}let zC;function M4(){return zC||(zC=B2(1,1).getContext("2d")),zC}function L0(i,e){return M4().measureText(i).width+(i.length-1)*e}const R4={};function VC(i,e,t,n){if(i.indexOf(`
`)!==-1){const a=i.split(`
`),o=[];for(let l=0,c=a.length;l<c;++l)o.push(VC(a[l],e,t,n));return o.join(`
`)}const r=t+","+e+","+i+","+n;let s=R4[r];if(!s){const a=i.split(" ");if(a.length>1){const o=M4();o.font=e;const c=o.measureText("M").width*t;let x="";const u=[];for(let h=0,f=a.length;h<f;++h){const A=a[h],g=x+(x?" ":"")+A;L0(g,n)<=c?x=g:(x&&u.push(x),x=A)}x&&u.push(x);for(let h=0,f=u.length;h<f&&f>1;++h){const A=u[h];if(L0(A,n)<c*.35){const g=h>0?L0(u[h-1],n):1/0,d=h<f-1?L0(u[h+1],n):1/0;u.splice(h,1),f-=1,g<d?(u[h-1]+=" "+A,h-=1):u[h]=A+" "+u[h]}}for(let h=0,f=u.length-1;h<f;++h){const A=u[h],g=u[h+1];if(L0(A,n)>c*.7&&L0(g,n)<c*.6){const d=A.split(" "),p=d.pop();L0(p,n)<c*.2&&(u[h]=d.join(" "),u[h+1]=p+" "+g),f-=1}}s=u.join(`
`)}else s=i;s=GC(s,n),R4[r]=s}return s}const OU=/font-family: ?([^;]*);/,GU=/("|')/g;let M2;function zU(i){if(!M2){M2={};const e=document.styleSheets;for(let t=0,n=e.length;t<n;++t){const r=e[t];try{const s=r.rules||r.cssRules;if(s)for(let a=0,o=s.length;a<o;++a){const l=s[a];if(l.type==5){const c=l.cssText.match(OU);M2[c[1].replace(GU,"")]=!0}}}catch{}}}return i in M2}const HC={};function VU(i,e="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){const t=i.toString();if(t in HC)return HC[t];const n=[];for(let r=0,s=i.length;r<s;++r){i[r]=i[r].replace("Arial Unicode MS","Arial");const a=i[r],o=FC(a,1);cB(o);const l=o.split(" ");n.push([l.slice(3).join(" ").replace(/"/g,""),l[1],l[0]])}for(let r=0,s=n.length;r<s;++r){const a=n[r],o=a[0];if(!zU(o)&&Cs.get(`${a[2]}
${a[1]} 
${o}`)!==100){const l=e.replace("{font-family}",o.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",o.replace(/ /g,"+")).replace("{fontweight}",a[1]).replace("{-fontstyle}",a[2].replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",a[2]);if(!document.querySelector('link[href="'+l+'"]')){const c=document.createElement("link");c.href=l,c.rel="stylesheet",document.head.appendChild(c)}}}return HC[t]=i,i}const HU={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},qU={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},YU=function(i,e){const t=EU(i,e);if(t.result==="error")throw new Error(t.value.map(n=>`${n.key}: ${n.message}`).join(", "));return t.value},qC={},R2={zoom:0};let T2,YC;function Oe(i,e,t,n,r,s,a){const o=i.id;s||(s={},console.warn("No functionCache provided to getValue()")),s[o]||(s[o]={});const l=s[o];if(!l[t]){let c=(i[e]||qC)[t];const x=u4[`${e}_${i.type}`][t];c===void 0&&(c=x.default);let u=IU(c);if(!u&&c4(c)&&(c=rk(c,x),u=!0),u){const h=YU(c,x);l[t]=h.evaluate.bind(h)}else x.type=="color"&&(c=Ar.parse(c)),l[t]=function(){return c}}return R2.zoom=n,l[t](R2,r,a)}function T4(i,e,t,n,r){return Oe(i,"layout",`${n}-allow-overlap`,e,t,r)?Oe(i,"layout",`${n}-ignore-placement`,e,t,r)?"none":"obstacle":"declutter"}function XU(i,e,t,n,r){return r||console.warn("No filterCache provided to evaluateFilter()"),i in r||(r[i]=vU(e).filter),R2.zoom=n,r[i](R2,t)}let XC=!1;function WU(i){i!==XC&&(kU(),XC=i)}function So(i,e){if(i){if(!XC&&(i.a===0||e===0))return;const t=i.a;return e=e===void 0?1:e,t===0?"transparent":"rgba("+Math.round(i.r*255/t)+","+Math.round(i.g*255/t)+","+Math.round(i.b*255/t)+","+t*e+")"}return i}const jU=/\{[^{}}]*\}/g;function WC(i,e){return i.replace(jU,function(t){return e[t.slice(1,-1)]||""})}let D4=!1;function KU(i=!1){D4=i}const D2={};function _f(i,e,t,n=ns,r=void 0,s=void 0,a=void 0,o=void 0){if(typeof e=="string"&&(e=JSON.parse(e)),e.version!=8)throw new Error("glStyle version 8 required.");D2[w2(e,i)]=Array.from(arguments);let l,c,x;if(s){if(typeof Image<"u"){const C=new Image;let v;yc(()=>s).then(b=>{b instanceof Request?fetch(b).then(w=>w.blob()).then(w=>{v=URL.createObjectURL(w),C.src=v}).catch(()=>{}):(C.crossOrigin="anonymous",C.src=b,v&&URL.revokeObjectURL(v))}),C.onload=function(){l=C,c=[C.width,C.height],i.changed(),C.onload=null}}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){const C=self;C.postMessage({action:"loadImage",src:s}),C.addEventListener("message",function(b){b.data.action==="imageLoaded"&&b.data.src===s&&(l=b.data.image,c=[l.width,l.height])})}}const u=m4(e.layers),h={},f=[],A={},g={},d=kC(e),p=b4(e);let _;for(let C=0,v=u.length;C<v;++C){const b=u[C],w=b.id;if(typeof t=="string"&&b.source==t||Array.isArray(t)&&t.indexOf(w)!==-1){const B=b["source-layer"];if(_){if(b.source!==_)throw new Error(`Layer "${w}" does not use source "${_}`)}else{_=b.source;const Q=e.sources[_];if(!Q)throw new Error(`Source "${_}" is not defined`);const F=Q.type;if(F!=="vector"&&F!=="geojson")throw new Error(`Source "${_}" is not of type "vector" or "geojson", but "${F}"`)}let R=h[B];R||(R=[],h[B]=R),R.push({layer:b,index:C}),f.push(w)}}const I=new Ri,m=new Gi,y=[],E=function(C,v,b){const w=C.getProperties(),B=h[w.layer];if(!B)return;let R=n.indexOf(v);R==-1&&(R=NC(v,n));const Q=HU[C.getGeometry().getType()],F={id:C.getId(),properties:w,type:Q},M=i.get("mapbox-featurestate")[C.getId()];let T=-1,P;for(let k=0,V=B.length;k<V;++k){const Y=B[k],U=Y.layer,te=U.id;if(b!==void 0&&b!==te)continue;const xe=U.layout||qC,G=U.paint||qC;if(xe.visibility==="none"||"minzoom"in U&&R<U.minzoom||"maxzoom"in U&&R>=U.maxzoom)continue;const O=U.filter;if(!O||XU(te,O,F,R,p)){P=U;let ee,K,ce,Ae,ge,oe;const Se=Y.index;if(Q==3&&(U.type=="fill"||U.type=="fill-extrusion"))if(K=Oe(U,"paint",U.type+"-opacity",R,F,d,M),U.type+"-pattern"in G){const ne=Oe(U,"paint",U.type+"-pattern",R,F,d,M);if(ne){const j=typeof ne=="string"?WC(ne,w):ne.toString();if(l&&r&&r[j]){++T,oe=y[T],(!oe||!oe.getFill()||oe.getStroke()||oe.getText())&&(oe=new bt({fill:new Gi}),y[T]=oe),ce=oe.getFill(),oe.setZIndex(Se);const Ie=j+"."+K;let fe=g[Ie];if(!fe){const ue=r[j],Te=B2(ue.width,ue.height),le=Te.getContext("2d");le.globalAlpha=K,le.drawImage(l,ue.x,ue.y,ue.width,ue.height,0,0,ue.width,ue.height),fe=le.createPattern(Te,"repeat"),g[Ie]=fe}ce.setColor(fe)}}}else ee=So(Oe(U,"paint",U.type+"-color",R,F,d,M),K),U.type+"-outline-color"in G&&(ge=So(Oe(U,"paint",U.type+"-outline-color",R,F,d,M),K)),ge||(ge=ee),(ee||ge)&&(++T,oe=y[T],(!oe||ee&&!oe.getFill()||!ee&&oe.getFill()||ge&&!oe.getStroke()||!ge&&oe.getStroke()||oe.getText())&&(oe=new bt({fill:ee?new Gi:void 0,stroke:ge?new Ri:void 0}),y[T]=oe),ee&&(ce=oe.getFill(),ce.setColor(ee)),ge&&(Ae=oe.getStroke(),Ae.setColor(ge),Ae.setWidth(.5)),oe.setZIndex(Se));if(Q!=1&&U.type=="line"){"line-pattern"in G?ee=void 0:ee=So(Oe(U,"paint","line-color",R,F,d,M),Oe(U,"paint","line-opacity",R,F,d,M));const ne=Oe(U,"paint","line-width",R,F,d,M);ee&&ne>0&&(++T,oe=y[T],(!oe||!oe.getStroke()||oe.getFill()||oe.getText())&&(oe=new bt({stroke:new Ri}),y[T]=oe),Ae=oe.getStroke(),Ae.setLineCap(Oe(U,"layout","line-cap",R,F,d,M)),Ae.setLineJoin(Oe(U,"layout","line-join",R,F,d,M)),Ae.setMiterLimit(Oe(U,"layout","line-miter-limit",R,F,d,M)),Ae.setColor(ee),Ae.setWidth(ne),Ae.setLineDash(G["line-dasharray"]?Oe(U,"paint","line-dasharray",R,F,d,M).map(function(j){return j*ne}):null),oe.setZIndex(Se))}let At=!1,N=null,Nt=0,ze,Ge,Be;if((Q==1||Q==2)&&"icon-image"in xe){const ne=Oe(U,"layout","icon-image",R,F,d,M);if(ne){ze=typeof ne=="string"?WC(ne,w):ne.toString();let j;const Ie=o?o(i,ze):void 0;if(l&&r&&r[ze]||Ie){const fe=Oe(U,"layout","icon-rotation-alignment",R,F,d,M);if(Q==2){const ue=C.getGeometry();if(ue.getFlatMidpoint||ue.getFlatMidpoints){const Te=ue.getExtent();if(Math.sqrt(Math.max(Math.pow((Te[2]-Te[0])/v,2),Math.pow((Te[3]-Te[1])/v,2)))>150){const me=ue.getType()==="MultiLineString"?ue.getFlatMidpoints():ue.getFlatMidpoint();if(YC||(T2=[NaN,NaN],YC=new Ei("Point",T2,[],2,{},void 0)),j=YC,T2[0]=me[0],T2[1]=me[1],Oe(U,"layout","symbol-placement",R,F,d,M)==="line"&&fe==="map"){const Ue=ue.getStride(),ye=ue.getFlatCoordinates();for(let Xe=0,Qe=ye.length-Ue;Xe<Qe;Xe+=Ue){const rt=ye[Xe],z=ye[Xe+1],_e=ye[Xe+Ue],J=ye[Xe+Ue+1],re=Math.min(rt,_e),we=Math.min(z,J),ve=Math.max(rt,_e),Ke=Math.max(z,J);if(me[0]>=re&&me[0]<=ve&&me[1]>=we&&me[1]<=Ke){Nt=Math.atan2(z-J,_e-rt);break}}}}}}if(Q!==2||j){const ue=Oe(U,"layout","icon-size",R,F,d,M),Te=G["icon-color"]!==void 0?Oe(U,"paint","icon-color",R,F,d,M):null;if(!Te||Te.a!==0){const le=Oe(U,"paint","icon-halo-color",R,F,d,M),me=Oe(U,"paint","icon-halo-width",R,F,d,M);let Fe=`${ze}.${ue}.${me}.${le}`;if(Te!==null&&(Fe+=`.${Te}`),Ge=A[Fe],!Ge){const Ue=T4(U,R,F,"icon",d);let ye;"icon-offset"in xe&&(ye=Oe(U,"layout","icon-offset",R,F,d,M).slice(0),ye[0]*=ue,ye[1]*=-ue);let Xe=Te?[Te.r*255,Te.g*255,Te.b*255,Te.a]:void 0;if(Ie){const Qe={color:Xe,rotateWithView:fe==="map",displacement:ye,declutterMode:Ue,scale:ue};typeof Ie=="string"?Qe.src=Ie:(Qe.img=Ie,Qe.imgSize=[Ie.width,Ie.height]),Ge=new _0(Qe)}else{const Qe=r[ze];let rt,z,_e;me?Qe.sdf?(rt=B4(S4(l,Qe,Te||[0,0,0,1]),{x:0,y:0,width:Qe.width,height:Qe.height,pixelRatio:Qe.pixelRatio},me,le),Xe=void 0):rt=B4(l,Qe,me,le):(Qe.sdf?(x||(x=S4(l,{x:0,y:0,width:c[0],height:c[1]},{r:1,g:1,b:1,a:1})),rt=x):rt=l,z=[Qe.width,Qe.height],_e=[Qe.x,Qe.y]),Ge=new _0({color:Xe,img:rt,imgSize:c,size:z,offset:_e,rotateWithView:fe==="map",scale:ue/Qe.pixelRatio,displacement:ye,declutterMode:Ue})}A[Fe]=Ge}}Ge&&(++T,oe=y[T],(!oe||!oe.getImage()||oe.getFill()||oe.getStroke())&&(oe=new bt,y[T]=oe),oe.setGeometry(j),Ge.setRotation(Nt+UC(Oe(U,"layout","icon-rotate",R,F,d,M))),Ge.setOpacity(Oe(U,"paint","icon-opacity",R,F,d,M)),Ge.setAnchor(qU[Oe(U,"layout","icon-anchor",R,F,d,M)]),oe.setImage(Ge),N=oe.getText(),oe.setText(void 0),oe.setZIndex(Se),At=!0,Be=!1)}else Be=!0}}}if(Q==1&&U.type==="circle"){++T,oe=y[T],(!oe||!oe.getImage()||oe.getFill()||oe.getStroke())&&(oe=new bt,y[T]=oe);const ne="circle-radius"in G?Oe(U,"paint","circle-radius",R,F,d,M):5,j=So(Oe(U,"paint","circle-stroke-color",R,F,d,M),Oe(U,"paint","circle-stroke-opacity",R,F,d,M)),Ie=Oe(U,"paint","circle-translate",R,F,d,M),fe=So(Oe(U,"paint","circle-color",R,F,d,M),Oe(U,"paint","circle-opacity",R,F,d,M)),ue=Oe(U,"paint","circle-stroke-width",R,F,d,M),Te=ne+"."+j+"."+fe+"."+ue+"."+Ie[0]+"."+Ie[1];Ge=A[Te],Ge||(Ge=new zc({radius:ne,displacement:[Ie[0],-Ie[1]],stroke:j&&ue>0?new Ri({width:ue,color:j}):void 0,fill:fe?new Gi({color:fe}):void 0,declutterMode:"none"}),A[Te]=Ge),oe.setImage(Ge),N=oe.getText(),oe.setText(void 0),oe.setGeometry(void 0),oe.setZIndex(Se),At=!0}let ke,Re,L,S,X,se;if("text-field"in xe){S=Math.round(Oe(U,"layout","text-size",R,F,d,M));const ne=Oe(U,"layout","text-font",R,F,d,M);L=Oe(U,"layout","text-line-height",R,F,d,M),Re=FC(a?a(ne,e.metadata?e.metadata["ol:webfonts"]:void 0):ne,S,L),Re.includes("sans-serif")||(Re+=",sans-serif"),X=Oe(U,"layout","text-letter-spacing",R,F,d,M),se=Oe(U,"layout","text-max-width",R,F,d,M);const j=Oe(U,"layout","text-field",R,F,d,M);typeof j=="object"&&j.sections?j.sections.length===1?ke=j.toString():ke=j.sections.reduce((Ie,fe,ue)=>{const Te=fe.fontStack?fe.fontStack.split(","):ne,le=FC(a?a(Te):Te,S*(fe.scale||1),L);let me=fe.text;if(me===`
`)return Ie.push(`
`,""),Ie;if(Q==2){Ie.push(GC(me,X),le);return}me=VC(me,le,se,X).split(`
`);for(let Fe=0,Ue=me.length;Fe<Ue;++Fe)Fe>0&&Ie.push(`
`,""),Ie.push(me[Fe],le);return Ie},[]):ke=WC(j,w).trim(),K=Oe(U,"paint","text-opacity",R,F,d,M)}if(ke&&K&&!Be){At||(++T,oe=y[T],(!oe||!oe.getText()||oe.getFill()||oe.getStroke())&&(oe=new bt,y[T]=oe),oe.setImage(void 0),oe.setGeometry(void 0));const ne=T4(U,R,F,"text",d);oe.getText()||oe.setText(N),N=oe.getText(),(!N||"getDeclutterMode"in N&&N.getDeclutterMode()!==ne)&&(N=new Ju({padding:[2,2,2,2],declutterMode:ne}),oe.setText(N));const j=Oe(U,"layout","text-transform",R,F,d,M);j=="uppercase"?ke=Array.isArray(ke)?ke.map((J,re)=>re%2?J:J.toUpperCase()):ke.toUpperCase():j=="lowercase"&&(ke=Array.isArray(ke)?ke.map((J,re)=>re%2?J:J.toLowerCase()):ke.toLowerCase());const Ie=Array.isArray(ke)?ke:Q==2?GC(ke,X):VC(ke,Re,se,X);N.setText(Ie),N.setFont(Re),N.setRotation(UC(Oe(U,"layout","text-rotate",R,F,d,M)));const fe=Oe(U,"layout","text-anchor",R,F,d,M),ue=At||Q==1?"point":Oe(U,"layout","symbol-placement",R,F,d,M);let Te;if(ue==="line-center"?(N.setPlacement("line"),Te="center"):N.setPlacement(ue),ue==="line"&&typeof N.setRepeat=="function"){const J=Oe(U,"layout","symbol-spacing",R,F,d,M);N.setRepeat(J*2)}N.setOverflow(ue==="point");let le=Oe(U,"paint","text-halo-width",R,F,d,M);const me=Oe(U,"layout","text-offset",R,F,d,M),Fe=Oe(U,"paint","text-translate",R,F,d,M);let Ue=0,ye=0;if(ue=="point"){Te="center",fe.indexOf("left")!==-1?(Te="left",ye=le):fe.indexOf("right")!==-1&&(Te="right",ye=-le);const J=Oe(U,"layout","text-rotation-alignment",R,F,d,M);N.setRotateWithView(J=="map")}else N.setMaxAngle(UC(Oe(U,"layout","text-max-angle",R,F,d,M))*ke.length/Ie.length),N.setRotateWithView(!1);N.setTextAlign(Te);let Xe="middle";fe.indexOf("bottom")==0?(Xe="bottom",Ue=-le-.5*(L-1)*S):fe.indexOf("top")==0&&(Xe="top",Ue=le+.5*(L-1)*S),N.setTextBaseline(Xe);const Qe=Oe(U,"layout","text-justify",R,F,d,M);N.setJustify(Qe==="auto"?void 0:Qe),N.setOffsetX(me[0]*S+ye+Fe[0]),N.setOffsetY(me[1]*S+Ue+Fe[1]),m.setColor(So(Oe(U,"paint","text-color",R,F,d,M),K)),N.setFill(m);const rt=So(Oe(U,"paint","text-halo-color",R,F,d,M),K);if(rt&&le>0){I.setColor(rt),le*=2;const J=.5*S;I.setWidth(le<=J?le:J),N.setStroke(I)}else N.setStroke(void 0);const z=Oe(U,"layout","text-padding",R,F,d,M),_e=N.getPadding();z!==_e[0]&&(_e[0]=z,_e[1]=z,_e[2]=z,_e[3]=z),oe.setZIndex(Se)}}}if(T>-1)return y.length=T+1,D4&&("set"in C?C.set("mapbox-layer",P):C.getProperties()["mapbox-layer"]=P),y};return i.setStyle(E),i.set("mapbox-source",_),i.set("mapbox-layers",f),i.set("mapbox-featurestate",i.get("mapbox-featurestate")||{}),E}function JU(i,e,t,n){const r=t.getStyleFunction();if(r.length===3)return r(i,e,n)}function ZU(i,e){const t=i[0],n=t.width,r=t.height,s=t.data,a=new Uint8ClampedArray(s.length),o=e.resolution*2,l=n-1,c=r-1,x=[0,0,0,0],u=2*Math.PI,h=Math.PI/2,f=Math.PI*e.sunEl/180,A=Math.PI*e.sunAz/180,g=Math.cos(f),d=Math.sin(f),p=e.highlightColor,_=e.shadowColor,I=e.accentColor,m=e.encoding;let y,E,C,v,b,w,B,R,Q,F,M,T,P,k,V,Y,U,te,xe,G,O,ee;function K(ce,Ae="mapbox"){if(Ae==="mapbox")return(ce[0]*256*256+ce[1]*256+ce[2])*.1-1e4;if(Ae==="terrarium")return ce[0]*256+ce[1]+ce[2]/256-32768}for(E=0;E<=c;++E)for(b=E===0?0:E-1,w=E===c?c:E+1,y=0;y<=l;++y)C=y===0?0:y-1,v=y===l?l:y+1,B=(E*n+C)*4,x[0]=s[B],x[1]=s[B+1],x[2]=s[B+2],x[3]=s[B+3],R=e.vert*K(x,m),B=(E*n+v)*4,x[0]=s[B],x[1]=s[B+1],x[2]=s[B+2],x[3]=s[B+3],Q=e.vert*K(x,m),F=(Q-R)/o,B=(b*n+y)*4,x[0]=s[B],x[1]=s[B+1],x[2]=s[B+2],x[3]=s[B+3],R=e.vert*K(x,m),B=(w*n+y)*4,x[0]=s[B],x[1]=s[B+1],x[2]=s[B+2],x[3]=s[B+3],Q=e.vert*K(x,m),M=(Q-R)/o,P=Math.atan2(M,-F),P<0?P=h-P:P>h?P=u-P+h:P=h-P,T=Math.atan(Math.sqrt(F*F+M*M)),ee=d*Math.cos(T)+g*Math.sin(T)*Math.cos(A-P),k=Math.cos(T),V=255*ee,xe=Math.min(Math.max(2*e.sunEl,0),1),G=1.875-e.opacity*1.75,O=e.opacity!==.5?h*((Math.pow(G,T)-1)/(Math.pow(G,h)-1)):T,U={r:(1-k)*I.r*xe*255,g:(1-k)*I.g*xe*255,b:(1-k)*I.b*xe*255,a:(1-k)*I.a*xe*255},Y=Math.abs(((P+A)/Math.PI+.5)%2-1),te={r:(p.r*(1-Y)+_.r*Y)*V,g:(p.g*(1-Y)+_.g*Y)*V,b:(p.b*(1-Y)+_.b*Y)*V,a:(p.a*(1-Y)+_.a*Y)*V},B=(E*n+y)*4,a[B]=U.r*(1-Y)+te.r,a[B+1]=U.g*(1-Y)+te.g,a[B+2]=U.b*(1-Y)+te.b,a[B+3]=s[B+3]*e.opacity*xe*Math.sin(O);return new ImageData(a,n,r)}function $U(i,e=512){return i.getExtent()?yy({extent:i.getExtent(),tileSize:e,maxZoom:22}).getResolutions():ns}function Q4(i,e){return e.accessToken||(e=Object.assign({},e),new URL(i).searchParams.forEach((n,r)=>{e.accessToken=n,e.accessTokenParam=r})),e}function jC(i,e,t="",n={},r=void 0){let s,a,o,l,c=!0;return typeof t!="string"&&!Array.isArray(t)?(o=t,l=o.source||o.layers,n=o):l=t,typeof n=="string"?(s=n,o={}):(s=n.styleUrl,o=n),o.updateSource===!1&&(c=!1),r||(r=o.resolutions),!s&&typeof e=="string"&&!e.trim().startsWith("{")&&(s=e),s&&(s=s.startsWith("data:")?location.href:C2(s,o.accessToken),o=Q4(s,o)),new Promise(function(x,u){OC(e,o).then(function(h){if(h.version!=8)return u(new Error("glStyle version 8 required."));if(!(i instanceof Jc||i instanceof D0))return u(new Error("Can only apply to VectorLayer or VectorTileLayer"));const f=i instanceof D0?"vector":"geojson";if(l?Array.isArray(l)?a=h.layers.find(function(m){return m.id===l[0]}).source:a=l:(a=Object.keys(h.sources).find(function(m){return h.sources[m].type===f}),l=a),!a)return u(new Error(`No ${f} source found in the glStyle.`));function A(){if(!c)return Promise.resolve();if(i instanceof D0)return KC(h.sources[a],s,o).then(function(C){const v=i.getSource();v?C!==v&&(v.setTileUrlFunction(C.getTileUrlFunction()),typeof v.setUrls=="function"&&typeof C.getUrls=="function"&&v.setUrls(C.getUrls()),v.format_||(v.format_=C.format_),v.getAttributions()||v.setAttributions(C.getAttributions()),v.getTileLoadFunction()===j5&&v.setTileLoadFunction(C.getTileLoadFunction()),Js(v.getProjection(),C.getProjection())&&(v.tileGrid=C.getTileGrid())):i.setSource(C);const b=i.getSource().getTileGrid();!isFinite(i.getMaxResolution())&&!isFinite(i.getMinZoom())&&b.getMinZoom()>0&&i.setMaxResolution(S2(b.getMinZoom(),ns)+1e-15)});const m=h.sources[a];let y=i.getSource();(!y||y.get("mapbox-source")!==m)&&(y=JC(m,s,o));const E=i.getSource();return E?y!==E&&(E.getAttributions()||E.setAttributions(y.getAttributions()),E.format_||(E.format_=y.getFormat()),E.url_=y.getUrl()):i.setSource(y),Promise.resolve()}let g,d,p,_;function I(){if(!_&&(!h.sprite||d)){if(o.projection&&!r){const y=Kt(o.projection).getUnits();y!=="m"&&(r=ns.map(E=>E/Ha[y]))}_=_f(i,h,l,r,d,p,(m,y=o.webfonts)=>VU(m,y),o.getImage),i.getStyle()?A().then(x).catch(u):u(new Error(`Nothing to show for source [${a}]`))}else _?(i.setStyle(_),A().then(x).catch(u)):u(new Error("Something went wrong trying to apply style."))}if(h.sprite){const m=new URL(LU(h.sprite,o.accessToken,s||location.href));g=window.devicePixelRatio>=1.5?.5:1;const y=g==.5?"@2x":"";let E=m.origin+m.pathname+y+".json"+m.search;new Promise(function(C,v){Gl("Sprite",E,o).then(C).catch(function(b){E=m.origin+m.pathname+".json"+m.search,Gl("Sprite",E,o).then(C).catch(v)})}).then(function(C){if(C===void 0&&u(new Error("No sprites found.")),d=C,p=m.origin+m.pathname+y+".png"+m.search,o.transformRequest){const v=o.transformRequest(p,"SpriteImage")||p;(v instanceof Request||v instanceof Promise)&&(p=v)}I()}).catch(function(C){u(new Error(`Sprites cannot be loaded: ${E}: ${C.message}`))})}else I()}).catch(u)})}const Mo={};function eN(i,e,t){e.layers.some(function(n){if(n.type==="background"){if(i instanceof m0)return i.setBackground(function(r){return k4(n,r,t,{})}),!0;if(i instanceof Yy||i instanceof B0)return i.getLayers().insertAt(0,U4(n,t,{})),!0}})}function F4(i,e,t={}){return OC(e,t).then(function(n){eN(i,n,t)})}function L4(i,e){let t;return i.some(function(n){if(n.id==e)return t=n.source,!0}),t}function tN(i,e){const t=i.bounds;if(t){const n=ZI([t[0],t[1]],e),r=ZI([t[2],t[3]],e);return[n[0],n[1],r[0],r[1]]}return Kt(e).getExtent()}function P4(i,e,t){const n=new rS({tileJSON:e,tileSize:i.tileSize||e.tileSize||512}),r=n.getTileJSON(),s=n.getTileGrid(),a=Kt(t.projection||"EPSG:3857"),o=tN(r,a),l=a.getExtent(),c=r.minzoom||0,x=r.maxzoom||22,u={attributions:n.getAttributions(),projection:a,tileGrid:new Kp({origin:l?Ks(l):s.getOrigin(0),extent:o||s.getExtent(),minZoom:c,resolutions:$U(a,e.tileSize).slice(0,x+1),tileSize:s.getTileSize(0)})};return Array.isArray(r.tiles)?u.urls=r.tiles:u.url=r.tiles,u}function k4(i,e,t,n){const r={id:i.id,type:i.type},s=i.layout||{},a=i.paint||{};r.paint=a;const o=NC(e,t.resolutions||ns);let l;const c=Oe(r,"paint","background-color",o,Mo,n);return a["background-opacity"]!==void 0&&(l=Oe(r,"paint","background-opacity",o,Mo,n)),s.visibility=="none"?void 0:So(c,l)}function U4(i,e,t){const n=document.createElement("div");return n.className="ol-mapbox-style-background",n.style.position="absolute",n.style.width="100%",n.style.height="100%",new m0({source:new Dc({}),render(r){const s=k4(i,r.viewState.resolution,e,t);return n.style.backgroundColor=s,n}})}function KC(i,e,t){return new Promise(function(n,r){w4(i,e,t).then(function({tileJson:s,tileLoadFunction:a}){const o=P4(i,s,t);o.tileLoadFunction=a,o.format=new _S,n(new By(o))}).catch(r)})}function nN(i,e,t){const n=new D0({declutter:!0,visible:!1});return KC(i,e,t).then(function(r){r.set("mapbox-source",i),n.setSource(r)}).catch(function(r){n.setSource(void 0)}),n}function N4(i){return`{bbox-${(i?i.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function O4(i,e,t){return new Promise(function(n,r){w4(i,e,t).then(function({tileJson:s,tileLoadFunction:a}){const o=new rS({interpolate:t.interpolate===void 0?!0:t.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:s});o.tileGrid=P4(i,s,t).tileGrid,t.projection&&(o.projection=Kt(t.projection));const l=o.getTileUrlFunction();a&&o.setTileLoadFunction(a),o.setTileUrlFunction(function(c,x,u){const h=N4(u);let f=l(c,x,u);if(f.indexOf(h)!=-1){const A=o.getTileGrid().getTileCoordExtent(c);f=f.replace(h,A.toString())}return f}),o.set("mapbox-source",i),n(o)}).catch(function(s){r(s)})})}function G4(i,e,t){const n=new Ry;return O4(i,e,t).then(function(r){n.setSource(r)}).catch(function(){n.setSource(void 0)}),n}function iN(i,e,t){const n=G4(i,e,t);return new ey({source:new iS({operationType:"image",operation:ZU,sources:[n]})})}function JC(i,e,t){const n=t.projection?new hS({dataProjection:t.projection}):new hS,r=i.data,s={};if(typeof r=="string"){const o=b2(r,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(o)){const c=(u,h,f)=>{const A=N4(f);return o.replace(A,`${u.join(",")}`)},x=new hl({attributions:i.attribution,format:n,loader:(u,h,f,A,g)=>{const d=typeof c=="function"?c(u,h,f):c;Gl("GeoJSON",d,t).then(p=>{const _=x.getFormat().readFeatures(p,{featureProjection:f});x.addFeatures(_),A(_)}).catch(p=>{x.removeLoadedExtent(u),g()})},strategy:VF});return x.set("mapbox-source",i),x}const l=new hl({attributions:i.attribution,format:n,url:o,loader:(c,x,u,h,f)=>{Gl("GeoJSON",o,t).then(A=>{const g=l.getFormat().readFeatures(A,{featureProjection:u});l.addFeatures(g),h(g)}).catch(A=>{l.removeLoadedExtent(c),f()})}});return l}s.features=n.readFeatures(r,{featureProjection:"EPSG:3857"});const a=new hl(Object.assign({attributions:i.attribution,format:n},s));return a.set("mapbox-source",i),a}function rN(i,e,t){return new Jc({declutter:!0,source:JC(i,e,t),visible:!1})}function sN(i,e,t){let n=null;return function(r){i.paint&&"raster-opacity"in i.paint&&r.frameState.viewState.zoom!==n&&(n=r.frameState.viewState.zoom,delete t[i.id],aN(i,e,n,t))}}function aN(i,e,t,n){const r=Oe(i,"paint","raster-opacity",t,Mo,n);e.setOpacity(r)}function oN(i,e){function t(){const n=e.get("mapbox-style");if(!n)return;const r=m4(n.layers),s=i.get("mapbox-layers"),a=r.filter(function(o){return s.includes(o.id)}).some(function(o){return!o.layout||!o.layout.visibility||o.layout.visibility==="visible"});i.get("visible")!==a&&i.setVisible(a)}i.on("change",t),t()}function z4(i,e,t,n){const r=kC(i),s=i.layers,a=t.type,o=t.source||L4(s,t.ref),l=i.sources[o];let c;if(a=="background")c=U4(t,n,r);else if(l.type=="vector")c=nN(l,e,n);else if(l.type=="raster")c=G4(l,e,n),c.setVisible(t.layout?t.layout.visibility!=="none":!0),c.on("prerender",sN(t,c,r));else if(l.type=="geojson")c=rN(l,e,n);else if(l.type=="raster-dem"&&t.type=="hillshade"){const u=iN(l,e,n);c=u,u.getSource().on("beforeoperations",function(h){const f=h.data;f.resolution=KI(n.projection||"EPSG:3857",h.resolution,yr(h.extent),"m");const A=NC(h.resolution,n.resolutions||ns);f.encoding=l.encoding,f.vert=5*Oe(t,"paint","hillshade-exaggeration",A,Mo,r),f.sunAz=Oe(t,"paint","hillshade-illumination-direction",A,Mo,r),f.sunEl=35,f.opacity=.3,f.highlightColor=Oe(t,"paint","hillshade-highlight-color",A,Mo,r),f.shadowColor=Oe(t,"paint","hillshade-shadow-color",A,Mo,r),f.accentColor=Oe(t,"paint","hillshade-accent-color",A,Mo,r)}),c.setVisible(t.layout?t.layout.visibility!=="none":!0)}const x=o;return c&&c.set("mapbox-source",x),c}function V4(i,e,t,n){const r=[];let s=null;if(e instanceof Yy){if(s=e.getView(),!s.isDef()&&!s.getRotation()&&!s.getResolutions()){const u=n.projection?Kt(n.projection):s.getProjection();s=new ws(Object.assign(s.getProperties(),{maxResolution:ns[0]/Ha[u.getUnits()],projection:n.projection||s.getProjection()})),e.setView(s)}"center"in i&&!s.getCenter()&&s.setCenter(ZI(i.center,s.getProjection())),"zoom"in i&&s.getZoom()===void 0&&s.setResolution(ns[0]/Ha[s.getProjection().getUnits()]/Math.pow(2,i.zoom)),(!s.getCenter()||s.getZoom()===void 0)&&s.fit(s.getProjection().getExtent(),{nearest:!0,size:e.getSize()})}e.set("mapbox-style",i),e.set("mapbox-metadata",{styleUrl:t,options:n});const a=i.layers;let o=[],l,c,x;for(let u=0,h=a.length;u<h;++u){const f=a[u],A=f.type;if(A=="heatmap"){console.debug(`layers[${u}].type "${A}" not supported`);continue}else x=f.source||L4(a,f.ref),(!x||x!=c)&&(o.length&&(r.push(ZC(l,o,i,t,e,n)),o=[]),l=z4(i,t,f,n),l instanceof Jc||l instanceof D0||(o=[]),c=l.get("mapbox-source")),o.push(f.id)}return r.push(ZC(l,o,i,t,e,n)),Promise.all(r)}function H4(i,e,t={}){let n,r;if(typeof i=="string"||i instanceof HTMLElement?r=new Yy({target:i}):r=i,typeof e=="string"){const s=e.startsWith("data:")?location.href:C2(e,t.accessToken);t=Q4(s,t),n=new Promise(function(a,o){OC(e,t).then(function(l){V4(l,r,s,t).then(function(){a(r)}).catch(o)}).catch(function(l){o(new Error(`Could not load ${e}: ${l.message}`))})})}else n=new Promise(function(s,a){V4(e,r,!t.styleUrl||t.styleUrl.startsWith("data:")?location.href:C2(t.styleUrl,t.accessToken),t).then(function(){s(r)}).catch(a)});return n}function ZC(i,e,t,n,r,s={}){let a=24,o=0;const l=t.layers;for(let c=0,x=l.length;c<x;++c){const u=l[c];e.indexOf(u.id)!==-1&&(a=Math.min("minzoom"in u?u.minzoom:0,a),o=Math.max("maxzoom"in u?u.maxzoom:24,o))}return new Promise(function(c,x){const u=function(){const f=i.getSource();if(!f||f.getState()==="error"){x(new Error("Error accessing data for source "+i.get("mapbox-source")));return}if("getTileGrid"in f){const A=f.getTileGrid();if(A){const g=A.getMinZoom();(a>0||g>0)&&i.setMaxResolution(Math.min(S2(a,ns),A.getResolution(g))+1e-15),o<24&&i.setMinResolution(S2(o,ns))}}else a>0&&i.setMaxResolution(S2(a,ns)+1e-15);f instanceof hl||f instanceof By?jC(i,t,e,Object.assign({styleUrl:n},s)).then(function(){oN(i,r),c()}).catch(x):c()};i.set("mapbox-layers",e);const h=r.getLayers();h.getArray().indexOf(i)===-1&&h.push(i),i.getSource()?u():i.once("change:source",u)})}function q4(i,e){return i.get("mapbox-style").layers.find(function(r){return r.id===e})}function cN(i,e,t){const n=i.get("mapbox-style"),r=n.layers;let s,a=-1;if(t!==void 0){const x=q4(i,t);if(x===void 0)throw new Error(`Layer with id "${t}" not found.`);s=r.indexOf(x)}else s=r.length;let o;if(s>0&&r[s-1].source===e.source?(a=s-1,o=-1):s<r.length&&r[s].source===e.source&&(a=s,o=0),a===-1){const{options:x,styleUrl:u}=i.get("mapbox-metadata"),h=z4(n,u,e,x);if(t){const f=Ro(i,t),A=i.getLayers().getArray().indexOf(f);i.getLayers().insertAt(A,h)}return r.splice(s,0,e),ZC(h,[e.id],n,u,i,x)}if(r.some(x=>x.id===e.id))throw new Error(`Layer with id "${e.id}" already exists.`);const l=r[a].id,c=D2[w2(i.get("mapbox-style"),Ro(i,l))];if(r.splice(s,0,e),c){const[x,u,h,f,A,g,d,p]=c;if(Array.isArray(h)){const _=h.indexOf(l)+o;h.splice(_,0,e.id)}_f(x,u,h,f,A,g,d,p)}else Ro(i,r[a].id).changed();return Promise.resolve()}function lN(i,e){const t=i.get("mapbox-style"),n=t.layers,r=n.findIndex(function(o){return o.id===e.id});if(r===-1)throw new Error(`Layer with id "${e.id}" not found.`);if(n[r].source!==e.source)throw new Error("Updated layer and previous version must use the same source.");delete kC(t)[e.id],delete b4(t)[e.id],n[r]=e;const a=D2[w2(i.get("mapbox-style"),Ro(i,e.id))];a?_f.apply(void 0,a):Ro(i,e.id).changed()}function xN(i,e,t){const n=Y4(i,e),r=i.getLayers().getArray().filter(function(o){return(o instanceof Jc||o instanceof Ry||o instanceof D0)&&o.getSource()===n}),s=i.get("mapbox-metadata");let a;switch(t.type){case"vector":a=KC(t,s.styleUrl,s.options);break;case"geojson":a=Promise.resolve(JC(t,s.styleUrl,s.options));break;case"raster":case"raster-dem":a=O4(t,s.styleUrl,s.options);break;default:return Promise.reject(new Error("Unsupported source type "+t.type))}return a.then(function(o){r.forEach(function(l){l.setSource(o)})}),a}function uN(i,e){const t=typeof e=="string"?e:e.id,n=Ro(i,t),r=n.get("mapbox-layers");if(r.length===1)throw new Error("Cannot remove last Mapbox layer from an OpenLayers layer.");r.splice(r.indexOf(t),1);const s=i.get("mapbox-style"),a=s.layers;a.splice(a.findIndex(l=>l.id===t),1);const o=D2[w2(s,n)];if(o){const[l,c,x,u,h,f,A,g]=o;Array.isArray(x)&&x.splice(x.findIndex(d=>d===t),1),_f(l,c,x,u,h,f,A,g)}else Ro(i,t).changed()}function Ro(i,e){const t=i.getLayers().getArray();for(let n=0,r=t.length;n<r;++n){const s=t[n].get("mapbox-layers");if(s&&s.indexOf(e)!==-1)return t[n]}}function $C(i,e){const t=[],n=i.getLayers().getArray();for(let r=0,s=n.length;r<s;++r)n[r].get("mapbox-source")===e&&t.push(n[r]);return t}function Y4(i,e){const t=i.getLayers().getArray();for(let n=0,r=t.length;n<r;++n){const s=t[n].getSource();if(t[n].get("mapbox-source")===e)return s}}function hN(i,e,t){const n="getLayers"in i?$C(i,e.source):[i];for(let r=0,s=n.length;r<s;++r){const a=n[r].get("mapbox-featurestate");if(a)t?a[e.id]=t:delete a[e.id],n[r].changed();else throw new Error(`Map or layer for source "${e.source}" not found.`)}}function fN(i,e){const t="getLayers"in i?$C(i,e.source):[i];for(let n=0,r=t.length;n<r;++n){const s=t[n].get("mapbox-featurestate");if(s&&s[e.id])return s[e.id]}}class AN extends Cr{constructor(e){super(Ye.ERROR),this.error=e}}class dN extends D0{constructor(e){const t="declutter"in e?e.declutter:!0,n=new By({state:"loading",format:new _S});super({source:n,background:e.background,declutter:t,className:e.className,opacity:e.opacity,visible:e.visible,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution,minZoom:e.minZoom,maxZoom:e.maxZoom,renderOrder:e.renderOrder,renderBuffer:e.renderBuffer,renderMode:e.renderMode,map:e.map,updateWhileAnimating:e.updateWhileAnimating,updateWhileInteracting:e.updateWhileInteracting,preload:e.preload,useInterimTilesOnError:e.useInterimTilesOnError,properties:e.properties}),e.accessToken&&(this.accessToken=e.accessToken);const r=e.styleUrl,s=[jC(this,r,e.layers||e.source,{accessToken:this.accessToken})];this.getBackground()===void 0&&s.push(F4(this,e.styleUrl,{accessToken:this.accessToken})),Promise.all(s).then(()=>{n.setState("ready")}).catch(a=>{this.dispatchEvent(new AN(a)),this.getSource().setState("error")})}}const pN=Object.freeze(Object.defineProperty({__proto__:null,MapboxVectorLayer:dN,addMapboxLayer:cN,apply:H4,applyBackground:F4,applyStyle:jC,cme_FrostLineStyle:UL,cme_LINES_SYMBOL2:OL,cme_LINES_SYMBOL3:GL,cme_LINES_SYMBOL4:VL,cme_LINES_SYMBOL5:zL,cme_PloygonStyle:NL,cme_Point:AS,cme_commonStyle:Wi,cme_polygon:ZL,cme_polyline:jL,cme_text:$L,default:H4,getFeatureState:fN,getLayer:Ro,getLayers:$C,getMapboxLayer:q4,getSource:Y4,getStyleForLayer:JU,recordStyleLayer:KU,removeMapboxLayer:uN,renderTransparent:WU,setFeatureState:hN,stylefunction:_f,updateMapboxLayer:lN,updateMapboxSource:xN},Symbol.toStringTag,{value:"Module"}));class gN{constructor(){}getCommonStyle(e){return{Style:{image:{cme_style_FontSymbol:{glyph:e,form:"",fontStyle:"unset",radius:20,rotation:2,displacement:[0,0],color:"#ff0000",fill:{Fill:{color:"rgba(0,255,0,1)"}},stroke:{Stroke:{color:"rgba(255,255,0,1)",width:1}},fill:{Fill:{color:"rgba(255,255,0,0)"}},stroke:{Stroke:{color:"rgba(0,0,255,0)",width:1}}}}}}}getWindyStyle(e,t,n,r){let s=r.style1,a={Style:{image:{cme_style_FontSymbol:{glyph:e,radius:18,rotation:t,displacement:[0,0],color:"#000000"}}}},o=this.mergeObjects(s,a),l=null;if(r.rule&&r.rule.color){l=r.rule.color;for(let x=0;x<l.length-1;x++)n>=l[x][0]&&n<l[x+1][0]&&(o.Style.image.cme_style_FontSymbol.color=l[x][1])}let c=null;if(r.rule&&r.rule.size){c=r.rule.size;for(let x=0;x<c.length-1;x++)n>=c[x][0]&&n<c[x+1][0]&&(o.Style.image.cme_style_FontSymbol.radius=c[x][1])}return o}mergeObjects(e,t){if(typeof t!="object"||t===null)return e;let n=Array.isArray(t)?[...t]:{...t};for(let r in e)e.hasOwnProperty(r)&&(typeof e[r]=="object"&&e[r]!==null&&t.hasOwnProperty(r)?n[r]=this.mergeObjects(e[r],t[r]):n[r]=e[r]);return n}}class mN{constructor(){this.commonPoint=new gN,this.cme_Point=new AS}setWindStyle(e,t,n,r,s){const a=n;let o=this.commonPoint.getWindyStyle(t,a,r,s);e.setProperties({customStyle:o});let l=this.getwindyStyleByJSON(o);e.setStyle(l)}getwindyStyleByJSON(e){var t=[];let n=this.cme_Point.getCme_Style(e);return t.push(n),t}setStyle(e,t){let n=this.commonPoint.getStyle(t);e.setProperties({customStyle:n});var r=[];let s=this.cme_Point.getCme_Style(n);r.push(s),e.setStyle(r)}}var _N=class extends Jc{constructor(e,t){super(t),this.map=e,this.options=t,this.FontSymbolStyle=new mN,this.firstBool=!1,this.setOpacity(0),this.layer=t.layer,this.worldExtent=null,this.rasterDatas=null}_render(){return new Promise((e,t)=>{e(!0),this.once("postrender",n=>{this.firstBool=!0,setTimeout(()=>{this.worldExtent=null,this.drawGridNumber(this.rasterDatas)},30)})})}isViewExtentEqual(e){const t=this.map.getView().calculateExtent(this.map.getSize());return JSON.stringify(t)===JSON.stringify(e)}drawGridNumber(e){e!=null&&(this.worldExtent&&this.isViewExtentEqual(this.worldExtent)||this.setDataToLayer(e))}setDataToLayer(e){this.rasterDatas=e,this.worldExtent=this.map.getView().calculateExtent(this.map.getSize());let t=[],n=[],r=[],s=[],a=[],o=[],l=[];e.forEach(I=>{t.push(I.params.bbox),n.push(I.params.viewBBox),r.push(I.params.interpolationParams),s.push(I.params.bandsNumber),a.push(I.params.metadata),o.push(oS(I.params.bbox,I.params.viewBBox,I.params.interpolationParams,I,I.params.bandsNumber,I.params.metadata)),l.push(I.params.project)}),this.options;let c=this.map.getView().getProjection().getCode(),x=l[0];var u=t[0];x!=c&&(c=="EPSG:3857"&&(t[0][1]<-85.05112877980659&&(t[0][1]=-85.05112877980659),t[0][3]>85.05112877980659&&(t[0][3]=85.05112877980659)),u=$I(t[0],x,c));let h=30;const[f,A,g]=T5(this.map,this.worldExtent,u,window.innerWidth,window.innerHeight,h);let d,p=[],_;for(let I=0;I<f.length;I++)for(let m=0;m<o.length;m++){let y=this.map.getCoordinateFromPixel(f[I]),E=this._getData(y,r[m],s[m],o[m]);if(E!=null){_=new d0(y);const C=E.speed;if(!this.getRange(C))break;d=new al(_);let b=(E.direction*Math.PI/180).toFixed(2),B="icon-zheng_"+this.getwindySpeed(C)+"ji";this.FontSymbolStyle.setWindStyle(d,B,b,C,this.options),p.push(d)}}this.addFeaturesToLayer(p)}getRange(e){return this.options.range?e<=(this.options.range.max||99999999)&&e>=(this.options.range.min||-99999999):!0}updateStyle(e){this.options.range=e.range,this.setDataToLayer(this.rasterDatas)}addFeaturesToLayer(e){if(e.length>0){if(this.getSource())this.getSource().clear();else{let t=new hl({wrapX:!1});this.setSource(t)}e.length>0&&(this.firstBool==!0?(this.setVisible(!1),this.getSource().addFeatures(e),this.getSource().changed(),this.changed(),this.setOpacity(0),this.setVisible(!0),this.setOpacity(1)):this.getSource().addFeatures(e))}}_setSource(e){}_setStyle(e){}_remove(){}_getData(e,t,n,r){let s=_c(this.map,e),a=[t.lo1,t.la1,t.lo2,t.la2];s[0],s[1];let o=[s[0],s[1]];return o[0]%360<-180?o[0]=360+o[0]%360:o[0]=o[0]%360,o[0]>180&&(o[0]=o[0]-360),sS(n,a,o[0],o[1],r,t.dx,t.dy)}getwindySpeed(e){let t=0;return e==0?t=null:e>0&&e<=2?t=0:e>2&&e<=4?t=1:e>4&&e<=6?t=2:e>6&&e<=8?t=3:e>8&&e<=10?t=4:e>10&&e<=12?t=5:e>12&&e<=14?t=6:e>14&&e<=16?t=7:e>16&&e<=18?t=8:e>18&&e<=20?t=9:e>20&&e<=22?t=10:e>22&&e<=24?t=11:e>26&&e<=28?t=12:e>28&&e<=30?t=13:e>30&&e<=32?t=14:e>32&&e<=34?t=15:e>34&&e<=36?t=16:e>36&&e<=38?t=17:e>38&&e<=40?t=18:e>40&&e<=42?t=19:e>42&&e<=44?t=20:e>44&&e<=46?t=21:e>46&&e<=48?t=22:e>48&&e<=50?t=23:e>50&&e<=52?t=24:e>52&&e<=54?t=25:e>54&&e<=56?t=26:e>56&&e<=58?t=27:e>58&&e<=60?t=28:t=29,t}};class IN{constructor(e,t){hn(this,"mapMoveEvent",()=>{this.initBool==!0&&this.resolutionTif!=null&&this.resolutionTif.getData().then(e=>{this.getLayerByName(),this.rasterDataColltion=e,this.cogLayer&&this.cogLayer.drawGridNumber(e),this.gridLayer!=null&&this.gridLayer.drawGridNumber(e),this.arrowLayer!=null&&this.arrowLayer.drawGridNumber(e)})});this.map=e,this.initBool=!1,this.option=t,this.resolutionTif=null,this.cogLayer=null,this.gridLayer=null,this.arrowLayer=null,this.cogLayerParams=null,this.gridLayerParams=null,this.arrowLayerParams=null,this.rasterDataColltion=null}getLayerByName(){var t,n,r;const e=this.map.getLayers().getArray();this.cogLayer=null,this.gridLayer=null,this.arrowLayer=null;for(const s of e)s.get("layerName")!=null&&(s.get("layerName")===((t=this.cogLayerParams)==null?void 0:t.layerName)&&(this.cogLayer=s),s.get("layerName")===((n=this.gridLayerParams)==null?void 0:n.layerName)&&(this.gridLayer=s),s.get("layerName")===((r=this.arrowLayerParams)==null?void 0:r.layerName)&&(this.arrowLayer=s))}_render(){return this.map.on("moveend",this.mapMoveEvent),this.resolutionTif=new PQ(this.map,this.option),new Promise((e,t)=>{this.resolutionTif._render().then(n=>{this.initBool=!0,this.resolutionTif.getData().then(r=>(this.rasterDataColltion=r,this.cogLayer&&this.cogLayer.drawGridNumber(r),this.gridLayer!=null&&this.gridLayer.drawGridNumber(r),this.arrowLayer!=null&&this.arrowLayer.drawGridNumber(r),e(!0)))})})}updateStyle(){let e={cogtifLayer:{colors:[[12,[225,225,0,0]],[16,[250,166,68]],[20,[250,113,0]],[24,[255,181,181,0]]]},gridLayer:{range:{min:10,max:20}},arrowLayer:{range:{min:8,max:10}}};this.cogLayer.updateStyle(e.cogtifLayer)}addCogeoLayer(e){return new Promise((t,n)=>{this.cogLayerParams=e,this.cogLayer=new Z7(this.map,e),this.cogLayer._render1().then(r=>(this.cogLayer.drawGridNumber(this.rasterDataColltion),t(this.cogLayer)))})}addTextLayer(e){return this.gridLayerParams=e,new Promise((t,n)=>{this.gridLayer=new dL(this.map,e),this.gridLayer._render().then(r=>(this.gridLayer.drawGridNumber(this.rasterDataColltion),t(this.gridLayer)))})}addArrowLayer(e){return this.arrowLayerParams=e,new Promise((t,n)=>(l7(),this.arrowLayer=new _N(this.map,e),this.arrowLayer._render().then(r=>{this.arrowLayer.drawGridNumber(this.rasterDataColltion)}),t(this.arrowLayer)))}clear(){this.map.on("moveend",this.mapMoveEvent),this.resolutionTif=null,this.cogLayer=null,this.gridLayer=null,this.arrowLayer=null,this.rasterDataColltion=null}}class Q2{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const EN={PROPERTYCHANGE:"propertychange"};class yN{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function CN(i,e){return i>e?1:i<e?-1:0}function eb(i,e,t){if(i[0]<=e)return 0;const n=i.length;if(e<=i[n-1])return n-1;if(typeof t=="function"){for(let r=1;r<n;++r){const s=i[r];if(s===e)return r;if(s<e)return t(e,i[r-1],s)>0?r-1:r}return n-1}if(t>0){for(let r=1;r<n;++r)if(i[r]<e)return r-1;return n-1}if(t<0){for(let r=1;r<n;++r)if(i[r]<=e)return r;return n-1}for(let r=1;r<n;++r){if(i[r]==e)return r;if(i[r]<e)return i[r-1]-e<e-i[r]?r-1:r}return n-1}function bN(i,e){const t=Array.isArray(e)?e:[e],n=t.length;for(let r=0;r<n;r++)i[i.length]=t[r]}function X4(i,e){const t=i.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(i[n]!==e[n])return!1;return!0}function tb(){}function vN(i){let e,t,n;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==n||!X4(r,t))&&(n=this,t=r,e=i.apply(this,arguments)),e}}function wN(i){function e(){let t;try{t=i()}catch(n){return Promise.reject(n)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function W4(i){for(const e in i)delete i[e]}function BN(i){let e;for(e in i)return!1;return!e}class j4 extends yN{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const n=this.listeners_||(this.listeners_={}),r=n[e]||(n[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t=typeof e=="string",n=t?e:e.type,r=this.listeners_&&this.listeners_[n];if(!r)return;const s=t?new Q2(e):e;s.target||(s.target=this.eventTarget_||this);const a=this.dispatching_||(this.dispatching_={}),o=this.pendingRemovals_||(this.pendingRemovals_={});n in a||(a[n]=0,o[n]=0),++a[n];let l;for(let c=0,x=r.length;c<x;++c)if("handleEvent"in r[c]?l=r[c].handleEvent(s):l=r[c].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--a[n]===0){let c=o[n];for(delete o[n];c--;)this.removeEventListener(n,tb);delete a[n]}return l}disposeInternal(){this.listeners_&&W4(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const n=this.listeners_[e];if(!n)return;const r=n.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[r]=tb,++this.pendingRemovals_[e]):(n.splice(r,1),n.length===0&&delete this.listeners_[e]))}}const P0={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function k0(i,e,t,n,r){if(r){const a=t;t=function(){i.removeEventListener(e,t),a.apply(n??this,arguments)}}else n&&n!==i&&(t=t.bind(n));const s={target:i,type:e,listener:t};return i.addEventListener(e,t),s}function K4(i,e,t,n){return k0(i,e,t,n,!0)}function zl(i){i&&i.target&&(i.target.removeEventListener(i.type,i.listener),W4(i))}class If extends j4{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(P0.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const n=e.length,r=new Array(n);for(let s=0;s<n;++s)r[s]=k0(this,e[s],t);return r}return k0(this,e,t)}onceInternal(e,t){let n;if(Array.isArray(e)){const r=e.length;n=new Array(r);for(let s=0;s<r;++s)n[s]=K4(this,e[s],t)}else n=K4(this,e,t);return t.ol_key=n,n}unInternal(e,t){const n=t.ol_key;if(n)SN(n);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}}If.prototype.on,If.prototype.once,If.prototype.un;function SN(i){if(Array.isArray(i))for(let e=0,t=i.length;e<t;++e)zl(i[e]);else zl(i)}function Zn(){throw new Error("Unimplemented abstract method.")}let MN=0;function RN(i){return i.ol_uid||(i.ol_uid=String(++MN))}class J4 extends Q2{constructor(e,t,n){super(e),this.key=t,this.oldValue=n}}class F2 extends If{constructor(e){super(),this.on,this.once,this.un,RN(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let n;n=`change:${e}`,this.hasListener(n)&&this.dispatchEvent(new J4(n,e,t)),n=EN.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new J4(n,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,n){const r=this.values_||(this.values_={});if(n)r[e]=t;else{const s=r[e];r[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(const n in e)this.set(n,e[n],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const n=this.values_[e];delete this.values_[e],BN(this.values_)&&(this.values_=null),t||this.notify(e,n)}}}const Xt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};function ya(i,e){if(!i)throw new Error(e)}function $i(i,e,t){return Math.min(Math.max(i,e),t)}function TN(i,e,t,n,r,s){const a=r-t,o=s-n;if(a!==0||o!==0){const l=((i-t)*a+(e-n)*o)/(a*a+o*o);l>1?(t=r,n=s):l>0&&(t+=a*l,n+=o*l)}return Vl(i,e,t,n)}function Vl(i,e,t,n){const r=t-i,s=n-e;return r*r+s*s}function DN(i){const e=i.length;for(let n=0;n<e;n++){let r=n,s=Math.abs(i[n][n]);for(let o=n+1;o<e;o++){const l=Math.abs(i[o][n]);l>s&&(s=l,r=o)}if(s===0)return null;const a=i[r];i[r]=i[n],i[n]=a;for(let o=n+1;o<e;o++){const l=-i[o][n]/i[n][n];for(let c=n;c<e+1;c++)n==c?i[o][c]=0:i[o][c]+=l*i[n][c]}}const t=new Array(e);for(let n=e-1;n>=0;n--){t[n]=i[n][e]/i[n][n];for(let r=n-1;r>=0;r--)i[r][e]-=i[r][n]*t[n]}return t}function L2(i){return i*Math.PI/180}function Ef(i,e){const t=i%e;return t*e<0?t+e:t}function QN(i,e,t){return i+t*(e-i)}function FN(i,e){const t=Math.pow(10,e);return Math.round(i*t)/t}function P2(i,e){return Math.ceil(FN(i,e))}class LN extends F2{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[Xt.OPACITY]=e.opacity!==void 0?e.opacity:1,ya(typeof t[Xt.OPACITY]=="number","Layer opacity must be a number"),t[Xt.VISIBLE]=e.visible!==void 0?e.visible:!0,t[Xt.Z_INDEX]=e.zIndex,t[Xt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[Xt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[Xt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[Xt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},n=this.getZIndex();return t.opacity=$i(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=n===void 0&&!t.managed?1/0:n,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Zn()}getLayerStatesArray(e){return Zn()}getExtent(){return this.get(Xt.EXTENT)}getMaxResolution(){return this.get(Xt.MAX_RESOLUTION)}getMinResolution(){return this.get(Xt.MIN_RESOLUTION)}getMinZoom(){return this.get(Xt.MIN_ZOOM)}getMaxZoom(){return this.get(Xt.MAX_ZOOM)}getOpacity(){return this.get(Xt.OPACITY)}getSourceState(){return Zn()}getVisible(){return this.get(Xt.VISIBLE)}getZIndex(){return this.get(Xt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Xt.EXTENT,e)}setMaxResolution(e){this.set(Xt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Xt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Xt.MAX_ZOOM,e)}setMinZoom(e){this.set(Xt.MIN_ZOOM,e)}setOpacity(e){ya(typeof e=="number","Layer opacity must be a number"),this.set(Xt.OPACITY,e)}setVisible(e){this.set(Xt.VISIBLE,e)}setZIndex(e){this.set(Xt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const yf={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},Qs={ANIMATING:0,INTERACTING:1},is={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},PN=256,Z4={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class $4{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Z4[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Cf=6378137,Hl=Math.PI*Cf,kN=[-Hl,-Hl,Hl,Hl],UN=[-180,-85,180,85],k2=Cf*Math.log(Math.tan(Math.PI/2));class ql extends $4{constructor(e){super({code:e,units:"m",extent:kN,global:!0,worldExtent:UN,getPointResolution:function(t,n){return t/Math.cosh(n[1]/Cf)}})}}const eM=[new ql("EPSG:3857"),new ql("EPSG:102100"),new ql("EPSG:102113"),new ql("EPSG:900913"),new ql("http://www.opengis.net/def/crs/EPSG/0/3857"),new ql("http://www.opengis.net/gml/srs/epsg.xml#3857")];function NN(i,e,t,n){const r=i.length;t=t>1?t:2,n=n??t,e===void 0&&(t>2?e=i.slice():e=new Array(r));for(let s=0;s<r;s+=n){e[s]=Hl*i[s]/180;let a=Cf*Math.log(Math.tan(Math.PI*(+i[s+1]+90)/360));a>k2?a=k2:a<-k2&&(a=-k2),e[s+1]=a}return e}function ON(i,e,t,n){const r=i.length;t=t>1?t:2,n=n??t,e===void 0&&(t>2?e=i.slice():e=new Array(r));for(let s=0;s<r;s+=n)e[s]=180*i[s]/Hl,e[s+1]=360*Math.atan(Math.exp(i[s+1]/Cf))/Math.PI-90;return e}const GN=6378137,tM=[-180,-90,180,90],zN=Math.PI*GN/180;class U0 extends $4{constructor(e,t){super({code:e,units:"degrees",extent:tM,axisOrientation:t,global:!0,metersPerUnit:zN,worldExtent:tM})}}const nM=[new U0("CRS:84"),new U0("EPSG:4326","neu"),new U0("urn:ogc:def:crs:OGC:1.3:CRS84"),new U0("urn:ogc:def:crs:OGC:2:84"),new U0("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new U0("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new U0("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let nb={};function VN(i){return nb[i]||nb[i.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function HN(i,e){nb[i]=e}let Yl={};function U2(i,e,t){const n=i.getCode(),r=e.getCode();n in Yl||(Yl[n]={}),Yl[n][r]=t}function qN(i,e){let t;return i in Yl&&e in Yl[i]&&(t=Yl[i][e]),t}const ci={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function iM(i){const e=Xl();for(let t=0,n=i.length;t<n;++t)N2(e,i[t]);return e}function rM(i,e,t){let n,r;return e<i[0]?n=i[0]-e:i[2]<e?n=e-i[2]:n=0,t<i[1]?r=i[1]-t:i[3]<t?r=t-i[3]:r=0,n*n+r*r}function sM(i,e){return aM(i,e[0],e[1])}function bf(i,e){return i[0]<=e[0]&&e[2]<=i[2]&&i[1]<=e[1]&&e[3]<=i[3]}function aM(i,e,t){return i[0]<=e&&e<=i[2]&&i[1]<=t&&t<=i[3]}function oM(i,e){const t=i[0],n=i[1],r=i[2],s=i[3],a=e[0],o=e[1];let l=ci.UNKNOWN;return a<t?l=l|ci.LEFT:a>r&&(l=l|ci.RIGHT),o<n?l=l|ci.BELOW:o>s&&(l=l|ci.ABOVE),l===ci.UNKNOWN&&(l=ci.INTERSECTING),l}function Xl(){return[1/0,1/0,-1/0,-1/0]}function ib(i,e,t,n,r){return r?(r[0]=i,r[1]=e,r[2]=t,r[3]=n,r):[i,e,t,n]}function rb(i){return ib(1/0,1/0,-1/0,-1/0,i)}function YN(i,e){const t=i[0],n=i[1];return ib(t,n,t,n,e)}function XN(i,e,t,n,r){const s=rb(r);return cM(s,i,e,t,n)}function WN(i,e){return i[0]==e[0]&&i[2]==e[2]&&i[1]==e[1]&&i[3]==e[3]}function jN(i,e){return e[0]<i[0]&&(i[0]=e[0]),e[2]>i[2]&&(i[2]=e[2]),e[1]<i[1]&&(i[1]=e[1]),e[3]>i[3]&&(i[3]=e[3]),i}function N2(i,e){e[0]<i[0]&&(i[0]=e[0]),e[0]>i[2]&&(i[2]=e[0]),e[1]<i[1]&&(i[1]=e[1]),e[1]>i[3]&&(i[3]=e[1])}function cM(i,e,t,n,r){for(;t<n;t+=r)KN(i,e[t],e[t+1]);return i}function KN(i,e,t){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}function JN(i,e){let t;return t=e(sb(i)),t||(t=e(ab(i)),t)||(t=e(ob(i)),t)||(t=e(O2(i)),t)?t:!1}function ZN(i){let e=0;return wf(i)||(e=Nn(i)*bi(i)),e}function sb(i){return[i[0],i[1]]}function ab(i){return[i[2],i[1]]}function Wl(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function lM(i,e,t,n,r){const[s,a,o,l,c,x,u,h]=$N(i,e,t,n);return ib(Math.min(s,o,c,u),Math.min(a,l,x,h),Math.max(s,o,c,u),Math.max(a,l,x,h),r)}function $N(i,e,t,n){const r=e*n[0]/2,s=e*n[1]/2,a=Math.cos(t),o=Math.sin(t),l=r*a,c=r*o,x=s*a,u=s*o,h=i[0],f=i[1];return[h-l+u,f-c-x,h-l-u,f-c+x,h+l-u,f+c+x,h+l+u,f+c-x,h-l+u,f-c-x]}function bi(i){return i[3]-i[1]}function xM(i,e,t){const n=t||Xl();return vf(i,e)?(i[0]>e[0]?n[0]=i[0]:n[0]=e[0],i[1]>e[1]?n[1]=i[1]:n[1]=e[1],i[2]<e[2]?n[2]=i[2]:n[2]=e[2],i[3]<e[3]?n[3]=i[3]:n[3]=e[3]):rb(n),n}function O2(i){return[i[0],i[3]]}function ob(i){return[i[2],i[3]]}function Nn(i){return i[2]-i[0]}function vf(i,e){return i[0]<=e[2]&&i[2]>=e[0]&&i[1]<=e[3]&&i[3]>=e[1]}function wf(i){return i[2]<i[0]||i[3]<i[1]}function eO(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i}function tO(i,e){const t=(i[2]-i[0])/2*(e-1),n=(i[3]-i[1])/2*(e-1);i[0]-=t,i[2]+=t,i[1]-=n,i[3]+=n}function nO(i,e,t){let n=!1;const r=oM(i,e),s=oM(i,t);if(r===ci.INTERSECTING||s===ci.INTERSECTING)n=!0;else{const a=i[0],o=i[1],l=i[2],c=i[3],x=e[0],u=e[1],h=t[0],f=t[1],A=(f-u)/(h-x);let g,d;s&ci.ABOVE&&!(r&ci.ABOVE)&&(g=h-(f-c)/A,n=g>=a&&g<=l),!n&&s&ci.RIGHT&&!(r&ci.RIGHT)&&(d=f-(h-l)*A,n=d>=o&&d<=c),!n&&s&ci.BELOW&&!(r&ci.BELOW)&&(g=h-(f-o)/A,n=g>=a&&g<=l),!n&&s&ci.LEFT&&!(r&ci.LEFT)&&(d=f-(h-a)*A,n=d>=o&&d<=c)}return n}function iO(i,e){return i[0]+=+e[0],i[1]+=+e[1],i}function G2(i,e){let t=!0;for(let n=i.length-1;n>=0;--n)if(i[n]!=e[n]){t=!1;break}return t}function rO(i,e){const t=Math.cos(e),n=Math.sin(e),r=i[0]*t-i[1]*n,s=i[1]*t+i[0]*n;return i[0]=r,i[1]=s,i}const sO=63710088e-1;function uM(i,e,t){t=t||sO;const n=L2(i[1]),r=L2(e[1]),s=(r-n)/2,a=L2(e[0]-i[0])/2,o=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(n)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))}function aO(...i){console.warn(...i)}let cb=!0;function oO(i){cb=!1}function lb(i,e){if(e!==void 0){for(let t=0,n=i.length;t<n;++t)e[t]=i[t];e=e}else e=i.slice();return e}function hM(i,e){if(e!==void 0&&i!==e){for(let t=0,n=i.length;t<n;++t)e[t]=i[t];i=e}return i}function cO(i){HN(i.getCode(),i),U2(i,i,lb)}function lO(i){i.forEach(cO)}function To(i){return typeof i=="string"?VN(i):i||null}function fM(i,e,t,n){i=To(i);let r;const s=i.getPointResolutionFunc();if(s)r=s(e,t);else{const a=i.getUnits();if(a=="degrees"&&!n||n=="degrees")r=e;else{const o=ub(i,To("EPSG:4326"));if(o===hM&&a!=="degrees")r=e*i.getMetersPerUnit();else{let c=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];c=o(c,c,2);const x=uM(c.slice(0,2),c.slice(2,4)),u=uM(c.slice(4,6),c.slice(6,8));r=(x+u)/2}const l=i.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function AM(i){lO(i),i.forEach(function(e){i.forEach(function(t){e!==t&&U2(e,t,lb)})})}function xO(i,e,t,n){i.forEach(function(r){e.forEach(function(s){U2(r,s,t),U2(s,r,n)})})}function xb(i,e){return i?typeof i=="string"?To(i):i:To(e)}function dM(i,e){if(i===e)return!0;const t=i.getUnits()===e.getUnits();return(i.getCode()===e.getCode()||ub(i,e)===lb)&&t}function ub(i,e){const t=i.getCode(),n=e.getCode();let r=qN(t,n);return r||(r=hM),r}function z2(i,e){const t=To(i),n=To(e);return ub(t,n)}function V2(i,e,t){return z2(e,t)(i,void 0,i.length)}function pM(i,e){return i}function Do(i,e){return cb&&!G2(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(cb=!1,aO("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),i}function uO(i,e){return i}function jl(i,e){return i}function hO(){AM(eM),AM(nM),xO(nM,eM,NN,ON)}hO();function gM(i,e,t){return function(n,r,s,a,o){if(!n)return;if(!r&&!e)return n;const l=e?0:s[0]*r,c=e?0:s[1]*r,x=o?o[0]:0,u=o?o[1]:0;let h=i[0]+l/2+x,f=i[2]-l/2+x,A=i[1]+c/2+u,g=i[3]-c/2+u;h>f&&(h=(f+h)/2,f=h),A>g&&(A=(g+A)/2,g=A);let d=$i(n[0],h,f),p=$i(n[1],A,g);if(a&&t&&r){const _=30*r;d+=-_*Math.log(1+Math.max(0,h-n[0])/_)+_*Math.log(1+Math.max(0,n[0]-f)/_),p+=-_*Math.log(1+Math.max(0,A-n[1])/_)+_*Math.log(1+Math.max(0,n[1]-g)/_)}return[d,p]}}function fO(i){return i}function hb(i,e,t,n){const r=Nn(e)/t[0],s=bi(e)/t[1];return n?Math.min(i,Math.max(r,s)):Math.min(i,Math.min(r,s))}function fb(i,e,t){let n=Math.min(i,e);const r=50;return n*=Math.log(1+r*Math.max(0,i/e-1))/r+1,t&&(n=Math.max(n,t),n/=Math.log(1+r*Math.max(0,t/i-1))/r+1),$i(n,t/2,e*2)}function AO(i,e,t,n){return e=e!==void 0?e:!0,function(r,s,a,o){if(r!==void 0){const l=i[0],c=i[i.length-1],x=t?hb(l,t,a,n):l;if(o)return e?fb(r,x,c):$i(r,c,x);const u=Math.min(x,r),h=Math.floor(eb(i,u,s));return i[h]>x&&h<i.length-1?i[h+1]:i[h]}}}function dO(i,e,t,n,r,s){return n=n!==void 0?n:!0,t=t!==void 0?t:0,function(a,o,l,c){if(a!==void 0){const x=r?hb(e,r,l,s):e;if(c)return n?fb(a,x,t):$i(a,t,x);const u=1e-9,h=Math.ceil(Math.log(e/x)/Math.log(i)-u),f=-o*(.5-u)+.5,A=Math.min(x,a),g=Math.floor(Math.log(e/A)/Math.log(i)+f),d=Math.max(h,g),p=e/Math.pow(i,d);return $i(p,t,x)}}}function mM(i,e,t,n,r){return t=t!==void 0?t:!0,function(s,a,o,l){if(s!==void 0){const c=n?hb(i,n,o,r):i;return!t||!l?$i(s,e,c):fb(s,c,e)}}}function pO(i){if(i!==void 0)return 0}function _M(i){if(i!==void 0)return i}function gO(i){const e=2*Math.PI/i;return function(t,n){if(n)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function mO(i){const e=L2(5);return function(t,n){return n||t===void 0?t:Math.abs(t)<=e?0:t}}function _O(i){return Math.pow(i,3)}function IO(i){return 1-_O(1-i)}function EO(i){return 3*i*i-2*i*i*i}new Array(6);function H2(){return[1,0,0,1,0,0]}function Ca(i,e){const t=e[0],n=e[1];return e[0]=i[0]*t+i[2]*n+i[4],e[1]=i[1]*t+i[3]*n+i[5],e}function q2(i,e,t,n,r,s,a,o){const l=Math.sin(s),c=Math.cos(s);return i[0]=n*c,i[1]=r*l,i[2]=-n*l,i[3]=r*c,i[4]=a*n*c-o*n*l+e,i[5]=a*r*l+o*r*c+t,i}function yO(i,e){const t=CO(e);ya(t!==0,"Transformation matrix cannot be inverted");const n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5];return i[0]=a/t,i[1]=-r/t,i[2]=-s/t,i[3]=n/t,i[4]=(s*l-a*o)/t,i[5]=-(n*l-r*o)/t,i}function CO(i){return i[0]*i[3]-i[1]*i[2]}const IM=[1e6,1e6,1e6,1e6,2,2];function bO(i){return"matrix("+i.map((t,n)=>Math.round(t*IM[n])/IM[n]).join(", ")+")"}function vO(i,e,t,n,r,s,a){s=s||[],a=a||2;let o=0;for(let l=e;l<t;l+=n){const c=i[l],x=i[l+1];s[o++]=r[0]*c+r[2]*x+r[4],s[o++]=r[1]*c+r[3]*x+r[5];for(let u=2;u<a;u++)s[o++]=i[l+u]}return s&&s.length!=o&&(s.length=o),s}function wO(i,e,t,n,r,s,a){a=a||[];const o=Math.cos(r),l=Math.sin(r),c=s[0],x=s[1];let u=0;for(let h=e;h<t;h+=n){const f=i[h]-c,A=i[h+1]-x;a[u++]=c+f*o-A*l,a[u++]=x+f*l+A*o;for(let g=h+2;g<h+n;++g)a[u++]=i[g]}return a&&a.length!=u&&(a.length=u),a}function BO(i,e,t,n,r,s,a,o){o=o||[];const l=a[0],c=a[1];let x=0;for(let u=e;u<t;u+=n){const h=i[u]-l,f=i[u+1]-c;o[x++]=l+r*h,o[x++]=c+s*f;for(let A=u+2;A<u+n;++A)o[x++]=i[A]}return o&&o.length!=x&&(o.length=x),o}function SO(i,e,t,n,r,s,a){a=a||[];let o=0;for(let l=e;l<t;l+=n){a[o++]=i[l]+r,a[o++]=i[l+1]+s;for(let c=l+2;c<l+n;++c)a[o++]=i[c]}return a&&a.length!=o&&(a.length=o),a}const EM=H2();class MO extends F2{constructor(){super(),this.extent_=Xl(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=vN((e,t,n)=>{if(!n)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Zn()}closestPointXY(e,t,n,r){return Zn()}containsXY(e,t){const n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Zn()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&rb(t),this.extentRevision_=this.getRevision()}return eO(this.extent_,e)}rotate(e,t){Zn()}scale(e,t,n){Zn()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Zn()}getType(){return Zn()}applyTransform(e){Zn()}intersectsExtent(e){return Zn()}translate(e,t){Zn()}transform(e,t){const n=To(e),r=n.getUnits()=="tile-pixels"?function(s,a,o){const l=n.getExtent(),c=n.getWorldExtent(),x=bi(c)/bi(l);return q2(EM,c[0],c[3],x,-x,0,0,0),vO(s,0,s.length,o,EM,a),z2(n,t)(s,a,o)}:z2(n,t);return this.applyTransform(r),this}}class Ab extends MO{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return XN(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Zn()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=yM(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Zn()}setLayout(e,t,n){let r;if(e)r=yM(e);else{for(let s=0;s<n;++s){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=RO(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();wO(n,0,n.length,r,e,t,n),this.changed()}}scale(e,t,n){t===void 0&&(t=e),n||(n=Wl(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();BO(r,0,r.length,s,e,t,n,r),this.changed()}}translate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();SO(n,0,n.length,r,e,t,n),this.changed()}}}function RO(i){let e;return i==2?e="XY":i==3?e="XYZ":i==4&&(e="XYZM"),e}function yM(i){let e;return i=="XY"?e=2:i=="XYZ"||i=="XYM"?e=3:i=="XYZM"&&(e=4),e}function CM(i,e,t,n,r,s,a){const o=i[e],l=i[e+1],c=i[t]-o,x=i[t+1]-l;let u;if(c===0&&x===0)u=e;else{const h=((r-o)*c+(s-l)*x)/(c*c+x*x);if(h>1)u=t;else if(h>0){for(let f=0;f<n;++f)a[f]=QN(i[e+f],i[t+f],h);a.length=n;return}else u=e}for(let h=0;h<n;++h)a[h]=i[u+h];a.length=n}function bM(i,e,t,n,r){let s=i[e],a=i[e+1];for(e+=n;e<t;e+=n){const o=i[e],l=i[e+1],c=Vl(s,a,o,l);c>r&&(r=c),s=o,a=l}return r}function TO(i,e,t,n,r){for(let s=0,a=t.length;s<a;++s){const o=t[s];r=bM(i,e,o,n,r),e=o}return r}function vM(i,e,t,n,r,s,a,o,l,c,x){if(e==t)return c;let u,h;if(r===0){if(h=Vl(a,o,i[e],i[e+1]),h<c){for(u=0;u<n;++u)l[u]=i[e+u];return l.length=n,h}return c}x=x||[NaN,NaN];let f=e+n;for(;f<t;)if(CM(i,f-n,f,n,a,o,x),h=Vl(a,o,x[0],x[1]),h<c){for(c=h,u=0;u<n;++u)l[u]=x[u];l.length=n,f+=n}else f+=n*Math.max((Math.sqrt(h)-Math.sqrt(c))/r|0,1);if(CM(i,t-n,e,n,a,o,x),h=Vl(a,o,x[0],x[1]),h<c){for(c=h,u=0;u<n;++u)l[u]=x[u];l.length=n}return c}function DO(i,e,t,n,r,s,a,o,l,c,x){x=x||[NaN,NaN];for(let u=0,h=t.length;u<h;++u){const f=t[u];c=vM(i,e,f,n,r,s,a,o,l,c,x),e=f}return c}function QO(i,e,t,n){for(let r=0,s=t.length;r<s;++r)i[e++]=t[r];return e}function wM(i,e,t,n){for(let r=0,s=t.length;r<s;++r){const a=t[r];for(let o=0;o<n;++o)i[e++]=a[o]}return e}function FO(i,e,t,n,r){r=r||[];let s=0;for(let a=0,o=t.length;a<o;++a){const l=wM(i,e,t[a],n);r[s++]=l,e=l}return r.length=s,r}function LO(i,e,t,n,r,s,a){const o=(t-e)/n;if(o<3){for(;e<t;e+=n)s[a++]=i[e],s[a++]=i[e+1];return a}const l=new Array(o);l[0]=1,l[o-1]=1;const c=[e,t-n];let x=0;for(;c.length>0;){const u=c.pop(),h=c.pop();let f=0;const A=i[h],g=i[h+1],d=i[u],p=i[u+1];for(let _=h+n;_<u;_+=n){const I=i[_],m=i[_+1],y=TN(I,m,A,g,d,p);y>f&&(x=_,f=y)}f>r&&(l[(x-e)/n]=1,h+n<x&&c.push(h,x),x+n<u&&c.push(x,u))}for(let u=0;u<o;++u)l[u]&&(s[a++]=i[e+u*n],s[a++]=i[e+u*n+1]);return a}function Kl(i,e){return e*Math.round(i/e)}function PO(i,e,t,n,r,s,a){if(e==t)return a;let o=Kl(i[e],r),l=Kl(i[e+1],r);e+=n,s[a++]=o,s[a++]=l;let c,x;do if(c=Kl(i[e],r),x=Kl(i[e+1],r),e+=n,e==t)return s[a++]=c,s[a++]=x,a;while(c==o&&x==l);for(;e<t;){const u=Kl(i[e],r),h=Kl(i[e+1],r);if(e+=n,u==c&&h==x)continue;const f=c-o,A=x-l,g=u-o,d=h-l;if(f*d==A*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(A<0&&d<A||A==d||A>0&&d>A)){c=u,x=h;continue}s[a++]=c,s[a++]=x,o=c,l=x,c=u,x=h}return s[a++]=c,s[a++]=x,a}function kO(i,e,t,n,r,s,a,o){for(let l=0,c=t.length;l<c;++l){const x=t[l];a=PO(i,e,x,n,r,s,a),o.push(a),e=x}return a}function BM(i,e,t,n,r){r=r!==void 0?r:[];let s=0;for(let a=e;a<t;a+=n)r[s++]=i.slice(a,a+n);return r.length=s,r}function UO(i,e,t,n,r){r=r!==void 0?r:[];let s=0;for(let a=0,o=t.length;a<o;++a){const l=t[a];r[s++]=BM(i,e,l,n,r[s]),e=l}return r.length=s,r}function SM(i,e,t,n){let r=0;const s=i[t-n],a=i[t-n+1];let o=0,l=0;for(;e<t;e+=n){const c=i[e]-s,x=i[e+1]-a;r+=l*c-o*x,o=c,l=x}return r/2}function NO(i,e,t,n){let r=0;for(let s=0,a=t.length;s<a;++s){const o=t[s];r+=SM(i,e,o,n),e=o}return r}class Bf extends Ab{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new Bf(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,n,r){return r<rM(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(bM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),vM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,r))}getArea(){return SM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return BM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=LO(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Bf(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=wM(this.flatCoordinates,0,e,this.stride),this.changed()}}class db extends Ab{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new db(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){const s=this.flatCoordinates,a=Vl(e,t,s[0],s[1]);if(a<r){const o=this.stride;for(let l=0;l<o;++l)n[l]=s[l];return n.length=o,a}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return YN(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return aM(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=QO(this.flatCoordinates,0,e,this.stride),this.changed()}}function OO(i,e,t,n,r){return!JN(r,function(a){return!N0(i,e,t,n,a[0],a[1])})}function N0(i,e,t,n,r,s){let a=0,o=i[t-n],l=i[t-n+1];for(;e<t;e+=n){const c=i[e],x=i[e+1];l<=s?x>s&&(c-o)*(s-l)-(r-o)*(x-l)>0&&a++:x<=s&&(c-o)*(s-l)-(r-o)*(x-l)<0&&a--,o=c,l=x}return a!==0}function MM(i,e,t,n,r,s){if(t.length===0||!N0(i,e,t[0],n,r,s))return!1;for(let a=1,o=t.length;a<o;++a)if(N0(i,t[a-1],t[a],n,r,s))return!1;return!0}function GO(i,e,t,n,r,s,a){let o,l,c,x,u,h,f;const A=r[s+1],g=[];for(let _=0,I=t.length;_<I;++_){const m=t[_];for(x=i[m-n],h=i[m-n+1],o=e;o<m;o+=n)u=i[o],f=i[o+1],(A<=h&&f<=A||h<=A&&A<=f)&&(c=(A-h)/(f-h)*(u-x)+x,g.push(c)),x=u,h=f}let d=NaN,p=-1/0;for(g.sort(CN),x=g[0],o=1,l=g.length;o<l;++o){u=g[o];const _=Math.abs(u-x);_>p&&(c=(x+u)/2,MM(i,e,t,n,c,A)&&(d=c,p=_)),x=u}return isNaN(d)&&(d=r[s]),[d,A,p]}function zO(i,e,t,n,r){let s;for(e+=n;e<t;e+=n)if(s=r(i.slice(e-n,e),i.slice(e,e+n)),s)return s;return!1}function RM(i,e,t,n,r){const s=cM(Xl(),i,e,t,n);return vf(r,s)?bf(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:zO(i,e,t,n,function(a,o){return nO(r,a,o)}):!1}function VO(i,e,t,n,r){return!!(RM(i,e,t,n,r)||N0(i,e,t,n,r[0],r[1])||N0(i,e,t,n,r[0],r[3])||N0(i,e,t,n,r[2],r[1])||N0(i,e,t,n,r[2],r[3]))}function HO(i,e,t,n,r){if(!VO(i,e,t[0],n,r))return!1;if(t.length===1)return!0;for(let s=1,a=t.length;s<a;++s)if(OO(i,t[s-1],t[s],n,r)&&!RM(i,t[s-1],t[s],n,r))return!1;return!0}function qO(i,e,t,n){for(;e<t-n;){for(let r=0;r<n;++r){const s=i[e+r];i[e+r]=i[t-n+r],i[t-n+r]=s}e+=n,t-=n}}function TM(i,e,t,n){let r=0,s=i[t-n],a=i[t-n+1];for(;e<t;e+=n){const o=i[e],l=i[e+1];r+=(o-s)*(l+a),s=o,a=l}return r===0?void 0:r>0}function YO(i,e,t,n,r){r=r!==void 0?r:!1;for(let s=0,a=t.length;s<a;++s){const o=t[s],l=TM(i,e,o,n);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=o}return!0}function DM(i,e,t,n,r){r=r!==void 0?r:!1;for(let s=0,a=t.length;s<a;++s){const o=t[s],l=TM(i,e,o,n);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&qO(i,e,o,n),e=o}return e}class Y2 extends Ab{constructor(e,t,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&n?(this.setFlatCoordinates(t,e),this.ends_=n):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?bN(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Y2(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<rM(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(TO(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),DO(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){return MM(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return NO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),DM(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,UO(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Wl(this.getExtent());this.flatInteriorPoint_=GO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new db(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Bf(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,n=this.ends_,r=[];let s=0;for(let a=0,o=n.length;a<o;++a){const l=n[a],c=new Bf(t.slice(s,l),e);r.push(c),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;YO(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=DM(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=kO(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new Y2(t,"XY",n)}getType(){return"Polygon"}intersectsExtent(e){return HO(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=FO(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()}}function QM(i){if(wf(i))throw new Error("Cannot create polygon from empty extent");const e=i[0],t=i[1],n=i[2],r=i[3],s=[e,t,e,r,n,r,n,t,e,t];return new Y2(s,"XY",[s.length])}const pb=0;class FM extends F2{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=xb(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&oO(),e.center&&(e.center=Do(e.center,this.projection_)),e.extent&&(e.extent=jl(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const o in is)delete t[o];this.setProperties(t,!0);const n=WO(e);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom;const r=XO(e),s=n.constraint,a=jO(e);this.constraints_={center:r,resolution:s,rotation:a},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const n=this.getCenterInternal();if(n){const r=e||[0,0,0,0];t=t||[0,0,0,0];const s=this.getResolution(),a=s/2*(r[3]-t[3]+t[1]-r[1]),o=s/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([n[0]+a,n[1]-o])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let n=0;n<t.length;++n){let r=arguments[n];r.center&&(r=Object.assign({},r),r.center=Do(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Do(r.anchor,this.getProjection())),t[n]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,n;t>1&&typeof arguments[t-1]=="function"&&(n=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const x=arguments[r];x.center&&this.setCenterInternal(x.center),x.zoom!==void 0?this.setZoom(x.zoom):x.resolution&&this.setResolution(x.resolution),x.rotation!==void 0&&this.setRotation(x.rotation)}if(r===t){n&&X2(n,!0);return}let s=Date.now(),a=this.targetCenter_.slice(),o=this.targetResolution_,l=this.targetRotation_;const c=[];for(;r<t;++r){const x=arguments[r],u={start:s,complete:!1,anchor:x.anchor,duration:x.duration!==void 0?x.duration:1e3,easing:x.easing||EO,callback:n};if(x.center&&(u.sourceCenter=a,u.targetCenter=x.center.slice(),a=u.targetCenter),x.zoom!==void 0?(u.sourceResolution=o,u.targetResolution=this.getResolutionForZoom(x.zoom),o=u.targetResolution):x.resolution&&(u.sourceResolution=o,u.targetResolution=x.resolution,o=u.targetResolution),x.rotation!==void 0){u.sourceRotation=l;const h=Ef(x.rotation-l+Math.PI,2*Math.PI)-Math.PI;u.targetRotation=l+h,l=u.targetRotation}KO(u)?u.complete=!0:s+=u.duration,c.push(u)}this.animations_.push(c),this.setHint(Qs.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Qs.ANIMATING]>0}getInteracting(){return this.hints_[Qs.INTERACTING]>0}cancelAnimations(){this.setHint(Qs.ANIMATING,-this.hints_[Qs.ANIMATING]);let e;for(let t=0,n=this.animations_.length;t<n;++t){const r=this.animations_[t];if(r[0].callback&&X2(r[0].callback,!1),!e)for(let s=0,a=r.length;s<a;++s){const o=r[s];if(!o.complete){e=o.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let n=this.animations_.length-1;n>=0;--n){const r=this.animations_[n];let s=!0;for(let a=0,o=r.length;a<o;++a){const l=r[a];if(l.complete)continue;const c=e-l.start;let x=l.duration>0?c/l.duration:1;x>=1?(l.complete=!0,x=1):s=!1;const u=l.easing(x);if(l.sourceCenter){const h=l.sourceCenter[0],f=l.sourceCenter[1],A=l.targetCenter[0],g=l.targetCenter[1];this.nextCenter_=l.targetCenter;const d=h+u*(A-h),p=f+u*(g-f);this.targetCenter_=[d,p]}if(l.sourceResolution&&l.targetResolution){const h=u===1?l.targetResolution:l.sourceResolution+u*(l.targetResolution-l.sourceResolution);if(l.anchor){const f=this.getViewportSize_(this.getRotation()),A=this.constraints_.resolution(h,0,f,!0);this.targetCenter_=this.calculateCenterZoom(A,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=h,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const h=u===1?Ef(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+u*(l.targetRotation-l.sourceRotation);if(l.anchor){const f=this.constraints_.rotation(h,!0);this.targetCenter_=this.calculateCenterRotate(f,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=h}if(this.applyTargetState_(!0),t=!0,!l.complete)break}if(s){this.animations_[n]=null,this.setHint(Qs.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const a=r[0].callback;a&&X2(a,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let n;const r=this.getCenterInternal();return r!==void 0&&(n=[r[0]-t[0],r[1]-t[1]],rO(n,e-this.getRotation()),iO(n,t)),n}calculateCenterZoom(e,t){let n;const r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){const a=t[0]-e*(t[0]-r[0])/s,o=t[1]-e*(t[1]-r[1])/s;n=[a,o]}return n}getViewportSize_(e){const t=this.viewportSize_;if(e){const n=t[0],r=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&pM(e,this.getProjection())}getCenterInternal(){return this.get(is.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return uO(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();ya(t,"The view center is not defined");const n=this.getResolution();ya(n!==void 0,"The view resolution is not defined");const r=this.getRotation();return ya(r!==void 0,"The view rotation is not defined"),lM(t,n,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(is.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(jl(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const n=Nn(e)/t[0],r=bi(e)/t[1];return Math.max(n,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(t/n)/Math.log(e);return function(s){return t/Math.pow(e,s*r)}}getRotation(){return this.get(is.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(n/r)/t;return function(a){return Math.log(n/a)/t/s}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),n=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const a=this.getViewportSizeMinusPadding_();r=gb(r,this.getViewportSize_(),[a[0]/2+s[3],a[1]/2+s[0]],t,n)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,n,r;if(this.resolutions_){const s=eb(this.resolutions_,e,1);t=s,n=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=n/this.resolutions_[s+1]}else n=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(n/e)/Math.log(r)}getResolutionForZoom(e){var t;if((t=this.resolutions_)!=null&&t.length){if(this.resolutions_.length===1)return this.resolutions_[0];const n=$i(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,$i(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let n;if(ya(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){ya(!wf(e),"Cannot fit empty extent provided as `geometry`");const r=jl(e,this.getProjection());n=QM(r)}else if(e.getType()==="Circle"){const r=jl(e.getExtent(),this.getProjection());n=QM(r),n.rotate(this.getRotation(),Wl(r))}else n=e;this.fitInternal(n,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),n=Math.cos(t),r=Math.sin(-t),s=e.getFlatCoordinates(),a=e.getStride();let o=1/0,l=1/0,c=-1/0,x=-1/0;for(let u=0,h=s.length;u<h;u+=a){const f=s[u]*n-s[u+1]*r,A=s[u]*r+s[u+1]*n;o=Math.min(o,f),l=Math.min(l,A),c=Math.max(c,f),x=Math.max(x,A)}return[o,l,c,x]}fitInternal(e,t){t=t||{};let n=t.size;n||(n=this.getViewportSizeMinusPadding_());const r=t.padding!==void 0?t.padding:[0,0,0,0],s=t.nearest!==void 0?t.nearest:!1;let a;t.minResolution!==void 0?a=t.minResolution:t.maxZoom!==void 0?a=this.getResolutionForZoom(t.maxZoom):a=0;const o=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(o,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);l=isNaN(l)?a:Math.max(l,a),l=this.getConstrainedResolution(l,s?0:1);const c=this.getRotation(),x=Math.sin(c),u=Math.cos(c),h=Wl(o);h[0]+=(r[1]-r[3])/2*l,h[1]+=(r[0]-r[2])/2*l;const f=h[0]*u-h[1]*x,A=h[1]*u+h[0]*x,g=this.getConstrainedCenter([f,A],l),d=t.callback?t.callback:tb;t.duration!==void 0?this.animateInternal({resolution:l,center:g,duration:t.duration,easing:t.easing},d):(this.targetResolution_=l,this.targetCenter_=g,this.applyTargetState_(!1,!0),X2(d,!0))}centerOn(e,t,n){this.centerOnInternal(Do(e,this.getProjection()),t,n)}centerOnInternal(e,t,n){this.setCenterInternal(gb(e,t,n,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,n,r){let s;const a=this.padding_;if(a&&e){const o=this.getViewportSizeMinusPadding_(-n),l=gb(e,r,[o[0]/2+a[3],o[1]/2+a[0]],t,n);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=pM(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Do(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,n);t&&(this.targetCenter_=this.calculateCenterZoom(s,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=Do(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Do(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const n=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,n),s=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,0,s,n),o=this.constraints_.center(this.targetCenter_,a,s,n,this.calculateCenterShift(this.targetCenter_,a,r,s));this.get(is.ROTATION)!==r&&this.set(is.ROTATION,r),this.get(is.RESOLUTION)!==a&&(this.set(is.RESOLUTION,a),this.set("zoom",this.getZoom(),!0)),(!o||!this.get(is.CENTER)||!G2(this.get(is.CENTER),o))&&this.set(is.CENTER,o),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,n){e=e!==void 0?e:200;const r=t||0,s=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,r,a),l=this.constraints_.center(this.targetCenter_,o,a,!1,this.calculateCenterShift(this.targetCenter_,o,s,a));if(e===0&&!this.cancelAnchor_){this.targetResolution_=o,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}n=n||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==o||this.getRotation()!==s||!this.getCenterInternal()||!G2(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:o,duration:e,easing:IO,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Qs.INTERACTING,1)}endInteraction(e,t,n){n=n&&Do(n,this.getProjection()),this.endInteractionInternal(e,t,n)}endInteractionInternal(e,t,n){this.getInteracting()&&(this.setHint(Qs.INTERACTING,-1),this.resolveConstraints(e,t,n))}getConstrainedCenter(e,t){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}getConstrainedZoom(e,t){const n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}getConstrainedResolution(e,t){t=t||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}function X2(i,e){setTimeout(function(){i(e)},0)}function XO(i){if(i.extent!==void 0){const t=i.smoothExtentConstraint!==void 0?i.smoothExtentConstraint:!0;return gM(i.extent,i.constrainOnlyCenter,t)}const e=xb(i.projection,"EPSG:3857");if(i.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,gM(t,!1,!1)}return fO}function WO(i){let e,t,n,a=i.minZoom!==void 0?i.minZoom:pb,o=i.maxZoom!==void 0?i.maxZoom:28;const l=i.zoomFactor!==void 0?i.zoomFactor:2,c=i.multiWorld!==void 0?i.multiWorld:!1,x=i.smoothResolutionConstraint!==void 0?i.smoothResolutionConstraint:!0,u=i.showFullExtent!==void 0?i.showFullExtent:!1,h=xb(i.projection,"EPSG:3857"),f=h.getExtent();let A=i.constrainOnlyCenter,g=i.extent;if(!c&&!g&&h.isGlobal()&&(A=!1,g=f),i.resolutions!==void 0){const d=i.resolutions;t=d[a],n=d[o]!==void 0?d[o]:d[d.length-1],i.constrainResolution?e=AO(d,x,!A&&g,u):e=mM(t,n,x,!A&&g,u)}else{const p=(f?Math.max(Nn(f),bi(f)):360*Z4.degrees/h.getMetersPerUnit())/PN/Math.pow(2,pb),_=p/Math.pow(2,28-pb);t=i.maxResolution,t!==void 0?a=0:t=p/Math.pow(l,a),n=i.minResolution,n===void 0&&(i.maxZoom!==void 0?i.maxResolution!==void 0?n=t/Math.pow(l,o):n=p/Math.pow(l,o):n=_),o=a+Math.floor(Math.log(t/n)/Math.log(l)),n=t/Math.pow(l,o-a),i.constrainResolution?e=dO(l,t,n,x,!A&&g,u):e=mM(t,n,x,!A&&g,u)}return{constraint:e,maxResolution:t,minResolution:n,minZoom:a,zoomFactor:l}}function jO(i){if(i.enableRotation!==void 0?i.enableRotation:!0){const t=i.constrainRotation;return t===void 0||t===!0?mO():t===!1?_M:typeof t=="number"?gO(t):_M}return pO}function KO(i){return!(i.sourceCenter&&i.targetCenter&&!G2(i.sourceCenter,i.targetCenter)||i.sourceResolution!==i.targetResolution||i.sourceRotation!==i.targetRotation)}function gb(i,e,t,n,r){const s=Math.cos(-r);let a=Math.sin(-r),o=i[0]*s-i[1]*a,l=i[1]*s+i[0]*a;o+=(e[0]/2-t[0])*n,l+=(t[1]-e[1]/2)*n,a=-a;const c=o*s-l*a,x=l*s+o*a;return[c,x]}class JO extends LN{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Xt.SOURCE,this.handleSourcePropertyChange_);const n=e.source?e.source:null;this.setSource(n)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Xt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(zl(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=k0(e,P0.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const n=this.getMapInternal();!e&&n&&(e=n.getView()),e instanceof FM?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&n&&(t.layerStatesArray=n.getLayerGroup().getLayerStatesArray());let r;t.layerStatesArray?r=t.layerStatesArray.find(a=>a.layer===this):r=this.getLayerState();const s=this.getExtent();return ZO(r,t.viewState)&&(!s||vf(s,t.extent))}getAttributions(e){var s;if(!this.isVisible(e))return[];const t=(s=this.getSource())==null?void 0:s.getAttributions();if(!t)return[];const n=e instanceof FM?e.getViewStateAndExtent():e;let r=t(n);return Array.isArray(r)||(r=[r]),r}render(e,t){const n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Xt.MAP,e)}getMapInternal(){return this.get(Xt.MAP)}setMap(e){this.mapPrecomposeKey_&&(zl(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(zl(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=k0(e,yf.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=k0(this,P0.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,n=this.getLayerState(!1);ya(!t.some(r=>r.layer===n.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(n)}setSource(e){this.set(Xt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function ZO(i,e){if(!i.visible)return!1;const t=e.resolution;if(t<i.minResolution||t>=i.maxResolution)return!1;const n=e.zoom;return n>i.minZoom&&n<=i.maxZoom}class $O extends JO{constructor(e){e=e||{},super(e)}}const Lt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},eG=5;class tG extends If{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=eG}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Zn()}getData(e){return null}prepareFrame(e){return Zn()}renderFrame(e,t){return Zn()}forEachFeatureAtCoordinate(e,t,n,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===Lt.LOADED||t.getState()===Lt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Lt.LOADED&&t!=Lt.ERROR&&e.addEventListener(P0.CHANGE,this.boundHandleImageChange_),t==Lt.IDLE&&(e.load(),t=e.getState()),t==Lt.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class nG extends Q2{constructor(e,t,n,r){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=r}}const Qo=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"";Qo.includes("firefox"),Qo.includes("safari")&&!Qo.includes("chrom")&&(Qo.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Qo)),Qo.includes("webkit")&&Qo.includes("edge"),Qo.includes("macintosh");const iG=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope;(function(){let i=!1;try{const e=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return i})();function Jl(i,e,t,n){let r;return t&&t.length?r=t.shift():iG?r=new OffscreenCanvas(i||300,e||300):r=document.createElement("canvas"),i&&(r.width=i),e&&(r.height=e),r.getContext("2d",n)}let mb;function LM(){return mb||(mb=Jl(1,1)),mb}function PM(i){const e=i.canvas;e.width=1,e.height=1,i.clearRect(0,0,1,1)}class rG{constructor(){hn(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(LM(),{get:(e,t)=>{if(typeof LM()[t]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t),this.pushMethodArgs_},set:(e,t,n)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t,n),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let n=0,r=t.length;n<r;++n){const s=t[n];if(typeof s=="function"){s(e);continue}const a=t[++n];if(typeof e[s]=="function")e[s](...a);else{if(typeof a=="function"){e[s]=a(e);continue}e[s]=a}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const sG=[NaN,NaN,NaN,0],aG=1024,Sf={};let _b=0;function oG(i){if(i==="none")return sG;if(Sf.hasOwnProperty(i))return Sf[i];if(_b>=aG){let t=0;for(const n in Sf)t++&3||(delete Sf[n],--_b)}const e=qw(i);if(e.length!==4)throw new Error('failed to parse "'+i+'" as color');for(const t of e)if(isNaN(t))throw new Error('failed to parse "'+i+'" as color');return cG(e),Sf[i]=e,++_b,e}function kM(i){return Array.isArray(i)?i:oG(i)}function cG(i){return i[0]=$i(i[0]+.5|0,0,255),i[1]=$i(i[1]+.5|0,0,255),i[2]=$i(i[2]+.5|0,0,255),i[3]=$i(i[3],0,1),i}let Zl=null;function lG(){Zl=Jl(1,1,void 0,{willReadFrequently:!0})}class xG extends tG{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=H2(),this.pixelTransform=H2(),this.inversePixelTransform=H2(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,n){Zl||lG(),Zl.clearRect(0,0,1,1);let r;try{Zl.drawImage(e,t,n,1,1,0,0,1,1),r=Zl.getImageData(0,0,1,1).data}catch{return Zl=null,null}return r}getBackground(e){let n=this.getLayer().getBackground();return typeof n=="function"&&(n=n(e.viewState.resolution)),n||void 0}useContainer(e,t,n){const r=this.getLayer().getClassName();let s,a;if(e&&e.className===r&&(!n||e&&e.style.backgroundColor&&X4(kM(e.style.backgroundColor),kM(n)))){const o=e.firstElementChild;o instanceof HTMLCanvasElement&&(a=o.getContext("2d"))}if(a&&a.canvas.style.transform===t?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let o=s.style;o.position="absolute",o.width="100%",o.height="100%",a=Jl();const l=a.canvas;s.appendChild(l),o=l.style,o.position="absolute",o.left="0",o.transformOrigin="top left",this.container=s,this.context=a}!this.containerReused&&n&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=n)}clipUnrotated(e,t,n){const r=O2(n),s=ob(n),a=ab(n),o=sb(n);Ca(t.coordinateToPixelTransform,r),Ca(t.coordinateToPixelTransform,s),Ca(t.coordinateToPixelTransform,a),Ca(t.coordinateToPixelTransform,o);const l=this.inversePixelTransform;Ca(l,r),Ca(l,s),Ca(l,a),Ca(l,o),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.clip()}prepareContainer(e,t){const n=e.extent,r=e.viewState.resolution,s=e.viewState.rotation,a=e.pixelRatio,o=Math.round(Nn(n)/r*a),l=Math.round(bi(n)/r*a);q2(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/a,1/a,s,-o/2,-l/2),yO(this.inversePixelTransform,this.pixelTransform);const c=bO(this.pixelTransform);if(this.useContainer(t,c,this.getBackground(e)),!this.containerReused){const x=this.context.canvas;x.width!=o||x.height!=l?(x.width=o,x.height=l):this.context.clearRect(0,0,o,l),c!==x.style.transform&&(x.style.transform=c)}}dispatchRenderEvent_(e,t,n){const r=this.getLayer();if(r.hasListener(e)){const s=new nG(e,this.inversePixelTransform,n,t);r.dispatchEvent(s)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(yf.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(yf.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new rG),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(yf.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(yf.POSTRENDER,this.context,e))}getRenderTransform(e,t,n,r,s,a,o){const l=s/2,c=a/2,x=r/t,u=-x,h=-e[0]+o,f=-e[1];return q2(this.tempTransform,l,c,x,u,-n,h,f)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class uG extends xG{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,r=e.viewState,s=r.resolution,a=this.getLayer().getSource(),o=e.viewHints;let l=e.extent;if(t.extent!==void 0&&(l=xM(l,jl(t.extent,r.projection))),!o[Qs.ANIMATING]&&!o[Qs.INTERACTING]&&!wf(l))if(a){const c=r.projection,x=a.getImage(l,s,n,c);x&&(this.loadImage(x)?this.image=x:x.getState()===Lt.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=Ca(t.pixelToCoordinateTransform,e.slice()),s=n.getExtent();if(s&&!sM(s,r))return null;const a=this.image.getExtent(),o=this.image.getImage(),l=Nn(a),c=Math.floor(o.width*((r[0]-a[0])/l));if(c<0||c>=o.width)return null;const x=bi(a),u=Math.floor(o.height*((a[3]-r[1])/x));return u<0||u>=o.height?null:this.getImageData(o,c,u)}renderFrame(e,t){const n=this.image,r=n.getExtent(),s=n.getResolution(),[a,o]=Array.isArray(s)?s:[s,s],l=n.getPixelRatio(),c=e.layerStatesArray[e.layerIndex],x=e.pixelRatio,u=e.viewState,h=u.center,f=u.resolution,A=x*a/(f*l),g=x*o/(f*l);this.prepareContainer(e,t);const d=this.context.canvas.width,p=this.context.canvas.height,_=this.getRenderContext(e);let I=!1,m=!0;if(c.extent){const b=jl(c.extent,u.projection);m=vf(b,e.extent),I=m&&!bf(b,e.extent),I&&this.clipUnrotated(_,e,b)}const y=n.getImage(),E=q2(this.tempTransform,d/2,p/2,A,g,0,l*(r[0]-h[0])/a,l*(h[1]-r[3])/o);this.renderedResolution=o*x/l;const C=y.width*E[0],v=y.height*E[3];if(this.getLayer().getSource().getInterpolate()||(_.imageSmoothingEnabled=!1),this.preRender(_,e),m&&C>=.5&&v>=.5){const b=E[4],w=E[5],B=c.opacity;B!==1&&(_.save(),_.globalAlpha=B),_.drawImage(y,0,0,+y.width,+y.height,b,w,C,v),B!==1&&_.restore()}return this.postRender(this.context,e),I&&_.restore(),_.imageSmoothingEnabled=!0,this.container}}class hG extends $O{constructor(e){super(e)}createRenderer(){return new uG(this)}getData(e){return super.getData(e)}}class Ib extends j4{constructor(e,t,n,r){super(),this.extent=e,this.pixelRatio_=n,this.resolution=t,this.state=typeof r=="function"?Lt.IDLE:r,this.image_=null,this.loader=typeof r=="function"?r:null}changed(){this.dispatchEvent(P0.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==Lt.IDLE&&this.loader){this.state=Lt.LOADING,this.changed();const e=this.getResolution(),t=Array.isArray(e)?e[0]:e;wN(()=>this.loader(this.getExtent(),t,this.getPixelRatio())).then(n=>{"image"in n&&(this.image_=n.image),"extent"in n&&(this.extent=n.extent),"resolution"in n&&(this.resolution=n.resolution),"pixelRatio"in n&&(this.pixelRatio_=n.pixelRatio),(n instanceof HTMLImageElement||n instanceof ImageBitmap||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement)&&(this.image_=n),this.state=Lt.LOADED}).catch(n=>{this.state=Lt.ERROR,console.error(n)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}class fG extends Ib{constructor(e,t,n,r,s){const a=s!==void 0?Lt.IDLE:Lt.LOADED;super(e,t,n,a),this.loader_=s!==void 0?s:null,this.canvas_=r,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=Lt.ERROR):this.state=Lt.LOADED,this.changed()}load(){this.state==Lt.IDLE&&(this.state=Lt.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}const AG=.5,dG=10,UM=.25;class pG{constructor(e,t,n,r,s,a){this.sourceProj_=e,this.targetProj_=t;let o={};const l=z2(this.targetProj_,this.sourceProj_);this.transformInv_=function(_){const I=_[0]+"/"+_[1];return o[I]||(o[I]=l(_)),o[I]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Nn(r)>=Nn(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Nn(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Nn(this.targetProj_.getExtent()):null;const c=O2(n),x=ob(n),u=ab(n),h=sb(n),f=this.transformInv_(c),A=this.transformInv_(x),g=this.transformInv_(u),d=this.transformInv_(h),p=dG+(a?Math.max(0,Math.ceil(Math.log2(ZN(n)/(a*a*256*256)))):0);if(this.addQuad_(c,x,u,h,f,A,g,d,p),this.wrapsXInSource_){let _=1/0;this.triangles_.forEach(function(I,m,y){_=Math.min(_,I.source[0][0],I.source[1][0],I.source[2][0])}),this.triangles_.forEach(I=>{if(Math.max(I.source[0][0],I.source[1][0],I.source[2][0])-_>this.sourceWorldWidth_/2){const m=[[I.source[0][0],I.source[0][1]],[I.source[1][0],I.source[1][1]],[I.source[2][0],I.source[2][1]]];m[0][0]-_>this.sourceWorldWidth_/2&&(m[0][0]-=this.sourceWorldWidth_),m[1][0]-_>this.sourceWorldWidth_/2&&(m[1][0]-=this.sourceWorldWidth_),m[2][0]-_>this.sourceWorldWidth_/2&&(m[2][0]-=this.sourceWorldWidth_);const y=Math.min(m[0][0],m[1][0],m[2][0]);Math.max(m[0][0],m[1][0],m[2][0])-y<this.sourceWorldWidth_/2&&(I.source=m)}})}o={}}addTriangle_(e,t,n,r,s,a){this.triangles_.push({source:[r,s,a],target:[e,t,n]})}addQuad_(e,t,n,r,s,a,o,l,c){const x=iM([s,a,o,l]),u=this.sourceWorldWidth_?Nn(x)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&u>.5&&u<1;let A=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const d=iM([e,t,n,r]);A=Nn(d)/this.targetWorldWidth_>UM||A}!f&&this.sourceProj_.isGlobal()&&u&&(A=u>UM||A)}if(!A&&this.maxSourceExtent_&&isFinite(x[0])&&isFinite(x[1])&&isFinite(x[2])&&isFinite(x[3])&&!vf(x,this.maxSourceExtent_))return;let g=0;if(!A&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1]))){if(c>0)A=!0;else if(g=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(o[0])||!isFinite(o[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),g!=1&&g!=2&&g!=4&&g!=8)return}if(c>0){if(!A){const d=[(e[0]+n[0])/2,(e[1]+n[1])/2],p=this.transformInv_(d);let _;f?_=(Ef(s[0],h)+Ef(o[0],h))/2-Ef(p[0],h):_=(s[0]+o[0])/2-p[0];const I=(s[1]+o[1])/2-p[1];A=_*_+I*I>this.errorThresholdSquared_}if(A){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){const d=[(t[0]+n[0])/2,(t[1]+n[1])/2],p=this.transformInv_(d),_=[(r[0]+e[0])/2,(r[1]+e[1])/2],I=this.transformInv_(_);this.addQuad_(e,t,d,_,s,a,p,I,c-1),this.addQuad_(_,d,n,r,I,p,o,l,c-1)}else{const d=[(e[0]+t[0])/2,(e[1]+t[1])/2],p=this.transformInv_(d),_=[(n[0]+r[0])/2,(n[1]+r[1])/2],I=this.transformInv_(_);this.addQuad_(e,d,_,r,s,p,I,l,c-1),this.addQuad_(d,t,n,_,p,a,o,I,c-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}g&11||this.addTriangle_(e,n,r,s,o,l),g&14||this.addTriangle_(e,n,t,s,o,a),g&&(g&13||this.addTriangle_(t,r,e,a,l,s),g&7||this.addTriangle_(t,r,n,a,l,o))}calculateSourceExtent(){const e=Xl();return this.triangles_.forEach(function(t,n,r){const s=t.source;N2(e,s[0]),N2(e,s[1]),N2(e,s[2])}),e}getTriangles(){return this.triangles_}}let Eb;const Mf=[];function NM(i,e,t,n,r){i.beginPath(),i.moveTo(0,0),i.lineTo(e,t),i.lineTo(n,r),i.closePath(),i.save(),i.clip(),i.fillRect(0,0,Math.max(e,n)+1,Math.max(t,r)),i.restore()}function yb(i,e){return Math.abs(i[e*4]-210)>2||Math.abs(i[e*4+3]-.75*255)>2}function gG(){if(Eb===void 0){const i=Jl(6,6,Mf);i.globalCompositeOperation="lighter",i.fillStyle="rgba(210, 0, 0, 0.75)",NM(i,4,5,4,0),NM(i,4,5,0,5);const e=i.getImageData(0,0,3,3).data;Eb=yb(e,0)||yb(e,4)||yb(e,8),PM(i),Mf.push(i.canvas)}return Eb}function mG(i,e,t,n){const r=V2(t,e,i);let s=fM(e,n,t);const a=e.getMetersPerUnit();a!==void 0&&(s*=a);const o=i.getMetersPerUnit();o!==void 0&&(s/=o);const l=i.getExtent();if(!l||sM(l,r)){const c=fM(i,s,r)/s;isFinite(c)&&c>0&&(s/=c)}return s}function _G(i,e,t,n,r,s,a,o,l,c,x,u,h,f){const A=Jl(Math.round(t*i),Math.round(t*e),Mf);if(u||(A.imageSmoothingEnabled=!1),l.length===0)return A.canvas;A.scale(t,t);function g(y){return Math.round(y*t)/t}A.globalCompositeOperation="lighter";const d=Xl();l.forEach(function(y,E,C){jN(d,y.extent)});let p;const _=t/n,I=(u?1:1+Math.pow(2,-24))/_;if(l.length!==1||c!==0){if(p=Jl(Math.round(Nn(d)*_),Math.round(bi(d)*_),Mf),u||(p.imageSmoothingEnabled=!1),r&&f){const y=(r[0]-d[0])*_,E=-(r[3]-d[3])*_,C=Nn(r)*_,v=bi(r)*_;p.rect(y,E,C,v),p.clip()}l.forEach(function(y,E,C){if(y.image.width>0&&y.image.height>0){if(y.clipExtent){p.save();const R=(y.clipExtent[0]-d[0])*_,Q=-(y.clipExtent[3]-d[3])*_,F=Nn(y.clipExtent)*_,M=bi(y.clipExtent)*_;p.rect(u?R:Math.round(R),u?Q:Math.round(Q),u?F:Math.round(R+F)-Math.round(R),u?M:Math.round(Q+M)-Math.round(Q)),p.clip()}const v=(y.extent[0]-d[0])*_,b=-(y.extent[3]-d[3])*_,w=Nn(y.extent)*_,B=bi(y.extent)*_;p.drawImage(y.image,c,c,y.image.width-2*c,y.image.height-2*c,u?v:Math.round(v),u?b:Math.round(b),u?w:Math.round(v+w)-Math.round(v),u?B:Math.round(b+B)-Math.round(b)),y.clipExtent&&p.restore()}})}const m=O2(a);return o.getTriangles().forEach(function(y,E,C){const v=y.source,b=y.target;let w=v[0][0],B=v[0][1],R=v[1][0],Q=v[1][1],F=v[2][0],M=v[2][1];const T=g((b[0][0]-m[0])/s),P=g(-(b[0][1]-m[1])/s),k=g((b[1][0]-m[0])/s),V=g(-(b[1][1]-m[1])/s),Y=g((b[2][0]-m[0])/s),U=g(-(b[2][1]-m[1])/s),te=w,xe=B;w=0,B=0,R-=te,Q-=xe,F-=te,M-=xe;const G=[[R,Q,0,0,k-T],[F,M,0,0,Y-T],[0,0,R,Q,V-P],[0,0,F,M,U-P]],O=DN(G);if(!O)return;if(A.save(),A.beginPath(),gG()||!u){A.moveTo(k,V);const K=4,ce=T-k,Ae=P-V;for(let ge=0;ge<K;ge++)A.lineTo(k+g((ge+1)*ce/K),V+g(ge*Ae/(K-1))),ge!=K-1&&A.lineTo(k+g((ge+1)*ce/K),V+g((ge+1)*Ae/(K-1)));A.lineTo(Y,U)}else A.moveTo(k,V),A.lineTo(T,P),A.lineTo(Y,U);A.clip(),A.transform(O[0],O[2],O[1],O[3],T,P),A.translate(d[0]-te,d[3]-xe);let ee;if(p)ee=p.canvas,A.scale(I,-I);else{const K=l[0],ce=K.extent;ee=K.image,A.scale(Nn(ce)/ee.width,-bi(ce)/ee.height)}A.drawImage(ee,0,0),A.restore()}),p&&(PM(p),Mf.push(p.canvas)),A.canvas}function Cb(i){return Array.isArray(i)?Math.min(...i):i}class IG extends Ib{constructor(e,t,n,r,s,a,o){let l=e.getExtent();l&&e.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);let c=t.getExtent();c&&t.canWrapX()&&(c=c.slice(),c[0]=-1/0,c[2]=1/0);const x=c?xM(n,c):n,u=Wl(x),h=mG(e,t,u,r),f=AG,A=new pG(e,t,x,l,h*f,r),g=A.calculateSourceExtent(),d=wf(g)?null:a(g,h,s),p=d?Lt.IDLE:Lt.EMPTY,_=d?d.getPixelRatio():1;super(n,r,_,p),this.targetProj_=t,this.maxSourceExtent_=l,this.triangulation_=A,this.targetResolution_=r,this.targetExtent_=n,this.sourceImage_=d,this.sourcePixelRatio_=_,this.interpolate_=o,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==Lt.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==Lt.LOADED){const t=Nn(this.targetExtent_)/this.targetResolution_,n=bi(this.targetExtent_)/this.targetResolution_;this.canvas_=_G(t,n,this.sourcePixelRatio_,Cb(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=e,this.changed()}load(){if(this.state==Lt.IDLE){this.state=Lt.LOADING,this.changed();const e=this.sourceImage_.getState();e==Lt.LOADED||e==Lt.ERROR?this.reproject_():(this.sourceListenerKey_=k0(this.sourceImage_,P0.CHANGE,t=>{const n=this.sourceImage_.getState();(n==Lt.LOADED||n==Lt.ERROR)&&(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){zl(this.sourceListenerKey_),this.sourceListenerKey_=null}}let EG=class extends F2{constructor(e){super(),this.projection=To(e.projection),this.attributions_=OM(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(n,r){t.viewResolver=n,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=OM(e),this.changed()}setState(e){this.state_=e,this.changed()}};function OM(i){return i?typeof i=="function"?i:(Array.isArray(i)||(i=[i]),e=>i):null}const W2=4,bb={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class yG extends Q2{constructor(e,t){super(e),this.image=t}}class CG extends EG{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const n=eb(t,e,0);e=t[n]}return e}getImage(e,t,n,r){const s=this.getProjection();if(!s||!r||dM(s,r))return s&&(r=s),this.getImageInternal(e,t,n,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&dM(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&WN(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new IG(s,r,e,t,n,(a,o,l)=>this.getImageInternal(a,o,l,s),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,n,r){if(this.loader){const s=bG(e,t,n,1),a=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&bf(this.wantedExtent_,s)||bf(this.image.getExtent(),s))&&(this.wantedResolution_&&Cb(this.wantedResolution_)===a||Cb(this.image.getResolution())===a)))return this.image;this.wantedProjection_=r,this.wantedExtent_=s,this.wantedResolution_=a,this.image=new Ib(s,a,n,this.loader),this.image.addEventListener(P0.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let n;switch(t.getState()){case Lt.LOADING:this.loading=!0,n=bb.IMAGELOADSTART;break;case Lt.LOADED:this.loading=!1,n=bb.IMAGELOADEND;break;case Lt.ERROR:this.loading=!1,n=bb.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new yG(n,t))}}function bG(i,e,t,n){const r=e/t,s=Wl(i),a=P2(Nn(i)/r,W2),o=P2(bi(i)/r,W2),l=P2((n-1)*a/2,W2),c=a+2*l,x=P2((n-1)*o/2,W2),u=o+2*x;return lM(s,r,0,[c,u])}class vG extends CG{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions,state:e.state}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5}getImageInternal(e,t,n,r){t=this.findNearestResolution(t);let s=this.canvas_;if(s&&this.renderedRevision_==this.getRevision()&&s.getResolution()==t&&s.getPixelRatio()==n&&bf(s.getExtent(),e))return s;e=e.slice(),tO(e,this.ratio_);const a=Nn(e)/t,o=bi(e)/t,l=[a*n,o*n],c=this.canvasFunction_.call(this,e,t,n,l,r);return c&&(s=new fG(e,t,n,c)),this.canvas_=s,this.renderedRevision_=this.getRevision(),s}}const GM={};class wG extends hG{constructor(t={}){super({...GM,...t});hn(this,"type","custom");hn(this,"onMount",t=>{});hn(this,"onBeforeUpdate",t=>{});hn(this,"onUpdate",t=>{});hn(this,"reDraw",()=>{this._needRedraw=!0,this.source.changed()});hn(this,"setNeedRedraw",()=>{this._needRedraw=!0});hn(this,"lnglatToScreen",(t,n,r,s)=>{const a=n.getView().getProjection().getCode();t=V2(t,"EPSG:4326",a);const o=n.getSize();let l=n.getView().calculateExtent(o);const c=n.getPixelFromCoordinate([r[0],r[3]]),x=n.getPixelFromCoordinate([l[0],l[3]]),u=[x[0]-c[0],x[1]-c[1]],h=n.getPixelFromCoordinate(t),f=(h[0]+u[0])*s,A=(h[1]+u[1])*s;return[f,A]});hn(this,"extentTolnglat",(t,n)=>{const r=n.getView().getProjection().getCode(),[s,a]=V2([t[0],t[1]],r,"EPSG:4326"),[o,l]=V2([t[2],t[3]],r,"EPSG:4326");return[s,a,o,l]});this.props={...GM,...t},this.canvas=null,this.gl=null,this._needRedraw=!1,this._isMounted=!1,this._init()}_init(){this.canvas||(this.canvas=document.createElement("canvas"));const{projection:t}=this.props;this.source=new vG({canvasFunction:(n,r,s,a,o)=>(this.canvas&&(this.canvas.width=a[0],this.canvas.height=a[1],this._isMounted||(this.onMount({canvas:this.canvas}),this._isMounted=!0),this.gl&&(this.onBeforeUpdate.call(this,{gl:this.gl,canvas:this.canvas,extent:n,resolution:r,pixelRatio:s,size:a,projection:o}),this._needRedraw&&this.onUpdate.call(this,{gl:this.gl,canvas:this.canvas,extent:n,resolution:r,pixelRatio:s,size:a,projection:o}))),this._needRedraw=!1,this.canvas),projection:t}),this.setSource(this.source)}}const BG={projection:"EPSG:4326"};class zM extends wG{constructor(t={}){super({...BG,...t});hn(this,"onMount",({canvas:t})=>{this.gl||(this.gl=t.getContext("webgl2"))})}}function j2(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),i.getShaderParameter(n,i.COMPILE_STATUS)?n:(console.error("着色器编译发生错误: ",i.getShaderInfoLog(n)),i.deleteShader(n),null)}function vb(i,e,t){const n=j2(i,i.VERTEX_SHADER,e),r=j2(i,i.FRAGMENT_SHADER,t),s=i.createProgram();return i.attachShader(s,n),i.attachShader(s,r),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)?s:(console.error("着色器程序无法链接: ",i.getProgramInfoLog(s)),i.deleteProgram(s),null)}function SG(i,e,t,n=[]){const r=j2(i,i.VERTEX_SHADER,e),s=j2(i,i.FRAGMENT_SHADER,t),a=i.createProgram();return i.attachShader(a,r),i.attachShader(a,s),i.transformFeedbackVaryings(a,n,i.SEPARATE_ATTRIBS),i.linkProgram(a),i.getProgramParameter(a,i.LINK_STATUS)?a:(console.error("着色器程序无法链接: ",i.getProgramInfoLog(a)),i.deleteProgram(a),null)}function K2(i){return(i&i-1)===0}function Rf({gl:i,texture:e,level:t,border:n,offset:r,data:s,target:a,width:o,height:l,type:c,internalformat:x,format:u}){if(!i.getExtension("OES_texture_float_linear"))return alert("can not filter floating point textures"),null;i.bindTexture(a,e),i.texImage2D(a,t,x,o,l,n,u,c,s,r),K2(o)&&K2(l)?i.generateMipmap(a):(i.texParameteri(a,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(a,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(a,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(a,i.TEXTURE_MAG_FILTER,i.NEAREST))}function VM({gl:i,level:e,border:t,offset:n,target:r,width:s,height:a,type:o,internalformat:l,format:c}){if(!i.getExtension("OES_texture_float_linear"))return alert("can not filter floating point textures"),null;const u=i.createTexture();return i.bindTexture(i.TEXTURE_2D,u),i.texImage2D(r,e,l,s,a,t,c,o,null),K2(s)&&K2(a)?i.generateMipmap(r):(i.texParameteri(r,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(r,i.TEXTURE_MAG_FILTER,i.NEAREST)),u}function Tf(i,e){return i instanceof Int32Array?{type:e.INT,format:e.RED_INTEGER,internalformat:e.R32I}:i instanceof Float32Array?{type:e.FLOAT,format:e.RED,internalformat:e.R32F}:{type:e.UNSIGNED_BYTE,format:e.RGBA,internalformat:e.RGBA}}const MG=`#version 300 es\r
precision highp float;\r
\r
layout(location = 0) in vec2 a_position;\r
\r
uniform float u_time;\r
uniform float u_random;\r
uniform float u_count;\r
uniform vec4 u_extent;\r
uniform float u_speed;\r
uniform sampler2D u_sampler_tiff_u;\r
uniform sampler2D u_sampler_tiff_v;\r
uniform sampler2D u_sampler_colorRamp;\r
uniform float u_scale;\r
uniform float u_nodata;\r
uniform float u_offset;\r
uniform float u_umin;\r
uniform float u_umax;\r
uniform float u_vmin;\r
uniform float u_vmax;\r
uniform float u_val_min;\r
uniform float u_val_max;\r
\r
out vec2 next_position;\r
out vec3 next_color;\r
\r
// 简单随机数\r
float random(vec2 st) {\r
  float t = dot(st.xy, vec2(12.9898, 78.233));\r
  return fract(sin(t) * (4375.85453 + t));\r
}\r
\r
void main() {\r
  // 从粒子坐标计算纹理坐标\r
  vec2 st = (a_position.xy - u_extent.xy) / (u_extent.zw - u_extent.xy);\r
  // vec2 st = a_position.xy;\r
\r
  // 计算u分量v分量真值\r
  float u = texture(u_sampler_tiff_u, st).r;\r
  if (abs(u - u_nodata) < 1e-6) {\r
    u = 0.0001;\r
  } else {\r
    u = u / u_scale + u_offset;\r
  }\r
  float v = texture(u_sampler_tiff_v, st).r;\r
  if (abs(v - u_nodata) < 1e-6) {\r
    v = 0.0001;\r
  } else {\r
    v = v / u_scale + u_offset;\r
  }\r
  float umin = u_umin / u_scale + u_offset;\r
  float vmin = u_vmin / u_scale + u_offset;\r
  float umax = u_umax / u_scale + u_offset;\r
  float vmax = u_umax / u_scale + u_offset;\r
\r
  //   float speed = length(vec2(u, v) - vec2(umin, vmin)) /\r
  //                 length(vec2(umax, vmax) - vec2(umin, vmin));\r
  float val = sqrt(u * u + v * v);\r
  float ratio = (val - u_val_min) / (u_val_max - u_val_min);\r
  // 图例映射\r
  next_color = texture(u_sampler_colorRamp, vec2(ratio, 1.)).rgb;\r
\r
  // 计算粒子速度\r
  // u代表东西向，v代表垂直向\r
  float dx = u / umax;\r
  float dy = v / vmax;\r
  // 计算粒子位置和年龄\r
  vec2 cur_position = a_position;\r
  float xmin = u_extent.x;\r
  float ymin = u_extent.y;\r
  float xmax = u_extent.z;\r
  float ymax = u_extent.w;\r
  // 为了粒子分布均为，将粒子初始位置定义为规则格网\r
  float k = (ymax - ymin) / (xmax - xmin);\r
  float cols = ceil((sqrt(u_count / k)));\r
  float rows = cols * k;\r
  // 随机年龄\r
  float age = random(vec2(float(gl_VertexID), u_random));\r
  if (age > 0.99 || cur_position.x > xmax || cur_position.x < xmin ||\r
      cur_position.y > ymax || cur_position.y < ymin) {\r
    // toFix: 简单随机\r
    float col_index = cols * random(vec2(u_time, float(gl_VertexID)));\r
    float row_index = rows * random(vec2(float(gl_VertexID), u_time));\r
    float x = xmin + (xmax - xmin) / (cols + 1.) * col_index;\r
    float y = ymin + (ymax - ymin) / (rows + 1.) * row_index;\r
    next_position = vec2(x, y);\r
  } else {\r
    next_position = cur_position + vec2(dx, dy) * 0.001 * u_speed;\r
  }\r
}`,RG=`#version 300 es\r
precision highp float;\r
\r
void main() {}`,TG=`#version 300 es\r
precision highp float;\r
\r
layout(location = 0) in vec2 a_position;\r
layout(location = 1) in vec3 a_color;\r
\r
out vec3 v_color;\r
uniform float u_size;\r
\r
void main() {\r
  vec2 position = a_position * 2. - 1.;\r
  gl_Position = vec4(position, 0., 1.);\r
  gl_PointSize = u_size;\r
  v_color = a_color;\r
}\r
`,DG=`#version 300 es\r
precision highp float;\r
\r
const vec4 backColor = vec4(0., 0., 0., 0.);\r
uniform vec3 u_color;\r
uniform bool u_useColorRamp; // 使用图例or单色\r
\r
in vec3 v_color;\r
out vec4 fragColor;\r
\r
void main() {\r
  vec4 frontColor = u_useColorRamp ? vec4(v_color, 1.) : vec4(u_color, 1.);\r
  float d = length(gl_PointCoord.xy - vec2(.5, .5)) - .5;\r
  vec4 color = mix(frontColor, backColor, step(0., d));\r
  fragColor = color;\r
}\r
`,QG=`#version 300 es\r
precision highp float;\r
\r
layout(location = 0) in vec2 a_position;\r
layout(location = 1) in vec2 a_uv;\r
out vec2 v_uv;\r
\r
void main() {\r
  vec2 position = a_position * 2. - 1.;\r
  gl_Position = vec4(position, 0., 1.);\r
  v_uv = a_uv;\r
}\r
`,FG=`#version 300 es\r
precision highp float;\r
\r
uniform sampler2D u_sampler;\r
in vec2 v_uv;\r
\r
const vec4 fadeColor = vec4(.0, .0, .0, .0);\r
const float fadeFactor = 0.025;\r
// const float fadeFactor = 0.5;\r
\r
out vec4 fragColor;\r
\r
void main() {\r
  vec4 textColor = texture(u_sampler, v_uv);\r
  fragColor = textColor * (1. - fadeFactor);\r
}`,LG=`#version 300 es\r
precision highp float;\r
\r
layout(location = 0) in vec2 a_position;\r
layout(location = 1) in vec2 a_uv;\r
out vec2 v_uv;\r
\r
void main() {\r
  vec2 position = a_position * 2. - 1.;\r
  gl_Position = vec4(position, 0., 1.);\r
  v_uv = a_uv;\r
}`,PG=`#version 300 es\r
precision highp float;\r
\r
uniform sampler2D u_sampler;\r
in vec2 v_uv;\r
\r
out vec4 fragColor;\r
\r
void main() {\r
  fragColor = texture(u_sampler, v_uv);\r
  if (fragColor.a <= 0.4) {\r
    fragColor = vec4(0., 0., 0., 0.);\r
  }\r
}`,kG={speed:1,size:2,count:100,color:[1,1,1],useColorRamp:!1};class UG{constructor(e={}){hn(this,"_setProps",e=>{e.data&&(this.data=e.data),e.count&&(this.state.count=count),e.speed&&(this.state.speed=e.speed),e.size&&(this.state.size=e.size),e.color&&(this.state.color=e.color),e.colorRamp&&(this._colorRampObject=this._createColorRamp(e.colorRamp)),e.useColorRamp&&(this.state.useColorRamp=e.useColorRamp),this.layer.reDraw()});return this.state={...kG,...e,particles:{positions:[]}},this.layer=this._initLayer(),this._isGlReady=!1,this._models={},this.data=[],this.clock={start:0,now:0,fps:0,elapsedTime:0},this._rafId=null,this._needAnimate=!1,this.layer}_initLayer(){const e=new zM({projection:this.state.projection});return e.onBeforeUpdate=this._onBeforeUpdate.bind(this),e.onUpdate=this._onUpdate.bind(this),e.setProps=this._setProps.bind(this),!this._colorRampObject&&this.state.colorRamp&&(this._colorRampObject=this._createColorRamp(this.state.colorRamp)),e}_onBeforeUpdate(e){const{gl:t,canvas:n,extent:r,resolution:s,pixelRatio:a,size:o,projection:l}=e;this._isGlReady||(t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.enable(t.CULL_FACE),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,1)),this._isGlReady=!0}_onUpdate(e){const{gl:t,canvas:n,extent:r,resolution:s,pixelRatio:a,size:o,projection:l}=e,c=this.state.map;if(c){t.viewport(0,0,o[0],o[1]),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);const x=[];this.data.forEach(({bbox:f},A)=>{const[g,d]=this.layer.lnglatToScreen([f[0],f[1]],c,r,a),[p,_]=this.layer.lnglatToScreen([f[2],f[3]],c,r,a),I=g/o[0],m=p/o[0],y=1-d/o[1],E=1-_/o[1],C=[I,y,m,E];x[A]=C});const u=x.reduce((f,A)=>f+Math.abs(A[2]-A[0]),0);this._models={},this.data.forEach(({dataArray_u:f,dataArray_v:A,bbox:g,width:d,height:p,metaData:_},I)=>{const m=Math.abs(x[I][2]-x[I][0])/u,y=this._createParticles(x[I],Math.floor(this.state.count*m));this._models[I]=this._createModel(t,{calc:{vert:MG,frag:RG,textureData:{data:{u:f,v:A},width:d,height:p}},input:{vert:TG,frag:DG},output:{vert:QG,frag:FG},main:{vert:LG,frag:PG},metaData:_,particles:y,extent:x[I]})});const h=()=>{this.clock.now=performance.now(),this.clock.elapsedTime+=(this.clock.now-this.clock.start)/1e3,this.clock.fps=Math.floor(1e3/(this.clock.now-this.clock.start)),this.clock.start=this.clock.now,t.clear(t.COLOR_BUFFER_BIT);for(let f=0;f<this.data.length;f++)this._drawModel(this._models[f],{});this.layer.source.changed(),this._rafId=requestAnimationFrame(h)};cancelAnimationFrame(this._rafId),h()}}_createModel(e,{calc:t,input:n,output:r,main:s,metaData:a,particles:o,extent:l}){const c=SG(e,t.vert,t.frag,["next_position","next_color"]),x=vb(e,n.vert,n.frag),u=vb(e,r.vert,r.frag),h=vb(e,s.vert,s.frag),f=e.createVertexArray(),A=e.createVertexArray(),g=e.createVertexArray(),d=e.createVertexArray(),p={positions_input:e.createBuffer(),positions_output:e.createBuffer(),colors_output:e.createBuffer()},_={positions:e.createBuffer(),uvs:e.createBuffer()},I={positions:e.createBuffer(),uvs:e.createBuffer()},m={attributes:{a_position:0,a_age:1},uniforms:{u_sampler_tiff_u:e.getUniformLocation(c,"u_sampler_tiff_u"),u_sampler_tiff_v:e.getUniformLocation(c,"u_sampler_tiff_v"),u_sampler_colorRamp:e.getUniformLocation(c,"u_sampler_colorRamp"),u_time:e.getUniformLocation(c,"u_time"),u_random:e.getUniformLocation(c,"u_random"),u_extent:e.getUniformLocation(c,"u_extent"),u_count:e.getUniformLocation(c,"u_count"),u_speed:e.getUniformLocation(c,"u_speed"),u_scale:e.getUniformLocation(c,"u_scale"),u_nodata:e.getUniformLocation(c,"u_nodata"),u_offset:e.getUniformLocation(c,"u_offset"),u_umin:e.getUniformLocation(c,"u_umin"),u_umax:e.getUniformLocation(c,"u_umax"),u_vmin:e.getUniformLocation(c,"u_vmin"),u_vmax:e.getUniformLocation(c,"u_vmax"),u_val_min:e.getUniformLocation(c,"u_val_min"),u_val_max:e.getUniformLocation(c,"u_val_max")}},y={attributes:{a_position:0,a_color:1},uniforms:{u_size:e.getUniformLocation(x,"u_size"),u_color:e.getUniformLocation(x,"u_color"),u_useColorRamp:e.getUniformLocation(x,"u_useColorRamp")}},E={attributes:{a_position:0,a_uv:1},uniforms:{u_sampler:e.getUniformLocation(u,"u_sampler")}},C={attributes:{a_position:0,a_uv:1},uniforms:{u_sampler:e.getUniformLocation(h,"u_sampler")}},v=e.createTransformFeedback(),b=[e.canvas.width,e.canvas.height],w={input:{framebuffer:e.createFramebuffer(),texture:VM({gl:e,level:0,border:0,offset:0,target:e.TEXTURE_2D,width:b[0],height:b[1],type:e.UNSIGNED_BYTE,internalformat:e.RGBA,format:e.RGBA})},output:{framebuffer:e.createFramebuffer(),texture:VM({gl:e,level:0,border:0,offset:0,target:e.TEXTURE_2D,width:b[0],height:b[1],type:e.UNSIGNED_BYTE,internalformat:e.RGBA,format:e.RGBA})}};e.bindFramebuffer(e.FRAMEBUFFER,w.input.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,w.input.texture,0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,w.output.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,w.output.texture,0),e.bindFramebuffer(e.FRAMEBUFFER,null);const{positions:B}=o;e.bindBuffer(e.ARRAY_BUFFER,p.positions_input),e.bufferData(e.ARRAY_BUFFER,B.length*Float32Array.BYTES_PER_ELEMENT*1,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,p.positions_output),e.bufferData(e.ARRAY_BUFFER,B.length*Float32Array.BYTES_PER_ELEMENT*1,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,p.colors_output),e.bufferData(e.ARRAY_BUFFER,B.length/2*3*Float32Array.BYTES_PER_ELEMENT*1,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null);const R={tiff_u:{val:e.createTexture(),id:e.TEXTURE0,pos:0},tiff_v:{val:e.createTexture(),id:e.TEXTURE1,pos:1},colorRamp:{val:e.createTexture(),id:e.TEXTURE2,pos:2}},Q=Tf(t.textureData.data.u,e);Rf({gl:e,texture:R.tiff_u.val,level:0,border:0,offset:0,data:t.textureData.data.u,target:e.TEXTURE_2D,width:t.textureData.width,height:t.textureData.height,type:Q.type,format:Q.format,internalformat:Q.internalformat});const F=Tf(t.textureData.data.v,e);Rf({gl:e,texture:R.tiff_v.val,level:0,border:0,offset:0,data:t.textureData.data.v,target:e.TEXTURE_2D,width:t.textureData.width,height:t.textureData.height,type:F.type,format:F.format,internalformat:F.internalformat});const{val_min:M,val_max:T,imageData:P,width:k,height:V}=this._colorRampObject,Y=Tf(P,e);Rf({gl:e,texture:R.colorRamp.val,level:0,border:0,offset:0,data:P,target:e.TEXTURE_2D,width:k,height:V,type:Y.type,format:Y.format,internalformat:Y.internalformat});const U=[0,0,1,0,1,1,1,1,0,1,0,0],te=[0,0,1,0,1,1,1,1,0,1,0,0];return{gl:e,calc:{program:c,vao:f,buffers:p,locations:m,tf:v,textures:R,fbs:w},input:{program:x,vao:A,locations:y},output:{program:u,vao:g,buffers:_,locations:E,positions:U,uvs:te},main:{program:h,vao:d,buffers:I,locations:C,positions:U,uvs:te},fbs:w,metaData:a,particles:o,extent:l}}_updateModel(e,{calc:t,particles:n,extent:r}){const{gl:s}=e,{program:a,vao:o,buffers:l,locations:c,tf:x,textures:u,fbs:h}=e.calc,{textureData:f}=t,{positions:A,ages:g}=n;l.positions_input=s.createBuffer(),l.positions_output=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,l.positions_input),s.bufferData(s.ARRAY_BUFFER,new Float32Array(A),s.DYNAMIC_DRAW),s.bindBuffer(s.ARRAY_BUFFER,l.positions_output),s.bufferData(s.ARRAY_BUFFER,A.length*Float32Array.BYTES_PER_ELEMENT*1,s.DYNAMIC_DRAW),s.bindBuffer(s.ARRAY_BUFFER,null);const d=Tf(f.data.u,s);Rf({gl:s,texture:u.tiff_u.val,level:0,border:0,offset:0,data:f.data.u,target:s.TEXTURE_2D,width:f.width,height:f.height,type:d.type,format:d.format,internalformat:d.internalformat});const p=Tf(f.data.v,s);Rf({gl:s,texture:u.tiff_v.val,level:0,border:0,offset:0,data:f.data.v,target:s.TEXTURE_2D,width:f.width,height:f.height,type:p.type,format:p.format,internalformat:p.internalformat})}_drawModel(e,{}){if(e){const{gl:t,calc:n,input:r,output:s,main:a,fbs:o,metaData:l,particles:c,extent:x}=e;this._drawCalc(t,n,l,c,x),this._draw_input(t,r,o,n,c),this._draw_output(t,s,o),this._draw_main(t,a,o),this._swapframebuffer(o),this._swaptfbuffer(n)}}_drawCalc(e,t,n,r,s){const{program:a,vao:o,buffers:l,locations:c,tf:x,textures:u}=t,{val_min:h,val_max:f}=this._colorRampObject;e.useProgram(a),e.bindVertexArray(o);const{a_position:A}=c.attributes;e.bindBuffer(e.ARRAY_BUFFER,l.positions_input),e.enableVertexAttribArray(A),e.vertexAttribPointer(A,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,x),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,0,l.positions_output),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,1,l.colors_output),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),e.enable(e.RASTERIZER_DISCARD),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,x),e.beginTransformFeedback(e.POINTS),e.activeTexture(u.tiff_u.id),e.bindTexture(e.TEXTURE_2D,u.tiff_u.val),e.uniform1i(c.uniforms.u_sampler_tiff_u,u.tiff_u.pos),e.activeTexture(u.tiff_v.id),e.bindTexture(e.TEXTURE_2D,u.tiff_v.val),e.uniform1i(c.uniforms.u_sampler_tiff_v,u.tiff_v.pos),e.activeTexture(u.colorRamp.id),e.bindTexture(e.TEXTURE_2D,u.colorRamp.val),e.uniform1i(c.uniforms.u_sampler_colorRamp,u.colorRamp.pos),e.uniform1f(c.uniforms.u_time,this.clock.elapsedTime),e.uniform1f(c.uniforms.u_random,Math.random()),e.uniform4fv(c.uniforms.u_extent,new Float32Array(s)),e.uniform1f(c.uniforms.u_speed,this.state.speed),e.uniform1f(c.uniforms.u_count,this.state.count),e.uniform1f(c.uniforms.u_scale,n.scale),e.uniform1f(c.uniforms.u_nodata,n.nodata),e.uniform1f(c.uniforms.u_offset,n.offset),e.uniform1f(c.uniforms.u_umin,n.umin),e.uniform1f(c.uniforms.u_umax,n.umax),e.uniform1f(c.uniforms.u_vmin,n.vmin),e.uniform1f(c.uniforms.u_vmax,n.vmax),e.uniform1f(c.uniforms.u_val_min,h),e.uniform1f(c.uniforms.u_val_max,f),e.drawArrays(e.POINTS,0,r.positions.length/2),e.endTransformFeedback(),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),e.disable(e.RASTERIZER_DISCARD),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null)}_draw_input(e,t,n,r,s){const{program:a,vao:o,locations:l}=t;e.useProgram(a),e.bindFramebuffer(e.FRAMEBUFFER,n.input.framebuffer),e.bindVertexArray(o);const{a_position:c,a_color:x}=l.attributes;e.bindBuffer(e.ARRAY_BUFFER,r.buffers.positions_output),e.enableVertexAttribArray(c),e.vertexAttribPointer(c,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,r.buffers.colors_output),e.enableVertexAttribArray(x),e.vertexAttribPointer(x,3,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*3,0),e.uniform1f(l.uniforms.u_size,this.state.size),e.uniform3fv(l.uniforms.u_color,new Float32Array(this.state.color)),e.uniform1i(l.uniforms.u_useColorRamp,this.state.useColorRamp),e.drawArrays(e.POINTS,0,s.positions.length/2),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null)}_draw_output(e,t,n){const{program:r,vao:s,buffers:a,locations:o,positions:l,uvs:c}=t;e.useProgram(r),e.bindFramebuffer(e.FRAMEBUFFER,n.output.framebuffer),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n.input.texture),e.uniform1i(o.uniforms.u_sampler,0),e.bindVertexArray(s);const x=a.positions,u=a.uvs,{a_position:h,a_uv:f}=o.attributes;e.bindBuffer(e.ARRAY_BUFFER,x),e.bufferData(e.ARRAY_BUFFER,new Float32Array(l),e.STATIC_DRAW),e.enableVertexAttribArray(h),e.vertexAttribPointer(h,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,new Float32Array(c),e.STATIC_DRAW),e.enableVertexAttribArray(f),e.vertexAttribPointer(f,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.drawArrays(e.TRIANGLES,0,6),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null)}_draw_main(e,t,n){const{program:r,vao:s,buffers:a,locations:o,positions:l,uvs:c}=t;e.useProgram(r),e.bindFramebuffer(e.FRAMEBUFFER,null),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n.input.texture),e.uniform1i(o.uniforms.u_sampler,0),e.bindVertexArray(s);const x=a.positions,u=a.uvs,{a_position:h,a_uv:f}=o.attributes;e.bindBuffer(e.ARRAY_BUFFER,x),e.bufferData(e.ARRAY_BUFFER,new Float32Array(l),e.STATIC_DRAW),e.enableVertexAttribArray(h),e.vertexAttribPointer(h,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,new Float32Array(c),e.STATIC_DRAW),e.enableVertexAttribArray(f),e.vertexAttribPointer(f,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,null),e.drawArrays(e.TRIANGLES,0,6),e.bindVertexArray(null)}_swaptfbuffer(e){const{buffers:t}=e,n=t.positions_input;t.positions_input=t.positions_output,t.positions_output=n}_swapframebuffer(e){const t={...e.input};e.input.texture=e.output.texture,e.input.framebuffer=e.output.framebuffer,e.output.texture=t.texture,e.output.framebuffer=t.framebuffer}_createParticles(e,t){const[n,r,s,a]=e,o=[],l=[];for(let c=0;c<t;c++)o[c*2]=n+Math.random()*(s-n),o[c*2+1]=r+Math.random()*(a-r),l[c]=Math.floor(Math.random()*this.state.maxAge);return{positions:o,ages:l}}_createColorRamp(e){const t=e.sort((u,h)=>u[0]<h[0]),n=t[0][0],r=t[t.length-1][0],s=document.createElement("canvas"),a=256,o=1;s.width=a,s.height=o;const l=s.getContext("2d"),c=l.createLinearGradient(0,0,s.width,s.height);for(let u=0;u<e.length;u++){const[h,f]=e[u],A=(h-n)/(r-n);c.addColorStop(A,f)}l.fillStyle=c,l.fillRect(0,0,s.width,s.height);const x=new Uint8Array(l.getImageData(0,0,s.width,s.height).data);return{val_min:n,val_max:r,imageData:x,width:a,height:o}}}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const wb="171",NG=0,HM=1,OG=2,qM=1,GG=2,ba=3,Fo=0,er=1,va=2,Lo=0,$l=1,YM=2,XM=3,WM=4,zG=5,O0=100,VG=101,HG=102,qG=103,YG=104,XG=200,WG=201,jG=202,KG=203,Bb=204,Sb=205,JG=206,ZG=207,$G=208,ez=209,tz=210,nz=211,iz=212,rz=213,sz=214,Mb=0,Rb=1,Tb=2,ex=3,Db=4,Qb=5,Fb=6,Lb=7,jM=0,az=1,oz=2,Po=0,cz=1,lz=2,xz=3,uz=4,hz=5,fz=6,Az=7,KM=300,tx=301,nx=302,Pb=303,kb=304,J2=306,Ub=1e3,G0=1001,Nb=1002,rs=1003,dz=1004,Z2=1005,Fs=1006,Ob=1007,z0=1008,wa=1009,JM=1010,ZM=1011,Df=1012,Gb=1013,V0=1014,Ba=1015,Qf=1016,zb=1017,Vb=1018,ix=1020,$M=35902,e8=1021,t8=1022,ss=1023,n8=1024,i8=1025,rx=1026,sx=1027,r8=1028,Hb=1029,s8=1030,qb=1031,Yb=1033,$2=33776,e_=33777,t_=33778,n_=33779,Xb=35840,Wb=35841,jb=35842,Kb=35843,Jb=36196,Zb=37492,$b=37496,ev=37808,tv=37809,nv=37810,iv=37811,rv=37812,sv=37813,av=37814,ov=37815,cv=37816,lv=37817,xv=37818,uv=37819,hv=37820,fv=37821,i_=36492,Av=36494,dv=36495,a8=36283,pv=36284,gv=36285,mv=36286,pz=3200,gz=3201,mz=0,_z=1,ko="",Dr="srgb",ax="srgb-linear",r_="linear",$t="srgb",ox=7680,o8=519,Iz=512,Ez=513,yz=514,c8=515,Cz=516,bz=517,vz=518,wz=519,_v=35044,l8="300 es",Sa=2e3,s_=2001;class cx{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}const vi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let x8=1234567;const Ff=Math.PI/180,Lf=180/Math.PI;function Ma(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(vi[i&255]+vi[i>>8&255]+vi[i>>16&255]+vi[i>>24&255]+"-"+vi[e&255]+vi[e>>8&255]+"-"+vi[e>>16&15|64]+vi[e>>24&255]+"-"+vi[t&63|128]+vi[t>>8&255]+"-"+vi[t>>16&255]+vi[t>>24&255]+vi[n&255]+vi[n>>8&255]+vi[n>>16&255]+vi[n>>24&255]).toLowerCase()}function ft(i,e,t){return Math.max(e,Math.min(t,i))}function Iv(i,e){return(i%e+e)%e}function Bz(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function Sz(i,e,t){return i!==e?(t-i)/(e-i):0}function Pf(i,e,t){return(1-t)*i+t*e}function Mz(i,e,t,n){return Pf(i,e,1-Math.exp(-t*n))}function Rz(i,e=1){return e-Math.abs(Iv(i,e*2)-e)}function Tz(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function Dz(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function Qz(i,e){return i+Math.floor(Math.random()*(e-i+1))}function Fz(i,e){return i+Math.random()*(e-i)}function Lz(i){return i*(.5-Math.random())}function Pz(i){i!==void 0&&(x8=i);let e=x8+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function kz(i){return i*Ff}function Uz(i){return i*Lf}function Nz(i){return(i&i-1)===0&&i!==0}function Oz(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function Gz(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function zz(i,e,t,n,r){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),c=s((e+n)/2),x=a((e+n)/2),u=s((e-n)/2),h=a((e-n)/2),f=s((n-e)/2),A=a((n-e)/2);switch(r){case"XYX":i.set(o*x,l*u,l*h,o*c);break;case"YZY":i.set(l*h,o*x,l*u,o*c);break;case"ZXZ":i.set(l*u,l*h,o*x,o*c);break;case"XZX":i.set(o*x,l*A,l*f,o*c);break;case"YXY":i.set(l*f,o*x,l*A,o*c);break;case"ZYZ":i.set(l*A,l*f,o*x,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function as(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Wt(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const Vz={DEG2RAD:Ff,RAD2DEG:Lf,generateUUID:Ma,clamp:ft,euclideanModulo:Iv,mapLinear:Bz,inverseLerp:Sz,lerp:Pf,damp:Mz,pingpong:Rz,smoothstep:Tz,smootherstep:Dz,randInt:Qz,randFloat:Fz,randFloatSpread:Lz,seededRandom:Pz,degToRad:kz,radToDeg:Uz,isPowerOfTwo:Nz,ceilPowerOfTwo:Oz,floorPowerOfTwo:Gz,setQuaternionFromProperEuler:zz,normalize:Wt,denormalize:as};class It{constructor(e=0,t=0){It.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=ft(this.x,e.x,t.x),this.y=ft(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=ft(this.x,e,t),this.y=ft(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(ft(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(ft(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*n-a*r+e.x,this.y=s*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class at{constructor(e,t,n,r,s,a,o,l,c){at.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,a,o,l,c)}set(e,t,n,r,s,a,o,l,c){const x=this.elements;return x[0]=e,x[1]=r,x[2]=o,x[3]=t,x[4]=s,x[5]=l,x[6]=n,x[7]=a,x[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],o=n[3],l=n[6],c=n[1],x=n[4],u=n[7],h=n[2],f=n[5],A=n[8],g=r[0],d=r[3],p=r[6],_=r[1],I=r[4],m=r[7],y=r[2],E=r[5],C=r[8];return s[0]=a*g+o*_+l*y,s[3]=a*d+o*I+l*E,s[6]=a*p+o*m+l*C,s[1]=c*g+x*_+u*y,s[4]=c*d+x*I+u*E,s[7]=c*p+x*m+u*C,s[2]=h*g+f*_+A*y,s[5]=h*d+f*I+A*E,s[8]=h*p+f*m+A*C,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],x=e[8];return t*a*x-t*o*c-n*s*x+n*o*l+r*s*c-r*a*l}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],x=e[8],u=x*a-o*c,h=o*l-x*s,f=c*s-a*l,A=t*u+n*h+r*f;if(A===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/A;return e[0]=u*g,e[1]=(r*c-x*n)*g,e[2]=(o*n-r*a)*g,e[3]=h*g,e[4]=(x*t-r*l)*g,e[5]=(r*s-o*t)*g,e[6]=f*g,e[7]=(n*l-c*t)*g,e[8]=(a*t-n*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(n*l,n*c,-n*(l*a+c*o)+a+e,-r*c,r*l,-r*(-c*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(Ev.makeScale(e,t)),this}rotate(e){return this.premultiply(Ev.makeRotation(-e)),this}translate(e,t){return this.premultiply(Ev.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Ev=new at;function u8(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}function a_(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function Hz(){const i=a_("canvas");return i.style.display="block",i}const h8={};function lx(i){i in h8||(h8[i]=!0,console.warn(i))}function qz(i,e,t){return new Promise(function(n,r){function s(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:n()}}setTimeout(s,t)})}function Yz(i){const e=i.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Xz(i){const e=i.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const f8=new at().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),A8=new at().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Wz(){const i={enabled:!0,workingColorSpace:ax,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===$t&&(r.r=Ra(r.r),r.g=Ra(r.g),r.b=Ra(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===$t&&(r.r=xx(r.r),r.g=xx(r.g),r.b=xx(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===ko?r_:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[ax]:{primaries:e,whitePoint:n,transfer:r_,toXYZ:f8,fromXYZ:A8,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Dr},outputColorSpaceConfig:{drawingBufferColorSpace:Dr}},[Dr]:{primaries:e,whitePoint:n,transfer:$t,toXYZ:f8,fromXYZ:A8,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Dr}}}),i}const Mt=Wz();function Ra(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function xx(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let ux;class jz{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ux===void 0&&(ux=a_("canvas")),ux.width=e.width,ux.height=e.height;const n=ux.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=ux}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=a_("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=Ra(s[a]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Ra(t[n]/255)*255):t[n]=Ra(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Kz=0;class d8{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Kz++}),this.uuid=Ma(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(yv(r[a].image)):s.push(yv(r[a]))}else s=yv(r);n.url=s}return t||(e.images[this.uuid]=n),n}}function yv(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?jz.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Jz=0;class Qi extends cx{constructor(e=Qi.DEFAULT_IMAGE,t=Qi.DEFAULT_MAPPING,n=G0,r=G0,s=Fs,a=z0,o=ss,l=wa,c=Qi.DEFAULT_ANISOTROPY,x=ko){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Jz++}),this.uuid=Ma(),this.name="",this.source=new d8(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new It(0,0),this.repeat=new It(1,1),this.center=new It(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new at,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=x,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==KM)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ub:e.x=e.x-Math.floor(e.x);break;case G0:e.x=e.x<0?0:1;break;case Nb:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ub:e.y=e.y-Math.floor(e.y);break;case G0:e.y=e.y<0?0:1;break;case Nb:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Qi.DEFAULT_IMAGE=null,Qi.DEFAULT_MAPPING=KM,Qi.DEFAULT_ANISOTROPY=1;class cn{constructor(e=0,t=0,n=0,r=1){cn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,s;const l=e.elements,c=l[0],x=l[4],u=l[8],h=l[1],f=l[5],A=l[9],g=l[2],d=l[6],p=l[10];if(Math.abs(x-h)<.01&&Math.abs(u-g)<.01&&Math.abs(A-d)<.01){if(Math.abs(x+h)<.1&&Math.abs(u+g)<.1&&Math.abs(A+d)<.1&&Math.abs(c+f+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const I=(c+1)/2,m=(f+1)/2,y=(p+1)/2,E=(x+h)/4,C=(u+g)/4,v=(A+d)/4;return I>m&&I>y?I<.01?(n=0,r=.707106781,s=.707106781):(n=Math.sqrt(I),r=E/n,s=C/n):m>y?m<.01?(n=.707106781,r=0,s=.707106781):(r=Math.sqrt(m),n=E/r,s=v/r):y<.01?(n=.707106781,r=.707106781,s=0):(s=Math.sqrt(y),n=C/s,r=v/s),this.set(n,r,s,t),this}let _=Math.sqrt((d-A)*(d-A)+(u-g)*(u-g)+(h-x)*(h-x));return Math.abs(_)<.001&&(_=1),this.x=(d-A)/_,this.y=(u-g)/_,this.z=(h-x)/_,this.w=Math.acos((c+f+p-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=ft(this.x,e.x,t.x),this.y=ft(this.y,e.y,t.y),this.z=ft(this.z,e.z,t.z),this.w=ft(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=ft(this.x,e,t),this.y=ft(this.y,e,t),this.z=ft(this.z,e,t),this.w=ft(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(ft(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Zz extends cx{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new cn(0,0,e,t),this.scissorTest=!1,this.viewport=new cn(0,0,e,t);const r={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Fs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const s=new Qi(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);s.flipY=!1,s.generateMipmaps=n.generateMipmaps,s.internalFormat=n.internalFormat,this.textures=[];const a=n.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new d8(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class H0 extends Zz{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class p8 extends Qi{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=rs,this.minFilter=rs,this.wrapR=G0,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class $z extends Qi{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=rs,this.minFilter=rs,this.wrapR=G0,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hx{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,s,a,o){let l=n[r+0],c=n[r+1],x=n[r+2],u=n[r+3];const h=s[a+0],f=s[a+1],A=s[a+2],g=s[a+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=x,e[t+3]=u;return}if(o===1){e[t+0]=h,e[t+1]=f,e[t+2]=A,e[t+3]=g;return}if(u!==g||l!==h||c!==f||x!==A){let d=1-o;const p=l*h+c*f+x*A+u*g,_=p>=0?1:-1,I=1-p*p;if(I>Number.EPSILON){const y=Math.sqrt(I),E=Math.atan2(y,p*_);d=Math.sin(d*E)/y,o=Math.sin(o*E)/y}const m=o*_;if(l=l*d+h*m,c=c*d+f*m,x=x*d+A*m,u=u*d+g*m,d===1-o){const y=1/Math.sqrt(l*l+c*c+x*x+u*u);l*=y,c*=y,x*=y,u*=y}}e[t]=l,e[t+1]=c,e[t+2]=x,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,s,a){const o=n[r],l=n[r+1],c=n[r+2],x=n[r+3],u=s[a],h=s[a+1],f=s[a+2],A=s[a+3];return e[t]=o*A+x*u+l*f-c*h,e[t+1]=l*A+x*h+c*u-o*f,e[t+2]=c*A+x*f+o*h-l*u,e[t+3]=x*A-o*u-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(n/2),x=o(r/2),u=o(s/2),h=l(n/2),f=l(r/2),A=l(s/2);switch(a){case"XYZ":this._x=h*x*u+c*f*A,this._y=c*f*u-h*x*A,this._z=c*x*A+h*f*u,this._w=c*x*u-h*f*A;break;case"YXZ":this._x=h*x*u+c*f*A,this._y=c*f*u-h*x*A,this._z=c*x*A-h*f*u,this._w=c*x*u+h*f*A;break;case"ZXY":this._x=h*x*u-c*f*A,this._y=c*f*u+h*x*A,this._z=c*x*A+h*f*u,this._w=c*x*u-h*f*A;break;case"ZYX":this._x=h*x*u-c*f*A,this._y=c*f*u+h*x*A,this._z=c*x*A-h*f*u,this._w=c*x*u+h*f*A;break;case"YZX":this._x=h*x*u+c*f*A,this._y=c*f*u+h*x*A,this._z=c*x*A-h*f*u,this._w=c*x*u-h*f*A;break;case"XZY":this._x=h*x*u-c*f*A,this._y=c*f*u-h*x*A,this._z=c*x*A+h*f*u,this._w=c*x*u+h*f*A;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],a=t[1],o=t[5],l=t[9],c=t[2],x=t[6],u=t[10],h=n+o+u;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(x-l)*f,this._y=(s-c)*f,this._z=(a-r)*f}else if(n>o&&n>u){const f=2*Math.sqrt(1+n-o-u);this._w=(x-l)/f,this._x=.25*f,this._y=(r+a)/f,this._z=(s+c)/f}else if(o>u){const f=2*Math.sqrt(1+o-n-u);this._w=(s-c)/f,this._x=(r+a)/f,this._y=.25*f,this._z=(l+x)/f}else{const f=2*Math.sqrt(1+u-n-o);this._w=(a-r)/f,this._x=(s+c)/f,this._y=(l+x)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ft(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,a=e._w,o=t._x,l=t._y,c=t._z,x=t._w;return this._x=n*x+a*o+r*c-s*l,this._y=r*x+a*l+s*o-n*c,this._z=s*x+a*c+n*l-r*o,this._w=a*x-n*o-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+n*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const f=1-t;return this._w=f*a+t*this._w,this._x=f*n+t*this._x,this._y=f*r+t*this._y,this._z=f*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),x=Math.atan2(c,o),u=Math.sin((1-t)*x)/c,h=Math.sin(t*x)/c;return this._w=a*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=s*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),s=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class W{constructor(e=0,t=0,n=0){W.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(g8.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(g8.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*r-o*n),x=2*(o*t-s*r),u=2*(s*n-a*t);return this.x=t+l*c+a*u-o*x,this.y=n+l*x+o*c-s*u,this.z=r+l*u+s*x-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=ft(this.x,e.x,t.x),this.y=ft(this.y,e.y,t.y),this.z=ft(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=ft(this.x,e,t),this.y=ft(this.y,e,t),this.z=ft(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(ft(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=r*l-s*o,this.y=s*a-n*l,this.z=n*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Cv.copy(this).projectOnVector(e),this.sub(Cv)}reflect(e){return this.sub(Cv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(ft(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Cv=new W,g8=new hx;class Uo{constructor(e=new W(1/0,1/0,1/0),t=new W(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(os.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(os.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=os.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const s=n.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,os):os.fromBufferAttribute(s,a),os.applyMatrix4(e.matrixWorld),this.expandByPoint(os);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),o_.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),o_.copy(n.boundingBox)),o_.applyMatrix4(e.matrixWorld),this.union(o_)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,os),os.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(kf),c_.subVectors(this.max,kf),fx.subVectors(e.a,kf),Ax.subVectors(e.b,kf),dx.subVectors(e.c,kf),No.subVectors(Ax,fx),Oo.subVectors(dx,Ax),q0.subVectors(fx,dx);let t=[0,-No.z,No.y,0,-Oo.z,Oo.y,0,-q0.z,q0.y,No.z,0,-No.x,Oo.z,0,-Oo.x,q0.z,0,-q0.x,-No.y,No.x,0,-Oo.y,Oo.x,0,-q0.y,q0.x,0];return!bv(t,fx,Ax,dx,c_)||(t=[1,0,0,0,1,0,0,0,1],!bv(t,fx,Ax,dx,c_))?!1:(l_.crossVectors(No,Oo),t=[l_.x,l_.y,l_.z],bv(t,fx,Ax,dx,c_))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,os).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(os).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ta[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ta[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ta[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ta[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ta[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ta[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ta[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ta[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ta),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ta=[new W,new W,new W,new W,new W,new W,new W,new W],os=new W,o_=new Uo,fx=new W,Ax=new W,dx=new W,No=new W,Oo=new W,q0=new W,kf=new W,c_=new W,l_=new W,Y0=new W;function bv(i,e,t,n,r){for(let s=0,a=i.length-3;s<=a;s+=3){Y0.fromArray(i,s);const o=r.x*Math.abs(Y0.x)+r.y*Math.abs(Y0.y)+r.z*Math.abs(Y0.z),l=e.dot(Y0),c=t.dot(Y0),x=n.dot(Y0);if(Math.max(-Math.max(l,c,x),Math.min(l,c,x))>o)return!1}return!0}const eV=new Uo,Uf=new W,vv=new W;class Nf{constructor(e=new W,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):eV.setFromPoints(e).getCenter(n);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Uf.subVectors(e,this.center);const t=Uf.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(Uf,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(vv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Uf.copy(e.center).add(vv)),this.expandByPoint(Uf.copy(e.center).sub(vv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Da=new W,wv=new W,x_=new W,Go=new W,Bv=new W,u_=new W,Sv=new W;class tV{constructor(e=new W,t=new W(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Da)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Da.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Da.copy(this.origin).addScaledVector(this.direction,t),Da.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){wv.copy(e).add(t).multiplyScalar(.5),x_.copy(t).sub(e).normalize(),Go.copy(this.origin).sub(wv);const s=e.distanceTo(t)*.5,a=-this.direction.dot(x_),o=Go.dot(this.direction),l=-Go.dot(x_),c=Go.lengthSq(),x=Math.abs(1-a*a);let u,h,f,A;if(x>0)if(u=a*l-o,h=a*o-l,A=s*x,u>=0)if(h>=-A)if(h<=A){const g=1/x;u*=g,h*=g,f=u*(u+a*h+2*o)+h*(a*u+h+2*l)+c}else h=s,u=Math.max(0,-(a*h+o)),f=-u*u+h*(h+2*l)+c;else h=-s,u=Math.max(0,-(a*h+o)),f=-u*u+h*(h+2*l)+c;else h<=-A?(u=Math.max(0,-(-a*s+o)),h=u>0?-s:Math.min(Math.max(-s,-l),s),f=-u*u+h*(h+2*l)+c):h<=A?(u=0,h=Math.min(Math.max(-s,-l),s),f=h*(h+2*l)+c):(u=Math.max(0,-(a*s+o)),h=u>0?s:Math.min(Math.max(-s,-l),s),f=-u*u+h*(h+2*l)+c);else h=a>0?-s:s,u=Math.max(0,-(a*h+o)),f=-u*u+h*(h+2*l)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(wv).addScaledVector(x_,h),f}intersectSphere(e,t){Da.subVectors(e.center,this.origin);const n=Da.dot(this.direction),r=Da.dot(Da)-n*n,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=n-a,l=n+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,s,a,o,l;const c=1/this.direction.x,x=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(n=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(n=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),x>=0?(s=(e.min.y-h.y)*x,a=(e.max.y-h.y)*x):(s=(e.max.y-h.y)*x,a=(e.min.y-h.y)*x),n>a||s>r||((s>n||isNaN(n))&&(n=s),(a<r||isNaN(r))&&(r=a),u>=0?(o=(e.min.z-h.z)*u,l=(e.max.z-h.z)*u):(o=(e.max.z-h.z)*u,l=(e.min.z-h.z)*u),n>l||o>r)||((o>n||n!==n)&&(n=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,Da)!==null}intersectTriangle(e,t,n,r,s){Bv.subVectors(t,e),u_.subVectors(n,e),Sv.crossVectors(Bv,u_);let a=this.direction.dot(Sv),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Go.subVectors(this.origin,e);const l=o*this.direction.dot(u_.crossVectors(Go,u_));if(l<0)return null;const c=o*this.direction.dot(Bv.cross(Go));if(c<0||l+c>a)return null;const x=-o*Go.dot(Sv);return x<0?null:this.at(x/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class mn{constructor(e,t,n,r,s,a,o,l,c,x,u,h,f,A,g,d){mn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,s,a,o,l,c,x,u,h,f,A,g,d)}set(e,t,n,r,s,a,o,l,c,x,u,h,f,A,g,d){const p=this.elements;return p[0]=e,p[4]=t,p[8]=n,p[12]=r,p[1]=s,p[5]=a,p[9]=o,p[13]=l,p[2]=c,p[6]=x,p[10]=u,p[14]=h,p[3]=f,p[7]=A,p[11]=g,p[15]=d,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new mn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/px.setFromMatrixColumn(e,0).length(),s=1/px.setFromMatrixColumn(e,1).length(),a=1/px.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,s=e.z,a=Math.cos(n),o=Math.sin(n),l=Math.cos(r),c=Math.sin(r),x=Math.cos(s),u=Math.sin(s);if(e.order==="XYZ"){const h=a*x,f=a*u,A=o*x,g=o*u;t[0]=l*x,t[4]=-l*u,t[8]=c,t[1]=f+A*c,t[5]=h-g*c,t[9]=-o*l,t[2]=g-h*c,t[6]=A+f*c,t[10]=a*l}else if(e.order==="YXZ"){const h=l*x,f=l*u,A=c*x,g=c*u;t[0]=h+g*o,t[4]=A*o-f,t[8]=a*c,t[1]=a*u,t[5]=a*x,t[9]=-o,t[2]=f*o-A,t[6]=g+h*o,t[10]=a*l}else if(e.order==="ZXY"){const h=l*x,f=l*u,A=c*x,g=c*u;t[0]=h-g*o,t[4]=-a*u,t[8]=A+f*o,t[1]=f+A*o,t[5]=a*x,t[9]=g-h*o,t[2]=-a*c,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const h=a*x,f=a*u,A=o*x,g=o*u;t[0]=l*x,t[4]=A*c-f,t[8]=h*c+g,t[1]=l*u,t[5]=g*c+h,t[9]=f*c-A,t[2]=-c,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const h=a*l,f=a*c,A=o*l,g=o*c;t[0]=l*x,t[4]=g-h*u,t[8]=A*u+f,t[1]=u,t[5]=a*x,t[9]=-o*x,t[2]=-c*x,t[6]=f*u+A,t[10]=h-g*u}else if(e.order==="XZY"){const h=a*l,f=a*c,A=o*l,g=o*c;t[0]=l*x,t[4]=-u,t[8]=c*x,t[1]=h*u+g,t[5]=a*x,t[9]=f*u-A,t[2]=A*u-f,t[6]=o*x,t[10]=g*u+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nV,e,iV)}lookAt(e,t,n){const r=this.elements;return pr.subVectors(e,t),pr.lengthSq()===0&&(pr.z=1),pr.normalize(),zo.crossVectors(n,pr),zo.lengthSq()===0&&(Math.abs(n.z)===1?pr.x+=1e-4:pr.z+=1e-4,pr.normalize(),zo.crossVectors(n,pr)),zo.normalize(),h_.crossVectors(pr,zo),r[0]=zo.x,r[4]=h_.x,r[8]=pr.x,r[1]=zo.y,r[5]=h_.y,r[9]=pr.y,r[2]=zo.z,r[6]=h_.z,r[10]=pr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,a=n[0],o=n[4],l=n[8],c=n[12],x=n[1],u=n[5],h=n[9],f=n[13],A=n[2],g=n[6],d=n[10],p=n[14],_=n[3],I=n[7],m=n[11],y=n[15],E=r[0],C=r[4],v=r[8],b=r[12],w=r[1],B=r[5],R=r[9],Q=r[13],F=r[2],M=r[6],T=r[10],P=r[14],k=r[3],V=r[7],Y=r[11],U=r[15];return s[0]=a*E+o*w+l*F+c*k,s[4]=a*C+o*B+l*M+c*V,s[8]=a*v+o*R+l*T+c*Y,s[12]=a*b+o*Q+l*P+c*U,s[1]=x*E+u*w+h*F+f*k,s[5]=x*C+u*B+h*M+f*V,s[9]=x*v+u*R+h*T+f*Y,s[13]=x*b+u*Q+h*P+f*U,s[2]=A*E+g*w+d*F+p*k,s[6]=A*C+g*B+d*M+p*V,s[10]=A*v+g*R+d*T+p*Y,s[14]=A*b+g*Q+d*P+p*U,s[3]=_*E+I*w+m*F+y*k,s[7]=_*C+I*B+m*M+y*V,s[11]=_*v+I*R+m*T+y*Y,s[15]=_*b+I*Q+m*P+y*U,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],x=e[2],u=e[6],h=e[10],f=e[14],A=e[3],g=e[7],d=e[11],p=e[15];return A*(+s*l*u-r*c*u-s*o*h+n*c*h+r*o*f-n*l*f)+g*(+t*l*f-t*c*h+s*a*h-r*a*f+r*c*x-s*l*x)+d*(+t*c*u-t*o*f-s*a*u+n*a*f+s*o*x-n*c*x)+p*(-r*o*x-t*l*u+t*o*h+r*a*u-n*a*h+n*l*x)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],x=e[8],u=e[9],h=e[10],f=e[11],A=e[12],g=e[13],d=e[14],p=e[15],_=u*d*c-g*h*c+g*l*f-o*d*f-u*l*p+o*h*p,I=A*h*c-x*d*c-A*l*f+a*d*f+x*l*p-a*h*p,m=x*g*c-A*u*c+A*o*f-a*g*f-x*o*p+a*u*p,y=A*u*l-x*g*l-A*o*h+a*g*h+x*o*d-a*u*d,E=t*_+n*I+r*m+s*y;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/E;return e[0]=_*C,e[1]=(g*h*s-u*d*s-g*r*f+n*d*f+u*r*p-n*h*p)*C,e[2]=(o*d*s-g*l*s+g*r*c-n*d*c-o*r*p+n*l*p)*C,e[3]=(u*l*s-o*h*s-u*r*c+n*h*c+o*r*f-n*l*f)*C,e[4]=I*C,e[5]=(x*d*s-A*h*s+A*r*f-t*d*f-x*r*p+t*h*p)*C,e[6]=(A*l*s-a*d*s-A*r*c+t*d*c+a*r*p-t*l*p)*C,e[7]=(a*h*s-x*l*s+x*r*c-t*h*c-a*r*f+t*l*f)*C,e[8]=m*C,e[9]=(A*u*s-x*g*s-A*n*f+t*g*f+x*n*p-t*u*p)*C,e[10]=(a*g*s-A*o*s+A*n*c-t*g*c-a*n*p+t*o*p)*C,e[11]=(x*o*s-a*u*s-x*n*c+t*u*c+a*n*f-t*o*f)*C,e[12]=y*C,e[13]=(x*g*r-A*u*r+A*n*h-t*g*h-x*n*d+t*u*d)*C,e[14]=(A*o*r-a*g*r-A*n*l+t*g*l+a*n*d-t*o*d)*C,e[15]=(a*u*r-x*o*r+x*n*l-t*u*l-a*n*h+t*o*h)*C,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,a=e.x,o=e.y,l=e.z,c=s*a,x=s*o;return this.set(c*a+n,c*o-r*l,c*l+r*o,0,c*o+r*l,x*o+n,x*l-r*a,0,c*l-r*o,x*l+r*a,s*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,a){return this.set(1,n,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,c=s+s,x=a+a,u=o+o,h=s*c,f=s*x,A=s*u,g=a*x,d=a*u,p=o*u,_=l*c,I=l*x,m=l*u,y=n.x,E=n.y,C=n.z;return r[0]=(1-(g+p))*y,r[1]=(f+m)*y,r[2]=(A-I)*y,r[3]=0,r[4]=(f-m)*E,r[5]=(1-(h+p))*E,r[6]=(d+_)*E,r[7]=0,r[8]=(A+I)*C,r[9]=(d-_)*C,r[10]=(1-(h+g))*C,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=px.set(r[0],r[1],r[2]).length();const a=px.set(r[4],r[5],r[6]).length(),o=px.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],cs.copy(this);const c=1/s,x=1/a,u=1/o;return cs.elements[0]*=c,cs.elements[1]*=c,cs.elements[2]*=c,cs.elements[4]*=x,cs.elements[5]*=x,cs.elements[6]*=x,cs.elements[8]*=u,cs.elements[9]*=u,cs.elements[10]*=u,t.setFromRotationMatrix(cs),n.x=s,n.y=a,n.z=o,this}makePerspective(e,t,n,r,s,a,o=Sa){const l=this.elements,c=2*s/(t-e),x=2*s/(n-r),u=(t+e)/(t-e),h=(n+r)/(n-r);let f,A;if(o===Sa)f=-(a+s)/(a-s),A=-2*a*s/(a-s);else if(o===s_)f=-a/(a-s),A=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=u,l[12]=0,l[1]=0,l[5]=x,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=A,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,s,a,o=Sa){const l=this.elements,c=1/(t-e),x=1/(n-r),u=1/(a-s),h=(t+e)*c,f=(n+r)*x;let A,g;if(o===Sa)A=(a+s)*u,g=-2*u;else if(o===s_)A=s*u,g=-1*u;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*x,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=g,l[14]=-A,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const px=new W,cs=new mn,nV=new W(0,0,0),iV=new W(1,1,1),zo=new W,h_=new W,pr=new W,m8=new mn,_8=new hx;class Qa{constructor(e=0,t=0,n=0,r=Qa.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],c=r[5],x=r[9],u=r[2],h=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(ft(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-x,f),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ft(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,s),this._z=0);break;case"ZXY":this._x=Math.asin(ft(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-ft(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(ft(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-x,c),this._y=Math.atan2(-u,s)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-ft(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-x,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return m8.makeRotationFromQuaternion(e),this.setFromRotationMatrix(m8,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return _8.setFromEuler(this),this.setFromQuaternion(_8,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Qa.DEFAULT_ORDER="XYZ";class I8{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let rV=0;const E8=new W,gx=new hx,Fa=new mn,f_=new W,Of=new W,sV=new W,aV=new hx,y8=new W(1,0,0),C8=new W(0,1,0),b8=new W(0,0,1),v8={type:"added"},oV={type:"removed"},mx={type:"childadded",child:null},Mv={type:"childremoved",child:null};class tr extends cx{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:rV++}),this.uuid=Ma(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=tr.DEFAULT_UP.clone();const e=new W,t=new Qa,n=new hx,r=new W(1,1,1);function s(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new mn},normalMatrix:{value:new at}}),this.matrix=new mn,this.matrixWorld=new mn,this.matrixAutoUpdate=tr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new I8,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return gx.setFromAxisAngle(e,t),this.quaternion.multiply(gx),this}rotateOnWorldAxis(e,t){return gx.setFromAxisAngle(e,t),this.quaternion.premultiply(gx),this}rotateX(e){return this.rotateOnAxis(y8,e)}rotateY(e){return this.rotateOnAxis(C8,e)}rotateZ(e){return this.rotateOnAxis(b8,e)}translateOnAxis(e,t){return E8.copy(e).applyQuaternion(this.quaternion),this.position.add(E8.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(y8,e)}translateY(e){return this.translateOnAxis(C8,e)}translateZ(e){return this.translateOnAxis(b8,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Fa.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?f_.copy(e):f_.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Of.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fa.lookAt(Of,f_,this.up):Fa.lookAt(f_,Of,this.up),this.quaternion.setFromRotationMatrix(Fa),r&&(Fa.extractRotation(r.matrixWorld),gx.setFromRotationMatrix(Fa),this.quaternion.premultiply(gx.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(v8),mx.child=e,this.dispatchEvent(mx),mx.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(oV),Mv.child=e,this.dispatchEvent(Mv),Mv.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Fa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Fa.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fa),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(v8),mx.child=e,this.dispatchEvent(mx),mx.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Of,e,sV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Of,aV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,x=l.length;c<x;c++){const u=l[c];s(e.shapes,u)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),x=a(e.images),u=a(e.shapes),h=a(e.skeletons),f=a(e.animations),A=a(e.nodes);o.length>0&&(n.geometries=o),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),x.length>0&&(n.images=x),u.length>0&&(n.shapes=u),h.length>0&&(n.skeletons=h),f.length>0&&(n.animations=f),A.length>0&&(n.nodes=A)}return n.object=r,n;function a(o){const l=[];for(const c in o){const x=o[c];delete x.metadata,l.push(x)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}tr.DEFAULT_UP=new W(0,1,0),tr.DEFAULT_MATRIX_AUTO_UPDATE=!0,tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ls=new W,La=new W,Rv=new W,Pa=new W,_x=new W,Ix=new W,w8=new W,Tv=new W,Dv=new W,Qv=new W,Fv=new cn,Lv=new cn,Pv=new cn;class Qr{constructor(e=new W,t=new W,n=new W){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),ls.subVectors(e,t),r.cross(ls);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,n,r,s){ls.subVectors(r,t),La.subVectors(n,t),Rv.subVectors(e,t);const a=ls.dot(ls),o=ls.dot(La),l=ls.dot(Rv),c=La.dot(La),x=La.dot(Rv),u=a*c-o*o;if(u===0)return s.set(0,0,0),null;const h=1/u,f=(c*l-o*x)*h,A=(a*x-o*l)*h;return s.set(1-f-A,A,f)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Pa)===null?!1:Pa.x>=0&&Pa.y>=0&&Pa.x+Pa.y<=1}static getInterpolation(e,t,n,r,s,a,o,l){return this.getBarycoord(e,t,n,r,Pa)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Pa.x),l.addScaledVector(a,Pa.y),l.addScaledVector(o,Pa.z),l)}static getInterpolatedAttribute(e,t,n,r,s,a){return Fv.setScalar(0),Lv.setScalar(0),Pv.setScalar(0),Fv.fromBufferAttribute(e,t),Lv.fromBufferAttribute(e,n),Pv.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(Fv,s.x),a.addScaledVector(Lv,s.y),a.addScaledVector(Pv,s.z),a}static isFrontFacing(e,t,n,r){return ls.subVectors(n,t),La.subVectors(e,t),ls.cross(La).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ls.subVectors(this.c,this.b),La.subVectors(this.a,this.b),ls.cross(La).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Qr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Qr.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,s){return Qr.getInterpolation(e,this.a,this.b,this.c,t,n,r,s)}containsPoint(e){return Qr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Qr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,s=this.c;let a,o;_x.subVectors(r,n),Ix.subVectors(s,n),Tv.subVectors(e,n);const l=_x.dot(Tv),c=Ix.dot(Tv);if(l<=0&&c<=0)return t.copy(n);Dv.subVectors(e,r);const x=_x.dot(Dv),u=Ix.dot(Dv);if(x>=0&&u<=x)return t.copy(r);const h=l*u-x*c;if(h<=0&&l>=0&&x<=0)return a=l/(l-x),t.copy(n).addScaledVector(_x,a);Qv.subVectors(e,s);const f=_x.dot(Qv),A=Ix.dot(Qv);if(A>=0&&f<=A)return t.copy(s);const g=f*c-l*A;if(g<=0&&c>=0&&A<=0)return o=c/(c-A),t.copy(n).addScaledVector(Ix,o);const d=x*A-f*u;if(d<=0&&u-x>=0&&f-A>=0)return w8.subVectors(s,r),o=(u-x)/(u-x+(f-A)),t.copy(r).addScaledVector(w8,o);const p=1/(d+g+h);return a=g*p,o=h*p,t.copy(n).addScaledVector(_x,a).addScaledVector(Ix,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const B8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Vo={h:0,s:0,l:0},A_={h:0,s:0,l:0};function kv(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class Rt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Dr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Mt.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=Mt.workingColorSpace){return this.r=e,this.g=t,this.b=n,Mt.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=Mt.workingColorSpace){if(e=Iv(e,1),t=ft(t,0,1),n=ft(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,a=2*n-s;this.r=kv(a,s,e+1/3),this.g=kv(a,s,e),this.b=kv(a,s,e-1/3)}return Mt.toWorkingColorSpace(this,r),this}setStyle(e,t=Dr){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Dr){const n=B8[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ra(e.r),this.g=Ra(e.g),this.b=Ra(e.b),this}copyLinearToSRGB(e){return this.r=xx(e.r),this.g=xx(e.g),this.b=xx(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Dr){return Mt.fromWorkingColorSpace(wi.copy(this),e),Math.round(ft(wi.r*255,0,255))*65536+Math.round(ft(wi.g*255,0,255))*256+Math.round(ft(wi.b*255,0,255))}getHexString(e=Dr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Mt.workingColorSpace){Mt.fromWorkingColorSpace(wi.copy(this),t);const n=wi.r,r=wi.g,s=wi.b,a=Math.max(n,r,s),o=Math.min(n,r,s);let l,c;const x=(o+a)/2;if(o===a)l=0,c=0;else{const u=a-o;switch(c=x<=.5?u/(a+o):u/(2-a-o),a){case n:l=(r-s)/u+(r<s?6:0);break;case r:l=(s-n)/u+2;break;case s:l=(n-r)/u+4;break}l/=6}return e.h=l,e.s=c,e.l=x,e}getRGB(e,t=Mt.workingColorSpace){return Mt.fromWorkingColorSpace(wi.copy(this),t),e.r=wi.r,e.g=wi.g,e.b=wi.b,e}getStyle(e=Dr){Mt.fromWorkingColorSpace(wi.copy(this),e);const t=wi.r,n=wi.g,r=wi.b;return e!==Dr?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(Vo),this.setHSL(Vo.h+e,Vo.s+t,Vo.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Vo),e.getHSL(A_);const n=Pf(Vo.h,A_.h,t),r=Pf(Vo.s,A_.s,t),s=Pf(Vo.l,A_.l,t);return this.setHSL(n,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*r,this.g=s[1]*t+s[4]*n+s[7]*r,this.b=s[2]*t+s[5]*n+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const wi=new Rt;Rt.NAMES=B8;let cV=0;class Gf extends cx{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:cV++}),this.uuid=Ma(),this.name="",this.type="Material",this.blending=$l,this.side=Fo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Bb,this.blendDst=Sb,this.blendEquation=O0,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Rt(0,0,0),this.blendAlpha=0,this.depthFunc=ex,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=o8,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ox,this.stencilZFail=ox,this.stencilZPass=ox,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==$l&&(n.blending=this.blending),this.side!==Fo&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Bb&&(n.blendSrc=this.blendSrc),this.blendDst!==Sb&&(n.blendDst=this.blendDst),this.blendEquation!==O0&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==ex&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==o8&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ox&&(n.stencilFail=this.stencilFail),this.stencilZFail!==ox&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==ox&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(n.textures=s),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let s=0;s!==r;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class S8 extends Gf{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Qa,this.combine=jM,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const On=new W,d_=new It;class xs{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=_v,this.updateRanges=[],this.gpuType=Ba,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)d_.fromBufferAttribute(this,t),d_.applyMatrix3(e),this.setXY(t,d_.x,d_.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)On.fromBufferAttribute(this,t),On.applyMatrix3(e),this.setXYZ(t,On.x,On.y,On.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)On.fromBufferAttribute(this,t),On.applyMatrix4(e),this.setXYZ(t,On.x,On.y,On.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)On.fromBufferAttribute(this,t),On.applyNormalMatrix(e),this.setXYZ(t,On.x,On.y,On.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)On.fromBufferAttribute(this,t),On.transformDirection(e),this.setXYZ(t,On.x,On.y,On.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=as(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Wt(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=as(t,this.array)),t}setX(e,t){return this.normalized&&(t=Wt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=as(t,this.array)),t}setY(e,t){return this.normalized&&(t=Wt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=as(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Wt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=as(t,this.array)),t}setW(e,t){return this.normalized&&(t=Wt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Wt(t,this.array),n=Wt(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Wt(t,this.array),n=Wt(n,this.array),r=Wt(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e*=this.itemSize,this.normalized&&(t=Wt(t,this.array),n=Wt(n,this.array),r=Wt(r,this.array),s=Wt(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==_v&&(e.usage=this.usage),e}}class M8 extends xs{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class R8 extends xs{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Ls extends xs{constructor(e,t,n){super(new Float32Array(e),t,n)}}let lV=0;const Fr=new mn,Uv=new tr,Ex=new W,gr=new Uo,zf=new Uo,$n=new W;class Ps extends cx{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:lV++}),this.uuid=Ma(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(u8(e)?R8:M8)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new at().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Fr.makeRotationFromQuaternion(e),this.applyMatrix4(Fr),this}rotateX(e){return Fr.makeRotationX(e),this.applyMatrix4(Fr),this}rotateY(e){return Fr.makeRotationY(e),this.applyMatrix4(Fr),this}rotateZ(e){return Fr.makeRotationZ(e),this.applyMatrix4(Fr),this}translate(e,t,n){return Fr.makeTranslation(e,t,n),this.applyMatrix4(Fr),this}scale(e,t,n){return Fr.makeScale(e,t,n),this.applyMatrix4(Fr),this}lookAt(e){return Uv.lookAt(e),Uv.updateMatrix(),this.applyMatrix4(Uv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ex).negate(),this.translate(Ex.x,Ex.y,Ex.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];n.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Ls(n,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Uo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new W(-1/0,-1/0,-1/0),new W(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const s=t[n];gr.setFromBufferAttribute(s),this.morphTargetsRelative?($n.addVectors(this.boundingBox.min,gr.min),this.boundingBox.expandByPoint($n),$n.addVectors(this.boundingBox.max,gr.max),this.boundingBox.expandByPoint($n)):(this.boundingBox.expandByPoint(gr.min),this.boundingBox.expandByPoint(gr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Nf);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new W,1/0);return}if(e){const n=this.boundingSphere.center;if(gr.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];zf.setFromBufferAttribute(o),this.morphTargetsRelative?($n.addVectors(gr.min,zf.min),gr.expandByPoint($n),$n.addVectors(gr.max,zf.max),gr.expandByPoint($n)):(gr.expandByPoint(zf.min),gr.expandByPoint(zf.max))}gr.getCenter(n);let r=0;for(let s=0,a=e.count;s<a;s++)$n.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared($n));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let c=0,x=o.count;c<x;c++)$n.fromBufferAttribute(o,c),l&&(Ex.fromBufferAttribute(e,c),$n.add(Ex)),r=Math.max(r,n.distanceToSquared($n))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new xs(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let v=0;v<n.count;v++)o[v]=new W,l[v]=new W;const c=new W,x=new W,u=new W,h=new It,f=new It,A=new It,g=new W,d=new W;function p(v,b,w){c.fromBufferAttribute(n,v),x.fromBufferAttribute(n,b),u.fromBufferAttribute(n,w),h.fromBufferAttribute(s,v),f.fromBufferAttribute(s,b),A.fromBufferAttribute(s,w),x.sub(c),u.sub(c),f.sub(h),A.sub(h);const B=1/(f.x*A.y-A.x*f.y);isFinite(B)&&(g.copy(x).multiplyScalar(A.y).addScaledVector(u,-f.y).multiplyScalar(B),d.copy(u).multiplyScalar(f.x).addScaledVector(x,-A.x).multiplyScalar(B),o[v].add(g),o[b].add(g),o[w].add(g),l[v].add(d),l[b].add(d),l[w].add(d))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let v=0,b=_.length;v<b;++v){const w=_[v],B=w.start,R=w.count;for(let Q=B,F=B+R;Q<F;Q+=3)p(e.getX(Q+0),e.getX(Q+1),e.getX(Q+2))}const I=new W,m=new W,y=new W,E=new W;function C(v){y.fromBufferAttribute(r,v),E.copy(y);const b=o[v];I.copy(b),I.sub(y.multiplyScalar(y.dot(b))).normalize(),m.crossVectors(E,b);const B=m.dot(l[v])<0?-1:1;a.setXYZW(v,I.x,I.y,I.z,B)}for(let v=0,b=_.length;v<b;++v){const w=_[v],B=w.start,R=w.count;for(let Q=B,F=B+R;Q<F;Q+=3)C(e.getX(Q+0)),C(e.getX(Q+1)),C(e.getX(Q+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new xs(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let h=0,f=n.count;h<f;h++)n.setXYZ(h,0,0,0);const r=new W,s=new W,a=new W,o=new W,l=new W,c=new W,x=new W,u=new W;if(e)for(let h=0,f=e.count;h<f;h+=3){const A=e.getX(h+0),g=e.getX(h+1),d=e.getX(h+2);r.fromBufferAttribute(t,A),s.fromBufferAttribute(t,g),a.fromBufferAttribute(t,d),x.subVectors(a,s),u.subVectors(r,s),x.cross(u),o.fromBufferAttribute(n,A),l.fromBufferAttribute(n,g),c.fromBufferAttribute(n,d),o.add(x),l.add(x),c.add(x),n.setXYZ(A,o.x,o.y,o.z),n.setXYZ(g,l.x,l.y,l.z),n.setXYZ(d,c.x,c.y,c.z)}else for(let h=0,f=t.count;h<f;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),a.fromBufferAttribute(t,h+2),x.subVectors(a,s),u.subVectors(r,s),x.cross(u),n.setXYZ(h+0,x.x,x.y,x.z),n.setXYZ(h+1,x.x,x.y,x.z),n.setXYZ(h+2,x.x,x.y,x.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)$n.fromBufferAttribute(e,t),$n.normalize(),e.setXYZ(t,$n.x,$n.y,$n.z)}toNonIndexed(){function e(o,l){const c=o.array,x=o.itemSize,u=o.normalized,h=new c.constructor(l.length*x);let f=0,A=0;for(let g=0,d=l.length;g<d;g++){o.isInterleavedBufferAttribute?f=l[g]*o.data.stride+o.offset:f=l[g]*x;for(let p=0;p<x;p++)h[A++]=c[f++]}return new xs(h,x,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ps,n=this.index.array,r=this.attributes;for(const o in r){const l=r[o],c=e(l,n);t.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let x=0,u=c.length;x<u;x++){const h=c[x],f=e(h,n);l.push(f)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const c=n[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],x=[];for(let u=0,h=c.length;u<h;u++){const f=c[u];x.push(f.toJSON(e.data))}x.length>0&&(r[l]=x,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const r=e.attributes;for(const c in r){const x=r[c];this.setAttribute(c,x.clone(t))}const s=e.morphAttributes;for(const c in s){const x=[],u=s[c];for(let h=0,f=u.length;h<f;h++)x.push(u[h].clone(t));this.morphAttributes[c]=x}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,x=a.length;c<x;c++){const u=a[c];this.addGroup(u.start,u.count,u.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const T8=new mn,X0=new tV,p_=new Nf,D8=new W,g_=new W,m_=new W,__=new W,Nv=new W,I_=new W,Q8=new W,E_=new W;class ks extends tr{constructor(e=new Ps,t=new S8){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){I_.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const x=o[l],u=s[l];x!==0&&(Nv.fromBufferAttribute(u,e),a?I_.addScaledVector(Nv,x):I_.addScaledVector(Nv.sub(t),x))}t.add(I_)}return t}raycast(e,t){const n=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),p_.copy(n.boundingSphere),p_.applyMatrix4(s),X0.copy(e.ray).recast(e.near),!(p_.containsPoint(X0.origin)===!1&&(X0.intersectSphere(p_,D8)===null||X0.origin.distanceToSquared(D8)>(e.far-e.near)**2))&&(T8.copy(s).invert(),X0.copy(e.ray).applyMatrix4(T8),!(n.boundingBox!==null&&X0.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,X0)))}_computeIntersections(e,t,n){let r;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,x=s.attributes.uv1,u=s.attributes.normal,h=s.groups,f=s.drawRange;if(o!==null)if(Array.isArray(a))for(let A=0,g=h.length;A<g;A++){const d=h[A],p=a[d.materialIndex],_=Math.max(d.start,f.start),I=Math.min(o.count,Math.min(d.start+d.count,f.start+f.count));for(let m=_,y=I;m<y;m+=3){const E=o.getX(m),C=o.getX(m+1),v=o.getX(m+2);r=y_(this,p,e,n,c,x,u,E,C,v),r&&(r.faceIndex=Math.floor(m/3),r.face.materialIndex=d.materialIndex,t.push(r))}}else{const A=Math.max(0,f.start),g=Math.min(o.count,f.start+f.count);for(let d=A,p=g;d<p;d+=3){const _=o.getX(d),I=o.getX(d+1),m=o.getX(d+2);r=y_(this,a,e,n,c,x,u,_,I,m),r&&(r.faceIndex=Math.floor(d/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let A=0,g=h.length;A<g;A++){const d=h[A],p=a[d.materialIndex],_=Math.max(d.start,f.start),I=Math.min(l.count,Math.min(d.start+d.count,f.start+f.count));for(let m=_,y=I;m<y;m+=3){const E=m,C=m+1,v=m+2;r=y_(this,p,e,n,c,x,u,E,C,v),r&&(r.faceIndex=Math.floor(m/3),r.face.materialIndex=d.materialIndex,t.push(r))}}else{const A=Math.max(0,f.start),g=Math.min(l.count,f.start+f.count);for(let d=A,p=g;d<p;d+=3){const _=d,I=d+1,m=d+2;r=y_(this,a,e,n,c,x,u,_,I,m),r&&(r.faceIndex=Math.floor(d/3),t.push(r))}}}}function xV(i,e,t,n,r,s,a,o){let l;if(e.side===er?l=n.intersectTriangle(a,s,r,!0,o):l=n.intersectTriangle(r,s,a,e.side===Fo,o),l===null)return null;E_.copy(o),E_.applyMatrix4(i.matrixWorld);const c=t.ray.origin.distanceTo(E_);return c<t.near||c>t.far?null:{distance:c,point:E_.clone(),object:i}}function y_(i,e,t,n,r,s,a,o,l,c){i.getVertexPosition(o,g_),i.getVertexPosition(l,m_),i.getVertexPosition(c,__);const x=xV(i,e,t,n,g_,m_,__,Q8);if(x){const u=new W;Qr.getBarycoord(Q8,g_,m_,__,u),r&&(x.uv=Qr.getInterpolatedAttribute(r,o,l,c,u,new It)),s&&(x.uv1=Qr.getInterpolatedAttribute(s,o,l,c,u,new It)),a&&(x.normal=Qr.getInterpolatedAttribute(a,o,l,c,u,new W),x.normal.dot(n.direction)>0&&x.normal.multiplyScalar(-1));const h={a:o,b:l,c,normal:new W,materialIndex:0};Qr.getNormal(g_,m_,__,h.normal),x.face=h,x.barycoord=u}return x}class Vf extends Ps{constructor(e=1,t=1,n=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],x=[],u=[];let h=0,f=0;A("z","y","x",-1,-1,n,t,e,a,s,0),A("z","y","x",1,-1,n,t,-e,a,s,1),A("x","z","y",1,1,e,n,t,r,a,2),A("x","z","y",1,-1,e,n,-t,r,a,3),A("x","y","z",1,-1,e,t,n,r,s,4),A("x","y","z",-1,-1,e,t,-n,r,s,5),this.setIndex(l),this.setAttribute("position",new Ls(c,3)),this.setAttribute("normal",new Ls(x,3)),this.setAttribute("uv",new Ls(u,2));function A(g,d,p,_,I,m,y,E,C,v,b){const w=m/C,B=y/v,R=m/2,Q=y/2,F=E/2,M=C+1,T=v+1;let P=0,k=0;const V=new W;for(let Y=0;Y<T;Y++){const U=Y*B-Q;for(let te=0;te<M;te++){const xe=te*w-R;V[g]=xe*_,V[d]=U*I,V[p]=F,c.push(V.x,V.y,V.z),V[g]=0,V[d]=0,V[p]=E>0?1:-1,x.push(V.x,V.y,V.z),u.push(te/C),u.push(1-Y/v),P+=1}}for(let Y=0;Y<v;Y++)for(let U=0;U<C;U++){const te=h+U+M*Y,xe=h+U+M*(Y+1),G=h+(U+1)+M*(Y+1),O=h+(U+1)+M*Y;l.push(te,xe,O),l.push(xe,G,O),k+=6}o.addGroup(f,k,b),f+=k,h+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function yx(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function Fi(i){const e={};for(let t=0;t<i.length;t++){const n=yx(i[t]);for(const r in n)e[r]=n[r]}return e}function uV(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function F8(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Mt.workingColorSpace}const Ov={clone:yx,merge:Fi};var hV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ka extends Gf{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=hV,this.fragmentShader=fV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=yx(e.uniforms),this.uniformsGroups=uV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class L8 extends tr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new mn,this.projectionMatrix=new mn,this.projectionMatrixInverse=new mn,this.coordinateSystem=Sa}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ho=new W,P8=new It,k8=new It;class us extends L8{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Lf*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ff*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Lf*2*Math.atan(Math.tan(Ff*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Ho.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Ho.x,Ho.y).multiplyScalar(-e/Ho.z),Ho.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Ho.x,Ho.y).multiplyScalar(-e/Ho.z)}getViewSize(e,t){return this.getViewBounds(e,P8,k8),t.subVectors(k8,P8)}setViewOffset(e,t,n,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Ff*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*r/l,t-=a.offsetY*n/c,r*=a.width/l,n*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Cx=-90,bx=1;class AV extends tr{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new us(Cx,bx,e,t);r.layers=this.layers,this.add(r);const s=new us(Cx,bx,e,t);s.layers=this.layers,this.add(s);const a=new us(Cx,bx,e,t);a.layers=this.layers,this.add(a);const o=new us(Cx,bx,e,t);o.layers=this.layers,this.add(o);const l=new us(Cx,bx,e,t);l.layers=this.layers,this.add(l);const c=new us(Cx,bx,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,s,a,o,l]=t;for(const c of t)this.remove(c);if(e===Sa)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===s_)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,x]=this.children,u=e.getRenderTarget(),h=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),A=e.xr.enabled;e.xr.enabled=!1;const g=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,s),e.setRenderTarget(n,1,r),e.render(t,a),e.setRenderTarget(n,2,r),e.render(t,o),e.setRenderTarget(n,3,r),e.render(t,l),e.setRenderTarget(n,4,r),e.render(t,c),n.texture.generateMipmaps=g,e.setRenderTarget(n,5,r),e.render(t,x),e.setRenderTarget(u,h,f),e.xr.enabled=A,n.texture.needsPMREMUpdate=!0}}class U8 extends Qi{constructor(e,t,n,r,s,a,o,l,c,x){e=e!==void 0?e:[],t=t!==void 0?t:tx,super(e,t,n,r,s,a,o,l,c,x),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class dV extends H0{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new U8(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Fs}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Vf(5,5,5),s=new ka({name:"CubemapFromEquirect",uniforms:yx(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:er,blending:Lo});s.uniforms.tEquirect.value=t;const a=new ks(r,s),o=t.minFilter;return t.minFilter===z0&&(t.minFilter=Fs),new AV(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(s)}}class pV extends tr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Qa,this.environmentIntensity=1,this.environmentRotation=new Qa,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class N8{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=_v,this.updateRanges=[],this.version=0,this.uuid=Ma()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ma()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ma()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Li=new W;class Us{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Li.fromBufferAttribute(this,t),Li.applyMatrix4(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Li.fromBufferAttribute(this,t),Li.applyNormalMatrix(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Li.fromBufferAttribute(this,t),Li.transformDirection(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=as(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Wt(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Wt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Wt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Wt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Wt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=as(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=as(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=as(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=as(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Wt(t,this.array),n=Wt(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Wt(t,this.array),n=Wt(n,this.array),r=Wt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Wt(t,this.array),n=Wt(n,this.array),r=Wt(r,this.array),s=Wt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new xs(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Us(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class O8 extends Gf{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let vx;const Hf=new W,wx=new W,Bx=new W,Sx=new It,qf=new It,G8=new mn,C_=new W,Yf=new W,b_=new W,z8=new It,Gv=new It,V8=new It;class gV extends tr{constructor(e=new O8){if(super(),this.isSprite=!0,this.type="Sprite",vx===void 0){vx=new Ps;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new N8(t,5);vx.setIndex([0,1,2,0,2,3]),vx.setAttribute("position",new Us(n,3,0,!1)),vx.setAttribute("uv",new Us(n,2,3,!1))}this.geometry=vx,this.material=e,this.center=new It(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),wx.setFromMatrixScale(this.matrixWorld),G8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Bx.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&wx.multiplyScalar(-Bx.z);const n=this.material.rotation;let r,s;n!==0&&(s=Math.cos(n),r=Math.sin(n));const a=this.center;v_(C_.set(-.5,-.5,0),Bx,a,wx,r,s),v_(Yf.set(.5,-.5,0),Bx,a,wx,r,s),v_(b_.set(.5,.5,0),Bx,a,wx,r,s),z8.set(0,0),Gv.set(1,0),V8.set(1,1);let o=e.ray.intersectTriangle(C_,Yf,b_,!1,Hf);if(o===null&&(v_(Yf.set(-.5,.5,0),Bx,a,wx,r,s),Gv.set(0,1),o=e.ray.intersectTriangle(C_,b_,Yf,!1,Hf),o===null))return;const l=e.ray.origin.distanceTo(Hf);l<e.near||l>e.far||t.push({distance:l,point:Hf.clone(),uv:Qr.getInterpolation(Hf,C_,Yf,b_,z8,Gv,V8,new It),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function v_(i,e,t,n,r,s){Sx.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(qf.x=s*Sx.x-r*Sx.y,qf.y=r*Sx.x+s*Sx.y):qf.copy(Sx),i.copy(e),i.x+=qf.x,i.y+=qf.y,i.applyMatrix4(G8)}const zv=new W,mV=new W,_V=new at;class W0{constructor(e=new W(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=zv.subVectors(n,t).cross(mV.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(zv),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||_V.getNormalMatrix(e),r=this.coplanarPoint(zv).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const j0=new Nf,w_=new W;class H8{constructor(e=new W0,t=new W0,n=new W0,r=new W0,s=new W0,a=new W0){this.planes=[e,t,n,r,s,a]}set(e,t,n,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Sa){const n=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],l=r[3],c=r[4],x=r[5],u=r[6],h=r[7],f=r[8],A=r[9],g=r[10],d=r[11],p=r[12],_=r[13],I=r[14],m=r[15];if(n[0].setComponents(l-s,h-c,d-f,m-p).normalize(),n[1].setComponents(l+s,h+c,d+f,m+p).normalize(),n[2].setComponents(l+a,h+x,d+A,m+_).normalize(),n[3].setComponents(l-a,h-x,d-A,m-_).normalize(),n[4].setComponents(l-o,h-u,d-g,m-I).normalize(),t===Sa)n[5].setComponents(l+o,h+u,d+g,m+I).normalize();else if(t===s_)n[5].setComponents(o,u,g,I).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),j0.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),j0.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(j0)}intersectsSprite(e){return j0.center.set(0,0,0),j0.radius=.7071067811865476,j0.applyMatrix4(e.matrixWorld),this.intersectsSphere(j0)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(w_.x=r.normal.x>0?e.max.x:e.min.x,w_.y=r.normal.y>0?e.max.y:e.min.y,w_.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(w_)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class K0 extends tr{constructor(){super(),this.isGroup=!0,this.type="Group"}}class IV extends Qi{constructor(e,t,n,r,s,a,o,l,c){super(e,t,n,r,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class q8 extends Qi{constructor(e,t,n,r,s,a,o,l,c,x=rx){if(x!==rx&&x!==sx)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&x===rx&&(n=V0),n===void 0&&x===sx&&(n=ix),super(null,r,s,a,o,l,x,n,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:rs,this.minFilter=l!==void 0?l:rs,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class B_ extends Ps{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(n),l=Math.floor(r),c=o+1,x=l+1,u=e/o,h=t/l,f=[],A=[],g=[],d=[];for(let p=0;p<x;p++){const _=p*h-a;for(let I=0;I<c;I++){const m=I*u-s;A.push(m,-_,0),g.push(0,0,1),d.push(I/o),d.push(1-p/l)}}for(let p=0;p<l;p++)for(let _=0;_<o;_++){const I=_+c*p,m=_+c*(p+1),y=_+1+c*(p+1),E=_+1+c*p;f.push(I,m,E),f.push(m,y,E)}this.setIndex(f),this.setAttribute("position",new Ls(A,3)),this.setAttribute("normal",new Ls(g,3)),this.setAttribute("uv",new Ls(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new B_(e.width,e.height,e.widthSegments,e.heightSegments)}}class EV extends Ps{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new W,s=new W;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,x=l.length;c<x;++c){const u=l[c],h=u.start,f=u.count;for(let A=h,g=h+f;A<g;A+=3)for(let d=0;d<3;d++){const p=o.getX(A+d),_=o.getX(A+(d+1)%3);r.fromBufferAttribute(a,p),s.fromBufferAttribute(a,_),Y8(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const x=3*o+c,u=3*o+(c+1)%3;r.fromBufferAttribute(a,x),s.fromBufferAttribute(a,u),Y8(r,s,n)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ls(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Y8(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}class yV extends Gf{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=pz,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class CV extends Gf{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class X8 extends L8{constructor(e=-1,t=1,n=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=n-e,a=n+e,o=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,x=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=x*this.view.offsetY,l=o-x*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class bV extends Ps{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class vV extends us{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Vv extends N8{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}const W8=new W,S_=new W;class wV{constructor(e=new W,t=new W){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){W8.subVectors(e,this.start),S_.subVectors(this.end,this.start);const n=S_.dot(S_);let s=S_.dot(W8)/n;return t&&(s=ft(s,0,1)),s}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}function j8(i,e,t,n){const r=BV(n);switch(t){case e8:return i*e;case n8:return i*e;case i8:return i*e*2;case r8:return i*e/r.components*r.byteLength;case Hb:return i*e/r.components*r.byteLength;case s8:return i*e*2/r.components*r.byteLength;case qb:return i*e*2/r.components*r.byteLength;case t8:return i*e*3/r.components*r.byteLength;case ss:return i*e*4/r.components*r.byteLength;case Yb:return i*e*4/r.components*r.byteLength;case $2:case e_:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case t_:case n_:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Wb:case Kb:return Math.max(i,16)*Math.max(e,8)/4;case Xb:case jb:return Math.max(i,8)*Math.max(e,8)/2;case Jb:case Zb:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case $b:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case ev:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case tv:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case nv:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case iv:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case rv:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case sv:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case av:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case ov:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case cv:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case lv:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case xv:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case uv:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case hv:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case fv:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case i_:case Av:case dv:return Math.ceil(i/4)*Math.ceil(e/4)*16;case a8:case pv:return Math.ceil(i/4)*Math.ceil(e/4)*8;case gv:case mv:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function BV(i){switch(i){case wa:case JM:return{byteLength:1,components:1};case Df:case ZM:case Qf:return{byteLength:2,components:1};case zb:case Vb:return{byteLength:2,components:4};case V0:case Gb:case Ba:return{byteLength:4,components:1};case $M:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:wb}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=wb);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function K8(){let i=null,e=!1,t=null,n=null;function r(s,a){t(s,a),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){i=s}}}function SV(i){const e=new WeakMap;function t(o,l){const c=o.array,x=o.usage,u=c.byteLength,h=i.createBuffer();i.bindBuffer(l,h),i.bufferData(l,c,x),o.onUploadCallback();let f;if(c instanceof Float32Array)f=i.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?f=i.HALF_FLOAT:f=i.UNSIGNED_SHORT;else if(c instanceof Int16Array)f=i.SHORT;else if(c instanceof Uint32Array)f=i.UNSIGNED_INT;else if(c instanceof Int32Array)f=i.INT;else if(c instanceof Int8Array)f=i.BYTE;else if(c instanceof Uint8Array)f=i.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)f=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:f,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:u}}function n(o,l,c){const x=l.array,u=l.updateRanges;if(i.bindBuffer(c,o),u.length===0)i.bufferSubData(c,0,x);else{u.sort((f,A)=>f.start-A.start);let h=0;for(let f=1;f<u.length;f++){const A=u[h],g=u[f];g.start<=A.start+A.count+1?A.count=Math.max(A.count,g.start+g.count-A.start):(++h,u[h]=g)}u.length=h+1;for(let f=0,A=u.length;f<A;f++){const g=u[f];i.bufferSubData(c,g.start*x.BYTES_PER_ELEMENT,x,g.start,g.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(i.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const x=e.get(o);(!x||x.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(c.buffer,o,l),c.version=o.version}}return{get:r,remove:s,update:a}}var MV=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,RV=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,TV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,DV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,QV=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,FV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,LV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,PV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,kV=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,UV=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,NV=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,OV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,GV=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,zV=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,VV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,HV=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,qV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,YV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,XV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,WV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,jV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,KV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,JV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,ZV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,$V=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,eH=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,tH=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,nH=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,iH=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,rH=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,sH="gl_FragColor = linearToOutputTexel( gl_FragColor );",aH=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,oH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,cH=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,lH=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,xH=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,uH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,hH=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fH=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,AH=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,dH=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,pH=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,gH=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,mH=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,_H=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,IH=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,EH=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,yH=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,CH=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,bH=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,vH=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,wH=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,BH=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,SH=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,MH=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,RH=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,TH=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,DH=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,QH=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,FH=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,LH=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,PH=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,kH=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,UH=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,NH=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,OH=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,GH=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,zH=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,VH=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,HH=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,qH=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,YH=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,XH=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,WH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,jH=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,KH=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,JH=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,ZH=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,$H=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,eq=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,tq=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,nq=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,iq=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,rq=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,sq=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,aq=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,oq=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,cq=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,lq=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,xq=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,uq=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,hq=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,fq=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Aq=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,dq=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,pq=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,gq=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,mq=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,_q=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Iq=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Eq=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,yq=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Cq=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,bq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,wq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Bq=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const xt={alphahash_fragment:MV,alphahash_pars_fragment:RV,alphamap_fragment:TV,alphamap_pars_fragment:DV,alphatest_fragment:QV,alphatest_pars_fragment:FV,aomap_fragment:LV,aomap_pars_fragment:PV,batching_pars_vertex:kV,batching_vertex:UV,begin_vertex:NV,beginnormal_vertex:OV,bsdfs:GV,iridescence_fragment:zV,bumpmap_pars_fragment:VV,clipping_planes_fragment:HV,clipping_planes_pars_fragment:qV,clipping_planes_pars_vertex:YV,clipping_planes_vertex:XV,color_fragment:WV,color_pars_fragment:jV,color_pars_vertex:KV,color_vertex:JV,common:ZV,cube_uv_reflection_fragment:$V,defaultnormal_vertex:eH,displacementmap_pars_vertex:tH,displacementmap_vertex:nH,emissivemap_fragment:iH,emissivemap_pars_fragment:rH,colorspace_fragment:sH,colorspace_pars_fragment:aH,envmap_fragment:oH,envmap_common_pars_fragment:cH,envmap_pars_fragment:lH,envmap_pars_vertex:xH,envmap_physical_pars_fragment:EH,envmap_vertex:uH,fog_vertex:hH,fog_pars_vertex:fH,fog_fragment:AH,fog_pars_fragment:dH,gradientmap_pars_fragment:pH,lightmap_pars_fragment:gH,lights_lambert_fragment:mH,lights_lambert_pars_fragment:_H,lights_pars_begin:IH,lights_toon_fragment:yH,lights_toon_pars_fragment:CH,lights_phong_fragment:bH,lights_phong_pars_fragment:vH,lights_physical_fragment:wH,lights_physical_pars_fragment:BH,lights_fragment_begin:SH,lights_fragment_maps:MH,lights_fragment_end:RH,logdepthbuf_fragment:TH,logdepthbuf_pars_fragment:DH,logdepthbuf_pars_vertex:QH,logdepthbuf_vertex:FH,map_fragment:LH,map_pars_fragment:PH,map_particle_fragment:kH,map_particle_pars_fragment:UH,metalnessmap_fragment:NH,metalnessmap_pars_fragment:OH,morphinstance_vertex:GH,morphcolor_vertex:zH,morphnormal_vertex:VH,morphtarget_pars_vertex:HH,morphtarget_vertex:qH,normal_fragment_begin:YH,normal_fragment_maps:XH,normal_pars_fragment:WH,normal_pars_vertex:jH,normal_vertex:KH,normalmap_pars_fragment:JH,clearcoat_normal_fragment_begin:ZH,clearcoat_normal_fragment_maps:$H,clearcoat_pars_fragment:eq,iridescence_pars_fragment:tq,opaque_fragment:nq,packing:iq,premultiplied_alpha_fragment:rq,project_vertex:sq,dithering_fragment:aq,dithering_pars_fragment:oq,roughnessmap_fragment:cq,roughnessmap_pars_fragment:lq,shadowmap_pars_fragment:xq,shadowmap_pars_vertex:uq,shadowmap_vertex:hq,shadowmask_pars_fragment:fq,skinbase_vertex:Aq,skinning_pars_vertex:dq,skinning_vertex:pq,skinnormal_vertex:gq,specularmap_fragment:mq,specularmap_pars_fragment:_q,tonemapping_fragment:Iq,tonemapping_pars_fragment:Eq,transmission_fragment:yq,transmission_pars_fragment:Cq,uv_pars_fragment:bq,uv_pars_vertex:vq,uv_vertex:wq,worldpos_vertex:Bq,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,depth_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`},Ce={common:{diffuse:{value:new Rt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new at},alphaMap:{value:null},alphaMapTransform:{value:new at},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new at}},envmap:{envMap:{value:null},envMapRotation:{value:new at},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new at}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new at}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new at},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new at},normalScale:{value:new It(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new at},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new at}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new at}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new at}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Rt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new at},alphaTest:{value:0},uvTransform:{value:new at}},sprite:{diffuse:{value:new Rt(16777215)},opacity:{value:1},center:{value:new It(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new at},alphaMap:{value:null},alphaMapTransform:{value:new at},alphaTest:{value:0}}},nr={basic:{uniforms:Fi([Ce.common,Ce.specularmap,Ce.envmap,Ce.aomap,Ce.lightmap,Ce.fog]),vertexShader:xt.meshbasic_vert,fragmentShader:xt.meshbasic_frag},lambert:{uniforms:Fi([Ce.common,Ce.specularmap,Ce.envmap,Ce.aomap,Ce.lightmap,Ce.emissivemap,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.fog,Ce.lights,{emissive:{value:new Rt(0)}}]),vertexShader:xt.meshlambert_vert,fragmentShader:xt.meshlambert_frag},phong:{uniforms:Fi([Ce.common,Ce.specularmap,Ce.envmap,Ce.aomap,Ce.lightmap,Ce.emissivemap,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.fog,Ce.lights,{emissive:{value:new Rt(0)},specular:{value:new Rt(1118481)},shininess:{value:30}}]),vertexShader:xt.meshphong_vert,fragmentShader:xt.meshphong_frag},standard:{uniforms:Fi([Ce.common,Ce.envmap,Ce.aomap,Ce.lightmap,Ce.emissivemap,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.roughnessmap,Ce.metalnessmap,Ce.fog,Ce.lights,{emissive:{value:new Rt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag},toon:{uniforms:Fi([Ce.common,Ce.aomap,Ce.lightmap,Ce.emissivemap,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.gradientmap,Ce.fog,Ce.lights,{emissive:{value:new Rt(0)}}]),vertexShader:xt.meshtoon_vert,fragmentShader:xt.meshtoon_frag},matcap:{uniforms:Fi([Ce.common,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,Ce.fog,{matcap:{value:null}}]),vertexShader:xt.meshmatcap_vert,fragmentShader:xt.meshmatcap_frag},points:{uniforms:Fi([Ce.points,Ce.fog]),vertexShader:xt.points_vert,fragmentShader:xt.points_frag},dashed:{uniforms:Fi([Ce.common,Ce.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xt.linedashed_vert,fragmentShader:xt.linedashed_frag},depth:{uniforms:Fi([Ce.common,Ce.displacementmap]),vertexShader:xt.depth_vert,fragmentShader:xt.depth_frag},normal:{uniforms:Fi([Ce.common,Ce.bumpmap,Ce.normalmap,Ce.displacementmap,{opacity:{value:1}}]),vertexShader:xt.meshnormal_vert,fragmentShader:xt.meshnormal_frag},sprite:{uniforms:Fi([Ce.sprite,Ce.fog]),vertexShader:xt.sprite_vert,fragmentShader:xt.sprite_frag},background:{uniforms:{uvTransform:{value:new at},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xt.background_vert,fragmentShader:xt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new at}},vertexShader:xt.backgroundCube_vert,fragmentShader:xt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xt.cube_vert,fragmentShader:xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xt.equirect_vert,fragmentShader:xt.equirect_frag},distanceRGBA:{uniforms:Fi([Ce.common,Ce.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xt.distanceRGBA_vert,fragmentShader:xt.distanceRGBA_frag},shadow:{uniforms:Fi([Ce.lights,Ce.fog,{color:{value:new Rt(0)},opacity:{value:1}}]),vertexShader:xt.shadow_vert,fragmentShader:xt.shadow_frag}};nr.physical={uniforms:Fi([nr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new at},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new at},clearcoatNormalScale:{value:new It(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new at},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new at},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new at},sheen:{value:0},sheenColor:{value:new Rt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new at},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new at},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new at},transmissionSamplerSize:{value:new It},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new at},attenuationDistance:{value:0},attenuationColor:{value:new Rt(0)},specularColor:{value:new Rt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new at},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new at},anisotropyVector:{value:new It},anisotropyMap:{value:null},anisotropyMapTransform:{value:new at}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag};const M_={r:0,b:0,g:0},J0=new Qa,Sq=new mn;function Mq(i,e,t,n,r,s,a){const o=new Rt(0);let l=s===!0?0:1,c,x,u=null,h=0,f=null;function A(I){let m=I.isScene===!0?I.background:null;return m&&m.isTexture&&(m=(I.backgroundBlurriness>0?t:e).get(m)),m}function g(I){let m=!1;const y=A(I);y===null?p(o,l):y&&y.isColor&&(p(y,1),m=!0);const E=i.xr.getEnvironmentBlendMode();E==="additive"?n.buffers.color.setClear(0,0,0,1,a):E==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,a),(i.autoClear||m)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function d(I,m){const y=A(m);y&&(y.isCubeTexture||y.mapping===J2)?(x===void 0&&(x=new ks(new Vf(1,1,1),new ka({name:"BackgroundCubeMaterial",uniforms:yx(nr.backgroundCube.uniforms),vertexShader:nr.backgroundCube.vertexShader,fragmentShader:nr.backgroundCube.fragmentShader,side:er,depthTest:!1,depthWrite:!1,fog:!1})),x.geometry.deleteAttribute("normal"),x.geometry.deleteAttribute("uv"),x.onBeforeRender=function(E,C,v){this.matrixWorld.copyPosition(v.matrixWorld)},Object.defineProperty(x.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(x)),J0.copy(m.backgroundRotation),J0.x*=-1,J0.y*=-1,J0.z*=-1,y.isCubeTexture&&y.isRenderTargetTexture===!1&&(J0.y*=-1,J0.z*=-1),x.material.uniforms.envMap.value=y,x.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,x.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,x.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,x.material.uniforms.backgroundRotation.value.setFromMatrix4(Sq.makeRotationFromEuler(J0)),x.material.toneMapped=Mt.getTransfer(y.colorSpace)!==$t,(u!==y||h!==y.version||f!==i.toneMapping)&&(x.material.needsUpdate=!0,u=y,h=y.version,f=i.toneMapping),x.layers.enableAll(),I.unshift(x,x.geometry,x.material,0,0,null)):y&&y.isTexture&&(c===void 0&&(c=new ks(new B_(2,2),new ka({name:"BackgroundMaterial",uniforms:yx(nr.background.uniforms),vertexShader:nr.background.vertexShader,fragmentShader:nr.background.fragmentShader,side:Fo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=y,c.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,c.material.toneMapped=Mt.getTransfer(y.colorSpace)!==$t,y.matrixAutoUpdate===!0&&y.updateMatrix(),c.material.uniforms.uvTransform.value.copy(y.matrix),(u!==y||h!==y.version||f!==i.toneMapping)&&(c.material.needsUpdate=!0,u=y,h=y.version,f=i.toneMapping),c.layers.enableAll(),I.unshift(c,c.geometry,c.material,0,0,null))}function p(I,m){I.getRGB(M_,F8(i)),n.buffers.color.setClear(M_.r,M_.g,M_.b,m,a)}function _(){x!==void 0&&(x.geometry.dispose(),x.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return o},setClearColor:function(I,m=1){o.set(I),l=m,p(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(I){l=I,p(o,l)},render:g,addToRenderList:d,dispose:_}}function Rq(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=h(null);let s=r,a=!1;function o(w,B,R,Q,F){let M=!1;const T=u(Q,R,B);s!==T&&(s=T,c(s.object)),M=f(w,Q,R,F),M&&A(w,Q,R,F),F!==null&&e.update(F,i.ELEMENT_ARRAY_BUFFER),(M||a)&&(a=!1,m(w,B,R,Q),F!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(F).buffer))}function l(){return i.createVertexArray()}function c(w){return i.bindVertexArray(w)}function x(w){return i.deleteVertexArray(w)}function u(w,B,R){const Q=R.wireframe===!0;let F=n[w.id];F===void 0&&(F={},n[w.id]=F);let M=F[B.id];M===void 0&&(M={},F[B.id]=M);let T=M[Q];return T===void 0&&(T=h(l()),M[Q]=T),T}function h(w){const B=[],R=[],Q=[];for(let F=0;F<t;F++)B[F]=0,R[F]=0,Q[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:R,attributeDivisors:Q,object:w,attributes:{},index:null}}function f(w,B,R,Q){const F=s.attributes,M=B.attributes;let T=0;const P=R.getAttributes();for(const k in P)if(P[k].location>=0){const Y=F[k];let U=M[k];if(U===void 0&&(k==="instanceMatrix"&&w.instanceMatrix&&(U=w.instanceMatrix),k==="instanceColor"&&w.instanceColor&&(U=w.instanceColor)),Y===void 0||Y.attribute!==U||U&&Y.data!==U.data)return!0;T++}return s.attributesNum!==T||s.index!==Q}function A(w,B,R,Q){const F={},M=B.attributes;let T=0;const P=R.getAttributes();for(const k in P)if(P[k].location>=0){let Y=M[k];Y===void 0&&(k==="instanceMatrix"&&w.instanceMatrix&&(Y=w.instanceMatrix),k==="instanceColor"&&w.instanceColor&&(Y=w.instanceColor));const U={};U.attribute=Y,Y&&Y.data&&(U.data=Y.data),F[k]=U,T++}s.attributes=F,s.attributesNum=T,s.index=Q}function g(){const w=s.newAttributes;for(let B=0,R=w.length;B<R;B++)w[B]=0}function d(w){p(w,0)}function p(w,B){const R=s.newAttributes,Q=s.enabledAttributes,F=s.attributeDivisors;R[w]=1,Q[w]===0&&(i.enableVertexAttribArray(w),Q[w]=1),F[w]!==B&&(i.vertexAttribDivisor(w,B),F[w]=B)}function _(){const w=s.newAttributes,B=s.enabledAttributes;for(let R=0,Q=B.length;R<Q;R++)B[R]!==w[R]&&(i.disableVertexAttribArray(R),B[R]=0)}function I(w,B,R,Q,F,M,T){T===!0?i.vertexAttribIPointer(w,B,R,F,M):i.vertexAttribPointer(w,B,R,Q,F,M)}function m(w,B,R,Q){g();const F=Q.attributes,M=R.getAttributes(),T=B.defaultAttributeValues;for(const P in M){const k=M[P];if(k.location>=0){let V=F[P];if(V===void 0&&(P==="instanceMatrix"&&w.instanceMatrix&&(V=w.instanceMatrix),P==="instanceColor"&&w.instanceColor&&(V=w.instanceColor)),V!==void 0){const Y=V.normalized,U=V.itemSize,te=e.get(V);if(te===void 0)continue;const xe=te.buffer,G=te.type,O=te.bytesPerElement,ee=G===i.INT||G===i.UNSIGNED_INT||V.gpuType===Gb;if(V.isInterleavedBufferAttribute){const K=V.data,ce=K.stride,Ae=V.offset;if(K.isInstancedInterleavedBuffer){for(let ge=0;ge<k.locationSize;ge++)p(k.location+ge,K.meshPerAttribute);w.isInstancedMesh!==!0&&Q._maxInstanceCount===void 0&&(Q._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let ge=0;ge<k.locationSize;ge++)d(k.location+ge);i.bindBuffer(i.ARRAY_BUFFER,xe);for(let ge=0;ge<k.locationSize;ge++)I(k.location+ge,U/k.locationSize,G,Y,ce*O,(Ae+U/k.locationSize*ge)*O,ee)}else{if(V.isInstancedBufferAttribute){for(let K=0;K<k.locationSize;K++)p(k.location+K,V.meshPerAttribute);w.isInstancedMesh!==!0&&Q._maxInstanceCount===void 0&&(Q._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let K=0;K<k.locationSize;K++)d(k.location+K);i.bindBuffer(i.ARRAY_BUFFER,xe);for(let K=0;K<k.locationSize;K++)I(k.location+K,U/k.locationSize,G,Y,U*O,U/k.locationSize*K*O,ee)}}else if(T!==void 0){const Y=T[P];if(Y!==void 0)switch(Y.length){case 2:i.vertexAttrib2fv(k.location,Y);break;case 3:i.vertexAttrib3fv(k.location,Y);break;case 4:i.vertexAttrib4fv(k.location,Y);break;default:i.vertexAttrib1fv(k.location,Y)}}}}_()}function y(){v();for(const w in n){const B=n[w];for(const R in B){const Q=B[R];for(const F in Q)x(Q[F].object),delete Q[F];delete B[R]}delete n[w]}}function E(w){if(n[w.id]===void 0)return;const B=n[w.id];for(const R in B){const Q=B[R];for(const F in Q)x(Q[F].object),delete Q[F];delete B[R]}delete n[w.id]}function C(w){for(const B in n){const R=n[B];if(R[w.id]===void 0)continue;const Q=R[w.id];for(const F in Q)x(Q[F].object),delete Q[F];delete R[w.id]}}function v(){b(),a=!0,s!==r&&(s=r,c(s.object))}function b(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:v,resetDefaultState:b,dispose:y,releaseStatesOfGeometry:E,releaseStatesOfProgram:C,initAttributes:g,enableAttribute:d,disableUnusedAttributes:_}}function Tq(i,e,t){let n;function r(c){n=c}function s(c,x){i.drawArrays(n,c,x),t.update(x,n,1)}function a(c,x,u){u!==0&&(i.drawArraysInstanced(n,c,x,u),t.update(x,n,u))}function o(c,x,u){if(u===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,c,0,x,0,u);let f=0;for(let A=0;A<u;A++)f+=x[A];t.update(f,n,1)}function l(c,x,u,h){if(u===0)return;const f=e.get("WEBGL_multi_draw");if(f===null)for(let A=0;A<c.length;A++)a(c[A],x[A],h[A]);else{f.multiDrawArraysInstancedWEBGL(n,c,0,x,0,h,0,u);let A=0;for(let g=0;g<u;g++)A+=x[g]*h[g];t.update(A,n,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function Dq(i,e,t,n){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");r=i.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(C){return!(C!==ss&&n.convert(C)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(C){const v=C===Qf&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(C!==wa&&n.convert(C)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&C!==Ba&&!v)}function l(C){if(C==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const x=l(c);x!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",x,"instead."),c=x);const u=t.logarithmicDepthBuffer===!0,h=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),f=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),A=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=i.getParameter(i.MAX_TEXTURE_SIZE),d=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),p=i.getParameter(i.MAX_VERTEX_ATTRIBS),_=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),I=i.getParameter(i.MAX_VARYING_VECTORS),m=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),y=A>0,E=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:u,reverseDepthBuffer:h,maxTextures:f,maxVertexTextures:A,maxTextureSize:g,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:_,maxVaryings:I,maxFragmentUniforms:m,vertexTextures:y,maxSamples:E}}function Qq(i){const e=this;let t=null,n=0,r=!1,s=!1;const a=new W0,o=new at,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,h){const f=u.length!==0||h||n!==0||r;return r=h,n=u.length,f},this.beginShadows=function(){s=!0,x(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(u,h){t=x(u,h,0)},this.setState=function(u,h,f){const A=u.clippingPlanes,g=u.clipIntersection,d=u.clipShadows,p=i.get(u);if(!r||A===null||A.length===0||s&&!d)s?x(null):c();else{const _=s?0:n,I=_*4;let m=p.clippingState||null;l.value=m,m=x(A,h,I,f);for(let y=0;y!==I;++y)m[y]=t[y];p.clippingState=m,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function x(u,h,f,A){const g=u!==null?u.length:0;let d=null;if(g!==0){if(d=l.value,A!==!0||d===null){const p=f+g*4,_=h.matrixWorldInverse;o.getNormalMatrix(_),(d===null||d.length<p)&&(d=new Float32Array(p));for(let I=0,m=f;I!==g;++I,m+=4)a.copy(u[I]).applyMatrix4(_,o),a.normal.toArray(d,m),d[m+3]=a.constant}l.value=d,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,d}}function Fq(i){let e=new WeakMap;function t(a,o){return o===Pb?a.mapping=tx:o===kb&&(a.mapping=nx),a}function n(a){if(a&&a.isTexture){const o=a.mapping;if(o===Pb||o===kb)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new dV(l.height);return c.fromEquirectangularTexture(i,a),e.set(a,c),a.addEventListener("dispose",r),t(c.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}const Mx=4,J8=[.125,.215,.35,.446,.526,.582],Z0=20,Hv=new X8,Z8=new Rt;let qv=null,Yv=0,Xv=0,Wv=!1;const $0=(1+Math.sqrt(5))/2,Rx=1/$0,$8=[new W(-$0,Rx,0),new W($0,Rx,0),new W(-Rx,0,$0),new W(Rx,0,$0),new W(0,$0,-Rx),new W(0,$0,Rx),new W(-1,1,-1),new W(1,1,-1),new W(-1,1,1),new W(1,1,1)];class eR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){qv=this._renderer.getRenderTarget(),Yv=this._renderer.getActiveCubeFace(),Xv=this._renderer.getActiveMipmapLevel(),Wv=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=iR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=nR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(qv,Yv,Xv),this._renderer.xr.enabled=Wv,e.scissorTest=!1,R_(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===tx||e.mapping===nx?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),qv=this._renderer.getRenderTarget(),Yv=this._renderer.getActiveCubeFace(),Xv=this._renderer.getActiveMipmapLevel(),Wv=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Fs,minFilter:Fs,generateMipmaps:!1,type:Qf,format:ss,colorSpace:ax,depthBuffer:!1},r=tR(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=tR(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Lq(s)),this._blurMaterial=Pq(s,e,t)}return r}_compileMaterial(e){const t=new ks(this._lodPlanes[0],e);this._renderer.compile(t,Hv)}_sceneToCubeUV(e,t,n,r){const o=new us(90,1,t,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],x=this._renderer,u=x.autoClear,h=x.toneMapping;x.getClearColor(Z8),x.toneMapping=Po,x.autoClear=!1;const f=new S8({name:"PMREM.Background",side:er,depthWrite:!1,depthTest:!1}),A=new ks(new Vf,f);let g=!1;const d=e.background;d?d.isColor&&(f.color.copy(d),e.background=null,g=!0):(f.color.copy(Z8),g=!0);for(let p=0;p<6;p++){const _=p%3;_===0?(o.up.set(0,l[p],0),o.lookAt(c[p],0,0)):_===1?(o.up.set(0,0,l[p]),o.lookAt(0,c[p],0)):(o.up.set(0,l[p],0),o.lookAt(0,0,c[p]));const I=this._cubeSize;R_(r,_*I,p>2?I:0,I,I),x.setRenderTarget(r),g&&x.render(A,o),x.render(e,o)}A.geometry.dispose(),A.material.dispose(),x.toneMapping=h,x.autoClear=u,e.background=d}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===tx||e.mapping===nx;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=iR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=nR());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new ks(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;R_(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(a,Hv)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=$8[(r-s-1)%$8.length];this._blur(e,s-1,s,a,o)}t.autoClear=n}_blur(e,t,n,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",s),this._halfBlur(a,e,n,n,r,"longitudinal",s)}_halfBlur(e,t,n,r,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const x=3,u=new ks(this._lodPlanes[r],c),h=c.uniforms,f=this._sizeLods[n]-1,A=isFinite(s)?Math.PI/(2*f):2*Math.PI/(2*Z0-1),g=s/A,d=isFinite(s)?1+Math.floor(x*g):Z0;d>Z0&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${d} samples when the maximum is set to ${Z0}`);const p=[];let _=0;for(let C=0;C<Z0;++C){const v=C/g,b=Math.exp(-v*v/2);p.push(b),C===0?_+=b:C<d&&(_+=2*b)}for(let C=0;C<p.length;C++)p[C]=p[C]/_;h.envMap.value=e.texture,h.samples.value=d,h.weights.value=p,h.latitudinal.value=a==="latitudinal",o&&(h.poleAxis.value=o);const{_lodMax:I}=this;h.dTheta.value=A,h.mipInt.value=I-n;const m=this._sizeLods[r],y=3*m*(r>I-Mx?r-I+Mx:0),E=4*(this._cubeSize-m);R_(t,y,E,3*m,2*m),l.setRenderTarget(t),l.render(u,Hv)}}function Lq(i){const e=[],t=[],n=[];let r=i;const s=i-Mx+1+J8.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let l=1/o;a>i-Mx?l=J8[a-i+Mx-1]:a===0&&(l=0),n.push(l);const c=1/(o-2),x=-c,u=1+c,h=[x,x,u,x,u,u,x,x,u,u,x,u],f=6,A=6,g=3,d=2,p=1,_=new Float32Array(g*A*f),I=new Float32Array(d*A*f),m=new Float32Array(p*A*f);for(let E=0;E<f;E++){const C=E%3*2/3-1,v=E>2?0:-1,b=[C,v,0,C+2/3,v,0,C+2/3,v+1,0,C,v,0,C+2/3,v+1,0,C,v+1,0];_.set(b,g*A*E),I.set(h,d*A*E);const w=[E,E,E,E,E,E];m.set(w,p*A*E)}const y=new Ps;y.setAttribute("position",new xs(_,g)),y.setAttribute("uv",new xs(I,d)),y.setAttribute("faceIndex",new xs(m,p)),e.push(y),r>Mx&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function tR(i,e,t){const n=new H0(i,e,t);return n.texture.mapping=J2,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function R_(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function Pq(i,e,t){const n=new Float32Array(Z0),r=new W(0,1,0);return new ka({name:"SphericalGaussianBlur",defines:{n:Z0,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:jv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Lo,depthTest:!1,depthWrite:!1})}function nR(){return new ka({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:jv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Lo,depthTest:!1,depthWrite:!1})}function iR(){return new ka({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:jv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Lo,depthTest:!1,depthWrite:!1})}function jv(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function kq(i){let e=new WeakMap,t=null;function n(o){if(o&&o.isTexture){const l=o.mapping,c=l===Pb||l===kb,x=l===tx||l===nx;if(c||x){let u=e.get(o);const h=u!==void 0?u.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==h)return t===null&&(t=new eR(i)),u=c?t.fromEquirectangular(o,u):t.fromCubemap(o,u),u.texture.pmremVersion=o.pmremVersion,e.set(o,u),u.texture;if(u!==void 0)return u.texture;{const f=o.image;return c&&f&&f.height>0||x&&f&&r(f)?(t===null&&(t=new eR(i)),u=c?t.fromEquirectangular(o):t.fromCubemap(o),u.texture.pmremVersion=o.pmremVersion,e.set(o,u),o.addEventListener("dispose",s),u.texture):null}}}return o}function r(o){let l=0;const c=6;for(let x=0;x<c;x++)o[x]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:a}}function Uq(i){const e={};function t(n){if(e[n]!==void 0)return e[n];let r;switch(n){case"WEBGL_depth_texture":r=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=i.getExtension(n)}return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const r=t(n);return r===null&&lx("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function Nq(i,e,t,n){const r={},s=new WeakMap;function a(u){const h=u.target;h.index!==null&&e.remove(h.index);for(const A in h.attributes)e.remove(h.attributes[A]);h.removeEventListener("dispose",a),delete r[h.id];const f=s.get(h);f&&(e.remove(f),s.delete(h)),n.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function o(u,h){return r[h.id]===!0||(h.addEventListener("dispose",a),r[h.id]=!0,t.memory.geometries++),h}function l(u){const h=u.attributes;for(const f in h)e.update(h[f],i.ARRAY_BUFFER)}function c(u){const h=[],f=u.index,A=u.attributes.position;let g=0;if(f!==null){const _=f.array;g=f.version;for(let I=0,m=_.length;I<m;I+=3){const y=_[I+0],E=_[I+1],C=_[I+2];h.push(y,E,E,C,C,y)}}else if(A!==void 0){const _=A.array;g=A.version;for(let I=0,m=_.length/3-1;I<m;I+=3){const y=I+0,E=I+1,C=I+2;h.push(y,E,E,C,C,y)}}else return;const d=new(u8(h)?R8:M8)(h,1);d.version=g;const p=s.get(u);p&&e.remove(p),s.set(u,d)}function x(u){const h=s.get(u);if(h){const f=u.index;f!==null&&h.version<f.version&&c(u)}else c(u);return s.get(u)}return{get:o,update:l,getWireframeAttribute:x}}function Oq(i,e,t){let n;function r(h){n=h}let s,a;function o(h){s=h.type,a=h.bytesPerElement}function l(h,f){i.drawElements(n,f,s,h*a),t.update(f,n,1)}function c(h,f,A){A!==0&&(i.drawElementsInstanced(n,f,s,h*a,A),t.update(f,n,A))}function x(h,f,A){if(A===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,f,0,s,h,0,A);let d=0;for(let p=0;p<A;p++)d+=f[p];t.update(d,n,1)}function u(h,f,A,g){if(A===0)return;const d=e.get("WEBGL_multi_draw");if(d===null)for(let p=0;p<h.length;p++)c(h[p]/a,f[p],g[p]);else{d.multiDrawElementsInstancedWEBGL(n,f,0,s,h,0,g,0,A);let p=0;for(let _=0;_<A;_++)p+=f[_]*g[_];t.update(p,n,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=x,this.renderMultiDrawInstances=u}function Gq(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,a,o){switch(t.calls++,a){case i.TRIANGLES:t.triangles+=o*(s/3);break;case i.LINES:t.lines+=o*(s/2);break;case i.LINE_STRIP:t.lines+=o*(s-1);break;case i.LINE_LOOP:t.lines+=o*s;break;case i.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function zq(i,e,t){const n=new WeakMap,r=new cn;function s(a,o,l){const c=a.morphTargetInfluences,x=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,u=x!==void 0?x.length:0;let h=n.get(o);if(h===void 0||h.count!==u){let b=function(){C.dispose(),n.delete(o),o.removeEventListener("dispose",b)};h!==void 0&&h.texture.dispose();const f=o.morphAttributes.position!==void 0,A=o.morphAttributes.normal!==void 0,g=o.morphAttributes.color!==void 0,d=o.morphAttributes.position||[],p=o.morphAttributes.normal||[],_=o.morphAttributes.color||[];let I=0;f===!0&&(I=1),A===!0&&(I=2),g===!0&&(I=3);let m=o.attributes.position.count*I,y=1;m>e.maxTextureSize&&(y=Math.ceil(m/e.maxTextureSize),m=e.maxTextureSize);const E=new Float32Array(m*y*4*u),C=new p8(E,m,y,u);C.type=Ba,C.needsUpdate=!0;const v=I*4;for(let w=0;w<u;w++){const B=d[w],R=p[w],Q=_[w],F=m*y*4*w;for(let M=0;M<B.count;M++){const T=M*v;f===!0&&(r.fromBufferAttribute(B,M),E[F+T+0]=r.x,E[F+T+1]=r.y,E[F+T+2]=r.z,E[F+T+3]=0),A===!0&&(r.fromBufferAttribute(R,M),E[F+T+4]=r.x,E[F+T+5]=r.y,E[F+T+6]=r.z,E[F+T+7]=0),g===!0&&(r.fromBufferAttribute(Q,M),E[F+T+8]=r.x,E[F+T+9]=r.y,E[F+T+10]=r.z,E[F+T+11]=Q.itemSize===4?r.w:1)}}h={count:u,texture:C,size:new It(m,y)},n.set(o,h),o.addEventListener("dispose",b)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(i,"morphTexture",a.morphTexture,t);else{let f=0;for(let g=0;g<c.length;g++)f+=c[g];const A=o.morphTargetsRelative?1:1-f;l.getUniforms().setValue(i,"morphTargetBaseInfluence",A),l.getUniforms().setValue(i,"morphTargetInfluences",c)}l.getUniforms().setValue(i,"morphTargetsTexture",h.texture,t),l.getUniforms().setValue(i,"morphTargetsTextureSize",h.size)}return{update:s}}function Vq(i,e,t,n){let r=new WeakMap;function s(l){const c=n.render.frame,x=l.geometry,u=e.get(l,x);if(r.get(u)!==c&&(e.update(u),r.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==c&&(t.update(l.instanceMatrix,i.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,i.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==c&&(h.update(),r.set(h,c))}return u}function a(){r=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:a}}const rR=new Qi,sR=new q8(1,1),aR=new p8,oR=new $z,cR=new U8,lR=[],xR=[],uR=new Float32Array(16),hR=new Float32Array(9),fR=new Float32Array(4);function Tx(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let s=lR[r];if(s===void 0&&(s=new Float32Array(r),lR[r]=s),e!==0){n.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,i[a].toArray(s,o)}return s}function jn(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function Kn(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function T_(i,e){let t=xR[e];t===void 0&&(t=new Int32Array(e),xR[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function Hq(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function qq(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(jn(t,e))return;i.uniform2fv(this.addr,e),Kn(t,e)}}function Yq(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(jn(t,e))return;i.uniform3fv(this.addr,e),Kn(t,e)}}function Xq(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(jn(t,e))return;i.uniform4fv(this.addr,e),Kn(t,e)}}function Wq(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(jn(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),Kn(t,e)}else{if(jn(t,n))return;fR.set(n),i.uniformMatrix2fv(this.addr,!1,fR),Kn(t,n)}}function jq(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(jn(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),Kn(t,e)}else{if(jn(t,n))return;hR.set(n),i.uniformMatrix3fv(this.addr,!1,hR),Kn(t,n)}}function Kq(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(jn(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),Kn(t,e)}else{if(jn(t,n))return;uR.set(n),i.uniformMatrix4fv(this.addr,!1,uR),Kn(t,n)}}function Jq(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function Zq(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(jn(t,e))return;i.uniform2iv(this.addr,e),Kn(t,e)}}function $q(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(jn(t,e))return;i.uniform3iv(this.addr,e),Kn(t,e)}}function eY(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(jn(t,e))return;i.uniform4iv(this.addr,e),Kn(t,e)}}function tY(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function nY(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(jn(t,e))return;i.uniform2uiv(this.addr,e),Kn(t,e)}}function iY(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(jn(t,e))return;i.uniform3uiv(this.addr,e),Kn(t,e)}}function rY(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(jn(t,e))return;i.uniform4uiv(this.addr,e),Kn(t,e)}}function sY(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let s;this.type===i.SAMPLER_2D_SHADOW?(sR.compareFunction=c8,s=sR):s=rR,t.setTexture2D(e||s,r)}function aY(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||oR,r)}function oY(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||cR,r)}function cY(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||aR,r)}function lY(i){switch(i){case 5126:return Hq;case 35664:return qq;case 35665:return Yq;case 35666:return Xq;case 35674:return Wq;case 35675:return jq;case 35676:return Kq;case 5124:case 35670:return Jq;case 35667:case 35671:return Zq;case 35668:case 35672:return $q;case 35669:case 35673:return eY;case 5125:return tY;case 36294:return nY;case 36295:return iY;case 36296:return rY;case 35678:case 36198:case 36298:case 36306:case 35682:return sY;case 35679:case 36299:case 36307:return aY;case 35680:case 36300:case 36308:case 36293:return oY;case 36289:case 36303:case 36311:case 36292:return cY}}function xY(i,e){i.uniform1fv(this.addr,e)}function uY(i,e){const t=Tx(e,this.size,2);i.uniform2fv(this.addr,t)}function hY(i,e){const t=Tx(e,this.size,3);i.uniform3fv(this.addr,t)}function fY(i,e){const t=Tx(e,this.size,4);i.uniform4fv(this.addr,t)}function AY(i,e){const t=Tx(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function dY(i,e){const t=Tx(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function pY(i,e){const t=Tx(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function gY(i,e){i.uniform1iv(this.addr,e)}function mY(i,e){i.uniform2iv(this.addr,e)}function _Y(i,e){i.uniform3iv(this.addr,e)}function IY(i,e){i.uniform4iv(this.addr,e)}function EY(i,e){i.uniform1uiv(this.addr,e)}function yY(i,e){i.uniform2uiv(this.addr,e)}function CY(i,e){i.uniform3uiv(this.addr,e)}function bY(i,e){i.uniform4uiv(this.addr,e)}function vY(i,e,t){const n=this.cache,r=e.length,s=T_(t,r);jn(n,s)||(i.uniform1iv(this.addr,s),Kn(n,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||rR,s[a])}function wY(i,e,t){const n=this.cache,r=e.length,s=T_(t,r);jn(n,s)||(i.uniform1iv(this.addr,s),Kn(n,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||oR,s[a])}function BY(i,e,t){const n=this.cache,r=e.length,s=T_(t,r);jn(n,s)||(i.uniform1iv(this.addr,s),Kn(n,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||cR,s[a])}function SY(i,e,t){const n=this.cache,r=e.length,s=T_(t,r);jn(n,s)||(i.uniform1iv(this.addr,s),Kn(n,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||aR,s[a])}function MY(i){switch(i){case 5126:return xY;case 35664:return uY;case 35665:return hY;case 35666:return fY;case 35674:return AY;case 35675:return dY;case 35676:return pY;case 5124:case 35670:return gY;case 35667:case 35671:return mY;case 35668:case 35672:return _Y;case 35669:case 35673:return IY;case 5125:return EY;case 36294:return yY;case 36295:return CY;case 36296:return bY;case 35678:case 36198:case 36298:case 36306:case 35682:return vY;case 35679:case 36299:case 36307:return wY;case 35680:case 36300:case 36308:case 36293:return BY;case 36289:case 36303:case 36311:case 36292:return SY}}class RY{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=lY(t.type)}}class TY{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=MY(t.type)}}class DY{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],n)}}}const Kv=/(\w+)(\])?(\[|\.)?/g;function AR(i,e){i.seq.push(e),i.map[e.id]=e}function QY(i,e,t){const n=i.name,r=n.length;for(Kv.lastIndex=0;;){const s=Kv.exec(n),a=Kv.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===r){AR(t,c===void 0?new RY(o,i,e):new TY(o,i,e));break}else{let u=t.map[o];u===void 0&&(u=new DY(o),AR(t,u)),t=u}}}class D_{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);QY(s,a,this)}}setValue(e,t,n,r){const s=this.map[t];s!==void 0&&s.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=n[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&n.push(a)}return n}}function dR(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const FY=37297;let LY=0;function PY(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;n.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return n.join(`
`)}const pR=new at;function kY(i){Mt._getMatrix(pR,Mt.workingColorSpace,i);const e=`mat3( ${pR.elements.map(t=>t.toFixed(4))} )`;switch(Mt.getTransfer(i)){case r_:return[e,"LinearTransferOETF"];case $t:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function gR(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),r=i.getShaderInfoLog(e).trim();if(n&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+PY(i.getShaderSource(e),a)}else return r}function UY(i,e){const t=kY(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function NY(i,e){let t;switch(e){case cz:t="Linear";break;case lz:t="Reinhard";break;case xz:t="Cineon";break;case uz:t="ACESFilmic";break;case fz:t="AgX";break;case Az:t="Neutral";break;case hz:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Q_=new W;function OY(){Mt.getLuminanceCoefficients(Q_);const i=Q_.x.toFixed(4),e=Q_.y.toFixed(4),t=Q_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function GY(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Xf).join(`
`)}function zY(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function VY(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const s=i.getActiveAttrib(e,r),a=s.name;let o=1;s.type===i.FLOAT_MAT2&&(o=2),s.type===i.FLOAT_MAT3&&(o=3),s.type===i.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:i.getAttribLocation(e,a),locationSize:o}}return t}function Xf(i){return i!==""}function mR(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function _R(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const HY=/^[ \t]*#include +<([\w\d./]+)>/gm;function Jv(i){return i.replace(HY,YY)}const qY=new Map;function YY(i,e){let t=xt[e];if(t===void 0){const n=qY.get(e);if(n!==void 0)t=xt[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return Jv(t)}const XY=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function IR(i){return i.replace(XY,WY)}function WY(i,e,t,n){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function ER(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function jY(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===qM?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===GG?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===ba&&(e="SHADOWMAP_TYPE_VSM"),e}function KY(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case tx:case nx:e="ENVMAP_TYPE_CUBE";break;case J2:e="ENVMAP_TYPE_CUBE_UV";break}return e}function JY(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case nx:e="ENVMAP_MODE_REFRACTION";break}return e}function ZY(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case jM:e="ENVMAP_BLENDING_MULTIPLY";break;case az:e="ENVMAP_BLENDING_MIX";break;case oz:e="ENVMAP_BLENDING_ADD";break}return e}function $Y(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:n,maxMip:t}}function eX(i,e,t,n){const r=i.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=jY(t),c=KY(t),x=JY(t),u=ZY(t),h=$Y(t),f=GY(t),A=zY(s),g=r.createProgram();let d,p,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(d=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A].filter(Xf).join(`
`),d.length>0&&(d+=`
`),p=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A].filter(Xf).join(`
`),p.length>0&&(p+=`
`)):(d=[ER(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+x:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Xf).join(`
`),p=[ER(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,A,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+x:"",t.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Po?"#define TONE_MAPPING":"",t.toneMapping!==Po?xt.tonemapping_pars_fragment:"",t.toneMapping!==Po?NY("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",xt.colorspace_pars_fragment,UY("linearToOutputTexel",t.outputColorSpace),OY(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Xf).join(`
`)),a=Jv(a),a=mR(a,t),a=_R(a,t),o=Jv(o),o=mR(o,t),o=_R(o,t),a=IR(a),o=IR(o),t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,d=[f,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+d,p=["#define varying in",t.glslVersion===l8?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===l8?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const I=_+d+a,m=_+p+o,y=dR(r,r.VERTEX_SHADER,I),E=dR(r,r.FRAGMENT_SHADER,m);r.attachShader(g,y),r.attachShader(g,E),t.index0AttributeName!==void 0?r.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g);function C(B){if(i.debug.checkShaderErrors){const R=r.getProgramInfoLog(g).trim(),Q=r.getShaderInfoLog(y).trim(),F=r.getShaderInfoLog(E).trim();let M=!0,T=!0;if(r.getProgramParameter(g,r.LINK_STATUS)===!1)if(M=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,g,y,E);else{const P=gR(r,y,"vertex"),k=gR(r,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,r.VALIDATE_STATUS)+`

Material Name: `+B.name+`
Material Type: `+B.type+`

Program Info Log: `+R+`
`+P+`
`+k)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(Q===""||F==="")&&(T=!1);T&&(B.diagnostics={runnable:M,programLog:R,vertexShader:{log:Q,prefix:d},fragmentShader:{log:F,prefix:p}})}r.deleteShader(y),r.deleteShader(E),v=new D_(r,g),b=VY(r,g)}let v;this.getUniforms=function(){return v===void 0&&C(this),v};let b;this.getAttributes=function(){return b===void 0&&C(this),b};let w=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return w===!1&&(w=r.getProgramParameter(g,FY)),w},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=LY++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=y,this.fragmentShader=E,this}let tX=0;class nX{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new iX(e),t.set(e,n)),n}}class iX{constructor(e){this.id=tX++,this.code=e,this.usedTimes=0}}function rX(i,e,t,n,r,s,a){const o=new I8,l=new nX,c=new Set,x=[],u=r.logarithmicDepthBuffer,h=r.vertexTextures;let f=r.precision;const A={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(b){return c.add(b),b===0?"uv":`uv${b}`}function d(b,w,B,R,Q){const F=R.fog,M=Q.geometry,T=b.isMeshStandardMaterial?R.environment:null,P=(b.isMeshStandardMaterial?t:e).get(b.envMap||T),k=P&&P.mapping===J2?P.image.height:null,V=A[b.type];b.precision!==null&&(f=r.getMaxPrecision(b.precision),f!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",f,"instead."));const Y=M.morphAttributes.position||M.morphAttributes.normal||M.morphAttributes.color,U=Y!==void 0?Y.length:0;let te=0;M.morphAttributes.position!==void 0&&(te=1),M.morphAttributes.normal!==void 0&&(te=2),M.morphAttributes.color!==void 0&&(te=3);let xe,G,O,ee;if(V){const dt=nr[V];xe=dt.vertexShader,G=dt.fragmentShader}else xe=b.vertexShader,G=b.fragmentShader,l.update(b),O=l.getVertexShaderID(b),ee=l.getFragmentShaderID(b);const K=i.getRenderTarget(),ce=i.state.buffers.depth.getReversed(),Ae=Q.isInstancedMesh===!0,ge=Q.isBatchedMesh===!0,oe=!!b.map,Se=!!b.matcap,At=!!P,N=!!b.aoMap,Nt=!!b.lightMap,ze=!!b.bumpMap,Ge=!!b.normalMap,Be=!!b.displacementMap,ke=!!b.emissiveMap,Re=!!b.metalnessMap,L=!!b.roughnessMap,S=b.anisotropy>0,X=b.clearcoat>0,se=b.dispersion>0,ne=b.iridescence>0,j=b.sheen>0,Ie=b.transmission>0,fe=S&&!!b.anisotropyMap,ue=X&&!!b.clearcoatMap,Te=X&&!!b.clearcoatNormalMap,le=X&&!!b.clearcoatRoughnessMap,me=ne&&!!b.iridescenceMap,Fe=ne&&!!b.iridescenceThicknessMap,Ue=j&&!!b.sheenColorMap,ye=j&&!!b.sheenRoughnessMap,Xe=!!b.specularMap,Qe=!!b.specularColorMap,rt=!!b.specularIntensityMap,z=Ie&&!!b.transmissionMap,_e=Ie&&!!b.thicknessMap,J=!!b.gradientMap,re=!!b.alphaMap,we=b.alphaTest>0,ve=!!b.alphaHash,Ke=!!b.extensions;let un=Po;b.toneMapped&&(K===null||K.isXRRenderTarget===!0)&&(un=i.toneMapping);const jt={shaderID:V,shaderType:b.type,shaderName:b.name,vertexShader:xe,fragmentShader:G,defines:b.defines,customVertexShaderID:O,customFragmentShaderID:ee,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:f,batching:ge,batchingColor:ge&&Q._colorsTexture!==null,instancing:Ae,instancingColor:Ae&&Q.instanceColor!==null,instancingMorph:Ae&&Q.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:K===null?i.outputColorSpace:K.isXRRenderTarget===!0?K.texture.colorSpace:ax,alphaToCoverage:!!b.alphaToCoverage,map:oe,matcap:Se,envMap:At,envMapMode:At&&P.mapping,envMapCubeUVHeight:k,aoMap:N,lightMap:Nt,bumpMap:ze,normalMap:Ge,displacementMap:h&&Be,emissiveMap:ke,normalMapObjectSpace:Ge&&b.normalMapType===_z,normalMapTangentSpace:Ge&&b.normalMapType===mz,metalnessMap:Re,roughnessMap:L,anisotropy:S,anisotropyMap:fe,clearcoat:X,clearcoatMap:ue,clearcoatNormalMap:Te,clearcoatRoughnessMap:le,dispersion:se,iridescence:ne,iridescenceMap:me,iridescenceThicknessMap:Fe,sheen:j,sheenColorMap:Ue,sheenRoughnessMap:ye,specularMap:Xe,specularColorMap:Qe,specularIntensityMap:rt,transmission:Ie,transmissionMap:z,thicknessMap:_e,gradientMap:J,opaque:b.transparent===!1&&b.blending===$l&&b.alphaToCoverage===!1,alphaMap:re,alphaTest:we,alphaHash:ve,combine:b.combine,mapUv:oe&&g(b.map.channel),aoMapUv:N&&g(b.aoMap.channel),lightMapUv:Nt&&g(b.lightMap.channel),bumpMapUv:ze&&g(b.bumpMap.channel),normalMapUv:Ge&&g(b.normalMap.channel),displacementMapUv:Be&&g(b.displacementMap.channel),emissiveMapUv:ke&&g(b.emissiveMap.channel),metalnessMapUv:Re&&g(b.metalnessMap.channel),roughnessMapUv:L&&g(b.roughnessMap.channel),anisotropyMapUv:fe&&g(b.anisotropyMap.channel),clearcoatMapUv:ue&&g(b.clearcoatMap.channel),clearcoatNormalMapUv:Te&&g(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:le&&g(b.clearcoatRoughnessMap.channel),iridescenceMapUv:me&&g(b.iridescenceMap.channel),iridescenceThicknessMapUv:Fe&&g(b.iridescenceThicknessMap.channel),sheenColorMapUv:Ue&&g(b.sheenColorMap.channel),sheenRoughnessMapUv:ye&&g(b.sheenRoughnessMap.channel),specularMapUv:Xe&&g(b.specularMap.channel),specularColorMapUv:Qe&&g(b.specularColorMap.channel),specularIntensityMapUv:rt&&g(b.specularIntensityMap.channel),transmissionMapUv:z&&g(b.transmissionMap.channel),thicknessMapUv:_e&&g(b.thicknessMap.channel),alphaMapUv:re&&g(b.alphaMap.channel),vertexTangents:!!M.attributes.tangent&&(Ge||S),vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!M.attributes.color&&M.attributes.color.itemSize===4,pointsUvs:Q.isPoints===!0&&!!M.attributes.uv&&(oe||re),fog:!!F,useFog:b.fog===!0,fogExp2:!!F&&F.isFogExp2,flatShading:b.flatShading===!0,sizeAttenuation:b.sizeAttenuation===!0,logarithmicDepthBuffer:u,reverseDepthBuffer:ce,skinning:Q.isSkinnedMesh===!0,morphTargets:M.morphAttributes.position!==void 0,morphNormals:M.morphAttributes.normal!==void 0,morphColors:M.morphAttributes.color!==void 0,morphTargetsCount:U,morphTextureStride:te,numDirLights:w.directional.length,numPointLights:w.point.length,numSpotLights:w.spot.length,numSpotLightMaps:w.spotLightMap.length,numRectAreaLights:w.rectArea.length,numHemiLights:w.hemi.length,numDirLightShadows:w.directionalShadowMap.length,numPointLightShadows:w.pointShadowMap.length,numSpotLightShadows:w.spotShadowMap.length,numSpotLightShadowsWithMaps:w.numSpotLightShadowsWithMaps,numLightProbes:w.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:b.dithering,shadowMapEnabled:i.shadowMap.enabled&&B.length>0,shadowMapType:i.shadowMap.type,toneMapping:un,decodeVideoTexture:oe&&b.map.isVideoTexture===!0&&Mt.getTransfer(b.map.colorSpace)===$t,decodeVideoTextureEmissive:ke&&b.emissiveMap.isVideoTexture===!0&&Mt.getTransfer(b.emissiveMap.colorSpace)===$t,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===va,flipSided:b.side===er,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionClipCullDistance:Ke&&b.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ke&&b.extensions.multiDraw===!0||ge)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:b.customProgramCacheKey()};return jt.vertexUv1s=c.has(1),jt.vertexUv2s=c.has(2),jt.vertexUv3s=c.has(3),c.clear(),jt}function p(b){const w=[];if(b.shaderID?w.push(b.shaderID):(w.push(b.customVertexShaderID),w.push(b.customFragmentShaderID)),b.defines!==void 0)for(const B in b.defines)w.push(B),w.push(b.defines[B]);return b.isRawShaderMaterial===!1&&(_(w,b),I(w,b),w.push(i.outputColorSpace)),w.push(b.customProgramCacheKey),w.join()}function _(b,w){b.push(w.precision),b.push(w.outputColorSpace),b.push(w.envMapMode),b.push(w.envMapCubeUVHeight),b.push(w.mapUv),b.push(w.alphaMapUv),b.push(w.lightMapUv),b.push(w.aoMapUv),b.push(w.bumpMapUv),b.push(w.normalMapUv),b.push(w.displacementMapUv),b.push(w.emissiveMapUv),b.push(w.metalnessMapUv),b.push(w.roughnessMapUv),b.push(w.anisotropyMapUv),b.push(w.clearcoatMapUv),b.push(w.clearcoatNormalMapUv),b.push(w.clearcoatRoughnessMapUv),b.push(w.iridescenceMapUv),b.push(w.iridescenceThicknessMapUv),b.push(w.sheenColorMapUv),b.push(w.sheenRoughnessMapUv),b.push(w.specularMapUv),b.push(w.specularColorMapUv),b.push(w.specularIntensityMapUv),b.push(w.transmissionMapUv),b.push(w.thicknessMapUv),b.push(w.combine),b.push(w.fogExp2),b.push(w.sizeAttenuation),b.push(w.morphTargetsCount),b.push(w.morphAttributeCount),b.push(w.numDirLights),b.push(w.numPointLights),b.push(w.numSpotLights),b.push(w.numSpotLightMaps),b.push(w.numHemiLights),b.push(w.numRectAreaLights),b.push(w.numDirLightShadows),b.push(w.numPointLightShadows),b.push(w.numSpotLightShadows),b.push(w.numSpotLightShadowsWithMaps),b.push(w.numLightProbes),b.push(w.shadowMapType),b.push(w.toneMapping),b.push(w.numClippingPlanes),b.push(w.numClipIntersection),b.push(w.depthPacking)}function I(b,w){o.disableAll(),w.supportsVertexTextures&&o.enable(0),w.instancing&&o.enable(1),w.instancingColor&&o.enable(2),w.instancingMorph&&o.enable(3),w.matcap&&o.enable(4),w.envMap&&o.enable(5),w.normalMapObjectSpace&&o.enable(6),w.normalMapTangentSpace&&o.enable(7),w.clearcoat&&o.enable(8),w.iridescence&&o.enable(9),w.alphaTest&&o.enable(10),w.vertexColors&&o.enable(11),w.vertexAlphas&&o.enable(12),w.vertexUv1s&&o.enable(13),w.vertexUv2s&&o.enable(14),w.vertexUv3s&&o.enable(15),w.vertexTangents&&o.enable(16),w.anisotropy&&o.enable(17),w.alphaHash&&o.enable(18),w.batching&&o.enable(19),w.dispersion&&o.enable(20),w.batchingColor&&o.enable(21),b.push(o.mask),o.disableAll(),w.fog&&o.enable(0),w.useFog&&o.enable(1),w.flatShading&&o.enable(2),w.logarithmicDepthBuffer&&o.enable(3),w.reverseDepthBuffer&&o.enable(4),w.skinning&&o.enable(5),w.morphTargets&&o.enable(6),w.morphNormals&&o.enable(7),w.morphColors&&o.enable(8),w.premultipliedAlpha&&o.enable(9),w.shadowMapEnabled&&o.enable(10),w.doubleSided&&o.enable(11),w.flipSided&&o.enable(12),w.useDepthPacking&&o.enable(13),w.dithering&&o.enable(14),w.transmission&&o.enable(15),w.sheen&&o.enable(16),w.opaque&&o.enable(17),w.pointsUvs&&o.enable(18),w.decodeVideoTexture&&o.enable(19),w.decodeVideoTextureEmissive&&o.enable(20),w.alphaToCoverage&&o.enable(21),b.push(o.mask)}function m(b){const w=A[b.type];let B;if(w){const R=nr[w];B=Ov.clone(R.uniforms)}else B=b.uniforms;return B}function y(b,w){let B;for(let R=0,Q=x.length;R<Q;R++){const F=x[R];if(F.cacheKey===w){B=F,++B.usedTimes;break}}return B===void 0&&(B=new eX(i,w,b,s),x.push(B)),B}function E(b){if(--b.usedTimes===0){const w=x.indexOf(b);x[w]=x[x.length-1],x.pop(),b.destroy()}}function C(b){l.remove(b)}function v(){l.dispose()}return{getParameters:d,getProgramCacheKey:p,getUniforms:m,acquireProgram:y,releaseProgram:E,releaseShaderCache:C,programs:x,dispose:v}}function sX(){let i=new WeakMap;function e(a){return i.has(a)}function t(a){let o=i.get(a);return o===void 0&&(o={},i.set(a,o)),o}function n(a){i.delete(a)}function r(a,o,l){i.get(a)[o]=l}function s(){i=new WeakMap}return{has:e,get:t,remove:n,update:r,dispose:s}}function aX(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function yR(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function CR(){const i=[];let e=0;const t=[],n=[],r=[];function s(){e=0,t.length=0,n.length=0,r.length=0}function a(u,h,f,A,g,d){let p=i[e];return p===void 0?(p={id:u.id,object:u,geometry:h,material:f,groupOrder:A,renderOrder:u.renderOrder,z:g,group:d},i[e]=p):(p.id=u.id,p.object=u,p.geometry=h,p.material=f,p.groupOrder=A,p.renderOrder=u.renderOrder,p.z=g,p.group=d),e++,p}function o(u,h,f,A,g,d){const p=a(u,h,f,A,g,d);f.transmission>0?n.push(p):f.transparent===!0?r.push(p):t.push(p)}function l(u,h,f,A,g,d){const p=a(u,h,f,A,g,d);f.transmission>0?n.unshift(p):f.transparent===!0?r.unshift(p):t.unshift(p)}function c(u,h){t.length>1&&t.sort(u||aX),n.length>1&&n.sort(h||yR),r.length>1&&r.sort(h||yR)}function x(){for(let u=e,h=i.length;u<h;u++){const f=i[u];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:t,transmissive:n,transparent:r,init:s,push:o,unshift:l,finish:x,sort:c}}function oX(){let i=new WeakMap;function e(n,r){const s=i.get(n);let a;return s===void 0?(a=new CR,i.set(n,[a])):r>=s.length?(a=new CR,s.push(a)):a=s[r],a}function t(){i=new WeakMap}return{get:e,dispose:t}}function cX(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new W,color:new Rt};break;case"SpotLight":t={position:new W,direction:new W,color:new Rt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new W,color:new Rt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new W,skyColor:new Rt,groundColor:new Rt};break;case"RectAreaLight":t={color:new Rt,position:new W,halfWidth:new W,halfHeight:new W};break}return i[e.id]=t,t}}}function lX(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new It};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new It};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new It,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let xX=0;function uX(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function hX(i){const e=new cX,t=lX(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)n.probe.push(new W);const r=new W,s=new mn,a=new mn;function o(c){let x=0,u=0,h=0;for(let b=0;b<9;b++)n.probe[b].set(0,0,0);let f=0,A=0,g=0,d=0,p=0,_=0,I=0,m=0,y=0,E=0,C=0;c.sort(uX);for(let b=0,w=c.length;b<w;b++){const B=c[b],R=B.color,Q=B.intensity,F=B.distance,M=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)x+=R.r*Q,u+=R.g*Q,h+=R.b*Q;else if(B.isLightProbe){for(let T=0;T<9;T++)n.probe[T].addScaledVector(B.sh.coefficients[T],Q);C++}else if(B.isDirectionalLight){const T=e.get(B);if(T.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const P=B.shadow,k=t.get(B);k.shadowIntensity=P.intensity,k.shadowBias=P.bias,k.shadowNormalBias=P.normalBias,k.shadowRadius=P.radius,k.shadowMapSize=P.mapSize,n.directionalShadow[f]=k,n.directionalShadowMap[f]=M,n.directionalShadowMatrix[f]=B.shadow.matrix,_++}n.directional[f]=T,f++}else if(B.isSpotLight){const T=e.get(B);T.position.setFromMatrixPosition(B.matrixWorld),T.color.copy(R).multiplyScalar(Q),T.distance=F,T.coneCos=Math.cos(B.angle),T.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),T.decay=B.decay,n.spot[g]=T;const P=B.shadow;if(B.map&&(n.spotLightMap[y]=B.map,y++,P.updateMatrices(B),B.castShadow&&E++),n.spotLightMatrix[g]=P.matrix,B.castShadow){const k=t.get(B);k.shadowIntensity=P.intensity,k.shadowBias=P.bias,k.shadowNormalBias=P.normalBias,k.shadowRadius=P.radius,k.shadowMapSize=P.mapSize,n.spotShadow[g]=k,n.spotShadowMap[g]=M,m++}g++}else if(B.isRectAreaLight){const T=e.get(B);T.color.copy(R).multiplyScalar(Q),T.halfWidth.set(B.width*.5,0,0),T.halfHeight.set(0,B.height*.5,0),n.rectArea[d]=T,d++}else if(B.isPointLight){const T=e.get(B);if(T.color.copy(B.color).multiplyScalar(B.intensity),T.distance=B.distance,T.decay=B.decay,B.castShadow){const P=B.shadow,k=t.get(B);k.shadowIntensity=P.intensity,k.shadowBias=P.bias,k.shadowNormalBias=P.normalBias,k.shadowRadius=P.radius,k.shadowMapSize=P.mapSize,k.shadowCameraNear=P.camera.near,k.shadowCameraFar=P.camera.far,n.pointShadow[A]=k,n.pointShadowMap[A]=M,n.pointShadowMatrix[A]=B.shadow.matrix,I++}n.point[A]=T,A++}else if(B.isHemisphereLight){const T=e.get(B);T.skyColor.copy(B.color).multiplyScalar(Q),T.groundColor.copy(B.groundColor).multiplyScalar(Q),n.hemi[p]=T,p++}}d>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Ce.LTC_FLOAT_1,n.rectAreaLTC2=Ce.LTC_FLOAT_2):(n.rectAreaLTC1=Ce.LTC_HALF_1,n.rectAreaLTC2=Ce.LTC_HALF_2)),n.ambient[0]=x,n.ambient[1]=u,n.ambient[2]=h;const v=n.hash;(v.directionalLength!==f||v.pointLength!==A||v.spotLength!==g||v.rectAreaLength!==d||v.hemiLength!==p||v.numDirectionalShadows!==_||v.numPointShadows!==I||v.numSpotShadows!==m||v.numSpotMaps!==y||v.numLightProbes!==C)&&(n.directional.length=f,n.spot.length=g,n.rectArea.length=d,n.point.length=A,n.hemi.length=p,n.directionalShadow.length=_,n.directionalShadowMap.length=_,n.pointShadow.length=I,n.pointShadowMap.length=I,n.spotShadow.length=m,n.spotShadowMap.length=m,n.directionalShadowMatrix.length=_,n.pointShadowMatrix.length=I,n.spotLightMatrix.length=m+y-E,n.spotLightMap.length=y,n.numSpotLightShadowsWithMaps=E,n.numLightProbes=C,v.directionalLength=f,v.pointLength=A,v.spotLength=g,v.rectAreaLength=d,v.hemiLength=p,v.numDirectionalShadows=_,v.numPointShadows=I,v.numSpotShadows=m,v.numSpotMaps=y,v.numLightProbes=C,n.version=xX++)}function l(c,x){let u=0,h=0,f=0,A=0,g=0;const d=x.matrixWorldInverse;for(let p=0,_=c.length;p<_;p++){const I=c[p];if(I.isDirectionalLight){const m=n.directional[u];m.direction.setFromMatrixPosition(I.matrixWorld),r.setFromMatrixPosition(I.target.matrixWorld),m.direction.sub(r),m.direction.transformDirection(d),u++}else if(I.isSpotLight){const m=n.spot[f];m.position.setFromMatrixPosition(I.matrixWorld),m.position.applyMatrix4(d),m.direction.setFromMatrixPosition(I.matrixWorld),r.setFromMatrixPosition(I.target.matrixWorld),m.direction.sub(r),m.direction.transformDirection(d),f++}else if(I.isRectAreaLight){const m=n.rectArea[A];m.position.setFromMatrixPosition(I.matrixWorld),m.position.applyMatrix4(d),a.identity(),s.copy(I.matrixWorld),s.premultiply(d),a.extractRotation(s),m.halfWidth.set(I.width*.5,0,0),m.halfHeight.set(0,I.height*.5,0),m.halfWidth.applyMatrix4(a),m.halfHeight.applyMatrix4(a),A++}else if(I.isPointLight){const m=n.point[h];m.position.setFromMatrixPosition(I.matrixWorld),m.position.applyMatrix4(d),h++}else if(I.isHemisphereLight){const m=n.hemi[g];m.direction.setFromMatrixPosition(I.matrixWorld),m.direction.transformDirection(d),g++}}}return{setup:o,setupView:l,state:n}}function bR(i){const e=new hX(i),t=[],n=[];function r(x){c.camera=x,t.length=0,n.length=0}function s(x){t.push(x)}function a(x){n.push(x)}function o(){e.setup(t)}function l(x){e.setupView(t,x)}const c={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function fX(i){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let o;return a===void 0?(o=new bR(i),e.set(r,[o])):s>=a.length?(o=new bR(i),a.push(o)):o=a[s],o}function n(){e=new WeakMap}return{get:t,dispose:n}}const AX=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,dX=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function pX(i,e,t){let n=new H8;const r=new It,s=new It,a=new cn,o=new yV({depthPacking:gz}),l=new CV,c={},x=t.maxTextureSize,u={[Fo]:er,[er]:Fo,[va]:va},h=new ka({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new It},radius:{value:4}},vertexShader:AX,fragmentShader:dX}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const A=new Ps;A.setAttribute("position",new xs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new ks(A,h),d=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=qM;let p=this.type;this.render=function(E,C,v){if(d.enabled===!1||d.autoUpdate===!1&&d.needsUpdate===!1||E.length===0)return;const b=i.getRenderTarget(),w=i.getActiveCubeFace(),B=i.getActiveMipmapLevel(),R=i.state;R.setBlending(Lo),R.buffers.color.setClear(1,1,1,1),R.buffers.depth.setTest(!0),R.setScissorTest(!1);const Q=p!==ba&&this.type===ba,F=p===ba&&this.type!==ba;for(let M=0,T=E.length;M<T;M++){const P=E[M],k=P.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",P,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;r.copy(k.mapSize);const V=k.getFrameExtents();if(r.multiply(V),s.copy(k.mapSize),(r.x>x||r.y>x)&&(r.x>x&&(s.x=Math.floor(x/V.x),r.x=s.x*V.x,k.mapSize.x=s.x),r.y>x&&(s.y=Math.floor(x/V.y),r.y=s.y*V.y,k.mapSize.y=s.y)),k.map===null||Q===!0||F===!0){const U=this.type!==ba?{minFilter:rs,magFilter:rs}:{};k.map!==null&&k.map.dispose(),k.map=new H0(r.x,r.y,U),k.map.texture.name=P.name+".shadowMap",k.camera.updateProjectionMatrix()}i.setRenderTarget(k.map),i.clear();const Y=k.getViewportCount();for(let U=0;U<Y;U++){const te=k.getViewport(U);a.set(s.x*te.x,s.y*te.y,s.x*te.z,s.y*te.w),R.viewport(a),k.updateMatrices(P,U),n=k.getFrustum(),m(C,v,k.camera,P,this.type)}k.isPointLightShadow!==!0&&this.type===ba&&_(k,v),k.needsUpdate=!1}p=this.type,d.needsUpdate=!1,i.setRenderTarget(b,w,B)};function _(E,C){const v=e.update(g);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,f.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new H0(r.x,r.y)),h.uniforms.shadow_pass.value=E.map.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,i.setRenderTarget(E.mapPass),i.clear(),i.renderBufferDirect(C,null,v,h,g,null),f.uniforms.shadow_pass.value=E.mapPass.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,i.setRenderTarget(E.map),i.clear(),i.renderBufferDirect(C,null,v,f,g,null)}function I(E,C,v,b){let w=null;const B=v.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(B!==void 0)w=B;else if(w=v.isPointLight===!0?l:o,i.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const R=w.uuid,Q=C.uuid;let F=c[R];F===void 0&&(F={},c[R]=F);let M=F[Q];M===void 0&&(M=w.clone(),F[Q]=M,C.addEventListener("dispose",y)),w=M}if(w.visible=C.visible,w.wireframe=C.wireframe,b===ba?w.side=C.shadowSide!==null?C.shadowSide:C.side:w.side=C.shadowSide!==null?C.shadowSide:u[C.side],w.alphaMap=C.alphaMap,w.alphaTest=C.alphaTest,w.map=C.map,w.clipShadows=C.clipShadows,w.clippingPlanes=C.clippingPlanes,w.clipIntersection=C.clipIntersection,w.displacementMap=C.displacementMap,w.displacementScale=C.displacementScale,w.displacementBias=C.displacementBias,w.wireframeLinewidth=C.wireframeLinewidth,w.linewidth=C.linewidth,v.isPointLight===!0&&w.isMeshDistanceMaterial===!0){const R=i.properties.get(w);R.light=v}return w}function m(E,C,v,b,w){if(E.visible===!1)return;if(E.layers.test(C.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&w===ba)&&(!E.frustumCulled||n.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,E.matrixWorld);const Q=e.update(E),F=E.material;if(Array.isArray(F)){const M=Q.groups;for(let T=0,P=M.length;T<P;T++){const k=M[T],V=F[k.materialIndex];if(V&&V.visible){const Y=I(E,V,b,w);E.onBeforeShadow(i,E,C,v,Q,Y,k),i.renderBufferDirect(v,null,Q,Y,E,k),E.onAfterShadow(i,E,C,v,Q,Y,k)}}}else if(F.visible){const M=I(E,F,b,w);E.onBeforeShadow(i,E,C,v,Q,M,null),i.renderBufferDirect(v,null,Q,M,E,null),E.onAfterShadow(i,E,C,v,Q,M,null)}}const R=E.children;for(let Q=0,F=R.length;Q<F;Q++)m(R[Q],C,v,b,w)}function y(E){E.target.removeEventListener("dispose",y);for(const v in c){const b=c[v],w=E.target.uuid;w in b&&(b[w].dispose(),delete b[w])}}}const gX={[Mb]:Rb,[Tb]:Fb,[Db]:Lb,[ex]:Qb,[Rb]:Mb,[Fb]:Tb,[Lb]:Db,[Qb]:ex};function mX(i,e){function t(){let z=!1;const _e=new cn;let J=null;const re=new cn(0,0,0,0);return{setMask:function(we){J!==we&&!z&&(i.colorMask(we,we,we,we),J=we)},setLocked:function(we){z=we},setClear:function(we,ve,Ke,un,jt){jt===!0&&(we*=un,ve*=un,Ke*=un),_e.set(we,ve,Ke,un),re.equals(_e)===!1&&(i.clearColor(we,ve,Ke,un),re.copy(_e))},reset:function(){z=!1,J=null,re.set(-1,0,0,0)}}}function n(){let z=!1,_e=!1,J=null,re=null,we=null;return{setReversed:function(ve){if(_e!==ve){const Ke=e.get("EXT_clip_control");_e?Ke.clipControlEXT(Ke.LOWER_LEFT_EXT,Ke.ZERO_TO_ONE_EXT):Ke.clipControlEXT(Ke.LOWER_LEFT_EXT,Ke.NEGATIVE_ONE_TO_ONE_EXT);const un=we;we=null,this.setClear(un)}_e=ve},getReversed:function(){return _e},setTest:function(ve){ve?K(i.DEPTH_TEST):ce(i.DEPTH_TEST)},setMask:function(ve){J!==ve&&!z&&(i.depthMask(ve),J=ve)},setFunc:function(ve){if(_e&&(ve=gX[ve]),re!==ve){switch(ve){case Mb:i.depthFunc(i.NEVER);break;case Rb:i.depthFunc(i.ALWAYS);break;case Tb:i.depthFunc(i.LESS);break;case ex:i.depthFunc(i.LEQUAL);break;case Db:i.depthFunc(i.EQUAL);break;case Qb:i.depthFunc(i.GEQUAL);break;case Fb:i.depthFunc(i.GREATER);break;case Lb:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}re=ve}},setLocked:function(ve){z=ve},setClear:function(ve){we!==ve&&(_e&&(ve=1-ve),i.clearDepth(ve),we=ve)},reset:function(){z=!1,J=null,re=null,we=null,_e=!1}}}function r(){let z=!1,_e=null,J=null,re=null,we=null,ve=null,Ke=null,un=null,jt=null;return{setTest:function(dt){z||(dt?K(i.STENCIL_TEST):ce(i.STENCIL_TEST))},setMask:function(dt){_e!==dt&&!z&&(i.stencilMask(dt),_e=dt)},setFunc:function(dt,In,Gn){(J!==dt||re!==In||we!==Gn)&&(i.stencilFunc(dt,In,Gn),J=dt,re=In,we=Gn)},setOp:function(dt,In,Gn){(ve!==dt||Ke!==In||un!==Gn)&&(i.stencilOp(dt,In,Gn),ve=dt,Ke=In,un=Gn)},setLocked:function(dt){z=dt},setClear:function(dt){jt!==dt&&(i.clearStencil(dt),jt=dt)},reset:function(){z=!1,_e=null,J=null,re=null,we=null,ve=null,Ke=null,un=null,jt=null}}}const s=new t,a=new n,o=new r,l=new WeakMap,c=new WeakMap;let x={},u={},h=new WeakMap,f=[],A=null,g=!1,d=null,p=null,_=null,I=null,m=null,y=null,E=null,C=new Rt(0,0,0),v=0,b=!1,w=null,B=null,R=null,Q=null,F=null;const M=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let T=!1,P=0;const k=i.getParameter(i.VERSION);k.indexOf("WebGL")!==-1?(P=parseFloat(/^WebGL (\d)/.exec(k)[1]),T=P>=1):k.indexOf("OpenGL ES")!==-1&&(P=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),T=P>=2);let V=null,Y={};const U=i.getParameter(i.SCISSOR_BOX),te=i.getParameter(i.VIEWPORT),xe=new cn().fromArray(U),G=new cn().fromArray(te);function O(z,_e,J,re){const we=new Uint8Array(4),ve=i.createTexture();i.bindTexture(z,ve),i.texParameteri(z,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(z,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Ke=0;Ke<J;Ke++)z===i.TEXTURE_3D||z===i.TEXTURE_2D_ARRAY?i.texImage3D(_e,0,i.RGBA,1,1,re,0,i.RGBA,i.UNSIGNED_BYTE,we):i.texImage2D(_e+Ke,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,we);return ve}const ee={};ee[i.TEXTURE_2D]=O(i.TEXTURE_2D,i.TEXTURE_2D,1),ee[i.TEXTURE_CUBE_MAP]=O(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),ee[i.TEXTURE_2D_ARRAY]=O(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),ee[i.TEXTURE_3D]=O(i.TEXTURE_3D,i.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),K(i.DEPTH_TEST),a.setFunc(ex),ze(!1),Ge(HM),K(i.CULL_FACE),N(Lo);function K(z){x[z]!==!0&&(i.enable(z),x[z]=!0)}function ce(z){x[z]!==!1&&(i.disable(z),x[z]=!1)}function Ae(z,_e){return u[z]!==_e?(i.bindFramebuffer(z,_e),u[z]=_e,z===i.DRAW_FRAMEBUFFER&&(u[i.FRAMEBUFFER]=_e),z===i.FRAMEBUFFER&&(u[i.DRAW_FRAMEBUFFER]=_e),!0):!1}function ge(z,_e){let J=f,re=!1;if(z){J=h.get(_e),J===void 0&&(J=[],h.set(_e,J));const we=z.textures;if(J.length!==we.length||J[0]!==i.COLOR_ATTACHMENT0){for(let ve=0,Ke=we.length;ve<Ke;ve++)J[ve]=i.COLOR_ATTACHMENT0+ve;J.length=we.length,re=!0}}else J[0]!==i.BACK&&(J[0]=i.BACK,re=!0);re&&i.drawBuffers(J)}function oe(z){return A!==z?(i.useProgram(z),A=z,!0):!1}const Se={[O0]:i.FUNC_ADD,[VG]:i.FUNC_SUBTRACT,[HG]:i.FUNC_REVERSE_SUBTRACT};Se[qG]=i.MIN,Se[YG]=i.MAX;const At={[XG]:i.ZERO,[WG]:i.ONE,[jG]:i.SRC_COLOR,[Bb]:i.SRC_ALPHA,[tz]:i.SRC_ALPHA_SATURATE,[$G]:i.DST_COLOR,[JG]:i.DST_ALPHA,[KG]:i.ONE_MINUS_SRC_COLOR,[Sb]:i.ONE_MINUS_SRC_ALPHA,[ez]:i.ONE_MINUS_DST_COLOR,[ZG]:i.ONE_MINUS_DST_ALPHA,[nz]:i.CONSTANT_COLOR,[iz]:i.ONE_MINUS_CONSTANT_COLOR,[rz]:i.CONSTANT_ALPHA,[sz]:i.ONE_MINUS_CONSTANT_ALPHA};function N(z,_e,J,re,we,ve,Ke,un,jt,dt){if(z===Lo){g===!0&&(ce(i.BLEND),g=!1);return}if(g===!1&&(K(i.BLEND),g=!0),z!==zG){if(z!==d||dt!==b){if((p!==O0||m!==O0)&&(i.blendEquation(i.FUNC_ADD),p=O0,m=O0),dt)switch(z){case $l:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case YM:i.blendFunc(i.ONE,i.ONE);break;case XM:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case WM:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}else switch(z){case $l:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case YM:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case XM:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case WM:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}_=null,I=null,y=null,E=null,C.set(0,0,0),v=0,d=z,b=dt}return}we=we||_e,ve=ve||J,Ke=Ke||re,(_e!==p||we!==m)&&(i.blendEquationSeparate(Se[_e],Se[we]),p=_e,m=we),(J!==_||re!==I||ve!==y||Ke!==E)&&(i.blendFuncSeparate(At[J],At[re],At[ve],At[Ke]),_=J,I=re,y=ve,E=Ke),(un.equals(C)===!1||jt!==v)&&(i.blendColor(un.r,un.g,un.b,jt),C.copy(un),v=jt),d=z,b=!1}function Nt(z,_e){z.side===va?ce(i.CULL_FACE):K(i.CULL_FACE);let J=z.side===er;_e&&(J=!J),ze(J),z.blending===$l&&z.transparent===!1?N(Lo):N(z.blending,z.blendEquation,z.blendSrc,z.blendDst,z.blendEquationAlpha,z.blendSrcAlpha,z.blendDstAlpha,z.blendColor,z.blendAlpha,z.premultipliedAlpha),a.setFunc(z.depthFunc),a.setTest(z.depthTest),a.setMask(z.depthWrite),s.setMask(z.colorWrite);const re=z.stencilWrite;o.setTest(re),re&&(o.setMask(z.stencilWriteMask),o.setFunc(z.stencilFunc,z.stencilRef,z.stencilFuncMask),o.setOp(z.stencilFail,z.stencilZFail,z.stencilZPass)),ke(z.polygonOffset,z.polygonOffsetFactor,z.polygonOffsetUnits),z.alphaToCoverage===!0?K(i.SAMPLE_ALPHA_TO_COVERAGE):ce(i.SAMPLE_ALPHA_TO_COVERAGE)}function ze(z){w!==z&&(z?i.frontFace(i.CW):i.frontFace(i.CCW),w=z)}function Ge(z){z!==NG?(K(i.CULL_FACE),z!==B&&(z===HM?i.cullFace(i.BACK):z===OG?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):ce(i.CULL_FACE),B=z}function Be(z){z!==R&&(T&&i.lineWidth(z),R=z)}function ke(z,_e,J){z?(K(i.POLYGON_OFFSET_FILL),(Q!==_e||F!==J)&&(i.polygonOffset(_e,J),Q=_e,F=J)):ce(i.POLYGON_OFFSET_FILL)}function Re(z){z?K(i.SCISSOR_TEST):ce(i.SCISSOR_TEST)}function L(z){z===void 0&&(z=i.TEXTURE0+M-1),V!==z&&(i.activeTexture(z),V=z)}function S(z,_e,J){J===void 0&&(V===null?J=i.TEXTURE0+M-1:J=V);let re=Y[J];re===void 0&&(re={type:void 0,texture:void 0},Y[J]=re),(re.type!==z||re.texture!==_e)&&(V!==J&&(i.activeTexture(J),V=J),i.bindTexture(z,_e||ee[z]),re.type=z,re.texture=_e)}function X(){const z=Y[V];z!==void 0&&z.type!==void 0&&(i.bindTexture(z.type,null),z.type=void 0,z.texture=void 0)}function se(){try{i.compressedTexImage2D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function ne(){try{i.compressedTexImage3D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function j(){try{i.texSubImage2D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Ie(){try{i.texSubImage3D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function fe(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function ue(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Te(){try{i.texStorage2D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function le(){try{i.texStorage3D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function me(){try{i.texImage2D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Fe(){try{i.texImage3D.apply(i,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Ue(z){xe.equals(z)===!1&&(i.scissor(z.x,z.y,z.z,z.w),xe.copy(z))}function ye(z){G.equals(z)===!1&&(i.viewport(z.x,z.y,z.z,z.w),G.copy(z))}function Xe(z,_e){let J=c.get(_e);J===void 0&&(J=new WeakMap,c.set(_e,J));let re=J.get(z);re===void 0&&(re=i.getUniformBlockIndex(_e,z.name),J.set(z,re))}function Qe(z,_e){const re=c.get(_e).get(z);l.get(_e)!==re&&(i.uniformBlockBinding(_e,re,z.__bindingPointIndex),l.set(_e,re))}function rt(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),a.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),x={},V=null,Y={},u={},h=new WeakMap,f=[],A=null,g=!1,d=null,p=null,_=null,I=null,m=null,y=null,E=null,C=new Rt(0,0,0),v=0,b=!1,w=null,B=null,R=null,Q=null,F=null,xe.set(0,0,i.canvas.width,i.canvas.height),G.set(0,0,i.canvas.width,i.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:K,disable:ce,bindFramebuffer:Ae,drawBuffers:ge,useProgram:oe,setBlending:N,setMaterial:Nt,setFlipSided:ze,setCullFace:Ge,setLineWidth:Be,setPolygonOffset:ke,setScissorTest:Re,activeTexture:L,bindTexture:S,unbindTexture:X,compressedTexImage2D:se,compressedTexImage3D:ne,texImage2D:me,texImage3D:Fe,updateUBOMapping:Xe,uniformBlockBinding:Qe,texStorage2D:Te,texStorage3D:le,texSubImage2D:j,texSubImage3D:Ie,compressedTexSubImage2D:fe,compressedTexSubImage3D:ue,scissor:Ue,viewport:ye,reset:rt}}function _X(i,e,t,n,r,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new It,x=new WeakMap;let u;const h=new WeakMap;let f=!1;try{f=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(L,S){return f?new OffscreenCanvas(L,S):a_("canvas")}function g(L,S,X){let se=1;const ne=Re(L);if((ne.width>X||ne.height>X)&&(se=X/Math.max(ne.width,ne.height)),se<1)if(typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&L instanceof ImageBitmap||typeof VideoFrame<"u"&&L instanceof VideoFrame){const j=Math.floor(se*ne.width),Ie=Math.floor(se*ne.height);u===void 0&&(u=A(j,Ie));const fe=S?A(j,Ie):u;return fe.width=j,fe.height=Ie,fe.getContext("2d").drawImage(L,0,0,j,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ne.width+"x"+ne.height+") to ("+j+"x"+Ie+")."),fe}else return"data"in L&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ne.width+"x"+ne.height+")."),L;return L}function d(L){return L.generateMipmaps}function p(L){i.generateMipmap(L)}function _(L){return L.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:L.isWebGL3DRenderTarget?i.TEXTURE_3D:L.isWebGLArrayRenderTarget||L.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function I(L,S,X,se,ne=!1){if(L!==null){if(i[L]!==void 0)return i[L];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+L+"'")}let j=S;if(S===i.RED&&(X===i.FLOAT&&(j=i.R32F),X===i.HALF_FLOAT&&(j=i.R16F),X===i.UNSIGNED_BYTE&&(j=i.R8)),S===i.RED_INTEGER&&(X===i.UNSIGNED_BYTE&&(j=i.R8UI),X===i.UNSIGNED_SHORT&&(j=i.R16UI),X===i.UNSIGNED_INT&&(j=i.R32UI),X===i.BYTE&&(j=i.R8I),X===i.SHORT&&(j=i.R16I),X===i.INT&&(j=i.R32I)),S===i.RG&&(X===i.FLOAT&&(j=i.RG32F),X===i.HALF_FLOAT&&(j=i.RG16F),X===i.UNSIGNED_BYTE&&(j=i.RG8)),S===i.RG_INTEGER&&(X===i.UNSIGNED_BYTE&&(j=i.RG8UI),X===i.UNSIGNED_SHORT&&(j=i.RG16UI),X===i.UNSIGNED_INT&&(j=i.RG32UI),X===i.BYTE&&(j=i.RG8I),X===i.SHORT&&(j=i.RG16I),X===i.INT&&(j=i.RG32I)),S===i.RGB_INTEGER&&(X===i.UNSIGNED_BYTE&&(j=i.RGB8UI),X===i.UNSIGNED_SHORT&&(j=i.RGB16UI),X===i.UNSIGNED_INT&&(j=i.RGB32UI),X===i.BYTE&&(j=i.RGB8I),X===i.SHORT&&(j=i.RGB16I),X===i.INT&&(j=i.RGB32I)),S===i.RGBA_INTEGER&&(X===i.UNSIGNED_BYTE&&(j=i.RGBA8UI),X===i.UNSIGNED_SHORT&&(j=i.RGBA16UI),X===i.UNSIGNED_INT&&(j=i.RGBA32UI),X===i.BYTE&&(j=i.RGBA8I),X===i.SHORT&&(j=i.RGBA16I),X===i.INT&&(j=i.RGBA32I)),S===i.RGB&&X===i.UNSIGNED_INT_5_9_9_9_REV&&(j=i.RGB9_E5),S===i.RGBA){const Ie=ne?r_:Mt.getTransfer(se);X===i.FLOAT&&(j=i.RGBA32F),X===i.HALF_FLOAT&&(j=i.RGBA16F),X===i.UNSIGNED_BYTE&&(j=Ie===$t?i.SRGB8_ALPHA8:i.RGBA8),X===i.UNSIGNED_SHORT_4_4_4_4&&(j=i.RGBA4),X===i.UNSIGNED_SHORT_5_5_5_1&&(j=i.RGB5_A1)}return(j===i.R16F||j===i.R32F||j===i.RG16F||j===i.RG32F||j===i.RGBA16F||j===i.RGBA32F)&&e.get("EXT_color_buffer_float"),j}function m(L,S){let X;return L?S===null||S===V0||S===ix?X=i.DEPTH24_STENCIL8:S===Ba?X=i.DEPTH32F_STENCIL8:S===Df&&(X=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):S===null||S===V0||S===ix?X=i.DEPTH_COMPONENT24:S===Ba?X=i.DEPTH_COMPONENT32F:S===Df&&(X=i.DEPTH_COMPONENT16),X}function y(L,S){return d(L)===!0||L.isFramebufferTexture&&L.minFilter!==rs&&L.minFilter!==Fs?Math.log2(Math.max(S.width,S.height))+1:L.mipmaps!==void 0&&L.mipmaps.length>0?L.mipmaps.length:L.isCompressedTexture&&Array.isArray(L.image)?S.mipmaps.length:1}function E(L){const S=L.target;S.removeEventListener("dispose",E),v(S),S.isVideoTexture&&x.delete(S)}function C(L){const S=L.target;S.removeEventListener("dispose",C),w(S)}function v(L){const S=n.get(L);if(S.__webglInit===void 0)return;const X=L.source,se=h.get(X);if(se){const ne=se[S.__cacheKey];ne.usedTimes--,ne.usedTimes===0&&b(L),Object.keys(se).length===0&&h.delete(X)}n.remove(L)}function b(L){const S=n.get(L);i.deleteTexture(S.__webglTexture);const X=L.source,se=h.get(X);delete se[S.__cacheKey],a.memory.textures--}function w(L){const S=n.get(L);if(L.depthTexture&&(L.depthTexture.dispose(),n.remove(L.depthTexture)),L.isWebGLCubeRenderTarget)for(let se=0;se<6;se++){if(Array.isArray(S.__webglFramebuffer[se]))for(let ne=0;ne<S.__webglFramebuffer[se].length;ne++)i.deleteFramebuffer(S.__webglFramebuffer[se][ne]);else i.deleteFramebuffer(S.__webglFramebuffer[se]);S.__webglDepthbuffer&&i.deleteRenderbuffer(S.__webglDepthbuffer[se])}else{if(Array.isArray(S.__webglFramebuffer))for(let se=0;se<S.__webglFramebuffer.length;se++)i.deleteFramebuffer(S.__webglFramebuffer[se]);else i.deleteFramebuffer(S.__webglFramebuffer);if(S.__webglDepthbuffer&&i.deleteRenderbuffer(S.__webglDepthbuffer),S.__webglMultisampledFramebuffer&&i.deleteFramebuffer(S.__webglMultisampledFramebuffer),S.__webglColorRenderbuffer)for(let se=0;se<S.__webglColorRenderbuffer.length;se++)S.__webglColorRenderbuffer[se]&&i.deleteRenderbuffer(S.__webglColorRenderbuffer[se]);S.__webglDepthRenderbuffer&&i.deleteRenderbuffer(S.__webglDepthRenderbuffer)}const X=L.textures;for(let se=0,ne=X.length;se<ne;se++){const j=n.get(X[se]);j.__webglTexture&&(i.deleteTexture(j.__webglTexture),a.memory.textures--),n.remove(X[se])}n.remove(L)}let B=0;function R(){B=0}function Q(){const L=B;return L>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+L+" texture units while this GPU supports only "+r.maxTextures),B+=1,L}function F(L){const S=[];return S.push(L.wrapS),S.push(L.wrapT),S.push(L.wrapR||0),S.push(L.magFilter),S.push(L.minFilter),S.push(L.anisotropy),S.push(L.internalFormat),S.push(L.format),S.push(L.type),S.push(L.generateMipmaps),S.push(L.premultiplyAlpha),S.push(L.flipY),S.push(L.unpackAlignment),S.push(L.colorSpace),S.join()}function M(L,S){const X=n.get(L);if(L.isVideoTexture&&Be(L),L.isRenderTargetTexture===!1&&L.version>0&&X.__version!==L.version){const se=L.image;if(se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{G(X,L,S);return}}t.bindTexture(i.TEXTURE_2D,X.__webglTexture,i.TEXTURE0+S)}function T(L,S){const X=n.get(L);if(L.version>0&&X.__version!==L.version){G(X,L,S);return}t.bindTexture(i.TEXTURE_2D_ARRAY,X.__webglTexture,i.TEXTURE0+S)}function P(L,S){const X=n.get(L);if(L.version>0&&X.__version!==L.version){G(X,L,S);return}t.bindTexture(i.TEXTURE_3D,X.__webglTexture,i.TEXTURE0+S)}function k(L,S){const X=n.get(L);if(L.version>0&&X.__version!==L.version){O(X,L,S);return}t.bindTexture(i.TEXTURE_CUBE_MAP,X.__webglTexture,i.TEXTURE0+S)}const V={[Ub]:i.REPEAT,[G0]:i.CLAMP_TO_EDGE,[Nb]:i.MIRRORED_REPEAT},Y={[rs]:i.NEAREST,[dz]:i.NEAREST_MIPMAP_NEAREST,[Z2]:i.NEAREST_MIPMAP_LINEAR,[Fs]:i.LINEAR,[Ob]:i.LINEAR_MIPMAP_NEAREST,[z0]:i.LINEAR_MIPMAP_LINEAR},U={[Iz]:i.NEVER,[wz]:i.ALWAYS,[Ez]:i.LESS,[c8]:i.LEQUAL,[yz]:i.EQUAL,[vz]:i.GEQUAL,[Cz]:i.GREATER,[bz]:i.NOTEQUAL};function te(L,S){if(S.type===Ba&&e.has("OES_texture_float_linear")===!1&&(S.magFilter===Fs||S.magFilter===Ob||S.magFilter===Z2||S.magFilter===z0||S.minFilter===Fs||S.minFilter===Ob||S.minFilter===Z2||S.minFilter===z0)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(L,i.TEXTURE_WRAP_S,V[S.wrapS]),i.texParameteri(L,i.TEXTURE_WRAP_T,V[S.wrapT]),(L===i.TEXTURE_3D||L===i.TEXTURE_2D_ARRAY)&&i.texParameteri(L,i.TEXTURE_WRAP_R,V[S.wrapR]),i.texParameteri(L,i.TEXTURE_MAG_FILTER,Y[S.magFilter]),i.texParameteri(L,i.TEXTURE_MIN_FILTER,Y[S.minFilter]),S.compareFunction&&(i.texParameteri(L,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(L,i.TEXTURE_COMPARE_FUNC,U[S.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(S.magFilter===rs||S.minFilter!==Z2&&S.minFilter!==z0||S.type===Ba&&e.has("OES_texture_float_linear")===!1)return;if(S.anisotropy>1||n.get(S).__currentAnisotropy){const X=e.get("EXT_texture_filter_anisotropic");i.texParameterf(L,X.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(S.anisotropy,r.getMaxAnisotropy())),n.get(S).__currentAnisotropy=S.anisotropy}}}function xe(L,S){let X=!1;L.__webglInit===void 0&&(L.__webglInit=!0,S.addEventListener("dispose",E));const se=S.source;let ne=h.get(se);ne===void 0&&(ne={},h.set(se,ne));const j=F(S);if(j!==L.__cacheKey){ne[j]===void 0&&(ne[j]={texture:i.createTexture(),usedTimes:0},a.memory.textures++,X=!0),ne[j].usedTimes++;const Ie=ne[L.__cacheKey];Ie!==void 0&&(ne[L.__cacheKey].usedTimes--,Ie.usedTimes===0&&b(S)),L.__cacheKey=j,L.__webglTexture=ne[j].texture}return X}function G(L,S,X){let se=i.TEXTURE_2D;(S.isDataArrayTexture||S.isCompressedArrayTexture)&&(se=i.TEXTURE_2D_ARRAY),S.isData3DTexture&&(se=i.TEXTURE_3D);const ne=xe(L,S),j=S.source;t.bindTexture(se,L.__webglTexture,i.TEXTURE0+X);const Ie=n.get(j);if(j.version!==Ie.__version||ne===!0){t.activeTexture(i.TEXTURE0+X);const fe=Mt.getPrimaries(Mt.workingColorSpace),ue=S.colorSpace===ko?null:Mt.getPrimaries(S.colorSpace),Te=S.colorSpace===ko||fe===ue?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,S.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,S.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,S.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Te);let le=g(S.image,!1,r.maxTextureSize);le=ke(S,le);const me=s.convert(S.format,S.colorSpace),Fe=s.convert(S.type);let Ue=I(S.internalFormat,me,Fe,S.colorSpace,S.isVideoTexture);te(se,S);let ye;const Xe=S.mipmaps,Qe=S.isVideoTexture!==!0,rt=Ie.__version===void 0||ne===!0,z=j.dataReady,_e=y(S,le);if(S.isDepthTexture)Ue=m(S.format===sx,S.type),rt&&(Qe?t.texStorage2D(i.TEXTURE_2D,1,Ue,le.width,le.height):t.texImage2D(i.TEXTURE_2D,0,Ue,le.width,le.height,0,me,Fe,null));else if(S.isDataTexture)if(Xe.length>0){Qe&&rt&&t.texStorage2D(i.TEXTURE_2D,_e,Ue,Xe[0].width,Xe[0].height);for(let J=0,re=Xe.length;J<re;J++)ye=Xe[J],Qe?z&&t.texSubImage2D(i.TEXTURE_2D,J,0,0,ye.width,ye.height,me,Fe,ye.data):t.texImage2D(i.TEXTURE_2D,J,Ue,ye.width,ye.height,0,me,Fe,ye.data);S.generateMipmaps=!1}else Qe?(rt&&t.texStorage2D(i.TEXTURE_2D,_e,Ue,le.width,le.height),z&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,le.width,le.height,me,Fe,le.data)):t.texImage2D(i.TEXTURE_2D,0,Ue,le.width,le.height,0,me,Fe,le.data);else if(S.isCompressedTexture)if(S.isCompressedArrayTexture){Qe&&rt&&t.texStorage3D(i.TEXTURE_2D_ARRAY,_e,Ue,Xe[0].width,Xe[0].height,le.depth);for(let J=0,re=Xe.length;J<re;J++)if(ye=Xe[J],S.format!==ss)if(me!==null)if(Qe){if(z)if(S.layerUpdates.size>0){const we=j8(ye.width,ye.height,S.format,S.type);for(const ve of S.layerUpdates){const Ke=ye.data.subarray(ve*we/ye.data.BYTES_PER_ELEMENT,(ve+1)*we/ye.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,J,0,0,ve,ye.width,ye.height,1,me,Ke)}S.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,J,0,0,0,ye.width,ye.height,le.depth,me,ye.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,J,Ue,ye.width,ye.height,le.depth,0,ye.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Qe?z&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,J,0,0,0,ye.width,ye.height,le.depth,me,Fe,ye.data):t.texImage3D(i.TEXTURE_2D_ARRAY,J,Ue,ye.width,ye.height,le.depth,0,me,Fe,ye.data)}else{Qe&&rt&&t.texStorage2D(i.TEXTURE_2D,_e,Ue,Xe[0].width,Xe[0].height);for(let J=0,re=Xe.length;J<re;J++)ye=Xe[J],S.format!==ss?me!==null?Qe?z&&t.compressedTexSubImage2D(i.TEXTURE_2D,J,0,0,ye.width,ye.height,me,ye.data):t.compressedTexImage2D(i.TEXTURE_2D,J,Ue,ye.width,ye.height,0,ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Qe?z&&t.texSubImage2D(i.TEXTURE_2D,J,0,0,ye.width,ye.height,me,Fe,ye.data):t.texImage2D(i.TEXTURE_2D,J,Ue,ye.width,ye.height,0,me,Fe,ye.data)}else if(S.isDataArrayTexture)if(Qe){if(rt&&t.texStorage3D(i.TEXTURE_2D_ARRAY,_e,Ue,le.width,le.height,le.depth),z)if(S.layerUpdates.size>0){const J=j8(le.width,le.height,S.format,S.type);for(const re of S.layerUpdates){const we=le.data.subarray(re*J/le.data.BYTES_PER_ELEMENT,(re+1)*J/le.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,re,le.width,le.height,1,me,Fe,we)}S.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,le.width,le.height,le.depth,me,Fe,le.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,Ue,le.width,le.height,le.depth,0,me,Fe,le.data);else if(S.isData3DTexture)Qe?(rt&&t.texStorage3D(i.TEXTURE_3D,_e,Ue,le.width,le.height,le.depth),z&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,le.width,le.height,le.depth,me,Fe,le.data)):t.texImage3D(i.TEXTURE_3D,0,Ue,le.width,le.height,le.depth,0,me,Fe,le.data);else if(S.isFramebufferTexture){if(rt)if(Qe)t.texStorage2D(i.TEXTURE_2D,_e,Ue,le.width,le.height);else{let J=le.width,re=le.height;for(let we=0;we<_e;we++)t.texImage2D(i.TEXTURE_2D,we,Ue,J,re,0,me,Fe,null),J>>=1,re>>=1}}else if(Xe.length>0){if(Qe&&rt){const J=Re(Xe[0]);t.texStorage2D(i.TEXTURE_2D,_e,Ue,J.width,J.height)}for(let J=0,re=Xe.length;J<re;J++)ye=Xe[J],Qe?z&&t.texSubImage2D(i.TEXTURE_2D,J,0,0,me,Fe,ye):t.texImage2D(i.TEXTURE_2D,J,Ue,me,Fe,ye);S.generateMipmaps=!1}else if(Qe){if(rt){const J=Re(le);t.texStorage2D(i.TEXTURE_2D,_e,Ue,J.width,J.height)}z&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,me,Fe,le)}else t.texImage2D(i.TEXTURE_2D,0,Ue,me,Fe,le);d(S)&&p(se),Ie.__version=j.version,S.onUpdate&&S.onUpdate(S)}L.__version=S.version}function O(L,S,X){if(S.image.length!==6)return;const se=xe(L,S),ne=S.source;t.bindTexture(i.TEXTURE_CUBE_MAP,L.__webglTexture,i.TEXTURE0+X);const j=n.get(ne);if(ne.version!==j.__version||se===!0){t.activeTexture(i.TEXTURE0+X);const Ie=Mt.getPrimaries(Mt.workingColorSpace),fe=S.colorSpace===ko?null:Mt.getPrimaries(S.colorSpace),ue=S.colorSpace===ko||Ie===fe?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,S.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,S.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,S.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,ue);const Te=S.isCompressedTexture||S.image[0].isCompressedTexture,le=S.image[0]&&S.image[0].isDataTexture,me=[];for(let re=0;re<6;re++)!Te&&!le?me[re]=g(S.image[re],!0,r.maxCubemapSize):me[re]=le?S.image[re].image:S.image[re],me[re]=ke(S,me[re]);const Fe=me[0],Ue=s.convert(S.format,S.colorSpace),ye=s.convert(S.type),Xe=I(S.internalFormat,Ue,ye,S.colorSpace),Qe=S.isVideoTexture!==!0,rt=j.__version===void 0||se===!0,z=ne.dataReady;let _e=y(S,Fe);te(i.TEXTURE_CUBE_MAP,S);let J;if(Te){Qe&&rt&&t.texStorage2D(i.TEXTURE_CUBE_MAP,_e,Xe,Fe.width,Fe.height);for(let re=0;re<6;re++){J=me[re].mipmaps;for(let we=0;we<J.length;we++){const ve=J[we];S.format!==ss?Ue!==null?Qe?z&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we,0,0,ve.width,ve.height,Ue,ve.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we,Xe,ve.width,ve.height,0,ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Qe?z&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we,0,0,ve.width,ve.height,Ue,ye,ve.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we,Xe,ve.width,ve.height,0,Ue,ye,ve.data)}}}else{if(J=S.mipmaps,Qe&&rt){J.length>0&&_e++;const re=Re(me[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,_e,Xe,re.width,re.height)}for(let re=0;re<6;re++)if(le){Qe?z&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,0,0,0,me[re].width,me[re].height,Ue,ye,me[re].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,0,Xe,me[re].width,me[re].height,0,Ue,ye,me[re].data);for(let we=0;we<J.length;we++){const Ke=J[we].image[re].image;Qe?z&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we+1,0,0,Ke.width,Ke.height,Ue,ye,Ke.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we+1,Xe,Ke.width,Ke.height,0,Ue,ye,Ke.data)}}else{Qe?z&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,0,0,0,Ue,ye,me[re]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,0,Xe,Ue,ye,me[re]);for(let we=0;we<J.length;we++){const ve=J[we];Qe?z&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we+1,0,0,Ue,ye,ve.image[re]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+re,we+1,Xe,Ue,ye,ve.image[re])}}}d(S)&&p(i.TEXTURE_CUBE_MAP),j.__version=ne.version,S.onUpdate&&S.onUpdate(S)}L.__version=S.version}function ee(L,S,X,se,ne,j){const Ie=s.convert(X.format,X.colorSpace),fe=s.convert(X.type),ue=I(X.internalFormat,Ie,fe,X.colorSpace),Te=n.get(S),le=n.get(X);if(le.__renderTarget=S,!Te.__hasExternalTextures){const me=Math.max(1,S.width>>j),Fe=Math.max(1,S.height>>j);ne===i.TEXTURE_3D||ne===i.TEXTURE_2D_ARRAY?t.texImage3D(ne,j,ue,me,Fe,S.depth,0,Ie,fe,null):t.texImage2D(ne,j,ue,me,Fe,0,Ie,fe,null)}t.bindFramebuffer(i.FRAMEBUFFER,L),Ge(S)?o.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,se,ne,le.__webglTexture,0,ze(S)):(ne===i.TEXTURE_2D||ne>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&ne<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,se,ne,le.__webglTexture,j),t.bindFramebuffer(i.FRAMEBUFFER,null)}function K(L,S,X){if(i.bindRenderbuffer(i.RENDERBUFFER,L),S.depthBuffer){const se=S.depthTexture,ne=se&&se.isDepthTexture?se.type:null,j=m(S.stencilBuffer,ne),Ie=S.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,fe=ze(S);Ge(S)?o.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,fe,j,S.width,S.height):X?i.renderbufferStorageMultisample(i.RENDERBUFFER,fe,j,S.width,S.height):i.renderbufferStorage(i.RENDERBUFFER,j,S.width,S.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ie,i.RENDERBUFFER,L)}else{const se=S.textures;for(let ne=0;ne<se.length;ne++){const j=se[ne],Ie=s.convert(j.format,j.colorSpace),fe=s.convert(j.type),ue=I(j.internalFormat,Ie,fe,j.colorSpace),Te=ze(S);X&&Ge(S)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,Te,ue,S.width,S.height):Ge(S)?o.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Te,ue,S.width,S.height):i.renderbufferStorage(i.RENDERBUFFER,ue,S.width,S.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function ce(L,S){if(S&&S.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,L),!(S.depthTexture&&S.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const se=n.get(S.depthTexture);se.__renderTarget=S,(!se.__webglTexture||S.depthTexture.image.width!==S.width||S.depthTexture.image.height!==S.height)&&(S.depthTexture.image.width=S.width,S.depthTexture.image.height=S.height,S.depthTexture.needsUpdate=!0),M(S.depthTexture,0);const ne=se.__webglTexture,j=ze(S);if(S.depthTexture.format===rx)Ge(S)?o.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ne,0,j):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ne,0);else if(S.depthTexture.format===sx)Ge(S)?o.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ne,0,j):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ne,0);else throw new Error("Unknown depthTexture format")}function Ae(L){const S=n.get(L),X=L.isWebGLCubeRenderTarget===!0;if(S.__boundDepthTexture!==L.depthTexture){const se=L.depthTexture;if(S.__depthDisposeCallback&&S.__depthDisposeCallback(),se){const ne=()=>{delete S.__boundDepthTexture,delete S.__depthDisposeCallback,se.removeEventListener("dispose",ne)};se.addEventListener("dispose",ne),S.__depthDisposeCallback=ne}S.__boundDepthTexture=se}if(L.depthTexture&&!S.__autoAllocateDepthBuffer){if(X)throw new Error("target.depthTexture not supported in Cube render targets");ce(S.__webglFramebuffer,L)}else if(X){S.__webglDepthbuffer=[];for(let se=0;se<6;se++)if(t.bindFramebuffer(i.FRAMEBUFFER,S.__webglFramebuffer[se]),S.__webglDepthbuffer[se]===void 0)S.__webglDepthbuffer[se]=i.createRenderbuffer(),K(S.__webglDepthbuffer[se],L,!1);else{const ne=L.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,j=S.__webglDepthbuffer[se];i.bindRenderbuffer(i.RENDERBUFFER,j),i.framebufferRenderbuffer(i.FRAMEBUFFER,ne,i.RENDERBUFFER,j)}}else if(t.bindFramebuffer(i.FRAMEBUFFER,S.__webglFramebuffer),S.__webglDepthbuffer===void 0)S.__webglDepthbuffer=i.createRenderbuffer(),K(S.__webglDepthbuffer,L,!1);else{const se=L.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,ne=S.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,ne),i.framebufferRenderbuffer(i.FRAMEBUFFER,se,i.RENDERBUFFER,ne)}t.bindFramebuffer(i.FRAMEBUFFER,null)}function ge(L,S,X){const se=n.get(L);S!==void 0&&ee(se.__webglFramebuffer,L,L.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),X!==void 0&&Ae(L)}function oe(L){const S=L.texture,X=n.get(L),se=n.get(S);L.addEventListener("dispose",C);const ne=L.textures,j=L.isWebGLCubeRenderTarget===!0,Ie=ne.length>1;if(Ie||(se.__webglTexture===void 0&&(se.__webglTexture=i.createTexture()),se.__version=S.version,a.memory.textures++),j){X.__webglFramebuffer=[];for(let fe=0;fe<6;fe++)if(S.mipmaps&&S.mipmaps.length>0){X.__webglFramebuffer[fe]=[];for(let ue=0;ue<S.mipmaps.length;ue++)X.__webglFramebuffer[fe][ue]=i.createFramebuffer()}else X.__webglFramebuffer[fe]=i.createFramebuffer()}else{if(S.mipmaps&&S.mipmaps.length>0){X.__webglFramebuffer=[];for(let fe=0;fe<S.mipmaps.length;fe++)X.__webglFramebuffer[fe]=i.createFramebuffer()}else X.__webglFramebuffer=i.createFramebuffer();if(Ie)for(let fe=0,ue=ne.length;fe<ue;fe++){const Te=n.get(ne[fe]);Te.__webglTexture===void 0&&(Te.__webglTexture=i.createTexture(),a.memory.textures++)}if(L.samples>0&&Ge(L)===!1){X.__webglMultisampledFramebuffer=i.createFramebuffer(),X.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,X.__webglMultisampledFramebuffer);for(let fe=0;fe<ne.length;fe++){const ue=ne[fe];X.__webglColorRenderbuffer[fe]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,X.__webglColorRenderbuffer[fe]);const Te=s.convert(ue.format,ue.colorSpace),le=s.convert(ue.type),me=I(ue.internalFormat,Te,le,ue.colorSpace,L.isXRRenderTarget===!0),Fe=ze(L);i.renderbufferStorageMultisample(i.RENDERBUFFER,Fe,me,L.width,L.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+fe,i.RENDERBUFFER,X.__webglColorRenderbuffer[fe])}i.bindRenderbuffer(i.RENDERBUFFER,null),L.depthBuffer&&(X.__webglDepthRenderbuffer=i.createRenderbuffer(),K(X.__webglDepthRenderbuffer,L,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(j){t.bindTexture(i.TEXTURE_CUBE_MAP,se.__webglTexture),te(i.TEXTURE_CUBE_MAP,S);for(let fe=0;fe<6;fe++)if(S.mipmaps&&S.mipmaps.length>0)for(let ue=0;ue<S.mipmaps.length;ue++)ee(X.__webglFramebuffer[fe][ue],L,S,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+fe,ue);else ee(X.__webglFramebuffer[fe],L,S,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0);d(S)&&p(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ie){for(let fe=0,ue=ne.length;fe<ue;fe++){const Te=ne[fe],le=n.get(Te);t.bindTexture(i.TEXTURE_2D,le.__webglTexture),te(i.TEXTURE_2D,Te),ee(X.__webglFramebuffer,L,Te,i.COLOR_ATTACHMENT0+fe,i.TEXTURE_2D,0),d(Te)&&p(i.TEXTURE_2D)}t.unbindTexture()}else{let fe=i.TEXTURE_2D;if((L.isWebGL3DRenderTarget||L.isWebGLArrayRenderTarget)&&(fe=L.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(fe,se.__webglTexture),te(fe,S),S.mipmaps&&S.mipmaps.length>0)for(let ue=0;ue<S.mipmaps.length;ue++)ee(X.__webglFramebuffer[ue],L,S,i.COLOR_ATTACHMENT0,fe,ue);else ee(X.__webglFramebuffer,L,S,i.COLOR_ATTACHMENT0,fe,0);d(S)&&p(fe),t.unbindTexture()}L.depthBuffer&&Ae(L)}function Se(L){const S=L.textures;for(let X=0,se=S.length;X<se;X++){const ne=S[X];if(d(ne)){const j=_(L),Ie=n.get(ne).__webglTexture;t.bindTexture(j,Ie),p(j),t.unbindTexture()}}}const At=[],N=[];function Nt(L){if(L.samples>0){if(Ge(L)===!1){const S=L.textures,X=L.width,se=L.height;let ne=i.COLOR_BUFFER_BIT;const j=L.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ie=n.get(L),fe=S.length>1;if(fe)for(let ue=0;ue<S.length;ue++)t.bindFramebuffer(i.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ue,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,Ie.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ue,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,Ie.__webglFramebuffer);for(let ue=0;ue<S.length;ue++){if(L.resolveDepthBuffer&&(L.depthBuffer&&(ne|=i.DEPTH_BUFFER_BIT),L.stencilBuffer&&L.resolveStencilBuffer&&(ne|=i.STENCIL_BUFFER_BIT)),fe){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,Ie.__webglColorRenderbuffer[ue]);const Te=n.get(S[ue]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Te,0)}i.blitFramebuffer(0,0,X,se,0,0,X,se,ne,i.NEAREST),l===!0&&(At.length=0,N.length=0,At.push(i.COLOR_ATTACHMENT0+ue),L.depthBuffer&&L.resolveDepthBuffer===!1&&(At.push(j),N.push(j),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,N)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,At))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),fe)for(let ue=0;ue<S.length;ue++){t.bindFramebuffer(i.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ue,i.RENDERBUFFER,Ie.__webglColorRenderbuffer[ue]);const Te=n.get(S[ue]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,Ie.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ue,i.TEXTURE_2D,Te,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer)}else if(L.depthBuffer&&L.resolveDepthBuffer===!1&&l){const S=L.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[S])}}}function ze(L){return Math.min(r.maxSamples,L.samples)}function Ge(L){const S=n.get(L);return L.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&S.__useRenderToTexture!==!1}function Be(L){const S=a.render.frame;x.get(L)!==S&&(x.set(L,S),L.update())}function ke(L,S){const X=L.colorSpace,se=L.format,ne=L.type;return L.isCompressedTexture===!0||L.isVideoTexture===!0||X!==ax&&X!==ko&&(Mt.getTransfer(X)===$t?(se!==ss||ne!==wa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",X)),S}function Re(L){return typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement?(c.width=L.naturalWidth||L.width,c.height=L.naturalHeight||L.height):typeof VideoFrame<"u"&&L instanceof VideoFrame?(c.width=L.displayWidth,c.height=L.displayHeight):(c.width=L.width,c.height=L.height),c}this.allocateTextureUnit=Q,this.resetTextureUnits=R,this.setTexture2D=M,this.setTexture2DArray=T,this.setTexture3D=P,this.setTextureCube=k,this.rebindTextures=ge,this.setupRenderTarget=oe,this.updateRenderTargetMipmap=Se,this.updateMultisampleRenderTarget=Nt,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=ee,this.useMultisampledRTT=Ge}function IX(i,e){function t(n,r=ko){let s;const a=Mt.getTransfer(r);if(n===wa)return i.UNSIGNED_BYTE;if(n===zb)return i.UNSIGNED_SHORT_4_4_4_4;if(n===Vb)return i.UNSIGNED_SHORT_5_5_5_1;if(n===$M)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===JM)return i.BYTE;if(n===ZM)return i.SHORT;if(n===Df)return i.UNSIGNED_SHORT;if(n===Gb)return i.INT;if(n===V0)return i.UNSIGNED_INT;if(n===Ba)return i.FLOAT;if(n===Qf)return i.HALF_FLOAT;if(n===e8)return i.ALPHA;if(n===t8)return i.RGB;if(n===ss)return i.RGBA;if(n===n8)return i.LUMINANCE;if(n===i8)return i.LUMINANCE_ALPHA;if(n===rx)return i.DEPTH_COMPONENT;if(n===sx)return i.DEPTH_STENCIL;if(n===r8)return i.RED;if(n===Hb)return i.RED_INTEGER;if(n===s8)return i.RG;if(n===qb)return i.RG_INTEGER;if(n===Yb)return i.RGBA_INTEGER;if(n===$2||n===e_||n===t_||n===n_)if(a===$t)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(n===$2)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===e_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===t_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===n_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(n===$2)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===e_)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===t_)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===n_)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===Xb||n===Wb||n===jb||n===Kb)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(n===Xb)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Wb)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===jb)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Kb)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===Jb||n===Zb||n===$b)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(n===Jb||n===Zb)return a===$t?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(n===$b)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===ev||n===tv||n===nv||n===iv||n===rv||n===sv||n===av||n===ov||n===cv||n===lv||n===xv||n===uv||n===hv||n===fv)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(n===ev)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===tv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===nv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===iv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===rv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===sv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===av)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===ov)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===cv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===lv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===xv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===uv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===hv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===fv)return a===$t?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===i_||n===Av||n===dv)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(n===i_)return a===$t?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Av)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===dv)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===a8||n===pv||n===gv||n===mv)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(n===i_)return s.COMPRESSED_RED_RGTC1_EXT;if(n===pv)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===gv)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===mv)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===ix?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const EX={type:"move"};class Zv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new K0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new K0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new W,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new W),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new K0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new W,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new W),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const g of e.hand.values()){const d=t.getJointPose(g,n),p=this._getHandJoint(c,g);d!==null&&(p.matrix.fromArray(d.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=d.radius),p.visible=d!==null}const x=c.joints["index-finger-tip"],u=c.joints["thumb-tip"],h=x.position.distanceTo(u.position),f=.02,A=.005;c.inputState.pinching&&h>f+A?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-A&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(EX)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new K0;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}const yX=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,CX=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class bX{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(this.texture===null){const r=new Qi,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!=n.depthNear||t.depthFar!=n.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new ka({vertexShader:yX,fragmentShader:CX,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ks(new B_(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class vX extends cx{constructor(e,t){super();const n=this;let r=null,s=1,a=null,o="local-floor",l=1,c=null,x=null,u=null,h=null,f=null,A=null;const g=new bX,d=t.getContextAttributes();let p=null,_=null;const I=[],m=[],y=new It;let E=null;const C=new us;C.viewport=new cn;const v=new us;v.viewport=new cn;const b=[C,v],w=new vV;let B=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let O=I[G];return O===void 0&&(O=new Zv,I[G]=O),O.getTargetRaySpace()},this.getControllerGrip=function(G){let O=I[G];return O===void 0&&(O=new Zv,I[G]=O),O.getGripSpace()},this.getHand=function(G){let O=I[G];return O===void 0&&(O=new Zv,I[G]=O),O.getHandSpace()};function Q(G){const O=m.indexOf(G.inputSource);if(O===-1)return;const ee=I[O];ee!==void 0&&(ee.update(G.inputSource,G.frame,c||a),ee.dispatchEvent({type:G.type,data:G.inputSource}))}function F(){r.removeEventListener("select",Q),r.removeEventListener("selectstart",Q),r.removeEventListener("selectend",Q),r.removeEventListener("squeeze",Q),r.removeEventListener("squeezestart",Q),r.removeEventListener("squeezeend",Q),r.removeEventListener("end",F),r.removeEventListener("inputsourceschange",M);for(let G=0;G<I.length;G++){const O=m[G];O!==null&&(m[G]=null,I[G].disconnect(O))}B=null,R=null,g.reset(),e.setRenderTarget(p),f=null,h=null,u=null,r=null,_=null,xe.stop(),n.isPresenting=!1,e.setPixelRatio(E),e.setSize(y.width,y.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){s=G,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){o=G,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(G){c=G},this.getBaseLayer=function(){return h!==null?h:f},this.getBinding=function(){return u},this.getFrame=function(){return A},this.getSession=function(){return r},this.setSession=async function(G){if(r=G,r!==null){if(p=e.getRenderTarget(),r.addEventListener("select",Q),r.addEventListener("selectstart",Q),r.addEventListener("selectend",Q),r.addEventListener("squeeze",Q),r.addEventListener("squeezestart",Q),r.addEventListener("squeezeend",Q),r.addEventListener("end",F),r.addEventListener("inputsourceschange",M),d.xrCompatible!==!0&&await t.makeXRCompatible(),E=e.getPixelRatio(),e.getSize(y),r.renderState.layers===void 0){const O={antialias:d.antialias,alpha:!0,depth:d.depth,stencil:d.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(r,t,O),r.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),_=new H0(f.framebufferWidth,f.framebufferHeight,{format:ss,type:wa,colorSpace:e.outputColorSpace,stencilBuffer:d.stencil})}else{let O=null,ee=null,K=null;d.depth&&(K=d.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,O=d.stencil?sx:rx,ee=d.stencil?ix:V0);const ce={colorFormat:t.RGBA8,depthFormat:K,scaleFactor:s};u=new XRWebGLBinding(r,t),h=u.createProjectionLayer(ce),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),_=new H0(h.textureWidth,h.textureHeight,{format:ss,type:wa,depthTexture:new q8(h.textureWidth,h.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,O),stencilBuffer:d.stencil,colorSpace:e.outputColorSpace,samples:d.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}_.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await r.requestReferenceSpace(o),xe.setContext(r),xe.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return g.getDepthTexture()};function M(G){for(let O=0;O<G.removed.length;O++){const ee=G.removed[O],K=m.indexOf(ee);K>=0&&(m[K]=null,I[K].disconnect(ee))}for(let O=0;O<G.added.length;O++){const ee=G.added[O];let K=m.indexOf(ee);if(K===-1){for(let Ae=0;Ae<I.length;Ae++)if(Ae>=m.length){m.push(ee),K=Ae;break}else if(m[Ae]===null){m[Ae]=ee,K=Ae;break}if(K===-1)break}const ce=I[K];ce&&ce.connect(ee)}}const T=new W,P=new W;function k(G,O,ee){T.setFromMatrixPosition(O.matrixWorld),P.setFromMatrixPosition(ee.matrixWorld);const K=T.distanceTo(P),ce=O.projectionMatrix.elements,Ae=ee.projectionMatrix.elements,ge=ce[14]/(ce[10]-1),oe=ce[14]/(ce[10]+1),Se=(ce[9]+1)/ce[5],At=(ce[9]-1)/ce[5],N=(ce[8]-1)/ce[0],Nt=(Ae[8]+1)/Ae[0],ze=ge*N,Ge=ge*Nt,Be=K/(-N+Nt),ke=Be*-N;if(O.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(ke),G.translateZ(Be),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert(),ce[10]===-1)G.projectionMatrix.copy(O.projectionMatrix),G.projectionMatrixInverse.copy(O.projectionMatrixInverse);else{const Re=ge+Be,L=oe+Be,S=ze-ke,X=Ge+(K-ke),se=Se*oe/L*Re,ne=At*oe/L*Re;G.projectionMatrix.makePerspective(S,X,se,ne,Re,L),G.projectionMatrixInverse.copy(G.projectionMatrix).invert()}}function V(G,O){O===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(O.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(r===null)return;let O=G.near,ee=G.far;g.texture!==null&&(g.depthNear>0&&(O=g.depthNear),g.depthFar>0&&(ee=g.depthFar)),w.near=v.near=C.near=O,w.far=v.far=C.far=ee,(B!==w.near||R!==w.far)&&(r.updateRenderState({depthNear:w.near,depthFar:w.far}),B=w.near,R=w.far),C.layers.mask=G.layers.mask|2,v.layers.mask=G.layers.mask|4,w.layers.mask=C.layers.mask|v.layers.mask;const K=G.parent,ce=w.cameras;V(w,K);for(let Ae=0;Ae<ce.length;Ae++)V(ce[Ae],K);ce.length===2?k(w,C,v):w.projectionMatrix.copy(C.projectionMatrix),Y(G,w,K)};function Y(G,O,ee){ee===null?G.matrix.copy(O.matrixWorld):(G.matrix.copy(ee.matrixWorld),G.matrix.invert(),G.matrix.multiply(O.matrixWorld)),G.matrix.decompose(G.position,G.quaternion,G.scale),G.updateMatrixWorld(!0),G.projectionMatrix.copy(O.projectionMatrix),G.projectionMatrixInverse.copy(O.projectionMatrixInverse),G.isPerspectiveCamera&&(G.fov=Lf*2*Math.atan(1/G.projectionMatrix.elements[5]),G.zoom=1)}this.getCamera=function(){return w},this.getFoveation=function(){if(!(h===null&&f===null))return l},this.setFoveation=function(G){l=G,h!==null&&(h.fixedFoveation=G),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=G)},this.hasDepthSensing=function(){return g.texture!==null},this.getDepthSensingMesh=function(){return g.getMesh(w)};let U=null;function te(G,O){if(x=O.getViewerPose(c||a),A=O,x!==null){const ee=x.views;f!==null&&(e.setRenderTargetFramebuffer(_,f.framebuffer),e.setRenderTarget(_));let K=!1;ee.length!==w.cameras.length&&(w.cameras.length=0,K=!0);for(let Ae=0;Ae<ee.length;Ae++){const ge=ee[Ae];let oe=null;if(f!==null)oe=f.getViewport(ge);else{const At=u.getViewSubImage(h,ge);oe=At.viewport,Ae===0&&(e.setRenderTargetTextures(_,At.colorTexture,h.ignoreDepthValues?void 0:At.depthStencilTexture),e.setRenderTarget(_))}let Se=b[Ae];Se===void 0&&(Se=new us,Se.layers.enable(Ae),Se.viewport=new cn,b[Ae]=Se),Se.matrix.fromArray(ge.transform.matrix),Se.matrix.decompose(Se.position,Se.quaternion,Se.scale),Se.projectionMatrix.fromArray(ge.projectionMatrix),Se.projectionMatrixInverse.copy(Se.projectionMatrix).invert(),Se.viewport.set(oe.x,oe.y,oe.width,oe.height),Ae===0&&(w.matrix.copy(Se.matrix),w.matrix.decompose(w.position,w.quaternion,w.scale)),K===!0&&w.cameras.push(Se)}const ce=r.enabledFeatures;if(ce&&ce.includes("depth-sensing")){const Ae=u.getDepthInformation(ee[0]);Ae&&Ae.isValid&&Ae.texture&&g.init(e,Ae,r.renderState)}}for(let ee=0;ee<I.length;ee++){const K=m[ee],ce=I[ee];K!==null&&ce!==void 0&&ce.update(K,O,c||a)}U&&U(G,O),O.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:O}),A=null}const xe=new K8;xe.setAnimationLoop(te),this.setAnimationLoop=function(G){U=G},this.dispose=function(){}}}const ec=new Qa,wX=new mn;function BX(i,e){function t(d,p){d.matrixAutoUpdate===!0&&d.updateMatrix(),p.value.copy(d.matrix)}function n(d,p){p.color.getRGB(d.fogColor.value,F8(i)),p.isFog?(d.fogNear.value=p.near,d.fogFar.value=p.far):p.isFogExp2&&(d.fogDensity.value=p.density)}function r(d,p,_,I,m){p.isMeshBasicMaterial||p.isMeshLambertMaterial?s(d,p):p.isMeshToonMaterial?(s(d,p),u(d,p)):p.isMeshPhongMaterial?(s(d,p),x(d,p)):p.isMeshStandardMaterial?(s(d,p),h(d,p),p.isMeshPhysicalMaterial&&f(d,p,m)):p.isMeshMatcapMaterial?(s(d,p),A(d,p)):p.isMeshDepthMaterial?s(d,p):p.isMeshDistanceMaterial?(s(d,p),g(d,p)):p.isMeshNormalMaterial?s(d,p):p.isLineBasicMaterial?(a(d,p),p.isLineDashedMaterial&&o(d,p)):p.isPointsMaterial?l(d,p,_,I):p.isSpriteMaterial?c(d,p):p.isShadowMaterial?(d.color.value.copy(p.color),d.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function s(d,p){d.opacity.value=p.opacity,p.color&&d.diffuse.value.copy(p.color),p.emissive&&d.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(d.map.value=p.map,t(p.map,d.mapTransform)),p.alphaMap&&(d.alphaMap.value=p.alphaMap,t(p.alphaMap,d.alphaMapTransform)),p.bumpMap&&(d.bumpMap.value=p.bumpMap,t(p.bumpMap,d.bumpMapTransform),d.bumpScale.value=p.bumpScale,p.side===er&&(d.bumpScale.value*=-1)),p.normalMap&&(d.normalMap.value=p.normalMap,t(p.normalMap,d.normalMapTransform),d.normalScale.value.copy(p.normalScale),p.side===er&&d.normalScale.value.negate()),p.displacementMap&&(d.displacementMap.value=p.displacementMap,t(p.displacementMap,d.displacementMapTransform),d.displacementScale.value=p.displacementScale,d.displacementBias.value=p.displacementBias),p.emissiveMap&&(d.emissiveMap.value=p.emissiveMap,t(p.emissiveMap,d.emissiveMapTransform)),p.specularMap&&(d.specularMap.value=p.specularMap,t(p.specularMap,d.specularMapTransform)),p.alphaTest>0&&(d.alphaTest.value=p.alphaTest);const _=e.get(p),I=_.envMap,m=_.envMapRotation;I&&(d.envMap.value=I,ec.copy(m),ec.x*=-1,ec.y*=-1,ec.z*=-1,I.isCubeTexture&&I.isRenderTargetTexture===!1&&(ec.y*=-1,ec.z*=-1),d.envMapRotation.value.setFromMatrix4(wX.makeRotationFromEuler(ec)),d.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,d.reflectivity.value=p.reflectivity,d.ior.value=p.ior,d.refractionRatio.value=p.refractionRatio),p.lightMap&&(d.lightMap.value=p.lightMap,d.lightMapIntensity.value=p.lightMapIntensity,t(p.lightMap,d.lightMapTransform)),p.aoMap&&(d.aoMap.value=p.aoMap,d.aoMapIntensity.value=p.aoMapIntensity,t(p.aoMap,d.aoMapTransform))}function a(d,p){d.diffuse.value.copy(p.color),d.opacity.value=p.opacity,p.map&&(d.map.value=p.map,t(p.map,d.mapTransform))}function o(d,p){d.dashSize.value=p.dashSize,d.totalSize.value=p.dashSize+p.gapSize,d.scale.value=p.scale}function l(d,p,_,I){d.diffuse.value.copy(p.color),d.opacity.value=p.opacity,d.size.value=p.size*_,d.scale.value=I*.5,p.map&&(d.map.value=p.map,t(p.map,d.uvTransform)),p.alphaMap&&(d.alphaMap.value=p.alphaMap,t(p.alphaMap,d.alphaMapTransform)),p.alphaTest>0&&(d.alphaTest.value=p.alphaTest)}function c(d,p){d.diffuse.value.copy(p.color),d.opacity.value=p.opacity,d.rotation.value=p.rotation,p.map&&(d.map.value=p.map,t(p.map,d.mapTransform)),p.alphaMap&&(d.alphaMap.value=p.alphaMap,t(p.alphaMap,d.alphaMapTransform)),p.alphaTest>0&&(d.alphaTest.value=p.alphaTest)}function x(d,p){d.specular.value.copy(p.specular),d.shininess.value=Math.max(p.shininess,1e-4)}function u(d,p){p.gradientMap&&(d.gradientMap.value=p.gradientMap)}function h(d,p){d.metalness.value=p.metalness,p.metalnessMap&&(d.metalnessMap.value=p.metalnessMap,t(p.metalnessMap,d.metalnessMapTransform)),d.roughness.value=p.roughness,p.roughnessMap&&(d.roughnessMap.value=p.roughnessMap,t(p.roughnessMap,d.roughnessMapTransform)),p.envMap&&(d.envMapIntensity.value=p.envMapIntensity)}function f(d,p,_){d.ior.value=p.ior,p.sheen>0&&(d.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),d.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(d.sheenColorMap.value=p.sheenColorMap,t(p.sheenColorMap,d.sheenColorMapTransform)),p.sheenRoughnessMap&&(d.sheenRoughnessMap.value=p.sheenRoughnessMap,t(p.sheenRoughnessMap,d.sheenRoughnessMapTransform))),p.clearcoat>0&&(d.clearcoat.value=p.clearcoat,d.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(d.clearcoatMap.value=p.clearcoatMap,t(p.clearcoatMap,d.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(d.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,t(p.clearcoatRoughnessMap,d.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(d.clearcoatNormalMap.value=p.clearcoatNormalMap,t(p.clearcoatNormalMap,d.clearcoatNormalMapTransform),d.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===er&&d.clearcoatNormalScale.value.negate())),p.dispersion>0&&(d.dispersion.value=p.dispersion),p.iridescence>0&&(d.iridescence.value=p.iridescence,d.iridescenceIOR.value=p.iridescenceIOR,d.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],d.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(d.iridescenceMap.value=p.iridescenceMap,t(p.iridescenceMap,d.iridescenceMapTransform)),p.iridescenceThicknessMap&&(d.iridescenceThicknessMap.value=p.iridescenceThicknessMap,t(p.iridescenceThicknessMap,d.iridescenceThicknessMapTransform))),p.transmission>0&&(d.transmission.value=p.transmission,d.transmissionSamplerMap.value=_.texture,d.transmissionSamplerSize.value.set(_.width,_.height),p.transmissionMap&&(d.transmissionMap.value=p.transmissionMap,t(p.transmissionMap,d.transmissionMapTransform)),d.thickness.value=p.thickness,p.thicknessMap&&(d.thicknessMap.value=p.thicknessMap,t(p.thicknessMap,d.thicknessMapTransform)),d.attenuationDistance.value=p.attenuationDistance,d.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(d.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(d.anisotropyMap.value=p.anisotropyMap,t(p.anisotropyMap,d.anisotropyMapTransform))),d.specularIntensity.value=p.specularIntensity,d.specularColor.value.copy(p.specularColor),p.specularColorMap&&(d.specularColorMap.value=p.specularColorMap,t(p.specularColorMap,d.specularColorMapTransform)),p.specularIntensityMap&&(d.specularIntensityMap.value=p.specularIntensityMap,t(p.specularIntensityMap,d.specularIntensityMapTransform))}function A(d,p){p.matcap&&(d.matcap.value=p.matcap)}function g(d,p){const _=e.get(p).light;d.referencePosition.value.setFromMatrixPosition(_.matrixWorld),d.nearDistance.value=_.shadow.camera.near,d.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function SX(i,e,t,n){let r={},s={},a=[];const o=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,I){const m=I.program;n.uniformBlockBinding(_,m)}function c(_,I){let m=r[_.id];m===void 0&&(A(_),m=x(_),r[_.id]=m,_.addEventListener("dispose",d));const y=I.program;n.updateUBOMapping(_,y);const E=e.render.frame;s[_.id]!==E&&(h(_),s[_.id]=E)}function x(_){const I=u();_.__bindingPointIndex=I;const m=i.createBuffer(),y=_.__size,E=_.usage;return i.bindBuffer(i.UNIFORM_BUFFER,m),i.bufferData(i.UNIFORM_BUFFER,y,E),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,I,m),m}function u(){for(let _=0;_<o;_++)if(a.indexOf(_)===-1)return a.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(_){const I=r[_.id],m=_.uniforms,y=_.__cache;i.bindBuffer(i.UNIFORM_BUFFER,I);for(let E=0,C=m.length;E<C;E++){const v=Array.isArray(m[E])?m[E]:[m[E]];for(let b=0,w=v.length;b<w;b++){const B=v[b];if(f(B,E,b,y)===!0){const R=B.__offset,Q=Array.isArray(B.value)?B.value:[B.value];let F=0;for(let M=0;M<Q.length;M++){const T=Q[M],P=g(T);typeof T=="number"||typeof T=="boolean"?(B.__data[0]=T,i.bufferSubData(i.UNIFORM_BUFFER,R+F,B.__data)):T.isMatrix3?(B.__data[0]=T.elements[0],B.__data[1]=T.elements[1],B.__data[2]=T.elements[2],B.__data[3]=0,B.__data[4]=T.elements[3],B.__data[5]=T.elements[4],B.__data[6]=T.elements[5],B.__data[7]=0,B.__data[8]=T.elements[6],B.__data[9]=T.elements[7],B.__data[10]=T.elements[8],B.__data[11]=0):(T.toArray(B.__data,F),F+=P.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,R,B.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function f(_,I,m,y){const E=_.value,C=I+"_"+m;if(y[C]===void 0)return typeof E=="number"||typeof E=="boolean"?y[C]=E:y[C]=E.clone(),!0;{const v=y[C];if(typeof E=="number"||typeof E=="boolean"){if(v!==E)return y[C]=E,!0}else if(v.equals(E)===!1)return v.copy(E),!0}return!1}function A(_){const I=_.uniforms;let m=0;const y=16;for(let C=0,v=I.length;C<v;C++){const b=Array.isArray(I[C])?I[C]:[I[C]];for(let w=0,B=b.length;w<B;w++){const R=b[w],Q=Array.isArray(R.value)?R.value:[R.value];for(let F=0,M=Q.length;F<M;F++){const T=Q[F],P=g(T),k=m%y,V=k%P.boundary,Y=k+V;m+=V,Y!==0&&y-Y<P.storage&&(m+=y-Y),R.__data=new Float32Array(P.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=m,m+=P.storage}}}const E=m%y;return E>0&&(m+=y-E),_.__size=m,_.__cache={},this}function g(_){const I={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(I.boundary=4,I.storage=4):_.isVector2?(I.boundary=8,I.storage=8):_.isVector3||_.isColor?(I.boundary=16,I.storage=12):_.isVector4?(I.boundary=16,I.storage=16):_.isMatrix3?(I.boundary=48,I.storage=48):_.isMatrix4?(I.boundary=64,I.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),I}function d(_){const I=_.target;I.removeEventListener("dispose",d);const m=a.indexOf(I.__bindingPointIndex);a.splice(m,1),i.deleteBuffer(r[I.id]),delete r[I.id],delete s[I.id]}function p(){for(const _ in r)i.deleteBuffer(r[_]);a=[],r={},s={}}return{bind:l,update:c,dispose:p}}class MX{constructor(e={}){const{canvas:t=Hz(),context:n=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:x="default",failIfMajorPerformanceCaveat:u=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let f;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=n.getContextAttributes().alpha}else f=a;const A=new Uint32Array(4),g=new Int32Array(4);let d=null,p=null;const _=[],I=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Dr,this.toneMapping=Po,this.toneMappingExposure=1;const m=this;let y=!1,E=0,C=0,v=null,b=-1,w=null;const B=new cn,R=new cn;let Q=null;const F=new Rt(0);let M=0,T=t.width,P=t.height,k=1,V=null,Y=null;const U=new cn(0,0,T,P),te=new cn(0,0,T,P);let xe=!1;const G=new H8;let O=!1,ee=!1;const K=new mn,ce=new mn,Ae=new W,ge=new cn,oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Se=!1;function At(){return v===null?k:1}let N=n;function Nt(D,H){return t.getContext(D,H)}try{const D={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:x,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${wb}`),t.addEventListener("webglcontextlost",re,!1),t.addEventListener("webglcontextrestored",we,!1),t.addEventListener("webglcontextcreationerror",ve,!1),N===null){const H="webgl2";if(N=Nt(H,D),N===null)throw Nt(H)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(D){throw console.error("THREE.WebGLRenderer: "+D.message),D}let ze,Ge,Be,ke,Re,L,S,X,se,ne,j,Ie,fe,ue,Te,le,me,Fe,Ue,ye,Xe,Qe,rt,z;function _e(){ze=new Uq(N),ze.init(),Qe=new IX(N,ze),Ge=new Dq(N,ze,e,Qe),Be=new mX(N,ze),Ge.reverseDepthBuffer&&h&&Be.buffers.depth.setReversed(!0),ke=new Gq(N),Re=new sX,L=new _X(N,ze,Be,Re,Ge,Qe,ke),S=new Fq(m),X=new kq(m),se=new SV(N),rt=new Rq(N,se),ne=new Nq(N,se,ke,rt),j=new Vq(N,ne,se,ke),Ue=new zq(N,Ge,L),le=new Qq(Re),Ie=new rX(m,S,X,ze,Ge,rt,le),fe=new BX(m,Re),ue=new oX,Te=new fX(ze),Fe=new Mq(m,S,X,Be,j,f,l),me=new pX(m,j,Ge),z=new SX(N,ke,Ge,Be),ye=new Tq(N,ze,ke),Xe=new Oq(N,ze,ke),ke.programs=Ie.programs,m.capabilities=Ge,m.extensions=ze,m.properties=Re,m.renderLists=ue,m.shadowMap=me,m.state=Be,m.info=ke}_e();const J=new vX(m,N);this.xr=J,this.getContext=function(){return N},this.getContextAttributes=function(){return N.getContextAttributes()},this.forceContextLoss=function(){const D=ze.get("WEBGL_lose_context");D&&D.loseContext()},this.forceContextRestore=function(){const D=ze.get("WEBGL_lose_context");D&&D.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(D){D!==void 0&&(k=D,this.setSize(T,P,!1))},this.getSize=function(D){return D.set(T,P)},this.setSize=function(D,H,Z=!0){if(J.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}T=D,P=H,t.width=Math.floor(D*k),t.height=Math.floor(H*k),Z===!0&&(t.style.width=D+"px",t.style.height=H+"px"),this.setViewport(0,0,D,H)},this.getDrawingBufferSize=function(D){return D.set(T*k,P*k).floor()},this.setDrawingBufferSize=function(D,H,Z){T=D,P=H,k=Z,t.width=Math.floor(D*Z),t.height=Math.floor(H*Z),this.setViewport(0,0,D,H)},this.getCurrentViewport=function(D){return D.copy(B)},this.getViewport=function(D){return D.copy(U)},this.setViewport=function(D,H,Z,$){D.isVector4?U.set(D.x,D.y,D.z,D.w):U.set(D,H,Z,$),Be.viewport(B.copy(U).multiplyScalar(k).round())},this.getScissor=function(D){return D.copy(te)},this.setScissor=function(D,H,Z,$){D.isVector4?te.set(D.x,D.y,D.z,D.w):te.set(D,H,Z,$),Be.scissor(R.copy(te).multiplyScalar(k).round())},this.getScissorTest=function(){return xe},this.setScissorTest=function(D){Be.setScissorTest(xe=D)},this.setOpaqueSort=function(D){V=D},this.setTransparentSort=function(D){Y=D},this.getClearColor=function(D){return D.copy(Fe.getClearColor())},this.setClearColor=function(){Fe.setClearColor.apply(Fe,arguments)},this.getClearAlpha=function(){return Fe.getClearAlpha()},this.setClearAlpha=function(){Fe.setClearAlpha.apply(Fe,arguments)},this.clear=function(D=!0,H=!0,Z=!0){let $=0;if(D){let q=!1;if(v!==null){const pe=v.texture.format;q=pe===Yb||pe===qb||pe===Hb}if(q){const pe=v.texture.type,Me=pe===wa||pe===V0||pe===Df||pe===ix||pe===zb||pe===Vb,Le=Fe.getClearColor(),Ne=Fe.getClearAlpha(),Ze=Le.r,$e=Le.g,qe=Le.b;Me?(A[0]=Ze,A[1]=$e,A[2]=qe,A[3]=Ne,N.clearBufferuiv(N.COLOR,0,A)):(g[0]=Ze,g[1]=$e,g[2]=qe,g[3]=Ne,N.clearBufferiv(N.COLOR,0,g))}else $|=N.COLOR_BUFFER_BIT}H&&($|=N.DEPTH_BUFFER_BIT),Z&&($|=N.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),N.clear($)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",re,!1),t.removeEventListener("webglcontextrestored",we,!1),t.removeEventListener("webglcontextcreationerror",ve,!1),Fe.dispose(),ue.dispose(),Te.dispose(),Re.dispose(),S.dispose(),X.dispose(),j.dispose(),rt.dispose(),z.dispose(),Ie.dispose(),J.dispose(),J.removeEventListener("sessionstart",ki),J.removeEventListener("sessionend",Ur),fi.stop()};function re(D){D.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function we(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const D=ke.autoReset,H=me.enabled,Z=me.autoUpdate,$=me.needsUpdate,q=me.type;_e(),ke.autoReset=D,me.enabled=H,me.autoUpdate=Z,me.needsUpdate=$,me.type=q}function ve(D){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",D.statusMessage)}function Ke(D){const H=D.target;H.removeEventListener("dispose",Ke),un(H)}function un(D){jt(D),Re.remove(D)}function jt(D){const H=Re.get(D).programs;H!==void 0&&(H.forEach(function(Z){Ie.releaseProgram(Z)}),D.isShaderMaterial&&Ie.releaseShaderCache(D))}this.renderBufferDirect=function(D,H,Z,$,q,pe){H===null&&(H=oe);const Me=q.isMesh&&q.matrixWorld.determinant()<0,Le=_J(D,H,Z,$,q);Be.setMaterial($,Me);let Ne=Z.index,Ze=1;if($.wireframe===!0){if(Ne=ne.getWireframeAttribute(Z),Ne===void 0)return;Ze=2}const $e=Z.drawRange,qe=Z.attributes.position;let vt=$e.start*Ze,Ot=($e.start+$e.count)*Ze;pe!==null&&(vt=Math.max(vt,pe.start*Ze),Ot=Math.min(Ot,(pe.start+pe.count)*Ze)),Ne!==null?(vt=Math.max(vt,0),Ot=Math.min(Ot,Ne.count)):qe!=null&&(vt=Math.max(vt,0),Ot=Math.min(Ot,qe.count));const zn=Ot-vt;if(zn<0||zn===1/0)return;rt.setup(q,$,Le,Z,Ne);let Tn,Tt=ye;if(Ne!==null&&(Tn=se.get(Ne),Tt=Xe,Tt.setIndex(Tn)),q.isMesh)$.wireframe===!0?(Be.setLineWidth($.wireframeLinewidth*At()),Tt.setMode(N.LINES)):Tt.setMode(N.TRIANGLES);else if(q.isLine){let We=$.linewidth;We===void 0&&(We=1),Be.setLineWidth(We*At()),q.isLineSegments?Tt.setMode(N.LINES):q.isLineLoop?Tt.setMode(N.LINE_LOOP):Tt.setMode(N.LINE_STRIP)}else q.isPoints?Tt.setMode(N.POINTS):q.isSprite&&Tt.setMode(N.TRIANGLES);if(q.isBatchedMesh)if(q._multiDrawInstances!==null)Tt.renderMultiDrawInstances(q._multiDrawStarts,q._multiDrawCounts,q._multiDrawCount,q._multiDrawInstances);else if(ze.get("WEBGL_multi_draw"))Tt.renderMultiDraw(q._multiDrawStarts,q._multiDrawCounts,q._multiDrawCount);else{const We=q._multiDrawStarts,Ai=q._multiDrawCounts,Gt=q._multiDrawCount,hs=Ne?se.get(Ne).bytesPerElement:1,Yx=Re.get($).currentProgram.getUniforms();for(let Ir=0;Ir<Gt;Ir++)Yx.setValue(N,"_gl_DrawID",Ir),Tt.render(We[Ir]/hs,Ai[Ir])}else if(q.isInstancedMesh)Tt.renderInstances(vt,zn,q.count);else if(Z.isInstancedBufferGeometry){const We=Z._maxInstanceCount!==void 0?Z._maxInstanceCount:1/0,Ai=Math.min(Z.instanceCount,We);Tt.renderInstances(vt,zn,Ai)}else Tt.render(vt,zn)};function dt(D,H,Z){D.transparent===!0&&D.side===va&&D.forceSinglePass===!1?(D.side=er,D.needsUpdate=!0,hI(D,H,Z),D.side=Fo,D.needsUpdate=!0,hI(D,H,Z),D.side=va):hI(D,H,Z)}this.compile=function(D,H,Z=null){Z===null&&(Z=D),p=Te.get(Z),p.init(H),I.push(p),Z.traverseVisible(function(q){q.isLight&&q.layers.test(H.layers)&&(p.pushLight(q),q.castShadow&&p.pushShadow(q))}),D!==Z&&D.traverseVisible(function(q){q.isLight&&q.layers.test(H.layers)&&(p.pushLight(q),q.castShadow&&p.pushShadow(q))}),p.setupLights();const $=new Set;return D.traverse(function(q){if(!(q.isMesh||q.isPoints||q.isLine||q.isSprite))return;const pe=q.material;if(pe)if(Array.isArray(pe))for(let Me=0;Me<pe.length;Me++){const Le=pe[Me];dt(Le,Z,q),$.add(Le)}else dt(pe,Z,q),$.add(pe)}),I.pop(),p=null,$},this.compileAsync=function(D,H,Z=null){const $=this.compile(D,H,Z);return new Promise(q=>{function pe(){if($.forEach(function(Me){Re.get(Me).currentProgram.isReady()&&$.delete(Me)}),$.size===0){q(D);return}setTimeout(pe,10)}ze.get("KHR_parallel_shader_compile")!==null?pe():setTimeout(pe,10)})};let In=null;function Gn(D){In&&In(D)}function ki(){fi.stop()}function Ur(){fi.start()}const fi=new K8;fi.setAnimationLoop(Gn),typeof self<"u"&&fi.setContext(self),this.setAnimationLoop=function(D){In=D,J.setAnimationLoop(D),D===null?fi.stop():fi.start()},J.addEventListener("sessionstart",ki),J.addEventListener("sessionend",Ur),this.render=function(D,H){if(H!==void 0&&H.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;if(D.matrixWorldAutoUpdate===!0&&D.updateMatrixWorld(),H.parent===null&&H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),J.enabled===!0&&J.isPresenting===!0&&(J.cameraAutoUpdate===!0&&J.updateCamera(H),H=J.getCamera()),D.isScene===!0&&D.onBeforeRender(m,D,H,v),p=Te.get(D,I.length),p.init(H),I.push(p),ce.multiplyMatrices(H.projectionMatrix,H.matrixWorldInverse),G.setFromProjectionMatrix(ce),ee=this.localClippingEnabled,O=le.init(this.clippingPlanes,ee),d=ue.get(D,_.length),d.init(),_.push(d),J.enabled===!0&&J.isPresenting===!0){const pe=m.xr.getDepthSensingMesh();pe!==null&&ln(pe,H,-1/0,m.sortObjects)}ln(D,H,0,m.sortObjects),d.finish(),m.sortObjects===!0&&d.sort(V,Y),Se=J.enabled===!1||J.isPresenting===!1||J.hasDepthSensing()===!1,Se&&Fe.addToRenderList(d,D),this.info.render.frame++,O===!0&&le.beginShadows();const Z=p.state.shadowsArray;me.render(Z,D,H),O===!0&&le.endShadows(),this.info.autoReset===!0&&this.info.reset();const $=d.opaque,q=d.transmissive;if(p.setupLights(),H.isArrayCamera){const pe=H.cameras;if(q.length>0)for(let Me=0,Le=pe.length;Me<Le;Me++){const Ne=pe[Me];Nr($,q,D,Ne)}Se&&Fe.render(D);for(let Me=0,Le=pe.length;Me<Le;Me++){const Ne=pe[Me];ti(d,D,Ne,Ne.viewport)}}else q.length>0&&Nr($,q,D,H),Se&&Fe.render(D),ti(d,D,H);v!==null&&(L.updateMultisampleRenderTarget(v),L.updateRenderTargetMipmap(v)),D.isScene===!0&&D.onAfterRender(m,D,H),rt.resetDefaultState(),b=-1,w=null,I.pop(),I.length>0?(p=I[I.length-1],O===!0&&le.setGlobalState(m.clippingPlanes,p.state.camera)):p=null,_.pop(),_.length>0?d=_[_.length-1]:d=null};function ln(D,H,Z,$){if(D.visible===!1)return;if(D.layers.test(H.layers)){if(D.isGroup)Z=D.renderOrder;else if(D.isLOD)D.autoUpdate===!0&&D.update(H);else if(D.isLight)p.pushLight(D),D.castShadow&&p.pushShadow(D);else if(D.isSprite){if(!D.frustumCulled||G.intersectsSprite(D)){$&&ge.setFromMatrixPosition(D.matrixWorld).applyMatrix4(ce);const Me=j.update(D),Le=D.material;Le.visible&&d.push(D,Me,Le,Z,ge.z,null)}}else if((D.isMesh||D.isLine||D.isPoints)&&(!D.frustumCulled||G.intersectsObject(D))){const Me=j.update(D),Le=D.material;if($&&(D.boundingSphere!==void 0?(D.boundingSphere===null&&D.computeBoundingSphere(),ge.copy(D.boundingSphere.center)):(Me.boundingSphere===null&&Me.computeBoundingSphere(),ge.copy(Me.boundingSphere.center)),ge.applyMatrix4(D.matrixWorld).applyMatrix4(ce)),Array.isArray(Le)){const Ne=Me.groups;for(let Ze=0,$e=Ne.length;Ze<$e;Ze++){const qe=Ne[Ze],vt=Le[qe.materialIndex];vt&&vt.visible&&d.push(D,Me,vt,Z,ge.z,qe)}}else Le.visible&&d.push(D,Me,Le,Z,ge.z,null)}}const pe=D.children;for(let Me=0,Le=pe.length;Me<Le;Me++)ln(pe[Me],H,Z,$)}function ti(D,H,Z,$){const q=D.opaque,pe=D.transmissive,Me=D.transparent;p.setupLightsView(Z),O===!0&&le.setGlobalState(m.clippingPlanes,Z),$&&Be.viewport(B.copy($)),q.length>0&&qx(q,H,Z),pe.length>0&&qx(pe,H,Z),Me.length>0&&qx(Me,H,Z),Be.buffers.depth.setTest(!0),Be.buffers.depth.setMask(!0),Be.buffers.color.setMask(!0),Be.setPolygonOffset(!1)}function Nr(D,H,Z,$){if((Z.isScene===!0?Z.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[$.id]===void 0&&(p.state.transmissionRenderTarget[$.id]=new H0(1,1,{generateMipmaps:!0,type:ze.has("EXT_color_buffer_half_float")||ze.has("EXT_color_buffer_float")?Qf:wa,minFilter:z0,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Mt.workingColorSpace}));const pe=p.state.transmissionRenderTarget[$.id],Me=$.viewport||B;pe.setSize(Me.z,Me.w);const Le=m.getRenderTarget();m.setRenderTarget(pe),m.getClearColor(F),M=m.getClearAlpha(),M<1&&m.setClearColor(16777215,.5),m.clear(),Se&&Fe.render(Z);const Ne=m.toneMapping;m.toneMapping=Po;const Ze=$.viewport;if($.viewport!==void 0&&($.viewport=void 0),p.setupLightsView($),O===!0&&le.setGlobalState(m.clippingPlanes,$),qx(D,Z,$),L.updateMultisampleRenderTarget(pe),L.updateRenderTargetMipmap(pe),ze.has("WEBGL_multisampled_render_to_texture")===!1){let $e=!1;for(let qe=0,vt=H.length;qe<vt;qe++){const Ot=H[qe],zn=Ot.object,Tn=Ot.geometry,Tt=Ot.material,We=Ot.group;if(Tt.side===va&&zn.layers.test($.layers)){const Ai=Tt.side;Tt.side=er,Tt.needsUpdate=!0,bT(zn,Z,$,Tn,Tt,We),Tt.side=Ai,Tt.needsUpdate=!0,$e=!0}}$e===!0&&(L.updateMultisampleRenderTarget(pe),L.updateRenderTargetMipmap(pe))}m.setRenderTarget(Le),m.setClearColor(F,M),Ze!==void 0&&($.viewport=Ze),m.toneMapping=Ne}function qx(D,H,Z){const $=H.isScene===!0?H.overrideMaterial:null;for(let q=0,pe=D.length;q<pe;q++){const Me=D[q],Le=Me.object,Ne=Me.geometry,Ze=$===null?Me.material:$,$e=Me.group;Le.layers.test(Z.layers)&&bT(Le,H,Z,Ne,Ze,$e)}}function bT(D,H,Z,$,q,pe){D.onBeforeRender(m,H,Z,$,q,pe),D.modelViewMatrix.multiplyMatrices(Z.matrixWorldInverse,D.matrixWorld),D.normalMatrix.getNormalMatrix(D.modelViewMatrix),q.onBeforeRender(m,H,Z,$,D,pe),q.transparent===!0&&q.side===va&&q.forceSinglePass===!1?(q.side=er,q.needsUpdate=!0,m.renderBufferDirect(Z,H,$,q,D,pe),q.side=Fo,q.needsUpdate=!0,m.renderBufferDirect(Z,H,$,q,D,pe),q.side=va):m.renderBufferDirect(Z,H,$,q,D,pe),D.onAfterRender(m,H,Z,$,q,pe)}function hI(D,H,Z){H.isScene!==!0&&(H=oe);const $=Re.get(D),q=p.state.lights,pe=p.state.shadowsArray,Me=q.state.version,Le=Ie.getParameters(D,q.state,pe,H,Z),Ne=Ie.getProgramCacheKey(Le);let Ze=$.programs;$.environment=D.isMeshStandardMaterial?H.environment:null,$.fog=H.fog,$.envMap=(D.isMeshStandardMaterial?X:S).get(D.envMap||$.environment),$.envMapRotation=$.environment!==null&&D.envMap===null?H.environmentRotation:D.envMapRotation,Ze===void 0&&(D.addEventListener("dispose",Ke),Ze=new Map,$.programs=Ze);let $e=Ze.get(Ne);if($e!==void 0){if($.currentProgram===$e&&$.lightsStateVersion===Me)return wT(D,Le),$e}else Le.uniforms=Ie.getUniforms(D),D.onBeforeCompile(Le,m),$e=Ie.acquireProgram(Le,Ne),Ze.set(Ne,$e),$.uniforms=Le.uniforms;const qe=$.uniforms;return(!D.isShaderMaterial&&!D.isRawShaderMaterial||D.clipping===!0)&&(qe.clippingPlanes=le.uniform),wT(D,Le),$.needsLights=EJ(D),$.lightsStateVersion=Me,$.needsLights&&(qe.ambientLightColor.value=q.state.ambient,qe.lightProbe.value=q.state.probe,qe.directionalLights.value=q.state.directional,qe.directionalLightShadows.value=q.state.directionalShadow,qe.spotLights.value=q.state.spot,qe.spotLightShadows.value=q.state.spotShadow,qe.rectAreaLights.value=q.state.rectArea,qe.ltc_1.value=q.state.rectAreaLTC1,qe.ltc_2.value=q.state.rectAreaLTC2,qe.pointLights.value=q.state.point,qe.pointLightShadows.value=q.state.pointShadow,qe.hemisphereLights.value=q.state.hemi,qe.directionalShadowMap.value=q.state.directionalShadowMap,qe.directionalShadowMatrix.value=q.state.directionalShadowMatrix,qe.spotShadowMap.value=q.state.spotShadowMap,qe.spotLightMatrix.value=q.state.spotLightMatrix,qe.spotLightMap.value=q.state.spotLightMap,qe.pointShadowMap.value=q.state.pointShadowMap,qe.pointShadowMatrix.value=q.state.pointShadowMatrix),$.currentProgram=$e,$.uniformsList=null,$e}function vT(D){if(D.uniformsList===null){const H=D.currentProgram.getUniforms();D.uniformsList=D_.seqWithValue(H.seq,D.uniforms)}return D.uniformsList}function wT(D,H){const Z=Re.get(D);Z.outputColorSpace=H.outputColorSpace,Z.batching=H.batching,Z.batchingColor=H.batchingColor,Z.instancing=H.instancing,Z.instancingColor=H.instancingColor,Z.instancingMorph=H.instancingMorph,Z.skinning=H.skinning,Z.morphTargets=H.morphTargets,Z.morphNormals=H.morphNormals,Z.morphColors=H.morphColors,Z.morphTargetsCount=H.morphTargetsCount,Z.numClippingPlanes=H.numClippingPlanes,Z.numIntersection=H.numClipIntersection,Z.vertexAlphas=H.vertexAlphas,Z.vertexTangents=H.vertexTangents,Z.toneMapping=H.toneMapping}function _J(D,H,Z,$,q){H.isScene!==!0&&(H=oe),L.resetTextureUnits();const pe=H.fog,Me=$.isMeshStandardMaterial?H.environment:null,Le=v===null?m.outputColorSpace:v.isXRRenderTarget===!0?v.texture.colorSpace:ax,Ne=($.isMeshStandardMaterial?X:S).get($.envMap||Me),Ze=$.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,$e=!!Z.attributes.tangent&&(!!$.normalMap||$.anisotropy>0),qe=!!Z.morphAttributes.position,vt=!!Z.morphAttributes.normal,Ot=!!Z.morphAttributes.color;let zn=Po;$.toneMapped&&(v===null||v.isXRRenderTarget===!0)&&(zn=m.toneMapping);const Tn=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,Tt=Tn!==void 0?Tn.length:0,We=Re.get($),Ai=p.state.lights;if(O===!0&&(ee===!0||D!==w)){const Ui=D===w&&$.id===b;le.setState($,D,Ui)}let Gt=!1;$.version===We.__version?(We.needsLights&&We.lightsStateVersion!==Ai.state.version||We.outputColorSpace!==Le||q.isBatchedMesh&&We.batching===!1||!q.isBatchedMesh&&We.batching===!0||q.isBatchedMesh&&We.batchingColor===!0&&q.colorTexture===null||q.isBatchedMesh&&We.batchingColor===!1&&q.colorTexture!==null||q.isInstancedMesh&&We.instancing===!1||!q.isInstancedMesh&&We.instancing===!0||q.isSkinnedMesh&&We.skinning===!1||!q.isSkinnedMesh&&We.skinning===!0||q.isInstancedMesh&&We.instancingColor===!0&&q.instanceColor===null||q.isInstancedMesh&&We.instancingColor===!1&&q.instanceColor!==null||q.isInstancedMesh&&We.instancingMorph===!0&&q.morphTexture===null||q.isInstancedMesh&&We.instancingMorph===!1&&q.morphTexture!==null||We.envMap!==Ne||$.fog===!0&&We.fog!==pe||We.numClippingPlanes!==void 0&&(We.numClippingPlanes!==le.numPlanes||We.numIntersection!==le.numIntersection)||We.vertexAlphas!==Ze||We.vertexTangents!==$e||We.morphTargets!==qe||We.morphNormals!==vt||We.morphColors!==Ot||We.toneMapping!==zn||We.morphTargetsCount!==Tt)&&(Gt=!0):(Gt=!0,We.__version=$.version);let hs=We.currentProgram;Gt===!0&&(hs=hI($,H,q));let Yx=!1,Ir=!1,gA=!1;const En=hs.getUniforms(),Or=We.uniforms;if(Be.useProgram(hs.program)&&(Yx=!0,Ir=!0,gA=!0),$.id!==b&&(b=$.id,Ir=!0),Yx||w!==D){Be.buffers.depth.getReversed()?(K.copy(D.projectionMatrix),Yz(K),Xz(K),En.setValue(N,"projectionMatrix",K)):En.setValue(N,"projectionMatrix",D.projectionMatrix),En.setValue(N,"viewMatrix",D.matrixWorldInverse);const rr=En.map.cameraPosition;rr!==void 0&&rr.setValue(N,Ae.setFromMatrixPosition(D.matrixWorld)),Ge.logarithmicDepthBuffer&&En.setValue(N,"logDepthBufFC",2/(Math.log(D.far+1)/Math.LN2)),($.isMeshPhongMaterial||$.isMeshToonMaterial||$.isMeshLambertMaterial||$.isMeshBasicMaterial||$.isMeshStandardMaterial||$.isShaderMaterial)&&En.setValue(N,"isOrthographic",D.isOrthographicCamera===!0),w!==D&&(w=D,Ir=!0,gA=!0)}if(q.isSkinnedMesh){En.setOptional(N,q,"bindMatrix"),En.setOptional(N,q,"bindMatrixInverse");const Ui=q.skeleton;Ui&&(Ui.boneTexture===null&&Ui.computeBoneTexture(),En.setValue(N,"boneTexture",Ui.boneTexture,L))}q.isBatchedMesh&&(En.setOptional(N,q,"batchingTexture"),En.setValue(N,"batchingTexture",q._matricesTexture,L),En.setOptional(N,q,"batchingIdTexture"),En.setValue(N,"batchingIdTexture",q._indirectTexture,L),En.setOptional(N,q,"batchingColorTexture"),q._colorsTexture!==null&&En.setValue(N,"batchingColorTexture",q._colorsTexture,L));const Gr=Z.morphAttributes;if((Gr.position!==void 0||Gr.normal!==void 0||Gr.color!==void 0)&&Ue.update(q,Z,hs),(Ir||We.receiveShadow!==q.receiveShadow)&&(We.receiveShadow=q.receiveShadow,En.setValue(N,"receiveShadow",q.receiveShadow)),$.isMeshGouraudMaterial&&$.envMap!==null&&(Or.envMap.value=Ne,Or.flipEnvMap.value=Ne.isCubeTexture&&Ne.isRenderTargetTexture===!1?-1:1),$.isMeshStandardMaterial&&$.envMap===null&&H.environment!==null&&(Or.envMapIntensity.value=H.environmentIntensity),Ir&&(En.setValue(N,"toneMappingExposure",m.toneMappingExposure),We.needsLights&&IJ(Or,gA),pe&&$.fog===!0&&fe.refreshFogUniforms(Or,pe),fe.refreshMaterialUniforms(Or,$,k,P,p.state.transmissionRenderTarget[D.id]),D_.upload(N,vT(We),Or,L)),$.isShaderMaterial&&$.uniformsNeedUpdate===!0&&(D_.upload(N,vT(We),Or,L),$.uniformsNeedUpdate=!1),$.isSpriteMaterial&&En.setValue(N,"center",q.center),En.setValue(N,"modelViewMatrix",q.modelViewMatrix),En.setValue(N,"normalMatrix",q.normalMatrix),En.setValue(N,"modelMatrix",q.matrixWorld),$.isShaderMaterial||$.isRawShaderMaterial){const Ui=$.uniformsGroups;for(let rr=0,X3=Ui.length;rr<X3;rr++){const cc=Ui[rr];z.update(cc,hs),z.bind(cc,hs)}}return hs}function IJ(D,H){D.ambientLightColor.needsUpdate=H,D.lightProbe.needsUpdate=H,D.directionalLights.needsUpdate=H,D.directionalLightShadows.needsUpdate=H,D.pointLights.needsUpdate=H,D.pointLightShadows.needsUpdate=H,D.spotLights.needsUpdate=H,D.spotLightShadows.needsUpdate=H,D.rectAreaLights.needsUpdate=H,D.hemisphereLights.needsUpdate=H}function EJ(D){return D.isMeshLambertMaterial||D.isMeshToonMaterial||D.isMeshPhongMaterial||D.isMeshStandardMaterial||D.isShadowMaterial||D.isShaderMaterial&&D.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return v},this.setRenderTargetTextures=function(D,H,Z){Re.get(D.texture).__webglTexture=H,Re.get(D.depthTexture).__webglTexture=Z;const $=Re.get(D);$.__hasExternalTextures=!0,$.__autoAllocateDepthBuffer=Z===void 0,$.__autoAllocateDepthBuffer||ze.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),$.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(D,H){const Z=Re.get(D);Z.__webglFramebuffer=H,Z.__useDefaultFramebuffer=H===void 0},this.setRenderTarget=function(D,H=0,Z=0){v=D,E=H,C=Z;let $=!0,q=null,pe=!1,Me=!1;if(D){const Ne=Re.get(D);if(Ne.__useDefaultFramebuffer!==void 0)Be.bindFramebuffer(N.FRAMEBUFFER,null),$=!1;else if(Ne.__webglFramebuffer===void 0)L.setupRenderTarget(D);else if(Ne.__hasExternalTextures)L.rebindTextures(D,Re.get(D.texture).__webglTexture,Re.get(D.depthTexture).__webglTexture);else if(D.depthBuffer){const qe=D.depthTexture;if(Ne.__boundDepthTexture!==qe){if(qe!==null&&Re.has(qe)&&(D.width!==qe.image.width||D.height!==qe.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");L.setupDepthRenderbuffer(D)}}const Ze=D.texture;(Ze.isData3DTexture||Ze.isDataArrayTexture||Ze.isCompressedArrayTexture)&&(Me=!0);const $e=Re.get(D).__webglFramebuffer;D.isWebGLCubeRenderTarget?(Array.isArray($e[H])?q=$e[H][Z]:q=$e[H],pe=!0):D.samples>0&&L.useMultisampledRTT(D)===!1?q=Re.get(D).__webglMultisampledFramebuffer:Array.isArray($e)?q=$e[Z]:q=$e,B.copy(D.viewport),R.copy(D.scissor),Q=D.scissorTest}else B.copy(U).multiplyScalar(k).floor(),R.copy(te).multiplyScalar(k).floor(),Q=xe;if(Be.bindFramebuffer(N.FRAMEBUFFER,q)&&$&&Be.drawBuffers(D,q),Be.viewport(B),Be.scissor(R),Be.setScissorTest(Q),pe){const Ne=Re.get(D.texture);N.framebufferTexture2D(N.FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_CUBE_MAP_POSITIVE_X+H,Ne.__webglTexture,Z)}else if(Me){const Ne=Re.get(D.texture),Ze=H||0;N.framebufferTextureLayer(N.FRAMEBUFFER,N.COLOR_ATTACHMENT0,Ne.__webglTexture,Z||0,Ze)}b=-1},this.readRenderTargetPixels=function(D,H,Z,$,q,pe,Me){if(!(D&&D.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Le=Re.get(D).__webglFramebuffer;if(D.isWebGLCubeRenderTarget&&Me!==void 0&&(Le=Le[Me]),Le){Be.bindFramebuffer(N.FRAMEBUFFER,Le);try{const Ne=D.texture,Ze=Ne.format,$e=Ne.type;if(!Ge.textureFormatReadable(Ze)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ge.textureTypeReadable($e)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}H>=0&&H<=D.width-$&&Z>=0&&Z<=D.height-q&&N.readPixels(H,Z,$,q,Qe.convert(Ze),Qe.convert($e),pe)}finally{const Ne=v!==null?Re.get(v).__webglFramebuffer:null;Be.bindFramebuffer(N.FRAMEBUFFER,Ne)}}},this.readRenderTargetPixelsAsync=async function(D,H,Z,$,q,pe,Me){if(!(D&&D.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Le=Re.get(D).__webglFramebuffer;if(D.isWebGLCubeRenderTarget&&Me!==void 0&&(Le=Le[Me]),Le){const Ne=D.texture,Ze=Ne.format,$e=Ne.type;if(!Ge.textureFormatReadable(Ze))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ge.textureTypeReadable($e))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(H>=0&&H<=D.width-$&&Z>=0&&Z<=D.height-q){Be.bindFramebuffer(N.FRAMEBUFFER,Le);const qe=N.createBuffer();N.bindBuffer(N.PIXEL_PACK_BUFFER,qe),N.bufferData(N.PIXEL_PACK_BUFFER,pe.byteLength,N.STREAM_READ),N.readPixels(H,Z,$,q,Qe.convert(Ze),Qe.convert($e),0);const vt=v!==null?Re.get(v).__webglFramebuffer:null;Be.bindFramebuffer(N.FRAMEBUFFER,vt);const Ot=N.fenceSync(N.SYNC_GPU_COMMANDS_COMPLETE,0);return N.flush(),await qz(N,Ot,4),N.bindBuffer(N.PIXEL_PACK_BUFFER,qe),N.getBufferSubData(N.PIXEL_PACK_BUFFER,0,pe),N.deleteBuffer(qe),N.deleteSync(Ot),pe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(D,H=null,Z=0){D.isTexture!==!0&&(lx("WebGLRenderer: copyFramebufferToTexture function signature has changed."),H=arguments[0]||null,D=arguments[1]);const $=Math.pow(2,-Z),q=Math.floor(D.image.width*$),pe=Math.floor(D.image.height*$),Me=H!==null?H.x:0,Le=H!==null?H.y:0;L.setTexture2D(D,0),N.copyTexSubImage2D(N.TEXTURE_2D,Z,0,0,Me,Le,q,pe),Be.unbindTexture()};const yJ=N.createFramebuffer(),CJ=N.createFramebuffer();this.copyTextureToTexture=function(D,H,Z=null,$=null,q=0,pe=null){D.isTexture!==!0&&(lx("WebGLRenderer: copyTextureToTexture function signature has changed."),$=arguments[0]||null,D=arguments[1],H=arguments[2],pe=arguments[3]||0,Z=null),pe===null&&(q!==0?(lx("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),pe=q,q=0):pe=0);let Me,Le,Ne,Ze,$e,qe,vt,Ot,zn;const Tn=D.isCompressedTexture?D.mipmaps[pe]:D.image;if(Z!==null)Me=Z.max.x-Z.min.x,Le=Z.max.y-Z.min.y,Ne=Z.isBox3?Z.max.z-Z.min.z:1,Ze=Z.min.x,$e=Z.min.y,qe=Z.isBox3?Z.min.z:0;else{const Gr=Math.pow(2,-q);Me=Math.floor(Tn.width*Gr),Le=Math.floor(Tn.height*Gr),D.isDataArrayTexture?Ne=Tn.depth:D.isData3DTexture?Ne=Math.floor(Tn.depth*Gr):Ne=1,Ze=0,$e=0,qe=0}$!==null?(vt=$.x,Ot=$.y,zn=$.z):(vt=0,Ot=0,zn=0);const Tt=Qe.convert(H.format),We=Qe.convert(H.type);let Ai;H.isData3DTexture?(L.setTexture3D(H,0),Ai=N.TEXTURE_3D):H.isDataArrayTexture||H.isCompressedArrayTexture?(L.setTexture2DArray(H,0),Ai=N.TEXTURE_2D_ARRAY):(L.setTexture2D(H,0),Ai=N.TEXTURE_2D),N.pixelStorei(N.UNPACK_FLIP_Y_WEBGL,H.flipY),N.pixelStorei(N.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),N.pixelStorei(N.UNPACK_ALIGNMENT,H.unpackAlignment);const Gt=N.getParameter(N.UNPACK_ROW_LENGTH),hs=N.getParameter(N.UNPACK_IMAGE_HEIGHT),Yx=N.getParameter(N.UNPACK_SKIP_PIXELS),Ir=N.getParameter(N.UNPACK_SKIP_ROWS),gA=N.getParameter(N.UNPACK_SKIP_IMAGES);N.pixelStorei(N.UNPACK_ROW_LENGTH,Tn.width),N.pixelStorei(N.UNPACK_IMAGE_HEIGHT,Tn.height),N.pixelStorei(N.UNPACK_SKIP_PIXELS,Ze),N.pixelStorei(N.UNPACK_SKIP_ROWS,$e),N.pixelStorei(N.UNPACK_SKIP_IMAGES,qe);const En=D.isDataArrayTexture||D.isData3DTexture,Or=H.isDataArrayTexture||H.isData3DTexture;if(D.isDepthTexture){const Gr=Re.get(D),Ui=Re.get(H),rr=Re.get(Gr.__renderTarget),X3=Re.get(Ui.__renderTarget);Be.bindFramebuffer(N.READ_FRAMEBUFFER,rr.__webglFramebuffer),Be.bindFramebuffer(N.DRAW_FRAMEBUFFER,X3.__webglFramebuffer);for(let cc=0;cc<Ne;cc++)En&&(N.framebufferTextureLayer(N.READ_FRAMEBUFFER,N.COLOR_ATTACHMENT0,Re.get(D).__webglTexture,q,qe+cc),N.framebufferTextureLayer(N.DRAW_FRAMEBUFFER,N.COLOR_ATTACHMENT0,Re.get(H).__webglTexture,pe,zn+cc)),N.blitFramebuffer(Ze,$e,Me,Le,vt,Ot,Me,Le,N.DEPTH_BUFFER_BIT,N.NEAREST);Be.bindFramebuffer(N.READ_FRAMEBUFFER,null),Be.bindFramebuffer(N.DRAW_FRAMEBUFFER,null)}else if(q!==0||D.isRenderTargetTexture||Re.has(D)){const Gr=Re.get(D),Ui=Re.get(H);Be.bindFramebuffer(N.READ_FRAMEBUFFER,yJ),Be.bindFramebuffer(N.DRAW_FRAMEBUFFER,CJ);for(let rr=0;rr<Ne;rr++)En?N.framebufferTextureLayer(N.READ_FRAMEBUFFER,N.COLOR_ATTACHMENT0,Gr.__webglTexture,q,qe+rr):N.framebufferTexture2D(N.READ_FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_2D,Gr.__webglTexture,q),Or?N.framebufferTextureLayer(N.DRAW_FRAMEBUFFER,N.COLOR_ATTACHMENT0,Ui.__webglTexture,pe,zn+rr):N.framebufferTexture2D(N.DRAW_FRAMEBUFFER,N.COLOR_ATTACHMENT0,N.TEXTURE_2D,Ui.__webglTexture,pe),q!==0?N.blitFramebuffer(Ze,$e,Me,Le,vt,Ot,Me,Le,N.COLOR_BUFFER_BIT,N.NEAREST):Or?N.copyTexSubImage3D(Ai,pe,vt,Ot,zn+rr,Ze,$e,Me,Le):N.copyTexSubImage2D(Ai,pe,vt,Ot,Ze,$e,Me,Le);Be.bindFramebuffer(N.READ_FRAMEBUFFER,null),Be.bindFramebuffer(N.DRAW_FRAMEBUFFER,null)}else Or?D.isDataTexture||D.isData3DTexture?N.texSubImage3D(Ai,pe,vt,Ot,zn,Me,Le,Ne,Tt,We,Tn.data):H.isCompressedArrayTexture?N.compressedTexSubImage3D(Ai,pe,vt,Ot,zn,Me,Le,Ne,Tt,Tn.data):N.texSubImage3D(Ai,pe,vt,Ot,zn,Me,Le,Ne,Tt,We,Tn):D.isDataTexture?N.texSubImage2D(N.TEXTURE_2D,pe,vt,Ot,Me,Le,Tt,We,Tn.data):D.isCompressedTexture?N.compressedTexSubImage2D(N.TEXTURE_2D,pe,vt,Ot,Tn.width,Tn.height,Tt,Tn.data):N.texSubImage2D(N.TEXTURE_2D,pe,vt,Ot,Me,Le,Tt,We,Tn);N.pixelStorei(N.UNPACK_ROW_LENGTH,Gt),N.pixelStorei(N.UNPACK_IMAGE_HEIGHT,hs),N.pixelStorei(N.UNPACK_SKIP_PIXELS,Yx),N.pixelStorei(N.UNPACK_SKIP_ROWS,Ir),N.pixelStorei(N.UNPACK_SKIP_IMAGES,gA),pe===0&&H.generateMipmaps&&N.generateMipmap(Ai),Be.unbindTexture()},this.copyTextureToTexture3D=function(D,H,Z=null,$=null,q=0){return D.isTexture!==!0&&(lx("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Z=arguments[0]||null,$=arguments[1]||null,D=arguments[2],H=arguments[3],q=arguments[4]||0),lx('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(D,H,Z,$,q)},this.initRenderTarget=function(D){Re.get(D).__webglFramebuffer===void 0&&L.setupRenderTarget(D)},this.initTexture=function(D){D.isCubeTexture?L.setTextureCube(D,0):D.isData3DTexture?L.setTexture3D(D,0):D.isDataArrayTexture||D.isCompressedArrayTexture?L.setTexture2DArray(D,0):L.setTexture2D(D,0),Be.unbindTexture()},this.resetState=function(){E=0,C=0,v=null,Be.reset(),rt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Sa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Mt._getDrawingBufferColorSpace(e),t.unpackColorSpace=Mt._getUnpackColorSpace()}}const vR=new Uo,F_=new W;class wR extends bV{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],n=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(n),this.setAttribute("position",new Ls(e,3)),this.setAttribute("uv",new Ls(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new Vv(t,6,1);return this.setAttribute("instanceStart",new Us(n,3,0)),this.setAttribute("instanceEnd",new Us(n,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new Vv(t,6,1);return this.setAttribute("instanceColorStart",new Us(n,3,0)),this.setAttribute("instanceColorEnd",new Us(n,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new EV(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Uo);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),vR.setFromBufferAttribute(t),this.boundingBox.union(vR))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Nf),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const n=this.boundingSphere.center;this.boundingBox.getCenter(n);let r=0;for(let s=0,a=e.count;s<a;s++)F_.fromBufferAttribute(e,s),r=Math.max(r,n.distanceToSquared(F_)),F_.fromBufferAttribute(t,s),r=Math.max(r,n.distanceToSquared(F_));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class BR extends wR{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,n=new Float32Array(2*t);for(let r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return super.setPositions(n),this}setColors(e){const t=e.length-3,n=new Float32Array(2*t);for(let r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return super.setColors(n),this}setFromPoints(e){const t=e.length-1,n=new Float32Array(6*t);for(let r=0;r<t;r++)n[6*r]=e[r].x,n[6*r+1]=e[r].y,n[6*r+2]=e[r].z||0,n[6*r+3]=e[r+1].x,n[6*r+4]=e[r+1].y,n[6*r+5]=e[r+1].z||0;return super.setPositions(n),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}Ce.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new It(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},nr.line={uniforms:Ov.merge([Ce.common,Ce.fog,Ce.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class $v extends ka{constructor(e){super({type:"LineMaterial",uniforms:Ov.clone(nr.line.uniforms),vertexShader:nr.line.vertexShader,fragmentShader:nr.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(e)}get color(){return this.uniforms.diffuse.value}set color(e){this.uniforms.diffuse.value=e}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(e){e===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(e){this.uniforms.linewidth&&(this.uniforms.linewidth.value=e)}get dashed(){return"USE_DASH"in this.defines}set dashed(e){e===!0!==this.dashed&&(this.needsUpdate=!0),e===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(e){this.uniforms.dashScale.value=e}get dashSize(){return this.uniforms.dashSize.value}set dashSize(e){this.uniforms.dashSize.value=e}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(e){this.uniforms.dashOffset.value=e}get gapSize(){return this.uniforms.gapSize.value}set gapSize(e){this.uniforms.gapSize.value=e}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}get resolution(){return this.uniforms.resolution.value}set resolution(e){this.uniforms.resolution.value.copy(e)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(e){this.defines&&(e===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),e===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}const e3=new cn,SR=new W,MR=new W,li=new cn,xi=new cn,Ns=new cn,t3=new W,n3=new mn,ui=new wV,RR=new W,L_=new Uo,P_=new Nf,Os=new cn;let Gs,tc;function TR(i,e,t){return Os.set(0,0,-e,1).applyMatrix4(i.projectionMatrix),Os.multiplyScalar(1/Os.w),Os.x=tc/t.width,Os.y=tc/t.height,Os.applyMatrix4(i.projectionMatrixInverse),Os.multiplyScalar(1/Os.w),Math.abs(Math.max(Os.x,Os.y))}function RX(i,e){const t=i.matrixWorld,n=i.geometry,r=n.attributes.instanceStart,s=n.attributes.instanceEnd,a=Math.min(n.instanceCount,r.count);for(let o=0,l=a;o<l;o++){ui.start.fromBufferAttribute(r,o),ui.end.fromBufferAttribute(s,o),ui.applyMatrix4(t);const c=new W,x=new W;Gs.distanceSqToSegment(ui.start,ui.end,x,c),x.distanceTo(c)<tc*.5&&e.push({point:x,pointOnLine:c,distance:Gs.origin.distanceTo(x),object:i,face:null,faceIndex:o,uv:null,uv1:null})}}function TX(i,e,t){const n=e.projectionMatrix,s=i.material.resolution,a=i.matrixWorld,o=i.geometry,l=o.attributes.instanceStart,c=o.attributes.instanceEnd,x=Math.min(o.instanceCount,l.count),u=-e.near;Gs.at(1,Ns),Ns.w=1,Ns.applyMatrix4(e.matrixWorldInverse),Ns.applyMatrix4(n),Ns.multiplyScalar(1/Ns.w),Ns.x*=s.x/2,Ns.y*=s.y/2,Ns.z=0,t3.copy(Ns),n3.multiplyMatrices(e.matrixWorldInverse,a);for(let h=0,f=x;h<f;h++){if(li.fromBufferAttribute(l,h),xi.fromBufferAttribute(c,h),li.w=1,xi.w=1,li.applyMatrix4(n3),xi.applyMatrix4(n3),li.z>u&&xi.z>u)continue;if(li.z>u){const I=li.z-xi.z,m=(li.z-u)/I;li.lerp(xi,m)}else if(xi.z>u){const I=xi.z-li.z,m=(xi.z-u)/I;xi.lerp(li,m)}li.applyMatrix4(n),xi.applyMatrix4(n),li.multiplyScalar(1/li.w),xi.multiplyScalar(1/xi.w),li.x*=s.x/2,li.y*=s.y/2,xi.x*=s.x/2,xi.y*=s.y/2,ui.start.copy(li),ui.start.z=0,ui.end.copy(xi),ui.end.z=0;const g=ui.closestPointToPointParameter(t3,!0);ui.at(g,RR);const d=Vz.lerp(li.z,xi.z,g),p=d>=-1&&d<=1,_=t3.distanceTo(RR)<tc*.5;if(p&&_){ui.start.fromBufferAttribute(l,h),ui.end.fromBufferAttribute(c,h),ui.start.applyMatrix4(a),ui.end.applyMatrix4(a);const I=new W,m=new W;Gs.distanceSqToSegment(ui.start,ui.end,m,I),t.push({point:m,pointOnLine:I,distance:Gs.origin.distanceTo(m),object:i,face:null,faceIndex:h,uv:null,uv1:null})}}}class DX extends ks{constructor(e=new wR,t=new $v({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,n=e.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let a=0,o=0,l=t.count;a<l;a++,o+=2)SR.fromBufferAttribute(t,a),MR.fromBufferAttribute(n,a),r[o]=o===0?0:r[o-1],r[o+1]=r[o]+SR.distanceTo(MR);const s=new Vv(r,2,1);return e.setAttribute("instanceDistanceStart",new Us(s,1,0)),e.setAttribute("instanceDistanceEnd",new Us(s,1,1)),this}raycast(e,t){const n=this.material.worldUnits,r=e.camera;r===null&&!n&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Gs=e.ray;const a=this.matrixWorld,o=this.geometry,l=this.material;tc=l.linewidth+s,o.boundingSphere===null&&o.computeBoundingSphere(),P_.copy(o.boundingSphere).applyMatrix4(a);let c;if(n)c=tc*.5;else{const u=Math.max(r.near,P_.distanceToPoint(Gs.origin));c=TR(r,u,l.resolution)}if(P_.radius+=c,Gs.intersectsSphere(P_)===!1)return;o.boundingBox===null&&o.computeBoundingBox(),L_.copy(o.boundingBox).applyMatrix4(a);let x;if(n)x=tc*.5;else{const u=Math.max(r.near,L_.distanceToPoint(Gs.origin));x=TR(r,u,l.resolution)}L_.expandByScalar(x),Gs.intersectsBox(L_)!==!1&&(n?RX(this,t):TX(this,r,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(e3),this.material.uniforms.resolution.value.set(e3.z,e3.w))}}class QX extends DX{constructor(e=new BR,t=new $v({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}const DR=new W,FX=new hx,QR=new W,zs=new mn,LX=new mn;class PX{constructor(e={}){const t=this;let n,r,s,a;const o={camera:{style:""},objects:new WeakMap},l=e.element!==void 0?e.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l;const c=document.createElement("div");c.style.transformOrigin="0 0",c.style.pointerEvents="none",l.appendChild(c);const x=document.createElement("div");x.style.transformStyle="preserve-3d",c.appendChild(x),this.getSize=function(){return{width:n,height:r}},this.render=function(d,p){const _=p.projectionMatrix.elements[5]*a;p.view&&p.view.enabled?(c.style.transform=`translate( ${-p.view.offsetX*(n/p.view.width)}px, ${-p.view.offsetY*(r/p.view.height)}px )`,c.style.transform+=`scale( ${p.view.fullWidth/p.view.width}, ${p.view.fullHeight/p.view.height} )`):c.style.transform="",d.matrixWorldAutoUpdate===!0&&d.updateMatrixWorld(),p.parent===null&&p.matrixWorldAutoUpdate===!0&&p.updateMatrixWorld();let I,m;p.isOrthographicCamera&&(I=-(p.right+p.left)/2,m=(p.top+p.bottom)/2);const y=p.view&&p.view.enabled?p.view.height/p.view.fullHeight:1,E=p.isOrthographicCamera?`scale( ${y} )scale(`+_+")translate("+u(I)+"px,"+u(m)+"px)"+h(p.matrixWorldInverse):`scale( ${y} )translateZ(`+_+"px)"+h(p.matrixWorldInverse),v=(p.isPerspectiveCamera?"perspective("+_+"px) ":"")+E+"translate("+s+"px,"+a+"px)";o.camera.style!==v&&(x.style.transform=v,o.camera.style=v),g(d,d,p)},this.setSize=function(d,p){n=d,r=p,s=n/2,a=r/2,l.style.width=d+"px",l.style.height=p+"px",c.style.width=d+"px",c.style.height=p+"px",x.style.width=d+"px",x.style.height=p+"px"};function u(d){return Math.abs(d)<1e-10?0:d}function h(d){const p=d.elements;return"matrix3d("+u(p[0])+","+u(-p[1])+","+u(p[2])+","+u(p[3])+","+u(p[4])+","+u(-p[5])+","+u(p[6])+","+u(p[7])+","+u(p[8])+","+u(-p[9])+","+u(p[10])+","+u(p[11])+","+u(p[12])+","+u(-p[13])+","+u(p[14])+","+u(p[15])+")"}function f(d){const p=d.elements;return"translate(-50%,-50%)"+("matrix3d("+u(p[0])+","+u(p[1])+","+u(p[2])+","+u(p[3])+","+u(-p[4])+","+u(-p[5])+","+u(-p[6])+","+u(-p[7])+","+u(p[8])+","+u(p[9])+","+u(p[10])+","+u(p[11])+","+u(p[12])+","+u(p[13])+","+u(p[14])+","+u(p[15])+")")}function A(d){d.isCSS3DObject&&(d.element.style.display="none");for(let p=0,_=d.children.length;p<_;p++)A(d.children[p])}function g(d,p,_,I){if(d.visible===!1){A(d);return}if(d.isCSS3DObject){const m=d.layers.test(_.layers)===!0,y=d.element;if(y.style.display=m===!0?"":"none",m===!0){d.onBeforeRender(t,p,_);let E;d.isCSS3DSprite?(zs.copy(_.matrixWorldInverse),zs.transpose(),d.rotation2D!==0&&zs.multiply(LX.makeRotationZ(d.rotation2D)),d.matrixWorld.decompose(DR,FX,QR),zs.setPosition(DR),zs.scale(QR),zs.elements[3]=0,zs.elements[7]=0,zs.elements[11]=0,zs.elements[15]=1,E=f(zs)):E=f(d.matrixWorld);const C=o.objects.get(d);if(C===void 0||C.style!==E){y.style.transform=E;const v={style:E};o.objects.set(d,v)}y.parentNode!==x&&x.appendChild(y),d.onAfterRender(t,p,_)}}for(let m=0,y=d.children.length;m<y;m++)g(d.children[m],p,_)}}}const kX={showLabel:!1,useColorRamp:!1,extremeColor:{max:"#ff0000",min:"#0000ff"}};class FR{constructor(e={}){hn(this,"_setProps",e=>{e.data&&(this.data=e.data),e.worlds&&(this.worlds=e.worlds),typeof e.lineStyle=="object"&&(this.state.lineStyle={...this.state.lineStyle,...e.lineStyle}),typeof e.extremeStyle=="object"&&(this.state.extremeStyle={...this.state.extremeStyle,...e.extremeStyle}),this.layer.reDraw()});return this.state={...kX,...e},this.layer=this._initLayer(),this._isGlReady=!1,this.group={lines:new K0,labels:new K0,extreme_labels:new K0},this.data=[],this.layer}_initLayer(){const e=new zM({projection:this.state.projection});return e.onBeforeUpdate=this._onBeforeUpdate.bind(this),e.onUpdate=this._onUpdate.bind(this),e.setProps=this._setProps.bind(this),!this._colorRampObject&&this.state.colorRamp&&(this._colorRampObject=this._createColorRamp(this.state.colorRamp)),e}_onBeforeUpdate(e){const{gl:t,canvas:n,extent:r,resolution:s,pixelRatio:a,size:o,projection:l}=e,c=this.state.map;if(!this._isGlReady&&c){this.renderer=new MX({context:t,antialias:!0,alpha:!0}),this.css3Renderer=new PX,this.css3Renderer.domElement.className="css3Renderer",this.css3Renderer.domElement.style.position="absolute",this.css3Renderer.domElement.style.zIndex=999,this.css3Renderer.domElement.style.pointerEvents="none",document.body.appendChild(this.css3Renderer.domElement),this.scene=new pV;const x=new X8(-1,1,1,-1,1,1e3);x.position.set(0,0,1),x.up.set(0,1,0),x.lookAt(0,0,0),this.camera=x,this.scene.add(this.camera)}this._isGlReady=!0}_onUpdate(e){const{gl:t,canvas:n,extent:r,resolution:s,pixelRatio:a,size:o,projection:l}=e,c=this.state.map;if(c&&this.renderer){this.renderer.clear(),this.renderer.setSize(o[0],o[1]);const{left:x,top:u,width:h,height:f}=c.getTargetElement().getBoundingClientRect();this.css3Renderer.domElement.style.top=`${u}px`,this.css3Renderer.domElement.style.left=`${x}px`,this.css3Renderer.setSize(h,f),this.scene.remove(this.group.lines),this.scene.remove(this.group.labels),this.scene.remove(this.group.extreme_labels),this.group.lines.clear(),this.group.labels.clear(),this.group.extreme_labels.clear(),this.scene.clear(),this.scene.children.forEach(d=>d.dispose());const[A,g]=this.worlds;for(let d=A;d<=g;d++)Object.values(this.data.lines).forEach(({splitLines:p,properties:_,anchor:I,rotate:m},y)=>{const E=this.state.lineStyle.getWidth(_),C=this.state.lineStyle.getValue(_),v=this.state.lineStyle.getTitle(_),b=this.state.lineStyle.useColorRamp?this._getColor(C,this._colorRampObject):new Rt(this.state.lineStyle.getColor(_)),w=b.getStyle(),B=this.state.lineStyle.getFontColor(_),R=this.state.lineStyle.getFontSize(_);if(p.length&&(p.forEach(Q=>{const F=[];Q.forEach(k=>{const V=360*d+k[0],Y=k[1];let[U,te]=this.layer.lnglatToScreen([V,Y],c,r,a);U=U/o[0]*2-1,te=(1-te/o[1])*2-1,F.push(U,te,0)});const M=new BR;M.setPositions(F);const T=new $v({color:b,linewidth:E,dashed:!1}),P=new QX(M,T);this.group.lines.add(P)}),this.state.lineStyle.showLabel&&I&&m)){const Q=360*d+I[0],F=I[1];let[M,T]=this.layer.lnglatToScreen([Q,F],c,r,a);M=M/o[0]*2-1,T=(1-T/o[1])*2-1;const P=this._createLabel({x:M,y:T,size:o,text:v,fillColor:w,fontColor:B,fontSize:R,rotate:m,fill:!0});this.group.labels.add(P)}}),this.scene.add(this.group.lines),this.scene.add(this.group.labels),this.state.extremeStyle.showLabel&&this.data.points.forEach(({coordinates:p,properties:_})=>{const I=360*d+p[0],m=p[1];let[y,E]=this.layer.lnglatToScreen([I,m],c,r,a);y=y/o[0]*2-1,E=(1-E/o[1])*2-1;const C=this.state.extremeStyle.getValue(_),v=this.state.extremeStyle.getFontSize(_),b=this.state.extremeStyle.useColorRamp?this._getColor(C,this._colorRampObject):new Rt(this.state.extremeStyle.getFontColor(_)),w=C.toFixed(),B=this._createLabel({x:y,y:E,size:o,text:w,fontColor:b.getStyle(),fontSize:v,rotate:0,fill:!1}),R=this._createLabel({x:y,y:E+1/o[1]*50,size:o,text:_.name==="max"?"H":"L",fontColor:b.getStyle(),fontSize:v,rotate:0,fill:!1});this.group.extreme_labels.add(B),this.group.extreme_labels.add(R)}),this.scene.add(this.group.extreme_labels)}this.renderer.render(this.scene,this.camera),this.css3Renderer.render(this.scene,this.camera)}_createLabel({x:e,y:t,size:n,text:r,fillColor:s,fontColor:a,fontSize:o=40,rotate:l=0,fill:c=!0}){const x=document.createElement("canvas"),u=x.getContext("2d"),[h,f]=[o*r.length*1.2,o*1];x.width=h,x.height=f,u.clearRect(0,0,h,f),u.fillStyle=s,c&&(u.beginPath(),u.arc(f/2,f/2,f/2,-Math.PI/2,Math.PI/2,!0),u.moveTo(f/2,0),u.lineTo(h-f/2,0),u.arc(h-f/2,f/2,f/2,-Math.PI/2,Math.PI/2,!1),u.lineTo(f/2,f),u.fill(),u.closePath(),u.fill()),u.textAlign="center",u.textBaseline="middle",u.fillStyle=a,u.font=`${o}px Times New Roman`,u.fillText(r,h/2,f/2);const A=new IV(x),g=new gV(new O8({map:A,rotation:l,sizeAttenuation:!0}));return g.position.set(e,t,0),g.scale.set(h/n[0],f/n[1],1),g}_createColorRamp(e){const t=e.sort((u,h)=>u[0]<h[0]),n=t[0][0],r=t[t.length-1][0],s=document.createElement("canvas"),a=256,o=1;s.width=a,s.height=o;const l=s.getContext("2d"),c=l.createLinearGradient(0,0,s.width,s.height);for(let u=0;u<e.length;u++){const[h,f]=e[u],A=(h-n)/(r-n);c.addColorStop(A,f)}l.fillStyle=c,l.fillRect(0,0,s.width,s.height);const x=new Uint8Array(l.getImageData(0,0,s.width,s.height).data);return{val_min:n,val_max:r,imageData:x,width:a,height:o}}_getColor(e,t){const{val_min:n,val_max:r,imageData:s,width:a,height:o}=t;let l=(e-n)/(r-n);l=Math.max(l,0),l=Math.min(l,1);const c=Math.floor(a*l),x=0,u=s[(a*x+c)*4],h=s[(a*x+c)*4+1],f=s[(a*x+c)*4+2],A=s[(a*x+c)*4+3];return new Rt(u/255,h/255,f/255,A/255)}}const i3=65536*65536,LR=1/i3,UX=12,PR=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),r3=0,k_=1,Wf=2,U_=5;class NX{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,n=this.length){for(;this.pos<n;){const r=this.readVarint(),s=r>>3,a=this.pos;this.type=r&7,e(s,t,this),this.pos===a&&this.skip(r)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*i3;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*i3;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let n,r;return r=t[this.pos++],n=r&127,r<128||(r=t[this.pos++],n|=(r&127)<<7,r<128)||(r=t[this.pos++],n|=(r&127)<<14,r<128)||(r=t[this.pos++],n|=(r&127)<<21,r<128)?n:(r=t[this.pos],n|=(r&15)<<28,OX(n,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=UX&&PR?PR.decode(this.buf.subarray(t,e)):$X(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===Wf?this.readVarint()+this.pos:this.pos+1}skip(e){const t=e&7;if(t===r3)for(;this.buf[this.pos++]>127;);else if(t===Wf)this.pos=this.readVarint()+this.pos;else if(t===U_)this.pos+=4;else if(t===k_)this.pos+=8;else throw new Error(`Unimplemented type: ${t}`)}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.dataView=new DataView(n.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*LR),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*LR),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){GX(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const t=this.pos;this.pos=eW(this.buf,e,this.pos);const n=this.pos-t;n>=128&&kR(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let n=0;n<t;n++)this.buf[this.pos++]=e[n]}writeRawMessage(e,t){this.pos++;const n=this.pos;e(t,this);const r=this.pos-n;r>=128&&kR(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r}writeMessage(e,t,n){this.writeTag(e,Wf),this.writeRawMessage(t,n)}writePackedVarint(e,t){t.length&&this.writeMessage(e,HX,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,qX,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,WX,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,YX,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,XX,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,jX,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,KX,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,JX,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,ZX,t)}writeBytesField(e,t){this.writeTag(e,Wf),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,U_),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,U_),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,k_),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,k_),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,r3),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,r3),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,Wf),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,U_),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,k_),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function OX(i,e,t){const n=t.buf;let r,s;if(s=n[t.pos++],r=(s&112)>>4,s<128||(s=n[t.pos++],r|=(s&127)<<3,s<128)||(s=n[t.pos++],r|=(s&127)<<10,s<128)||(s=n[t.pos++],r|=(s&127)<<17,s<128)||(s=n[t.pos++],r|=(s&127)<<24,s<128)||(s=n[t.pos++],r|=(s&1)<<31,s<128))return Dx(i,r,e);throw new Error("Expected varint not more than 10 bytes")}function Dx(i,e,t){return t?e*4294967296+(i>>>0):(e>>>0)*4294967296+(i>>>0)}function GX(i,e){let t,n;if(i>=0?(t=i%4294967296|0,n=i/4294967296|0):(t=~(-i%4294967296),n=~(-i/4294967296),t^4294967295?t=t+1|0:(t=0,n=n+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),zX(t,n,e),VX(n,e)}function zX(i,e,t){t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos++]=i&127|128,i>>>=7,t.buf[t.pos]=i&127}function VX(i,e){const t=(i&7)<<4;e.buf[e.pos++]|=t|((i>>>=3)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127|((i>>>=7)?128:0),i&&(e.buf[e.pos++]=i&127)))))}function kR(i,e,t){const n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(n);for(let r=t.pos-1;r>=i;r--)t.buf[r+n]=t.buf[r]}function HX(i,e){for(let t=0;t<i.length;t++)e.writeVarint(i[t])}function qX(i,e){for(let t=0;t<i.length;t++)e.writeSVarint(i[t])}function YX(i,e){for(let t=0;t<i.length;t++)e.writeFloat(i[t])}function XX(i,e){for(let t=0;t<i.length;t++)e.writeDouble(i[t])}function WX(i,e){for(let t=0;t<i.length;t++)e.writeBoolean(i[t])}function jX(i,e){for(let t=0;t<i.length;t++)e.writeFixed32(i[t])}function KX(i,e){for(let t=0;t<i.length;t++)e.writeSFixed32(i[t])}function JX(i,e){for(let t=0;t<i.length;t++)e.writeFixed64(i[t])}function ZX(i,e){for(let t=0;t<i.length;t++)e.writeSFixed64(i[t])}function $X(i,e,t){let n="",r=e;for(;r<t;){const s=i[r];let a=null,o=s>239?4:s>223?3:s>191?2:1;if(r+o>t)break;let l,c,x;o===1?s<128&&(a=s):o===2?(l=i[r+1],(l&192)===128&&(a=(s&31)<<6|l&63,a<=127&&(a=null))):o===3?(l=i[r+1],c=i[r+2],(l&192)===128&&(c&192)===128&&(a=(s&15)<<12|(l&63)<<6|c&63,(a<=2047||a>=55296&&a<=57343)&&(a=null))):o===4&&(l=i[r+1],c=i[r+2],x=i[r+3],(l&192)===128&&(c&192)===128&&(x&192)===128&&(a=(s&15)<<18|(l&63)<<12|(c&63)<<6|x&63,(a<=65535||a>=1114112)&&(a=null))),a===null?(a=65533,o=1):a>65535&&(a-=65536,n+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023),n+=String.fromCharCode(a),r+=o}return n}function eW(i,e,t){for(let n=0,r,s;n<e.length;n++){if(r=e.charCodeAt(n),r>55295&&r<57344)if(s)if(r<56320){i[t++]=239,i[t++]=191,i[t++]=189,s=r;continue}else r=s-55296<<10|r-56320|65536,s=null;else{r>56319||n+1===e.length?(i[t++]=239,i[t++]=191,i[t++]=189):s=r;continue}else s&&(i[t++]=239,i[t++]=191,i[t++]=189,s=null);r<128?i[t++]=r:(r<2048?i[t++]=r>>6|192:(r<65536?i[t++]=r>>12|224:(i[t++]=r>>18|240,i[t++]=r>>12&63|128),i[t++]=r>>6&63|128),i[t++]=r&63|128)}return t}var s3={},tW=iW,jf,UR,N_,Ua,Vs,NR=1e6,nW={Point:0,MultiPoint:1,LineString:2,MultiLineString:3,Polygon:4,MultiPolygon:5,GeometryCollection:6};function iW(i,e){jf={},N_=[],UR=0,Ua=0,Vs=1,O_(i),Vs=Math.min(Vs,NR);for(var t=Math.ceil(Math.log(Vs)/Math.LN10),n=0;n<N_.length;n++)e.writeStringField(1,N_[n]);return Ua!==2&&e.writeVarintField(2,Ua),t!==6&&e.writeVarintField(3,t),i.type==="FeatureCollection"?e.writeMessage(4,rW,i):i.type==="Feature"?e.writeMessage(5,VR,i):e.writeMessage(6,o3,i),jf=null,e.finish()}function O_(i){var e,t;if(i.type==="FeatureCollection")for(e=0;e<i.features.length;e++)O_(i.features[e]);else if(i.type==="Feature"){i.geometry!==null&&O_(i.geometry);for(t in i.properties)zR(t)}else if(i.type==="Point")GR(i.coordinates);else if(i.type==="MultiPoint")a3(i.coordinates);else if(i.type==="GeometryCollection")for(e=0;e<i.geometries.length;e++)O_(i.geometries[e]);else if(i.type==="LineString")a3(i.coordinates);else if(i.type==="Polygon"||i.type==="MultiLineString")OR(i.coordinates);else if(i.type==="MultiPolygon")for(e=0;e<i.coordinates.length;e++)OR(i.coordinates[e]);for(t in i)YR(t,i.type)||zR(t)}function OR(i){for(var e=0;e<i.length;e++)a3(i[e])}function a3(i){for(var e=0;e<i.length;e++)GR(i[e])}function GR(i){Ua=Math.max(Ua,i.length);for(var e=0;e<i.length;e++)for(;Math.round(i[e]*Vs)/Vs!==i[e]&&Vs<NR;)Vs*=10}function zR(i){jf[i]===void 0&&(N_.push(i),jf[i]=UR++)}function rW(i,e){for(var t=0;t<i.features.length;t++)e.writeMessage(1,VR,i.features[t]);G_(i,e,!0)}function VR(i,e){i.geometry!==null&&e.writeMessage(1,o3,i.geometry),i.id!==void 0&&(typeof i.id=="number"&&i.id%1===0?e.writeSVarintField(12,i.id):e.writeStringField(11,i.id)),i.properties&&G_(i.properties,e),G_(i,e,!0)}function o3(i,e){e.writeVarintField(1,nW[i.type]);var t=i.coordinates;if(i.type==="Point")aW(t,e);else if(i.type==="MultiPoint")HR(t,e);else if(i.type==="LineString")HR(t,e);else if(i.type==="MultiLineString")qR(t,e);else if(i.type==="Polygon")qR(t,e,!0);else if(i.type==="MultiPolygon")oW(t,e);else if(i.type==="GeometryCollection")for(var n=0;n<i.geometries.length;n++)e.writeMessage(4,o3,i.geometries[n]);G_(i,e,!0)}function G_(i,e,t){var n=[],r=0;for(var s in i)t&&YR(s,i.type)||(e.writeMessage(13,sW,i[s]),n.push(jf[s]),n.push(r++));e.writePackedVarint(t?15:14,n)}function sW(i,e){if(i!==null){var t=typeof i;t==="string"?e.writeStringField(1,i):t==="boolean"?e.writeBooleanField(5,i):t==="object"?e.writeStringField(6,JSON.stringify(i)):t==="number"&&(i%1!==0?e.writeDoubleField(2,i):i>=0?e.writeVarintField(3,i):e.writeVarintField(4,-i))}}function aW(i,e){for(var t=[],n=0;n<Ua;n++)t.push(Math.round(i[n]*Vs));e.writePackedSVarint(3,t)}function HR(i,e){var t=[];c3(t,i),e.writePackedSVarint(3,t)}function qR(i,e,t){var n=i.length,r;if(n!==1){var s=[];for(r=0;r<n;r++)s.push(i[r].length-(t?1:0));e.writePackedVarint(2,s)}var a=[];for(r=0;r<n;r++)c3(a,i[r],t);e.writePackedSVarint(3,a)}function oW(i,e){var t=i.length,n,r;if(t!==1||i[0].length!==1){var s=[t];for(n=0;n<t;n++)for(s.push(i[n].length),r=0;r<i[n].length;r++)s.push(i[n][r].length-1);e.writePackedVarint(2,s)}var a=[];for(n=0;n<t;n++)for(r=0;r<i[n].length;r++)c3(a,i[n][r],!0);e.writePackedSVarint(3,a)}function c3(i,e,t){var n,r,s=e.length-(t?1:0),a=new Array(Ua);for(r=0;r<Ua;r++)a[r]=0;for(n=0;n<s;n++)for(r=0;r<Ua;r++){var o=Math.round(e[n][r]*Vs)-a[r];i.push(o),a[r]+=o}}function YR(i,e){if(i==="type")return!0;if(e==="FeatureCollection"){if(i==="features")return!0}else if(e==="Feature"){if(i==="id"||i==="properties"||i==="geometry")return!0}else if(e==="GeometryCollection"){if(i==="geometries")return!0}else if(i==="coordinates")return!0;return!1}var cW=xW,z_,Qx,Lr,V_,H_,lW=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"];function xW(i){V_=2,H_=Math.pow(10,6),Lr=null,z_=[],Qx=[];var e=i.readFields(uW,{});return z_=null,e}function uW(i,e,t){i===1?z_.push(t.readString()):i===2?V_=t.readVarint():i===3?H_=Math.pow(10,t.readVarint()):i===4?hW(t,e):i===5?XR(t,e):i===6&&l3(t,e)}function hW(i,e){return e.type="FeatureCollection",e.features=[],i.readMessage(fW,e)}function XR(i,e){e.type="Feature";var t=i.readMessage(AW,e);return"geometry"in t||(t.geometry=null),t}function l3(i,e){return e.type="Point",i.readMessage(dW,e)}function fW(i,e,t){i===1?e.features.push(XR(t,{})):i===13?Qx.push(x3(t)):i===15&&q_(t,e)}function AW(i,e,t){i===1?e.geometry=l3(t,{}):i===11?e.id=t.readString():i===12?e.id=t.readSVarint():i===13?Qx.push(x3(t)):i===14?e.properties=q_(t,{}):i===15&&q_(t,e)}function dW(i,e,t){i===1?e.type=lW[t.readVarint()]:i===2?Lr=t.readPackedVarint():i===3?pW(e,t,e.type):i===4?(e.geometries=e.geometries||[],e.geometries.push(l3(t,{}))):i===13?Qx.push(x3(t)):i===15&&q_(t,e)}function pW(i,e,t){t==="Point"?i.coordinates=gW(e):t==="MultiPoint"||t==="LineString"?i.coordinates=WR(e):t==="MultiLineString"?i.coordinates=jR(e):t==="Polygon"?i.coordinates=jR(e,!0):t==="MultiPolygon"&&(i.coordinates=mW(e))}function x3(i){for(var e=i.readVarint()+i.pos,t=null;i.pos<e;){var n=i.readVarint(),r=n>>3;r===1?t=i.readString():r===2?t=i.readDouble():r===3?t=i.readVarint():r===4?t=-i.readVarint():r===5?t=i.readBoolean():r===6&&(t=JSON.parse(i.readString()))}return t}function q_(i,e){for(var t=i.readVarint()+i.pos;i.pos<t;)e[z_[i.readVarint()]]=Qx[i.readVarint()];return Qx=[],e}function gW(i){for(var e=i.readVarint()+i.pos,t=[];i.pos<e;)t.push(i.readSVarint()/H_);return t}function Kf(i,e,t,n){var r=0,s=[],a,o,l=[];for(o=0;o<V_;o++)l[o]=0;for(;t?r<t:i.pos<e;){for(a=[],o=0;o<V_;o++)l[o]+=i.readSVarint(),a[o]=l[o]/H_;s.push(a),r++}return n&&s.push(s[0]),s}function WR(i){return Kf(i,i.readVarint()+i.pos)}function jR(i,e){var t=i.readVarint()+i.pos;if(!Lr)return[Kf(i,t,null,e)];for(var n=[],r=0;r<Lr.length;r++)n.push(Kf(i,t,Lr[r],e));return Lr=null,n}function mW(i){var e=i.readVarint()+i.pos;if(!Lr)return[[Kf(i,e,null,!0)]];for(var t=[],n=1,r=0;r<Lr[0];r++){for(var s=[],a=0;a<Lr[n];a++)s.push(Kf(i,e,Lr[n+1+a],!0));n+=Lr[n]+1,t.push(s)}return Lr=null,t}s3.encode=tW,s3.decode=cW;class _W{constructor(){hn(this,"abortController");hn(this,"load",async(e,t)=>{const n={data:null,error:null,loading:!1};return this.abortController=new AbortController,new Promise(async(r,s)=>{n.loading=!0;try{let a=null;t=="normal"?a=e:t=="geojson"?a=await fetch(e,{signal:this.abortController.singal}).then(o=>o.json()):a=await fetch(e,{signal:this.abortController.singal}).then(o=>o.arrayBuffer()).then(o=>{const l=new NX(o);return s3.decode(l)}),this.data=a,n.data=a}catch(a){a.name==="AbortError"&&(n.error=a)}finally{r(n)}})})}calWorldIndex(e){const t=Math.floor((e[0]+180)/360),n=Math.floor((e[2]+180-1e-6)/360);return[t,n]}}class IW{constructor(){hn(this,"abortController");hn(this,"load",async e=>{const t={data:null,error:null,loading:!1};return this.abortController=new AbortController,new Promise(async(n,r)=>{t.loading=!0;try{const s=await Cw(e,{},this.abortController.singal),a=await s.getImageCount(),o=[];for(let c=0;c<a;c++){const x=await s.getImage(c);o.push({image:x})}const l=o[0];o.forEach((c,x)=>{let u,h,f;try{u=c.image.getOrigin()}catch{u=null}try{h=c.image.getResolution()}catch{h=c.image.getResolution(l.image)}try{f=c.image.getBoundingBox()}catch{f=null}c.origin=u,c.resolution=h,c.bbox=f,c.metaData=c.image.getGDALMetadata()||l.image.getGDALMetadata()}),this.data=o,t.data=o}catch(s){s.name==="AbortError"&&(t.error=s)}finally{n(t)}})});hn(this,"matchImageByZoom",e=>{if(this.data){const t=Math.pow(.5,e);let n=0,r=1;for(let s=0;s<this.data.length;s++){const a=this.data[s],o=Math.abs(a.resolution[0]),l=Math.abs(t-o);l<=r&&(n=s,r=l)}return this.data[n]}return null});hn(this,"getRasterByExtent",async(e,t,n)=>{this.abortController=new AbortController;const[r,s,a]=e.origin||this.data[0].origin,[o,l]=e.resolution||this.data[0].resolution,c=e.bbox||this.data[0].bbox,x=e.metaData||this.data[0].metaData,u=this._fixBbox(c,n),h=this.calBboxes(u,t,"x"),f=[];for(let A=0;A<h.length;A++){const g=[...h[A]],d=this._normBbox(h[A]),p=(d[0]-r)/o,_=(d[1]-s)/l,I=(d[2]-r)/o,m=(d[3]-s)/l,y=Math.floor(Math.min(p,I)),E=Math.floor(Math.min(_,m)),C=Math.ceil(Math.max(p,I)),v=Math.ceil(Math.max(_,m)),b=[y,E,C,v],w=await e.image.readRasters({fillValue:parseFloat(x.nodata),window:b,signal:this.abortController.signal});w.window=b,w.bbox=g,f.push(w)}return f})}calBboxes(e,t,n="xy"){const r=Math.floor((t[0]+180)/360),s=Math.floor((t[2]+180-1e-6)/360),a=Math.floor((t[1]+90)/180),o=Math.floor((t[3]+90-1e-6)/180),l=[];if(n.includes("xy"))for(let c=r;c<=s;c++){let x=360*c+e[0];c===r&&(x=Math.max(x,t[0]));let u=360*c+e[2];c===s&&(u=Math.min(u,t[2]));for(let h=a;h<=o;h++){let f=180*h+e[1];h===a&&(f=Math.max(f,t[1]));let A=180*h+e[3];h===o&&(A=Math.min(A,t[3])),l.push([x,f,u,A])}}else if(n.includes("x"))for(let c=r;c<=s;c++){let x=360*c+e[0];c===r&&(x=Math.max(x,t[0]));let u=360*c+e[2];c===s&&(u=Math.min(u,t[2]));const h=Math.max(-90,e[1],t[1]),f=Math.min(90,e[3],t[3]);l.push([x,h,u,f])}else{const c=Math.max(-180,e[0],t[0]),x=Math.min(180,e[2],t[2]);for(let u=a;u<=o;u++){let h=180*u+e[1];u===a&&(h=Math.max(h,t[1]));let f=180*u+e[3];u===o&&(f=Math.min(f,t[3])),l.push([c,h,x,f])}}return l}_fixBbox(e,t){const n=t.getView().getProjection().worldExtent_,r=Math.max(n[0],e[0]),s=Math.min(n[2],e[2]),a=Math.max(n[1],e[1]),o=Math.min(n[3],e[3]);return[r,a,s,o]}_normBbox(e){const t=Math.floor((e[0]+180)/360),n=Math.floor((e[1]+90)/180);let r=e[0]-360*t,s=e[2]-360*t,a=e[1]-180*n,o=e[3]-180*n;return[r,a,s,o]}}class EW{constructor(e,t={}){hn(this,"_loadGeotiff",async e=>{this.tiffLoader||(this.tiffLoader=new IW,await this.tiffLoader.load(e),await this._updateData(this.map,this.layer,this.tiffLoader))});hn(this,"_updateData",async(e,t,n)=>{if(!n||!e||!t)return;const r=await this._getData(e,t,n);this.layer.setProps({data:r})});return this.map=e,this.data=null,this.tiffLoader=null,this.layer=new UG({map:e,...t}),this._bindEvents(),this._isReady=!1,this.layer}_bindEvents(){this.layer.loadGeotiff=this._loadGeotiff.bind(this),this.map&&this.map.on("rendercomplete",e=>{this._isReady||(this.map.on("moveend",async t=>{await this._updateData(this.map,this.layer,this.tiffLoader)}),this.map.on("movestart",t=>{this.map.getLayers().forEach(n=>{n.type==="custom"&&n.setNeedRedraw()})}),this._isReady=!0)})}async _getData(e,t,n){const r=Math.floor(e.getView().getZoom()),s=n.matchImageByZoom(r),a=e.getView().calculateExtent(e.getSize()),o=t.extentTolnglat(a,e),l=await n.getRasterByExtent(s,o,e),c=s.metaData,x=parseFloat(c.scale),u=parseFloat(c.offset),h=parseFloat(c.nodata),f=parseFloat(c.umin||c.uvmin),A=parseFloat(c.umax||c.uvmax),g=parseFloat(c.vmin||c.uvmin),d=parseFloat(c.vmax||c.uvmax),p=[];return l.forEach((_,I)=>{const m=_[0],y=_[1],E=_.bbox,C=_.width,v=_.height;p.push({dataArray_u:m,dataArray_v:y,bbox:E,width:C,height:v,metaData:{scale:x,offset:u,nodata:h,umin:f,umax:A,vmin:g,vmax:d}})}),p}}var yW=Y_;Y_.polyline=Y_,Y_.polygon=CW;function Y_(i,e,t){var n=i.length,r=Fx(i[0],e),s=[],a,o,l,c,x;for(t||(t=[]),a=1;a<n;a++){for(o=i[a-1],l=i[a],c=x=Fx(l,e);;)if(r|c){if(r&c)break;r?(o=u3(o,l,r,e),r=Fx(o,e)):(l=u3(o,l,c,e),c=Fx(l,e))}else{s.push(o),c!==x?(s.push(l),a<n-1&&(t.push(s),s=[])):a===n-1&&s.push(l);break}r=x}return s.length&&t.push(s),t}function CW(i,e){var t,n,r,s,a,o,l;for(n=1;n<=8;n*=2){for(t=[],r=i[i.length-1],s=!(Fx(r,e)&n),a=0;a<i.length;a++)o=i[a],l=!(Fx(o,e)&n),l!==s&&t.push(u3(r,o,n,e)),l&&t.push(o),r=o,s=l;if(i=t,!i.length)break}return t}function u3(i,e,t,n){return t&8?[i[0]+(e[0]-i[0])*(n[3]-i[1])/(e[1]-i[1]),n[3]]:t&4?[i[0]+(e[0]-i[0])*(n[1]-i[1])/(e[1]-i[1]),n[1]]:t&2?[n[2],i[1]+(e[1]-i[1])*(n[2]-i[0])/(e[0]-i[0])]:t&1?[n[0],i[1]+(e[1]-i[1])*(n[0]-i[0])/(e[0]-i[0])]:null}function Fx(i,e){var t=0;return i[0]<e[0]?t|=1:i[0]>e[2]&&(t|=2),i[1]<e[1]?t|=4:i[1]>e[3]&&(t|=8),t}const bW=jx(yW);class vW{constructor(e,t={}){hn(this,"_loadGeojson",async(e,t)=>{this.geojsonLoader||(this.geojsonLoader=new _W,await this.geojsonLoader.load(e,t),this._updateData())});hn(this,"_updateData",()=>{if(!this.geojsonLoader||!this.map||!this.layer)return;const e=this._getData(this.data,this.map,this.geojsonLoader,this.layer);this.data=e;const t=this.map.getView().calculateExtent(this.map.getSize()),n=this.layer.extentTolnglat(t,this.map),r=this.geojsonLoader.calWorldIndex(n);this.layer.setProps({data:e,worlds:r})});this.map=e,this.data=null,this.geojsonLoader=null;let n=this.getConvertPramas(t);return this.layer=new FR({map:e,...n}),this._bindEvents(),this.layer}getConvertPramas(e){var n,r,s,a,o,l,c;let t={colorRamp:(e==null?void 0:e.colorRamp)||[[500,"rgba(115,70,105,1)"],[510,"rgba(202,172,195,1)"],[520,"rgba(162,70,145,1)"],[530,"rgba(143,89,169,1)"],[540,"rgba(157,219,217,1)"],[550,"rgba(106,191,181,1)"],[560,"rgba(100,166,189,1)"],[570,"rgba(93,133,198,1)"],[580,"rgba(68,125,99,1)"],[590,"rgba(128,147,24,1)"],[600,"rgba(71,14,0,1)"]],lineStyle:{useColorRamp:((n=e==null?void 0:e.lineStyle)==null?void 0:n.useColorRamp)||!1,getWidth:x=>{var h;const u=parseFloat(x["level-value"]);if((h=e==null?void 0:e.lineStyle)!=null&&h.special)for(let f=0;f<e.lineStyle.special.length;f++){let A=e.lineStyle.special[f];if(u==A.value)return A.width}return x["stroke-width"]*2||2},getColor:x=>{var h;const u=parseFloat(x["level-value"]);if((h=e==null?void 0:e.lineStyle)!=null&&h.special)for(let f=0;f<e.lineStyle.special.length;f++){let A=e.lineStyle.special[f];if(u==A.value)return A.color}return e.lineStyle.color?e.lineStyle.color:x.stroke},getValue:x=>{var h;let u=((h=e==null?void 0:e.lineStyle)==null?void 0:h.textValue)||"level-value";return parseFloat(x[u])},showLabel:!0,getTitle:x=>{var f;let u=((f=e==null?void 0:e.lineStyle)==null?void 0:f.textValue)||"level-value";return parseFloat(x[u]).toFixed()},getFontColor:x=>{var u;return((u=e==null?void 0:e.lineStyle)==null?void 0:u.fontColor)||"#000000"},getFontSize:x=>{var u;return((u=e==null?void 0:e.lineStyle)==null?void 0:u.fontSize)||30}},extremeStyle:{useColorRamp:!1,showLabel:!0,getValue:x=>{var h;let u=((h=e==null?void 0:e.extremeStyle)==null?void 0:h.textValue)||"value";return parseFloat(x[u])},getTitle:x=>{var f;let u=((f=e==null?void 0:e.extremeStyle)==null?void 0:f.textValue)||"value";return parseFloat(x[u]).toFixed()},getFontColor:x=>x.name==="max"?"#ff0000":"#0000ff",getFontSize:x=>{var u;return((u=e==null?void 0:e.extremeStyle)==null?void 0:u.fontSize)||35}},projection:"EPSG:3857"};return((r=e==null?void 0:e.lineStyle)==null?void 0:r.showLabel)!==void 0&&(t.lineStyle.showLabel=(s=e==null?void 0:e.lineStyle)==null?void 0:s.showLabel),((a=e==null?void 0:e.extremeStyle)==null?void 0:a.showLabel)!==void 0&&(t.extremeStyle.showLabel=(o=e==null?void 0:e.extremeStyle)==null?void 0:o.showLabel),(l=e==null?void 0:e.extremeStyle)!=null&&l.projection&&(t.extremeStyle.projection=(c=e==null?void 0:e.extremeStyle)==null?void 0:c.projection),t}_render(e={}){return this.layer=new FR(e),this._bindEvents(),this.layer}_bindEvents(){this.layer.loadGeojson=this._loadGeojson.bind(this),this.map.on("moveend",async e=>{if(!this.data||!this.geojsonLoader||!this.map||!this.layer)return;const t=this._getData(this.data,this.map,this.geojsonLoader,this.layer);this.data=t;const n=this.map.getView().calculateExtent(this.map.getSize()),r=this.layer.extentTolnglat(n,this.map),s=this.geojsonLoader.calWorldIndex(r);this.layer.setProps({data:t,worlds:s})}),this.map.on("movestart",e=>{this.map.getLayers().forEach(t=>{t.type==="custom"&&t.setNeedRedraw()})})}_getData(e,t,n,r){const s={},a={},o=[],l=t.getView().calculateExtent(t.getSize()),c=r.extentTolnglat(l,t);return n.data.features.forEach(({geometry:x,properties:u},h)=>{const{type:f,coordinates:A}=x;if(f==="LineString"){const g=bW(A,c);let d,p;if(!e||!e.lines){if(A.length>10){const _=Math.floor(A.length/2),I=Math.max(_-1,0),m=Math.min(_+1,A.length-1);d=A[_];const y=A[m][0]-A[I][0],E=A[m][1]-A[I][1];p=Math.atan(E/y)}}else if(g.length){const _=e.lines[h].anchor,I=e.lines[h].rotate;if(_&&_[0]>=c[0]&&_[0]<=c[2]&&_[1]>=c[1]&&_[1]<=c[3])d=[..._],p=I;else{let m=g[0];for(let y=1;y<g.length;y++)g[y].length>m.length&&(m=g[y]);if(m.length>10){const y=Math.floor(m.length/2),E=Math.max(y-1,0),C=Math.min(y+1,m.length-1);d=m[y];const v=m[C][0]-m[E][0],b=m[C][1]-m[E][1];p=Math.atan(b/v)}}}p=Math.PI*2,a[h]={splitLines:g,properties:u,anchor:d,rotate:p}}else f==="Point"&&A[0]>=c[0]&&A[0]<=c[2]&&A[1]>=c[1]&&A[1]<=c[3]&&o.push({coordinates:A,properties:u})}),s.lines=a,s.points=o,s.lnglatExtent=c,s}}function wW(){if(!document.currentScript)return;const e=document.currentScript.src.replace(/\/([^\/]+$)/gi,"/style.css");document.write(`<link rel="stylesheet" href="${e}"/>`)}wW();class BW extends Ko{decodeBlock(e){return e}}const SW=Object.freeze(Object.defineProperty({__proto__:null,default:BW},Symbol.toStringTag,{value:"Module"})),KR=9,h3=256,f3=257,MW=12;function RW(i,e,t){const n=e%8,r=Math.floor(e/8),s=8-n,a=e+t-(r+1)*8;let o=8*(r+2)-(e+t);const l=(r+2)*8-e;if(o=Math.max(0,o),r>=i.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),f3;let c=i[r]&2**(8-n)-1;c<<=t-s;let x=c;if(r+1<i.length){let u=i[r+1]>>>o;u<<=Math.max(0,t-l),x+=u}if(a>8&&r+2<i.length){const u=(r+3)*8-(e+t),h=i[r+2]>>>u;x+=h}return x}function A3(i,e){for(let t=e.length-1;t>=0;t--)i.push(e[t]);return i}function TW(i){const e=new Uint16Array(4093),t=new Uint8Array(4093);for(let A=0;A<=257;A++)e[A]=4096,t[A]=A;let n=258,r=KR,s=0;function a(){n=258,r=KR}function o(A){const g=RW(A,s,r);return s+=r,g}function l(A,g){return t[n]=g,e[n]=A,n++,n-1}function c(A){const g=[];for(let d=A;d!==4096;d=e[d])g.push(t[d]);return g}const x=[];a();const u=new Uint8Array(i);let h=o(u),f;for(;h!==f3;){if(h===h3){for(a(),h=o(u);h===h3;)h=o(u);if(h===f3)break;if(h>h3)throw new Error(`corrupted code at scanline ${h}`);{const A=c(h);A3(x,A),f=h}}else if(h<n){const A=c(h);A3(x,A),l(f,A[A.length-1]),f=h}else{const A=c(f);if(!A)throw new Error(`Bogus entry. Not in dictionary, ${f} / ${n}, position: ${s}`);A3(x,A),x.push(A[A.length-1]),l(f,A[A.length-1]),f=h}n+1>=2**r&&(r===MW?f=void 0:r++),h=o(u)}return new Uint8Array(x)}class DW extends Ko{decodeBlock(e){return TW(e).buffer}}const QW=Object.freeze(Object.defineProperty({__proto__:null,default:DW},Symbol.toStringTag,{value:"Module"})),Jf=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),X_=4017,W_=799,j_=3406,K_=2276,J_=1567,Z_=3784,Lx=5793,$_=2896;function JR(i,e){let t=0;const n=[];let r=16;for(;r>0&&!i[r-1];)--r;n.push({children:[],index:0});let s=n[0],a;for(let o=0;o<r;o++){for(let l=0;l<i[o];l++){for(s=n.pop(),s.children[s.index]=e[t];s.index>0;)s=n.pop();for(s.index++,n.push(s);n.length<=o;)n.push(a={children:[],index:0}),s.children[s.index]=a.children,s=a;t++}o+1<r&&(n.push(a={children:[],index:0}),s.children[s.index]=a.children,s=a)}return n[0].children}function FW(i,e,t,n,r,s,a,o,l){const{mcusPerLine:c,progressive:x}=t,u=e;let h=e,f=0,A=0;function g(){if(A>0)return A--,f>>A&1;if(f=i[h++],f===255){const G=i[h++];if(G)throw new Error(`unexpected marker: ${(f<<8|G).toString(16)}`)}return A=7,f>>>7}function d(G){let O=G,ee;for(;(ee=g())!==null;){if(O=O[ee],typeof O=="number")return O;if(typeof O!="object")throw new Error("invalid huffman sequence")}return null}function p(G){let O=G,ee=0;for(;O>0;){const K=g();if(K===null)return;ee=ee<<1|K,--O}return ee}function _(G){const O=p(G);return O>=1<<G-1?O:O+(-1<<G)+1}function I(G,O){const ee=d(G.huffmanTableDC),K=ee===0?0:_(ee);G.pred+=K,O[0]=G.pred;let ce=1;for(;ce<64;){const Ae=d(G.huffmanTableAC),ge=Ae&15,oe=Ae>>4;if(ge===0){if(oe<15)break;ce+=16}else{ce+=oe;const Se=Jf[ce];O[Se]=_(ge),ce++}}}function m(G,O){const ee=d(G.huffmanTableDC),K=ee===0?0:_(ee)<<l;G.pred+=K,O[0]=G.pred}function y(G,O){O[0]|=g()<<l}let E=0;function C(G,O){if(E>0){E--;return}let ee=s;const K=a;for(;ee<=K;){const ce=d(G.huffmanTableAC),Ae=ce&15,ge=ce>>4;if(Ae===0){if(ge<15){E=p(ge)+(1<<ge)-1;break}ee+=16}else{ee+=ge;const oe=Jf[ee];O[oe]=_(Ae)*(1<<l),ee++}}}let v=0,b;function w(G,O){let ee=s;const K=a;let ce=0;for(;ee<=K;){const Ae=Jf[ee],ge=O[Ae]<0?-1:1;switch(v){case 0:{const oe=d(G.huffmanTableAC),Se=oe&15;if(ce=oe>>4,Se===0)ce<15?(E=p(ce)+(1<<ce),v=4):(ce=16,v=1);else{if(Se!==1)throw new Error("invalid ACn encoding");b=_(Se),v=ce?2:3}continue}case 1:case 2:O[Ae]?O[Ae]+=(g()<<l)*ge:(ce--,ce===0&&(v=v===2?3:0));break;case 3:O[Ae]?O[Ae]+=(g()<<l)*ge:(O[Ae]=b<<l,v=0);break;case 4:O[Ae]&&(O[Ae]+=(g()<<l)*ge);break}ee++}v===4&&(E--,E===0&&(v=0))}function B(G,O,ee,K,ce){const Ae=ee/c|0,ge=ee%c,oe=Ae*G.v+K,Se=ge*G.h+ce;O(G,G.blocks[oe][Se])}function R(G,O,ee){const K=ee/G.blocksPerLine|0,ce=ee%G.blocksPerLine;O(G,G.blocks[K][ce])}const Q=n.length;let F,M,T,P,k,V;x?s===0?V=o===0?m:y:V=o===0?C:w:V=I;let Y=0,U,te;Q===1?te=n[0].blocksPerLine*n[0].blocksPerColumn:te=c*t.mcusPerColumn;const xe=r||te;for(;Y<te;){for(M=0;M<Q;M++)n[M].pred=0;if(E=0,Q===1)for(F=n[0],k=0;k<xe;k++)R(F,V,Y),Y++;else for(k=0;k<xe;k++){for(M=0;M<Q;M++){F=n[M];const{h:G,v:O}=F;for(T=0;T<O;T++)for(P=0;P<G;P++)B(F,V,Y,T,P)}if(Y++,Y===te)break}if(A=0,U=i[h]<<8|i[h+1],U<65280)throw new Error("marker was not found");if(U>=65488&&U<=65495)h+=2;else break}return h-u}function LW(i,e){const t=[],{blocksPerLine:n,blocksPerColumn:r}=e,s=n<<3,a=new Int32Array(64),o=new Uint8Array(64);function l(c,x,u){const h=e.quantizationTable;let f,A,g,d,p,_,I,m,y;const E=u;let C;for(C=0;C<64;C++)E[C]=c[C]*h[C];for(C=0;C<8;++C){const v=8*C;if(E[1+v]===0&&E[2+v]===0&&E[3+v]===0&&E[4+v]===0&&E[5+v]===0&&E[6+v]===0&&E[7+v]===0){y=Lx*E[0+v]+512>>10,E[0+v]=y,E[1+v]=y,E[2+v]=y,E[3+v]=y,E[4+v]=y,E[5+v]=y,E[6+v]=y,E[7+v]=y;continue}f=Lx*E[0+v]+128>>8,A=Lx*E[4+v]+128>>8,g=E[2+v],d=E[6+v],p=$_*(E[1+v]-E[7+v])+128>>8,m=$_*(E[1+v]+E[7+v])+128>>8,_=E[3+v]<<4,I=E[5+v]<<4,y=f-A+1>>1,f=f+A+1>>1,A=y,y=g*Z_+d*J_+128>>8,g=g*J_-d*Z_+128>>8,d=y,y=p-I+1>>1,p=p+I+1>>1,I=y,y=m+_+1>>1,_=m-_+1>>1,m=y,y=f-d+1>>1,f=f+d+1>>1,d=y,y=A-g+1>>1,A=A+g+1>>1,g=y,y=p*K_+m*j_+2048>>12,p=p*j_-m*K_+2048>>12,m=y,y=_*W_+I*X_+2048>>12,_=_*X_-I*W_+2048>>12,I=y,E[0+v]=f+m,E[7+v]=f-m,E[1+v]=A+I,E[6+v]=A-I,E[2+v]=g+_,E[5+v]=g-_,E[3+v]=d+p,E[4+v]=d-p}for(C=0;C<8;++C){const v=C;if(E[1*8+v]===0&&E[2*8+v]===0&&E[3*8+v]===0&&E[4*8+v]===0&&E[5*8+v]===0&&E[6*8+v]===0&&E[7*8+v]===0){y=Lx*u[C+0]+8192>>14,E[0*8+v]=y,E[1*8+v]=y,E[2*8+v]=y,E[3*8+v]=y,E[4*8+v]=y,E[5*8+v]=y,E[6*8+v]=y,E[7*8+v]=y;continue}f=Lx*E[0*8+v]+2048>>12,A=Lx*E[4*8+v]+2048>>12,g=E[2*8+v],d=E[6*8+v],p=$_*(E[1*8+v]-E[7*8+v])+2048>>12,m=$_*(E[1*8+v]+E[7*8+v])+2048>>12,_=E[3*8+v],I=E[5*8+v],y=f-A+1>>1,f=f+A+1>>1,A=y,y=g*Z_+d*J_+2048>>12,g=g*J_-d*Z_+2048>>12,d=y,y=p-I+1>>1,p=p+I+1>>1,I=y,y=m+_+1>>1,_=m-_+1>>1,m=y,y=f-d+1>>1,f=f+d+1>>1,d=y,y=A-g+1>>1,A=A+g+1>>1,g=y,y=p*K_+m*j_+2048>>12,p=p*j_-m*K_+2048>>12,m=y,y=_*W_+I*X_+2048>>12,_=_*X_-I*W_+2048>>12,I=y,E[0*8+v]=f+m,E[7*8+v]=f-m,E[1*8+v]=A+I,E[6*8+v]=A-I,E[2*8+v]=g+_,E[5*8+v]=g-_,E[3*8+v]=d+p,E[4*8+v]=d-p}for(C=0;C<64;++C){const v=128+(E[C]+8>>4);v<0?x[C]=0:v>255?x[C]=255:x[C]=v}}for(let c=0;c<r;c++){const x=c<<3;for(let u=0;u<8;u++)t.push(new Uint8Array(s));for(let u=0;u<n;u++){l(e.blocks[c][u],o,a);let h=0;const f=u<<3;for(let A=0;A<8;A++){const g=t[x+A];for(let d=0;d<8;d++)g[f+d]=o[h++]}}}return t}class PW{constructor(){this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}resetFrames(){this.frames=[]}parse(e){let t=0;function n(){const o=e[t]<<8|e[t+1];return t+=2,o}function r(){const o=n(),l=e.subarray(t,t+o-2);return t+=l.length,l}function s(o){let l=0,c=0,x,u;for(u in o.components)o.components.hasOwnProperty(u)&&(x=o.components[u],l<x.h&&(l=x.h),c<x.v&&(c=x.v));const h=Math.ceil(o.samplesPerLine/8/l),f=Math.ceil(o.scanLines/8/c);for(u in o.components)if(o.components.hasOwnProperty(u)){x=o.components[u];const A=Math.ceil(Math.ceil(o.samplesPerLine/8)*x.h/l),g=Math.ceil(Math.ceil(o.scanLines/8)*x.v/c),d=h*x.h,p=f*x.v,_=[];for(let I=0;I<p;I++){const m=[];for(let y=0;y<d;y++)m.push(new Int32Array(64));_.push(m)}x.blocksPerLine=A,x.blocksPerColumn=g,x.blocks=_}o.maxH=l,o.maxV=c,o.mcusPerLine=h,o.mcusPerColumn=f}let a=n();if(a!==65496)throw new Error("SOI not found");for(a=n();a!==65497;){switch(a){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:{const o=r();a===65504&&o[0]===74&&o[1]===70&&o[2]===73&&o[3]===70&&o[4]===0&&(this.jfif={version:{major:o[5],minor:o[6]},densityUnits:o[7],xDensity:o[8]<<8|o[9],yDensity:o[10]<<8|o[11],thumbWidth:o[12],thumbHeight:o[13],thumbData:o.subarray(14,14+3*o[12]*o[13])}),a===65518&&o[0]===65&&o[1]===100&&o[2]===111&&o[3]===98&&o[4]===101&&o[5]===0&&(this.adobe={version:o[6],flags0:o[7]<<8|o[8],flags1:o[9]<<8|o[10],transformCode:o[11]});break}case 65499:{const l=n()+t-2;for(;t<l;){const c=e[t++],x=new Int32Array(64);if(c>>4)if(c>>4===1)for(let u=0;u<64;u++){const h=Jf[u];x[h]=n()}else throw new Error("DQT: invalid table spec");else for(let u=0;u<64;u++){const h=Jf[u];x[h]=e[t++]}this.quantizationTables[c&15]=x}break}case 65472:case 65473:case 65474:{n();const o={extended:a===65473,progressive:a===65474,precision:e[t++],scanLines:n(),samplesPerLine:n(),components:{},componentsOrder:[]},l=e[t++];let c;for(let x=0;x<l;x++){c=e[t];const u=e[t+1]>>4,h=e[t+1]&15,f=e[t+2];o.componentsOrder.push(c),o.components[c]={h:u,v:h,quantizationIdx:f},t+=3}s(o),this.frames.push(o);break}case 65476:{const o=n();for(let l=2;l<o;){const c=e[t++],x=new Uint8Array(16);let u=0;for(let f=0;f<16;f++,t++)x[f]=e[t],u+=x[f];const h=new Uint8Array(u);for(let f=0;f<u;f++,t++)h[f]=e[t];l+=17+u,c>>4?this.huffmanTablesAC[c&15]=JR(x,h):this.huffmanTablesDC[c&15]=JR(x,h)}break}case 65501:n(),this.resetInterval=n();break;case 65498:{n();const o=e[t++],l=[],c=this.frames[0];for(let A=0;A<o;A++){const g=c.components[e[t++]],d=e[t++];g.huffmanTableDC=this.huffmanTablesDC[d>>4],g.huffmanTableAC=this.huffmanTablesAC[d&15],l.push(g)}const x=e[t++],u=e[t++],h=e[t++],f=FW(e,t,c,l,this.resetInterval,x,u,h>>4,h&15);t+=f;break}case 65535:e[t]!==255&&t--;break;default:if(e[t-3]===255&&e[t-2]>=192&&e[t-2]<=254){t-=3;break}throw new Error(`unknown JPEG marker ${a.toString(16)}`)}a=n()}}getResult(){const{frames:e}=this;if(this.frames.length===0)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(let x=0;x<this.frames.length;x++){const u=this.frames[x].components;for(const h of Object.keys(u))u[h].quantizationTable=this.quantizationTables[u[h].quantizationIdx],delete u[h].quantizationIdx}const t=e[0],{components:n,componentsOrder:r}=t,s=[],a=t.samplesPerLine,o=t.scanLines;for(let x=0;x<r.length;x++){const u=n[r[x]];s.push({lines:LW(t,u),scaleX:u.h/t.maxH,scaleY:u.v/t.maxV})}const l=new Uint8Array(a*o*s.length);let c=0;for(let x=0;x<o;++x)for(let u=0;u<a;++u)for(let h=0;h<s.length;++h){const f=s[h];l[c]=f.lines[0|x*f.scaleY][0|u*f.scaleX],++c}return l}}class kW extends Ko{constructor(e){super(),this.reader=new PW,e.JPEGTables&&this.reader.parse(e.JPEGTables)}decodeBlock(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}const UW=Object.freeze(Object.defineProperty({__proto__:null,default:kW},Symbol.toStringTag,{value:"Module"}));/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const NW=4,ZR=0,$R=1,OW=2;function Px(i){let e=i.length;for(;--e>=0;)i[e]=0}const GW=0,e6=1,zW=2,VW=3,HW=258,d3=29,Zf=256,$f=Zf+1+d3,kx=30,p3=19,t6=2*$f+1,nc=15,g3=16,qW=7,m3=256,n6=16,i6=17,r6=18,_3=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),eI=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),YW=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),s6=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),XW=512,Na=new Array(($f+2)*2);Px(Na);const eA=new Array(kx*2);Px(eA);const tA=new Array(XW);Px(tA);const nA=new Array(HW-VW+1);Px(nA);const I3=new Array(d3);Px(I3);const tI=new Array(kx);Px(tI);function E3(i,e,t,n,r){this.static_tree=i,this.extra_bits=e,this.extra_base=t,this.elems=n,this.max_length=r,this.has_stree=i&&i.length}let a6,o6,c6;function y3(i,e){this.dyn_tree=i,this.max_code=0,this.stat_desc=e}const l6=i=>i<256?tA[i]:tA[256+(i>>>7)],iA=(i,e)=>{i.pending_buf[i.pending++]=e&255,i.pending_buf[i.pending++]=e>>>8&255},ir=(i,e,t)=>{i.bi_valid>g3-t?(i.bi_buf|=e<<i.bi_valid&65535,iA(i,i.bi_buf),i.bi_buf=e>>g3-i.bi_valid,i.bi_valid+=t-g3):(i.bi_buf|=e<<i.bi_valid&65535,i.bi_valid+=t)},Hs=(i,e,t)=>{ir(i,t[e*2],t[e*2+1])},x6=(i,e)=>{let t=0;do t|=i&1,i>>>=1,t<<=1;while(--e>0);return t>>>1},WW=i=>{i.bi_valid===16?(iA(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=i.bi_buf&255,i.bi_buf>>=8,i.bi_valid-=8)},jW=(i,e)=>{const t=e.dyn_tree,n=e.max_code,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,x,u,h,f,A,g=0;for(h=0;h<=nc;h++)i.bl_count[h]=0;for(t[i.heap[i.heap_max]*2+1]=0,c=i.heap_max+1;c<t6;c++)x=i.heap[c],h=t[t[x*2+1]*2+1]+1,h>l&&(h=l,g++),t[x*2+1]=h,!(x>n)&&(i.bl_count[h]++,f=0,x>=o&&(f=a[x-o]),A=t[x*2],i.opt_len+=A*(h+f),s&&(i.static_len+=A*(r[x*2+1]+f)));if(g!==0){do{for(h=l-1;i.bl_count[h]===0;)h--;i.bl_count[h]--,i.bl_count[h+1]+=2,i.bl_count[l]--,g-=2}while(g>0);for(h=l;h!==0;h--)for(x=i.bl_count[h];x!==0;)u=i.heap[--c],!(u>n)&&(t[u*2+1]!==h&&(i.opt_len+=(h-t[u*2+1])*t[u*2],t[u*2+1]=h),x--)}},u6=(i,e,t)=>{const n=new Array(nc+1);let r=0,s,a;for(s=1;s<=nc;s++)r=r+t[s-1]<<1,n[s]=r;for(a=0;a<=e;a++){let o=i[a*2+1];o!==0&&(i[a*2]=x6(n[o]++,o))}},KW=()=>{let i,e,t,n,r;const s=new Array(nc+1);for(t=0,n=0;n<d3-1;n++)for(I3[n]=t,i=0;i<1<<_3[n];i++)nA[t++]=n;for(nA[t-1]=n,r=0,n=0;n<16;n++)for(tI[n]=r,i=0;i<1<<eI[n];i++)tA[r++]=n;for(r>>=7;n<kx;n++)for(tI[n]=r<<7,i=0;i<1<<eI[n]-7;i++)tA[256+r++]=n;for(e=0;e<=nc;e++)s[e]=0;for(i=0;i<=143;)Na[i*2+1]=8,i++,s[8]++;for(;i<=255;)Na[i*2+1]=9,i++,s[9]++;for(;i<=279;)Na[i*2+1]=7,i++,s[7]++;for(;i<=287;)Na[i*2+1]=8,i++,s[8]++;for(u6(Na,$f+1,s),i=0;i<kx;i++)eA[i*2+1]=5,eA[i*2]=x6(i,5);a6=new E3(Na,_3,Zf+1,$f,nc),o6=new E3(eA,eI,0,kx,nc),c6=new E3(new Array(0),YW,0,p3,qW)},h6=i=>{let e;for(e=0;e<$f;e++)i.dyn_ltree[e*2]=0;for(e=0;e<kx;e++)i.dyn_dtree[e*2]=0;for(e=0;e<p3;e++)i.bl_tree[e*2]=0;i.dyn_ltree[m3*2]=1,i.opt_len=i.static_len=0,i.sym_next=i.matches=0},f6=i=>{i.bi_valid>8?iA(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0},A6=(i,e,t,n)=>{const r=e*2,s=t*2;return i[r]<i[s]||i[r]===i[s]&&n[e]<=n[t]},C3=(i,e,t)=>{const n=i.heap[t];let r=t<<1;for(;r<=i.heap_len&&(r<i.heap_len&&A6(e,i.heap[r+1],i.heap[r],i.depth)&&r++,!A6(e,n,i.heap[r],i.depth));)i.heap[t]=i.heap[r],t=r,r<<=1;i.heap[t]=n},d6=(i,e,t)=>{let n,r,s=0,a,o;if(i.sym_next!==0)do n=i.pending_buf[i.sym_buf+s++]&255,n+=(i.pending_buf[i.sym_buf+s++]&255)<<8,r=i.pending_buf[i.sym_buf+s++],n===0?Hs(i,r,e):(a=nA[r],Hs(i,a+Zf+1,e),o=_3[a],o!==0&&(r-=I3[a],ir(i,r,o)),n--,a=l6(n),Hs(i,a,t),o=eI[a],o!==0&&(n-=tI[a],ir(i,n,o)));while(s<i.sym_next);Hs(i,m3,e)},b3=(i,e)=>{const t=e.dyn_tree,n=e.stat_desc.static_tree,r=e.stat_desc.has_stree,s=e.stat_desc.elems;let a,o,l=-1,c;for(i.heap_len=0,i.heap_max=t6,a=0;a<s;a++)t[a*2]!==0?(i.heap[++i.heap_len]=l=a,i.depth[a]=0):t[a*2+1]=0;for(;i.heap_len<2;)c=i.heap[++i.heap_len]=l<2?++l:0,t[c*2]=1,i.depth[c]=0,i.opt_len--,r&&(i.static_len-=n[c*2+1]);for(e.max_code=l,a=i.heap_len>>1;a>=1;a--)C3(i,t,a);c=s;do a=i.heap[1],i.heap[1]=i.heap[i.heap_len--],C3(i,t,1),o=i.heap[1],i.heap[--i.heap_max]=a,i.heap[--i.heap_max]=o,t[c*2]=t[a*2]+t[o*2],i.depth[c]=(i.depth[a]>=i.depth[o]?i.depth[a]:i.depth[o])+1,t[a*2+1]=t[o*2+1]=c,i.heap[1]=c++,C3(i,t,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],jW(i,e),u6(t,l,i.bl_count)},p6=(i,e,t)=>{let n,r=-1,s,a=e[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),e[(t+1)*2+1]=65535,n=0;n<=t;n++)s=a,a=e[(n+1)*2+1],!(++o<l&&s===a)&&(o<c?i.bl_tree[s*2]+=o:s!==0?(s!==r&&i.bl_tree[s*2]++,i.bl_tree[n6*2]++):o<=10?i.bl_tree[i6*2]++:i.bl_tree[r6*2]++,o=0,r=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4))},g6=(i,e,t)=>{let n,r=-1,s,a=e[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),n=0;n<=t;n++)if(s=a,a=e[(n+1)*2+1],!(++o<l&&s===a)){if(o<c)do Hs(i,s,i.bl_tree);while(--o!==0);else s!==0?(s!==r&&(Hs(i,s,i.bl_tree),o--),Hs(i,n6,i.bl_tree),ir(i,o-3,2)):o<=10?(Hs(i,i6,i.bl_tree),ir(i,o-3,3)):(Hs(i,r6,i.bl_tree),ir(i,o-11,7));o=0,r=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4)}},JW=i=>{let e;for(p6(i,i.dyn_ltree,i.l_desc.max_code),p6(i,i.dyn_dtree,i.d_desc.max_code),b3(i,i.bl_desc),e=p3-1;e>=3&&i.bl_tree[s6[e]*2+1]===0;e--);return i.opt_len+=3*(e+1)+5+5+4,e},ZW=(i,e,t,n)=>{let r;for(ir(i,e-257,5),ir(i,t-1,5),ir(i,n-4,4),r=0;r<n;r++)ir(i,i.bl_tree[s6[r]*2+1],3);g6(i,i.dyn_ltree,e-1),g6(i,i.dyn_dtree,t-1)},$W=i=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&i.dyn_ltree[t*2]!==0)return ZR;if(i.dyn_ltree[9*2]!==0||i.dyn_ltree[10*2]!==0||i.dyn_ltree[13*2]!==0)return $R;for(t=32;t<Zf;t++)if(i.dyn_ltree[t*2]!==0)return $R;return ZR};let m6=!1;const ej=i=>{m6||(KW(),m6=!0),i.l_desc=new y3(i.dyn_ltree,a6),i.d_desc=new y3(i.dyn_dtree,o6),i.bl_desc=new y3(i.bl_tree,c6),i.bi_buf=0,i.bi_valid=0,h6(i)},_6=(i,e,t,n)=>{ir(i,(GW<<1)+(n?1:0),3),f6(i),iA(i,t),iA(i,~t),t&&i.pending_buf.set(i.window.subarray(e,e+t),i.pending),i.pending+=t},tj=i=>{ir(i,e6<<1,3),Hs(i,m3,Na),WW(i)},nj=(i,e,t,n)=>{let r,s,a=0;i.level>0?(i.strm.data_type===OW&&(i.strm.data_type=$W(i)),b3(i,i.l_desc),b3(i,i.d_desc),a=JW(i),r=i.opt_len+3+7>>>3,s=i.static_len+3+7>>>3,s<=r&&(r=s)):r=s=t+5,t+4<=r&&e!==-1?_6(i,e,t,n):i.strategy===NW||s===r?(ir(i,(e6<<1)+(n?1:0),3),d6(i,Na,eA)):(ir(i,(zW<<1)+(n?1:0),3),ZW(i,i.l_desc.max_code+1,i.d_desc.max_code+1,a+1),d6(i,i.dyn_ltree,i.dyn_dtree)),h6(i),n&&f6(i)},ij=(i,e,t)=>(i.pending_buf[i.sym_buf+i.sym_next++]=e,i.pending_buf[i.sym_buf+i.sym_next++]=e>>8,i.pending_buf[i.sym_buf+i.sym_next++]=t,e===0?i.dyn_ltree[t*2]++:(i.matches++,e--,i.dyn_ltree[(nA[t]+Zf+1)*2]++,i.dyn_dtree[l6(e)*2]++),i.sym_next===i.sym_end);var rj=ej,sj=_6,aj=nj,oj=ij,cj=tj,lj={_tr_init:rj,_tr_stored_block:sj,_tr_flush_block:aj,_tr_tally:oj,_tr_align:cj},rA=(i,e,t,n)=>{let r=i&65535|0,s=i>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do r=r+e[n++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};const xj=()=>{let i,e=[];for(var t=0;t<256;t++){i=t;for(var n=0;n<8;n++)i=i&1?3988292384^i>>>1:i>>>1;e[t]=i}return e},uj=new Uint32Array(xj());var ei=(i,e,t,n)=>{const r=uj,s=n+t;i^=-1;for(let a=n;a<s;a++)i=i>>>8^r[(i^e[a])&255];return i^-1},Ux={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},sA={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:hj,_tr_stored_block:v3,_tr_flush_block:fj,_tr_tally:qo,_tr_align:Aj}=lj,{Z_NO_FLUSH:Yo,Z_PARTIAL_FLUSH:dj,Z_FULL_FLUSH:pj,Z_FINISH:Pr,Z_BLOCK:I6,Z_OK:hi,Z_STREAM_END:E6,Z_STREAM_ERROR:qs,Z_DATA_ERROR:gj,Z_BUF_ERROR:w3,Z_DEFAULT_COMPRESSION:mj,Z_FILTERED:_j,Z_HUFFMAN_ONLY:nI,Z_RLE:Ij,Z_FIXED:Ej,Z_DEFAULT_STRATEGY:yj,Z_UNKNOWN:Cj,Z_DEFLATED:iI}=sA,bj=9,vj=15,wj=8,B3=256+1+29,Bj=30,Sj=19,Mj=2*B3+1,Rj=15,Et=3,Xo=258,Ys=Xo+Et+1,Tj=32,Nx=42,S3=57,M3=69,R3=73,T3=91,D3=103,ic=113,aA=666,Pi=1,Ox=2,rc=3,Gx=4,Dj=3,sc=(i,e)=>(i.msg=Ux[e],e),y6=i=>i*2-(i>4?9:0),Wo=i=>{let e=i.length;for(;--e>=0;)i[e]=0},Qj=i=>{let e,t,n,r=i.w_size;e=i.hash_size,n=e;do t=i.head[--n],i.head[n]=t>=r?t-r:0;while(--e);e=r,n=e;do t=i.prev[--n],i.prev[n]=t>=r?t-r:0;while(--e)};let jo=(i,e,t)=>(e<<i.hash_shift^t)&i.hash_mask;const mr=i=>{const e=i.state;let t=e.pending;t>i.avail_out&&(t=i.avail_out),t!==0&&(i.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),i.next_out),i.next_out+=t,e.pending_out+=t,i.total_out+=t,i.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},_r=(i,e)=>{fj(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,e),i.block_start=i.strstart,mr(i.strm)},Pt=(i,e)=>{i.pending_buf[i.pending++]=e},oA=(i,e)=>{i.pending_buf[i.pending++]=e>>>8&255,i.pending_buf[i.pending++]=e&255},Q3=(i,e,t,n)=>{let r=i.avail_in;return r>n&&(r=n),r===0?0:(i.avail_in-=r,e.set(i.input.subarray(i.next_in,i.next_in+r),t),i.state.wrap===1?i.adler=rA(i.adler,e,r,t):i.state.wrap===2&&(i.adler=ei(i.adler,e,r,t)),i.next_in+=r,i.total_in+=r,r)},C6=(i,e)=>{let t=i.max_chain_length,n=i.strstart,r,s,a=i.prev_length,o=i.nice_match;const l=i.strstart>i.w_size-Ys?i.strstart-(i.w_size-Ys):0,c=i.window,x=i.w_mask,u=i.prev,h=i.strstart+Xo;let f=c[n+a-1],A=c[n+a];i.prev_length>=i.good_match&&(t>>=2),o>i.lookahead&&(o=i.lookahead);do if(r=e,!(c[r+a]!==A||c[r+a-1]!==f||c[r]!==c[n]||c[++r]!==c[n+1])){n+=2,r++;do;while(c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&n<h);if(s=Xo-(h-n),n=h-Xo,s>a){if(i.match_start=e,a=s,s>=o)break;f=c[n+a-1],A=c[n+a]}}while((e=u[e&x])>l&&--t!==0);return a<=i.lookahead?a:i.lookahead},zx=i=>{const e=i.w_size;let t,n,r;do{if(n=i.window_size-i.lookahead-i.strstart,i.strstart>=e+(e-Ys)&&(i.window.set(i.window.subarray(e,e+e-n),0),i.match_start-=e,i.strstart-=e,i.block_start-=e,i.insert>i.strstart&&(i.insert=i.strstart),Qj(i),n+=e),i.strm.avail_in===0)break;if(t=Q3(i.strm,i.window,i.strstart+i.lookahead,n),i.lookahead+=t,i.lookahead+i.insert>=Et)for(r=i.strstart-i.insert,i.ins_h=i.window[r],i.ins_h=jo(i,i.ins_h,i.window[r+1]);i.insert&&(i.ins_h=jo(i,i.ins_h,i.window[r+Et-1]),i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++,i.insert--,!(i.lookahead+i.insert<Et)););}while(i.lookahead<Ys&&i.strm.avail_in!==0)},b6=(i,e)=>{let t=i.pending_buf_size-5>i.w_size?i.w_size:i.pending_buf_size-5,n,r,s,a=0,o=i.strm.avail_in;do{if(n=65535,s=i.bi_valid+42>>3,i.strm.avail_out<s||(s=i.strm.avail_out-s,r=i.strstart-i.block_start,n>r+i.strm.avail_in&&(n=r+i.strm.avail_in),n>s&&(n=s),n<t&&(n===0&&e!==Pr||e===Yo||n!==r+i.strm.avail_in)))break;a=e===Pr&&n===r+i.strm.avail_in?1:0,v3(i,0,0,a),i.pending_buf[i.pending-4]=n,i.pending_buf[i.pending-3]=n>>8,i.pending_buf[i.pending-2]=~n,i.pending_buf[i.pending-1]=~n>>8,mr(i.strm),r&&(r>n&&(r=n),i.strm.output.set(i.window.subarray(i.block_start,i.block_start+r),i.strm.next_out),i.strm.next_out+=r,i.strm.avail_out-=r,i.strm.total_out+=r,i.block_start+=r,n-=r),n&&(Q3(i.strm,i.strm.output,i.strm.next_out,n),i.strm.next_out+=n,i.strm.avail_out-=n,i.strm.total_out+=n)}while(a===0);return o-=i.strm.avail_in,o&&(o>=i.w_size?(i.matches=2,i.window.set(i.strm.input.subarray(i.strm.next_in-i.w_size,i.strm.next_in),0),i.strstart=i.w_size,i.insert=i.strstart):(i.window_size-i.strstart<=o&&(i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,i.insert>i.strstart&&(i.insert=i.strstart)),i.window.set(i.strm.input.subarray(i.strm.next_in-o,i.strm.next_in),i.strstart),i.strstart+=o,i.insert+=o>i.w_size-i.insert?i.w_size-i.insert:o),i.block_start=i.strstart),i.high_water<i.strstart&&(i.high_water=i.strstart),a?Gx:e!==Yo&&e!==Pr&&i.strm.avail_in===0&&i.strstart===i.block_start?Ox:(s=i.window_size-i.strstart,i.strm.avail_in>s&&i.block_start>=i.w_size&&(i.block_start-=i.w_size,i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,s+=i.w_size,i.insert>i.strstart&&(i.insert=i.strstart)),s>i.strm.avail_in&&(s=i.strm.avail_in),s&&(Q3(i.strm,i.window,i.strstart,s),i.strstart+=s,i.insert+=s>i.w_size-i.insert?i.w_size-i.insert:s),i.high_water<i.strstart&&(i.high_water=i.strstart),s=i.bi_valid+42>>3,s=i.pending_buf_size-s>65535?65535:i.pending_buf_size-s,t=s>i.w_size?i.w_size:s,r=i.strstart-i.block_start,(r>=t||(r||e===Pr)&&e!==Yo&&i.strm.avail_in===0&&r<=s)&&(n=r>s?s:r,a=e===Pr&&i.strm.avail_in===0&&n===r?1:0,v3(i,i.block_start,n,a),i.block_start+=n,mr(i.strm)),a?rc:Pi)},F3=(i,e)=>{let t,n;for(;;){if(i.lookahead<Ys){if(zx(i),i.lookahead<Ys&&e===Yo)return Pi;if(i.lookahead===0)break}if(t=0,i.lookahead>=Et&&(i.ins_h=jo(i,i.ins_h,i.window[i.strstart+Et-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),t!==0&&i.strstart-t<=i.w_size-Ys&&(i.match_length=C6(i,t)),i.match_length>=Et)if(n=qo(i,i.strstart-i.match_start,i.match_length-Et),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=Et){i.match_length--;do i.strstart++,i.ins_h=jo(i,i.ins_h,i.window[i.strstart+Et-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=jo(i,i.ins_h,i.window[i.strstart+1]);else n=qo(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(n&&(_r(i,!1),i.strm.avail_out===0))return Pi}return i.insert=i.strstart<Et-1?i.strstart:Et-1,e===Pr?(_r(i,!0),i.strm.avail_out===0?rc:Gx):i.sym_next&&(_r(i,!1),i.strm.avail_out===0)?Pi:Ox},Vx=(i,e)=>{let t,n,r;for(;;){if(i.lookahead<Ys){if(zx(i),i.lookahead<Ys&&e===Yo)return Pi;if(i.lookahead===0)break}if(t=0,i.lookahead>=Et&&(i.ins_h=jo(i,i.ins_h,i.window[i.strstart+Et-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=Et-1,t!==0&&i.prev_length<i.max_lazy_match&&i.strstart-t<=i.w_size-Ys&&(i.match_length=C6(i,t),i.match_length<=5&&(i.strategy===_j||i.match_length===Et&&i.strstart-i.match_start>4096)&&(i.match_length=Et-1)),i.prev_length>=Et&&i.match_length<=i.prev_length){r=i.strstart+i.lookahead-Et,n=qo(i,i.strstart-1-i.prev_match,i.prev_length-Et),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=r&&(i.ins_h=jo(i,i.ins_h,i.window[i.strstart+Et-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=Et-1,i.strstart++,n&&(_r(i,!1),i.strm.avail_out===0))return Pi}else if(i.match_available){if(n=qo(i,0,i.window[i.strstart-1]),n&&_r(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return Pi}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(n=qo(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<Et-1?i.strstart:Et-1,e===Pr?(_r(i,!0),i.strm.avail_out===0?rc:Gx):i.sym_next&&(_r(i,!1),i.strm.avail_out===0)?Pi:Ox},Fj=(i,e)=>{let t,n,r,s;const a=i.window;for(;;){if(i.lookahead<=Xo){if(zx(i),i.lookahead<=Xo&&e===Yo)return Pi;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=Et&&i.strstart>0&&(r=i.strstart-1,n=a[r],n===a[++r]&&n===a[++r]&&n===a[++r])){s=i.strstart+Xo;do;while(n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&n===a[++r]&&r<s);i.match_length=Xo-(s-r),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=Et?(t=qo(i,1,i.match_length-Et),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(t=qo(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),t&&(_r(i,!1),i.strm.avail_out===0))return Pi}return i.insert=0,e===Pr?(_r(i,!0),i.strm.avail_out===0?rc:Gx):i.sym_next&&(_r(i,!1),i.strm.avail_out===0)?Pi:Ox},Lj=(i,e)=>{let t;for(;;){if(i.lookahead===0&&(zx(i),i.lookahead===0)){if(e===Yo)return Pi;break}if(i.match_length=0,t=qo(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,t&&(_r(i,!1),i.strm.avail_out===0))return Pi}return i.insert=0,e===Pr?(_r(i,!0),i.strm.avail_out===0?rc:Gx):i.sym_next&&(_r(i,!1),i.strm.avail_out===0)?Pi:Ox};function Xs(i,e,t,n,r){this.good_length=i,this.max_lazy=e,this.nice_length=t,this.max_chain=n,this.func=r}const cA=[new Xs(0,0,0,0,b6),new Xs(4,4,8,4,F3),new Xs(4,5,16,8,F3),new Xs(4,6,32,32,F3),new Xs(4,4,16,16,Vx),new Xs(8,16,32,32,Vx),new Xs(8,16,128,128,Vx),new Xs(8,32,128,256,Vx),new Xs(32,128,258,1024,Vx),new Xs(32,258,258,4096,Vx)],Pj=i=>{i.window_size=2*i.w_size,Wo(i.head),i.max_lazy_match=cA[i.level].max_lazy,i.good_match=cA[i.level].good_length,i.nice_match=cA[i.level].nice_length,i.max_chain_length=cA[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=Et-1,i.match_available=0,i.ins_h=0};function kj(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=iI,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Mj*2),this.dyn_dtree=new Uint16Array((2*Bj+1)*2),this.bl_tree=new Uint16Array((2*Sj+1)*2),Wo(this.dyn_ltree),Wo(this.dyn_dtree),Wo(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Rj+1),this.heap=new Uint16Array(2*B3+1),Wo(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*B3+1),Wo(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const lA=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.status!==Nx&&e.status!==S3&&e.status!==M3&&e.status!==R3&&e.status!==T3&&e.status!==D3&&e.status!==ic&&e.status!==aA?1:0},v6=i=>{if(lA(i))return sc(i,qs);i.total_in=i.total_out=0,i.data_type=Cj;const e=i.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?S3:e.wrap?Nx:ic,i.adler=e.wrap===2?0:1,e.last_flush=-2,hj(e),hi},w6=i=>{const e=v6(i);return e===hi&&Pj(i.state),e},Uj=(i,e)=>lA(i)||i.state.wrap!==2?qs:(i.state.gzhead=e,hi),B6=(i,e,t,n,r,s)=>{if(!i)return qs;let a=1;if(e===mj&&(e=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),r<1||r>bj||t!==iI||n<8||n>15||e<0||e>9||s<0||s>Ej||n===8&&a!==1)return sc(i,qs);n===8&&(n=9);const o=new kj;return i.state=o,o.strm=i,o.status=Nx,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Et-1)/Et),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=s,o.method=t,w6(i)},Nj=(i,e)=>B6(i,e,iI,vj,wj,yj),Oj=(i,e)=>{if(lA(i)||e>I6||e<0)return i?sc(i,qs):qs;const t=i.state;if(!i.output||i.avail_in!==0&&!i.input||t.status===aA&&e!==Pr)return sc(i,i.avail_out===0?w3:qs);const n=t.last_flush;if(t.last_flush=e,t.pending!==0){if(mr(i),i.avail_out===0)return t.last_flush=-1,hi}else if(i.avail_in===0&&y6(e)<=y6(n)&&e!==Pr)return sc(i,w3);if(t.status===aA&&i.avail_in!==0)return sc(i,w3);if(t.status===Nx&&t.wrap===0&&(t.status=ic),t.status===Nx){let r=iI+(t.w_bits-8<<4)<<8,s=-1;if(t.strategy>=nI||t.level<2?s=0:t.level<6?s=1:t.level===6?s=2:s=3,r|=s<<6,t.strstart!==0&&(r|=Tj),r+=31-r%31,oA(t,r),t.strstart!==0&&(oA(t,i.adler>>>16),oA(t,i.adler&65535)),i.adler=1,t.status=ic,mr(i),t.pending!==0)return t.last_flush=-1,hi}if(t.status===S3){if(i.adler=0,Pt(t,31),Pt(t,139),Pt(t,8),t.gzhead)Pt(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Pt(t,t.gzhead.time&255),Pt(t,t.gzhead.time>>8&255),Pt(t,t.gzhead.time>>16&255),Pt(t,t.gzhead.time>>24&255),Pt(t,t.level===9?2:t.strategy>=nI||t.level<2?4:0),Pt(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Pt(t,t.gzhead.extra.length&255),Pt(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(i.adler=ei(i.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=M3;else if(Pt(t,0),Pt(t,0),Pt(t,0),Pt(t,0),Pt(t,0),Pt(t,t.level===9?2:t.strategy>=nI||t.level<2?4:0),Pt(t,Dj),t.status=ic,mr(i),t.pending!==0)return t.last_flush=-1,hi}if(t.status===M3){if(t.gzhead.extra){let r=t.pending,s=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let o=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>r&&(i.adler=ei(i.adler,t.pending_buf,t.pending-r,r)),t.gzindex+=o,mr(i),t.pending!==0)return t.last_flush=-1,hi;r=0,s-=o}let a=new Uint8Array(t.gzhead.extra);t.pending_buf.set(a.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>r&&(i.adler=ei(i.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=R3}if(t.status===R3){if(t.gzhead.name){let r=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(i.adler=ei(i.adler,t.pending_buf,t.pending-r,r)),mr(i),t.pending!==0)return t.last_flush=-1,hi;r=0}t.gzindex<t.gzhead.name.length?s=t.gzhead.name.charCodeAt(t.gzindex++)&255:s=0,Pt(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>r&&(i.adler=ei(i.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=T3}if(t.status===T3){if(t.gzhead.comment){let r=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(i.adler=ei(i.adler,t.pending_buf,t.pending-r,r)),mr(i),t.pending!==0)return t.last_flush=-1,hi;r=0}t.gzindex<t.gzhead.comment.length?s=t.gzhead.comment.charCodeAt(t.gzindex++)&255:s=0,Pt(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>r&&(i.adler=ei(i.adler,t.pending_buf,t.pending-r,r))}t.status=D3}if(t.status===D3){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(mr(i),t.pending!==0))return t.last_flush=-1,hi;Pt(t,i.adler&255),Pt(t,i.adler>>8&255),i.adler=0}if(t.status=ic,mr(i),t.pending!==0)return t.last_flush=-1,hi}if(i.avail_in!==0||t.lookahead!==0||e!==Yo&&t.status!==aA){let r=t.level===0?b6(t,e):t.strategy===nI?Lj(t,e):t.strategy===Ij?Fj(t,e):cA[t.level].func(t,e);if((r===rc||r===Gx)&&(t.status=aA),r===Pi||r===rc)return i.avail_out===0&&(t.last_flush=-1),hi;if(r===Ox&&(e===dj?Aj(t):e!==I6&&(v3(t,0,0,!1),e===pj&&(Wo(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),mr(i),i.avail_out===0))return t.last_flush=-1,hi}return e!==Pr?hi:t.wrap<=0?E6:(t.wrap===2?(Pt(t,i.adler&255),Pt(t,i.adler>>8&255),Pt(t,i.adler>>16&255),Pt(t,i.adler>>24&255),Pt(t,i.total_in&255),Pt(t,i.total_in>>8&255),Pt(t,i.total_in>>16&255),Pt(t,i.total_in>>24&255)):(oA(t,i.adler>>>16),oA(t,i.adler&65535)),mr(i),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?hi:E6)},Gj=i=>{if(lA(i))return qs;const e=i.state.status;return i.state=null,e===ic?sc(i,gj):hi},zj=(i,e)=>{let t=e.length;if(lA(i))return qs;const n=i.state,r=n.wrap;if(r===2||r===1&&n.status!==Nx||n.lookahead)return qs;if(r===1&&(i.adler=rA(i.adler,e,t,0)),n.wrap=0,t>=n.w_size){r===0&&(Wo(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(e.subarray(t-n.w_size,t),0),e=l,t=n.w_size}const s=i.avail_in,a=i.next_in,o=i.input;for(i.avail_in=t,i.next_in=0,i.input=e,zx(n);n.lookahead>=Et;){let l=n.strstart,c=n.lookahead-(Et-1);do n.ins_h=jo(n,n.ins_h,n.window[l+Et-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--c);n.strstart=l,n.lookahead=Et-1,zx(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Et-1,n.match_available=0,i.next_in=a,i.input=o,i.avail_in=s,n.wrap=r,hi};var Vj=Nj,Hj=B6,qj=w6,Yj=v6,Xj=Uj,Wj=Oj,jj=Gj,Kj=zj,Jj="pako deflate (from Nodeca project)",xA={deflateInit:Vj,deflateInit2:Hj,deflateReset:qj,deflateResetKeep:Yj,deflateSetHeader:Xj,deflate:Wj,deflateEnd:jj,deflateSetDictionary:Kj,deflateInfo:Jj};const Zj=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var $j=function(i){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)Zj(t,n)&&(i[n]=t[n])}}return i},eK=i=>{let e=0;for(let n=0,r=i.length;n<r;n++)e+=i[n].length;const t=new Uint8Array(e);for(let n=0,r=0,s=i.length;n<s;n++){let a=i[n];t.set(a,r),r+=a.length}return t},rI={assign:$j,flattenChunks:eK};let S6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{S6=!1}const uA=new Uint8Array(256);for(let i=0;i<256;i++)uA[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;uA[254]=uA[254]=1;var tK=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let e,t,n,r,s,a=i.length,o=0;for(r=0;r<a;r++)t=i.charCodeAt(r),(t&64512)===55296&&r+1<a&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,r=0;s<o;r++)t=i.charCodeAt(r),(t&64512)===55296&&r+1<a&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const nK=(i,e)=>{if(e<65534&&i.subarray&&S6)return String.fromCharCode.apply(null,i.length===e?i:i.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(i[n]);return t};var iK=(i,e)=>{const t=e||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,e));let n,r;const s=new Array(t*2);for(r=0,n=0;n<t;){let a=i[n++];if(a<128){s[r++]=a;continue}let o=uA[a];if(o>4){s[r++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<t;)a=a<<6|i[n++]&63,o--;if(o>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return nK(s,r)},rK=(i,e)=>{e=e||i.length,e>i.length&&(e=i.length);let t=e-1;for(;t>=0&&(i[t]&192)===128;)t--;return t<0||t===0?e:t+uA[i[t]]>e?t:e},hA={string2buf:tK,buf2string:iK,utf8border:rK};function sK(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var M6=sK;const R6=Object.prototype.toString,{Z_NO_FLUSH:aK,Z_SYNC_FLUSH:oK,Z_FULL_FLUSH:cK,Z_FINISH:lK,Z_OK:sI,Z_STREAM_END:xK,Z_DEFAULT_COMPRESSION:uK,Z_DEFAULT_STRATEGY:hK,Z_DEFLATED:fK}=sA;function L3(i){this.options=rI.assign({level:uK,method:fK,chunkSize:16384,windowBits:15,memLevel:8,strategy:hK},i||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M6,this.strm.avail_out=0;let t=xA.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==sI)throw new Error(Ux[t]);if(e.header&&xA.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=hA.string2buf(e.dictionary):R6.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,t=xA.deflateSetDictionary(this.strm,n),t!==sI)throw new Error(Ux[t]);this._dict_set=!0}}L3.prototype.push=function(i,e){const t=this.strm,n=this.options.chunkSize;let r,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?lK:aK,typeof i=="string"?t.input=hA.string2buf(i):R6.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(s===oK||s===cK)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=xA.deflate(t,s),r===xK)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=xA.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===sI;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0},L3.prototype.onData=function(i){this.chunks.push(i)},L3.prototype.onEnd=function(i){i===sI&&(this.result=rI.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};const aI=16209,AK=16191;var dK=function(e,t){let n,r,s,a,o,l,c,x,u,h,f,A,g,d,p,_,I,m,y,E,C,v,b,w;const B=e.state;n=e.next_in,b=e.input,r=n+(e.avail_in-5),s=e.next_out,w=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),l=B.dmax,c=B.wsize,x=B.whave,u=B.wnext,h=B.window,f=B.hold,A=B.bits,g=B.lencode,d=B.distcode,p=(1<<B.lenbits)-1,_=(1<<B.distbits)-1;e:do{A<15&&(f+=b[n++]<<A,A+=8,f+=b[n++]<<A,A+=8),I=g[f&p];t:for(;;){if(m=I>>>24,f>>>=m,A-=m,m=I>>>16&255,m===0)w[s++]=I&65535;else if(m&16){y=I&65535,m&=15,m&&(A<m&&(f+=b[n++]<<A,A+=8),y+=f&(1<<m)-1,f>>>=m,A-=m),A<15&&(f+=b[n++]<<A,A+=8,f+=b[n++]<<A,A+=8),I=d[f&_];n:for(;;){if(m=I>>>24,f>>>=m,A-=m,m=I>>>16&255,m&16){if(E=I&65535,m&=15,A<m&&(f+=b[n++]<<A,A+=8,A<m&&(f+=b[n++]<<A,A+=8)),E+=f&(1<<m)-1,E>l){e.msg="invalid distance too far back",B.mode=aI;break e}if(f>>>=m,A-=m,m=s-a,E>m){if(m=E-m,m>x&&B.sane){e.msg="invalid distance too far back",B.mode=aI;break e}if(C=0,v=h,u===0){if(C+=c-m,m<y){y-=m;do w[s++]=h[C++];while(--m);C=s-E,v=w}}else if(u<m){if(C+=c+u-m,m-=u,m<y){y-=m;do w[s++]=h[C++];while(--m);if(C=0,u<y){m=u,y-=m;do w[s++]=h[C++];while(--m);C=s-E,v=w}}}else if(C+=u-m,m<y){y-=m;do w[s++]=h[C++];while(--m);C=s-E,v=w}for(;y>2;)w[s++]=v[C++],w[s++]=v[C++],w[s++]=v[C++],y-=3;y&&(w[s++]=v[C++],y>1&&(w[s++]=v[C++]))}else{C=s-E;do w[s++]=w[C++],w[s++]=w[C++],w[s++]=w[C++],y-=3;while(y>2);y&&(w[s++]=w[C++],y>1&&(w[s++]=w[C++]))}}else if(m&64){e.msg="invalid distance code",B.mode=aI;break e}else{I=d[(I&65535)+(f&(1<<m)-1)];continue n}break}}else if(m&64)if(m&32){B.mode=AK;break e}else{e.msg="invalid literal/length code",B.mode=aI;break e}else{I=g[(I&65535)+(f&(1<<m)-1)];continue t}break}}while(n<r&&s<o);y=A>>3,n-=y,A-=y<<3,f&=(1<<A)-1,e.next_in=n,e.next_out=s,e.avail_in=n<r?5+(r-n):5-(n-r),e.avail_out=s<o?257+(o-s):257-(s-o),B.hold=f,B.bits=A};const Hx=15,T6=852,D6=592,Q6=0,P3=1,F6=2,pK=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gK=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mK=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_K=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var fA=(i,e,t,n,r,s,a,o)=>{const l=o.bits;let c=0,x=0,u=0,h=0,f=0,A=0,g=0,d=0,p=0,_=0,I,m,y,E,C,v=null,b;const w=new Uint16Array(Hx+1),B=new Uint16Array(Hx+1);let R=null,Q,F,M;for(c=0;c<=Hx;c++)w[c]=0;for(x=0;x<n;x++)w[e[t+x]]++;for(f=l,h=Hx;h>=1&&w[h]===0;h--);if(f>h&&(f=h),h===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<h&&w[u]===0;u++);for(f<u&&(f=u),d=1,c=1;c<=Hx;c++)if(d<<=1,d-=w[c],d<0)return-1;if(d>0&&(i===Q6||h!==1))return-1;for(B[1]=0,c=1;c<Hx;c++)B[c+1]=B[c]+w[c];for(x=0;x<n;x++)e[t+x]!==0&&(a[B[e[t+x]]++]=x);if(i===Q6?(v=R=a,b=20):i===P3?(v=pK,R=gK,b=257):(v=mK,R=_K,b=0),_=0,x=0,c=u,C=s,A=f,g=0,y=-1,p=1<<f,E=p-1,i===P3&&p>T6||i===F6&&p>D6)return 1;for(;;){Q=c-g,a[x]+1<b?(F=0,M=a[x]):a[x]>=b?(F=R[a[x]-b],M=v[a[x]-b]):(F=96,M=0),I=1<<c-g,m=1<<A,u=m;do m-=I,r[C+(_>>g)+m]=Q<<24|F<<16|M|0;while(m!==0);for(I=1<<c-1;_&I;)I>>=1;if(I!==0?(_&=I-1,_+=I):_=0,x++,--w[c]===0){if(c===h)break;c=e[t+a[x]]}if(c>f&&(_&E)!==y){for(g===0&&(g=f),C+=u,A=c-g,d=1<<A;A+g<h&&(d-=w[A+g],!(d<=0));)A++,d<<=1;if(p+=1<<A,i===P3&&p>T6||i===F6&&p>D6)return 1;y=_&E,r[y]=f<<24|A<<16|C-s|0}}return _!==0&&(r[C+_]=c-g<<24|64<<16|0),o.bits=f,0};const IK=0,L6=1,P6=2,{Z_FINISH:k6,Z_BLOCK:EK,Z_TREES:oI,Z_OK:ac,Z_STREAM_END:yK,Z_NEED_DICT:CK,Z_STREAM_ERROR:kr,Z_DATA_ERROR:U6,Z_MEM_ERROR:N6,Z_BUF_ERROR:bK,Z_DEFLATED:O6}=sA,cI=16180,G6=16181,z6=16182,V6=16183,H6=16184,q6=16185,Y6=16186,X6=16187,W6=16188,j6=16189,lI=16190,Oa=16191,k3=16192,K6=16193,U3=16194,J6=16195,Z6=16196,$6=16197,eT=16198,xI=16199,uI=16200,tT=16201,nT=16202,iT=16203,rT=16204,sT=16205,N3=16206,aT=16207,oT=16208,_n=16209,cT=16210,lT=16211,vK=852,wK=592,BK=15,xT=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function SK(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const oc=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.mode<cI||e.mode>lT?1:0},uT=i=>{if(oc(i))return kr;const e=i.state;return i.total_in=i.total_out=e.total=0,i.msg="",e.wrap&&(i.adler=e.wrap&1),e.mode=cI,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(vK),e.distcode=e.distdyn=new Int32Array(wK),e.sane=1,e.back=-1,ac},hT=i=>{if(oc(i))return kr;const e=i.state;return e.wsize=0,e.whave=0,e.wnext=0,uT(i)},fT=(i,e)=>{let t;if(oc(i))return kr;const n=i.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?kr:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,hT(i))},AT=(i,e)=>{if(!i)return kr;const t=new SK;i.state=t,t.strm=i,t.window=null,t.mode=cI;const n=fT(i,e);return n!==ac&&(i.state=null),n},MK=i=>AT(i,BK);let dT=!0,O3,G3;const RK=i=>{if(dT){O3=new Int32Array(512),G3=new Int32Array(32);let e=0;for(;e<144;)i.lens[e++]=8;for(;e<256;)i.lens[e++]=9;for(;e<280;)i.lens[e++]=7;for(;e<288;)i.lens[e++]=8;for(fA(L6,i.lens,0,288,O3,0,i.work,{bits:9}),e=0;e<32;)i.lens[e++]=5;fA(P6,i.lens,0,32,G3,0,i.work,{bits:5}),dT=!1}i.lencode=O3,i.lenbits=9,i.distcode=G3,i.distbits=5},pT=(i,e,t,n)=>{let r;const s=i.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>n&&(r=n),s.window.set(e.subarray(t-n,t-n+r),s.wnext),n-=r,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},TK=(i,e)=>{let t,n,r,s,a,o,l,c,x,u,h,f,A,g,d=0,p,_,I,m,y,E,C,v;const b=new Uint8Array(4);let w,B;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(oc(i)||!i.output||!i.input&&i.avail_in!==0)return kr;t=i.state,t.mode===Oa&&(t.mode=k3),a=i.next_out,r=i.output,l=i.avail_out,s=i.next_in,n=i.input,o=i.avail_in,c=t.hold,x=t.bits,u=o,h=l,v=ac;e:for(;;)switch(t.mode){case cI:if(t.wrap===0){t.mode=k3;break}for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(t.wrap&2&&c===35615){t.wbits===0&&(t.wbits=15),t.check=0,b[0]=c&255,b[1]=c>>>8&255,t.check=ei(t.check,b,2,0),c=0,x=0,t.mode=G6;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((c&255)<<8)+(c>>8))%31){i.msg="incorrect header check",t.mode=_n;break}if((c&15)!==O6){i.msg="unknown compression method",t.mode=_n;break}if(c>>>=4,x-=4,C=(c&15)+8,t.wbits===0&&(t.wbits=C),C>15||C>t.wbits){i.msg="invalid window size",t.mode=_n;break}t.dmax=1<<t.wbits,t.flags=0,i.adler=t.check=1,t.mode=c&512?j6:Oa,c=0,x=0;break;case G6:for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(t.flags=c,(t.flags&255)!==O6){i.msg="unknown compression method",t.mode=_n;break}if(t.flags&57344){i.msg="unknown header flags set",t.mode=_n;break}t.head&&(t.head.text=c>>8&1),t.flags&512&&t.wrap&4&&(b[0]=c&255,b[1]=c>>>8&255,t.check=ei(t.check,b,2,0)),c=0,x=0,t.mode=z6;case z6:for(;x<32;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}t.head&&(t.head.time=c),t.flags&512&&t.wrap&4&&(b[0]=c&255,b[1]=c>>>8&255,b[2]=c>>>16&255,b[3]=c>>>24&255,t.check=ei(t.check,b,4,0)),c=0,x=0,t.mode=V6;case V6:for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}t.head&&(t.head.xflags=c&255,t.head.os=c>>8),t.flags&512&&t.wrap&4&&(b[0]=c&255,b[1]=c>>>8&255,t.check=ei(t.check,b,2,0)),c=0,x=0,t.mode=H6;case H6:if(t.flags&1024){for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}t.length=c,t.head&&(t.head.extra_len=c),t.flags&512&&t.wrap&4&&(b[0]=c&255,b[1]=c>>>8&255,t.check=ei(t.check,b,2,0)),c=0,x=0}else t.head&&(t.head.extra=null);t.mode=q6;case q6:if(t.flags&1024&&(f=t.length,f>o&&(f=o),f&&(t.head&&(C=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+f),C)),t.flags&512&&t.wrap&4&&(t.check=ei(t.check,n,f,s)),o-=f,s+=f,t.length-=f),t.length))break e;t.length=0,t.mode=Y6;case Y6:if(t.flags&2048){if(o===0)break e;f=0;do C=n[s+f++],t.head&&C&&t.length<65536&&(t.head.name+=String.fromCharCode(C));while(C&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=ei(t.check,n,f,s)),o-=f,s+=f,C)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=X6;case X6:if(t.flags&4096){if(o===0)break e;f=0;do C=n[s+f++],t.head&&C&&t.length<65536&&(t.head.comment+=String.fromCharCode(C));while(C&&f<o);if(t.flags&512&&t.wrap&4&&(t.check=ei(t.check,n,f,s)),o-=f,s+=f,C)break e}else t.head&&(t.head.comment=null);t.mode=W6;case W6:if(t.flags&512){for(;x<16;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(t.wrap&4&&c!==(t.check&65535)){i.msg="header crc mismatch",t.mode=_n;break}c=0,x=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=Oa;break;case j6:for(;x<32;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}i.adler=t.check=xT(c),c=0,x=0,t.mode=lI;case lI:if(t.havedict===0)return i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=o,t.hold=c,t.bits=x,CK;i.adler=t.check=1,t.mode=Oa;case Oa:if(e===EK||e===oI)break e;case k3:if(t.last){c>>>=x&7,x-=x&7,t.mode=N3;break}for(;x<3;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}switch(t.last=c&1,c>>>=1,x-=1,c&3){case 0:t.mode=K6;break;case 1:if(RK(t),t.mode=xI,e===oI){c>>>=2,x-=2;break e}break;case 2:t.mode=Z6;break;case 3:i.msg="invalid block type",t.mode=_n}c>>>=2,x-=2;break;case K6:for(c>>>=x&7,x-=x&7;x<32;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if((c&65535)!==(c>>>16^65535)){i.msg="invalid stored block lengths",t.mode=_n;break}if(t.length=c&65535,c=0,x=0,t.mode=U3,e===oI)break e;case U3:t.mode=J6;case J6:if(f=t.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;r.set(n.subarray(s,s+f),a),o-=f,s+=f,l-=f,a+=f,t.length-=f;break}t.mode=Oa;break;case Z6:for(;x<14;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(t.nlen=(c&31)+257,c>>>=5,x-=5,t.ndist=(c&31)+1,c>>>=5,x-=5,t.ncode=(c&15)+4,c>>>=4,x-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=_n;break}t.have=0,t.mode=$6;case $6:for(;t.have<t.ncode;){for(;x<3;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}t.lens[R[t.have++]]=c&7,c>>>=3,x-=3}for(;t.have<19;)t.lens[R[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,w={bits:t.lenbits},v=fA(IK,t.lens,0,19,t.lencode,0,t.work,w),t.lenbits=w.bits,v){i.msg="invalid code lengths set",t.mode=_n;break}t.have=0,t.mode=eT;case eT:for(;t.have<t.nlen+t.ndist;){for(;d=t.lencode[c&(1<<t.lenbits)-1],p=d>>>24,_=d>>>16&255,I=d&65535,!(p<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(I<16)c>>>=p,x-=p,t.lens[t.have++]=I;else{if(I===16){for(B=p+2;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(c>>>=p,x-=p,t.have===0){i.msg="invalid bit length repeat",t.mode=_n;break}C=t.lens[t.have-1],f=3+(c&3),c>>>=2,x-=2}else if(I===17){for(B=p+3;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}c>>>=p,x-=p,C=0,f=3+(c&7),c>>>=3,x-=3}else{for(B=p+7;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}c>>>=p,x-=p,C=0,f=11+(c&127),c>>>=7,x-=7}if(t.have+f>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=_n;break}for(;f--;)t.lens[t.have++]=C}}if(t.mode===_n)break;if(t.lens[256]===0){i.msg="invalid code -- missing end-of-block",t.mode=_n;break}if(t.lenbits=9,w={bits:t.lenbits},v=fA(L6,t.lens,0,t.nlen,t.lencode,0,t.work,w),t.lenbits=w.bits,v){i.msg="invalid literal/lengths set",t.mode=_n;break}if(t.distbits=6,t.distcode=t.distdyn,w={bits:t.distbits},v=fA(P6,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,w),t.distbits=w.bits,v){i.msg="invalid distances set",t.mode=_n;break}if(t.mode=xI,e===oI)break e;case xI:t.mode=uI;case uI:if(o>=6&&l>=258){i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=o,t.hold=c,t.bits=x,dK(i,h),a=i.next_out,r=i.output,l=i.avail_out,s=i.next_in,n=i.input,o=i.avail_in,c=t.hold,x=t.bits,t.mode===Oa&&(t.back=-1);break}for(t.back=0;d=t.lencode[c&(1<<t.lenbits)-1],p=d>>>24,_=d>>>16&255,I=d&65535,!(p<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(_&&!(_&240)){for(m=p,y=_,E=I;d=t.lencode[E+((c&(1<<m+y)-1)>>m)],p=d>>>24,_=d>>>16&255,I=d&65535,!(m+p<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}c>>>=m,x-=m,t.back+=m}if(c>>>=p,x-=p,t.back+=p,t.length=I,_===0){t.mode=sT;break}if(_&32){t.back=-1,t.mode=Oa;break}if(_&64){i.msg="invalid literal/length code",t.mode=_n;break}t.extra=_&15,t.mode=tT;case tT:if(t.extra){for(B=t.extra;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}t.length+=c&(1<<t.extra)-1,c>>>=t.extra,x-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=nT;case nT:for(;d=t.distcode[c&(1<<t.distbits)-1],p=d>>>24,_=d>>>16&255,I=d&65535,!(p<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(!(_&240)){for(m=p,y=_,E=I;d=t.distcode[E+((c&(1<<m+y)-1)>>m)],p=d>>>24,_=d>>>16&255,I=d&65535,!(m+p<=x);){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}c>>>=m,x-=m,t.back+=m}if(c>>>=p,x-=p,t.back+=p,_&64){i.msg="invalid distance code",t.mode=_n;break}t.offset=I,t.extra=_&15,t.mode=iT;case iT:if(t.extra){for(B=t.extra;x<B;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}t.offset+=c&(1<<t.extra)-1,c>>>=t.extra,x-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=_n;break}t.mode=rT;case rT:if(l===0)break e;if(f=h-l,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=_n;break}f>t.wnext?(f-=t.wnext,A=t.wsize-f):A=t.wnext-f,f>t.length&&(f=t.length),g=t.window}else g=r,A=a-t.offset,f=t.length;f>l&&(f=l),l-=f,t.length-=f;do r[a++]=g[A++];while(--f);t.length===0&&(t.mode=uI);break;case sT:if(l===0)break e;r[a++]=t.length,l--,t.mode=uI;break;case N3:if(t.wrap){for(;x<32;){if(o===0)break e;o--,c|=n[s++]<<x,x+=8}if(h-=l,i.total_out+=h,t.total+=h,t.wrap&4&&h&&(i.adler=t.check=t.flags?ei(t.check,r,h,a-h):rA(t.check,r,h,a-h)),h=l,t.wrap&4&&(t.flags?c:xT(c))!==t.check){i.msg="incorrect data check",t.mode=_n;break}c=0,x=0}t.mode=aT;case aT:if(t.wrap&&t.flags){for(;x<32;){if(o===0)break e;o--,c+=n[s++]<<x,x+=8}if(t.wrap&4&&c!==(t.total&4294967295)){i.msg="incorrect length check",t.mode=_n;break}c=0,x=0}t.mode=oT;case oT:v=yK;break e;case _n:v=U6;break e;case cT:return N6;case lT:default:return kr}return i.next_out=a,i.avail_out=l,i.next_in=s,i.avail_in=o,t.hold=c,t.bits=x,(t.wsize||h!==i.avail_out&&t.mode<_n&&(t.mode<N3||e!==k6))&&pT(i,i.output,i.next_out,h-i.avail_out),u-=i.avail_in,h-=i.avail_out,i.total_in+=u,i.total_out+=h,t.total+=h,t.wrap&4&&h&&(i.adler=t.check=t.flags?ei(t.check,r,h,i.next_out-h):rA(t.check,r,h,i.next_out-h)),i.data_type=t.bits+(t.last?64:0)+(t.mode===Oa?128:0)+(t.mode===xI||t.mode===U3?256:0),(u===0&&h===0||e===k6)&&v===ac&&(v=bK),v},DK=i=>{if(oc(i))return kr;let e=i.state;return e.window&&(e.window=null),i.state=null,ac},QK=(i,e)=>{if(oc(i))return kr;const t=i.state;return t.wrap&2?(t.head=e,e.done=!1,ac):kr},FK=(i,e)=>{const t=e.length;let n,r,s;return oc(i)||(n=i.state,n.wrap!==0&&n.mode!==lI)?kr:n.mode===lI&&(r=1,r=rA(r,e,t,0),r!==n.check)?U6:(s=pT(i,e,t,t),s?(n.mode=cT,N6):(n.havedict=1,ac))};var LK=hT,PK=fT,kK=uT,UK=MK,NK=AT,OK=TK,GK=DK,zK=QK,VK=FK,HK="pako inflate (from Nodeca project)",Ga={inflateReset:LK,inflateReset2:PK,inflateResetKeep:kK,inflateInit:UK,inflateInit2:NK,inflate:OK,inflateEnd:GK,inflateGetHeader:zK,inflateSetDictionary:VK,inflateInfo:HK};function qK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var YK=qK;const gT=Object.prototype.toString,{Z_NO_FLUSH:XK,Z_FINISH:WK,Z_OK:AA,Z_STREAM_END:z3,Z_NEED_DICT:V3,Z_STREAM_ERROR:jK,Z_DATA_ERROR:mT,Z_MEM_ERROR:KK}=sA;function dA(i){this.options=rI.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(i&&i.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M6,this.strm.avail_out=0;let t=Ga.inflateInit2(this.strm,e.windowBits);if(t!==AA)throw new Error(Ux[t]);if(this.header=new YK,Ga.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=hA.string2buf(e.dictionary):gT.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ga.inflateSetDictionary(this.strm,e.dictionary),t!==AA)))throw new Error(Ux[t])}dA.prototype.push=function(i,e){const t=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?WK:XK,gT.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=Ga.inflate(t,a),s===V3&&r&&(s=Ga.inflateSetDictionary(t,r),s===AA?s=Ga.inflate(t,a):s===mT&&(s=V3));t.avail_in>0&&s===z3&&t.state.wrap>0&&i[t.next_in]!==0;)Ga.inflateReset(t),s=Ga.inflate(t,a);switch(s){case jK:case mT:case V3:case KK:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===z3))if(this.options.to==="string"){let l=hA.utf8border(t.output,t.next_out),c=t.next_out-l,x=hA.buf2string(t.output,l);t.next_out=c,t.avail_out=n-c,c&&t.output.set(t.output.subarray(l,l+c),0),this.onData(x)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===AA&&o===0)){if(s===z3)return s=Ga.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0},dA.prototype.onData=function(i){this.chunks.push(i)},dA.prototype.onEnd=function(i){i===AA&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=rI.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function H3(i,e){const t=new dA(e);if(t.push(i),t.err)throw t.msg||Ux[t.err];return t.result}function JK(i,e){return e=e||{},e.raw=!0,H3(i,e)}var ZK=dA,$K=H3,eJ=JK,tJ=H3,nJ=sA,iJ={Inflate:ZK,inflate:$K,inflateRaw:eJ,ungzip:tJ,constants:nJ};const{Inflate:FZ,inflate:rJ,inflateRaw:LZ,ungzip:PZ}=iJ;var _T=rJ;class sJ extends Ko{decodeBlock(e){return _T(new Uint8Array(e)).buffer}}const aJ=Object.freeze(Object.defineProperty({__proto__:null,default:sJ},Symbol.toStringTag,{value:"Module"}));class oJ extends Ko{decodeBlock(e){const t=new DataView(e),n=[];for(let r=0;r<e.byteLength;++r){let s=t.getInt8(r);if(s<0){const a=t.getUint8(r+1);s=-s;for(let o=0;o<=s;++o)n.push(a);r+=1}else{for(let a=0;a<=s;++a)n.push(t.getUint8(r+a+1));r+=s+1}}return new Uint8Array(n).buffer}}const cJ=Object.freeze(Object.defineProperty({__proto__:null,default:oJ},Symbol.toStringTag,{value:"Module"}));var IT={exports:{}};(function(i){/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */(function(){var e=function(){var s={};s.defaultNoDataValue=-34027999387901484e22,s.decode=function(u,h){h=h||{};var f=h.encodedMaskData||h.encodedMaskData===null,A=c(u,h.inputOffset||0,f),g=h.noDataValue!==null?h.noDataValue:s.defaultNoDataValue,d=a(A,h.pixelType||Float32Array,h.encodedMaskData,g,h.returnMask),p={width:A.width,height:A.height,pixelData:d.resultPixels,minValue:d.minValue,maxValue:A.pixels.maxValue,noDataValue:g};return d.resultMask&&(p.maskData=d.resultMask),h.returnEncodedMask&&A.mask&&(p.encodedMaskData=A.mask.bitset?A.mask.bitset:null),h.returnFileInfo&&(p.fileInfo=o(A),h.computeUsedBitDepths&&(p.fileInfo.bitDepths=l(A))),p};var a=function(u,h,f,A,g){var d=0,p=u.pixels.numBlocksX,_=u.pixels.numBlocksY,I=Math.floor(u.width/p),m=Math.floor(u.height/_),y=2*u.maxZError,E=Number.MAX_VALUE,C;f=f||(u.mask?u.mask.bitset:null);var v,b;v=new h(u.width*u.height),g&&f&&(b=new Uint8Array(u.width*u.height));for(var w=new Float32Array(I*m),B,R,Q=0;Q<=_;Q++){var F=Q!==_?m:u.height%_;if(F!==0)for(var M=0;M<=p;M++){var T=M!==p?I:u.width%p;if(T!==0){var P=Q*u.width*m+M*I,k=u.width-T,V=u.pixels.blocks[d],Y,U,te;V.encoding<2?(V.encoding===0?Y=V.rawData:(x(V.stuffedData,V.bitsPerPixel,V.numValidPixels,V.offset,y,w,u.pixels.maxValue),Y=w),U=0):V.encoding===2?te=0:te=V.offset;var xe;if(f)for(R=0;R<F;R++){for(P&7&&(xe=f[P>>3],xe<<=P&7),B=0;B<T;B++)P&7||(xe=f[P>>3]),xe&128?(b&&(b[P]=1),C=V.encoding<2?Y[U++]:te,E=E>C?C:E,v[P++]=C):(b&&(b[P]=0),v[P++]=A),xe<<=1;P+=k}else if(V.encoding<2)for(R=0;R<F;R++){for(B=0;B<T;B++)C=Y[U++],E=E>C?C:E,v[P++]=C;P+=k}else for(E=E>te?te:E,R=0;R<F;R++){for(B=0;B<T;B++)v[P++]=te;P+=k}if(V.encoding===1&&U!==V.numValidPixels)throw"Block and Mask do not match";d++}}}return{resultPixels:v,resultMask:b,minValue:E}},o=function(u){return{fileIdentifierString:u.fileIdentifierString,fileVersion:u.fileVersion,imageType:u.imageType,height:u.height,width:u.width,maxZError:u.maxZError,eofOffset:u.eofOffset,mask:u.mask?{numBlocksX:u.mask.numBlocksX,numBlocksY:u.mask.numBlocksY,numBytes:u.mask.numBytes,maxValue:u.mask.maxValue}:null,pixels:{numBlocksX:u.pixels.numBlocksX,numBlocksY:u.pixels.numBlocksY,numBytes:u.pixels.numBytes,maxValue:u.pixels.maxValue,noDataValue:u.noDataValue}}},l=function(u){for(var h=u.pixels.numBlocksX*u.pixels.numBlocksY,f={},A=0;A<h;A++){var g=u.pixels.blocks[A];g.encoding===0?f.float32=!0:g.encoding===1?f[g.bitsPerPixel]=!0:f[0]=!0}return Object.keys(f)},c=function(u,h,f){var A={},g=new Uint8Array(u,h,10);if(A.fileIdentifierString=String.fromCharCode.apply(null,g),A.fileIdentifierString.trim()!=="CntZImage")throw"Unexpected file identifier string: "+A.fileIdentifierString;h+=10;var d=new DataView(u,h,24);if(A.fileVersion=d.getInt32(0,!0),A.imageType=d.getInt32(4,!0),A.height=d.getUint32(8,!0),A.width=d.getUint32(12,!0),A.maxZError=d.getFloat64(16,!0),h+=24,!f)if(d=new DataView(u,h,16),A.mask={},A.mask.numBlocksY=d.getUint32(0,!0),A.mask.numBlocksX=d.getUint32(4,!0),A.mask.numBytes=d.getUint32(8,!0),A.mask.maxValue=d.getFloat32(12,!0),h+=16,A.mask.numBytes>0){var p=new Uint8Array(Math.ceil(A.width*A.height/8));d=new DataView(u,h,A.mask.numBytes);var _=d.getInt16(0,!0),I=2,m=0;do{if(_>0)for(;_--;)p[m++]=d.getUint8(I++);else{var y=d.getUint8(I++);for(_=-_;_--;)p[m++]=y}_=d.getInt16(I,!0),I+=2}while(I<A.mask.numBytes);if(_!==-32768||m<p.length)throw"Unexpected end of mask RLE encoding";A.mask.bitset=p,h+=A.mask.numBytes}else A.mask.numBytes|A.mask.numBlocksY|A.mask.maxValue||(A.mask.bitset=new Uint8Array(Math.ceil(A.width*A.height/8)));d=new DataView(u,h,16),A.pixels={},A.pixels.numBlocksY=d.getUint32(0,!0),A.pixels.numBlocksX=d.getUint32(4,!0),A.pixels.numBytes=d.getUint32(8,!0),A.pixels.maxValue=d.getFloat32(12,!0),h+=16;var E=A.pixels.numBlocksX,C=A.pixels.numBlocksY,v=E+(A.width%E>0?1:0),b=C+(A.height%C>0?1:0);A.pixels.blocks=new Array(v*b);for(var w=0,B=0;B<b;B++)for(var R=0;R<v;R++){var Q=0,F=u.byteLength-h;d=new DataView(u,h,Math.min(10,F));var M={};A.pixels.blocks[w++]=M;var T=d.getUint8(0);if(Q++,M.encoding=T&63,M.encoding>3)throw"Invalid block encoding ("+M.encoding+")";if(M.encoding===2){h++;continue}if(T!==0&&T!==2){if(T>>=6,M.offsetType=T,T===2)M.offset=d.getInt8(1),Q++;else if(T===1)M.offset=d.getInt16(1,!0),Q+=2;else if(T===0)M.offset=d.getFloat32(1,!0),Q+=4;else throw"Invalid block offset type";if(M.encoding===1)if(T=d.getUint8(Q),Q++,M.bitsPerPixel=T&63,T>>=6,M.numValidPixelsType=T,T===2)M.numValidPixels=d.getUint8(Q),Q++;else if(T===1)M.numValidPixels=d.getUint16(Q,!0),Q+=2;else if(T===0)M.numValidPixels=d.getUint32(Q,!0),Q+=4;else throw"Invalid valid pixel count type"}if(h+=Q,M.encoding!==3){var P,k;if(M.encoding===0){var V=(A.pixels.numBytes-1)/4;if(V!==Math.floor(V))throw"uncompressed block has invalid length";P=new ArrayBuffer(V*4),k=new Uint8Array(P),k.set(new Uint8Array(u,h,V*4));var Y=new Float32Array(P);M.rawData=Y,h+=V*4}else if(M.encoding===1){var U=Math.ceil(M.numValidPixels*M.bitsPerPixel/8),te=Math.ceil(U/4);P=new ArrayBuffer(te*4),k=new Uint8Array(P),k.set(new Uint8Array(u,h,U)),M.stuffedData=new Uint32Array(P),h+=U}}}return A.eofOffset=h,A},x=function(u,h,f,A,g,d,p){var _=(1<<h)-1,I=0,m,y=0,E,C,v=Math.ceil((p-A)/g),b=u.length*4-Math.ceil(h*f/8);for(u[u.length-1]<<=8*b,m=0;m<f;m++){if(y===0&&(C=u[I++],y=32),y>=h)E=C>>>y-h&_,y-=h;else{var w=h-y;E=(C&_)<<w&_,C=u[I++],y=32-w,E+=C>>>y}d[m]=E<v?A+E*g:p}return d};return s}(),t=function(){var s={unstuff:function(c,x,u,h,f,A,g,d){var p=(1<<u)-1,_=0,I,m=0,y,E,C,v,b=c.length*4-Math.ceil(u*h/8);if(c[c.length-1]<<=8*b,f)for(I=0;I<h;I++)m===0&&(E=c[_++],m=32),m>=u?(y=E>>>m-u&p,m-=u):(C=u-m,y=(E&p)<<C&p,E=c[_++],m=32-C,y+=E>>>m),x[I]=f[y];else for(v=Math.ceil((d-A)/g),I=0;I<h;I++)m===0&&(E=c[_++],m=32),m>=u?(y=E>>>m-u&p,m-=u):(C=u-m,y=(E&p)<<C&p,E=c[_++],m=32-C,y+=E>>>m),x[I]=y<v?A+y*g:d},unstuffLUT:function(c,x,u,h,f,A){var g=(1<<x)-1,d=0,p=0,_=0,I=0,m=0,y,E=[],C=c.length*4-Math.ceil(x*u/8);c[c.length-1]<<=8*C;var v=Math.ceil((A-h)/f);for(p=0;p<u;p++)I===0&&(y=c[d++],I=32),I>=x?(m=y>>>I-x&g,I-=x):(_=x-I,m=(y&g)<<_&g,y=c[d++],I=32-_,m+=y>>>I),E[p]=m<v?h+m*f:A;return E.unshift(h),E},unstuff2:function(c,x,u,h,f,A,g,d){var p=(1<<u)-1,_=0,I,m=0,y=0,E,C,v;if(f)for(I=0;I<h;I++)m===0&&(C=c[_++],m=32,y=0),m>=u?(E=C>>>y&p,m-=u,y+=u):(v=u-m,E=C>>>y&p,C=c[_++],m=32-v,E|=(C&(1<<v)-1)<<u-v,y=v),x[I]=f[E];else{var b=Math.ceil((d-A)/g);for(I=0;I<h;I++)m===0&&(C=c[_++],m=32,y=0),m>=u?(E=C>>>y&p,m-=u,y+=u):(v=u-m,E=C>>>y&p,C=c[_++],m=32-v,E|=(C&(1<<v)-1)<<u-v,y=v),x[I]=E<b?A+E*g:d}return x},unstuffLUT2:function(c,x,u,h,f,A){var g=(1<<x)-1,d=0,p=0,_=0,I=0,m=0,y=0,E,C=[],v=Math.ceil((A-h)/f);for(p=0;p<u;p++)I===0&&(E=c[d++],I=32,y=0),I>=x?(m=E>>>y&g,I-=x,y+=x):(_=x-I,m=E>>>y&g,E=c[d++],I=32-_,m|=(E&(1<<_)-1)<<x-_,y=_),C[p]=m<v?h+m*f:A;return C.unshift(h),C},originalUnstuff:function(c,x,u,h){var f=(1<<u)-1,A=0,g,d=0,p,_,I,m=c.length*4-Math.ceil(u*h/8);for(c[c.length-1]<<=8*m,g=0;g<h;g++)d===0&&(_=c[A++],d=32),d>=u?(p=_>>>d-u&f,d-=u):(I=u-d,p=(_&f)<<I&f,_=c[A++],d=32-I,p+=_>>>d),x[g]=p;return x},originalUnstuff2:function(c,x,u,h){var f=(1<<u)-1,A=0,g,d=0,p=0,_,I,m;for(g=0;g<h;g++)d===0&&(I=c[A++],d=32,p=0),d>=u?(_=I>>>p&f,d-=u,p+=u):(m=u-d,_=I>>>p&f,I=c[A++],d=32-m,_|=(I&(1<<m)-1)<<u-m,p=m),x[g]=_;return x}},a={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(c){for(var x=65535,u=65535,h=c.length,f=Math.floor(h/2),A=0;f;){var g=f>=359?359:f;f-=g;do x+=c[A++]<<8,u+=x+=c[A++];while(--g);x=(x&65535)+(x>>>16),u=(u&65535)+(u>>>16)}return h&1&&(u+=x+=c[A]<<8),x=(x&65535)+(x>>>16),u=(u&65535)+(u>>>16),(u<<16|x)>>>0},readHeaderInfo:function(c,x){var u=x.ptr,h=new Uint8Array(c,u,6),f={};if(f.fileIdentifierString=String.fromCharCode.apply(null,h),f.fileIdentifierString.lastIndexOf("Lerc2",0)!==0)throw"Unexpected file identifier string (expect Lerc2 ): "+f.fileIdentifierString;u+=6;var A=new DataView(c,u,8),g=A.getInt32(0,!0);f.fileVersion=g,u+=4,g>=3&&(f.checksum=A.getUint32(4,!0),u+=4),A=new DataView(c,u,12),f.height=A.getUint32(0,!0),f.width=A.getUint32(4,!0),u+=8,g>=4?(f.numDims=A.getUint32(8,!0),u+=4):f.numDims=1,A=new DataView(c,u,40),f.numValidPixel=A.getUint32(0,!0),f.microBlockSize=A.getInt32(4,!0),f.blobSize=A.getInt32(8,!0),f.imageType=A.getInt32(12,!0),f.maxZError=A.getFloat64(16,!0),f.zMin=A.getFloat64(24,!0),f.zMax=A.getFloat64(32,!0),u+=40,x.headerInfo=f,x.ptr=u;var d,p;if(g>=3&&(p=g>=4?52:48,d=this.computeChecksumFletcher32(new Uint8Array(c,u-p,f.blobSize-14)),d!==f.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(c,x){var u=x.headerInfo,h=this.getDataTypeArray(u.imageType),f=u.numDims*this.getDataTypeSize(u.imageType),A=this.readSubArray(c,x.ptr,h,f),g=this.readSubArray(c,x.ptr+f,h,f);x.ptr+=2*f;var d,p=!0;for(d=0;d<u.numDims;d++)if(A[d]!==g[d]){p=!1;break}return u.minValues=A,u.maxValues=g,p},readSubArray:function(c,x,u,h){var f;if(u===Uint8Array)f=new Uint8Array(c,x,h);else{var A=new ArrayBuffer(h),g=new Uint8Array(A);g.set(new Uint8Array(c,x,h)),f=new u(A)}return f},readMask:function(c,x){var u=x.ptr,h=x.headerInfo,f=h.width*h.height,A=h.numValidPixel,g=new DataView(c,u,4),d={};if(d.numBytes=g.getUint32(0,!0),u+=4,(A===0||f===A)&&d.numBytes!==0)throw"invalid mask";var p,_;if(A===0)p=new Uint8Array(Math.ceil(f/8)),d.bitset=p,_=new Uint8Array(f),x.pixels.resultMask=_,u+=d.numBytes;else if(d.numBytes>0){p=new Uint8Array(Math.ceil(f/8)),g=new DataView(c,u,d.numBytes);var I=g.getInt16(0,!0),m=2,y=0,E=0;do{if(I>0)for(;I--;)p[y++]=g.getUint8(m++);else for(E=g.getUint8(m++),I=-I;I--;)p[y++]=E;I=g.getInt16(m,!0),m+=2}while(m<d.numBytes);if(I!==-32768||y<p.length)throw"Unexpected end of mask RLE encoding";_=new Uint8Array(f);var C=0,v=0;for(v=0;v<f;v++)v&7?(C=p[v>>3],C<<=v&7):C=p[v>>3],C&128&&(_[v]=1);x.pixels.resultMask=_,d.bitset=p,u+=d.numBytes}return x.ptr=u,x.mask=d,!0},readDataOneSweep:function(c,x,u,h){var f=x.ptr,A=x.headerInfo,g=A.numDims,d=A.width*A.height,p=A.imageType,_=A.numValidPixel*a.getDataTypeSize(p)*g,I,m=x.pixels.resultMask;if(u===Uint8Array)I=new Uint8Array(c,f,_);else{var y=new ArrayBuffer(_),E=new Uint8Array(y);E.set(new Uint8Array(c,f,_)),I=new u(y)}if(I.length===d*g)h?x.pixels.resultPixels=a.swapDimensionOrder(I,d,g,u,!0):x.pixels.resultPixels=I;else{x.pixels.resultPixels=new u(d*g);var C=0,v=0,b=0,w=0;if(g>1){if(h){for(v=0;v<d;v++)if(m[v])for(w=v,b=0;b<g;b++,w+=d)x.pixels.resultPixels[w]=I[C++]}else for(v=0;v<d;v++)if(m[v])for(w=v*g,b=0;b<g;b++)x.pixels.resultPixels[w+b]=I[C++]}else for(v=0;v<d;v++)m[v]&&(x.pixels.resultPixels[v]=I[C++])}return f+=_,x.ptr=f,!0},readHuffmanTree:function(c,x){var u=this.HUFFMAN_LUT_BITS_MAX,h=new DataView(c,x.ptr,16);x.ptr+=16;var f=h.getInt32(0,!0);if(f<2)throw"unsupported Huffman version";var A=h.getInt32(4,!0),g=h.getInt32(8,!0),d=h.getInt32(12,!0);if(g>=d)return!1;var p=new Uint32Array(d-g);a.decodeBits(c,x,p);var _=[],I,m,y,E;for(I=g;I<d;I++)m=I-(I<A?0:A),_[m]={first:p[I-g],second:null};var C=c.byteLength-x.ptr,v=Math.ceil(C/4),b=new ArrayBuffer(v*4),w=new Uint8Array(b);w.set(new Uint8Array(c,x.ptr,C));var B=new Uint32Array(b),R=0,Q,F=0;for(Q=B[0],I=g;I<d;I++)m=I-(I<A?0:A),E=_[m].first,E>0&&(_[m].second=Q<<R>>>32-E,32-R>=E?(R+=E,R===32&&(R=0,F++,Q=B[F])):(R+=E-32,F++,Q=B[F],_[m].second|=Q>>>32-R));var M=0,T=0,P=new o;for(I=0;I<_.length;I++)_[I]!==void 0&&(M=Math.max(M,_[I].first));M>=u?T=u:T=M;var k=[],V,Y,U,te,xe,G;for(I=g;I<d;I++)if(m=I-(I<A?0:A),E=_[m].first,E>0)if(V=[E,m],E<=T)for(Y=_[m].second<<T-E,U=1<<T-E,y=0;y<U;y++)k[Y|y]=V;else for(Y=_[m].second,G=P,te=E-1;te>=0;te--)xe=Y>>>te&1,xe?(G.right||(G.right=new o),G=G.right):(G.left||(G.left=new o),G=G.left),te===0&&!G.val&&(G.val=V[1]);return{decodeLut:k,numBitsLUTQick:T,numBitsLUT:M,tree:P,stuffedData:B,srcPtr:F,bitPos:R}},readHuffman:function(c,x,u,h){var f=x.headerInfo,A=f.numDims,g=x.headerInfo.height,d=x.headerInfo.width,p=d*g,_=this.readHuffmanTree(c,x),I=_.decodeLut,m=_.tree,y=_.stuffedData,E=_.srcPtr,C=_.bitPos,v=_.numBitsLUTQick,b=_.numBitsLUT,w=x.headerInfo.imageType===0?128:0,B,R,Q,F=x.pixels.resultMask,M,T,P,k,V,Y,U,te=0;C>0&&(E++,C=0);var xe=y[E],G=x.encodeMode===1,O=new u(p*A),ee=O,K;if(A<2||G){for(K=0;K<A;K++)if(A>1&&(ee=new u(O.buffer,p*K,p),te=0),x.headerInfo.numValidPixel===d*g)for(Y=0,k=0;k<g;k++)for(V=0;V<d;V++,Y++){if(R=0,M=xe<<C>>>32-v,T=M,32-C<v&&(M|=y[E+1]>>>64-C-v,T=M),I[T])R=I[T][1],C+=I[T][0];else for(M=xe<<C>>>32-b,T=M,32-C<b&&(M|=y[E+1]>>>64-C-b,T=M),B=m,U=0;U<b;U++)if(P=M>>>b-U-1&1,B=P?B.right:B.left,!(B.left||B.right)){R=B.val,C=C+U+1;break}C>=32&&(C-=32,E++,xe=y[E]),Q=R-w,G?(V>0?Q+=te:k>0?Q+=ee[Y-d]:Q+=te,Q&=255,ee[Y]=Q,te=Q):ee[Y]=Q}else for(Y=0,k=0;k<g;k++)for(V=0;V<d;V++,Y++)if(F[Y]){if(R=0,M=xe<<C>>>32-v,T=M,32-C<v&&(M|=y[E+1]>>>64-C-v,T=M),I[T])R=I[T][1],C+=I[T][0];else for(M=xe<<C>>>32-b,T=M,32-C<b&&(M|=y[E+1]>>>64-C-b,T=M),B=m,U=0;U<b;U++)if(P=M>>>b-U-1&1,B=P?B.right:B.left,!(B.left||B.right)){R=B.val,C=C+U+1;break}C>=32&&(C-=32,E++,xe=y[E]),Q=R-w,G?(V>0&&F[Y-1]?Q+=te:k>0&&F[Y-d]?Q+=ee[Y-d]:Q+=te,Q&=255,ee[Y]=Q,te=Q):ee[Y]=Q}}else for(Y=0,k=0;k<g;k++)for(V=0;V<d;V++)if(Y=k*d+V,!F||F[Y])for(K=0;K<A;K++,Y+=p){if(R=0,M=xe<<C>>>32-v,T=M,32-C<v&&(M|=y[E+1]>>>64-C-v,T=M),I[T])R=I[T][1],C+=I[T][0];else for(M=xe<<C>>>32-b,T=M,32-C<b&&(M|=y[E+1]>>>64-C-b,T=M),B=m,U=0;U<b;U++)if(P=M>>>b-U-1&1,B=P?B.right:B.left,!(B.left||B.right)){R=B.val,C=C+U+1;break}C>=32&&(C-=32,E++,xe=y[E]),Q=R-w,ee[Y]=Q}x.ptr=x.ptr+(E+1)*4+(C>0?4:0),x.pixels.resultPixels=O,A>1&&!h&&(x.pixels.resultPixels=a.swapDimensionOrder(O,p,A,u))},decodeBits:function(c,x,u,h,f){{var A=x.headerInfo,g=A.fileVersion,d=0,p=c.byteLength-x.ptr>=5?5:c.byteLength-x.ptr,_=new DataView(c,x.ptr,p),I=_.getUint8(0);d++;var m=I>>6,y=m===0?4:3-m,E=(I&32)>0,C=I&31,v=0;if(y===1)v=_.getUint8(d),d++;else if(y===2)v=_.getUint16(d,!0),d+=2;else if(y===4)v=_.getUint32(d,!0),d+=4;else throw"Invalid valid pixel count type";var b=2*A.maxZError,w,B,R,Q,F,M,T,P,k,V=A.numDims>1?A.maxValues[f]:A.zMax;if(E){for(x.counter.lut++,P=_.getUint8(d),d++,Q=Math.ceil((P-1)*C/8),F=Math.ceil(Q/4),B=new ArrayBuffer(F*4),R=new Uint8Array(B),x.ptr+=d,R.set(new Uint8Array(c,x.ptr,Q)),T=new Uint32Array(B),x.ptr+=Q,k=0;P-1>>>k;)k++;Q=Math.ceil(v*k/8),F=Math.ceil(Q/4),B=new ArrayBuffer(F*4),R=new Uint8Array(B),R.set(new Uint8Array(c,x.ptr,Q)),w=new Uint32Array(B),x.ptr+=Q,g>=3?M=s.unstuffLUT2(T,C,P-1,h,b,V):M=s.unstuffLUT(T,C,P-1,h,b,V),g>=3?s.unstuff2(w,u,k,v,M):s.unstuff(w,u,k,v,M)}else x.counter.bitstuffer++,k=C,x.ptr+=d,k>0&&(Q=Math.ceil(v*k/8),F=Math.ceil(Q/4),B=new ArrayBuffer(F*4),R=new Uint8Array(B),R.set(new Uint8Array(c,x.ptr,Q)),w=new Uint32Array(B),x.ptr+=Q,g>=3?h==null?s.originalUnstuff2(w,u,k,v):s.unstuff2(w,u,k,v,!1,h,b,V):h==null?s.originalUnstuff(w,u,k,v):s.unstuff(w,u,k,v,!1,h,b,V))}},readTiles:function(c,x,u,h){var f=x.headerInfo,A=f.width,g=f.height,d=A*g,p=f.microBlockSize,_=f.imageType,I=a.getDataTypeSize(_),m=Math.ceil(A/p),y=Math.ceil(g/p);x.pixels.numBlocksY=y,x.pixels.numBlocksX=m,x.pixels.ptr=0;var E=0,C=0,v=0,b=0,w=0,B=0,R=0,Q=0,F=0,M=0,T=0,P=0,k=0,V=0,Y=0,U=0,te,xe,G,O,ee,K,ce=new u(p*p),Ae=g%p||p,ge=A%p||p,oe,Se,At=f.numDims,N,Nt=x.pixels.resultMask,ze=x.pixels.resultPixels,Ge=f.fileVersion,Be=Ge>=5?14:15,ke,Re=f.zMax,L;for(v=0;v<y;v++)for(w=v!==y-1?p:Ae,b=0;b<m;b++)for(B=b!==m-1?p:ge,T=v*A*p+b*p,P=A-B,N=0;N<At;N++){if(At>1?(L=ze,T=v*A*p+b*p,ze=new u(x.pixels.resultPixels.buffer,d*N*I,d),Re=f.maxValues[N]):L=null,R=c.byteLength-x.ptr,te=new DataView(c,x.ptr,Math.min(10,R)),xe={},U=0,Q=te.getUint8(0),U++,ke=f.fileVersion>=5?Q&4:0,F=Q>>6&255,M=Q>>2&Be,M!==(b*p>>3&Be)||ke&&N===0)throw"integrity issue";if(K=Q&3,K>3)throw x.ptr+=U,"Invalid block encoding ("+K+")";if(K===2){if(ke)if(Nt)for(E=0;E<w;E++)for(C=0;C<B;C++)Nt[T]&&(ze[T]=L[T]),T++;else for(E=0;E<w;E++)for(C=0;C<B;C++)ze[T]=L[T],T++;x.counter.constant++,x.ptr+=U;continue}else if(K===0){if(ke)throw"integrity issue";if(x.counter.uncompressed++,x.ptr+=U,k=w*B*I,V=c.byteLength-x.ptr,k=k<V?k:V,G=new ArrayBuffer(k%I===0?k:k+I-k%I),O=new Uint8Array(G),O.set(new Uint8Array(c,x.ptr,k)),ee=new u(G),Y=0,Nt)for(E=0;E<w;E++){for(C=0;C<B;C++)Nt[T]&&(ze[T]=ee[Y++]),T++;T+=P}else for(E=0;E<w;E++){for(C=0;C<B;C++)ze[T++]=ee[Y++];T+=P}x.ptr+=Y*I}else if(oe=a.getDataTypeUsed(ke&&_<6?4:_,F),Se=a.getOnePixel(xe,U,oe,te),U+=a.getDataTypeSize(oe),K===3)if(x.ptr+=U,x.counter.constantoffset++,Nt)for(E=0;E<w;E++){for(C=0;C<B;C++)Nt[T]&&(ze[T]=ke?Math.min(Re,L[T]+Se):Se),T++;T+=P}else for(E=0;E<w;E++){for(C=0;C<B;C++)ze[T]=ke?Math.min(Re,L[T]+Se):Se,T++;T+=P}else if(x.ptr+=U,a.decodeBits(c,x,ce,Se,N),U=0,ke)if(Nt)for(E=0;E<w;E++){for(C=0;C<B;C++)Nt[T]&&(ze[T]=ce[U++]+L[T]),T++;T+=P}else for(E=0;E<w;E++){for(C=0;C<B;C++)ze[T]=ce[U++]+L[T],T++;T+=P}else if(Nt)for(E=0;E<w;E++){for(C=0;C<B;C++)Nt[T]&&(ze[T]=ce[U++]),T++;T+=P}else for(E=0;E<w;E++){for(C=0;C<B;C++)ze[T++]=ce[U++];T+=P}}At>1&&!h&&(x.pixels.resultPixels=a.swapDimensionOrder(x.pixels.resultPixels,d,At,u))},formatFileInfo:function(c){return{fileIdentifierString:c.headerInfo.fileIdentifierString,fileVersion:c.headerInfo.fileVersion,imageType:c.headerInfo.imageType,height:c.headerInfo.height,width:c.headerInfo.width,numValidPixel:c.headerInfo.numValidPixel,microBlockSize:c.headerInfo.microBlockSize,blobSize:c.headerInfo.blobSize,maxZError:c.headerInfo.maxZError,pixelType:a.getPixelType(c.headerInfo.imageType),eofOffset:c.eofOffset,mask:c.mask?{numBytes:c.mask.numBytes}:null,pixels:{numBlocksX:c.pixels.numBlocksX,numBlocksY:c.pixels.numBlocksY,maxValue:c.headerInfo.zMax,minValue:c.headerInfo.zMin,noDataValue:c.noDataValue}}},constructConstantSurface:function(c,x){var u=c.headerInfo.zMax,h=c.headerInfo.zMin,f=c.headerInfo.maxValues,A=c.headerInfo.numDims,g=c.headerInfo.height*c.headerInfo.width,d=0,p=0,_=0,I=c.pixels.resultMask,m=c.pixels.resultPixels;if(I)if(A>1){if(x)for(d=0;d<A;d++)for(_=d*g,u=f[d],p=0;p<g;p++)I[p]&&(m[_+p]=u);else for(p=0;p<g;p++)if(I[p])for(_=p*A,d=0;d<A;d++)m[_+A]=f[d]}else for(p=0;p<g;p++)I[p]&&(m[p]=u);else if(A>1&&h!==u)if(x)for(d=0;d<A;d++)for(_=d*g,u=f[d],p=0;p<g;p++)m[_+p]=u;else for(p=0;p<g;p++)for(_=p*A,d=0;d<A;d++)m[_+d]=f[d];else for(p=0;p<g*A;p++)m[p]=u},getDataTypeArray:function(c){var x;switch(c){case 0:x=Int8Array;break;case 1:x=Uint8Array;break;case 2:x=Int16Array;break;case 3:x=Uint16Array;break;case 4:x=Int32Array;break;case 5:x=Uint32Array;break;case 6:x=Float32Array;break;case 7:x=Float64Array;break;default:x=Float32Array}return x},getPixelType:function(c){var x;switch(c){case 0:x="S8";break;case 1:x="U8";break;case 2:x="S16";break;case 3:x="U16";break;case 4:x="S32";break;case 5:x="U32";break;case 6:x="F32";break;case 7:x="F64";break;default:x="F32"}return x},isValidPixelValue:function(c,x){if(x==null)return!1;var u;switch(c){case 0:u=x>=-128&&x<=127;break;case 1:u=x>=0&&x<=255;break;case 2:u=x>=-32768&&x<=32767;break;case 3:u=x>=0&&x<=65536;break;case 4:u=x>=-2147483648&&x<=2147483647;break;case 5:u=x>=0&&x<=4294967296;break;case 6:u=x>=-34027999387901484e22&&x<=34027999387901484e22;break;case 7:u=x>=-17976931348623157e292&&x<=17976931348623157e292;break;default:u=!1}return u},getDataTypeSize:function(c){var x=0;switch(c){case 0:case 1:x=1;break;case 2:case 3:x=2;break;case 4:case 5:case 6:x=4;break;case 7:x=8;break;default:x=c}return x},getDataTypeUsed:function(c,x){var u=c;switch(c){case 2:case 4:u=c-x;break;case 3:case 5:u=c-2*x;break;case 6:x===0?u=c:x===1?u=2:u=1;break;case 7:x===0?u=c:u=c-2*x+1;break;default:u=c;break}return u},getOnePixel:function(c,x,u,h){var f=0;switch(u){case 0:f=h.getInt8(x);break;case 1:f=h.getUint8(x);break;case 2:f=h.getInt16(x,!0);break;case 3:f=h.getUint16(x,!0);break;case 4:f=h.getInt32(x,!0);break;case 5:f=h.getUInt32(x,!0);break;case 6:f=h.getFloat32(x,!0);break;case 7:f=h.getFloat64(x,!0);break;default:throw"the decoder does not understand this pixel type"}return f},swapDimensionOrder:function(c,x,u,h,f){var A=0,g=0,d=0,p=0,_=c;if(u>1)if(_=new h(x*u),f)for(A=0;A<x;A++)for(p=A,d=0;d<u;d++,p+=x)_[p]=c[g++];else for(A=0;A<x;A++)for(p=A,d=0;d<u;d++,p+=x)_[g++]=c[p];return _}},o=function(c,x,u){this.val=c,this.left=x,this.right=u},l={decode:function(c,x){x=x||{};var u=x.noDataValue,h=0,f={};if(f.ptr=x.inputOffset||0,f.pixels={},!!a.readHeaderInfo(c,f)){var A=f.headerInfo,g=A.fileVersion,d=a.getDataTypeArray(A.imageType);if(g>5)throw"unsupported lerc version 2."+g;a.readMask(c,f),A.numValidPixel!==A.width*A.height&&!f.pixels.resultMask&&(f.pixels.resultMask=x.maskData);var p=A.width*A.height;f.pixels.resultPixels=new d(p*A.numDims),f.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var _=!x.returnPixelInterleavedDims;if(A.numValidPixel!==0)if(A.zMax===A.zMin)a.constructConstantSurface(f,_);else if(g>=4&&a.checkMinMaxRanges(c,f))a.constructConstantSurface(f,_);else{var I=new DataView(c,f.ptr,2),m=I.getUint8(0);if(f.ptr++,m)a.readDataOneSweep(c,f,d,_);else if(g>1&&A.imageType<=1&&Math.abs(A.maxZError-.5)<1e-5){var y=I.getUint8(1);if(f.ptr++,f.encodeMode=y,y>2||g<4&&y>1)throw"Invalid Huffman flag "+y;y?a.readHuffman(c,f,d,_):a.readTiles(c,f,d,_)}else a.readTiles(c,f,d,_)}f.eofOffset=f.ptr;var E;x.inputOffset?(E=f.headerInfo.blobSize+x.inputOffset-f.ptr,Math.abs(E)>=1&&(f.eofOffset=x.inputOffset+f.headerInfo.blobSize)):(E=f.headerInfo.blobSize-f.ptr,Math.abs(E)>=1&&(f.eofOffset=f.headerInfo.blobSize));var C={width:A.width,height:A.height,pixelData:f.pixels.resultPixels,minValue:A.zMin,maxValue:A.zMax,validPixelCount:A.numValidPixel,dimCount:A.numDims,dimStats:{minValues:A.minValues,maxValues:A.maxValues},maskData:f.pixels.resultMask};if(f.pixels.resultMask&&a.isValidPixelValue(A.imageType,u)){var v=f.pixels.resultMask;for(h=0;h<p;h++)v[h]||(C.pixelData[h]=u);C.noDataValue=u}return f.noDataValue=u,x.returnFileInfo&&(C.fileInfo=a.formatFileInfo(f)),C}},getBandCount:function(c){var x=0,u=0,h={};for(h.ptr=0,h.pixels={};u<c.byteLength-58;)a.readHeaderInfo(c,h),u+=h.headerInfo.blobSize,x++,h.ptr=u;return x}};return l}(),n=function(){var s=new ArrayBuffer(4),a=new Uint8Array(s),o=new Uint32Array(s);return o[0]=1,a[0]===1}(),r={decode:function(s,a){if(!n)throw"Big endian system is not supported.";a=a||{};var o=a.inputOffset||0,l=new Uint8Array(s,o,10),c=String.fromCharCode.apply(null,l),x,u;if(c.trim()==="CntZImage")x=e,u=1;else if(c.substring(0,5)==="Lerc2")x=t,u=2;else throw"Unexpected file identifier string: "+c;for(var h=0,f=s.byteLength-10,A,g=[],d,p,_={width:0,height:0,pixels:[],pixelType:a.pixelType,mask:null,statistics:[]},I=0;o<f;){var m=x.decode(s,{inputOffset:o,encodedMaskData:A,maskData:p,returnMask:h===0,returnEncodedMask:h===0,returnFileInfo:!0,returnPixelInterleavedDims:a.returnPixelInterleavedDims,pixelType:a.pixelType||null,noDataValue:a.noDataValue||null});o=m.fileInfo.eofOffset,p=m.maskData,h===0&&(A=m.encodedMaskData,_.width=m.width,_.height=m.height,_.dimCount=m.dimCount||1,_.pixelType=m.pixelType||m.fileInfo.pixelType,_.mask=p),u>1&&(p&&g.push(p),m.fileInfo.mask&&m.fileInfo.mask.numBytes>0&&I++),h++,_.pixels.push(m.pixelData),_.statistics.push({minValue:m.minValue,maxValue:m.maxValue,noDataValue:m.noDataValue,dimStats:m.dimStats})}var y,E,C;if(u>1&&I>1){for(C=_.width*_.height,_.bandMasks=g,p=new Uint8Array(C),p.set(g[0]),y=1;y<g.length;y++)for(d=g[y],E=0;E<C;E++)p[E]=p[E]&d[E];_.maskData=p}return _}};i.exports?i.exports=r:this.Lerc=r})()})(IT);var lJ=IT.exports;const xJ=jx(lJ);let pA,za,q3;const Y3={env:{emscripten_notify_memory_growth:function(i){q3=new Uint8Array(za.exports.memory.buffer)}}};class uJ{init(){return pA||(typeof fetch<"u"?pA=fetch("data:application/wasm;base64,"+ET).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,Y3)).then(this._init):pA=WebAssembly.instantiate(Buffer.from(ET,"base64"),Y3).then(this._init),pA)}_init(e){za=e.instance,Y3.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!za)throw new Error("ZSTDDecoder: Await .init() before decoding.");const n=e.byteLength,r=za.exports.malloc(n);q3.set(e,r),t=t||Number(za.exports.ZSTD_findDecompressedSize(r,n));const s=za.exports.malloc(t),a=za.exports.ZSTD_decompress(s,t,r,n),o=q3.slice(s,s+a);return za.exports.free(r),za.exports.free(s),o}}const ET="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",yT=new uJ;class hJ extends Ko{constructor(e){super(),this.planarConfiguration=typeof e.PlanarConfiguration<"u"?e.PlanarConfiguration:1,this.samplesPerPixel=typeof e.SamplesPerPixel<"u"?e.SamplesPerPixel:1,this.addCompression=e.LercParameters[oD.AddCompression]}decodeBlock(e){switch(this.addCompression){case BI.None:break;case BI.Deflate:e=_T(new Uint8Array(e)).buffer;break;case BI.Zstandard:e=yT.decode(new Uint8Array(e)).buffer;break;default:throw new Error(`Unsupported LERC additional compression method identifier: ${this.addCompression}`)}return xJ.decode(e,{returnPixelInterleavedDims:this.planarConfiguration===1}).pixels[0].buffer}}const fJ=Object.freeze(Object.defineProperty({__proto__:null,default:hJ,zstd:yT},Symbol.toStringTag,{value:"Module"}));class AJ extends Ko{constructor(){if(super(),typeof createImageBitmap>"u")throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if(typeof document>"u"&&typeof OffscreenCanvas>"u")throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available")}async decode(e,t){const n=new Blob([t]),r=await createImageBitmap(n);let s;typeof document<"u"?(s=document.createElement("canvas"),s.width=r.width,s.height=r.height):s=new OffscreenCanvas(r.width,r.height);const a=s.getContext("2d");return a.drawImage(r,0,0),a.getImageData(0,0,r.width,r.height).data.buffer}}const dJ=Object.freeze(Object.defineProperty({__proto__:null,default:AJ},Symbol.toStringTag,{value:"Module"})),pJ=Worker;function gJ(){const i='function A(A,e,t,i,r,I,g){try{var n=A[I](g),a=n.value}catch(A){return void t(A)}n.done?e(a):Promise.resolve(a).then(i,r)}function e(e){return function(){var t=this,i=arguments;return new Promise((function(r,I){var g=e.apply(t,i);function n(e){A(g,r,I,n,a,"next",e)}function a(e){A(g,r,I,n,a,"throw",e)}n(void 0)}))}}function t(A){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},t(A)}var i={exports:{}};!function(A){var e=function(A){var e,i=Object.prototype,r=i.hasOwnProperty,I="function"==typeof Symbol?Symbol:{},g=I.iterator||"@@iterator",n=I.asyncIterator||"@@asyncIterator",a=I.toStringTag||"@@toStringTag";function o(A,e,t){return Object.defineProperty(A,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),A[e]}try{o({},"")}catch(A){o=function(A,e,t){return A[e]=t}}function B(A,e,t,i){var r=e&&e.prototype instanceof h?e:h,I=Object.create(r.prototype),g=new S(i||[]);return I._invoke=function(A,e,t){var i=Q;return function(r,I){if(i===s)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw I;return R()}for(t.method=r,t.arg=I;;){var g=t.delegate;if(g){var n=m(g,t);if(n){if(n===c)continue;return n}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(i===Q)throw i=f,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);i=s;var a=C(A,e,t);if("normal"===a.type){if(i=t.done?f:E,a.arg===c)continue;return{value:a.arg,done:t.done}}"throw"===a.type&&(i=f,t.method="throw",t.arg=a.arg)}}}(A,t,g),I}function C(A,e,t){try{return{type:"normal",arg:A.call(e,t)}}catch(A){return{type:"throw",arg:A}}}A.wrap=B;var Q="suspendedStart",E="suspendedYield",s="executing",f="completed",c={};function h(){}function l(){}function u(){}var w={};o(w,g,(function(){return this}));var d=Object.getPrototypeOf,D=d&&d(d(v([])));D&&D!==i&&r.call(D,g)&&(w=D);var y=u.prototype=h.prototype=Object.create(w);function k(A){["next","throw","return"].forEach((function(e){o(A,e,(function(A){return this._invoke(e,A)}))}))}function p(A,e){function i(I,g,n,a){var o=C(A[I],A,g);if("throw"!==o.type){var B=o.arg,Q=B.value;return Q&&"object"===t(Q)&&r.call(Q,"__await")?e.resolve(Q.__await).then((function(A){i("next",A,n,a)}),(function(A){i("throw",A,n,a)})):e.resolve(Q).then((function(A){B.value=A,n(B)}),(function(A){return i("throw",A,n,a)}))}a(o.arg)}var I;this._invoke=function(A,t){function r(){return new e((function(e,r){i(A,t,e,r)}))}return I=I?I.then(r,r):r()}}function m(A,t){var i=A.iterator[t.method];if(i===e){if(t.delegate=null,"throw"===t.method){if(A.iterator.return&&(t.method="return",t.arg=e,m(A,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a \'throw\' method")}return c}var r=C(i,A.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var I=r.arg;return I?I.done?(t[A.resultName]=I.value,t.next=A.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,c):I:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function G(A){var e={tryLoc:A[0]};1 in A&&(e.catchLoc=A[1]),2 in A&&(e.finallyLoc=A[2],e.afterLoc=A[3]),this.tryEntries.push(e)}function F(A){var e=A.completion||{};e.type="normal",delete e.arg,A.completion=e}function S(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(G,this),this.reset(!0)}function v(A){if(A){var t=A[g];if(t)return t.call(A);if("function"==typeof A.next)return A;if(!isNaN(A.length)){var i=-1,I=function t(){for(;++i<A.length;)if(r.call(A,i))return t.value=A[i],t.done=!1,t;return t.value=e,t.done=!0,t};return I.next=I}}return{next:R}}function R(){return{value:e,done:!0}}return l.prototype=u,o(y,"constructor",u),o(u,"constructor",l),l.displayName=o(u,a,"GeneratorFunction"),A.isGeneratorFunction=function(A){var e="function"==typeof A&&A.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},A.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,u):(A.__proto__=u,o(A,a,"GeneratorFunction")),A.prototype=Object.create(y),A},A.awrap=function(A){return{__await:A}},k(p.prototype),o(p.prototype,n,(function(){return this})),A.AsyncIterator=p,A.async=function(e,t,i,r,I){void 0===I&&(I=Promise);var g=new p(B(e,t,i,r),I);return A.isGeneratorFunction(t)?g:g.next().then((function(A){return A.done?A.value:g.next()}))},k(y),o(y,a,"Generator"),o(y,g,(function(){return this})),o(y,"toString",(function(){return"[object Generator]"})),A.keys=function(A){var e=[];for(var t in A)e.push(t);return e.reverse(),function t(){for(;e.length;){var i=e.pop();if(i in A)return t.value=i,t.done=!1,t}return t.done=!0,t}},A.values=v,S.prototype={constructor:S,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!A)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if("throw"===A.type)throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var t=this;function i(i,r){return n.type="throw",n.arg=A,t.next=i,r&&(t.method="next",t.arg=e),!!r}for(var I=this.tryEntries.length-1;I>=0;--I){var g=this.tryEntries[I],n=g.completion;if("root"===g.tryLoc)return i("end");if(g.tryLoc<=this.prev){var a=r.call(g,"catchLoc"),o=r.call(g,"finallyLoc");if(a&&o){if(this.prev<g.catchLoc)return i(g.catchLoc,!0);if(this.prev<g.finallyLoc)return i(g.finallyLoc)}else if(a){if(this.prev<g.catchLoc)return i(g.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<g.finallyLoc)return i(g.finallyLoc)}}}},abrupt:function(A,e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var I=i;break}}I&&("break"===A||"continue"===A)&&I.tryLoc<=e&&e<=I.finallyLoc&&(I=null);var g=I?I.completion:{};return g.type=A,g.arg=e,I?(this.method="next",this.next=I.finallyLoc,c):this.complete(g)},complete:function(A,e){if("throw"===A.type)throw A.arg;return"break"===A.type||"continue"===A.type?this.next=A.arg:"return"===A.type?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):"normal"===A.type&&e&&(this.next=e),c},finish:function(A){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===A)return this.complete(t.completion,t.afterLoc),F(t),c}},catch:function(A){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===A){var i=t.completion;if("throw"===i.type){var r=i.arg;F(t)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(A,t,i){return this.delegate={iterator:v(A),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),c}},A}(A.exports);try{regeneratorRuntime=e}catch(A){"object"===("undefined"==typeof globalThis?"undefined":t(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(i);var r=i.exports,I=new Map;function g(A,e){Array.isArray(A)||(A=[A]),A.forEach((function(A){return I.set(A,e)}))}function n(A){return a.apply(this,arguments)}function a(){return(a=e(r.mark((function A(e){var t,i;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(t=I.get(e.Compression)){A.next=3;break}throw new Error("Unknown compression method identifier: ".concat(e.Compression));case 3:return A.next=5,t();case 5:return i=A.sent,A.abrupt("return",new i(e));case 7:case"end":return A.stop()}}),A)})))).apply(this,arguments)}g([void 0,1],(function(){return Promise.resolve().then((function(){return y})).then((function(A){return A.default}))})),g(5,(function(){return Promise.resolve().then((function(){return F})).then((function(A){return A.default}))})),g(6,(function(){throw new Error("old style JPEG compression is not supported.")})),g(7,(function(){return Promise.resolve().then((function(){return N})).then((function(A){return A.default}))})),g([8,32946],(function(){return Promise.resolve().then((function(){return OA})).then((function(A){return A.default}))})),g(32773,(function(){return Promise.resolve().then((function(){return _A})).then((function(A){return A.default}))})),g(34887,(function(){return Promise.resolve().then((function(){return le})).then(function(){var A=e(r.mark((function A(e){return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,e.zstd.init();case 2:return A.abrupt("return",e);case 3:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}()).then((function(A){return A.default}))})),g(50001,(function(){return Promise.resolve().then((function(){return de})).then((function(A){return A.default}))}));var o=globalThis;function B(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")}function C(A,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(A,i.key,i)}}function Q(A,e,t){return e&&C(A.prototype,e),t&&C(A,t),A}function E(A,e){return E=Object.setPrototypeOf||function(A,e){return A.__proto__=e,A},E(A,e)}function s(A,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(e&&e.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),e&&E(A,e)}function f(A,e){if(e&&("object"===t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(A){if(void 0===A)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return A}(A)}function c(A){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},c(A)}function h(A,e){var t=A.length-e,i=0;do{for(var r=e;r>0;r--)A[i+e]+=A[i],i++;t-=e}while(t>0)}function l(A,e,t){for(var i=0,r=A.length,I=r/t;r>e;){for(var g=e;g>0;--g)A[i+e]+=A[i],++i;r-=e}for(var n=A.slice(),a=0;a<I;++a)for(var o=0;o<t;++o)A[t*a+o]=n[(t-o-1)*I+a]}function u(A,e,t,i,r,I){if(!e||1===e)return A;for(var g=0;g<r.length;++g){if(r[g]%8!=0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(r[g]!==r[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var n=r[0]/8,a=2===I?1:r.length,o=0;o<i&&!(o*a*t*n>=A.byteLength);++o){var B=void 0;if(2===e){switch(r[0]){case 8:B=new Uint8Array(A,o*a*t*n,a*t*n);break;case 16:B=new Uint16Array(A,o*a*t*n,a*t*n/2);break;case 32:B=new Uint32Array(A,o*a*t*n,a*t*n/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(r[0]," bits per sample."))}h(B,a)}else 3===e&&l(B=new Uint8Array(A,o*a*t*n,a*t*n),a,n)}return A}o.addEventListener("message",function(){var A=e(r.mark((function A(e){var t,i,I,g,a,B;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return t=e.data,i=t.id,I=t.fileDirectory,g=t.buffer,A.next=3,n(I);case 3:return a=A.sent,A.next=6,a.decode(I,g);case 6:B=A.sent,o.postMessage({decoded:B,id:i},[B]);case 8:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}());var w=function(){function A(){B(this,A)}var t;return Q(A,[{key:"decode",value:(t=e(r.mark((function A(e,t){var i,I,g,n,a;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this.decodeBlock(t);case 2:if(i=A.sent,1===(I=e.Predictor||1)){A.next=9;break}return g=!e.StripOffsets,n=g?e.TileWidth:e.ImageWidth,a=g?e.TileLength:e.RowsPerStrip||e.ImageLength,A.abrupt("return",u(i,I,n,a,e.BitsPerSample,e.PlanarConfiguration));case 9:return A.abrupt("return",i);case 10:case"end":return A.stop()}}),A,this)}))),function(A,e){return t.apply(this,arguments)})}]),A}();function d(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var D=function(A){s(t,w);var e=d(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){return A}}]),t}(),y=Object.freeze({__proto__:null,default:D});function k(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}function p(A,e){for(var t=e.length-1;t>=0;t--)A.push(e[t]);return A}function m(A){for(var e=new Uint16Array(4093),t=new Uint8Array(4093),i=0;i<=257;i++)e[i]=4096,t[i]=i;var r=258,I=9,g=0;function n(){r=258,I=9}function a(A){var e=function(A,e,t){var i=e%8,r=Math.floor(e/8),I=8-i,g=e+t-8*(r+1),n=8*(r+2)-(e+t),a=8*(r+2)-e;if(n=Math.max(0,n),r>=A.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var o=A[r]&Math.pow(2,8-i)-1,B=o<<=t-I;if(r+1<A.length){var C=A[r+1]>>>n;B+=C<<=Math.max(0,t-a)}if(g>8&&r+2<A.length){var Q=8*(r+3)-(e+t);B+=A[r+2]>>>Q}return B}(A,g,I);return g+=I,e}function o(A,i){return t[r]=i,e[r]=A,++r-1}function B(A){for(var i=[],r=A;4096!==r;r=e[r])i.push(t[r]);return i}var C=[];n();for(var Q,E=new Uint8Array(A),s=a(E);257!==s;){if(256===s){for(n(),s=a(E);256===s;)s=a(E);if(257===s)break;if(s>256)throw new Error("corrupted code at scanline ".concat(s));p(C,B(s)),Q=s}else if(s<r){var f=B(s);p(C,f),o(Q,f[f.length-1]),Q=s}else{var c=B(Q);if(!c)throw new Error("Bogus entry. Not in dictionary, ".concat(Q," / ").concat(r,", position: ").concat(g));p(C,c),C.push(c[c.length-1]),o(Q,c[c.length-1]),Q=s}r+1>=Math.pow(2,I)&&(12===I?Q=void 0:I++),s=a(E)}return new Uint8Array(C)}var G=function(A){s(t,w);var e=k(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){return m(A).buffer}}]),t}(),F=Object.freeze({__proto__:null,default:G});function S(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var v=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function R(A,e){for(var t=0,i=[],r=16;r>0&&!A[r-1];)--r;i.push({children:[],index:0});for(var I,g=i[0],n=0;n<r;n++){for(var a=0;a<A[n];a++){for((g=i.pop()).children[g.index]=e[t];g.index>0;)g=i.pop();for(g.index++,i.push(g);i.length<=n;)i.push(I={children:[],index:0}),g.children[g.index]=I.children,g=I;t++}n+1<r&&(i.push(I={children:[],index:0}),g.children[g.index]=I.children,g=I)}return i[0].children}function U(A,e,i,r,I,g,n,a,o){var B=i.mcusPerLine,C=i.progressive,Q=e,E=e,s=0,f=0;function c(){if(f>0)return f--,s>>f&1;if(255===(s=A[E++])){var e=A[E++];if(e)throw new Error("unexpected marker: ".concat((s<<8|e).toString(16)))}return f=7,s>>>7}function h(A){for(var e,i=A;null!==(e=c());){if("number"==typeof(i=i[e]))return i;if("object"!==t(i))throw new Error("invalid huffman sequence")}return null}function l(A){for(var e=A,t=0;e>0;){var i=c();if(null===i)return;t=t<<1|i,--e}return t}function u(A){var e=l(A);return e>=1<<A-1?e:e+(-1<<A)+1}var w=0;var d,D=0;function y(A,e,t,i,r){var I=t%B,g=(t/B|0)*A.v+i,n=I*A.h+r;e(A,A.blocks[g][n])}function k(A,e,t){var i=t/A.blocksPerLine|0,r=t%A.blocksPerLine;e(A,A.blocks[i][r])}var p,m,G,F,S,R,U=r.length;R=C?0===g?0===a?function(A,e){var t=h(A.huffmanTableDC),i=0===t?0:u(t)<<o;A.pred+=i,e[0]=A.pred}:function(A,e){e[0]|=c()<<o}:0===a?function(A,e){if(w>0)w--;else for(var t=g,i=n;t<=i;){var r=h(A.huffmanTableAC),I=15&r,a=r>>4;if(0===I){if(a<15){w=l(a)+(1<<a)-1;break}t+=16}else e[v[t+=a]]=u(I)*(1<<o),t++}}:function(A,e){for(var t=g,i=n,r=0;t<=i;){var I=v[t],a=e[I]<0?-1:1;switch(D){case 0:var B=h(A.huffmanTableAC),C=15&B;if(r=B>>4,0===C)r<15?(w=l(r)+(1<<r),D=4):(r=16,D=1);else{if(1!==C)throw new Error("invalid ACn encoding");d=u(C),D=r?2:3}continue;case 1:case 2:e[I]?e[I]+=(c()<<o)*a:0==--r&&(D=2===D?3:0);break;case 3:e[I]?e[I]+=(c()<<o)*a:(e[I]=d<<o,D=0);break;case 4:e[I]&&(e[I]+=(c()<<o)*a)}t++}4===D&&0==--w&&(D=0)}:function(A,e){var t=h(A.huffmanTableDC),i=0===t?0:u(t);A.pred+=i,e[0]=A.pred;for(var r=1;r<64;){var I=h(A.huffmanTableAC),g=15&I,n=I>>4;if(0===g){if(n<15)break;r+=16}else e[v[r+=n]]=u(g),r++}};var L,b,M=0;b=1===U?r[0].blocksPerLine*r[0].blocksPerColumn:B*i.mcusPerColumn;for(var N=I||b;M<b;){for(m=0;m<U;m++)r[m].pred=0;if(w=0,1===U)for(p=r[0],S=0;S<N;S++)k(p,R,M),M++;else for(S=0;S<N;S++){for(m=0;m<U;m++){var x=p=r[m],J=x.h,q=x.v;for(G=0;G<q;G++)for(F=0;F<J;F++)y(p,R,M,G,F)}if(++M===b)break}if(f=0,(L=A[E]<<8|A[E+1])<65280)throw new Error("marker was not found");if(!(L>=65488&&L<=65495))break;E+=2}return E-Q}function L(A,e){var t=[],i=e.blocksPerLine,r=e.blocksPerColumn,I=i<<3,g=new Int32Array(64),n=new Uint8Array(64);function a(A,t,i){var r,I,g,n,a,o,B,C,Q,E,s=e.quantizationTable,f=i;for(E=0;E<64;E++)f[E]=A[E]*s[E];for(E=0;E<8;++E){var c=8*E;0!==f[1+c]||0!==f[2+c]||0!==f[3+c]||0!==f[4+c]||0!==f[5+c]||0!==f[6+c]||0!==f[7+c]?(r=5793*f[0+c]+128>>8,I=5793*f[4+c]+128>>8,g=f[2+c],n=f[6+c],a=2896*(f[1+c]-f[7+c])+128>>8,C=2896*(f[1+c]+f[7+c])+128>>8,o=f[3+c]<<4,Q=r-I+1>>1,r=r+I+1>>1,I=Q,Q=3784*g+1567*n+128>>8,g=1567*g-3784*n+128>>8,n=Q,Q=a-(B=f[5+c]<<4)+1>>1,a=a+B+1>>1,B=Q,Q=C+o+1>>1,o=C-o+1>>1,C=Q,Q=r-n+1>>1,r=r+n+1>>1,n=Q,Q=I-g+1>>1,I=I+g+1>>1,g=Q,Q=2276*a+3406*C+2048>>12,a=3406*a-2276*C+2048>>12,C=Q,Q=799*o+4017*B+2048>>12,o=4017*o-799*B+2048>>12,B=Q,f[0+c]=r+C,f[7+c]=r-C,f[1+c]=I+B,f[6+c]=I-B,f[2+c]=g+o,f[5+c]=g-o,f[3+c]=n+a,f[4+c]=n-a):(Q=5793*f[0+c]+512>>10,f[0+c]=Q,f[1+c]=Q,f[2+c]=Q,f[3+c]=Q,f[4+c]=Q,f[5+c]=Q,f[6+c]=Q,f[7+c]=Q)}for(E=0;E<8;++E){var h=E;0!==f[8+h]||0!==f[16+h]||0!==f[24+h]||0!==f[32+h]||0!==f[40+h]||0!==f[48+h]||0!==f[56+h]?(r=5793*f[0+h]+2048>>12,I=5793*f[32+h]+2048>>12,g=f[16+h],n=f[48+h],a=2896*(f[8+h]-f[56+h])+2048>>12,C=2896*(f[8+h]+f[56+h])+2048>>12,o=f[24+h],Q=r-I+1>>1,r=r+I+1>>1,I=Q,Q=3784*g+1567*n+2048>>12,g=1567*g-3784*n+2048>>12,n=Q,Q=a-(B=f[40+h])+1>>1,a=a+B+1>>1,B=Q,Q=C+o+1>>1,o=C-o+1>>1,C=Q,Q=r-n+1>>1,r=r+n+1>>1,n=Q,Q=I-g+1>>1,I=I+g+1>>1,g=Q,Q=2276*a+3406*C+2048>>12,a=3406*a-2276*C+2048>>12,C=Q,Q=799*o+4017*B+2048>>12,o=4017*o-799*B+2048>>12,B=Q,f[0+h]=r+C,f[56+h]=r-C,f[8+h]=I+B,f[48+h]=I-B,f[16+h]=g+o,f[40+h]=g-o,f[24+h]=n+a,f[32+h]=n-a):(Q=5793*i[E+0]+8192>>14,f[0+h]=Q,f[8+h]=Q,f[16+h]=Q,f[24+h]=Q,f[32+h]=Q,f[40+h]=Q,f[48+h]=Q,f[56+h]=Q)}for(E=0;E<64;++E){var l=128+(f[E]+8>>4);t[E]=l<0?0:l>255?255:l}}for(var o=0;o<r;o++){for(var B=o<<3,C=0;C<8;C++)t.push(new Uint8Array(I));for(var Q=0;Q<i;Q++){a(e.blocks[o][Q],n,g);for(var E=0,s=Q<<3,f=0;f<8;f++)for(var c=t[B+f],h=0;h<8;h++)c[s+h]=n[E++]}}return t}var b=function(){function A(){B(this,A),this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}return Q(A,[{key:"resetFrames",value:function(){this.frames=[]}},{key:"parse",value:function(A){var e=0;function t(){var t=A[e]<<8|A[e+1];return e+=2,t}function i(A){var e,t,i=0,r=0;for(t in A.components)A.components.hasOwnProperty(t)&&(i<(e=A.components[t]).h&&(i=e.h),r<e.v&&(r=e.v));var I=Math.ceil(A.samplesPerLine/8/i),g=Math.ceil(A.scanLines/8/r);for(t in A.components)if(A.components.hasOwnProperty(t)){e=A.components[t];for(var n=Math.ceil(Math.ceil(A.samplesPerLine/8)*e.h/i),a=Math.ceil(Math.ceil(A.scanLines/8)*e.v/r),o=I*e.h,B=g*e.v,C=[],Q=0;Q<B;Q++){for(var E=[],s=0;s<o;s++)E.push(new Int32Array(64));C.push(E)}e.blocksPerLine=n,e.blocksPerColumn=a,e.blocks=C}A.maxH=i,A.maxV=r,A.mcusPerLine=I,A.mcusPerColumn=g}var r,I,g=t();if(65496!==g)throw new Error("SOI not found");for(g=t();65497!==g;){switch(g){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var n=(r=void 0,I=void 0,r=t(),I=A.subarray(e,e+r-2),e+=I.length,I);65504===g&&74===n[0]&&70===n[1]&&73===n[2]&&70===n[3]&&0===n[4]&&(this.jfif={version:{major:n[5],minor:n[6]},densityUnits:n[7],xDensity:n[8]<<8|n[9],yDensity:n[10]<<8|n[11],thumbWidth:n[12],thumbHeight:n[13],thumbData:n.subarray(14,14+3*n[12]*n[13])}),65518===g&&65===n[0]&&100===n[1]&&111===n[2]&&98===n[3]&&101===n[4]&&0===n[5]&&(this.adobe={version:n[6],flags0:n[7]<<8|n[8],flags1:n[9]<<8|n[10],transformCode:n[11]});break;case 65499:for(var a=t()+e-2;e<a;){var o=A[e++],B=new Int32Array(64);if(o>>4==0)for(var C=0;C<64;C++){B[v[C]]=A[e++]}else{if(o>>4!=1)throw new Error("DQT: invalid table spec");for(var Q=0;Q<64;Q++){B[v[Q]]=t()}}this.quantizationTables[15&o]=B}break;case 65472:case 65473:case 65474:t();for(var E={extended:65473===g,progressive:65474===g,precision:A[e++],scanLines:t(),samplesPerLine:t(),components:{},componentsOrder:[]},s=A[e++],f=void 0,c=0;c<s;c++){f=A[e];var h=A[e+1]>>4,l=15&A[e+1],u=A[e+2];E.componentsOrder.push(f),E.components[f]={h:h,v:l,quantizationIdx:u},e+=3}i(E),this.frames.push(E);break;case 65476:for(var w=t(),d=2;d<w;){for(var D=A[e++],y=new Uint8Array(16),k=0,p=0;p<16;p++,e++)y[p]=A[e],k+=y[p];for(var m=new Uint8Array(k),G=0;G<k;G++,e++)m[G]=A[e];d+=17+k,D>>4==0?this.huffmanTablesDC[15&D]=R(y,m):this.huffmanTablesAC[15&D]=R(y,m)}break;case 65501:t(),this.resetInterval=t();break;case 65498:t();for(var F=A[e++],S=[],L=this.frames[0],b=0;b<F;b++){var M=L.components[A[e++]],N=A[e++];M.huffmanTableDC=this.huffmanTablesDC[N>>4],M.huffmanTableAC=this.huffmanTablesAC[15&N],S.push(M)}var x=A[e++],J=A[e++],q=A[e++],Y=U(A,e,L,S,this.resetInterval,x,J,q>>4,15&q);e+=Y;break;case 65535:255!==A[e]&&e--;break;default:if(255===A[e-3]&&A[e-2]>=192&&A[e-2]<=254){e-=3;break}throw new Error("unknown JPEG marker ".concat(g.toString(16)))}g=t()}}},{key:"getResult",value:function(){var A=this.frames;if(0===this.frames.length)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(var e=0;e<this.frames.length;e++)for(var t=this.frames[e].components,i=0,r=Object.keys(t);i<r.length;i++){var I=r[i];t[I].quantizationTable=this.quantizationTables[t[I].quantizationIdx],delete t[I].quantizationIdx}for(var g=A[0],n=g.components,a=g.componentsOrder,o=[],B=g.samplesPerLine,C=g.scanLines,Q=0;Q<a.length;Q++){var E=n[a[Q]];o.push({lines:L(0,E),scaleX:E.h/g.maxH,scaleY:E.v/g.maxV})}for(var s=new Uint8Array(B*C*o.length),f=0,c=0;c<C;++c)for(var h=0;h<B;++h)for(var l=0;l<o.length;++l){var u=o[l];s[f]=u.lines[0|c*u.scaleY][0|h*u.scaleX],++f}return s}}]),A}(),M=function(A){s(t,w);var e=S(t);function t(A){var i;return B(this,t),(i=e.call(this)).reader=new b,A.JPEGTables&&i.reader.parse(A.JPEGTables),i}return Q(t,[{key:"decodeBlock",value:function(A){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(A)),this.reader.getResult().buffer}}]),t}(),N=Object.freeze({__proto__:null,default:M});function x(A){for(var e=A.length;--e>=0;)A[e]=0}x(new Array(576)),x(new Array(60)),x(new Array(512)),x(new Array(256)),x(new Array(29)),x(new Array(30));var J=function(A,e,t,i){for(var r=65535&A|0,I=A>>>16&65535|0,g=0;0!==t;){t-=g=t>2e3?2e3:t;do{I=I+(r=r+e[i++]|0)|0}while(--g);r%=65521,I%=65521}return r|I<<16|0},q=new Uint32Array(function(){for(var A,e=[],t=0;t<256;t++){A=t;for(var i=0;i<8;i++)A=1&A?3988292384^A>>>1:A>>>1;e[t]=A}return e}()),Y=function(A,e,t,i){var r=q,I=i+t;A^=-1;for(var g=i;g<I;g++)A=A>>>8^r[255&(A^e[g])];return-1^A},K={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},O=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)},P=function(A){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!==t(i))throw new TypeError(i+"must be non-object");for(var r in i)O(i,r)&&(A[r]=i[r])}}return A},T=function(A){for(var e=0,t=0,i=A.length;t<i;t++)e+=A[t].length;for(var r=new Uint8Array(e),I=0,g=0,n=A.length;I<n;I++){var a=A[I];r.set(a,g),g+=a.length}return r},V=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(A){V=!1}for(var _=new Uint8Array(256),X=0;X<256;X++)_[X]=X>=252?6:X>=248?5:X>=240?4:X>=224?3:X>=192?2:1;_[254]=_[254]=1;var Z=function(A){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(A);var e,t,i,r,I,g=A.length,n=0;for(r=0;r<g;r++)55296==(64512&(t=A.charCodeAt(r)))&&r+1<g&&56320==(64512&(i=A.charCodeAt(r+1)))&&(t=65536+(t-55296<<10)+(i-56320),r++),n+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(n),I=0,r=0;I<n;r++)55296==(64512&(t=A.charCodeAt(r)))&&r+1<g&&56320==(64512&(i=A.charCodeAt(r+1)))&&(t=65536+(t-55296<<10)+(i-56320),r++),t<128?e[I++]=t:t<2048?(e[I++]=192|t>>>6,e[I++]=128|63&t):t<65536?(e[I++]=224|t>>>12,e[I++]=128|t>>>6&63,e[I++]=128|63&t):(e[I++]=240|t>>>18,e[I++]=128|t>>>12&63,e[I++]=128|t>>>6&63,e[I++]=128|63&t);return e},j=function(A,e){var t,i,r=e||A.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(A.subarray(0,e));var I=new Array(2*r);for(i=0,t=0;t<r;){var g=A[t++];if(g<128)I[i++]=g;else{var n=_[g];if(n>4)I[i++]=65533,t+=n-1;else{for(g&=2===n?31:3===n?15:7;n>1&&t<r;)g=g<<6|63&A[t++],n--;n>1?I[i++]=65533:g<65536?I[i++]=g:(g-=65536,I[i++]=55296|g>>10&1023,I[i++]=56320|1023&g)}}}return function(A,e){if(e<65534&&A.subarray&&V)return String.fromCharCode.apply(null,A.length===e?A:A.subarray(0,e));for(var t="",i=0;i<e;i++)t+=String.fromCharCode(A[i]);return t}(I,i)},W=function(A,e){(e=e||A.length)>A.length&&(e=A.length);for(var t=e-1;t>=0&&128==(192&A[t]);)t--;return t<0||0===t?e:t+_[A[t]]>e?t:e};var z=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},$=function(A,e){var t,i,r,I,g,n,a,o,B,C,Q,E,s,f,c,h,l,u,w,d,D,y,k,p,m=A.state;t=A.next_in,k=A.input,i=t+(A.avail_in-5),r=A.next_out,p=A.output,I=r-(e-A.avail_out),g=r+(A.avail_out-257),n=m.dmax,a=m.wsize,o=m.whave,B=m.wnext,C=m.window,Q=m.hold,E=m.bits,s=m.lencode,f=m.distcode,c=(1<<m.lenbits)-1,h=(1<<m.distbits)-1;A:do{E<15&&(Q+=k[t++]<<E,E+=8,Q+=k[t++]<<E,E+=8),l=s[Q&c];e:for(;;){if(Q>>>=u=l>>>24,E-=u,0===(u=l>>>16&255))p[r++]=65535&l;else{if(!(16&u)){if(0==(64&u)){l=s[(65535&l)+(Q&(1<<u)-1)];continue e}if(32&u){m.mode=12;break A}A.msg="invalid literal/length code",m.mode=30;break A}w=65535&l,(u&=15)&&(E<u&&(Q+=k[t++]<<E,E+=8),w+=Q&(1<<u)-1,Q>>>=u,E-=u),E<15&&(Q+=k[t++]<<E,E+=8,Q+=k[t++]<<E,E+=8),l=f[Q&h];t:for(;;){if(Q>>>=u=l>>>24,E-=u,!(16&(u=l>>>16&255))){if(0==(64&u)){l=f[(65535&l)+(Q&(1<<u)-1)];continue t}A.msg="invalid distance code",m.mode=30;break A}if(d=65535&l,E<(u&=15)&&(Q+=k[t++]<<E,(E+=8)<u&&(Q+=k[t++]<<E,E+=8)),(d+=Q&(1<<u)-1)>n){A.msg="invalid distance too far back",m.mode=30;break A}if(Q>>>=u,E-=u,d>(u=r-I)){if((u=d-u)>o&&m.sane){A.msg="invalid distance too far back",m.mode=30;break A}if(D=0,y=C,0===B){if(D+=a-u,u<w){w-=u;do{p[r++]=C[D++]}while(--u);D=r-d,y=p}}else if(B<u){if(D+=a+B-u,(u-=B)<w){w-=u;do{p[r++]=C[D++]}while(--u);if(D=0,B<w){w-=u=B;do{p[r++]=C[D++]}while(--u);D=r-d,y=p}}}else if(D+=B-u,u<w){w-=u;do{p[r++]=C[D++]}while(--u);D=r-d,y=p}for(;w>2;)p[r++]=y[D++],p[r++]=y[D++],p[r++]=y[D++],w-=3;w&&(p[r++]=y[D++],w>1&&(p[r++]=y[D++]))}else{D=r-d;do{p[r++]=p[D++],p[r++]=p[D++],p[r++]=p[D++],w-=3}while(w>2);w&&(p[r++]=p[D++],w>1&&(p[r++]=p[D++]))}break}}break}}while(t<i&&r<g);t-=w=E>>3,Q&=(1<<(E-=w<<3))-1,A.next_in=t,A.next_out=r,A.avail_in=t<i?i-t+5:5-(t-i),A.avail_out=r<g?g-r+257:257-(r-g),m.hold=Q,m.bits=E},AA=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eA=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iA=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),rA=function(A,e,t,i,r,I,g,n){var a,o,B,C,Q,E,s,f,c,h=n.bits,l=0,u=0,w=0,d=0,D=0,y=0,k=0,p=0,m=0,G=0,F=null,S=0,v=new Uint16Array(16),R=new Uint16Array(16),U=null,L=0;for(l=0;l<=15;l++)v[l]=0;for(u=0;u<i;u++)v[e[t+u]]++;for(D=h,d=15;d>=1&&0===v[d];d--);if(D>d&&(D=d),0===d)return r[I++]=20971520,r[I++]=20971520,n.bits=1,0;for(w=1;w<d&&0===v[w];w++);for(D<w&&(D=w),p=1,l=1;l<=15;l++)if(p<<=1,(p-=v[l])<0)return-1;if(p>0&&(0===A||1!==d))return-1;for(R[1]=0,l=1;l<15;l++)R[l+1]=R[l]+v[l];for(u=0;u<i;u++)0!==e[t+u]&&(g[R[e[t+u]]++]=u);if(0===A?(F=U=g,E=19):1===A?(F=AA,S-=257,U=eA,L-=257,E=256):(F=tA,U=iA,E=-1),G=0,u=0,l=w,Q=I,y=D,k=0,B=-1,C=(m=1<<D)-1,1===A&&m>852||2===A&&m>592)return 1;for(;;){s=l-k,g[u]<E?(f=0,c=g[u]):g[u]>E?(f=U[L+g[u]],c=F[S+g[u]]):(f=96,c=0),a=1<<l-k,w=o=1<<y;do{r[Q+(G>>k)+(o-=a)]=s<<24|f<<16|c|0}while(0!==o);for(a=1<<l-1;G&a;)a>>=1;if(0!==a?(G&=a-1,G+=a):G=0,u++,0==--v[l]){if(l===d)break;l=e[t+g[u]]}if(l>D&&(G&C)!==B){for(0===k&&(k=D),Q+=w,p=1<<(y=l-k);y+k<d&&!((p-=v[y+k])<=0);)y++,p<<=1;if(m+=1<<y,1===A&&m>852||2===A&&m>592)return 1;r[B=G&C]=D<<24|y<<16|Q-I|0}}return 0!==G&&(r[Q+G]=l-k<<24|64<<16|0),n.bits=D,0},IA=H.Z_FINISH,gA=H.Z_BLOCK,nA=H.Z_TREES,aA=H.Z_OK,oA=H.Z_STREAM_END,BA=H.Z_NEED_DICT,CA=H.Z_STREAM_ERROR,QA=H.Z_DATA_ERROR,EA=H.Z_MEM_ERROR,sA=H.Z_BUF_ERROR,fA=H.Z_DEFLATED,cA=function(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)};function hA(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var lA,uA,wA=function(A){if(!A||!A.state)return CA;var e=A.state;return A.total_in=A.total_out=e.total=0,A.msg="",e.wrap&&(A.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,aA},dA=function(A){if(!A||!A.state)return CA;var e=A.state;return e.wsize=0,e.whave=0,e.wnext=0,wA(A)},DA=function(A,e){var t;if(!A||!A.state)return CA;var i=A.state;return e<0?(t=0,e=-e):(t=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?CA:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,dA(A))},yA=function(A,e){if(!A)return CA;var t=new hA;A.state=t,t.window=null;var i=DA(A,e);return i!==aA&&(A.state=null),i},kA=!0,pA=function(A){if(kA){lA=new Int32Array(512),uA=new Int32Array(32);for(var e=0;e<144;)A.lens[e++]=8;for(;e<256;)A.lens[e++]=9;for(;e<280;)A.lens[e++]=7;for(;e<288;)A.lens[e++]=8;for(rA(1,A.lens,0,288,lA,0,A.work,{bits:9}),e=0;e<32;)A.lens[e++]=5;rA(2,A.lens,0,32,uA,0,A.work,{bits:5}),kA=!1}A.lencode=lA,A.lenbits=9,A.distcode=uA,A.distbits=5},mA=function(A,e,t,i){var r,I=A.state;return null===I.window&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new Uint8Array(I.wsize)),i>=I.wsize?(I.window.set(e.subarray(t-I.wsize,t),0),I.wnext=0,I.whave=I.wsize):((r=I.wsize-I.wnext)>i&&(r=i),I.window.set(e.subarray(t-i,t-i+r),I.wnext),(i-=r)?(I.window.set(e.subarray(t-i,t),0),I.wnext=i,I.whave=I.wsize):(I.wnext+=r,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=r))),0},GA={inflateReset:dA,inflateReset2:DA,inflateResetKeep:wA,inflateInit:function(A){return yA(A,15)},inflateInit2:yA,inflate:function(A,e){var t,i,r,I,g,n,a,o,B,C,Q,E,s,f,c,h,l,u,w,d,D,y,k,p,m=0,G=new Uint8Array(4),F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!A||!A.state||!A.output||!A.input&&0!==A.avail_in)return CA;12===(t=A.state).mode&&(t.mode=13),g=A.next_out,r=A.output,a=A.avail_out,I=A.next_in,i=A.input,n=A.avail_in,o=t.hold,B=t.bits,C=n,Q=a,y=aA;A:for(;;)switch(t.mode){case 1:if(0===t.wrap){t.mode=13;break}for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(2&t.wrap&&35615===o){t.check=0,G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0),o=0,B=0,t.mode=2;break}if(t.flags=0,t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&o)<<8)+(o>>8))%31){A.msg="incorrect header check",t.mode=30;break}if((15&o)!==fA){A.msg="unknown compression method",t.mode=30;break}if(B-=4,D=8+(15&(o>>>=4)),0===t.wbits)t.wbits=D;else if(D>t.wbits){A.msg="invalid window size",t.mode=30;break}t.dmax=1<<t.wbits,A.adler=t.check=1,t.mode=512&o?10:12,o=0,B=0;break;case 2:for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(t.flags=o,(255&t.flags)!==fA){A.msg="unknown compression method",t.mode=30;break}if(57344&t.flags){A.msg="unknown header flags set",t.mode=30;break}t.head&&(t.head.text=o>>8&1),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0)),o=0,B=0,t.mode=3;case 3:for(;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.head&&(t.head.time=o),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,G[2]=o>>>16&255,G[3]=o>>>24&255,t.check=Y(t.check,G,4,0)),o=0,B=0,t.mode=4;case 4:for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.head&&(t.head.xflags=255&o,t.head.os=o>>8),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0)),o=0,B=0,t.mode=5;case 5:if(1024&t.flags){for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.length=o,t.head&&(t.head.extra_len=o),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0)),o=0,B=0}else t.head&&(t.head.extra=null);t.mode=6;case 6:if(1024&t.flags&&((E=t.length)>n&&(E=n),E&&(t.head&&(D=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(I,I+E),D)),512&t.flags&&(t.check=Y(t.check,i,E,I)),n-=E,I+=E,t.length-=E),t.length))break A;t.length=0,t.mode=7;case 7:if(2048&t.flags){if(0===n)break A;E=0;do{D=i[I+E++],t.head&&D&&t.length<65536&&(t.head.name+=String.fromCharCode(D))}while(D&&E<n);if(512&t.flags&&(t.check=Y(t.check,i,E,I)),n-=E,I+=E,D)break A}else t.head&&(t.head.name=null);t.length=0,t.mode=8;case 8:if(4096&t.flags){if(0===n)break A;E=0;do{D=i[I+E++],t.head&&D&&t.length<65536&&(t.head.comment+=String.fromCharCode(D))}while(D&&E<n);if(512&t.flags&&(t.check=Y(t.check,i,E,I)),n-=E,I+=E,D)break A}else t.head&&(t.head.comment=null);t.mode=9;case 9:if(512&t.flags){for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(o!==(65535&t.check)){A.msg="header crc mismatch",t.mode=30;break}o=0,B=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),A.adler=t.check=0,t.mode=12;break;case 10:for(;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}A.adler=t.check=cA(o),o=0,B=0,t.mode=11;case 11:if(0===t.havedict)return A.next_out=g,A.avail_out=a,A.next_in=I,A.avail_in=n,t.hold=o,t.bits=B,BA;A.adler=t.check=1,t.mode=12;case 12:if(e===gA||e===nA)break A;case 13:if(t.last){o>>>=7&B,B-=7&B,t.mode=27;break}for(;B<3;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}switch(t.last=1&o,B-=1,3&(o>>>=1)){case 0:t.mode=14;break;case 1:if(pA(t),t.mode=20,e===nA){o>>>=2,B-=2;break A}break;case 2:t.mode=17;break;case 3:A.msg="invalid block type",t.mode=30}o>>>=2,B-=2;break;case 14:for(o>>>=7&B,B-=7&B;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if((65535&o)!=(o>>>16^65535)){A.msg="invalid stored block lengths",t.mode=30;break}if(t.length=65535&o,o=0,B=0,t.mode=15,e===nA)break A;case 15:t.mode=16;case 16:if(E=t.length){if(E>n&&(E=n),E>a&&(E=a),0===E)break A;r.set(i.subarray(I,I+E),g),n-=E,I+=E,a-=E,g+=E,t.length-=E;break}t.mode=12;break;case 17:for(;B<14;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(t.nlen=257+(31&o),o>>>=5,B-=5,t.ndist=1+(31&o),o>>>=5,B-=5,t.ncode=4+(15&o),o>>>=4,B-=4,t.nlen>286||t.ndist>30){A.msg="too many length or distance symbols",t.mode=30;break}t.have=0,t.mode=18;case 18:for(;t.have<t.ncode;){for(;B<3;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.lens[F[t.have++]]=7&o,o>>>=3,B-=3}for(;t.have<19;)t.lens[F[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,k={bits:t.lenbits},y=rA(0,t.lens,0,19,t.lencode,0,t.work,k),t.lenbits=k.bits,y){A.msg="invalid code lengths set",t.mode=30;break}t.have=0,t.mode=19;case 19:for(;t.have<t.nlen+t.ndist;){for(;h=(m=t.lencode[o&(1<<t.lenbits)-1])>>>16&255,l=65535&m,!((c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(l<16)o>>>=c,B-=c,t.lens[t.have++]=l;else{if(16===l){for(p=c+2;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(o>>>=c,B-=c,0===t.have){A.msg="invalid bit length repeat",t.mode=30;break}D=t.lens[t.have-1],E=3+(3&o),o>>>=2,B-=2}else if(17===l){for(p=c+3;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}B-=c,D=0,E=3+(7&(o>>>=c)),o>>>=3,B-=3}else{for(p=c+7;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}B-=c,D=0,E=11+(127&(o>>>=c)),o>>>=7,B-=7}if(t.have+E>t.nlen+t.ndist){A.msg="invalid bit length repeat",t.mode=30;break}for(;E--;)t.lens[t.have++]=D}}if(30===t.mode)break;if(0===t.lens[256]){A.msg="invalid code -- missing end-of-block",t.mode=30;break}if(t.lenbits=9,k={bits:t.lenbits},y=rA(1,t.lens,0,t.nlen,t.lencode,0,t.work,k),t.lenbits=k.bits,y){A.msg="invalid literal/lengths set",t.mode=30;break}if(t.distbits=6,t.distcode=t.distdyn,k={bits:t.distbits},y=rA(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,k),t.distbits=k.bits,y){A.msg="invalid distances set",t.mode=30;break}if(t.mode=20,e===nA)break A;case 20:t.mode=21;case 21:if(n>=6&&a>=258){A.next_out=g,A.avail_out=a,A.next_in=I,A.avail_in=n,t.hold=o,t.bits=B,$(A,Q),g=A.next_out,r=A.output,a=A.avail_out,I=A.next_in,i=A.input,n=A.avail_in,o=t.hold,B=t.bits,12===t.mode&&(t.back=-1);break}for(t.back=0;h=(m=t.lencode[o&(1<<t.lenbits)-1])>>>16&255,l=65535&m,!((c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(h&&0==(240&h)){for(u=c,w=h,d=l;h=(m=t.lencode[d+((o&(1<<u+w)-1)>>u)])>>>16&255,l=65535&m,!(u+(c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}o>>>=u,B-=u,t.back+=u}if(o>>>=c,B-=c,t.back+=c,t.length=l,0===h){t.mode=26;break}if(32&h){t.back=-1,t.mode=12;break}if(64&h){A.msg="invalid literal/length code",t.mode=30;break}t.extra=15&h,t.mode=22;case 22:if(t.extra){for(p=t.extra;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.length+=o&(1<<t.extra)-1,o>>>=t.extra,B-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=23;case 23:for(;h=(m=t.distcode[o&(1<<t.distbits)-1])>>>16&255,l=65535&m,!((c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(0==(240&h)){for(u=c,w=h,d=l;h=(m=t.distcode[d+((o&(1<<u+w)-1)>>u)])>>>16&255,l=65535&m,!(u+(c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}o>>>=u,B-=u,t.back+=u}if(o>>>=c,B-=c,t.back+=c,64&h){A.msg="invalid distance code",t.mode=30;break}t.offset=l,t.extra=15&h,t.mode=24;case 24:if(t.extra){for(p=t.extra;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.offset+=o&(1<<t.extra)-1,o>>>=t.extra,B-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){A.msg="invalid distance too far back",t.mode=30;break}t.mode=25;case 25:if(0===a)break A;if(E=Q-a,t.offset>E){if((E=t.offset-E)>t.whave&&t.sane){A.msg="invalid distance too far back",t.mode=30;break}E>t.wnext?(E-=t.wnext,s=t.wsize-E):s=t.wnext-E,E>t.length&&(E=t.length),f=t.window}else f=r,s=g-t.offset,E=t.length;E>a&&(E=a),a-=E,t.length-=E;do{r[g++]=f[s++]}while(--E);0===t.length&&(t.mode=21);break;case 26:if(0===a)break A;r[g++]=t.length,a--,t.mode=21;break;case 27:if(t.wrap){for(;B<32;){if(0===n)break A;n--,o|=i[I++]<<B,B+=8}if(Q-=a,A.total_out+=Q,t.total+=Q,Q&&(A.adler=t.check=t.flags?Y(t.check,r,Q,g-Q):J(t.check,r,Q,g-Q)),Q=a,(t.flags?o:cA(o))!==t.check){A.msg="incorrect data check",t.mode=30;break}o=0,B=0}t.mode=28;case 28:if(t.wrap&&t.flags){for(;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(o!==(4294967295&t.total)){A.msg="incorrect length check",t.mode=30;break}o=0,B=0}t.mode=29;case 29:y=oA;break A;case 30:y=QA;break A;case 31:return EA;default:return CA}return A.next_out=g,A.avail_out=a,A.next_in=I,A.avail_in=n,t.hold=o,t.bits=B,(t.wsize||Q!==A.avail_out&&t.mode<30&&(t.mode<27||e!==IA))&&mA(A,A.output,A.next_out,Q-A.avail_out),C-=A.avail_in,Q-=A.avail_out,A.total_in+=C,A.total_out+=Q,t.total+=Q,t.wrap&&Q&&(A.adler=t.check=t.flags?Y(t.check,r,Q,A.next_out-Q):J(t.check,r,Q,A.next_out-Q)),A.data_type=t.bits+(t.last?64:0)+(12===t.mode?128:0)+(20===t.mode||15===t.mode?256:0),(0===C&&0===Q||e===IA)&&y===aA&&(y=sA),y},inflateEnd:function(A){if(!A||!A.state)return CA;var e=A.state;return e.window&&(e.window=null),A.state=null,aA},inflateGetHeader:function(A,e){if(!A||!A.state)return CA;var t=A.state;return 0==(2&t.wrap)?CA:(t.head=e,e.done=!1,aA)},inflateSetDictionary:function(A,e){var t,i=e.length;return A&&A.state?0!==(t=A.state).wrap&&11!==t.mode?CA:11===t.mode&&J(1,e,i,0)!==t.check?QA:mA(A,e,i,i)?(t.mode=31,EA):(t.havedict=1,aA):CA},inflateInfo:"pako inflate (from Nodeca project)"};var FA=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},SA=Object.prototype.toString,vA=H.Z_NO_FLUSH,RA=H.Z_FINISH,UA=H.Z_OK,LA=H.Z_STREAM_END,bA=H.Z_NEED_DICT,MA=H.Z_STREAM_ERROR,NA=H.Z_DATA_ERROR,xA=H.Z_MEM_ERROR;function JA(A){this.options=P({chunkSize:65536,windowBits:15,to:""},A||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||A&&A.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z,this.strm.avail_out=0;var t=GA.inflateInit2(this.strm,e.windowBits);if(t!==UA)throw new Error(K[t]);if(this.header=new FA,GA.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Z(e.dictionary):"[object ArrayBuffer]"===SA.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=GA.inflateSetDictionary(this.strm,e.dictionary))!==UA))throw new Error(K[t])}function qA(A,e){var t=new JA(e);if(t.push(A),t.err)throw t.msg||K[t.err];return t.result}JA.prototype.push=function(A,e){var t,i,r,I=this.strm,g=this.options.chunkSize,n=this.options.dictionary;if(this.ended)return!1;for(i=e===~~e?e:!0===e?RA:vA,"[object ArrayBuffer]"===SA.call(A)?I.input=new Uint8Array(A):I.input=A,I.next_in=0,I.avail_in=I.input.length;;){for(0===I.avail_out&&(I.output=new Uint8Array(g),I.next_out=0,I.avail_out=g),(t=GA.inflate(I,i))===bA&&n&&((t=GA.inflateSetDictionary(I,n))===UA?t=GA.inflate(I,i):t===NA&&(t=bA));I.avail_in>0&&t===LA&&I.state.wrap>0&&0!==A[I.next_in];)GA.inflateReset(I),t=GA.inflate(I,i);switch(t){case MA:case NA:case bA:case xA:return this.onEnd(t),this.ended=!0,!1}if(r=I.avail_out,I.next_out&&(0===I.avail_out||t===LA))if("string"===this.options.to){var a=W(I.output,I.next_out),o=I.next_out-a,B=j(I.output,a);I.next_out=o,I.avail_out=g-o,o&&I.output.set(I.output.subarray(a,a+o),0),this.onData(B)}else this.onData(I.output.length===I.next_out?I.output:I.output.subarray(0,I.next_out));if(t!==UA||0!==r){if(t===LA)return t=GA.inflateEnd(this.strm),this.onEnd(t),this.ended=!0,!0;if(0===I.avail_in)break}}return!0},JA.prototype.onData=function(A){this.chunks.push(A)},JA.prototype.onEnd=function(A){A===UA&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=T(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};var YA={Inflate:JA,inflate:qA,inflateRaw:function(A,e){return(e=e||{}).raw=!0,qA(A,e)},ungzip:qA,constants:H}.inflate;function KA(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var HA=function(A){s(t,w);var e=KA(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){return YA(new Uint8Array(A)).buffer}}]),t}(),OA=Object.freeze({__proto__:null,default:HA});function PA(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var TA,VA=function(A){s(t,w);var e=PA(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){for(var e=new DataView(A),t=[],i=0;i<A.byteLength;++i){var r=e.getInt8(i);if(r<0){var I=e.getUint8(i+1);r=-r;for(var g=0;g<=r;++g)t.push(I);i+=1}else{for(var n=0;n<=r;++n)t.push(e.getUint8(i+n+1));i+=r+1}}return new Uint8Array(t).buffer}}]),t}(),_A=Object.freeze({__proto__:null,default:VA}),XA={exports:{}};TA=XA,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var A,e,t,i,r,I,g,n,a,o,B,C,Q,E,s,f,c=(A={defaultNoDataValue:-34027999387901484e22,decode:function(I,g){var n=(g=g||{}).encodedMaskData||null===g.encodedMaskData,a=r(I,g.inputOffset||0,n),o=null!==g.noDataValue?g.noDataValue:A.defaultNoDataValue,B=e(a,g.pixelType||Float32Array,g.encodedMaskData,o,g.returnMask),C={width:a.width,height:a.height,pixelData:B.resultPixels,minValue:B.minValue,maxValue:a.pixels.maxValue,noDataValue:o};return B.resultMask&&(C.maskData=B.resultMask),g.returnEncodedMask&&a.mask&&(C.encodedMaskData=a.mask.bitset?a.mask.bitset:null),g.returnFileInfo&&(C.fileInfo=t(a),g.computeUsedBitDepths&&(C.fileInfo.bitDepths=i(a))),C}},e=function(A,e,t,i,r){var g,n,a,o=0,B=A.pixels.numBlocksX,C=A.pixels.numBlocksY,Q=Math.floor(A.width/B),E=Math.floor(A.height/C),s=2*A.maxZError,f=Number.MAX_VALUE;t=t||(A.mask?A.mask.bitset:null),n=new e(A.width*A.height),r&&t&&(a=new Uint8Array(A.width*A.height));for(var c,h,l=new Float32Array(Q*E),u=0;u<=C;u++){var w=u!==C?E:A.height%C;if(0!==w)for(var d=0;d<=B;d++){var D=d!==B?Q:A.width%B;if(0!==D){var y,k,p,m,G=u*A.width*E+d*Q,F=A.width-D,S=A.pixels.blocks[o];if(S.encoding<2?(0===S.encoding?y=S.rawData:(I(S.stuffedData,S.bitsPerPixel,S.numValidPixels,S.offset,s,l,A.pixels.maxValue),y=l),k=0):p=2===S.encoding?0:S.offset,t)for(h=0;h<w;h++){for(7&G&&(m=t[G>>3],m<<=7&G),c=0;c<D;c++)7&G||(m=t[G>>3]),128&m?(a&&(a[G]=1),f=f>(g=S.encoding<2?y[k++]:p)?g:f,n[G++]=g):(a&&(a[G]=0),n[G++]=i),m<<=1;G+=F}else if(S.encoding<2)for(h=0;h<w;h++){for(c=0;c<D;c++)f=f>(g=y[k++])?g:f,n[G++]=g;G+=F}else for(f=f>p?p:f,h=0;h<w;h++){for(c=0;c<D;c++)n[G++]=p;G+=F}if(1===S.encoding&&k!==S.numValidPixels)throw"Block and Mask do not match";o++}}}return{resultPixels:n,resultMask:a,minValue:f}},t=function(A){return{fileIdentifierString:A.fileIdentifierString,fileVersion:A.fileVersion,imageType:A.imageType,height:A.height,width:A.width,maxZError:A.maxZError,eofOffset:A.eofOffset,mask:A.mask?{numBlocksX:A.mask.numBlocksX,numBlocksY:A.mask.numBlocksY,numBytes:A.mask.numBytes,maxValue:A.mask.maxValue}:null,pixels:{numBlocksX:A.pixels.numBlocksX,numBlocksY:A.pixels.numBlocksY,numBytes:A.pixels.numBytes,maxValue:A.pixels.maxValue,noDataValue:A.noDataValue}}},i=function(A){for(var e=A.pixels.numBlocksX*A.pixels.numBlocksY,t={},i=0;i<e;i++){var r=A.pixels.blocks[i];0===r.encoding?t.float32=!0:1===r.encoding?t[r.bitsPerPixel]=!0:t[0]=!0}return Object.keys(t)},r=function(A,e,t){var i={},r=new Uint8Array(A,e,10);if(i.fileIdentifierString=String.fromCharCode.apply(null,r),"CntZImage"!==i.fileIdentifierString.trim())throw"Unexpected file identifier string: "+i.fileIdentifierString;e+=10;var I=new DataView(A,e,24);if(i.fileVersion=I.getInt32(0,!0),i.imageType=I.getInt32(4,!0),i.height=I.getUint32(8,!0),i.width=I.getUint32(12,!0),i.maxZError=I.getFloat64(16,!0),e+=24,!t)if(I=new DataView(A,e,16),i.mask={},i.mask.numBlocksY=I.getUint32(0,!0),i.mask.numBlocksX=I.getUint32(4,!0),i.mask.numBytes=I.getUint32(8,!0),i.mask.maxValue=I.getFloat32(12,!0),e+=16,i.mask.numBytes>0){var g=new Uint8Array(Math.ceil(i.width*i.height/8)),n=(I=new DataView(A,e,i.mask.numBytes)).getInt16(0,!0),a=2,o=0;do{if(n>0)for(;n--;)g[o++]=I.getUint8(a++);else{var B=I.getUint8(a++);for(n=-n;n--;)g[o++]=B}n=I.getInt16(a,!0),a+=2}while(a<i.mask.numBytes);if(-32768!==n||o<g.length)throw"Unexpected end of mask RLE encoding";i.mask.bitset=g,e+=i.mask.numBytes}else 0==(i.mask.numBytes|i.mask.numBlocksY|i.mask.maxValue)&&(i.mask.bitset=new Uint8Array(Math.ceil(i.width*i.height/8)));I=new DataView(A,e,16),i.pixels={},i.pixels.numBlocksY=I.getUint32(0,!0),i.pixels.numBlocksX=I.getUint32(4,!0),i.pixels.numBytes=I.getUint32(8,!0),i.pixels.maxValue=I.getFloat32(12,!0),e+=16;var C=i.pixels.numBlocksX,Q=i.pixels.numBlocksY,E=C+(i.width%C>0?1:0),s=Q+(i.height%Q>0?1:0);i.pixels.blocks=new Array(E*s);for(var f=0,c=0;c<s;c++)for(var h=0;h<E;h++){var l=0,u=A.byteLength-e;I=new DataView(A,e,Math.min(10,u));var w={};i.pixels.blocks[f++]=w;var d=I.getUint8(0);if(l++,w.encoding=63&d,w.encoding>3)throw"Invalid block encoding ("+w.encoding+")";if(2!==w.encoding){if(0!==d&&2!==d){if(d>>=6,w.offsetType=d,2===d)w.offset=I.getInt8(1),l++;else if(1===d)w.offset=I.getInt16(1,!0),l+=2;else{if(0!==d)throw"Invalid block offset type";w.offset=I.getFloat32(1,!0),l+=4}if(1===w.encoding)if(d=I.getUint8(l),l++,w.bitsPerPixel=63&d,d>>=6,w.numValidPixelsType=d,2===d)w.numValidPixels=I.getUint8(l),l++;else if(1===d)w.numValidPixels=I.getUint16(l,!0),l+=2;else{if(0!==d)throw"Invalid valid pixel count type";w.numValidPixels=I.getUint32(l,!0),l+=4}}var D;if(e+=l,3!==w.encoding)if(0===w.encoding){var y=(i.pixels.numBytes-1)/4;if(y!==Math.floor(y))throw"uncompressed block has invalid length";D=new ArrayBuffer(4*y),new Uint8Array(D).set(new Uint8Array(A,e,4*y));var k=new Float32Array(D);w.rawData=k,e+=4*y}else if(1===w.encoding){var p=Math.ceil(w.numValidPixels*w.bitsPerPixel/8),m=Math.ceil(p/4);D=new ArrayBuffer(4*m),new Uint8Array(D).set(new Uint8Array(A,e,p)),w.stuffedData=new Uint32Array(D),e+=p}}else e++}return i.eofOffset=e,i},I=function(A,e,t,i,r,I,g){var n,a,o,B=(1<<e)-1,C=0,Q=0,E=Math.ceil((g-i)/r),s=4*A.length-Math.ceil(e*t/8);for(A[A.length-1]<<=8*s,n=0;n<t;n++){if(0===Q&&(o=A[C++],Q=32),Q>=e)a=o>>>Q-e&B,Q-=e;else{var f=e-Q;a=(o&B)<<f&B,a+=(o=A[C++])>>>(Q=32-f)}I[n]=a<E?i+a*r:g}return I},A),h=(g=function(A,e,t,i,r,I,g,n){var a,o,B,C,Q,E=(1<<t)-1,s=0,f=0,c=4*A.length-Math.ceil(t*i/8);if(A[A.length-1]<<=8*c,r)for(a=0;a<i;a++)0===f&&(B=A[s++],f=32),f>=t?(o=B>>>f-t&E,f-=t):(o=(B&E)<<(C=t-f)&E,o+=(B=A[s++])>>>(f=32-C)),e[a]=r[o];else for(Q=Math.ceil((n-I)/g),a=0;a<i;a++)0===f&&(B=A[s++],f=32),f>=t?(o=B>>>f-t&E,f-=t):(o=(B&E)<<(C=t-f)&E,o+=(B=A[s++])>>>(f=32-C)),e[a]=o<Q?I+o*g:n},n=function(A,e,t,i,r,I){var g,n=(1<<e)-1,a=0,o=0,B=0,C=0,Q=0,E=[],s=4*A.length-Math.ceil(e*t/8);A[A.length-1]<<=8*s;var f=Math.ceil((I-i)/r);for(o=0;o<t;o++)0===C&&(g=A[a++],C=32),C>=e?(Q=g>>>C-e&n,C-=e):(Q=(g&n)<<(B=e-C)&n,Q+=(g=A[a++])>>>(C=32-B)),E[o]=Q<f?i+Q*r:I;return E.unshift(i),E},a=function(A,e,t,i,r,I,g,n){var a,o,B,C,Q=(1<<t)-1,E=0,s=0,f=0;if(r)for(a=0;a<i;a++)0===s&&(B=A[E++],s=32,f=0),s>=t?(o=B>>>f&Q,s-=t,f+=t):(o=B>>>f&Q,s=32-(C=t-s),o|=((B=A[E++])&(1<<C)-1)<<t-C,f=C),e[a]=r[o];else{var c=Math.ceil((n-I)/g);for(a=0;a<i;a++)0===s&&(B=A[E++],s=32,f=0),s>=t?(o=B>>>f&Q,s-=t,f+=t):(o=B>>>f&Q,s=32-(C=t-s),o|=((B=A[E++])&(1<<C)-1)<<t-C,f=C),e[a]=o<c?I+o*g:n}return e},o=function(A,e,t,i,r,I){var g,n=(1<<e)-1,a=0,o=0,B=0,C=0,Q=0,E=0,s=[],f=Math.ceil((I-i)/r);for(o=0;o<t;o++)0===C&&(g=A[a++],C=32,E=0),C>=e?(Q=g>>>E&n,C-=e,E+=e):(Q=g>>>E&n,C=32-(B=e-C),Q|=((g=A[a++])&(1<<B)-1)<<e-B,E=B),s[o]=Q<f?i+Q*r:I;return s.unshift(i),s},B=function(A,e,t,i){var r,I,g,n,a=(1<<t)-1,o=0,B=0,C=4*A.length-Math.ceil(t*i/8);for(A[A.length-1]<<=8*C,r=0;r<i;r++)0===B&&(g=A[o++],B=32),B>=t?(I=g>>>B-t&a,B-=t):(I=(g&a)<<(n=t-B)&a,I+=(g=A[o++])>>>(B=32-n)),e[r]=I;return e},C=function(A,e,t,i){var r,I,g,n,a=(1<<t)-1,o=0,B=0,C=0;for(r=0;r<i;r++)0===B&&(g=A[o++],B=32,C=0),B>=t?(I=g>>>C&a,B-=t,C+=t):(I=g>>>C&a,B=32-(n=t-B),I|=((g=A[o++])&(1<<n)-1)<<t-n,C=n),e[r]=I;return e},Q={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(A){for(var e=65535,t=65535,i=A.length,r=Math.floor(i/2),I=0;r;){var g=r>=359?359:r;r-=g;do{e+=A[I++]<<8,t+=e+=A[I++]}while(--g);e=(65535&e)+(e>>>16),t=(65535&t)+(t>>>16)}return 1&i&&(t+=e+=A[I]<<8),((t=(65535&t)+(t>>>16))<<16|(e=(65535&e)+(e>>>16)))>>>0},readHeaderInfo:function(A,e){var t=e.ptr,i=new Uint8Array(A,t,6),r={};if(r.fileIdentifierString=String.fromCharCode.apply(null,i),0!==r.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+r.fileIdentifierString;t+=6;var I,g=new DataView(A,t,8),n=g.getInt32(0,!0);if(r.fileVersion=n,t+=4,n>=3&&(r.checksum=g.getUint32(4,!0),t+=4),g=new DataView(A,t,12),r.height=g.getUint32(0,!0),r.width=g.getUint32(4,!0),t+=8,n>=4?(r.numDims=g.getUint32(8,!0),t+=4):r.numDims=1,g=new DataView(A,t,40),r.numValidPixel=g.getUint32(0,!0),r.microBlockSize=g.getInt32(4,!0),r.blobSize=g.getInt32(8,!0),r.imageType=g.getInt32(12,!0),r.maxZError=g.getFloat64(16,!0),r.zMin=g.getFloat64(24,!0),r.zMax=g.getFloat64(32,!0),t+=40,e.headerInfo=r,e.ptr=t,n>=3&&(I=n>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(A,t-I,r.blobSize-14))!==r.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(A,e){var t=e.headerInfo,i=this.getDataTypeArray(t.imageType),r=t.numDims*this.getDataTypeSize(t.imageType),I=this.readSubArray(A,e.ptr,i,r),g=this.readSubArray(A,e.ptr+r,i,r);e.ptr+=2*r;var n,a=!0;for(n=0;n<t.numDims;n++)if(I[n]!==g[n]){a=!1;break}return t.minValues=I,t.maxValues=g,a},readSubArray:function(A,e,t,i){var r;if(t===Uint8Array)r=new Uint8Array(A,e,i);else{var I=new ArrayBuffer(i);new Uint8Array(I).set(new Uint8Array(A,e,i)),r=new t(I)}return r},readMask:function(A,e){var t,i,r=e.ptr,I=e.headerInfo,g=I.width*I.height,n=I.numValidPixel,a=new DataView(A,r,4),o={};if(o.numBytes=a.getUint32(0,!0),r+=4,(0===n||g===n)&&0!==o.numBytes)throw"invalid mask";if(0===n)t=new Uint8Array(Math.ceil(g/8)),o.bitset=t,i=new Uint8Array(g),e.pixels.resultMask=i,r+=o.numBytes;else if(o.numBytes>0){t=new Uint8Array(Math.ceil(g/8));var B=(a=new DataView(A,r,o.numBytes)).getInt16(0,!0),C=2,Q=0,E=0;do{if(B>0)for(;B--;)t[Q++]=a.getUint8(C++);else for(E=a.getUint8(C++),B=-B;B--;)t[Q++]=E;B=a.getInt16(C,!0),C+=2}while(C<o.numBytes);if(-32768!==B||Q<t.length)throw"Unexpected end of mask RLE encoding";i=new Uint8Array(g);var s=0,f=0;for(f=0;f<g;f++)7&f?(s=t[f>>3],s<<=7&f):s=t[f>>3],128&s&&(i[f]=1);e.pixels.resultMask=i,o.bitset=t,r+=o.numBytes}return e.ptr=r,e.mask=o,!0},readDataOneSweep:function(A,e,t,i){var r,I=e.ptr,g=e.headerInfo,n=g.numDims,a=g.width*g.height,o=g.imageType,B=g.numValidPixel*Q.getDataTypeSize(o)*n,C=e.pixels.resultMask;if(t===Uint8Array)r=new Uint8Array(A,I,B);else{var E=new ArrayBuffer(B);new Uint8Array(E).set(new Uint8Array(A,I,B)),r=new t(E)}if(r.length===a*n)e.pixels.resultPixels=i?Q.swapDimensionOrder(r,a,n,t,!0):r;else{e.pixels.resultPixels=new t(a*n);var s=0,f=0,c=0,h=0;if(n>1){if(i){for(f=0;f<a;f++)if(C[f])for(h=f,c=0;c<n;c++,h+=a)e.pixels.resultPixels[h]=r[s++]}else for(f=0;f<a;f++)if(C[f])for(h=f*n,c=0;c<n;c++)e.pixels.resultPixels[h+c]=r[s++]}else for(f=0;f<a;f++)C[f]&&(e.pixels.resultPixels[f]=r[s++])}return I+=B,e.ptr=I,!0},readHuffmanTree:function(A,e){var t=this.HUFFMAN_LUT_BITS_MAX,i=new DataView(A,e.ptr,16);if(e.ptr+=16,i.getInt32(0,!0)<2)throw"unsupported Huffman version";var r=i.getInt32(4,!0),I=i.getInt32(8,!0),g=i.getInt32(12,!0);if(I>=g)return!1;var n=new Uint32Array(g-I);Q.decodeBits(A,e,n);var a,o,B,C,s=[];for(a=I;a<g;a++)s[o=a-(a<r?0:r)]={first:n[a-I],second:null};var f=A.byteLength-e.ptr,c=Math.ceil(f/4),h=new ArrayBuffer(4*c);new Uint8Array(h).set(new Uint8Array(A,e.ptr,f));var l,u=new Uint32Array(h),w=0,d=0;for(l=u[0],a=I;a<g;a++)(C=s[o=a-(a<r?0:r)].first)>0&&(s[o].second=l<<w>>>32-C,32-w>=C?32===(w+=C)&&(w=0,l=u[++d]):(w+=C-32,l=u[++d],s[o].second|=l>>>32-w));var D=0,y=0,k=new E;for(a=0;a<s.length;a++)void 0!==s[a]&&(D=Math.max(D,s[a].first));y=D>=t?t:D;var p,m,G,F,S,v=[];for(a=I;a<g;a++)if((C=s[o=a-(a<r?0:r)].first)>0)if(p=[C,o],C<=y)for(m=s[o].second<<y-C,G=1<<y-C,B=0;B<G;B++)v[m|B]=p;else for(m=s[o].second,S=k,F=C-1;F>=0;F--)m>>>F&1?(S.right||(S.right=new E),S=S.right):(S.left||(S.left=new E),S=S.left),0!==F||S.val||(S.val=p[1]);return{decodeLut:v,numBitsLUTQick:y,numBitsLUT:D,tree:k,stuffedData:u,srcPtr:d,bitPos:w}},readHuffman:function(A,e,t,i){var r,I,g,n,a,o,B,C,E,s=e.headerInfo.numDims,f=e.headerInfo.height,c=e.headerInfo.width,h=c*f,l=this.readHuffmanTree(A,e),u=l.decodeLut,w=l.tree,d=l.stuffedData,D=l.srcPtr,y=l.bitPos,k=l.numBitsLUTQick,p=l.numBitsLUT,m=0===e.headerInfo.imageType?128:0,G=e.pixels.resultMask,F=0;y>0&&(D++,y=0);var S,v=d[D],R=1===e.encodeMode,U=new t(h*s),L=U;if(s<2||R){for(S=0;S<s;S++)if(s>1&&(L=new t(U.buffer,h*S,h),F=0),e.headerInfo.numValidPixel===c*f)for(C=0,o=0;o<f;o++)for(B=0;B<c;B++,C++){if(I=0,a=n=v<<y>>>32-k,32-y<k&&(a=n|=d[D+1]>>>64-y-k),u[a])I=u[a][1],y+=u[a][0];else for(a=n=v<<y>>>32-p,32-y<p&&(a=n|=d[D+1]>>>64-y-p),r=w,E=0;E<p;E++)if(!(r=n>>>p-E-1&1?r.right:r.left).left&&!r.right){I=r.val,y=y+E+1;break}y>=32&&(y-=32,v=d[++D]),g=I-m,R?(g+=B>0?F:o>0?L[C-c]:F,g&=255,L[C]=g,F=g):L[C]=g}else for(C=0,o=0;o<f;o++)for(B=0;B<c;B++,C++)if(G[C]){if(I=0,a=n=v<<y>>>32-k,32-y<k&&(a=n|=d[D+1]>>>64-y-k),u[a])I=u[a][1],y+=u[a][0];else for(a=n=v<<y>>>32-p,32-y<p&&(a=n|=d[D+1]>>>64-y-p),r=w,E=0;E<p;E++)if(!(r=n>>>p-E-1&1?r.right:r.left).left&&!r.right){I=r.val,y=y+E+1;break}y>=32&&(y-=32,v=d[++D]),g=I-m,R?(B>0&&G[C-1]?g+=F:o>0&&G[C-c]?g+=L[C-c]:g+=F,g&=255,L[C]=g,F=g):L[C]=g}}else for(C=0,o=0;o<f;o++)for(B=0;B<c;B++)if(C=o*c+B,!G||G[C])for(S=0;S<s;S++,C+=h){if(I=0,a=n=v<<y>>>32-k,32-y<k&&(a=n|=d[D+1]>>>64-y-k),u[a])I=u[a][1],y+=u[a][0];else for(a=n=v<<y>>>32-p,32-y<p&&(a=n|=d[D+1]>>>64-y-p),r=w,E=0;E<p;E++)if(!(r=n>>>p-E-1&1?r.right:r.left).left&&!r.right){I=r.val,y=y+E+1;break}y>=32&&(y-=32,v=d[++D]),g=I-m,L[C]=g}e.ptr=e.ptr+4*(D+1)+(y>0?4:0),e.pixels.resultPixels=U,s>1&&!i&&(e.pixels.resultPixels=Q.swapDimensionOrder(U,h,s,t))},decodeBits:function(A,e,t,i,r){var I=e.headerInfo,Q=I.fileVersion,E=0,s=A.byteLength-e.ptr>=5?5:A.byteLength-e.ptr,f=new DataView(A,e.ptr,s),c=f.getUint8(0);E++;var h=c>>6,l=0===h?4:3-h,u=(32&c)>0,w=31&c,d=0;if(1===l)d=f.getUint8(E),E++;else if(2===l)d=f.getUint16(E,!0),E+=2;else{if(4!==l)throw"Invalid valid pixel count type";d=f.getUint32(E,!0),E+=4}var D,y,k,p,m,G,F,S,v,R=2*I.maxZError,U=I.numDims>1?I.maxValues[r]:I.zMax;if(u){for(e.counter.lut++,S=f.getUint8(E),E++,p=Math.ceil((S-1)*w/8),m=Math.ceil(p/4),y=new ArrayBuffer(4*m),k=new Uint8Array(y),e.ptr+=E,k.set(new Uint8Array(A,e.ptr,p)),F=new Uint32Array(y),e.ptr+=p,v=0;S-1>>>v;)v++;p=Math.ceil(d*v/8),m=Math.ceil(p/4),y=new ArrayBuffer(4*m),(k=new Uint8Array(y)).set(new Uint8Array(A,e.ptr,p)),D=new Uint32Array(y),e.ptr+=p,G=Q>=3?o(F,w,S-1,i,R,U):n(F,w,S-1,i,R,U),Q>=3?a(D,t,v,d,G):g(D,t,v,d,G)}else e.counter.bitstuffer++,v=w,e.ptr+=E,v>0&&(p=Math.ceil(d*v/8),m=Math.ceil(p/4),y=new ArrayBuffer(4*m),(k=new Uint8Array(y)).set(new Uint8Array(A,e.ptr,p)),D=new Uint32Array(y),e.ptr+=p,Q>=3?null==i?C(D,t,v,d):a(D,t,v,d,!1,i,R,U):null==i?B(D,t,v,d):g(D,t,v,d,!1,i,R,U))},readTiles:function(A,e,t,i){var r=e.headerInfo,I=r.width,g=r.height,n=I*g,a=r.microBlockSize,o=r.imageType,B=Q.getDataTypeSize(o),C=Math.ceil(I/a),E=Math.ceil(g/a);e.pixels.numBlocksY=E,e.pixels.numBlocksX=C,e.pixels.ptr=0;var s,f,c,h,l,u,w,d,D,y,k=0,p=0,m=0,G=0,F=0,S=0,v=0,R=0,U=0,L=0,b=0,M=0,N=0,x=0,J=0,q=new t(a*a),Y=g%a||a,K=I%a||a,H=r.numDims,O=e.pixels.resultMask,P=e.pixels.resultPixels,T=r.fileVersion>=5?14:15,V=r.zMax;for(m=0;m<E;m++)for(F=m!==E-1?a:Y,G=0;G<C;G++)for(L=m*I*a+G*a,b=I-(S=G!==C-1?a:K),d=0;d<H;d++){if(H>1?(y=P,L=m*I*a+G*a,P=new t(e.pixels.resultPixels.buffer,n*d*B,n),V=r.maxValues[d]):y=null,v=A.byteLength-e.ptr,f={},J=0,R=(s=new DataView(A,e.ptr,Math.min(10,v))).getUint8(0),J++,D=r.fileVersion>=5?4&R:0,U=R>>6&255,(R>>2&T)!=(G*a>>3&T))throw"integrity issue";if(D&&0===d)throw"integrity issue";if((l=3&R)>3)throw e.ptr+=J,"Invalid block encoding ("+l+")";if(2!==l)if(0===l){if(D)throw"integrity issue";if(e.counter.uncompressed++,e.ptr+=J,M=(M=F*S*B)<(N=A.byteLength-e.ptr)?M:N,c=new ArrayBuffer(M%B==0?M:M+B-M%B),new Uint8Array(c).set(new Uint8Array(A,e.ptr,M)),h=new t(c),x=0,O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=h[x++]),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L++]=h[x++];L+=b}e.ptr+=x*B}else if(u=Q.getDataTypeUsed(D&&o<6?4:o,U),w=Q.getOnePixel(f,J,u,s),J+=Q.getDataTypeSize(u),3===l)if(e.ptr+=J,e.counter.constantoffset++,O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=D?Math.min(V,y[L]+w):w),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L]=D?Math.min(V,y[L]+w):w,L++;L+=b}else if(e.ptr+=J,Q.decodeBits(A,e,q,w,d),J=0,D)if(O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=q[J++]+y[L]),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L]=q[J++]+y[L],L++;L+=b}else if(O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=q[J++]),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L++]=q[J++];L+=b}else{if(D)if(O)for(k=0;k<F;k++)for(p=0;p<S;p++)O[L]&&(P[L]=y[L]),L++;else for(k=0;k<F;k++)for(p=0;p<S;p++)P[L]=y[L],L++;e.counter.constant++,e.ptr+=J}}H>1&&!i&&(e.pixels.resultPixels=Q.swapDimensionOrder(e.pixels.resultPixels,n,H,t))},formatFileInfo:function(A){return{fileIdentifierString:A.headerInfo.fileIdentifierString,fileVersion:A.headerInfo.fileVersion,imageType:A.headerInfo.imageType,height:A.headerInfo.height,width:A.headerInfo.width,numValidPixel:A.headerInfo.numValidPixel,microBlockSize:A.headerInfo.microBlockSize,blobSize:A.headerInfo.blobSize,maxZError:A.headerInfo.maxZError,pixelType:Q.getPixelType(A.headerInfo.imageType),eofOffset:A.eofOffset,mask:A.mask?{numBytes:A.mask.numBytes}:null,pixels:{numBlocksX:A.pixels.numBlocksX,numBlocksY:A.pixels.numBlocksY,maxValue:A.headerInfo.zMax,minValue:A.headerInfo.zMin,noDataValue:A.noDataValue}}},constructConstantSurface:function(A,e){var t=A.headerInfo.zMax,i=A.headerInfo.zMin,r=A.headerInfo.maxValues,I=A.headerInfo.numDims,g=A.headerInfo.height*A.headerInfo.width,n=0,a=0,o=0,B=A.pixels.resultMask,C=A.pixels.resultPixels;if(B)if(I>1){if(e)for(n=0;n<I;n++)for(o=n*g,t=r[n],a=0;a<g;a++)B[a]&&(C[o+a]=t);else for(a=0;a<g;a++)if(B[a])for(o=a*I,n=0;n<I;n++)C[o+I]=r[n]}else for(a=0;a<g;a++)B[a]&&(C[a]=t);else if(I>1&&i!==t)if(e)for(n=0;n<I;n++)for(o=n*g,t=r[n],a=0;a<g;a++)C[o+a]=t;else for(a=0;a<g;a++)for(o=a*I,n=0;n<I;n++)C[o+n]=r[n];else for(a=0;a<g*I;a++)C[a]=t},getDataTypeArray:function(A){var e;switch(A){case 0:e=Int8Array;break;case 1:e=Uint8Array;break;case 2:e=Int16Array;break;case 3:e=Uint16Array;break;case 4:e=Int32Array;break;case 5:e=Uint32Array;break;case 6:default:e=Float32Array;break;case 7:e=Float64Array}return e},getPixelType:function(A){var e;switch(A){case 0:e="S8";break;case 1:e="U8";break;case 2:e="S16";break;case 3:e="U16";break;case 4:e="S32";break;case 5:e="U32";break;case 6:default:e="F32";break;case 7:e="F64"}return e},isValidPixelValue:function(A,e){if(null==e)return!1;var t;switch(A){case 0:t=e>=-128&&e<=127;break;case 1:t=e>=0&&e<=255;break;case 2:t=e>=-32768&&e<=32767;break;case 3:t=e>=0&&e<=65536;break;case 4:t=e>=-2147483648&&e<=2147483647;break;case 5:t=e>=0&&e<=4294967296;break;case 6:t=e>=-34027999387901484e22&&e<=34027999387901484e22;break;case 7:t=e>=-17976931348623157e292&&e<=17976931348623157e292;break;default:t=!1}return t},getDataTypeSize:function(A){var e=0;switch(A){case 0:case 1:e=1;break;case 2:case 3:e=2;break;case 4:case 5:case 6:e=4;break;case 7:e=8;break;default:e=A}return e},getDataTypeUsed:function(A,e){var t=A;switch(A){case 2:case 4:t=A-e;break;case 3:case 5:t=A-2*e;break;case 6:t=0===e?A:1===e?2:1;break;case 7:t=0===e?A:A-2*e+1;break;default:t=A}return t},getOnePixel:function(A,e,t,i){var r=0;switch(t){case 0:r=i.getInt8(e);break;case 1:r=i.getUint8(e);break;case 2:r=i.getInt16(e,!0);break;case 3:r=i.getUint16(e,!0);break;case 4:r=i.getInt32(e,!0);break;case 5:r=i.getUInt32(e,!0);break;case 6:r=i.getFloat32(e,!0);break;case 7:r=i.getFloat64(e,!0);break;default:throw"the decoder does not understand this pixel type"}return r},swapDimensionOrder:function(A,e,t,i,r){var I=0,g=0,n=0,a=0,o=A;if(t>1)if(o=new i(e*t),r)for(I=0;I<e;I++)for(a=I,n=0;n<t;n++,a+=e)o[a]=A[g++];else for(I=0;I<e;I++)for(a=I,n=0;n<t;n++,a+=e)o[g++]=A[a];return o}},E=function(A,e,t){this.val=A,this.left=e,this.right=t},{decode:function(A,e){var t=(e=e||{}).noDataValue,i=0,r={};r.ptr=e.inputOffset||0,r.pixels={},Q.readHeaderInfo(A,r);var I=r.headerInfo,g=I.fileVersion,n=Q.getDataTypeArray(I.imageType);if(g>5)throw"unsupported lerc version 2."+g;Q.readMask(A,r),I.numValidPixel===I.width*I.height||r.pixels.resultMask||(r.pixels.resultMask=e.maskData);var a=I.width*I.height;r.pixels.resultPixels=new n(a*I.numDims),r.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var o,B=!e.returnPixelInterleavedDims;if(0!==I.numValidPixel)if(I.zMax===I.zMin)Q.constructConstantSurface(r,B);else if(g>=4&&Q.checkMinMaxRanges(A,r))Q.constructConstantSurface(r,B);else{var C=new DataView(A,r.ptr,2),E=C.getUint8(0);if(r.ptr++,E)Q.readDataOneSweep(A,r,n,B);else if(g>1&&I.imageType<=1&&Math.abs(I.maxZError-.5)<1e-5){var s=C.getUint8(1);if(r.ptr++,r.encodeMode=s,s>2||g<4&&s>1)throw"Invalid Huffman flag "+s;s?Q.readHuffman(A,r,n,B):Q.readTiles(A,r,n,B)}else Q.readTiles(A,r,n,B)}r.eofOffset=r.ptr,e.inputOffset?(o=r.headerInfo.blobSize+e.inputOffset-r.ptr,Math.abs(o)>=1&&(r.eofOffset=e.inputOffset+r.headerInfo.blobSize)):(o=r.headerInfo.blobSize-r.ptr,Math.abs(o)>=1&&(r.eofOffset=r.headerInfo.blobSize));var f={width:I.width,height:I.height,pixelData:r.pixels.resultPixels,minValue:I.zMin,maxValue:I.zMax,validPixelCount:I.numValidPixel,dimCount:I.numDims,dimStats:{minValues:I.minValues,maxValues:I.maxValues},maskData:r.pixels.resultMask};if(r.pixels.resultMask&&Q.isValidPixelValue(I.imageType,t)){var c=r.pixels.resultMask;for(i=0;i<a;i++)c[i]||(f.pixelData[i]=t);f.noDataValue=t}return r.noDataValue=t,e.returnFileInfo&&(f.fileInfo=Q.formatFileInfo(r)),f},getBandCount:function(A){for(var e=0,t=0,i={ptr:0,pixels:{}};t<A.byteLength-58;)Q.readHeaderInfo(A,i),t+=i.headerInfo.blobSize,e++,i.ptr=t;return e}}),l=(s=new ArrayBuffer(4),f=new Uint8Array(s),new Uint32Array(s)[0]=1,1===f[0]),u={decode:function(A,e){if(!l)throw"Big endian system is not supported.";var t,i,r=(e=e||{}).inputOffset||0,I=new Uint8Array(A,r,10),g=String.fromCharCode.apply(null,I);if("CntZImage"===g.trim())t=c,i=1;else{if("Lerc2"!==g.substring(0,5))throw"Unexpected file identifier string: "+g;t=h,i=2}for(var n,a,o,B,C,Q,E=0,s=A.byteLength-10,f=[],u={width:0,height:0,pixels:[],pixelType:e.pixelType,mask:null,statistics:[]},w=0;r<s;){var d=t.decode(A,{inputOffset:r,encodedMaskData:n,maskData:o,returnMask:0===E,returnEncodedMask:0===E,returnFileInfo:!0,returnPixelInterleavedDims:e.returnPixelInterleavedDims,pixelType:e.pixelType||null,noDataValue:e.noDataValue||null});r=d.fileInfo.eofOffset,o=d.maskData,0===E&&(n=d.encodedMaskData,u.width=d.width,u.height=d.height,u.dimCount=d.dimCount||1,u.pixelType=d.pixelType||d.fileInfo.pixelType,u.mask=o),i>1&&(o&&f.push(o),d.fileInfo.mask&&d.fileInfo.mask.numBytes>0&&w++),E++,u.pixels.push(d.pixelData),u.statistics.push({minValue:d.minValue,maxValue:d.maxValue,noDataValue:d.noDataValue,dimStats:d.dimStats})}if(i>1&&w>1){for(Q=u.width*u.height,u.bandMasks=f,(o=new Uint8Array(Q)).set(f[0]),B=1;B<f.length;B++)for(a=f[B],C=0;C<Q;C++)o[C]=o[C]&a[C];u.maskData=o}return u}};TA.exports?TA.exports=u:this.Lerc=u}();var ZA,jA,WA,zA=XA.exports,$A={env:{emscripten_notify_memory_growth:function(A){WA=new Uint8Array(jA.exports.memory.buffer)}}},Ae=function(){function A(){B(this,A)}return Q(A,[{key:"init",value:function(){return ZA||(ZA="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+ee).then((function(A){return A.arrayBuffer()})).then((function(A){return WebAssembly.instantiate(A,$A)})).then(this._init):WebAssembly.instantiate(Buffer.from(ee,"base64"),$A).then(this._init))}},{key:"_init",value:function(A){jA=A.instance,$A.env.emscripten_notify_memory_growth(0)}},{key:"decode",value:function(A){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!jA)throw new Error("ZSTDDecoder: Await .init() before decoding.");var t=A.byteLength,i=jA.exports.malloc(t);WA.set(A,i),e=e||Number(jA.exports.ZSTD_findDecompressedSize(i,t));var r=jA.exports.malloc(e),I=jA.exports.ZSTD_decompress(r,e,i,t),g=WA.slice(r,r+I);return jA.exports.free(i),jA.exports.free(r),g}}]),A}(),ee="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",te={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},ie={};for(var re in te)te.hasOwnProperty(re)&&(ie[te[re]]=parseInt(re,10));ie.BitsPerSample,ie.ExtraSamples,ie.SampleFormat,ie.StripByteCounts,ie.StripOffsets,ie.StripRowCounts,ie.TileByteCounts,ie.TileOffsets,ie.SubIFDs;var Ie={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},ge={};for(var ne in Ie)Ie.hasOwnProperty(ne)&&(ge[Ie[ne]]=parseInt(ne,10));var ae=1,oe=0,Be=1,Ce=2,Qe={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},Ee={};for(var se in Qe)Qe.hasOwnProperty(se)&&(Ee[Qe[se]]=parseInt(se,10));function fe(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var ce=new Ae,he=function(A){s(t,w);var e=fe(t);function t(A){var i;return B(this,t),(i=e.call(this)).planarConfiguration=void 0!==A.PlanarConfiguration?A.PlanarConfiguration:1,i.samplesPerPixel=void 0!==A.SamplesPerPixel?A.SamplesPerPixel:1,i.addCompression=A.LercParameters[ae],i}return Q(t,[{key:"decodeBlock",value:function(A){switch(this.addCompression){case oe:break;case Be:A=YA(new Uint8Array(A)).buffer;break;case Ce:A=ce.decode(new Uint8Array(A)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return zA.decode(A,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}]),t}(),le=Object.freeze({__proto__:null,zstd:ce,default:he});function ue(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var we=function(A){s(I,w);var t,i=ue(I);function I(){var A;if(B(this,I),A=i.call(this),"undefined"==typeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"==typeof document&&"undefined"==typeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return A}return Q(I,[{key:"decode",value:(t=e(r.mark((function A(e,t){var i,I,g,n;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return i=new Blob([t]),A.next=3,createImageBitmap(i);case 3:return I=A.sent,"undefined"!=typeof document?((g=document.createElement("canvas")).width=I.width,g.height=I.height):g=new OffscreenCanvas(I.width,I.height),(n=g.getContext("2d")).drawImage(I,0,0),A.abrupt("return",n.getImageData(0,0,I.width,I.height).data.buffer);case 8:case"end":return A.stop()}}),A)}))),function(A,e){return t.apply(this,arguments)})}]),I}(),de=Object.freeze({__proto__:null,default:we});';return new pJ(typeof Buffer<"u"?"data:application/javascript;base64,"+Buffer.from(i,"binary").toString("base64"):URL.createObjectURL(new Blob([i],{type:"application/javascript"})))}const mJ=Object.freeze(Object.defineProperty({__proto__:null,create:gJ},Symbol.toStringTag,{value:"Module"}));Bi.CMEStyle=pN,Bi.blendLayers=IN,Bi.contourLayer=vW,Bi.windLayer=EW,Object.defineProperty(Bi,Symbol.toStringTag,{value:"Module"})});
=======
        `)}const r=ab[`filter_${e}`],s=g_(n,r);let o=null;if(s.result==="error")throw new Error(s.value.map(A=>`${A.key}: ${A.message}`).join(", "));o=(A,l,u)=>s.value.evaluate(A,l,{},u);let a=null,c=null;if(n!==t){const A=g_(t,r);if(A.result==="error")throw new Error(A.value.map(l=>`${l.key}: ${l.message}`).join(", "));a=(l,u,h,f,g)=>A.value.evaluate(l,u,{},h,void 0,void 0,f,g),c=!Jd(A.value.expression)}o=o;const x=lb(n);return{filter:o,dynamicFilter:a||void 0,needGeometry:x,needFeature:!!c}}function uS(i){if(!Qa(i))return i;let e=p_(i);return Ab(e),e=cb(e),e}function cb(i){if(!Array.isArray(i))return i;const e=dS(i);return e===!0?e:e.map(t=>cb(t))}function Ab(i){let e=!1;const t=[];if(i[0]==="case"){for(let n=1;n<i.length-1;n+=2)e=e||Qa(i[n]),t.push(i[n+1]);t.push(i[i.length-1])}else if(i[0]==="match"){e=e||Qa(i[1]);for(let n=2;n<i.length-1;n+=2)t.push(i[n+1]);t.push(i[i.length-1])}else if(i[0]==="step"){e=e||Qa(i[1]);for(let n=1;n<i.length-1;n+=2)t.push(i[n+1])}e&&(i.length=0,i.push("any",...t));for(let n=1;n<i.length;n++)Ab(i[n])}function Qa(i){if(!Array.isArray(i))return!1;if(hS(i[0]))return!0;for(let e=1;e<i.length;e++){const t=i[e];if(Qa(t))return!0}return!1}function hS(i){return i==="pitch"||i==="distance-from-center"}const fS=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function dS(i){if(fS.has(i[0]))for(let e=1;e<i.length;e++){const t=i[e];if(Qa(t))return!0}return i}function gS(i,e){return i<e?-1:i>e?1:0}function lb(i){if(!Array.isArray(i))return!1;if(i[0]==="within")return!0;for(let e=1;e<i.length;e++)if(lb(i[e]))return!0;return!1}function ng(i){if(!i)return!0;const e=i[0];return i.length<=1?e!=="any":e==="=="?I_(i[1],i[2],"=="):e==="!="?ig(I_(i[1],i[2],"==")):e==="<"||e===">"||e==="<="||e===">="?I_(i[1],i[2],e):e==="any"?pS(i.slice(1)):e==="all"?["all"].concat(i.slice(1).map(ng)):e==="none"?["all"].concat(i.slice(1).map(ng).map(ig)):e==="in"?ub(i[1],i.slice(2)):e==="!in"?ig(ub(i[1],i.slice(2))):e==="has"?hb(i[1]):e==="!has"?ig(hb(i[1])):e==="within"?i:!0}function I_(i,e,t){switch(i){case"$type":return[`filter-type-${t}`,e];case"$id":return[`filter-id-${t}`,e];default:return[`filter-${t}`,i,e]}}function pS(i){return["any"].concat(i.map(ng))}function ub(i,e){if(e.length===0)return!1;switch(i){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",i,["literal",e.sort(gS)]]:["filter-in-small",i,["literal",e]]}}function hb(i){switch(i){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",i]}}function ig(i){return["!",i]}var IS=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function _S(i,e){const t={};for(const n in i)n!=="ref"&&(t[n]=i[n]);return IS.forEach(n=>{n in e&&(t[n]=e[n])}),t}function fb(i){i=i.slice();const e=Object.create(null);for(let t=0;t<i.length;t++)e[i[t].id]=i[t];for(let t=0;t<i.length;t++)"ref"in i[t]&&(i[t]=_S(i[t],e[i[t].ref]));return i}var db={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},mA=" ",gb=/(italic|oblique)$/i,pb={},mS=function(i,e,t){var n=pb[i];if(!n){Array.isArray(i)||(i=[i]);for(var r=400,s="normal",o=[],a,c,x=0,A=i.length;x<A;++x){var l=i[x],u=l.split(" "),h=u[u.length-1].toLowerCase();h=="normal"||h=="italic"||h=="oblique"?(s=c?s:h,c=!0,u.pop(),h=u[u.length-1].toLowerCase()):gb.test(h)&&(h=h.replace(gb,""),s=c?s:u[u.length-1].replace(h,""),c=!0);for(var f in db){var g=u.length>1?u[u.length-2].toLowerCase():"";if(h==f||h==f.replace("-","")||g+"-"+h==f){r=a?r:db[f],u.pop(),g&&f.startsWith(g)&&u.pop();break}}!a&&typeof h=="number"&&(r=h,a=!0);var d=u.join(mA).replace("Klokantech Noto Sans","Noto Sans");d.indexOf(mA)!==-1&&(d='"'+d+'"'),o.push(d)}n=pb[i]=[s,r,o]}return n[0]+mA+n[1]+mA+e+"px"+(t?"/"+t:"")+mA+n[2]},__=w3(mS);const Ib="https://api.mapbox.com";function m_(i){const e="mapbox://";return i.indexOf(e)!==0?"":i.slice(e.length)}function ES(i,e,t){const n=m_(i);if(!n)return decodeURI(new URL(i,t).href);const r="sprites/";if(n.indexOf(r)!==0)throw new Error(`unexpected sprites url: ${i}`);const s=n.slice(r.length);return`${Ib}/styles/v1/${s}/sprite?access_token=${e}`}function rg(i,e){const t=m_(i);if(!t)return decodeURI(new URL(i,location.href).href);const n="styles/";if(t.indexOf(n)!==0)throw new Error(`unexpected style url: ${i}`);const r=t.slice(n.length);return`${Ib}/styles/v1/${r}?&access_token=${e}`}function sg(i,e,t,n){const r=new URL(i,n),s=m_(i);if(!s)return e&&(r.searchParams.has(t)||r.searchParams.set(t,e)),decodeURI(r.href);if(s==="mapbox.satellite"){const o=window.devicePixelRatio>=1.5?"@2x":"";return`https://api.mapbox.com/v4/${s}/{z}/{x}/{y}${o}.webp?access_token=${e}`}return`https://{a-d}.tiles.mapbox.com/v4/${s}/{z}/{x}/{y}.vector.pbf?access_token=${e}`}const og={},_b={};let yS=0;function E_(i){return i.id||(i.id=yS++),i.id}function ag(i,e){return E_(i)+"."+ct(e)}function y_(i){let e=og[i.id];return e||(e={},og[E_(i)]=e),e}function CS(){for(const i in og)delete og[i]}function mb(i){let e=_b[i.id];return e||(e={},_b[E_(i)]=e),e}function C_(i){return i*Math.PI/180}const Pi=function(){const i=[];for(let e=78271.51696402048;i.length<=24;e/=2)i.push(e);return i}();function xg(i,e){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(i,e);const t=document.createElement("canvas");return t.width=i,t.height=e,t}function b_(i,e){let t=0;const n=e.length;for(;t<n;++t)if(e[t]<i&&t+1<n){const s=e[t]/e[t+1];return t+Math.log(e[t]/i)/Math.log(s)}return n-1}function cg(i,e){const t=Math.floor(i),n=Math.pow(2,i-t);return e[t]/n}const va={};function Ra(i,e,t={},n){if(e in va)return n&&(n.request=va[e][0]),va[e][1];const r=t.transformRequest&&t.transformRequest(e,i)||e,s=ao(()=>r).then(o=>(o instanceof Request||(o=new Request(o)),o.headers.get("Accept")||o.headers.set("Accept","application/json"),n&&(n.request=o),fetch(o).then(function(a){return delete va[e],a.ok?a.json():Promise.reject(new Error("Error fetching source "+e))}).catch(function(a){return delete va[e],Promise.reject(new Error("Error fetching source "+e))})));return va[e]=[r,s],s}function B_(i,e){if(typeof i=="string")if(i.trim().startsWith("{"))try{const t=JSON.parse(i);return Promise.resolve(t)}catch(t){return Promise.reject(t)}else return i=rg(i,e.accessToken),Ra("Style",i,e);else return Promise.resolve(i)}const Eb={};function yb(i,e,t={}){const n=[e,JSON.stringify(i)].toString();let r=Eb[n];if(!r||t.transformRequest){let s;t.transformRequest&&(s=(a,c)=>{const x=t.transformRequest&&t.transformRequest(c,"Tiles")||c;if(a instanceof OC)a.setLoader((A,l,u)=>{ao(()=>x).then(h=>{fetch(h).then(f=>f.arrayBuffer()).then(f=>{const d=a.getFormat().readFeatures(f,{extent:A,featureProjection:u});a.setFeatures(d)}).catch(f=>a.setState(z.ERROR))})});else{const A=a.getImage();ao(()=>x).then(l=>{l instanceof Request?fetch(l).then(u=>u.blob()).then(u=>{const h=URL.createObjectURL(u);A.addEventListener("load",()=>URL.revokeObjectURL(h)),A.addEventListener("error",()=>URL.revokeObjectURL(h)),A.src=h}).catch(u=>a.setState(z.ERROR)):A.src=l})}});const o=i.url;if(o&&!i.tiles){const a=sg(o,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(o.startsWith("mapbox://"))r=Promise.resolve({tileJson:Object.assign({},i,{url:void 0,tiles:MC(a)}),tileLoadFunction:s});else{const c={};r=Ra("Source",a,t,c).then(function(x){return x.tiles=x.tiles.map(function(A){return x.scheme==="tms"&&(A=A.replace("{y}","{-y}")),sg(A,t.accessToken,t.accessTokenParam||"access_token",c.request.url)}),Promise.resolve({tileJson:x,tileLoadFunction:s})})}}else i=Object.assign({},i,{tiles:i.tiles.map(function(a){return i.scheme==="tms"&&(a=a.replace("{y}","{-y}")),sg(a,t.accessToken,t.accessTokenParam||"access_token",e||location.href)})}),r=Promise.resolve({tileJson:Object.assign({},i),tileLoadFunction:s});Eb[n]=r}return r}function Cb(i,e,t,n){const r=[2*t*e.pixelRatio+e.width,2*t*e.pixelRatio+e.height],s=xg(r[0],r[1]),o=s.getContext("2d");o.drawImage(i,e.x,e.y,e.width,e.height,t*e.pixelRatio,t*e.pixelRatio,e.width,e.height);const a=o.getImageData(0,0,r[0],r[1]);o.globalCompositeOperation="destination-over",o.fillStyle=`rgba(${n.r*255},${n.g*255},${n.b*255},${n.a})`;const c=a.data;for(let x=0,A=a.width;x<A;++x)for(let l=0,u=a.height;l<u;++l){const h=(l*A+x)*4;c[h+3]>0&&o.arc(x,l,t*e.pixelRatio,0,2*Math.PI)}return o.fill(),s}function bS(i,e,t){const n=Math.max(0,Math.min(1,(t-i)/(e-i)));return n*n*(3-2*n)}function bb(i,e,t){const n=xg(e.width,e.height),r=n.getContext("2d");r.drawImage(i,e.x,e.y,e.width,e.height,0,0,e.width,e.height);const s=r.getImageData(0,0,e.width,e.height),o=s.data;for(let a=0,c=s.width;a<c;++a)for(let x=0,A=s.height;x<A;++x){const l=(x*c+a)*4,u=o[l+3]/255,h=.75,f=.1,g=bS(h-f,h+f,u);g>0?(o[l+0]=Math.round(255*t.r*g),o[l+1]=Math.round(255*t.g*g),o[l+2]=Math.round(255*t.b*g),o[l+3]=Math.round(255*g)):o[l+3]=0}return r.putImageData(s,0,0),n}const BS=Array(256).join(" ");function w_(i,e){if(e>=.05){let t="";const n=i.split(`
`),r=BS.slice(0,Math.round(e/.1));for(let s=0,o=n.length;s<o;++s)s>0&&(t+=`
`),t+=n[s].split("").join(r);return t}return i}let Q_;function Bb(){return Q_||(Q_=xg(1,1).getContext("2d")),Q_}function Fs(i,e){return Bb().measureText(i).width+(i.length-1)*e}const wb={};function v_(i,e,t,n){if(i.indexOf(`
`)!==-1){const o=i.split(`
`),a=[];for(let c=0,x=o.length;c<x;++c)a.push(v_(o[c],e,t,n));return a.join(`
`)}const r=t+","+e+","+i+","+n;let s=wb[r];if(!s){const o=i.split(" ");if(o.length>1){const a=Bb();a.font=e;const x=a.measureText("M").width*t;let A="";const l=[];for(let u=0,h=o.length;u<h;++u){const f=o[u],g=A+(A?" ":"")+f;Fs(g,n)<=x?A=g:(A&&l.push(A),A=f)}A&&l.push(A);for(let u=0,h=l.length;u<h&&h>1;++u){const f=l[u];if(Fs(f,n)<x*.35){const g=u>0?Fs(l[u-1],n):1/0,d=u<h-1?Fs(l[u+1],n):1/0;l.splice(u,1),h-=1,g<d?(l[u-1]+=" "+f,u-=1):l[u]=f+" "+l[u]}}for(let u=0,h=l.length-1;u<h;++u){const f=l[u],g=l[u+1];if(Fs(f,n)>x*.7&&Fs(g,n)<x*.6){const d=f.split(" "),p=d.pop();Fs(p,n)<x*.2&&(l[u]=d.join(" "),l[u+1]=p+" "+g),h-=1}}s=l.join(`
`)}else s=i;s=w_(s,n),wb[r]=s}return s}const wS=/font-family: ?([^;]*);/,QS=/("|')/g;let Ag;function vS(i){if(!Ag){Ag={};const e=document.styleSheets;for(let t=0,n=e.length;t<n;++t){const r=e[t];try{const s=r.rules||r.cssRules;if(s)for(let o=0,a=s.length;o<a;++o){const c=s[o];if(c.type==5){const x=c.cssText.match(wS);Ag[x[1].replace(QS,"")]=!0}}}catch{}}}return i in Ag}const R_={};function RS(i,e="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){const t=i.toString();if(t in R_)return R_[t];const n=[];for(let r=0,s=i.length;r<s;++r){i[r]=i[r].replace("Arial Unicode MS","Arial");const o=i[r],a=__(o,1);iy(a);const c=a.split(" ");n.push([c.slice(3).join(" ").replace(/"/g,""),c[1],c[0]])}for(let r=0,s=n.length;r<s;++r){const o=n[r],a=o[0];if(!vS(a)&&$i.get(`${o[2]}
${o[1]} 
${a}`)!==100){const c=e.replace("{font-family}",a.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",a.replace(/ /g,"+")).replace("{fontweight}",o[1]).replace("{-fontstyle}",o[2].replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",o[2]);if(!document.querySelector('link[href="'+c+'"]')){const x=document.createElement("link");x.href=c,x.rel="stylesheet",document.head.appendChild(x)}}}return R_[t]=i,i}const SS={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},DS={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},kS=function(i,e){const t=aS(i,e);if(t.result==="error")throw new Error(t.value.map(n=>`${n.key}: ${n.message}`).join(", "));return t.value},S_={},lg={zoom:0};let ug,D_;function tt(i,e,t,n,r,s,o){const a=i.id;s||(s={},console.warn("No functionCache provided to getValue()")),s[a]||(s[a]={});const c=s[a];if(!c[t]){let x=(i[e]||S_)[t];const A=ab[`${e}_${i.type}`][t];x===void 0&&(x=A.default);let l=oS(x);if(!l&&rb(x)&&(x=Yv(x,A),l=!0),l){const u=kS(x,A);c[t]=u.evaluate.bind(u)}else A.type=="color"&&(x=xi.parse(x)),c[t]=function(){return x}}return lg.zoom=n,c[t](lg,r,o)}function Qb(i,e,t,n,r){return tt(i,"layout",`${n}-allow-overlap`,e,t,r)?tt(i,"layout",`${n}-ignore-placement`,e,t,r)?"none":"obstacle":"declutter"}function MS(i,e,t,n,r){return r||console.warn("No filterCache provided to evaluateFilter()"),i in r||(r[i]=lS(e).filter),lg.zoom=n,r[i](lg,t)}let k_=!1;function FS(i){i!==k_&&(CS(),k_=i)}function T0(i,e){if(i){if(!k_&&(i.a===0||e===0))return;const t=i.a;return e=e===void 0?1:e,t===0?"transparent":"rgba("+Math.round(i.r*255/t)+","+Math.round(i.g*255/t)+","+Math.round(i.b*255/t)+","+t*e+")"}return i}const TS=/\{[^{}}]*\}/g;function M_(i,e){return i.replace(TS,function(t){return e[t.slice(1,-1)]||""})}let vb=!1;function LS(i=!1){vb=i}const hg={};function EA(i,e,t,n=Pi,r=void 0,s=void 0,o=void 0,a=void 0){if(typeof e=="string"&&(e=JSON.parse(e)),e.version!=8)throw new Error("glStyle version 8 required.");hg[ag(e,i)]=Array.from(arguments);let c,x,A;if(s){if(typeof Image<"u"){const C=new Image;let b;ao(()=>s).then(B=>{B instanceof Request?fetch(B).then(Q=>Q.blob()).then(Q=>{b=URL.createObjectURL(Q),C.src=b}).catch(()=>{}):(C.crossOrigin="anonymous",C.src=B,b&&URL.revokeObjectURL(b))}),C.onload=function(){c=C,x=[C.width,C.height],i.changed(),C.onload=null}}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){const C=self;C.postMessage({action:"loadImage",src:s}),C.addEventListener("message",function(B){B.data.action==="imageLoaded"&&B.data.src===s&&(c=B.data.image,x=[c.width,c.height])})}}const l=fb(e.layers),u={},h=[],f={},g={},d=y_(e),p=mb(e);let I;for(let C=0,b=l.length;C<b;++C){const B=l[C],Q=B.id;if(typeof t=="string"&&B.source==t||Array.isArray(t)&&t.indexOf(Q)!==-1){const w=B["source-layer"];if(I){if(B.source!==I)throw new Error(`Layer "${Q}" does not use source "${I}`)}else{I=B.source;const D=e.sources[I];if(!D)throw new Error(`Source "${I}" is not defined`);const F=D.type;if(F!=="vector"&&F!=="geojson")throw new Error(`Source "${I}" is not of type "vector" or "geojson", but "${F}"`)}let R=u[w];R||(R=[],u[w]=R),R.push({layer:B,index:C}),h.push(Q)}}const _=new Qn,m=new Un,y=[],E=function(C,b,B){const Q=C.getProperties(),w=u[Q.layer];if(!w)return;let R=n.indexOf(b);R==-1&&(R=b_(b,n));const D=SS[C.getGeometry().getType()],F={id:C.getId(),properties:Q,type:D},v=i.get("mapbox-featurestate")[C.getId()];let S=-1,M;for(let L=0,P=w.length;L<P;++L){const O=w[L],k=O.layer,H=k.id;if(B!==void 0&&B!==H)continue;const K=k.layout||S_,q=k.paint||S_;if(K.visibility==="none"||"minzoom"in k&&R<k.minzoom||"maxzoom"in k&&R>=k.maxzoom)continue;const T=k.filter;if(!T||MS(H,T,F,R,p)){M=k;let V,X,$,it,st,Y;const yt=O.index;if(D==3&&(k.type=="fill"||k.type=="fill-extrusion"))if(X=tt(k,"paint",k.type+"-opacity",R,F,d,v),k.type+"-pattern"in q){const Ht=tt(k,"paint",k.type+"-pattern",R,F,d,v);if(Ht){const ft=typeof Ht=="string"?M_(Ht,Q):Ht.toString();if(c&&r&&r[ft]){++S,Y=y[S],(!Y||!Y.getFill()||Y.getStroke()||Y.getText())&&(Y=new Mt({fill:new Un}),y[S]=Y),$=Y.getFill(),Y.setZIndex(yt);const Xt=ft+"."+X;let oe=g[Xt];if(!oe){const mt=r[ft],St=xg(mt.width,mt.height),be=St.getContext("2d");be.globalAlpha=X,be.drawImage(c,mt.x,mt.y,mt.width,mt.height,0,0,mt.width,mt.height),oe=be.createPattern(St,"repeat"),g[Xt]=oe}$.setColor(oe)}}}else V=T0(tt(k,"paint",k.type+"-color",R,F,d,v),X),k.type+"-outline-color"in q&&(st=T0(tt(k,"paint",k.type+"-outline-color",R,F,d,v),X)),st||(st=V),(V||st)&&(++S,Y=y[S],(!Y||V&&!Y.getFill()||!V&&Y.getFill()||st&&!Y.getStroke()||!st&&Y.getStroke()||Y.getText())&&(Y=new Mt({fill:V?new Un:void 0,stroke:st?new Qn:void 0}),y[S]=Y),V&&($=Y.getFill(),$.setColor(V)),st&&(it=Y.getStroke(),it.setColor(st),it.setWidth(.5)),Y.setZIndex(yt));if(D!=1&&k.type=="line"){"line-pattern"in q?V=void 0:V=T0(tt(k,"paint","line-color",R,F,d,v),tt(k,"paint","line-opacity",R,F,d,v));const Ht=tt(k,"paint","line-width",R,F,d,v);V&&Ht>0&&(++S,Y=y[S],(!Y||!Y.getStroke()||Y.getFill()||Y.getText())&&(Y=new Mt({stroke:new Qn}),y[S]=Y),it=Y.getStroke(),it.setLineCap(tt(k,"layout","line-cap",R,F,d,v)),it.setLineJoin(tt(k,"layout","line-join",R,F,d,v)),it.setMiterLimit(tt(k,"layout","line-miter-limit",R,F,d,v)),it.setColor(V),it.setWidth(Ht),it.setLineDash(q["line-dasharray"]?tt(k,"paint","line-dasharray",R,F,d,v).map(function(ft){return ft*Ht}):null),Y.setZIndex(yt))}let Dn=!1,ht=null,An=0,Ie,Ae,He;if((D==1||D==2)&&"icon-image"in K){const Ht=tt(k,"layout","icon-image",R,F,d,v);if(Ht){Ie=typeof Ht=="string"?M_(Ht,Q):Ht.toString();let ft;const Xt=a?a(i,Ie):void 0;if(c&&r&&r[Ie]||Xt){const oe=tt(k,"layout","icon-rotation-alignment",R,F,d,v);if(D==2){const mt=C.getGeometry();if(mt.getFlatMidpoint||mt.getFlatMidpoints){const St=mt.getExtent();if(Math.sqrt(Math.max(Math.pow((St[2]-St[0])/b,2),Math.pow((St[3]-St[1])/b,2)))>150){const _e=mt.getType()==="MultiLineString"?mt.getFlatMidpoints():mt.getFlatMidpoint();if(D_||(ug=[NaN,NaN],D_=new fn("Point",ug,[],2,{},void 0)),ft=D_,ug[0]=_e[0],ug[1]=_e[1],tt(k,"layout","symbol-placement",R,F,d,v)==="line"&&oe==="map"){const ln=mt.getStride(),un=mt.getFlatCoordinates();for(let _n=0,le=un.length-ln;_n<le;_n+=ln){const Mn=un[_n],mn=un[_n+1],Fn=un[_n+ln],Ge=un[_n+ln+1],Oi=Math.min(Mn,Fn),Hs=Math.min(mn,Ge),js=Math.max(Mn,Fn),Zg=Math.max(mn,Ge);if(_e[0]>=Oi&&_e[0]<=js&&_e[1]>=Hs&&_e[1]<=Zg){An=Math.atan2(mn-Ge,Fn-Mn);break}}}}}}if(D!==2||ft){const mt=tt(k,"layout","icon-size",R,F,d,v),St=q["icon-color"]!==void 0?tt(k,"paint","icon-color",R,F,d,v):null;if(!St||St.a!==0){const be=tt(k,"paint","icon-halo-color",R,F,d,v),_e=tt(k,"paint","icon-halo-width",R,F,d,v);let kn=`${Ie}.${mt}.${_e}.${be}`;if(St!==null&&(kn+=`.${St}`),Ae=f[kn],!Ae){const ln=Qb(k,R,F,"icon",d);let un;"icon-offset"in K&&(un=tt(k,"layout","icon-offset",R,F,d,v).slice(0),un[0]*=mt,un[1]*=-mt);let _n=St?[St.r*255,St.g*255,St.b*255,St.a]:void 0;if(Xt){const le={color:_n,rotateWithView:oe==="map",displacement:un,declutterMode:ln,scale:mt};typeof Xt=="string"?le.src=Xt:(le.img=Xt,le.imgSize=[Xt.width,Xt.height]),Ae=new us(le)}else{const le=r[Ie];let Mn,mn,Fn;_e?le.sdf?(Mn=Cb(bb(c,le,St||[0,0,0,1]),{x:0,y:0,width:le.width,height:le.height,pixelRatio:le.pixelRatio},_e,be),_n=void 0):Mn=Cb(c,le,_e,be):(le.sdf?(A||(A=bb(c,{x:0,y:0,width:x[0],height:x[1]},{r:1,g:1,b:1,a:1})),Mn=A):Mn=c,mn=[le.width,le.height],Fn=[le.x,le.y]),Ae=new us({color:_n,img:Mn,imgSize:x,size:mn,offset:Fn,rotateWithView:oe==="map",scale:mt/le.pixelRatio,displacement:un,declutterMode:ln})}f[kn]=Ae}}Ae&&(++S,Y=y[S],(!Y||!Y.getImage()||Y.getFill()||Y.getStroke())&&(Y=new Mt,y[S]=Y),Y.setGeometry(ft),Ae.setRotation(An+C_(tt(k,"layout","icon-rotate",R,F,d,v))),Ae.setOpacity(tt(k,"paint","icon-opacity",R,F,d,v)),Ae.setAnchor(DS[tt(k,"layout","icon-anchor",R,F,d,v)]),Y.setImage(Ae),ht=Y.getText(),Y.setText(void 0),Y.setZIndex(yt),Dn=!0,He=!1)}else He=!0}}}if(D==1&&k.type==="circle"){++S,Y=y[S],(!Y||!Y.getImage()||Y.getFill()||Y.getStroke())&&(Y=new Mt,y[S]=Y);const Ht="circle-radius"in q?tt(k,"paint","circle-radius",R,F,d,v):5,ft=T0(tt(k,"paint","circle-stroke-color",R,F,d,v),tt(k,"paint","circle-stroke-opacity",R,F,d,v)),Xt=tt(k,"paint","circle-translate",R,F,d,v),oe=T0(tt(k,"paint","circle-color",R,F,d,v),tt(k,"paint","circle-opacity",R,F,d,v)),mt=tt(k,"paint","circle-stroke-width",R,F,d,v),St=Ht+"."+ft+"."+oe+"."+mt+"."+Xt[0]+"."+Xt[1];Ae=f[St],Ae||(Ae=new Mo({radius:Ht,displacement:[Xt[0],-Xt[1]],stroke:ft&&mt>0?new Qn({width:mt,color:ft}):void 0,fill:oe?new Un({color:oe}):void 0,declutterMode:"none"}),f[St]=Ae),Y.setImage(Ae),ht=Y.getText(),Y.setText(void 0),Y.setGeometry(void 0),Y.setZIndex(yt),Dn=!0}let bt,In,Fe,ti,ui,pr;if("text-field"in K){ti=Math.round(tt(k,"layout","text-size",R,F,d,v));const Ht=tt(k,"layout","text-font",R,F,d,v);Fe=tt(k,"layout","text-line-height",R,F,d,v),In=__(o?o(Ht,e.metadata?e.metadata["ol:webfonts"]:void 0):Ht,ti,Fe),In.includes("sans-serif")||(In+=",sans-serif"),ui=tt(k,"layout","text-letter-spacing",R,F,d,v),pr=tt(k,"layout","text-max-width",R,F,d,v);const ft=tt(k,"layout","text-field",R,F,d,v);typeof ft=="object"&&ft.sections?ft.sections.length===1?bt=ft.toString():bt=ft.sections.reduce((Xt,oe,mt)=>{const St=oe.fontStack?oe.fontStack.split(","):Ht,be=__(o?o(St):St,ti*(oe.scale||1),Fe);let _e=oe.text;if(_e===`
`)return Xt.push(`
`,""),Xt;if(D==2){Xt.push(w_(_e,ui),be);return}_e=v_(_e,be,pr,ui).split(`
`);for(let kn=0,ln=_e.length;kn<ln;++kn)kn>0&&Xt.push(`
`,""),Xt.push(_e[kn],be);return Xt},[]):bt=M_(ft,Q).trim(),X=tt(k,"paint","text-opacity",R,F,d,v)}if(bt&&X&&!He){Dn||(++S,Y=y[S],(!Y||!Y.getText()||Y.getFill()||Y.getStroke())&&(Y=new Mt,y[S]=Y),Y.setImage(void 0),Y.setGeometry(void 0));const Ht=Qb(k,R,F,"text",d);Y.getText()||Y.setText(ht),ht=Y.getText(),(!ht||"getDeclutterMode"in ht&&ht.getDeclutterMode()!==Ht)&&(ht=new tc({padding:[2,2,2,2],declutterMode:Ht}),Y.setText(ht));const ft=tt(k,"layout","text-transform",R,F,d,v);ft=="uppercase"?bt=Array.isArray(bt)?bt.map((Ge,Oi)=>Oi%2?Ge:Ge.toUpperCase()):bt.toUpperCase():ft=="lowercase"&&(bt=Array.isArray(bt)?bt.map((Ge,Oi)=>Oi%2?Ge:Ge.toLowerCase()):bt.toLowerCase());const Xt=Array.isArray(bt)?bt:D==2?w_(bt,ui):v_(bt,In,pr,ui);ht.setText(Xt),ht.setFont(In),ht.setRotation(C_(tt(k,"layout","text-rotate",R,F,d,v)));const oe=tt(k,"layout","text-anchor",R,F,d,v),mt=Dn||D==1?"point":tt(k,"layout","symbol-placement",R,F,d,v);let St;if(mt==="line-center"?(ht.setPlacement("line"),St="center"):ht.setPlacement(mt),mt==="line"&&typeof ht.setRepeat=="function"){const Ge=tt(k,"layout","symbol-spacing",R,F,d,v);ht.setRepeat(Ge*2)}ht.setOverflow(mt==="point");let be=tt(k,"paint","text-halo-width",R,F,d,v);const _e=tt(k,"layout","text-offset",R,F,d,v),kn=tt(k,"paint","text-translate",R,F,d,v);let ln=0,un=0;if(mt=="point"){St="center",oe.indexOf("left")!==-1?(St="left",un=be):oe.indexOf("right")!==-1&&(St="right",un=-be);const Ge=tt(k,"layout","text-rotation-alignment",R,F,d,v);ht.setRotateWithView(Ge=="map")}else ht.setMaxAngle(C_(tt(k,"layout","text-max-angle",R,F,d,v))*bt.length/Xt.length),ht.setRotateWithView(!1);ht.setTextAlign(St);let _n="middle";oe.indexOf("bottom")==0?(_n="bottom",ln=-be-.5*(Fe-1)*ti):oe.indexOf("top")==0&&(_n="top",ln=be+.5*(Fe-1)*ti),ht.setTextBaseline(_n);const le=tt(k,"layout","text-justify",R,F,d,v);ht.setJustify(le==="auto"?void 0:le),ht.setOffsetX(_e[0]*ti+un+kn[0]),ht.setOffsetY(_e[1]*ti+ln+kn[1]),m.setColor(T0(tt(k,"paint","text-color",R,F,d,v),X)),ht.setFill(m);const Mn=T0(tt(k,"paint","text-halo-color",R,F,d,v),X);if(Mn&&be>0){_.setColor(Mn),be*=2;const Ge=.5*ti;_.setWidth(be<=Ge?be:Ge),ht.setStroke(_)}else ht.setStroke(void 0);const mn=tt(k,"layout","text-padding",R,F,d,v),Fn=ht.getPadding();mn!==Fn[0]&&(Fn[0]=mn,Fn[1]=mn,Fn[2]=mn,Fn[3]=mn),Y.setZIndex(yt)}}}if(S>-1)return y.length=S+1,vb&&("set"in C?C.set("mapbox-layer",M):C.getProperties()["mapbox-layer"]=M),y};return i.setStyle(E),i.set("mapbox-source",I),i.set("mapbox-layers",h),i.set("mapbox-featurestate",i.get("mapbox-featurestate")||{}),E}function GS(i,e,t,n){const r=t.getStyleFunction();if(r.length===3)return r(i,e,n)}function NS(i,e){const t=i[0],n=t.width,r=t.height,s=t.data,o=new Uint8ClampedArray(s.length),a=e.resolution*2,c=n-1,x=r-1,A=[0,0,0,0],l=2*Math.PI,u=Math.PI/2,h=Math.PI*e.sunEl/180,f=Math.PI*e.sunAz/180,g=Math.cos(h),d=Math.sin(h),p=e.highlightColor,I=e.shadowColor,_=e.accentColor,m=e.encoding;let y,E,C,b,B,Q,w,R,D,F,v,S,M,L,P,O,k,H,K,q,T,V;function X($,it="mapbox"){if(it==="mapbox")return($[0]*256*256+$[1]*256+$[2])*.1-1e4;if(it==="terrarium")return $[0]*256+$[1]+$[2]/256-32768}for(E=0;E<=x;++E)for(B=E===0?0:E-1,Q=E===x?x:E+1,y=0;y<=c;++y)C=y===0?0:y-1,b=y===c?c:y+1,w=(E*n+C)*4,A[0]=s[w],A[1]=s[w+1],A[2]=s[w+2],A[3]=s[w+3],R=e.vert*X(A,m),w=(E*n+b)*4,A[0]=s[w],A[1]=s[w+1],A[2]=s[w+2],A[3]=s[w+3],D=e.vert*X(A,m),F=(D-R)/a,w=(B*n+y)*4,A[0]=s[w],A[1]=s[w+1],A[2]=s[w+2],A[3]=s[w+3],R=e.vert*X(A,m),w=(Q*n+y)*4,A[0]=s[w],A[1]=s[w+1],A[2]=s[w+2],A[3]=s[w+3],D=e.vert*X(A,m),v=(D-R)/a,M=Math.atan2(v,-F),M<0?M=u-M:M>u?M=l-M+u:M=u-M,S=Math.atan(Math.sqrt(F*F+v*v)),V=d*Math.cos(S)+g*Math.sin(S)*Math.cos(f-M),L=Math.cos(S),P=255*V,K=Math.min(Math.max(2*e.sunEl,0),1),q=1.875-e.opacity*1.75,T=e.opacity!==.5?u*((Math.pow(q,S)-1)/(Math.pow(q,u)-1)):S,k={r:(1-L)*_.r*K*255,g:(1-L)*_.g*K*255,b:(1-L)*_.b*K*255,a:(1-L)*_.a*K*255},O=Math.abs(((M+f)/Math.PI+.5)%2-1),H={r:(p.r*(1-O)+I.r*O)*P,g:(p.g*(1-O)+I.g*O)*P,b:(p.b*(1-O)+I.b*O)*P,a:(p.a*(1-O)+I.a*O)*P},w=(E*n+y)*4,o[w]=k.r*(1-O)+H.r,o[w+1]=k.g*(1-O)+H.g,o[w+2]=k.b*(1-O)+H.b,o[w+3]=s[w+3]*e.opacity*K*Math.sin(T);return new ImageData(o,n,r)}function PS(i,e=512){return i.getExtent()?aI({extent:i.getExtent(),tileSize:e,maxZoom:22}).getResolutions():Pi}function Rb(i,e){return e.accessToken||(e=Object.assign({},e),new URL(i).searchParams.forEach((n,r)=>{e.accessToken=n,e.accessTokenParam=r})),e}function F_(i,e,t="",n={},r=void 0){let s,o,a,c,x=!0;return typeof t!="string"&&!Array.isArray(t)?(a=t,c=a.source||a.layers,n=a):c=t,typeof n=="string"?(s=n,a={}):(s=n.styleUrl,a=n),a.updateSource===!1&&(x=!1),r||(r=a.resolutions),!s&&typeof e=="string"&&!e.trim().startsWith("{")&&(s=e),s&&(s=s.startsWith("data:")?location.href:rg(s,a.accessToken),a=Rb(s,a)),new Promise(function(A,l){B_(e,a).then(function(u){if(u.version!=8)return l(new Error("glStyle version 8 required."));if(!(i instanceof qo||i instanceof Ds))return l(new Error("Can only apply to VectorLayer or VectorTileLayer"));const h=i instanceof Ds?"vector":"geojson";if(c?Array.isArray(c)?o=u.layers.find(function(m){return m.id===c[0]}).source:o=c:(o=Object.keys(u.sources).find(function(m){return u.sources[m].type===h}),c=o),!o)return l(new Error(`No ${h} source found in the glStyle.`));function f(){if(!x)return Promise.resolve();if(i instanceof Ds)return T_(u.sources[o],s,a).then(function(C){const b=i.getSource();b?C!==b&&(b.setTileUrlFunction(C.getTileUrlFunction()),typeof b.setUrls=="function"&&typeof C.getUrls=="function"&&b.setUrls(C.getUrls()),b.format_||(b.format_=C.format_),b.getAttributions()||b.setAttributions(C.getAttributions()),b.getTileLoadFunction()===qC&&b.setTileLoadFunction(C.getTileLoadFunction()),yr(b.getProjection(),C.getProjection())&&(b.tileGrid=C.getTileGrid())):i.setSource(C);const B=i.getSource().getTileGrid();!isFinite(i.getMaxResolution())&&!isFinite(i.getMinZoom())&&B.getMinZoom()>0&&i.setMaxResolution(cg(B.getMinZoom(),Pi)+1e-15)});const m=u.sources[o];let y=i.getSource();(!y||y.get("mapbox-source")!==m)&&(y=L_(m,s,a));const E=i.getSource();return E?y!==E&&(E.getAttributions()||E.setAttributions(y.getAttributions()),E.format_||(E.format_=y.getFormat()),E.url_=y.getUrl()):i.setSource(y),Promise.resolve()}let g,d,p,I;function _(){if(!I&&(!u.sprite||d)){if(a.projection&&!r){const y=Zt(a.projection).getUnits();y!=="m"&&(r=Pi.map(E=>E/Wr[y]))}I=EA(i,u,c,r,d,p,(m,y=a.webfonts)=>RS(m,y),a.getImage),i.getStyle()?f().then(A).catch(l):l(new Error(`Nothing to show for source [${o}]`))}else I?(i.setStyle(I),f().then(A).catch(l)):l(new Error("Something went wrong trying to apply style."))}if(u.sprite){const m=new URL(ES(u.sprite,a.accessToken,s||location.href));g=window.devicePixelRatio>=1.5?.5:1;const y=g==.5?"@2x":"";let E=m.origin+m.pathname+y+".json"+m.search;new Promise(function(C,b){Ra("Sprite",E,a).then(C).catch(function(B){E=m.origin+m.pathname+".json"+m.search,Ra("Sprite",E,a).then(C).catch(b)})}).then(function(C){if(C===void 0&&l(new Error("No sprites found.")),d=C,p=m.origin+m.pathname+y+".png"+m.search,a.transformRequest){const b=a.transformRequest(p,"SpriteImage")||p;(b instanceof Request||b instanceof Promise)&&(p=b)}_()}).catch(function(C){l(new Error(`Sprites cannot be loaded: ${E}: ${C.message}`))})}else _()}).catch(l)})}const L0={};function US(i,e,t){e.layers.some(function(n){if(n.type==="background"){if(i instanceof ls)return i.setBackground(function(r){return Mb(n,r,t,{})}),!0;if(i instanceof DI||i instanceof Bs)return i.getLayers().insertAt(0,Fb(n,t,{})),!0}})}function Sb(i,e,t={}){return B_(e,t).then(function(n){US(i,n,t)})}function Db(i,e){let t;return i.some(function(n){if(n.id==e)return t=n.source,!0}),t}function OS(i,e){const t=i.bounds;if(t){const n=N2([t[0],t[1]],e),r=N2([t[2],t[3]],e);return[n[0],n[1],r[0],r[1]]}return Zt(e).getExtent()}function kb(i,e,t){const n=new $C({tileJSON:e,tileSize:i.tileSize||e.tileSize||512}),r=n.getTileJSON(),s=n.getTileGrid(),o=Zt(t.projection||"EPSG:3857"),a=OS(r,o),c=o.getExtent(),x=r.minzoom||0,A=r.maxzoom||22,l={attributions:n.getAttributions(),projection:o,tileGrid:new Fh({origin:c?Er(c):s.getOrigin(0),extent:a||s.getExtent(),minZoom:x,resolutions:PS(o,e.tileSize).slice(0,A+1),tileSize:s.getTileSize(0)})};return Array.isArray(r.tiles)?l.urls=r.tiles:l.url=r.tiles,l}function Mb(i,e,t,n){const r={id:i.id,type:i.type},s=i.layout||{},o=i.paint||{};r.paint=o;const a=b_(e,t.resolutions||Pi);let c;const x=tt(r,"paint","background-color",a,L0,n);return o["background-opacity"]!==void 0&&(c=tt(r,"paint","background-opacity",a,L0,n)),s.visibility=="none"?void 0:T0(x,c)}function Fb(i,e,t){const n=document.createElement("div");return n.className="ol-mapbox-style-background",n.style.position="absolute",n.style.width="100%",n.style.height="100%",new ls({source:new _o({}),render(r){const s=Mb(i,r.viewState.resolution,e,t);return n.style.backgroundColor=s,n}})}function T_(i,e,t){return new Promise(function(n,r){yb(i,e,t).then(function({tileJson:s,tileLoadFunction:o}){const a=kb(i,s,t);a.tileLoadFunction=o,a.format=new h3,n(new uI(a))}).catch(r)})}function zS(i,e,t){const n=new Ds({declutter:!0,visible:!1});return T_(i,e,t).then(function(r){r.set("mapbox-source",i),n.setSource(r)}).catch(function(r){n.setSource(void 0)}),n}function Tb(i){return`{bbox-${(i?i.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function Lb(i,e,t){return new Promise(function(n,r){yb(i,e,t).then(function({tileJson:s,tileLoadFunction:o}){const a=new $C({interpolate:t.interpolate===void 0?!0:t.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:s});a.tileGrid=kb(i,s,t).tileGrid,t.projection&&(a.projection=Zt(t.projection));const c=a.getTileUrlFunction();o&&a.setTileLoadFunction(o),a.setTileUrlFunction(function(x,A,l){const u=Tb(l);let h=c(x,A,l);if(h.indexOf(u)!=-1){const f=a.getTileGrid().getTileCoordExtent(x);h=h.replace(u,f.toString())}return h}),a.set("mapbox-source",i),n(a)}).catch(function(s){r(s)})})}function Gb(i,e,t){const n=new dI;return Lb(i,e,t).then(function(r){n.setSource(r)}).catch(function(){n.setSource(void 0)}),n}function qS(i,e,t){const n=Gb(i,e,t);return new Np({source:new WC({operationType:"image",operation:NS,sources:[n]})})}function L_(i,e,t){const n=t.projection?new a3({dataProjection:t.projection}):new a3,r=i.data,s={};if(typeof r=="string"){const a=sg(r,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(a)){const x=(l,u,h)=>{const f=Tb(h);return a.replace(f,`${l.join(",")}`)},A=new Wo({attributions:i.attribution,format:n,loader:(l,u,h,f,g)=>{const d=typeof x=="function"?x(l,u,h):x;Ra("GeoJSON",d,t).then(p=>{const I=A.getFormat().readFeatures(p,{featureProjection:h});A.addFeatures(I),f(I)}).catch(p=>{A.removeLoadedExtent(l),g()})},strategy:k9});return A.set("mapbox-source",i),A}const c=new Wo({attributions:i.attribution,format:n,url:a,loader:(x,A,l,u,h)=>{Ra("GeoJSON",a,t).then(f=>{const g=c.getFormat().readFeatures(f,{featureProjection:l});c.addFeatures(g),u(g)}).catch(f=>{c.removeLoadedExtent(x),h()})}});return c}s.features=n.readFeatures(r,{featureProjection:"EPSG:3857"});const o=new Wo(Object.assign({attributions:i.attribution,format:n},s));return o.set("mapbox-source",i),o}function YS(i,e,t){return new qo({declutter:!0,source:L_(i,e,t),visible:!1})}function HS(i,e,t){let n=null;return function(r){i.paint&&"raster-opacity"in i.paint&&r.frameState.viewState.zoom!==n&&(n=r.frameState.viewState.zoom,delete t[i.id],jS(i,e,n,t))}}function jS(i,e,t,n){const r=tt(i,"paint","raster-opacity",t,L0,n);e.setOpacity(r)}function VS(i,e){function t(){const n=e.get("mapbox-style");if(!n)return;const r=fb(n.layers),s=i.get("mapbox-layers"),o=r.filter(function(a){return s.includes(a.id)}).some(function(a){return!a.layout||!a.layout.visibility||a.layout.visibility==="visible"});i.get("visible")!==o&&i.setVisible(o)}i.on("change",t),t()}function Nb(i,e,t,n){const r=y_(i),s=i.layers,o=t.type,a=t.source||Db(s,t.ref),c=i.sources[a];let x;if(o=="background")x=Fb(t,n,r);else if(c.type=="vector")x=zS(c,e,n);else if(c.type=="raster")x=Gb(c,e,n),x.setVisible(t.layout?t.layout.visibility!=="none":!0),x.on("prerender",HS(t,x,r));else if(c.type=="geojson")x=YS(c,e,n);else if(c.type=="raster-dem"&&t.type=="hillshade"){const l=qS(c,e,n);x=l,l.getSource().on("beforeoperations",function(u){const h=u.data;h.resolution=L2(n.projection||"EPSG:3857",u.resolution,fi(u.extent),"m");const f=b_(u.resolution,n.resolutions||Pi);h.encoding=c.encoding,h.vert=5*tt(t,"paint","hillshade-exaggeration",f,L0,r),h.sunAz=tt(t,"paint","hillshade-illumination-direction",f,L0,r),h.sunEl=35,h.opacity=.3,h.highlightColor=tt(t,"paint","hillshade-highlight-color",f,L0,r),h.shadowColor=tt(t,"paint","hillshade-shadow-color",f,L0,r),h.accentColor=tt(t,"paint","hillshade-accent-color",f,L0,r)}),x.setVisible(t.layout?t.layout.visibility!=="none":!0)}const A=a;return x&&x.set("mapbox-source",A),x}function Pb(i,e,t,n){const r=[];let s=null;if(e instanceof DI){if(s=e.getView(),!s.isDef()&&!s.getRotation()&&!s.getResolutions()){const l=n.projection?Zt(n.projection):s.getProjection();s=new nr(Object.assign(s.getProperties(),{maxResolution:Pi[0]/Wr[l.getUnits()],projection:n.projection||s.getProjection()})),e.setView(s)}"center"in i&&!s.getCenter()&&s.setCenter(N2(i.center,s.getProjection())),"zoom"in i&&s.getZoom()===void 0&&s.setResolution(Pi[0]/Wr[s.getProjection().getUnits()]/Math.pow(2,i.zoom)),(!s.getCenter()||s.getZoom()===void 0)&&s.fit(s.getProjection().getExtent(),{nearest:!0,size:e.getSize()})}e.set("mapbox-style",i),e.set("mapbox-metadata",{styleUrl:t,options:n});const o=i.layers;let a=[],c,x,A;for(let l=0,u=o.length;l<u;++l){const h=o[l],f=h.type;if(f=="heatmap"){console.debug(`layers[${l}].type "${f}" not supported`);continue}else A=h.source||Db(o,h.ref),(!A||A!=x)&&(a.length&&(r.push(G_(c,a,i,t,e,n)),a=[]),c=Nb(i,t,h,n),c instanceof qo||c instanceof Ds||(a=[]),x=c.get("mapbox-source")),a.push(h.id)}return r.push(G_(c,a,i,t,e,n)),Promise.all(r)}function Ub(i,e,t={}){let n,r;if(typeof i=="string"||i instanceof HTMLElement?r=new DI({target:i}):r=i,typeof e=="string"){const s=e.startsWith("data:")?location.href:rg(e,t.accessToken);t=Rb(s,t),n=new Promise(function(o,a){B_(e,t).then(function(c){Pb(c,r,s,t).then(function(){o(r)}).catch(a)}).catch(function(c){a(new Error(`Could not load ${e}: ${c.message}`))})})}else n=new Promise(function(s,o){Pb(e,r,!t.styleUrl||t.styleUrl.startsWith("data:")?location.href:rg(t.styleUrl,t.accessToken),t).then(function(){s(r)}).catch(o)});return n}function G_(i,e,t,n,r,s={}){let o=24,a=0;const c=t.layers;for(let x=0,A=c.length;x<A;++x){const l=c[x];e.indexOf(l.id)!==-1&&(o=Math.min("minzoom"in l?l.minzoom:0,o),a=Math.max("maxzoom"in l?l.maxzoom:24,a))}return new Promise(function(x,A){const l=function(){const h=i.getSource();if(!h||h.getState()==="error"){A(new Error("Error accessing data for source "+i.get("mapbox-source")));return}if("getTileGrid"in h){const f=h.getTileGrid();if(f){const g=f.getMinZoom();(o>0||g>0)&&i.setMaxResolution(Math.min(cg(o,Pi),f.getResolution(g))+1e-15),a<24&&i.setMinResolution(cg(a,Pi))}}else o>0&&i.setMaxResolution(cg(o,Pi)+1e-15);h instanceof Wo||h instanceof uI?F_(i,t,e,Object.assign({styleUrl:n},s)).then(function(){VS(i,r),x()}).catch(A):x()};i.set("mapbox-layers",e);const u=r.getLayers();u.getArray().indexOf(i)===-1&&u.push(i),i.getSource()?l():i.once("change:source",l)})}function Ob(i,e){return i.get("mapbox-style").layers.find(function(r){return r.id===e})}function JS(i,e,t){const n=i.get("mapbox-style"),r=n.layers;let s,o=-1;if(t!==void 0){const A=Ob(i,t);if(A===void 0)throw new Error(`Layer with id "${t}" not found.`);s=r.indexOf(A)}else s=r.length;let a;if(s>0&&r[s-1].source===e.source?(o=s-1,a=-1):s<r.length&&r[s].source===e.source&&(o=s,a=0),o===-1){const{options:A,styleUrl:l}=i.get("mapbox-metadata"),u=Nb(n,l,e,A);if(t){const h=G0(i,t),f=i.getLayers().getArray().indexOf(h);i.getLayers().insertAt(f,u)}return r.splice(s,0,e),G_(u,[e.id],n,l,i,A)}if(r.some(A=>A.id===e.id))throw new Error(`Layer with id "${e.id}" already exists.`);const c=r[o].id,x=hg[ag(i.get("mapbox-style"),G0(i,c))];if(r.splice(s,0,e),x){const[A,l,u,h,f,g,d,p]=x;if(Array.isArray(u)){const I=u.indexOf(c)+a;u.splice(I,0,e.id)}EA(A,l,u,h,f,g,d,p)}else G0(i,r[o].id).changed();return Promise.resolve()}function KS(i,e){const t=i.get("mapbox-style"),n=t.layers,r=n.findIndex(function(a){return a.id===e.id});if(r===-1)throw new Error(`Layer with id "${e.id}" not found.`);if(n[r].source!==e.source)throw new Error("Updated layer and previous version must use the same source.");delete y_(t)[e.id],delete mb(t)[e.id],n[r]=e;const o=hg[ag(i.get("mapbox-style"),G0(i,e.id))];o?EA.apply(void 0,o):G0(i,e.id).changed()}function XS(i,e,t){const n=zb(i,e),r=i.getLayers().getArray().filter(function(a){return(a instanceof qo||a instanceof dI||a instanceof Ds)&&a.getSource()===n}),s=i.get("mapbox-metadata");let o;switch(t.type){case"vector":o=T_(t,s.styleUrl,s.options);break;case"geojson":o=Promise.resolve(L_(t,s.styleUrl,s.options));break;case"raster":case"raster-dem":o=Lb(t,s.styleUrl,s.options);break;default:return Promise.reject(new Error("Unsupported source type "+t.type))}return o.then(function(a){r.forEach(function(c){c.setSource(a)})}),o}function ZS(i,e){const t=typeof e=="string"?e:e.id,n=G0(i,t),r=n.get("mapbox-layers");if(r.length===1)throw new Error("Cannot remove last Mapbox layer from an OpenLayers layer.");r.splice(r.indexOf(t),1);const s=i.get("mapbox-style"),o=s.layers;o.splice(o.findIndex(c=>c.id===t),1);const a=hg[ag(s,n)];if(a){const[c,x,A,l,u,h,f,g]=a;Array.isArray(A)&&A.splice(A.findIndex(d=>d===t),1),EA(c,x,A,l,u,h,f,g)}else G0(i,t).changed()}function G0(i,e){const t=i.getLayers().getArray();for(let n=0,r=t.length;n<r;++n){const s=t[n].get("mapbox-layers");if(s&&s.indexOf(e)!==-1)return t[n]}}function N_(i,e){const t=[],n=i.getLayers().getArray();for(let r=0,s=n.length;r<s;++r)n[r].get("mapbox-source")===e&&t.push(n[r]);return t}function zb(i,e){const t=i.getLayers().getArray();for(let n=0,r=t.length;n<r;++n){const s=t[n].getSource();if(t[n].get("mapbox-source")===e)return s}}function WS(i,e,t){const n="getLayers"in i?N_(i,e.source):[i];for(let r=0,s=n.length;r<s;++r){const o=n[r].get("mapbox-featurestate");if(o)t?o[e.id]=t:delete o[e.id],n[r].changed();else throw new Error(`Map or layer for source "${e.source}" not found.`)}}function $S(i,e){const t="getLayers"in i?N_(i,e.source):[i];for(let n=0,r=t.length;n<r;++n){const s=t[n].get("mapbox-featurestate");if(s&&s[e.id])return s[e.id]}}class tD extends di{constructor(e){super(rt.ERROR),this.error=e}}class eD extends Ds{constructor(e){const t="declutter"in e?e.declutter:!0,n=new uI({state:"loading",format:new h3});super({source:n,background:e.background,declutter:t,className:e.className,opacity:e.opacity,visible:e.visible,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution,minZoom:e.minZoom,maxZoom:e.maxZoom,renderOrder:e.renderOrder,renderBuffer:e.renderBuffer,renderMode:e.renderMode,map:e.map,updateWhileAnimating:e.updateWhileAnimating,updateWhileInteracting:e.updateWhileInteracting,preload:e.preload,useInterimTilesOnError:e.useInterimTilesOnError,properties:e.properties}),e.accessToken&&(this.accessToken=e.accessToken);const r=e.styleUrl,s=[F_(this,r,e.layers||e.source,{accessToken:this.accessToken})];this.getBackground()===void 0&&s.push(Sb(this,e.styleUrl,{accessToken:this.accessToken})),Promise.all(s).then(()=>{n.setState("ready")}).catch(o=>{this.dispatchEvent(new tD(o)),this.getSource().setState("error")})}}const nD=Object.freeze(Object.defineProperty({__proto__:null,MapboxVectorLayer:eD,addMapboxLayer:JS,apply:Ub,applyBackground:Sb,applyStyle:F_,cme_FrostLineStyle:w7,cme_LINES_SYMBOL2:v7,cme_LINES_SYMBOL3:R7,cme_LINES_SYMBOL4:D7,cme_LINES_SYMBOL5:S7,cme_PloygonStyle:Q7,cme_Point:c3,cme_commonStyle:jn,cme_polygon:U7,cme_polyline:G7,cme_text:O7,default:Ub,getFeatureState:$S,getLayer:G0,getLayers:N_,getMapboxLayer:Ob,getSource:zb,getStyleForLayer:GS,recordStyleLayer:LS,removeMapboxLayer:ZS,renderTransparent:FS,setFeatureState:WS,stylefunction:EA,updateMapboxLayer:KS,updateMapboxSource:XS},Symbol.toStringTag,{value:"Module"}));class iD{constructor(){}getCommonStyle(e){return{Style:{image:{cme_style_FontSymbol:{glyph:e,form:"",fontStyle:"unset",radius:20,rotation:2,displacement:[0,0],color:"#ff0000",fill:{Fill:{color:"rgba(0,255,0,1)"}},stroke:{Stroke:{color:"rgba(255,255,0,1)",width:1}},fill:{Fill:{color:"rgba(255,255,0,0)"}},stroke:{Stroke:{color:"rgba(0,0,255,0)",width:1}}}}}}}getWindyStyle(e,t,n,r){let s=r.style1,o={Style:{image:{cme_style_FontSymbol:{glyph:e,radius:18,rotation:t,displacement:[0,0],color:"#000000"}}}},a=this.mergeObjects(s,o),c=null;if(r.rule&&r.rule.color){c=r.rule.color;for(let A=0;A<c.length-1;A++)n>=c[A][0]&&n<c[A+1][0]&&(a.Style.image.cme_style_FontSymbol.color=c[A][1])}let x=null;if(r.rule&&r.rule.size){x=r.rule.size;for(let A=0;A<x.length-1;A++)n>=x[A][0]&&n<x[A+1][0]&&(a.Style.image.cme_style_FontSymbol.radius=x[A][1])}return a}mergeObjects(e,t){if(typeof t!="object"||t===null)return e;let n=Array.isArray(t)?[...t]:{...t};for(let r in e)e.hasOwnProperty(r)&&(typeof e[r]=="object"&&e[r]!==null&&t.hasOwnProperty(r)?n[r]=this.mergeObjects(e[r],t[r]):n[r]=e[r]);return n}}class rD{constructor(){this.commonPoint=new iD,this.cme_Point=new c3}setWindStyle(e,t,n,r,s){const o=n;let a=this.commonPoint.getWindyStyle(t,o,r,s);e.setProperties({customStyle:a});let c=this.getwindyStyleByJSON(a);e.setStyle(c)}getwindyStyleByJSON(e){var t=[];let n=this.cme_Point.getCme_Style(e);return t.push(n),t}setStyle(e,t){let n=this.commonPoint.getStyle(t);e.setProperties({customStyle:n});var r=[];let s=this.cme_Point.getCme_Style(n);r.push(s),e.setStyle(r)}}var sD=class extends qo{constructor(e,t){super(t),this.map=e,this.options=t,this.FontSymbolStyle=new rD,this.firstBool=!1,this.setOpacity(0),this.layer=t.layer,this.worldExtent=null,this.rasterDatas=null}_render(){return new Promise((e,t)=>{e(!0),this.once("postrender",n=>{this.firstBool=!0,setTimeout(()=>{this.worldExtent=null,this.drawGridNumber(this.rasterDatas)},30)})})}isViewExtentEqual(e){const t=this.map.getView().calculateExtent(this.map.getSize());return JSON.stringify(t)===JSON.stringify(e)}drawGridNumber(e){e!=null&&(this.worldExtent&&this.isViewExtentEqual(this.worldExtent)||this.setDataToLayer(e))}setDataToLayer(e){var _,m;this.rasterDatas=e,this.worldExtent=this.map.getView().calculateExtent(this.map.getSize());let t=[],n=[],r=[],s=[],o=[],a=[],c=[];e.forEach(y=>{t.push(y.params.bbox),n.push(y.params.viewBBox),r.push(y.params.interpolationParams),s.push(y.params.bandsNumber),o.push(y.params.metadata),a.push(n3(y.params.bbox,y.params.viewBBox,y.params.interpolationParams,y,y.params.bandsNumber,y.params.metadata)),c.push(y.params.project)}),this.options;let x=this.map.getView().getProjection().getCode(),A=c[0];var l=t[0];A!=x&&(x=="EPSG:3857"&&(t[0][1]<-85.05112877980659&&(t[0][1]=-85.05112877980659),t[0][3]>85.05112877980659&&(t[0][3]=85.05112877980659)),l=P2(t[0],A,x));let u=30;const[h,f,g]=bC(this.map,this.worldExtent,l,window.innerWidth,window.innerHeight,u);let d,p=[],I;for(let y=0;y<h.length;y++)for(let E=0;E<a.length;E++){let C=this.map.getCoordinateFromPixel(h[y]),b=this._getData(C,r[E],s[E],a[E]);if(b!=null){I=new cs(C);const B=b.speed;if(!this.getRange(B))break;d=new Vo(I);let w=(b.direction*Math.PI/180).toFixed(2),R=this.getwindySpeed(B),D="icon-jiantou";((_=this.options)==null?void 0:_.windType)=="arrow"?D="icon-jiantou":((m=this.options)==null?void 0:m.windType)=="wind"&&(D="icon-zheng_"+R+"ji"),this.FontSymbolStyle.setWindStyle(d,D,w,B,this.options),p.push(d)}}this.addFeaturesToLayer(p)}getRange(e){return this.options.range?e<=(this.options.range.max||99999999)&&e>=(this.options.range.min||-99999999):!0}updateStyle(e){this.options.range=e.range,this.setDataToLayer(this.rasterDatas)}addFeaturesToLayer(e){if(e.length>0){if(this.getSource())this.getSource().clear();else{let t=new Wo({wrapX:!1});this.setSource(t)}e.length>0&&(this.firstBool==!0?(this.setVisible(!1),this.getSource().addFeatures(e),this.getSource().changed(),this.changed(),this.setOpacity(0),this.setVisible(!0),this.setOpacity(1)):this.getSource().addFeatures(e))}}_setSource(e){}_setStyle(e){}_remove(){}_getData(e,t,n,r){let s=ro(this.map,e),o=[t.lo1,t.la1,t.lo2,t.la2],a=[s[0],s[1]];return a[0]%360<-180?a[0]=360+a[0]%360:a[0]=a[0]%360,a[0]>180&&(a[0]=a[0]-360),t3(n,o,a[0],a[1],r,t.dx,t.dy)}getwindySpeed(e){let t=0;return e==0?t=null:e>0&&e<=2?t=0:e>2&&e<=4?t=1:e>4&&e<=6?t=2:e>6&&e<=8?t=3:e>8&&e<=10?t=4:e>10&&e<=12?t=5:e>12&&e<=14?t=6:e>14&&e<=16?t=7:e>16&&e<=18?t=8:e>18&&e<=20?t=9:e>20&&e<=22?t=10:e>22&&e<=24?t=11:e>26&&e<=28?t=12:e>28&&e<=30?t=13:e>30&&e<=32?t=14:e>32&&e<=34?t=15:e>34&&e<=36?t=16:e>36&&e<=38?t=17:e>38&&e<=40?t=18:e>40&&e<=42?t=19:e>42&&e<=44?t=20:e>44&&e<=46?t=21:e>46&&e<=48?t=22:e>48&&e<=50?t=23:e>50&&e<=52?t=24:e>52&&e<=54?t=25:e>54&&e<=56?t=26:e>56&&e<=58?t=27:e>58&&e<=60?t=28:t=29,t}};class oD{constructor(e,t){Ne(this,"mapMoveEvent",()=>{this.initBool==!0&&this.resolutionTif!=null&&this.resolutionTif.getData().then(e=>{this.getLayerByName(),this.rasterDataColltion=e,this.cogLayer&&this.cogLayer.drawGridNumber(e),this.gridLayer!=null&&this.gridLayer.drawGridNumber(e),this.arrowLayer!=null&&this.arrowLayer.drawGridNumber(e)})});this.map=e,this.initBool=!1,this.option=t,this.resolutionTif=null,this.cogLayer=null,this.gridLayer=null,this.arrowLayer=null,this.cogLayerParams=null,this.gridLayerParams=null,this.arrowLayerParams=null,this.rasterDataColltion=null}getLayerByName(){var t,n,r;const e=this.map.getLayers().getArray();this.cogLayer=null,this.gridLayer=null,this.arrowLayer=null;for(const s of e)s.get("layerName")!=null&&(s.get("layerName")===((t=this.cogLayerParams)==null?void 0:t.layerName)&&(this.cogLayer=s),s.get("layerName")===((n=this.gridLayerParams)==null?void 0:n.layerName)&&(this.gridLayer=s),s.get("layerName")===((r=this.arrowLayerParams)==null?void 0:r.layerName)&&(this.arrowLayer=s))}_render(){return this.map.on("moveend",this.mapMoveEvent),this.resolutionTif=new bw(this.map,this.option),new Promise((e,t)=>{this.resolutionTif._render().then(n=>{this.initBool=!0,this.resolutionTif.getData().then(r=>(this.rasterDataColltion=r,this.cogLayer&&this.cogLayer.drawGridNumber(r),this.gridLayer!=null&&this.gridLayer.drawGridNumber(r),this.arrowLayer!=null&&this.arrowLayer.drawGridNumber(r),e(!0)))})})}updateStyle(){let e={cogtifLayer:{colors:[[12,[225,225,0,0]],[16,[250,166,68]],[20,[250,113,0]],[24,[255,181,181,0]]]},gridLayer:{range:{min:10,max:20}},arrowLayer:{range:{min:8,max:10}}};this.cogLayer.updateStyle(e.cogtifLayer)}addCogeoLayer(e){return new Promise((t,n)=>{this.cogLayerParams=e,this.cogLayer=new q6(this.map,e),this.cogLayer._render1().then(r=>(this.cogLayer.drawGridNumber(this.rasterDataColltion),t(this.cogLayer)))})}addTextLayer(e){return this.gridLayerParams=e,new Promise((t,n)=>{this.gridLayer=new i7(this.map,e),this.gridLayer._render().then(r=>(this.gridLayer.drawGridNumber(this.rasterDataColltion),t(this.gridLayer)))})}addArrowLayer(e){return this.arrowLayerParams=e,new Promise((t,n)=>(Ww(),this.arrowLayer=new sD(this.map,e),this.arrowLayer._render().then(r=>{this.arrowLayer.drawGridNumber(this.rasterDataColltion)}),t(this.arrowLayer)))}clear(){this.map.on("moveend",this.mapMoveEvent),this.resolutionTif=null,this.cogLayer=null,this.gridLayer=null,this.arrowLayer=null,this.rasterDataColltion=null}}class fg{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const aD={PROPERTYCHANGE:"propertychange"};class xD{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function cD(i,e){return i>e?1:i<e?-1:0}function P_(i,e,t){if(i[0]<=e)return 0;const n=i.length;if(e<=i[n-1])return n-1;if(typeof t=="function"){for(let r=1;r<n;++r){const s=i[r];if(s===e)return r;if(s<e)return t(e,i[r-1],s)>0?r-1:r}return n-1}if(t>0){for(let r=1;r<n;++r)if(i[r]<e)return r-1;return n-1}if(t<0){for(let r=1;r<n;++r)if(i[r]<=e)return r;return n-1}for(let r=1;r<n;++r){if(i[r]==e)return r;if(i[r]<e)return i[r-1]-e<e-i[r]?r-1:r}return n-1}function AD(i,e){const t=Array.isArray(e)?e:[e],n=t.length;for(let r=0;r<n;r++)i[i.length]=t[r]}function qb(i,e){const t=i.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(i[n]!==e[n])return!1;return!0}function U_(){}function lD(i){let e,t,n;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==n||!qb(r,t))&&(n=this,t=r,e=i.apply(this,arguments)),e}}function uD(i){function e(){let t;try{t=i()}catch(n){return Promise.reject(n)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function Yb(i){for(const e in i)delete i[e]}function hD(i){let e;for(e in i)return!1;return!e}class Hb extends xD{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const n=this.listeners_||(this.listeners_={}),r=n[e]||(n[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t=typeof e=="string",n=t?e:e.type,r=this.listeners_&&this.listeners_[n];if(!r)return;const s=t?new fg(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});n in o||(o[n]=0,a[n]=0),++o[n];let c;for(let x=0,A=r.length;x<A;++x)if("handleEvent"in r[x]?c=r[x].handleEvent(s):c=r[x].call(this,s),c===!1||s.propagationStopped){c=!1;break}if(--o[n]===0){let x=a[n];for(delete a[n];x--;)this.removeEventListener(n,U_);delete o[n]}return c}disposeInternal(){this.listeners_&&Yb(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const n=this.listeners_[e];if(!n)return;const r=n.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[r]=U_,++this.pendingRemovals_[e]):(n.splice(r,1),n.length===0&&delete this.listeners_[e]))}}const Ts={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function Ls(i,e,t,n,r){if(r){const o=t;t=function(){i.removeEventListener(e,t),o.apply(n??this,arguments)}}else n&&n!==i&&(t=t.bind(n));const s={target:i,type:e,listener:t};return i.addEventListener(e,t),s}function jb(i,e,t,n){return Ls(i,e,t,n,!0)}function Sa(i){i&&i.target&&(i.target.removeEventListener(i.type,i.listener),Yb(i))}class yA extends Hb{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Ts.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const n=e.length,r=new Array(n);for(let s=0;s<n;++s)r[s]=Ls(this,e[s],t);return r}return Ls(this,e,t)}onceInternal(e,t){let n;if(Array.isArray(e)){const r=e.length;n=new Array(r);for(let s=0;s<r;++s)n[s]=jb(this,e[s],t)}else n=jb(this,e,t);return t.ol_key=n,n}unInternal(e,t){const n=t.ol_key;if(n)fD(n);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}}yA.prototype.on,yA.prototype.once,yA.prototype.un;function fD(i){if(Array.isArray(i))for(let e=0,t=i.length;e<t;++e)Sa(i[e]);else Sa(i)}function Xe(){throw new Error("Unimplemented abstract method.")}let dD=0;function gD(i){return i.ol_uid||(i.ol_uid=String(++dD))}class Vb extends fg{constructor(e,t,n){super(e),this.key=t,this.oldValue=n}}class dg extends yA{constructor(e){super(),this.on,this.once,this.un,gD(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let n;n=`change:${e}`,this.hasListener(n)&&this.dispatchEvent(new Vb(n,e,t)),n=aD.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new Vb(n,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,n){const r=this.values_||(this.values_={});if(n)r[e]=t;else{const s=r[e];r[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(const n in e)this.set(n,e[n],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const n=this.values_[e];delete this.values_[e],hD(this.values_)&&(this.values_=null),t||this.notify(e,n)}}}const Kt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};function zr(i,e){if(!i)throw new Error(e)}function Wn(i,e,t){return Math.min(Math.max(i,e),t)}function pD(i,e,t,n,r,s){const o=r-t,a=s-n;if(o!==0||a!==0){const c=((i-t)*o+(e-n)*a)/(o*o+a*a);c>1?(t=r,n=s):c>0&&(t+=o*c,n+=a*c)}return Da(i,e,t,n)}function Da(i,e,t,n){const r=t-i,s=n-e;return r*r+s*s}function ID(i){const e=i.length;for(let n=0;n<e;n++){let r=n,s=Math.abs(i[n][n]);for(let a=n+1;a<e;a++){const c=Math.abs(i[a][n]);c>s&&(s=c,r=a)}if(s===0)return null;const o=i[r];i[r]=i[n],i[n]=o;for(let a=n+1;a<e;a++){const c=-i[a][n]/i[n][n];for(let x=n;x<e+1;x++)n==x?i[a][x]=0:i[a][x]+=c*i[n][x]}}const t=new Array(e);for(let n=e-1;n>=0;n--){t[n]=i[n][e]/i[n][n];for(let r=n-1;r>=0;r--)i[r][e]-=i[r][n]*t[n]}return t}function gg(i){return i*Math.PI/180}function CA(i,e){const t=i%e;return t*e<0?t+e:t}function _D(i,e,t){return i+t*(e-i)}function mD(i,e){const t=Math.pow(10,e);return Math.round(i*t)/t}function pg(i,e){return Math.ceil(mD(i,e))}class ED extends dg{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[Kt.OPACITY]=e.opacity!==void 0?e.opacity:1,zr(typeof t[Kt.OPACITY]=="number","Layer opacity must be a number"),t[Kt.VISIBLE]=e.visible!==void 0?e.visible:!0,t[Kt.Z_INDEX]=e.zIndex,t[Kt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[Kt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[Kt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[Kt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},n=this.getZIndex();return t.opacity=Wn(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=n===void 0&&!t.managed?1/0:n,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Xe()}getLayerStatesArray(e){return Xe()}getExtent(){return this.get(Kt.EXTENT)}getMaxResolution(){return this.get(Kt.MAX_RESOLUTION)}getMinResolution(){return this.get(Kt.MIN_RESOLUTION)}getMinZoom(){return this.get(Kt.MIN_ZOOM)}getMaxZoom(){return this.get(Kt.MAX_ZOOM)}getOpacity(){return this.get(Kt.OPACITY)}getSourceState(){return Xe()}getVisible(){return this.get(Kt.VISIBLE)}getZIndex(){return this.get(Kt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Kt.EXTENT,e)}setMaxResolution(e){this.set(Kt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Kt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Kt.MAX_ZOOM,e)}setMinZoom(e){this.set(Kt.MIN_ZOOM,e)}setOpacity(e){zr(typeof e=="number","Layer opacity must be a number"),this.set(Kt.OPACITY,e)}setVisible(e){this.set(Kt.VISIBLE,e)}setZIndex(e){this.set(Kt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const bA={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},ur={ANIMATING:0,INTERACTING:1},Ui={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},yD=256,Jb={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Kb{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Jb[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const BA=6378137,ka=Math.PI*BA,CD=[-ka,-ka,ka,ka],bD=[-180,-85,180,85],Ig=BA*Math.log(Math.tan(Math.PI/2));class Ma extends Kb{constructor(e){super({code:e,units:"m",extent:CD,global:!0,worldExtent:bD,getPointResolution:function(t,n){return t/Math.cosh(n[1]/BA)}})}}const Xb=[new Ma("EPSG:3857"),new Ma("EPSG:102100"),new Ma("EPSG:102113"),new Ma("EPSG:900913"),new Ma("http://www.opengis.net/def/crs/EPSG/0/3857"),new Ma("http://www.opengis.net/gml/srs/epsg.xml#3857")];function BD(i,e,t,n){const r=i.length;t=t>1?t:2,n=n??t,e===void 0&&(t>2?e=i.slice():e=new Array(r));for(let s=0;s<r;s+=n){e[s]=ka*i[s]/180;let o=BA*Math.log(Math.tan(Math.PI*(+i[s+1]+90)/360));o>Ig?o=Ig:o<-Ig&&(o=-Ig),e[s+1]=o}return e}function wD(i,e,t,n){const r=i.length;t=t>1?t:2,n=n??t,e===void 0&&(t>2?e=i.slice():e=new Array(r));for(let s=0;s<r;s+=n)e[s]=180*i[s]/ka,e[s+1]=360*Math.atan(Math.exp(i[s+1]/BA))/Math.PI-90;return e}const QD=6378137,Zb=[-180,-90,180,90],vD=Math.PI*QD/180;class Gs extends Kb{constructor(e,t){super({code:e,units:"degrees",extent:Zb,axisOrientation:t,global:!0,metersPerUnit:vD,worldExtent:Zb})}}const Wb=[new Gs("CRS:84"),new Gs("EPSG:4326","neu"),new Gs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Gs("urn:ogc:def:crs:OGC:2:84"),new Gs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Gs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Gs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let O_={};function RD(i){return O_[i]||O_[i.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function SD(i,e){O_[i]=e}let Fa={};function _g(i,e,t){const n=i.getCode(),r=e.getCode();n in Fa||(Fa[n]={}),Fa[n][r]=t}function DD(i,e){let t;return i in Fa&&e in Fa[i]&&(t=Fa[i][e]),t}const xn={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function $b(i){const e=Ta();for(let t=0,n=i.length;t<n;++t)mg(e,i[t]);return e}function t5(i,e,t){let n,r;return e<i[0]?n=i[0]-e:i[2]<e?n=e-i[2]:n=0,t<i[1]?r=i[1]-t:i[3]<t?r=t-i[3]:r=0,n*n+r*r}function e5(i,e){return n5(i,e[0],e[1])}function wA(i,e){return i[0]<=e[0]&&e[2]<=i[2]&&i[1]<=e[1]&&e[3]<=i[3]}function n5(i,e,t){return i[0]<=e&&e<=i[2]&&i[1]<=t&&t<=i[3]}function i5(i,e){const t=i[0],n=i[1],r=i[2],s=i[3],o=e[0],a=e[1];let c=xn.UNKNOWN;return o<t?c=c|xn.LEFT:o>r&&(c=c|xn.RIGHT),a<n?c=c|xn.BELOW:a>s&&(c=c|xn.ABOVE),c===xn.UNKNOWN&&(c=xn.INTERSECTING),c}function Ta(){return[1/0,1/0,-1/0,-1/0]}function z_(i,e,t,n,r){return r?(r[0]=i,r[1]=e,r[2]=t,r[3]=n,r):[i,e,t,n]}function q_(i){return z_(1/0,1/0,-1/0,-1/0,i)}function kD(i,e){const t=i[0],n=i[1];return z_(t,n,t,n,e)}function MD(i,e,t,n,r){const s=q_(r);return r5(s,i,e,t,n)}function FD(i,e){return i[0]==e[0]&&i[2]==e[2]&&i[1]==e[1]&&i[3]==e[3]}function TD(i,e){return e[0]<i[0]&&(i[0]=e[0]),e[2]>i[2]&&(i[2]=e[2]),e[1]<i[1]&&(i[1]=e[1]),e[3]>i[3]&&(i[3]=e[3]),i}function mg(i,e){e[0]<i[0]&&(i[0]=e[0]),e[0]>i[2]&&(i[2]=e[0]),e[1]<i[1]&&(i[1]=e[1]),e[1]>i[3]&&(i[3]=e[1])}function r5(i,e,t,n,r){for(;t<n;t+=r)LD(i,e[t],e[t+1]);return i}function LD(i,e,t){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}function GD(i,e){let t;return t=e(Y_(i)),t||(t=e(H_(i)),t)||(t=e(j_(i)),t)||(t=e(Eg(i)),t)?t:!1}function ND(i){let e=0;return vA(i)||(e=Le(i)*pn(i)),e}function Y_(i){return[i[0],i[1]]}function H_(i){return[i[2],i[1]]}function La(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function s5(i,e,t,n,r){const[s,o,a,c,x,A,l,u]=PD(i,e,t,n);return z_(Math.min(s,a,x,l),Math.min(o,c,A,u),Math.max(s,a,x,l),Math.max(o,c,A,u),r)}function PD(i,e,t,n){const r=e*n[0]/2,s=e*n[1]/2,o=Math.cos(t),a=Math.sin(t),c=r*o,x=r*a,A=s*o,l=s*a,u=i[0],h=i[1];return[u-c+l,h-x-A,u-c-l,h-x+A,u+c-l,h+x+A,u+c+l,h+x-A,u-c+l,h-x-A]}function pn(i){return i[3]-i[1]}function o5(i,e,t){const n=t||Ta();return QA(i,e)?(i[0]>e[0]?n[0]=i[0]:n[0]=e[0],i[1]>e[1]?n[1]=i[1]:n[1]=e[1],i[2]<e[2]?n[2]=i[2]:n[2]=e[2],i[3]<e[3]?n[3]=i[3]:n[3]=e[3]):q_(n),n}function Eg(i){return[i[0],i[3]]}function j_(i){return[i[2],i[3]]}function Le(i){return i[2]-i[0]}function QA(i,e){return i[0]<=e[2]&&i[2]>=e[0]&&i[1]<=e[3]&&i[3]>=e[1]}function vA(i){return i[2]<i[0]||i[3]<i[1]}function UD(i,e){return e?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e):i}function OD(i,e){const t=(i[2]-i[0])/2*(e-1),n=(i[3]-i[1])/2*(e-1);i[0]-=t,i[2]+=t,i[1]-=n,i[3]+=n}function zD(i,e,t){let n=!1;const r=i5(i,e),s=i5(i,t);if(r===xn.INTERSECTING||s===xn.INTERSECTING)n=!0;else{const o=i[0],a=i[1],c=i[2],x=i[3],A=e[0],l=e[1],u=t[0],h=t[1],f=(h-l)/(u-A);let g,d;s&xn.ABOVE&&!(r&xn.ABOVE)&&(g=u-(h-x)/f,n=g>=o&&g<=c),!n&&s&xn.RIGHT&&!(r&xn.RIGHT)&&(d=h-(u-c)*f,n=d>=a&&d<=x),!n&&s&xn.BELOW&&!(r&xn.BELOW)&&(g=u-(h-a)/f,n=g>=o&&g<=c),!n&&s&xn.LEFT&&!(r&xn.LEFT)&&(d=h-(u-o)*f,n=d>=a&&d<=x)}return n}function qD(i,e){return i[0]+=+e[0],i[1]+=+e[1],i}function yg(i,e){let t=!0;for(let n=i.length-1;n>=0;--n)if(i[n]!=e[n]){t=!1;break}return t}function YD(i,e){const t=Math.cos(e),n=Math.sin(e),r=i[0]*t-i[1]*n,s=i[1]*t+i[0]*n;return i[0]=r,i[1]=s,i}const HD=63710088e-1;function a5(i,e,t){t=t||HD;const n=gg(i[1]),r=gg(e[1]),s=(r-n)/2,o=gg(e[0]-i[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(n)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function jD(...i){console.warn(...i)}let V_=!0;function VD(i){V_=!1}function J_(i,e){if(e!==void 0){for(let t=0,n=i.length;t<n;++t)e[t]=i[t];e=e}else e=i.slice();return e}function x5(i,e){if(e!==void 0&&i!==e){for(let t=0,n=i.length;t<n;++t)e[t]=i[t];i=e}return i}function JD(i){SD(i.getCode(),i),_g(i,i,J_)}function KD(i){i.forEach(JD)}function N0(i){return typeof i=="string"?RD(i):i||null}function c5(i,e,t,n){i=N0(i);let r;const s=i.getPointResolutionFunc();if(s)r=s(e,t);else{const o=i.getUnits();if(o=="degrees"&&!n||n=="degrees")r=e;else{const a=X_(i,N0("EPSG:4326"));if(a===x5&&o!=="degrees")r=e*i.getMetersPerUnit();else{let x=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];x=a(x,x,2);const A=a5(x.slice(0,2),x.slice(2,4)),l=a5(x.slice(4,6),x.slice(6,8));r=(A+l)/2}const c=i.getMetersPerUnit();c!==void 0&&(r/=c)}}return r}function A5(i){KD(i),i.forEach(function(e){i.forEach(function(t){e!==t&&_g(e,t,J_)})})}function XD(i,e,t,n){i.forEach(function(r){e.forEach(function(s){_g(r,s,t),_g(s,r,n)})})}function K_(i,e){return i?typeof i=="string"?N0(i):i:N0(e)}function l5(i,e){if(i===e)return!0;const t=i.getUnits()===e.getUnits();return(i.getCode()===e.getCode()||X_(i,e)===J_)&&t}function X_(i,e){const t=i.getCode(),n=e.getCode();let r=DD(t,n);return r||(r=x5),r}function Cg(i,e){const t=N0(i),n=N0(e);return X_(t,n)}function bg(i,e,t){return Cg(e,t)(i,void 0,i.length)}function u5(i,e){return i}function P0(i,e){return V_&&!yg(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(V_=!1,jD("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),i}function ZD(i,e){return i}function Ga(i,e){return i}function WD(){A5(Xb),A5(Wb),XD(Wb,Xb,BD,wD)}WD();function h5(i,e,t){return function(n,r,s,o,a){if(!n)return;if(!r&&!e)return n;const c=e?0:s[0]*r,x=e?0:s[1]*r,A=a?a[0]:0,l=a?a[1]:0;let u=i[0]+c/2+A,h=i[2]-c/2+A,f=i[1]+x/2+l,g=i[3]-x/2+l;u>h&&(u=(h+u)/2,h=u),f>g&&(f=(g+f)/2,g=f);let d=Wn(n[0],u,h),p=Wn(n[1],f,g);if(o&&t&&r){const I=30*r;d+=-I*Math.log(1+Math.max(0,u-n[0])/I)+I*Math.log(1+Math.max(0,n[0]-h)/I),p+=-I*Math.log(1+Math.max(0,f-n[1])/I)+I*Math.log(1+Math.max(0,n[1]-g)/I)}return[d,p]}}function $D(i){return i}function Z_(i,e,t,n){const r=Le(e)/t[0],s=pn(e)/t[1];return n?Math.min(i,Math.max(r,s)):Math.min(i,Math.min(r,s))}function W_(i,e,t){let n=Math.min(i,e);const r=50;return n*=Math.log(1+r*Math.max(0,i/e-1))/r+1,t&&(n=Math.max(n,t),n/=Math.log(1+r*Math.max(0,t/i-1))/r+1),Wn(n,t/2,e*2)}function tk(i,e,t,n){return e=e!==void 0?e:!0,function(r,s,o,a){if(r!==void 0){const c=i[0],x=i[i.length-1],A=t?Z_(c,t,o,n):c;if(a)return e?W_(r,A,x):Wn(r,x,A);const l=Math.min(A,r),u=Math.floor(P_(i,l,s));return i[u]>A&&u<i.length-1?i[u+1]:i[u]}}}function ek(i,e,t,n,r,s){return n=n!==void 0?n:!0,t=t!==void 0?t:0,function(o,a,c,x){if(o!==void 0){const A=r?Z_(e,r,c,s):e;if(x)return n?W_(o,A,t):Wn(o,t,A);const l=1e-9,u=Math.ceil(Math.log(e/A)/Math.log(i)-l),h=-a*(.5-l)+.5,f=Math.min(A,o),g=Math.floor(Math.log(e/f)/Math.log(i)+h),d=Math.max(u,g),p=e/Math.pow(i,d);return Wn(p,t,A)}}}function f5(i,e,t,n,r){return t=t!==void 0?t:!0,function(s,o,a,c){if(s!==void 0){const x=n?Z_(i,n,a,r):i;return!t||!c?Wn(s,e,x):W_(s,x,e)}}}function nk(i){if(i!==void 0)return 0}function d5(i){if(i!==void 0)return i}function ik(i){const e=2*Math.PI/i;return function(t,n){if(n)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function rk(i){const e=gg(5);return function(t,n){return n||t===void 0?t:Math.abs(t)<=e?0:t}}function sk(i){return Math.pow(i,3)}function ok(i){return 1-sk(1-i)}function ak(i){return 3*i*i-2*i*i*i}new Array(6);function Bg(){return[1,0,0,1,0,0]}function qr(i,e){const t=e[0],n=e[1];return e[0]=i[0]*t+i[2]*n+i[4],e[1]=i[1]*t+i[3]*n+i[5],e}function wg(i,e,t,n,r,s,o,a){const c=Math.sin(s),x=Math.cos(s);return i[0]=n*x,i[1]=r*c,i[2]=-n*c,i[3]=r*x,i[4]=o*n*x-a*n*c+e,i[5]=o*r*c+a*r*x+t,i}function xk(i,e){const t=ck(e);zr(t!==0,"Transformation matrix cannot be inverted");const n=e[0],r=e[1],s=e[2],o=e[3],a=e[4],c=e[5];return i[0]=o/t,i[1]=-r/t,i[2]=-s/t,i[3]=n/t,i[4]=(s*c-o*a)/t,i[5]=-(n*c-r*a)/t,i}function ck(i){return i[0]*i[3]-i[1]*i[2]}const g5=[1e6,1e6,1e6,1e6,2,2];function Ak(i){return"matrix("+i.map((t,n)=>Math.round(t*g5[n])/g5[n]).join(", ")+")"}function lk(i,e,t,n,r,s,o){s=s||[],o=o||2;let a=0;for(let c=e;c<t;c+=n){const x=i[c],A=i[c+1];s[a++]=r[0]*x+r[2]*A+r[4],s[a++]=r[1]*x+r[3]*A+r[5];for(let l=2;l<o;l++)s[a++]=i[c+l]}return s&&s.length!=a&&(s.length=a),s}function uk(i,e,t,n,r,s,o){o=o||[];const a=Math.cos(r),c=Math.sin(r),x=s[0],A=s[1];let l=0;for(let u=e;u<t;u+=n){const h=i[u]-x,f=i[u+1]-A;o[l++]=x+h*a-f*c,o[l++]=A+h*c+f*a;for(let g=u+2;g<u+n;++g)o[l++]=i[g]}return o&&o.length!=l&&(o.length=l),o}function hk(i,e,t,n,r,s,o,a){a=a||[];const c=o[0],x=o[1];let A=0;for(let l=e;l<t;l+=n){const u=i[l]-c,h=i[l+1]-x;a[A++]=c+r*u,a[A++]=x+s*h;for(let f=l+2;f<l+n;++f)a[A++]=i[f]}return a&&a.length!=A&&(a.length=A),a}function fk(i,e,t,n,r,s,o){o=o||[];let a=0;for(let c=e;c<t;c+=n){o[a++]=i[c]+r,o[a++]=i[c+1]+s;for(let x=c+2;x<c+n;++x)o[a++]=i[x]}return o&&o.length!=a&&(o.length=a),o}const p5=Bg();class dk extends dg{constructor(){super(),this.extent_=Ta(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=lD((e,t,n)=>{if(!n)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Xe()}closestPointXY(e,t,n,r){return Xe()}containsXY(e,t){const n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Xe()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&q_(t),this.extentRevision_=this.getRevision()}return UD(this.extent_,e)}rotate(e,t){Xe()}scale(e,t,n){Xe()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Xe()}getType(){return Xe()}applyTransform(e){Xe()}intersectsExtent(e){return Xe()}translate(e,t){Xe()}transform(e,t){const n=N0(e),r=n.getUnits()=="tile-pixels"?function(s,o,a){const c=n.getExtent(),x=n.getWorldExtent(),A=pn(x)/pn(c);return wg(p5,x[0],x[3],A,-A,0,0,0),lk(s,0,s.length,a,p5,o),Cg(n,t)(s,o,a)}:Cg(n,t);return this.applyTransform(r),this}}class $_ extends dk{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return MD(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Xe()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=I5(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Xe()}setLayout(e,t,n){let r;if(e)r=I5(e);else{for(let s=0;s<n;++s){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=gk(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();uk(n,0,n.length,r,e,t,n),this.changed()}}scale(e,t,n){t===void 0&&(t=e),n||(n=La(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();hk(r,0,r.length,s,e,t,n,r),this.changed()}}translate(e,t){const n=this.getFlatCoordinates();if(n){const r=this.getStride();fk(n,0,n.length,r,e,t,n),this.changed()}}}function gk(i){let e;return i==2?e="XY":i==3?e="XYZ":i==4&&(e="XYZM"),e}function I5(i){let e;return i=="XY"?e=2:i=="XYZ"||i=="XYM"?e=3:i=="XYZM"&&(e=4),e}function _5(i,e,t,n,r,s,o){const a=i[e],c=i[e+1],x=i[t]-a,A=i[t+1]-c;let l;if(x===0&&A===0)l=e;else{const u=((r-a)*x+(s-c)*A)/(x*x+A*A);if(u>1)l=t;else if(u>0){for(let h=0;h<n;++h)o[h]=_D(i[e+h],i[t+h],u);o.length=n;return}else l=e}for(let u=0;u<n;++u)o[u]=i[l+u];o.length=n}function m5(i,e,t,n,r){let s=i[e],o=i[e+1];for(e+=n;e<t;e+=n){const a=i[e],c=i[e+1],x=Da(s,o,a,c);x>r&&(r=x),s=a,o=c}return r}function pk(i,e,t,n,r){for(let s=0,o=t.length;s<o;++s){const a=t[s];r=m5(i,e,a,n,r),e=a}return r}function E5(i,e,t,n,r,s,o,a,c,x,A){if(e==t)return x;let l,u;if(r===0){if(u=Da(o,a,i[e],i[e+1]),u<x){for(l=0;l<n;++l)c[l]=i[e+l];return c.length=n,u}return x}A=A||[NaN,NaN];let h=e+n;for(;h<t;)if(_5(i,h-n,h,n,o,a,A),u=Da(o,a,A[0],A[1]),u<x){for(x=u,l=0;l<n;++l)c[l]=A[l];c.length=n,h+=n}else h+=n*Math.max((Math.sqrt(u)-Math.sqrt(x))/r|0,1);if(_5(i,t-n,e,n,o,a,A),u=Da(o,a,A[0],A[1]),u<x){for(x=u,l=0;l<n;++l)c[l]=A[l];c.length=n}return x}function Ik(i,e,t,n,r,s,o,a,c,x,A){A=A||[NaN,NaN];for(let l=0,u=t.length;l<u;++l){const h=t[l];x=E5(i,e,h,n,r,s,o,a,c,x,A),e=h}return x}function _k(i,e,t,n){for(let r=0,s=t.length;r<s;++r)i[e++]=t[r];return e}function y5(i,e,t,n){for(let r=0,s=t.length;r<s;++r){const o=t[r];for(let a=0;a<n;++a)i[e++]=o[a]}return e}function mk(i,e,t,n,r){r=r||[];let s=0;for(let o=0,a=t.length;o<a;++o){const c=y5(i,e,t[o],n);r[s++]=c,e=c}return r.length=s,r}function Ek(i,e,t,n,r,s,o){const a=(t-e)/n;if(a<3){for(;e<t;e+=n)s[o++]=i[e],s[o++]=i[e+1];return o}const c=new Array(a);c[0]=1,c[a-1]=1;const x=[e,t-n];let A=0;for(;x.length>0;){const l=x.pop(),u=x.pop();let h=0;const f=i[u],g=i[u+1],d=i[l],p=i[l+1];for(let I=u+n;I<l;I+=n){const _=i[I],m=i[I+1],y=pD(_,m,f,g,d,p);y>h&&(A=I,h=y)}h>r&&(c[(A-e)/n]=1,u+n<A&&x.push(u,A),A+n<l&&x.push(A,l))}for(let l=0;l<a;++l)c[l]&&(s[o++]=i[e+l*n],s[o++]=i[e+l*n+1]);return o}function Na(i,e){return e*Math.round(i/e)}function yk(i,e,t,n,r,s,o){if(e==t)return o;let a=Na(i[e],r),c=Na(i[e+1],r);e+=n,s[o++]=a,s[o++]=c;let x,A;do if(x=Na(i[e],r),A=Na(i[e+1],r),e+=n,e==t)return s[o++]=x,s[o++]=A,o;while(x==a&&A==c);for(;e<t;){const l=Na(i[e],r),u=Na(i[e+1],r);if(e+=n,l==x&&u==A)continue;const h=x-a,f=A-c,g=l-a,d=u-c;if(h*d==f*g&&(h<0&&g<h||h==g||h>0&&g>h)&&(f<0&&d<f||f==d||f>0&&d>f)){x=l,A=u;continue}s[o++]=x,s[o++]=A,a=x,c=A,x=l,A=u}return s[o++]=x,s[o++]=A,o}function Ck(i,e,t,n,r,s,o,a){for(let c=0,x=t.length;c<x;++c){const A=t[c];o=yk(i,e,A,n,r,s,o),a.push(o),e=A}return o}function C5(i,e,t,n,r){r=r!==void 0?r:[];let s=0;for(let o=e;o<t;o+=n)r[s++]=i.slice(o,o+n);return r.length=s,r}function bk(i,e,t,n,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=t.length;o<a;++o){const c=t[o];r[s++]=C5(i,e,c,n,r[s]),e=c}return r.length=s,r}function b5(i,e,t,n){let r=0;const s=i[t-n],o=i[t-n+1];let a=0,c=0;for(;e<t;e+=n){const x=i[e]-s,A=i[e+1]-o;r+=c*x-a*A,a=x,c=A}return r/2}function Bk(i,e,t,n){let r=0;for(let s=0,o=t.length;s<o;++s){const a=t[s];r+=b5(i,e,a,n),e=a}return r}class RA extends $_{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new RA(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,n,r){return r<t5(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(m5(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),E5(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,r))}getArea(){return b5(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return C5(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=Ek(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new RA(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=y5(this.flatCoordinates,0,e,this.stride),this.changed()}}class tm extends $_{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new tm(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,n,r){const s=this.flatCoordinates,o=Da(e,t,s[0],s[1]);if(o<r){const a=this.stride;for(let c=0;c<a;++c)n[c]=s[c];return n.length=a,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return kD(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return n5(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=_k(this.flatCoordinates,0,e,this.stride),this.changed()}}function wk(i,e,t,n,r){return!GD(r,function(o){return!Ns(i,e,t,n,o[0],o[1])})}function Ns(i,e,t,n,r,s){let o=0,a=i[t-n],c=i[t-n+1];for(;e<t;e+=n){const x=i[e],A=i[e+1];c<=s?A>s&&(x-a)*(s-c)-(r-a)*(A-c)>0&&o++:A<=s&&(x-a)*(s-c)-(r-a)*(A-c)<0&&o--,a=x,c=A}return o!==0}function B5(i,e,t,n,r,s){if(t.length===0||!Ns(i,e,t[0],n,r,s))return!1;for(let o=1,a=t.length;o<a;++o)if(Ns(i,t[o-1],t[o],n,r,s))return!1;return!0}function Qk(i,e,t,n,r,s,o){let a,c,x,A,l,u,h;const f=r[s+1],g=[];for(let I=0,_=t.length;I<_;++I){const m=t[I];for(A=i[m-n],u=i[m-n+1],a=e;a<m;a+=n)l=i[a],h=i[a+1],(f<=u&&h<=f||u<=f&&f<=h)&&(x=(f-u)/(h-u)*(l-A)+A,g.push(x)),A=l,u=h}let d=NaN,p=-1/0;for(g.sort(cD),A=g[0],a=1,c=g.length;a<c;++a){l=g[a];const I=Math.abs(l-A);I>p&&(x=(A+l)/2,B5(i,e,t,n,x,f)&&(d=x,p=I)),A=l}return isNaN(d)&&(d=r[s]),[d,f,p]}function vk(i,e,t,n,r){let s;for(e+=n;e<t;e+=n)if(s=r(i.slice(e-n,e),i.slice(e,e+n)),s)return s;return!1}function w5(i,e,t,n,r){const s=r5(Ta(),i,e,t,n);return QA(r,s)?wA(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:vk(i,e,t,n,function(o,a){return zD(r,o,a)}):!1}function Rk(i,e,t,n,r){return!!(w5(i,e,t,n,r)||Ns(i,e,t,n,r[0],r[1])||Ns(i,e,t,n,r[0],r[3])||Ns(i,e,t,n,r[2],r[1])||Ns(i,e,t,n,r[2],r[3]))}function Sk(i,e,t,n,r){if(!Rk(i,e,t[0],n,r))return!1;if(t.length===1)return!0;for(let s=1,o=t.length;s<o;++s)if(wk(i,t[s-1],t[s],n,r)&&!w5(i,t[s-1],t[s],n,r))return!1;return!0}function Dk(i,e,t,n){for(;e<t-n;){for(let r=0;r<n;++r){const s=i[e+r];i[e+r]=i[t-n+r],i[t-n+r]=s}e+=n,t-=n}}function Q5(i,e,t,n){let r=0,s=i[t-n],o=i[t-n+1];for(;e<t;e+=n){const a=i[e],c=i[e+1];r+=(a-s)*(c+o),s=a,o=c}return r===0?void 0:r>0}function kk(i,e,t,n,r){r=r!==void 0?r:!1;for(let s=0,o=t.length;s<o;++s){const a=t[s],c=Q5(i,e,a,n);if(s===0){if(r&&c||!r&&!c)return!1}else if(r&&!c||!r&&c)return!1;e=a}return!0}function v5(i,e,t,n,r){r=r!==void 0?r:!1;for(let s=0,o=t.length;s<o;++s){const a=t[s],c=Q5(i,e,a,n);(s===0?r&&c||!r&&!c:r&&!c||!r&&c)&&Dk(i,e,a,n),e=a}return e}class Qg extends $_{constructor(e,t,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&n?(this.setFlatCoordinates(t,e),this.ends_=n):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?AD(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Qg(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,r){return r<t5(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(pk(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ik(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,r))}containsXY(e,t){return B5(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return Bk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),v5(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,bk(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=La(this.getExtent());this.flatInteriorPoint_=Qk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new tm(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new RA(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,n=this.ends_,r=[];let s=0;for(let o=0,a=n.length;o<a;++o){const c=n[o],x=new RA(t.slice(s,c),e);r.push(x),s=c}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;kk(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=v5(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],n=[];return t.length=Ck(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new Qg(t,"XY",n)}getType(){return"Polygon"}intersectsExtent(e){return Sk(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=mk(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()}}function R5(i){if(vA(i))throw new Error("Cannot create polygon from empty extent");const e=i[0],t=i[1],n=i[2],r=i[3],s=[e,t,e,r,n,r,n,t,e,t];return new Qg(s,"XY",[s.length])}const em=0;class S5 extends dg{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=K_(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&VD(),e.center&&(e.center=P0(e.center,this.projection_)),e.extent&&(e.extent=Ga(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const a in Ui)delete t[a];this.setProperties(t,!0);const n=Fk(e);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom;const r=Mk(e),s=n.constraint,o=Tk(e);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const n=this.getCenterInternal();if(n){const r=e||[0,0,0,0];t=t||[0,0,0,0];const s=this.getResolution(),o=s/2*(r[3]-t[3]+t[1]-r[1]),a=s/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([n[0]+o,n[1]-a])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let n=0;n<t.length;++n){let r=arguments[n];r.center&&(r=Object.assign({},r),r.center=P0(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=P0(r.anchor,this.getProjection())),t[n]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,n;t>1&&typeof arguments[t-1]=="function"&&(n=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const A=arguments[r];A.center&&this.setCenterInternal(A.center),A.zoom!==void 0?this.setZoom(A.zoom):A.resolution&&this.setResolution(A.resolution),A.rotation!==void 0&&this.setRotation(A.rotation)}if(r===t){n&&vg(n,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,c=this.targetRotation_;const x=[];for(;r<t;++r){const A=arguments[r],l={start:s,complete:!1,anchor:A.anchor,duration:A.duration!==void 0?A.duration:1e3,easing:A.easing||ak,callback:n};if(A.center&&(l.sourceCenter=o,l.targetCenter=A.center.slice(),o=l.targetCenter),A.zoom!==void 0?(l.sourceResolution=a,l.targetResolution=this.getResolutionForZoom(A.zoom),a=l.targetResolution):A.resolution&&(l.sourceResolution=a,l.targetResolution=A.resolution,a=l.targetResolution),A.rotation!==void 0){l.sourceRotation=c;const u=CA(A.rotation-c+Math.PI,2*Math.PI)-Math.PI;l.targetRotation=c+u,c=l.targetRotation}Lk(l)?l.complete=!0:s+=l.duration,x.push(l)}this.animations_.push(x),this.setHint(ur.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[ur.ANIMATING]>0}getInteracting(){return this.hints_[ur.INTERACTING]>0}cancelAnimations(){this.setHint(ur.ANIMATING,-this.hints_[ur.ANIMATING]);let e;for(let t=0,n=this.animations_.length;t<n;++t){const r=this.animations_[t];if(r[0].callback&&vg(r[0].callback,!1),!e)for(let s=0,o=r.length;s<o;++s){const a=r[s];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let n=this.animations_.length-1;n>=0;--n){const r=this.animations_[n];let s=!0;for(let o=0,a=r.length;o<a;++o){const c=r[o];if(c.complete)continue;const x=e-c.start;let A=c.duration>0?x/c.duration:1;A>=1?(c.complete=!0,A=1):s=!1;const l=c.easing(A);if(c.sourceCenter){const u=c.sourceCenter[0],h=c.sourceCenter[1],f=c.targetCenter[0],g=c.targetCenter[1];this.nextCenter_=c.targetCenter;const d=u+l*(f-u),p=h+l*(g-h);this.targetCenter_=[d,p]}if(c.sourceResolution&&c.targetResolution){const u=l===1?c.targetResolution:c.sourceResolution+l*(c.targetResolution-c.sourceResolution);if(c.anchor){const h=this.getViewportSize_(this.getRotation()),f=this.constraints_.resolution(u,0,h,!0);this.targetCenter_=this.calculateCenterZoom(f,c.anchor)}this.nextResolution_=c.targetResolution,this.targetResolution_=u,this.applyTargetState_(!0)}if(c.sourceRotation!==void 0&&c.targetRotation!==void 0){const u=l===1?CA(c.targetRotation+Math.PI,2*Math.PI)-Math.PI:c.sourceRotation+l*(c.targetRotation-c.sourceRotation);if(c.anchor){const h=this.constraints_.rotation(u,!0);this.targetCenter_=this.calculateCenterRotate(h,c.anchor)}this.nextRotation_=c.targetRotation,this.targetRotation_=u}if(this.applyTargetState_(!0),t=!0,!c.complete)break}if(s){this.animations_[n]=null,this.setHint(ur.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=r[0].callback;o&&vg(o,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let n;const r=this.getCenterInternal();return r!==void 0&&(n=[r[0]-t[0],r[1]-t[1]],YD(n,e-this.getRotation()),qD(n,t)),n}calculateCenterZoom(e,t){let n;const r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){const o=t[0]-e*(t[0]-r[0])/s,a=t[1]-e*(t[1]-r[1])/s;n=[o,a]}return n}getViewportSize_(e){const t=this.viewportSize_;if(e){const n=t[0],r=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&u5(e,this.getProjection())}getCenterInternal(){return this.get(Ui.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return ZD(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();zr(t,"The view center is not defined");const n=this.getResolution();zr(n!==void 0,"The view resolution is not defined");const r=this.getRotation();return zr(r!==void 0,"The view rotation is not defined"),s5(t,n,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Ui.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(Ga(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const n=Le(e)/t[0],r=pn(e)/t[1];return Math.max(n,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(t/n)/Math.log(e);return function(s){return t/Math.pow(e,s*r)}}getRotation(){return this.get(Ui.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(n/r)/t;return function(o){return Math.log(n/o)/t/s}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),n=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();r=nm(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],t,n)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,n,r;if(this.resolutions_){const s=P_(this.resolutions_,e,1);t=s,n=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=n/this.resolutions_[s+1]}else n=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(n/e)/Math.log(r)}getResolutionForZoom(e){var t;if((t=this.resolutions_)!=null&&t.length){if(this.resolutions_.length===1)return this.resolutions_[0];const n=Wn(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,Wn(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let n;if(zr(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){zr(!vA(e),"Cannot fit empty extent provided as `geometry`");const r=Ga(e,this.getProjection());n=R5(r)}else if(e.getType()==="Circle"){const r=Ga(e.getExtent(),this.getProjection());n=R5(r),n.rotate(this.getRotation(),La(r))}else n=e;this.fitInternal(n,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),n=Math.cos(t),r=Math.sin(-t),s=e.getFlatCoordinates(),o=e.getStride();let a=1/0,c=1/0,x=-1/0,A=-1/0;for(let l=0,u=s.length;l<u;l+=o){const h=s[l]*n-s[l+1]*r,f=s[l]*r+s[l+1]*n;a=Math.min(a,h),c=Math.min(c,f),x=Math.max(x,h),A=Math.max(A,f)}return[a,c,x,A]}fitInternal(e,t){t=t||{};let n=t.size;n||(n=this.getViewportSizeMinusPadding_());const r=t.padding!==void 0?t.padding:[0,0,0,0],s=t.nearest!==void 0?t.nearest:!1;let o;t.minResolution!==void 0?o=t.minResolution:t.maxZoom!==void 0?o=this.getResolutionForZoom(t.maxZoom):o=0;const a=this.rotatedExtentForGeometry(e);let c=this.getResolutionForExtentInternal(a,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);c=isNaN(c)?o:Math.max(c,o),c=this.getConstrainedResolution(c,s?0:1);const x=this.getRotation(),A=Math.sin(x),l=Math.cos(x),u=La(a);u[0]+=(r[1]-r[3])/2*c,u[1]+=(r[0]-r[2])/2*c;const h=u[0]*l-u[1]*A,f=u[1]*l+u[0]*A,g=this.getConstrainedCenter([h,f],c),d=t.callback?t.callback:U_;t.duration!==void 0?this.animateInternal({resolution:c,center:g,duration:t.duration,easing:t.easing},d):(this.targetResolution_=c,this.targetCenter_=g,this.applyTargetState_(!1,!0),vg(d,!0))}centerOn(e,t,n){this.centerOnInternal(P0(e,this.getProjection()),t,n)}centerOnInternal(e,t,n){this.setCenterInternal(nm(e,t,n,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,n,r){let s;const o=this.padding_;if(o&&e){const a=this.getViewportSizeMinusPadding_(-n),c=nm(e,r,[a[0]/2+o[3],a[1]/2+o[0]],t,n);s=[e[0]-c[0],e[1]-c[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=u5(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&P0(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,n);t&&(this.targetCenter_=this.calculateCenterZoom(s,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=P0(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&P0(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const n=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,n),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,n),a=this.constraints_.center(this.targetCenter_,o,s,n,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(Ui.ROTATION)!==r&&this.set(Ui.ROTATION,r),this.get(Ui.RESOLUTION)!==o&&(this.set(Ui.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(Ui.CENTER)||!yg(this.get(Ui.CENTER),a))&&this.set(Ui.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,n){e=e!==void 0?e:200;const r=t||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),c=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=c,this.applyTargetState_();return}n=n||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!yg(this.getCenterInternal(),c))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:c,resolution:a,duration:e,easing:ok,anchor:n}))}beginInteraction(){this.resolveConstraints(0),this.setHint(ur.INTERACTING,1)}endInteraction(e,t,n){n=n&&P0(n,this.getProjection()),this.endInteractionInternal(e,t,n)}endInteractionInternal(e,t,n){this.getInteracting()&&(this.setHint(ur.INTERACTING,-1),this.resolveConstraints(e,t,n))}getConstrainedCenter(e,t){const n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}getConstrainedZoom(e,t){const n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}getConstrainedResolution(e,t){t=t||0;const n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}function vg(i,e){setTimeout(function(){i(e)},0)}function Mk(i){if(i.extent!==void 0){const t=i.smoothExtentConstraint!==void 0?i.smoothExtentConstraint:!0;return h5(i.extent,i.constrainOnlyCenter,t)}const e=K_(i.projection,"EPSG:3857");if(i.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,h5(t,!1,!1)}return $D}function Fk(i){let e,t,n,o=i.minZoom!==void 0?i.minZoom:em,a=i.maxZoom!==void 0?i.maxZoom:28;const c=i.zoomFactor!==void 0?i.zoomFactor:2,x=i.multiWorld!==void 0?i.multiWorld:!1,A=i.smoothResolutionConstraint!==void 0?i.smoothResolutionConstraint:!0,l=i.showFullExtent!==void 0?i.showFullExtent:!1,u=K_(i.projection,"EPSG:3857"),h=u.getExtent();let f=i.constrainOnlyCenter,g=i.extent;if(!x&&!g&&u.isGlobal()&&(f=!1,g=h),i.resolutions!==void 0){const d=i.resolutions;t=d[o],n=d[a]!==void 0?d[a]:d[d.length-1],i.constrainResolution?e=tk(d,A,!f&&g,l):e=f5(t,n,A,!f&&g,l)}else{const p=(h?Math.max(Le(h),pn(h)):360*Jb.degrees/u.getMetersPerUnit())/yD/Math.pow(2,em),I=p/Math.pow(2,28-em);t=i.maxResolution,t!==void 0?o=0:t=p/Math.pow(c,o),n=i.minResolution,n===void 0&&(i.maxZoom!==void 0?i.maxResolution!==void 0?n=t/Math.pow(c,a):n=p/Math.pow(c,a):n=I),a=o+Math.floor(Math.log(t/n)/Math.log(c)),n=t/Math.pow(c,a-o),i.constrainResolution?e=ek(c,t,n,A,!f&&g,l):e=f5(t,n,A,!f&&g,l)}return{constraint:e,maxResolution:t,minResolution:n,minZoom:o,zoomFactor:c}}function Tk(i){if(i.enableRotation!==void 0?i.enableRotation:!0){const t=i.constrainRotation;return t===void 0||t===!0?rk():t===!1?d5:typeof t=="number"?ik(t):d5}return nk}function Lk(i){return!(i.sourceCenter&&i.targetCenter&&!yg(i.sourceCenter,i.targetCenter)||i.sourceResolution!==i.targetResolution||i.sourceRotation!==i.targetRotation)}function nm(i,e,t,n,r){const s=Math.cos(-r);let o=Math.sin(-r),a=i[0]*s-i[1]*o,c=i[1]*s+i[0]*o;a+=(e[0]/2-t[0])*n,c+=(t[1]-e[1]/2)*n,o=-o;const x=a*s-c*o,A=c*s+a*o;return[x,A]}let Gk=class extends ED{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Kt.SOURCE,this.handleSourcePropertyChange_);const n=e.source?e.source:null;this.setSource(n)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Kt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Sa(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=Ls(e,Ts.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const n=this.getMapInternal();!e&&n&&(e=n.getView()),e instanceof S5?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&n&&(t.layerStatesArray=n.getLayerGroup().getLayerStatesArray());let r;t.layerStatesArray?r=t.layerStatesArray.find(o=>o.layer===this):r=this.getLayerState();const s=this.getExtent();return Nk(r,t.viewState)&&(!s||QA(s,t.extent))}getAttributions(e){var s;if(!this.isVisible(e))return[];const t=(s=this.getSource())==null?void 0:s.getAttributions();if(!t)return[];const n=e instanceof S5?e.getViewStateAndExtent():e;let r=t(n);return Array.isArray(r)||(r=[r]),r}render(e,t){const n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Kt.MAP,e)}getMapInternal(){return this.get(Kt.MAP)}setMap(e){this.mapPrecomposeKey_&&(Sa(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Sa(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Ls(e,bA.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=Ls(this,Ts.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,n=this.getLayerState(!1);zr(!t.some(r=>r.layer===n.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(n)}setSource(e){this.set(Kt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function Nk(i,e){if(!i.visible)return!1;const t=e.resolution;if(t<i.minResolution||t>=i.maxResolution)return!1;const n=e.zoom;return n>i.minZoom&&n<=i.maxZoom}class Pk extends Gk{constructor(e){e=e||{},super(e)}}const Ut={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},Uk=5;class Ok extends yA{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=Uk}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Xe()}getData(e){return null}prepareFrame(e){return Xe()}renderFrame(e,t){return Xe()}forEachFeatureAtCoordinate(e,t,n,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===Ut.LOADED||t.getState()===Ut.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Ut.LOADED&&t!=Ut.ERROR&&e.addEventListener(Ts.CHANGE,this.boundHandleImageChange_),t==Ut.IDLE&&(e.load(),t=e.getState()),t==Ut.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class zk extends fg{constructor(e,t,n,r){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=r}}const U0=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"";U0.includes("firefox"),U0.includes("safari")&&!U0.includes("chrom")&&(U0.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(U0)),U0.includes("webkit")&&U0.includes("edge"),U0.includes("macintosh");const qk=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope;(function(){let i=!1;try{const e=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return i})();function Pa(i,e,t,n){let r;return t&&t.length?r=t.shift():qk?r=new OffscreenCanvas(i||300,e||300):r=document.createElement("canvas"),i&&(r.width=i),e&&(r.height=e),r.getContext("2d",n)}let im;function D5(){return im||(im=Pa(1,1)),im}function k5(i){const e=i.canvas;e.width=1,e.height=1,i.clearRect(0,0,1,1)}class Yk{constructor(){Ne(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(D5(),{get:(e,t)=>{if(typeof D5()[t]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t),this.pushMethodArgs_},set:(e,t,n)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(t,n),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let n=0,r=t.length;n<r;++n){const s=t[n];if(typeof s=="function"){s(e);continue}const o=t[++n];if(typeof e[s]=="function")e[s](...o);else{if(typeof o=="function"){e[s]=o(e);continue}e[s]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const Hk=[NaN,NaN,NaN,0],jk=1024,SA={};let rm=0;function Vk(i){if(i==="none")return Hk;if(SA.hasOwnProperty(i))return SA[i];if(rm>=jk){let t=0;for(const n in SA)t++&3||(delete SA[n],--rm)}const e=zE(i);if(e.length!==4)throw new Error('failed to parse "'+i+'" as color');for(const t of e)if(isNaN(t))throw new Error('failed to parse "'+i+'" as color');return Jk(e),SA[i]=e,++rm,e}function M5(i){return Array.isArray(i)?i:Vk(i)}function Jk(i){return i[0]=Wn(i[0]+.5|0,0,255),i[1]=Wn(i[1]+.5|0,0,255),i[2]=Wn(i[2]+.5|0,0,255),i[3]=Wn(i[3],0,1),i}let Ua=null;function Kk(){Ua=Pa(1,1,void 0,{willReadFrequently:!0})}class Xk extends Ok{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Bg(),this.pixelTransform=Bg(),this.inversePixelTransform=Bg(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,n){Ua||Kk(),Ua.clearRect(0,0,1,1);let r;try{Ua.drawImage(e,t,n,1,1,0,0,1,1),r=Ua.getImageData(0,0,1,1).data}catch{return Ua=null,null}return r}getBackground(e){let n=this.getLayer().getBackground();return typeof n=="function"&&(n=n(e.viewState.resolution)),n||void 0}useContainer(e,t,n){const r=this.getLayer().getClassName();let s,o;if(e&&e.className===r&&(!n||e&&e.style.backgroundColor&&qb(M5(e.style.backgroundColor),M5(n)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===t?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=Pa();const c=o.canvas;s.appendChild(c),a=c.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&n&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=n)}clipUnrotated(e,t,n){const r=Eg(n),s=j_(n),o=H_(n),a=Y_(n);qr(t.coordinateToPixelTransform,r),qr(t.coordinateToPixelTransform,s),qr(t.coordinateToPixelTransform,o),qr(t.coordinateToPixelTransform,a);const c=this.inversePixelTransform;qr(c,r),qr(c,s),qr(c,o),qr(c,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,t){const n=e.extent,r=e.viewState.resolution,s=e.viewState.rotation,o=e.pixelRatio,a=Math.round(Le(n)/r*o),c=Math.round(pn(n)/r*o);wg(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,s,-a/2,-c/2),xk(this.inversePixelTransform,this.pixelTransform);const x=Ak(this.pixelTransform);if(this.useContainer(t,x,this.getBackground(e)),!this.containerReused){const A=this.context.canvas;A.width!=a||A.height!=c?(A.width=a,A.height=c):this.context.clearRect(0,0,a,c),x!==A.style.transform&&(A.style.transform=x)}}dispatchRenderEvent_(e,t,n){const r=this.getLayer();if(r.hasListener(e)){const s=new zk(e,this.inversePixelTransform,n,t);r.dispatchEvent(s)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(bA.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(bA.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new Yk),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(bA.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(bA.POSTRENDER,this.context,e))}getRenderTransform(e,t,n,r,s,o,a){const c=s/2,x=o/2,A=r/t,l=-A,u=-e[0]+a,h=-e[1];return wg(this.tempTransform,c,x,A,l,-n,u,h)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class Zk extends Xk{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],n=e.pixelRatio,r=e.viewState,s=r.resolution,o=this.getLayer().getSource(),a=e.viewHints;let c=e.extent;if(t.extent!==void 0&&(c=o5(c,Ga(t.extent,r.projection))),!a[ur.ANIMATING]&&!a[ur.INTERACTING]&&!vA(c))if(o){const x=r.projection,A=o.getImage(c,s,n,x);A&&(this.loadImage(A)?this.image=A:A.getState()===Ut.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const n=this.getLayer(),r=qr(t.pixelToCoordinateTransform,e.slice()),s=n.getExtent();if(s&&!e5(s,r))return null;const o=this.image.getExtent(),a=this.image.getImage(),c=Le(o),x=Math.floor(a.width*((r[0]-o[0])/c));if(x<0||x>=a.width)return null;const A=pn(o),l=Math.floor(a.height*((o[3]-r[1])/A));return l<0||l>=a.height?null:this.getImageData(a,x,l)}renderFrame(e,t){const n=this.image,r=n.getExtent(),s=n.getResolution(),[o,a]=Array.isArray(s)?s:[s,s],c=n.getPixelRatio(),x=e.layerStatesArray[e.layerIndex],A=e.pixelRatio,l=e.viewState,u=l.center,h=l.resolution,f=A*o/(h*c),g=A*a/(h*c);this.prepareContainer(e,t);const d=this.context.canvas.width,p=this.context.canvas.height,I=this.getRenderContext(e);let _=!1,m=!0;if(x.extent){const B=Ga(x.extent,l.projection);m=QA(B,e.extent),_=m&&!wA(B,e.extent),_&&this.clipUnrotated(I,e,B)}const y=n.getImage(),E=wg(this.tempTransform,d/2,p/2,f,g,0,c*(r[0]-u[0])/o,c*(u[1]-r[3])/a);this.renderedResolution=a*A/c;const C=y.width*E[0],b=y.height*E[3];if(this.getLayer().getSource().getInterpolate()||(I.imageSmoothingEnabled=!1),this.preRender(I,e),m&&C>=.5&&b>=.5){const B=E[4],Q=E[5],w=x.opacity;w!==1&&(I.save(),I.globalAlpha=w),I.drawImage(y,0,0,+y.width,+y.height,B,Q,C,b),w!==1&&I.restore()}return this.postRender(this.context,e),_&&I.restore(),I.imageSmoothingEnabled=!0,this.container}}class Wk extends Pk{constructor(e){super(e)}createRenderer(){return new Zk(this)}getData(e){return super.getData(e)}}class sm extends Hb{constructor(e,t,n,r){super(),this.extent=e,this.pixelRatio_=n,this.resolution=t,this.state=typeof r=="function"?Ut.IDLE:r,this.image_=null,this.loader=typeof r=="function"?r:null}changed(){this.dispatchEvent(Ts.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==Ut.IDLE&&this.loader){this.state=Ut.LOADING,this.changed();const e=this.getResolution(),t=Array.isArray(e)?e[0]:e;uD(()=>this.loader(this.getExtent(),t,this.getPixelRatio())).then(n=>{"image"in n&&(this.image_=n.image),"extent"in n&&(this.extent=n.extent),"resolution"in n&&(this.resolution=n.resolution),"pixelRatio"in n&&(this.pixelRatio_=n.pixelRatio),(n instanceof HTMLImageElement||n instanceof ImageBitmap||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement)&&(this.image_=n),this.state=Ut.LOADED}).catch(n=>{this.state=Ut.ERROR,console.error(n)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}class $k extends sm{constructor(e,t,n,r,s){const o=s!==void 0?Ut.IDLE:Ut.LOADED;super(e,t,n,o),this.loader_=s!==void 0?s:null,this.canvas_=r,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=Ut.ERROR):this.state=Ut.LOADED,this.changed()}load(){this.state==Ut.IDLE&&(this.state=Ut.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}const tM=.5,eM=10,F5=.25;class nM{constructor(e,t,n,r,s,o){this.sourceProj_=e,this.targetProj_=t;let a={};const c=Cg(this.targetProj_,this.sourceProj_);this.transformInv_=function(I){const _=I[0]+"/"+I[1];return a[_]||(a[_]=c(I)),a[_]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Le(r)>=Le(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Le(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Le(this.targetProj_.getExtent()):null;const x=Eg(n),A=j_(n),l=H_(n),u=Y_(n),h=this.transformInv_(x),f=this.transformInv_(A),g=this.transformInv_(l),d=this.transformInv_(u),p=eM+(o?Math.max(0,Math.ceil(Math.log2(ND(n)/(o*o*256*256)))):0);if(this.addQuad_(x,A,l,u,h,f,g,d,p),this.wrapsXInSource_){let I=1/0;this.triangles_.forEach(function(_,m,y){I=Math.min(I,_.source[0][0],_.source[1][0],_.source[2][0])}),this.triangles_.forEach(_=>{if(Math.max(_.source[0][0],_.source[1][0],_.source[2][0])-I>this.sourceWorldWidth_/2){const m=[[_.source[0][0],_.source[0][1]],[_.source[1][0],_.source[1][1]],[_.source[2][0],_.source[2][1]]];m[0][0]-I>this.sourceWorldWidth_/2&&(m[0][0]-=this.sourceWorldWidth_),m[1][0]-I>this.sourceWorldWidth_/2&&(m[1][0]-=this.sourceWorldWidth_),m[2][0]-I>this.sourceWorldWidth_/2&&(m[2][0]-=this.sourceWorldWidth_);const y=Math.min(m[0][0],m[1][0],m[2][0]);Math.max(m[0][0],m[1][0],m[2][0])-y<this.sourceWorldWidth_/2&&(_.source=m)}})}a={}}addTriangle_(e,t,n,r,s,o){this.triangles_.push({source:[r,s,o],target:[e,t,n]})}addQuad_(e,t,n,r,s,o,a,c,x){const A=$b([s,o,a,c]),l=this.sourceWorldWidth_?Le(A)/this.sourceWorldWidth_:null,u=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&l>.5&&l<1;let f=!1;if(x>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const d=$b([e,t,n,r]);f=Le(d)/this.targetWorldWidth_>F5||f}!h&&this.sourceProj_.isGlobal()&&l&&(f=l>F5||f)}if(!f&&this.maxSourceExtent_&&isFinite(A[0])&&isFinite(A[1])&&isFinite(A[2])&&isFinite(A[3])&&!QA(A,this.maxSourceExtent_))return;let g=0;if(!f&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(c[0])||!isFinite(c[1]))){if(x>0)f=!0;else if(g=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(c[0])||!isFinite(c[1])?1:0),g!=1&&g!=2&&g!=4&&g!=8)return}if(x>0){if(!f){const d=[(e[0]+n[0])/2,(e[1]+n[1])/2],p=this.transformInv_(d);let I;h?I=(CA(s[0],u)+CA(a[0],u))/2-CA(p[0],u):I=(s[0]+a[0])/2-p[0];const _=(s[1]+a[1])/2-p[1];f=I*I+_*_>this.errorThresholdSquared_}if(f){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){const d=[(t[0]+n[0])/2,(t[1]+n[1])/2],p=this.transformInv_(d),I=[(r[0]+e[0])/2,(r[1]+e[1])/2],_=this.transformInv_(I);this.addQuad_(e,t,d,I,s,o,p,_,x-1),this.addQuad_(I,d,n,r,_,p,a,c,x-1)}else{const d=[(e[0]+t[0])/2,(e[1]+t[1])/2],p=this.transformInv_(d),I=[(n[0]+r[0])/2,(n[1]+r[1])/2],_=this.transformInv_(I);this.addQuad_(e,d,I,r,s,p,_,c,x-1),this.addQuad_(d,t,n,I,p,o,a,_,x-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}g&11||this.addTriangle_(e,n,r,s,a,c),g&14||this.addTriangle_(e,n,t,s,a,o),g&&(g&13||this.addTriangle_(t,r,e,o,c,s),g&7||this.addTriangle_(t,r,n,o,c,a))}calculateSourceExtent(){const e=Ta();return this.triangles_.forEach(function(t,n,r){const s=t.source;mg(e,s[0]),mg(e,s[1]),mg(e,s[2])}),e}getTriangles(){return this.triangles_}}let om;const DA=[];function T5(i,e,t,n,r){i.beginPath(),i.moveTo(0,0),i.lineTo(e,t),i.lineTo(n,r),i.closePath(),i.save(),i.clip(),i.fillRect(0,0,Math.max(e,n)+1,Math.max(t,r)),i.restore()}function am(i,e){return Math.abs(i[e*4]-210)>2||Math.abs(i[e*4+3]-.75*255)>2}function iM(){if(om===void 0){const i=Pa(6,6,DA);i.globalCompositeOperation="lighter",i.fillStyle="rgba(210, 0, 0, 0.75)",T5(i,4,5,4,0),T5(i,4,5,0,5);const e=i.getImageData(0,0,3,3).data;om=am(e,0)||am(e,4)||am(e,8),k5(i),DA.push(i.canvas)}return om}function rM(i,e,t,n){const r=bg(t,e,i);let s=c5(e,n,t);const o=e.getMetersPerUnit();o!==void 0&&(s*=o);const a=i.getMetersPerUnit();a!==void 0&&(s/=a);const c=i.getExtent();if(!c||e5(c,r)){const x=c5(i,s,r)/s;isFinite(x)&&x>0&&(s/=x)}return s}function sM(i,e,t,n,r,s,o,a,c,x,A,l,u,h){const f=Pa(Math.round(t*i),Math.round(t*e),DA);if(l||(f.imageSmoothingEnabled=!1),c.length===0)return f.canvas;f.scale(t,t);function g(y){return Math.round(y*t)/t}f.globalCompositeOperation="lighter";const d=Ta();c.forEach(function(y,E,C){TD(d,y.extent)});let p;const I=t/n,_=(l?1:1+Math.pow(2,-24))/I;if(c.length!==1||x!==0){if(p=Pa(Math.round(Le(d)*I),Math.round(pn(d)*I),DA),l||(p.imageSmoothingEnabled=!1),r&&h){const y=(r[0]-d[0])*I,E=-(r[3]-d[3])*I,C=Le(r)*I,b=pn(r)*I;p.rect(y,E,C,b),p.clip()}c.forEach(function(y,E,C){if(y.image.width>0&&y.image.height>0){if(y.clipExtent){p.save();const R=(y.clipExtent[0]-d[0])*I,D=-(y.clipExtent[3]-d[3])*I,F=Le(y.clipExtent)*I,v=pn(y.clipExtent)*I;p.rect(l?R:Math.round(R),l?D:Math.round(D),l?F:Math.round(R+F)-Math.round(R),l?v:Math.round(D+v)-Math.round(D)),p.clip()}const b=(y.extent[0]-d[0])*I,B=-(y.extent[3]-d[3])*I,Q=Le(y.extent)*I,w=pn(y.extent)*I;p.drawImage(y.image,x,x,y.image.width-2*x,y.image.height-2*x,l?b:Math.round(b),l?B:Math.round(B),l?Q:Math.round(b+Q)-Math.round(b),l?w:Math.round(B+w)-Math.round(B)),y.clipExtent&&p.restore()}})}const m=Eg(o);return a.getTriangles().forEach(function(y,E,C){const b=y.source,B=y.target;let Q=b[0][0],w=b[0][1],R=b[1][0],D=b[1][1],F=b[2][0],v=b[2][1];const S=g((B[0][0]-m[0])/s),M=g(-(B[0][1]-m[1])/s),L=g((B[1][0]-m[0])/s),P=g(-(B[1][1]-m[1])/s),O=g((B[2][0]-m[0])/s),k=g(-(B[2][1]-m[1])/s),H=Q,K=w;Q=0,w=0,R-=H,D-=K,F-=H,v-=K;const q=[[R,D,0,0,L-S],[F,v,0,0,O-S],[0,0,R,D,P-M],[0,0,F,v,k-M]],T=ID(q);if(!T)return;if(f.save(),f.beginPath(),iM()||!l){f.moveTo(L,P);const X=4,$=S-L,it=M-P;for(let st=0;st<X;st++)f.lineTo(L+g((st+1)*$/X),P+g(st*it/(X-1))),st!=X-1&&f.lineTo(L+g((st+1)*$/X),P+g((st+1)*it/(X-1)));f.lineTo(O,k)}else f.moveTo(L,P),f.lineTo(S,M),f.lineTo(O,k);f.clip(),f.transform(T[0],T[2],T[1],T[3],S,M),f.translate(d[0]-H,d[3]-K);let V;if(p)V=p.canvas,f.scale(_,-_);else{const X=c[0],$=X.extent;V=X.image,f.scale(Le($)/V.width,-pn($)/V.height)}f.drawImage(V,0,0),f.restore()}),p&&(k5(p),DA.push(p.canvas)),f.canvas}function xm(i){return Array.isArray(i)?Math.min(...i):i}class oM extends sm{constructor(e,t,n,r,s,o,a){let c=e.getExtent();c&&e.canWrapX()&&(c=c.slice(),c[0]=-1/0,c[2]=1/0);let x=t.getExtent();x&&t.canWrapX()&&(x=x.slice(),x[0]=-1/0,x[2]=1/0);const A=x?o5(n,x):n,l=La(A),u=rM(e,t,l,r),h=tM,f=new nM(e,t,A,c,u*h,r),g=f.calculateSourceExtent(),d=vA(g)?null:o(g,u,s),p=d?Ut.IDLE:Ut.EMPTY,I=d?d.getPixelRatio():1;super(n,r,I,p),this.targetProj_=t,this.maxSourceExtent_=c,this.triangulation_=f,this.targetResolution_=r,this.targetExtent_=n,this.sourceImage_=d,this.sourcePixelRatio_=I,this.interpolate_=a,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==Ut.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==Ut.LOADED){const t=Le(this.targetExtent_)/this.targetResolution_,n=pn(this.targetExtent_)/this.targetResolution_;this.canvas_=sM(t,n,this.sourcePixelRatio_,xm(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=e,this.changed()}load(){if(this.state==Ut.IDLE){this.state=Ut.LOADING,this.changed();const e=this.sourceImage_.getState();e==Ut.LOADED||e==Ut.ERROR?this.reproject_():(this.sourceListenerKey_=Ls(this.sourceImage_,Ts.CHANGE,t=>{const n=this.sourceImage_.getState();(n==Ut.LOADED||n==Ut.ERROR)&&(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){Sa(this.sourceListenerKey_),this.sourceListenerKey_=null}}class aM extends dg{constructor(e){super(),this.projection=N0(e.projection),this.attributions_=L5(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(n,r){t.viewResolver=n,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=L5(e),this.changed()}setState(e){this.state_=e,this.changed()}}function L5(i){return i?typeof i=="function"?i:(Array.isArray(i)||(i=[i]),e=>i):null}const Rg=4,cm={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class xM extends fg{constructor(e,t){super(e),this.image=t}}class cM extends aM{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const n=P_(t,e,0);e=t[n]}return e}getImage(e,t,n,r){const s=this.getProjection();if(!s||!r||l5(s,r))return s&&(r=s),this.getImageInternal(e,t,n,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&l5(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&FD(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new oM(s,r,e,t,n,(o,a,c)=>this.getImageInternal(o,a,c,s),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,n,r){if(this.loader){const s=AM(e,t,n,1),o=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&wA(this.wantedExtent_,s)||wA(this.image.getExtent(),s))&&(this.wantedResolution_&&xm(this.wantedResolution_)===o||xm(this.image.getResolution())===o)))return this.image;this.wantedProjection_=r,this.wantedExtent_=s,this.wantedResolution_=o,this.image=new sm(s,o,n,this.loader),this.image.addEventListener(Ts.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let n;switch(t.getState()){case Ut.LOADING:this.loading=!0,n=cm.IMAGELOADSTART;break;case Ut.LOADED:this.loading=!1,n=cm.IMAGELOADEND;break;case Ut.ERROR:this.loading=!1,n=cm.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new xM(n,t))}}function AM(i,e,t,n){const r=e/t,s=La(i),o=pg(Le(i)/r,Rg),a=pg(pn(i)/r,Rg),c=pg((n-1)*o/2,Rg),x=o+2*c,A=pg((n-1)*a/2,Rg),l=a+2*A;return s5(s,r,0,[x,l])}class lM extends cM{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions,state:e.state}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5}getImageInternal(e,t,n,r){t=this.findNearestResolution(t);let s=this.canvas_;if(s&&this.renderedRevision_==this.getRevision()&&s.getResolution()==t&&s.getPixelRatio()==n&&wA(s.getExtent(),e))return s;e=e.slice(),OD(e,this.ratio_);const o=Le(e)/t,a=pn(e)/t,c=[o*n,a*n],x=this.canvasFunction_.call(this,e,t,n,c,r);return x&&(s=new $k(e,t,n,x)),this.canvas_=s,this.renderedRevision_=this.getRevision(),s}}const G5={};class uM extends Wk{constructor(t={}){super({...G5,...t});Ne(this,"type","custom");Ne(this,"onMount",t=>{});Ne(this,"onBeforeUpdate",t=>{});Ne(this,"onUpdate",t=>{});Ne(this,"reDraw",()=>{this._needRedraw=!0,this.source.changed()});Ne(this,"setNeedRedraw",()=>{this._needRedraw=!0});Ne(this,"lnglatToScreen",(t,n,r,s)=>{const o=n.getView().getProjection().getCode();t=bg(t,"EPSG:4326",o);const a=n.getSize();let c=n.getView().calculateExtent(a);const x=n.getPixelFromCoordinate([r[0],r[3]]),A=n.getPixelFromCoordinate([c[0],c[3]]),l=[A[0]-x[0],A[1]-x[1]],u=n.getPixelFromCoordinate(t),h=(u[0]+l[0])*s,f=(u[1]+l[1])*s;return[h,f]});Ne(this,"extentTolnglat",(t,n)=>{const r=n.getView().getProjection().getCode(),[s,o]=bg([t[0],t[1]],r,"EPSG:4326"),[a,c]=bg([t[2],t[3]],r,"EPSG:4326");return[s,o,a,c]});this.props={...G5,...t},this.canvas=null,this.gl=null,this._needRedraw=!1,this._isMounted=!1,this._init()}_init(){this.canvas||(this.canvas=document.createElement("canvas"));const{projection:t}=this.props;this.source=new lM({canvasFunction:(n,r,s,o,a)=>(this.canvas&&(this.canvas.width=o[0],this.canvas.height=o[1],this._isMounted||(this.onMount({canvas:this.canvas}),this._isMounted=!0),this.gl&&(this.onBeforeUpdate.call(this,{gl:this.gl,canvas:this.canvas,extent:n,resolution:r,pixelRatio:s,size:o,projection:a}),this._needRedraw&&this.onUpdate.call(this,{gl:this.gl,canvas:this.canvas,extent:n,resolution:r,pixelRatio:s,size:o,projection:a}))),this._needRedraw=!1,this.canvas),projection:t}),this.setSource(this.source)}}const hM={projection:"EPSG:4326"};class fM extends uM{constructor(t={}){super({...hM,...t});Ne(this,"onMount",({canvas:t})=>{this.gl||(this.gl=t.getContext("webgl2"))})}}function Sg(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),i.getShaderParameter(n,i.COMPILE_STATUS)?n:(console.error("着色器编译发生错误: ",i.getShaderInfoLog(n)),i.deleteShader(n),null)}function Am(i,e,t){const n=Sg(i,i.VERTEX_SHADER,e),r=Sg(i,i.FRAGMENT_SHADER,t),s=i.createProgram();return i.attachShader(s,n),i.attachShader(s,r),i.linkProgram(s),i.getProgramParameter(s,i.LINK_STATUS)?s:(console.error("着色器程序无法链接: ",i.getProgramInfoLog(s)),i.deleteProgram(s),null)}function dM(i,e,t,n=[]){const r=Sg(i,i.VERTEX_SHADER,e),s=Sg(i,i.FRAGMENT_SHADER,t),o=i.createProgram();return i.attachShader(o,r),i.attachShader(o,s),i.transformFeedbackVaryings(o,n,i.SEPARATE_ATTRIBS),i.linkProgram(o),i.getProgramParameter(o,i.LINK_STATUS)?o:(console.error("着色器程序无法链接: ",i.getProgramInfoLog(o)),i.deleteProgram(o),null)}function Dg(i){return(i&i-1)===0}function kA({gl:i,texture:e,level:t,border:n,offset:r,data:s,target:o,width:a,height:c,type:x,internalformat:A,format:l}){if(!i.getExtension("OES_texture_float_linear"))return alert("can not filter floating point textures"),null;i.bindTexture(o,e),i.texImage2D(o,t,A,a,c,n,l,x,s,r),Dg(a)&&Dg(c)?i.generateMipmap(o):(i.texParameteri(o,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(o,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(o,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(o,i.TEXTURE_MAG_FILTER,i.NEAREST))}function N5({gl:i,level:e,border:t,offset:n,target:r,width:s,height:o,type:a,internalformat:c,format:x}){if(!i.getExtension("OES_texture_float_linear"))return alert("can not filter floating point textures"),null;const l=i.createTexture();return i.bindTexture(i.TEXTURE_2D,l),i.texImage2D(r,e,c,s,o,t,x,a,null),Dg(s)&&Dg(o)?i.generateMipmap(r):(i.texParameteri(r,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(r,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(r,i.TEXTURE_MAG_FILTER,i.NEAREST)),l}function MA(i,e){return i instanceof Int32Array?{type:e.INT,format:e.RED_INTEGER,internalformat:e.R32I}:i instanceof Float32Array?{type:e.FLOAT,format:e.RED,internalformat:e.R32F}:{type:e.UNSIGNED_BYTE,format:e.RGBA,internalformat:e.RGBA}}const gM=`#version 300 es
precision highp float;

layout(location = 0) in vec2 a_position;

uniform float u_time;
uniform float u_random;
uniform float u_count;
uniform vec4 u_extent;
uniform float u_speed;
uniform sampler2D u_sampler_tiff_u;
uniform sampler2D u_sampler_tiff_v;
uniform sampler2D u_sampler_colorRamp;
uniform float u_scale;
uniform float u_nodata;
uniform float u_offset;
uniform float u_umin;
uniform float u_umax;
uniform float u_vmin;
uniform float u_vmax;
uniform float u_val_min;
uniform float u_val_max;

out vec2 next_position;
out vec3 next_color;

// 简单随机数
float random(vec2 st) {
  float t = dot(st.xy, vec2(12.9898, 78.233));
  return fract(sin(t) * (4375.85453 + t));
}

void main() {
  // 从粒子坐标计算纹理坐标
  vec2 st = (a_position.xy - u_extent.xy) / (u_extent.zw - u_extent.xy);
  // vec2 st = a_position.xy;

  // 计算u分量v分量真值
  float u = texture(u_sampler_tiff_u, st).r;
  if (abs(u - u_nodata) < 1e-6) {
    u = 0.0001;
  } else {
    u = u / u_scale + u_offset;
  }
  float v = texture(u_sampler_tiff_v, st).r;
  if (abs(v - u_nodata) < 1e-6) {
    v = 0.0001;
  } else {
    v = v / u_scale + u_offset;
  }
  float umin = u_umin / u_scale + u_offset;
  float vmin = u_vmin / u_scale + u_offset;
  float umax = u_umax / u_scale + u_offset;
  float vmax = u_umax / u_scale + u_offset;

  //   float speed = length(vec2(u, v) - vec2(umin, vmin)) /
  //                 length(vec2(umax, vmax) - vec2(umin, vmin));
  float val = sqrt(u * u + v * v);
  float ratio = (val - u_val_min) / (u_val_max - u_val_min);
  // 图例映射
  next_color = texture(u_sampler_colorRamp, vec2(ratio, 1.)).rgb;

  // 计算粒子速度
  // u代表东西向，v代表垂直向
  float dx = u / umax;
  float dy = v / vmax;
  // 计算粒子位置和年龄
  vec2 cur_position = a_position;
  float xmin = u_extent.x;
  float ymin = u_extent.y;
  float xmax = u_extent.z;
  float ymax = u_extent.w;
  // 为了粒子分布均为，将粒子初始位置定义为规则格网
  float k = (ymax - ymin) / (xmax - xmin);
  float cols = ceil((sqrt(u_count / k)));
  float rows = cols * k;
  // 随机年龄
  float age = random(vec2(float(gl_VertexID), u_random));
  if (age > 0.99 || cur_position.x > xmax || cur_position.x < xmin ||
      cur_position.y > ymax || cur_position.y < ymin) {
    // toFix: 简单随机
    float col_index = cols * random(vec2(u_time, float(gl_VertexID)));
    float row_index = rows * random(vec2(float(gl_VertexID), u_time));
    float x = xmin + (xmax - xmin) / (cols + 1.) * col_index;
    float y = ymin + (ymax - ymin) / (rows + 1.) * row_index;
    next_position = vec2(x, y);
  } else {
    next_position = cur_position + vec2(dx, dy) * 0.001 * u_speed;
  }
}`,pM=`#version 300 es
precision highp float;

void main() {}`,IM=`#version 300 es
precision highp float;

layout(location = 0) in vec2 a_position;
layout(location = 1) in vec3 a_color;

out vec3 v_color;
uniform float u_size;

void main() {
  vec2 position = a_position * 2. - 1.;
  gl_Position = vec4(position, 0., 1.);
  gl_PointSize = u_size;
  v_color = a_color;
}
`,_M=`#version 300 es
precision highp float;

const vec4 backColor = vec4(0., 0., 0., 0.);
uniform vec3 u_color;
uniform bool u_useColorRamp; // 使用图例or单色

in vec3 v_color;
out vec4 fragColor;

void main() {
  vec4 frontColor = u_useColorRamp ? vec4(v_color, 1.) : vec4(u_color, 1.);
  float d = length(gl_PointCoord.xy - vec2(.5, .5)) - .5;
  vec4 color = mix(frontColor, backColor, step(0., d));
  fragColor = color;
}
`,mM=`#version 300 es
precision highp float;

layout(location = 0) in vec2 a_position;
layout(location = 1) in vec2 a_uv;
out vec2 v_uv;

void main() {
  vec2 position = a_position * 2. - 1.;
  gl_Position = vec4(position, 0., 1.);
  v_uv = a_uv;
}
`,EM=`#version 300 es
precision highp float;

uniform sampler2D u_sampler;
in vec2 v_uv;

const vec4 fadeColor = vec4(.0, .0, .0, .0);
const float fadeFactor = 0.025;
// const float fadeFactor = 0.5;

out vec4 fragColor;

void main() {
  vec4 textColor = texture(u_sampler, v_uv);
  fragColor = textColor * (1. - fadeFactor);
}`,yM=`#version 300 es
precision highp float;

layout(location = 0) in vec2 a_position;
layout(location = 1) in vec2 a_uv;
out vec2 v_uv;

void main() {
  vec2 position = a_position * 2. - 1.;
  gl_Position = vec4(position, 0., 1.);
  v_uv = a_uv;
}`,CM=`#version 300 es
precision highp float;

uniform sampler2D u_sampler;
in vec2 v_uv;

out vec4 fragColor;

void main() {
  fragColor = texture(u_sampler, v_uv);
  if (fragColor.a <= 0.4) {
    fragColor = vec4(0., 0., 0., 0.);
  }
}`,bM={speed:1,size:1,count:100,color:[1,1,1],useColorRamp:!1},BM=Object.freeze(Object.defineProperty({__proto__:null,WindLayer:class{constructor(e={}){Ne(this,"_setProps",e=>{e.data&&(this.data=e.data),e.count&&(this.state.count=count),e.speed&&(this.state.speed=e.speed),e.size&&(this.state.size=e.size),e.color&&(this.state.color=e.color),e.colorRamp&&(this._colorRampObject=this._createColorRamp(e.colorRamp)),e.useColorRamp&&(this.state.useColorRamp=e.useColorRamp),this.layer.reDraw()});return this.state={...bM,...e,particles:{positions:[]}},this.layer=this._initLayer(),this._isGlReady=!1,this._models={},this.data=[],this.clock={start:0,now:0,fps:0,elapsedTime:0},this._rafId=null,this._needAnimate=!1,this.layer}_initLayer(){const e=new fM({projection:this.state.projection});return e.onBeforeUpdate=this._onBeforeUpdate.bind(this),e.onUpdate=this._onUpdate.bind(this),e.setProps=this._setProps.bind(this),!this._colorRampObject&&this.state.colorRamp&&(this._colorRampObject=this._createColorRamp(this.state.colorRamp),console.log("_createColorRamp",this._colorRampObject)),e}_onBeforeUpdate(e){const{gl:t,canvas:n,extent:r,resolution:s,pixelRatio:o,size:a,projection:c}=e;this._isGlReady||(t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.enable(t.CULL_FACE),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,1)),this._isGlReady=!0}_onUpdate(e){const{gl:t,canvas:n,extent:r,resolution:s,pixelRatio:o,size:a,projection:c}=e,x=this.layer.get("map");if(x){t.viewport(0,0,a[0],a[1]),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);const A=[];this.data.forEach(({bbox:h},f)=>{const[g,d]=this.layer.lnglatToScreen([h[0],h[1]],x,r,o),[p,I]=this.layer.lnglatToScreen([h[2],h[3]],x,r,o),_=g/a[0],m=p/a[0],y=1-d/a[1],E=1-I/a[1],C=[_,y,m,E];A[f]=C});const l=A.reduce((h,f)=>h+Math.abs(f[2]-f[0]),0);this._models={},this.data.forEach(({dataArray_u:h,dataArray_v:f,bbox:g,width:d,height:p,metaData:I},_)=>{const m=Math.abs(A[_][2]-A[_][0])/l,y=this._createParticles(A[_],Math.floor(this.state.count*m));this._models[_]=this._createModel(t,{calc:{vert:gM,frag:pM,textureData:{data:{u:h,v:f},width:d,height:p}},input:{vert:IM,frag:_M},output:{vert:mM,frag:EM},main:{vert:yM,frag:CM},metaData:I,particles:y,extent:A[_]})});const u=()=>{this.clock.now=performance.now(),this.clock.elapsedTime+=(this.clock.now-this.clock.start)/1e3,this.clock.fps=Math.floor(1e3/(this.clock.now-this.clock.start)),this.clock.start=this.clock.now,t.clear(t.COLOR_BUFFER_BIT);for(let h=0;h<this.data.length;h++)this._drawModel(this._models[h],{});this.layer.source.changed(),this._rafId=requestAnimationFrame(u)};cancelAnimationFrame(this._rafId),u()}}_createModel(e,{calc:t,input:n,output:r,main:s,metaData:o,particles:a,extent:c}){const x=dM(e,t.vert,t.frag,["next_position","next_color"]),A=Am(e,n.vert,n.frag),l=Am(e,r.vert,r.frag),u=Am(e,s.vert,s.frag),h=e.createVertexArray(),f=e.createVertexArray(),g=e.createVertexArray(),d=e.createVertexArray(),p={positions_input:e.createBuffer(),positions_output:e.createBuffer(),colors_output:e.createBuffer()},I={positions:e.createBuffer(),uvs:e.createBuffer()},_={positions:e.createBuffer(),uvs:e.createBuffer()},m={attributes:{a_position:0,a_age:1},uniforms:{u_sampler_tiff_u:e.getUniformLocation(x,"u_sampler_tiff_u"),u_sampler_tiff_v:e.getUniformLocation(x,"u_sampler_tiff_v"),u_sampler_colorRamp:e.getUniformLocation(x,"u_sampler_colorRamp"),u_time:e.getUniformLocation(x,"u_time"),u_random:e.getUniformLocation(x,"u_random"),u_extent:e.getUniformLocation(x,"u_extent"),u_count:e.getUniformLocation(x,"u_count"),u_speed:e.getUniformLocation(x,"u_speed"),u_scale:e.getUniformLocation(x,"u_scale"),u_nodata:e.getUniformLocation(x,"u_nodata"),u_offset:e.getUniformLocation(x,"u_offset"),u_umin:e.getUniformLocation(x,"u_umin"),u_umax:e.getUniformLocation(x,"u_umax"),u_vmin:e.getUniformLocation(x,"u_vmin"),u_vmax:e.getUniformLocation(x,"u_vmax"),u_val_min:e.getUniformLocation(x,"u_val_min"),u_val_max:e.getUniformLocation(x,"u_val_max")}},y={attributes:{a_position:0,a_color:1},uniforms:{u_size:e.getUniformLocation(A,"u_size"),u_color:e.getUniformLocation(A,"u_color"),u_useColorRamp:e.getUniformLocation(A,"u_useColorRamp")}},E={attributes:{a_position:0,a_uv:1},uniforms:{u_sampler:e.getUniformLocation(l,"u_sampler")}},C={attributes:{a_position:0,a_uv:1},uniforms:{u_sampler:e.getUniformLocation(u,"u_sampler")}},b=e.createTransformFeedback(),B=[e.canvas.width,e.canvas.height],Q={input:{framebuffer:e.createFramebuffer(),texture:N5({gl:e,level:0,border:0,offset:0,target:e.TEXTURE_2D,width:B[0],height:B[1],type:e.UNSIGNED_BYTE,internalformat:e.RGBA,format:e.RGBA})},output:{framebuffer:e.createFramebuffer(),texture:N5({gl:e,level:0,border:0,offset:0,target:e.TEXTURE_2D,width:B[0],height:B[1],type:e.UNSIGNED_BYTE,internalformat:e.RGBA,format:e.RGBA})}};e.bindFramebuffer(e.FRAMEBUFFER,Q.input.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,Q.input.texture,0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,Q.output.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,Q.output.texture,0),e.bindFramebuffer(e.FRAMEBUFFER,null);const{positions:w}=a;e.bindBuffer(e.ARRAY_BUFFER,p.positions_input),e.bufferData(e.ARRAY_BUFFER,w.length*Float32Array.BYTES_PER_ELEMENT*1,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,p.positions_output),e.bufferData(e.ARRAY_BUFFER,w.length*Float32Array.BYTES_PER_ELEMENT*1,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,p.colors_output),e.bufferData(e.ARRAY_BUFFER,w.length/2*3*Float32Array.BYTES_PER_ELEMENT*1,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null);const R={tiff_u:{val:e.createTexture(),id:e.TEXTURE0,pos:0},tiff_v:{val:e.createTexture(),id:e.TEXTURE1,pos:1},colorRamp:{val:e.createTexture(),id:e.TEXTURE2,pos:2}},D=MA(t.textureData.data.u,e);kA({gl:e,texture:R.tiff_u.val,level:0,border:0,offset:0,data:t.textureData.data.u,target:e.TEXTURE_2D,width:t.textureData.width,height:t.textureData.height,type:D.type,format:D.format,internalformat:D.internalformat});const F=MA(t.textureData.data.v,e);kA({gl:e,texture:R.tiff_v.val,level:0,border:0,offset:0,data:t.textureData.data.v,target:e.TEXTURE_2D,width:t.textureData.width,height:t.textureData.height,type:F.type,format:F.format,internalformat:F.internalformat});const{val_min:v,val_max:S,imageData:M,width:L,height:P}=this._colorRampObject,O=MA(M,e);kA({gl:e,texture:R.colorRamp.val,level:0,border:0,offset:0,data:M,target:e.TEXTURE_2D,width:L,height:P,type:O.type,format:O.format,internalformat:O.internalformat});const k=[0,0,1,0,1,1,1,1,0,1,0,0],H=[0,0,1,0,1,1,1,1,0,1,0,0];return{gl:e,calc:{program:x,vao:h,buffers:p,locations:m,tf:b,textures:R,fbs:Q},input:{program:A,vao:f,locations:y},output:{program:l,vao:g,buffers:I,locations:E,positions:k,uvs:H},main:{program:u,vao:d,buffers:_,locations:C,positions:k,uvs:H},fbs:Q,metaData:o,particles:a,extent:c}}_updateModel(e,{calc:t,particles:n,extent:r}){const{gl:s}=e,{program:o,vao:a,buffers:c,locations:x,tf:A,textures:l,fbs:u}=e.calc,{textureData:h}=t,{positions:f,ages:g}=n;c.positions_input=s.createBuffer(),c.positions_output=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,c.positions_input),s.bufferData(s.ARRAY_BUFFER,new Float32Array(f),s.DYNAMIC_DRAW),s.bindBuffer(s.ARRAY_BUFFER,c.positions_output),s.bufferData(s.ARRAY_BUFFER,f.length*Float32Array.BYTES_PER_ELEMENT*1,s.DYNAMIC_DRAW),s.bindBuffer(s.ARRAY_BUFFER,null);const d=MA(h.data.u,s);kA({gl:s,texture:l.tiff_u.val,level:0,border:0,offset:0,data:h.data.u,target:s.TEXTURE_2D,width:h.width,height:h.height,type:d.type,format:d.format,internalformat:d.internalformat});const p=MA(h.data.v,s);kA({gl:s,texture:l.tiff_v.val,level:0,border:0,offset:0,data:h.data.v,target:s.TEXTURE_2D,width:h.width,height:h.height,type:p.type,format:p.format,internalformat:p.internalformat})}_drawModel(e,{}){if(e){const{gl:t,calc:n,input:r,output:s,main:o,fbs:a,metaData:c,particles:x,extent:A}=e;this._drawCalc(t,n,c,x,A),this._draw_input(t,r,a,n,x),this._draw_output(t,s,a),this._draw_main(t,o,a),this._swapframebuffer(a),this._swaptfbuffer(n)}}_drawCalc(e,t,n,r,s){const{program:o,vao:a,buffers:c,locations:x,tf:A,textures:l}=t,{val_min:u,val_max:h}=this._colorRampObject;e.useProgram(o),e.bindVertexArray(a);const{a_position:f}=x.attributes;e.bindBuffer(e.ARRAY_BUFFER,c.positions_input),e.enableVertexAttribArray(f),e.vertexAttribPointer(f,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,A),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,0,c.positions_output),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,1,c.colors_output),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),e.enable(e.RASTERIZER_DISCARD),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,A),e.beginTransformFeedback(e.POINTS),e.activeTexture(l.tiff_u.id),e.bindTexture(e.TEXTURE_2D,l.tiff_u.val),e.uniform1i(x.uniforms.u_sampler_tiff_u,l.tiff_u.pos),e.activeTexture(l.tiff_v.id),e.bindTexture(e.TEXTURE_2D,l.tiff_v.val),e.uniform1i(x.uniforms.u_sampler_tiff_v,l.tiff_v.pos),e.activeTexture(l.colorRamp.id),e.bindTexture(e.TEXTURE_2D,l.colorRamp.val),e.uniform1i(x.uniforms.u_sampler_colorRamp,l.colorRamp.pos),e.uniform1f(x.uniforms.u_time,this.clock.elapsedTime),e.uniform1f(x.uniforms.u_random,Math.random()),e.uniform4fv(x.uniforms.u_extent,new Float32Array(s)),e.uniform1f(x.uniforms.u_speed,this.state.speed),e.uniform1f(x.uniforms.u_count,this.state.count),e.uniform1f(x.uniforms.u_scale,n.scale),e.uniform1f(x.uniforms.u_nodata,n.nodata),e.uniform1f(x.uniforms.u_offset,n.offset),e.uniform1f(x.uniforms.u_umin,n.umin),e.uniform1f(x.uniforms.u_umax,n.umax),e.uniform1f(x.uniforms.u_vmin,n.vmin),e.uniform1f(x.uniforms.u_vmax,n.vmax),e.uniform1f(x.uniforms.u_val_min,u),e.uniform1f(x.uniforms.u_val_max,h),e.drawArrays(e.POINTS,0,r.positions.length/2),e.endTransformFeedback(),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),e.disable(e.RASTERIZER_DISCARD),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null)}_draw_input(e,t,n,r,s){const{program:o,vao:a,locations:c}=t;e.useProgram(o),e.bindFramebuffer(e.FRAMEBUFFER,n.input.framebuffer),e.bindVertexArray(a);const{a_position:x,a_color:A}=c.attributes;e.bindBuffer(e.ARRAY_BUFFER,r.buffers.positions_output),e.enableVertexAttribArray(x),e.vertexAttribPointer(x,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,r.buffers.colors_output),e.enableVertexAttribArray(A),e.vertexAttribPointer(A,3,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*3,0),e.uniform1f(c.uniforms.u_size,this.state.size),e.uniform3fv(c.uniforms.u_color,new Float32Array(this.state.color)),e.uniform1i(c.uniforms.u_useColorRamp,this.state.useColorRamp),e.drawArrays(e.POINTS,0,s.positions.length/2),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null)}_draw_output(e,t,n){const{program:r,vao:s,buffers:o,locations:a,positions:c,uvs:x}=t;e.useProgram(r),e.bindFramebuffer(e.FRAMEBUFFER,n.output.framebuffer),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n.input.texture),e.uniform1i(a.uniforms.u_sampler,0),e.bindVertexArray(s);const A=o.positions,l=o.uvs,{a_position:u,a_uv:h}=a.attributes;e.bindBuffer(e.ARRAY_BUFFER,A),e.bufferData(e.ARRAY_BUFFER,new Float32Array(c),e.STATIC_DRAW),e.enableVertexAttribArray(u),e.vertexAttribPointer(u,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,new Float32Array(x),e.STATIC_DRAW),e.enableVertexAttribArray(h),e.vertexAttribPointer(h,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.drawArrays(e.TRIANGLES,0,6),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindVertexArray(null)}_draw_main(e,t,n){const{program:r,vao:s,buffers:o,locations:a,positions:c,uvs:x}=t;e.useProgram(r),e.bindFramebuffer(e.FRAMEBUFFER,null),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n.input.texture),e.uniform1i(a.uniforms.u_sampler,0),e.bindVertexArray(s);const A=o.positions,l=o.uvs,{a_position:u,a_uv:h}=a.attributes;e.bindBuffer(e.ARRAY_BUFFER,A),e.bufferData(e.ARRAY_BUFFER,new Float32Array(c),e.STATIC_DRAW),e.enableVertexAttribArray(u),e.vertexAttribPointer(u,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,l),e.bufferData(e.ARRAY_BUFFER,new Float32Array(x),e.STATIC_DRAW),e.enableVertexAttribArray(h),e.vertexAttribPointer(h,2,e.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT*2,0),e.bindBuffer(e.ARRAY_BUFFER,null),e.drawArrays(e.TRIANGLES,0,6),e.bindVertexArray(null)}_swaptfbuffer(e){const{buffers:t}=e,n=t.positions_input;t.positions_input=t.positions_output,t.positions_output=n}_swapframebuffer(e){const t={...e.input};e.input.texture=e.output.texture,e.input.framebuffer=e.output.framebuffer,e.output.texture=t.texture,e.output.framebuffer=t.framebuffer}_createParticles(e,t){const[n,r,s,o]=e,a=[],c=[];for(let x=0;x<t;x++)a[x*2]=n+Math.random()*(s-n),a[x*2+1]=r+Math.random()*(o-r),c[x]=Math.floor(Math.random()*this.state.maxAge);return{positions:a,ages:c}}_createColorRamp(e){const t=e.sort((l,u)=>l[0]<u[0]),n=t[0][0],r=t[t.length-1][0],s=document.createElement("canvas"),o=256,a=1;s.width=o,s.height=a;const c=s.getContext("2d"),x=c.createLinearGradient(0,0,s.width,s.height);for(let l=0;l<e.length;l++){const[u,h]=e[l],f=(u-n)/(r-n);x.addColorStop(f,h)}c.fillStyle=x,c.fillRect(0,0,s.width,s.height);const A=new Uint8Array(c.getImageData(0,0,s.width,s.height).data);return{val_min:n,val_max:r,imageData:A,width:o,height:a}}}},Symbol.toStringTag,{value:"Module"})),wM=Object.freeze(Object.defineProperty({__proto__:null,GeotiffLoader:class{constructor(){Ne(this,"abortController");Ne(this,"load",async e=>{const t={data:null,error:null,loading:!1};return this.abortController=new AbortController,new Promise(async(n,r)=>{t.loading=!0;try{const s=await mE(e,{},this.abortController.singal),o=await s.getImageCount(),a=[];for(let x=0;x<o;x++){const A=await s.getImage(x);a.push({image:A})}const c=a[0];a.forEach((x,A)=>{let l,u,h;try{l=x.image.getOrigin()}catch{l=null}try{u=x.image.getResolution()}catch{u=x.image.getResolution(c.image)}try{h=x.image.getBoundingBox()}catch{h=null}x.origin=l,x.resolution=u,x.bbox=h,x.metaData=x.image.getGDALMetadata()||c.image.getGDALMetadata()}),this.data=a,t.data=a}catch(s){s.name==="AbortError"&&(t.error=s)}finally{n(t)}})});Ne(this,"matchImageByZoom",e=>{if(this.data){const t=Math.pow(.5,e);let n=0,r=1;for(let s=0;s<this.data.length;s++){const o=this.data[s],a=Math.abs(o.resolution[0]),c=Math.abs(t-a);c<=r&&(n=s,r=c)}return this.data[n]}return null});Ne(this,"getRasterByExtent",async(e,t)=>{this.abortController=new AbortController;const[n,r,s]=e.origin||this.data[0].origin,[o,a]=e.resolution||this.data[0].resolution,c=e.bbox||this.data[0].bbox,x=e.metaData||this.data[0].metaData,A=this._fixBbox(c),l=this.calBboxes(A,t,"x"),u=[];for(let h=0;h<l.length;h++){const f=[...l[h]],g=this._normBbox(l[h]),d=(g[0]-n)/o,p=(g[1]-r)/a,I=(g[2]-n)/o,_=(g[3]-r)/a,m=Math.floor(Math.min(d,I)),y=Math.floor(Math.min(p,_)),E=Math.ceil(Math.max(d,I)),C=Math.ceil(Math.max(p,_)),b=[m,y,E,C],B=await e.image.readRasters({fillValue:parseFloat(x.nodata),window:b,signal:this.abortController.signal});B.window=b,B.bbox=f,u.push(B)}return u})}calBboxes(e,t,n="xy"){const r=Math.floor((t[0]+180)/360),s=Math.floor((t[2]+180-1e-6)/360),o=Math.floor((t[1]+90)/180),a=Math.floor((t[3]+90-1e-6)/180),c=[];if(n.includes("xy"))for(let x=r;x<=s;x++){let A=360*x+e[0];x===r&&(A=Math.max(A,t[0]));let l=360*x+e[2];x===s&&(l=Math.min(l,t[2]));for(let u=o;u<=a;u++){let h=180*u+e[1];u===o&&(h=Math.max(h,t[1]));let f=180*u+e[3];u===a&&(f=Math.min(f,t[3])),c.push([A,h,l,f])}}else if(n.includes("x"))for(let x=r;x<=s;x++){let A=360*x+e[0];x===r&&(A=Math.max(A,t[0]));let l=360*x+e[2];x===s&&(l=Math.min(l,t[2]));const u=Math.max(-90,e[1],t[1]),h=Math.min(90,e[3],t[3]);c.push([A,u,l,h])}else{const x=Math.max(-180,e[0],t[0]),A=Math.min(180,e[2],t[2]);for(let l=o;l<=a;l++){let u=180*l+e[1];l===o&&(u=Math.max(u,t[1]));let h=180*l+e[3];l===a&&(h=Math.min(h,t[3])),c.push([x,u,A,h])}}return c}_fixBbox(e){const t=Math.max(-180,e[0]),n=Math.min(180,e[2]),r=Math.max(-90,e[1]),s=Math.min(90,e[3]);return[t,r,n,s]}_normBbox(e){const t=Math.floor((e[0]+180)/360),n=Math.floor((e[1]+90)/180);let r=e[0]-360*t,s=e[2]-360*t,o=e[1]-180*n,a=e[3]-180*n;return[r,o,s,a]}}},Symbol.toStringTag,{value:"Module"})),{WindLayer:QM}=BM,{GeotiffLoader:vM}=wM;class RM{constructor(e){Ne(this,"mapMoveStartEvent",()=>{console.log("movestart",map.renderComplete_),this.map.getLayers().forEach(e=>{e.type==="custom"&&e.setNeedRedraw()})});Ne(this,"mapMoveEndEvent",()=>{console.log("moveend",this.map.renderComplete_);const e=this.map.getLayers();console.log("movestart",e),this.getData(this.map,this.tiffLoader).then(t=>{this.windLayer.setProps({data:t})})});this.option=e,this.map=e.map,this.tiffLoader=new vM,this.windLayer=null}async _render(){this.map.on("movestart",this.mapMoveStartEvent),this.map.on("moveend",this.mapMoveEndEvent);debugger;let e=this.option.params.url;return this.windLayer=new QM(this.option.params),this.map.addLayer(this.windLayer),await this.tiffLoader.load(e).then(async()=>{const t=await this.getData(this.map,this.tiffLoader);console.log("data",t),console.log("this.windLayer",this.windLayer),this.windLayer.setProps({data:t})})}async getData(e,t){const n=Math.floor(e.getView().getZoom()),r=t.matchImageByZoom(n),s=e.getView().calculateExtent(e.getSize()),o=this.windLayer.extentTolnglat(s,e),a=await t.getRasterByExtent(r,o),c=r.metaData,x=parseFloat(c.scale),A=parseFloat(c.offset),l=parseFloat(c.nodata),u=parseFloat(c.umin||c.uvmin),h=parseFloat(c.umax||c.uvmax),f=parseFloat(c.vmin||c.uvmin),g=parseFloat(c.vmax||c.uvmax);console.log(c);const d=[];return a.forEach((p,I)=>{const _=p[0],m=p[1],y=p.bbox,E=p.width,C=p.height;d.push({dataArray_u:_,dataArray_v:m,bbox:y,width:E,height:C,metaData:{scale:x,offset:A,nodata:l,umin:u,umax:h,vmin:f,vmax:g}})}),d}}function SM(){const e=document.currentScript.src.replace(/\/([^\/]+$)/ig,"/style.css");document.write(`<link rel="stylesheet" href="${e}"/>`)}SM();class DM extends j0{decodeBlock(e){return e}}const kM=Object.freeze(Object.defineProperty({__proto__:null,default:DM},Symbol.toStringTag,{value:"Module"})),P5=9,lm=256,um=257,MM=12;function FM(i,e,t){const n=e%8,r=Math.floor(e/8),s=8-n,o=e+t-(r+1)*8;let a=8*(r+2)-(e+t);const c=(r+2)*8-e;if(a=Math.max(0,a),r>=i.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),um;let x=i[r]&2**(8-n)-1;x<<=t-s;let A=x;if(r+1<i.length){let l=i[r+1]>>>a;l<<=Math.max(0,t-c),A+=l}if(o>8&&r+2<i.length){const l=(r+3)*8-(e+t),u=i[r+2]>>>l;A+=u}return A}function hm(i,e){for(let t=e.length-1;t>=0;t--)i.push(e[t]);return i}function TM(i){const e=new Uint16Array(4093),t=new Uint8Array(4093);for(let f=0;f<=257;f++)e[f]=4096,t[f]=f;let n=258,r=P5,s=0;function o(){n=258,r=P5}function a(f){const g=FM(f,s,r);return s+=r,g}function c(f,g){return t[n]=g,e[n]=f,n++,n-1}function x(f){const g=[];for(let d=f;d!==4096;d=e[d])g.push(t[d]);return g}const A=[];o();const l=new Uint8Array(i);let u=a(l),h;for(;u!==um;){if(u===lm){for(o(),u=a(l);u===lm;)u=a(l);if(u===um)break;if(u>lm)throw new Error(`corrupted code at scanline ${u}`);{const f=x(u);hm(A,f),h=u}}else if(u<n){const f=x(u);hm(A,f),c(h,f[f.length-1]),h=u}else{const f=x(h);if(!f)throw new Error(`Bogus entry. Not in dictionary, ${h} / ${n}, position: ${s}`);hm(A,f),A.push(f[f.length-1]),c(h,f[f.length-1]),h=u}n+1>=2**r&&(r===MM?h=void 0:r++),u=a(l)}return new Uint8Array(A)}class LM extends j0{decodeBlock(e){return TM(e).buffer}}const GM=Object.freeze(Object.defineProperty({__proto__:null,default:LM},Symbol.toStringTag,{value:"Module"})),FA=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),kg=4017,Mg=799,Fg=3406,Tg=2276,Lg=1567,Gg=3784,Oa=5793,Ng=2896;function U5(i,e){let t=0;const n=[];let r=16;for(;r>0&&!i[r-1];)--r;n.push({children:[],index:0});let s=n[0],o;for(let a=0;a<r;a++){for(let c=0;c<i[a];c++){for(s=n.pop(),s.children[s.index]=e[t];s.index>0;)s=n.pop();for(s.index++,n.push(s);n.length<=a;)n.push(o={children:[],index:0}),s.children[s.index]=o.children,s=o;t++}a+1<r&&(n.push(o={children:[],index:0}),s.children[s.index]=o.children,s=o)}return n[0].children}function NM(i,e,t,n,r,s,o,a,c){const{mcusPerLine:x,progressive:A}=t,l=e;let u=e,h=0,f=0;function g(){if(f>0)return f--,h>>f&1;if(h=i[u++],h===255){const q=i[u++];if(q)throw new Error(`unexpected marker: ${(h<<8|q).toString(16)}`)}return f=7,h>>>7}function d(q){let T=q,V;for(;(V=g())!==null;){if(T=T[V],typeof T=="number")return T;if(typeof T!="object")throw new Error("invalid huffman sequence")}return null}function p(q){let T=q,V=0;for(;T>0;){const X=g();if(X===null)return;V=V<<1|X,--T}return V}function I(q){const T=p(q);return T>=1<<q-1?T:T+(-1<<q)+1}function _(q,T){const V=d(q.huffmanTableDC),X=V===0?0:I(V);q.pred+=X,T[0]=q.pred;let $=1;for(;$<64;){const it=d(q.huffmanTableAC),st=it&15,Y=it>>4;if(st===0){if(Y<15)break;$+=16}else{$+=Y;const yt=FA[$];T[yt]=I(st),$++}}}function m(q,T){const V=d(q.huffmanTableDC),X=V===0?0:I(V)<<c;q.pred+=X,T[0]=q.pred}function y(q,T){T[0]|=g()<<c}let E=0;function C(q,T){if(E>0){E--;return}let V=s;const X=o;for(;V<=X;){const $=d(q.huffmanTableAC),it=$&15,st=$>>4;if(it===0){if(st<15){E=p(st)+(1<<st)-1;break}V+=16}else{V+=st;const Y=FA[V];T[Y]=I(it)*(1<<c),V++}}}let b=0,B;function Q(q,T){let V=s;const X=o;let $=0;for(;V<=X;){const it=FA[V],st=T[it]<0?-1:1;switch(b){case 0:{const Y=d(q.huffmanTableAC),yt=Y&15;if($=Y>>4,yt===0)$<15?(E=p($)+(1<<$),b=4):($=16,b=1);else{if(yt!==1)throw new Error("invalid ACn encoding");B=I(yt),b=$?2:3}continue}case 1:case 2:T[it]?T[it]+=(g()<<c)*st:($--,$===0&&(b=b===2?3:0));break;case 3:T[it]?T[it]+=(g()<<c)*st:(T[it]=B<<c,b=0);break;case 4:T[it]&&(T[it]+=(g()<<c)*st);break}V++}b===4&&(E--,E===0&&(b=0))}function w(q,T,V,X,$){const it=V/x|0,st=V%x,Y=it*q.v+X,yt=st*q.h+$;T(q,q.blocks[Y][yt])}function R(q,T,V){const X=V/q.blocksPerLine|0,$=V%q.blocksPerLine;T(q,q.blocks[X][$])}const D=n.length;let F,v,S,M,L,P;A?s===0?P=a===0?m:y:P=a===0?C:Q:P=_;let O=0,k,H;D===1?H=n[0].blocksPerLine*n[0].blocksPerColumn:H=x*t.mcusPerColumn;const K=r||H;for(;O<H;){for(v=0;v<D;v++)n[v].pred=0;if(E=0,D===1)for(F=n[0],L=0;L<K;L++)R(F,P,O),O++;else for(L=0;L<K;L++){for(v=0;v<D;v++){F=n[v];const{h:q,v:T}=F;for(S=0;S<T;S++)for(M=0;M<q;M++)w(F,P,O,S,M)}if(O++,O===H)break}if(f=0,k=i[u]<<8|i[u+1],k<65280)throw new Error("marker was not found");if(k>=65488&&k<=65495)u+=2;else break}return u-l}function PM(i,e){const t=[],{blocksPerLine:n,blocksPerColumn:r}=e,s=n<<3,o=new Int32Array(64),a=new Uint8Array(64);function c(x,A,l){const u=e.quantizationTable;let h,f,g,d,p,I,_,m,y;const E=l;let C;for(C=0;C<64;C++)E[C]=x[C]*u[C];for(C=0;C<8;++C){const b=8*C;if(E[1+b]===0&&E[2+b]===0&&E[3+b]===0&&E[4+b]===0&&E[5+b]===0&&E[6+b]===0&&E[7+b]===0){y=Oa*E[0+b]+512>>10,E[0+b]=y,E[1+b]=y,E[2+b]=y,E[3+b]=y,E[4+b]=y,E[5+b]=y,E[6+b]=y,E[7+b]=y;continue}h=Oa*E[0+b]+128>>8,f=Oa*E[4+b]+128>>8,g=E[2+b],d=E[6+b],p=Ng*(E[1+b]-E[7+b])+128>>8,m=Ng*(E[1+b]+E[7+b])+128>>8,I=E[3+b]<<4,_=E[5+b]<<4,y=h-f+1>>1,h=h+f+1>>1,f=y,y=g*Gg+d*Lg+128>>8,g=g*Lg-d*Gg+128>>8,d=y,y=p-_+1>>1,p=p+_+1>>1,_=y,y=m+I+1>>1,I=m-I+1>>1,m=y,y=h-d+1>>1,h=h+d+1>>1,d=y,y=f-g+1>>1,f=f+g+1>>1,g=y,y=p*Tg+m*Fg+2048>>12,p=p*Fg-m*Tg+2048>>12,m=y,y=I*Mg+_*kg+2048>>12,I=I*kg-_*Mg+2048>>12,_=y,E[0+b]=h+m,E[7+b]=h-m,E[1+b]=f+_,E[6+b]=f-_,E[2+b]=g+I,E[5+b]=g-I,E[3+b]=d+p,E[4+b]=d-p}for(C=0;C<8;++C){const b=C;if(E[1*8+b]===0&&E[2*8+b]===0&&E[3*8+b]===0&&E[4*8+b]===0&&E[5*8+b]===0&&E[6*8+b]===0&&E[7*8+b]===0){y=Oa*l[C+0]+8192>>14,E[0*8+b]=y,E[1*8+b]=y,E[2*8+b]=y,E[3*8+b]=y,E[4*8+b]=y,E[5*8+b]=y,E[6*8+b]=y,E[7*8+b]=y;continue}h=Oa*E[0*8+b]+2048>>12,f=Oa*E[4*8+b]+2048>>12,g=E[2*8+b],d=E[6*8+b],p=Ng*(E[1*8+b]-E[7*8+b])+2048>>12,m=Ng*(E[1*8+b]+E[7*8+b])+2048>>12,I=E[3*8+b],_=E[5*8+b],y=h-f+1>>1,h=h+f+1>>1,f=y,y=g*Gg+d*Lg+2048>>12,g=g*Lg-d*Gg+2048>>12,d=y,y=p-_+1>>1,p=p+_+1>>1,_=y,y=m+I+1>>1,I=m-I+1>>1,m=y,y=h-d+1>>1,h=h+d+1>>1,d=y,y=f-g+1>>1,f=f+g+1>>1,g=y,y=p*Tg+m*Fg+2048>>12,p=p*Fg-m*Tg+2048>>12,m=y,y=I*Mg+_*kg+2048>>12,I=I*kg-_*Mg+2048>>12,_=y,E[0*8+b]=h+m,E[7*8+b]=h-m,E[1*8+b]=f+_,E[6*8+b]=f-_,E[2*8+b]=g+I,E[5*8+b]=g-I,E[3*8+b]=d+p,E[4*8+b]=d-p}for(C=0;C<64;++C){const b=128+(E[C]+8>>4);b<0?A[C]=0:b>255?A[C]=255:A[C]=b}}for(let x=0;x<r;x++){const A=x<<3;for(let l=0;l<8;l++)t.push(new Uint8Array(s));for(let l=0;l<n;l++){c(e.blocks[x][l],a,o);let u=0;const h=l<<3;for(let f=0;f<8;f++){const g=t[A+f];for(let d=0;d<8;d++)g[h+d]=a[u++]}}}return t}class UM{constructor(){this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}resetFrames(){this.frames=[]}parse(e){let t=0;function n(){const a=e[t]<<8|e[t+1];return t+=2,a}function r(){const a=n(),c=e.subarray(t,t+a-2);return t+=c.length,c}function s(a){let c=0,x=0,A,l;for(l in a.components)a.components.hasOwnProperty(l)&&(A=a.components[l],c<A.h&&(c=A.h),x<A.v&&(x=A.v));const u=Math.ceil(a.samplesPerLine/8/c),h=Math.ceil(a.scanLines/8/x);for(l in a.components)if(a.components.hasOwnProperty(l)){A=a.components[l];const f=Math.ceil(Math.ceil(a.samplesPerLine/8)*A.h/c),g=Math.ceil(Math.ceil(a.scanLines/8)*A.v/x),d=u*A.h,p=h*A.v,I=[];for(let _=0;_<p;_++){const m=[];for(let y=0;y<d;y++)m.push(new Int32Array(64));I.push(m)}A.blocksPerLine=f,A.blocksPerColumn=g,A.blocks=I}a.maxH=c,a.maxV=x,a.mcusPerLine=u,a.mcusPerColumn=h}let o=n();if(o!==65496)throw new Error("SOI not found");for(o=n();o!==65497;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:{const a=r();o===65504&&a[0]===74&&a[1]===70&&a[2]===73&&a[3]===70&&a[4]===0&&(this.jfif={version:{major:a[5],minor:a[6]},densityUnits:a[7],xDensity:a[8]<<8|a[9],yDensity:a[10]<<8|a[11],thumbWidth:a[12],thumbHeight:a[13],thumbData:a.subarray(14,14+3*a[12]*a[13])}),o===65518&&a[0]===65&&a[1]===100&&a[2]===111&&a[3]===98&&a[4]===101&&a[5]===0&&(this.adobe={version:a[6],flags0:a[7]<<8|a[8],flags1:a[9]<<8|a[10],transformCode:a[11]});break}case 65499:{const c=n()+t-2;for(;t<c;){const x=e[t++],A=new Int32Array(64);if(x>>4)if(x>>4===1)for(let l=0;l<64;l++){const u=FA[l];A[u]=n()}else throw new Error("DQT: invalid table spec");else for(let l=0;l<64;l++){const u=FA[l];A[u]=e[t++]}this.quantizationTables[x&15]=A}break}case 65472:case 65473:case 65474:{n();const a={extended:o===65473,progressive:o===65474,precision:e[t++],scanLines:n(),samplesPerLine:n(),components:{},componentsOrder:[]},c=e[t++];let x;for(let A=0;A<c;A++){x=e[t];const l=e[t+1]>>4,u=e[t+1]&15,h=e[t+2];a.componentsOrder.push(x),a.components[x]={h:l,v:u,quantizationIdx:h},t+=3}s(a),this.frames.push(a);break}case 65476:{const a=n();for(let c=2;c<a;){const x=e[t++],A=new Uint8Array(16);let l=0;for(let h=0;h<16;h++,t++)A[h]=e[t],l+=A[h];const u=new Uint8Array(l);for(let h=0;h<l;h++,t++)u[h]=e[t];c+=17+l,x>>4?this.huffmanTablesAC[x&15]=U5(A,u):this.huffmanTablesDC[x&15]=U5(A,u)}break}case 65501:n(),this.resetInterval=n();break;case 65498:{n();const a=e[t++],c=[],x=this.frames[0];for(let f=0;f<a;f++){const g=x.components[e[t++]],d=e[t++];g.huffmanTableDC=this.huffmanTablesDC[d>>4],g.huffmanTableAC=this.huffmanTablesAC[d&15],c.push(g)}const A=e[t++],l=e[t++],u=e[t++],h=NM(e,t,x,c,this.resetInterval,A,l,u>>4,u&15);t+=h;break}case 65535:e[t]!==255&&t--;break;default:if(e[t-3]===255&&e[t-2]>=192&&e[t-2]<=254){t-=3;break}throw new Error(`unknown JPEG marker ${o.toString(16)}`)}o=n()}}getResult(){const{frames:e}=this;if(this.frames.length===0)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(let A=0;A<this.frames.length;A++){const l=this.frames[A].components;for(const u of Object.keys(l))l[u].quantizationTable=this.quantizationTables[l[u].quantizationIdx],delete l[u].quantizationIdx}const t=e[0],{components:n,componentsOrder:r}=t,s=[],o=t.samplesPerLine,a=t.scanLines;for(let A=0;A<r.length;A++){const l=n[r[A]];s.push({lines:PM(t,l),scaleX:l.h/t.maxH,scaleY:l.v/t.maxV})}const c=new Uint8Array(o*a*s.length);let x=0;for(let A=0;A<a;++A)for(let l=0;l<o;++l)for(let u=0;u<s.length;++u){const h=s[u];c[x]=h.lines[0|A*h.scaleY][0|l*h.scaleX],++x}return c}}class OM extends j0{constructor(e){super(),this.reader=new UM,e.JPEGTables&&this.reader.parse(e.JPEGTables)}decodeBlock(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}const zM=Object.freeze(Object.defineProperty({__proto__:null,default:OM},Symbol.toStringTag,{value:"Module"}));/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const qM=4,O5=0,z5=1,YM=2;function za(i){let e=i.length;for(;--e>=0;)i[e]=0}const HM=0,q5=1,jM=2,VM=3,JM=258,fm=29,TA=256,LA=TA+1+fm,qa=30,dm=19,Y5=2*LA+1,Ps=15,gm=16,KM=7,pm=256,H5=16,j5=17,V5=18,Im=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Pg=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),XM=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),J5=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZM=512,Yr=new Array((LA+2)*2);za(Yr);const GA=new Array(qa*2);za(GA);const NA=new Array(ZM);za(NA);const PA=new Array(JM-VM+1);za(PA);const _m=new Array(fm);za(_m);const Ug=new Array(qa);za(Ug);function mm(i,e,t,n,r){this.static_tree=i,this.extra_bits=e,this.extra_base=t,this.elems=n,this.max_length=r,this.has_stree=i&&i.length}let K5,X5,Z5;function Em(i,e){this.dyn_tree=i,this.max_code=0,this.stat_desc=e}const W5=i=>i<256?NA[i]:NA[256+(i>>>7)],UA=(i,e)=>{i.pending_buf[i.pending++]=e&255,i.pending_buf[i.pending++]=e>>>8&255},$n=(i,e,t)=>{i.bi_valid>gm-t?(i.bi_buf|=e<<i.bi_valid&65535,UA(i,i.bi_buf),i.bi_buf=e>>gm-i.bi_valid,i.bi_valid+=t-gm):(i.bi_buf|=e<<i.bi_valid&65535,i.bi_valid+=t)},hr=(i,e,t)=>{$n(i,t[e*2],t[e*2+1])},$5=(i,e)=>{let t=0;do t|=i&1,i>>>=1,t<<=1;while(--e>0);return t>>>1},WM=i=>{i.bi_valid===16?(UA(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=i.bi_buf&255,i.bi_buf>>=8,i.bi_valid-=8)},$M=(i,e)=>{const t=e.dyn_tree,n=e.max_code,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length;let x,A,l,u,h,f,g=0;for(u=0;u<=Ps;u++)i.bl_count[u]=0;for(t[i.heap[i.heap_max]*2+1]=0,x=i.heap_max+1;x<Y5;x++)A=i.heap[x],u=t[t[A*2+1]*2+1]+1,u>c&&(u=c,g++),t[A*2+1]=u,!(A>n)&&(i.bl_count[u]++,h=0,A>=a&&(h=o[A-a]),f=t[A*2],i.opt_len+=f*(u+h),s&&(i.static_len+=f*(r[A*2+1]+h)));if(g!==0){do{for(u=c-1;i.bl_count[u]===0;)u--;i.bl_count[u]--,i.bl_count[u+1]+=2,i.bl_count[c]--,g-=2}while(g>0);for(u=c;u!==0;u--)for(A=i.bl_count[u];A!==0;)l=i.heap[--x],!(l>n)&&(t[l*2+1]!==u&&(i.opt_len+=(u-t[l*2+1])*t[l*2],t[l*2+1]=u),A--)}},tB=(i,e,t)=>{const n=new Array(Ps+1);let r=0,s,o;for(s=1;s<=Ps;s++)r=r+t[s-1]<<1,n[s]=r;for(o=0;o<=e;o++){let a=i[o*2+1];a!==0&&(i[o*2]=$5(n[a]++,a))}},tF=()=>{let i,e,t,n,r;const s=new Array(Ps+1);for(t=0,n=0;n<fm-1;n++)for(_m[n]=t,i=0;i<1<<Im[n];i++)PA[t++]=n;for(PA[t-1]=n,r=0,n=0;n<16;n++)for(Ug[n]=r,i=0;i<1<<Pg[n];i++)NA[r++]=n;for(r>>=7;n<qa;n++)for(Ug[n]=r<<7,i=0;i<1<<Pg[n]-7;i++)NA[256+r++]=n;for(e=0;e<=Ps;e++)s[e]=0;for(i=0;i<=143;)Yr[i*2+1]=8,i++,s[8]++;for(;i<=255;)Yr[i*2+1]=9,i++,s[9]++;for(;i<=279;)Yr[i*2+1]=7,i++,s[7]++;for(;i<=287;)Yr[i*2+1]=8,i++,s[8]++;for(tB(Yr,LA+1,s),i=0;i<qa;i++)GA[i*2+1]=5,GA[i*2]=$5(i,5);K5=new mm(Yr,Im,TA+1,LA,Ps),X5=new mm(GA,Pg,0,qa,Ps),Z5=new mm(new Array(0),XM,0,dm,KM)},eB=i=>{let e;for(e=0;e<LA;e++)i.dyn_ltree[e*2]=0;for(e=0;e<qa;e++)i.dyn_dtree[e*2]=0;for(e=0;e<dm;e++)i.bl_tree[e*2]=0;i.dyn_ltree[pm*2]=1,i.opt_len=i.static_len=0,i.sym_next=i.matches=0},nB=i=>{i.bi_valid>8?UA(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0},iB=(i,e,t,n)=>{const r=e*2,s=t*2;return i[r]<i[s]||i[r]===i[s]&&n[e]<=n[t]},ym=(i,e,t)=>{const n=i.heap[t];let r=t<<1;for(;r<=i.heap_len&&(r<i.heap_len&&iB(e,i.heap[r+1],i.heap[r],i.depth)&&r++,!iB(e,n,i.heap[r],i.depth));)i.heap[t]=i.heap[r],t=r,r<<=1;i.heap[t]=n},rB=(i,e,t)=>{let n,r,s=0,o,a;if(i.sym_next!==0)do n=i.pending_buf[i.sym_buf+s++]&255,n+=(i.pending_buf[i.sym_buf+s++]&255)<<8,r=i.pending_buf[i.sym_buf+s++],n===0?hr(i,r,e):(o=PA[r],hr(i,o+TA+1,e),a=Im[o],a!==0&&(r-=_m[o],$n(i,r,a)),n--,o=W5(n),hr(i,o,t),a=Pg[o],a!==0&&(n-=Ug[o],$n(i,n,a)));while(s<i.sym_next);hr(i,pm,e)},Cm=(i,e)=>{const t=e.dyn_tree,n=e.stat_desc.static_tree,r=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,c=-1,x;for(i.heap_len=0,i.heap_max=Y5,o=0;o<s;o++)t[o*2]!==0?(i.heap[++i.heap_len]=c=o,i.depth[o]=0):t[o*2+1]=0;for(;i.heap_len<2;)x=i.heap[++i.heap_len]=c<2?++c:0,t[x*2]=1,i.depth[x]=0,i.opt_len--,r&&(i.static_len-=n[x*2+1]);for(e.max_code=c,o=i.heap_len>>1;o>=1;o--)ym(i,t,o);x=s;do o=i.heap[1],i.heap[1]=i.heap[i.heap_len--],ym(i,t,1),a=i.heap[1],i.heap[--i.heap_max]=o,i.heap[--i.heap_max]=a,t[x*2]=t[o*2]+t[a*2],i.depth[x]=(i.depth[o]>=i.depth[a]?i.depth[o]:i.depth[a])+1,t[o*2+1]=t[a*2+1]=x,i.heap[1]=x++,ym(i,t,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],$M(i,e),tB(t,c,i.bl_count)},sB=(i,e,t)=>{let n,r=-1,s,o=e[0*2+1],a=0,c=7,x=4;for(o===0&&(c=138,x=3),e[(t+1)*2+1]=65535,n=0;n<=t;n++)s=o,o=e[(n+1)*2+1],!(++a<c&&s===o)&&(a<x?i.bl_tree[s*2]+=a:s!==0?(s!==r&&i.bl_tree[s*2]++,i.bl_tree[H5*2]++):a<=10?i.bl_tree[j5*2]++:i.bl_tree[V5*2]++,a=0,r=s,o===0?(c=138,x=3):s===o?(c=6,x=3):(c=7,x=4))},oB=(i,e,t)=>{let n,r=-1,s,o=e[0*2+1],a=0,c=7,x=4;for(o===0&&(c=138,x=3),n=0;n<=t;n++)if(s=o,o=e[(n+1)*2+1],!(++a<c&&s===o)){if(a<x)do hr(i,s,i.bl_tree);while(--a!==0);else s!==0?(s!==r&&(hr(i,s,i.bl_tree),a--),hr(i,H5,i.bl_tree),$n(i,a-3,2)):a<=10?(hr(i,j5,i.bl_tree),$n(i,a-3,3)):(hr(i,V5,i.bl_tree),$n(i,a-11,7));a=0,r=s,o===0?(c=138,x=3):s===o?(c=6,x=3):(c=7,x=4)}},eF=i=>{let e;for(sB(i,i.dyn_ltree,i.l_desc.max_code),sB(i,i.dyn_dtree,i.d_desc.max_code),Cm(i,i.bl_desc),e=dm-1;e>=3&&i.bl_tree[J5[e]*2+1]===0;e--);return i.opt_len+=3*(e+1)+5+5+4,e},nF=(i,e,t,n)=>{let r;for($n(i,e-257,5),$n(i,t-1,5),$n(i,n-4,4),r=0;r<n;r++)$n(i,i.bl_tree[J5[r]*2+1],3);oB(i,i.dyn_ltree,e-1),oB(i,i.dyn_dtree,t-1)},iF=i=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&i.dyn_ltree[t*2]!==0)return O5;if(i.dyn_ltree[9*2]!==0||i.dyn_ltree[10*2]!==0||i.dyn_ltree[13*2]!==0)return z5;for(t=32;t<TA;t++)if(i.dyn_ltree[t*2]!==0)return z5;return O5};let aB=!1;const rF=i=>{aB||(tF(),aB=!0),i.l_desc=new Em(i.dyn_ltree,K5),i.d_desc=new Em(i.dyn_dtree,X5),i.bl_desc=new Em(i.bl_tree,Z5),i.bi_buf=0,i.bi_valid=0,eB(i)},xB=(i,e,t,n)=>{$n(i,(HM<<1)+(n?1:0),3),nB(i),UA(i,t),UA(i,~t),t&&i.pending_buf.set(i.window.subarray(e,e+t),i.pending),i.pending+=t},sF=i=>{$n(i,q5<<1,3),hr(i,pm,Yr),WM(i)},oF=(i,e,t,n)=>{let r,s,o=0;i.level>0?(i.strm.data_type===YM&&(i.strm.data_type=iF(i)),Cm(i,i.l_desc),Cm(i,i.d_desc),o=eF(i),r=i.opt_len+3+7>>>3,s=i.static_len+3+7>>>3,s<=r&&(r=s)):r=s=t+5,t+4<=r&&e!==-1?xB(i,e,t,n):i.strategy===qM||s===r?($n(i,(q5<<1)+(n?1:0),3),rB(i,Yr,GA)):($n(i,(jM<<1)+(n?1:0),3),nF(i,i.l_desc.max_code+1,i.d_desc.max_code+1,o+1),rB(i,i.dyn_ltree,i.dyn_dtree)),eB(i),n&&nB(i)},aF=(i,e,t)=>(i.pending_buf[i.sym_buf+i.sym_next++]=e,i.pending_buf[i.sym_buf+i.sym_next++]=e>>8,i.pending_buf[i.sym_buf+i.sym_next++]=t,e===0?i.dyn_ltree[t*2]++:(i.matches++,e--,i.dyn_ltree[(PA[t]+TA+1)*2]++,i.dyn_dtree[W5(e)*2]++),i.sym_next===i.sym_end);var xF=rF,cF=xB,AF=oF,lF=aF,uF=sF,hF={_tr_init:xF,_tr_stored_block:cF,_tr_flush_block:AF,_tr_tally:lF,_tr_align:uF},OA=(i,e,t,n)=>{let r=i&65535|0,s=i>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do r=r+e[n++]|0,s=s+r|0;while(--o);r%=65521,s%=65521}return r|s<<16|0};const fF=()=>{let i,e=[];for(var t=0;t<256;t++){i=t;for(var n=0;n<8;n++)i=i&1?3988292384^i>>>1:i>>>1;e[t]=i}return e},dF=new Uint32Array(fF());var Ze=(i,e,t,n)=>{const r=dF,s=n+t;i^=-1;for(let o=n;o<s;o++)i=i>>>8^r[(i^e[o])&255];return i^-1},Ya={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zA={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:gF,_tr_stored_block:bm,_tr_flush_block:pF,_tr_tally:O0,_tr_align:IF}=hF,{Z_NO_FLUSH:z0,Z_PARTIAL_FLUSH:_F,Z_FULL_FLUSH:mF,Z_FINISH:wi,Z_BLOCK:cB,Z_OK:cn,Z_STREAM_END:AB,Z_STREAM_ERROR:fr,Z_DATA_ERROR:EF,Z_BUF_ERROR:Bm,Z_DEFAULT_COMPRESSION:yF,Z_FILTERED:CF,Z_HUFFMAN_ONLY:Og,Z_RLE:bF,Z_FIXED:BF,Z_DEFAULT_STRATEGY:wF,Z_UNKNOWN:QF,Z_DEFLATED:zg}=zA,vF=9,RF=15,SF=8,wm=256+1+29,DF=30,kF=19,MF=2*wm+1,FF=15,Rt=3,q0=258,dr=q0+Rt+1,TF=32,Ha=42,Qm=57,vm=69,Rm=73,Sm=91,Dm=103,Us=113,qA=666,Sn=1,ja=2,Os=3,Va=4,LF=3,zs=(i,e)=>(i.msg=Ya[e],e),lB=i=>i*2-(i>4?9:0),Y0=i=>{let e=i.length;for(;--e>=0;)i[e]=0},GF=i=>{let e,t,n,r=i.w_size;e=i.hash_size,n=e;do t=i.head[--n],i.head[n]=t>=r?t-r:0;while(--e);e=r,n=e;do t=i.prev[--n],i.prev[n]=t>=r?t-r:0;while(--e)};let H0=(i,e,t)=>(e<<i.hash_shift^t)&i.hash_mask;const Ai=i=>{const e=i.state;let t=e.pending;t>i.avail_out&&(t=i.avail_out),t!==0&&(i.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),i.next_out),i.next_out+=t,e.pending_out+=t,i.total_out+=t,i.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},li=(i,e)=>{pF(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,e),i.block_start=i.strstart,Ai(i.strm)},Ot=(i,e)=>{i.pending_buf[i.pending++]=e},YA=(i,e)=>{i.pending_buf[i.pending++]=e>>>8&255,i.pending_buf[i.pending++]=e&255},km=(i,e,t,n)=>{let r=i.avail_in;return r>n&&(r=n),r===0?0:(i.avail_in-=r,e.set(i.input.subarray(i.next_in,i.next_in+r),t),i.state.wrap===1?i.adler=OA(i.adler,e,r,t):i.state.wrap===2&&(i.adler=Ze(i.adler,e,r,t)),i.next_in+=r,i.total_in+=r,r)},uB=(i,e)=>{let t=i.max_chain_length,n=i.strstart,r,s,o=i.prev_length,a=i.nice_match;const c=i.strstart>i.w_size-dr?i.strstart-(i.w_size-dr):0,x=i.window,A=i.w_mask,l=i.prev,u=i.strstart+q0;let h=x[n+o-1],f=x[n+o];i.prev_length>=i.good_match&&(t>>=2),a>i.lookahead&&(a=i.lookahead);do if(r=e,!(x[r+o]!==f||x[r+o-1]!==h||x[r]!==x[n]||x[++r]!==x[n+1])){n+=2,r++;do;while(x[++n]===x[++r]&&x[++n]===x[++r]&&x[++n]===x[++r]&&x[++n]===x[++r]&&x[++n]===x[++r]&&x[++n]===x[++r]&&x[++n]===x[++r]&&x[++n]===x[++r]&&n<u);if(s=q0-(u-n),n=u-q0,s>o){if(i.match_start=e,o=s,s>=a)break;h=x[n+o-1],f=x[n+o]}}while((e=l[e&A])>c&&--t!==0);return o<=i.lookahead?o:i.lookahead},Ja=i=>{const e=i.w_size;let t,n,r;do{if(n=i.window_size-i.lookahead-i.strstart,i.strstart>=e+(e-dr)&&(i.window.set(i.window.subarray(e,e+e-n),0),i.match_start-=e,i.strstart-=e,i.block_start-=e,i.insert>i.strstart&&(i.insert=i.strstart),GF(i),n+=e),i.strm.avail_in===0)break;if(t=km(i.strm,i.window,i.strstart+i.lookahead,n),i.lookahead+=t,i.lookahead+i.insert>=Rt)for(r=i.strstart-i.insert,i.ins_h=i.window[r],i.ins_h=H0(i,i.ins_h,i.window[r+1]);i.insert&&(i.ins_h=H0(i,i.ins_h,i.window[r+Rt-1]),i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++,i.insert--,!(i.lookahead+i.insert<Rt)););}while(i.lookahead<dr&&i.strm.avail_in!==0)},hB=(i,e)=>{let t=i.pending_buf_size-5>i.w_size?i.w_size:i.pending_buf_size-5,n,r,s,o=0,a=i.strm.avail_in;do{if(n=65535,s=i.bi_valid+42>>3,i.strm.avail_out<s||(s=i.strm.avail_out-s,r=i.strstart-i.block_start,n>r+i.strm.avail_in&&(n=r+i.strm.avail_in),n>s&&(n=s),n<t&&(n===0&&e!==wi||e===z0||n!==r+i.strm.avail_in)))break;o=e===wi&&n===r+i.strm.avail_in?1:0,bm(i,0,0,o),i.pending_buf[i.pending-4]=n,i.pending_buf[i.pending-3]=n>>8,i.pending_buf[i.pending-2]=~n,i.pending_buf[i.pending-1]=~n>>8,Ai(i.strm),r&&(r>n&&(r=n),i.strm.output.set(i.window.subarray(i.block_start,i.block_start+r),i.strm.next_out),i.strm.next_out+=r,i.strm.avail_out-=r,i.strm.total_out+=r,i.block_start+=r,n-=r),n&&(km(i.strm,i.strm.output,i.strm.next_out,n),i.strm.next_out+=n,i.strm.avail_out-=n,i.strm.total_out+=n)}while(o===0);return a-=i.strm.avail_in,a&&(a>=i.w_size?(i.matches=2,i.window.set(i.strm.input.subarray(i.strm.next_in-i.w_size,i.strm.next_in),0),i.strstart=i.w_size,i.insert=i.strstart):(i.window_size-i.strstart<=a&&(i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,i.insert>i.strstart&&(i.insert=i.strstart)),i.window.set(i.strm.input.subarray(i.strm.next_in-a,i.strm.next_in),i.strstart),i.strstart+=a,i.insert+=a>i.w_size-i.insert?i.w_size-i.insert:a),i.block_start=i.strstart),i.high_water<i.strstart&&(i.high_water=i.strstart),o?Va:e!==z0&&e!==wi&&i.strm.avail_in===0&&i.strstart===i.block_start?ja:(s=i.window_size-i.strstart,i.strm.avail_in>s&&i.block_start>=i.w_size&&(i.block_start-=i.w_size,i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,s+=i.w_size,i.insert>i.strstart&&(i.insert=i.strstart)),s>i.strm.avail_in&&(s=i.strm.avail_in),s&&(km(i.strm,i.window,i.strstart,s),i.strstart+=s,i.insert+=s>i.w_size-i.insert?i.w_size-i.insert:s),i.high_water<i.strstart&&(i.high_water=i.strstart),s=i.bi_valid+42>>3,s=i.pending_buf_size-s>65535?65535:i.pending_buf_size-s,t=s>i.w_size?i.w_size:s,r=i.strstart-i.block_start,(r>=t||(r||e===wi)&&e!==z0&&i.strm.avail_in===0&&r<=s)&&(n=r>s?s:r,o=e===wi&&i.strm.avail_in===0&&n===r?1:0,bm(i,i.block_start,n,o),i.block_start+=n,Ai(i.strm)),o?Os:Sn)},Mm=(i,e)=>{let t,n;for(;;){if(i.lookahead<dr){if(Ja(i),i.lookahead<dr&&e===z0)return Sn;if(i.lookahead===0)break}if(t=0,i.lookahead>=Rt&&(i.ins_h=H0(i,i.ins_h,i.window[i.strstart+Rt-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),t!==0&&i.strstart-t<=i.w_size-dr&&(i.match_length=uB(i,t)),i.match_length>=Rt)if(n=O0(i,i.strstart-i.match_start,i.match_length-Rt),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=Rt){i.match_length--;do i.strstart++,i.ins_h=H0(i,i.ins_h,i.window[i.strstart+Rt-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=H0(i,i.ins_h,i.window[i.strstart+1]);else n=O0(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(n&&(li(i,!1),i.strm.avail_out===0))return Sn}return i.insert=i.strstart<Rt-1?i.strstart:Rt-1,e===wi?(li(i,!0),i.strm.avail_out===0?Os:Va):i.sym_next&&(li(i,!1),i.strm.avail_out===0)?Sn:ja},Ka=(i,e)=>{let t,n,r;for(;;){if(i.lookahead<dr){if(Ja(i),i.lookahead<dr&&e===z0)return Sn;if(i.lookahead===0)break}if(t=0,i.lookahead>=Rt&&(i.ins_h=H0(i,i.ins_h,i.window[i.strstart+Rt-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=Rt-1,t!==0&&i.prev_length<i.max_lazy_match&&i.strstart-t<=i.w_size-dr&&(i.match_length=uB(i,t),i.match_length<=5&&(i.strategy===CF||i.match_length===Rt&&i.strstart-i.match_start>4096)&&(i.match_length=Rt-1)),i.prev_length>=Rt&&i.match_length<=i.prev_length){r=i.strstart+i.lookahead-Rt,n=O0(i,i.strstart-1-i.prev_match,i.prev_length-Rt),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=r&&(i.ins_h=H0(i,i.ins_h,i.window[i.strstart+Rt-1]),t=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=Rt-1,i.strstart++,n&&(li(i,!1),i.strm.avail_out===0))return Sn}else if(i.match_available){if(n=O0(i,0,i.window[i.strstart-1]),n&&li(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return Sn}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(n=O0(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<Rt-1?i.strstart:Rt-1,e===wi?(li(i,!0),i.strm.avail_out===0?Os:Va):i.sym_next&&(li(i,!1),i.strm.avail_out===0)?Sn:ja},NF=(i,e)=>{let t,n,r,s;const o=i.window;for(;;){if(i.lookahead<=q0){if(Ja(i),i.lookahead<=q0&&e===z0)return Sn;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=Rt&&i.strstart>0&&(r=i.strstart-1,n=o[r],n===o[++r]&&n===o[++r]&&n===o[++r])){s=i.strstart+q0;do;while(n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&r<s);i.match_length=q0-(s-r),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=Rt?(t=O0(i,1,i.match_length-Rt),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(t=O0(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),t&&(li(i,!1),i.strm.avail_out===0))return Sn}return i.insert=0,e===wi?(li(i,!0),i.strm.avail_out===0?Os:Va):i.sym_next&&(li(i,!1),i.strm.avail_out===0)?Sn:ja},PF=(i,e)=>{let t;for(;;){if(i.lookahead===0&&(Ja(i),i.lookahead===0)){if(e===z0)return Sn;break}if(i.match_length=0,t=O0(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,t&&(li(i,!1),i.strm.avail_out===0))return Sn}return i.insert=0,e===wi?(li(i,!0),i.strm.avail_out===0?Os:Va):i.sym_next&&(li(i,!1),i.strm.avail_out===0)?Sn:ja};function gr(i,e,t,n,r){this.good_length=i,this.max_lazy=e,this.nice_length=t,this.max_chain=n,this.func=r}const HA=[new gr(0,0,0,0,hB),new gr(4,4,8,4,Mm),new gr(4,5,16,8,Mm),new gr(4,6,32,32,Mm),new gr(4,4,16,16,Ka),new gr(8,16,32,32,Ka),new gr(8,16,128,128,Ka),new gr(8,32,128,256,Ka),new gr(32,128,258,1024,Ka),new gr(32,258,258,4096,Ka)],UF=i=>{i.window_size=2*i.w_size,Y0(i.head),i.max_lazy_match=HA[i.level].max_lazy,i.good_match=HA[i.level].good_length,i.nice_match=HA[i.level].nice_length,i.max_chain_length=HA[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=Rt-1,i.match_available=0,i.ins_h=0};function OF(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=zg,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(MF*2),this.dyn_dtree=new Uint16Array((2*DF+1)*2),this.bl_tree=new Uint16Array((2*kF+1)*2),Y0(this.dyn_ltree),Y0(this.dyn_dtree),Y0(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(FF+1),this.heap=new Uint16Array(2*wm+1),Y0(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*wm+1),Y0(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const jA=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.status!==Ha&&e.status!==Qm&&e.status!==vm&&e.status!==Rm&&e.status!==Sm&&e.status!==Dm&&e.status!==Us&&e.status!==qA?1:0},fB=i=>{if(jA(i))return zs(i,fr);i.total_in=i.total_out=0,i.data_type=QF;const e=i.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?Qm:e.wrap?Ha:Us,i.adler=e.wrap===2?0:1,e.last_flush=-2,gF(e),cn},dB=i=>{const e=fB(i);return e===cn&&UF(i.state),e},zF=(i,e)=>jA(i)||i.state.wrap!==2?fr:(i.state.gzhead=e,cn),gB=(i,e,t,n,r,s)=>{if(!i)return fr;let o=1;if(e===yF&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>vF||t!==zg||n<8||n>15||e<0||e>9||s<0||s>BF||n===8&&o!==1)return zs(i,fr);n===8&&(n=9);const a=new OF;return i.state=a,a.strm=i,a.status=Ha,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Rt-1)/Rt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=t,dB(i)},qF=(i,e)=>gB(i,e,zg,RF,SF,wF),YF=(i,e)=>{if(jA(i)||e>cB||e<0)return i?zs(i,fr):fr;const t=i.state;if(!i.output||i.avail_in!==0&&!i.input||t.status===qA&&e!==wi)return zs(i,i.avail_out===0?Bm:fr);const n=t.last_flush;if(t.last_flush=e,t.pending!==0){if(Ai(i),i.avail_out===0)return t.last_flush=-1,cn}else if(i.avail_in===0&&lB(e)<=lB(n)&&e!==wi)return zs(i,Bm);if(t.status===qA&&i.avail_in!==0)return zs(i,Bm);if(t.status===Ha&&t.wrap===0&&(t.status=Us),t.status===Ha){let r=zg+(t.w_bits-8<<4)<<8,s=-1;if(t.strategy>=Og||t.level<2?s=0:t.level<6?s=1:t.level===6?s=2:s=3,r|=s<<6,t.strstart!==0&&(r|=TF),r+=31-r%31,YA(t,r),t.strstart!==0&&(YA(t,i.adler>>>16),YA(t,i.adler&65535)),i.adler=1,t.status=Us,Ai(i),t.pending!==0)return t.last_flush=-1,cn}if(t.status===Qm){if(i.adler=0,Ot(t,31),Ot(t,139),Ot(t,8),t.gzhead)Ot(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Ot(t,t.gzhead.time&255),Ot(t,t.gzhead.time>>8&255),Ot(t,t.gzhead.time>>16&255),Ot(t,t.gzhead.time>>24&255),Ot(t,t.level===9?2:t.strategy>=Og||t.level<2?4:0),Ot(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Ot(t,t.gzhead.extra.length&255),Ot(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(i.adler=Ze(i.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=vm;else if(Ot(t,0),Ot(t,0),Ot(t,0),Ot(t,0),Ot(t,0),Ot(t,t.level===9?2:t.strategy>=Og||t.level<2?4:0),Ot(t,LF),t.status=Us,Ai(i),t.pending!==0)return t.last_flush=-1,cn}if(t.status===vm){if(t.gzhead.extra){let r=t.pending,s=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>r&&(i.adler=Ze(i.adler,t.pending_buf,t.pending-r,r)),t.gzindex+=a,Ai(i),t.pending!==0)return t.last_flush=-1,cn;r=0,s-=a}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>r&&(i.adler=Ze(i.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=Rm}if(t.status===Rm){if(t.gzhead.name){let r=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(i.adler=Ze(i.adler,t.pending_buf,t.pending-r,r)),Ai(i),t.pending!==0)return t.last_flush=-1,cn;r=0}t.gzindex<t.gzhead.name.length?s=t.gzhead.name.charCodeAt(t.gzindex++)&255:s=0,Ot(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>r&&(i.adler=Ze(i.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=Sm}if(t.status===Sm){if(t.gzhead.comment){let r=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(i.adler=Ze(i.adler,t.pending_buf,t.pending-r,r)),Ai(i),t.pending!==0)return t.last_flush=-1,cn;r=0}t.gzindex<t.gzhead.comment.length?s=t.gzhead.comment.charCodeAt(t.gzindex++)&255:s=0,Ot(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>r&&(i.adler=Ze(i.adler,t.pending_buf,t.pending-r,r))}t.status=Dm}if(t.status===Dm){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Ai(i),t.pending!==0))return t.last_flush=-1,cn;Ot(t,i.adler&255),Ot(t,i.adler>>8&255),i.adler=0}if(t.status=Us,Ai(i),t.pending!==0)return t.last_flush=-1,cn}if(i.avail_in!==0||t.lookahead!==0||e!==z0&&t.status!==qA){let r=t.level===0?hB(t,e):t.strategy===Og?PF(t,e):t.strategy===bF?NF(t,e):HA[t.level].func(t,e);if((r===Os||r===Va)&&(t.status=qA),r===Sn||r===Os)return i.avail_out===0&&(t.last_flush=-1),cn;if(r===ja&&(e===_F?IF(t):e!==cB&&(bm(t,0,0,!1),e===mF&&(Y0(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Ai(i),i.avail_out===0))return t.last_flush=-1,cn}return e!==wi?cn:t.wrap<=0?AB:(t.wrap===2?(Ot(t,i.adler&255),Ot(t,i.adler>>8&255),Ot(t,i.adler>>16&255),Ot(t,i.adler>>24&255),Ot(t,i.total_in&255),Ot(t,i.total_in>>8&255),Ot(t,i.total_in>>16&255),Ot(t,i.total_in>>24&255)):(YA(t,i.adler>>>16),YA(t,i.adler&65535)),Ai(i),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?cn:AB)},HF=i=>{if(jA(i))return fr;const e=i.state.status;return i.state=null,e===Us?zs(i,EF):cn},jF=(i,e)=>{let t=e.length;if(jA(i))return fr;const n=i.state,r=n.wrap;if(r===2||r===1&&n.status!==Ha||n.lookahead)return fr;if(r===1&&(i.adler=OA(i.adler,e,t,0)),n.wrap=0,t>=n.w_size){r===0&&(Y0(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(e.subarray(t-n.w_size,t),0),e=c,t=n.w_size}const s=i.avail_in,o=i.next_in,a=i.input;for(i.avail_in=t,i.next_in=0,i.input=e,Ja(n);n.lookahead>=Rt;){let c=n.strstart,x=n.lookahead-(Rt-1);do n.ins_h=H0(n,n.ins_h,n.window[c+Rt-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--x);n.strstart=c,n.lookahead=Rt-1,Ja(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Rt-1,n.match_available=0,i.next_in=o,i.input=a,i.avail_in=s,n.wrap=r,cn};var VF=qF,JF=gB,KF=dB,XF=fB,ZF=zF,WF=YF,$F=HF,tT=jF,eT="pako deflate (from Nodeca project)",VA={deflateInit:VF,deflateInit2:JF,deflateReset:KF,deflateResetKeep:XF,deflateSetHeader:ZF,deflate:WF,deflateEnd:$F,deflateSetDictionary:tT,deflateInfo:eT};const nT=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var iT=function(i){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)nT(t,n)&&(i[n]=t[n])}}return i},rT=i=>{let e=0;for(let n=0,r=i.length;n<r;n++)e+=i[n].length;const t=new Uint8Array(e);for(let n=0,r=0,s=i.length;n<s;n++){let o=i[n];t.set(o,r),r+=o.length}return t},qg={assign:iT,flattenChunks:rT};let pB=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pB=!1}const JA=new Uint8Array(256);for(let i=0;i<256;i++)JA[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;JA[254]=JA[254]=1;var sT=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let e,t,n,r,s,o=i.length,a=0;for(r=0;r<o;r++)t=i.charCodeAt(r),(t&64512)===55296&&r+1<o&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),s=0,r=0;s<a;r++)t=i.charCodeAt(r),(t&64512)===55296&&r+1<o&&(n=i.charCodeAt(r+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),r++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const oT=(i,e)=>{if(e<65534&&i.subarray&&pB)return String.fromCharCode.apply(null,i.length===e?i:i.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(i[n]);return t};var aT=(i,e)=>{const t=e||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,e));let n,r;const s=new Array(t*2);for(r=0,n=0;n<t;){let o=i[n++];if(o<128){s[r++]=o;continue}let a=JA[o];if(a>4){s[r++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<t;)o=o<<6|i[n++]&63,a--;if(a>1){s[r++]=65533;continue}o<65536?s[r++]=o:(o-=65536,s[r++]=55296|o>>10&1023,s[r++]=56320|o&1023)}return oT(s,r)},xT=(i,e)=>{e=e||i.length,e>i.length&&(e=i.length);let t=e-1;for(;t>=0&&(i[t]&192)===128;)t--;return t<0||t===0?e:t+JA[i[t]]>e?t:e},KA={string2buf:sT,buf2string:aT,utf8border:xT};function cT(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var IB=cT;const _B=Object.prototype.toString,{Z_NO_FLUSH:AT,Z_SYNC_FLUSH:lT,Z_FULL_FLUSH:uT,Z_FINISH:hT,Z_OK:Yg,Z_STREAM_END:fT,Z_DEFAULT_COMPRESSION:dT,Z_DEFAULT_STRATEGY:gT,Z_DEFLATED:pT}=zA;function Fm(i){this.options=qg.assign({level:dT,method:pT,chunkSize:16384,windowBits:15,memLevel:8,strategy:gT},i||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new IB,this.strm.avail_out=0;let t=VA.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==Yg)throw new Error(Ya[t]);if(e.header&&VA.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=KA.string2buf(e.dictionary):_B.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,t=VA.deflateSetDictionary(this.strm,n),t!==Yg)throw new Error(Ya[t]);this._dict_set=!0}}Fm.prototype.push=function(i,e){const t=this.strm,n=this.options.chunkSize;let r,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?hT:AT,typeof i=="string"?t.input=KA.string2buf(i):_B.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(s===lT||s===uT)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=VA.deflate(t,s),r===fT)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=VA.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Yg;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0},Fm.prototype.onData=function(i){this.chunks.push(i)},Fm.prototype.onEnd=function(i){i===Yg&&(this.result=qg.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};const Hg=16209,IT=16191;var _T=function(e,t){let n,r,s,o,a,c,x,A,l,u,h,f,g,d,p,I,_,m,y,E,C,b,B,Q;const w=e.state;n=e.next_in,B=e.input,r=n+(e.avail_in-5),s=e.next_out,Q=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),c=w.dmax,x=w.wsize,A=w.whave,l=w.wnext,u=w.window,h=w.hold,f=w.bits,g=w.lencode,d=w.distcode,p=(1<<w.lenbits)-1,I=(1<<w.distbits)-1;t:do{f<15&&(h+=B[n++]<<f,f+=8,h+=B[n++]<<f,f+=8),_=g[h&p];e:for(;;){if(m=_>>>24,h>>>=m,f-=m,m=_>>>16&255,m===0)Q[s++]=_&65535;else if(m&16){y=_&65535,m&=15,m&&(f<m&&(h+=B[n++]<<f,f+=8),y+=h&(1<<m)-1,h>>>=m,f-=m),f<15&&(h+=B[n++]<<f,f+=8,h+=B[n++]<<f,f+=8),_=d[h&I];n:for(;;){if(m=_>>>24,h>>>=m,f-=m,m=_>>>16&255,m&16){if(E=_&65535,m&=15,f<m&&(h+=B[n++]<<f,f+=8,f<m&&(h+=B[n++]<<f,f+=8)),E+=h&(1<<m)-1,E>c){e.msg="invalid distance too far back",w.mode=Hg;break t}if(h>>>=m,f-=m,m=s-o,E>m){if(m=E-m,m>A&&w.sane){e.msg="invalid distance too far back",w.mode=Hg;break t}if(C=0,b=u,l===0){if(C+=x-m,m<y){y-=m;do Q[s++]=u[C++];while(--m);C=s-E,b=Q}}else if(l<m){if(C+=x+l-m,m-=l,m<y){y-=m;do Q[s++]=u[C++];while(--m);if(C=0,l<y){m=l,y-=m;do Q[s++]=u[C++];while(--m);C=s-E,b=Q}}}else if(C+=l-m,m<y){y-=m;do Q[s++]=u[C++];while(--m);C=s-E,b=Q}for(;y>2;)Q[s++]=b[C++],Q[s++]=b[C++],Q[s++]=b[C++],y-=3;y&&(Q[s++]=b[C++],y>1&&(Q[s++]=b[C++]))}else{C=s-E;do Q[s++]=Q[C++],Q[s++]=Q[C++],Q[s++]=Q[C++],y-=3;while(y>2);y&&(Q[s++]=Q[C++],y>1&&(Q[s++]=Q[C++]))}}else if(m&64){e.msg="invalid distance code",w.mode=Hg;break t}else{_=d[(_&65535)+(h&(1<<m)-1)];continue n}break}}else if(m&64)if(m&32){w.mode=IT;break t}else{e.msg="invalid literal/length code",w.mode=Hg;break t}else{_=g[(_&65535)+(h&(1<<m)-1)];continue e}break}}while(n<r&&s<a);y=f>>3,n-=y,f-=y<<3,h&=(1<<f)-1,e.next_in=n,e.next_out=s,e.avail_in=n<r?5+(r-n):5-(n-r),e.avail_out=s<a?257+(a-s):257-(s-a),w.hold=h,w.bits=f};const Xa=15,mB=852,EB=592,yB=0,Tm=1,CB=2,mT=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ET=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yT=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),CT=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var XA=(i,e,t,n,r,s,o,a)=>{const c=a.bits;let x=0,A=0,l=0,u=0,h=0,f=0,g=0,d=0,p=0,I=0,_,m,y,E,C,b=null,B;const Q=new Uint16Array(Xa+1),w=new Uint16Array(Xa+1);let R=null,D,F,v;for(x=0;x<=Xa;x++)Q[x]=0;for(A=0;A<n;A++)Q[e[t+A]]++;for(h=c,u=Xa;u>=1&&Q[u]===0;u--);if(h>u&&(h=u),u===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,a.bits=1,0;for(l=1;l<u&&Q[l]===0;l++);for(h<l&&(h=l),d=1,x=1;x<=Xa;x++)if(d<<=1,d-=Q[x],d<0)return-1;if(d>0&&(i===yB||u!==1))return-1;for(w[1]=0,x=1;x<Xa;x++)w[x+1]=w[x]+Q[x];for(A=0;A<n;A++)e[t+A]!==0&&(o[w[e[t+A]]++]=A);if(i===yB?(b=R=o,B=20):i===Tm?(b=mT,R=ET,B=257):(b=yT,R=CT,B=0),I=0,A=0,x=l,C=s,f=h,g=0,y=-1,p=1<<h,E=p-1,i===Tm&&p>mB||i===CB&&p>EB)return 1;for(;;){D=x-g,o[A]+1<B?(F=0,v=o[A]):o[A]>=B?(F=R[o[A]-B],v=b[o[A]-B]):(F=96,v=0),_=1<<x-g,m=1<<f,l=m;do m-=_,r[C+(I>>g)+m]=D<<24|F<<16|v|0;while(m!==0);for(_=1<<x-1;I&_;)_>>=1;if(_!==0?(I&=_-1,I+=_):I=0,A++,--Q[x]===0){if(x===u)break;x=e[t+o[A]]}if(x>h&&(I&E)!==y){for(g===0&&(g=h),C+=l,f=x-g,d=1<<f;f+g<u&&(d-=Q[f+g],!(d<=0));)f++,d<<=1;if(p+=1<<f,i===Tm&&p>mB||i===CB&&p>EB)return 1;y=I&E,r[y]=h<<24|f<<16|C-s|0}}return I!==0&&(r[C+I]=x-g<<24|64<<16|0),a.bits=h,0};const bT=0,bB=1,BB=2,{Z_FINISH:wB,Z_BLOCK:BT,Z_TREES:jg,Z_OK:qs,Z_STREAM_END:wT,Z_NEED_DICT:QT,Z_STREAM_ERROR:Qi,Z_DATA_ERROR:QB,Z_MEM_ERROR:vB,Z_BUF_ERROR:vT,Z_DEFLATED:RB}=zA,Vg=16180,SB=16181,DB=16182,kB=16183,MB=16184,FB=16185,TB=16186,LB=16187,GB=16188,NB=16189,Jg=16190,Hr=16191,Lm=16192,PB=16193,Gm=16194,UB=16195,OB=16196,zB=16197,qB=16198,Kg=16199,Xg=16200,YB=16201,HB=16202,jB=16203,VB=16204,JB=16205,Nm=16206,KB=16207,XB=16208,pe=16209,ZB=16210,WB=16211,RT=852,ST=592,DT=15,$B=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function kT(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ys=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.mode<Vg||e.mode>WB?1:0},t4=i=>{if(Ys(i))return Qi;const e=i.state;return i.total_in=i.total_out=e.total=0,i.msg="",e.wrap&&(i.adler=e.wrap&1),e.mode=Vg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(RT),e.distcode=e.distdyn=new Int32Array(ST),e.sane=1,e.back=-1,qs},e4=i=>{if(Ys(i))return Qi;const e=i.state;return e.wsize=0,e.whave=0,e.wnext=0,t4(i)},n4=(i,e)=>{let t;if(Ys(i))return Qi;const n=i.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Qi:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,e4(i))},i4=(i,e)=>{if(!i)return Qi;const t=new kT;i.state=t,t.strm=i,t.window=null,t.mode=Vg;const n=n4(i,e);return n!==qs&&(i.state=null),n},MT=i=>i4(i,DT);let r4=!0,Pm,Um;const FT=i=>{if(r4){Pm=new Int32Array(512),Um=new Int32Array(32);let e=0;for(;e<144;)i.lens[e++]=8;for(;e<256;)i.lens[e++]=9;for(;e<280;)i.lens[e++]=7;for(;e<288;)i.lens[e++]=8;for(XA(bB,i.lens,0,288,Pm,0,i.work,{bits:9}),e=0;e<32;)i.lens[e++]=5;XA(BB,i.lens,0,32,Um,0,i.work,{bits:5}),r4=!1}i.lencode=Pm,i.lenbits=9,i.distcode=Um,i.distbits=5},s4=(i,e,t,n)=>{let r;const s=i.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>n&&(r=n),s.window.set(e.subarray(t-n,t-n+r),s.wnext),n-=r,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},TT=(i,e)=>{let t,n,r,s,o,a,c,x,A,l,u,h,f,g,d=0,p,I,_,m,y,E,C,b;const B=new Uint8Array(4);let Q,w;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ys(i)||!i.output||!i.input&&i.avail_in!==0)return Qi;t=i.state,t.mode===Hr&&(t.mode=Lm),o=i.next_out,r=i.output,c=i.avail_out,s=i.next_in,n=i.input,a=i.avail_in,x=t.hold,A=t.bits,l=a,u=c,b=qs;t:for(;;)switch(t.mode){case Vg:if(t.wrap===0){t.mode=Lm;break}for(;A<16;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}if(t.wrap&2&&x===35615){t.wbits===0&&(t.wbits=15),t.check=0,B[0]=x&255,B[1]=x>>>8&255,t.check=Ze(t.check,B,2,0),x=0,A=0,t.mode=SB;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((x&255)<<8)+(x>>8))%31){i.msg="incorrect header check",t.mode=pe;break}if((x&15)!==RB){i.msg="unknown compression method",t.mode=pe;break}if(x>>>=4,A-=4,C=(x&15)+8,t.wbits===0&&(t.wbits=C),C>15||C>t.wbits){i.msg="invalid window size",t.mode=pe;break}t.dmax=1<<t.wbits,t.flags=0,i.adler=t.check=1,t.mode=x&512?NB:Hr,x=0,A=0;break;case SB:for(;A<16;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}if(t.flags=x,(t.flags&255)!==RB){i.msg="unknown compression method",t.mode=pe;break}if(t.flags&57344){i.msg="unknown header flags set",t.mode=pe;break}t.head&&(t.head.text=x>>8&1),t.flags&512&&t.wrap&4&&(B[0]=x&255,B[1]=x>>>8&255,t.check=Ze(t.check,B,2,0)),x=0,A=0,t.mode=DB;case DB:for(;A<32;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}t.head&&(t.head.time=x),t.flags&512&&t.wrap&4&&(B[0]=x&255,B[1]=x>>>8&255,B[2]=x>>>16&255,B[3]=x>>>24&255,t.check=Ze(t.check,B,4,0)),x=0,A=0,t.mode=kB;case kB:for(;A<16;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}t.head&&(t.head.xflags=x&255,t.head.os=x>>8),t.flags&512&&t.wrap&4&&(B[0]=x&255,B[1]=x>>>8&255,t.check=Ze(t.check,B,2,0)),x=0,A=0,t.mode=MB;case MB:if(t.flags&1024){for(;A<16;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}t.length=x,t.head&&(t.head.extra_len=x),t.flags&512&&t.wrap&4&&(B[0]=x&255,B[1]=x>>>8&255,t.check=Ze(t.check,B,2,0)),x=0,A=0}else t.head&&(t.head.extra=null);t.mode=FB;case FB:if(t.flags&1024&&(h=t.length,h>a&&(h=a),h&&(t.head&&(C=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+h),C)),t.flags&512&&t.wrap&4&&(t.check=Ze(t.check,n,h,s)),a-=h,s+=h,t.length-=h),t.length))break t;t.length=0,t.mode=TB;case TB:if(t.flags&2048){if(a===0)break t;h=0;do C=n[s+h++],t.head&&C&&t.length<65536&&(t.head.name+=String.fromCharCode(C));while(C&&h<a);if(t.flags&512&&t.wrap&4&&(t.check=Ze(t.check,n,h,s)),a-=h,s+=h,C)break t}else t.head&&(t.head.name=null);t.length=0,t.mode=LB;case LB:if(t.flags&4096){if(a===0)break t;h=0;do C=n[s+h++],t.head&&C&&t.length<65536&&(t.head.comment+=String.fromCharCode(C));while(C&&h<a);if(t.flags&512&&t.wrap&4&&(t.check=Ze(t.check,n,h,s)),a-=h,s+=h,C)break t}else t.head&&(t.head.comment=null);t.mode=GB;case GB:if(t.flags&512){for(;A<16;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}if(t.wrap&4&&x!==(t.check&65535)){i.msg="header crc mismatch",t.mode=pe;break}x=0,A=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=Hr;break;case NB:for(;A<32;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}i.adler=t.check=$B(x),x=0,A=0,t.mode=Jg;case Jg:if(t.havedict===0)return i.next_out=o,i.avail_out=c,i.next_in=s,i.avail_in=a,t.hold=x,t.bits=A,QT;i.adler=t.check=1,t.mode=Hr;case Hr:if(e===BT||e===jg)break t;case Lm:if(t.last){x>>>=A&7,A-=A&7,t.mode=Nm;break}for(;A<3;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}switch(t.last=x&1,x>>>=1,A-=1,x&3){case 0:t.mode=PB;break;case 1:if(FT(t),t.mode=Kg,e===jg){x>>>=2,A-=2;break t}break;case 2:t.mode=OB;break;case 3:i.msg="invalid block type",t.mode=pe}x>>>=2,A-=2;break;case PB:for(x>>>=A&7,A-=A&7;A<32;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}if((x&65535)!==(x>>>16^65535)){i.msg="invalid stored block lengths",t.mode=pe;break}if(t.length=x&65535,x=0,A=0,t.mode=Gm,e===jg)break t;case Gm:t.mode=UB;case UB:if(h=t.length,h){if(h>a&&(h=a),h>c&&(h=c),h===0)break t;r.set(n.subarray(s,s+h),o),a-=h,s+=h,c-=h,o+=h,t.length-=h;break}t.mode=Hr;break;case OB:for(;A<14;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}if(t.nlen=(x&31)+257,x>>>=5,A-=5,t.ndist=(x&31)+1,x>>>=5,A-=5,t.ncode=(x&15)+4,x>>>=4,A-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=pe;break}t.have=0,t.mode=zB;case zB:for(;t.have<t.ncode;){for(;A<3;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}t.lens[R[t.have++]]=x&7,x>>>=3,A-=3}for(;t.have<19;)t.lens[R[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Q={bits:t.lenbits},b=XA(bT,t.lens,0,19,t.lencode,0,t.work,Q),t.lenbits=Q.bits,b){i.msg="invalid code lengths set",t.mode=pe;break}t.have=0,t.mode=qB;case qB:for(;t.have<t.nlen+t.ndist;){for(;d=t.lencode[x&(1<<t.lenbits)-1],p=d>>>24,I=d>>>16&255,_=d&65535,!(p<=A);){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}if(_<16)x>>>=p,A-=p,t.lens[t.have++]=_;else{if(_===16){for(w=p+2;A<w;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}if(x>>>=p,A-=p,t.have===0){i.msg="invalid bit length repeat",t.mode=pe;break}C=t.lens[t.have-1],h=3+(x&3),x>>>=2,A-=2}else if(_===17){for(w=p+3;A<w;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}x>>>=p,A-=p,C=0,h=3+(x&7),x>>>=3,A-=3}else{for(w=p+7;A<w;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}x>>>=p,A-=p,C=0,h=11+(x&127),x>>>=7,A-=7}if(t.have+h>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=pe;break}for(;h--;)t.lens[t.have++]=C}}if(t.mode===pe)break;if(t.lens[256]===0){i.msg="invalid code -- missing end-of-block",t.mode=pe;break}if(t.lenbits=9,Q={bits:t.lenbits},b=XA(bB,t.lens,0,t.nlen,t.lencode,0,t.work,Q),t.lenbits=Q.bits,b){i.msg="invalid literal/lengths set",t.mode=pe;break}if(t.distbits=6,t.distcode=t.distdyn,Q={bits:t.distbits},b=XA(BB,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Q),t.distbits=Q.bits,b){i.msg="invalid distances set",t.mode=pe;break}if(t.mode=Kg,e===jg)break t;case Kg:t.mode=Xg;case Xg:if(a>=6&&c>=258){i.next_out=o,i.avail_out=c,i.next_in=s,i.avail_in=a,t.hold=x,t.bits=A,_T(i,u),o=i.next_out,r=i.output,c=i.avail_out,s=i.next_in,n=i.input,a=i.avail_in,x=t.hold,A=t.bits,t.mode===Hr&&(t.back=-1);break}for(t.back=0;d=t.lencode[x&(1<<t.lenbits)-1],p=d>>>24,I=d>>>16&255,_=d&65535,!(p<=A);){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}if(I&&!(I&240)){for(m=p,y=I,E=_;d=t.lencode[E+((x&(1<<m+y)-1)>>m)],p=d>>>24,I=d>>>16&255,_=d&65535,!(m+p<=A);){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}x>>>=m,A-=m,t.back+=m}if(x>>>=p,A-=p,t.back+=p,t.length=_,I===0){t.mode=JB;break}if(I&32){t.back=-1,t.mode=Hr;break}if(I&64){i.msg="invalid literal/length code",t.mode=pe;break}t.extra=I&15,t.mode=YB;case YB:if(t.extra){for(w=t.extra;A<w;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}t.length+=x&(1<<t.extra)-1,x>>>=t.extra,A-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=HB;case HB:for(;d=t.distcode[x&(1<<t.distbits)-1],p=d>>>24,I=d>>>16&255,_=d&65535,!(p<=A);){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}if(!(I&240)){for(m=p,y=I,E=_;d=t.distcode[E+((x&(1<<m+y)-1)>>m)],p=d>>>24,I=d>>>16&255,_=d&65535,!(m+p<=A);){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}x>>>=m,A-=m,t.back+=m}if(x>>>=p,A-=p,t.back+=p,I&64){i.msg="invalid distance code",t.mode=pe;break}t.offset=_,t.extra=I&15,t.mode=jB;case jB:if(t.extra){for(w=t.extra;A<w;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}t.offset+=x&(1<<t.extra)-1,x>>>=t.extra,A-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=pe;break}t.mode=VB;case VB:if(c===0)break t;if(h=u-c,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=pe;break}h>t.wnext?(h-=t.wnext,f=t.wsize-h):f=t.wnext-h,h>t.length&&(h=t.length),g=t.window}else g=r,f=o-t.offset,h=t.length;h>c&&(h=c),c-=h,t.length-=h;do r[o++]=g[f++];while(--h);t.length===0&&(t.mode=Xg);break;case JB:if(c===0)break t;r[o++]=t.length,c--,t.mode=Xg;break;case Nm:if(t.wrap){for(;A<32;){if(a===0)break t;a--,x|=n[s++]<<A,A+=8}if(u-=c,i.total_out+=u,t.total+=u,t.wrap&4&&u&&(i.adler=t.check=t.flags?Ze(t.check,r,u,o-u):OA(t.check,r,u,o-u)),u=c,t.wrap&4&&(t.flags?x:$B(x))!==t.check){i.msg="incorrect data check",t.mode=pe;break}x=0,A=0}t.mode=KB;case KB:if(t.wrap&&t.flags){for(;A<32;){if(a===0)break t;a--,x+=n[s++]<<A,A+=8}if(t.wrap&4&&x!==(t.total&4294967295)){i.msg="incorrect length check",t.mode=pe;break}x=0,A=0}t.mode=XB;case XB:b=wT;break t;case pe:b=QB;break t;case ZB:return vB;case WB:default:return Qi}return i.next_out=o,i.avail_out=c,i.next_in=s,i.avail_in=a,t.hold=x,t.bits=A,(t.wsize||u!==i.avail_out&&t.mode<pe&&(t.mode<Nm||e!==wB))&&s4(i,i.output,i.next_out,u-i.avail_out),l-=i.avail_in,u-=i.avail_out,i.total_in+=l,i.total_out+=u,t.total+=u,t.wrap&4&&u&&(i.adler=t.check=t.flags?Ze(t.check,r,u,i.next_out-u):OA(t.check,r,u,i.next_out-u)),i.data_type=t.bits+(t.last?64:0)+(t.mode===Hr?128:0)+(t.mode===Kg||t.mode===Gm?256:0),(l===0&&u===0||e===wB)&&b===qs&&(b=vT),b},LT=i=>{if(Ys(i))return Qi;let e=i.state;return e.window&&(e.window=null),i.state=null,qs},GT=(i,e)=>{if(Ys(i))return Qi;const t=i.state;return t.wrap&2?(t.head=e,e.done=!1,qs):Qi},NT=(i,e)=>{const t=e.length;let n,r,s;return Ys(i)||(n=i.state,n.wrap!==0&&n.mode!==Jg)?Qi:n.mode===Jg&&(r=1,r=OA(r,e,t,0),r!==n.check)?QB:(s=s4(i,e,t,t),s?(n.mode=ZB,vB):(n.havedict=1,qs))};var PT=e4,UT=n4,OT=t4,zT=MT,qT=i4,YT=TT,HT=LT,jT=GT,VT=NT,JT="pako inflate (from Nodeca project)",jr={inflateReset:PT,inflateReset2:UT,inflateResetKeep:OT,inflateInit:zT,inflateInit2:qT,inflate:YT,inflateEnd:HT,inflateGetHeader:jT,inflateSetDictionary:VT,inflateInfo:JT};function KT(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var XT=KT;const o4=Object.prototype.toString,{Z_NO_FLUSH:ZT,Z_FINISH:WT,Z_OK:ZA,Z_STREAM_END:Om,Z_NEED_DICT:zm,Z_STREAM_ERROR:$T,Z_DATA_ERROR:a4,Z_MEM_ERROR:tL}=zA;function WA(i){this.options=qg.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(i&&i.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new IB,this.strm.avail_out=0;let t=jr.inflateInit2(this.strm,e.windowBits);if(t!==ZA)throw new Error(Ya[t]);if(this.header=new XT,jr.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=KA.string2buf(e.dictionary):o4.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=jr.inflateSetDictionary(this.strm,e.dictionary),t!==ZA)))throw new Error(Ya[t])}WA.prototype.push=function(i,e){const t=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?WT:ZT,o4.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=jr.inflate(t,o),s===zm&&r&&(s=jr.inflateSetDictionary(t,r),s===ZA?s=jr.inflate(t,o):s===a4&&(s=zm));t.avail_in>0&&s===Om&&t.state.wrap>0&&i[t.next_in]!==0;)jr.inflateReset(t),s=jr.inflate(t,o);switch(s){case $T:case a4:case zm:case tL:return this.onEnd(s),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||s===Om))if(this.options.to==="string"){let c=KA.utf8border(t.output,t.next_out),x=t.next_out-c,A=KA.buf2string(t.output,c);t.next_out=x,t.avail_out=n-x,x&&t.output.set(t.output.subarray(c,c+x),0),this.onData(A)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===ZA&&a===0)){if(s===Om)return s=jr.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0},WA.prototype.onData=function(i){this.chunks.push(i)},WA.prototype.onEnd=function(i){i===ZA&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=qg.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function qm(i,e){const t=new WA(e);if(t.push(i),t.err)throw t.msg||Ya[t.err];return t.result}function eL(i,e){return e=e||{},e.raw=!0,qm(i,e)}var nL=WA,iL=qm,rL=eL,sL=qm,oL=zA,aL={Inflate:nL,inflate:iL,inflateRaw:rL,ungzip:sL,constants:oL};const{Inflate:nG,inflate:xL,inflateRaw:iG,ungzip:rG}=aL;var x4=xL;class cL extends j0{decodeBlock(e){return x4(new Uint8Array(e)).buffer}}const AL=Object.freeze(Object.defineProperty({__proto__:null,default:cL},Symbol.toStringTag,{value:"Module"}));class lL extends j0{decodeBlock(e){const t=new DataView(e),n=[];for(let r=0;r<e.byteLength;++r){let s=t.getInt8(r);if(s<0){const o=t.getUint8(r+1);s=-s;for(let a=0;a<=s;++a)n.push(o);r+=1}else{for(let o=0;o<=s;++o)n.push(t.getUint8(r+o+1));r+=s+1}}return new Uint8Array(n).buffer}}const uL=Object.freeze(Object.defineProperty({__proto__:null,default:lL},Symbol.toStringTag,{value:"Module"}));var c4={exports:{}};(function(i){/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */(function(){var e=function(){var s={};s.defaultNoDataValue=-34027999387901484e22,s.decode=function(l,u){u=u||{};var h=u.encodedMaskData||u.encodedMaskData===null,f=x(l,u.inputOffset||0,h),g=u.noDataValue!==null?u.noDataValue:s.defaultNoDataValue,d=o(f,u.pixelType||Float32Array,u.encodedMaskData,g,u.returnMask),p={width:f.width,height:f.height,pixelData:d.resultPixels,minValue:d.minValue,maxValue:f.pixels.maxValue,noDataValue:g};return d.resultMask&&(p.maskData=d.resultMask),u.returnEncodedMask&&f.mask&&(p.encodedMaskData=f.mask.bitset?f.mask.bitset:null),u.returnFileInfo&&(p.fileInfo=a(f),u.computeUsedBitDepths&&(p.fileInfo.bitDepths=c(f))),p};var o=function(l,u,h,f,g){var d=0,p=l.pixels.numBlocksX,I=l.pixels.numBlocksY,_=Math.floor(l.width/p),m=Math.floor(l.height/I),y=2*l.maxZError,E=Number.MAX_VALUE,C;h=h||(l.mask?l.mask.bitset:null);var b,B;b=new u(l.width*l.height),g&&h&&(B=new Uint8Array(l.width*l.height));for(var Q=new Float32Array(_*m),w,R,D=0;D<=I;D++){var F=D!==I?m:l.height%I;if(F!==0)for(var v=0;v<=p;v++){var S=v!==p?_:l.width%p;if(S!==0){var M=D*l.width*m+v*_,L=l.width-S,P=l.pixels.blocks[d],O,k,H;P.encoding<2?(P.encoding===0?O=P.rawData:(A(P.stuffedData,P.bitsPerPixel,P.numValidPixels,P.offset,y,Q,l.pixels.maxValue),O=Q),k=0):P.encoding===2?H=0:H=P.offset;var K;if(h)for(R=0;R<F;R++){for(M&7&&(K=h[M>>3],K<<=M&7),w=0;w<S;w++)M&7||(K=h[M>>3]),K&128?(B&&(B[M]=1),C=P.encoding<2?O[k++]:H,E=E>C?C:E,b[M++]=C):(B&&(B[M]=0),b[M++]=f),K<<=1;M+=L}else if(P.encoding<2)for(R=0;R<F;R++){for(w=0;w<S;w++)C=O[k++],E=E>C?C:E,b[M++]=C;M+=L}else for(E=E>H?H:E,R=0;R<F;R++){for(w=0;w<S;w++)b[M++]=H;M+=L}if(P.encoding===1&&k!==P.numValidPixels)throw"Block and Mask do not match";d++}}}return{resultPixels:b,resultMask:B,minValue:E}},a=function(l){return{fileIdentifierString:l.fileIdentifierString,fileVersion:l.fileVersion,imageType:l.imageType,height:l.height,width:l.width,maxZError:l.maxZError,eofOffset:l.eofOffset,mask:l.mask?{numBlocksX:l.mask.numBlocksX,numBlocksY:l.mask.numBlocksY,numBytes:l.mask.numBytes,maxValue:l.mask.maxValue}:null,pixels:{numBlocksX:l.pixels.numBlocksX,numBlocksY:l.pixels.numBlocksY,numBytes:l.pixels.numBytes,maxValue:l.pixels.maxValue,noDataValue:l.noDataValue}}},c=function(l){for(var u=l.pixels.numBlocksX*l.pixels.numBlocksY,h={},f=0;f<u;f++){var g=l.pixels.blocks[f];g.encoding===0?h.float32=!0:g.encoding===1?h[g.bitsPerPixel]=!0:h[0]=!0}return Object.keys(h)},x=function(l,u,h){var f={},g=new Uint8Array(l,u,10);if(f.fileIdentifierString=String.fromCharCode.apply(null,g),f.fileIdentifierString.trim()!=="CntZImage")throw"Unexpected file identifier string: "+f.fileIdentifierString;u+=10;var d=new DataView(l,u,24);if(f.fileVersion=d.getInt32(0,!0),f.imageType=d.getInt32(4,!0),f.height=d.getUint32(8,!0),f.width=d.getUint32(12,!0),f.maxZError=d.getFloat64(16,!0),u+=24,!h)if(d=new DataView(l,u,16),f.mask={},f.mask.numBlocksY=d.getUint32(0,!0),f.mask.numBlocksX=d.getUint32(4,!0),f.mask.numBytes=d.getUint32(8,!0),f.mask.maxValue=d.getFloat32(12,!0),u+=16,f.mask.numBytes>0){var p=new Uint8Array(Math.ceil(f.width*f.height/8));d=new DataView(l,u,f.mask.numBytes);var I=d.getInt16(0,!0),_=2,m=0;do{if(I>0)for(;I--;)p[m++]=d.getUint8(_++);else{var y=d.getUint8(_++);for(I=-I;I--;)p[m++]=y}I=d.getInt16(_,!0),_+=2}while(_<f.mask.numBytes);if(I!==-32768||m<p.length)throw"Unexpected end of mask RLE encoding";f.mask.bitset=p,u+=f.mask.numBytes}else f.mask.numBytes|f.mask.numBlocksY|f.mask.maxValue||(f.mask.bitset=new Uint8Array(Math.ceil(f.width*f.height/8)));d=new DataView(l,u,16),f.pixels={},f.pixels.numBlocksY=d.getUint32(0,!0),f.pixels.numBlocksX=d.getUint32(4,!0),f.pixels.numBytes=d.getUint32(8,!0),f.pixels.maxValue=d.getFloat32(12,!0),u+=16;var E=f.pixels.numBlocksX,C=f.pixels.numBlocksY,b=E+(f.width%E>0?1:0),B=C+(f.height%C>0?1:0);f.pixels.blocks=new Array(b*B);for(var Q=0,w=0;w<B;w++)for(var R=0;R<b;R++){var D=0,F=l.byteLength-u;d=new DataView(l,u,Math.min(10,F));var v={};f.pixels.blocks[Q++]=v;var S=d.getUint8(0);if(D++,v.encoding=S&63,v.encoding>3)throw"Invalid block encoding ("+v.encoding+")";if(v.encoding===2){u++;continue}if(S!==0&&S!==2){if(S>>=6,v.offsetType=S,S===2)v.offset=d.getInt8(1),D++;else if(S===1)v.offset=d.getInt16(1,!0),D+=2;else if(S===0)v.offset=d.getFloat32(1,!0),D+=4;else throw"Invalid block offset type";if(v.encoding===1)if(S=d.getUint8(D),D++,v.bitsPerPixel=S&63,S>>=6,v.numValidPixelsType=S,S===2)v.numValidPixels=d.getUint8(D),D++;else if(S===1)v.numValidPixels=d.getUint16(D,!0),D+=2;else if(S===0)v.numValidPixels=d.getUint32(D,!0),D+=4;else throw"Invalid valid pixel count type"}if(u+=D,v.encoding!==3){var M,L;if(v.encoding===0){var P=(f.pixels.numBytes-1)/4;if(P!==Math.floor(P))throw"uncompressed block has invalid length";M=new ArrayBuffer(P*4),L=new Uint8Array(M),L.set(new Uint8Array(l,u,P*4));var O=new Float32Array(M);v.rawData=O,u+=P*4}else if(v.encoding===1){var k=Math.ceil(v.numValidPixels*v.bitsPerPixel/8),H=Math.ceil(k/4);M=new ArrayBuffer(H*4),L=new Uint8Array(M),L.set(new Uint8Array(l,u,k)),v.stuffedData=new Uint32Array(M),u+=k}}}return f.eofOffset=u,f},A=function(l,u,h,f,g,d,p){var I=(1<<u)-1,_=0,m,y=0,E,C,b=Math.ceil((p-f)/g),B=l.length*4-Math.ceil(u*h/8);for(l[l.length-1]<<=8*B,m=0;m<h;m++){if(y===0&&(C=l[_++],y=32),y>=u)E=C>>>y-u&I,y-=u;else{var Q=u-y;E=(C&I)<<Q&I,C=l[_++],y=32-Q,E+=C>>>y}d[m]=E<b?f+E*g:p}return d};return s}(),t=function(){var s={unstuff:function(x,A,l,u,h,f,g,d){var p=(1<<l)-1,I=0,_,m=0,y,E,C,b,B=x.length*4-Math.ceil(l*u/8);if(x[x.length-1]<<=8*B,h)for(_=0;_<u;_++)m===0&&(E=x[I++],m=32),m>=l?(y=E>>>m-l&p,m-=l):(C=l-m,y=(E&p)<<C&p,E=x[I++],m=32-C,y+=E>>>m),A[_]=h[y];else for(b=Math.ceil((d-f)/g),_=0;_<u;_++)m===0&&(E=x[I++],m=32),m>=l?(y=E>>>m-l&p,m-=l):(C=l-m,y=(E&p)<<C&p,E=x[I++],m=32-C,y+=E>>>m),A[_]=y<b?f+y*g:d},unstuffLUT:function(x,A,l,u,h,f){var g=(1<<A)-1,d=0,p=0,I=0,_=0,m=0,y,E=[],C=x.length*4-Math.ceil(A*l/8);x[x.length-1]<<=8*C;var b=Math.ceil((f-u)/h);for(p=0;p<l;p++)_===0&&(y=x[d++],_=32),_>=A?(m=y>>>_-A&g,_-=A):(I=A-_,m=(y&g)<<I&g,y=x[d++],_=32-I,m+=y>>>_),E[p]=m<b?u+m*h:f;return E.unshift(u),E},unstuff2:function(x,A,l,u,h,f,g,d){var p=(1<<l)-1,I=0,_,m=0,y=0,E,C,b;if(h)for(_=0;_<u;_++)m===0&&(C=x[I++],m=32,y=0),m>=l?(E=C>>>y&p,m-=l,y+=l):(b=l-m,E=C>>>y&p,C=x[I++],m=32-b,E|=(C&(1<<b)-1)<<l-b,y=b),A[_]=h[E];else{var B=Math.ceil((d-f)/g);for(_=0;_<u;_++)m===0&&(C=x[I++],m=32,y=0),m>=l?(E=C>>>y&p,m-=l,y+=l):(b=l-m,E=C>>>y&p,C=x[I++],m=32-b,E|=(C&(1<<b)-1)<<l-b,y=b),A[_]=E<B?f+E*g:d}return A},unstuffLUT2:function(x,A,l,u,h,f){var g=(1<<A)-1,d=0,p=0,I=0,_=0,m=0,y=0,E,C=[],b=Math.ceil((f-u)/h);for(p=0;p<l;p++)_===0&&(E=x[d++],_=32,y=0),_>=A?(m=E>>>y&g,_-=A,y+=A):(I=A-_,m=E>>>y&g,E=x[d++],_=32-I,m|=(E&(1<<I)-1)<<A-I,y=I),C[p]=m<b?u+m*h:f;return C.unshift(u),C},originalUnstuff:function(x,A,l,u){var h=(1<<l)-1,f=0,g,d=0,p,I,_,m=x.length*4-Math.ceil(l*u/8);for(x[x.length-1]<<=8*m,g=0;g<u;g++)d===0&&(I=x[f++],d=32),d>=l?(p=I>>>d-l&h,d-=l):(_=l-d,p=(I&h)<<_&h,I=x[f++],d=32-_,p+=I>>>d),A[g]=p;return A},originalUnstuff2:function(x,A,l,u){var h=(1<<l)-1,f=0,g,d=0,p=0,I,_,m;for(g=0;g<u;g++)d===0&&(_=x[f++],d=32,p=0),d>=l?(I=_>>>p&h,d-=l,p+=l):(m=l-d,I=_>>>p&h,_=x[f++],d=32-m,I|=(_&(1<<m)-1)<<l-m,p=m),A[g]=I;return A}},o={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(x){for(var A=65535,l=65535,u=x.length,h=Math.floor(u/2),f=0;h;){var g=h>=359?359:h;h-=g;do A+=x[f++]<<8,l+=A+=x[f++];while(--g);A=(A&65535)+(A>>>16),l=(l&65535)+(l>>>16)}return u&1&&(l+=A+=x[f]<<8),A=(A&65535)+(A>>>16),l=(l&65535)+(l>>>16),(l<<16|A)>>>0},readHeaderInfo:function(x,A){var l=A.ptr,u=new Uint8Array(x,l,6),h={};if(h.fileIdentifierString=String.fromCharCode.apply(null,u),h.fileIdentifierString.lastIndexOf("Lerc2",0)!==0)throw"Unexpected file identifier string (expect Lerc2 ): "+h.fileIdentifierString;l+=6;var f=new DataView(x,l,8),g=f.getInt32(0,!0);h.fileVersion=g,l+=4,g>=3&&(h.checksum=f.getUint32(4,!0),l+=4),f=new DataView(x,l,12),h.height=f.getUint32(0,!0),h.width=f.getUint32(4,!0),l+=8,g>=4?(h.numDims=f.getUint32(8,!0),l+=4):h.numDims=1,f=new DataView(x,l,40),h.numValidPixel=f.getUint32(0,!0),h.microBlockSize=f.getInt32(4,!0),h.blobSize=f.getInt32(8,!0),h.imageType=f.getInt32(12,!0),h.maxZError=f.getFloat64(16,!0),h.zMin=f.getFloat64(24,!0),h.zMax=f.getFloat64(32,!0),l+=40,A.headerInfo=h,A.ptr=l;var d,p;if(g>=3&&(p=g>=4?52:48,d=this.computeChecksumFletcher32(new Uint8Array(x,l-p,h.blobSize-14)),d!==h.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(x,A){var l=A.headerInfo,u=this.getDataTypeArray(l.imageType),h=l.numDims*this.getDataTypeSize(l.imageType),f=this.readSubArray(x,A.ptr,u,h),g=this.readSubArray(x,A.ptr+h,u,h);A.ptr+=2*h;var d,p=!0;for(d=0;d<l.numDims;d++)if(f[d]!==g[d]){p=!1;break}return l.minValues=f,l.maxValues=g,p},readSubArray:function(x,A,l,u){var h;if(l===Uint8Array)h=new Uint8Array(x,A,u);else{var f=new ArrayBuffer(u),g=new Uint8Array(f);g.set(new Uint8Array(x,A,u)),h=new l(f)}return h},readMask:function(x,A){var l=A.ptr,u=A.headerInfo,h=u.width*u.height,f=u.numValidPixel,g=new DataView(x,l,4),d={};if(d.numBytes=g.getUint32(0,!0),l+=4,(f===0||h===f)&&d.numBytes!==0)throw"invalid mask";var p,I;if(f===0)p=new Uint8Array(Math.ceil(h/8)),d.bitset=p,I=new Uint8Array(h),A.pixels.resultMask=I,l+=d.numBytes;else if(d.numBytes>0){p=new Uint8Array(Math.ceil(h/8)),g=new DataView(x,l,d.numBytes);var _=g.getInt16(0,!0),m=2,y=0,E=0;do{if(_>0)for(;_--;)p[y++]=g.getUint8(m++);else for(E=g.getUint8(m++),_=-_;_--;)p[y++]=E;_=g.getInt16(m,!0),m+=2}while(m<d.numBytes);if(_!==-32768||y<p.length)throw"Unexpected end of mask RLE encoding";I=new Uint8Array(h);var C=0,b=0;for(b=0;b<h;b++)b&7?(C=p[b>>3],C<<=b&7):C=p[b>>3],C&128&&(I[b]=1);A.pixels.resultMask=I,d.bitset=p,l+=d.numBytes}return A.ptr=l,A.mask=d,!0},readDataOneSweep:function(x,A,l,u){var h=A.ptr,f=A.headerInfo,g=f.numDims,d=f.width*f.height,p=f.imageType,I=f.numValidPixel*o.getDataTypeSize(p)*g,_,m=A.pixels.resultMask;if(l===Uint8Array)_=new Uint8Array(x,h,I);else{var y=new ArrayBuffer(I),E=new Uint8Array(y);E.set(new Uint8Array(x,h,I)),_=new l(y)}if(_.length===d*g)u?A.pixels.resultPixels=o.swapDimensionOrder(_,d,g,l,!0):A.pixels.resultPixels=_;else{A.pixels.resultPixels=new l(d*g);var C=0,b=0,B=0,Q=0;if(g>1){if(u){for(b=0;b<d;b++)if(m[b])for(Q=b,B=0;B<g;B++,Q+=d)A.pixels.resultPixels[Q]=_[C++]}else for(b=0;b<d;b++)if(m[b])for(Q=b*g,B=0;B<g;B++)A.pixels.resultPixels[Q+B]=_[C++]}else for(b=0;b<d;b++)m[b]&&(A.pixels.resultPixels[b]=_[C++])}return h+=I,A.ptr=h,!0},readHuffmanTree:function(x,A){var l=this.HUFFMAN_LUT_BITS_MAX,u=new DataView(x,A.ptr,16);A.ptr+=16;var h=u.getInt32(0,!0);if(h<2)throw"unsupported Huffman version";var f=u.getInt32(4,!0),g=u.getInt32(8,!0),d=u.getInt32(12,!0);if(g>=d)return!1;var p=new Uint32Array(d-g);o.decodeBits(x,A,p);var I=[],_,m,y,E;for(_=g;_<d;_++)m=_-(_<f?0:f),I[m]={first:p[_-g],second:null};var C=x.byteLength-A.ptr,b=Math.ceil(C/4),B=new ArrayBuffer(b*4),Q=new Uint8Array(B);Q.set(new Uint8Array(x,A.ptr,C));var w=new Uint32Array(B),R=0,D,F=0;for(D=w[0],_=g;_<d;_++)m=_-(_<f?0:f),E=I[m].first,E>0&&(I[m].second=D<<R>>>32-E,32-R>=E?(R+=E,R===32&&(R=0,F++,D=w[F])):(R+=E-32,F++,D=w[F],I[m].second|=D>>>32-R));var v=0,S=0,M=new a;for(_=0;_<I.length;_++)I[_]!==void 0&&(v=Math.max(v,I[_].first));v>=l?S=l:S=v;var L=[],P,O,k,H,K,q;for(_=g;_<d;_++)if(m=_-(_<f?0:f),E=I[m].first,E>0)if(P=[E,m],E<=S)for(O=I[m].second<<S-E,k=1<<S-E,y=0;y<k;y++)L[O|y]=P;else for(O=I[m].second,q=M,H=E-1;H>=0;H--)K=O>>>H&1,K?(q.right||(q.right=new a),q=q.right):(q.left||(q.left=new a),q=q.left),H===0&&!q.val&&(q.val=P[1]);return{decodeLut:L,numBitsLUTQick:S,numBitsLUT:v,tree:M,stuffedData:w,srcPtr:F,bitPos:R}},readHuffman:function(x,A,l,u){var h=A.headerInfo,f=h.numDims,g=A.headerInfo.height,d=A.headerInfo.width,p=d*g,I=this.readHuffmanTree(x,A),_=I.decodeLut,m=I.tree,y=I.stuffedData,E=I.srcPtr,C=I.bitPos,b=I.numBitsLUTQick,B=I.numBitsLUT,Q=A.headerInfo.imageType===0?128:0,w,R,D,F=A.pixels.resultMask,v,S,M,L,P,O,k,H=0;C>0&&(E++,C=0);var K=y[E],q=A.encodeMode===1,T=new l(p*f),V=T,X;if(f<2||q){for(X=0;X<f;X++)if(f>1&&(V=new l(T.buffer,p*X,p),H=0),A.headerInfo.numValidPixel===d*g)for(O=0,L=0;L<g;L++)for(P=0;P<d;P++,O++){if(R=0,v=K<<C>>>32-b,S=v,32-C<b&&(v|=y[E+1]>>>64-C-b,S=v),_[S])R=_[S][1],C+=_[S][0];else for(v=K<<C>>>32-B,S=v,32-C<B&&(v|=y[E+1]>>>64-C-B,S=v),w=m,k=0;k<B;k++)if(M=v>>>B-k-1&1,w=M?w.right:w.left,!(w.left||w.right)){R=w.val,C=C+k+1;break}C>=32&&(C-=32,E++,K=y[E]),D=R-Q,q?(P>0?D+=H:L>0?D+=V[O-d]:D+=H,D&=255,V[O]=D,H=D):V[O]=D}else for(O=0,L=0;L<g;L++)for(P=0;P<d;P++,O++)if(F[O]){if(R=0,v=K<<C>>>32-b,S=v,32-C<b&&(v|=y[E+1]>>>64-C-b,S=v),_[S])R=_[S][1],C+=_[S][0];else for(v=K<<C>>>32-B,S=v,32-C<B&&(v|=y[E+1]>>>64-C-B,S=v),w=m,k=0;k<B;k++)if(M=v>>>B-k-1&1,w=M?w.right:w.left,!(w.left||w.right)){R=w.val,C=C+k+1;break}C>=32&&(C-=32,E++,K=y[E]),D=R-Q,q?(P>0&&F[O-1]?D+=H:L>0&&F[O-d]?D+=V[O-d]:D+=H,D&=255,V[O]=D,H=D):V[O]=D}}else for(O=0,L=0;L<g;L++)for(P=0;P<d;P++)if(O=L*d+P,!F||F[O])for(X=0;X<f;X++,O+=p){if(R=0,v=K<<C>>>32-b,S=v,32-C<b&&(v|=y[E+1]>>>64-C-b,S=v),_[S])R=_[S][1],C+=_[S][0];else for(v=K<<C>>>32-B,S=v,32-C<B&&(v|=y[E+1]>>>64-C-B,S=v),w=m,k=0;k<B;k++)if(M=v>>>B-k-1&1,w=M?w.right:w.left,!(w.left||w.right)){R=w.val,C=C+k+1;break}C>=32&&(C-=32,E++,K=y[E]),D=R-Q,V[O]=D}A.ptr=A.ptr+(E+1)*4+(C>0?4:0),A.pixels.resultPixels=T,f>1&&!u&&(A.pixels.resultPixels=o.swapDimensionOrder(T,p,f,l))},decodeBits:function(x,A,l,u,h){{var f=A.headerInfo,g=f.fileVersion,d=0,p=x.byteLength-A.ptr>=5?5:x.byteLength-A.ptr,I=new DataView(x,A.ptr,p),_=I.getUint8(0);d++;var m=_>>6,y=m===0?4:3-m,E=(_&32)>0,C=_&31,b=0;if(y===1)b=I.getUint8(d),d++;else if(y===2)b=I.getUint16(d,!0),d+=2;else if(y===4)b=I.getUint32(d,!0),d+=4;else throw"Invalid valid pixel count type";var B=2*f.maxZError,Q,w,R,D,F,v,S,M,L,P=f.numDims>1?f.maxValues[h]:f.zMax;if(E){for(A.counter.lut++,M=I.getUint8(d),d++,D=Math.ceil((M-1)*C/8),F=Math.ceil(D/4),w=new ArrayBuffer(F*4),R=new Uint8Array(w),A.ptr+=d,R.set(new Uint8Array(x,A.ptr,D)),S=new Uint32Array(w),A.ptr+=D,L=0;M-1>>>L;)L++;D=Math.ceil(b*L/8),F=Math.ceil(D/4),w=new ArrayBuffer(F*4),R=new Uint8Array(w),R.set(new Uint8Array(x,A.ptr,D)),Q=new Uint32Array(w),A.ptr+=D,g>=3?v=s.unstuffLUT2(S,C,M-1,u,B,P):v=s.unstuffLUT(S,C,M-1,u,B,P),g>=3?s.unstuff2(Q,l,L,b,v):s.unstuff(Q,l,L,b,v)}else A.counter.bitstuffer++,L=C,A.ptr+=d,L>0&&(D=Math.ceil(b*L/8),F=Math.ceil(D/4),w=new ArrayBuffer(F*4),R=new Uint8Array(w),R.set(new Uint8Array(x,A.ptr,D)),Q=new Uint32Array(w),A.ptr+=D,g>=3?u==null?s.originalUnstuff2(Q,l,L,b):s.unstuff2(Q,l,L,b,!1,u,B,P):u==null?s.originalUnstuff(Q,l,L,b):s.unstuff(Q,l,L,b,!1,u,B,P))}},readTiles:function(x,A,l,u){var h=A.headerInfo,f=h.width,g=h.height,d=f*g,p=h.microBlockSize,I=h.imageType,_=o.getDataTypeSize(I),m=Math.ceil(f/p),y=Math.ceil(g/p);A.pixels.numBlocksY=y,A.pixels.numBlocksX=m,A.pixels.ptr=0;var E=0,C=0,b=0,B=0,Q=0,w=0,R=0,D=0,F=0,v=0,S=0,M=0,L=0,P=0,O=0,k=0,H,K,q,T,V,X,$=new l(p*p),it=g%p||p,st=f%p||p,Y,yt,Dn=h.numDims,ht,An=A.pixels.resultMask,Ie=A.pixels.resultPixels,Ae=h.fileVersion,He=Ae>=5?14:15,bt,In=h.zMax,Fe;for(b=0;b<y;b++)for(Q=b!==y-1?p:it,B=0;B<m;B++)for(w=B!==m-1?p:st,S=b*f*p+B*p,M=f-w,ht=0;ht<Dn;ht++){if(Dn>1?(Fe=Ie,S=b*f*p+B*p,Ie=new l(A.pixels.resultPixels.buffer,d*ht*_,d),In=h.maxValues[ht]):Fe=null,R=x.byteLength-A.ptr,H=new DataView(x,A.ptr,Math.min(10,R)),K={},k=0,D=H.getUint8(0),k++,bt=h.fileVersion>=5?D&4:0,F=D>>6&255,v=D>>2&He,v!==(B*p>>3&He)||bt&&ht===0)throw"integrity issue";if(X=D&3,X>3)throw A.ptr+=k,"Invalid block encoding ("+X+")";if(X===2){if(bt)if(An)for(E=0;E<Q;E++)for(C=0;C<w;C++)An[S]&&(Ie[S]=Fe[S]),S++;else for(E=0;E<Q;E++)for(C=0;C<w;C++)Ie[S]=Fe[S],S++;A.counter.constant++,A.ptr+=k;continue}else if(X===0){if(bt)throw"integrity issue";if(A.counter.uncompressed++,A.ptr+=k,L=Q*w*_,P=x.byteLength-A.ptr,L=L<P?L:P,q=new ArrayBuffer(L%_===0?L:L+_-L%_),T=new Uint8Array(q),T.set(new Uint8Array(x,A.ptr,L)),V=new l(q),O=0,An)for(E=0;E<Q;E++){for(C=0;C<w;C++)An[S]&&(Ie[S]=V[O++]),S++;S+=M}else for(E=0;E<Q;E++){for(C=0;C<w;C++)Ie[S++]=V[O++];S+=M}A.ptr+=O*_}else if(Y=o.getDataTypeUsed(bt&&I<6?4:I,F),yt=o.getOnePixel(K,k,Y,H),k+=o.getDataTypeSize(Y),X===3)if(A.ptr+=k,A.counter.constantoffset++,An)for(E=0;E<Q;E++){for(C=0;C<w;C++)An[S]&&(Ie[S]=bt?Math.min(In,Fe[S]+yt):yt),S++;S+=M}else for(E=0;E<Q;E++){for(C=0;C<w;C++)Ie[S]=bt?Math.min(In,Fe[S]+yt):yt,S++;S+=M}else if(A.ptr+=k,o.decodeBits(x,A,$,yt,ht),k=0,bt)if(An)for(E=0;E<Q;E++){for(C=0;C<w;C++)An[S]&&(Ie[S]=$[k++]+Fe[S]),S++;S+=M}else for(E=0;E<Q;E++){for(C=0;C<w;C++)Ie[S]=$[k++]+Fe[S],S++;S+=M}else if(An)for(E=0;E<Q;E++){for(C=0;C<w;C++)An[S]&&(Ie[S]=$[k++]),S++;S+=M}else for(E=0;E<Q;E++){for(C=0;C<w;C++)Ie[S++]=$[k++];S+=M}}Dn>1&&!u&&(A.pixels.resultPixels=o.swapDimensionOrder(A.pixels.resultPixels,d,Dn,l))},formatFileInfo:function(x){return{fileIdentifierString:x.headerInfo.fileIdentifierString,fileVersion:x.headerInfo.fileVersion,imageType:x.headerInfo.imageType,height:x.headerInfo.height,width:x.headerInfo.width,numValidPixel:x.headerInfo.numValidPixel,microBlockSize:x.headerInfo.microBlockSize,blobSize:x.headerInfo.blobSize,maxZError:x.headerInfo.maxZError,pixelType:o.getPixelType(x.headerInfo.imageType),eofOffset:x.eofOffset,mask:x.mask?{numBytes:x.mask.numBytes}:null,pixels:{numBlocksX:x.pixels.numBlocksX,numBlocksY:x.pixels.numBlocksY,maxValue:x.headerInfo.zMax,minValue:x.headerInfo.zMin,noDataValue:x.noDataValue}}},constructConstantSurface:function(x,A){var l=x.headerInfo.zMax,u=x.headerInfo.zMin,h=x.headerInfo.maxValues,f=x.headerInfo.numDims,g=x.headerInfo.height*x.headerInfo.width,d=0,p=0,I=0,_=x.pixels.resultMask,m=x.pixels.resultPixels;if(_)if(f>1){if(A)for(d=0;d<f;d++)for(I=d*g,l=h[d],p=0;p<g;p++)_[p]&&(m[I+p]=l);else for(p=0;p<g;p++)if(_[p])for(I=p*f,d=0;d<f;d++)m[I+f]=h[d]}else for(p=0;p<g;p++)_[p]&&(m[p]=l);else if(f>1&&u!==l)if(A)for(d=0;d<f;d++)for(I=d*g,l=h[d],p=0;p<g;p++)m[I+p]=l;else for(p=0;p<g;p++)for(I=p*f,d=0;d<f;d++)m[I+d]=h[d];else for(p=0;p<g*f;p++)m[p]=l},getDataTypeArray:function(x){var A;switch(x){case 0:A=Int8Array;break;case 1:A=Uint8Array;break;case 2:A=Int16Array;break;case 3:A=Uint16Array;break;case 4:A=Int32Array;break;case 5:A=Uint32Array;break;case 6:A=Float32Array;break;case 7:A=Float64Array;break;default:A=Float32Array}return A},getPixelType:function(x){var A;switch(x){case 0:A="S8";break;case 1:A="U8";break;case 2:A="S16";break;case 3:A="U16";break;case 4:A="S32";break;case 5:A="U32";break;case 6:A="F32";break;case 7:A="F64";break;default:A="F32"}return A},isValidPixelValue:function(x,A){if(A==null)return!1;var l;switch(x){case 0:l=A>=-128&&A<=127;break;case 1:l=A>=0&&A<=255;break;case 2:l=A>=-32768&&A<=32767;break;case 3:l=A>=0&&A<=65536;break;case 4:l=A>=-2147483648&&A<=2147483647;break;case 5:l=A>=0&&A<=4294967296;break;case 6:l=A>=-34027999387901484e22&&A<=34027999387901484e22;break;case 7:l=A>=-17976931348623157e292&&A<=17976931348623157e292;break;default:l=!1}return l},getDataTypeSize:function(x){var A=0;switch(x){case 0:case 1:A=1;break;case 2:case 3:A=2;break;case 4:case 5:case 6:A=4;break;case 7:A=8;break;default:A=x}return A},getDataTypeUsed:function(x,A){var l=x;switch(x){case 2:case 4:l=x-A;break;case 3:case 5:l=x-2*A;break;case 6:A===0?l=x:A===1?l=2:l=1;break;case 7:A===0?l=x:l=x-2*A+1;break;default:l=x;break}return l},getOnePixel:function(x,A,l,u){var h=0;switch(l){case 0:h=u.getInt8(A);break;case 1:h=u.getUint8(A);break;case 2:h=u.getInt16(A,!0);break;case 3:h=u.getUint16(A,!0);break;case 4:h=u.getInt32(A,!0);break;case 5:h=u.getUInt32(A,!0);break;case 6:h=u.getFloat32(A,!0);break;case 7:h=u.getFloat64(A,!0);break;default:throw"the decoder does not understand this pixel type"}return h},swapDimensionOrder:function(x,A,l,u,h){var f=0,g=0,d=0,p=0,I=x;if(l>1)if(I=new u(A*l),h)for(f=0;f<A;f++)for(p=f,d=0;d<l;d++,p+=A)I[p]=x[g++];else for(f=0;f<A;f++)for(p=f,d=0;d<l;d++,p+=A)I[g++]=x[p];return I}},a=function(x,A,l){this.val=x,this.left=A,this.right=l},c={decode:function(x,A){A=A||{};var l=A.noDataValue,u=0,h={};if(h.ptr=A.inputOffset||0,h.pixels={},!!o.readHeaderInfo(x,h)){var f=h.headerInfo,g=f.fileVersion,d=o.getDataTypeArray(f.imageType);if(g>5)throw"unsupported lerc version 2."+g;o.readMask(x,h),f.numValidPixel!==f.width*f.height&&!h.pixels.resultMask&&(h.pixels.resultMask=A.maskData);var p=f.width*f.height;h.pixels.resultPixels=new d(p*f.numDims),h.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var I=!A.returnPixelInterleavedDims;if(f.numValidPixel!==0)if(f.zMax===f.zMin)o.constructConstantSurface(h,I);else if(g>=4&&o.checkMinMaxRanges(x,h))o.constructConstantSurface(h,I);else{var _=new DataView(x,h.ptr,2),m=_.getUint8(0);if(h.ptr++,m)o.readDataOneSweep(x,h,d,I);else if(g>1&&f.imageType<=1&&Math.abs(f.maxZError-.5)<1e-5){var y=_.getUint8(1);if(h.ptr++,h.encodeMode=y,y>2||g<4&&y>1)throw"Invalid Huffman flag "+y;y?o.readHuffman(x,h,d,I):o.readTiles(x,h,d,I)}else o.readTiles(x,h,d,I)}h.eofOffset=h.ptr;var E;A.inputOffset?(E=h.headerInfo.blobSize+A.inputOffset-h.ptr,Math.abs(E)>=1&&(h.eofOffset=A.inputOffset+h.headerInfo.blobSize)):(E=h.headerInfo.blobSize-h.ptr,Math.abs(E)>=1&&(h.eofOffset=h.headerInfo.blobSize));var C={width:f.width,height:f.height,pixelData:h.pixels.resultPixels,minValue:f.zMin,maxValue:f.zMax,validPixelCount:f.numValidPixel,dimCount:f.numDims,dimStats:{minValues:f.minValues,maxValues:f.maxValues},maskData:h.pixels.resultMask};if(h.pixels.resultMask&&o.isValidPixelValue(f.imageType,l)){var b=h.pixels.resultMask;for(u=0;u<p;u++)b[u]||(C.pixelData[u]=l);C.noDataValue=l}return h.noDataValue=l,A.returnFileInfo&&(C.fileInfo=o.formatFileInfo(h)),C}},getBandCount:function(x){var A=0,l=0,u={};for(u.ptr=0,u.pixels={};l<x.byteLength-58;)o.readHeaderInfo(x,u),l+=u.headerInfo.blobSize,A++,u.ptr=l;return A}};return c}(),n=function(){var s=new ArrayBuffer(4),o=new Uint8Array(s),a=new Uint32Array(s);return a[0]=1,o[0]===1}(),r={decode:function(s,o){if(!n)throw"Big endian system is not supported.";o=o||{};var a=o.inputOffset||0,c=new Uint8Array(s,a,10),x=String.fromCharCode.apply(null,c),A,l;if(x.trim()==="CntZImage")A=e,l=1;else if(x.substring(0,5)==="Lerc2")A=t,l=2;else throw"Unexpected file identifier string: "+x;for(var u=0,h=s.byteLength-10,f,g=[],d,p,I={width:0,height:0,pixels:[],pixelType:o.pixelType,mask:null,statistics:[]},_=0;a<h;){var m=A.decode(s,{inputOffset:a,encodedMaskData:f,maskData:p,returnMask:u===0,returnEncodedMask:u===0,returnFileInfo:!0,returnPixelInterleavedDims:o.returnPixelInterleavedDims,pixelType:o.pixelType||null,noDataValue:o.noDataValue||null});a=m.fileInfo.eofOffset,p=m.maskData,u===0&&(f=m.encodedMaskData,I.width=m.width,I.height=m.height,I.dimCount=m.dimCount||1,I.pixelType=m.pixelType||m.fileInfo.pixelType,I.mask=p),l>1&&(p&&g.push(p),m.fileInfo.mask&&m.fileInfo.mask.numBytes>0&&_++),u++,I.pixels.push(m.pixelData),I.statistics.push({minValue:m.minValue,maxValue:m.maxValue,noDataValue:m.noDataValue,dimStats:m.dimStats})}var y,E,C;if(l>1&&_>1){for(C=I.width*I.height,I.bandMasks=g,p=new Uint8Array(C),p.set(g[0]),y=1;y<g.length;y++)for(d=g[y],E=0;E<C;E++)p[E]=p[E]&d[E];I.maskData=p}return I}};i.exports?i.exports=r:this.Lerc=r})()})(c4);var hL=c4.exports;const fL=i2(hL);let $A,Vr,Ym;const Hm={env:{emscripten_notify_memory_growth:function(i){Ym=new Uint8Array(Vr.exports.memory.buffer)}}};class dL{init(){return $A||(typeof fetch<"u"?$A=fetch("data:application/wasm;base64,"+A4).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,Hm)).then(this._init):$A=WebAssembly.instantiate(Buffer.from(A4,"base64"),Hm).then(this._init),$A)}_init(e){Vr=e.instance,Hm.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!Vr)throw new Error("ZSTDDecoder: Await .init() before decoding.");const n=e.byteLength,r=Vr.exports.malloc(n);Ym.set(e,r),t=t||Number(Vr.exports.ZSTD_findDecompressedSize(r,n));const s=Vr.exports.malloc(t),o=Vr.exports.ZSTD_decompress(s,t,r,n),a=Ym.slice(s,s+o);return Vr.exports.free(r),Vr.exports.free(s),a}}const A4="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",l4=new dL;class gL extends j0{constructor(e){super(),this.planarConfiguration=typeof e.PlanarConfiguration<"u"?e.PlanarConfiguration:1,this.samplesPerPixel=typeof e.SamplesPerPixel<"u"?e.SamplesPerPixel:1,this.addCompression=e.LercParameters[J4.AddCompression]}decodeBlock(e){switch(this.addCompression){case h2.None:break;case h2.Deflate:e=x4(new Uint8Array(e)).buffer;break;case h2.Zstandard:e=l4.decode(new Uint8Array(e)).buffer;break;default:throw new Error(`Unsupported LERC additional compression method identifier: ${this.addCompression}`)}return fL.decode(e,{returnPixelInterleavedDims:this.planarConfiguration===1}).pixels[0].buffer}}const pL=Object.freeze(Object.defineProperty({__proto__:null,default:gL,zstd:l4},Symbol.toStringTag,{value:"Module"}));class IL extends j0{constructor(){if(super(),typeof createImageBitmap>"u")throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if(typeof document>"u"&&typeof OffscreenCanvas>"u")throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available")}async decode(e,t){const n=new Blob([t]),r=await createImageBitmap(n);let s;typeof document<"u"?(s=document.createElement("canvas"),s.width=r.width,s.height=r.height):s=new OffscreenCanvas(r.width,r.height);const o=s.getContext("2d");return o.drawImage(r,0,0),o.getImageData(0,0,r.width,r.height).data.buffer}}const _L=Object.freeze(Object.defineProperty({__proto__:null,default:IL},Symbol.toStringTag,{value:"Module"})),mL=Worker;function EL(){const i='function A(A,e,t,i,r,I,g){try{var n=A[I](g),a=n.value}catch(A){return void t(A)}n.done?e(a):Promise.resolve(a).then(i,r)}function e(e){return function(){var t=this,i=arguments;return new Promise((function(r,I){var g=e.apply(t,i);function n(e){A(g,r,I,n,a,"next",e)}function a(e){A(g,r,I,n,a,"throw",e)}n(void 0)}))}}function t(A){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},t(A)}var i={exports:{}};!function(A){var e=function(A){var e,i=Object.prototype,r=i.hasOwnProperty,I="function"==typeof Symbol?Symbol:{},g=I.iterator||"@@iterator",n=I.asyncIterator||"@@asyncIterator",a=I.toStringTag||"@@toStringTag";function o(A,e,t){return Object.defineProperty(A,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),A[e]}try{o({},"")}catch(A){o=function(A,e,t){return A[e]=t}}function B(A,e,t,i){var r=e&&e.prototype instanceof h?e:h,I=Object.create(r.prototype),g=new S(i||[]);return I._invoke=function(A,e,t){var i=Q;return function(r,I){if(i===s)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw I;return R()}for(t.method=r,t.arg=I;;){var g=t.delegate;if(g){var n=m(g,t);if(n){if(n===c)continue;return n}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(i===Q)throw i=f,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);i=s;var a=C(A,e,t);if("normal"===a.type){if(i=t.done?f:E,a.arg===c)continue;return{value:a.arg,done:t.done}}"throw"===a.type&&(i=f,t.method="throw",t.arg=a.arg)}}}(A,t,g),I}function C(A,e,t){try{return{type:"normal",arg:A.call(e,t)}}catch(A){return{type:"throw",arg:A}}}A.wrap=B;var Q="suspendedStart",E="suspendedYield",s="executing",f="completed",c={};function h(){}function l(){}function u(){}var w={};o(w,g,(function(){return this}));var d=Object.getPrototypeOf,D=d&&d(d(v([])));D&&D!==i&&r.call(D,g)&&(w=D);var y=u.prototype=h.prototype=Object.create(w);function k(A){["next","throw","return"].forEach((function(e){o(A,e,(function(A){return this._invoke(e,A)}))}))}function p(A,e){function i(I,g,n,a){var o=C(A[I],A,g);if("throw"!==o.type){var B=o.arg,Q=B.value;return Q&&"object"===t(Q)&&r.call(Q,"__await")?e.resolve(Q.__await).then((function(A){i("next",A,n,a)}),(function(A){i("throw",A,n,a)})):e.resolve(Q).then((function(A){B.value=A,n(B)}),(function(A){return i("throw",A,n,a)}))}a(o.arg)}var I;this._invoke=function(A,t){function r(){return new e((function(e,r){i(A,t,e,r)}))}return I=I?I.then(r,r):r()}}function m(A,t){var i=A.iterator[t.method];if(i===e){if(t.delegate=null,"throw"===t.method){if(A.iterator.return&&(t.method="return",t.arg=e,m(A,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a \'throw\' method")}return c}var r=C(i,A.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var I=r.arg;return I?I.done?(t[A.resultName]=I.value,t.next=A.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,c):I:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function G(A){var e={tryLoc:A[0]};1 in A&&(e.catchLoc=A[1]),2 in A&&(e.finallyLoc=A[2],e.afterLoc=A[3]),this.tryEntries.push(e)}function F(A){var e=A.completion||{};e.type="normal",delete e.arg,A.completion=e}function S(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(G,this),this.reset(!0)}function v(A){if(A){var t=A[g];if(t)return t.call(A);if("function"==typeof A.next)return A;if(!isNaN(A.length)){var i=-1,I=function t(){for(;++i<A.length;)if(r.call(A,i))return t.value=A[i],t.done=!1,t;return t.value=e,t.done=!0,t};return I.next=I}}return{next:R}}function R(){return{value:e,done:!0}}return l.prototype=u,o(y,"constructor",u),o(u,"constructor",l),l.displayName=o(u,a,"GeneratorFunction"),A.isGeneratorFunction=function(A){var e="function"==typeof A&&A.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},A.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,u):(A.__proto__=u,o(A,a,"GeneratorFunction")),A.prototype=Object.create(y),A},A.awrap=function(A){return{__await:A}},k(p.prototype),o(p.prototype,n,(function(){return this})),A.AsyncIterator=p,A.async=function(e,t,i,r,I){void 0===I&&(I=Promise);var g=new p(B(e,t,i,r),I);return A.isGeneratorFunction(t)?g:g.next().then((function(A){return A.done?A.value:g.next()}))},k(y),o(y,a,"Generator"),o(y,g,(function(){return this})),o(y,"toString",(function(){return"[object Generator]"})),A.keys=function(A){var e=[];for(var t in A)e.push(t);return e.reverse(),function t(){for(;e.length;){var i=e.pop();if(i in A)return t.value=i,t.done=!1,t}return t.done=!0,t}},A.values=v,S.prototype={constructor:S,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!A)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if("throw"===A.type)throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var t=this;function i(i,r){return n.type="throw",n.arg=A,t.next=i,r&&(t.method="next",t.arg=e),!!r}for(var I=this.tryEntries.length-1;I>=0;--I){var g=this.tryEntries[I],n=g.completion;if("root"===g.tryLoc)return i("end");if(g.tryLoc<=this.prev){var a=r.call(g,"catchLoc"),o=r.call(g,"finallyLoc");if(a&&o){if(this.prev<g.catchLoc)return i(g.catchLoc,!0);if(this.prev<g.finallyLoc)return i(g.finallyLoc)}else if(a){if(this.prev<g.catchLoc)return i(g.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<g.finallyLoc)return i(g.finallyLoc)}}}},abrupt:function(A,e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var I=i;break}}I&&("break"===A||"continue"===A)&&I.tryLoc<=e&&e<=I.finallyLoc&&(I=null);var g=I?I.completion:{};return g.type=A,g.arg=e,I?(this.method="next",this.next=I.finallyLoc,c):this.complete(g)},complete:function(A,e){if("throw"===A.type)throw A.arg;return"break"===A.type||"continue"===A.type?this.next=A.arg:"return"===A.type?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):"normal"===A.type&&e&&(this.next=e),c},finish:function(A){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===A)return this.complete(t.completion,t.afterLoc),F(t),c}},catch:function(A){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===A){var i=t.completion;if("throw"===i.type){var r=i.arg;F(t)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(A,t,i){return this.delegate={iterator:v(A),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),c}},A}(A.exports);try{regeneratorRuntime=e}catch(A){"object"===("undefined"==typeof globalThis?"undefined":t(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(i);var r=i.exports,I=new Map;function g(A,e){Array.isArray(A)||(A=[A]),A.forEach((function(A){return I.set(A,e)}))}function n(A){return a.apply(this,arguments)}function a(){return(a=e(r.mark((function A(e){var t,i;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(t=I.get(e.Compression)){A.next=3;break}throw new Error("Unknown compression method identifier: ".concat(e.Compression));case 3:return A.next=5,t();case 5:return i=A.sent,A.abrupt("return",new i(e));case 7:case"end":return A.stop()}}),A)})))).apply(this,arguments)}g([void 0,1],(function(){return Promise.resolve().then((function(){return y})).then((function(A){return A.default}))})),g(5,(function(){return Promise.resolve().then((function(){return F})).then((function(A){return A.default}))})),g(6,(function(){throw new Error("old style JPEG compression is not supported.")})),g(7,(function(){return Promise.resolve().then((function(){return N})).then((function(A){return A.default}))})),g([8,32946],(function(){return Promise.resolve().then((function(){return OA})).then((function(A){return A.default}))})),g(32773,(function(){return Promise.resolve().then((function(){return _A})).then((function(A){return A.default}))})),g(34887,(function(){return Promise.resolve().then((function(){return le})).then(function(){var A=e(r.mark((function A(e){return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,e.zstd.init();case 2:return A.abrupt("return",e);case 3:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}()).then((function(A){return A.default}))})),g(50001,(function(){return Promise.resolve().then((function(){return de})).then((function(A){return A.default}))}));var o=globalThis;function B(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")}function C(A,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(A,i.key,i)}}function Q(A,e,t){return e&&C(A.prototype,e),t&&C(A,t),A}function E(A,e){return E=Object.setPrototypeOf||function(A,e){return A.__proto__=e,A},E(A,e)}function s(A,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(e&&e.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),e&&E(A,e)}function f(A,e){if(e&&("object"===t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(A){if(void 0===A)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return A}(A)}function c(A){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},c(A)}function h(A,e){var t=A.length-e,i=0;do{for(var r=e;r>0;r--)A[i+e]+=A[i],i++;t-=e}while(t>0)}function l(A,e,t){for(var i=0,r=A.length,I=r/t;r>e;){for(var g=e;g>0;--g)A[i+e]+=A[i],++i;r-=e}for(var n=A.slice(),a=0;a<I;++a)for(var o=0;o<t;++o)A[t*a+o]=n[(t-o-1)*I+a]}function u(A,e,t,i,r,I){if(!e||1===e)return A;for(var g=0;g<r.length;++g){if(r[g]%8!=0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(r[g]!==r[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var n=r[0]/8,a=2===I?1:r.length,o=0;o<i&&!(o*a*t*n>=A.byteLength);++o){var B=void 0;if(2===e){switch(r[0]){case 8:B=new Uint8Array(A,o*a*t*n,a*t*n);break;case 16:B=new Uint16Array(A,o*a*t*n,a*t*n/2);break;case 32:B=new Uint32Array(A,o*a*t*n,a*t*n/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(r[0]," bits per sample."))}h(B,a)}else 3===e&&l(B=new Uint8Array(A,o*a*t*n,a*t*n),a,n)}return A}o.addEventListener("message",function(){var A=e(r.mark((function A(e){var t,i,I,g,a,B;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return t=e.data,i=t.id,I=t.fileDirectory,g=t.buffer,A.next=3,n(I);case 3:return a=A.sent,A.next=6,a.decode(I,g);case 6:B=A.sent,o.postMessage({decoded:B,id:i},[B]);case 8:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}());var w=function(){function A(){B(this,A)}var t;return Q(A,[{key:"decode",value:(t=e(r.mark((function A(e,t){var i,I,g,n,a;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this.decodeBlock(t);case 2:if(i=A.sent,1===(I=e.Predictor||1)){A.next=9;break}return g=!e.StripOffsets,n=g?e.TileWidth:e.ImageWidth,a=g?e.TileLength:e.RowsPerStrip||e.ImageLength,A.abrupt("return",u(i,I,n,a,e.BitsPerSample,e.PlanarConfiguration));case 9:return A.abrupt("return",i);case 10:case"end":return A.stop()}}),A,this)}))),function(A,e){return t.apply(this,arguments)})}]),A}();function d(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var D=function(A){s(t,w);var e=d(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){return A}}]),t}(),y=Object.freeze({__proto__:null,default:D});function k(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}function p(A,e){for(var t=e.length-1;t>=0;t--)A.push(e[t]);return A}function m(A){for(var e=new Uint16Array(4093),t=new Uint8Array(4093),i=0;i<=257;i++)e[i]=4096,t[i]=i;var r=258,I=9,g=0;function n(){r=258,I=9}function a(A){var e=function(A,e,t){var i=e%8,r=Math.floor(e/8),I=8-i,g=e+t-8*(r+1),n=8*(r+2)-(e+t),a=8*(r+2)-e;if(n=Math.max(0,n),r>=A.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var o=A[r]&Math.pow(2,8-i)-1,B=o<<=t-I;if(r+1<A.length){var C=A[r+1]>>>n;B+=C<<=Math.max(0,t-a)}if(g>8&&r+2<A.length){var Q=8*(r+3)-(e+t);B+=A[r+2]>>>Q}return B}(A,g,I);return g+=I,e}function o(A,i){return t[r]=i,e[r]=A,++r-1}function B(A){for(var i=[],r=A;4096!==r;r=e[r])i.push(t[r]);return i}var C=[];n();for(var Q,E=new Uint8Array(A),s=a(E);257!==s;){if(256===s){for(n(),s=a(E);256===s;)s=a(E);if(257===s)break;if(s>256)throw new Error("corrupted code at scanline ".concat(s));p(C,B(s)),Q=s}else if(s<r){var f=B(s);p(C,f),o(Q,f[f.length-1]),Q=s}else{var c=B(Q);if(!c)throw new Error("Bogus entry. Not in dictionary, ".concat(Q," / ").concat(r,", position: ").concat(g));p(C,c),C.push(c[c.length-1]),o(Q,c[c.length-1]),Q=s}r+1>=Math.pow(2,I)&&(12===I?Q=void 0:I++),s=a(E)}return new Uint8Array(C)}var G=function(A){s(t,w);var e=k(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){return m(A).buffer}}]),t}(),F=Object.freeze({__proto__:null,default:G});function S(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var v=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function R(A,e){for(var t=0,i=[],r=16;r>0&&!A[r-1];)--r;i.push({children:[],index:0});for(var I,g=i[0],n=0;n<r;n++){for(var a=0;a<A[n];a++){for((g=i.pop()).children[g.index]=e[t];g.index>0;)g=i.pop();for(g.index++,i.push(g);i.length<=n;)i.push(I={children:[],index:0}),g.children[g.index]=I.children,g=I;t++}n+1<r&&(i.push(I={children:[],index:0}),g.children[g.index]=I.children,g=I)}return i[0].children}function U(A,e,i,r,I,g,n,a,o){var B=i.mcusPerLine,C=i.progressive,Q=e,E=e,s=0,f=0;function c(){if(f>0)return f--,s>>f&1;if(255===(s=A[E++])){var e=A[E++];if(e)throw new Error("unexpected marker: ".concat((s<<8|e).toString(16)))}return f=7,s>>>7}function h(A){for(var e,i=A;null!==(e=c());){if("number"==typeof(i=i[e]))return i;if("object"!==t(i))throw new Error("invalid huffman sequence")}return null}function l(A){for(var e=A,t=0;e>0;){var i=c();if(null===i)return;t=t<<1|i,--e}return t}function u(A){var e=l(A);return e>=1<<A-1?e:e+(-1<<A)+1}var w=0;var d,D=0;function y(A,e,t,i,r){var I=t%B,g=(t/B|0)*A.v+i,n=I*A.h+r;e(A,A.blocks[g][n])}function k(A,e,t){var i=t/A.blocksPerLine|0,r=t%A.blocksPerLine;e(A,A.blocks[i][r])}var p,m,G,F,S,R,U=r.length;R=C?0===g?0===a?function(A,e){var t=h(A.huffmanTableDC),i=0===t?0:u(t)<<o;A.pred+=i,e[0]=A.pred}:function(A,e){e[0]|=c()<<o}:0===a?function(A,e){if(w>0)w--;else for(var t=g,i=n;t<=i;){var r=h(A.huffmanTableAC),I=15&r,a=r>>4;if(0===I){if(a<15){w=l(a)+(1<<a)-1;break}t+=16}else e[v[t+=a]]=u(I)*(1<<o),t++}}:function(A,e){for(var t=g,i=n,r=0;t<=i;){var I=v[t],a=e[I]<0?-1:1;switch(D){case 0:var B=h(A.huffmanTableAC),C=15&B;if(r=B>>4,0===C)r<15?(w=l(r)+(1<<r),D=4):(r=16,D=1);else{if(1!==C)throw new Error("invalid ACn encoding");d=u(C),D=r?2:3}continue;case 1:case 2:e[I]?e[I]+=(c()<<o)*a:0==--r&&(D=2===D?3:0);break;case 3:e[I]?e[I]+=(c()<<o)*a:(e[I]=d<<o,D=0);break;case 4:e[I]&&(e[I]+=(c()<<o)*a)}t++}4===D&&0==--w&&(D=0)}:function(A,e){var t=h(A.huffmanTableDC),i=0===t?0:u(t);A.pred+=i,e[0]=A.pred;for(var r=1;r<64;){var I=h(A.huffmanTableAC),g=15&I,n=I>>4;if(0===g){if(n<15)break;r+=16}else e[v[r+=n]]=u(g),r++}};var L,b,M=0;b=1===U?r[0].blocksPerLine*r[0].blocksPerColumn:B*i.mcusPerColumn;for(var N=I||b;M<b;){for(m=0;m<U;m++)r[m].pred=0;if(w=0,1===U)for(p=r[0],S=0;S<N;S++)k(p,R,M),M++;else for(S=0;S<N;S++){for(m=0;m<U;m++){var x=p=r[m],J=x.h,q=x.v;for(G=0;G<q;G++)for(F=0;F<J;F++)y(p,R,M,G,F)}if(++M===b)break}if(f=0,(L=A[E]<<8|A[E+1])<65280)throw new Error("marker was not found");if(!(L>=65488&&L<=65495))break;E+=2}return E-Q}function L(A,e){var t=[],i=e.blocksPerLine,r=e.blocksPerColumn,I=i<<3,g=new Int32Array(64),n=new Uint8Array(64);function a(A,t,i){var r,I,g,n,a,o,B,C,Q,E,s=e.quantizationTable,f=i;for(E=0;E<64;E++)f[E]=A[E]*s[E];for(E=0;E<8;++E){var c=8*E;0!==f[1+c]||0!==f[2+c]||0!==f[3+c]||0!==f[4+c]||0!==f[5+c]||0!==f[6+c]||0!==f[7+c]?(r=5793*f[0+c]+128>>8,I=5793*f[4+c]+128>>8,g=f[2+c],n=f[6+c],a=2896*(f[1+c]-f[7+c])+128>>8,C=2896*(f[1+c]+f[7+c])+128>>8,o=f[3+c]<<4,Q=r-I+1>>1,r=r+I+1>>1,I=Q,Q=3784*g+1567*n+128>>8,g=1567*g-3784*n+128>>8,n=Q,Q=a-(B=f[5+c]<<4)+1>>1,a=a+B+1>>1,B=Q,Q=C+o+1>>1,o=C-o+1>>1,C=Q,Q=r-n+1>>1,r=r+n+1>>1,n=Q,Q=I-g+1>>1,I=I+g+1>>1,g=Q,Q=2276*a+3406*C+2048>>12,a=3406*a-2276*C+2048>>12,C=Q,Q=799*o+4017*B+2048>>12,o=4017*o-799*B+2048>>12,B=Q,f[0+c]=r+C,f[7+c]=r-C,f[1+c]=I+B,f[6+c]=I-B,f[2+c]=g+o,f[5+c]=g-o,f[3+c]=n+a,f[4+c]=n-a):(Q=5793*f[0+c]+512>>10,f[0+c]=Q,f[1+c]=Q,f[2+c]=Q,f[3+c]=Q,f[4+c]=Q,f[5+c]=Q,f[6+c]=Q,f[7+c]=Q)}for(E=0;E<8;++E){var h=E;0!==f[8+h]||0!==f[16+h]||0!==f[24+h]||0!==f[32+h]||0!==f[40+h]||0!==f[48+h]||0!==f[56+h]?(r=5793*f[0+h]+2048>>12,I=5793*f[32+h]+2048>>12,g=f[16+h],n=f[48+h],a=2896*(f[8+h]-f[56+h])+2048>>12,C=2896*(f[8+h]+f[56+h])+2048>>12,o=f[24+h],Q=r-I+1>>1,r=r+I+1>>1,I=Q,Q=3784*g+1567*n+2048>>12,g=1567*g-3784*n+2048>>12,n=Q,Q=a-(B=f[40+h])+1>>1,a=a+B+1>>1,B=Q,Q=C+o+1>>1,o=C-o+1>>1,C=Q,Q=r-n+1>>1,r=r+n+1>>1,n=Q,Q=I-g+1>>1,I=I+g+1>>1,g=Q,Q=2276*a+3406*C+2048>>12,a=3406*a-2276*C+2048>>12,C=Q,Q=799*o+4017*B+2048>>12,o=4017*o-799*B+2048>>12,B=Q,f[0+h]=r+C,f[56+h]=r-C,f[8+h]=I+B,f[48+h]=I-B,f[16+h]=g+o,f[40+h]=g-o,f[24+h]=n+a,f[32+h]=n-a):(Q=5793*i[E+0]+8192>>14,f[0+h]=Q,f[8+h]=Q,f[16+h]=Q,f[24+h]=Q,f[32+h]=Q,f[40+h]=Q,f[48+h]=Q,f[56+h]=Q)}for(E=0;E<64;++E){var l=128+(f[E]+8>>4);t[E]=l<0?0:l>255?255:l}}for(var o=0;o<r;o++){for(var B=o<<3,C=0;C<8;C++)t.push(new Uint8Array(I));for(var Q=0;Q<i;Q++){a(e.blocks[o][Q],n,g);for(var E=0,s=Q<<3,f=0;f<8;f++)for(var c=t[B+f],h=0;h<8;h++)c[s+h]=n[E++]}}return t}var b=function(){function A(){B(this,A),this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}return Q(A,[{key:"resetFrames",value:function(){this.frames=[]}},{key:"parse",value:function(A){var e=0;function t(){var t=A[e]<<8|A[e+1];return e+=2,t}function i(A){var e,t,i=0,r=0;for(t in A.components)A.components.hasOwnProperty(t)&&(i<(e=A.components[t]).h&&(i=e.h),r<e.v&&(r=e.v));var I=Math.ceil(A.samplesPerLine/8/i),g=Math.ceil(A.scanLines/8/r);for(t in A.components)if(A.components.hasOwnProperty(t)){e=A.components[t];for(var n=Math.ceil(Math.ceil(A.samplesPerLine/8)*e.h/i),a=Math.ceil(Math.ceil(A.scanLines/8)*e.v/r),o=I*e.h,B=g*e.v,C=[],Q=0;Q<B;Q++){for(var E=[],s=0;s<o;s++)E.push(new Int32Array(64));C.push(E)}e.blocksPerLine=n,e.blocksPerColumn=a,e.blocks=C}A.maxH=i,A.maxV=r,A.mcusPerLine=I,A.mcusPerColumn=g}var r,I,g=t();if(65496!==g)throw new Error("SOI not found");for(g=t();65497!==g;){switch(g){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var n=(r=void 0,I=void 0,r=t(),I=A.subarray(e,e+r-2),e+=I.length,I);65504===g&&74===n[0]&&70===n[1]&&73===n[2]&&70===n[3]&&0===n[4]&&(this.jfif={version:{major:n[5],minor:n[6]},densityUnits:n[7],xDensity:n[8]<<8|n[9],yDensity:n[10]<<8|n[11],thumbWidth:n[12],thumbHeight:n[13],thumbData:n.subarray(14,14+3*n[12]*n[13])}),65518===g&&65===n[0]&&100===n[1]&&111===n[2]&&98===n[3]&&101===n[4]&&0===n[5]&&(this.adobe={version:n[6],flags0:n[7]<<8|n[8],flags1:n[9]<<8|n[10],transformCode:n[11]});break;case 65499:for(var a=t()+e-2;e<a;){var o=A[e++],B=new Int32Array(64);if(o>>4==0)for(var C=0;C<64;C++){B[v[C]]=A[e++]}else{if(o>>4!=1)throw new Error("DQT: invalid table spec");for(var Q=0;Q<64;Q++){B[v[Q]]=t()}}this.quantizationTables[15&o]=B}break;case 65472:case 65473:case 65474:t();for(var E={extended:65473===g,progressive:65474===g,precision:A[e++],scanLines:t(),samplesPerLine:t(),components:{},componentsOrder:[]},s=A[e++],f=void 0,c=0;c<s;c++){f=A[e];var h=A[e+1]>>4,l=15&A[e+1],u=A[e+2];E.componentsOrder.push(f),E.components[f]={h:h,v:l,quantizationIdx:u},e+=3}i(E),this.frames.push(E);break;case 65476:for(var w=t(),d=2;d<w;){for(var D=A[e++],y=new Uint8Array(16),k=0,p=0;p<16;p++,e++)y[p]=A[e],k+=y[p];for(var m=new Uint8Array(k),G=0;G<k;G++,e++)m[G]=A[e];d+=17+k,D>>4==0?this.huffmanTablesDC[15&D]=R(y,m):this.huffmanTablesAC[15&D]=R(y,m)}break;case 65501:t(),this.resetInterval=t();break;case 65498:t();for(var F=A[e++],S=[],L=this.frames[0],b=0;b<F;b++){var M=L.components[A[e++]],N=A[e++];M.huffmanTableDC=this.huffmanTablesDC[N>>4],M.huffmanTableAC=this.huffmanTablesAC[15&N],S.push(M)}var x=A[e++],J=A[e++],q=A[e++],Y=U(A,e,L,S,this.resetInterval,x,J,q>>4,15&q);e+=Y;break;case 65535:255!==A[e]&&e--;break;default:if(255===A[e-3]&&A[e-2]>=192&&A[e-2]<=254){e-=3;break}throw new Error("unknown JPEG marker ".concat(g.toString(16)))}g=t()}}},{key:"getResult",value:function(){var A=this.frames;if(0===this.frames.length)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(var e=0;e<this.frames.length;e++)for(var t=this.frames[e].components,i=0,r=Object.keys(t);i<r.length;i++){var I=r[i];t[I].quantizationTable=this.quantizationTables[t[I].quantizationIdx],delete t[I].quantizationIdx}for(var g=A[0],n=g.components,a=g.componentsOrder,o=[],B=g.samplesPerLine,C=g.scanLines,Q=0;Q<a.length;Q++){var E=n[a[Q]];o.push({lines:L(0,E),scaleX:E.h/g.maxH,scaleY:E.v/g.maxV})}for(var s=new Uint8Array(B*C*o.length),f=0,c=0;c<C;++c)for(var h=0;h<B;++h)for(var l=0;l<o.length;++l){var u=o[l];s[f]=u.lines[0|c*u.scaleY][0|h*u.scaleX],++f}return s}}]),A}(),M=function(A){s(t,w);var e=S(t);function t(A){var i;return B(this,t),(i=e.call(this)).reader=new b,A.JPEGTables&&i.reader.parse(A.JPEGTables),i}return Q(t,[{key:"decodeBlock",value:function(A){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(A)),this.reader.getResult().buffer}}]),t}(),N=Object.freeze({__proto__:null,default:M});function x(A){for(var e=A.length;--e>=0;)A[e]=0}x(new Array(576)),x(new Array(60)),x(new Array(512)),x(new Array(256)),x(new Array(29)),x(new Array(30));var J=function(A,e,t,i){for(var r=65535&A|0,I=A>>>16&65535|0,g=0;0!==t;){t-=g=t>2e3?2e3:t;do{I=I+(r=r+e[i++]|0)|0}while(--g);r%=65521,I%=65521}return r|I<<16|0},q=new Uint32Array(function(){for(var A,e=[],t=0;t<256;t++){A=t;for(var i=0;i<8;i++)A=1&A?3988292384^A>>>1:A>>>1;e[t]=A}return e}()),Y=function(A,e,t,i){var r=q,I=i+t;A^=-1;for(var g=i;g<I;g++)A=A>>>8^r[255&(A^e[g])];return-1^A},K={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},O=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)},P=function(A){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!==t(i))throw new TypeError(i+"must be non-object");for(var r in i)O(i,r)&&(A[r]=i[r])}}return A},T=function(A){for(var e=0,t=0,i=A.length;t<i;t++)e+=A[t].length;for(var r=new Uint8Array(e),I=0,g=0,n=A.length;I<n;I++){var a=A[I];r.set(a,g),g+=a.length}return r},V=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(A){V=!1}for(var _=new Uint8Array(256),X=0;X<256;X++)_[X]=X>=252?6:X>=248?5:X>=240?4:X>=224?3:X>=192?2:1;_[254]=_[254]=1;var Z=function(A){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(A);var e,t,i,r,I,g=A.length,n=0;for(r=0;r<g;r++)55296==(64512&(t=A.charCodeAt(r)))&&r+1<g&&56320==(64512&(i=A.charCodeAt(r+1)))&&(t=65536+(t-55296<<10)+(i-56320),r++),n+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(n),I=0,r=0;I<n;r++)55296==(64512&(t=A.charCodeAt(r)))&&r+1<g&&56320==(64512&(i=A.charCodeAt(r+1)))&&(t=65536+(t-55296<<10)+(i-56320),r++),t<128?e[I++]=t:t<2048?(e[I++]=192|t>>>6,e[I++]=128|63&t):t<65536?(e[I++]=224|t>>>12,e[I++]=128|t>>>6&63,e[I++]=128|63&t):(e[I++]=240|t>>>18,e[I++]=128|t>>>12&63,e[I++]=128|t>>>6&63,e[I++]=128|63&t);return e},j=function(A,e){var t,i,r=e||A.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(A.subarray(0,e));var I=new Array(2*r);for(i=0,t=0;t<r;){var g=A[t++];if(g<128)I[i++]=g;else{var n=_[g];if(n>4)I[i++]=65533,t+=n-1;else{for(g&=2===n?31:3===n?15:7;n>1&&t<r;)g=g<<6|63&A[t++],n--;n>1?I[i++]=65533:g<65536?I[i++]=g:(g-=65536,I[i++]=55296|g>>10&1023,I[i++]=56320|1023&g)}}}return function(A,e){if(e<65534&&A.subarray&&V)return String.fromCharCode.apply(null,A.length===e?A:A.subarray(0,e));for(var t="",i=0;i<e;i++)t+=String.fromCharCode(A[i]);return t}(I,i)},W=function(A,e){(e=e||A.length)>A.length&&(e=A.length);for(var t=e-1;t>=0&&128==(192&A[t]);)t--;return t<0||0===t?e:t+_[A[t]]>e?t:e};var z=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},$=function(A,e){var t,i,r,I,g,n,a,o,B,C,Q,E,s,f,c,h,l,u,w,d,D,y,k,p,m=A.state;t=A.next_in,k=A.input,i=t+(A.avail_in-5),r=A.next_out,p=A.output,I=r-(e-A.avail_out),g=r+(A.avail_out-257),n=m.dmax,a=m.wsize,o=m.whave,B=m.wnext,C=m.window,Q=m.hold,E=m.bits,s=m.lencode,f=m.distcode,c=(1<<m.lenbits)-1,h=(1<<m.distbits)-1;A:do{E<15&&(Q+=k[t++]<<E,E+=8,Q+=k[t++]<<E,E+=8),l=s[Q&c];e:for(;;){if(Q>>>=u=l>>>24,E-=u,0===(u=l>>>16&255))p[r++]=65535&l;else{if(!(16&u)){if(0==(64&u)){l=s[(65535&l)+(Q&(1<<u)-1)];continue e}if(32&u){m.mode=12;break A}A.msg="invalid literal/length code",m.mode=30;break A}w=65535&l,(u&=15)&&(E<u&&(Q+=k[t++]<<E,E+=8),w+=Q&(1<<u)-1,Q>>>=u,E-=u),E<15&&(Q+=k[t++]<<E,E+=8,Q+=k[t++]<<E,E+=8),l=f[Q&h];t:for(;;){if(Q>>>=u=l>>>24,E-=u,!(16&(u=l>>>16&255))){if(0==(64&u)){l=f[(65535&l)+(Q&(1<<u)-1)];continue t}A.msg="invalid distance code",m.mode=30;break A}if(d=65535&l,E<(u&=15)&&(Q+=k[t++]<<E,(E+=8)<u&&(Q+=k[t++]<<E,E+=8)),(d+=Q&(1<<u)-1)>n){A.msg="invalid distance too far back",m.mode=30;break A}if(Q>>>=u,E-=u,d>(u=r-I)){if((u=d-u)>o&&m.sane){A.msg="invalid distance too far back",m.mode=30;break A}if(D=0,y=C,0===B){if(D+=a-u,u<w){w-=u;do{p[r++]=C[D++]}while(--u);D=r-d,y=p}}else if(B<u){if(D+=a+B-u,(u-=B)<w){w-=u;do{p[r++]=C[D++]}while(--u);if(D=0,B<w){w-=u=B;do{p[r++]=C[D++]}while(--u);D=r-d,y=p}}}else if(D+=B-u,u<w){w-=u;do{p[r++]=C[D++]}while(--u);D=r-d,y=p}for(;w>2;)p[r++]=y[D++],p[r++]=y[D++],p[r++]=y[D++],w-=3;w&&(p[r++]=y[D++],w>1&&(p[r++]=y[D++]))}else{D=r-d;do{p[r++]=p[D++],p[r++]=p[D++],p[r++]=p[D++],w-=3}while(w>2);w&&(p[r++]=p[D++],w>1&&(p[r++]=p[D++]))}break}}break}}while(t<i&&r<g);t-=w=E>>3,Q&=(1<<(E-=w<<3))-1,A.next_in=t,A.next_out=r,A.avail_in=t<i?i-t+5:5-(t-i),A.avail_out=r<g?g-r+257:257-(r-g),m.hold=Q,m.bits=E},AA=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eA=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iA=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),rA=function(A,e,t,i,r,I,g,n){var a,o,B,C,Q,E,s,f,c,h=n.bits,l=0,u=0,w=0,d=0,D=0,y=0,k=0,p=0,m=0,G=0,F=null,S=0,v=new Uint16Array(16),R=new Uint16Array(16),U=null,L=0;for(l=0;l<=15;l++)v[l]=0;for(u=0;u<i;u++)v[e[t+u]]++;for(D=h,d=15;d>=1&&0===v[d];d--);if(D>d&&(D=d),0===d)return r[I++]=20971520,r[I++]=20971520,n.bits=1,0;for(w=1;w<d&&0===v[w];w++);for(D<w&&(D=w),p=1,l=1;l<=15;l++)if(p<<=1,(p-=v[l])<0)return-1;if(p>0&&(0===A||1!==d))return-1;for(R[1]=0,l=1;l<15;l++)R[l+1]=R[l]+v[l];for(u=0;u<i;u++)0!==e[t+u]&&(g[R[e[t+u]]++]=u);if(0===A?(F=U=g,E=19):1===A?(F=AA,S-=257,U=eA,L-=257,E=256):(F=tA,U=iA,E=-1),G=0,u=0,l=w,Q=I,y=D,k=0,B=-1,C=(m=1<<D)-1,1===A&&m>852||2===A&&m>592)return 1;for(;;){s=l-k,g[u]<E?(f=0,c=g[u]):g[u]>E?(f=U[L+g[u]],c=F[S+g[u]]):(f=96,c=0),a=1<<l-k,w=o=1<<y;do{r[Q+(G>>k)+(o-=a)]=s<<24|f<<16|c|0}while(0!==o);for(a=1<<l-1;G&a;)a>>=1;if(0!==a?(G&=a-1,G+=a):G=0,u++,0==--v[l]){if(l===d)break;l=e[t+g[u]]}if(l>D&&(G&C)!==B){for(0===k&&(k=D),Q+=w,p=1<<(y=l-k);y+k<d&&!((p-=v[y+k])<=0);)y++,p<<=1;if(m+=1<<y,1===A&&m>852||2===A&&m>592)return 1;r[B=G&C]=D<<24|y<<16|Q-I|0}}return 0!==G&&(r[Q+G]=l-k<<24|64<<16|0),n.bits=D,0},IA=H.Z_FINISH,gA=H.Z_BLOCK,nA=H.Z_TREES,aA=H.Z_OK,oA=H.Z_STREAM_END,BA=H.Z_NEED_DICT,CA=H.Z_STREAM_ERROR,QA=H.Z_DATA_ERROR,EA=H.Z_MEM_ERROR,sA=H.Z_BUF_ERROR,fA=H.Z_DEFLATED,cA=function(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)};function hA(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var lA,uA,wA=function(A){if(!A||!A.state)return CA;var e=A.state;return A.total_in=A.total_out=e.total=0,A.msg="",e.wrap&&(A.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,aA},dA=function(A){if(!A||!A.state)return CA;var e=A.state;return e.wsize=0,e.whave=0,e.wnext=0,wA(A)},DA=function(A,e){var t;if(!A||!A.state)return CA;var i=A.state;return e<0?(t=0,e=-e):(t=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?CA:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,dA(A))},yA=function(A,e){if(!A)return CA;var t=new hA;A.state=t,t.window=null;var i=DA(A,e);return i!==aA&&(A.state=null),i},kA=!0,pA=function(A){if(kA){lA=new Int32Array(512),uA=new Int32Array(32);for(var e=0;e<144;)A.lens[e++]=8;for(;e<256;)A.lens[e++]=9;for(;e<280;)A.lens[e++]=7;for(;e<288;)A.lens[e++]=8;for(rA(1,A.lens,0,288,lA,0,A.work,{bits:9}),e=0;e<32;)A.lens[e++]=5;rA(2,A.lens,0,32,uA,0,A.work,{bits:5}),kA=!1}A.lencode=lA,A.lenbits=9,A.distcode=uA,A.distbits=5},mA=function(A,e,t,i){var r,I=A.state;return null===I.window&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new Uint8Array(I.wsize)),i>=I.wsize?(I.window.set(e.subarray(t-I.wsize,t),0),I.wnext=0,I.whave=I.wsize):((r=I.wsize-I.wnext)>i&&(r=i),I.window.set(e.subarray(t-i,t-i+r),I.wnext),(i-=r)?(I.window.set(e.subarray(t-i,t),0),I.wnext=i,I.whave=I.wsize):(I.wnext+=r,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=r))),0},GA={inflateReset:dA,inflateReset2:DA,inflateResetKeep:wA,inflateInit:function(A){return yA(A,15)},inflateInit2:yA,inflate:function(A,e){var t,i,r,I,g,n,a,o,B,C,Q,E,s,f,c,h,l,u,w,d,D,y,k,p,m=0,G=new Uint8Array(4),F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!A||!A.state||!A.output||!A.input&&0!==A.avail_in)return CA;12===(t=A.state).mode&&(t.mode=13),g=A.next_out,r=A.output,a=A.avail_out,I=A.next_in,i=A.input,n=A.avail_in,o=t.hold,B=t.bits,C=n,Q=a,y=aA;A:for(;;)switch(t.mode){case 1:if(0===t.wrap){t.mode=13;break}for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(2&t.wrap&&35615===o){t.check=0,G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0),o=0,B=0,t.mode=2;break}if(t.flags=0,t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&o)<<8)+(o>>8))%31){A.msg="incorrect header check",t.mode=30;break}if((15&o)!==fA){A.msg="unknown compression method",t.mode=30;break}if(B-=4,D=8+(15&(o>>>=4)),0===t.wbits)t.wbits=D;else if(D>t.wbits){A.msg="invalid window size",t.mode=30;break}t.dmax=1<<t.wbits,A.adler=t.check=1,t.mode=512&o?10:12,o=0,B=0;break;case 2:for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(t.flags=o,(255&t.flags)!==fA){A.msg="unknown compression method",t.mode=30;break}if(57344&t.flags){A.msg="unknown header flags set",t.mode=30;break}t.head&&(t.head.text=o>>8&1),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0)),o=0,B=0,t.mode=3;case 3:for(;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.head&&(t.head.time=o),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,G[2]=o>>>16&255,G[3]=o>>>24&255,t.check=Y(t.check,G,4,0)),o=0,B=0,t.mode=4;case 4:for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.head&&(t.head.xflags=255&o,t.head.os=o>>8),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0)),o=0,B=0,t.mode=5;case 5:if(1024&t.flags){for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.length=o,t.head&&(t.head.extra_len=o),512&t.flags&&(G[0]=255&o,G[1]=o>>>8&255,t.check=Y(t.check,G,2,0)),o=0,B=0}else t.head&&(t.head.extra=null);t.mode=6;case 6:if(1024&t.flags&&((E=t.length)>n&&(E=n),E&&(t.head&&(D=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(I,I+E),D)),512&t.flags&&(t.check=Y(t.check,i,E,I)),n-=E,I+=E,t.length-=E),t.length))break A;t.length=0,t.mode=7;case 7:if(2048&t.flags){if(0===n)break A;E=0;do{D=i[I+E++],t.head&&D&&t.length<65536&&(t.head.name+=String.fromCharCode(D))}while(D&&E<n);if(512&t.flags&&(t.check=Y(t.check,i,E,I)),n-=E,I+=E,D)break A}else t.head&&(t.head.name=null);t.length=0,t.mode=8;case 8:if(4096&t.flags){if(0===n)break A;E=0;do{D=i[I+E++],t.head&&D&&t.length<65536&&(t.head.comment+=String.fromCharCode(D))}while(D&&E<n);if(512&t.flags&&(t.check=Y(t.check,i,E,I)),n-=E,I+=E,D)break A}else t.head&&(t.head.comment=null);t.mode=9;case 9:if(512&t.flags){for(;B<16;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(o!==(65535&t.check)){A.msg="header crc mismatch",t.mode=30;break}o=0,B=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),A.adler=t.check=0,t.mode=12;break;case 10:for(;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}A.adler=t.check=cA(o),o=0,B=0,t.mode=11;case 11:if(0===t.havedict)return A.next_out=g,A.avail_out=a,A.next_in=I,A.avail_in=n,t.hold=o,t.bits=B,BA;A.adler=t.check=1,t.mode=12;case 12:if(e===gA||e===nA)break A;case 13:if(t.last){o>>>=7&B,B-=7&B,t.mode=27;break}for(;B<3;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}switch(t.last=1&o,B-=1,3&(o>>>=1)){case 0:t.mode=14;break;case 1:if(pA(t),t.mode=20,e===nA){o>>>=2,B-=2;break A}break;case 2:t.mode=17;break;case 3:A.msg="invalid block type",t.mode=30}o>>>=2,B-=2;break;case 14:for(o>>>=7&B,B-=7&B;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if((65535&o)!=(o>>>16^65535)){A.msg="invalid stored block lengths",t.mode=30;break}if(t.length=65535&o,o=0,B=0,t.mode=15,e===nA)break A;case 15:t.mode=16;case 16:if(E=t.length){if(E>n&&(E=n),E>a&&(E=a),0===E)break A;r.set(i.subarray(I,I+E),g),n-=E,I+=E,a-=E,g+=E,t.length-=E;break}t.mode=12;break;case 17:for(;B<14;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(t.nlen=257+(31&o),o>>>=5,B-=5,t.ndist=1+(31&o),o>>>=5,B-=5,t.ncode=4+(15&o),o>>>=4,B-=4,t.nlen>286||t.ndist>30){A.msg="too many length or distance symbols",t.mode=30;break}t.have=0,t.mode=18;case 18:for(;t.have<t.ncode;){for(;B<3;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.lens[F[t.have++]]=7&o,o>>>=3,B-=3}for(;t.have<19;)t.lens[F[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,k={bits:t.lenbits},y=rA(0,t.lens,0,19,t.lencode,0,t.work,k),t.lenbits=k.bits,y){A.msg="invalid code lengths set",t.mode=30;break}t.have=0,t.mode=19;case 19:for(;t.have<t.nlen+t.ndist;){for(;h=(m=t.lencode[o&(1<<t.lenbits)-1])>>>16&255,l=65535&m,!((c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(l<16)o>>>=c,B-=c,t.lens[t.have++]=l;else{if(16===l){for(p=c+2;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(o>>>=c,B-=c,0===t.have){A.msg="invalid bit length repeat",t.mode=30;break}D=t.lens[t.have-1],E=3+(3&o),o>>>=2,B-=2}else if(17===l){for(p=c+3;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}B-=c,D=0,E=3+(7&(o>>>=c)),o>>>=3,B-=3}else{for(p=c+7;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}B-=c,D=0,E=11+(127&(o>>>=c)),o>>>=7,B-=7}if(t.have+E>t.nlen+t.ndist){A.msg="invalid bit length repeat",t.mode=30;break}for(;E--;)t.lens[t.have++]=D}}if(30===t.mode)break;if(0===t.lens[256]){A.msg="invalid code -- missing end-of-block",t.mode=30;break}if(t.lenbits=9,k={bits:t.lenbits},y=rA(1,t.lens,0,t.nlen,t.lencode,0,t.work,k),t.lenbits=k.bits,y){A.msg="invalid literal/lengths set",t.mode=30;break}if(t.distbits=6,t.distcode=t.distdyn,k={bits:t.distbits},y=rA(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,k),t.distbits=k.bits,y){A.msg="invalid distances set",t.mode=30;break}if(t.mode=20,e===nA)break A;case 20:t.mode=21;case 21:if(n>=6&&a>=258){A.next_out=g,A.avail_out=a,A.next_in=I,A.avail_in=n,t.hold=o,t.bits=B,$(A,Q),g=A.next_out,r=A.output,a=A.avail_out,I=A.next_in,i=A.input,n=A.avail_in,o=t.hold,B=t.bits,12===t.mode&&(t.back=-1);break}for(t.back=0;h=(m=t.lencode[o&(1<<t.lenbits)-1])>>>16&255,l=65535&m,!((c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(h&&0==(240&h)){for(u=c,w=h,d=l;h=(m=t.lencode[d+((o&(1<<u+w)-1)>>u)])>>>16&255,l=65535&m,!(u+(c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}o>>>=u,B-=u,t.back+=u}if(o>>>=c,B-=c,t.back+=c,t.length=l,0===h){t.mode=26;break}if(32&h){t.back=-1,t.mode=12;break}if(64&h){A.msg="invalid literal/length code",t.mode=30;break}t.extra=15&h,t.mode=22;case 22:if(t.extra){for(p=t.extra;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.length+=o&(1<<t.extra)-1,o>>>=t.extra,B-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=23;case 23:for(;h=(m=t.distcode[o&(1<<t.distbits)-1])>>>16&255,l=65535&m,!((c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(0==(240&h)){for(u=c,w=h,d=l;h=(m=t.distcode[d+((o&(1<<u+w)-1)>>u)])>>>16&255,l=65535&m,!(u+(c=m>>>24)<=B);){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}o>>>=u,B-=u,t.back+=u}if(o>>>=c,B-=c,t.back+=c,64&h){A.msg="invalid distance code",t.mode=30;break}t.offset=l,t.extra=15&h,t.mode=24;case 24:if(t.extra){for(p=t.extra;B<p;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}t.offset+=o&(1<<t.extra)-1,o>>>=t.extra,B-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){A.msg="invalid distance too far back",t.mode=30;break}t.mode=25;case 25:if(0===a)break A;if(E=Q-a,t.offset>E){if((E=t.offset-E)>t.whave&&t.sane){A.msg="invalid distance too far back",t.mode=30;break}E>t.wnext?(E-=t.wnext,s=t.wsize-E):s=t.wnext-E,E>t.length&&(E=t.length),f=t.window}else f=r,s=g-t.offset,E=t.length;E>a&&(E=a),a-=E,t.length-=E;do{r[g++]=f[s++]}while(--E);0===t.length&&(t.mode=21);break;case 26:if(0===a)break A;r[g++]=t.length,a--,t.mode=21;break;case 27:if(t.wrap){for(;B<32;){if(0===n)break A;n--,o|=i[I++]<<B,B+=8}if(Q-=a,A.total_out+=Q,t.total+=Q,Q&&(A.adler=t.check=t.flags?Y(t.check,r,Q,g-Q):J(t.check,r,Q,g-Q)),Q=a,(t.flags?o:cA(o))!==t.check){A.msg="incorrect data check",t.mode=30;break}o=0,B=0}t.mode=28;case 28:if(t.wrap&&t.flags){for(;B<32;){if(0===n)break A;n--,o+=i[I++]<<B,B+=8}if(o!==(4294967295&t.total)){A.msg="incorrect length check",t.mode=30;break}o=0,B=0}t.mode=29;case 29:y=oA;break A;case 30:y=QA;break A;case 31:return EA;default:return CA}return A.next_out=g,A.avail_out=a,A.next_in=I,A.avail_in=n,t.hold=o,t.bits=B,(t.wsize||Q!==A.avail_out&&t.mode<30&&(t.mode<27||e!==IA))&&mA(A,A.output,A.next_out,Q-A.avail_out),C-=A.avail_in,Q-=A.avail_out,A.total_in+=C,A.total_out+=Q,t.total+=Q,t.wrap&&Q&&(A.adler=t.check=t.flags?Y(t.check,r,Q,A.next_out-Q):J(t.check,r,Q,A.next_out-Q)),A.data_type=t.bits+(t.last?64:0)+(12===t.mode?128:0)+(20===t.mode||15===t.mode?256:0),(0===C&&0===Q||e===IA)&&y===aA&&(y=sA),y},inflateEnd:function(A){if(!A||!A.state)return CA;var e=A.state;return e.window&&(e.window=null),A.state=null,aA},inflateGetHeader:function(A,e){if(!A||!A.state)return CA;var t=A.state;return 0==(2&t.wrap)?CA:(t.head=e,e.done=!1,aA)},inflateSetDictionary:function(A,e){var t,i=e.length;return A&&A.state?0!==(t=A.state).wrap&&11!==t.mode?CA:11===t.mode&&J(1,e,i,0)!==t.check?QA:mA(A,e,i,i)?(t.mode=31,EA):(t.havedict=1,aA):CA},inflateInfo:"pako inflate (from Nodeca project)"};var FA=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},SA=Object.prototype.toString,vA=H.Z_NO_FLUSH,RA=H.Z_FINISH,UA=H.Z_OK,LA=H.Z_STREAM_END,bA=H.Z_NEED_DICT,MA=H.Z_STREAM_ERROR,NA=H.Z_DATA_ERROR,xA=H.Z_MEM_ERROR;function JA(A){this.options=P({chunkSize:65536,windowBits:15,to:""},A||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||A&&A.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z,this.strm.avail_out=0;var t=GA.inflateInit2(this.strm,e.windowBits);if(t!==UA)throw new Error(K[t]);if(this.header=new FA,GA.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Z(e.dictionary):"[object ArrayBuffer]"===SA.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=GA.inflateSetDictionary(this.strm,e.dictionary))!==UA))throw new Error(K[t])}function qA(A,e){var t=new JA(e);if(t.push(A),t.err)throw t.msg||K[t.err];return t.result}JA.prototype.push=function(A,e){var t,i,r,I=this.strm,g=this.options.chunkSize,n=this.options.dictionary;if(this.ended)return!1;for(i=e===~~e?e:!0===e?RA:vA,"[object ArrayBuffer]"===SA.call(A)?I.input=new Uint8Array(A):I.input=A,I.next_in=0,I.avail_in=I.input.length;;){for(0===I.avail_out&&(I.output=new Uint8Array(g),I.next_out=0,I.avail_out=g),(t=GA.inflate(I,i))===bA&&n&&((t=GA.inflateSetDictionary(I,n))===UA?t=GA.inflate(I,i):t===NA&&(t=bA));I.avail_in>0&&t===LA&&I.state.wrap>0&&0!==A[I.next_in];)GA.inflateReset(I),t=GA.inflate(I,i);switch(t){case MA:case NA:case bA:case xA:return this.onEnd(t),this.ended=!0,!1}if(r=I.avail_out,I.next_out&&(0===I.avail_out||t===LA))if("string"===this.options.to){var a=W(I.output,I.next_out),o=I.next_out-a,B=j(I.output,a);I.next_out=o,I.avail_out=g-o,o&&I.output.set(I.output.subarray(a,a+o),0),this.onData(B)}else this.onData(I.output.length===I.next_out?I.output:I.output.subarray(0,I.next_out));if(t!==UA||0!==r){if(t===LA)return t=GA.inflateEnd(this.strm),this.onEnd(t),this.ended=!0,!0;if(0===I.avail_in)break}}return!0},JA.prototype.onData=function(A){this.chunks.push(A)},JA.prototype.onEnd=function(A){A===UA&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=T(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};var YA={Inflate:JA,inflate:qA,inflateRaw:function(A,e){return(e=e||{}).raw=!0,qA(A,e)},ungzip:qA,constants:H}.inflate;function KA(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var HA=function(A){s(t,w);var e=KA(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){return YA(new Uint8Array(A)).buffer}}]),t}(),OA=Object.freeze({__proto__:null,default:HA});function PA(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var TA,VA=function(A){s(t,w);var e=PA(t);function t(){return B(this,t),e.apply(this,arguments)}return Q(t,[{key:"decodeBlock",value:function(A){for(var e=new DataView(A),t=[],i=0;i<A.byteLength;++i){var r=e.getInt8(i);if(r<0){var I=e.getUint8(i+1);r=-r;for(var g=0;g<=r;++g)t.push(I);i+=1}else{for(var n=0;n<=r;++n)t.push(e.getUint8(i+n+1));i+=r+1}}return new Uint8Array(t).buffer}}]),t}(),_A=Object.freeze({__proto__:null,default:VA}),XA={exports:{}};TA=XA,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var A,e,t,i,r,I,g,n,a,o,B,C,Q,E,s,f,c=(A={defaultNoDataValue:-34027999387901484e22,decode:function(I,g){var n=(g=g||{}).encodedMaskData||null===g.encodedMaskData,a=r(I,g.inputOffset||0,n),o=null!==g.noDataValue?g.noDataValue:A.defaultNoDataValue,B=e(a,g.pixelType||Float32Array,g.encodedMaskData,o,g.returnMask),C={width:a.width,height:a.height,pixelData:B.resultPixels,minValue:B.minValue,maxValue:a.pixels.maxValue,noDataValue:o};return B.resultMask&&(C.maskData=B.resultMask),g.returnEncodedMask&&a.mask&&(C.encodedMaskData=a.mask.bitset?a.mask.bitset:null),g.returnFileInfo&&(C.fileInfo=t(a),g.computeUsedBitDepths&&(C.fileInfo.bitDepths=i(a))),C}},e=function(A,e,t,i,r){var g,n,a,o=0,B=A.pixels.numBlocksX,C=A.pixels.numBlocksY,Q=Math.floor(A.width/B),E=Math.floor(A.height/C),s=2*A.maxZError,f=Number.MAX_VALUE;t=t||(A.mask?A.mask.bitset:null),n=new e(A.width*A.height),r&&t&&(a=new Uint8Array(A.width*A.height));for(var c,h,l=new Float32Array(Q*E),u=0;u<=C;u++){var w=u!==C?E:A.height%C;if(0!==w)for(var d=0;d<=B;d++){var D=d!==B?Q:A.width%B;if(0!==D){var y,k,p,m,G=u*A.width*E+d*Q,F=A.width-D,S=A.pixels.blocks[o];if(S.encoding<2?(0===S.encoding?y=S.rawData:(I(S.stuffedData,S.bitsPerPixel,S.numValidPixels,S.offset,s,l,A.pixels.maxValue),y=l),k=0):p=2===S.encoding?0:S.offset,t)for(h=0;h<w;h++){for(7&G&&(m=t[G>>3],m<<=7&G),c=0;c<D;c++)7&G||(m=t[G>>3]),128&m?(a&&(a[G]=1),f=f>(g=S.encoding<2?y[k++]:p)?g:f,n[G++]=g):(a&&(a[G]=0),n[G++]=i),m<<=1;G+=F}else if(S.encoding<2)for(h=0;h<w;h++){for(c=0;c<D;c++)f=f>(g=y[k++])?g:f,n[G++]=g;G+=F}else for(f=f>p?p:f,h=0;h<w;h++){for(c=0;c<D;c++)n[G++]=p;G+=F}if(1===S.encoding&&k!==S.numValidPixels)throw"Block and Mask do not match";o++}}}return{resultPixels:n,resultMask:a,minValue:f}},t=function(A){return{fileIdentifierString:A.fileIdentifierString,fileVersion:A.fileVersion,imageType:A.imageType,height:A.height,width:A.width,maxZError:A.maxZError,eofOffset:A.eofOffset,mask:A.mask?{numBlocksX:A.mask.numBlocksX,numBlocksY:A.mask.numBlocksY,numBytes:A.mask.numBytes,maxValue:A.mask.maxValue}:null,pixels:{numBlocksX:A.pixels.numBlocksX,numBlocksY:A.pixels.numBlocksY,numBytes:A.pixels.numBytes,maxValue:A.pixels.maxValue,noDataValue:A.noDataValue}}},i=function(A){for(var e=A.pixels.numBlocksX*A.pixels.numBlocksY,t={},i=0;i<e;i++){var r=A.pixels.blocks[i];0===r.encoding?t.float32=!0:1===r.encoding?t[r.bitsPerPixel]=!0:t[0]=!0}return Object.keys(t)},r=function(A,e,t){var i={},r=new Uint8Array(A,e,10);if(i.fileIdentifierString=String.fromCharCode.apply(null,r),"CntZImage"!==i.fileIdentifierString.trim())throw"Unexpected file identifier string: "+i.fileIdentifierString;e+=10;var I=new DataView(A,e,24);if(i.fileVersion=I.getInt32(0,!0),i.imageType=I.getInt32(4,!0),i.height=I.getUint32(8,!0),i.width=I.getUint32(12,!0),i.maxZError=I.getFloat64(16,!0),e+=24,!t)if(I=new DataView(A,e,16),i.mask={},i.mask.numBlocksY=I.getUint32(0,!0),i.mask.numBlocksX=I.getUint32(4,!0),i.mask.numBytes=I.getUint32(8,!0),i.mask.maxValue=I.getFloat32(12,!0),e+=16,i.mask.numBytes>0){var g=new Uint8Array(Math.ceil(i.width*i.height/8)),n=(I=new DataView(A,e,i.mask.numBytes)).getInt16(0,!0),a=2,o=0;do{if(n>0)for(;n--;)g[o++]=I.getUint8(a++);else{var B=I.getUint8(a++);for(n=-n;n--;)g[o++]=B}n=I.getInt16(a,!0),a+=2}while(a<i.mask.numBytes);if(-32768!==n||o<g.length)throw"Unexpected end of mask RLE encoding";i.mask.bitset=g,e+=i.mask.numBytes}else 0==(i.mask.numBytes|i.mask.numBlocksY|i.mask.maxValue)&&(i.mask.bitset=new Uint8Array(Math.ceil(i.width*i.height/8)));I=new DataView(A,e,16),i.pixels={},i.pixels.numBlocksY=I.getUint32(0,!0),i.pixels.numBlocksX=I.getUint32(4,!0),i.pixels.numBytes=I.getUint32(8,!0),i.pixels.maxValue=I.getFloat32(12,!0),e+=16;var C=i.pixels.numBlocksX,Q=i.pixels.numBlocksY,E=C+(i.width%C>0?1:0),s=Q+(i.height%Q>0?1:0);i.pixels.blocks=new Array(E*s);for(var f=0,c=0;c<s;c++)for(var h=0;h<E;h++){var l=0,u=A.byteLength-e;I=new DataView(A,e,Math.min(10,u));var w={};i.pixels.blocks[f++]=w;var d=I.getUint8(0);if(l++,w.encoding=63&d,w.encoding>3)throw"Invalid block encoding ("+w.encoding+")";if(2!==w.encoding){if(0!==d&&2!==d){if(d>>=6,w.offsetType=d,2===d)w.offset=I.getInt8(1),l++;else if(1===d)w.offset=I.getInt16(1,!0),l+=2;else{if(0!==d)throw"Invalid block offset type";w.offset=I.getFloat32(1,!0),l+=4}if(1===w.encoding)if(d=I.getUint8(l),l++,w.bitsPerPixel=63&d,d>>=6,w.numValidPixelsType=d,2===d)w.numValidPixels=I.getUint8(l),l++;else if(1===d)w.numValidPixels=I.getUint16(l,!0),l+=2;else{if(0!==d)throw"Invalid valid pixel count type";w.numValidPixels=I.getUint32(l,!0),l+=4}}var D;if(e+=l,3!==w.encoding)if(0===w.encoding){var y=(i.pixels.numBytes-1)/4;if(y!==Math.floor(y))throw"uncompressed block has invalid length";D=new ArrayBuffer(4*y),new Uint8Array(D).set(new Uint8Array(A,e,4*y));var k=new Float32Array(D);w.rawData=k,e+=4*y}else if(1===w.encoding){var p=Math.ceil(w.numValidPixels*w.bitsPerPixel/8),m=Math.ceil(p/4);D=new ArrayBuffer(4*m),new Uint8Array(D).set(new Uint8Array(A,e,p)),w.stuffedData=new Uint32Array(D),e+=p}}else e++}return i.eofOffset=e,i},I=function(A,e,t,i,r,I,g){var n,a,o,B=(1<<e)-1,C=0,Q=0,E=Math.ceil((g-i)/r),s=4*A.length-Math.ceil(e*t/8);for(A[A.length-1]<<=8*s,n=0;n<t;n++){if(0===Q&&(o=A[C++],Q=32),Q>=e)a=o>>>Q-e&B,Q-=e;else{var f=e-Q;a=(o&B)<<f&B,a+=(o=A[C++])>>>(Q=32-f)}I[n]=a<E?i+a*r:g}return I},A),h=(g=function(A,e,t,i,r,I,g,n){var a,o,B,C,Q,E=(1<<t)-1,s=0,f=0,c=4*A.length-Math.ceil(t*i/8);if(A[A.length-1]<<=8*c,r)for(a=0;a<i;a++)0===f&&(B=A[s++],f=32),f>=t?(o=B>>>f-t&E,f-=t):(o=(B&E)<<(C=t-f)&E,o+=(B=A[s++])>>>(f=32-C)),e[a]=r[o];else for(Q=Math.ceil((n-I)/g),a=0;a<i;a++)0===f&&(B=A[s++],f=32),f>=t?(o=B>>>f-t&E,f-=t):(o=(B&E)<<(C=t-f)&E,o+=(B=A[s++])>>>(f=32-C)),e[a]=o<Q?I+o*g:n},n=function(A,e,t,i,r,I){var g,n=(1<<e)-1,a=0,o=0,B=0,C=0,Q=0,E=[],s=4*A.length-Math.ceil(e*t/8);A[A.length-1]<<=8*s;var f=Math.ceil((I-i)/r);for(o=0;o<t;o++)0===C&&(g=A[a++],C=32),C>=e?(Q=g>>>C-e&n,C-=e):(Q=(g&n)<<(B=e-C)&n,Q+=(g=A[a++])>>>(C=32-B)),E[o]=Q<f?i+Q*r:I;return E.unshift(i),E},a=function(A,e,t,i,r,I,g,n){var a,o,B,C,Q=(1<<t)-1,E=0,s=0,f=0;if(r)for(a=0;a<i;a++)0===s&&(B=A[E++],s=32,f=0),s>=t?(o=B>>>f&Q,s-=t,f+=t):(o=B>>>f&Q,s=32-(C=t-s),o|=((B=A[E++])&(1<<C)-1)<<t-C,f=C),e[a]=r[o];else{var c=Math.ceil((n-I)/g);for(a=0;a<i;a++)0===s&&(B=A[E++],s=32,f=0),s>=t?(o=B>>>f&Q,s-=t,f+=t):(o=B>>>f&Q,s=32-(C=t-s),o|=((B=A[E++])&(1<<C)-1)<<t-C,f=C),e[a]=o<c?I+o*g:n}return e},o=function(A,e,t,i,r,I){var g,n=(1<<e)-1,a=0,o=0,B=0,C=0,Q=0,E=0,s=[],f=Math.ceil((I-i)/r);for(o=0;o<t;o++)0===C&&(g=A[a++],C=32,E=0),C>=e?(Q=g>>>E&n,C-=e,E+=e):(Q=g>>>E&n,C=32-(B=e-C),Q|=((g=A[a++])&(1<<B)-1)<<e-B,E=B),s[o]=Q<f?i+Q*r:I;return s.unshift(i),s},B=function(A,e,t,i){var r,I,g,n,a=(1<<t)-1,o=0,B=0,C=4*A.length-Math.ceil(t*i/8);for(A[A.length-1]<<=8*C,r=0;r<i;r++)0===B&&(g=A[o++],B=32),B>=t?(I=g>>>B-t&a,B-=t):(I=(g&a)<<(n=t-B)&a,I+=(g=A[o++])>>>(B=32-n)),e[r]=I;return e},C=function(A,e,t,i){var r,I,g,n,a=(1<<t)-1,o=0,B=0,C=0;for(r=0;r<i;r++)0===B&&(g=A[o++],B=32,C=0),B>=t?(I=g>>>C&a,B-=t,C+=t):(I=g>>>C&a,B=32-(n=t-B),I|=((g=A[o++])&(1<<n)-1)<<t-n,C=n),e[r]=I;return e},Q={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(A){for(var e=65535,t=65535,i=A.length,r=Math.floor(i/2),I=0;r;){var g=r>=359?359:r;r-=g;do{e+=A[I++]<<8,t+=e+=A[I++]}while(--g);e=(65535&e)+(e>>>16),t=(65535&t)+(t>>>16)}return 1&i&&(t+=e+=A[I]<<8),((t=(65535&t)+(t>>>16))<<16|(e=(65535&e)+(e>>>16)))>>>0},readHeaderInfo:function(A,e){var t=e.ptr,i=new Uint8Array(A,t,6),r={};if(r.fileIdentifierString=String.fromCharCode.apply(null,i),0!==r.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+r.fileIdentifierString;t+=6;var I,g=new DataView(A,t,8),n=g.getInt32(0,!0);if(r.fileVersion=n,t+=4,n>=3&&(r.checksum=g.getUint32(4,!0),t+=4),g=new DataView(A,t,12),r.height=g.getUint32(0,!0),r.width=g.getUint32(4,!0),t+=8,n>=4?(r.numDims=g.getUint32(8,!0),t+=4):r.numDims=1,g=new DataView(A,t,40),r.numValidPixel=g.getUint32(0,!0),r.microBlockSize=g.getInt32(4,!0),r.blobSize=g.getInt32(8,!0),r.imageType=g.getInt32(12,!0),r.maxZError=g.getFloat64(16,!0),r.zMin=g.getFloat64(24,!0),r.zMax=g.getFloat64(32,!0),t+=40,e.headerInfo=r,e.ptr=t,n>=3&&(I=n>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(A,t-I,r.blobSize-14))!==r.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(A,e){var t=e.headerInfo,i=this.getDataTypeArray(t.imageType),r=t.numDims*this.getDataTypeSize(t.imageType),I=this.readSubArray(A,e.ptr,i,r),g=this.readSubArray(A,e.ptr+r,i,r);e.ptr+=2*r;var n,a=!0;for(n=0;n<t.numDims;n++)if(I[n]!==g[n]){a=!1;break}return t.minValues=I,t.maxValues=g,a},readSubArray:function(A,e,t,i){var r;if(t===Uint8Array)r=new Uint8Array(A,e,i);else{var I=new ArrayBuffer(i);new Uint8Array(I).set(new Uint8Array(A,e,i)),r=new t(I)}return r},readMask:function(A,e){var t,i,r=e.ptr,I=e.headerInfo,g=I.width*I.height,n=I.numValidPixel,a=new DataView(A,r,4),o={};if(o.numBytes=a.getUint32(0,!0),r+=4,(0===n||g===n)&&0!==o.numBytes)throw"invalid mask";if(0===n)t=new Uint8Array(Math.ceil(g/8)),o.bitset=t,i=new Uint8Array(g),e.pixels.resultMask=i,r+=o.numBytes;else if(o.numBytes>0){t=new Uint8Array(Math.ceil(g/8));var B=(a=new DataView(A,r,o.numBytes)).getInt16(0,!0),C=2,Q=0,E=0;do{if(B>0)for(;B--;)t[Q++]=a.getUint8(C++);else for(E=a.getUint8(C++),B=-B;B--;)t[Q++]=E;B=a.getInt16(C,!0),C+=2}while(C<o.numBytes);if(-32768!==B||Q<t.length)throw"Unexpected end of mask RLE encoding";i=new Uint8Array(g);var s=0,f=0;for(f=0;f<g;f++)7&f?(s=t[f>>3],s<<=7&f):s=t[f>>3],128&s&&(i[f]=1);e.pixels.resultMask=i,o.bitset=t,r+=o.numBytes}return e.ptr=r,e.mask=o,!0},readDataOneSweep:function(A,e,t,i){var r,I=e.ptr,g=e.headerInfo,n=g.numDims,a=g.width*g.height,o=g.imageType,B=g.numValidPixel*Q.getDataTypeSize(o)*n,C=e.pixels.resultMask;if(t===Uint8Array)r=new Uint8Array(A,I,B);else{var E=new ArrayBuffer(B);new Uint8Array(E).set(new Uint8Array(A,I,B)),r=new t(E)}if(r.length===a*n)e.pixels.resultPixels=i?Q.swapDimensionOrder(r,a,n,t,!0):r;else{e.pixels.resultPixels=new t(a*n);var s=0,f=0,c=0,h=0;if(n>1){if(i){for(f=0;f<a;f++)if(C[f])for(h=f,c=0;c<n;c++,h+=a)e.pixels.resultPixels[h]=r[s++]}else for(f=0;f<a;f++)if(C[f])for(h=f*n,c=0;c<n;c++)e.pixels.resultPixels[h+c]=r[s++]}else for(f=0;f<a;f++)C[f]&&(e.pixels.resultPixels[f]=r[s++])}return I+=B,e.ptr=I,!0},readHuffmanTree:function(A,e){var t=this.HUFFMAN_LUT_BITS_MAX,i=new DataView(A,e.ptr,16);if(e.ptr+=16,i.getInt32(0,!0)<2)throw"unsupported Huffman version";var r=i.getInt32(4,!0),I=i.getInt32(8,!0),g=i.getInt32(12,!0);if(I>=g)return!1;var n=new Uint32Array(g-I);Q.decodeBits(A,e,n);var a,o,B,C,s=[];for(a=I;a<g;a++)s[o=a-(a<r?0:r)]={first:n[a-I],second:null};var f=A.byteLength-e.ptr,c=Math.ceil(f/4),h=new ArrayBuffer(4*c);new Uint8Array(h).set(new Uint8Array(A,e.ptr,f));var l,u=new Uint32Array(h),w=0,d=0;for(l=u[0],a=I;a<g;a++)(C=s[o=a-(a<r?0:r)].first)>0&&(s[o].second=l<<w>>>32-C,32-w>=C?32===(w+=C)&&(w=0,l=u[++d]):(w+=C-32,l=u[++d],s[o].second|=l>>>32-w));var D=0,y=0,k=new E;for(a=0;a<s.length;a++)void 0!==s[a]&&(D=Math.max(D,s[a].first));y=D>=t?t:D;var p,m,G,F,S,v=[];for(a=I;a<g;a++)if((C=s[o=a-(a<r?0:r)].first)>0)if(p=[C,o],C<=y)for(m=s[o].second<<y-C,G=1<<y-C,B=0;B<G;B++)v[m|B]=p;else for(m=s[o].second,S=k,F=C-1;F>=0;F--)m>>>F&1?(S.right||(S.right=new E),S=S.right):(S.left||(S.left=new E),S=S.left),0!==F||S.val||(S.val=p[1]);return{decodeLut:v,numBitsLUTQick:y,numBitsLUT:D,tree:k,stuffedData:u,srcPtr:d,bitPos:w}},readHuffman:function(A,e,t,i){var r,I,g,n,a,o,B,C,E,s=e.headerInfo.numDims,f=e.headerInfo.height,c=e.headerInfo.width,h=c*f,l=this.readHuffmanTree(A,e),u=l.decodeLut,w=l.tree,d=l.stuffedData,D=l.srcPtr,y=l.bitPos,k=l.numBitsLUTQick,p=l.numBitsLUT,m=0===e.headerInfo.imageType?128:0,G=e.pixels.resultMask,F=0;y>0&&(D++,y=0);var S,v=d[D],R=1===e.encodeMode,U=new t(h*s),L=U;if(s<2||R){for(S=0;S<s;S++)if(s>1&&(L=new t(U.buffer,h*S,h),F=0),e.headerInfo.numValidPixel===c*f)for(C=0,o=0;o<f;o++)for(B=0;B<c;B++,C++){if(I=0,a=n=v<<y>>>32-k,32-y<k&&(a=n|=d[D+1]>>>64-y-k),u[a])I=u[a][1],y+=u[a][0];else for(a=n=v<<y>>>32-p,32-y<p&&(a=n|=d[D+1]>>>64-y-p),r=w,E=0;E<p;E++)if(!(r=n>>>p-E-1&1?r.right:r.left).left&&!r.right){I=r.val,y=y+E+1;break}y>=32&&(y-=32,v=d[++D]),g=I-m,R?(g+=B>0?F:o>0?L[C-c]:F,g&=255,L[C]=g,F=g):L[C]=g}else for(C=0,o=0;o<f;o++)for(B=0;B<c;B++,C++)if(G[C]){if(I=0,a=n=v<<y>>>32-k,32-y<k&&(a=n|=d[D+1]>>>64-y-k),u[a])I=u[a][1],y+=u[a][0];else for(a=n=v<<y>>>32-p,32-y<p&&(a=n|=d[D+1]>>>64-y-p),r=w,E=0;E<p;E++)if(!(r=n>>>p-E-1&1?r.right:r.left).left&&!r.right){I=r.val,y=y+E+1;break}y>=32&&(y-=32,v=d[++D]),g=I-m,R?(B>0&&G[C-1]?g+=F:o>0&&G[C-c]?g+=L[C-c]:g+=F,g&=255,L[C]=g,F=g):L[C]=g}}else for(C=0,o=0;o<f;o++)for(B=0;B<c;B++)if(C=o*c+B,!G||G[C])for(S=0;S<s;S++,C+=h){if(I=0,a=n=v<<y>>>32-k,32-y<k&&(a=n|=d[D+1]>>>64-y-k),u[a])I=u[a][1],y+=u[a][0];else for(a=n=v<<y>>>32-p,32-y<p&&(a=n|=d[D+1]>>>64-y-p),r=w,E=0;E<p;E++)if(!(r=n>>>p-E-1&1?r.right:r.left).left&&!r.right){I=r.val,y=y+E+1;break}y>=32&&(y-=32,v=d[++D]),g=I-m,L[C]=g}e.ptr=e.ptr+4*(D+1)+(y>0?4:0),e.pixels.resultPixels=U,s>1&&!i&&(e.pixels.resultPixels=Q.swapDimensionOrder(U,h,s,t))},decodeBits:function(A,e,t,i,r){var I=e.headerInfo,Q=I.fileVersion,E=0,s=A.byteLength-e.ptr>=5?5:A.byteLength-e.ptr,f=new DataView(A,e.ptr,s),c=f.getUint8(0);E++;var h=c>>6,l=0===h?4:3-h,u=(32&c)>0,w=31&c,d=0;if(1===l)d=f.getUint8(E),E++;else if(2===l)d=f.getUint16(E,!0),E+=2;else{if(4!==l)throw"Invalid valid pixel count type";d=f.getUint32(E,!0),E+=4}var D,y,k,p,m,G,F,S,v,R=2*I.maxZError,U=I.numDims>1?I.maxValues[r]:I.zMax;if(u){for(e.counter.lut++,S=f.getUint8(E),E++,p=Math.ceil((S-1)*w/8),m=Math.ceil(p/4),y=new ArrayBuffer(4*m),k=new Uint8Array(y),e.ptr+=E,k.set(new Uint8Array(A,e.ptr,p)),F=new Uint32Array(y),e.ptr+=p,v=0;S-1>>>v;)v++;p=Math.ceil(d*v/8),m=Math.ceil(p/4),y=new ArrayBuffer(4*m),(k=new Uint8Array(y)).set(new Uint8Array(A,e.ptr,p)),D=new Uint32Array(y),e.ptr+=p,G=Q>=3?o(F,w,S-1,i,R,U):n(F,w,S-1,i,R,U),Q>=3?a(D,t,v,d,G):g(D,t,v,d,G)}else e.counter.bitstuffer++,v=w,e.ptr+=E,v>0&&(p=Math.ceil(d*v/8),m=Math.ceil(p/4),y=new ArrayBuffer(4*m),(k=new Uint8Array(y)).set(new Uint8Array(A,e.ptr,p)),D=new Uint32Array(y),e.ptr+=p,Q>=3?null==i?C(D,t,v,d):a(D,t,v,d,!1,i,R,U):null==i?B(D,t,v,d):g(D,t,v,d,!1,i,R,U))},readTiles:function(A,e,t,i){var r=e.headerInfo,I=r.width,g=r.height,n=I*g,a=r.microBlockSize,o=r.imageType,B=Q.getDataTypeSize(o),C=Math.ceil(I/a),E=Math.ceil(g/a);e.pixels.numBlocksY=E,e.pixels.numBlocksX=C,e.pixels.ptr=0;var s,f,c,h,l,u,w,d,D,y,k=0,p=0,m=0,G=0,F=0,S=0,v=0,R=0,U=0,L=0,b=0,M=0,N=0,x=0,J=0,q=new t(a*a),Y=g%a||a,K=I%a||a,H=r.numDims,O=e.pixels.resultMask,P=e.pixels.resultPixels,T=r.fileVersion>=5?14:15,V=r.zMax;for(m=0;m<E;m++)for(F=m!==E-1?a:Y,G=0;G<C;G++)for(L=m*I*a+G*a,b=I-(S=G!==C-1?a:K),d=0;d<H;d++){if(H>1?(y=P,L=m*I*a+G*a,P=new t(e.pixels.resultPixels.buffer,n*d*B,n),V=r.maxValues[d]):y=null,v=A.byteLength-e.ptr,f={},J=0,R=(s=new DataView(A,e.ptr,Math.min(10,v))).getUint8(0),J++,D=r.fileVersion>=5?4&R:0,U=R>>6&255,(R>>2&T)!=(G*a>>3&T))throw"integrity issue";if(D&&0===d)throw"integrity issue";if((l=3&R)>3)throw e.ptr+=J,"Invalid block encoding ("+l+")";if(2!==l)if(0===l){if(D)throw"integrity issue";if(e.counter.uncompressed++,e.ptr+=J,M=(M=F*S*B)<(N=A.byteLength-e.ptr)?M:N,c=new ArrayBuffer(M%B==0?M:M+B-M%B),new Uint8Array(c).set(new Uint8Array(A,e.ptr,M)),h=new t(c),x=0,O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=h[x++]),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L++]=h[x++];L+=b}e.ptr+=x*B}else if(u=Q.getDataTypeUsed(D&&o<6?4:o,U),w=Q.getOnePixel(f,J,u,s),J+=Q.getDataTypeSize(u),3===l)if(e.ptr+=J,e.counter.constantoffset++,O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=D?Math.min(V,y[L]+w):w),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L]=D?Math.min(V,y[L]+w):w,L++;L+=b}else if(e.ptr+=J,Q.decodeBits(A,e,q,w,d),J=0,D)if(O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=q[J++]+y[L]),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L]=q[J++]+y[L],L++;L+=b}else if(O)for(k=0;k<F;k++){for(p=0;p<S;p++)O[L]&&(P[L]=q[J++]),L++;L+=b}else for(k=0;k<F;k++){for(p=0;p<S;p++)P[L++]=q[J++];L+=b}else{if(D)if(O)for(k=0;k<F;k++)for(p=0;p<S;p++)O[L]&&(P[L]=y[L]),L++;else for(k=0;k<F;k++)for(p=0;p<S;p++)P[L]=y[L],L++;e.counter.constant++,e.ptr+=J}}H>1&&!i&&(e.pixels.resultPixels=Q.swapDimensionOrder(e.pixels.resultPixels,n,H,t))},formatFileInfo:function(A){return{fileIdentifierString:A.headerInfo.fileIdentifierString,fileVersion:A.headerInfo.fileVersion,imageType:A.headerInfo.imageType,height:A.headerInfo.height,width:A.headerInfo.width,numValidPixel:A.headerInfo.numValidPixel,microBlockSize:A.headerInfo.microBlockSize,blobSize:A.headerInfo.blobSize,maxZError:A.headerInfo.maxZError,pixelType:Q.getPixelType(A.headerInfo.imageType),eofOffset:A.eofOffset,mask:A.mask?{numBytes:A.mask.numBytes}:null,pixels:{numBlocksX:A.pixels.numBlocksX,numBlocksY:A.pixels.numBlocksY,maxValue:A.headerInfo.zMax,minValue:A.headerInfo.zMin,noDataValue:A.noDataValue}}},constructConstantSurface:function(A,e){var t=A.headerInfo.zMax,i=A.headerInfo.zMin,r=A.headerInfo.maxValues,I=A.headerInfo.numDims,g=A.headerInfo.height*A.headerInfo.width,n=0,a=0,o=0,B=A.pixels.resultMask,C=A.pixels.resultPixels;if(B)if(I>1){if(e)for(n=0;n<I;n++)for(o=n*g,t=r[n],a=0;a<g;a++)B[a]&&(C[o+a]=t);else for(a=0;a<g;a++)if(B[a])for(o=a*I,n=0;n<I;n++)C[o+I]=r[n]}else for(a=0;a<g;a++)B[a]&&(C[a]=t);else if(I>1&&i!==t)if(e)for(n=0;n<I;n++)for(o=n*g,t=r[n],a=0;a<g;a++)C[o+a]=t;else for(a=0;a<g;a++)for(o=a*I,n=0;n<I;n++)C[o+n]=r[n];else for(a=0;a<g*I;a++)C[a]=t},getDataTypeArray:function(A){var e;switch(A){case 0:e=Int8Array;break;case 1:e=Uint8Array;break;case 2:e=Int16Array;break;case 3:e=Uint16Array;break;case 4:e=Int32Array;break;case 5:e=Uint32Array;break;case 6:default:e=Float32Array;break;case 7:e=Float64Array}return e},getPixelType:function(A){var e;switch(A){case 0:e="S8";break;case 1:e="U8";break;case 2:e="S16";break;case 3:e="U16";break;case 4:e="S32";break;case 5:e="U32";break;case 6:default:e="F32";break;case 7:e="F64"}return e},isValidPixelValue:function(A,e){if(null==e)return!1;var t;switch(A){case 0:t=e>=-128&&e<=127;break;case 1:t=e>=0&&e<=255;break;case 2:t=e>=-32768&&e<=32767;break;case 3:t=e>=0&&e<=65536;break;case 4:t=e>=-2147483648&&e<=2147483647;break;case 5:t=e>=0&&e<=4294967296;break;case 6:t=e>=-34027999387901484e22&&e<=34027999387901484e22;break;case 7:t=e>=-17976931348623157e292&&e<=17976931348623157e292;break;default:t=!1}return t},getDataTypeSize:function(A){var e=0;switch(A){case 0:case 1:e=1;break;case 2:case 3:e=2;break;case 4:case 5:case 6:e=4;break;case 7:e=8;break;default:e=A}return e},getDataTypeUsed:function(A,e){var t=A;switch(A){case 2:case 4:t=A-e;break;case 3:case 5:t=A-2*e;break;case 6:t=0===e?A:1===e?2:1;break;case 7:t=0===e?A:A-2*e+1;break;default:t=A}return t},getOnePixel:function(A,e,t,i){var r=0;switch(t){case 0:r=i.getInt8(e);break;case 1:r=i.getUint8(e);break;case 2:r=i.getInt16(e,!0);break;case 3:r=i.getUint16(e,!0);break;case 4:r=i.getInt32(e,!0);break;case 5:r=i.getUInt32(e,!0);break;case 6:r=i.getFloat32(e,!0);break;case 7:r=i.getFloat64(e,!0);break;default:throw"the decoder does not understand this pixel type"}return r},swapDimensionOrder:function(A,e,t,i,r){var I=0,g=0,n=0,a=0,o=A;if(t>1)if(o=new i(e*t),r)for(I=0;I<e;I++)for(a=I,n=0;n<t;n++,a+=e)o[a]=A[g++];else for(I=0;I<e;I++)for(a=I,n=0;n<t;n++,a+=e)o[g++]=A[a];return o}},E=function(A,e,t){this.val=A,this.left=e,this.right=t},{decode:function(A,e){var t=(e=e||{}).noDataValue,i=0,r={};r.ptr=e.inputOffset||0,r.pixels={},Q.readHeaderInfo(A,r);var I=r.headerInfo,g=I.fileVersion,n=Q.getDataTypeArray(I.imageType);if(g>5)throw"unsupported lerc version 2."+g;Q.readMask(A,r),I.numValidPixel===I.width*I.height||r.pixels.resultMask||(r.pixels.resultMask=e.maskData);var a=I.width*I.height;r.pixels.resultPixels=new n(a*I.numDims),r.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var o,B=!e.returnPixelInterleavedDims;if(0!==I.numValidPixel)if(I.zMax===I.zMin)Q.constructConstantSurface(r,B);else if(g>=4&&Q.checkMinMaxRanges(A,r))Q.constructConstantSurface(r,B);else{var C=new DataView(A,r.ptr,2),E=C.getUint8(0);if(r.ptr++,E)Q.readDataOneSweep(A,r,n,B);else if(g>1&&I.imageType<=1&&Math.abs(I.maxZError-.5)<1e-5){var s=C.getUint8(1);if(r.ptr++,r.encodeMode=s,s>2||g<4&&s>1)throw"Invalid Huffman flag "+s;s?Q.readHuffman(A,r,n,B):Q.readTiles(A,r,n,B)}else Q.readTiles(A,r,n,B)}r.eofOffset=r.ptr,e.inputOffset?(o=r.headerInfo.blobSize+e.inputOffset-r.ptr,Math.abs(o)>=1&&(r.eofOffset=e.inputOffset+r.headerInfo.blobSize)):(o=r.headerInfo.blobSize-r.ptr,Math.abs(o)>=1&&(r.eofOffset=r.headerInfo.blobSize));var f={width:I.width,height:I.height,pixelData:r.pixels.resultPixels,minValue:I.zMin,maxValue:I.zMax,validPixelCount:I.numValidPixel,dimCount:I.numDims,dimStats:{minValues:I.minValues,maxValues:I.maxValues},maskData:r.pixels.resultMask};if(r.pixels.resultMask&&Q.isValidPixelValue(I.imageType,t)){var c=r.pixels.resultMask;for(i=0;i<a;i++)c[i]||(f.pixelData[i]=t);f.noDataValue=t}return r.noDataValue=t,e.returnFileInfo&&(f.fileInfo=Q.formatFileInfo(r)),f},getBandCount:function(A){for(var e=0,t=0,i={ptr:0,pixels:{}};t<A.byteLength-58;)Q.readHeaderInfo(A,i),t+=i.headerInfo.blobSize,e++,i.ptr=t;return e}}),l=(s=new ArrayBuffer(4),f=new Uint8Array(s),new Uint32Array(s)[0]=1,1===f[0]),u={decode:function(A,e){if(!l)throw"Big endian system is not supported.";var t,i,r=(e=e||{}).inputOffset||0,I=new Uint8Array(A,r,10),g=String.fromCharCode.apply(null,I);if("CntZImage"===g.trim())t=c,i=1;else{if("Lerc2"!==g.substring(0,5))throw"Unexpected file identifier string: "+g;t=h,i=2}for(var n,a,o,B,C,Q,E=0,s=A.byteLength-10,f=[],u={width:0,height:0,pixels:[],pixelType:e.pixelType,mask:null,statistics:[]},w=0;r<s;){var d=t.decode(A,{inputOffset:r,encodedMaskData:n,maskData:o,returnMask:0===E,returnEncodedMask:0===E,returnFileInfo:!0,returnPixelInterleavedDims:e.returnPixelInterleavedDims,pixelType:e.pixelType||null,noDataValue:e.noDataValue||null});r=d.fileInfo.eofOffset,o=d.maskData,0===E&&(n=d.encodedMaskData,u.width=d.width,u.height=d.height,u.dimCount=d.dimCount||1,u.pixelType=d.pixelType||d.fileInfo.pixelType,u.mask=o),i>1&&(o&&f.push(o),d.fileInfo.mask&&d.fileInfo.mask.numBytes>0&&w++),E++,u.pixels.push(d.pixelData),u.statistics.push({minValue:d.minValue,maxValue:d.maxValue,noDataValue:d.noDataValue,dimStats:d.dimStats})}if(i>1&&w>1){for(Q=u.width*u.height,u.bandMasks=f,(o=new Uint8Array(Q)).set(f[0]),B=1;B<f.length;B++)for(a=f[B],C=0;C<Q;C++)o[C]=o[C]&a[C];u.maskData=o}return u}};TA.exports?TA.exports=u:this.Lerc=u}();var ZA,jA,WA,zA=XA.exports,$A={env:{emscripten_notify_memory_growth:function(A){WA=new Uint8Array(jA.exports.memory.buffer)}}},Ae=function(){function A(){B(this,A)}return Q(A,[{key:"init",value:function(){return ZA||(ZA="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+ee).then((function(A){return A.arrayBuffer()})).then((function(A){return WebAssembly.instantiate(A,$A)})).then(this._init):WebAssembly.instantiate(Buffer.from(ee,"base64"),$A).then(this._init))}},{key:"_init",value:function(A){jA=A.instance,$A.env.emscripten_notify_memory_growth(0)}},{key:"decode",value:function(A){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!jA)throw new Error("ZSTDDecoder: Await .init() before decoding.");var t=A.byteLength,i=jA.exports.malloc(t);WA.set(A,i),e=e||Number(jA.exports.ZSTD_findDecompressedSize(i,t));var r=jA.exports.malloc(e),I=jA.exports.ZSTD_decompress(r,e,i,t),g=WA.slice(r,r+I);return jA.exports.free(i),jA.exports.free(r),g}}]),A}(),ee="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",te={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},ie={};for(var re in te)te.hasOwnProperty(re)&&(ie[te[re]]=parseInt(re,10));ie.BitsPerSample,ie.ExtraSamples,ie.SampleFormat,ie.StripByteCounts,ie.StripOffsets,ie.StripRowCounts,ie.TileByteCounts,ie.TileOffsets,ie.SubIFDs;var Ie={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},ge={};for(var ne in Ie)Ie.hasOwnProperty(ne)&&(ge[Ie[ne]]=parseInt(ne,10));var ae=1,oe=0,Be=1,Ce=2,Qe={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},Ee={};for(var se in Qe)Qe.hasOwnProperty(se)&&(Ee[Qe[se]]=parseInt(se,10));function fe(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var ce=new Ae,he=function(A){s(t,w);var e=fe(t);function t(A){var i;return B(this,t),(i=e.call(this)).planarConfiguration=void 0!==A.PlanarConfiguration?A.PlanarConfiguration:1,i.samplesPerPixel=void 0!==A.SamplesPerPixel?A.SamplesPerPixel:1,i.addCompression=A.LercParameters[ae],i}return Q(t,[{key:"decodeBlock",value:function(A){switch(this.addCompression){case oe:break;case Be:A=YA(new Uint8Array(A)).buffer;break;case Ce:A=ce.decode(new Uint8Array(A)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return zA.decode(A,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}]),t}(),le=Object.freeze({__proto__:null,zstd:ce,default:he});function ue(A){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(A){return!1}}();return function(){var t,i=c(A);if(e){var r=c(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return f(this,t)}}var we=function(A){s(I,w);var t,i=ue(I);function I(){var A;if(B(this,I),A=i.call(this),"undefined"==typeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"==typeof document&&"undefined"==typeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return A}return Q(I,[{key:"decode",value:(t=e(r.mark((function A(e,t){var i,I,g,n;return r.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return i=new Blob([t]),A.next=3,createImageBitmap(i);case 3:return I=A.sent,"undefined"!=typeof document?((g=document.createElement("canvas")).width=I.width,g.height=I.height):g=new OffscreenCanvas(I.width,I.height),(n=g.getContext("2d")).drawImage(I,0,0),A.abrupt("return",n.getImageData(0,0,I.width,I.height).data.buffer);case 8:case"end":return A.stop()}}),A)}))),function(A,e){return t.apply(this,arguments)})}]),I}(),de=Object.freeze({__proto__:null,default:we});';return new mL(typeof Buffer<"u"?"data:application/javascript;base64,"+Buffer.from(i,"binary").toString("base64"):URL.createObjectURL(new Blob([i],{type:"application/javascript"})))}const yL=Object.freeze(Object.defineProperty({__proto__:null,create:EL},Symbol.toStringTag,{value:"Module"}));Ln.blendLayers=oD,Ln.style=nD,Ln.windyLayer=RM,Object.defineProperty(Ln,Symbol.toStringTag,{value:"Module"})});
>>>>>>> Stashed changes
