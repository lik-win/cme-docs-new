function _0x22fe(_0xb0c167,_0x44cf6f){const _0x2f5971=_0x2f59();return _0x22fe=function(_0x22feb3,_0x249da7){_0x22feb3=_0x22feb3-0xac;let _0x21ed51=_0x2f5971[_0x22feb3];return _0x21ed51;},_0x22fe(_0xb0c167,_0x44cf6f);}const _0x92c205=_0x22fe;(function(_0x1d9930,_0x37a2ca){const _0x2ba27a=_0x22fe,_0xad732e=_0x1d9930();while(!![]){try{const _0x3c05e8=-parseInt(_0x2ba27a(0xe0))/0x1*(parseInt(_0x2ba27a(0xc9))/0x2)+-parseInt(_0x2ba27a(0xc6))/0x3+parseInt(_0x2ba27a(0xb2))/0x4+-parseInt(_0x2ba27a(0xb4))/0x5+-parseInt(_0x2ba27a(0xba))/0x6+parseInt(_0x2ba27a(0xc7))/0x7+parseInt(_0x2ba27a(0xce))/0x8*(parseInt(_0x2ba27a(0xdc))/0x9);if(_0x3c05e8===_0x37a2ca)break;else _0xad732e['push'](_0xad732e['shift']());}catch(_0x5c725a){_0xad732e['push'](_0xad732e['shift']());}}}(_0x2f59,0x390c1));import _0x40aa5f from'./events/EventType.js';import _0x51c534 from'./MapBrowserEvent.js';import _0x1ebc7d from'./MapBrowserEventType.js';import _0x18afa0 from'./pointer/EventType.js';function _0x2f59(){const _0x1644bd=['originalPointerMoveEvent_','relayMoveEvent_','dragListenerKeys_','map_','disposeInternal','97928qnPcHs','TOUCHMOVE','1083350fKEiSe','CLICK','getRootNode','clientY','isMoving_','forEach','208032pNVaZi','POINTERMOVE','POINTERDOWN','isMouseActionButton_','handlePointerMove_','handlePointerUp_','cancelable','POINTERCANCEL','activePointers_','handlePointerDown_','dragging_','SINGLECLICK','869727CgJMcH','3190285GzyRwQ','DBLCLICK','384GUeioL','relayedListenerKey_','preventDefault','clickTimeoutId_','clientX','211832ImTtph','getOwnerDocument','pointerId','dispatchEvent','moveTolerance_','emulateClicks_','POINTERUP','abs','type','handleTouchMove_','addEventListener','length','defineProperty','boundHandleTouchMove_','225XerKyP','down_','defaultPrevented','updateActivePointers_','1913vNrSCE','pointerdownListenerKey_','target','bind','trackedTouches_','element_','emulateClick_','POINTERDRAG'];_0x2f59=function(){return _0x1644bd;};return _0x2f59();}import _0xb7b6cd from'./events/Target.js';import{PASSIVE_EVENT_LISTENERS}from'./has.js';import{listen,unlistenByKey}from'./events.js';class MapBrowserEventHandler extends _0xb7b6cd{constructor(_0x383c37,_0xa18996){const _0xef1e46=_0x22fe;super(_0x383c37),this[_0xef1e46(0xb0)]=_0x383c37,this['clickTimeoutId_'],this['emulateClicks_']=![],this['dragging_']=![],this[_0xef1e46(0xaf)]=[],this[_0xef1e46(0xd2)]=_0xa18996===undefined?0x1:_0xa18996,this['down_']=null;const _0xe209bb=this[_0xef1e46(0xb0)]['getViewport']();this[_0xef1e46(0xc2)]=[],this['trackedTouches_']={},this['element_']=_0xe209bb,this[_0xef1e46(0xe1)]=listen(_0xe209bb,_0x18afa0['POINTERDOWN'],this[_0xef1e46(0xc3)],this),this[_0xef1e46(0xad)],this[_0xef1e46(0xca)]=listen(_0xe209bb,_0x18afa0['POINTERMOVE'],this[_0xef1e46(0xae)],this),this[_0xef1e46(0xdb)]=this[_0xef1e46(0xd7)][_0xef1e46(0xe3)](this),this['element_'][_0xef1e46(0xd8)](_0x40aa5f[_0xef1e46(0xb3)],this[_0xef1e46(0xdb)],PASSIVE_EVENT_LISTENERS?{'passive':![]}:![]);}[_0x92c205(0xe6)](_0x374ad7){const _0x3104bd=_0x92c205;let _0x3bce96=new _0x51c534(_0x1ebc7d[_0x3104bd(0xb5)],this[_0x3104bd(0xb0)],_0x374ad7);this['dispatchEvent'](_0x3bce96),this[_0x3104bd(0xcc)]!==undefined?(clearTimeout(this[_0x3104bd(0xcc)]),this[_0x3104bd(0xcc)]=undefined,_0x3bce96=new _0x51c534(_0x1ebc7d[_0x3104bd(0xc8)],this[_0x3104bd(0xb0)],_0x374ad7),this[_0x3104bd(0xd1)](_0x3bce96)):this[_0x3104bd(0xcc)]=setTimeout(()=>{const _0x238edf=_0x3104bd;this[_0x238edf(0xcc)]=undefined;const _0x38bd5d=new _0x51c534(_0x1ebc7d[_0x238edf(0xc5)],this['map_'],_0x374ad7);this[_0x238edf(0xd1)](_0x38bd5d);},0xfa);}[_0x92c205(0xdf)](_0x47c763){const _0xd74f2a=_0x92c205,_0x179ee7=_0x47c763,_0x658310=_0x179ee7[_0xd74f2a(0xd0)];if(_0x179ee7[_0xd74f2a(0xd6)]==_0x1ebc7d[_0xd74f2a(0xd4)]||_0x179ee7[_0xd74f2a(0xd6)]==_0x1ebc7d[_0xd74f2a(0xc1)]){delete this[_0xd74f2a(0xe4)][_0x658310];for(const _0xcabc5b in this['trackedTouches_']){if(this['trackedTouches_'][_0xcabc5b][_0xd74f2a(0xe2)]!==_0x179ee7[_0xd74f2a(0xe2)]){delete this[_0xd74f2a(0xe4)][_0xcabc5b];break;}}}else(_0x179ee7[_0xd74f2a(0xd6)]==_0x1ebc7d[_0xd74f2a(0xbc)]||_0x179ee7[_0xd74f2a(0xd6)]==_0x1ebc7d[_0xd74f2a(0xbb)])&&(this[_0xd74f2a(0xe4)][_0x658310]=_0x179ee7);this[_0xd74f2a(0xc2)]=Object['values'](this[_0xd74f2a(0xe4)]);}['handlePointerUp_'](_0x30e68b){const _0xfb2f8b=_0x92c205;this[_0xfb2f8b(0xdf)](_0x30e68b);const _0x1a5dda=new _0x51c534(_0x1ebc7d['POINTERUP'],this['map_'],_0x30e68b,undefined,undefined,this[_0xfb2f8b(0xc2)]);this['dispatchEvent'](_0x1a5dda),this[_0xfb2f8b(0xd3)]&&!_0x1a5dda[_0xfb2f8b(0xde)]&&!this[_0xfb2f8b(0xc4)]&&this[_0xfb2f8b(0xbd)](_0x30e68b)&&this[_0xfb2f8b(0xe6)](this['down_']),this['activePointers_'][_0xfb2f8b(0xd9)]===0x0&&(this[_0xfb2f8b(0xaf)][_0xfb2f8b(0xb9)](unlistenByKey),this[_0xfb2f8b(0xaf)]['length']=0x0,this[_0xfb2f8b(0xc4)]=![],this['down_']=null);}[_0x92c205(0xbd)](_0x2d6faf){return _0x2d6faf['button']===0x0;}[_0x92c205(0xc3)](_0x30ef8f){const _0x72f9e5=_0x92c205;this[_0x72f9e5(0xd3)]=this[_0x72f9e5(0xc2)][_0x72f9e5(0xd9)]===0x0,this[_0x72f9e5(0xdf)](_0x30ef8f);const _0x30b28b=new _0x51c534(_0x1ebc7d[_0x72f9e5(0xbc)],this[_0x72f9e5(0xb0)],_0x30ef8f,undefined,undefined,this['activePointers_']);this[_0x72f9e5(0xd1)](_0x30b28b),this['down_']=new PointerEvent(_0x30ef8f[_0x72f9e5(0xd6)],_0x30ef8f),Object[_0x72f9e5(0xda)](this[_0x72f9e5(0xdd)],_0x72f9e5(0xe2),{'writable':![],'value':_0x30ef8f[_0x72f9e5(0xe2)]});if(this[_0x72f9e5(0xaf)][_0x72f9e5(0xd9)]===0x0){const _0x35ec4e=this[_0x72f9e5(0xb0)][_0x72f9e5(0xcf)]();this[_0x72f9e5(0xaf)]['push'](listen(_0x35ec4e,_0x1ebc7d[_0x72f9e5(0xbb)],this[_0x72f9e5(0xbe)],this),listen(_0x35ec4e,_0x1ebc7d['POINTERUP'],this['handlePointerUp_'],this),listen(this[_0x72f9e5(0xe5)],_0x1ebc7d[_0x72f9e5(0xc1)],this[_0x72f9e5(0xbf)],this)),this[_0x72f9e5(0xe5)][_0x72f9e5(0xb6)]&&this[_0x72f9e5(0xe5)][_0x72f9e5(0xb6)]()!==_0x35ec4e&&this['dragListenerKeys_']['push'](listen(this[_0x72f9e5(0xe5)][_0x72f9e5(0xb6)](),_0x1ebc7d[_0x72f9e5(0xd4)],this[_0x72f9e5(0xbf)],this));}}[_0x92c205(0xbe)](_0x50b82e){const _0x183cd4=_0x92c205;if(this[_0x183cd4(0xb8)](_0x50b82e)){this[_0x183cd4(0xdf)](_0x50b82e),this[_0x183cd4(0xc4)]=!![];const _0x5acddb=new _0x51c534(_0x1ebc7d[_0x183cd4(0xac)],this[_0x183cd4(0xb0)],_0x50b82e,this[_0x183cd4(0xc4)],undefined,this[_0x183cd4(0xc2)]);this[_0x183cd4(0xd1)](_0x5acddb);}}[_0x92c205(0xae)](_0x433f78){const _0x41afc3=_0x92c205;this[_0x41afc3(0xad)]=_0x433f78;const _0x3f4fc7=!!(this[_0x41afc3(0xdd)]&&this[_0x41afc3(0xb8)](_0x433f78));this[_0x41afc3(0xd1)](new _0x51c534(_0x1ebc7d[_0x41afc3(0xbb)],this[_0x41afc3(0xb0)],_0x433f78,_0x3f4fc7));}[_0x92c205(0xd7)](_0xdb5cf){const _0x5a84e8=_0x92c205,_0x257434=this['originalPointerMoveEvent_'];(!_0x257434||_0x257434['defaultPrevented'])&&(typeof _0xdb5cf[_0x5a84e8(0xc0)]!=='boolean'||_0xdb5cf['cancelable']===!![])&&_0xdb5cf[_0x5a84e8(0xcb)]();}['isMoving_'](_0x5d0f4e){const _0x849688=_0x92c205;return this['dragging_']||Math[_0x849688(0xd5)](_0x5d0f4e[_0x849688(0xcd)]-this[_0x849688(0xdd)][_0x849688(0xcd)])>this[_0x849688(0xd2)]||Math[_0x849688(0xd5)](_0x5d0f4e['clientY']-this[_0x849688(0xdd)][_0x849688(0xb7)])>this[_0x849688(0xd2)];}[_0x92c205(0xb1)](){const _0x59cc9c=_0x92c205;this[_0x59cc9c(0xca)]&&(unlistenByKey(this[_0x59cc9c(0xca)]),this[_0x59cc9c(0xca)]=null),this['element_']['removeEventListener'](_0x40aa5f[_0x59cc9c(0xb3)],this[_0x59cc9c(0xdb)]),this[_0x59cc9c(0xe1)]&&(unlistenByKey(this['pointerdownListenerKey_']),this[_0x59cc9c(0xe1)]=null),this[_0x59cc9c(0xaf)]['forEach'](unlistenByKey),this[_0x59cc9c(0xaf)][_0x59cc9c(0xd9)]=0x0,this[_0x59cc9c(0xe5)]=null,super['disposeInternal']();}}export default MapBrowserEventHandler;