const _0x411a54=_0xc603;function _0xc603(_0x31c16c,_0xea0eec){const _0x180af4=_0x180a();return _0xc603=function(_0xc6034e,_0x54fb92){_0xc6034e=_0xc6034e-0xaf;let _0x574d15=_0x180af4[_0xc6034e];return _0x574d15;},_0xc603(_0x31c16c,_0xea0eec);}(function(_0x5b3a7d,_0xf09460){const _0x1c7c79=_0xc603,_0x15b692=_0x5b3a7d();while(!![]){try{const _0x3fd5a4=parseInt(_0x1c7c79(0xaf))/0x1*(-parseInt(_0x1c7c79(0xb0))/0x2)+-parseInt(_0x1c7c79(0xcf))/0x3*(parseInt(_0x1c7c79(0xca))/0x4)+-parseInt(_0x1c7c79(0xb3))/0x5*(parseInt(_0x1c7c79(0xbb))/0x6)+-parseInt(_0x1c7c79(0xbe))/0x7+parseInt(_0x1c7c79(0xb5))/0x8*(parseInt(_0x1c7c79(0xd5))/0x9)+parseInt(_0x1c7c79(0xc8))/0xa*(-parseInt(_0x1c7c79(0xb2))/0xb)+parseInt(_0x1c7c79(0xc5))/0xc*(parseInt(_0x1c7c79(0xb8))/0xd);if(_0x3fd5a4===_0xf09460)break;else _0x15b692['push'](_0x15b692['shift']());}catch(_0x7e6409){_0x15b692['push'](_0x15b692['shift']());}}}(_0x180a,0x8e212));import{ERROR_THRESHOLD}from'./common.js';import _0x2a1048 from'../events/EventType.js';import _0x20c6b9 from'../ImageState.js';import _0x4ffb62 from'../Image.js';function _0x180a(){const _0x236600=['sourceListenerKey_','sourceImage_','508130uiuloj','EMPTY','slice','targetExtent_','load','ERROR','triangulation_','32746704ofNBgL','calculateSourceExtent','disposeInternal','2627210FTIxkr','maxSourceExtent_','4zErKij','reproject_','canvas_','getExtent','canWrapX','2548029tkppbq','targetResolution_','unlistenSource_','getProjection','LOADING','CHANGE','22284pDRvMe','getPixelRatio','LOADED','getResolution','48770SKItPh','32AKnSjc','targetProj_','11kgDjQV','297435VbWBDF','state','2488HiiLVy','IDLE','getImage','13ixvedG','getState','changed','96fHFmIX'];_0x180a=function(){return _0x236600;};return _0x180a();}import _0x5a8bb2 from'./Triangulation.js';import{calculateSourceResolution,render as _0xa5be4}from'../reproj.js';import{fromResolutionLike}from'../resolution.js';import{getCenter,getHeight,getIntersection,getWidth,isEmpty}from'../extent.js';import{listen,unlistenByKey}from'../events.js';class ReprojImage extends _0x4ffb62{constructor(_0x650157,_0x2a3976,_0x287c12,_0x472d2f,_0x359d1c,_0x4d64b4,_0x4c860a){const _0x335c5a=_0xc603;let _0x4cd1e3=_0x650157[_0x335c5a(0xcd)]();_0x4cd1e3&&_0x650157[_0x335c5a(0xce)]()&&(_0x4cd1e3=_0x4cd1e3[_0x335c5a(0xc0)](),_0x4cd1e3[0x0]=-Infinity,_0x4cd1e3[0x2]=Infinity);let _0x12eb62=_0x2a3976[_0x335c5a(0xcd)]();_0x12eb62&&_0x2a3976[_0x335c5a(0xce)]()&&(_0x12eb62=_0x12eb62[_0x335c5a(0xc0)](),_0x12eb62[0x0]=-Infinity,_0x12eb62[0x2]=Infinity);const _0x25b46b=_0x12eb62?getIntersection(_0x287c12,_0x12eb62):_0x287c12,_0x236c19=getCenter(_0x25b46b),_0xeca809=calculateSourceResolution(_0x650157,_0x2a3976,_0x236c19,_0x472d2f),_0x226ed4=ERROR_THRESHOLD,_0x26d451=new _0x5a8bb2(_0x650157,_0x2a3976,_0x25b46b,_0x4cd1e3,_0xeca809*_0x226ed4,_0x472d2f),_0x5ca75d=_0x26d451[_0x335c5a(0xc6)](),_0x332c43=isEmpty(_0x5ca75d)?null:_0x4d64b4(_0x5ca75d,_0xeca809,_0x359d1c),_0x5f262e=_0x332c43?_0x20c6b9[_0x335c5a(0xb6)]:_0x20c6b9[_0x335c5a(0xbf)],_0x3fa666=_0x332c43?_0x332c43[_0x335c5a(0xd6)]():0x1;super(_0x287c12,_0x472d2f,_0x3fa666,_0x5f262e),this[_0x335c5a(0xb1)]=_0x2a3976,this['maxSourceExtent_']=_0x4cd1e3,this[_0x335c5a(0xc4)]=_0x26d451,this[_0x335c5a(0xd0)]=_0x472d2f,this['targetExtent_']=_0x287c12,this[_0x335c5a(0xbd)]=_0x332c43,this['sourcePixelRatio_']=_0x3fa666,this['interpolate_']=_0x4c860a,this['canvas_']=null,this[_0x335c5a(0xbc)]=null;}[_0x411a54(0xc7)](){const _0x22c652=_0x411a54;this[_0x22c652(0xb4)]==_0x20c6b9[_0x22c652(0xd3)]&&this['unlistenSource_'](),super[_0x22c652(0xc7)]();}[_0x411a54(0xb7)](){const _0x5a99cb=_0x411a54;return this[_0x5a99cb(0xcc)];}[_0x411a54(0xd2)](){return this['targetProj_'];}[_0x411a54(0xcb)](){const _0x34de16=_0x411a54,_0x389264=this[_0x34de16(0xbd)][_0x34de16(0xb9)]();if(_0x389264==_0x20c6b9['LOADED']){const _0x30a696=getWidth(this[_0x34de16(0xc1)])/this[_0x34de16(0xd0)],_0x2c6f2a=getHeight(this['targetExtent_'])/this[_0x34de16(0xd0)];this[_0x34de16(0xcc)]=_0xa5be4(_0x30a696,_0x2c6f2a,this['sourcePixelRatio_'],fromResolutionLike(this[_0x34de16(0xbd)][_0x34de16(0xd8)]()),this[_0x34de16(0xc9)],this['targetResolution_'],this['targetExtent_'],this['triangulation_'],[{'extent':this[_0x34de16(0xbd)][_0x34de16(0xcd)](),'image':this[_0x34de16(0xbd)][_0x34de16(0xb7)]()}],0x0,undefined,this['interpolate_'],!![]);}this[_0x34de16(0xb4)]=_0x389264,this[_0x34de16(0xba)]();}[_0x411a54(0xc2)](){const _0x111a85=_0x411a54;if(this[_0x111a85(0xb4)]==_0x20c6b9[_0x111a85(0xb6)]){this[_0x111a85(0xb4)]=_0x20c6b9[_0x111a85(0xd3)],this[_0x111a85(0xba)]();const _0x4dae4c=this[_0x111a85(0xbd)][_0x111a85(0xb9)]();_0x4dae4c==_0x20c6b9[_0x111a85(0xd7)]||_0x4dae4c==_0x20c6b9[_0x111a85(0xc3)]?this['reproject_']():(this[_0x111a85(0xbc)]=listen(this[_0x111a85(0xbd)],_0x2a1048[_0x111a85(0xd4)],_0xa853ce=>{const _0x33ff14=_0x111a85,_0x880eee=this[_0x33ff14(0xbd)]['getState']();(_0x880eee==_0x20c6b9[_0x33ff14(0xd7)]||_0x880eee==_0x20c6b9[_0x33ff14(0xc3)])&&(this[_0x33ff14(0xd1)](),this[_0x33ff14(0xcb)]());}),this[_0x111a85(0xbd)]['load']());}}[_0x411a54(0xd1)](){const _0x51c28e=_0x411a54;unlistenByKey(this[_0x51c28e(0xbc)]),this[_0x51c28e(0xbc)]=null;}}export default ReprojImage;