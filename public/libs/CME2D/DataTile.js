const _0x5b7984=_0x38a4;(function(_0x39fe4b,_0x33789f){const _0x3fda6b=_0x38a4,_0x4c6b0e=_0x39fe4b();while(!![]){try{const _0x17ed0d=-parseInt(_0x3fda6b(0x135))/0x1*(parseInt(_0x3fda6b(0x13c))/0x2)+-parseInt(_0x3fda6b(0x155))/0x3*(parseInt(_0x3fda6b(0x13f))/0x4)+parseInt(_0x3fda6b(0x150))/0x5+parseInt(_0x3fda6b(0x14b))/0x6+-parseInt(_0x3fda6b(0x141))/0x7+-parseInt(_0x3fda6b(0x13a))/0x8*(parseInt(_0x3fda6b(0x131))/0x9)+-parseInt(_0x3fda6b(0x151))/0xa*(-parseInt(_0x3fda6b(0x140))/0xb);if(_0x17ed0d===_0x33789f)break;else _0x4c6b0e['push'](_0x4c6b0e['shift']());}catch(_0xf32d2b){_0x4c6b0e['push'](_0x4c6b0e['shift']());}}}(_0x1e86,0x31066));import _0x41cccc from'./Tile.js';function _0x1e86(){const _0x43de40=['tileCoord','size_','LOADED','340248vIZsUE','controller','canvas','loader','width','811525ggCcNa','430KmOGKR','changed','then','getError','14157dmocvZ','transition','3177PqMDAb','IDLE','LOADING','getSize','2tZTLme','disposeInternal','controller_','state','height','344YrUTAq','data_','12526bIVEQU','data','ERROR','252XICwRi','173228pbASos','2592583NEhezx','abort','getData','loader_','disposed','clearRect','error_'];_0x1e86=function(){return _0x43de40;};return _0x1e86();}import _0x41ffdd from'./TileState.js';function _0x38a4(_0x4b0700,_0x2ae9d6){const _0x1e86b5=_0x1e86();return _0x38a4=function(_0x38a4e1,_0x1373ce){_0x38a4e1=_0x38a4e1-0x130;let _0x40ef02=_0x1e86b5[_0x38a4e1];return _0x40ef02;},_0x38a4(_0x4b0700,_0x2ae9d6);}import{createCanvasContext2D}from'./dom.js';export function asImageLike(_0x239b59){return _0x239b59 instanceof Image||_0x239b59 instanceof HTMLCanvasElement||_0x239b59 instanceof HTMLVideoElement||_0x239b59 instanceof ImageBitmap?_0x239b59:null;}export function asArrayLike(_0x3b6a88){return _0x3b6a88 instanceof Uint8Array||_0x3b6a88 instanceof Uint8ClampedArray||_0x3b6a88 instanceof Float32Array||_0x3b6a88 instanceof DataView?_0x3b6a88:null;}export const disposedError=new Error(_0x5b7984(0x145));let sharedContext=null;export function toArray(_0x13f1de){const _0x41a7a1=_0x5b7984;!sharedContext&&(sharedContext=createCanvasContext2D(_0x13f1de[_0x41a7a1(0x14f)],_0x13f1de['height'],undefined,{'willReadFrequently':!![]}));const _0x1a64e8=sharedContext[_0x41a7a1(0x14d)],_0x4ffc11=_0x13f1de[_0x41a7a1(0x14f)];_0x1a64e8[_0x41a7a1(0x14f)]!==_0x4ffc11&&(_0x1a64e8[_0x41a7a1(0x14f)]=_0x4ffc11);const _0x5ac437=_0x13f1de[_0x41a7a1(0x139)];return _0x1a64e8[_0x41a7a1(0x139)]!==_0x5ac437&&(_0x1a64e8[_0x41a7a1(0x139)]=_0x5ac437),sharedContext[_0x41a7a1(0x146)](0x0,0x0,_0x4ffc11,_0x5ac437),sharedContext['drawImage'](_0x13f1de,0x0,0x0),sharedContext['getImageData'](0x0,0x0,_0x4ffc11,_0x5ac437)[_0x41a7a1(0x13d)];}const defaultSize=[0x100,0x100];class DataTile extends _0x41cccc{constructor(_0x42499b){const _0x1f84a6=_0x5b7984,_0x2b70ef=_0x41ffdd[_0x1f84a6(0x132)];super(_0x42499b[_0x1f84a6(0x148)],_0x2b70ef,{'transition':_0x42499b[_0x1f84a6(0x130)],'interpolate':_0x42499b['interpolate']}),this['loader_']=_0x42499b[_0x1f84a6(0x14e)],this['data_']=null,this[_0x1f84a6(0x147)]=null,this[_0x1f84a6(0x149)]=_0x42499b['size']||null,this['controller_']=_0x42499b[_0x1f84a6(0x14c)]||null;}[_0x5b7984(0x134)](){const _0xab6797=_0x5b7984;if(this[_0xab6797(0x149)])return this[_0xab6797(0x149)];const _0x484503=asImageLike(this['data_']);if(_0x484503)return[_0x484503[_0xab6797(0x14f)],_0x484503[_0xab6797(0x139)]];return defaultSize;}[_0x5b7984(0x143)](){const _0x4a3bd0=_0x5b7984;return this[_0x4a3bd0(0x13b)];}[_0x5b7984(0x154)](){const _0x16957a=_0x5b7984;return this[_0x16957a(0x147)];}['load'](){const _0x53901e=_0x5b7984;if(this[_0x53901e(0x138)]!==_0x41ffdd[_0x53901e(0x132)]&&this['state']!==_0x41ffdd[_0x53901e(0x13e)])return;this[_0x53901e(0x138)]=_0x41ffdd[_0x53901e(0x133)],this['changed']();const _0x45829f=this;this[_0x53901e(0x144)]()[_0x53901e(0x153)](function(_0x54eb91){const _0x4cf564=_0x53901e;_0x45829f[_0x4cf564(0x13b)]=_0x54eb91,_0x45829f[_0x4cf564(0x138)]=_0x41ffdd[_0x4cf564(0x14a)],_0x45829f[_0x4cf564(0x152)]();})['catch'](function(_0x571f31){const _0x2e48d7=_0x53901e;_0x45829f[_0x2e48d7(0x147)]=_0x571f31,_0x45829f[_0x2e48d7(0x138)]=_0x41ffdd[_0x2e48d7(0x13e)],_0x45829f[_0x2e48d7(0x152)]();});}[_0x5b7984(0x136)](){const _0x8814f7=_0x5b7984;this[_0x8814f7(0x137)]&&(this[_0x8814f7(0x137)][_0x8814f7(0x142)](disposedError),this['controller_']=null),super['disposeInternal']();}}export default DataTile;