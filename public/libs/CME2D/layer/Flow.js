const _0xe7518b=_0x1db6;(function(_0x523f45,_0x5f5ae8){const _0xe83663=_0x1db6,_0x5b46df=_0x523f45();while(!![]){try{const _0x5c73b9=parseInt(_0xe83663(0x18e))/0x1*(parseInt(_0xe83663(0x177))/0x2)+parseInt(_0xe83663(0x146))/0x3+-parseInt(_0xe83663(0x185))/0x4+-parseInt(_0xe83663(0x188))/0x5*(-parseInt(_0xe83663(0x194))/0x6)+-parseInt(_0xe83663(0x15c))/0x7+parseInt(_0xe83663(0x14c))/0x8*(parseInt(_0xe83663(0x1a7))/0x9)+-parseInt(_0xe83663(0x149))/0xa*(parseInt(_0xe83663(0x16a))/0xb);if(_0x5c73b9===_0x5f5ae8)break;else _0x5b46df['push'](_0x5b46df['shift']());}catch(_0x2acbef){_0x5b46df['push'](_0x5b46df['shift']());}}}(_0x31d2,0xbd105));import _0x4785f6 from'./BaseTile.js';function _0x1db6(_0x3caf26,_0x3d226f){const _0x31d2e1=_0x31d2();return _0x1db6=function(_0x1db640,_0x4ef1be){_0x1db640=_0x1db640-0x13f;let _0x5e2142=_0x31d2e1[_0x1db640];return _0x5e2142;},_0x1db6(_0x3caf26,_0x3d226f);}function _0x31d2(){const _0x51004b=[';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20','DROP_RATE_BUMP','clearCache',';\x0a\x20\x20\x20\x20uniform\x20vec2\x20',';\x0a\x20\x20uniform\x20vec2\x20','assign','color',';\x0a\x0a\x20\x20\x20\x20//\x20update\x20particle\x20position,\x20wrapping\x20around\x20the\x20edge\x0a\x20\x20\x20\x20particlePosition\x20=\x20fract(1.0\x20+\x20particlePosition\x20+\x20offset);\x0a\x0a\x20\x20\x20\x20//\x20a\x20random\x20seed\x20to\x20use\x20for\x20the\x20particle\x20drop\x0a\x20\x20\x20\x20vec2\x20seed\x20=\x20(particlePosition\x20+\x20','style_',';\x0a\x20\x20uniform\x20float\x20','6352738FsAQHe','particles','keys','TEXTURE','\x0a\x20\x20#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0a\x20\x20precision\x20highp\x20float;\x0a\x20\x20#else\x0a\x20\x20precision\x20mediump\x20float;\x0a\x20\x20#endif\x0a\x0a\x20\x20uniform\x20sampler2D\x20','Missing\x20\x27','TEXTURE_PIXEL_WIDTH','POSITION_TEXTURE',');\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(floor(255.0\x20*\x20color\x20*\x20','MAX_SPEED','.x\x20/\x20','\x20+\x20length(velocity)\x20*\x20',';\x0a\x0a\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20color\x20=\x20texture2D(\x0a\x20\x20\x20\x20\x20\x20','TEXTURE_ORIGIN_X','2118490LEeToi','createRenderer','\x20*\x20v_textureCoord[0],\x0a\x20\x20\x20\x20\x20\x20','.y,\x0a\x20\x20\x20\x20\x20\x20\x20\x20vx\x20*\x20','.x\x0a\x20\x20\x20\x20\x20\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20float\x20v_prop_speed\x20=\x20length(velocity);\x0a\x0a\x20\x20\x20\x20\x20\x20vec4\x20color;\x0a\x0a\x20\x20\x20\x20\x20\x20','speedFactor','DEPTH','.x\x0a\x20\x20\x20\x20);\x0a\x0a\x20\x20\x20\x20//\x20account\x20for\x20aspect\x20ratio\x20(square\x20particle\x20position\x20texture,\x20non-square\x20map)\x0a\x20\x20\x20\x20float\x20aspectRatio\x20=\x20','\x0a\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20);\x0a\x0a\x20\x20\x20\x20','hasRenderer',';\x0a\x0a\x20\x20varying\x20vec2\x20v_textureCoord;\x0a\x20\x20varying\x20vec2\x20v_mapCoord;\x0a\x0a\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20v_textureCoord\x20=\x20','),\x200,\x201);\x0a\x20\x20}\x0a','.y\x20-\x201.0,\x0a\x20\x20\x20\x20\x20\x200,\x0a\x20\x20\x20\x20\x20\x201\x0a\x20\x20\x20\x20);\x0a\x20\x20}\x0a','1868fZcqhQ','changed','style','TEXTURE_PIXEL_HEIGHT','variables',';\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(1.0\x20-\x202.0\x20*\x20','.y\x20+\x20vy\x20*\x20',';\x0a\x0a\x20\x20varying\x20vec2\x20','\x20*\x20','functions','\x20/\x20',';\x0a\x0a\x20\x20uniform\x20sampler2D\x20','DROP_RATE',',\x201.0);\x0a\x20\x20}\x0a','1419276ssIKOt',',\x20particlePosition);\x0a\x20\x20\x20\x20if\x20(velocityColor.a\x20==\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20vx\x20=\x202.0\x20*\x20velocityColor.r\x20-\x201.0;\x0a\x20\x20\x20\x20float\x20vy\x20=\x202.0\x20*\x20velocityColor.g\x20-\x201.0;\x0a\x0a\x20\x20\x20\x20//\x20normalized\x20veloicty\x20(magnitude\x200\x20-\x201)\x0a\x20\x20\x20\x20vec2\x20velocity\x20=\x20vec2(\x0a\x20\x20\x20\x20\x20\x20vx\x20*\x20','getSources','935285ssXdfC',');\x0a\x0a\x20\x20\x20\x20//\x20decode\x20particle\x20position\x20from\x20pixel\x20RGBA\x0a\x20\x20\x20\x20vec2\x20particlePosition\x20=\x20vec2(\x0a\x20\x20\x20\x20\x20\x20positionColor.r\x20/\x20255.0\x20+\x20positionColor.b,\x0a\x20\x20\x20\x20\x20\x20positionColor.g\x20/\x20255.0\x20+\x20positionColor.a\x0a\x20\x20\x20\x20);\x0a\x0a\x20\x20\x20\x20vec4\x20velocityColor\x20=\x20texture2D(','VELOCITY_TEXTURE','length','addChangeListener','\x0a\x0a\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20vec4\x20velocityColor\x20=\x20texture2D(','267dmESOm','handleSourceUpdate_','.x\x20-\x201.0,\x0a\x20\x20\x20\x20\x20\x202.0\x20*\x20','RENDER_EXTENT',';\x0a\x20\x20\x20\x20float\x20drop\x20=\x20step(1.0\x20-\x20dropRate,\x20rand(seed));\x0a\x0a\x20\x20\x20\x20vec2\x20randomPosition\x20=\x20vec2(rand(seed\x20+\x201.3),\x20rand(seed\x20+\x202.1));\x0a\x20\x20\x20\x20particlePosition\x20=\x20mix(particlePosition,\x20randomPosition,\x20drop);\x0a\x0a\x20\x20\x20\x20//\x20encode\x20the\x20new\x20particle\x20position\x20back\x20into\x20RGBA\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x0a\x20\x20\x20\x20\x20\x20fract(particlePosition\x20*\x20255.0),\x0a\x20\x20\x20\x20\x20\x20floor(particlePosition\x20*\x20255.0)\x20/\x20255.0\x0a\x20\x20\x20\x20);\x0a\x20\x20}\x0a',')\x20/\x20(2.0\x20*\x20','18EdSLBa','maxSpeed_',');\x0a\x0a\x20\x20\x20\x20\x20\x20float\x20vx\x20=\x20mix(-',';\x0a\x0a\x20\x20//\x20pseudo-random\x20generator\x0a\x20\x20const\x20vec3\x20randConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0a\x0a\x20\x20float\x20rand(const\x20vec2\x20co)\x20{\x0a\x20\x20\x20\x20float\x20t\x20=\x20dot(randConstants.xy,\x20co);\x0a\x20\x20\x20\x20return\x20fract(sin(t)\x20*\x20(randConstants.z\x20+\x20t));\x0a\x20\x20}\x0a\x0a\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20positionColor\x20=\x20texture2D(','\x20-\x20','\x0a\x20\x20\x20\x20#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0a\x20\x20\x20\x20precision\x20highp\x20float;\x0a\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20precision\x20mediump\x20float;\x0a\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20uniform\x20sampler2D\x20','SPEED_FACTOR',';\x0a\x0a\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20',';\x0a\x20\x20\x20\x20uniform\x20float\x20','RANDOM_SEED','join','\x0a\x20\x20#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0a\x20\x20precision\x20highp\x20float;\x0a\x20\x20#else\x0a\x20\x20precision\x20mediump\x20float;\x0a\x20\x20#endif\x0a\x0a\x20\x20uniform\x20vec4\x20','\x0a\x0a\x20\x20\x20\x20varying\x20vec2\x20',';\x0a\x20\x20uniform\x20sampler2D\x20','POSITION','\x20*\x20vec4(',')\x20*\x20','inFragmentShader','TEXTURE_RESOLUTION','11147337WoyzoY','TILE_TEXTURE_ARRAY','ROTATION','),\x0a\x20\x20\x20\x20\x20\x20\x20\x20floor(',',\x201.0\x20-\x20','[1];\x0a\x0a\x20\x20varying\x20vec2\x20v_textureCoord;\x0a\x20\x20varying\x20vec2\x20v_mapCoord;\x0a\x0a\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20if\x20(\x0a\x20\x20\x20\x20\x20\x20v_mapCoord[0]\x20<\x20','getCacheSize','speedFactor_','map','INDEX','PARTICLE_COUNT_SQRT','string','TEXTURE_COORD','\x20=\x20','3429468crRqhY',')\x20/\x20255.0);\x0a\x20\x20}\x0a','TEXTURE_ORIGIN_Y','60rcbbPv','dispose',',\x200,\x201);\x0a\x20\x20}\x0a','8otaIST','\x0a\x20\x20#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0a\x20\x20precision\x20highp\x20float;\x0a\x20\x20#else\x0a\x20\x20precision\x20mediump\x20float;\x0a\x20\x20#endif\x0a\x0a\x20\x20attribute\x20vec2\x20','VIEWPORT_SIZE_PX','.x\x20-\x20vy\x20*\x20','getRenderer',';\x0a\x0a\x20\x20\x20\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position,\x20to\x20avoid\x20degeneration\x0a\x20\x20\x20\x20float\x20dropRate\x20=\x20'];_0x31d2=function(){return _0x51004b;};return _0x31d2();}import _0x49c7e3,{A,U,V}from'../renderer/webgl/FlowLayer.js';import _0x5bf751 from'./Property.js';import{Attributes as _0x3282f2,Uniforms as _0x473d0a}from'../renderer/webgl/TileLayer.js';import{ColorType}from'../expr/expression.js';import{expressionToGlsl}from'../webgl/styleparser.js';import{getStringNumberEquivalent,newCompilationContext,uniformNameForVariable}from'../expr/gpu.js';const tileVertexShader='\x0a\x20\x20attribute\x20vec2\x20'+_0x3282f2[_0xe7518b(0x144)]+';\x0a\x20\x20uniform\x20mat4\x20'+_0x473d0a['TILE_TRANSFORM']+_0xe7518b(0x15b)+_0x473d0a[_0xe7518b(0x162)]+_0xe7518b(0x15b)+_0x473d0a[_0xe7518b(0x17a)]+';\x0a\x20\x20uniform\x20float\x20'+_0x473d0a[_0xe7518b(0x1a6)]+_0xe7518b(0x15b)+_0x473d0a[_0xe7518b(0x169)]+';\x0a\x20\x20uniform\x20float\x20'+_0x473d0a[_0xe7518b(0x148)]+_0xe7518b(0x15b)+_0x473d0a[_0xe7518b(0x170)]+_0xe7518b(0x174)+_0x3282f2[_0xe7518b(0x144)]+';\x0a\x20\x20\x20\x20v_mapCoord\x20=\x20vec2(\x0a\x20\x20\x20\x20\x20\x20'+_0x473d0a['TEXTURE_ORIGIN_X']+'\x20+\x20'+_0x473d0a[_0xe7518b(0x1a6)]+_0xe7518b(0x17f)+_0x473d0a['TEXTURE_PIXEL_WIDTH']+_0xe7518b(0x16c)+_0x473d0a['TEXTURE_ORIGIN_Y']+_0xe7518b(0x198)+_0x473d0a['TEXTURE_RESOLUTION']+'\x20*\x20'+_0x473d0a['TEXTURE_PIXEL_HEIGHT']+'\x20*\x20v_textureCoord[1]\x0a\x20\x20\x20\x20);\x0a\x20\x20\x20\x20gl_Position\x20=\x20'+_0x473d0a['TILE_TRANSFORM']+_0xe7518b(0x1a3)+_0x3282f2[_0xe7518b(0x144)]+',\x20'+_0x473d0a[_0xe7518b(0x170)]+_0xe7518b(0x184),tileFragmentShader=_0xe7518b(0x19f)+_0x473d0a['RENDER_EXTENT']+_0xe7518b(0x15b)+U[_0xe7518b(0x165)]+_0xe7518b(0x1a1)+_0x473d0a[_0xe7518b(0x1a8)]+_0xe7518b(0x1ac)+_0x473d0a[_0xe7518b(0x191)]+'[0]\x20||\x0a\x20\x20\x20\x20\x20\x20v_mapCoord[1]\x20<\x20'+_0x473d0a[_0xe7518b(0x191)]+'[1]\x20||\x0a\x20\x20\x20\x20\x20\x20v_mapCoord[0]\x20>\x20'+_0x473d0a['RENDER_EXTENT']+'[2]\x20||\x0a\x20\x20\x20\x20\x20\x20v_mapCoord[1]\x20>\x20'+_0x473d0a[_0xe7518b(0x191)]+'[3]\x0a\x20\x20\x20\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20vec4\x20velocity\x20=\x20texture2D('+_0x473d0a[_0xe7518b(0x1a8)]+'[0],\x20\x20v_textureCoord);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4((velocity.xy\x20+\x20'+U[_0xe7518b(0x165)]+_0xe7518b(0x193)+U[_0xe7518b(0x165)]+_0xe7518b(0x175),quadVertexShader=_0xe7518b(0x14d)+A[_0xe7518b(0x1a2)]+_0xe7518b(0x17e)+V['POSITION']+_0xe7518b(0x19b)+V[_0xe7518b(0x1a2)]+_0xe7518b(0x145)+A['POSITION']+_0xe7518b(0x17c)+A[_0xe7518b(0x1a2)]+_0xe7518b(0x14b),textureFragmentShader=_0xe7518b(0x160)+U[_0xe7518b(0x15f)]+_0xe7518b(0x15b)+U['OPACITY']+_0xe7518b(0x17e)+V[_0xe7518b(0x1a2)]+';\x0a\x0a\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20color\x20=\x20texture2D('+U[_0xe7518b(0x15f)]+_0xe7518b(0x1ab)+V[_0xe7518b(0x1a2)]+_0xe7518b(0x164)+U['OPACITY']+_0xe7518b(0x147),particlePositionFragmentShader='\x0a\x20\x20#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0a\x20\x20precision\x20highp\x20float;\x0a\x20\x20#else\x0a\x20\x20precision\x20mediump\x20float;\x0a\x20\x20#endif\x0a\x0a\x20\x20uniform\x20sampler2D\x20'+U[_0xe7518b(0x163)]+_0xe7518b(0x1a1)+U[_0xe7518b(0x18a)]+';\x0a\x20\x20uniform\x20float\x20'+U['RANDOM_SEED']+_0xe7518b(0x15b)+U[_0xe7518b(0x19a)]+_0xe7518b(0x15b)+U[_0xe7518b(0x183)]+';\x0a\x20\x20uniform\x20float\x20'+U[_0xe7518b(0x153)]+_0xe7518b(0x156)+U[_0xe7518b(0x1a9)]+';\x0a\x20\x20uniform\x20vec2\x20'+U[_0xe7518b(0x14e)]+_0xe7518b(0x17e)+V[_0xe7518b(0x1a2)]+_0xe7518b(0x197)+U[_0xe7518b(0x163)]+',\x20'+V[_0xe7518b(0x1a2)]+_0xe7518b(0x189)+U[_0xe7518b(0x18a)]+_0xe7518b(0x186)+U[_0xe7518b(0x1a9)]+_0xe7518b(0x14f)+U[_0xe7518b(0x1a9)]+'.y,\x0a\x20\x20\x20\x20\x20\x20vx\x20*\x20'+U[_0xe7518b(0x1a9)]+_0xe7518b(0x17d)+U[_0xe7518b(0x1a9)]+_0xe7518b(0x171)+U[_0xe7518b(0x14e)]+_0xe7518b(0x166)+U[_0xe7518b(0x14e)]+'.y;\x0a\x20\x20\x20\x20vec2\x20offset\x20=\x20vec2(velocity.x\x20/\x20aspectRatio,\x20velocity.y)\x20*\x20'+U[_0xe7518b(0x19a)]+_0xe7518b(0x159)+V[_0xe7518b(0x1a2)]+_0xe7518b(0x1a4)+U[_0xe7518b(0x19d)]+_0xe7518b(0x151)+U[_0xe7518b(0x183)]+_0xe7518b(0x167)+U[_0xe7518b(0x153)]+_0xe7518b(0x192),particleColorVertexShader='\x0a\x20\x20#ifdef\x20GL_FRAGMENT_PRECISION_HIGH\x0a\x20\x20precision\x20highp\x20float;\x0a\x20\x20#else\x0a\x20\x20precision\x20mediump\x20float;\x0a\x20\x20#endif\x0a\x0a\x20\x20attribute\x20float\x20'+A[_0xe7518b(0x141)]+_0xe7518b(0x182)+U[_0xe7518b(0x163)]+_0xe7518b(0x15b)+U[_0xe7518b(0x142)]+';\x0a\x0a\x20\x20varying\x20vec2\x20'+V[_0xe7518b(0x1a2)]+_0xe7518b(0x168)+U[_0xe7518b(0x163)]+',\x0a\x20\x20\x20\x20\x20\x20vec2(\x0a\x20\x20\x20\x20\x20\x20\x20\x20fract('+A['INDEX']+_0xe7518b(0x181)+U[_0xe7518b(0x142)]+_0xe7518b(0x1aa)+A[_0xe7518b(0x141)]+_0xe7518b(0x181)+U[_0xe7518b(0x142)]+')\x20/\x20'+U[_0xe7518b(0x142)]+_0xe7518b(0x172)+V[_0xe7518b(0x1a2)]+'\x20=\x20vec2(\x0a\x20\x20\x20\x20\x20\x20color.r\x20/\x20255.0\x20+\x20color.b,\x0a\x20\x20\x20\x20\x20\x20color.g\x20/\x20255.0\x20+\x20color.a\x0a\x20\x20\x20\x20);\x0a\x0a\x20\x20\x20\x20gl_PointSize\x20=\x201.0;\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(\x0a\x20\x20\x20\x20\x20\x202.0\x20*\x20'+V[_0xe7518b(0x1a2)]+_0xe7518b(0x190)+V['POSITION']+_0xe7518b(0x176);function parseStyle(_0x22f0a3){const _0x2d2e74=_0xe7518b,_0x1a800e=newCompilationContext();_0x1a800e[_0x2d2e74(0x1a5)]=!![];const _0x5b883f=[];if(_0x22f0a3[_0x2d2e74(0x158)]!==undefined){const _0x104189=expressionToGlsl(_0x1a800e,_0x22f0a3['color'],ColorType);_0x5b883f['push']('color\x20=\x20'+_0x104189+';');}const _0x36b6c9=Object['keys'](_0x1a800e['variables']);if(_0x36b6c9[_0x2d2e74(0x18b)]>0x1&&!_0x22f0a3[_0x2d2e74(0x17b)])throw new Error('Missing\x20variables\x20in\x20style\x20(expected\x20'+_0x1a800e[_0x2d2e74(0x17b)]+')');const _0x1a683e={};for(const _0x1b8ce6 of _0x36b6c9){if(!(_0x1b8ce6 in _0x22f0a3[_0x2d2e74(0x17b)]))throw new Error(_0x2d2e74(0x161)+_0x1b8ce6+'\x27\x20in\x20style\x20variables');const _0x18f8b1=uniformNameForVariable(_0x1b8ce6);_0x1a683e[_0x18f8b1]=function(){const _0xd99f75=_0x2d2e74;let _0x438b8e=_0x22f0a3[_0xd99f75(0x17b)][_0x1b8ce6];return typeof _0x438b8e===_0xd99f75(0x143)&&(_0x438b8e=getStringNumberEquivalent(_0x438b8e)),_0x438b8e!==undefined?_0x438b8e:-0x98967f;};}const _0x47c149=Object[_0x2d2e74(0x15e)](_0x1a683e)[_0x2d2e74(0x140)](function(_0x4e4e32){return'uniform\x20float\x20'+_0x4e4e32+';';}),_0x5017e4=Object[_0x2d2e74(0x15e)](_0x1a800e[_0x2d2e74(0x180)])[_0x2d2e74(0x140)](function(_0x138147){const _0x5cbaf1=_0x2d2e74;return _0x1a800e[_0x5cbaf1(0x180)][_0x138147];}),_0x4c4ed3=_0x2d2e74(0x199)+U[_0x2d2e74(0x18a)]+_0x2d2e74(0x19c)+U[_0x2d2e74(0x165)]+_0x2d2e74(0x155)+U[_0x2d2e74(0x1a9)]+';\x0a\x0a\x20\x20\x20\x20'+_0x47c149['join']('\x0a')+_0x2d2e74(0x1a0)+V[_0x2d2e74(0x1a2)]+_0x2d2e74(0x152)+_0x5017e4[_0x2d2e74(0x19e)]('\x0a')+_0x2d2e74(0x18d)+U[_0x2d2e74(0x18a)]+',\x20'+V[_0x2d2e74(0x1a2)]+_0x2d2e74(0x196)+U[_0x2d2e74(0x165)]+',\x20'+U[_0x2d2e74(0x165)]+',\x20velocityColor.r);\x0a\x20\x20\x20\x20\x20\x20float\x20vy\x20=\x20mix(-'+U[_0x2d2e74(0x165)]+',\x20'+U[_0x2d2e74(0x165)]+',\x20velocityColor.g);\x0a\x0a\x20\x20\x20\x20\x20\x20vec2\x20velocity\x20=\x20vec2(\x0a\x20\x20\x20\x20\x20\x20\x20\x20vx\x20*\x20'+U[_0x2d2e74(0x1a9)]+_0x2d2e74(0x14f)+U[_0x2d2e74(0x1a9)]+_0x2d2e74(0x16d)+U[_0x2d2e74(0x1a9)]+_0x2d2e74(0x17d)+U['ROTATION']+_0x2d2e74(0x16e)+_0x5b883f['join']('\x0a')+'\x0a\x0a\x20\x20\x20\x20\x20\x20if\x20(color.a\x20==\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20color;\x0a\x20\x20\x20\x20}\x0a\x20\x20';return{'tileVertexShader':tileVertexShader,'tileFragmentShader':tileFragmentShader,'particleColorVertexShader':particleColorVertexShader,'particleColorFragmentShader':_0x4c4ed3,'particlePositionVertexShader':quadVertexShader,'particlePositionFragmentShader':particlePositionFragmentShader,'textureVertexShader':quadVertexShader,'textureFragmentShader':textureFragmentShader};}const sources=[];class FlowLayer extends _0x4785f6{constructor(_0x235c78){const _0x2dad03=_0xe7518b,_0x7ce51d=Object[_0x2dad03(0x157)]({},_0x235c78);delete _0x7ce51d['maxSpeed'],delete _0x7ce51d[_0x2dad03(0x16f)],delete _0x7ce51d[_0x2dad03(0x15d)],super(_0x7ce51d),this[_0x2dad03(0x15a)]=_0x235c78[_0x2dad03(0x179)]||{};if(!(_0x235c78['maxSpeed']>0x0))throw new Error('maxSpeed\x20is\x20required');this['maxSpeed_']=_0x235c78['maxSpeed'],this[_0x2dad03(0x13f)]=_0x235c78[_0x2dad03(0x16f)],this['particles_']=_0x235c78[_0x2dad03(0x15d)],this['styleVariables_']=this[_0x2dad03(0x15a)][_0x2dad03(0x17b)]||{},this[_0x2dad03(0x18c)](_0x5bf751['SOURCE'],this[_0x2dad03(0x18f)]);}[_0xe7518b(0x18f)](){const _0x404580=_0xe7518b;this[_0x404580(0x173)]()&&this[_0x404580(0x150)]()[_0x404580(0x154)]();}['updateStyleVariables'](_0x46461d){const _0x2d6fe3=_0xe7518b;Object[_0x2d6fe3(0x157)](this['styleVariables_'],_0x46461d),this[_0x2d6fe3(0x178)]();}[_0xe7518b(0x187)](_0x3ee1fd,_0x29caf2){const _0x3347b2=this['getSource']();return sources[0x0]=_0x3347b2,sources;}[_0xe7518b(0x16b)](){const _0x138271=_0xe7518b,_0x5e31c2=parseStyle(this['style_']);return new _0x49c7e3(this,{..._0x5e31c2,'cacheSize':this[_0x138271(0x1ad)](),'maxSpeed':this[_0x138271(0x195)],'speedFactor':this['speedFactor_'],'particles':this['particles_']});}}FlowLayer['prototype'][_0xe7518b(0x14a)];export default FlowLayer;