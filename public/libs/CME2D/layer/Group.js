const _0x100dcb=_0x2756;(function(_0x483d6b,_0x4885ed){const _0x38eaf4=_0x2756,_0x3819dd=_0x483d6b();while(!![]){try{const _0x22b017=-parseInt(_0x38eaf4(0xb7))/0x1+parseInt(_0x38eaf4(0xa4))/0x2+parseInt(_0x38eaf4(0xae))/0x3*(-parseInt(_0x38eaf4(0xb5))/0x4)+parseInt(_0x38eaf4(0xaf))/0x5*(parseInt(_0x38eaf4(0xa6))/0x6)+-parseInt(_0x38eaf4(0x8a))/0x7+-parseInt(_0x38eaf4(0x93))/0x8*(-parseInt(_0x38eaf4(0x9c))/0x9)+parseInt(_0x38eaf4(0x8b))/0xa*(parseInt(_0x38eaf4(0x86))/0xb);if(_0x22b017===_0x4885ed)break;else _0x3819dd['push'](_0x3819dd['shift']());}catch(_0x2a6dcf){_0x3819dd['push'](_0x3819dd['shift']());}}}(_0xa1b3,0x5723f));function _0x2756(_0x39e073,_0x1b23e6){const _0xa1b3c=_0xa1b3();return _0x2756=function(_0x275653,_0x59f43b){_0x275653=_0x275653-0x86;let _0x339fb2=_0xa1b3c[_0x275653];return _0x339fb2;},_0x2756(_0x39e073,_0x1b23e6);}function _0xa1b3(){const _0x28eb0a=['isArray','573258TJjcWX','changed','12OKkbxI','min','dispatchEvent','extent','getLayersArray','push','get','handleLayersChanged_','888BypaVm','407350XVupza','length','zIndex','addChangeListener','removelayer','handleLayerChange_','304CrowJo','handleLayersAdd_','489764YNxhAB','registerLayerListeners_','setLayers','once','addlayer','getLayers','element','handleLayerGroupAdd_','3649613prCyKF','LAYERS','layer','layers','1591849sZwFTy','10NHjATP','forEach','CHANGE','listenerKeys_','minResolution','opacity','maxResolution','layersListenerKeys_','1260968FludYl','max','function','ready','visible','maxZoom','set','slice','getLayerStatesArray','18jlTnUp','getArray','handleLayersRemove_','minZoom','REMOVE','assign','Expected\x20`layers`\x20to\x20be\x20an\x20array\x20or\x20a\x20`Collection`'];_0xa1b3=function(){return _0x28eb0a;};return _0xa1b3();}import _0x4d705e from'./Base.js';import _0x38d6fd from'../Collection.js';import _0x151185 from'../CollectionEventType.js';import _0xc7dac5 from'../events/Event.js';import _0x48c1a7 from'../events/EventType.js';import _0x1b648a from'../ObjectEventType.js';import{assert}from'../asserts.js';import{clear}from'../obj.js';import{getIntersection}from'../extent.js';import{getUid}from'../util.js';import{listen,unlistenByKey}from'../events.js';export class GroupEvent extends _0xc7dac5{constructor(_0x476965,_0x19a109){const _0x2ad869=_0x2756;super(_0x476965),this[_0x2ad869(0x88)]=_0x19a109;}}const Property={'LAYERS':_0x100dcb(0x89)};class LayerGroup extends _0x4d705e{constructor(_0x21d661){const _0x5f373f=_0x100dcb;_0x21d661=_0x21d661||{};const _0x12ea49=Object[_0x5f373f(0xa1)]({},_0x21d661);delete _0x12ea49[_0x5f373f(0x89)];let _0x23ceab=_0x21d661[_0x5f373f(0x89)];super(_0x12ea49),this['on'],this[_0x5f373f(0xba)],this['un'],this[_0x5f373f(0x92)]=[],this[_0x5f373f(0x8e)]={},this[_0x5f373f(0xb2)](Property['LAYERS'],this[_0x5f373f(0xad)]),_0x23ceab?Array[_0x5f373f(0xa3)](_0x23ceab)?_0x23ceab=new _0x38d6fd(_0x23ceab[_0x5f373f(0x9a)](),{'unique':!![]}):assert(typeof _0x23ceab['getArray']===_0x5f373f(0x95),_0x5f373f(0xa2)):_0x23ceab=new _0x38d6fd(undefined,{'unique':!![]}),this[_0x5f373f(0xb9)](_0x23ceab);}[_0x100dcb(0xb4)](){const _0x5456dd=_0x100dcb;this[_0x5456dd(0xa5)]();}[_0x100dcb(0xad)](){const _0xa64fba=_0x100dcb;this[_0xa64fba(0x92)]['forEach'](unlistenByKey),this[_0xa64fba(0x92)]['length']=0x0;const _0x495aed=this['getLayers']();this['layersListenerKeys_'][_0xa64fba(0xab)](listen(_0x495aed,_0x151185['ADD'],this['handleLayersAdd_'],this),listen(_0x495aed,_0x151185[_0xa64fba(0xa0)],this[_0xa64fba(0x9e)],this));for(const _0x3c3e03 in this[_0xa64fba(0x8e)]){this['listenerKeys_'][_0x3c3e03][_0xa64fba(0x8c)](unlistenByKey);}clear(this[_0xa64fba(0x8e)]);const _0x1a2fb6=_0x495aed[_0xa64fba(0x9d)]();for(let _0x20b3c5=0x0,_0x584da5=_0x1a2fb6[_0xa64fba(0xb0)];_0x20b3c5<_0x584da5;_0x20b3c5++){const _0x2acea1=_0x1a2fb6[_0x20b3c5];this[_0xa64fba(0xb8)](_0x2acea1),this[_0xa64fba(0xa8)](new GroupEvent('addlayer',_0x2acea1));}this['changed']();}[_0x100dcb(0xb8)](_0x3681e4){const _0x5981b7=_0x100dcb,_0x30150a=[listen(_0x3681e4,_0x1b648a['PROPERTYCHANGE'],this['handleLayerChange_'],this),listen(_0x3681e4,_0x48c1a7[_0x5981b7(0x8d)],this[_0x5981b7(0xb4)],this)];_0x3681e4 instanceof LayerGroup&&_0x30150a[_0x5981b7(0xab)](listen(_0x3681e4,_0x5981b7(0xbb),this[_0x5981b7(0xbe)],this),listen(_0x3681e4,'removelayer',this['handleLayerGroupRemove_'],this)),this[_0x5981b7(0x8e)][getUid(_0x3681e4)]=_0x30150a;}['handleLayerGroupAdd_'](_0x78225a){const _0x246ea8=_0x100dcb;this[_0x246ea8(0xa8)](new GroupEvent(_0x246ea8(0xbb),_0x78225a[_0x246ea8(0x88)]));}['handleLayerGroupRemove_'](_0x3bc22a){const _0x3fff9d=_0x100dcb;this['dispatchEvent'](new GroupEvent('removelayer',_0x3bc22a[_0x3fff9d(0x88)]));}[_0x100dcb(0xb6)](_0x462d07){const _0x57c641=_0x100dcb,_0x3e9e5d=_0x462d07[_0x57c641(0xbd)];this[_0x57c641(0xb8)](_0x3e9e5d),this[_0x57c641(0xa8)](new GroupEvent(_0x57c641(0xbb),_0x3e9e5d)),this['changed']();}['handleLayersRemove_'](_0x300fc7){const _0x39b0b1=_0x100dcb,_0x3c8788=_0x300fc7['element'],_0x1d3e7d=getUid(_0x3c8788);this['listenerKeys_'][_0x1d3e7d]['forEach'](unlistenByKey),delete this[_0x39b0b1(0x8e)][_0x1d3e7d],this[_0x39b0b1(0xa8)](new GroupEvent('removelayer',_0x3c8788)),this[_0x39b0b1(0xa5)]();}['getLayers'](){const _0x346966=_0x100dcb;return this[_0x346966(0xac)](Property[_0x346966(0x87)]);}['setLayers'](_0x5aa855){const _0x487191=_0x100dcb,_0x28f93f=this[_0x487191(0xbc)]();if(_0x28f93f){const _0x22f8dd=_0x28f93f[_0x487191(0x9d)]();for(let _0x412e0f=0x0,_0x1c6fb9=_0x22f8dd[_0x487191(0xb0)];_0x412e0f<_0x1c6fb9;++_0x412e0f){this[_0x487191(0xa8)](new GroupEvent(_0x487191(0xb3),_0x22f8dd[_0x412e0f]));}}this[_0x487191(0x99)](Property[_0x487191(0x87)],_0x5aa855);}['getLayersArray'](_0x48bf2d){const _0xfb3451=_0x100dcb;return _0x48bf2d=_0x48bf2d!==undefined?_0x48bf2d:[],this[_0xfb3451(0xbc)]()[_0xfb3451(0x8c)](function(_0x59cb74){const _0x32856f=_0xfb3451;_0x59cb74[_0x32856f(0xaa)](_0x48bf2d);}),_0x48bf2d;}[_0x100dcb(0x9b)](_0x5ee33b){const _0x2d0489=_0x100dcb,_0x1b6265=_0x5ee33b!==undefined?_0x5ee33b:[],_0x2a5cda=_0x1b6265[_0x2d0489(0xb0)];this[_0x2d0489(0xbc)]()[_0x2d0489(0x8c)](function(_0x5ead5b){_0x5ead5b['getLayerStatesArray'](_0x1b6265);});const _0x24314c=this['getLayerState']();let _0x37a534=_0x24314c[_0x2d0489(0xb1)];!_0x5ee33b&&_0x24314c[_0x2d0489(0xb1)]===undefined&&(_0x37a534=0x0);for(let _0x4f6640=_0x2a5cda,_0x4d700d=_0x1b6265[_0x2d0489(0xb0)];_0x4f6640<_0x4d700d;_0x4f6640++){const _0x156076=_0x1b6265[_0x4f6640];_0x156076[_0x2d0489(0x90)]*=_0x24314c[_0x2d0489(0x90)],_0x156076['visible']=_0x156076[_0x2d0489(0x97)]&&_0x24314c[_0x2d0489(0x97)],_0x156076[_0x2d0489(0x91)]=Math[_0x2d0489(0xa7)](_0x156076[_0x2d0489(0x91)],_0x24314c[_0x2d0489(0x91)]),_0x156076['minResolution']=Math[_0x2d0489(0x94)](_0x156076[_0x2d0489(0x8f)],_0x24314c['minResolution']),_0x156076[_0x2d0489(0x9f)]=Math['max'](_0x156076['minZoom'],_0x24314c[_0x2d0489(0x9f)]),_0x156076[_0x2d0489(0x98)]=Math['min'](_0x156076[_0x2d0489(0x98)],_0x24314c[_0x2d0489(0x98)]),_0x24314c['extent']!==undefined&&(_0x156076[_0x2d0489(0xa9)]!==undefined?_0x156076[_0x2d0489(0xa9)]=getIntersection(_0x156076['extent'],_0x24314c[_0x2d0489(0xa9)]):_0x156076[_0x2d0489(0xa9)]=_0x24314c[_0x2d0489(0xa9)]),_0x156076[_0x2d0489(0xb1)]===undefined&&(_0x156076[_0x2d0489(0xb1)]=_0x37a534);}return _0x1b6265;}['getSourceState'](){const _0x2f9007=_0x100dcb;return _0x2f9007(0x96);}}export default LayerGroup;