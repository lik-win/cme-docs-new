function _0x242d(){const _0xf010ef=['some','mapPrecomposeKey_','frameState','get','viewState','layer','getState','handleSourceChange_','map','renderFrame','getSourceState','6VmrDjN','getLayerState','maxZoom','setMap','set','createRenderer','undefined','extent','rendered','getLayerStatesArray','renderer_','CHANGE','handleSourcePropertyChange_','source','renderDeferred','getRenderSource','isVisible','ready','isArray','1136324fyjIsx','minResolution','mapRenderKey_','addChangeListener','disposeInternal','layerStatesArray','SOURCE','renderDeclutter','getData','18MXoJoD','dispatchEvent','resolution','163674tQWomO','getRenderer','getSource','4616nSLuDo','62865ktUzzc','changed','setMapInternal','calculateExtent','getMapInternal','getAttributions','setSource','assign','MAP','getView','getLayerGroup','hasRenderer','getDeclutter','342078ZtTZiY','prepareFrame','visible','6QxDcRL','189140RhTYov','once','push','render','PRECOMPOSE','sourceChangeKey_','sourceReady_','51904GpOSZT'];_0x242d=function(){return _0xf010ef;};return _0x242d();}const _0x12bdad=_0x428f;(function(_0xb4e5cb,_0x3a24c7){const _0x19c036=_0x428f,_0x5d2455=_0xb4e5cb();while(!![]){try{const _0x201193=parseInt(_0x19c036(0x18f))/0x1+parseInt(_0x19c036(0x159))/0x2+parseInt(_0x19c036(0x170))/0x3*(-parseInt(_0x19c036(0x14b))/0x4)+-parseInt(_0x19c036(0x14c))/0x5+-parseInt(_0x19c036(0x15c))/0x6*(parseInt(_0x19c036(0x183))/0x7)+-parseInt(_0x19c036(0x164))/0x8*(parseInt(_0x19c036(0x18c))/0x9)+-parseInt(_0x19c036(0x15d))/0xa;if(_0x201193===_0x3a24c7)break;else _0x5d2455['push'](_0x5d2455['shift']());}catch(_0x40cebd){_0x5d2455['push'](_0x5d2455['shift']());}}}(_0x242d,0x1eaaa));import _0x20f57e from'./Base.js';import _0x1a801c from'../events/EventType.js';import _0x374885 from'./Property.js';import _0x136632 from'../render/EventType.js';import _0x51879e from'../View.js';import{assert}from'../asserts.js';function _0x428f(_0xe56a69,_0x1cacee){const _0x242d12=_0x242d();return _0x428f=function(_0x428f90,_0x31f67d){_0x428f90=_0x428f90-0x149;let _0x3dc8f4=_0x242d12[_0x428f90];return _0x3dc8f4;},_0x428f(_0xe56a69,_0x1cacee);}import{intersects}from'../extent.js';import{listen,unlistenByKey}from'../events.js';class Layer extends _0x20f57e{constructor(_0x3969f5){const _0x29c2f3=_0x428f,_0x469928=Object[_0x29c2f3(0x153)]({},_0x3969f5);delete _0x469928[_0x29c2f3(0x17d)],super(_0x469928),this['on'],this[_0x29c2f3(0x15e)],this['un'],this[_0x29c2f3(0x166)]=null,this[_0x29c2f3(0x185)]=null,this['sourceChangeKey_']=null,this['renderer_']=null,this['sourceReady_']=![],this[_0x29c2f3(0x178)]=![];_0x3969f5['render']&&(this[_0x29c2f3(0x160)]=_0x3969f5[_0x29c2f3(0x160)]);_0x3969f5[_0x29c2f3(0x16d)]&&this[_0x29c2f3(0x173)](_0x3969f5['map']);this[_0x29c2f3(0x186)](_0x374885[_0x29c2f3(0x189)],this['handleSourcePropertyChange_']);const _0x386e98=_0x3969f5[_0x29c2f3(0x17d)]?_0x3969f5[_0x29c2f3(0x17d)]:null;this[_0x29c2f3(0x152)](_0x386e98);}['getLayersArray'](_0x592e4c){const _0x20dae9=_0x428f;return _0x592e4c=_0x592e4c?_0x592e4c:[],_0x592e4c[_0x20dae9(0x15f)](this),_0x592e4c;}[_0x12bdad(0x179)](_0x1b71e5){const _0x36f858=_0x12bdad;return _0x1b71e5=_0x1b71e5?_0x1b71e5:[],_0x1b71e5[_0x36f858(0x15f)](this['getLayerState']()),_0x1b71e5;}['getSource'](){const _0x4267ca=_0x12bdad;return this[_0x4267ca(0x168)](_0x374885[_0x4267ca(0x189)])||null;}[_0x12bdad(0x17f)](){const _0x44ec80=_0x12bdad;return this[_0x44ec80(0x14a)]();}[_0x12bdad(0x16f)](){const _0x1e568e=_0x12bdad,_0x1e12f4=this[_0x1e568e(0x14a)]();return!_0x1e12f4?_0x1e568e(0x176):_0x1e12f4[_0x1e568e(0x16b)]();}[_0x12bdad(0x16c)](){const _0x11ee18=_0x12bdad;this[_0x11ee18(0x14d)]();if(this['sourceReady_']||this[_0x11ee18(0x14a)]()[_0x11ee18(0x16b)]()!==_0x11ee18(0x181))return;this['sourceReady_']=!![],this[_0x11ee18(0x18d)]('sourceready');}[_0x12bdad(0x17c)](){const _0x4221b0=_0x12bdad;this[_0x4221b0(0x162)]&&(unlistenByKey(this['sourceChangeKey_']),this['sourceChangeKey_']=null);this[_0x4221b0(0x163)]=![];const _0x16aeb6=this[_0x4221b0(0x14a)]();_0x16aeb6&&(this[_0x4221b0(0x162)]=listen(_0x16aeb6,_0x1a801c['CHANGE'],this[_0x4221b0(0x16c)],this),_0x16aeb6[_0x4221b0(0x16b)]()===_0x4221b0(0x181)&&(this[_0x4221b0(0x163)]=!![],setTimeout(()=>{const _0x1e50ba=_0x4221b0;this[_0x1e50ba(0x18d)]('sourceready');},0x0))),this[_0x4221b0(0x14d)]();}['getFeatures'](_0x2119c7){const _0x128582=_0x12bdad;if(!this['renderer_'])return Promise['resolve']([]);return this[_0x128582(0x17a)]['getFeatures'](_0x2119c7);}[_0x12bdad(0x18b)](_0x5a16db){const _0x2a91c2=_0x12bdad;if(!this['renderer_']||!this[_0x2a91c2(0x178)])return null;return this[_0x2a91c2(0x17a)][_0x2a91c2(0x18b)](_0x5a16db);}[_0x12bdad(0x180)](_0x3d47cf){const _0x3047e0=_0x12bdad;let _0x1e9042;const _0x3d4297=this[_0x3047e0(0x150)]();!_0x3d47cf&&_0x3d4297&&(_0x3d47cf=_0x3d4297[_0x3047e0(0x155)]());_0x3d47cf instanceof _0x51879e?_0x1e9042={'viewState':_0x3d47cf[_0x3047e0(0x16b)](),'extent':_0x3d47cf[_0x3047e0(0x14f)]()}:_0x1e9042=_0x3d47cf;!_0x1e9042[_0x3047e0(0x188)]&&_0x3d4297&&(_0x1e9042[_0x3047e0(0x188)]=_0x3d4297[_0x3047e0(0x156)]()[_0x3047e0(0x179)]());let _0x5b7a08;_0x1e9042[_0x3047e0(0x188)]?_0x5b7a08=_0x1e9042[_0x3047e0(0x188)]['find'](_0x5c7553=>_0x5c7553[_0x3047e0(0x16a)]===this):_0x5b7a08=this['getLayerState']();const _0x138a57=this['getExtent']();return inView(_0x5b7a08,_0x1e9042[_0x3047e0(0x169)])&&(!_0x138a57||intersects(_0x138a57,_0x1e9042[_0x3047e0(0x177)]));}['getAttributions'](_0x56a293){const _0x39b506=_0x12bdad;if(!this[_0x39b506(0x180)](_0x56a293))return[];const _0x175aa0=this['getSource']()?.[_0x39b506(0x151)]();if(!_0x175aa0)return[];const _0x198427=_0x56a293 instanceof _0x51879e?_0x56a293['getViewStateAndExtent']():_0x56a293;let _0x404eaf=_0x175aa0(_0x198427);return!Array[_0x39b506(0x182)](_0x404eaf)&&(_0x404eaf=[_0x404eaf]),_0x404eaf;}['render'](_0xee7e99,_0x556f99){const _0x35217b=_0x12bdad,_0x3eaa96=this[_0x35217b(0x149)]();if(_0x3eaa96[_0x35217b(0x15a)](_0xee7e99))return this[_0x35217b(0x178)]=!![],_0x3eaa96[_0x35217b(0x16e)](_0xee7e99,_0x556f99);return null;}['unrender'](){const _0x3f6680=_0x12bdad;this[_0x3f6680(0x178)]=![];}[_0x12bdad(0x158)](){return undefined;}[_0x12bdad(0x18a)](_0x131c98,_0x3407a4){}[_0x12bdad(0x17e)](_0xd2eb9){const _0x1c81db=this['getRenderer']();if(!_0x1c81db)return;_0x1c81db['renderDeferred'](_0xd2eb9);}[_0x12bdad(0x14e)](_0x1db268){const _0x5bca5c=_0x12bdad;!_0x1db268&&this['unrender'](),this[_0x5bca5c(0x174)](_0x374885[_0x5bca5c(0x154)],_0x1db268);}['getMapInternal'](){const _0x292f70=_0x12bdad;return this[_0x292f70(0x168)](_0x374885[_0x292f70(0x154)]);}[_0x12bdad(0x173)](_0x169eeb){const _0x5bb7d8=_0x12bdad;this['mapPrecomposeKey_']&&(unlistenByKey(this['mapPrecomposeKey_']),this[_0x5bb7d8(0x166)]=null),!_0x169eeb&&this[_0x5bb7d8(0x14d)](),this[_0x5bb7d8(0x185)]&&(unlistenByKey(this[_0x5bb7d8(0x185)]),this['mapRenderKey_']=null),_0x169eeb&&(this['mapPrecomposeKey_']=listen(_0x169eeb,_0x136632[_0x5bb7d8(0x161)],_0xbf7334=>{const _0x94160b=_0x5bb7d8,_0x58a979=_0xbf7334,_0x25c3b5=_0x58a979[_0x94160b(0x167)][_0x94160b(0x188)],_0x8ae66d=this[_0x94160b(0x171)](![]);assert(!_0x25c3b5[_0x94160b(0x165)](function(_0x468090){const _0x30bfd3=_0x94160b;return _0x468090[_0x30bfd3(0x16a)]===_0x8ae66d[_0x30bfd3(0x16a)];}),'A\x20layer\x20can\x20only\x20be\x20added\x20to\x20the\x20map\x20once.\x20Use\x20either\x20`layer.setMap()`\x20or\x20`map.addLayer()`,\x20not\x20both.'),_0x25c3b5[_0x94160b(0x15f)](_0x8ae66d);}),this[_0x5bb7d8(0x185)]=listen(this,_0x1a801c[_0x5bb7d8(0x17b)],_0x169eeb[_0x5bb7d8(0x160)],_0x169eeb),this[_0x5bb7d8(0x14d)]());}[_0x12bdad(0x152)](_0x463357){const _0x1ef1f1=_0x12bdad;this[_0x1ef1f1(0x174)](_0x374885['SOURCE'],_0x463357);}[_0x12bdad(0x149)](){const _0x2c761a=_0x12bdad;return!this[_0x2c761a(0x17a)]&&(this[_0x2c761a(0x17a)]=this['createRenderer']()),this['renderer_'];}[_0x12bdad(0x157)](){return!!this['renderer_'];}[_0x12bdad(0x175)](){return null;}[_0x12bdad(0x187)](){const _0x2db407=_0x12bdad;this[_0x2db407(0x17a)]&&(this[_0x2db407(0x17a)]['dispose'](),delete this['renderer_']),this[_0x2db407(0x152)](null),super[_0x2db407(0x187)]();}}export function inView(_0x3ef2cb,_0x5b3083){const _0x344514=_0x12bdad;if(!_0x3ef2cb[_0x344514(0x15b)])return![];const _0x29fa66=_0x5b3083[_0x344514(0x18e)];if(_0x29fa66<_0x3ef2cb[_0x344514(0x184)]||_0x29fa66>=_0x3ef2cb['maxResolution'])return![];const _0x45dad2=_0x5b3083['zoom'];return _0x45dad2>_0x3ef2cb['minZoom']&&_0x45dad2<=_0x3ef2cb[_0x344514(0x172)];}export default Layer;