const _0x55201f=_0x1c5b;(function(_0xad39ce,_0x1af507){const _0x388678=_0x1c5b,_0x4ae32b=_0xad39ce();while(!![]){try{const _0x3c413b=parseInt(_0x388678(0x1c4))/0x1*(-parseInt(_0x388678(0x1c1))/0x2)+parseInt(_0x388678(0x1db))/0x3*(parseInt(_0x388678(0x1d4))/0x4)+-parseInt(_0x388678(0x1ce))/0x5+-parseInt(_0x388678(0x1c8))/0x6*(parseInt(_0x388678(0x1bd))/0x7)+parseInt(_0x388678(0x1c0))/0x8*(parseInt(_0x388678(0x1bb))/0x9)+-parseInt(_0x388678(0x1d8))/0xa*(-parseInt(_0x388678(0x1c5))/0xb)+parseInt(_0x388678(0x1bf))/0xc*(-parseInt(_0x388678(0x1d3))/0xd);if(_0x3c413b===_0x1af507)break;else _0x4ae32b['push'](_0x4ae32b['shift']());}catch(_0x1a3c92){_0x4ae32b['push'](_0x4ae32b['shift']());}}}(_0x4711,0xec653));import _0x5f3a8d from'../ImageState.js';import{asArray}from'../color.js';import{getSharedCanvasContext2D}from'../dom.js';class IconImageCache{constructor(){const _0x1d51a0=_0x1c5b;this['cache_']={},this['patternCache_']={},this[_0x1d51a0(0x1d1)]=0x0,this[_0x1d51a0(0x1d0)]=0x20;}[_0x55201f(0x1d7)](){const _0x50a062=_0x55201f;this[_0x50a062(0x1cf)]={},this['patternCache_']={},this[_0x50a062(0x1d1)]=0x0;}['canExpireCache'](){const _0x20bd03=_0x55201f;return this['cacheSize_']>this[_0x20bd03(0x1d0)];}[_0x55201f(0x1c2)](){const _0x3eb10e=_0x55201f;if(this[_0x3eb10e(0x1da)]()){let _0x4aee22=0x0;for(const _0x208871 in this[_0x3eb10e(0x1cf)]){const _0x3fcc0d=this[_0x3eb10e(0x1cf)][_0x208871];(_0x4aee22++&0x3)===0x0&&!_0x3fcc0d[_0x3eb10e(0x1d5)]()&&(delete this[_0x3eb10e(0x1cf)][_0x208871],delete this['patternCache_'][_0x208871],--this[_0x3eb10e(0x1d1)]);}}}['get'](_0x1af868,_0x4568cc,_0x7ec15e){const _0x4ee8cd=_0x55201f,_0x2dd996=getCacheKey(_0x1af868,_0x4568cc,_0x7ec15e);return _0x2dd996 in this['cache_']?this[_0x4ee8cd(0x1cf)][_0x2dd996]:null;}[_0x55201f(0x1dc)](_0x44b995,_0x581531,_0x331b04){const _0x43cf14=getCacheKey(_0x44b995,_0x581531,_0x331b04);return _0x43cf14 in this['patternCache_']?this['patternCache_'][_0x43cf14]:null;}[_0x55201f(0x1c6)](_0x428591,_0x46c195,_0x55b219,_0x2fc9a5,_0x269191){const _0x1919cc=_0x55201f,_0x53223a=getCacheKey(_0x428591,_0x46c195,_0x55b219),_0x5154cf=_0x53223a in this[_0x1919cc(0x1cf)];this[_0x1919cc(0x1cf)][_0x53223a]=_0x2fc9a5,_0x269191&&(_0x2fc9a5['getImageState']()===_0x5f3a8d[_0x1919cc(0x1ca)]&&_0x2fc9a5[_0x1919cc(0x1c3)](),_0x2fc9a5[_0x1919cc(0x1d6)]()===_0x5f3a8d[_0x1919cc(0x1cc)]?_0x2fc9a5[_0x1919cc(0x1d2)]()[_0x1919cc(0x1cd)](()=>{const _0x3f3803=_0x1919cc;this['patternCache_'][_0x53223a]=getSharedCanvasContext2D()[_0x3f3803(0x1c7)](_0x2fc9a5[_0x3f3803(0x1bc)](0x1),'repeat');}):this[_0x1919cc(0x1be)][_0x53223a]=getSharedCanvasContext2D()[_0x1919cc(0x1c7)](_0x2fc9a5[_0x1919cc(0x1bc)](0x1),_0x1919cc(0x1d9))),!_0x5154cf&&++this[_0x1919cc(0x1d1)];}[_0x55201f(0x1cb)](_0x5c1585){const _0x583592=_0x55201f;this['maxCacheSize_']=_0x5c1585,this[_0x583592(0x1c2)]();}}export function getCacheKey(_0xf0667,_0xf40508,_0x55c13e){const _0xd0de87=_0x55201f,_0x22c417=_0x55c13e?asArray(_0x55c13e):_0xd0de87(0x1c9);return _0xf40508+':'+_0xf0667+':'+_0x22c417;}export default IconImageCache;export const shared=new IconImageCache();function _0x1c5b(_0x41aa53,_0x1e8475){const _0x471118=_0x4711();return _0x1c5b=function(_0x1c5b57,_0xc7144e){_0x1c5b57=_0x1c5b57-0x1bb;let _0x1f7744=_0x471118[_0x1c5b57];return _0x1f7744;},_0x1c5b(_0x41aa53,_0x1e8475);}function _0x4711(){const _0x541676=['load','1220459muPKVI','11JgMPUA','set','createPattern','10878NBbtAU','null','IDLE','setSize','LOADING','then','6718850dFgICY','cache_','maxCacheSize_','cacheSize_','ready','13QVAIif','1473448OYrtvz','hasListener','getImageState','clear','7627630MmRMKO','repeat','canExpireCache','12rSWqgD','getPattern','16569153MHtVAw','getImage','749pezABX','patternCache_','4208796wULLKJ','8nsElDf','2KJmDUS','expire'];_0x4711=function(){return _0x541676;};return _0x4711();}