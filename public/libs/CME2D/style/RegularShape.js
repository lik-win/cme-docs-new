const _0x288841=_0x236c;(function(_0x475b20,_0x48d408){const _0x2a808d=_0x236c,_0x17f83f=_0x475b20();while(!![]){try{const _0xff7d5a=parseInt(_0x2a808d(0x9c))/0x1*(parseInt(_0x2a808d(0x7b))/0x2)+parseInt(_0x2a808d(0x92))/0x3*(-parseInt(_0x2a808d(0xac))/0x4)+parseInt(_0x2a808d(0xcb))/0x5+-parseInt(_0x2a808d(0xb5))/0x6+-parseInt(_0x2a808d(0x97))/0x7*(-parseInt(_0x2a808d(0x79))/0x8)+-parseInt(_0x2a808d(0xc3))/0x9*(parseInt(_0x2a808d(0xca))/0xa)+-parseInt(_0x2a808d(0xa5))/0xb*(-parseInt(_0x2a808d(0xb0))/0xc);if(_0xff7d5a===_0x48d408)break;else _0x17f83f['push'](_0x17f83f['shift']());}catch(_0x1d6112){_0x17f83f['push'](_0x17f83f['shift']());}}}(_0x1c07,0x186b3));import _0x371ea0 from'../ImageState.js';import _0x10db3b from'./Image.js';import{asArray}from'../color.js';import{asColorLike}from'../colorlike.js';import{createCanvasContext2D}from'../dom.js';import{defaultFillStyle,defaultLineCap,defaultLineJoin,defaultLineWidth,defaultMiterLimit,defaultStrokeStyle}from'../render/canvas.js';class RegularShape extends _0x10db3b{constructor(_0x2dab50){const _0x327b04=_0x236c;super({'opacity':0x1,'rotateWithView':_0x2dab50[_0x327b04(0xa0)]!==undefined?_0x2dab50[_0x327b04(0xa0)]:![],'rotation':_0x2dab50[_0x327b04(0x9b)]!==undefined?_0x2dab50['rotation']:0x0,'scale':_0x2dab50['scale']!==undefined?_0x2dab50['scale']:0x1,'displacement':_0x2dab50[_0x327b04(0x91)]!==undefined?_0x2dab50[_0x327b04(0x91)]:[0x0,0x0],'declutterMode':_0x2dab50[_0x327b04(0x99)]}),this[_0x327b04(0x82)],this['hitDetectionCanvas_']=null,this[_0x327b04(0xce)]=_0x2dab50[_0x327b04(0xae)]!==undefined?_0x2dab50['fill']:null,this[_0x327b04(0xb4)]=[0x0,0x0],this[_0x327b04(0xa7)]=_0x2dab50['points'],this[_0x327b04(0x88)]=_0x2dab50[_0x327b04(0x88)],this[_0x327b04(0x76)]=_0x2dab50[_0x327b04(0xb1)],this[_0x327b04(0x78)]=_0x2dab50[_0x327b04(0xa8)]!==undefined?_0x2dab50[_0x327b04(0xa8)]:0x0,this['stroke_']=_0x2dab50['stroke']!==undefined?_0x2dab50[_0x327b04(0x80)]:null,this[_0x327b04(0x7f)],this['renderOptions_'],this['imageState_']=this[_0x327b04(0xce)]&&this[_0x327b04(0xce)]['loading']()?_0x371ea0[_0x327b04(0x75)]:_0x371ea0[_0x327b04(0x7a)],this[_0x327b04(0xcd)]===_0x371ea0[_0x327b04(0x75)]&&this[_0x327b04(0xb9)]()[_0x327b04(0xa1)](()=>this[_0x327b04(0xcd)]=_0x371ea0['LOADED']),this['render']();}[_0x288841(0x89)](){const _0x59578e=_0x288841,_0x43a085=this['getScale'](),_0x389060=new RegularShape({'fill':this[_0x59578e(0xa6)]()?this[_0x59578e(0xa6)]()[_0x59578e(0x89)]():undefined,'points':this[_0x59578e(0xb8)](),'radius':this[_0x59578e(0xd0)](),'radius2':this[_0x59578e(0xbe)](),'angle':this[_0x59578e(0xc5)](),'stroke':this[_0x59578e(0xc8)]()?this[_0x59578e(0xc8)]()[_0x59578e(0x89)]():undefined,'rotation':this['getRotation'](),'rotateWithView':this[_0x59578e(0xa9)](),'scale':Array['isArray'](_0x43a085)?_0x43a085[_0x59578e(0xb3)]():_0x43a085,'displacement':this[_0x59578e(0xbb)]()[_0x59578e(0xb3)](),'declutterMode':this[_0x59578e(0xc9)]()});return _0x389060['setOpacity'](this[_0x59578e(0x8b)]()),_0x389060;}[_0x288841(0xa4)](){const _0x451ba4=_0x288841,_0x311878=this[_0x451ba4(0x7f)],_0x447a31=this[_0x451ba4(0xbb)](),_0x43b355=this[_0x451ba4(0x87)]();return[_0x311878[0x0]/0x2-_0x447a31[0x0]/_0x43b355[0x0],_0x311878[0x1]/0x2+_0x447a31[0x1]/_0x43b355[0x1]];}['getAngle'](){return this['angle_'];}[_0x288841(0xa6)](){const _0x2e82ed=_0x288841;return this[_0x2e82ed(0xce)];}[_0x288841(0xa3)](_0x572c06){const _0x2a7446=_0x288841;this[_0x2a7446(0xce)]=_0x572c06,this[_0x2a7446(0xc6)]();}[_0x288841(0xcf)](){const _0xe78095=_0x288841;return!this['hitDetectionCanvas_']&&(this[_0xe78095(0xad)]=this[_0xe78095(0xc1)](this[_0xe78095(0xd1)])),this[_0xe78095(0xad)];}[_0x288841(0x7c)](_0x3c1e91){const _0x15bd45=_0x288841;let _0x587a82=this[_0x15bd45(0x82)][_0x3c1e91];if(!_0x587a82){const _0x19055c=this[_0x15bd45(0xd1)],_0x3dbeac=createCanvasContext2D(_0x19055c['size']*_0x3c1e91,_0x19055c[_0x15bd45(0x83)]*_0x3c1e91);this[_0x15bd45(0xc2)](_0x19055c,_0x3dbeac,_0x3c1e91),_0x587a82=_0x3dbeac['canvas'],this[_0x15bd45(0x82)][_0x3c1e91]=_0x587a82;}return _0x587a82;}[_0x288841(0xb2)](_0x3c60be){return _0x3c60be;}['getImageSize'](){return this['size_'];}[_0x288841(0x8f)](){return this['imageState_'];}['getOrigin'](){const _0x44843b=_0x288841;return this[_0x44843b(0xb4)];}[_0x288841(0xb8)](){const _0x505874=_0x288841;return this[_0x505874(0xa7)];}['getRadius'](){return this['radius'];}[_0x288841(0xbe)](){const _0x21b92f=_0x288841;return this[_0x21b92f(0x76)];}[_0x288841(0xb7)](){const _0x4d6e50=_0x288841;return this[_0x4d6e50(0x7f)];}[_0x288841(0xc8)](){const _0x197a25=_0x288841;return this[_0x197a25(0xaa)];}[_0x288841(0xa2)](_0x6cb5be){const _0x3a0e59=_0x288841;this[_0x3a0e59(0xaa)]=_0x6cb5be,this[_0x3a0e59(0xc6)]();}[_0x288841(0x85)](_0x1b5cf2){}[_0x288841(0x94)](){}[_0x288841(0x95)](_0x1622ff){}['calculateLineJoinSize_'](_0x3beea3,_0x4d7a74,_0x58a1f5){const _0x240302=_0x288841;if(_0x4d7a74===0x0||this[_0x240302(0xa7)]===Infinity||_0x3beea3!==_0x240302(0x96)&&_0x3beea3!==_0x240302(0x7e))return _0x4d7a74;let _0x51690e=this[_0x240302(0x88)],_0x528378=this[_0x240302(0x76)]===undefined?_0x51690e:this[_0x240302(0x76)];if(_0x51690e<_0x528378){const _0x98e6fa=_0x51690e;_0x51690e=_0x528378,_0x528378=_0x98e6fa;}const _0x4cca5=this['radius2_']===undefined?this[_0x240302(0xa7)]:this[_0x240302(0xa7)]*0x2,_0x277642=0x2*Math['PI']/_0x4cca5,_0x3ac740=_0x528378*Math[_0x240302(0x90)](_0x277642),_0x2a10a9=Math[_0x240302(0x9e)](_0x528378*_0x528378-_0x3ac740*_0x3ac740),_0x4b2989=_0x51690e-_0x2a10a9,_0x7e254a=Math[_0x240302(0x9e)](_0x3ac740*_0x3ac740+_0x4b2989*_0x4b2989),_0x2f0743=_0x7e254a/_0x3ac740;if(_0x3beea3===_0x240302(0x7e)&&_0x2f0743<=_0x58a1f5)return _0x2f0743*_0x4d7a74;const _0x1a321a=_0x4d7a74/0x2/_0x2f0743,_0x2f73aa=_0x4d7a74/0x2*(_0x4b2989/_0x7e254a),_0x2162cd=Math[_0x240302(0x9e)]((_0x51690e+_0x1a321a)*(_0x51690e+_0x1a321a)+_0x2f73aa*_0x2f73aa),_0x338c17=_0x2162cd-_0x51690e;if(this[_0x240302(0x76)]===undefined||_0x3beea3==='bevel')return _0x338c17*0x2;const _0xa82d3c=_0x51690e*Math[_0x240302(0x90)](_0x277642),_0x3d9c93=Math[_0x240302(0x9e)](_0x51690e*_0x51690e-_0xa82d3c*_0xa82d3c),_0x572b83=_0x528378-_0x3d9c93,_0x1e24b9=Math[_0x240302(0x9e)](_0xa82d3c*_0xa82d3c+_0x572b83*_0x572b83),_0x3c0128=_0x1e24b9/_0xa82d3c;if(_0x3c0128<=_0x58a1f5){const _0x57736e=_0x3c0128*_0x4d7a74/0x2-_0x528378-_0x51690e;return 0x2*Math['max'](_0x338c17,_0x57736e);}return _0x338c17*0x2;}[_0x288841(0xbc)](){const _0x2a2025=_0x288841;let _0x3cc86e=defaultLineCap,_0x21dfa3=defaultLineJoin,_0x1a9139=0x0,_0x56c3c0=null,_0x5a72c0=0x0,_0x44fef5,_0x3ff081=0x0;this[_0x2a2025(0xaa)]&&(_0x44fef5=asColorLike(this['stroke_'][_0x2a2025(0x8a)]()??defaultStrokeStyle),_0x3ff081=this['stroke_']['getWidth']()??defaultLineWidth,_0x56c3c0=this['stroke_']['getLineDash'](),_0x5a72c0=this[_0x2a2025(0xaa)]['getLineDashOffset']()??0x0,_0x21dfa3=this['stroke_'][_0x2a2025(0xb6)]()??defaultLineJoin,_0x3cc86e=this[_0x2a2025(0xaa)]['getLineCap']()??defaultLineCap,_0x1a9139=this[_0x2a2025(0xaa)][_0x2a2025(0xc0)]()??defaultMiterLimit);const _0x57bae8=this['calculateLineJoinSize_'](_0x21dfa3,_0x3ff081,_0x1a9139),_0x34fec0=Math[_0x2a2025(0x7d)](this[_0x2a2025(0x88)],this['radius2_']||0x0),_0x33a1a9=Math['ceil'](0x2*_0x34fec0+_0x57bae8);return{'strokeStyle':_0x44fef5,'strokeWidth':_0x3ff081,'size':_0x33a1a9,'lineCap':_0x3cc86e,'lineDash':_0x56c3c0,'lineDashOffset':_0x5a72c0,'lineJoin':_0x21dfa3,'miterLimit':_0x1a9139};}[_0x288841(0xc6)](){const _0x37d861=_0x288841;this[_0x37d861(0xd1)]=this[_0x37d861(0xbc)]();const _0x2a23a1=this[_0x37d861(0xd1)]['size'];this[_0x37d861(0x82)]={},this[_0x37d861(0xad)]=null,this[_0x37d861(0x7f)]=[_0x2a23a1,_0x2a23a1];}[_0x288841(0xc2)](_0x51c76b,_0x1df81e,_0x359cec){const _0x25a2e0=_0x288841;_0x1df81e['scale'](_0x359cec,_0x359cec),_0x1df81e[_0x25a2e0(0xbf)](_0x51c76b[_0x25a2e0(0x83)]/0x2,_0x51c76b[_0x25a2e0(0x83)]/0x2),this[_0x25a2e0(0x86)](_0x1df81e);if(this[_0x25a2e0(0xce)]){let _0x503795=this[_0x25a2e0(0xce)][_0x25a2e0(0x8a)]();_0x503795===null&&(_0x503795=defaultFillStyle),_0x1df81e[_0x25a2e0(0xaf)]=asColorLike(_0x503795),_0x1df81e[_0x25a2e0(0xae)]();}_0x51c76b[_0x25a2e0(0xc7)]&&(_0x1df81e['strokeStyle']=_0x51c76b['strokeStyle'],_0x1df81e['lineWidth']=_0x51c76b[_0x25a2e0(0x8e)],_0x51c76b[_0x25a2e0(0xbd)]&&(_0x1df81e[_0x25a2e0(0x9d)](_0x51c76b[_0x25a2e0(0xbd)]),_0x1df81e[_0x25a2e0(0xcc)]=_0x51c76b['lineDashOffset']),_0x1df81e['lineCap']=_0x51c76b[_0x25a2e0(0x77)],_0x1df81e[_0x25a2e0(0xab)]=_0x51c76b[_0x25a2e0(0xab)],_0x1df81e['miterLimit']=_0x51c76b[_0x25a2e0(0x81)],_0x1df81e[_0x25a2e0(0x80)]());}[_0x288841(0xc1)](_0x1e3769){const _0x1b42b5=_0x288841;let _0x48cef8;if(this[_0x1b42b5(0xce)]){let _0x17b64e=this[_0x1b42b5(0xce)][_0x1b42b5(0x8a)](),_0x4e4057=0x0;typeof _0x17b64e===_0x1b42b5(0x84)&&(_0x17b64e=asArray(_0x17b64e));if(_0x17b64e===null)_0x4e4057=0x1;else Array['isArray'](_0x17b64e)&&(_0x4e4057=_0x17b64e[_0x1b42b5(0x93)]===0x4?_0x17b64e[0x3]:0x1);_0x4e4057===0x0&&(_0x48cef8=createCanvasContext2D(_0x1e3769[_0x1b42b5(0x83)],_0x1e3769[_0x1b42b5(0x83)]),this['drawHitDetectionCanvas_'](_0x1e3769,_0x48cef8));}return _0x48cef8?_0x48cef8[_0x1b42b5(0x9f)]:this[_0x1b42b5(0x7c)](0x1);}[_0x288841(0x86)](_0x5b02cb){const _0x503356=_0x288841;let _0x88a90=this[_0x503356(0xa7)];const _0x457406=this[_0x503356(0x88)];if(_0x88a90===Infinity)_0x5b02cb['arc'](0x0,0x0,_0x457406,0x0,0x2*Math['PI']);else{const _0x31325d=this[_0x503356(0x76)]===undefined?_0x457406:this[_0x503356(0x76)];this[_0x503356(0x76)]!==undefined&&(_0x88a90*=0x2);const _0x4f6d33=this['angle_']-Math['PI']/0x2,_0x309a7c=0x2*Math['PI']/_0x88a90;for(let _0x40090a=0x0;_0x40090a<_0x88a90;_0x40090a++){const _0x2606a5=_0x4f6d33+_0x40090a*_0x309a7c,_0x2adc00=_0x40090a%0x2===0x0?_0x457406:_0x31325d;_0x5b02cb[_0x503356(0x9a)](_0x2adc00*Math[_0x503356(0x98)](_0x2606a5),_0x2adc00*Math['sin'](_0x2606a5));}_0x5b02cb[_0x503356(0x8d)]();}}[_0x288841(0x8c)](_0x187219,_0x590b7e){const _0x4b6866=_0x288841;_0x590b7e['translate'](_0x187219[_0x4b6866(0x83)]/0x2,_0x187219['size']/0x2),this[_0x4b6866(0x86)](_0x590b7e),_0x590b7e['fillStyle']=defaultFillStyle,_0x590b7e[_0x4b6866(0xae)](),_0x187219['strokeStyle']&&(_0x590b7e[_0x4b6866(0xc7)]=_0x187219['strokeStyle'],_0x590b7e[_0x4b6866(0xc4)]=_0x187219[_0x4b6866(0x8e)],_0x187219['lineDash']&&(_0x590b7e[_0x4b6866(0x9d)](_0x187219['lineDash']),_0x590b7e[_0x4b6866(0xcc)]=_0x187219[_0x4b6866(0xcc)]),_0x590b7e[_0x4b6866(0xab)]=_0x187219[_0x4b6866(0xab)],_0x590b7e[_0x4b6866(0x81)]=_0x187219[_0x4b6866(0x81)],_0x590b7e['stroke']());}[_0x288841(0xb9)](){const _0x164f30=_0x288841;return this[_0x164f30(0xce)]?this[_0x164f30(0xce)][_0x164f30(0xb9)]():Promise[_0x164f30(0xba)]();}}export default RegularShape;function _0x236c(_0x586b10,_0x5c97e9){const _0x1c07e7=_0x1c07();return _0x236c=function(_0x236c09,_0x5037f3){_0x236c09=_0x236c09-0x75;let _0xf26901=_0x1c07e7[_0x236c09];return _0xf26901;},_0x236c(_0x586b10,_0x5c97e9);}function _0x1c07(){const _0x554138=['getPixelRatio','slice','origin_','962868IfdNCd','getLineJoin','getSize','getPoints','ready','resolve','getDisplacement','createRenderOptions','lineDash','getRadius2','translate','getMiterLimit','createHitDetectionCanvas_','draw_','279FSndYj','lineWidth','getAngle','render','strokeStyle','getStroke','getDeclutterMode','26930GXPRwF','59680GDjhdT','lineDashOffset','imageState_','fill_','getHitDetectionImage','getRadius','renderOptions_','LOADING','radius2_','lineCap','angle_','656eatfWK','LOADED','10oxCAPx','getImage','max','miter','size_','stroke','miterLimit','canvases_','size','string','listenImageChange','createPath_','getScaleArray','radius','clone','getColor','getOpacity','drawHitDetectionCanvas_','closePath','strokeWidth','getImageState','sin','displacement','1761ZUsrhK','length','load','unlistenImageChange','bevel','4949sPdsmr','cos','declutterMode','lineTo','rotation','22095xewmls','setLineDash','sqrt','canvas','rotateWithView','then','setStroke','setFill','getAnchor','28237hqOlxT','getFill','points_','angle','getRotateWithView','stroke_','lineJoin','512qpnjnz','hitDetectionCanvas_','fill','fillStyle','1116CNYKkc','radius2'];_0x1c07=function(){return _0x554138;};return _0x1c07();}