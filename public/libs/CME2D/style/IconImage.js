const _0x2a4fd5=_0x3bb2;(function(_0x29a756,_0x5c893a){const _0x2b25b5=_0x3bb2,_0x41a049=_0x29a756();while(!![]){try{const _0x30aa57=-parseInt(_0x2b25b5(0xe8))/0x1+parseInt(_0x2b25b5(0xf7))/0x2+-parseInt(_0x2b25b5(0xdd))/0x3+-parseInt(_0x2b25b5(0xdb))/0x4+parseInt(_0x2b25b5(0xf1))/0x5*(parseInt(_0x2b25b5(0xee))/0x6)+-parseInt(_0x2b25b5(0xcc))/0x7+parseInt(_0x2b25b5(0xd5))/0x8;if(_0x30aa57===_0x5c893a)break;else _0x41a049['push'](_0x41a049['shift']());}catch(_0x4291d4){_0x41a049['push'](_0x41a049['shift']());}}}(_0x270f,0x9ab68));import _0x2a46c6 from'../events/Target.js';import _0x168e97 from'../events/EventType.js';function _0x270f(){const _0x27c5ae=['ERROR','width','createElement','CHANGE','load','ready','then','imageState_','color_','getImageState','5941474UkBnwk','catch','hitDetectionImage_','IDLE','dispatchEvent','getSize','drawImage','initializeImage_','height','26000296XAIlYJ','replaceColor_','getPixelRatio','ceil','handleImageError_','src_','3341652KeiEkw','getSrc','2350743peqqPO','src','LOADED','crossOrigin_','size_','image_','LOADING','globalCompositeOperation','tainted_','set','dispatchChangeEvent_','1130550PyQluh','getPattern','canvas','handleImageLoad_','scale','isTainted_','306SwpwkO','canvas_','get','57795XvVFcr','destination-in','fillRect','removeEventListener','ready_','crossOrigin','784968kAuGDx'];_0x270f=function(){return _0x27c5ae;};return _0x270f();}import _0x7a2967 from'../ImageState.js';import{asString}from'../color.js';import{createCanvasContext2D}from'../dom.js';function _0x3bb2(_0x100b7c,_0x4f8028){const _0x270f00=_0x270f();return _0x3bb2=function(_0x3bb26b,_0x574dbc){_0x3bb26b=_0x3bb26b-0xc8;let _0x1f46ce=_0x270f00[_0x3bb26b];return _0x1f46ce;},_0x3bb2(_0x100b7c,_0x4f8028);}import{decodeFallback}from'../Image.js';import{shared as _0x4abd54}from'./IconImageCache.js';let taintedTestContext=null;class IconImage extends _0x2a46c6{constructor(_0x111023,_0x4740a6,_0x437ab9,_0xaaebde,_0x1b8606){const _0x6faf5d=_0x3bb2;super(),this[_0x6faf5d(0xce)]=null,this[_0x6faf5d(0xe2)]=_0x111023,this[_0x6faf5d(0xe0)]=_0x437ab9,this[_0x6faf5d(0xef)]={},this[_0x6faf5d(0xca)]=_0x1b8606,this[_0x6faf5d(0xc9)]=_0xaaebde===undefined?_0x7a2967[_0x6faf5d(0xcf)]:_0xaaebde,this['size_']=_0x111023&&_0x111023['width']&&_0x111023['height']?[_0x111023[_0x6faf5d(0xf9)],_0x111023['height']]:null,this[_0x6faf5d(0xda)]=_0x4740a6,this[_0x6faf5d(0xe5)],this[_0x6faf5d(0xf5)]=null;}[_0x2a4fd5(0xd3)](){const _0x166ac1=_0x2a4fd5;this['image_']=new Image(),this[_0x166ac1(0xe0)]!==null&&(this[_0x166ac1(0xe2)][_0x166ac1(0xf6)]=this[_0x166ac1(0xe0)]);}[_0x2a4fd5(0xed)](){const _0xa47e17=_0x2a4fd5;if(this[_0xa47e17(0xe5)]===undefined&&this[_0xa47e17(0xc9)]===_0x7a2967['LOADED']){!taintedTestContext&&(taintedTestContext=createCanvasContext2D(0x1,0x1,undefined,{'willReadFrequently':!![]}));taintedTestContext[_0xa47e17(0xd2)](this[_0xa47e17(0xe2)],0x0,0x0);try{taintedTestContext['getImageData'](0x0,0x0,0x1,0x1),this[_0xa47e17(0xe5)]=![];}catch(_0x13dea3){taintedTestContext=null,this['tainted_']=!![];}}return this[_0xa47e17(0xe5)]===!![];}['dispatchChangeEvent_'](){const _0x504fcc=_0x2a4fd5;this[_0x504fcc(0xd0)](_0x168e97[_0x504fcc(0xfb)]);}[_0x2a4fd5(0xd9)](){const _0x248314=_0x2a4fd5;this['imageState_']=_0x7a2967['ERROR'],this[_0x248314(0xe7)]();}[_0x2a4fd5(0xeb)](){const _0x2b2414=_0x2a4fd5;this['imageState_']=_0x7a2967[_0x2b2414(0xdf)],this['size_']=[this[_0x2b2414(0xe2)]['width'],this[_0x2b2414(0xe2)]['height']],this['dispatchChangeEvent_']();}['getImage'](_0x71a74){const _0x2f5756=_0x2a4fd5;return!this[_0x2f5756(0xe2)]&&this[_0x2f5756(0xd3)](),this['replaceColor_'](_0x71a74),this[_0x2f5756(0xef)][_0x71a74]?this[_0x2f5756(0xef)][_0x71a74]:this['image_'];}[_0x2a4fd5(0xd7)](_0x343ce1){const _0xc999ca=_0x2a4fd5;return this['replaceColor_'](_0x343ce1),this[_0xc999ca(0xef)][_0x343ce1]?_0x343ce1:0x1;}[_0x2a4fd5(0xcb)](){const _0x4723ee=_0x2a4fd5;return this[_0x4723ee(0xc9)];}['getHitDetectionImage'](){const _0x12f7de=_0x2a4fd5;!this[_0x12f7de(0xe2)]&&this[_0x12f7de(0xd3)]();if(!this['hitDetectionImage_']){if(this[_0x12f7de(0xed)]()){const _0x14f007=this['size_'][0x0],_0x242223=this[_0x12f7de(0xe1)][0x1],_0x2fcef8=createCanvasContext2D(_0x14f007,_0x242223);_0x2fcef8['fillRect'](0x0,0x0,_0x14f007,_0x242223),this['hitDetectionImage_']=_0x2fcef8['canvas'];}else this['hitDetectionImage_']=this[_0x12f7de(0xe2)];}return this['hitDetectionImage_'];}[_0x2a4fd5(0xd1)](){const _0x24ce54=_0x2a4fd5;return this[_0x24ce54(0xe1)];}[_0x2a4fd5(0xdc)](){const _0x277547=_0x2a4fd5;return this[_0x277547(0xda)];}[_0x2a4fd5(0xfc)](){const _0x515717=_0x2a4fd5;if(this[_0x515717(0xc9)]!==_0x7a2967[_0x515717(0xcf)])return;!this[_0x515717(0xe2)]&&this['initializeImage_']();this[_0x515717(0xc9)]=_0x7a2967[_0x515717(0xe3)];try{this[_0x515717(0xda)]!==undefined&&(this[_0x515717(0xe2)][_0x515717(0xde)]=this[_0x515717(0xda)]);}catch(_0x37e11d){this[_0x515717(0xd9)]();}this[_0x515717(0xe2)]instanceof HTMLImageElement&&decodeFallback(this[_0x515717(0xe2)],this['src_'])[_0x515717(0xc8)](_0x2ed57c=>{const _0x436068=_0x515717;this[_0x436068(0xe2)]=_0x2ed57c,this['handleImageLoad_']();})[_0x515717(0xcd)](this[_0x515717(0xd9)]['bind'](this));}[_0x2a4fd5(0xd6)](_0x3fbbed){const _0x44cf97=_0x2a4fd5;if(!this['color_']||this[_0x44cf97(0xef)][_0x3fbbed]||this[_0x44cf97(0xc9)]!==_0x7a2967[_0x44cf97(0xdf)])return;const _0x379876=this[_0x44cf97(0xe2)],_0x418f19=document[_0x44cf97(0xfa)](_0x44cf97(0xea));_0x418f19[_0x44cf97(0xf9)]=Math['ceil'](_0x379876[_0x44cf97(0xf9)]*_0x3fbbed),_0x418f19['height']=Math[_0x44cf97(0xd8)](_0x379876[_0x44cf97(0xd4)]*_0x3fbbed);const _0x25429b=_0x418f19['getContext']('2d');_0x25429b[_0x44cf97(0xec)](_0x3fbbed,_0x3fbbed),_0x25429b[_0x44cf97(0xd2)](_0x379876,0x0,0x0),_0x25429b[_0x44cf97(0xe4)]='multiply',_0x25429b['fillStyle']=asString(this[_0x44cf97(0xca)]),_0x25429b[_0x44cf97(0xf3)](0x0,0x0,_0x418f19[_0x44cf97(0xf9)]/_0x3fbbed,_0x418f19[_0x44cf97(0xd4)]/_0x3fbbed),_0x25429b[_0x44cf97(0xe4)]=_0x44cf97(0xf2),_0x25429b[_0x44cf97(0xd2)](_0x379876,0x0,0x0),this[_0x44cf97(0xef)][_0x3fbbed]=_0x418f19;}[_0x2a4fd5(0xfd)](){const _0x3b6b00=_0x2a4fd5;return!this[_0x3b6b00(0xf5)]&&(this[_0x3b6b00(0xf5)]=new Promise(_0x1a44af=>{const _0x15c284=_0x3b6b00;if(this[_0x15c284(0xc9)]===_0x7a2967[_0x15c284(0xdf)]||this[_0x15c284(0xc9)]===_0x7a2967[_0x15c284(0xf8)])_0x1a44af();else{const _0x138a8f=()=>{const _0x3e91ea=_0x15c284;(this[_0x3e91ea(0xc9)]===_0x7a2967[_0x3e91ea(0xdf)]||this[_0x3e91ea(0xc9)]===_0x7a2967[_0x3e91ea(0xf8)])&&(this[_0x3e91ea(0xf4)](_0x168e97[_0x3e91ea(0xfb)],_0x138a8f),_0x1a44af());};this['addEventListener'](_0x168e97[_0x15c284(0xfb)],_0x138a8f);}})),this['ready_'];}}export function get(_0x18be11,_0x3dc5e3,_0xb0bcbc,_0x308985,_0xce8408,_0x545006){const _0x60a362=_0x2a4fd5;let _0x4e53a2=_0x3dc5e3===undefined?undefined:_0x4abd54[_0x60a362(0xf0)](_0x3dc5e3,_0xb0bcbc,_0xce8408);return!_0x4e53a2&&(_0x4e53a2=new IconImage(_0x18be11,_0x18be11&&_0x60a362(0xde)in _0x18be11?_0x18be11[_0x60a362(0xde)]||undefined:_0x3dc5e3,_0xb0bcbc,_0x308985,_0xce8408),_0x4abd54[_0x60a362(0xe6)](_0x3dc5e3,_0xb0bcbc,_0xce8408,_0x4e53a2,_0x545006)),_0x545006&&_0x4e53a2&&!_0x4abd54[_0x60a362(0xe9)](_0x3dc5e3,_0xb0bcbc,_0xce8408)&&_0x4abd54['set'](_0x3dc5e3,_0xb0bcbc,_0xce8408,_0x4e53a2,_0x545006),_0x4e53a2;}export default IconImage;