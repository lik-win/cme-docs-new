const _0x261ad3=_0x291c;(function(_0x227a84,_0x317ac1){const _0x3ec037=_0x291c,_0x3b0eea=_0x227a84();while(!![]){try{const _0x575e6c=parseInt(_0x3ec037(0x1f3))/0x1*(parseInt(_0x3ec037(0x1d9))/0x2)+-parseInt(_0x3ec037(0x201))/0x3+-parseInt(_0x3ec037(0x1e1))/0x4*(-parseInt(_0x3ec037(0x1e3))/0x5)+-parseInt(_0x3ec037(0x211))/0x6*(parseInt(_0x3ec037(0x1d5))/0x7)+-parseInt(_0x3ec037(0x1db))/0x8*(-parseInt(_0x3ec037(0x1fb))/0x9)+parseInt(_0x3ec037(0x200))/0xa*(-parseInt(_0x3ec037(0x20d))/0xb)+-parseInt(_0x3ec037(0x1c4))/0xc*(-parseInt(_0x3ec037(0x1c6))/0xd);if(_0x575e6c===_0x317ac1)break;else _0x3b0eea['push'](_0x3b0eea['shift']());}catch(_0x328716){_0x3b0eea['push'](_0x3b0eea['shift']());}}}(_0x1929,0x34a20));function _0x1929(){const _0x6147d1=['load','bottom-left','129514LzPRti','offsetOrigin','getAnchor','bottom-right','74LbhQmY','listenImageChange','10760YYvXON','anchorXUnits','anchorOrigin','color_','img','getRotateWithView','63744lPGYPZ','size','50mwCqGG','anchorYUnits','removeEventListener','initialOptions_','offset','slice','top-right','origin_','ready','anchor_','getWidth','getColor','top-left','clone','rotation','height','3147httkcv','fraction','src','declutterMode','getPixelRatio','addEventListener','LOADING','setScale','666HEtLbQ','displacement','isArray','width','size_','1430JhdEBQ','1205373dmWkue','normalizedAnchor_','anchorOrigin_','getOpacity','setAnchor','complete','rotateWithView','unlistenImageChange','A\x20defined\x20and\x20non-empty\x20`src`\x20or\x20`image`\x20must\x20be\x20provided','getSize','getScaleArray','crossOrigin','6644YQoOtH','crossOrigin_','LOADED','anchorXUnits_','42kWOTZt','anchorYUnits_','2747592lCUJCR','getImage','26KlMIuw','IDLE','getHitDetectionImage','getImageState','length','color','getDisplacement','CHANGE','offset_','iconImage_','offsetOrigin_','scale','anchor'];_0x1929=function(){return _0x6147d1;};return _0x1929();}import _0x55a3bc from'../events/EventType.js';import _0x1042a6 from'../ImageState.js';import _0x95e6fd from'./Image.js';function _0x291c(_0x2a51fd,_0x42779d){const _0x19295f=_0x1929();return _0x291c=function(_0x291c16,_0x223150){_0x291c16=_0x291c16-0x1c3;let _0x53d8ea=_0x19295f[_0x291c16];return _0x53d8ea;},_0x291c(_0x2a51fd,_0x42779d);}import{asArray}from'../color.js';import{assert}from'../asserts.js';import{get as _0x4454ea}from'./IconImage.js';import{getUid}from'../util.js';function calculateScale(_0x3e605b,_0x1c3717,_0xd33003,_0x5a6210){if(_0xd33003!==undefined&&_0x5a6210!==undefined)return[_0xd33003/_0x3e605b,_0x5a6210/_0x1c3717];if(_0xd33003!==undefined)return _0xd33003/_0x3e605b;if(_0x5a6210!==undefined)return _0x5a6210/_0x1c3717;return 0x1;}class Icon extends _0x95e6fd{constructor(_0x51afe3){const _0x165279=_0x291c;_0x51afe3=_0x51afe3||{};const _0x8c3588=_0x51afe3['opacity']!==undefined?_0x51afe3['opacity']:0x1,_0x54b3de=_0x51afe3['rotation']!==undefined?_0x51afe3[_0x165279(0x1f1)]:0x0,_0x387644=_0x51afe3[_0x165279(0x1d1)]!==undefined?_0x51afe3[_0x165279(0x1d1)]:0x1,_0x37bc92=_0x51afe3[_0x165279(0x207)]!==undefined?_0x51afe3[_0x165279(0x207)]:![];super({'opacity':_0x8c3588,'rotation':_0x54b3de,'scale':_0x387644,'displacement':_0x51afe3[_0x165279(0x1fc)]!==undefined?_0x51afe3[_0x165279(0x1fc)]:[0x0,0x0],'rotateWithView':_0x37bc92,'declutterMode':_0x51afe3[_0x165279(0x1f6)]}),this[_0x165279(0x1ec)]=_0x51afe3[_0x165279(0x1d2)]!==undefined?_0x51afe3['anchor']:[0.5,0.5],this[_0x165279(0x202)]=null,this[_0x165279(0x203)]=_0x51afe3['anchorOrigin']!==undefined?_0x51afe3[_0x165279(0x1dd)]:_0x165279(0x1ef),this['anchorXUnits_']=_0x51afe3[_0x165279(0x1dc)]!==undefined?_0x51afe3[_0x165279(0x1dc)]:_0x165279(0x1f4),this[_0x165279(0x1c3)]=_0x51afe3['anchorYUnits']!==undefined?_0x51afe3[_0x165279(0x1e4)]:'fraction',this[_0x165279(0x20e)]=_0x51afe3['crossOrigin']!==undefined?_0x51afe3[_0x165279(0x20c)]:null;const _0x14001f=_0x51afe3[_0x165279(0x1df)]!==undefined?_0x51afe3[_0x165279(0x1df)]:null;let _0x3bed56=_0x51afe3[_0x165279(0x1f5)];assert(!(_0x3bed56!==undefined&&_0x14001f),'`image`\x20and\x20`src`\x20cannot\x20be\x20provided\x20at\x20the\x20same\x20time');(_0x3bed56===undefined||_0x3bed56[_0x165279(0x1ca)]===0x0)&&_0x14001f&&(_0x3bed56=_0x14001f[_0x165279(0x1f5)]||getUid(_0x14001f));assert(_0x3bed56!==undefined&&_0x3bed56[_0x165279(0x1ca)]>0x0,_0x165279(0x209)),assert(!((_0x51afe3[_0x165279(0x1fe)]!==undefined||_0x51afe3[_0x165279(0x1f2)]!==undefined)&&_0x51afe3[_0x165279(0x1d1)]!==undefined),'`width`\x20or\x20`height`\x20cannot\x20be\x20provided\x20together\x20with\x20`scale`');let _0x4bb4ae;if(_0x51afe3['src']!==undefined)_0x4bb4ae=_0x1042a6[_0x165279(0x1c7)];else _0x14001f!==undefined&&(_0x165279(0x206)in _0x14001f?_0x14001f['complete']?_0x4bb4ae=_0x14001f[_0x165279(0x1f5)]?_0x1042a6[_0x165279(0x20f)]:_0x1042a6[_0x165279(0x1c7)]:_0x4bb4ae=_0x1042a6[_0x165279(0x1f9)]:_0x4bb4ae=_0x1042a6[_0x165279(0x20f)]);this[_0x165279(0x1de)]=_0x51afe3[_0x165279(0x1cb)]!==undefined?asArray(_0x51afe3[_0x165279(0x1cb)]):null,this[_0x165279(0x1cf)]=_0x4454ea(_0x14001f,_0x3bed56,this[_0x165279(0x20e)],_0x4bb4ae,this[_0x165279(0x1de)]),this[_0x165279(0x1ce)]=_0x51afe3[_0x165279(0x1e7)]!==undefined?_0x51afe3[_0x165279(0x1e7)]:[0x0,0x0],this[_0x165279(0x1d0)]=_0x51afe3['offsetOrigin']!==undefined?_0x51afe3[_0x165279(0x1d6)]:_0x165279(0x1ef),this['origin_']=null,this[_0x165279(0x1ff)]=_0x51afe3[_0x165279(0x1e2)]!==undefined?_0x51afe3[_0x165279(0x1e2)]:null,this[_0x165279(0x1e6)];if(_0x51afe3['width']!==undefined||_0x51afe3['height']!==undefined){let _0x1071bd,_0x1efcfd;if(_0x51afe3['size'])[_0x1071bd,_0x1efcfd]=_0x51afe3[_0x165279(0x1e2)];else{const _0x26cc5c=this[_0x165279(0x1c5)](0x1);if(_0x26cc5c[_0x165279(0x1fe)]&&_0x26cc5c[_0x165279(0x1f2)])_0x1071bd=_0x26cc5c[_0x165279(0x1fe)],_0x1efcfd=_0x26cc5c[_0x165279(0x1f2)];else{if(_0x26cc5c instanceof HTMLImageElement){this[_0x165279(0x1e6)]=_0x51afe3;const _0x4fec42=()=>{const _0x3cb60b=_0x165279;this[_0x3cb60b(0x208)](_0x4fec42);if(!this['initialOptions_'])return;const _0x1d0a17=this[_0x3cb60b(0x1cf)]['getSize']();this['setScale'](calculateScale(_0x1d0a17[0x0],_0x1d0a17[0x1],_0x51afe3[_0x3cb60b(0x1fe)],_0x51afe3[_0x3cb60b(0x1f2)]));};this[_0x165279(0x1da)](_0x4fec42);return;}}}_0x1071bd!==undefined&&this[_0x165279(0x1fa)](calculateScale(_0x1071bd,_0x1efcfd,_0x51afe3[_0x165279(0x1fe)],_0x51afe3[_0x165279(0x1f2)]));}}[_0x261ad3(0x1f0)](){const _0x111b2c=_0x261ad3;let _0x2b41ff,_0x5cdd9c,_0x2deab9;return this[_0x111b2c(0x1e6)]?(_0x5cdd9c=this[_0x111b2c(0x1e6)][_0x111b2c(0x1fe)],_0x2deab9=this[_0x111b2c(0x1e6)][_0x111b2c(0x1f2)]):(_0x2b41ff=this['getScale'](),_0x2b41ff=Array[_0x111b2c(0x1fd)](_0x2b41ff)?_0x2b41ff[_0x111b2c(0x1e8)]():_0x2b41ff),new Icon({'anchor':this['anchor_'][_0x111b2c(0x1e8)](),'anchorOrigin':this['anchorOrigin_'],'anchorXUnits':this['anchorXUnits_'],'anchorYUnits':this['anchorYUnits_'],'color':this[_0x111b2c(0x1de)]&&this[_0x111b2c(0x1de)]['slice']?this[_0x111b2c(0x1de)][_0x111b2c(0x1e8)]():this[_0x111b2c(0x1de)]||undefined,'crossOrigin':this[_0x111b2c(0x20e)],'offset':this[_0x111b2c(0x1ce)]['slice'](),'offsetOrigin':this[_0x111b2c(0x1d0)],'opacity':this[_0x111b2c(0x204)](),'rotateWithView':this[_0x111b2c(0x1e0)](),'rotation':this['getRotation'](),'scale':_0x2b41ff,'width':_0x5cdd9c,'height':_0x2deab9,'size':this[_0x111b2c(0x1ff)]!==null?this['size_'][_0x111b2c(0x1e8)]():undefined,'src':this['getSrc'](),'displacement':this[_0x111b2c(0x1cc)]()[_0x111b2c(0x1e8)](),'declutterMode':this['getDeclutterMode']()});}[_0x261ad3(0x1d7)](){const _0x2f26ed=_0x261ad3;let _0x431792=this['normalizedAnchor_'];if(!_0x431792){_0x431792=this['anchor_'];const _0x48544e=this[_0x2f26ed(0x20a)]();if(this[_0x2f26ed(0x210)]==_0x2f26ed(0x1f4)||this[_0x2f26ed(0x1c3)]==_0x2f26ed(0x1f4)){if(!_0x48544e)return null;_0x431792=this['anchor_'][_0x2f26ed(0x1e8)](),this[_0x2f26ed(0x210)]==_0x2f26ed(0x1f4)&&(_0x431792[0x0]*=_0x48544e[0x0]),this[_0x2f26ed(0x1c3)]==_0x2f26ed(0x1f4)&&(_0x431792[0x1]*=_0x48544e[0x1]);}if(this[_0x2f26ed(0x203)]!=_0x2f26ed(0x1ef)){if(!_0x48544e)return null;_0x431792===this[_0x2f26ed(0x1ec)]&&(_0x431792=this[_0x2f26ed(0x1ec)][_0x2f26ed(0x1e8)]()),(this[_0x2f26ed(0x203)]==_0x2f26ed(0x1e9)||this[_0x2f26ed(0x203)]==_0x2f26ed(0x1d8))&&(_0x431792[0x0]=-_0x431792[0x0]+_0x48544e[0x0]),(this[_0x2f26ed(0x203)]==_0x2f26ed(0x1d4)||this[_0x2f26ed(0x203)]==_0x2f26ed(0x1d8))&&(_0x431792[0x1]=-_0x431792[0x1]+_0x48544e[0x1]);}this['normalizedAnchor_']=_0x431792;}const _0x320543=this[_0x2f26ed(0x1cc)](),_0x3f8774=this[_0x2f26ed(0x20b)]();return[_0x431792[0x0]-_0x320543[0x0]/_0x3f8774[0x0],_0x431792[0x1]+_0x320543[0x1]/_0x3f8774[0x1]];}[_0x261ad3(0x205)](_0x550dcc){const _0x53cae1=_0x261ad3;this[_0x53cae1(0x1ec)]=_0x550dcc,this['normalizedAnchor_']=null;}[_0x261ad3(0x1ee)](){return this['color_'];}[_0x261ad3(0x1c5)](_0x49b03d){const _0x3cc469=_0x261ad3;return this['iconImage_'][_0x3cc469(0x1c5)](_0x49b03d);}[_0x261ad3(0x1f7)](_0x2cc802){const _0x539959=_0x261ad3;return this[_0x539959(0x1cf)][_0x539959(0x1f7)](_0x2cc802);}['getImageSize'](){const _0x113924=_0x261ad3;return this[_0x113924(0x1cf)][_0x113924(0x20a)]();}[_0x261ad3(0x1c9)](){return this['iconImage_']['getImageState']();}[_0x261ad3(0x1c8)](){const _0x3bb879=_0x261ad3;return this[_0x3bb879(0x1cf)][_0x3bb879(0x1c8)]();}['getOrigin'](){const _0x347f4c=_0x261ad3;if(this[_0x347f4c(0x1ea)])return this[_0x347f4c(0x1ea)];let _0x53e5c2=this[_0x347f4c(0x1ce)];if(this['offsetOrigin_']!=_0x347f4c(0x1ef)){const _0x5359c5=this[_0x347f4c(0x20a)](),_0x37ce7b=this['iconImage_']['getSize']();if(!_0x5359c5||!_0x37ce7b)return null;_0x53e5c2=_0x53e5c2[_0x347f4c(0x1e8)](),(this[_0x347f4c(0x1d0)]==_0x347f4c(0x1e9)||this['offsetOrigin_']==_0x347f4c(0x1d8))&&(_0x53e5c2[0x0]=_0x37ce7b[0x0]-_0x5359c5[0x0]-_0x53e5c2[0x0]),(this[_0x347f4c(0x1d0)]==_0x347f4c(0x1d4)||this[_0x347f4c(0x1d0)]=='bottom-right')&&(_0x53e5c2[0x1]=_0x37ce7b[0x1]-_0x5359c5[0x1]-_0x53e5c2[0x1]);}return this[_0x347f4c(0x1ea)]=_0x53e5c2,this[_0x347f4c(0x1ea)];}['getSrc'](){return this['iconImage_']['getSrc']();}[_0x261ad3(0x20a)](){const _0x3a4bc3=_0x261ad3;return!this[_0x3a4bc3(0x1ff)]?this[_0x3a4bc3(0x1cf)][_0x3a4bc3(0x20a)]():this[_0x3a4bc3(0x1ff)];}[_0x261ad3(0x1ed)](){const _0x584e91=_0x261ad3,_0x147846=this[_0x584e91(0x20b)]();if(this['size_'])return this[_0x584e91(0x1ff)][0x0]*_0x147846[0x0];if(this[_0x584e91(0x1cf)][_0x584e91(0x1c9)]()==_0x1042a6[_0x584e91(0x20f)])return this[_0x584e91(0x1cf)][_0x584e91(0x20a)]()[0x0]*_0x147846[0x0];return undefined;}['getHeight'](){const _0x25a05e=_0x261ad3,_0x6b3937=this['getScaleArray']();if(this['size_'])return this[_0x25a05e(0x1ff)][0x1]*_0x6b3937[0x1];if(this['iconImage_'][_0x25a05e(0x1c9)]()==_0x1042a6[_0x25a05e(0x20f)])return this['iconImage_']['getSize']()[0x1]*_0x6b3937[0x1];return undefined;}[_0x261ad3(0x1fa)](_0x28d0b2){const _0x10e813=_0x261ad3;delete this['initialOptions_'],super[_0x10e813(0x1fa)](_0x28d0b2);}[_0x261ad3(0x1da)](_0x58bd41){const _0x564901=_0x261ad3;this[_0x564901(0x1cf)][_0x564901(0x1f8)](_0x55a3bc[_0x564901(0x1cd)],_0x58bd41);}[_0x261ad3(0x1d3)](){const _0x1b53d6=_0x261ad3;this[_0x1b53d6(0x1cf)]['load']();}[_0x261ad3(0x208)](_0x41927c){const _0x1c1792=_0x261ad3;this[_0x1c1792(0x1cf)][_0x1c1792(0x1e5)](_0x55a3bc[_0x1c1792(0x1cd)],_0x41927c);}[_0x261ad3(0x1eb)](){const _0x444f21=_0x261ad3;return this[_0x444f21(0x1cf)][_0x444f21(0x1eb)]();}}export default Icon;