const _0x3c64d7=_0x43eb;(function(_0x362c95,_0x21f6ec){const _0x31b7e6=_0x43eb,_0xdd54ae=_0x362c95();while(!![]){try{const _0x50365e=parseInt(_0x31b7e6(0x1ac))/0x1*(-parseInt(_0x31b7e6(0x1b6))/0x2)+-parseInt(_0x31b7e6(0x1f0))/0x3+-parseInt(_0x31b7e6(0x1d6))/0x4+parseInt(_0x31b7e6(0x181))/0x5+-parseInt(_0x31b7e6(0x1de))/0x6*(-parseInt(_0x31b7e6(0x203))/0x7)+parseInt(_0x31b7e6(0x210))/0x8*(parseInt(_0x31b7e6(0x189))/0x9)+-parseInt(_0x31b7e6(0x1f7))/0xa*(-parseInt(_0x31b7e6(0x1a0))/0xb);if(_0x50365e===_0x21f6ec)break;else _0xdd54ae['push'](_0xdd54ae['shift']());}catch(_0x529186){_0xdd54ae['push'](_0xdd54ae['shift']());}}}(_0x229a,0xb3cf4));import{BooleanType,ColorType,NumberArrayType,NumberType,SizeType,StringType,newParsingContext}from'../expr/expression.js';function _0x43eb(_0xa5758e,_0x4c88b4){const _0x229abe=_0x229a();return _0x43eb=function(_0x43ebf5,_0xbbe9dc){_0x43ebf5=_0x43ebf5-0x167;let _0x523dcf=_0x229abe[_0x43ebf5];return _0x523dcf;},_0x43eb(_0xa5758e,_0x4c88b4);}import{ShaderBuilder}from'./ShaderBuilder.js';import{asArray}from'../color.js';import{buildExpression,getStringNumberEquivalent,stringToGlsl,uniformNameForVariable}from'../expr/gpu.js';function _0x229a(){const _0x4e152c=['smoothstep(-','regularDistanceField','\x20*\x20vec2(-1.,\x201.)','float\x20dashLength',',\x20v_texCoord)','8EeFvqz','dashLength','vec2(','shape-stroke-width','square','shape-fill-color','shape-angle','icon-src','(1.0\x20-\x20smoothstep(-0.63,\x200.58,\x20','toString','icon-scale','crossOrigin','getSingleDashDistance(distance,\x20radius,\x20','setTextureCoordinateExpression','setSymbolOffsetExpression','\x20*\x20vec2(vec2(',').x,\x20v_quadSizePx.y)','setFragmentDiscardExpression','starDistanceField','circle-','icon-anchor','v_quadSizePx\x20*\x200.5\x20-\x20','rotate-with-view','sampleFillPattern','icon-color','bottom-left',').xyxy','variables','getFillColorExpression','circle-radius','setStrokeWidthExpression','circleDistanceField','coordsPx\x20/\x20','\x20*\x20','\x20a_prop_','vec','6403300qadjPa',',\x20dashLength0,\x20totalDashLength,\x20capType)','evaluator','name','setStrokeJoinExpression','icon-anchor-x-units','scale','icon-anchor-origin','420372waSSuY',';\x0a}','u_texture','circleDistanceField(','getSymbolSizeExpression','\x0a\x20\x20float\x20totalDashLength\x20=\x20','getSingleDashDistance',').xyxy)\x20+\x20vec4(0.,\x200.,\x20','stroke-pattern-src','displacement','type','v_quadSizePx\x20*\x20vec2(0.5,\x20-0.5)\x20+\x20','stroke-pattern-size','sampleStrokePattern','\x20*\x20vec2(v_quadSizePx.x,\x20vec2(','fill-pattern-offset','\x20*\x20vec4(1.0,\x201.0,\x201.0,\x20','radius','map','shape-stroke-color','get','stroke-offset','\x20+\x20','220HWVlYP','properties',').x)','length','\x20*\x200.5)','fill-pattern-src','\x20=\x20',',\x20dashLength',',\x20getSingleDashDistance(distance,\x20radius,\x20','circle-stroke-color','bottom-right','vec2(0.,\x20','21EkpHos','v_quadSizePx\x20*\x20vec2(-0.5,\x200.5)\x20+\x20','setStrokeCapExpression','stroke-pattern-','setSymbolColorExpression','offset-origin','circle-fill-color','\x20-\x20','regularDistanceField(','stroke-width','84670KVFqav','setFillColorExpression','shape-opacity','\x20+\x20dashLength','max(','cross-origin','fill-color','filter','\x0a\x20\x20','stroke-pattern-offset','src','stroke-miter-limit','stroke-line-join','stringify','setSymbolSizeExpression','a_prop_','width','icon-anchor-y-units','pixels','_size','addUniform','min(','mix(','fill-pattern-','\x20*\x202.\x20+\x200.5)','circle-scale','vec4\x20unpackColor(vec2\x20packedColor)\x20{\x0a\x20\x20return\x20vec4(\x0a\x20\x20\x20\x20fract(floor(packedColor[0]\x20/\x20256.0)\x20/\x20256.0),\x0a\x20\x20\x20\x20fract(packedColor[0]\x20/\x20256.0),\x0a\x20\x20\x20\x20fract(floor(packedColor[1]\x20/\x20256.0)\x20/\x20256.0),\x0a\x20\x20\x20\x20fract(packedColor[1]\x20/\x20256.0)\x0a\x20\x20);\x0a}','stroke-line-dash','boolean','stroke-line-dash-offset','icon-height','starDistanceField(','5214968eWRgeB','icon-size','circle-stroke-width','round','vec2(0.)',';\x0a\x20\x20return\x20','float\x20circleDistanceField(vec2\x20point,\x20float\x20radius)\x20{\x0a\x20\x20return\x20length(point)\x20-\x20radius;\x0a}','(currentLengthPx\x20+\x20','9726vCgLwi',',\x20pxOrigin,\x20pxPos)','radius2',',\x20totalDashLength,\x20capType))','shape-radius2','\x20*\x200.5','\x20+\x200.63,\x20-','vec4\x20sampleStrokePattern(sampler2D\x20texture,\x20vec2\x20textureSize,\x20vec2\x20textureOffset,\x20vec2\x20sampleSize,\x20float\x20spacingPx,\x20float\x20currentLengthPx,\x20float\x20currentRadiusRatio,\x20float\x20lineWidth)\x20{\x0a\x20\x20float\x20currentLengthScaled\x20=\x20currentLengthPx\x20*\x20sampleSize.y\x20/\x20lineWidth;\x0a\x20\x20float\x20spacingScaled\x20=\x20spacingPx\x20*\x20sampleSize.y\x20/\x20lineWidth;\x0a\x20\x20float\x20uCoordPx\x20=\x20mod(currentLengthScaled,\x20(sampleSize.x\x20+\x20spacingScaled));\x0a\x20\x20//\x20make\x20sure\x20that\x20we\x27re\x20not\x20sampling\x20too\x20close\x20to\x20the\x20borders\x20to\x20avoid\x20interpolation\x20with\x20outside\x20pixels\x0a\x20\x20uCoordPx\x20=\x20clamp(uCoordPx,\x200.5,\x20sampleSize.x\x20-\x200.5);\x0a\x20\x20float\x20vCoordPx\x20=\x20(-currentRadiusRatio\x20*\x200.5\x20+\x200.5)\x20*\x20sampleSize.y;\x0a\x20\x20vec2\x20texCoord\x20=\x20(vec2(uCoordPx,\x20vCoordPx)\x20+\x20textureOffset)\x20/\x20textureSize;\x0a\x20\x20return\x20texture2D(texture,\x20texCoord);\x0a}','offset','setStrokeOffsetExpression','stroke-line-cap','rotation',')\x20{\x0a\x20\x20\x20\x20distanceSegment\x20=\x20min(distanceSegment,\x20sqrt(distanceSegment\x20*\x20distanceSegment\x20+\x20radius\x20*\x20radius)\x20-\x20v_width\x20*\x200.5);\x0a\x20\x20}\x0a\x20\x20return\x20distanceSegment;\x0a}','addAttribute','float\x20starDistanceField(vec2\x20point,\x20float\x20numPoints,\x20float\x20radius,\x20float\x20radius2,\x20float\x20angle)\x20{\x0a\x20\x20float\x20startAngle\x20=\x20-PI\x20*\x200.5\x20+\x20angle;\x20//\x20tip\x20starts\x20upwards\x20and\x20rotates\x20clockwise\x20with\x20angle\x0a\x20\x20float\x20c\x20=\x20cos(startAngle);\x0a\x20\x20float\x20s\x20=\x20sin(startAngle);\x0a\x20\x20vec2\x20pointRotated\x20=\x20vec2(c\x20*\x20point.x\x20-\x20s\x20*\x20point.y,\x20s\x20*\x20point.x\x20+\x20c\x20*\x20point.y);\x0a\x20\x20float\x20alpha\x20=\x20TWO_PI\x20/\x20numPoints;\x20//\x20the\x20angle\x20of\x20one\x20sector\x0a\x20\x20float\x20beta\x20=\x20atan(pointRotated.y,\x20pointRotated.x);\x0a\x20\x20float\x20gamma\x20=\x20round(beta\x20/\x20alpha)\x20*\x20alpha;\x20//\x20angle\x20in\x20sector\x0a\x20\x20c\x20=\x20cos(-gamma);\x0a\x20\x20s\x20=\x20sin(-gamma);\x0a\x20\x20vec2\x20inSector\x20=\x20vec2(c\x20*\x20pointRotated.x\x20-\x20s\x20*\x20pointRotated.y,\x20abs(s\x20*\x20pointRotated.x\x20+\x20c\x20*\x20pointRotated.y));\x0a\x20\x20vec2\x20tipToPoint\x20=\x20inSector\x20+\x20vec2(-radius,\x200.);\x0a\x20\x20vec2\x20edgeNormal\x20=\x20vec2(radius2\x20*\x20sin(alpha\x20*\x200.5),\x20-radius2\x20*\x20cos(alpha\x20*\x200.5)\x20+\x20radius);\x0a\x20\x20return\x20dot(normalize(edgeNormal),\x20tipToPoint);\x0a}','dashDistanceField_','setStrokeDistanceFieldExpression','vec4\x20sampleFillPattern(sampler2D\x20texture,\x20vec2\x20textureSize,\x20vec2\x20textureOffset,\x20vec2\x20sampleSize,\x20vec2\x20pxOrigin,\x20vec2\x20pxPosition)\x20{\x0a\x20\x20float\x20scaleRatio\x20=\x20pow(2.,\x20mod(u_zoom\x20+\x200.5,\x201.)\x20-\x200.5);\x0a\x20\x20vec2\x20pxRelativePos\x20=\x20pxPosition\x20-\x20pxOrigin;\x0a\x20\x20//\x20rotate\x20the\x20relative\x20position\x20from\x20origin\x20by\x20the\x20current\x20view\x20rotation\x0a\x20\x20pxRelativePos\x20=\x20vec2(pxRelativePos.x\x20*\x20cos(u_rotation)\x20-\x20pxRelativePos.y\x20*\x20sin(u_rotation),\x20pxRelativePos.x\x20*\x20sin(u_rotation)\x20+\x20pxRelativePos.y\x20*\x20cos(u_rotation));\x0a\x20\x20//\x20sample\x20position\x20is\x20computed\x20according\x20to\x20the\x20sample\x20offset\x20&\x20size\x0a\x20\x20vec2\x20samplePos\x20=\x20mod(pxRelativePos\x20/\x20scaleRatio,\x20sampleSize);\x0a\x20\x20//\x20also\x20make\x20sure\x20that\x20we\x27re\x20not\x20sampling\x20too\x20close\x20to\x20the\x20borders\x20to\x20avoid\x20interpolation\x20with\x20outside\x20pixels\x0a\x20\x20samplePos\x20=\x20clamp(samplePos,\x20vec2(0.5),\x20sampleSize\x20-\x20vec2(0.5));\x0a\x20\x20samplePos.y\x20=\x20sampleSize.y\x20-\x20samplePos.y;\x20//\x20invert\x20y\x20axis\x20so\x20that\x20images\x20appear\x20upright\x0a\x20\x20return\x20texture2D(texture,\x20(samplePos\x20+\x20textureOffset)\x20/\x20textureSize);\x0a}','868230vkkrId','setSymbolRotateWithView','v_quadSizePx','stroke-color','\x20*\x20v_quadSizePx','#eee',',\x20currentRadiusPx,\x20capType)','670900arsFmL','addVertexShaderFunction','vec4(1.0)','setStrokeColorExpression','icon-opacity','v_prop_','functions','number','string','circle-opacity','reduce','v_quadSizePx\x20*\x20-0.5\x20+\x20','2373RmPDGY','icon-width','\x20*\x20texture2D(u_texture','icon-','1.0','addFragmentShaderFunction','.y)\x20+\x20','float\x20round(float\x20v)\x20{\x0a\x20\x20return\x20sign(v)\x20*\x20floor(abs(v)\x20+\x200.5);\x0a}'];_0x229a=function(){return _0x4e152c;};return _0x229a();}export function expressionToGlsl(_0x233d40,_0x35a80a,_0x4a9da4){const _0x386315=newParsingContext();return buildExpression(_0x35a80a,_0x4a9da4,_0x386315,_0x233d40);}export function packColor(_0x5e74c8){const _0x5c7bd6=_0x43eb,_0x3d1860=asArray(_0x5e74c8),_0x3028f6=_0x3d1860[0x0]*0x100,_0x431be6=_0x3d1860[0x1],_0x49b4d2=_0x3d1860[0x2]*0x100,_0x29235c=Math[_0x5c7bd6(0x1d9)](_0x3d1860[0x3]*0xff);return[_0x3028f6+_0x431be6,_0x49b4d2+_0x29235c];}const UNPACK_COLOR_FN=_0x3c64d7(0x1d0);function getGlslSizeFromType(_0x5567a1){if(_0x5567a1===ColorType||_0x5567a1===SizeType)return 0x2;if(_0x5567a1===NumberArrayType)return 0x4;return 0x1;}function getGlslTypeFromType(_0x512cf9){const _0x481dfc=_0x3c64d7,_0x45bd87=getGlslSizeFromType(_0x512cf9);if(_0x45bd87>0x1)return _0x481dfc(0x180)+_0x45bd87;return'float';}export function computeHash(_0x1b97ef){const _0x149800=_0x3c64d7,_0x5e73e6=JSON[_0x149800(0x1c3)](_0x1b97ef)['split']('')[_0x149800(0x201)]((_0x35277b,_0x436149)=>(_0x35277b<<0x5)-_0x35277b+_0x436149['charCodeAt'](0x0),0x0);return(_0x5e73e6>>>0x0)[_0x149800(0x219)]();}function parseCommonSymbolProperties(_0xd02fd1,_0xe7b093,_0x2c3486,_0x172b88){const _0x5f42a1=_0x3c64d7;if(_0x172b88+_0x5f42a1(0x19a)in _0xd02fd1&&_0x172b88!==_0x5f42a1(0x206)){let _0x5040ee=expressionToGlsl(_0x2c3486,_0xd02fd1[_0x172b88+_0x5f42a1(0x19a)],NumberType);if(_0x172b88+_0x5f42a1(0x1e0)in _0xd02fd1){const _0x470501=expressionToGlsl(_0x2c3486,_0xd02fd1[_0x172b88+'radius2'],NumberType);_0x5040ee=_0x5f42a1(0x1ba)+_0x5040ee+',\x20'+_0x470501+')';}_0x172b88+'stroke-width'in _0xd02fd1&&(_0x5040ee='('+_0x5040ee+_0x5f42a1(0x19f)+expressionToGlsl(_0x2c3486,_0xd02fd1[_0x172b88+_0x5f42a1(0x1b5)],NumberType)+_0x5f42a1(0x1a4)),_0xe7b093['setSymbolSizeExpression']('vec2('+_0x5040ee+_0x5f42a1(0x1ce));}if(_0x172b88+_0x5f42a1(0x187)in _0xd02fd1){const _0xc14337=expressionToGlsl(_0x2c3486,_0xd02fd1[_0x172b88+_0x5f42a1(0x187)],SizeType);_0xe7b093[_0x5f42a1(0x1c4)](_0xe7b093['getSymbolSizeExpression']()+_0x5f42a1(0x17e)+_0xc14337);}_0x172b88+_0x5f42a1(0x192)in _0xd02fd1&&_0xe7b093[_0x5f42a1(0x16b)](expressionToGlsl(_0x2c3486,_0xd02fd1[_0x172b88+_0x5f42a1(0x192)],NumberArrayType)),_0x172b88+_0x5f42a1(0x1e9)in _0xd02fd1&&_0xe7b093['setSymbolRotationExpression'](expressionToGlsl(_0x2c3486,_0xd02fd1[_0x172b88+_0x5f42a1(0x1e9)],NumberType)),_0x172b88+_0x5f42a1(0x173)in _0xd02fd1&&_0xe7b093[_0x5f42a1(0x1f1)](!!_0xd02fd1[_0x172b88+_0x5f42a1(0x173)]);}function getColorFromDistanceField(_0x2a9cf5,_0x1cdc20,_0x12e16d,_0x97e79e,_0x297f51){const _0x5c65a6=_0x3c64d7;let _0x1eec4a='vec4(0.)';_0x1cdc20!==null&&(_0x1eec4a=_0x1cdc20);if(_0x12e16d!==null&&_0x97e79e!==null){const _0x5e614b=_0x5c65a6(0x20b)+_0x97e79e+_0x5c65a6(0x1e4)+_0x97e79e+'\x20-\x200.58,\x20'+_0x2a9cf5+')';_0x1eec4a=_0x5c65a6(0x1cc)+_0x12e16d+',\x20'+_0x1eec4a+',\x20'+_0x5e614b+')';}const _0x4b3929=_0x5c65a6(0x218)+_0x2a9cf5+'))';let _0x2ffef7=_0x1eec4a+_0x5c65a6(0x199)+_0x4b3929+')';return _0x297f51!==null&&(_0x2ffef7=_0x2ffef7+_0x5c65a6(0x199)+_0x297f51+')'),_0x2ffef7;}function parseImageProperties(_0x469d5c,_0x2305d7,_0x384c4d,_0x49eaa2,_0x282a81){const _0x484310=_0x3c64d7,_0x218514=new Image();_0x218514[_0x484310(0x168)]=_0x469d5c[_0x49eaa2+'cross-origin']===undefined?'anonymous':_0x469d5c[_0x49eaa2+_0x484310(0x1bb)],_0x218514[_0x484310(0x1c0)]=_0x469d5c[_0x49eaa2+_0x484310(0x1c0)],_0x384c4d[_0x484310(0x18b)+_0x282a81+_0x484310(0x1c9)]=()=>{const _0x3a8003=_0x484310;return _0x218514['complete']?[_0x218514[_0x3a8003(0x1c6)],_0x218514['height']]:[0x0,0x0];},_0x2305d7[_0x484310(0x1ca)]('vec2\x20u_texture'+_0x282a81+_0x484310(0x1c9));const _0x56489e=_0x484310(0x18b)+_0x282a81+_0x484310(0x1c9);return _0x384c4d[_0x484310(0x18b)+_0x282a81]=_0x218514,_0x2305d7[_0x484310(0x1ca)]('sampler2D\x20u_texture'+_0x282a81),_0x56489e;}function parseImageOffsetProperties(_0x174f59,_0x15169b,_0x297027,_0x397e3e,_0x554e8d){const _0x44417d=_0x3c64d7;let _0x5c53f5=expressionToGlsl(_0x297027,_0x174f59[_0x15169b+_0x44417d(0x1e6)],NumberArrayType);if(_0x15169b+_0x44417d(0x1b1)in _0x174f59)switch(_0x174f59[_0x15169b+'offset-origin']){case'top-right':_0x5c53f5=_0x44417d(0x212)+_0x397e3e+'.x,\x200.)\x20+\x20'+_0x554e8d+'\x20*\x20vec2(-1.,\x200.)\x20+\x20'+_0x5c53f5+'\x20*\x20vec2(-1.,\x201.)';break;case _0x44417d(0x176):_0x5c53f5=_0x44417d(0x1ab)+_0x397e3e+_0x44417d(0x209)+_0x554e8d+'\x20*\x20vec2(0.,\x20-1.)\x20+\x20'+_0x5c53f5+'\x20*\x20vec2(1.,\x20-1.)';break;case _0x44417d(0x1aa):_0x5c53f5=_0x397e3e+_0x44417d(0x1b3)+_0x554e8d+_0x44417d(0x1b3)+_0x5c53f5;break;default:}return _0x5c53f5;}function parseCircleProperties(_0x1a6cf4,_0x2b85f0,_0xe0d245,_0x28cc90,_0xe00659){const _0x380dce=_0x3c64d7;_0xe00659['functions'][_0x380dce(0x17c)]=_0x380dce(0x1dc),parseCommonSymbolProperties(_0x1a6cf4,_0x2b85f0,_0x28cc90,_0x380dce(0x170));let _0x4d49d5=null;'circle-opacity'in _0x1a6cf4&&(_0x4d49d5=expressionToGlsl(_0xe00659,_0x1a6cf4[_0x380dce(0x200)],NumberType));let _0x11f588='coordsPx';if('circle-scale'in _0x1a6cf4){const _0x286b01=expressionToGlsl(_0xe00659,_0x1a6cf4[_0x380dce(0x1cf)],SizeType);_0x11f588=_0x380dce(0x17d)+_0x286b01;}let _0x1765c6=null;_0x380dce(0x1b2)in _0x1a6cf4&&(_0x1765c6=expressionToGlsl(_0xe00659,_0x1a6cf4[_0x380dce(0x1b2)],ColorType));let _0x124254=null;_0x380dce(0x1a9)in _0x1a6cf4&&(_0x124254=expressionToGlsl(_0xe00659,_0x1a6cf4[_0x380dce(0x1a9)],ColorType));let _0x46b7aa=expressionToGlsl(_0xe00659,_0x1a6cf4[_0x380dce(0x17a)],NumberType),_0x247c4e=null;_0x380dce(0x1d8)in _0x1a6cf4&&(_0x247c4e=expressionToGlsl(_0xe00659,_0x1a6cf4[_0x380dce(0x1d8)],NumberType),_0x46b7aa='('+_0x46b7aa+_0x380dce(0x19f)+_0x247c4e+_0x380dce(0x1a4));const _0x222c5a=_0x380dce(0x18c)+_0x11f588+',\x20'+_0x46b7aa+')',_0x861bbc=getColorFromDistanceField(_0x222c5a,_0x1765c6,_0x124254,_0x247c4e,_0x4d49d5);_0x2b85f0[_0x380dce(0x1b0)](_0x861bbc);}function parseShapeProperties(_0x156563,_0x228a48,_0x976b05,_0x5c9aab,_0x119507){const _0x1360af=_0x3c64d7;_0x119507['functions']['round']=_0x1360af(0x20a),_0x119507[_0x1360af(0x1fd)][_0x1360af(0x16f)]=_0x1360af(0x1ec),_0x119507[_0x1360af(0x1fd)][_0x1360af(0x20c)]='float\x20regularDistanceField(vec2\x20point,\x20float\x20numPoints,\x20float\x20radius,\x20float\x20angle)\x20{\x0a\x20\x20float\x20startAngle\x20=\x20-PI\x20*\x200.5\x20+\x20angle;\x20//\x20tip\x20starts\x20upwards\x20and\x20rotates\x20clockwise\x20with\x20angle\x0a\x20\x20float\x20c\x20=\x20cos(startAngle);\x0a\x20\x20float\x20s\x20=\x20sin(startAngle);\x0a\x20\x20vec2\x20pointRotated\x20=\x20vec2(c\x20*\x20point.x\x20-\x20s\x20*\x20point.y,\x20s\x20*\x20point.x\x20+\x20c\x20*\x20point.y);\x0a\x20\x20float\x20alpha\x20=\x20TWO_PI\x20/\x20numPoints;\x20//\x20the\x20angle\x20of\x20one\x20sector\x0a\x20\x20float\x20radiusIn\x20=\x20radius\x20*\x20cos(PI\x20/\x20numPoints);\x0a\x20\x20float\x20beta\x20=\x20atan(pointRotated.y,\x20pointRotated.x);\x0a\x20\x20float\x20gamma\x20=\x20round((beta\x20-\x20alpha\x20*\x200.5)\x20/\x20alpha)\x20*\x20alpha\x20+\x20alpha\x20*\x200.5;\x20//\x20angle\x20in\x20sector\x20from\x20mid\x0a\x20\x20c\x20=\x20cos(-gamma);\x0a\x20\x20s\x20=\x20sin(-gamma);\x0a\x20\x20vec2\x20inSector\x20=\x20vec2(c\x20*\x20pointRotated.x\x20-\x20s\x20*\x20pointRotated.y,\x20abs(s\x20*\x20pointRotated.x\x20+\x20c\x20*\x20pointRotated.y));\x0a\x20\x20return\x20inSector.x\x20-\x20radiusIn;\x0a}',parseCommonSymbolProperties(_0x156563,_0x228a48,_0x5c9aab,'shape-');let _0x524778=null;_0x1360af(0x1b8)in _0x156563&&(_0x524778=expressionToGlsl(_0x119507,_0x156563['shape-opacity'],NumberType));let _0x3ede8b='coordsPx';if('shape-scale'in _0x156563){const _0x3f8bcc=expressionToGlsl(_0x119507,_0x156563['shape-scale'],SizeType);_0x3ede8b=_0x1360af(0x17d)+_0x3f8bcc;}let _0x19d840=null;'shape-fill-color'in _0x156563&&(_0x19d840=expressionToGlsl(_0x119507,_0x156563[_0x1360af(0x215)],ColorType));let _0x4c732b=null;_0x1360af(0x19c)in _0x156563&&(_0x4c732b=expressionToGlsl(_0x119507,_0x156563[_0x1360af(0x19c)],ColorType));let _0x341980=null;_0x1360af(0x213)in _0x156563&&(_0x341980=expressionToGlsl(_0x119507,_0x156563[_0x1360af(0x213)],NumberType));const _0x1e4a81=expressionToGlsl(_0x119507,_0x156563['shape-points'],NumberType);let _0xfa8149='0.';_0x1360af(0x216)in _0x156563&&(_0xfa8149=expressionToGlsl(_0x119507,_0x156563[_0x1360af(0x216)],NumberType));let _0x2c4a04,_0x31a7a5=expressionToGlsl(_0x119507,_0x156563['shape-radius'],NumberType);_0x341980!==null&&(_0x31a7a5=_0x31a7a5+'\x20+\x20'+_0x341980+_0x1360af(0x1e3));if(_0x1360af(0x1e2)in _0x156563){let _0xc7a8af=expressionToGlsl(_0x119507,_0x156563[_0x1360af(0x1e2)],NumberType);_0x341980!==null&&(_0xc7a8af=_0xc7a8af+_0x1360af(0x19f)+_0x341980+_0x1360af(0x1e3)),_0x2c4a04=_0x1360af(0x1d5)+_0x3ede8b+',\x20'+_0x1e4a81+',\x20'+_0x31a7a5+',\x20'+_0xc7a8af+',\x20'+_0xfa8149+')';}else _0x2c4a04=_0x1360af(0x1b4)+_0x3ede8b+',\x20'+_0x1e4a81+',\x20'+_0x31a7a5+',\x20'+_0xfa8149+')';const _0x492b1f=getColorFromDistanceField(_0x2c4a04,_0x19d840,_0x4c732b,_0x341980,_0x524778);_0x228a48['setSymbolColorExpression'](_0x492b1f);}function parseIconProperties(_0x500199,_0x312aec,_0x177e5a,_0x10a728,_0x3ff56c){const _0x3a6651=_0x3c64d7;let _0x3d0948=_0x3a6651(0x1f9);_0x3a6651(0x175)in _0x500199&&(_0x3d0948=expressionToGlsl(_0x3ff56c,_0x500199[_0x3a6651(0x175)],ColorType));_0x3a6651(0x1fb)in _0x500199&&(_0x3d0948=_0x3d0948+_0x3a6651(0x199)+expressionToGlsl(_0x3ff56c,_0x500199[_0x3a6651(0x1fb)],NumberType)+')');const _0x3846e5=computeHash(_0x500199['icon-src']),_0x3d292a=parseImageProperties(_0x500199,_0x312aec,_0x177e5a,_0x3a6651(0x206),_0x3846e5);_0x312aec[_0x3a6651(0x1b0)](_0x3d0948+_0x3a6651(0x205)+_0x3846e5+_0x3a6651(0x20f))[_0x3a6651(0x1c4)](_0x3d292a);_0x3a6651(0x204)in _0x500199&&_0x3a6651(0x1d4)in _0x500199&&_0x312aec[_0x3a6651(0x1c4)](_0x3a6651(0x212)+expressionToGlsl(_0x10a728,_0x500199[_0x3a6651(0x204)],NumberType)+',\x20'+expressionToGlsl(_0x10a728,_0x500199[_0x3a6651(0x1d4)],NumberType)+')');if('icon-offset'in _0x500199&&_0x3a6651(0x1d7)in _0x500199){const _0x446eca=expressionToGlsl(_0x10a728,_0x500199['icon-size'],NumberArrayType),_0x29ae09=_0x312aec[_0x3a6651(0x18d)]();_0x312aec[_0x3a6651(0x1c4)](_0x446eca);const _0x58c1aa=parseImageOffsetProperties(_0x500199,_0x3a6651(0x206),_0x10a728,_0x3a6651(0x1f2),_0x446eca);_0x312aec[_0x3a6651(0x16a)]('(vec4(('+_0x58c1aa+_0x3a6651(0x190)+_0x446eca+'))\x20/\x20('+_0x29ae09+_0x3a6651(0x177));}parseCommonSymbolProperties(_0x500199,_0x312aec,_0x10a728,_0x3a6651(0x206));if('icon-anchor'in _0x500199){const _0x18bb7a=expressionToGlsl(_0x10a728,_0x500199[_0x3a6651(0x171)],NumberArrayType);let _0x4bbf0c=_0x3a6651(0x207);_0x3a6651(0x167)in _0x500199&&(_0x4bbf0c=expressionToGlsl(_0x10a728,_0x500199['icon-scale'],SizeType));let _0xa6a1ca;if(_0x500199[_0x3a6651(0x186)]===_0x3a6651(0x1c8)&&_0x500199[_0x3a6651(0x1c7)]===_0x3a6651(0x1c8))_0xa6a1ca=_0x18bb7a+_0x3a6651(0x17e)+_0x4bbf0c;else{if(_0x500199['icon-anchor-x-units']==='pixels')_0xa6a1ca=_0x18bb7a+_0x3a6651(0x16c)+_0x4bbf0c+_0x3a6651(0x16d);else _0x500199[_0x3a6651(0x1c7)]==='pixels'?_0xa6a1ca=_0x18bb7a+_0x3a6651(0x197)+_0x4bbf0c+_0x3a6651(0x1a2):_0xa6a1ca=_0x18bb7a+_0x3a6651(0x1f4);}let _0x4e2fe5=_0x3a6651(0x194)+_0xa6a1ca+_0x3a6651(0x20d);if(_0x3a6651(0x188)in _0x500199)switch(_0x500199[_0x3a6651(0x188)]){case'top-right':_0x4e2fe5=_0x3a6651(0x202)+_0xa6a1ca;break;case'bottom-left':_0x4e2fe5=_0x3a6651(0x172)+_0xa6a1ca;break;case _0x3a6651(0x1aa):_0x4e2fe5=_0x3a6651(0x1ad)+_0xa6a1ca+'\x20*\x20vec2(1.,\x20-1.)';break;default:}_0x312aec['setSymbolOffsetExpression'](_0x312aec['getSymbolOffsetExpression']()+_0x3a6651(0x19f)+_0x4e2fe5);}}function parseStrokeProperties(_0x5b4bfd,_0x26ef6c,_0x92958e,_0x40d721,_0x449ca6){const _0x32064d=_0x3c64d7;_0x32064d(0x1f3)in _0x5b4bfd&&_0x26ef6c[_0x32064d(0x1fa)](expressionToGlsl(_0x449ca6,_0x5b4bfd['stroke-color'],ColorType));if(_0x32064d(0x191)in _0x5b4bfd){const _0x3cb234=computeHash(_0x5b4bfd['stroke-pattern-src']),_0x31d78a=parseImageProperties(_0x5b4bfd,_0x26ef6c,_0x92958e,_0x32064d(0x1af),_0x3cb234);let _0x7e2b20=_0x31d78a,_0x382898='vec2(0.)';_0x32064d(0x1bf)in _0x5b4bfd&&_0x32064d(0x195)in _0x5b4bfd&&(_0x7e2b20=expressionToGlsl(_0x449ca6,_0x5b4bfd[_0x32064d(0x195)],NumberArrayType),_0x382898=parseImageOffsetProperties(_0x5b4bfd,_0x32064d(0x1af),_0x449ca6,_0x31d78a,_0x7e2b20));let _0x4ae9d1='0.';'stroke-pattern-spacing'in _0x5b4bfd&&(_0x4ae9d1=expressionToGlsl(_0x449ca6,_0x5b4bfd['stroke-pattern-spacing'],NumberType));_0x449ca6[_0x32064d(0x1fd)][_0x32064d(0x196)]=_0x32064d(0x1e5);const _0x1f9f2b='u_texture'+_0x3cb234;let _0x4853e2='1.';_0x32064d(0x1f3)in _0x5b4bfd&&(_0x4853e2=_0x26ef6c['getStrokeColorExpression']()),_0x26ef6c[_0x32064d(0x1fa)](_0x4853e2+'\x20*\x20sampleStrokePattern('+_0x1f9f2b+',\x20'+_0x31d78a+',\x20'+_0x382898+',\x20'+_0x7e2b20+',\x20'+_0x4ae9d1+',\x20currentLengthPx,\x20currentRadiusRatio,\x20v_width)');}_0x32064d(0x1b5)in _0x5b4bfd&&_0x26ef6c[_0x32064d(0x17b)](expressionToGlsl(_0x40d721,_0x5b4bfd[_0x32064d(0x1b5)],NumberType));_0x32064d(0x19e)in _0x5b4bfd&&_0x26ef6c[_0x32064d(0x1e7)](expressionToGlsl(_0x40d721,_0x5b4bfd[_0x32064d(0x19e)],NumberType));_0x32064d(0x1e8)in _0x5b4bfd&&_0x26ef6c[_0x32064d(0x1ae)](expressionToGlsl(_0x40d721,_0x5b4bfd['stroke-line-cap'],StringType));'stroke-line-join'in _0x5b4bfd&&_0x26ef6c[_0x32064d(0x185)](expressionToGlsl(_0x40d721,_0x5b4bfd[_0x32064d(0x1c2)],StringType));_0x32064d(0x1c1)in _0x5b4bfd&&_0x26ef6c['setStrokeMiterLimitExpression'](expressionToGlsl(_0x40d721,_0x5b4bfd[_0x32064d(0x1c1)],NumberType));if(_0x32064d(0x1d1)in _0x5b4bfd){_0x449ca6['functions'][_0x32064d(0x18f)]='float\x20getSingleDashDistance(float\x20distance,\x20float\x20radius,\x20float\x20dashOffset,\x20float\x20dashLength,\x20float\x20dashLengthTotal,\x20float\x20capType)\x20{\x0a\x20\x20float\x20localDistance\x20=\x20mod(distance,\x20dashLengthTotal);\x0a\x20\x20float\x20distanceSegment\x20=\x20abs(localDistance\x20-\x20dashOffset\x20-\x20dashLength\x20*\x200.5)\x20-\x20dashLength\x20*\x200.5;\x0a\x20\x20distanceSegment\x20=\x20min(distanceSegment,\x20dashLengthTotal\x20-\x20localDistance);\x0a\x20\x20if\x20(capType\x20==\x20'+stringToGlsl(_0x32064d(0x214))+')\x20{\x0a\x20\x20\x20\x20distanceSegment\x20-=\x20v_width\x20*\x200.5;\x0a\x20\x20}\x20else\x20if\x20(capType\x20==\x20'+stringToGlsl('round')+_0x32064d(0x1ea);let _0x310dbd=_0x5b4bfd[_0x32064d(0x1d1)][_0x32064d(0x19b)](_0x4702e1=>expressionToGlsl(_0x449ca6,_0x4702e1,NumberType));_0x310dbd[_0x32064d(0x1a3)]%0x2===0x1&&(_0x310dbd=[..._0x310dbd,..._0x310dbd]);let _0x15e695='0.';_0x32064d(0x1d3)in _0x5b4bfd&&(_0x15e695=expressionToGlsl(_0x40d721,_0x5b4bfd['stroke-line-dash-offset'],NumberType));const _0x105aff=computeHash(_0x5b4bfd['stroke-line-dash']),_0x357b65=_0x32064d(0x1ed)+_0x105aff,_0x58f333=_0x310dbd[_0x32064d(0x19b)]((_0x49949d,_0x5a85cc)=>_0x32064d(0x20e)+_0x5a85cc+_0x32064d(0x1a6)+_0x49949d+';'),_0x4973a6=_0x310dbd['map']((_0x11b874,_0x4f9fb8)=>_0x32064d(0x211)+_0x4f9fb8)['join'](_0x32064d(0x19f));let _0x3137f5='0.',_0x52f520=_0x32064d(0x169)+_0x3137f5+_0x32064d(0x182);for(let _0x4065c2=0x2;_0x4065c2<_0x310dbd[_0x32064d(0x1a3)];_0x4065c2+=0x2){_0x3137f5=_0x3137f5+_0x32064d(0x1b9)+(_0x4065c2-0x2)+_0x32064d(0x1b9)+(_0x4065c2-0x1),_0x52f520=_0x32064d(0x1cb)+_0x52f520+_0x32064d(0x1a8)+_0x3137f5+_0x32064d(0x1a7)+_0x4065c2+_0x32064d(0x1e1);}_0x449ca6[_0x32064d(0x1fd)][_0x357b65]='float\x20'+_0x357b65+'(float\x20distance,\x20float\x20radius,\x20float\x20capType)\x20{\x0a\x20\x20'+_0x58f333['join'](_0x32064d(0x1be))+_0x32064d(0x18e)+_0x4973a6+_0x32064d(0x1db)+_0x52f520+_0x32064d(0x18a),_0x26ef6c[_0x32064d(0x1ee)](_0x357b65+_0x32064d(0x1dd)+_0x15e695+_0x32064d(0x1f6));}}function parseFillProperties(_0x1967e2,_0x3d51ac,_0x1d76f6,_0x5e03d0,_0x24ed20){const _0x967c06=_0x3c64d7;_0x967c06(0x1bc)in _0x1967e2&&_0x3d51ac[_0x967c06(0x1b7)](expressionToGlsl(_0x24ed20,_0x1967e2['fill-color'],ColorType));if(_0x967c06(0x1a5)in _0x1967e2){const _0x1d084c=computeHash(_0x1967e2[_0x967c06(0x1a5)]),_0x25965b=parseImageProperties(_0x1967e2,_0x3d51ac,_0x1d76f6,_0x967c06(0x1cd),_0x1d084c);let _0x452f1f=_0x25965b,_0x146d00=_0x967c06(0x1da);_0x967c06(0x198)in _0x1967e2&&'fill-pattern-size'in _0x1967e2&&(_0x452f1f=expressionToGlsl(_0x24ed20,_0x1967e2['fill-pattern-size'],NumberArrayType),_0x146d00=parseImageOffsetProperties(_0x1967e2,_0x967c06(0x1cd),_0x24ed20,_0x25965b,_0x452f1f));_0x24ed20[_0x967c06(0x1fd)][_0x967c06(0x174)]=_0x967c06(0x1ef);const _0x52d3e7='u_texture'+_0x1d084c;let _0x46ae3c='1.';_0x967c06(0x1bc)in _0x1967e2&&(_0x46ae3c=_0x3d51ac[_0x967c06(0x179)]()),_0x3d51ac[_0x967c06(0x1b7)](_0x46ae3c+'\x20*\x20sampleFillPattern('+_0x52d3e7+',\x20'+_0x25965b+',\x20'+_0x146d00+',\x20'+_0x452f1f+_0x967c06(0x1df));}}export function parseLiteralStyle(_0x12d611){const _0xab08c6=_0x3c64d7,_0x4c8928={'inFragmentShader':![],'properties':{},'variables':{},'functions':{},'style':_0x12d611},_0x5cd1dd={'inFragmentShader':!![],'variables':_0x4c8928[_0xab08c6(0x178)],'properties':{},'functions':{},'style':_0x12d611},_0x3ef9df=new ShaderBuilder(),_0xef40a6={};if(_0xab08c6(0x217)in _0x12d611)parseIconProperties(_0x12d611,_0x3ef9df,_0xef40a6,_0x4c8928,_0x5cd1dd);else{if('shape-points'in _0x12d611)parseShapeProperties(_0x12d611,_0x3ef9df,_0xef40a6,_0x4c8928,_0x5cd1dd);else _0xab08c6(0x17a)in _0x12d611&&parseCircleProperties(_0x12d611,_0x3ef9df,_0xef40a6,_0x4c8928,_0x5cd1dd);}parseStrokeProperties(_0x12d611,_0x3ef9df,_0xef40a6,_0x4c8928,_0x5cd1dd),parseFillProperties(_0x12d611,_0x3ef9df,_0xef40a6,_0x4c8928,_0x5cd1dd);if(_0x12d611[_0xab08c6(0x1bd)]){const _0x3d6dfa=expressionToGlsl(_0x5cd1dd,_0x12d611[_0xab08c6(0x1bd)],BooleanType);_0x3ef9df[_0xab08c6(0x16e)]('!'+_0x3d6dfa);}for(const _0x5f2d43 in _0x5cd1dd[_0xab08c6(0x178)]){const _0x5b4ddb=_0x5cd1dd[_0xab08c6(0x178)][_0x5f2d43],_0x40b0fd=uniformNameForVariable(_0x5b4ddb[_0xab08c6(0x184)]);_0x3ef9df[_0xab08c6(0x1ca)](getGlslTypeFromType(_0x5b4ddb[_0xab08c6(0x193)])+'\x20'+_0x40b0fd),_0xef40a6[_0x40b0fd]=()=>{const _0x3da26d=_0xab08c6,_0x54a6e6=_0x12d611[_0x3da26d(0x178)][_0x5b4ddb['name']];if(typeof _0x54a6e6===_0x3da26d(0x1fe))return _0x54a6e6;if(typeof _0x54a6e6===_0x3da26d(0x1d2))return _0x54a6e6?0x1:0x0;if(_0x5b4ddb[_0x3da26d(0x193)]===ColorType)return packColor([...asArray(_0x54a6e6||_0x3da26d(0x1f5))]);if(typeof _0x54a6e6===_0x3da26d(0x1ff))return getStringNumberEquivalent(_0x54a6e6);return _0x54a6e6;};}for(const _0x4f4237 in _0x5cd1dd[_0xab08c6(0x1a1)]){const _0x3f078d=_0x5cd1dd[_0xab08c6(0x1a1)][_0x4f4237];!_0x4c8928[_0xab08c6(0x1a1)][_0x4f4237]&&(_0x4c8928[_0xab08c6(0x1a1)][_0x4f4237]=_0x3f078d);let _0x146bef=getGlslTypeFromType(_0x3f078d['type']),_0x3aa23e=_0xab08c6(0x1c5)+_0x3f078d['name'];_0x3f078d['type']===ColorType&&(_0x146bef='vec4',_0x3aa23e='unpackColor('+_0x3aa23e+')',_0x3ef9df[_0xab08c6(0x1f8)](UNPACK_COLOR_FN)),_0x3ef9df['addVarying'](_0xab08c6(0x1fc)+_0x3f078d[_0xab08c6(0x184)],_0x146bef,_0x3aa23e);}for(const _0x126c8a in _0x4c8928[_0xab08c6(0x1a1)]){const _0x5d0ef2=_0x4c8928[_0xab08c6(0x1a1)][_0x126c8a];_0x3ef9df[_0xab08c6(0x1eb)](getGlslTypeFromType(_0x5d0ef2[_0xab08c6(0x193)])+_0xab08c6(0x17f)+_0x5d0ef2[_0xab08c6(0x184)]);}for(const _0xd9abb9 in _0x4c8928[_0xab08c6(0x1fd)]){_0x3ef9df[_0xab08c6(0x1f8)](_0x4c8928['functions'][_0xd9abb9]);}for(const _0x3740f2 in _0x5cd1dd[_0xab08c6(0x1fd)]){_0x3ef9df[_0xab08c6(0x208)](_0x5cd1dd[_0xab08c6(0x1fd)][_0x3740f2]);}const _0x47cfec={};for(const _0x8fd296 in _0x4c8928[_0xab08c6(0x1a1)]){const _0x13203a=_0x4c8928[_0xab08c6(0x1a1)][_0x8fd296];let _0x34b52e;_0x13203a[_0xab08c6(0x183)]?_0x34b52e=_0x13203a['evaluator']:_0x34b52e=_0x251f11=>{const _0x3bd86b=_0xab08c6,_0x3a9b7d=_0x251f11[_0x3bd86b(0x19d)](_0x13203a[_0x3bd86b(0x184)]);if(_0x13203a[_0x3bd86b(0x193)]===ColorType)return packColor([...asArray(_0x3a9b7d||_0x3bd86b(0x1f5))]);if(typeof _0x3a9b7d==='string')return getStringNumberEquivalent(_0x3a9b7d);if(typeof _0x3a9b7d===_0x3bd86b(0x1d2))return _0x3a9b7d?0x1:0x0;return _0x3a9b7d;},_0x47cfec[_0x13203a[_0xab08c6(0x184)]]={'size':getGlslSizeFromType(_0x13203a[_0xab08c6(0x193)]),'callback':_0x34b52e};}return{'builder':_0x3ef9df,'attributes':_0x47cfec,'uniforms':_0xef40a6};}