const _0x12060d=_0x40ee;(function(_0x2bdf01,_0x123ce1){const _0x2af2b1=_0x40ee,_0xc5eb5=_0x2bdf01();while(!![]){try{const _0x42ff49=parseInt(_0x2af2b1(0xd0))/0x1+parseInt(_0x2af2b1(0xef))/0x2*(parseInt(_0x2af2b1(0x10b))/0x3)+parseInt(_0x2af2b1(0xf3))/0x4*(-parseInt(_0x2af2b1(0x12c))/0x5)+-parseInt(_0x2af2b1(0xdb))/0x6*(parseInt(_0x2af2b1(0x10a))/0x7)+-parseInt(_0x2af2b1(0xe2))/0x8+parseInt(_0x2af2b1(0xe9))/0x9+-parseInt(_0x2af2b1(0xe5))/0xa*(-parseInt(_0x2af2b1(0xff))/0xb);if(_0x42ff49===_0x123ce1)break;else _0xc5eb5['push'](_0xc5eb5['shift']());}catch(_0x29b29e){_0xc5eb5['push'](_0xc5eb5['shift']());}}}(_0x4049,0x9187f));import _0x252d70 from'./Object.js';import _0x311cc6 from'./MapEventType.js';import{CLASS_SELECTABLE}from'./css.js';import{containsExtent}from'./extent.js';function _0x4049(){const _0x128a5f=['visible','options','5229136pIXotS','bottom-left','getPositioning','2710VbVbUH','setMap','positioning','handleOffsetChanged','4322547BZUSPJ','addChangeListener','center-right','style','updatePixelPosition','display','20xooIgX','panIntoView','childNodes','-50%','4rcCETw','animation','getMap','element','getOverlayContainerStopEvent','round','ol-overlay-container\x20','handleMapChanged','setPosition','center-center','transform','autoPan','61237wIgaye','-100%','setPositioning','get','position','insertBefore','createElement','bottom-center','transform_','setOffset','getId','14xHoddR','182628AwdznA','getPixelFromCoordinateInternal','bottom-right','handlePositionChanged','POSITION','mapPostrenderListenerKey','offset','absolute','remove','rendered','appendChild','getCoordinateFromPixelInternal','getOverlayContainer','getCenterInternal','getSize','map','performAutoPan',')\x20translate(','getOffset','updateRenderedPosition','margin','top-center','handlePositioningChanged','getView','set','animateInternal','getBoundingClientRect','POSTRENDER','isRendered','pageXOffset','getPixelFromCoordinate','none','getElement','3667195grpnGF','once','top','167326obcfNB','stopEvent','duration','abs','center-left','getRect','insertFirst','POSITIONING','auto','OFFSET','ELEMENT','2345550XLrFhB','top-left','MAP','handleElementChanged','render'];_0x4049=function(){return _0x128a5f;};return _0x4049();}import{listen,unlistenByKey}from'./events.js';import{outerHeight,outerWidth,removeChildren}from'./dom.js';const Property={'ELEMENT':_0x12060d(0xf6),'MAP':_0x12060d(0x11a),'OFFSET':_0x12060d(0x111),'POSITION':_0x12060d(0x103),'POSITIONING':'positioning'};function _0x40ee(_0x329e52,_0xaf5a51){const _0x40496c=_0x4049();return _0x40ee=function(_0x40ee88,_0x26c4b5){_0x40ee88=_0x40ee88-0xce;let _0xfc7350=_0x40496c[_0x40ee88];return _0xfc7350;},_0x40ee(_0x329e52,_0xaf5a51);}class Overlay extends _0x252d70{constructor(_0x4ffe1b){const _0x231bf4=_0x12060d;super(),this['on'],this[_0x231bf4(0xce)],this['un'],this[_0x231bf4(0xe1)]=_0x4ffe1b,this['id']=_0x4ffe1b['id'],this[_0x231bf4(0xd6)]=_0x4ffe1b['insertFirst']!==undefined?_0x4ffe1b[_0x231bf4(0xd6)]:!![],this[_0x231bf4(0xd1)]=_0x4ffe1b[_0x231bf4(0xd1)]!==undefined?_0x4ffe1b[_0x231bf4(0xd1)]:!![],this[_0x231bf4(0xf6)]=document[_0x231bf4(0x105)]('div'),this[_0x231bf4(0xf6)]['className']=_0x4ffe1b['className']!==undefined?_0x4ffe1b['className']:_0x231bf4(0xf9)+CLASS_SELECTABLE,this[_0x231bf4(0xf6)][_0x231bf4(0xec)][_0x231bf4(0x103)]=_0x231bf4(0x112),this[_0x231bf4(0xf6)]['style']['pointerEvents']=_0x231bf4(0xd8),this['autoPan']=_0x4ffe1b[_0x231bf4(0xfe)]===!![]?{}:_0x4ffe1b[_0x231bf4(0xfe)]||undefined,this[_0x231bf4(0x114)]={'transform_':'','visible':!![]},this[_0x231bf4(0x110)]=null,this[_0x231bf4(0xea)](Property[_0x231bf4(0xda)],this[_0x231bf4(0xde)]),this[_0x231bf4(0xea)](Property[_0x231bf4(0xdd)],this['handleMapChanged']),this[_0x231bf4(0xea)](Property[_0x231bf4(0xd9)],this['handleOffsetChanged']),this[_0x231bf4(0xea)](Property['POSITION'],this[_0x231bf4(0x10e)]),this['addChangeListener'](Property['POSITIONING'],this[_0x231bf4(0x121)]),_0x4ffe1b[_0x231bf4(0xf6)]!==undefined&&this['setElement'](_0x4ffe1b[_0x231bf4(0xf6)]),this[_0x231bf4(0x108)](_0x4ffe1b[_0x231bf4(0x111)]!==undefined?_0x4ffe1b[_0x231bf4(0x111)]:[0x0,0x0]),this[_0x231bf4(0x101)](_0x4ffe1b[_0x231bf4(0xe7)]||_0x231bf4(0xdc)),_0x4ffe1b[_0x231bf4(0x103)]!==undefined&&this[_0x231bf4(0xfb)](_0x4ffe1b[_0x231bf4(0x103)]);}['getElement'](){const _0x225f17=_0x12060d;return this['get'](Property[_0x225f17(0xda)]);}[_0x12060d(0x109)](){return this['id'];}['getMap'](){const _0x2f3b38=_0x12060d;return this['get'](Property[_0x2f3b38(0xdd)])||null;}[_0x12060d(0x11d)](){const _0x1ab516=_0x12060d;return this[_0x1ab516(0x102)](Property[_0x1ab516(0xd9)]);}['getPosition'](){return this['get'](Property['POSITION']);}[_0x12060d(0xe4)](){const _0x481816=_0x12060d;return this[_0x481816(0x102)](Property[_0x481816(0xd7)]);}[_0x12060d(0xde)](){const _0x17d873=_0x12060d;removeChildren(this[_0x17d873(0xf6)]);const _0x59a158=this[_0x17d873(0x12b)]();_0x59a158&&this[_0x17d873(0xf6)][_0x17d873(0x115)](_0x59a158);}[_0x12060d(0xfa)](){const _0x893cab=_0x12060d;this[_0x893cab(0x110)]&&(this['element']?.[_0x893cab(0x113)](),unlistenByKey(this[_0x893cab(0x110)]),this[_0x893cab(0x110)]=null);const _0x27fe21=this[_0x893cab(0xf5)]();if(_0x27fe21){this[_0x893cab(0x110)]=listen(_0x27fe21,_0x311cc6[_0x893cab(0x126)],this['render'],this),this[_0x893cab(0xed)]();const _0x174c9c=this[_0x893cab(0xd1)]?_0x27fe21[_0x893cab(0xf7)]():_0x27fe21[_0x893cab(0x117)]();this[_0x893cab(0xd6)]?_0x174c9c[_0x893cab(0x104)](this[_0x893cab(0xf6)],_0x174c9c[_0x893cab(0xf1)][0x0]||null):_0x174c9c[_0x893cab(0x115)](this[_0x893cab(0xf6)]),this['performAutoPan']();}}[_0x12060d(0xdf)](){this['updatePixelPosition']();}[_0x12060d(0xe8)](){const _0x357a2d=_0x12060d;this[_0x357a2d(0xed)]();}['handlePositionChanged'](){const _0x53e387=_0x12060d;this[_0x53e387(0xed)](),this[_0x53e387(0x11b)]();}['handlePositioningChanged'](){const _0x57dbd9=_0x12060d;this[_0x57dbd9(0xed)]();}['setElement'](_0x40c4c8){const _0x152971=_0x12060d;this['set'](Property[_0x152971(0xda)],_0x40c4c8);}[_0x12060d(0xe6)](_0x195e06){const _0xd876d7=_0x12060d;this['set'](Property[_0xd876d7(0xdd)],_0x195e06);}['setOffset'](_0x2a9134){const _0x3febd0=_0x12060d;this[_0x3febd0(0x123)](Property[_0x3febd0(0xd9)],_0x2a9134);}[_0x12060d(0xfb)](_0x400f77){const _0x807057=_0x12060d;this[_0x807057(0x123)](Property['POSITION'],_0x400f77);}['performAutoPan'](){const _0x5213f5=_0x12060d;this[_0x5213f5(0xfe)]&&this[_0x5213f5(0xf0)](this[_0x5213f5(0xfe)]);}[_0x12060d(0xf0)](_0x44f678){const _0x16a37c=_0x12060d,_0xc33317=this[_0x16a37c(0xf5)]();if(!_0xc33317||!_0xc33317['getTargetElement']()||!this['get'](Property[_0x16a37c(0x10f)]))return;const _0x28fc38=this[_0x16a37c(0xd5)](_0xc33317['getTargetElement'](),_0xc33317[_0x16a37c(0x119)]()),_0x1466c5=this[_0x16a37c(0x12b)](),_0xf47c69=this['getRect'](_0x1466c5,[outerWidth(_0x1466c5),outerHeight(_0x1466c5)]);_0x44f678=_0x44f678||{};const _0xf0a339=_0x44f678[_0x16a37c(0x11f)]===undefined?0x14:_0x44f678['margin'];if(!containsExtent(_0x28fc38,_0xf47c69)){const _0x3e3ac6=_0xf47c69[0x0]-_0x28fc38[0x0],_0x301c30=_0x28fc38[0x2]-_0xf47c69[0x2],_0x999b7=_0xf47c69[0x1]-_0x28fc38[0x1],_0x1e4d95=_0x28fc38[0x3]-_0xf47c69[0x3],_0x53aff5=[0x0,0x0];if(_0x3e3ac6<0x0)_0x53aff5[0x0]=_0x3e3ac6-_0xf0a339;else _0x301c30<0x0&&(_0x53aff5[0x0]=Math[_0x16a37c(0xd3)](_0x301c30)+_0xf0a339);if(_0x999b7<0x0)_0x53aff5[0x1]=_0x999b7-_0xf0a339;else _0x1e4d95<0x0&&(_0x53aff5[0x1]=Math['abs'](_0x1e4d95)+_0xf0a339);if(_0x53aff5[0x0]!==0x0||_0x53aff5[0x1]!==0x0){const _0xd9a499=_0xc33317[_0x16a37c(0x122)]()[_0x16a37c(0x118)](),_0x24ac0b=_0xc33317[_0x16a37c(0x10c)](_0xd9a499);if(!_0x24ac0b)return;const _0xac6ac1=[_0x24ac0b[0x0]+_0x53aff5[0x0],_0x24ac0b[0x1]+_0x53aff5[0x1]],_0x109648=_0x44f678[_0x16a37c(0xf4)]||{};_0xc33317['getView']()[_0x16a37c(0x124)]({'center':_0xc33317[_0x16a37c(0x116)](_0xac6ac1),'duration':_0x109648[_0x16a37c(0xd2)],'easing':_0x109648['easing']});}}}[_0x12060d(0xd5)](_0x51cdcb,_0x20dc38){const _0xea0eb1=_0x12060d,_0x3554f5=_0x51cdcb[_0xea0eb1(0x125)](),_0x1e8949=_0x3554f5['left']+window[_0xea0eb1(0x128)],_0x14aacb=_0x3554f5[_0xea0eb1(0xcf)]+window['pageYOffset'];return[_0x1e8949,_0x14aacb,_0x1e8949+_0x20dc38[0x0],_0x14aacb+_0x20dc38[0x1]];}[_0x12060d(0x101)](_0x44a011){const _0x36be8e=_0x12060d;this[_0x36be8e(0x123)](Property['POSITIONING'],_0x44a011);}['setVisible'](_0x1ae7c3){const _0x13ae51=_0x12060d;this[_0x13ae51(0x114)][_0x13ae51(0xe0)]!==_0x1ae7c3&&(this[_0x13ae51(0xf6)][_0x13ae51(0xec)][_0x13ae51(0xee)]=_0x1ae7c3?'':_0x13ae51(0x12a),this[_0x13ae51(0x114)]['visible']=_0x1ae7c3);}['updatePixelPosition'](){const _0x3e1f39=_0x12060d,_0x568153=this[_0x3e1f39(0xf5)](),_0x169f2c=this['getPosition']();if(!_0x568153||!_0x568153[_0x3e1f39(0x127)]()||!_0x169f2c){this['setVisible'](![]);return;}const _0x596dc5=_0x568153[_0x3e1f39(0x129)](_0x169f2c),_0x29dde0=_0x568153[_0x3e1f39(0x119)]();this[_0x3e1f39(0x11e)](_0x596dc5,_0x29dde0);}[_0x12060d(0x11e)](_0x12a0f7,_0x58502e){const _0x34900e=_0x12060d,_0x40c931=this[_0x34900e(0xf6)][_0x34900e(0xec)],_0x3622dd=this[_0x34900e(0x11d)](),_0x33921a=this[_0x34900e(0xe4)]();this['setVisible'](!![]);const _0x499c62=Math[_0x34900e(0xf8)](_0x12a0f7[0x0]+_0x3622dd[0x0])+'px',_0xd1b567=Math[_0x34900e(0xf8)](_0x12a0f7[0x1]+_0x3622dd[0x1])+'px';let _0x18d330='0%',_0x31872f='0%';if(_0x33921a==_0x34900e(0x10d)||_0x33921a==_0x34900e(0xeb)||_0x33921a=='top-right')_0x18d330=_0x34900e(0x100);else(_0x33921a==_0x34900e(0x106)||_0x33921a==_0x34900e(0xfc)||_0x33921a==_0x34900e(0x120))&&(_0x18d330=_0x34900e(0xf2));if(_0x33921a==_0x34900e(0xe3)||_0x33921a=='bottom-center'||_0x33921a==_0x34900e(0x10d))_0x31872f='-100%';else(_0x33921a==_0x34900e(0xd4)||_0x33921a=='center-center'||_0x33921a==_0x34900e(0xeb))&&(_0x31872f='-50%');const _0xea4126='translate('+_0x18d330+',\x20'+_0x31872f+_0x34900e(0x11c)+_0x499c62+',\x20'+_0xd1b567+')';this[_0x34900e(0x114)][_0x34900e(0x107)]!=_0xea4126&&(this[_0x34900e(0x114)][_0x34900e(0x107)]=_0xea4126,_0x40c931[_0x34900e(0xfd)]=_0xea4126);}['getOptions'](){const _0x140a90=_0x12060d;return this[_0x140a90(0xe1)];}}export default Overlay;