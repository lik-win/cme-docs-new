const _0x4b4c49=_0x41af;(function(_0x3f07a8,_0x40cbd0){const _0x33be43=_0x41af,_0x1f7b5b=_0x3f07a8();while(!![]){try{const _0x220c0f=parseInt(_0x33be43(0xf9))/0x1+-parseInt(_0x33be43(0xda))/0x2*(parseInt(_0x33be43(0x118))/0x3)+parseInt(_0x33be43(0xe4))/0x4*(-parseInt(_0x33be43(0xdd))/0x5)+parseInt(_0x33be43(0x104))/0x6*(parseInt(_0x33be43(0xd2))/0x7)+parseInt(_0x33be43(0xd3))/0x8*(parseInt(_0x33be43(0xfb))/0x9)+parseInt(_0x33be43(0xe2))/0xa+-parseInt(_0x33be43(0xe7))/0xb;if(_0x220c0f===_0x40cbd0)break;else _0x1f7b5b['push'](_0x1f7b5b['shift']());}catch(_0xad7b40){_0x1f7b5b['push'](_0x1f7b5b['shift']());}}}(_0x26a8,0xdfa6c));import _0x528fc5 from'../events/EventType.js';import _0xadf158 from'../VectorTile.js';import _0x195a88 from'../TileCache.js';import _0x5b90b4 from'../tilegrid/TileGrid.js';import _0x70112f from'../TileState.js';import _0xf0970a from'./UrlTile.js';import _0x501015 from'../VectorRenderTile.js';import{DEFAULT_MAX_ZOOM}from'../tilegrid/common.js';function _0x41af(_0x1f7459,_0x333174){const _0x26a8a6=_0x26a8();return _0x41af=function(_0x41af7f,_0x3be577){_0x41af7f=_0x41af7f-0xcf;let _0x5a91ac=_0x26a8a6[_0x41af7f];return _0x5a91ac;},_0x41af(_0x1f7459,_0x333174);}import{buffer as _0x2b4c02,getIntersection,intersects}from'../extent.js';import{createXYZ,extentFromProjection}from'../tilegrid.js';function _0x26a8(){const _0x100ac0=['getResolutions','set','tileGrids_','getTilePixelSize','getTile','keys','attributionsCollapsible','446873AGrAkJ','8xxzHgv','errorTileKeys','getFormat','containsKey','getTileGrid','getTileCoordForTileUrlFunction','urls','6014CvxVVj','transition','clear','5ybxxQx','format','projection','getTileSize','tileSize','4362700nheZQC','tileLoadFunction','4135076hjUTib','round','cacheSize','2384844rvzNcG','tileUrlFunction','forEachTileCoord','getTileGridForProjection','wrapX','push','bind','slice','getZForResolution','getState','maxZoom','getExtent','removeEventListener','CHANGE','tmpSize','load','length','map','929600xjlHxr','onLoad','5360724tqKJiU','tileGrid','EMPTY','ERROR','addEventListener','wrappedTileCoord','setState','extent','peek','84KCeDty','getResolution','IDLE','attributions','maxResolution','getTileCacheForProjection','reduce','tileClass','sourceTileCache_','getTileCoordExtent','key','loadingSourceTiles','getKey','expireCache','format_','LOADED','get','zDirection','sourceTiles','LOADING','687fncAvG','overlaps_','url'];_0x26a8=function(){return _0x100ac0;};return _0x26a8();}import{getCacheKeyForTileKey}from'../tilecoord.js';import{isEmpty}from'../obj.js';import{loadFeaturesXhr}from'../featureloader.js';import{toSize}from'../size.js';class VectorTile extends _0xf0970a{constructor(_0xa212e8){const _0x2ba82d=_0x41af,_0x2f3643=_0xa212e8[_0x2ba82d(0xdf)]||'EPSG:3857',_0x43a548=_0xa212e8[_0x2ba82d(0x102)]||extentFromProjection(_0x2f3643),_0x2956a4=_0xa212e8[_0x2ba82d(0xfc)]||createXYZ({'extent':_0x43a548,'maxResolution':_0xa212e8[_0x2ba82d(0x108)],'maxZoom':_0xa212e8[_0x2ba82d(0xf1)]!==undefined?_0xa212e8['maxZoom']:0x16,'minZoom':_0xa212e8['minZoom'],'tileSize':_0xa212e8[_0x2ba82d(0xe1)]||0x200});super({'attributions':_0xa212e8[_0x2ba82d(0x107)],'attributionsCollapsible':_0xa212e8[_0x2ba82d(0xd1)],'cacheSize':_0xa212e8[_0x2ba82d(0xe6)],'interpolate':!![],'projection':_0x2f3643,'state':_0xa212e8['state'],'tileGrid':_0x2956a4,'tileLoadFunction':_0xa212e8[_0x2ba82d(0xe3)]?_0xa212e8[_0x2ba82d(0xe3)]:defaultLoadFunction,'tileUrlFunction':_0xa212e8[_0x2ba82d(0xe8)],'url':_0xa212e8[_0x2ba82d(0x11a)],'urls':_0xa212e8[_0x2ba82d(0xd9)],'wrapX':_0xa212e8[_0x2ba82d(0xeb)]===undefined?!![]:_0xa212e8[_0x2ba82d(0xeb)],'transition':_0xa212e8[_0x2ba82d(0xdb)],'zDirection':_0xa212e8[_0x2ba82d(0x115)]===undefined?0x1:_0xa212e8[_0x2ba82d(0x115)]}),this['format_']=_0xa212e8[_0x2ba82d(0xde)]?_0xa212e8[_0x2ba82d(0xde)]:null,this['sourceTileCache_']=new _0x195a88(0x80),this[_0x2ba82d(0x119)]=_0xa212e8['overlaps']==undefined?!![]:_0xa212e8['overlaps'],this[_0x2ba82d(0x10b)]=_0xa212e8[_0x2ba82d(0x10b)]?_0xa212e8[_0x2ba82d(0x10b)]:_0xadf158,this[_0x2ba82d(0x11d)]={};}['getOverlaps'](){return this['overlaps_'];}[_0x4b4c49(0xdc)](){const _0x5c1325=_0x4b4c49;this[_0x5c1325(0x10c)][_0x5c1325(0xdc)]();}['expireCache'](_0x1a607c,_0x4d8571){const _0x4c9f6d=_0x4b4c49,_0x5266b5=this[_0x4c9f6d(0x109)](_0x1a607c),_0xbb464e=Object[_0x4c9f6d(0xd0)](_0x4d8571)[_0x4c9f6d(0x10a)]((_0x9dbdf3,_0x5ef2b0)=>{const _0x5048ad=_0x4c9f6d,_0x296a83=getCacheKeyForTileKey(_0x5ef2b0),_0x445507=_0x5266b5[_0x5048ad(0x103)](_0x296a83);if(_0x445507){const _0x5a6589=_0x445507[_0x5048ad(0x116)];for(let _0x41cfd5=0x0,_0x1d7023=_0x5a6589['length'];_0x41cfd5<_0x1d7023;++_0x41cfd5){_0x9dbdf3[_0x5a6589[_0x41cfd5]['getKey']()]=!![];}}return _0x9dbdf3;},{});super['expireCache'](_0x1a607c,_0x4d8571),this[_0x4c9f6d(0x10c)][_0x4c9f6d(0x111)](_0xbb464e);}['getSourceTiles'](_0x50726c,_0x3ad5fe,_0x5b370a){const _0xccb669=_0x4b4c49;if(_0x5b370a[_0xccb669(0xf0)]()===_0x70112f['IDLE']){_0x5b370a['setState'](_0x70112f[_0xccb669(0x117)]);const _0x2f08bc=_0x5b370a[_0xccb669(0x100)],_0x2b6600=this[_0xccb669(0xea)](_0x3ad5fe),_0x4cdbfe=_0x2b6600[_0xccb669(0x10d)](_0x2f08bc),_0x435890=_0x2f08bc[0x0],_0x3d8327=_0x2b6600['getResolution'](_0x435890);_0x2b4c02(_0x4cdbfe,-_0x3d8327,_0x4cdbfe);const _0x558221=this[_0xccb669(0xfc)],_0x3bee05=_0x558221[_0xccb669(0xf2)]();_0x3bee05&&getIntersection(_0x4cdbfe,_0x3bee05,_0x4cdbfe);const _0x184e23=_0x558221[_0xccb669(0xef)](_0x3d8327,this[_0xccb669(0x115)]);_0x558221[_0xccb669(0xe9)](_0x4cdbfe,_0x184e23,_0x11f14c=>{const _0x24b23d=_0xccb669,_0x23506f=this[_0x24b23d(0xe8)](_0x11f14c,_0x50726c,_0x3ad5fe),_0x53b489=this[_0x24b23d(0x10c)][_0x24b23d(0xd6)](_0x23506f)?this[_0x24b23d(0x10c)][_0x24b23d(0x114)](_0x23506f):new this[(_0x24b23d(0x10b))](_0x11f14c,_0x23506f?_0x70112f[_0x24b23d(0x106)]:_0x70112f[_0x24b23d(0xfd)],_0x23506f,this[_0x24b23d(0x112)],this[_0x24b23d(0xe3)]);_0x5b370a[_0x24b23d(0x116)]['push'](_0x53b489);const _0x200859=_0x53b489[_0x24b23d(0xf0)]();if(_0x200859<_0x70112f[_0x24b23d(0x113)]){const _0x3210cd=_0x1d7982=>{const _0x2215ec=_0x24b23d;this['handleTileChange'](_0x1d7982);const _0x5cd276=_0x53b489['getState']();if(_0x5cd276===_0x70112f[_0x2215ec(0x113)]||_0x5cd276===_0x70112f[_0x2215ec(0xfe)]){const _0x59787c=_0x53b489[_0x2215ec(0x110)]();_0x59787c in _0x5b370a[_0x2215ec(0xd4)]?_0x53b489['getState']()===_0x70112f[_0x2215ec(0x113)]&&delete _0x5b370a['errorTileKeys'][_0x59787c]:_0x5b370a[_0x2215ec(0x10f)]--,_0x5cd276===_0x70112f[_0x2215ec(0xfe)]?_0x5b370a[_0x2215ec(0xd4)][_0x59787c]=!![]:_0x53b489[_0x2215ec(0xf3)](_0x528fc5[_0x2215ec(0xf4)],_0x3210cd),_0x5b370a[_0x2215ec(0x10f)]===0x0&&_0x5b370a[_0x2215ec(0x101)](isEmpty(_0x5b370a[_0x2215ec(0xd4)])?_0x70112f[_0x2215ec(0x113)]:_0x70112f[_0x2215ec(0xfe)]);}};_0x53b489[_0x24b23d(0xff)](_0x528fc5['CHANGE'],_0x3210cd),_0x5b370a[_0x24b23d(0x10f)]++;}_0x200859===_0x70112f[_0x24b23d(0x106)]&&(_0x53b489[_0x24b23d(0x102)]=_0x558221['getTileCoordExtent'](_0x11f14c),_0x53b489[_0x24b23d(0xdf)]=_0x3ad5fe,_0x53b489['resolution']=_0x558221[_0x24b23d(0x105)](_0x11f14c[0x0]),this[_0x24b23d(0x10c)][_0x24b23d(0x11c)](_0x23506f,_0x53b489),_0x53b489[_0x24b23d(0xf6)]());}),!_0x5b370a[_0xccb669(0x10f)]&&_0x5b370a['setState'](_0x5b370a[_0xccb669(0x116)]['some'](_0x12cc5d=>_0x12cc5d[_0xccb669(0xf0)]()===_0x70112f['ERROR'])?_0x70112f[_0xccb669(0xfe)]:_0x70112f[_0xccb669(0x113)]);}return _0x5b370a['sourceTiles'];}[_0x4b4c49(0xcf)](_0x526730,_0x193b4a,_0x4a8187,_0x36569d,_0x3740a8){const _0x5d9958=_0x4b4c49,_0x10f69a=[_0x526730,_0x193b4a,_0x4a8187];let _0x50b0dc=this[_0x5d9958(0xd8)](_0x10f69a,_0x3740a8);const _0x5b53b6=this[_0x5d9958(0xd7)]()[_0x5d9958(0xf2)](),_0x2a4654=this[_0x5d9958(0xea)](_0x3740a8);if(_0x50b0dc&&_0x5b53b6){const _0x23bb98=_0x2a4654[_0x5d9958(0x10d)](_0x50b0dc);_0x2b4c02(_0x23bb98,-_0x2a4654[_0x5d9958(0x105)](_0x526730),_0x23bb98),!intersects(_0x5b53b6,_0x23bb98)&&(_0x50b0dc=null);}let _0x18ea40=!![];if(_0x50b0dc!==null){const _0x454304=this[_0x5d9958(0xfc)],_0x232b4b=_0x2a4654['getResolution'](_0x526730),_0x30c831=_0x454304['getZForResolution'](_0x232b4b,0x1),_0x35abfc=_0x2a4654['getTileCoordExtent'](_0x50b0dc);_0x2b4c02(_0x35abfc,-_0x232b4b,_0x35abfc),_0x454304[_0x5d9958(0xe9)](_0x35abfc,_0x30c831,_0x569dc5=>{const _0x59b8df=_0x5d9958;_0x18ea40=_0x18ea40&&!this[_0x59b8df(0xe8)](_0x569dc5,_0x36569d,_0x3740a8);});}const _0x3c6b54=new _0x501015(_0x10f69a,_0x18ea40?_0x70112f[_0x5d9958(0xfd)]:_0x70112f[_0x5d9958(0x106)],_0x50b0dc,this['getSourceTiles'][_0x5d9958(0xed)](this,_0x36569d,_0x3740a8));return _0x3c6b54[_0x5d9958(0x10e)]=this[_0x5d9958(0x110)](),_0x3c6b54;}[_0x4b4c49(0xea)](_0x1c8279){const _0x4d909a=_0x4b4c49,_0x1c3f14=_0x1c8279['getCode']();let _0x108f16=this[_0x4d909a(0x11d)][_0x1c3f14];if(!_0x108f16){const _0x530ab4=this[_0x4d909a(0xfc)],_0x4383c9=_0x530ab4[_0x4d909a(0x11b)]()[_0x4d909a(0xee)](),_0x50e875=_0x4383c9[_0x4d909a(0xf8)](function(_0x15acf1,_0x423f1e){return _0x530ab4['getOrigin'](_0x423f1e);}),_0xee68e=_0x4383c9[_0x4d909a(0xf8)](function(_0x2658c6,_0x2f48dd){const _0x307b60=_0x4d909a;return _0x530ab4[_0x307b60(0xe0)](_0x2f48dd);}),_0x406cd8=DEFAULT_MAX_ZOOM+0x1;for(let _0x37a2e5=_0x4383c9[_0x4d909a(0xf7)];_0x37a2e5<_0x406cd8;++_0x37a2e5){_0x4383c9[_0x4d909a(0xec)](_0x4383c9[_0x37a2e5-0x1]/0x2),_0x50e875['push'](_0x50e875[_0x37a2e5-0x1]),_0xee68e[_0x4d909a(0xec)](_0xee68e[_0x37a2e5-0x1]);}_0x108f16=new _0x5b90b4({'extent':_0x530ab4['getExtent'](),'origins':_0x50e875,'resolutions':_0x4383c9,'tileSizes':_0xee68e}),this[_0x4d909a(0x11d)][_0x1c3f14]=_0x108f16;}return _0x108f16;}['getTilePixelRatio'](_0x108655){return _0x108655;}[_0x4b4c49(0x11e)](_0x3cc9d5,_0x44d76b,_0x21d73c){const _0x53291c=_0x4b4c49,_0x3dbea6=this[_0x53291c(0xea)](_0x21d73c),_0x50dee6=toSize(_0x3dbea6[_0x53291c(0xe0)](_0x3cc9d5),this[_0x53291c(0xf5)]);return[Math[_0x53291c(0xe5)](_0x50dee6[0x0]*_0x44d76b),Math[_0x53291c(0xe5)](_0x50dee6[0x1]*_0x44d76b)];}}export default VectorTile;export function defaultLoadFunction(_0x17f9e8,_0x209ba2){_0x17f9e8['setLoader'](function(_0x177788,_0x867b20,_0x8cddde){const _0x54b333=_0x41af;loadFeaturesXhr(_0x209ba2,_0x17f9e8[_0x54b333(0xd5)](),_0x177788,_0x867b20,_0x8cddde,_0x17f9e8[_0x54b333(0xfa)][_0x54b333(0xed)](_0x17f9e8),_0x17f9e8['onError'][_0x54b333(0xed)](_0x17f9e8));});}