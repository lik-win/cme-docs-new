const _0x268ba7=_0x2340;(function(_0x400b66,_0xd605f4){const _0x5e7008=_0x2340,_0x42b0bd=_0x400b66();while(!![]){try{const _0x360158=-parseInt(_0x5e7008(0x137))/0x1+-parseInt(_0x5e7008(0x115))/0x2+parseInt(_0x5e7008(0x123))/0x3+parseInt(_0x5e7008(0x128))/0x4*(-parseInt(_0x5e7008(0x11f))/0x5)+parseInt(_0x5e7008(0x135))/0x6+-parseInt(_0x5e7008(0x129))/0x7*(-parseInt(_0x5e7008(0x114))/0x8)+parseInt(_0x5e7008(0x13b))/0x9;if(_0x360158===_0xd605f4)break;else _0x42b0bd['push'](_0x42b0bd['shift']());}catch(_0x9f71c2){_0x42b0bd['push'](_0x42b0bd['shift']());}}}(_0x23ce,0x53401));import _0x1d3eaa from'../events/EventType.js';import _0x410fd4 from'../ImageTile.js';import _0xcc4485 from'../reproj/Tile.js';import _0x293c40 from'../TileCache.js';import _0x5794f2 from'../TileState.js';function _0x2340(_0x146e95,_0x3055e3){const _0x23cede=_0x23ce();return _0x2340=function(_0x23406d,_0x4a6386){_0x23406d=_0x23406d-0x106;let _0x416d5c=_0x23cede[_0x23406d];return _0x416d5c;},_0x2340(_0x146e95,_0x3055e3);}import _0x398f3f from'./UrlTile.js';import{equivalent,get as _0x3d1930}from'../proj.js';import{getKey,getKeyZXY}from'../tilecoord.js';import{getForProjection as _0x53cf04}from'../tilegrid.js';function _0x23ce(){const _0x15ba23=['canExpireCache','EMPTY','23536oizfEd','8162MGWmSc','wrapX','getTileCacheForProjection','highWaterMark','setRenderReprojectionEdges','getKey','tileClass','getTileInternal','getGutter','IDLE','set','getTileGridForProjection','1824402qcsJvE','getTile','608054MrNWVD','reprojectionErrorThreshold_','handleTileChange','state','6655374qVBLuS','tileGrid','renderReprojectionEdges_','attributions','key','url','projection','tileLoadFunction','getImage','setTileGridForProjection','transition','replace','getProjection','containsKey','getTileCoordForTileUrlFunction','interpolate','get','3632qDsHOU','1248980OXynrT','getInterpolate','crossOrigin','tileCacheForProjection','CHANGE','attributionsCollapsible','tileCache','createTile_','tileUrlFunction','tilePixelRatio','260cWUlQG','tileGridForProjection','cacheSize','zDirection','919764mWsvjY','expireCache','clear'];_0x23ce=function(){return _0x15ba23;};return _0x23ce();}import{getUid}from'../util.js';class TileImage extends _0x398f3f{constructor(_0x275616){const _0x113966=_0x2340;super({'attributions':_0x275616[_0x113966(0x106)],'cacheSize':_0x275616[_0x113966(0x121)],'projection':_0x275616[_0x113966(0x109)],'state':_0x275616[_0x113966(0x13a)],'tileGrid':_0x275616[_0x113966(0x13c)],'tileLoadFunction':_0x275616[_0x113966(0x10a)]?_0x275616[_0x113966(0x10a)]:defaultTileLoadFunction,'tilePixelRatio':_0x275616[_0x113966(0x11e)],'tileUrlFunction':_0x275616[_0x113966(0x11d)],'url':_0x275616[_0x113966(0x108)],'urls':_0x275616['urls'],'wrapX':_0x275616[_0x113966(0x12a)],'transition':_0x275616[_0x113966(0x10d)],'interpolate':_0x275616[_0x113966(0x112)]!==undefined?_0x275616['interpolate']:!![],'key':_0x275616[_0x113966(0x107)],'attributionsCollapsible':_0x275616[_0x113966(0x11a)],'zDirection':_0x275616[_0x113966(0x122)]}),this[_0x113966(0x117)]=_0x275616[_0x113966(0x117)]!==undefined?_0x275616[_0x113966(0x117)]:null,this[_0x113966(0x12f)]=_0x275616['tileClass']!==undefined?_0x275616[_0x113966(0x12f)]:_0x410fd4,this[_0x113966(0x118)]={},this['tileGridForProjection']={},this[_0x113966(0x138)]=_0x275616['reprojectionErrorThreshold'],this[_0x113966(0x13d)]=![];}['canExpireCache'](){const _0x584bf7=_0x2340;if(this['tileCache'][_0x584bf7(0x126)]())return!![];for(const _0x15e537 in this[_0x584bf7(0x118)]){if(this[_0x584bf7(0x118)][_0x15e537][_0x584bf7(0x126)]())return!![];}return![];}[_0x268ba7(0x124)](_0x8ee3d7,_0x28d5af){const _0x34555e=_0x268ba7,_0x529f6e=this[_0x34555e(0x12b)](_0x8ee3d7);this[_0x34555e(0x11b)][_0x34555e(0x124)](this[_0x34555e(0x11b)]==_0x529f6e?_0x28d5af:{});for(const _0x10eb34 in this[_0x34555e(0x118)]){const _0x1da96a=this[_0x34555e(0x118)][_0x10eb34];_0x1da96a[_0x34555e(0x124)](_0x1da96a==_0x529f6e?_0x28d5af:{});}}['getGutterForProjection'](_0x4c708e){const _0x3ae397=_0x268ba7;if(this[_0x3ae397(0x10f)]()&&_0x4c708e&&!equivalent(this[_0x3ae397(0x10f)](),_0x4c708e))return 0x0;return this[_0x3ae397(0x131)]();}[_0x268ba7(0x131)](){return 0x0;}['getKey'](){const _0x1bf618=_0x268ba7;let _0x588848=super[_0x1bf618(0x12e)]();return!this[_0x1bf618(0x116)]()&&(_0x588848+=':disable-interpolation'),_0x588848;}[_0x268ba7(0x134)](_0x5dc8ee){const _0x5cb6fc=_0x268ba7,_0x4defe7=this['getProjection']();if(this['tileGrid']&&(!_0x4defe7||equivalent(_0x4defe7,_0x5dc8ee)))return this[_0x5cb6fc(0x13c)];const _0x2060e5=getUid(_0x5dc8ee);return!(_0x2060e5 in this[_0x5cb6fc(0x120)])&&(this[_0x5cb6fc(0x120)][_0x2060e5]=_0x53cf04(_0x5dc8ee)),this[_0x5cb6fc(0x120)][_0x2060e5];}[_0x268ba7(0x12b)](_0x5da24c){const _0x5985ab=_0x268ba7,_0x497f21=this['getProjection']();if(!_0x497f21||equivalent(_0x497f21,_0x5da24c))return this['tileCache'];const _0x1449d3=getUid(_0x5da24c);return!(_0x1449d3 in this['tileCacheForProjection'])&&(this[_0x5985ab(0x118)][_0x1449d3]=new _0x293c40(this[_0x5985ab(0x11b)][_0x5985ab(0x12c)])),this['tileCacheForProjection'][_0x1449d3];}['createTile_'](_0x583ab2,_0x17d145,_0x17448c,_0x47e2ca,_0x46ca80,_0x55a671){const _0x2e3803=_0x268ba7,_0xf7b1e1=[_0x583ab2,_0x17d145,_0x17448c],_0x1535a5=this['getTileCoordForTileUrlFunction'](_0xf7b1e1,_0x46ca80),_0x5f15e9=_0x1535a5?this[_0x2e3803(0x11d)](_0x1535a5,_0x47e2ca,_0x46ca80):undefined,_0x1f3b74=new this[(_0x2e3803(0x12f))](_0xf7b1e1,_0x5f15e9!==undefined?_0x5794f2[_0x2e3803(0x132)]:_0x5794f2[_0x2e3803(0x127)],_0x5f15e9!==undefined?_0x5f15e9:'',this['crossOrigin'],this[_0x2e3803(0x10a)],this['tileOptions']);return _0x1f3b74[_0x2e3803(0x107)]=_0x55a671,_0x1f3b74['addEventListener'](_0x1d3eaa[_0x2e3803(0x119)],this[_0x2e3803(0x139)]['bind'](this)),_0x1f3b74;}[_0x268ba7(0x136)](_0x3224e4,_0x4420f1,_0x231126,_0x3e6265,_0x59dfa4){const _0x2738ff=_0x268ba7,_0x53f848=this[_0x2738ff(0x10f)]();if(!_0x53f848||!_0x59dfa4||equivalent(_0x53f848,_0x59dfa4))return this['getTileInternal'](_0x3224e4,_0x4420f1,_0x231126,_0x3e6265,_0x53f848||_0x59dfa4);const _0x5baa62=this[_0x2738ff(0x12b)](_0x59dfa4),_0x724ecf=[_0x3224e4,_0x4420f1,_0x231126];let _0x57381d;const _0x493b3e=getKey(_0x724ecf);_0x5baa62[_0x2738ff(0x110)](_0x493b3e)&&(_0x57381d=_0x5baa62['get'](_0x493b3e));const _0x47812c=this[_0x2738ff(0x12e)]();if(_0x57381d&&_0x57381d['key']==_0x47812c)return _0x57381d;const _0x2476bd=this[_0x2738ff(0x134)](_0x53f848),_0x1426ee=this['getTileGridForProjection'](_0x59dfa4),_0x4da195=this[_0x2738ff(0x111)](_0x724ecf,_0x59dfa4),_0x485afb=new _0xcc4485(_0x53f848,_0x2476bd,_0x59dfa4,_0x1426ee,_0x724ecf,_0x4da195,this['getTilePixelRatio'](_0x3e6265),this['getGutter'](),(_0x821d3f,_0x599f3f,_0x3b141f,_0x1205ae)=>this[_0x2738ff(0x130)](_0x821d3f,_0x599f3f,_0x3b141f,_0x1205ae,_0x53f848),this[_0x2738ff(0x138)],this['renderReprojectionEdges_'],this['tileOptions']);return _0x485afb[_0x2738ff(0x107)]=_0x47812c,_0x57381d?_0x5baa62['replace'](_0x493b3e,_0x485afb):_0x5baa62[_0x2738ff(0x133)](_0x493b3e,_0x485afb),_0x485afb;}['getTileInternal'](_0x14973a,_0x3c87b2,_0x34c685,_0x567477,_0x2d8d14){const _0x256114=_0x268ba7,_0x13d8da=getKeyZXY(_0x14973a,_0x3c87b2,_0x34c685),_0x2d5445=this[_0x256114(0x12e)]();if(!this['tileCache'][_0x256114(0x110)](_0x13d8da)){const _0xc839e1=this[_0x256114(0x11c)](_0x14973a,_0x3c87b2,_0x34c685,_0x567477,_0x2d8d14,_0x2d5445);return this[_0x256114(0x11b)]['set'](_0x13d8da,_0xc839e1),_0xc839e1;}let _0x4834d9=this[_0x256114(0x11b)][_0x256114(0x113)](_0x13d8da);return _0x4834d9[_0x256114(0x107)]!=_0x2d5445&&(_0x4834d9=this[_0x256114(0x11c)](_0x14973a,_0x3c87b2,_0x34c685,_0x567477,_0x2d8d14,_0x2d5445),this[_0x256114(0x11b)][_0x256114(0x10e)](_0x13d8da,_0x4834d9)),_0x4834d9;}[_0x268ba7(0x12d)](_0x381203){const _0x32efb2=_0x268ba7;if(this[_0x32efb2(0x13d)]==_0x381203)return;this['renderReprojectionEdges_']=_0x381203;for(const _0x26f904 in this['tileCacheForProjection']){this[_0x32efb2(0x118)][_0x26f904][_0x32efb2(0x125)]();}this['changed']();}[_0x268ba7(0x10c)](_0xe0f7bb,_0x21cff9){const _0xdcd389=_0x268ba7,_0x4d8368=_0x3d1930(_0xe0f7bb);if(_0x4d8368){const _0x433912=getUid(_0x4d8368);!(_0x433912 in this[_0xdcd389(0x120)])&&(this[_0xdcd389(0x120)][_0x433912]=_0x21cff9);}}[_0x268ba7(0x125)](){const _0x4d9a08=_0x268ba7;super[_0x4d9a08(0x125)]();for(const _0x3cb9f2 in this['tileCacheForProjection']){this[_0x4d9a08(0x118)][_0x3cb9f2][_0x4d9a08(0x125)]();}}}function defaultTileLoadFunction(_0x466663,_0x50f4b9){const _0xf39aa=_0x268ba7;_0x466663[_0xf39aa(0x10b)]()['src']=_0x50f4b9;}export default TileImage;