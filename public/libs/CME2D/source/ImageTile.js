const _0x2ac791=_0xf923;(function(_0x5598fe,_0x5ea037){const _0x367b82=_0xf923,_0x262ed2=_0x5598fe();while(!![]){try{const _0x229e76=parseInt(_0x367b82(0x20a))/0x1+parseInt(_0x367b82(0x206))/0x2+parseInt(_0x367b82(0x1f6))/0x3+-parseInt(_0x367b82(0x1f4))/0x4*(parseInt(_0x367b82(0x208))/0x5)+parseInt(_0x367b82(0x1f3))/0x6+-parseInt(_0x367b82(0x203))/0x7+-parseInt(_0x367b82(0x205))/0x8*(parseInt(_0x367b82(0x1fe))/0x9);if(_0x229e76===_0x5ea037)break;else _0x262ed2['push'](_0x262ed2['shift']());}catch(_0x58e53f){_0x262ed2['push'](_0x262ed2['shift']());}}}(_0x16b7,0x2d5f6));import _0x283d45 from'./DataTile.js';import{expandUrl,pickUrl,renderXYZTemplate}from'../uri.js';const loadError=new Error('Image\x20failed\x20to\x20load');function _0xf923(_0x45530d,_0x44adea){const _0x16b730=_0x16b7();return _0xf923=function(_0xf92324,_0x45032c){_0xf92324=_0xf92324-0x1f1;let _0x8a3fe5=_0x16b730[_0xf92324];return _0x8a3fe5;},_0xf923(_0x45530d,_0x44adea);}function loadImage(_0x4383a0,_0x4e89f1,_0x477cba,_0x47709b,_0x2968f3){return new Promise((_0x46c05c,_0xc0d992)=>{const _0xd9e602=_0xf923,_0x5442bc=new Image();_0x5442bc[_0xd9e602(0x20f)]=_0x2968f3[_0xd9e602(0x20f)]??null,_0x5442bc[_0xd9e602(0x1ff)](_0xd9e602(0x1fd),()=>_0x46c05c(_0x5442bc)),_0x5442bc[_0xd9e602(0x1ff)](_0xd9e602(0x209),()=>_0xc0d992(loadError)),_0x5442bc[_0xd9e602(0x213)]=renderXYZTemplate(_0x4383a0,_0x4e89f1,_0x477cba,_0x47709b,_0x2968f3[_0xd9e602(0x201)]);});}function makeLoaderFromTemplates(_0x3b18f5){return function(_0x289199,_0x18050b,_0x180f95,_0x359548){const _0x3ee766=pickUrl(_0x3b18f5,_0x289199,_0x18050b,_0x180f95);return loadImage(_0x3ee766,_0x289199,_0x18050b,_0x180f95,_0x359548);};}function makeLoaderFromGetter(_0xcb914d){return function(_0xf77888,_0x1f4f68,_0x5baaeb,_0x5a7dd2){const _0x41fc1a=_0xcb914d(_0xf77888,_0x1f4f68,_0x5baaeb,_0x5a7dd2);return loadImage(_0x41fc1a,_0xf77888,_0x1f4f68,_0x5baaeb,_0x5a7dd2);};}function makeLoaderFromUrlLike(_0x44c96e){const _0x43af83=_0xf923;let _0x1afefc;if(Array[_0x43af83(0x20b)](_0x44c96e))_0x1afefc=makeLoaderFromTemplates(_0x44c96e);else{if(typeof _0x44c96e==='string'){const _0x4d4477=expandUrl(_0x44c96e);_0x1afefc=makeLoaderFromTemplates(_0x4d4477);}else{if(typeof _0x44c96e===_0x43af83(0x1f5))_0x1afefc=makeLoaderFromGetter(_0x44c96e);else throw new Error('The\x20url\x20option\x20must\x20be\x20a\x20single\x20template,\x20an\x20array\x20of\x20templates,\x20or\x20a\x20function\x20for\x20getting\x20a\x20URL');}}return _0x1afefc;}function _0x16b7(){const _0x48b76a=['ready','url-function-key-','setLoader','maxZoom','load','9Hxrdag','addEventListener','tileGrid','maxY','gutter','888153IAcPhi','string','429944fNedrY','151874cixFbM','setState','445FJmsmS','error','270835PGrUMX','isArray','interpolate','setUrl','state','crossOrigin','tileSize','minZoom','loading','src','url','transition','loader','maxResolution','projection','wrapX','182124VPvxTE','8444oaRpgS','function','531663DSiZEU','attributions','attributionsCollapsible'];_0x16b7=function(){return _0x48b76a;};return _0x16b7();}let keyCount=0x0;function keyFromUrlLike(_0x43a431){const _0x58cafa=_0xf923;if(Array[_0x58cafa(0x20b)](_0x43a431))return _0x43a431['join']('\x0a');if(typeof _0x43a431===_0x58cafa(0x204))return _0x43a431;return++keyCount,_0x58cafa(0x1fa)+keyCount;}class ImageTileSource extends _0x283d45{constructor(_0xa8988f){const _0xc5e4c9=_0xf923;_0xa8988f=_0xa8988f||{};let _0x43dce1=_0xa8988f[_0xc5e4c9(0x216)],_0x4abbf4;_0xa8988f[_0xc5e4c9(0x214)]&&(_0x43dce1=makeLoaderFromUrlLike(_0xa8988f[_0xc5e4c9(0x214)]),_0x4abbf4=keyFromUrlLike(_0xa8988f[_0xc5e4c9(0x214)]));const _0x536bfb=!_0x43dce1?_0xc5e4c9(0x212):_0xa8988f[_0xc5e4c9(0x20e)],_0x4ff264=_0xa8988f[_0xc5e4c9(0x1f2)]===undefined?!![]:_0xa8988f[_0xc5e4c9(0x1f2)];super({'loader':_0x43dce1,'key':_0x4abbf4,'attributions':_0xa8988f[_0xc5e4c9(0x1f7)],'attributionsCollapsible':_0xa8988f[_0xc5e4c9(0x1f8)],'maxZoom':_0xa8988f[_0xc5e4c9(0x1fc)],'minZoom':_0xa8988f[_0xc5e4c9(0x211)],'tileSize':_0xa8988f[_0xc5e4c9(0x210)],'gutter':_0xa8988f[_0xc5e4c9(0x202)],'maxResolution':_0xa8988f[_0xc5e4c9(0x217)],'projection':_0xa8988f[_0xc5e4c9(0x1f1)],'tileGrid':_0xa8988f[_0xc5e4c9(0x200)],'state':_0x536bfb,'wrapX':_0x4ff264,'transition':_0xa8988f[_0xc5e4c9(0x215)],'interpolate':_0xa8988f[_0xc5e4c9(0x20c)]!==![],'crossOrigin':_0xa8988f['crossOrigin']});}[_0x2ac791(0x20d)](_0x2207d9){const _0x427a39=_0x2ac791,_0x5238cb=makeLoaderFromUrlLike(_0x2207d9);this[_0x427a39(0x1fb)](_0x5238cb),this['setKey'](keyFromUrlLike(_0x2207d9)),this['getState']()!=='ready'&&this[_0x427a39(0x207)](_0x427a39(0x1f9));}}export default ImageTileSource;