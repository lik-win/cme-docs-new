const _0x2a0380=_0x5b42;(function(_0x4b2f9a,_0x2509ac){const _0x27991d=_0x5b42,_0x4e6d47=_0x4b2f9a();while(!![]){try{const _0x4ede0a=parseInt(_0x27991d(0x204))/0x1*(parseInt(_0x27991d(0x1e3))/0x2)+-parseInt(_0x27991d(0x1ec))/0x3+-parseInt(_0x27991d(0x22b))/0x4*(parseInt(_0x27991d(0x220))/0x5)+-parseInt(_0x27991d(0x1ed))/0x6*(parseInt(_0x27991d(0x1f2))/0x7)+parseInt(_0x27991d(0x228))/0x8*(-parseInt(_0x27991d(0x1e4))/0x9)+-parseInt(_0x27991d(0x1fa))/0xa*(parseInt(_0x27991d(0x1f7))/0xb)+-parseInt(_0x27991d(0x1ee))/0xc*(-parseInt(_0x27991d(0x203))/0xd);if(_0x4ede0a===_0x2509ac)break;else _0x4e6d47['push'](_0x4e6d47['shift']());}catch(_0x446b20){_0x4e6d47['push'](_0x4e6d47['shift']());}}}(_0x3d1e,0x28bfc));function _0x5b42(_0x438e55,_0x2dbd09){const _0x3d1ee1=_0x3d1e();return _0x5b42=function(_0x5b42f4,_0x18fb52){_0x5b42f4=_0x5b42f4-0x1cb;let _0x1727c5=_0x3d1ee1[_0x5b42f4];return _0x1727c5;},_0x5b42(_0x438e55,_0x2dbd09);}import _0x218825 from'./TileImage.js';import{appendParams,expandUrl}from'../uri.js';import{containsExtent}from'../extent.js';function _0x3d1e(){const _0x4762ea=['655426KpNKpc','88029CCxJVL','SupportedCRS','attributionsCollapsible','dimensions_','version_','Value','DCP','name','124773AzOAVh','6FFvupm','12CXFOub','getMetersPerUnit','tileUrlFunction','getFormat','2319849gODvLY','TileMatrixSetLimits','TopLeftCorner','Format','dimensions','4961HZvKzG','cacheSize','TileWidth','5960DyuVhd','getKeyForDimensions_','TileMatrixSet','getExtent','Title','MaxTileCol','length','crossOrigin','TileMatrixSetLink','7612683HAygDC','1ghjlTB','HTTP','toLowerCase','includes','requestEncoding','WGS84BoundingBox','replace','Contents','assign','requestEncoding_','isDefault','bind','tileLoadFunction','getRequestEncoding','image/jpeg','findIndex','updateDimensions','MinTileRow','find','getLayer','style_','join','url','REST','Identifier','version','matrixSet','MatrixWidth','25nyuWHP','TileMatrix','href','TileHeight','EPSG:4326','push','map','tile','56WrVeub','matrixSet_','Dimension','28908zDbCFw','resourceType','projection','Default','zDirection','urls','ResourceURL','Layer','getMatrixSet','template','GetEncoding','wrapX','Style','BoundingBox','getMatrixId','OperationsMetadata','layer','style','layer_','createFromWMTSTemplate','KVP','format','getStyle','1.0.0','format_','getVersion','MaxTileRow','GetTile','WMTS','startsWith','reprojectionErrorThreshold','setKey','tileGrid'];_0x3d1e=function(){return _0x4762ea;};return _0x3d1e();}import{createFromCapabilitiesMatrixSet}from'../tilegrid/WMTS.js';import{createFromTileUrlFunctions}from'../tileurlfunction.js';import{equivalent,get as _0x19dda1,transformExtent}from'../proj.js';class WMTS extends _0x218825{constructor(_0x405095){const _0x3fd838=_0x5b42,_0x1d478b=_0x405095['requestEncoding']!==undefined?_0x405095[_0x3fd838(0x208)]:_0x3fd838(0x1d6),_0x34198a=_0x405095[_0x3fd838(0x1e2)];let _0x5dee3d=_0x405095[_0x3fd838(0x230)];_0x5dee3d===undefined&&_0x405095[_0x3fd838(0x21a)]!==undefined&&(_0x5dee3d=expandUrl(_0x405095[_0x3fd838(0x21a)])),super({'attributions':_0x405095['attributions'],'attributionsCollapsible':_0x405095[_0x3fd838(0x1e6)],'cacheSize':_0x405095[_0x3fd838(0x1f8)],'crossOrigin':_0x405095[_0x3fd838(0x201)],'interpolate':_0x405095['interpolate'],'projection':_0x405095[_0x3fd838(0x22d)],'reprojectionErrorThreshold':_0x405095[_0x3fd838(0x1e0)],'tileClass':_0x405095['tileClass'],'tileGrid':_0x34198a,'tileLoadFunction':_0x405095[_0x3fd838(0x210)],'tilePixelRatio':_0x405095['tilePixelRatio'],'urls':_0x5dee3d,'wrapX':_0x405095['wrapX']!==undefined?_0x405095[_0x3fd838(0x1cd)]:![],'transition':_0x405095['transition'],'zDirection':_0x405095[_0x3fd838(0x22f)]}),this['version_']=_0x405095[_0x3fd838(0x21d)]!==undefined?_0x405095[_0x3fd838(0x21d)]:_0x3fd838(0x1d9),this[_0x3fd838(0x1da)]=_0x405095[_0x3fd838(0x1d7)]!==undefined?_0x405095['format']:_0x3fd838(0x212),this[_0x3fd838(0x1e7)]=_0x405095[_0x3fd838(0x1f6)]!==undefined?_0x405095[_0x3fd838(0x1f6)]:{},this['layer_']=_0x405095[_0x3fd838(0x1d2)],this['matrixSet_']=_0x405095[_0x3fd838(0x21e)],this[_0x3fd838(0x218)]=_0x405095[_0x3fd838(0x1d3)],this[_0x3fd838(0x20d)]=_0x1d478b,this[_0x3fd838(0x1e1)](this[_0x3fd838(0x1fb)]()),_0x5dee3d&&_0x5dee3d[_0x3fd838(0x200)]>0x0&&(this[_0x3fd838(0x1f0)]=createFromTileUrlFunctions(_0x5dee3d[_0x3fd838(0x226)](this[_0x3fd838(0x1d5)][_0x3fd838(0x20f)](this))));}['setUrls'](_0x1a946b){const _0x2191bb=_0x5b42;this[_0x2191bb(0x230)]=_0x1a946b;const _0x5049ed=_0x1a946b['join']('\x0a');this['setTileUrlFunction'](createFromTileUrlFunctions(_0x1a946b[_0x2191bb(0x226)](this[_0x2191bb(0x1d5)][_0x2191bb(0x20f)](this))),_0x5049ed);}['getDimensions'](){const _0x558bd5=_0x5b42;return this[_0x558bd5(0x1e7)];}[_0x2a0380(0x1f1)](){return this['format_'];}[_0x2a0380(0x217)](){return this['layer_'];}[_0x2a0380(0x233)](){return this['matrixSet_'];}[_0x2a0380(0x211)](){return this['requestEncoding_'];}[_0x2a0380(0x1d8)](){return this['style_'];}[_0x2a0380(0x1db)](){const _0x4f856c=_0x2a0380;return this[_0x4f856c(0x1e8)];}[_0x2a0380(0x1fb)](){const _0x2e6644=_0x2a0380,_0x3e85ba=this['urls']?this[_0x2e6644(0x230)]['slice'](0x0):[];for(const _0x450835 in this[_0x2e6644(0x1e7)]){_0x3e85ba[_0x2e6644(0x225)](_0x450835+'-'+this[_0x2e6644(0x1e7)][_0x450835]);}return _0x3e85ba[_0x2e6644(0x219)]('/');}[_0x2a0380(0x214)](_0x5a6b94){const _0x4e0217=_0x2a0380;Object[_0x4e0217(0x20c)](this[_0x4e0217(0x1e7)],_0x5a6b94),this[_0x4e0217(0x1e1)](this[_0x4e0217(0x1fb)]());}['createFromWMTSTemplate'](_0x690fb8){const _0x1e3076=_0x2a0380,_0x2eaefb=this['requestEncoding_'],_0x542478={'layer':this[_0x1e3076(0x1d4)],'style':this[_0x1e3076(0x218)],'tilematrixset':this[_0x1e3076(0x229)]};_0x2eaefb==_0x1e3076(0x1d6)&&Object[_0x1e3076(0x20c)](_0x542478,{'Service':_0x1e3076(0x1de),'Request':_0x1e3076(0x1dd),'Version':this[_0x1e3076(0x1e8)],'Format':this['format_']});_0x690fb8=_0x2eaefb=='KVP'?appendParams(_0x690fb8,_0x542478):_0x690fb8[_0x1e3076(0x20a)](/\{(\w+?)\}/g,function(_0x4b7df2,_0x1f919b){const _0x440d0a=_0x1e3076;return _0x1f919b[_0x440d0a(0x206)]()in _0x542478?_0x542478[_0x1f919b[_0x440d0a(0x206)]()]:_0x4b7df2;});const _0x301b72=this[_0x1e3076(0x1e2)],_0x1826d1=this[_0x1e3076(0x1e7)];return function(_0x4c463f,_0x3cd366,_0x421e21){const _0x52189d=_0x1e3076;if(!_0x4c463f)return undefined;const _0x4c88b1={'TileMatrix':_0x301b72[_0x52189d(0x1d0)](_0x4c463f[0x0]),'TileCol':_0x4c463f[0x1],'TileRow':_0x4c463f[0x2]};Object[_0x52189d(0x20c)](_0x4c88b1,_0x1826d1);let _0x17d7a4=_0x690fb8;return _0x2eaefb==_0x52189d(0x1d6)?_0x17d7a4=appendParams(_0x17d7a4,_0x4c88b1):_0x17d7a4=_0x17d7a4[_0x52189d(0x20a)](/\{(\w+?)\}/g,function(_0x2ef67a,_0x3ad99b){return _0x4c88b1[_0x3ad99b];}),_0x17d7a4;};}}export default WMTS;export function optionsFromCapabilities(_0x45eea9,_0x5ac69b){const _0x2755e8=_0x2a0380,_0x5b4ba7=_0x45eea9[_0x2755e8(0x20b)][_0x2755e8(0x232)],_0x4be8dd=_0x5b4ba7?.[_0x2755e8(0x216)](function(_0x2fe67a){const _0x33133e=_0x2755e8;return _0x2fe67a[_0x33133e(0x21c)]==_0x5ac69b[_0x33133e(0x1d2)];});if(!_0x4be8dd)return null;const _0x1da17e=_0x45eea9['Contents']['TileMatrixSet'];let _0x2ceb44;_0x4be8dd['TileMatrixSetLink'][_0x2755e8(0x200)]>0x1?_0x2755e8(0x22d)in _0x5ac69b?_0x2ceb44=_0x4be8dd[_0x2755e8(0x202)][_0x2755e8(0x213)](function(_0x4ffb2e){const _0x190975=_0x2755e8,_0x582550=_0x1da17e[_0x190975(0x216)](function(_0x317768){return _0x317768['Identifier']==_0x4ffb2e['TileMatrixSet'];}),_0x184ba2=_0x582550[_0x190975(0x1e5)],_0x467aa5=_0x19dda1(_0x184ba2),_0x12dec7=_0x19dda1(_0x5ac69b['projection']);if(_0x467aa5&&_0x12dec7)return equivalent(_0x467aa5,_0x12dec7);return _0x184ba2==_0x5ac69b['projection'];}):_0x2ceb44=_0x4be8dd[_0x2755e8(0x202)][_0x2755e8(0x213)](function(_0x43186c){const _0x4c297d=_0x2755e8;return _0x43186c[_0x4c297d(0x1fc)]==_0x5ac69b[_0x4c297d(0x21e)];}):_0x2ceb44=0x0;_0x2ceb44<0x0&&(_0x2ceb44=0x0);const _0x55fc88=_0x4be8dd['TileMatrixSetLink'][_0x2ceb44][_0x2755e8(0x1fc)],_0x316d66=_0x4be8dd[_0x2755e8(0x202)][_0x2ceb44][_0x2755e8(0x1f3)];let _0x5ada31=_0x4be8dd[_0x2755e8(0x1f5)][0x0];_0x2755e8(0x1d7)in _0x5ac69b&&(_0x5ada31=_0x5ac69b[_0x2755e8(0x1d7)]);_0x2ceb44=_0x4be8dd['Style']['findIndex'](function(_0x33f690){const _0x56dd2e=_0x2755e8;if('style'in _0x5ac69b)return _0x33f690[_0x56dd2e(0x1fe)]==_0x5ac69b[_0x56dd2e(0x1d3)];return _0x33f690[_0x56dd2e(0x20e)];});_0x2ceb44<0x0&&(_0x2ceb44=0x0);const _0x8baa7e=_0x4be8dd[_0x2755e8(0x1ce)][_0x2ceb44]['Identifier'],_0x24d506={};_0x2755e8(0x22a)in _0x4be8dd&&_0x4be8dd['Dimension']['forEach'](function(_0xc09490,_0x272e45,_0x40c72a){const _0x27e51d=_0x2755e8,_0x1c9803=_0xc09490[_0x27e51d(0x21c)];let _0x25ed5d=_0xc09490[_0x27e51d(0x22e)];_0x25ed5d===undefined&&(_0x25ed5d=_0xc09490[_0x27e51d(0x1e9)][0x0]),_0x24d506[_0x1c9803]=_0x25ed5d;});const _0x5db20c=_0x45eea9[_0x2755e8(0x20b)]['TileMatrixSet'],_0x48ec26=_0x5db20c[_0x2755e8(0x216)](function(_0x5167b5){const _0x339833=_0x2755e8;return _0x5167b5[_0x339833(0x21c)]==_0x55fc88;});let _0x47e9c2;const _0x44becb=_0x48ec26['SupportedCRS'];_0x44becb&&(_0x47e9c2=_0x19dda1(_0x44becb));if('projection'in _0x5ac69b){const _0x5aedf0=_0x19dda1(_0x5ac69b[_0x2755e8(0x22d)]);_0x5aedf0&&((!_0x47e9c2||equivalent(_0x5aedf0,_0x47e9c2))&&(_0x47e9c2=_0x5aedf0));}let _0x36bd30=![];const _0x4e64d5=_0x47e9c2['getAxisOrientation']()[_0x2755e8(0x1df)]('ne');let _0x23635b=_0x48ec26[_0x2755e8(0x221)][0x0],_0x4dca03={'MinTileCol':0x0,'MinTileRow':0x0,'MaxTileCol':_0x23635b[_0x2755e8(0x21f)]-0x1,'MaxTileRow':_0x23635b['MatrixHeight']-0x1};if(_0x316d66){_0x4dca03=_0x316d66[_0x316d66['length']-0x1];const _0xdcdeac=_0x48ec26[_0x2755e8(0x221)][_0x2755e8(0x216)](_0xf92b7f=>_0xf92b7f[_0x2755e8(0x21c)]===_0x4dca03[_0x2755e8(0x221)]||_0x48ec26[_0x2755e8(0x21c)]+':'+_0xf92b7f[_0x2755e8(0x21c)]===_0x4dca03[_0x2755e8(0x221)]);_0xdcdeac&&(_0x23635b=_0xdcdeac);}const _0x182f40=_0x23635b['ScaleDenominator']*0.00028/_0x47e9c2[_0x2755e8(0x1ef)](),_0x35e0be=_0x4e64d5?[_0x23635b[_0x2755e8(0x1f4)][0x1],_0x23635b[_0x2755e8(0x1f4)][0x0]]:_0x23635b[_0x2755e8(0x1f4)],_0x1e9aac=_0x23635b[_0x2755e8(0x1f9)]*_0x182f40,_0x3af8d7=_0x23635b[_0x2755e8(0x223)]*_0x182f40;let _0x1d2edb=_0x48ec26[_0x2755e8(0x1cf)];_0x1d2edb&&_0x4e64d5&&(_0x1d2edb=[_0x1d2edb[0x1],_0x1d2edb[0x0],_0x1d2edb[0x3],_0x1d2edb[0x2]]);let _0x36622d=[_0x35e0be[0x0]+_0x1e9aac*_0x4dca03['MinTileCol'],_0x35e0be[0x1]-_0x3af8d7*(0x1+_0x4dca03[_0x2755e8(0x1dc)]),_0x35e0be[0x0]+_0x1e9aac*(0x1+_0x4dca03[_0x2755e8(0x1ff)]),_0x35e0be[0x1]-_0x3af8d7*_0x4dca03[_0x2755e8(0x215)]];if(_0x1d2edb!==undefined&&!containsExtent(_0x1d2edb,_0x36622d)){const _0x2f6789=_0x4be8dd[_0x2755e8(0x209)],_0x51c27f=_0x19dda1(_0x2755e8(0x224))[_0x2755e8(0x1fd)]();_0x36622d=_0x1d2edb;if(_0x2f6789)_0x36bd30=_0x2f6789[0x0]===_0x51c27f[0x0]&&_0x2f6789[0x2]===_0x51c27f[0x2];else{const _0x358fe6=transformExtent(_0x1d2edb,_0x48ec26[_0x2755e8(0x1e5)],'EPSG:4326');_0x36bd30=_0x358fe6[0x0]-1e-10<=_0x51c27f[0x0]&&_0x358fe6[0x2]+1e-10>=_0x51c27f[0x2];}}const _0x1ecaa3=createFromCapabilitiesMatrixSet(_0x48ec26,_0x36622d,_0x316d66),_0x2d578e=[];let _0x5fdf72=_0x5ac69b['requestEncoding'];_0x5fdf72=_0x5fdf72!==undefined?_0x5fdf72:'';if(_0x2755e8(0x1d1)in _0x45eea9&&_0x2755e8(0x1dd)in _0x45eea9[_0x2755e8(0x1d1)]){const _0x2a45fa=_0x45eea9['OperationsMetadata'][_0x2755e8(0x1dd)][_0x2755e8(0x1ea)][_0x2755e8(0x205)]['Get'];for(let _0x27654d=0x0,_0x38cac4=_0x2a45fa[_0x2755e8(0x200)];_0x27654d<_0x38cac4;++_0x27654d){if(_0x2a45fa[_0x27654d]['Constraint']){const _0x28ee75=_0x2a45fa[_0x27654d]['Constraint'][_0x2755e8(0x216)](function(_0x12c3f0){const _0x4fdd7c=_0x2755e8;return _0x12c3f0[_0x4fdd7c(0x1eb)]==_0x4fdd7c(0x1cc);}),_0x4fdf6b=_0x28ee75['AllowedValues'][_0x2755e8(0x1e9)];_0x5fdf72===''&&(_0x5fdf72=_0x4fdf6b[0x0]);if(_0x5fdf72==='KVP')_0x4fdf6b[_0x2755e8(0x207)](_0x2755e8(0x1d6))&&_0x2d578e[_0x2755e8(0x225)](_0x2a45fa[_0x27654d]['href']);else break;}else _0x2a45fa[_0x27654d][_0x2755e8(0x222)]&&(_0x5fdf72=_0x2755e8(0x1d6),_0x2d578e[_0x2755e8(0x225)](_0x2a45fa[_0x27654d][_0x2755e8(0x222)]));}}return _0x2d578e['length']===0x0&&(_0x5fdf72=_0x2755e8(0x21b),_0x4be8dd[_0x2755e8(0x231)]['forEach'](function(_0x4cdf11){const _0x2e5d7d=_0x2755e8;_0x4cdf11[_0x2e5d7d(0x22c)]===_0x2e5d7d(0x227)&&(_0x5ada31=_0x4cdf11[_0x2e5d7d(0x1d7)],_0x2d578e[_0x2e5d7d(0x225)](_0x4cdf11[_0x2e5d7d(0x1cb)]));})),{'urls':_0x2d578e,'layer':_0x5ac69b[_0x2755e8(0x1d2)],'matrixSet':_0x55fc88,'format':_0x5ada31,'projection':_0x47e9c2,'requestEncoding':_0x5fdf72,'tileGrid':_0x1ecaa3,'style':_0x8baa7e,'dimensions':_0x24d506,'wrapX':_0x36bd30,'crossOrigin':_0x5ac69b[_0x2755e8(0x201)]};}