(function(_0x4c4142,_0x2db91b){const _0x3be27a=_0x407a,_0x141ba7=_0x4c4142();while(!![]){try{const _0x3eb6e4=parseInt(_0x3be27a(0x90))/0x1*(parseInt(_0x3be27a(0xae))/0x2)+-parseInt(_0x3be27a(0xc6))/0x3+parseInt(_0x3be27a(0xbd))/0x4*(-parseInt(_0x3be27a(0x93))/0x5)+parseInt(_0x3be27a(0xb8))/0x6*(-parseInt(_0x3be27a(0xcd))/0x7)+-parseInt(_0x3be27a(0xb4))/0x8+-parseInt(_0x3be27a(0xa7))/0x9*(-parseInt(_0x3be27a(0xaf))/0xa)+parseInt(_0x3be27a(0xc3))/0xb;if(_0x3eb6e4===_0x2db91b)break;else _0x141ba7['push'](_0x141ba7['shift']());}catch(_0x3009e4){_0x141ba7['push'](_0x141ba7['shift']());}}}(_0x5752,0x264b8));import _0x35ed55 from'../tilegrid/TileGrid.js';import{getJSON,resolveUrl}from'../net.js';import{get as _0x79915a}from'../proj.js';import{getIntersection as _0x2906ff}from'../extent.js';import{error as _0xff5726}from'../console.js';const knownMapMediaTypes={'image/png':!![],'image/jpeg':!![],'image/gif':!![],'image/webp':!![]},knownVectorMediaTypes={'application/vnd.mapbox-vector-tile':!![],'application/geo+json':!![]};export function appendCollectionsQueryParam(_0xd8d669,_0x5f4790){const _0x15c934=_0x407a;if(!_0x5f4790['length'])return _0xd8d669;const _0x10b4a5=new URL(_0xd8d669,'file:/');if(_0x10b4a5[_0x15c934(0x98)][_0x15c934(0xb2)]('/')[_0x15c934(0x94)](_0x15c934(0xa5)))return _0xff5726(_0x15c934(0xa3)),_0xd8d669;const _0x452271=_0x5f4790[_0x15c934(0xc0)](_0x43aa9e=>encodeURIComponent(_0x43aa9e))[_0x15c934(0xad)](',');_0x10b4a5[_0x15c934(0xb6)][_0x15c934(0x99)](_0x15c934(0xa5),_0x452271);const _0x2c48ba=_0xd8d669['split']('?')[0x0],_0xed6b15=decodeURIComponent(_0x10b4a5[_0x15c934(0xb6)][_0x15c934(0xc2)]());return _0x2c48ba+'?'+_0xed6b15;}export function getMapTileUrlTemplate(_0x288648,_0x5968ea,_0x2e8aff){const _0x5a7b94=_0x407a;let _0x368a68,_0x1573b9;for(let _0x2283ef=0x0;_0x2283ef<_0x288648['length'];++_0x2283ef){const _0xc77574=_0x288648[_0x2283ef];if(_0xc77574[_0x5a7b94(0xa2)]==='item'){if(_0xc77574[_0x5a7b94(0xbb)]===_0x5968ea){_0x368a68=_0xc77574[_0x5a7b94(0xac)];break;}if(knownMapMediaTypes[_0xc77574['type']])_0x1573b9=_0xc77574[_0x5a7b94(0xac)];else!_0x1573b9&&_0xc77574[_0x5a7b94(0xbb)][_0x5a7b94(0x91)](_0x5a7b94(0xc1))&&(_0x1573b9=_0xc77574['href']);}}if(!_0x368a68){if(_0x1573b9)_0x368a68=_0x1573b9;else throw new Error(_0x5a7b94(0xc7));}return _0x2e8aff&&(_0x368a68=appendCollectionsQueryParam(_0x368a68,_0x2e8aff)),_0x368a68;}export function getVectorTileUrlTemplate(_0x5b4eeb,_0x5b873f,_0x3365db,_0x12dcfe){const _0x2e3ea1=_0x407a;let _0x3d4a33,_0x30ebe8;const _0x5eda03={};for(let _0x12a5ab=0x0;_0x12a5ab<_0x5b4eeb[_0x2e3ea1(0x9a)];++_0x12a5ab){const _0x1dead7=_0x5b4eeb[_0x12a5ab];_0x5eda03[_0x1dead7[_0x2e3ea1(0xbb)]]=_0x1dead7[_0x2e3ea1(0xac)];if(_0x1dead7[_0x2e3ea1(0xa2)]==='item'){if(_0x1dead7['type']===_0x5b873f){_0x3d4a33=_0x1dead7[_0x2e3ea1(0xac)];break;}knownVectorMediaTypes[_0x1dead7[_0x2e3ea1(0xbb)]]&&(_0x30ebe8=_0x1dead7[_0x2e3ea1(0xac)]);}}if(!_0x3d4a33&&_0x3365db)for(let _0x52b962=0x0;_0x52b962<_0x3365db[_0x2e3ea1(0x9a)];++_0x52b962){const _0x2d2145=_0x3365db[_0x52b962];if(_0x5eda03[_0x2d2145]){_0x3d4a33=_0x5eda03[_0x2d2145];break;}}if(!_0x3d4a33){if(_0x30ebe8)_0x3d4a33=_0x30ebe8;else throw new Error('Could\x20not\x20find\x20\x22item\x22\x20link');}return _0x12dcfe&&(_0x3d4a33=appendCollectionsQueryParam(_0x3d4a33,_0x12dcfe)),_0x3d4a33;}function parseTileMatrixSet(_0x29ead9,_0x1ae562,_0x48f1d2,_0x12a337){const _0x158e7e=_0x407a;let _0x292572=_0x29ead9['projection'];if(!_0x292572){_0x292572=_0x79915a(_0x1ae562[_0x158e7e(0xa1)]);if(!_0x292572)throw new Error(_0x158e7e(0xbf)+_0x1ae562[_0x158e7e(0xa1)]);}const _0x5dbf69=_0x1ae562[_0x158e7e(0xca)],_0xcb35de=_0x5dbf69?_0x5dbf69['slice'](0x0,0x2)[_0x158e7e(0xc0)](_0x581c1b=>_0x581c1b[_0x158e7e(0xa6)](/E|X|Lon/i,'e')[_0x158e7e(0xa6)](/N|Y|Lat/i,'n'))[_0x158e7e(0xad)](''):_0x292572[_0x158e7e(0x9c)](),_0x1f589b=!_0xcb35de['startsWith']('en'),_0x34f317=_0x1ae562[_0x158e7e(0xb1)],_0x1ca720={};for(let _0xa48c4d=0x0;_0xa48c4d<_0x34f317[_0x158e7e(0x9a)];++_0xa48c4d){const _0x215529=_0x34f317[_0xa48c4d];_0x1ca720[_0x215529['id']]=_0x215529;}const _0x29b828={},_0x421612=[];if(_0x12a337)for(let _0x55e0a9=0x0;_0x55e0a9<_0x12a337[_0x158e7e(0x9a)];++_0x55e0a9){const _0xa018de=_0x12a337[_0x55e0a9],_0x259f64=_0xa018de[_0x158e7e(0xb3)];_0x421612[_0x158e7e(0x96)](_0x259f64),_0x29b828[_0x259f64]=_0xa018de;}else for(let _0x2d9408=0x0;_0x2d9408<_0x34f317[_0x158e7e(0x9a)];++_0x2d9408){const _0x156158=_0x34f317[_0x2d9408]['id'];_0x421612[_0x158e7e(0x96)](_0x156158);}const _0x24f2a6=_0x421612[_0x158e7e(0x9a)],_0x1bd759=new Array(_0x24f2a6),_0x48e48a=new Array(_0x24f2a6),_0x5337d=new Array(_0x24f2a6),_0x30270a=new Array(_0x24f2a6),_0x2c8181=[-Infinity,-Infinity,Infinity,Infinity];for(let _0x401e11=0x0;_0x401e11<_0x24f2a6;++_0x401e11){const _0x566edb=_0x421612[_0x401e11],_0x4985f5=_0x1ca720[_0x566edb],_0x40daf6=_0x4985f5[_0x158e7e(0xbc)];_0x1f589b?_0x1bd759[_0x401e11]=[_0x40daf6[0x1],_0x40daf6[0x0]]:_0x1bd759[_0x401e11]=_0x40daf6;_0x48e48a[_0x401e11]=_0x4985f5[_0x158e7e(0xa0)],_0x5337d[_0x401e11]=[_0x4985f5['matrixWidth'],_0x4985f5['matrixHeight']],_0x30270a[_0x401e11]=[_0x4985f5[_0x158e7e(0x97)],_0x4985f5['tileHeight']];const _0x2be085=_0x29b828[_0x566edb];if(_0x2be085){const _0x3d5668=_0x4985f5[_0x158e7e(0xa0)]*_0x4985f5[_0x158e7e(0x97)],_0x2ef80e=_0x1bd759[_0x401e11][0x0]+_0x2be085['minTileCol']*_0x3d5668,_0xd466a=_0x1bd759[_0x401e11][0x0]+(_0x2be085[_0x158e7e(0xcb)]+0x1)*_0x3d5668,_0x4ae8a3=_0x4985f5[_0x158e7e(0xa0)]*_0x4985f5[_0x158e7e(0xba)],_0x358d55=_0x4985f5[_0x158e7e(0x9f)]===_0x158e7e(0xb9);let _0x5c60b4,_0x1b568a;_0x358d55?(_0x5c60b4=_0x1bd759[_0x401e11][0x1]+_0x2be085[_0x158e7e(0xb5)]*_0x4ae8a3,_0x1b568a=_0x1bd759[_0x401e11][0x1]+(_0x2be085[_0x158e7e(0xc4)]+0x1)*_0x4ae8a3):(_0x5c60b4=_0x1bd759[_0x401e11][0x1]-(_0x2be085['maxTileRow']+0x1)*_0x4ae8a3,_0x1b568a=_0x1bd759[_0x401e11][0x1]-_0x2be085[_0x158e7e(0xb5)]*_0x4ae8a3),_0x2906ff(_0x2c8181,[_0x2ef80e,_0x5c60b4,_0xd466a,_0x1b568a],_0x2c8181);}}const _0x19ff6a=new _0x35ed55({'origins':_0x1bd759,'resolutions':_0x48e48a,'sizes':_0x5337d,'tileSizes':_0x30270a,'extent':_0x12a337?_0x2c8181:undefined}),_0x108d89=_0x29ead9[_0x158e7e(0xbe)],_0x16f641=_0x29ead9[_0x158e7e(0xb0)];function _0x5f47f1(_0x31e667,_0x79c9fe,_0x8bac85){const _0x127018=_0x158e7e;if(!_0x31e667)return undefined;const _0x119f47=_0x421612[_0x31e667[0x0]],_0x349fc0=_0x1ca720[_0x119f47],_0x35daee=_0x349fc0['cornerOfOrigin']===_0x127018(0xb9),_0x279229={'tileMatrix':_0x119f47,'tileCol':_0x31e667[0x1],'tileRow':_0x35daee?-_0x31e667[0x2]-0x1:_0x31e667[0x2]};if(_0x12a337){const _0x15b9f0=_0x29b828[_0x349fc0['id']];if(_0x279229[_0x127018(0xcc)]<_0x15b9f0[_0x127018(0x9b)]||_0x279229[_0x127018(0xcc)]>_0x15b9f0['maxTileCol']||_0x279229[_0x127018(0xc5)]<_0x15b9f0[_0x127018(0xb5)]||_0x279229[_0x127018(0xc5)]>_0x15b9f0[_0x127018(0xc4)])return undefined;}Object['assign'](_0x279229,_0x108d89);const _0x140a10=_0x48f1d2[_0x127018(0xa6)](/\{(\w+?)\}/g,function(_0x55faab,_0x432b88){return _0x279229[_0x432b88];});return resolveUrl(_0x16f641,_0x140a10);}return{'grid':_0x19ff6a,'urlTemplate':_0x48f1d2,'urlFunction':_0x5f47f1};}function parseTileSetMetadata(_0x22e89d,_0x4d99e5){const _0x1b8ec7=_0x407a,_0x2c9582=_0x4d99e5[_0x1b8ec7(0xab)];let _0x5276f8;if(_0x4d99e5['dataType']===_0x1b8ec7(0xc0))_0x5276f8=getMapTileUrlTemplate(_0x4d99e5[_0x1b8ec7(0xc8)],_0x22e89d[_0x1b8ec7(0xa8)],_0x22e89d[_0x1b8ec7(0xa5)]);else{if(_0x4d99e5[_0x1b8ec7(0x9d)]===_0x1b8ec7(0xb7))_0x5276f8=getVectorTileUrlTemplate(_0x4d99e5[_0x1b8ec7(0xc8)],_0x22e89d[_0x1b8ec7(0xa8)],_0x22e89d[_0x1b8ec7(0x95)],_0x22e89d['collections']);else throw new Error(_0x1b8ec7(0xc9));}if(_0x4d99e5['tileMatrixSet'])return parseTileMatrixSet(_0x22e89d,_0x4d99e5[_0x1b8ec7(0x92)],_0x5276f8,_0x2c9582);const _0x215d71=_0x4d99e5[_0x1b8ec7(0xc8)][_0x1b8ec7(0xaa)](_0xecd6dc=>_0xecd6dc[_0x1b8ec7(0xa2)]===_0x1b8ec7(0xa4));if(!_0x215d71)throw new Error(_0x1b8ec7(0xa9));const _0x1aeb59=_0x215d71[_0x1b8ec7(0xac)],_0x25b190=resolveUrl(_0x22e89d['url'],_0x1aeb59);return getJSON(_0x25b190)[_0x1b8ec7(0x9e)](function(_0x169e1e){return parseTileMatrixSet(_0x22e89d,_0x169e1e,_0x5276f8,_0x2c9582);});}function _0x407a(_0x1b9a6d,_0x6b3a22){const _0x57521b=_0x5752();return _0x407a=function(_0x407ac5,_0x427c40){_0x407ac5=_0x407ac5-0x90;let _0x2a2340=_0x57521b[_0x407ac5];return _0x2a2340;},_0x407a(_0x1b9a6d,_0x6b3a22);}function _0x5752(){const _0x24fdb5=['minTileRow','searchParams','vector','6tSdrcH','bottomLeft','tileHeight','type','pointOfOrigin','1452nvKMpf','context','Unsupported\x20CRS:\x20','map','image/','toString','6399844YvytRV','maxTileRow','tileRow','820485uMuqif','Could\x20not\x20find\x20\x22item\x22\x20link','links','Expected\x20tileset\x20data\x20type\x20to\x20be\x20\x22map\x22\x20or\x20\x22vector\x22','orderedAxes','maxTileCol','tileCol','759955FBFdBx','13239jZaohT','startsWith','tileMatrixSet','2185zZyGVk','includes','supportedMediaTypes','push','tileWidth','pathname','append','length','minTileCol','getAxisOrientation','dataType','then','cornerOfOrigin','cellSize','crs','rel','The\x20\x22collections\x22\x20query\x20parameter\x20cannot\x20be\x20added\x20to\x20collection\x20endpoints','http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme','collections','replace','1070343CJmVgH','mediaType','Expected\x20http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme\x20link\x20or\x20tileMatrixSet','find','tileMatrixSetLimits','href','join','46XgSPag','10cDEgGQ','url','tileMatrices','split','tileMatrix','2461448AeHaQu'];_0x5752=function(){return _0x24fdb5;};return _0x5752();}export function getTileSetInfo(_0x8bfd95){const _0x1798d1=_0x407a;return getJSON(_0x8bfd95[_0x1798d1(0xb0)])[_0x1798d1(0x9e)](function(_0x40e4cc){return parseTileSetMetadata(_0x8bfd95,_0x40e4cc);});}