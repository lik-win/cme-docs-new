const _0x3c5adb=_0x4381;(function(_0x4cd2aa,_0xab238a){const _0x59e30c=_0x4381,_0x17107b=_0x4cd2aa();while(!![]){try{const _0x2a0336=-parseInt(_0x59e30c(0xb0))/0x1*(parseInt(_0x59e30c(0xa8))/0x2)+parseInt(_0x59e30c(0xa0))/0x3+-parseInt(_0x59e30c(0xa1))/0x4+-parseInt(_0x59e30c(0x9a))/0x5+parseInt(_0x59e30c(0xb4))/0x6+-parseInt(_0x59e30c(0x9f))/0x7+parseInt(_0x59e30c(0xaa))/0x8;if(_0x2a0336===_0xab238a)break;else _0x17107b['push'](_0x17107b['shift']());}catch(_0x5590bd){_0x17107b['push'](_0x17107b['shift']());}}}(_0x3ac3,0x46db5));import _0xe3e295 from'../events/EventType.js';import _0x5b84ba from'../Feature.js';function _0x4381(_0x13fcd0,_0x56e151){const _0x3ac3b1=_0x3ac3();return _0x4381=function(_0x438169,_0x858c4e){_0x438169=_0x438169-0x9a;let _0x400a9a=_0x3ac3b1[_0x438169];return _0x400a9a;},_0x4381(_0x13fcd0,_0x56e151);}import _0x318b5c from'../geom/Point.js';import _0x44d59b from'./Vector.js';import{add as _0x2d0aca,scale as _0x1ad257}from'../coordinate.js';import{assert}from'../asserts.js';import{buffer,createEmpty,createOrUpdateFromCoordinate,getCenter}from'../extent.js';function _0x3ac3(){const _0x564da5=['getCoordinates','interpolationRatio','CHANGE','createCluster','getMinDistance','23FfCkAK','refresh','addFeatures','cluster','353430zoKhKd','setMinDistance','attributions','loadFeatures','updateDistance','splice','geometryFunction','min','length','bind','createCustomCluster_','getSource','source','clear','boundRefresh_','569845vDcsCq','minDistance','addEventListener','getType','resolution','2029587EeFaVi','1717749iFSFjy','1941132zhMIOj','Point','features','filter','setDistance','removeEventListener','distance','42840zHmpAK','The\x20default\x20`geometryFunction`\x20can\x20only\x20handle\x20`Point`\x20or\x20null\x20geometries','8324752wHHuGa'];_0x3ac3=function(){return _0x564da5;};return _0x3ac3();}import{getUid}from'../util.js';class Cluster extends _0x44d59b{constructor(_0x32584c){const _0x19d18f=_0x4381;_0x32584c=_0x32584c||{},super({'attributions':_0x32584c[_0x19d18f(0xb6)],'wrapX':_0x32584c['wrapX']}),this[_0x19d18f(0x9e)]=undefined,this[_0x19d18f(0xa7)]=_0x32584c['distance']!==undefined?_0x32584c['distance']:0x14,this[_0x19d18f(0x9b)]=_0x32584c['minDistance']||0x0,this[_0x19d18f(0xac)]=0x0,this[_0x19d18f(0xa3)]=[],this[_0x19d18f(0xba)]=_0x32584c['geometryFunction']||function(_0xa0002d){const _0x3da7db=_0x19d18f,_0x2b23dc=_0xa0002d['getGeometry']();return assert(!_0x2b23dc||_0x2b23dc[_0x3da7db(0x9d)]()===_0x3da7db(0xa2),_0x3da7db(0xa9)),_0x2b23dc;},this[_0x19d18f(0xbe)]=_0x32584c[_0x19d18f(0xae)],this[_0x19d18f(0xc0)]=null,this[_0x19d18f(0xc2)]=this[_0x19d18f(0xb1)][_0x19d18f(0xbd)](this),this[_0x19d18f(0xb8)](this[_0x19d18f(0xa7)],this[_0x19d18f(0x9b)]),this['setSource'](_0x32584c[_0x19d18f(0xc0)]||null);}[_0x3c5adb(0xc1)](_0x5ee1bb){const _0x33605a=_0x3c5adb;this[_0x33605a(0xa3)][_0x33605a(0xbc)]=0x0,super[_0x33605a(0xc1)](_0x5ee1bb);}['getDistance'](){const _0x3ba94e=_0x3c5adb;return this[_0x3ba94e(0xa7)];}[_0x3c5adb(0xbf)](){const _0x5c7eda=_0x3c5adb;return this[_0x5c7eda(0xc0)];}[_0x3c5adb(0xb7)](_0x44b106,_0x28f199,_0x3168fd){const _0x4ea417=_0x3c5adb;this[_0x4ea417(0xc0)]?.[_0x4ea417(0xb7)](_0x44b106,_0x28f199,_0x3168fd),_0x28f199!==this[_0x4ea417(0x9e)]&&(this[_0x4ea417(0x9e)]=_0x28f199,this[_0x4ea417(0xb1)]());}[_0x3c5adb(0xa5)](_0x1282e6){const _0x3fc724=_0x3c5adb;this[_0x3fc724(0xb8)](_0x1282e6,this[_0x3fc724(0x9b)]);}[_0x3c5adb(0xb5)](_0x39d35f){const _0x1d449c=_0x3c5adb;this[_0x1d449c(0xb8)](this[_0x1d449c(0xa7)],_0x39d35f);}[_0x3c5adb(0xaf)](){const _0x4a968f=_0x3c5adb;return this[_0x4a968f(0x9b)];}['setSource'](_0x125696){const _0x19ff5f=_0x3c5adb;this[_0x19ff5f(0xc0)]&&this[_0x19ff5f(0xc0)][_0x19ff5f(0xa6)](_0xe3e295[_0x19ff5f(0xad)],this[_0x19ff5f(0xc2)]),this['source']=_0x125696,_0x125696&&_0x125696[_0x19ff5f(0x9c)](_0xe3e295[_0x19ff5f(0xad)],this[_0x19ff5f(0xc2)]),this[_0x19ff5f(0xb1)]();}[_0x3c5adb(0xb1)](){const _0x4d4c01=_0x3c5adb;this[_0x4d4c01(0xc1)](),this[_0x4d4c01(0xb3)](),this[_0x4d4c01(0xb2)](this[_0x4d4c01(0xa3)]);}[_0x3c5adb(0xb8)](_0x3bcdab,_0x5f1e2f){const _0x2973d1=_0x3c5adb,_0x472cb3=_0x3bcdab===0x0?0x0:Math[_0x2973d1(0xbb)](_0x5f1e2f,_0x3bcdab)/_0x3bcdab,_0x582f1b=_0x3bcdab!==this[_0x2973d1(0xa7)]||this['interpolationRatio']!==_0x472cb3;this[_0x2973d1(0xa7)]=_0x3bcdab,this[_0x2973d1(0x9b)]=_0x5f1e2f,this[_0x2973d1(0xac)]=_0x472cb3,_0x582f1b&&this[_0x2973d1(0xb1)]();}[_0x3c5adb(0xb3)](){const _0x173f8a=_0x3c5adb;if(this['resolution']===undefined||!this[_0x173f8a(0xc0)])return;const _0x11c082=createEmpty(),_0x3c133=this[_0x173f8a(0xa7)]*this[_0x173f8a(0x9e)],_0x443c4d=this[_0x173f8a(0xc0)]['getFeatures'](),_0x34f97c={};for(let _0x598ea2=0x0,_0x2ccba5=_0x443c4d[_0x173f8a(0xbc)];_0x598ea2<_0x2ccba5;_0x598ea2++){const _0x313005=_0x443c4d[_0x598ea2];if(!(getUid(_0x313005)in _0x34f97c)){const _0x25004f=this[_0x173f8a(0xba)](_0x313005);if(_0x25004f){const _0x4593c6=_0x25004f['getCoordinates']();createOrUpdateFromCoordinate(_0x4593c6,_0x11c082),buffer(_0x11c082,_0x3c133,_0x11c082);const _0x380289=this[_0x173f8a(0xc0)]['getFeaturesInExtent'](_0x11c082)[_0x173f8a(0xa4)](function(_0x31b182){const _0x66f0f=getUid(_0x31b182);if(_0x66f0f in _0x34f97c)return![];return _0x34f97c[_0x66f0f]=!![],!![];});this[_0x173f8a(0xa3)]['push'](this[_0x173f8a(0xae)](_0x380289,_0x11c082));}}}}[_0x3c5adb(0xae)](_0x535da9,_0x33ad8f){const _0x48aaad=_0x3c5adb,_0x42f9af=[0x0,0x0];for(let _0x26f84f=_0x535da9[_0x48aaad(0xbc)]-0x1;_0x26f84f>=0x0;--_0x26f84f){const _0x3b0092=this['geometryFunction'](_0x535da9[_0x26f84f]);_0x3b0092?_0x2d0aca(_0x42f9af,_0x3b0092[_0x48aaad(0xab)]()):_0x535da9[_0x48aaad(0xb9)](_0x26f84f,0x1);}_0x1ad257(_0x42f9af,0x1/_0x535da9[_0x48aaad(0xbc)]);const _0x31fd78=getCenter(_0x33ad8f),_0x117a37=this['interpolationRatio'],_0x20a736=new _0x318b5c([_0x42f9af[0x0]*(0x1-_0x117a37)+_0x31fd78[0x0]*_0x117a37,_0x42f9af[0x1]*(0x1-_0x117a37)+_0x31fd78[0x1]*_0x117a37]);if(this[_0x48aaad(0xbe)])return this[_0x48aaad(0xbe)](_0x20a736,_0x535da9);return new _0x5b84ba({'geometry':_0x20a736,'features':_0x535da9});}}export default Cluster;