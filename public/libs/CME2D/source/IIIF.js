(function(_0x4e6cbb,_0x14b855){const _0x276b1a=_0x295e,_0x9f7725=_0x4e6cbb();while(!![]){try{const _0x4e9f19=-parseInt(_0x276b1a(0xd9))/0x1+-parseInt(_0x276b1a(0xf4))/0x2+parseInt(_0x276b1a(0xde))/0x3+parseInt(_0x276b1a(0xd3))/0x4+-parseInt(_0x276b1a(0xe3))/0x5*(-parseInt(_0x276b1a(0xc7))/0x6)+parseInt(_0x276b1a(0xd7))/0x7+-parseInt(_0x276b1a(0xf0))/0x8;if(_0x4e9f19===_0x14b855)break;else _0x9f7725['push'](_0x9f7725['shift']());}catch(_0x406a71){_0x9f7725['push'](_0x9f7725['shift']());}}}(_0x34e1,0xa6494));import _0x589e9d from'../tilegrid/TileGrid.js';import _0x243695 from'./TileImage.js';function _0x295e(_0x346847,_0x31b9a2){const _0x34e180=_0x34e1();return _0x295e=function(_0x295ee8,_0x455873){_0x295ee8=_0x295ee8-0xc5;let _0x1196bc=_0x34e180[_0x295ee8];return _0x1196bc;},_0x295e(_0x346847,_0x31b9a2);}import{CustomTile}from'./Zoomify.js';import{DEFAULT_TILE_SIZE}from'../tilegrid/common.js';import{Versions}from'../format/IIIFInfo.js';import{assert}from'../asserts.js';import{getTopLeft}from'../extent.js';import{toSize}from'../size.js';function formatPercentage(_0x1afc3d){const _0x1d9bce=_0x295e;return _0x1afc3d[_0x1d9bce(0xcb)]('en',{'maximumFractionDigits':0xa});}class IIIF extends _0x243695{constructor(_0x2cdf18){const _0x2f44c3=_0x295e,_0x288e4a=_0x2cdf18||{};let _0x596af8=_0x288e4a['url']||'';_0x596af8=_0x596af8+(_0x596af8[_0x2f44c3(0xd4)]('/')===_0x596af8[_0x2f44c3(0xe9)]-0x1||_0x596af8===''?'':'/');const _0x2575be=_0x288e4a[_0x2f44c3(0xea)]||Versions[_0x2f44c3(0xd2)],_0x791cca=_0x288e4a[_0x2f44c3(0xce)]||[],_0x365ed6=_0x288e4a[_0x2f44c3(0xdd)];assert(_0x365ed6!=undefined&&Array['isArray'](_0x365ed6)&&_0x365ed6[_0x2f44c3(0xe9)]==0x2&&!isNaN(_0x365ed6[0x0])&&_0x365ed6[0x0]>0x0&&!isNaN(_0x365ed6[0x1])&&_0x365ed6[0x1]>0x0,_0x2f44c3(0xd8));const _0x5804a6=_0x365ed6[0x0],_0x3a7dab=_0x365ed6[0x1],_0x572c1d=_0x288e4a[_0x2f44c3(0xfd)],_0xbf3502=_0x288e4a[_0x2f44c3(0xf7)]||0x1,_0x209dec=_0x288e4a[_0x2f44c3(0xda)]||_0x2f44c3(0xef),_0x74efd8=_0x288e4a['quality']||(_0x288e4a[_0x2f44c3(0xea)]==Versions[_0x2f44c3(0xfc)]?_0x2f44c3(0xe5):_0x2f44c3(0xf1));let _0x11f195=_0x288e4a[_0x2f44c3(0xcd)]||[];const _0xebe5fd=_0x288e4a['supports']||[],_0xdfc319=_0x288e4a[_0x2f44c3(0xdc)]||[0x0,-_0x3a7dab,_0x5804a6,0x0],_0x1b3d71=_0x791cca!=undefined&&Array[_0x2f44c3(0xe7)](_0x791cca)&&_0x791cca[_0x2f44c3(0xe9)]>0x0,_0x2a4296=_0x572c1d!==undefined&&(typeof _0x572c1d==='number'&&Number[_0x2f44c3(0xf6)](_0x572c1d)&&_0x572c1d>0x0||Array[_0x2f44c3(0xe7)](_0x572c1d)&&_0x572c1d[_0x2f44c3(0xe9)]>0x0),_0x22c060=_0xebe5fd!=undefined&&Array[_0x2f44c3(0xe7)](_0xebe5fd)&&(_0xebe5fd[_0x2f44c3(0xcf)](_0x2f44c3(0xec))||_0xebe5fd['includes'](_0x2f44c3(0xfa)))&&(_0xebe5fd[_0x2f44c3(0xcf)]('sizeByWh')||_0xebe5fd[_0x2f44c3(0xcf)](_0x2f44c3(0xe4))||_0xebe5fd[_0x2f44c3(0xcf)](_0x2f44c3(0xee))||_0xebe5fd[_0x2f44c3(0xcf)](_0x2f44c3(0xf2)));let _0x2705a2,_0x6d2131,_0x4929d7;_0x11f195['sort'](function(_0x1a51dc,_0x3f15b6){return _0x3f15b6-_0x1a51dc;});if(_0x2a4296||_0x22c060){if(_0x572c1d!=undefined){if(typeof _0x572c1d===_0x2f44c3(0xd6)&&Number[_0x2f44c3(0xf6)](_0x572c1d)&&_0x572c1d>0x0)_0x2705a2=_0x572c1d,_0x6d2131=_0x572c1d;else{if(Array[_0x2f44c3(0xe7)](_0x572c1d)&&_0x572c1d[_0x2f44c3(0xe9)]>0x0){(_0x572c1d[_0x2f44c3(0xe9)]==0x1||_0x572c1d[0x1]==undefined&&Number[_0x2f44c3(0xf6)](_0x572c1d[0x0]))&&(_0x2705a2=_0x572c1d[0x0],_0x6d2131=_0x572c1d[0x0]);if(_0x572c1d[_0x2f44c3(0xe9)]==0x2){if(Number[_0x2f44c3(0xf6)](_0x572c1d[0x0])&&Number[_0x2f44c3(0xf6)](_0x572c1d[0x1]))_0x2705a2=_0x572c1d[0x0],_0x6d2131=_0x572c1d[0x1];else _0x572c1d[0x0]==undefined&&Number[_0x2f44c3(0xf6)](_0x572c1d[0x1])&&(_0x2705a2=_0x572c1d[0x1],_0x6d2131=_0x572c1d[0x1]);}}}}(_0x2705a2===undefined||_0x6d2131===undefined)&&(_0x2705a2=DEFAULT_TILE_SIZE,_0x6d2131=DEFAULT_TILE_SIZE);if(_0x11f195[_0x2f44c3(0xe9)]==0x0){_0x4929d7=Math[_0x2f44c3(0xeb)](Math[_0x2f44c3(0xc9)](Math[_0x2f44c3(0xed)](_0x5804a6/_0x2705a2)/Math[_0x2f44c3(0xfe)]),Math['ceil'](Math[_0x2f44c3(0xed)](_0x3a7dab/_0x6d2131)/Math[_0x2f44c3(0xfe)]));for(let _0x1332ad=_0x4929d7;_0x1332ad>=0x0;_0x1332ad--){_0x11f195[_0x2f44c3(0xd1)](Math['pow'](0x2,_0x1332ad));}}else{const _0x4a1ae3=Math[_0x2f44c3(0xeb)](..._0x11f195);_0x4929d7=Math[_0x2f44c3(0xe2)](Math['log'](_0x4a1ae3)/Math['LN2']);}}else{_0x2705a2=_0x5804a6,_0x6d2131=_0x3a7dab,_0x11f195=[];if(_0x1b3d71){_0x791cca[_0x2f44c3(0xd5)](function(_0x38f85e,_0x550b2b){return _0x38f85e[0x0]-_0x550b2b[0x0];}),_0x4929d7=-0x1;const _0x18d8c8=[];for(let _0x338f6b=0x0;_0x338f6b<_0x791cca[_0x2f44c3(0xe9)];_0x338f6b++){const _0xe4d54d=_0x5804a6/_0x791cca[_0x338f6b][0x0];if(_0x11f195[_0x2f44c3(0xe9)]>0x0&&_0x11f195[_0x11f195[_0x2f44c3(0xe9)]-0x1]==_0xe4d54d){_0x18d8c8[_0x2f44c3(0xd1)](_0x338f6b);continue;}_0x11f195[_0x2f44c3(0xd1)](_0xe4d54d),_0x4929d7++;}if(_0x18d8c8[_0x2f44c3(0xe9)]>0x0)for(let _0x1b22a3=0x0;_0x1b22a3<_0x18d8c8[_0x2f44c3(0xe9)];_0x1b22a3++){_0x791cca['splice'](_0x18d8c8[_0x1b22a3]-_0x1b22a3,0x1);}}else _0x11f195['push'](0x1),_0x791cca[_0x2f44c3(0xd1)]([_0x5804a6,_0x3a7dab]),_0x4929d7=0x0;}const _0x39618f=new _0x589e9d({'tileSize':[_0x2705a2,_0x6d2131],'extent':_0xdfc319,'origin':getTopLeft(_0xdfc319),'resolutions':_0x11f195}),_0x13d230=function(_0x3530d5,_0x2cf139,_0x29dcfb){const _0x15a1a7=_0x2f44c3;let _0x1f7d4f,_0x562fd3;const _0x1fb650=_0x3530d5[0x0];if(_0x1fb650>_0x4929d7)return;const _0x244fd5=_0x3530d5[0x1],_0x3a7b6c=_0x3530d5[0x2],_0x2d453e=_0x11f195[_0x1fb650];if(_0x244fd5===undefined||_0x3a7b6c===undefined||_0x2d453e===undefined||_0x244fd5<0x0||Math['ceil'](_0x5804a6/_0x2d453e/_0x2705a2)<=_0x244fd5||_0x3a7b6c<0x0||Math[_0x15a1a7(0xc9)](_0x3a7dab/_0x2d453e/_0x6d2131)<=_0x3a7b6c)return;if(_0x22c060||_0x2a4296){const _0x493582=_0x244fd5*_0x2705a2*_0x2d453e,_0x282bfb=_0x3a7b6c*_0x6d2131*_0x2d453e;let _0x40786b=_0x2705a2*_0x2d453e,_0xfc1ec1=_0x6d2131*_0x2d453e,_0x30df3a=_0x2705a2,_0x20bba0=_0x6d2131;_0x493582+_0x40786b>_0x5804a6&&(_0x40786b=_0x5804a6-_0x493582);_0x282bfb+_0xfc1ec1>_0x3a7dab&&(_0xfc1ec1=_0x3a7dab-_0x282bfb);_0x493582+_0x2705a2*_0x2d453e>_0x5804a6&&(_0x30df3a=Math[_0x15a1a7(0xd0)]((_0x5804a6-_0x493582+_0x2d453e-0x1)/_0x2d453e));_0x282bfb+_0x6d2131*_0x2d453e>_0x3a7dab&&(_0x20bba0=Math[_0x15a1a7(0xd0)]((_0x3a7dab-_0x282bfb+_0x2d453e-0x1)/_0x2d453e));if(_0x493582==0x0&&_0x40786b==_0x5804a6&&_0x282bfb==0x0&&_0xfc1ec1==_0x3a7dab)_0x1f7d4f='full';else{if(!_0x22c060||_0xebe5fd[_0x15a1a7(0xcf)](_0x15a1a7(0xec)))_0x1f7d4f=_0x493582+','+_0x282bfb+','+_0x40786b+','+_0xfc1ec1;else{if(_0xebe5fd['includes'](_0x15a1a7(0xfa))){const _0x2e3fe4=formatPercentage(_0x493582/_0x5804a6*0x64),_0x5b591c=formatPercentage(_0x282bfb/_0x3a7dab*0x64),_0x503cb2=formatPercentage(_0x40786b/_0x5804a6*0x64),_0xe5211a=formatPercentage(_0xfc1ec1/_0x3a7dab*0x64);_0x1f7d4f='pct:'+_0x2e3fe4+','+_0x5b591c+','+_0x503cb2+','+_0xe5211a;}}}if(_0x2575be==Versions[_0x15a1a7(0xe0)]&&(!_0x22c060||_0xebe5fd[_0x15a1a7(0xcf)](_0x15a1a7(0xc6))))_0x562fd3=_0x30df3a+','+_0x20bba0;else{if(!_0x22c060||_0xebe5fd[_0x15a1a7(0xcf)](_0x15a1a7(0xee)))_0x562fd3=_0x30df3a+',';else{if(_0xebe5fd[_0x15a1a7(0xcf)](_0x15a1a7(0xe4)))_0x562fd3=','+_0x20bba0;else{if(_0xebe5fd[_0x15a1a7(0xcf)]('sizeByWh'))_0x562fd3=_0x30df3a+','+_0x20bba0;else _0xebe5fd[_0x15a1a7(0xcf)](_0x15a1a7(0xf2))&&(_0x562fd3=_0x15a1a7(0xc8)+formatPercentage(0x64/_0x2d453e));}}}}else{_0x1f7d4f=_0x15a1a7(0xe1);if(_0x1b3d71){const _0x436388=_0x791cca[_0x1fb650][0x0],_0x4e341f=_0x791cca[_0x1fb650][0x1];_0x2575be==Versions['VERSION3']?_0x436388==_0x5804a6&&_0x4e341f==_0x3a7dab?_0x562fd3=_0x15a1a7(0xeb):_0x562fd3=_0x436388+','+_0x4e341f:_0x436388==_0x5804a6?_0x562fd3=_0x15a1a7(0xe1):_0x562fd3=_0x436388+',';}else _0x562fd3=_0x2575be==Versions[_0x15a1a7(0xe0)]?_0x15a1a7(0xeb):_0x15a1a7(0xe1);}return _0x596af8+_0x1f7d4f+'/'+_0x562fd3+_0x15a1a7(0xf5)+_0x74efd8+'.'+_0x209dec;},_0x11384c=CustomTile[_0x2f44c3(0xdf)](null,toSize(_0x572c1d||0x100)[_0x2f44c3(0xcc)](function(_0x545ecb){return _0x545ecb*_0xbf3502;}));super({'attributions':_0x288e4a[_0x2f44c3(0xdb)],'attributionsCollapsible':_0x288e4a[_0x2f44c3(0xf9)],'cacheSize':_0x288e4a[_0x2f44c3(0xfb)],'crossOrigin':_0x288e4a[_0x2f44c3(0xe8)],'interpolate':_0x288e4a[_0x2f44c3(0xe6)],'projection':_0x288e4a[_0x2f44c3(0xf3)],'reprojectionErrorThreshold':_0x288e4a[_0x2f44c3(0xf8)],'state':_0x288e4a[_0x2f44c3(0xca)],'tileClass':_0x11384c,'tileGrid':_0x39618f,'tilePixelRatio':_0x288e4a[_0x2f44c3(0xf7)],'tileUrlFunction':_0x13d230,'transition':_0x288e4a['transition']}),this[_0x2f44c3(0xc5)]=_0x288e4a[_0x2f44c3(0xc5)];}}function _0x34e1(){const _0x4c5ff5=['VERSION1','tileSize','LN2','zDirection','sizeByWh','6wBpEEt','pct:','ceil','state','toLocaleString','map','resolutions','sizes','includes','floor','push','VERSION2','2288344ubdrVJ','lastIndexOf','sort','number','9162615uPdiYY','Missing\x20or\x20invalid\x20`size`','49499VOrEiI','format','attributions','extent','size','2869164YzUtXV','bind','VERSION3','full','round','760715WpsaaX','sizeByH','native','interpolate','isArray','crossOrigin','length','version','max','regionByPx','log','sizeByW','jpg','11163800JrIwbo','default','sizeByPct','projection','1726960gziwuM','/0/','isInteger','tilePixelRatio','reprojectionErrorThreshold','attributionsCollapsible','regionByPct','cacheSize'];_0x34e1=function(){return _0x4c5ff5;};return _0x34e1();}export default IIIF;