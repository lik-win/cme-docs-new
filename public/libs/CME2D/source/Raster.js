const _0x56f9b0=_0x4d86;(function(_0x559947,_0x25bb2d){const _0x18a271=_0x4d86,_0x3e529e=_0x559947();while(!![]){try{const _0x2d9675=parseInt(_0x18a271(0x1ef))/0x1*(parseInt(_0x18a271(0x1ec))/0x2)+parseInt(_0x18a271(0x223))/0x3*(-parseInt(_0x18a271(0x1e9))/0x4)+parseInt(_0x18a271(0x1c1))/0x5*(parseInt(_0x18a271(0x22a))/0x6)+-parseInt(_0x18a271(0x210))/0x7+-parseInt(_0x18a271(0x1c2))/0x8+parseInt(_0x18a271(0x1c4))/0x9*(parseInt(_0x18a271(0x1cc))/0xa)+parseInt(_0x18a271(0x218))/0xb;if(_0x2d9675===_0x25bb2d)break;else _0x3e529e['push'](_0x3e529e['shift']());}catch(_0x1fcba6){_0x3e529e['push'](_0x3e529e['shift']());}}}(_0x34e4,0xb35b2));function _0x4d86(_0xd22942,_0x5c14a1){const _0x34e426=_0x34e4();return _0x4d86=function(_0x4d8673,_0x1f0974){_0x4d8673=_0x4d8673-0x1b7;let _0x5cc080=_0x34e426[_0x4d8673];return _0x5cc080;},_0x4d86(_0xd22942,_0x5c14a1);}import _0x59e5e4 from'../Disposable.js';import _0x3063b5 from'../events/Event.js';import _0x2cfa32 from'../events/EventType.js';import _0x468de3 from'../ImageCanvas.js';function _0x34e4(){const _0x2bfcae=['16210392yONfUt','allSourcesReady_','shift','projection','queue_','maxQueueLength_','\x20\x20self.postMessage({buffer:\x20buffer,\x20meta:\x20event.data.meta},\x20[buffer]);','const\x20','toString','ceil','job_','253854aSSBQi','data:text/javascript;base64,','string','process','threads','getImageData','once','18978Acqgsg','disposeInternal','setAttributions','imageOps_','data','assign','const\x20__minion__\x20=\x20(','callback','getExtent','processor_','resolveJob_','workers_','dispose','55uqcEDy','3069736xvHmEx','map','917613hgSyQG','pixel','bind','tileQueue_','layers_','Unsupported\x20rendered\x20element:\x20','threads_','meta','20EEfynn','canvas','binary','time','renderedRevision_','length','slice','enqueue_','getImage','lib','changed','getResolutions','});','operationType','buffer','setOperation','inputs','getSource','afteroperations','layerIndex','set','\x20=\x20','onWorkerComplete_','sources','queue','BEFOREOPERATIONS','renderedImageCanvas_','imageOps','putImageData','16aAZczR','getRenderer','Unsupported\x20layer\x20type:\x20','349554VzELez','from','width','6gkjfdz','getAttributions','join','addEventListener','running_','height','getRevision','push','dispatchEvent','updateFrameState_','undefined','viewState','animate','onWorkerMessage_','pixelRatio','\x20\x20const\x20buffer\x20=\x20__minion__(event.data);','size','processSources_','message','useResolutions_','clearRect','round','renderTargets','extent','prepareFrame','base64','disposed','requestedFrameState_','getState','resolution','keys','dataLookup_','now','9129470krxWcz','firstElementChild','getContext','operationType_','center','dispatch_','text/javascript','operation'];_0x34e4=function(){return _0x2bfcae;};return _0x34e4();}import _0x44f6da from'../layer/Image.js';import _0x39fd95 from'./Image.js';import _0x124f1a from'./Source.js';import _0x14b0df from'../layer/Tile.js';import _0x109b35 from'../TileQueue.js';import _0x242f31 from'./Tile.js';import{createCanvasContext2D}from'../dom.js';import{create as _0x379417}from'../transform.js';import{equals,getCenter,getHeight,getWidth}from'../extent.js';import{getUid}from'../util.js';function createMinion(_0x5f2fce){return function(_0x52058d){const _0x48e0ae=_0x4d86,_0x5134c6=_0x52058d['buffers'],_0x3f410e=_0x52058d['meta'],_0xcfdaf2=_0x52058d['imageOps'],_0x4f36fe=_0x52058d['width'],_0x107d73=_0x52058d['height'],_0x2d172e=_0x5134c6['length'],_0x43b655=_0x5134c6[0x0]['byteLength'];if(_0xcfdaf2){const _0x5e52ed=new Array(_0x2d172e);for(let _0xb9b684=0x0;_0xb9b684<_0x2d172e;++_0xb9b684){_0x5e52ed[_0xb9b684]=new ImageData(new Uint8ClampedArray(_0x5134c6[_0xb9b684]),_0x4f36fe,_0x107d73);}const _0x555a91=_0x5f2fce(_0x5e52ed,_0x3f410e)[_0x48e0ae(0x1b8)];return _0x555a91[_0x48e0ae(0x1da)];}const _0x2e6413=new Uint8ClampedArray(_0x43b655),_0x34bcab=new Array(_0x2d172e),_0x4ae7a4=new Array(_0x2d172e);for(let _0x587b46=0x0;_0x587b46<_0x2d172e;++_0x587b46){_0x34bcab[_0x587b46]=new Uint8ClampedArray(_0x5134c6[_0x587b46]),_0x4ae7a4[_0x587b46]=[0x0,0x0,0x0,0x0];}for(let _0x5bba8b=0x0;_0x5bba8b<_0x43b655;_0x5bba8b+=0x4){for(let _0x35e9b6=0x0;_0x35e9b6<_0x2d172e;++_0x35e9b6){const _0x2f14c2=_0x34bcab[_0x35e9b6];_0x4ae7a4[_0x35e9b6][0x0]=_0x2f14c2[_0x5bba8b],_0x4ae7a4[_0x35e9b6][0x1]=_0x2f14c2[_0x5bba8b+0x1],_0x4ae7a4[_0x35e9b6][0x2]=_0x2f14c2[_0x5bba8b+0x2],_0x4ae7a4[_0x35e9b6][0x3]=_0x2f14c2[_0x5bba8b+0x3];}const _0x37fe95=_0x5f2fce(_0x4ae7a4,_0x3f410e);_0x2e6413[_0x5bba8b]=_0x37fe95[0x0],_0x2e6413[_0x5bba8b+0x1]=_0x37fe95[0x1],_0x2e6413[_0x5bba8b+0x2]=_0x37fe95[0x2],_0x2e6413[_0x5bba8b+0x3]=_0x37fe95[0x3];}return _0x2e6413[_0x48e0ae(0x1da)];};}function createWorker(_0x2e2171,_0x20393c){const _0x58faa1=_0x4d86,_0x224a9a=Object[_0x58faa1(0x20d)](_0x2e2171[_0x58faa1(0x1d5)]||{})[_0x58faa1(0x1c3)](function(_0x322b2e){const _0x28d16a=_0x58faa1;return _0x28d16a(0x21f)+_0x322b2e+_0x28d16a(0x1e1)+_0x2e2171[_0x28d16a(0x1d5)][_0x322b2e][_0x28d16a(0x220)]()+';';}),_0x37f3a8=_0x224a9a['concat']([_0x58faa1(0x1ba)+createMinion[_0x58faa1(0x220)]()+')(',_0x2e2171['operation'][_0x58faa1(0x220)](),');','self.addEventListener(\x22message\x22,\x20function(event)\x20{',_0x58faa1(0x1fe),_0x58faa1(0x21e),_0x58faa1(0x1d8)]),_0x234316=new Worker(typeof Blob===_0x58faa1(0x1f9)?_0x58faa1(0x224)+Buffer[_0x58faa1(0x1ed)](_0x37f3a8[_0x58faa1(0x1f1)]('\x0a'),_0x58faa1(0x1ce))['toString'](_0x58faa1(0x208)):URL['createObjectURL'](new Blob(_0x37f3a8,{'type':_0x58faa1(0x216)})));return _0x234316['addEventListener'](_0x58faa1(0x201),_0x20393c),_0x234316;}function createFauxWorker(_0x32790,_0xcb8afa){const _0x402844=createMinion(_0x32790['operation']);let _0x15608f=![];return{'postMessage':function(_0x3e84a8){setTimeout(function(){const _0x1888a7=_0x4d86;if(_0x15608f)return;_0xcb8afa({'data':{'buffer':_0x402844(_0x3e84a8),'meta':_0x3e84a8[_0x1888a7(0x1cb)]}});},0x0);},'terminate':function(){_0x15608f=!![];}};}export class Processor extends _0x59e5e4{constructor(_0x22f6e5){const _0x2018bf=_0x4d86;super(),this[_0x2018bf(0x1b7)]=!!_0x22f6e5[_0x2018bf(0x1e7)];let _0x63a889;if(_0x22f6e5['threads']===0x0)_0x63a889=0x0;else this[_0x2018bf(0x1b7)]?_0x63a889=0x1:_0x63a889=_0x22f6e5['threads']||0x1;const _0x26ae24=new Array(_0x63a889);if(_0x63a889)for(let _0x11e2d0=0x0;_0x11e2d0<_0x63a889;++_0x11e2d0){_0x26ae24[_0x11e2d0]=createWorker(_0x22f6e5,this['onWorkerMessage_'][_0x2018bf(0x1c6)](this,_0x11e2d0));}else _0x26ae24[0x0]=createFauxWorker(_0x22f6e5,this[_0x2018bf(0x1fc)]['bind'](this,0x0));this[_0x2018bf(0x1bf)]=_0x26ae24,this[_0x2018bf(0x21c)]=[],this[_0x2018bf(0x21d)]=_0x22f6e5[_0x2018bf(0x1e4)]||Infinity,this[_0x2018bf(0x1f3)]=0x0,this[_0x2018bf(0x20e)]={},this[_0x2018bf(0x222)]=null;}['process'](_0x20fb93,_0x2e11ac,_0xe516ff){const _0x2e54c4=_0x4d86;this[_0x2e54c4(0x1d3)]({'inputs':_0x20fb93,'meta':_0x2e11ac,'callback':_0xe516ff}),this[_0x2e54c4(0x215)]();}[_0x56f9b0(0x1d3)](_0x49860c){const _0x156b30=_0x56f9b0;this[_0x156b30(0x21c)][_0x156b30(0x1f6)](_0x49860c);while(this['queue_'][_0x156b30(0x1d1)]>this[_0x156b30(0x21d)]){this[_0x156b30(0x21c)][_0x156b30(0x21a)]()[_0x156b30(0x1bb)](null,null);}}['dispatch_'](){const _0x116511=_0x56f9b0;if(this['running_']||this['queue_'][_0x116511(0x1d1)]===0x0)return;const _0x42e9ca=this[_0x116511(0x21c)][_0x116511(0x21a)]();this['job_']=_0x42e9ca;const _0x56766e=_0x42e9ca[_0x116511(0x1dc)][0x0][_0x116511(0x1ee)],_0x350539=_0x42e9ca[_0x116511(0x1dc)][0x0][_0x116511(0x1f4)],_0x3fb2c9=_0x42e9ca[_0x116511(0x1dc)][_0x116511(0x1c3)](function(_0x4d87d8){const _0x52474f=_0x116511;return _0x4d87d8[_0x52474f(0x1b8)][_0x52474f(0x1da)];}),_0x317eb1=this[_0x116511(0x1bf)][_0x116511(0x1d1)];this[_0x116511(0x1f3)]=_0x317eb1;if(_0x317eb1===0x1){this[_0x116511(0x1bf)][0x0]['postMessage']({'buffers':_0x3fb2c9,'meta':_0x42e9ca[_0x116511(0x1cb)],'imageOps':this[_0x116511(0x1b7)],'width':_0x56766e,'height':_0x350539},_0x3fb2c9);return;}const _0x40de08=_0x42e9ca[_0x116511(0x1dc)][0x0][_0x116511(0x1b8)][_0x116511(0x1d1)],_0x15b110=0x4*Math[_0x116511(0x221)](_0x40de08/0x4/_0x317eb1);for(let _0xd20620=0x0;_0xd20620<_0x317eb1;++_0xd20620){const _0x19d73a=_0xd20620*_0x15b110,_0x5cc034=[];for(let _0x2aa110=0x0,_0x2ea1e0=_0x3fb2c9[_0x116511(0x1d1)];_0x2aa110<_0x2ea1e0;++_0x2aa110){_0x5cc034[_0x116511(0x1f6)](_0x3fb2c9[_0x2aa110][_0x116511(0x1d2)](_0x19d73a,_0x19d73a+_0x15b110));}this[_0x116511(0x1bf)][_0xd20620]['postMessage']({'buffers':_0x5cc034,'meta':_0x42e9ca['meta'],'imageOps':this[_0x116511(0x1b7)],'width':_0x56766e,'height':_0x350539},_0x5cc034);}}[_0x56f9b0(0x1fc)](_0x14d283,_0x5d2580){const _0x11e3d4=_0x56f9b0;if(this[_0x11e3d4(0x209)])return;this[_0x11e3d4(0x20e)][_0x14d283]=_0x5d2580[_0x11e3d4(0x1b8)],--this[_0x11e3d4(0x1f3)],this[_0x11e3d4(0x1f3)]===0x0&&this['resolveJob_']();}[_0x56f9b0(0x1be)](){const _0x127e1c=_0x56f9b0,_0x1095be=this['job_'],_0x4700de=this[_0x127e1c(0x1bf)][_0x127e1c(0x1d1)];let _0x3f9bf0,_0x291a43;if(_0x4700de===0x1)_0x3f9bf0=new Uint8ClampedArray(this[_0x127e1c(0x20e)][0x0][_0x127e1c(0x1da)]),_0x291a43=this[_0x127e1c(0x20e)][0x0][_0x127e1c(0x1cb)];else{const _0x4b0037=_0x1095be[_0x127e1c(0x1dc)][0x0][_0x127e1c(0x1b8)][_0x127e1c(0x1d1)];_0x3f9bf0=new Uint8ClampedArray(_0x4b0037),_0x291a43=new Array(_0x4700de);const _0xe11364=0x4*Math[_0x127e1c(0x221)](_0x4b0037/0x4/_0x4700de);for(let _0x1eb108=0x0;_0x1eb108<_0x4700de;++_0x1eb108){const _0x26359e=this['dataLookup_'][_0x1eb108][_0x127e1c(0x1da)],_0x20be31=_0x1eb108*_0xe11364;_0x3f9bf0[_0x127e1c(0x1e0)](new Uint8ClampedArray(_0x26359e),_0x20be31),_0x291a43[_0x1eb108]=this[_0x127e1c(0x20e)][_0x1eb108][_0x127e1c(0x1cb)];}}this[_0x127e1c(0x222)]=null,this[_0x127e1c(0x20e)]={},_0x1095be['callback'](null,new ImageData(_0x3f9bf0,_0x1095be[_0x127e1c(0x1dc)][0x0][_0x127e1c(0x1ee)],_0x1095be['inputs'][0x0][_0x127e1c(0x1f4)]),_0x291a43),this['dispatch_']();}[_0x56f9b0(0x22b)](){const _0x3b3d01=_0x56f9b0;for(let _0x25bc54=0x0;_0x25bc54<this[_0x3b3d01(0x1bf)][_0x3b3d01(0x1d1)];++_0x25bc54){this[_0x3b3d01(0x1bf)][_0x25bc54]['terminate']();}this[_0x3b3d01(0x1bf)]['length']=0x0;}}const RasterEventType={'BEFOREOPERATIONS':'beforeoperations','AFTEROPERATIONS':_0x56f9b0(0x1de)};export class RasterSourceEvent extends _0x3063b5{constructor(_0x14c932,_0x5eac24,_0x233c11){const _0x3528be=_0x56f9b0;super(_0x14c932),this[_0x3528be(0x206)]=_0x5eac24[_0x3528be(0x206)],this[_0x3528be(0x20c)]=_0x5eac24[_0x3528be(0x1fa)]['resolution']/_0x5eac24[_0x3528be(0x1fd)],this[_0x3528be(0x1b8)]=_0x233c11;}}class RasterSource extends _0x39fd95{constructor(_0x384f71){const _0x5a8a73=_0x56f9b0;super({'projection':null}),this['on'],this[_0x5a8a73(0x229)],this['un'],this[_0x5a8a73(0x1bd)]=null,this['operationType_']=_0x384f71[_0x5a8a73(0x1d9)]!==undefined?_0x384f71[_0x5a8a73(0x1d9)]:_0x5a8a73(0x1c5),this[_0x5a8a73(0x1ca)]=_0x384f71[_0x5a8a73(0x227)]!==undefined?_0x384f71[_0x5a8a73(0x227)]:0x1,this[_0x5a8a73(0x1c8)]=createLayers(_0x384f71[_0x5a8a73(0x1e3)]);const _0x2318fb=this['changed'][_0x5a8a73(0x1c6)](this);for(let _0x572181=0x0,_0xdedc20=this[_0x5a8a73(0x1c8)][_0x5a8a73(0x1d1)];_0x572181<_0xdedc20;++_0x572181){this['layers_'][_0x572181][_0x5a8a73(0x1f2)](_0x2cfa32['CHANGE'],_0x2318fb);}this[_0x5a8a73(0x202)]=_0x384f71['resolutions']!==null,this[_0x5a8a73(0x1c7)]=new _0x109b35(function(){return 0x1;},this[_0x5a8a73(0x200)][_0x5a8a73(0x1c6)](this)),this[_0x5a8a73(0x20a)],this['renderedImageCanvas_']=null,this['renderedRevision_'],this['frameState_']={'animate':![],'coordinateToPixelTransform':_0x379417(),'declutter':null,'extent':null,'index':0x0,'layerIndex':0x0,'layerStatesArray':getLayerStatesArray(this[_0x5a8a73(0x1c8)]),'pixelRatio':0x1,'pixelToCoordinateTransform':_0x379417(),'postRenderFunctions':[],'size':[0x0,0x0],'tileQueue':this[_0x5a8a73(0x1c7)],'time':Date[_0x5a8a73(0x20f)](),'usedTiles':{},'viewState':{'rotation':0x0},'viewHints':[],'wantedTiles':{},'mapId':getUid(this),'renderTargets':{}},this[_0x5a8a73(0x22c)](function(_0x2f60a8){const _0x5d3188=_0x5a8a73,_0x5138e2=[];for(let _0x332207=0x0,_0x2f9129=_0x384f71[_0x5d3188(0x1e3)]['length'];_0x332207<_0x2f9129;++_0x332207){const _0x5df94b=_0x384f71['sources'][_0x332207],_0x36ab8a=_0x5df94b instanceof _0x124f1a?_0x5df94b:_0x5df94b[_0x5d3188(0x1dd)]();if(!_0x36ab8a)continue;const _0x818b71=_0x36ab8a[_0x5d3188(0x1f0)]()?.(_0x2f60a8);if(typeof _0x818b71===_0x5d3188(0x225))_0x5138e2[_0x5d3188(0x1f6)](_0x818b71);else _0x818b71!==undefined&&_0x5138e2[_0x5d3188(0x1f6)](..._0x818b71);}return _0x5138e2;}),_0x384f71[_0x5a8a73(0x217)]!==undefined&&this[_0x5a8a73(0x1db)](_0x384f71[_0x5a8a73(0x217)],_0x384f71['lib']);}[_0x56f9b0(0x1db)](_0x416da9,_0x2c18e8){const _0x30c801=_0x56f9b0;this['processor_']&&this[_0x30c801(0x1bd)][_0x30c801(0x1c0)](),this[_0x30c801(0x1bd)]=new Processor({'operation':_0x416da9,'imageOps':this[_0x30c801(0x213)]==='image','queue':0x1,'lib':_0x2c18e8,'threads':this['threads_']}),this[_0x30c801(0x1d6)]();}[_0x56f9b0(0x1f8)](_0x43a29b,_0x2246db,_0x4d260b){const _0x24dd69=_0x56f9b0,_0x558377=Object['assign']({},this['frameState_']);_0x558377[_0x24dd69(0x1fa)]=Object[_0x24dd69(0x1b9)]({},_0x558377['viewState']);const _0x290c48=getCenter(_0x43a29b);_0x558377[_0x24dd69(0x1ff)][0x0]=Math[_0x24dd69(0x221)](getWidth(_0x43a29b)/_0x2246db),_0x558377[_0x24dd69(0x1ff)][0x1]=Math[_0x24dd69(0x221)](getHeight(_0x43a29b)/_0x2246db),_0x558377[_0x24dd69(0x206)]=[_0x290c48[0x0]-_0x558377[_0x24dd69(0x1ff)][0x0]*_0x2246db/0x2,_0x290c48[0x1]-_0x558377[_0x24dd69(0x1ff)][0x1]*_0x2246db/0x2,_0x290c48[0x0]+_0x558377[_0x24dd69(0x1ff)][0x0]*_0x2246db/0x2,_0x290c48[0x1]+_0x558377['size'][0x1]*_0x2246db/0x2],_0x558377[_0x24dd69(0x1cf)]=Date['now']();const _0x36d620=_0x558377[_0x24dd69(0x1fa)];return _0x36d620[_0x24dd69(0x214)]=_0x290c48,_0x36d620[_0x24dd69(0x21b)]=_0x4d260b,_0x36d620[_0x24dd69(0x20c)]=_0x2246db,_0x558377;}[_0x56f9b0(0x219)](){const _0x27a2db=_0x56f9b0;let _0x3570f2=!![],_0x239169;for(let _0x18c66b=0x0,_0x2adebd=this[_0x27a2db(0x1c8)]['length'];_0x18c66b<_0x2adebd;++_0x18c66b){_0x239169=this[_0x27a2db(0x1c8)][_0x18c66b][_0x27a2db(0x1dd)]();if(!_0x239169||_0x239169[_0x27a2db(0x20b)]()!=='ready'){_0x3570f2=![];break;}}return _0x3570f2;}[_0x56f9b0(0x1d4)](_0xc8cae4,_0x5d0262,_0x2d9862,_0x2f1cd6){const _0x412e1c=_0x56f9b0;if(!this[_0x412e1c(0x219)]())return null;this[_0x412e1c(0x1c7)]['loadMoreTiles'](0x10,0x10),_0x5d0262=this['findNearestResolution'](_0x5d0262);const _0x2b8352=this[_0x412e1c(0x1f8)](_0xc8cae4,_0x5d0262,_0x2f1cd6);this[_0x412e1c(0x20a)]=_0x2b8352;if(this[_0x412e1c(0x1e6)]){const _0x382565=this[_0x412e1c(0x1e6)]['getResolution'](),_0x428703=this[_0x412e1c(0x1e6)][_0x412e1c(0x1bc)]();(_0x5d0262!==_0x382565||!equals(_0x2b8352[_0x412e1c(0x206)],_0x428703))&&(this['renderedImageCanvas_']=null);}return(!this[_0x412e1c(0x1e6)]||this[_0x412e1c(0x1f5)]()!==this[_0x412e1c(0x1d0)])&&this[_0x412e1c(0x200)](),_0x2b8352[_0x412e1c(0x1fb)]&&requestAnimationFrame(this[_0x412e1c(0x1d6)]['bind'](this)),this['renderedImageCanvas_'];}[_0x56f9b0(0x200)](){const _0x4fbdec=_0x56f9b0,_0x555d60=this[_0x4fbdec(0x20a)],_0x1cb93e=this[_0x4fbdec(0x1c8)]['length'],_0x17c57b=new Array(_0x1cb93e);for(let _0x3216fc=0x0;_0x3216fc<_0x1cb93e;++_0x3216fc){_0x555d60[_0x4fbdec(0x1df)]=_0x3216fc,_0x555d60[_0x4fbdec(0x205)]={};const _0x4cde1d=getImageData(this[_0x4fbdec(0x1c8)][_0x3216fc],_0x555d60);if(_0x4cde1d)_0x17c57b[_0x3216fc]=_0x4cde1d;else return;}const _0x4c614c={};this[_0x4fbdec(0x1f7)](new RasterSourceEvent(RasterEventType[_0x4fbdec(0x1e5)],_0x555d60,_0x4c614c)),this[_0x4fbdec(0x1bd)][_0x4fbdec(0x226)](_0x17c57b,_0x4c614c,this[_0x4fbdec(0x1e2)][_0x4fbdec(0x1c6)](this,_0x555d60));}[_0x56f9b0(0x1e2)](_0xce51d4,_0x1f0c6b,_0x3367a8,_0x31dd6d){const _0x5913d4=_0x56f9b0;if(_0x1f0c6b||!_0x3367a8)return;const _0x3405ec=_0xce51d4[_0x5913d4(0x206)],_0x4816a1=_0xce51d4[_0x5913d4(0x1fa)][_0x5913d4(0x20c)];if(_0x4816a1!==this['requestedFrameState_']['viewState'][_0x5913d4(0x20c)]||!equals(_0x3405ec,this[_0x5913d4(0x20a)]['extent']))return;let _0x50d199;if(this[_0x5913d4(0x1e6)])_0x50d199=this['renderedImageCanvas_'][_0x5913d4(0x1d4)]()[_0x5913d4(0x212)]('2d');else{const _0x4b50f2=Math[_0x5913d4(0x204)](getWidth(_0x3405ec)/_0x4816a1),_0x584135=Math[_0x5913d4(0x204)](getHeight(_0x3405ec)/_0x4816a1);_0x50d199=createCanvasContext2D(_0x4b50f2,_0x584135),this[_0x5913d4(0x1e6)]=new _0x468de3(_0x3405ec,_0x4816a1,0x1,_0x50d199[_0x5913d4(0x1cd)]);}_0x50d199[_0x5913d4(0x1e8)](_0x3367a8,0x0,0x0),_0xce51d4[_0x5913d4(0x1fb)]?requestAnimationFrame(this[_0x5913d4(0x1d6)]['bind'](this)):this[_0x5913d4(0x1d6)](),this[_0x5913d4(0x1d0)]=this[_0x5913d4(0x1f5)](),this[_0x5913d4(0x1f7)](new RasterSourceEvent(RasterEventType['AFTEROPERATIONS'],_0xce51d4,_0x31dd6d));}['getResolutions'](_0x5a4c21){const _0x43c04c=_0x56f9b0;if(!this[_0x43c04c(0x202)])return null;let _0x250118=super[_0x43c04c(0x1d7)]();if(!_0x250118)for(let _0x4313ed=0x0,_0x47b034=this[_0x43c04c(0x1c8)][_0x43c04c(0x1d1)];_0x4313ed<_0x47b034;++_0x4313ed){const _0x54f91f=this['layers_'][_0x4313ed][_0x43c04c(0x1dd)]();_0x250118=_0x54f91f['getResolutions'](_0x5a4c21);if(_0x250118)break;}return _0x250118;}[_0x56f9b0(0x22b)](){const _0x3fde3e=_0x56f9b0;this['processor_']&&this['processor_'][_0x3fde3e(0x1c0)](),super[_0x3fde3e(0x22b)]();}}RasterSource['prototype'][_0x56f9b0(0x1c0)];let sharedContext=null;function getImageData(_0x39b8a8,_0xc3d962){const _0x129326=_0x56f9b0,_0x4176cc=_0x39b8a8[_0x129326(0x1ea)]();if(!_0x4176cc)throw new Error(_0x129326(0x1eb)+_0x39b8a8);if(!_0x4176cc[_0x129326(0x207)](_0xc3d962))return null;const _0x583e99=_0xc3d962[_0x129326(0x1ff)][0x0],_0x254086=_0xc3d962[_0x129326(0x1ff)][0x1];if(_0x583e99===0x0||_0x254086===0x0)return null;const _0x41090b=_0x4176cc['renderFrame'](_0xc3d962,null);let _0x539c51;if(_0x41090b instanceof HTMLCanvasElement)_0x539c51=_0x41090b;else{_0x41090b&&(_0x539c51=_0x41090b[_0x129326(0x211)]);if(!(_0x539c51 instanceof HTMLCanvasElement))throw new Error(_0x129326(0x1c9)+_0x539c51);if(_0x539c51[_0x129326(0x1ee)]===_0x583e99&&_0x539c51[_0x129326(0x1f4)]===_0x254086){const _0x2fc577=_0x539c51['getContext']('2d');return _0x2fc577[_0x129326(0x228)](0x0,0x0,_0x583e99,_0x254086);}}if(!sharedContext)sharedContext=createCanvasContext2D(_0x583e99,_0x254086,undefined,{'willReadFrequently':!![]});else{const _0x143577=sharedContext[_0x129326(0x1cd)];_0x143577[_0x129326(0x1ee)]!==_0x583e99||_0x143577[_0x129326(0x1f4)]!==_0x254086?sharedContext=createCanvasContext2D(_0x583e99,_0x254086,undefined,{'willReadFrequently':!![]}):sharedContext[_0x129326(0x203)](0x0,0x0,_0x583e99,_0x254086);}return sharedContext['drawImage'](_0x539c51,0x0,0x0,_0x583e99,_0x254086),sharedContext[_0x129326(0x228)](0x0,0x0,_0x583e99,_0x254086);}function getLayerStatesArray(_0x47ec71){const _0x4a67bb=_0x56f9b0;return _0x47ec71[_0x4a67bb(0x1c3)](function(_0x1da383){return _0x1da383['getLayerState']();});}function createLayers(_0xdd813d){const _0x25e757=_0x56f9b0,_0x13bb42=_0xdd813d[_0x25e757(0x1d1)],_0x46b660=new Array(_0x13bb42);for(let _0x549605=0x0;_0x549605<_0x13bb42;++_0x549605){_0x46b660[_0x549605]=createLayer(_0xdd813d[_0x549605]);}return _0x46b660;}function createLayer(_0xefee26){let _0x18b5ef;if(_0xefee26 instanceof _0x124f1a){if(_0xefee26 instanceof _0x242f31)_0x18b5ef=new _0x14b0df({'source':_0xefee26});else _0xefee26 instanceof _0x39fd95&&(_0x18b5ef=new _0x44f6da({'source':_0xefee26}));}else _0x18b5ef=_0xefee26;return _0x18b5ef;}export default RasterSource;