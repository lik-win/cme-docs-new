const _0xda1942=_0xf43b;(function(_0x9fe475,_0x56d150){const _0x87d6d1=_0xf43b,_0x46ffcb=_0x9fe475();while(!![]){try{const _0x4ff1c4=-parseInt(_0x87d6d1(0x16e))/0x1*(parseInt(_0x87d6d1(0x174))/0x2)+-parseInt(_0x87d6d1(0x16b))/0x3*(parseInt(_0x87d6d1(0x19c))/0x4)+parseInt(_0x87d6d1(0x15f))/0x5*(-parseInt(_0x87d6d1(0x191))/0x6)+parseInt(_0x87d6d1(0x14d))/0x7*(-parseInt(_0x87d6d1(0x182))/0x8)+parseInt(_0x87d6d1(0x199))/0x9*(-parseInt(_0x87d6d1(0x18b))/0xa)+parseInt(_0x87d6d1(0x166))/0xb*(-parseInt(_0x87d6d1(0x15c))/0xc)+parseInt(_0x87d6d1(0x193))/0xd;if(_0x4ff1c4===_0x56d150)break;else _0x46ffcb['push'](_0x46ffcb['shift']());}catch(_0x210da3){_0x46ffcb['push'](_0x46ffcb['shift']());}}}(_0x22ce,0xeffb1));import _0x1136e0 from'../events/EventType.js';import _0x21e0fe from'../Tile.js';import _0x4a0eb9 from'./Tile.js';import _0x4f135c from'../TileState.js';import{applyTransform,intersects}from'../extent.js';function _0xf43b(_0x2f30d9,_0x57f102){const _0x22ce5a=_0x22ce();return _0xf43b=function(_0xf43b7e,_0x1c2aae){_0xf43b7e=_0xf43b7e-0x14a;let _0xef4943=_0x22ce5a[_0xf43b7e];return _0xef4943;},_0xf43b(_0x2f30d9,_0x57f102);}import{createFromTemplates,nullTileUrlFunction}from'../tileurlfunction.js';import{createXYZ,extentFromProjection}from'../tilegrid.js';import{getKeyZXY}from'../tilecoord.js';import{get as _0x1b9291,getTransformFromProjections}from'../proj.js';import{listenOnce}from'../events.js';import{jsonp as _0x49f242}from'../net.js';export class CustomTile extends _0x21e0fe{constructor(_0x103724,_0x1eaec2,_0x3ce51e,_0x12554a,_0x2a7ba4,_0x5df49e){const _0x4b5cb8=_0xf43b;super(_0x103724,_0x1eaec2),this[_0x4b5cb8(0x196)]=_0x3ce51e,this[_0x4b5cb8(0x14a)]=_0x12554a,this[_0x4b5cb8(0x14c)]=_0x2a7ba4,this[_0x4b5cb8(0x153)]=null,this[_0x4b5cb8(0x164)]=null,this[_0x4b5cb8(0x181)]=null,this[_0x4b5cb8(0x185)]=_0x5df49e;}[_0xda1942(0x15e)](){return null;}[_0xda1942(0x194)](_0x4828b5){const _0x4aee94=_0xda1942;if(!this['grid_']||!this[_0x4aee94(0x164)])return null;const _0x56dd2a=(_0x4828b5[0x0]-this[_0x4aee94(0x14a)][0x0])/(this[_0x4aee94(0x14a)][0x2]-this[_0x4aee94(0x14a)][0x0]),_0x4746db=(_0x4828b5[0x1]-this[_0x4aee94(0x14a)][0x1])/(this['extent_'][0x3]-this[_0x4aee94(0x14a)][0x1]),_0x335fba=this[_0x4aee94(0x153)][Math[_0x4aee94(0x160)]((0x1-_0x4746db)*this[_0x4aee94(0x153)][_0x4aee94(0x184)])];if(typeof _0x335fba!==_0x4aee94(0x14e))return null;let _0x379175=_0x335fba[_0x4aee94(0x187)](Math[_0x4aee94(0x160)](_0x56dd2a*_0x335fba[_0x4aee94(0x184)]));_0x379175>=0x5d&&_0x379175--;_0x379175>=0x23&&_0x379175--;_0x379175-=0x20;let _0x4d3e64=null;if(_0x379175 in this['keys_']){const _0x485d77=this[_0x4aee94(0x164)][_0x379175];this[_0x4aee94(0x181)]&&_0x485d77 in this[_0x4aee94(0x181)]?_0x4d3e64=this[_0x4aee94(0x181)][_0x485d77]:_0x4d3e64=_0x485d77;}return _0x4d3e64;}[_0xda1942(0x17d)](_0x2ee236,_0x50c3bb,_0x16cfd0){const _0x227f1b=_0xda1942;this[_0x227f1b(0x18d)]==_0x4f135c[_0x227f1b(0x158)]&&_0x16cfd0===!![]?(this[_0x227f1b(0x18d)]=_0x4f135c[_0x227f1b(0x155)],listenOnce(this,_0x1136e0[_0x227f1b(0x190)],_0x5701ec=>{const _0x122aab=_0x227f1b;_0x50c3bb(this[_0x122aab(0x194)](_0x2ee236));}),this[_0x227f1b(0x189)]()):_0x16cfd0===!![]?setTimeout(()=>{_0x50c3bb(this['getData'](_0x2ee236));},0x0):_0x50c3bb(this['getData'](_0x2ee236));}[_0xda1942(0x18c)](){return this['src_'];}[_0xda1942(0x177)](){const _0x33c4aa=_0xda1942;this[_0x33c4aa(0x18d)]=_0x4f135c[_0x33c4aa(0x16f)],this['changed']();}[_0xda1942(0x156)](_0x15550f){const _0xc022d5=_0xda1942;this[_0xc022d5(0x153)]=_0x15550f[_0xc022d5(0x170)],this[_0xc022d5(0x164)]=_0x15550f[_0xc022d5(0x172)],this[_0xc022d5(0x181)]=_0x15550f['data'],this['state']=_0x4f135c[_0xc022d5(0x176)],this['changed']();}['loadInternal_'](){const _0x2adb27=_0xda1942;if(this[_0x2adb27(0x18d)]==_0x4f135c['IDLE']){this['state']=_0x4f135c[_0x2adb27(0x173)];if(this[_0x2adb27(0x185)])_0x49f242(this[_0x2adb27(0x196)],this[_0x2adb27(0x156)][_0x2adb27(0x198)](this),this['handleError_'][_0x2adb27(0x198)](this));else{const _0x543595=new XMLHttpRequest();_0x543595[_0x2adb27(0x14f)]('load',this[_0x2adb27(0x17f)]['bind'](this)),_0x543595[_0x2adb27(0x14f)](_0x2adb27(0x159),this['onXHRError_']['bind'](this)),_0x543595[_0x2adb27(0x150)]('GET',this[_0x2adb27(0x196)]),_0x543595[_0x2adb27(0x165)]();}}}['onXHRLoad_'](_0x4b377a){const _0x36ab41=_0xda1942,_0x4ac5bd=_0x4b377a[_0x36ab41(0x16c)];if(!_0x4ac5bd['status']||_0x4ac5bd[_0x36ab41(0x17c)]>=0xc8&&_0x4ac5bd[_0x36ab41(0x17c)]<0x12c){let _0x9a0453;try{_0x9a0453=JSON['parse'](_0x4ac5bd[_0x36ab41(0x162)]);}catch(_0x5f4379){this[_0x36ab41(0x177)]();return;}this['handleLoad_'](_0x9a0453);}else this[_0x36ab41(0x177)]();}[_0xda1942(0x17e)](_0x4cdd24){const _0x4425a6=_0xda1942;this[_0x4425a6(0x177)]();}[_0xda1942(0x168)](){const _0x2dd31c=_0xda1942;this[_0x2dd31c(0x14c)]?this[_0x2dd31c(0x189)]():this[_0x2dd31c(0x157)](_0x4f135c['EMPTY']);}}class UTFGrid extends _0x4a0eb9{constructor(_0x2d250c){const _0xb41de=_0xda1942;super({'projection':_0x1b9291(_0xb41de(0x180)),'state':_0xb41de(0x17b),'wrapX':_0x2d250c[_0xb41de(0x175)]!==undefined?_0x2d250c[_0xb41de(0x175)]:!![],'zDirection':_0x2d250c[_0xb41de(0x171)]}),this[_0xb41de(0x14c)]=_0x2d250c[_0xb41de(0x18e)]!==undefined?_0x2d250c[_0xb41de(0x18e)]:!![],this[_0xb41de(0x19f)]=nullTileUrlFunction,this[_0xb41de(0x151)]=undefined,this['jsonp_']=_0x2d250c['jsonp']||![];if(_0x2d250c[_0xb41de(0x17a)]){if(this['jsonp_'])_0x49f242(_0x2d250c[_0xb41de(0x17a)],this[_0xb41de(0x152)]['bind'](this),this[_0xb41de(0x161)][_0xb41de(0x198)](this));else{const _0x2b9289=new XMLHttpRequest();_0x2b9289['addEventListener'](_0xb41de(0x168),this['onXHRLoad_'][_0xb41de(0x198)](this)),_0x2b9289[_0xb41de(0x14f)](_0xb41de(0x159),this[_0xb41de(0x17e)][_0xb41de(0x198)](this)),_0x2b9289['open']('GET',_0x2d250c[_0xb41de(0x17a)]),_0x2b9289[_0xb41de(0x165)]();}}else{if(_0x2d250c['tileJSON'])this[_0xb41de(0x152)](_0x2d250c[_0xb41de(0x186)]);else throw new Error(_0xb41de(0x19d));}}[_0xda1942(0x17f)](_0x5c3e1f){const _0x17b4dd=_0xda1942,_0x1961f6=_0x5c3e1f['target'];if(!_0x1961f6[_0x17b4dd(0x17c)]||_0x1961f6[_0x17b4dd(0x17c)]>=0xc8&&_0x1961f6[_0x17b4dd(0x17c)]<0x12c){let _0x395cf8;try{_0x395cf8=JSON[_0x17b4dd(0x18a)](_0x1961f6['responseText']);}catch(_0x265f4b){this[_0x17b4dd(0x161)]();return;}this[_0x17b4dd(0x152)](_0x395cf8);}else this['handleTileJSONError']();}[_0xda1942(0x17e)](_0x4927a9){const _0x372655=_0xda1942;this[_0x372655(0x161)]();}[_0xda1942(0x19b)](){const _0x5d5ded=_0xda1942;return this[_0x5d5ded(0x151)];}[_0xda1942(0x14b)](_0x2d8feb,_0x204602,_0xe8e25d,_0x4d687b){const _0x27a201=_0xda1942;if(this[_0x27a201(0x15a)]){const _0x74038d=this[_0x27a201(0x15a)][_0x27a201(0x19e)](_0x204602,this[_0x27a201(0x171)]),_0x6f4e14=this['tileGrid'][_0x27a201(0x179)](_0x2d8feb,_0x74038d),_0x7132bc=this['getTile'](_0x6f4e14[0x0],_0x6f4e14[0x1],_0x6f4e14[0x2],0x1,this[_0x27a201(0x192)]());_0x7132bc[_0x27a201(0x17d)](_0x2d8feb,_0xe8e25d,_0x4d687b);}else _0x4d687b===!![]?setTimeout(function(){_0xe8e25d(null);},0x0):_0xe8e25d(null);}[_0xda1942(0x161)](){const _0x3604fe=_0xda1942;this[_0x3604fe(0x157)](_0x3604fe(0x159));}[_0xda1942(0x152)](_0x35abca){const _0x26880f=_0xda1942,_0x5a8eeb=_0x1b9291(_0x26880f(0x18f)),_0xb4cc38=this[_0x26880f(0x192)]();let _0x29b1c5;if(_0x35abca[_0x26880f(0x154)]!==undefined){const _0x408c03=getTransformFromProjections(_0x5a8eeb,_0xb4cc38);_0x29b1c5=applyTransform(_0x35abca[_0x26880f(0x154)],_0x408c03);}const _0x364b6f=extentFromProjection(_0xb4cc38),_0x4fe36b=_0x35abca[_0x26880f(0x183)]||0x0,_0x30478c=_0x35abca[_0x26880f(0x19a)]||0x16,_0x54ec73=createXYZ({'extent':_0x364b6f,'maxZoom':_0x30478c,'minZoom':_0x4fe36b});this[_0x26880f(0x15a)]=_0x54ec73,this[_0x26880f(0x151)]=_0x35abca[_0x26880f(0x15d)];const _0x34f309=_0x35abca['grids'];if(!_0x34f309){this[_0x26880f(0x157)](_0x26880f(0x159));return;}this['tileUrlFunction_']=createFromTemplates(_0x34f309,_0x54ec73);if(_0x35abca['attribution']){const _0x1aa7fe=_0x29b1c5!==undefined?_0x29b1c5:_0x364b6f;this[_0x26880f(0x15b)](function(_0x1b4cc4){const _0x114edc=_0x26880f;if(intersects(_0x1aa7fe,_0x1b4cc4[_0x114edc(0x16d)]))return[_0x35abca[_0x114edc(0x178)]];return null;});}this[_0x26880f(0x157)](_0x26880f(0x169));}['getTile'](_0x365903,_0x8a9674,_0x3253de,_0x8ddc85,_0x56d625){const _0x5776be=_0xda1942,_0x2c8349=getKeyZXY(_0x365903,_0x8a9674,_0x3253de);if(this[_0x5776be(0x195)][_0x5776be(0x16a)](_0x2c8349))return this['tileCache'][_0x5776be(0x163)](_0x2c8349);const _0x4bb91b=[_0x365903,_0x8a9674,_0x3253de],_0x145b33=this[_0x5776be(0x197)](_0x4bb91b,_0x56d625),_0x4adbc6=this[_0x5776be(0x19f)](_0x145b33,_0x8ddc85,_0x56d625),_0x68f0b9=new CustomTile(_0x4bb91b,_0x4adbc6!==undefined?_0x4f135c[_0x5776be(0x155)]:_0x4f135c[_0x5776be(0x158)],_0x4adbc6!==undefined?_0x4adbc6:'',this[_0x5776be(0x15a)]['getTileCoordExtent'](_0x4bb91b),this[_0x5776be(0x14c)],this[_0x5776be(0x185)]);return this[_0x5776be(0x195)][_0x5776be(0x188)](_0x2c8349,_0x68f0b9),_0x68f0b9;}[_0xda1942(0x167)](_0x339dd1,_0x8ae13d,_0x42ba74){const _0x43c133=_0xda1942,_0x3c72dd=getKeyZXY(_0x339dd1,_0x8ae13d,_0x42ba74);this[_0x43c133(0x195)][_0x43c133(0x16a)](_0x3c72dd)&&this[_0x43c133(0x195)][_0x43c133(0x163)](_0x3c72dd);}}export default UTFGrid;function _0x22ce(){const _0x3aa9f2=['forDataAtCoordinateAndResolution','preemptive_','869491liumEM','string','addEventListener','open','template_','handleTileJSONResponse','grid_','bounds','IDLE','handleLoad_','setState','EMPTY','error','tileGrid','setAttributions','4877340JkHHHg','template','getImage','533135pToYTm','floor','handleTileJSONError','responseText','get','keys_','send','22kcjlAa','useTile','load','ready','containsKey','9SAGzBm','target','extent','3tAPrEL','ERROR','grid','zDirection','keys','LOADING','226522kyzxQw','wrapX','LOADED','handleError_','attribution','getTileCoordForCoordAndZ','url','loading','status','forDataAtCoordinate','onXHRError_','onXHRLoad_','EPSG:3857','data_','40GEHopG','minzoom','length','jsonp_','tileJSON','charCodeAt','set','loadInternal_','parse','10pdPvjb','getKey','state','preemptive','EPSG:4326','CHANGE','66NucWxs','getProjection','73079929KBViYK','getData','tileCache','src_','getTileCoordForTileUrlFunction','bind','5169636VEGWsE','maxzoom','getTemplate','1490044LYQFun','Either\x20`url`\x20or\x20`tileJSON`\x20options\x20must\x20be\x20provided','getZForResolution','tileUrlFunction_','extent_'];_0x22ce=function(){return _0x3aa9f2;};return _0x22ce();}