const _0x489fa2=_0x1829;(function(_0x338a52,_0x4ca5e0){const _0x42b8e1=_0x1829,_0x3d4fda=_0x338a52();while(!![]){try{const _0x2fd430=-parseInt(_0x42b8e1(0x148))/0x1*(parseInt(_0x42b8e1(0x146))/0x2)+-parseInt(_0x42b8e1(0x131))/0x3*(-parseInt(_0x42b8e1(0x134))/0x4)+parseInt(_0x42b8e1(0x14f))/0x5+parseInt(_0x42b8e1(0x141))/0x6+parseInt(_0x42b8e1(0x13a))/0x7+-parseInt(_0x42b8e1(0x15a))/0x8+parseInt(_0x42b8e1(0x159))/0x9*(-parseInt(_0x42b8e1(0x139))/0xa);if(_0x2fd430===_0x4ca5e0)break;else _0x3d4fda['push'](_0x3d4fda['shift']());}catch(_0x4d9f6b){_0x3d4fda['push'](_0x3d4fda['shift']());}}}(_0x406d,0xca587));import _0x444d30 from'./Builder.js';function _0x406d(){const _0x41d072=['updateFillStyle','updateStrokeStyle','endGeometry','391010cCtHbO','11588220GjLKjs','fillStyle','getOrientedFlatCoordinates','beginGeometry','coordinates','SET_STROKE_STYLE','getFlatCoordinates','1729008UaRdUG','SET_FILL_STYLE','state','createFill','finish','1082iAciyV','push','857CHNsYN','length','lineWidth','setFillStrokeStyles_','drawMultiPolygon','drawFlatCoordinatess_','getStride','5011620xJStlw','drawPolygon','strokeStyle','lineCap','applyStroke','hitDetectionInstructions','lineJoin','getEndss','instructions','miterLimit','279MLponp','5510512YXBTVz','27lTjOff','getEnds','tolerance','109972sLahFh','MOVE_TO_LINE_TO'];_0x406d=function(){return _0x41d072;};return _0x406d();}import _0x2ad237,{beginPathInstruction,closePathInstruction,fillInstruction,strokeInstruction}from'./Instruction.js';function _0x1829(_0x36de27,_0x11076d){const _0x406da4=_0x406d();return _0x1829=function(_0x18297a,_0x5e743c){_0x18297a=_0x18297a-0x131;let _0x4e9e28=_0x406da4[_0x18297a];return _0x4e9e28;},_0x1829(_0x36de27,_0x11076d);}import{defaultFillStyle,defaultLineDash,defaultLineDashOffset}from'../canvas.js';import{snap}from'../../geom/flat/simplify.js';class CanvasPolygonBuilder extends _0x444d30{constructor(_0x592226,_0x5beb53,_0x33b0e3,_0x5db542){super(_0x592226,_0x5beb53,_0x33b0e3,_0x5db542);}['drawFlatCoordinatess_'](_0x15347e,_0x2c0436,_0x313580,_0x79582f){const _0x47d817=_0x1829,_0x40b26e=this[_0x47d817(0x143)],_0x37e6a1=_0x40b26e['fillStyle']!==undefined,_0x4d4e54=_0x40b26e[_0x47d817(0x151)]!==undefined,_0x1b7867=_0x313580[_0x47d817(0x149)];this[_0x47d817(0x157)][_0x47d817(0x147)](beginPathInstruction),this[_0x47d817(0x154)]['push'](beginPathInstruction);for(let _0x809248=0x0;_0x809248<_0x1b7867;++_0x809248){const _0x4d7253=_0x313580[_0x809248],_0xd5071f=this['coordinates']['length'],_0x5914c9=this['appendFlatLineCoordinates'](_0x15347e,_0x2c0436,_0x4d7253,_0x79582f,!![],!_0x4d4e54),_0xe2eb80=[_0x2ad237[_0x47d817(0x135)],_0xd5071f,_0x5914c9];this[_0x47d817(0x157)][_0x47d817(0x147)](_0xe2eb80),this[_0x47d817(0x154)][_0x47d817(0x147)](_0xe2eb80),_0x4d4e54&&(this['instructions'][_0x47d817(0x147)](closePathInstruction),this['hitDetectionInstructions'][_0x47d817(0x147)](closePathInstruction)),_0x2c0436=_0x4d7253;}return _0x37e6a1&&(this['instructions']['push'](fillInstruction),this[_0x47d817(0x154)]['push'](fillInstruction)),_0x4d4e54&&(this[_0x47d817(0x157)][_0x47d817(0x147)](strokeInstruction),this['hitDetectionInstructions']['push'](strokeInstruction)),_0x2c0436;}['drawCircle'](_0x156014,_0x45eb21,_0xdb0516){const _0x2a1988=_0x1829,_0x5ea1a9=this[_0x2a1988(0x143)],_0x3cd355=_0x5ea1a9[_0x2a1988(0x13b)],_0x245531=_0x5ea1a9[_0x2a1988(0x151)];if(_0x3cd355===undefined&&_0x245531===undefined)return;this[_0x2a1988(0x14b)](),this[_0x2a1988(0x13d)](_0x156014,_0x45eb21,_0xdb0516);_0x5ea1a9[_0x2a1988(0x13b)]!==undefined&&this['hitDetectionInstructions'][_0x2a1988(0x147)]([_0x2ad237[_0x2a1988(0x142)],defaultFillStyle]);_0x5ea1a9[_0x2a1988(0x151)]!==undefined&&this['hitDetectionInstructions']['push']([_0x2ad237['SET_STROKE_STYLE'],_0x5ea1a9[_0x2a1988(0x151)],_0x5ea1a9[_0x2a1988(0x14a)],_0x5ea1a9[_0x2a1988(0x152)],_0x5ea1a9[_0x2a1988(0x155)],_0x5ea1a9[_0x2a1988(0x158)],defaultLineDash,defaultLineDashOffset]);const _0x1e6972=_0x156014[_0x2a1988(0x140)](),_0xe19abb=_0x156014['getStride'](),_0x154906=this['coordinates']['length'];this['appendFlatLineCoordinates'](_0x1e6972,0x0,_0x1e6972[_0x2a1988(0x149)],_0xe19abb,![],![]);const _0x31cd0c=[_0x2ad237['CIRCLE'],_0x154906];this[_0x2a1988(0x157)][_0x2a1988(0x147)](beginPathInstruction,_0x31cd0c),this[_0x2a1988(0x154)]['push'](beginPathInstruction,_0x31cd0c),_0x5ea1a9[_0x2a1988(0x13b)]!==undefined&&(this[_0x2a1988(0x157)][_0x2a1988(0x147)](fillInstruction),this[_0x2a1988(0x154)][_0x2a1988(0x147)](fillInstruction)),_0x5ea1a9[_0x2a1988(0x151)]!==undefined&&(this[_0x2a1988(0x157)]['push'](strokeInstruction),this[_0x2a1988(0x154)]['push'](strokeInstruction)),this[_0x2a1988(0x138)](_0x45eb21);}[_0x489fa2(0x150)](_0x5ce2ff,_0x14762b,_0x522571){const _0x333b30=_0x489fa2,_0x2f6b55=this[_0x333b30(0x143)],_0x6378c4=_0x2f6b55[_0x333b30(0x13b)],_0x29c0e1=_0x2f6b55[_0x333b30(0x151)];if(_0x6378c4===undefined&&_0x29c0e1===undefined)return;this[_0x333b30(0x14b)](),this[_0x333b30(0x13d)](_0x5ce2ff,_0x14762b,_0x522571);_0x2f6b55[_0x333b30(0x13b)]!==undefined&&this[_0x333b30(0x154)][_0x333b30(0x147)]([_0x2ad237[_0x333b30(0x142)],defaultFillStyle]);_0x2f6b55[_0x333b30(0x151)]!==undefined&&this[_0x333b30(0x154)][_0x333b30(0x147)]([_0x2ad237[_0x333b30(0x13f)],_0x2f6b55[_0x333b30(0x151)],_0x2f6b55[_0x333b30(0x14a)],_0x2f6b55[_0x333b30(0x152)],_0x2f6b55[_0x333b30(0x155)],_0x2f6b55['miterLimit'],defaultLineDash,defaultLineDashOffset]);const _0x281778=_0x5ce2ff[_0x333b30(0x132)](),_0xdaedb6=_0x5ce2ff[_0x333b30(0x13c)](),_0x53c9e7=_0x5ce2ff[_0x333b30(0x14e)]();this[_0x333b30(0x14d)](_0xdaedb6,0x0,_0x281778,_0x53c9e7),this[_0x333b30(0x138)](_0x14762b);}[_0x489fa2(0x14c)](_0x2fa2c5,_0x37c051,_0x4b67ea){const _0x568193=_0x489fa2,_0x371c27=this['state'],_0x5463d6=_0x371c27[_0x568193(0x13b)],_0xbf607d=_0x371c27[_0x568193(0x151)];if(_0x5463d6===undefined&&_0xbf607d===undefined)return;this[_0x568193(0x14b)](),this['beginGeometry'](_0x2fa2c5,_0x37c051,_0x4b67ea);_0x371c27[_0x568193(0x13b)]!==undefined&&this[_0x568193(0x154)][_0x568193(0x147)]([_0x2ad237[_0x568193(0x142)],defaultFillStyle]);_0x371c27[_0x568193(0x151)]!==undefined&&this[_0x568193(0x154)][_0x568193(0x147)]([_0x2ad237[_0x568193(0x13f)],_0x371c27[_0x568193(0x151)],_0x371c27[_0x568193(0x14a)],_0x371c27[_0x568193(0x152)],_0x371c27[_0x568193(0x155)],_0x371c27[_0x568193(0x158)],defaultLineDash,defaultLineDashOffset]);const _0x529611=_0x2fa2c5[_0x568193(0x156)](),_0x59aab5=_0x2fa2c5[_0x568193(0x13c)](),_0x53e63a=_0x2fa2c5[_0x568193(0x14e)]();let _0x6f3aa1=0x0;for(let _0x19c173=0x0,_0x1e6009=_0x529611[_0x568193(0x149)];_0x19c173<_0x1e6009;++_0x19c173){_0x6f3aa1=this['drawFlatCoordinatess_'](_0x59aab5,_0x6f3aa1,_0x529611[_0x19c173],_0x53e63a);}this[_0x568193(0x138)](_0x37c051);}[_0x489fa2(0x145)](){const _0x391418=_0x489fa2;this['reverseHitDetectionInstructions'](),this[_0x391418(0x143)]=null;const _0x56210a=this[_0x391418(0x133)];if(_0x56210a!==0x0){const _0x1e9c43=this[_0x391418(0x13e)];for(let _0x22c7df=0x0,_0x43d1a4=_0x1e9c43[_0x391418(0x149)];_0x22c7df<_0x43d1a4;++_0x22c7df){_0x1e9c43[_0x22c7df]=snap(_0x1e9c43[_0x22c7df],_0x56210a);}}return super['finish']();}[_0x489fa2(0x14b)](){const _0x5b8fca=_0x489fa2,_0x1c9bd7=this[_0x5b8fca(0x143)],_0x1feff7=_0x1c9bd7['fillStyle'];_0x1feff7!==undefined&&this[_0x5b8fca(0x136)](_0x1c9bd7,this[_0x5b8fca(0x144)]),_0x1c9bd7[_0x5b8fca(0x151)]!==undefined&&this[_0x5b8fca(0x137)](_0x1c9bd7,this[_0x5b8fca(0x153)]);}}export default CanvasPolygonBuilder;