const _0x20c2f2=_0x53b9;(function(_0x20a34a,_0xf4ba3d){const _0x1248c3=_0x53b9,_0x506cdd=_0x20a34a();while(!![]){try{const _0x52ad9c=parseInt(_0x1248c3(0x1f9))/0x1*(-parseInt(_0x1248c3(0x20e))/0x2)+-parseInt(_0x1248c3(0x21e))/0x3*(-parseInt(_0x1248c3(0x21f))/0x4)+-parseInt(_0x1248c3(0x1fb))/0x5+-parseInt(_0x1248c3(0x21d))/0x6+-parseInt(_0x1248c3(0x219))/0x7*(-parseInt(_0x1248c3(0x205))/0x8)+-parseInt(_0x1248c3(0x21a))/0x9*(-parseInt(_0x1248c3(0x21b))/0xa)+parseInt(_0x1248c3(0x218))/0xb*(parseInt(_0x1248c3(0x1fe))/0xc);if(_0x52ad9c===_0xf4ba3d)break;else _0x506cdd['push'](_0x506cdd['shift']());}catch(_0x1c499b){_0x506cdd['push'](_0x506cdd['shift']());}}}(_0x3569,0x2968b));import _0x25a245 from'./Builder.js';import _0x3010e4 from'./Instruction.js';import{containsCoordinate}from'../../extent.js';function _0x53b9(_0x3a5ebd,_0x12746a){const _0x356914=_0x3569();return _0x53b9=function(_0x53b972,_0x4355bd){_0x53b972=_0x53b972-0x1f0;let _0x4390a7=_0x356914[_0x53b972];return _0x4390a7;},_0x53b9(_0x3a5ebd,_0x12746a);}function _0x3569(){const _0x7718d4=['pixelRatio','getFlatCoordinates','getRotation','getOpacity','coordinates','anchorY_','endGeometry','beginGeometry','14806zjaLJR','1467235wxxdok','3393beplQN','1550NHsKmf','image_','886140uOVjcI','22821lCLMLQ','52EkDGFp','instructions','originY_','rotateWithView_','getAnchor','getHitDetectionImage','anchorX_','getPixelRatio','imagePixelRatio_','maxExtent','hitDetectionImage_','slice','length','width_','declutterImageWithText_','28LYjgqZ','appendFlatPointCoordinates','1254190lkfIHu','ceil','scale_','2016xPtRqW','getOrigin','height_','reverseHitDetectionInstructions','declutterMode_','finish','DRAW_IMAGE','8JdXZlB','hitDetectionInstructions','getDeclutterMode','rotation_','drawMultiPoint','getStride','originX_','opacity_','getRotateWithView','1780ZVBIFw','push'];_0x3569=function(){return _0x7718d4;};return _0x3569();}class CanvasImageBuilder extends _0x25a245{constructor(_0x485317,_0x3fce7d,_0x4478b8,_0x430b24){const _0x1fb0de=_0x53b9;super(_0x485317,_0x3fce7d,_0x4478b8,_0x430b24),this[_0x1fb0de(0x1f4)]=null,this[_0x1fb0de(0x21c)]=null,this[_0x1fb0de(0x1f2)]=undefined,this['anchorX_']=undefined,this[_0x1fb0de(0x215)]=undefined,this[_0x1fb0de(0x200)]=undefined,this[_0x1fb0de(0x20c)]=undefined,this[_0x1fb0de(0x20b)]=undefined,this['originY_']=undefined,this['rotateWithView_']=undefined,this['rotation_']=undefined,this[_0x1fb0de(0x1fd)]=undefined,this['width_']=undefined,this[_0x1fb0de(0x202)]=undefined,this['declutterImageWithText_']=undefined;}['drawPoint'](_0x44a811,_0x16c369,_0x52669){const _0x529a72=_0x53b9;if(!this['image_']||this['maxExtent']&&!containsCoordinate(this['maxExtent'],_0x44a811[_0x529a72(0x211)]()))return;this['beginGeometry'](_0x44a811,_0x16c369,_0x52669);const _0x1289b8=_0x44a811['getFlatCoordinates'](),_0x1a7a38=_0x44a811[_0x529a72(0x20a)](),_0x18c15e=this[_0x529a72(0x214)][_0x529a72(0x1f6)],_0x131d9d=this[_0x529a72(0x1fa)](_0x1289b8,_0x1a7a38);this[_0x529a72(0x220)][_0x529a72(0x20f)]([_0x3010e4[_0x529a72(0x204)],_0x18c15e,_0x131d9d,this[_0x529a72(0x21c)],this[_0x529a72(0x1f0)]*this['imagePixelRatio_'],this[_0x529a72(0x215)]*this[_0x529a72(0x1f2)],Math[_0x529a72(0x1fc)](this[_0x529a72(0x200)]*this[_0x529a72(0x1f2)]),this[_0x529a72(0x20c)],this[_0x529a72(0x20b)]*this[_0x529a72(0x1f2)],this['originY_']*this[_0x529a72(0x1f2)],this[_0x529a72(0x222)],this[_0x529a72(0x208)],[this[_0x529a72(0x1fd)][0x0]*this['pixelRatio']/this[_0x529a72(0x1f2)],this[_0x529a72(0x1fd)][0x1]*this['pixelRatio']/this['imagePixelRatio_']],Math[_0x529a72(0x1fc)](this[_0x529a72(0x1f7)]*this['imagePixelRatio_']),this[_0x529a72(0x202)],this[_0x529a72(0x1f8)]]),this['hitDetectionInstructions'][_0x529a72(0x20f)]([_0x3010e4['DRAW_IMAGE'],_0x18c15e,_0x131d9d,this[_0x529a72(0x1f4)],this[_0x529a72(0x1f0)],this[_0x529a72(0x215)],this[_0x529a72(0x200)],0x1,this['originX_'],this[_0x529a72(0x221)],this['rotateWithView_'],this[_0x529a72(0x208)],this[_0x529a72(0x1fd)],this['width_'],this['declutterMode_'],this[_0x529a72(0x1f8)]]),this[_0x529a72(0x216)](_0x16c369);}[_0x20c2f2(0x209)](_0xf777da,_0x3ed1e3,_0x183f3f){const _0x4b2656=_0x20c2f2;if(!this[_0x4b2656(0x21c)])return;this[_0x4b2656(0x217)](_0xf777da,_0x3ed1e3,_0x183f3f);const _0x425fcc=_0xf777da[_0x4b2656(0x211)](),_0x57f68f=[];for(let _0x2a33b9=0x0,_0x19498a=_0x425fcc[_0x4b2656(0x1f6)];_0x2a33b9<_0x19498a;_0x2a33b9+=_0xf777da[_0x4b2656(0x20a)]()){(!this[_0x4b2656(0x1f3)]||containsCoordinate(this[_0x4b2656(0x1f3)],_0x425fcc[_0x4b2656(0x1f5)](_0x2a33b9,_0x2a33b9+0x2)))&&_0x57f68f[_0x4b2656(0x20f)](_0x425fcc[_0x2a33b9],_0x425fcc[_0x2a33b9+0x1]);}const _0x25d570=this[_0x4b2656(0x214)][_0x4b2656(0x1f6)],_0x3f66fd=this[_0x4b2656(0x1fa)](_0x57f68f,0x2);this[_0x4b2656(0x220)][_0x4b2656(0x20f)]([_0x3010e4[_0x4b2656(0x204)],_0x25d570,_0x3f66fd,this[_0x4b2656(0x21c)],this[_0x4b2656(0x1f0)]*this[_0x4b2656(0x1f2)],this[_0x4b2656(0x215)]*this['imagePixelRatio_'],Math[_0x4b2656(0x1fc)](this['height_']*this['imagePixelRatio_']),this[_0x4b2656(0x20c)],this[_0x4b2656(0x20b)]*this[_0x4b2656(0x1f2)],this['originY_']*this[_0x4b2656(0x1f2)],this[_0x4b2656(0x222)],this['rotation_'],[this[_0x4b2656(0x1fd)][0x0]*this['pixelRatio']/this[_0x4b2656(0x1f2)],this[_0x4b2656(0x1fd)][0x1]*this[_0x4b2656(0x210)]/this[_0x4b2656(0x1f2)]],Math[_0x4b2656(0x1fc)](this[_0x4b2656(0x1f7)]*this['imagePixelRatio_']),this[_0x4b2656(0x202)],this[_0x4b2656(0x1f8)]]),this[_0x4b2656(0x206)][_0x4b2656(0x20f)]([_0x3010e4[_0x4b2656(0x204)],_0x25d570,_0x3f66fd,this[_0x4b2656(0x1f4)],this[_0x4b2656(0x1f0)],this[_0x4b2656(0x215)],this[_0x4b2656(0x200)],0x1,this[_0x4b2656(0x20b)],this[_0x4b2656(0x221)],this[_0x4b2656(0x222)],this[_0x4b2656(0x208)],this[_0x4b2656(0x1fd)],this[_0x4b2656(0x1f7)],this[_0x4b2656(0x202)],this['declutterImageWithText_']]),this['endGeometry'](_0x3ed1e3);}[_0x20c2f2(0x203)](){const _0x5c08ba=_0x20c2f2;return this[_0x5c08ba(0x201)](),this[_0x5c08ba(0x1f0)]=undefined,this[_0x5c08ba(0x215)]=undefined,this['hitDetectionImage_']=null,this[_0x5c08ba(0x21c)]=null,this['imagePixelRatio_']=undefined,this[_0x5c08ba(0x200)]=undefined,this[_0x5c08ba(0x1fd)]=undefined,this[_0x5c08ba(0x20c)]=undefined,this[_0x5c08ba(0x20b)]=undefined,this[_0x5c08ba(0x221)]=undefined,this['rotateWithView_']=undefined,this[_0x5c08ba(0x208)]=undefined,this[_0x5c08ba(0x1f7)]=undefined,super[_0x5c08ba(0x203)]();}['setImageStyle'](_0x5b0f9e,_0x2a73c2){const _0x2f1cf4=_0x20c2f2,_0x310b55=_0x5b0f9e[_0x2f1cf4(0x223)](),_0x39d649=_0x5b0f9e['getSize'](),_0x1c32bf=_0x5b0f9e[_0x2f1cf4(0x1ff)]();this['imagePixelRatio_']=_0x5b0f9e[_0x2f1cf4(0x1f1)](this[_0x2f1cf4(0x210)]),this['anchorX_']=_0x310b55[0x0],this[_0x2f1cf4(0x215)]=_0x310b55[0x1],this[_0x2f1cf4(0x1f4)]=_0x5b0f9e[_0x2f1cf4(0x224)](),this[_0x2f1cf4(0x21c)]=_0x5b0f9e['getImage'](this[_0x2f1cf4(0x210)]),this[_0x2f1cf4(0x200)]=_0x39d649[0x1],this['opacity_']=_0x5b0f9e[_0x2f1cf4(0x213)](),this[_0x2f1cf4(0x20b)]=_0x1c32bf[0x0],this[_0x2f1cf4(0x221)]=_0x1c32bf[0x1],this[_0x2f1cf4(0x222)]=_0x5b0f9e[_0x2f1cf4(0x20d)](),this[_0x2f1cf4(0x208)]=_0x5b0f9e[_0x2f1cf4(0x212)](),this[_0x2f1cf4(0x1fd)]=_0x5b0f9e['getScaleArray'](),this[_0x2f1cf4(0x1f7)]=_0x39d649[0x0],this[_0x2f1cf4(0x202)]=_0x5b0f9e[_0x2f1cf4(0x207)](),this[_0x2f1cf4(0x1f8)]=_0x2a73c2;}}export default CanvasImageBuilder;