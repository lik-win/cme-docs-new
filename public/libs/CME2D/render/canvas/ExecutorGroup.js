const _0x5bc6cf=_0x30ae;(function(_0x596e00,_0x38ddf3){const _0x200019=_0x30ae,_0x4db61d=_0x596e00();while(!![]){try{const _0x8ebfe4=-parseInt(_0x200019(0x1db))/0x1+-parseInt(_0x200019(0x1f7))/0x2+parseInt(_0x200019(0x1c4))/0x3*(parseInt(_0x200019(0x1f5))/0x4)+parseInt(_0x200019(0x1c9))/0x5+parseInt(_0x200019(0x1f8))/0x6+-parseInt(_0x200019(0x1cb))/0x7*(parseInt(_0x200019(0x1d6))/0x8)+parseInt(_0x200019(0x1d7))/0x9*(parseInt(_0x200019(0x1cf))/0xa);if(_0x8ebfe4===_0x38ddf3)break;else _0x4db61d['push'](_0x4db61d['shift']());}catch(_0x477e17){_0x4db61d['push'](_0x4db61d['shift']());}}}(_0x9c3f,0x61925));import _0x49d566 from'./Executor.js';import{ascending}from'../../array.js';import{buffer,createEmpty,extendCoordinate}from'../../extent.js';function _0x9c3f(){const _0x12cf9c=['offset','7RdZtgR','deferredZIndexContexts_','getContext','forEachFeatureAtCoordinate','50YTlJPj','Image','Text','canvas','draw','LineString','renderedContext_','3460888ngnbab','523881ebqiEN','isEmpty','pixelRatio_','none','379603OzCUNp','clear','maxExtent_','hasExecutors','Circle','lineTo','execute','Polygon','pushFunction','push','getDeferredZIndexContexts','getRenderedContext','overlaps_','executorsByZIndex_','clip','filter','data','length','Default','moveTo','createExecutors_','keys','hitDetectionContext_','renderBuffer_','clearRect','executeHitDetection','10784NtSPnN','resolution_','505954skvRmH','1545918RuOTgD','height','getClipCoords','getImageData','map','width','beginPath','renderDeferred','483fUdkoZ','sort','getZIndexContext','reverse','includes','2410450rqdPPj'];_0x9c3f=function(){return _0x12cf9c;};return _0x9c3f();}import{compose as _0x2e7e11,create as _0x591750}from'../../transform.js';import{createCanvasContext2D}from'../../dom.js';import{isEmpty}from'../../obj.js';import{transform2D}from'../../geom/flat/transform.js';export const ALL=[_0x5bc6cf(0x1e2),_0x5bc6cf(0x1df),_0x5bc6cf(0x1d4),_0x5bc6cf(0x1d0),_0x5bc6cf(0x1d1),_0x5bc6cf(0x1ed)];export const DECLUTTER=[_0x5bc6cf(0x1d0),_0x5bc6cf(0x1d1)];export const NON_DECLUTTER=ALL[_0x5bc6cf(0x1ea)](_0x1bad97=>!DECLUTTER[_0x5bc6cf(0x1c8)](_0x1bad97));function _0x30ae(_0xcbdd72,_0xc9bc8e){const _0x9c3fc0=_0x9c3f();return _0x30ae=function(_0x30ae48,_0xe854f7){_0x30ae48=_0x30ae48-0x1bf;let _0x35770f=_0x9c3fc0[_0x30ae48];return _0x35770f;},_0x30ae(_0xcbdd72,_0xc9bc8e);}class ExecutorGroup{constructor(_0x4f596e,_0x12f9d7,_0x251cfb,_0x6845ea,_0x45a835,_0x455191,_0xd62015){const _0x249fdc=_0x5bc6cf;this[_0x249fdc(0x1dd)]=_0x4f596e,this[_0x249fdc(0x1e7)]=_0x6845ea,this[_0x249fdc(0x1d9)]=_0x251cfb,this[_0x249fdc(0x1f6)]=_0x12f9d7,this[_0x249fdc(0x1f2)]=_0x455191,this[_0x249fdc(0x1e8)]={},this['hitDetectionContext_']=null,this['hitDetectionTransform_']=_0x591750(),this[_0x249fdc(0x1d5)]=null,this[_0x249fdc(0x1cc)]={},this[_0x249fdc(0x1ef)](_0x45a835,_0xd62015);}[_0x5bc6cf(0x1e9)](_0x29609e,_0x492f57){const _0x8bb94f=_0x5bc6cf,_0xd3ebb5=this[_0x8bb94f(0x1fa)](_0x492f57);_0x29609e[_0x8bb94f(0x1c2)](),_0x29609e[_0x8bb94f(0x1ee)](_0xd3ebb5[0x0],_0xd3ebb5[0x1]),_0x29609e[_0x8bb94f(0x1e0)](_0xd3ebb5[0x2],_0xd3ebb5[0x3]),_0x29609e[_0x8bb94f(0x1e0)](_0xd3ebb5[0x4],_0xd3ebb5[0x5]),_0x29609e[_0x8bb94f(0x1e0)](_0xd3ebb5[0x6],_0xd3ebb5[0x7]),_0x29609e[_0x8bb94f(0x1e9)]();}[_0x5bc6cf(0x1ef)](_0x105293,_0x39e0d7){const _0x2744ca=_0x5bc6cf;for(const _0x4eb350 in _0x105293){let _0x34ad46=this[_0x2744ca(0x1e8)][_0x4eb350];_0x34ad46===undefined&&(_0x34ad46={},this[_0x2744ca(0x1e8)][_0x4eb350]=_0x34ad46);const _0x17b847=_0x105293[_0x4eb350];for(const _0x4a20fd in _0x17b847){const _0x22d0ed=_0x17b847[_0x4a20fd];_0x34ad46[_0x4a20fd]=new _0x49d566(this[_0x2744ca(0x1f6)],this['pixelRatio_'],this[_0x2744ca(0x1e7)],_0x22d0ed,_0x39e0d7);}}}[_0x5bc6cf(0x1de)](_0x4268a6){const _0x1a6c6c=_0x5bc6cf;for(const _0x39d2be in this[_0x1a6c6c(0x1e8)]){const _0x2b012f=this[_0x1a6c6c(0x1e8)][_0x39d2be];for(let _0x3fd7d8=0x0,_0x50a1e2=_0x4268a6[_0x1a6c6c(0x1ec)];_0x3fd7d8<_0x50a1e2;++_0x3fd7d8){if(_0x4268a6[_0x3fd7d8]in _0x2b012f)return!![];}}return![];}[_0x5bc6cf(0x1ce)](_0x112b6d,_0x56299b,_0x212bbe,_0x510866,_0x36a2dd,_0x52bd9e){const _0x4d436d=_0x5bc6cf;_0x510866=Math['round'](_0x510866);const _0x197b5f=_0x510866*0x2+0x1,_0x109b83=_0x2e7e11(this['hitDetectionTransform_'],_0x510866+0.5,_0x510866+0.5,0x1/_0x56299b,-0x1/_0x56299b,-_0x212bbe,-_0x112b6d[0x0],-_0x112b6d[0x1]),_0x29eba4=!this[_0x4d436d(0x1f1)];_0x29eba4&&(this[_0x4d436d(0x1f1)]=createCanvasContext2D(_0x197b5f,_0x197b5f,undefined,{'willReadFrequently':!![]}));const _0x7bf392=this[_0x4d436d(0x1f1)];if(_0x7bf392[_0x4d436d(0x1d2)][_0x4d436d(0x1c1)]!==_0x197b5f||_0x7bf392[_0x4d436d(0x1d2)][_0x4d436d(0x1f9)]!==_0x197b5f)_0x7bf392[_0x4d436d(0x1d2)][_0x4d436d(0x1c1)]=_0x197b5f,_0x7bf392['canvas']['height']=_0x197b5f;else!_0x29eba4&&_0x7bf392[_0x4d436d(0x1f3)](0x0,0x0,_0x197b5f,_0x197b5f);let _0x257d62;this[_0x4d436d(0x1f2)]!==undefined&&(_0x257d62=createEmpty(),extendCoordinate(_0x257d62,_0x112b6d),buffer(_0x257d62,_0x56299b*(this[_0x4d436d(0x1f2)]+_0x510866),_0x257d62));const _0x4c0d54=getPixelIndexArray(_0x510866);let _0x49eaab;function _0x2a4764(_0x4f658f,_0x59ebf2,_0x36a6a0){const _0x6fc397=_0x4d436d,_0x2bf54f=_0x7bf392[_0x6fc397(0x1bf)](0x0,0x0,_0x197b5f,_0x197b5f)[_0x6fc397(0x1eb)];for(let _0x3014d6=0x0,_0x4de863=_0x4c0d54[_0x6fc397(0x1ec)];_0x3014d6<_0x4de863;_0x3014d6++){if(_0x2bf54f[_0x4c0d54[_0x3014d6]]>0x0){if(!_0x52bd9e||_0x36a6a0===_0x6fc397(0x1da)||_0x49eaab!==_0x6fc397(0x1d0)&&_0x49eaab!=='Text'||_0x52bd9e['includes'](_0x4f658f)){const _0x16d2ca=(_0x4c0d54[_0x3014d6]-0x3)/0x4,_0xa3821b=_0x510866-_0x16d2ca%_0x197b5f,_0x2a2915=_0x510866-(_0x16d2ca/_0x197b5f|0x0),_0x12a661=_0x36a2dd(_0x4f658f,_0x59ebf2,_0xa3821b*_0xa3821b+_0x2a2915*_0x2a2915);if(_0x12a661)return _0x12a661;}_0x7bf392[_0x6fc397(0x1f3)](0x0,0x0,_0x197b5f,_0x197b5f);break;}}return undefined;}const _0x12c234=Object[_0x4d436d(0x1f0)](this['executorsByZIndex_'])[_0x4d436d(0x1c0)](Number);_0x12c234[_0x4d436d(0x1c5)](ascending);let _0x15b23d,_0x352af2,_0xd01015,_0x6d0576,_0x440940;for(_0x15b23d=_0x12c234[_0x4d436d(0x1ec)]-0x1;_0x15b23d>=0x0;--_0x15b23d){const _0x23bee6=_0x12c234[_0x15b23d]['toString']();_0xd01015=this[_0x4d436d(0x1e8)][_0x23bee6];for(_0x352af2=ALL[_0x4d436d(0x1ec)]-0x1;_0x352af2>=0x0;--_0x352af2){_0x49eaab=ALL[_0x352af2],_0x6d0576=_0xd01015[_0x49eaab];if(_0x6d0576!==undefined){_0x440940=_0x6d0576[_0x4d436d(0x1f4)](_0x7bf392,_0x109b83,_0x212bbe,_0x2a4764,_0x257d62);if(_0x440940)return _0x440940;}}}return undefined;}[_0x5bc6cf(0x1fa)](_0xaee4ff){const _0x19af73=this['maxExtent_'];if(!_0x19af73)return null;const _0x31d447=_0x19af73[0x0],_0x438b02=_0x19af73[0x1],_0x21de21=_0x19af73[0x2],_0x40fd74=_0x19af73[0x3],_0x4a4aca=[_0x31d447,_0x438b02,_0x31d447,_0x40fd74,_0x21de21,_0x40fd74,_0x21de21,_0x438b02];return transform2D(_0x4a4aca,0x0,0x8,0x2,_0xaee4ff,_0x4a4aca),_0x4a4aca;}[_0x5bc6cf(0x1d8)](){return isEmpty(this['executorsByZIndex_']);}[_0x5bc6cf(0x1e1)](_0x268807,_0x1bc826,_0x4fcaed,_0x2a3644,_0x40607e,_0x5a041f,_0x11585f){const _0x4566aa=_0x5bc6cf,_0x42c271=Object['keys'](this[_0x4566aa(0x1e8)])[_0x4566aa(0x1c0)](Number);_0x42c271[_0x4566aa(0x1c5)](ascending),_0x5a041f=_0x5a041f?_0x5a041f:ALL;const _0x243a79=ALL[_0x4566aa(0x1ec)];let _0x3dcc8d,_0x18eb31,_0x274899,_0x523f1d,_0x47efdc;_0x11585f&&_0x42c271[_0x4566aa(0x1c7)]();for(_0x3dcc8d=0x0,_0x18eb31=_0x42c271[_0x4566aa(0x1ec)];_0x3dcc8d<_0x18eb31;++_0x3dcc8d){const _0x26fb25=_0x42c271[_0x3dcc8d]['toString']();_0x47efdc=this[_0x4566aa(0x1e8)][_0x26fb25];for(_0x274899=0x0,_0x523f1d=_0x5a041f[_0x4566aa(0x1ec)];_0x274899<_0x523f1d;++_0x274899){const _0x39de33=_0x5a041f[_0x274899],_0x253230=_0x47efdc[_0x39de33];if(_0x253230!==undefined){const _0xb6bea6=_0x11585f===null?undefined:_0x253230[_0x4566aa(0x1c6)](),_0xe9b41e=_0xb6bea6?_0xb6bea6[_0x4566aa(0x1cd)]():_0x268807,_0x2d47cb=this[_0x4566aa(0x1dd)]&&_0x39de33!==_0x4566aa(0x1d0)&&_0x39de33!==_0x4566aa(0x1d1);_0x2d47cb&&(_0xe9b41e['save'](),this['clip'](_0xe9b41e,_0x4fcaed));!_0xb6bea6||_0x39de33==='Text'||_0x39de33===_0x4566aa(0x1d0)?_0x253230[_0x4566aa(0x1e1)](_0xe9b41e,_0x1bc826,_0x4fcaed,_0x2a3644,_0x40607e,_0x11585f):_0xb6bea6[_0x4566aa(0x1e3)](_0x1f75b9=>_0x253230[_0x4566aa(0x1e1)](_0x1f75b9,_0x1bc826,_0x4fcaed,_0x2a3644,_0x40607e,_0x11585f));_0x2d47cb&&_0xe9b41e['restore']();if(_0xb6bea6){_0xb6bea6[_0x4566aa(0x1ca)]();const _0x4998d4=_0x42c271[_0x3dcc8d]*_0x243a79+_0x274899;!this[_0x4566aa(0x1cc)][_0x4998d4]&&(this[_0x4566aa(0x1cc)][_0x4998d4]=[]),this[_0x4566aa(0x1cc)][_0x4998d4][_0x4566aa(0x1e4)](_0xb6bea6);}}}}this[_0x4566aa(0x1d5)]=_0x268807;}[_0x5bc6cf(0x1e5)](){const _0x38d17d=_0x5bc6cf;return this[_0x38d17d(0x1cc)];}[_0x5bc6cf(0x1e6)](){return this['renderedContext_'];}[_0x5bc6cf(0x1c3)](){const _0x1c624c=_0x5bc6cf,_0x4aac71=this[_0x1c624c(0x1cc)],_0x416b55=Object[_0x1c624c(0x1f0)](_0x4aac71)[_0x1c624c(0x1c0)](Number)[_0x1c624c(0x1c5)](ascending);for(let _0x5da87f=0x0,_0x3a4531=_0x416b55['length'];_0x5da87f<_0x3a4531;++_0x5da87f){_0x4aac71[_0x416b55[_0x5da87f]]['forEach'](_0x173a22=>{const _0x20c14c=_0x1c624c;_0x173a22[_0x20c14c(0x1d3)](this[_0x20c14c(0x1d5)]),_0x173a22[_0x20c14c(0x1dc)]();}),_0x4aac71[_0x416b55[_0x5da87f]][_0x1c624c(0x1ec)]=0x0;}}}const circlePixelIndexArrayCache={};export function getPixelIndexArray(_0x22dc5a){const _0x49c5c1=_0x5bc6cf;if(circlePixelIndexArrayCache[_0x22dc5a]!==undefined)return circlePixelIndexArrayCache[_0x22dc5a];const _0x51e96a=_0x22dc5a*0x2+0x1,_0x4eb665=_0x22dc5a*_0x22dc5a,_0x354dca=new Array(_0x4eb665+0x1);for(let _0x36480d=0x0;_0x36480d<=_0x22dc5a;++_0x36480d){for(let _0x5a9980=0x0;_0x5a9980<=_0x22dc5a;++_0x5a9980){const _0x442f3f=_0x36480d*_0x36480d+_0x5a9980*_0x5a9980;if(_0x442f3f>_0x4eb665)break;let _0x49eeb7=_0x354dca[_0x442f3f];!_0x49eeb7&&(_0x49eeb7=[],_0x354dca[_0x442f3f]=_0x49eeb7),_0x49eeb7[_0x49c5c1(0x1e4)](((_0x22dc5a+_0x36480d)*_0x51e96a+(_0x22dc5a+_0x5a9980))*0x4+0x3),_0x36480d>0x0&&_0x49eeb7[_0x49c5c1(0x1e4)](((_0x22dc5a-_0x36480d)*_0x51e96a+(_0x22dc5a+_0x5a9980))*0x4+0x3),_0x5a9980>0x0&&(_0x49eeb7[_0x49c5c1(0x1e4)](((_0x22dc5a+_0x36480d)*_0x51e96a+(_0x22dc5a-_0x5a9980))*0x4+0x3),_0x36480d>0x0&&_0x49eeb7['push'](((_0x22dc5a-_0x36480d)*_0x51e96a+(_0x22dc5a-_0x5a9980))*0x4+0x3));}}const _0x127375=[];for(let _0x199d13=0x0,_0x5baad1=_0x354dca[_0x49c5c1(0x1ec)];_0x199d13<_0x5baad1;++_0x199d13){_0x354dca[_0x199d13]&&_0x127375['push'](..._0x354dca[_0x199d13]);}return circlePixelIndexArrayCache[_0x22dc5a]=_0x127375,_0x127375;}export default ExecutorGroup;