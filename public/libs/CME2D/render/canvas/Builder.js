function _0x3f65(){const _0x267dfb=['MultiPolygon','applyStroke','setFillStrokeStyle','reverseHitDetectionInstructions','SET_STROKE_STYLE','call','maxLineWidth','3190vKVybO','lineDashOffset','lineCap','166MIloRr','CUSTOM','lineWidth','getLineDash','currentLineDash','getLineCap','getLineDashOffset','1506666cIKcsw','lineJoin','INTERSECTING','18rhxnak','26196533GrRheA','currentLineWidth','applyPixelRatio','getEndss','MultiLineString','1604915tGVHHt','8OCZwAq','getColor','object','maxExtent','getBufferedMaxExtent','createStroke','state','fillStyle','currentStrokeStyle','420256DqAftX','length','hitDetectionInstructions','currentMiterLimit','appendFlatPointCoordinates','updateFillStyle','map','getStride','Circle','getMiterLimit','bufferedMaxExtent_','currentLineJoin','tmpCoordinate_','BEGIN_GEOMETRY','strokeStyle','currentLineCap','appendFlatLineCoordinates','getType','getLineJoin','MultiPoint','END_GEOMETRY','endGeometry','lineDash','beginGeometryInstruction1_','src','getFlatCoordinates','3879OkjJeU','beginGeometryInstruction2_','pixelRatio','19809bhihPc','instructions','Polygon','getOrientedFlatCoordinates','LineString','getEnds','resolution','miterLimit','reverse','updateStrokeStyle','beginGeometry','string','coordinates','tolerance','Point','currentLineDashOffset','push','1446963lyckTL','SET_FILL_STYLE','fillPatternScale','drawCustomCoordinates_'];_0x3f65=function(){return _0x267dfb;};return _0x3f65();}const _0x885eea=_0x2b45;function _0x2b45(_0x2f8545,_0x668cc2){const _0x3f6574=_0x3f65();return _0x2b45=function(_0x2b4547,_0x12f02b){_0x2b4547=_0x2b4547-0x1d6;let _0x5933fd=_0x3f6574[_0x2b4547];return _0x5933fd;},_0x2b45(_0x2f8545,_0x668cc2);}(function(_0x1ebf15,_0x498258){const _0x58f8e8=_0x2b45,_0x14fa3b=_0x1ebf15();while(!![]){try{const _0x36adec=-parseInt(_0x58f8e8(0x1ed))/0x1*(-parseInt(_0x58f8e8(0x20f))/0x2)+parseInt(_0x58f8e8(0x216))/0x3+-parseInt(_0x58f8e8(0x220))/0x4*(-parseInt(_0x58f8e8(0x21f))/0x5)+-parseInt(_0x58f8e8(0x219))/0x6*(-parseInt(_0x58f8e8(0x201))/0x7)+-parseInt(_0x58f8e8(0x229))/0x8+parseInt(_0x58f8e8(0x1f0))/0x9*(parseInt(_0x58f8e8(0x20c))/0xa)+-parseInt(_0x58f8e8(0x21a))/0xb;if(_0x36adec===_0x498258)break;else _0x14fa3b['push'](_0x14fa3b['shift']());}catch(_0x144c1d){_0x14fa3b['push'](_0x14fa3b['shift']());}}}(_0x3f65,0x56834));import _0x1a2828 from'./Instruction.js';import _0x4682de from'../../extent/Relationship.js';import _0x45f2ed from'../VectorContext.js';import{asColorLike}from'../../colorlike.js';import{buffer,clone,containsCoordinate,coordinateRelationship}from'../../extent.js';import{defaultFillStyle,defaultLineCap,defaultLineDash,defaultLineDashOffset,defaultLineJoin,defaultLineWidth,defaultMiterLimit,defaultStrokeStyle}from'../canvas.js';import{equals,reverseSubArray}from'../../array.js';import{inflateCoordinates,inflateCoordinatesArray,inflateMultiCoordinatesArray}from'../../geom/flat/inflate.js';class CanvasBuilder extends _0x45f2ed{constructor(_0x412cb8,_0x169f66,_0xe24bd8,_0x39df4a){const _0x11f09b=_0x2b45;super(),this[_0x11f09b(0x1fd)]=_0x412cb8,this[_0x11f09b(0x223)]=_0x169f66,this[_0x11f09b(0x1ef)]=_0x39df4a,this['maxLineWidth']=0x0,this[_0x11f09b(0x1f6)]=_0xe24bd8,this['beginGeometryInstruction1_']=null,this['beginGeometryInstruction2_']=null,this[_0x11f09b(0x1dd)]=null,this[_0x11f09b(0x1f1)]=[],this[_0x11f09b(0x1fc)]=[],this[_0x11f09b(0x1df)]=[],this[_0x11f09b(0x22b)]=[],this[_0x11f09b(0x226)]={};}['applyPixelRatio'](_0x3cf09b){const _0x4ed259=_0x2b45,_0x3f6096=this[_0x4ed259(0x1ef)];return _0x3f6096==0x1?_0x3cf09b:_0x3cf09b[_0x4ed259(0x1d9)](function(_0x25c235){return _0x25c235*_0x3f6096;});}['appendFlatPointCoordinates'](_0x38cefa,_0x64568b){const _0x24f4dd=_0x2b45,_0x493aa3=this[_0x24f4dd(0x224)](),_0x28dd39=this[_0x24f4dd(0x1df)],_0x431ad1=this[_0x24f4dd(0x1fc)];let _0x35e1fe=_0x431ad1[_0x24f4dd(0x22a)];for(let _0x469599=0x0,_0x2dd846=_0x38cefa[_0x24f4dd(0x22a)];_0x469599<_0x2dd846;_0x469599+=_0x64568b){_0x28dd39[0x0]=_0x38cefa[_0x469599],_0x28dd39[0x1]=_0x38cefa[_0x469599+0x1],containsCoordinate(_0x493aa3,_0x28dd39)&&(_0x431ad1[_0x35e1fe++]=_0x28dd39[0x0],_0x431ad1[_0x35e1fe++]=_0x28dd39[0x1]);}return _0x35e1fe;}[_0x885eea(0x1e3)](_0x48c944,_0x19aeb2,_0xb32631,_0x24801f,_0x5c6ce9,_0x3bcbd1){const _0x912ba4=_0x885eea,_0x18b7f5=this[_0x912ba4(0x1fc)];let _0x31888b=_0x18b7f5[_0x912ba4(0x22a)];const _0x466f37=this['getBufferedMaxExtent']();_0x3bcbd1&&(_0x19aeb2+=_0x24801f);let _0x558298=_0x48c944[_0x19aeb2],_0x244647=_0x48c944[_0x19aeb2+0x1];const _0x39caa2=this[_0x912ba4(0x1df)];let _0xec1f6f=!![],_0x4be20e,_0x2e84eb,_0x2aafed;for(_0x4be20e=_0x19aeb2+_0x24801f;_0x4be20e<_0xb32631;_0x4be20e+=_0x24801f){_0x39caa2[0x0]=_0x48c944[_0x4be20e],_0x39caa2[0x1]=_0x48c944[_0x4be20e+0x1],_0x2aafed=coordinateRelationship(_0x466f37,_0x39caa2);if(_0x2aafed!==_0x2e84eb)_0xec1f6f&&(_0x18b7f5[_0x31888b++]=_0x558298,_0x18b7f5[_0x31888b++]=_0x244647,_0xec1f6f=![]),_0x18b7f5[_0x31888b++]=_0x39caa2[0x0],_0x18b7f5[_0x31888b++]=_0x39caa2[0x1];else _0x2aafed===_0x4682de[_0x912ba4(0x218)]?(_0x18b7f5[_0x31888b++]=_0x39caa2[0x0],_0x18b7f5[_0x31888b++]=_0x39caa2[0x1],_0xec1f6f=![]):_0xec1f6f=!![];_0x558298=_0x39caa2[0x0],_0x244647=_0x39caa2[0x1],_0x2e84eb=_0x2aafed;}return(_0x5c6ce9&&_0xec1f6f||_0x4be20e===_0x19aeb2+_0x24801f)&&(_0x18b7f5[_0x31888b++]=_0x558298,_0x18b7f5[_0x31888b++]=_0x244647),_0x31888b;}[_0x885eea(0x204)](_0x1879c6,_0x34cc61,_0xca8815,_0x3373ab,_0x207b02){const _0xe5ece8=_0x885eea;for(let _0xbab5f0=0x0,_0x38c288=_0xca8815[_0xe5ece8(0x22a)];_0xbab5f0<_0x38c288;++_0xbab5f0){const _0x2da7da=_0xca8815[_0xbab5f0],_0x1de504=this[_0xe5ece8(0x1e3)](_0x1879c6,_0x34cc61,_0x2da7da,_0x3373ab,![],![]);_0x207b02[_0xe5ece8(0x200)](_0x1de504),_0x34cc61=_0x2da7da;}return _0x34cc61;}['drawCustom'](_0x212c50,_0x116f28,_0x4430f1,_0x15f324,_0x238a2e){const _0x32dab8=_0x885eea;this[_0x32dab8(0x1fa)](_0x212c50,_0x116f28,_0x238a2e);const _0x4fe984=_0x212c50[_0x32dab8(0x1e4)](),_0x2fc229=_0x212c50[_0x32dab8(0x1da)](),_0x43395a=this[_0x32dab8(0x1fc)][_0x32dab8(0x22a)];let _0x533bf3,_0x3856b5,_0xc86bf8,_0x112186,_0x2398c1;switch(_0x4fe984){case _0x32dab8(0x205):_0x533bf3=_0x212c50[_0x32dab8(0x1f3)](),_0x112186=[];const _0x1ceadc=_0x212c50[_0x32dab8(0x21d)]();_0x2398c1=0x0;for(let _0x117d07=0x0,_0x501b87=_0x1ceadc[_0x32dab8(0x22a)];_0x117d07<_0x501b87;++_0x117d07){const _0x380e10=[];_0x2398c1=this[_0x32dab8(0x204)](_0x533bf3,_0x2398c1,_0x1ceadc[_0x117d07],_0x2fc229,_0x380e10),_0x112186[_0x32dab8(0x200)](_0x380e10);}this[_0x32dab8(0x1f1)][_0x32dab8(0x200)]([_0x1a2828['CUSTOM'],_0x43395a,_0x112186,_0x212c50,_0x4430f1,inflateMultiCoordinatesArray,_0x238a2e]),this[_0x32dab8(0x22b)][_0x32dab8(0x200)]([_0x1a2828[_0x32dab8(0x210)],_0x43395a,_0x112186,_0x212c50,_0x15f324||_0x4430f1,inflateMultiCoordinatesArray,_0x238a2e]);break;case _0x32dab8(0x1f2):case _0x32dab8(0x21e):_0xc86bf8=[],_0x533bf3=_0x4fe984==_0x32dab8(0x1f2)?_0x212c50[_0x32dab8(0x1f3)]():_0x212c50[_0x32dab8(0x1ec)](),_0x2398c1=this[_0x32dab8(0x204)](_0x533bf3,0x0,_0x212c50[_0x32dab8(0x1f5)](),_0x2fc229,_0xc86bf8),this[_0x32dab8(0x1f1)][_0x32dab8(0x200)]([_0x1a2828[_0x32dab8(0x210)],_0x43395a,_0xc86bf8,_0x212c50,_0x4430f1,inflateCoordinatesArray,_0x238a2e]),this[_0x32dab8(0x22b)][_0x32dab8(0x200)]([_0x1a2828['CUSTOM'],_0x43395a,_0xc86bf8,_0x212c50,_0x15f324||_0x4430f1,inflateCoordinatesArray,_0x238a2e]);break;case _0x32dab8(0x1f4):case _0x32dab8(0x1db):_0x533bf3=_0x212c50['getFlatCoordinates'](),_0x3856b5=this[_0x32dab8(0x1e3)](_0x533bf3,0x0,_0x533bf3[_0x32dab8(0x22a)],_0x2fc229,![],![]),this[_0x32dab8(0x1f1)][_0x32dab8(0x200)]([_0x1a2828[_0x32dab8(0x210)],_0x43395a,_0x3856b5,_0x212c50,_0x4430f1,inflateCoordinates,_0x238a2e]),this[_0x32dab8(0x22b)][_0x32dab8(0x200)]([_0x1a2828[_0x32dab8(0x210)],_0x43395a,_0x3856b5,_0x212c50,_0x15f324||_0x4430f1,inflateCoordinates,_0x238a2e]);break;case _0x32dab8(0x1e6):_0x533bf3=_0x212c50[_0x32dab8(0x1ec)](),_0x3856b5=this[_0x32dab8(0x1d7)](_0x533bf3,_0x2fc229);_0x3856b5>_0x43395a&&(this['instructions'][_0x32dab8(0x200)]([_0x1a2828[_0x32dab8(0x210)],_0x43395a,_0x3856b5,_0x212c50,_0x4430f1,inflateCoordinates,_0x238a2e]),this[_0x32dab8(0x22b)]['push']([_0x1a2828['CUSTOM'],_0x43395a,_0x3856b5,_0x212c50,_0x15f324||_0x4430f1,inflateCoordinates,_0x238a2e]));break;case _0x32dab8(0x1fe):_0x533bf3=_0x212c50[_0x32dab8(0x1ec)](),this[_0x32dab8(0x1fc)][_0x32dab8(0x200)](_0x533bf3[0x0],_0x533bf3[0x1]),_0x3856b5=this['coordinates'][_0x32dab8(0x22a)],this[_0x32dab8(0x1f1)][_0x32dab8(0x200)]([_0x1a2828[_0x32dab8(0x210)],_0x43395a,_0x3856b5,_0x212c50,_0x4430f1,undefined,_0x238a2e]),this['hitDetectionInstructions'][_0x32dab8(0x200)]([_0x1a2828[_0x32dab8(0x210)],_0x43395a,_0x3856b5,_0x212c50,_0x15f324||_0x4430f1,undefined,_0x238a2e]);break;default:}this[_0x32dab8(0x1e8)](_0x116f28);}[_0x885eea(0x1fa)](_0x5917d9,_0x5ebca7,_0x427a2b){const _0x5341ff=_0x885eea;this[_0x5341ff(0x1ea)]=[_0x1a2828['BEGIN_GEOMETRY'],_0x5ebca7,0x0,_0x5917d9,_0x427a2b],this[_0x5341ff(0x1f1)][_0x5341ff(0x200)](this[_0x5341ff(0x1ea)]),this['beginGeometryInstruction2_']=[_0x1a2828[_0x5341ff(0x1e0)],_0x5ebca7,0x0,_0x5917d9,_0x427a2b],this[_0x5341ff(0x22b)][_0x5341ff(0x200)](this[_0x5341ff(0x1ee)]);}['finish'](){const _0x212930=_0x885eea;return{'instructions':this[_0x212930(0x1f1)],'hitDetectionInstructions':this[_0x212930(0x22b)],'coordinates':this[_0x212930(0x1fc)]};}[_0x885eea(0x208)](){const _0x2040da=_0x885eea,_0x253c0b=this[_0x2040da(0x22b)];_0x253c0b[_0x2040da(0x1f8)]();let _0x52c157;const _0x3d2c35=_0x253c0b[_0x2040da(0x22a)];let _0x321814,_0x43df36,_0x354f66=-0x1;for(_0x52c157=0x0;_0x52c157<_0x3d2c35;++_0x52c157){_0x321814=_0x253c0b[_0x52c157],_0x43df36=_0x321814[0x0];if(_0x43df36==_0x1a2828['END_GEOMETRY'])_0x354f66=_0x52c157;else _0x43df36==_0x1a2828['BEGIN_GEOMETRY']&&(_0x321814[0x2]=_0x52c157,reverseSubArray(this[_0x2040da(0x22b)],_0x354f66,_0x52c157),_0x354f66=-0x1);}}[_0x885eea(0x207)](_0x400a7d,_0x419dfb){const _0x5476d6=_0x885eea,_0x2a7cd8=this[_0x5476d6(0x226)];if(_0x400a7d){const _0x152b30=_0x400a7d['getColor']();_0x2a7cd8['fillPatternScale']=_0x152b30&&typeof _0x152b30===_0x5476d6(0x222)&&_0x5476d6(0x1eb)in _0x152b30?this[_0x5476d6(0x1ef)]:0x1,_0x2a7cd8[_0x5476d6(0x227)]=asColorLike(_0x152b30?_0x152b30:defaultFillStyle);}else _0x2a7cd8['fillStyle']=undefined;if(_0x419dfb){const _0x439048=_0x419dfb[_0x5476d6(0x221)]();_0x2a7cd8[_0x5476d6(0x1e1)]=asColorLike(_0x439048?_0x439048:defaultStrokeStyle);const _0x739fe1=_0x419dfb[_0x5476d6(0x214)]();_0x2a7cd8[_0x5476d6(0x20e)]=_0x739fe1!==undefined?_0x739fe1:defaultLineCap;const _0x38c77c=_0x419dfb[_0x5476d6(0x212)]();_0x2a7cd8[_0x5476d6(0x1e9)]=_0x38c77c?_0x38c77c['slice']():defaultLineDash;const _0x361a0e=_0x419dfb[_0x5476d6(0x215)]();_0x2a7cd8[_0x5476d6(0x20d)]=_0x361a0e?_0x361a0e:defaultLineDashOffset;const _0x135e1c=_0x419dfb[_0x5476d6(0x1e5)]();_0x2a7cd8[_0x5476d6(0x217)]=_0x135e1c!==undefined?_0x135e1c:defaultLineJoin;const _0xb1f85b=_0x419dfb['getWidth']();_0x2a7cd8[_0x5476d6(0x211)]=_0xb1f85b!==undefined?_0xb1f85b:defaultLineWidth;const _0x1203e6=_0x419dfb[_0x5476d6(0x1dc)]();_0x2a7cd8[_0x5476d6(0x1f7)]=_0x1203e6!==undefined?_0x1203e6:defaultMiterLimit,_0x2a7cd8[_0x5476d6(0x211)]>this['maxLineWidth']&&(this[_0x5476d6(0x20b)]=_0x2a7cd8[_0x5476d6(0x211)],this[_0x5476d6(0x1dd)]=null);}else _0x2a7cd8['strokeStyle']=undefined,_0x2a7cd8[_0x5476d6(0x20e)]=undefined,_0x2a7cd8[_0x5476d6(0x1e9)]=null,_0x2a7cd8['lineDashOffset']=undefined,_0x2a7cd8[_0x5476d6(0x217)]=undefined,_0x2a7cd8['lineWidth']=undefined,_0x2a7cd8['miterLimit']=undefined;}['createFill'](_0x5083d0){const _0x2afd84=_0x885eea,_0xcefef0=_0x5083d0[_0x2afd84(0x227)],_0xb83abb=[_0x1a2828[_0x2afd84(0x202)],_0xcefef0];return typeof _0xcefef0!==_0x2afd84(0x1fb)&&_0xb83abb[_0x2afd84(0x200)](_0x5083d0[_0x2afd84(0x203)]),_0xb83abb;}[_0x885eea(0x206)](_0x2eef4f){const _0x325940=_0x885eea;this[_0x325940(0x1f1)][_0x325940(0x200)](this[_0x325940(0x225)](_0x2eef4f));}[_0x885eea(0x225)](_0x161508){const _0x1215b0=_0x885eea;return[_0x1a2828[_0x1215b0(0x209)],_0x161508[_0x1215b0(0x1e1)],_0x161508['lineWidth']*this['pixelRatio'],_0x161508[_0x1215b0(0x20e)],_0x161508['lineJoin'],_0x161508[_0x1215b0(0x1f7)],this[_0x1215b0(0x21c)](_0x161508['lineDash']),_0x161508[_0x1215b0(0x20d)]*this[_0x1215b0(0x1ef)]];}[_0x885eea(0x1d8)](_0x499dcc,_0x1d73c4){const _0x3b24ba=_0x885eea,_0x1e1b88=_0x499dcc[_0x3b24ba(0x227)];(typeof _0x1e1b88!==_0x3b24ba(0x1fb)||_0x499dcc['currentFillStyle']!=_0x1e1b88)&&(_0x1e1b88!==undefined&&this[_0x3b24ba(0x1f1)][_0x3b24ba(0x200)](_0x1d73c4['call'](this,_0x499dcc)),_0x499dcc['currentFillStyle']=_0x1e1b88);}[_0x885eea(0x1f9)](_0x465ceb,_0x46d12c){const _0x31ef9f=_0x885eea,_0x53390d=_0x465ceb[_0x31ef9f(0x1e1)],_0xf5d56a=_0x465ceb[_0x31ef9f(0x20e)],_0x392da4=_0x465ceb[_0x31ef9f(0x1e9)],_0x588e51=_0x465ceb[_0x31ef9f(0x20d)],_0x49895a=_0x465ceb[_0x31ef9f(0x217)],_0x166eda=_0x465ceb[_0x31ef9f(0x211)],_0x3492c9=_0x465ceb[_0x31ef9f(0x1f7)];(_0x465ceb[_0x31ef9f(0x228)]!=_0x53390d||_0x465ceb[_0x31ef9f(0x1e2)]!=_0xf5d56a||_0x392da4!=_0x465ceb[_0x31ef9f(0x213)]&&!equals(_0x465ceb['currentLineDash'],_0x392da4)||_0x465ceb[_0x31ef9f(0x1ff)]!=_0x588e51||_0x465ceb[_0x31ef9f(0x1de)]!=_0x49895a||_0x465ceb[_0x31ef9f(0x21b)]!=_0x166eda||_0x465ceb[_0x31ef9f(0x1d6)]!=_0x3492c9)&&(_0x53390d!==undefined&&_0x46d12c[_0x31ef9f(0x20a)](this,_0x465ceb),_0x465ceb[_0x31ef9f(0x228)]=_0x53390d,_0x465ceb[_0x31ef9f(0x1e2)]=_0xf5d56a,_0x465ceb[_0x31ef9f(0x213)]=_0x392da4,_0x465ceb['currentLineDashOffset']=_0x588e51,_0x465ceb[_0x31ef9f(0x1de)]=_0x49895a,_0x465ceb[_0x31ef9f(0x21b)]=_0x166eda,_0x465ceb[_0x31ef9f(0x1d6)]=_0x3492c9);}[_0x885eea(0x1e8)](_0x423e75){const _0x408848=_0x885eea;this[_0x408848(0x1ea)][0x2]=this[_0x408848(0x1f1)][_0x408848(0x22a)],this['beginGeometryInstruction1_']=null,this[_0x408848(0x1ee)][0x2]=this[_0x408848(0x22b)]['length'],this[_0x408848(0x1ee)]=null;const _0x541ca4=[_0x1a2828[_0x408848(0x1e7)],_0x423e75];this[_0x408848(0x1f1)]['push'](_0x541ca4),this[_0x408848(0x22b)]['push'](_0x541ca4);}[_0x885eea(0x224)](){const _0x2b5fdd=_0x885eea;if(!this[_0x2b5fdd(0x1dd)]){this[_0x2b5fdd(0x1dd)]=clone(this[_0x2b5fdd(0x223)]);if(this[_0x2b5fdd(0x20b)]>0x0){const _0xe7a12f=this[_0x2b5fdd(0x1f6)]*(this['maxLineWidth']+0x1)/0x2;buffer(this['bufferedMaxExtent_'],_0xe7a12f,this[_0x2b5fdd(0x1dd)]);}}return this['bufferedMaxExtent_'];}}export default CanvasBuilder;