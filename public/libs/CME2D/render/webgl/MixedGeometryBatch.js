const _0x3d74c4=_0x1509;(function(_0x3aa7fe,_0x1d9644){const _0x563d74=_0x1509,_0x1645c2=_0x3aa7fe();while(!![]){try{const _0x1f49d0=-parseInt(_0x563d74(0x11a))/0x1*(-parseInt(_0x563d74(0xfd))/0x2)+-parseInt(_0x563d74(0xfa))/0x3+parseInt(_0x563d74(0x10d))/0x4+-parseInt(_0x563d74(0xf0))/0x5+-parseInt(_0x563d74(0x10b))/0x6*(parseInt(_0x563d74(0xf4))/0x7)+-parseInt(_0x563d74(0x10e))/0x8*(parseInt(_0x563d74(0x120))/0x9)+parseInt(_0x563d74(0x11c))/0xa;if(_0x1f49d0===_0x1d9644)break;else _0x1645c2['push'](_0x1645c2['shift']());}catch(_0x1ad3e6){_0x1645c2['push'](_0x1645c2['shift']());}}}(_0x2e90,0x4324b));function _0x2e90(){const _0x4b6ecf=['round','entries','push','LinearRing','lineStringBatch','applyTransform','LineString','addRefToEntry_','globalCounter_','filter','ref','clearFeatureEntryInLineStringBatch_','getGeometry','clear','getFlatCoordinates','Point','2265690FtgsRP','freeGlobalRef_','geometriesCount','clearFeatureEntryInPolygonBatch_','7ZyvsPc','delete','This\x20feature\x20has\x20no\x20ref:\x20','changeFeature','MultiLineString','feature','1563198HqYPoz','slice','MultiPoint','154754nqYAel','addGeometry_','addCoordinates_','length','polygonBatch','addFeature','getType','pop','getEnds','getFeatureFromRef','ringsCount','getGeometriesArray','uidToRef_','refToFeature_','2168178sVxTdO','fill','1596556pqmHIk','122776nUkIho','map','get','addFeatures','XYM','flatCoordss','clone','verticesCount','pointBatch','removeFeature','Polygon','MultiPolygon','2RAGNZk','getStride','15017560ABkgtp','set','clearFeatureEntryInPointBatch_','getEndss','261KBbvJG'];_0x2e90=function(){return _0x4b6ecf;};return _0x2e90();}import _0x421709 from'../../render/Feature.js';import{getUid}from'../../util.js';import{inflateEnds}from'../../geom/flat/orient.js';class MixedGeometryBatch{constructor(){const _0x1a1916=_0x1509;this[_0x1a1916(0xe8)]=0x0,this[_0x1a1916(0x10a)]=new Map(),this[_0x1a1916(0x109)]=new Map(),this[_0x1a1916(0xf1)]=[],this[_0x1a1916(0x101)]={'entries':{},'geometriesCount':0x0,'verticesCount':0x0,'ringsCount':0x0},this['pointBatch']={'entries':{},'geometriesCount':0x0},this[_0x1a1916(0x125)]={'entries':{},'geometriesCount':0x0,'verticesCount':0x0};}[_0x3d74c4(0x111)](_0xe5d51e,_0x35f0ba){const _0x3ccd43=_0x3d74c4;for(let _0x466710=0x0;_0x466710<_0xe5d51e['length'];_0x466710++){this[_0x3ccd43(0x102)](_0xe5d51e[_0x466710],_0x35f0ba);}}[_0x3d74c4(0x102)](_0x3866fe,_0x19b545){const _0x307238=_0x3d74c4;let _0x57c19c=_0x3866fe[_0x307238(0xec)]();if(!_0x57c19c)return;_0x19b545&&(_0x57c19c=_0x57c19c[_0x307238(0x114)](),_0x57c19c[_0x307238(0x126)](_0x19b545)),this[_0x307238(0xfe)](_0x57c19c,_0x3866fe);}[_0x3d74c4(0x11e)](_0x2292b9){const _0x3803d1=_0x3d74c4,_0x466e38=this[_0x3803d1(0x116)][_0x3803d1(0x122)][getUid(_0x2292b9)];if(!_0x466e38)return;return this[_0x3803d1(0x116)][_0x3803d1(0xf2)]-=_0x466e38['flatCoordss']['length'],delete this['pointBatch'][_0x3803d1(0x122)][getUid(_0x2292b9)],_0x466e38;}[_0x3d74c4(0xeb)](_0x20181c){const _0xaecedf=_0x3d74c4,_0x3d7a89=this['lineStringBatch'][_0xaecedf(0x122)][getUid(_0x20181c)];if(!_0x3d7a89)return;return this[_0xaecedf(0x125)][_0xaecedf(0x115)]-=_0x3d7a89[_0xaecedf(0x115)],this[_0xaecedf(0x125)]['geometriesCount']-=_0x3d7a89[_0xaecedf(0x113)][_0xaecedf(0x100)],delete this[_0xaecedf(0x125)]['entries'][getUid(_0x20181c)],_0x3d7a89;}[_0x3d74c4(0xf3)](_0x21e765){const _0xb5ff16=_0x3d74c4,_0xac45c=this[_0xb5ff16(0x101)]['entries'][getUid(_0x21e765)];if(!_0xac45c)return;return this[_0xb5ff16(0x101)][_0xb5ff16(0x115)]-=_0xac45c['verticesCount'],this['polygonBatch'][_0xb5ff16(0x107)]-=_0xac45c['ringsCount'],this[_0xb5ff16(0x101)][_0xb5ff16(0xf2)]-=_0xac45c[_0xb5ff16(0x113)]['length'],delete this[_0xb5ff16(0x101)][_0xb5ff16(0x122)][getUid(_0x21e765)],_0xac45c;}[_0x3d74c4(0xfe)](_0x553190,_0x532d2c){const _0x4ddb22=_0x3d74c4,_0x29bc22=_0x553190[_0x4ddb22(0x103)]();switch(_0x29bc22){case'GeometryCollection':{const _0x50795a=_0x553190[_0x4ddb22(0x108)]();for(const _0x860b4 of _0x50795a){this['addGeometry_'](_0x860b4,_0x532d2c);}break;}case'MultiPolygon':{const _0x5c67bb=_0x553190;this['addCoordinates_'](_0x29bc22,_0x5c67bb[_0x4ddb22(0xee)](),_0x5c67bb[_0x4ddb22(0x11f)](),_0x532d2c,getUid(_0x532d2c),_0x5c67bb[_0x4ddb22(0x11b)]());break;}case _0x4ddb22(0xf8):{const _0x80953c=_0x553190;this[_0x4ddb22(0xff)](_0x29bc22,_0x80953c[_0x4ddb22(0xee)](),_0x80953c[_0x4ddb22(0x105)](),_0x532d2c,getUid(_0x532d2c),_0x80953c['getStride']());break;}case _0x4ddb22(0xfc):{const _0x67b856=_0x553190;this[_0x4ddb22(0xff)](_0x29bc22,_0x67b856[_0x4ddb22(0xee)](),null,_0x532d2c,getUid(_0x532d2c),_0x67b856['getStride']());break;}case'Polygon':{const _0x4bc0e3=_0x553190;this[_0x4ddb22(0xff)](_0x29bc22,_0x4bc0e3[_0x4ddb22(0xee)](),_0x4bc0e3[_0x4ddb22(0x105)](),_0x532d2c,getUid(_0x532d2c),_0x4bc0e3[_0x4ddb22(0x11b)]());break;}case _0x4ddb22(0xef):{const _0x4c8da0=_0x553190;this['addCoordinates_'](_0x29bc22,_0x4c8da0[_0x4ddb22(0xee)](),null,_0x532d2c,getUid(_0x532d2c),_0x4c8da0[_0x4ddb22(0x11b)]());break;}case _0x4ddb22(0xe6):case _0x4ddb22(0x124):{const _0x70c0f3=_0x553190,_0x56c671=_0x70c0f3[_0x4ddb22(0x11b)]();this['addCoordinates_'](_0x29bc22,_0x70c0f3['getFlatCoordinates'](),null,_0x532d2c,getUid(_0x532d2c),_0x56c671,_0x70c0f3['getLayout']?.());break;}default:}}[_0x3d74c4(0xff)](_0x112f84,_0x2cf36d,_0x575ae5,_0x546f71,_0x7328de,_0x10cb88,_0x4db313){const _0x5e4085=_0x3d74c4;let _0x2292e4;switch(_0x112f84){case _0x5e4085(0x119):{const _0x53dcac=_0x575ae5;for(let _0x547ca8=0x0,_0x509e02=_0x53dcac[_0x5e4085(0x100)];_0x547ca8<_0x509e02;_0x547ca8++){let _0x2def89=_0x53dcac[_0x547ca8];const _0x236c00=_0x547ca8>0x0?_0x53dcac[_0x547ca8-0x1]:null,_0x16ae1d=_0x236c00?_0x236c00[_0x236c00[_0x5e4085(0x100)]-0x1]:0x0,_0x2abe18=_0x2def89[_0x2def89[_0x5e4085(0x100)]-0x1];_0x2def89=_0x16ae1d>0x0?_0x2def89[_0x5e4085(0x10f)](_0x448d5f=>_0x448d5f-_0x16ae1d):_0x2def89,this[_0x5e4085(0xff)](_0x5e4085(0x118),_0x2cf36d[_0x5e4085(0xfb)](_0x16ae1d,_0x2abe18),_0x2def89,_0x546f71,_0x7328de,_0x10cb88,_0x4db313);}break;}case _0x5e4085(0xf8):{const _0x7c7532=_0x575ae5;for(let _0x3e3e1a=0x0,_0x342828=_0x7c7532['length'];_0x3e3e1a<_0x342828;_0x3e3e1a++){const _0x5a724d=_0x3e3e1a>0x0?_0x7c7532[_0x3e3e1a-0x1]:0x0;this['addCoordinates_'](_0x5e4085(0xe6),_0x2cf36d[_0x5e4085(0xfb)](_0x5a724d,_0x7c7532[_0x3e3e1a]),null,_0x546f71,_0x7328de,_0x10cb88,_0x4db313);}break;}case _0x5e4085(0xfc):for(let _0x3fc070=0x0,_0x259aa0=_0x2cf36d[_0x5e4085(0x100)];_0x3fc070<_0x259aa0;_0x3fc070+=_0x10cb88){this[_0x5e4085(0xff)](_0x5e4085(0xef),_0x2cf36d['slice'](_0x3fc070,_0x3fc070+0x2),null,_0x546f71,_0x7328de,null,null);}break;case _0x5e4085(0x118):{const _0x5c820a=_0x575ae5;if(_0x546f71 instanceof _0x421709){const _0x564660=inflateEnds(_0x2cf36d,_0x5c820a);if(_0x564660[_0x5e4085(0x100)]>0x1){this['addCoordinates_'](_0x5e4085(0x119),_0x2cf36d,_0x564660,_0x546f71,_0x7328de,_0x10cb88,_0x4db313);return;}}!this[_0x5e4085(0x101)]['entries'][_0x7328de]&&(this['polygonBatch'][_0x5e4085(0x122)][_0x7328de]=this['addRefToEntry_'](_0x7328de,{'feature':_0x546f71,'flatCoordss':[],'verticesCount':0x0,'ringsCount':0x0,'ringsVerticesCounts':[]}));_0x2292e4=_0x2cf36d['length']/_0x10cb88;const _0x8a69f4=_0x575ae5[_0x5e4085(0x100)],_0x25f7a8=_0x575ae5[_0x5e4085(0x10f)]((_0x4abc94,_0x1c893,_0x83edc7)=>_0x1c893>0x0?(_0x4abc94-_0x83edc7[_0x1c893-0x1])/_0x10cb88:_0x4abc94/_0x10cb88);this[_0x5e4085(0x101)][_0x5e4085(0x115)]+=_0x2292e4,this[_0x5e4085(0x101)][_0x5e4085(0x107)]+=_0x8a69f4,this[_0x5e4085(0x101)][_0x5e4085(0xf2)]++,this[_0x5e4085(0x101)][_0x5e4085(0x122)][_0x7328de][_0x5e4085(0x113)][_0x5e4085(0x123)](getFlatCoordinatesXY(_0x2cf36d,_0x10cb88)),this[_0x5e4085(0x101)][_0x5e4085(0x122)][_0x7328de]['ringsVerticesCounts'][_0x5e4085(0x123)](_0x25f7a8),this[_0x5e4085(0x101)][_0x5e4085(0x122)][_0x7328de][_0x5e4085(0x115)]+=_0x2292e4,this[_0x5e4085(0x101)][_0x5e4085(0x122)][_0x7328de][_0x5e4085(0x107)]+=_0x8a69f4;for(let _0x52be13=0x0,_0x854d6a=_0x5c820a['length'];_0x52be13<_0x854d6a;_0x52be13++){const _0x5a757f=_0x52be13>0x0?_0x5c820a[_0x52be13-0x1]:0x0;this[_0x5e4085(0xff)](_0x5e4085(0x124),_0x2cf36d[_0x5e4085(0xfb)](_0x5a757f,_0x5c820a[_0x52be13]),null,_0x546f71,_0x7328de,_0x10cb88,_0x4db313);}break;}case _0x5e4085(0xef):!this['pointBatch']['entries'][_0x7328de]&&(this[_0x5e4085(0x116)][_0x5e4085(0x122)][_0x7328de]=this[_0x5e4085(0xe7)](_0x7328de,{'feature':_0x546f71,'flatCoordss':[]}));this['pointBatch']['geometriesCount']++,this[_0x5e4085(0x116)][_0x5e4085(0x122)][_0x7328de][_0x5e4085(0x113)][_0x5e4085(0x123)](_0x2cf36d);break;case _0x5e4085(0xe6):case'LinearRing':!this[_0x5e4085(0x125)]['entries'][_0x7328de]&&(this['lineStringBatch'][_0x5e4085(0x122)][_0x7328de]=this[_0x5e4085(0xe7)](_0x7328de,{'feature':_0x546f71,'flatCoordss':[],'verticesCount':0x0}));_0x2292e4=_0x2cf36d[_0x5e4085(0x100)]/_0x10cb88,this[_0x5e4085(0x125)]['verticesCount']+=_0x2292e4,this[_0x5e4085(0x125)][_0x5e4085(0xf2)]++,this['lineStringBatch'][_0x5e4085(0x122)][_0x7328de][_0x5e4085(0x113)]['push'](getFlatCoordinatesXYM(_0x2cf36d,_0x10cb88,_0x4db313)),this[_0x5e4085(0x125)]['entries'][_0x7328de][_0x5e4085(0x115)]+=_0x2292e4;break;default:}}['addRefToEntry_'](_0x383b3e,_0x5c8224){const _0x2b9e7a=_0x3d74c4,_0x2320bf=this[_0x2b9e7a(0x109)][_0x2b9e7a(0x110)](_0x383b3e),_0x432002=_0x2320bf||this['freeGlobalRef_'][_0x2b9e7a(0x104)]()||++this[_0x2b9e7a(0xe8)];return _0x5c8224[_0x2b9e7a(0xea)]=_0x432002,!_0x2320bf&&(this['refToFeature_'][_0x2b9e7a(0x11d)](_0x432002,_0x5c8224['feature']),this[_0x2b9e7a(0x109)]['set'](_0x383b3e,_0x432002)),_0x5c8224;}['returnRef_'](_0x1f6be0,_0xe5e4f7){const _0x5a1892=_0x3d74c4;if(!_0x1f6be0)throw new Error(_0x5a1892(0xf6)+_0xe5e4f7);this[_0x5a1892(0x10a)][_0x5a1892(0xf5)](_0x1f6be0),this[_0x5a1892(0x109)]['delete'](_0xe5e4f7),this['freeGlobalRef_'][_0x5a1892(0x123)](_0x1f6be0);}[_0x3d74c4(0xf7)](_0x2bc2e8){const _0x4da233=_0x3d74c4;this[_0x4da233(0x117)](_0x2bc2e8);const _0x1a599f=_0x2bc2e8[_0x4da233(0xec)]();if(!_0x1a599f)return;this[_0x4da233(0xfe)](_0x1a599f,_0x2bc2e8);}[_0x3d74c4(0x117)](_0x131bf3){const _0x14f9cc=_0x3d74c4;let _0xbfe00d;_0xbfe00d=this[_0x14f9cc(0x11e)](_0x131bf3)||_0xbfe00d,_0xbfe00d=this[_0x14f9cc(0xf3)](_0x131bf3)||_0xbfe00d,_0xbfe00d=this[_0x14f9cc(0xeb)](_0x131bf3)||_0xbfe00d,_0xbfe00d&&this['returnRef_'](_0xbfe00d[_0x14f9cc(0xea)],getUid(_0xbfe00d[_0x14f9cc(0xf9)]));}[_0x3d74c4(0xed)](){const _0x806319=_0x3d74c4;this[_0x806319(0x101)]['entries']={},this['polygonBatch'][_0x806319(0xf2)]=0x0,this[_0x806319(0x101)][_0x806319(0x115)]=0x0,this[_0x806319(0x101)]['ringsCount']=0x0,this[_0x806319(0x125)][_0x806319(0x122)]={},this['lineStringBatch'][_0x806319(0xf2)]=0x0,this[_0x806319(0x125)][_0x806319(0x115)]=0x0,this[_0x806319(0x116)]['entries']={},this['pointBatch']['geometriesCount']=0x0,this[_0x806319(0xe8)]=0x0,this[_0x806319(0xf1)]=[],this[_0x806319(0x10a)]['clear'](),this[_0x806319(0x109)][_0x806319(0xed)]();}[_0x3d74c4(0x106)](_0x4368b2){const _0x1d8e84=_0x3d74c4;return this[_0x1d8e84(0x10a)][_0x1d8e84(0x110)](_0x4368b2);}}function getFlatCoordinatesXY(_0x3660be,_0x4fd9a3){const _0x6f37a2=_0x3d74c4;if(_0x4fd9a3===0x2)return _0x3660be;return _0x3660be[_0x6f37a2(0xe9)]((_0x3341f8,_0x2aca08)=>_0x2aca08%_0x4fd9a3<0x2);}function _0x1509(_0x1fda04,_0x1ff5ca){const _0x2e9056=_0x2e90();return _0x1509=function(_0x150942,_0x82e356){_0x150942=_0x150942-0xe6;let _0x31e54e=_0x2e9056[_0x150942];return _0x31e54e;},_0x1509(_0x1fda04,_0x1ff5ca);}function getFlatCoordinatesXYM(_0x1e494d,_0x256201,_0x537af5){const _0x77b2eb=_0x3d74c4;if(_0x256201===0x3&&_0x537af5===_0x77b2eb(0x112))return _0x1e494d;if(_0x256201===0x4)return _0x1e494d[_0x77b2eb(0xe9)]((_0x1db8fd,_0x3ca83a)=>_0x3ca83a%_0x256201!==0x2);if(_0x256201===0x3)return _0x1e494d[_0x77b2eb(0x10f)]((_0xb3f53c,_0x32781b)=>_0x32781b%_0x256201!==0x2?_0xb3f53c:0x0);return new Array(_0x1e494d['length']*1.5)[_0x77b2eb(0x10c)](0x0)[_0x77b2eb(0x10f)]((_0x5ad206,_0x573e04)=>_0x573e04%0x3===0x2?0x0:_0x1e494d[Math[_0x77b2eb(0x121)](_0x573e04/1.5)]);}export default MixedGeometryBatch;