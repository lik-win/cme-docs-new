const _0x4110cc=_0x1e94;(function(_0x27a68f,_0x26afe4){const _0x3ec64d=_0x1e94,_0x304f13=_0x27a68f();while(!![]){try{const _0x41852d=-parseInt(_0x3ec64d(0x102))/0x1*(-parseInt(_0x3ec64d(0xf4))/0x2)+parseInt(_0x3ec64d(0xfe))/0x3+parseInt(_0x3ec64d(0xfc))/0x4*(parseInt(_0x3ec64d(0x101))/0x5)+parseInt(_0x3ec64d(0xf1))/0x6*(-parseInt(_0x3ec64d(0xeb))/0x7)+-parseInt(_0x3ec64d(0xef))/0x8*(parseInt(_0x3ec64d(0xfb))/0x9)+-parseInt(_0x3ec64d(0xee))/0xa*(parseInt(_0x3ec64d(0xf7))/0xb)+parseInt(_0x3ec64d(0xfd))/0xc*(-parseInt(_0x3ec64d(0x100))/0xd);if(_0x41852d===_0x26afe4)break;else _0x304f13['push'](_0x304f13['shift']());}catch(_0x3fb44e){_0x304f13['push'](_0x304f13['shift']());}}}(_0x1e13,0x3596d));import _0x260c33 from'rbush';import{createOrUpdate,equals}from'../extent.js';import{getUid}from'../util.js';function _0x1e94(_0x5783d1,_0x441c59){const _0x1e1368=_0x1e13();return _0x1e94=function(_0x1e94a7,_0x191030){_0x1e94a7=_0x1e94a7-0xe4;let _0x4d5889=_0x1e1368[_0x1e94a7];return _0x4d5889;},_0x1e94(_0x5783d1,_0x441c59);}import{isEmpty}from'../obj.js';function _0x1e13(){const _0x5ed48e=['isEmpty','items_','load','maxX','getAll','insert','minY','getInExtent','7KttwTo','value','all','964030xjQnPm','12904lmKRTk','minX','429090rhlsmQ','rbush_','remove','2eLYmld','forEach_','clear','22MyVFoT','concat','map','maxY','1638dEXqjC','12xSDsNf','24rzsqeQ','1258188LOihGr','update','2027493qWYFJD','446035tDnuRH','402293RhCbDV','forEachInExtent','length'];_0x1e13=function(){return _0x5ed48e;};return _0x1e13();}class RBush{constructor(_0x38b13a){const _0x4c4dd1=_0x1e94;this[_0x4c4dd1(0xf2)]=new _0x260c33(_0x38b13a),this[_0x4c4dd1(0xe4)]={};}[_0x4110cc(0xe8)](_0x30f66f,_0x2f3533){const _0x3ad729=_0x4110cc,_0x27ae3f={'minX':_0x30f66f[0x0],'minY':_0x30f66f[0x1],'maxX':_0x30f66f[0x2],'maxY':_0x30f66f[0x3],'value':_0x2f3533};this['rbush_'][_0x3ad729(0xe8)](_0x27ae3f),this[_0x3ad729(0xe4)][getUid(_0x2f3533)]=_0x27ae3f;}[_0x4110cc(0xe5)](_0x3b7a9d,_0x502ae7){const _0x478718=_0x4110cc,_0x4f73d5=new Array(_0x502ae7[_0x478718(0x104)]);for(let _0x14aa58=0x0,_0x586fc0=_0x502ae7[_0x478718(0x104)];_0x14aa58<_0x586fc0;_0x14aa58++){const _0x4b7fa8=_0x3b7a9d[_0x14aa58],_0x4336be=_0x502ae7[_0x14aa58],_0x3ec624={'minX':_0x4b7fa8[0x0],'minY':_0x4b7fa8[0x1],'maxX':_0x4b7fa8[0x2],'maxY':_0x4b7fa8[0x3],'value':_0x4336be};_0x4f73d5[_0x14aa58]=_0x3ec624,this[_0x478718(0xe4)][getUid(_0x4336be)]=_0x3ec624;}this['rbush_']['load'](_0x4f73d5);}[_0x4110cc(0xf3)](_0x4303a0){const _0x24bfe6=_0x4110cc,_0x4fd849=getUid(_0x4303a0),_0x48e97f=this[_0x24bfe6(0xe4)][_0x4fd849];return delete this[_0x24bfe6(0xe4)][_0x4fd849],this['rbush_'][_0x24bfe6(0xf3)](_0x48e97f)!==null;}[_0x4110cc(0xff)](_0x11d4a5,_0x2df9a0){const _0x1dc2d2=_0x4110cc,_0x41b0f2=this[_0x1dc2d2(0xe4)][getUid(_0x2df9a0)],_0x2dce3e=[_0x41b0f2[_0x1dc2d2(0xf0)],_0x41b0f2[_0x1dc2d2(0xe9)],_0x41b0f2[_0x1dc2d2(0xe6)],_0x41b0f2['maxY']];!equals(_0x2dce3e,_0x11d4a5)&&(this[_0x1dc2d2(0xf3)](_0x2df9a0),this[_0x1dc2d2(0xe8)](_0x11d4a5,_0x2df9a0));}[_0x4110cc(0xe7)](){const _0x2b6c88=_0x4110cc,_0x2021b9=this[_0x2b6c88(0xf2)][_0x2b6c88(0xed)]();return _0x2021b9[_0x2b6c88(0xf9)](function(_0x5af4da){return _0x5af4da['value'];});}[_0x4110cc(0xea)](_0x2a3c72){const _0x2d0a90=_0x4110cc,_0x502c2a={'minX':_0x2a3c72[0x0],'minY':_0x2a3c72[0x1],'maxX':_0x2a3c72[0x2],'maxY':_0x2a3c72[0x3]},_0x1fef33=this[_0x2d0a90(0xf2)]['search'](_0x502c2a);return _0x1fef33['map'](function(_0x145d75){const _0xf6d7b9=_0x2d0a90;return _0x145d75[_0xf6d7b9(0xec)];});}['forEach'](_0x18441e){const _0x16db93=_0x4110cc;return this[_0x16db93(0xf5)](this[_0x16db93(0xe7)](),_0x18441e);}[_0x4110cc(0x103)](_0x39623e,_0x1ea481){const _0x4e1635=_0x4110cc;return this[_0x4e1635(0xf5)](this[_0x4e1635(0xea)](_0x39623e),_0x1ea481);}['forEach_'](_0x449fa0,_0x4df584){const _0x785f0f=_0x4110cc;let _0x579419;for(let _0x52a9c0=0x0,_0x48d8fb=_0x449fa0[_0x785f0f(0x104)];_0x52a9c0<_0x48d8fb;_0x52a9c0++){_0x579419=_0x4df584(_0x449fa0[_0x52a9c0]);if(_0x579419)return _0x579419;}return _0x579419;}[_0x4110cc(0x105)](){return isEmpty(this['items_']);}[_0x4110cc(0xf6)](){const _0xd763af=_0x4110cc;this['rbush_']['clear'](),this[_0xd763af(0xe4)]={};}['getExtent'](_0x5c02af){const _0x41db78=_0x4110cc,_0x430434=this[_0x41db78(0xf2)]['toJSON']();return createOrUpdate(_0x430434[_0x41db78(0xf0)],_0x430434[_0x41db78(0xe9)],_0x430434[_0x41db78(0xe6)],_0x430434[_0x41db78(0xfa)],_0x5c02af);}[_0x4110cc(0xf8)](_0x53d4c9){const _0x2d85fd=_0x4110cc;this['rbush_']['load'](_0x53d4c9[_0x2d85fd(0xf2)]['all']());for(const _0x5c77b4 in _0x53d4c9['items_']){this['items_'][_0x5c77b4]=_0x53d4c9[_0x2d85fd(0xe4)][_0x5c77b4];}}}export default RBush;