function _0x3533(){const _0x593135=['inFragmentShader','mix(','\x20||\x20','Cos','716980BdbPpc','Sqrt','Get','Zoom','operator','Equal','Atan','\x20>=\x20','17629137gqxrXo','properties','LessThanOrEqualTo','functions','TEXTURE_PIXEL_WIDTH','Clamp','stringify','LessThan','Palette','Add',')\x20{\x20return\x20true;\x20}','3643ZRUuvT','Mod','u_zoom','push','vec4(','0.0','pow(','clamp(','\x20<=\x20','slice',',\x20v_textureCoord\x20+\x20vec2(dx,\x20dy))[','mod(','`formatArray`\x20can\x20only\x20output\x20`vec2`,\x20`vec3`\x20or\x20`vec4`\x20arrays.','\x20(expected\x20type\x20','args','getGeometry','Time','getBandValue','\x20+\x200.5)\x20/\x20','\x20/\x20255.0),\x201.0)','floor(','\x20-\x20','578peQuak','\x20:\x20','TEXTURE_PIXEL_HEIGHT','vec','a_prop_','Round','];\x0a\x20\x20}\x0a','Subtract','includes',',\x201.0)','Interpolate','No\x20compiler\x20defined\x20for\x20this\x20operator:\x20','vec4(vec3(','GreaterThanOrEqualTo','length','GeometryType','Match','u_var_','All','u_time','))\x20-\x201.0)','join','Not','\x20+\x20','\x20/\x20255.0),\x20','Any','Case','floor','bool\x20','Resolution','Divide','abs(','\x20!=\x20','\x20==\x20','u_paletteTextures','Array','type','Unexpected\x20expression\x20','))\x20-\x201.0)\x20/\x20(pow(','v_prop_','Floor','2468850DSZRhv','Multiply','currentLineMetric','value','toString','ceil(','991206ysIsCh','cos(',',\x20clamp(','3694600kjLvhU','LineMetric','map',',\x20(','Pow','atan(','paletteTextures','Between','\x20\x20if\x20(inputValue\x20==\x20','90020NRZEGY','(pow(','Var','208aqxlCv','GreaterThan',')\x20/\x20(','bandCount','sin(','\x20/\x20255.0',',\x20vec2((','u_resolution','10BZrJlY','\x20<\x20'];_0x3533=function(){return _0x593135;};return _0x3533();}const _0x2d09dd=_0x3286;(function(_0x1297d0,_0x2fc6b0){const _0x275122=_0x3286,_0xf91c49=_0x1297d0();while(!![]){try{const _0x447adf=parseInt(_0x275122(0x11d))/0x1*(parseInt(_0x275122(0x133))/0x2)+parseInt(_0x275122(0xed))/0x3+parseInt(_0x275122(0xf0))/0x4+parseInt(_0x275122(0x10a))/0x5+parseInt(_0x275122(0x15c))/0x6+-parseInt(_0x275122(0xf9))/0x7*(parseInt(_0x275122(0xfc))/0x8)+parseInt(_0x275122(0x112))/0x9*(-parseInt(_0x275122(0x104))/0xa);if(_0x447adf===_0x2fc6b0)break;else _0xf91c49['push'](_0xf91c49['shift']());}catch(_0x56e806){_0xf91c49['push'](_0xf91c49['shift']());}}}(_0x3533,0x8ad15));import _0x736d60 from'../webgl/PaletteTexture.js';import{BooleanType,CallExpression,ColorType,NumberArrayType,NumberType,Ops,SizeType,StringType,computeGeometryType,parse,typeName}from'./expression.js';import{Uniforms}from'../renderer/webgl/TileLayer.js';import{asArray}from'../color.js';import{toSize}from'../size.js';function computeOperatorFunctionName(_0x737d1f,_0xf1115a){const _0x1700cc=_0x3286;return'operator_'+_0x737d1f+'_'+Object['keys'](_0xf1115a[_0x1700cc(0x115)])[_0x1700cc(0x141)];}export function numberToGlsl(_0x435c64){const _0x4fd185=_0x3286,_0xf23114=_0x435c64[_0x4fd185(0x160)]();return _0xf23114[_0x4fd185(0x13b)]('.')?_0xf23114:_0xf23114+'.0';}export function arrayToGlsl(_0x455138){const _0x282304=_0x3286;if(_0x455138['length']<0x2||_0x455138[_0x282304(0x141)]>0x4)throw new Error(_0x282304(0x129));return _0x282304(0x136)+_0x455138[_0x282304(0x141)]+'('+_0x455138[_0x282304(0xf2)](numberToGlsl)[_0x282304(0x148)](',\x20')+')';}export function colorToGlsl(_0x337153){const _0x352325=_0x3286,_0x4a47c4=asArray(_0x337153),_0x57dc88=_0x4a47c4[_0x352325(0x141)]>0x3?_0x4a47c4[0x3]:0x1;return arrayToGlsl([_0x4a47c4[0x0]/0xff,_0x4a47c4[0x1]/0xff,_0x4a47c4[0x2]/0xff,_0x57dc88]);}export function sizeToGlsl(_0x1dae7a){const _0x234aef=toSize(_0x1dae7a);return arrayToGlsl(_0x234aef);}const stringToFloatMap={};let stringToFloatCounter=0x0;export function getStringNumberEquivalent(_0x1c5485){return!(_0x1c5485 in stringToFloatMap)&&(stringToFloatMap[_0x1c5485]=stringToFloatCounter++),stringToFloatMap[_0x1c5485];}export function stringToGlsl(_0x8e3534){return numberToGlsl(getStringNumberEquivalent(_0x8e3534));}export function uniformNameForVariable(_0x17ce24){const _0x35a74c=_0x3286;return _0x35a74c(0x144)+_0x17ce24;}export function newCompilationContext(){return{'inFragmentShader':![],'variables':{},'properties':{},'functions':{},'bandCount':0x0,'style':{}};}const GET_BAND_VALUE_FUNC=_0x2d09dd(0x12e);export const PALETTE_TEXTURE_ARRAY=_0x2d09dd(0x155);export function buildExpression(_0x11515d,_0x683e9c,_0x5c055a,_0x157dd0){const _0x3a362a=parse(_0x11515d,_0x683e9c,_0x5c055a);return compile(_0x3a362a,_0x683e9c,_0x157dd0);}function createCompiler(_0xe297b0){return(_0x39ce14,_0x3ca52a,_0x4e5526)=>{const _0x3b8ef8=_0x3286,_0x59fdf6=_0x3ca52a['args'][_0x3b8ef8(0x141)],_0xe783b6=new Array(_0x59fdf6);for(let _0x358230=0x0;_0x358230<_0x59fdf6;++_0x358230){_0xe783b6[_0x358230]=compile(_0x3ca52a['args'][_0x358230],_0x4e5526,_0x39ce14);}return _0xe297b0(_0xe783b6,_0x39ce14);};}function _0x3286(_0x1a59bd,_0x113cc0){const _0x3533e7=_0x3533();return _0x3286=function(_0x3286cb,_0x59cddf){_0x3286cb=_0x3286cb-0xed;let _0x274343=_0x3533e7[_0x3286cb];return _0x274343;},_0x3286(_0x1a59bd,_0x113cc0);}const compilers={[Ops[_0x2d09dd(0x10c)]]:(_0x5653c4,_0x282249)=>{const _0x5e2938=_0x2d09dd,_0x525b62=_0x282249[_0x5e2938(0x12b)][0x0],_0x1b7a86=_0x525b62[_0x5e2938(0x15f)],_0x3d3f54=_0x1b7a86 in _0x5653c4[_0x5e2938(0x113)];!_0x3d3f54&&(_0x5653c4['properties'][_0x1b7a86]={'name':_0x1b7a86,'type':_0x282249[_0x5e2938(0x157)]});const _0x1ec275=_0x5653c4[_0x5e2938(0x106)]?'v_prop_':_0x5e2938(0x137);return _0x1ec275+_0x1b7a86;},[Ops[_0x2d09dd(0x142)]]:(_0x3edce8,_0x3fae1b,_0x435037)=>{const _0x16336b=_0x2d09dd,_0x4ed447='geometryType',_0x1fc10c=_0x4ed447 in _0x3edce8[_0x16336b(0x113)];!_0x1fc10c&&(_0x3edce8[_0x16336b(0x113)][_0x4ed447]={'name':_0x4ed447,'type':StringType,'evaluator':_0x150069=>{const _0x29df68=_0x16336b;return computeGeometryType(_0x150069[_0x29df68(0x12c)]());}});const _0x468722=_0x3edce8['inFragmentShader']?_0x16336b(0x15a):_0x16336b(0x137);return _0x468722+_0x4ed447;},[Ops[_0x2d09dd(0xf1)]]:()=>_0x2d09dd(0x15e),[Ops[_0x2d09dd(0xfb)]]:(_0x36af41,_0x44482c)=>{const _0x24d683=_0x44482c['args'][0x0],_0x25a5d7=_0x24d683['value'],_0x50b210=_0x25a5d7 in _0x36af41['variables'];return!_0x50b210&&(_0x36af41['variables'][_0x25a5d7]={'name':_0x25a5d7,'type':_0x44482c['type']}),uniformNameForVariable(_0x25a5d7);},[Ops[_0x2d09dd(0x150)]]:()=>_0x2d09dd(0x103),[Ops[_0x2d09dd(0x10d)]]:()=>_0x2d09dd(0x11f),[Ops[_0x2d09dd(0x12d)]]:()=>_0x2d09dd(0x146),[Ops[_0x2d09dd(0x14c)]]:createCompiler(_0xcb04f=>'('+_0xcb04f[_0x2d09dd(0x148)](_0x2d09dd(0x108))+')'),[Ops[_0x2d09dd(0x145)]]:createCompiler(_0x2e4136=>'('+_0x2e4136[_0x2d09dd(0x148)]('\x20&&\x20')+')'),[Ops[_0x2d09dd(0x149)]]:createCompiler(([_0x1823db])=>'(!'+_0x1823db+')'),[Ops[_0x2d09dd(0x10f)]]:createCompiler(([_0x824423,_0x4db6fa])=>'('+_0x824423+_0x2d09dd(0x154)+_0x4db6fa+')'),[Ops['NotEqual']]:createCompiler(([_0x33456d,_0x2c55fe])=>'('+_0x33456d+_0x2d09dd(0x153)+_0x2c55fe+')'),[Ops[_0x2d09dd(0xfd)]]:createCompiler(([_0x52fe59,_0x2be379])=>'('+_0x52fe59+'\x20>\x20'+_0x2be379+')'),[Ops[_0x2d09dd(0x140)]]:createCompiler(([_0x200784,_0x469685])=>'('+_0x200784+_0x2d09dd(0x111)+_0x469685+')'),[Ops[_0x2d09dd(0x119)]]:createCompiler(([_0xb87168,_0x4fe490])=>'('+_0xb87168+_0x2d09dd(0x105)+_0x4fe490+')'),[Ops[_0x2d09dd(0x114)]]:createCompiler(([_0x2f6be4,_0x35ae28])=>'('+_0x2f6be4+_0x2d09dd(0x125)+_0x35ae28+')'),[Ops[_0x2d09dd(0x15d)]]:createCompiler(_0x9f0a26=>'('+_0x9f0a26[_0x2d09dd(0x148)]('\x20*\x20')+')'),[Ops[_0x2d09dd(0x151)]]:createCompiler(([_0x24758c,_0x49d1d6])=>'('+_0x24758c+'\x20/\x20'+_0x49d1d6+')'),[Ops[_0x2d09dd(0x11b)]]:createCompiler(_0x38ac5b=>'('+_0x38ac5b[_0x2d09dd(0x148)](_0x2d09dd(0x14a))+')'),[Ops[_0x2d09dd(0x13a)]]:createCompiler(([_0x4891fa,_0x30d8bd])=>'('+_0x4891fa+_0x2d09dd(0x132)+_0x30d8bd+')'),[Ops[_0x2d09dd(0x117)]]:createCompiler(([_0x186968,_0x48c3be,_0x345cc2])=>_0x2d09dd(0x124)+_0x186968+',\x20'+_0x48c3be+',\x20'+_0x345cc2+')'),[Ops[_0x2d09dd(0x11e)]]:createCompiler(([_0x1386e3,_0xde7d5f])=>_0x2d09dd(0x128)+_0x1386e3+',\x20'+_0xde7d5f+')'),[Ops[_0x2d09dd(0xf4)]]:createCompiler(([_0x1ea798,_0x8638bb])=>_0x2d09dd(0x123)+_0x1ea798+',\x20'+_0x8638bb+')'),[Ops['Abs']]:createCompiler(([_0x3ff7b5])=>_0x2d09dd(0x152)+_0x3ff7b5+')'),[Ops[_0x2d09dd(0x15b)]]:createCompiler(([_0x42a316])=>_0x2d09dd(0x131)+_0x42a316+')'),[Ops['Ceil']]:createCompiler(([_0x55851d])=>_0x2d09dd(0x161)+_0x55851d+')'),[Ops[_0x2d09dd(0x138)]]:createCompiler(([_0x49c4ec])=>_0x2d09dd(0x131)+_0x49c4ec+'\x20+\x200.5)'),[Ops['Sin']]:createCompiler(([_0x46dee3])=>_0x2d09dd(0x100)+_0x46dee3+')'),[Ops[_0x2d09dd(0x109)]]:createCompiler(([_0x30206c])=>_0x2d09dd(0xee)+_0x30206c+')'),[Ops[_0x2d09dd(0x110)]]:createCompiler(([_0x3bc933,_0x927361])=>{const _0x14d694=_0x2d09dd;return _0x927361!==undefined?_0x14d694(0xf5)+_0x3bc933+',\x20'+_0x927361+')':_0x14d694(0xf5)+_0x3bc933+')';}),[Ops[_0x2d09dd(0x10b)]]:createCompiler(([_0x1c1ed3])=>'sqrt('+_0x1c1ed3+')'),[Ops[_0x2d09dd(0x143)]]:createCompiler(_0x101f19=>{const _0x18f3a3=_0x2d09dd,_0x40b306=_0x101f19[0x0],_0x398752=_0x101f19[_0x101f19['length']-0x1];let _0x178675=null;for(let _0x5e6019=_0x101f19[_0x18f3a3(0x141)]-0x3;_0x5e6019>=0x1;_0x5e6019-=0x2){const _0x5f42eb=_0x101f19[_0x5e6019],_0x3233d7=_0x101f19[_0x5e6019+0x1];_0x178675='('+_0x40b306+'\x20==\x20'+_0x5f42eb+'\x20?\x20'+_0x3233d7+'\x20:\x20'+(_0x178675||_0x398752)+')';}return _0x178675;}),[Ops[_0x2d09dd(0xf7)]]:createCompiler(([_0x1fd13e,_0x1a2718,_0x31fade])=>'('+_0x1fd13e+_0x2d09dd(0x111)+_0x1a2718+'\x20&&\x20'+_0x1fd13e+_0x2d09dd(0x125)+_0x31fade+')'),[Ops[_0x2d09dd(0x13d)]]:createCompiler(([_0x58d918,_0x500af7,..._0x24d511])=>{const _0x538caa=_0x2d09dd;let _0x3e5e12='';for(let _0x3b5fa9=0x0;_0x3b5fa9<_0x24d511[_0x538caa(0x141)]-0x2;_0x3b5fa9+=0x2){const _0x394e7e=_0x24d511[_0x3b5fa9],_0x13a815=_0x3e5e12||_0x24d511[_0x3b5fa9+0x1],_0x10c8c8=_0x24d511[_0x3b5fa9+0x2],_0xe21f9=_0x24d511[_0x3b5fa9+0x3];let _0x340b12;_0x58d918===numberToGlsl(0x1)?_0x340b12='('+_0x500af7+_0x538caa(0x132)+_0x394e7e+_0x538caa(0xfe)+_0x10c8c8+_0x538caa(0x132)+_0x394e7e+')':_0x340b12=_0x538caa(0xfa)+_0x58d918+_0x538caa(0xf3)+_0x500af7+_0x538caa(0x132)+_0x394e7e+_0x538caa(0x159)+_0x58d918+_0x538caa(0xf3)+_0x10c8c8+'\x20-\x20'+_0x394e7e+_0x538caa(0x147),_0x3e5e12=_0x538caa(0x107)+_0x13a815+',\x20'+_0xe21f9+_0x538caa(0xef)+_0x340b12+',\x200.0,\x201.0))';}return _0x3e5e12;}),[Ops[_0x2d09dd(0x14d)]]:createCompiler(_0x1c48c2=>{const _0x58b913=_0x2d09dd,_0x15ae3d=_0x1c48c2[_0x1c48c2['length']-0x1];let _0x3f78cb=null;for(let _0x1b1057=_0x1c48c2[_0x58b913(0x141)]-0x3;_0x1b1057>=0x0;_0x1b1057-=0x2){const _0x1d4703=_0x1c48c2[_0x1b1057],_0x5cf09d=_0x1c48c2[_0x1b1057+0x1];_0x3f78cb='('+_0x1d4703+'\x20?\x20'+_0x5cf09d+_0x58b913(0x134)+(_0x3f78cb||_0x15ae3d)+')';}return _0x3f78cb;}),[Ops['In']]:createCompiler(([_0x2a0f84,..._0x2adf82],_0x4bc597)=>{const _0x4e260e=_0x2d09dd,_0x560949=computeOperatorFunctionName('in',_0x4bc597),_0x24ec2b=[];for(let _0x198752=0x0;_0x198752<_0x2adf82[_0x4e260e(0x141)];_0x198752+=0x1){_0x24ec2b[_0x4e260e(0x120)](_0x4e260e(0xf8)+_0x2adf82[_0x198752]+_0x4e260e(0x11c));}return _0x4bc597[_0x4e260e(0x115)][_0x560949]=_0x4e260e(0x14f)+_0x560949+'(float\x20inputValue)\x20{\x0a'+_0x24ec2b[_0x4e260e(0x148)]('\x0a')+'\x0a\x20\x20return\x20false;\x0a}',_0x560949+'('+_0x2a0f84+')';}),[Ops[_0x2d09dd(0x156)]]:createCompiler(_0x1898e4=>_0x2d09dd(0x136)+_0x1898e4[_0x2d09dd(0x141)]+'('+_0x1898e4[_0x2d09dd(0x148)](',\x20')+')'),[Ops['Color']]:createCompiler(_0x271ba0=>{const _0x33cd86=_0x2d09dd;if(_0x271ba0[_0x33cd86(0x141)]===0x1)return _0x33cd86(0x13f)+_0x271ba0[0x0]+_0x33cd86(0x130);if(_0x271ba0['length']===0x2)return _0x33cd86(0x13f)+_0x271ba0[0x0]+_0x33cd86(0x14b)+_0x271ba0[0x1]+')';const _0x2a0835=_0x271ba0[_0x33cd86(0x126)](0x0,0x3)[_0x33cd86(0xf2)](_0x6207b5=>_0x6207b5+_0x33cd86(0x101));if(_0x271ba0[_0x33cd86(0x141)]===0x3)return'vec4('+_0x2a0835['join'](',\x20')+_0x33cd86(0x13c);const _0x538360=_0x271ba0[0x3];return _0x33cd86(0x121)+_0x2a0835[_0x33cd86(0x148)](',\x20')+',\x20'+_0x538360+')';}),[Ops['Band']]:createCompiler(([_0x4aef4b,_0x215ebd,_0x4f0ef2],_0x4a39c0)=>{const _0x101f85=_0x2d09dd;if(!(GET_BAND_VALUE_FUNC in _0x4a39c0[_0x101f85(0x115)])){let _0x481d3a='';const _0x4d89c0=_0x4a39c0[_0x101f85(0xff)]||0x1;for(let _0xfd0bd3=0x0;_0xfd0bd3<_0x4d89c0;_0xfd0bd3++){const _0x26e1fc=Math[_0x101f85(0x14e)](_0xfd0bd3/0x4);let _0x460ad4=_0xfd0bd3%0x4;_0xfd0bd3===_0x4d89c0-0x1&&_0x460ad4===0x1&&(_0x460ad4=0x3);const _0x256e5e=Uniforms['TILE_TEXTURE_ARRAY']+'['+_0x26e1fc+']';_0x481d3a+='\x20\x20if\x20(band\x20==\x20'+(_0xfd0bd3+0x1)+'.0)\x20{\x0a\x20\x20\x20\x20return\x20texture2D('+_0x256e5e+_0x101f85(0x127)+_0x460ad4+_0x101f85(0x139);}_0x4a39c0[_0x101f85(0x115)][GET_BAND_VALUE_FUNC]='float\x20getBandValue(float\x20band,\x20float\x20xOffset,\x20float\x20yOffset)\x20{\x0a\x20\x20float\x20dx\x20=\x20xOffset\x20/\x20'+Uniforms[_0x101f85(0x116)]+';\x0a\x20\x20float\x20dy\x20=\x20yOffset\x20/\x20'+Uniforms[_0x101f85(0x135)]+';\x0a'+_0x481d3a+'\x0a}';}return GET_BAND_VALUE_FUNC+'('+_0x4aef4b+',\x20'+(_0x215ebd??'0.0')+',\x20'+(_0x4f0ef2??_0x101f85(0x122))+')';}),[Ops[_0x2d09dd(0x11a)]]:(_0x27e352,_0x4bf410)=>{const _0x565554=_0x2d09dd,[_0x2bb908,..._0x56085d]=_0x4bf410['args'],_0x1ca4c0=_0x56085d[_0x565554(0x141)],_0x6ae233=new Uint8Array(_0x1ca4c0*0x4);for(let _0x1ca692=0x0;_0x1ca692<_0x56085d[_0x565554(0x141)];_0x1ca692++){const _0x192700=_0x56085d[_0x1ca692][_0x565554(0x15f)],_0x2bf3bc=asArray(_0x192700),_0x3ad51e=_0x1ca692*0x4;_0x6ae233[_0x3ad51e]=_0x2bf3bc[0x0],_0x6ae233[_0x3ad51e+0x1]=_0x2bf3bc[0x1],_0x6ae233[_0x3ad51e+0x2]=_0x2bf3bc[0x2],_0x6ae233[_0x3ad51e+0x3]=_0x2bf3bc[0x3]*0xff;}!_0x27e352[_0x565554(0xf6)]&&(_0x27e352[_0x565554(0xf6)]=[]);const _0x29c3b8=PALETTE_TEXTURE_ARRAY+'['+_0x27e352[_0x565554(0xf6)][_0x565554(0x141)]+']',_0x3d7e7a=new _0x736d60(_0x29c3b8,_0x6ae233);_0x27e352[_0x565554(0xf6)][_0x565554(0x120)](_0x3d7e7a);const _0x2bfaa3=compile(_0x2bb908,NumberType,_0x27e352);return'texture2D('+_0x29c3b8+_0x565554(0x102)+_0x2bfaa3+_0x565554(0x12f)+_0x1ca4c0+'.0,\x200.5))';}};function compile(_0x559809,_0x46f538,_0x11946c){const _0x257d7b=_0x2d09dd;if(_0x559809 instanceof CallExpression){const _0x4018d5=compilers[_0x559809['operator']];if(_0x4018d5===undefined)throw new Error(_0x257d7b(0x13e)+JSON[_0x257d7b(0x118)](_0x559809[_0x257d7b(0x10e)]));return _0x4018d5(_0x11946c,_0x559809,_0x46f538);}if((_0x559809[_0x257d7b(0x157)]&NumberType)>0x0)return numberToGlsl(_0x559809[_0x257d7b(0x15f)]);if((_0x559809[_0x257d7b(0x157)]&BooleanType)>0x0)return _0x559809[_0x257d7b(0x15f)][_0x257d7b(0x160)]();if((_0x559809[_0x257d7b(0x157)]&StringType)>0x0)return stringToGlsl(_0x559809[_0x257d7b(0x15f)][_0x257d7b(0x160)]());if((_0x559809['type']&ColorType)>0x0)return colorToGlsl(_0x559809[_0x257d7b(0x15f)]);if((_0x559809['type']&NumberArrayType)>0x0)return arrayToGlsl(_0x559809[_0x257d7b(0x15f)]);if((_0x559809['type']&SizeType)>0x0)return sizeToGlsl(_0x559809[_0x257d7b(0x15f)]);throw new Error(_0x257d7b(0x158)+_0x559809['value']+_0x257d7b(0x12a)+typeName(_0x46f538)+')');}