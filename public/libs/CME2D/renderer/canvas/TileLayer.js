const _0x2fab2b=_0x30d2;(function(_0x4286b3,_0x3fbb58){const _0x969a38=_0x30d2,_0x361606=_0x4286b3();while(!![]){try{const _0x583666=-parseInt(_0x969a38(0xc5))/0x1*(-parseInt(_0x969a38(0xe8))/0x2)+parseInt(_0x969a38(0xc6))/0x3*(parseInt(_0x969a38(0xb8))/0x4)+-parseInt(_0x969a38(0xcb))/0x5+parseInt(_0x969a38(0xd3))/0x6+parseInt(_0x969a38(0xb2))/0x7+parseInt(_0x969a38(0x99))/0x8*(parseInt(_0x969a38(0xa6))/0x9)+parseInt(_0x969a38(0x9f))/0xa*(-parseInt(_0x969a38(0xf7))/0xb);if(_0x583666===_0x3fbb58)break;else _0x361606['push'](_0x361606['shift']());}catch(_0x97b677){_0x361606['push'](_0x361606['shift']());}}}(_0x400e,0xade97));function _0x30d2(_0x4ea529,_0x16652d){const _0x400e60=_0x400e();return _0x30d2=function(_0x30d2af,_0x52800e){_0x30d2af=_0x30d2af-0x81;let _0x579964=_0x400e60[_0x30d2af];return _0x579964;},_0x30d2(_0x4ea529,_0x16652d);}import _0x283b5d from'./Layer.js';import _0x50b21e,{asImageLike}from'../../DataTile.js';import _0x305752 from'../../ImageTile.js';import _0x3eae31 from'../../structs/LRUCache.js';import _0x1c1b6e from'../../reproj/DataTile.js';import _0x7fa5f6 from'../../reproj/Tile.js';import _0x2fc2e9 from'../../TileRange.js';import _0x26cf5e from'../../TileState.js';import{apply as _0x441ee2,compose as _0x2664fc}from'../../transform.js';import{ascending}from'../../array.js';import{containsCoordinate,createEmpty,equals,getIntersection,getTopLeft,intersects}from'../../extent.js';import{createOrUpdate as _0xf29141,getKeyZXY}from'../../tilecoord.js';import{fromUserExtent}from'../../proj.js';import{getUid}from'../../util.js';import{toSize}from'../../size.js';function getCacheKey(_0xc68556,_0x46746a,_0x3a4723,_0x1bb938){return _0xc68556+','+getKeyZXY(_0x46746a,_0x3a4723,_0x1bb938);}function addTileToLookup(_0x1f8cda,_0x4a4387,_0x42dd04){const _0x5314ef=_0x30d2;if(!(_0x42dd04 in _0x1f8cda))return _0x1f8cda[_0x42dd04]=new Set([_0x4a4387]),!![];const _0x4e2429=_0x1f8cda[_0x42dd04],_0xa81e42=_0x4e2429[_0x5314ef(0xb0)](_0x4a4387);return!_0xa81e42&&_0x4e2429[_0x5314ef(0xc1)](_0x4a4387),!_0xa81e42;}function _0x400e(){const _0x4894f0=['getTilePixelRatio','sort','renderedRevision','maxStaleKeys','getTile','enqueue','getWrapX','IDLE','16bjKaWn','slice','beginPath','delete','nextExtent','imageSmoothingEnabled','13101840wgPoLL','getTileCache','lineTo','getRenderSource','usedTiles','renderedProjection','tileQueue','3295143GWGOmO','getSource','minY','length','endTransition','getTileSize','getLayer','getMinZoom','renderComplete','getTileGridForProjection','has','tempTileRange_','4101972Qmtdoe','getMapInternal','height','opacity','set','nextResolution','412wShcjT','getGutterForProjection','context','getOrCreateTile','max','globalAlpha','getTilePixelSize','keys','cacheSize','add','floor','getAlpha','zDirection','6nnlOSZ','3807fzWKUL','extent','getTileCoordForCoordAndZ','maxY','LOADED','947325HbXdVv','updateUsedTiles','getImageData','minX','resolution','width','renderedExtent_','highWaterMark','7304490YcaSaN','getTileImage','time','enqueueTiles','getInterpolate','getResolution','Rendering\x20array\x20data\x20is\x20not\x20yet\x20supported','viewState','getZForResolution','findAltTiles_','renderedResolution','tileCache_','get','getState','clip','clipUnrotated','getPreload','push','tempTileCoord_','drawTile','getStaleKeys','285268dtpxZd','renderedPixelRatio','prepareContainer','getOrigin','prependStaleKey','getKey','tempTransform','renderedSourceKey_','layerStatesArray','moveTo','renderedRevision_','getResolutionForZoom','frameState','isKeyQueued','getData','22LzrlqD','getRevision','tileCoord','layerIndex','clear','getTileRangeForTileCoordAndZ','preRender','projection','center','pixelToCoordinateTransform','pixelRatio','drawImage','containsKey','animate','wantedTiles','renderedTiles','renderFrame','container','getImage','extentChanged','renderedSourceRevision_','round','save','canvas','restore'];_0x400e=function(){return _0x4894f0;};return _0x400e();}function removeTileFromLookup(_0x6ca7b9,_0x1a0569,_0xdbe2f){const _0x23cc8e=_0x30d2,_0x1d73de=_0x6ca7b9[_0xdbe2f];if(_0x1d73de)return _0x1d73de[_0x23cc8e(0x9c)](_0x1a0569);return![];}function getRenderExtent(_0x4d7a60,_0x12ba71){const _0x10dfd5=_0x30d2,_0x569c2d=_0x4d7a60[_0x10dfd5(0xf0)][_0x4d7a60[_0x10dfd5(0xfa)]];_0x569c2d['extent']&&(_0x12ba71=getIntersection(_0x12ba71,fromUserExtent(_0x569c2d[_0x10dfd5(0xc7)],_0x4d7a60[_0x10dfd5(0xda)][_0x10dfd5(0xfe)])));const _0x34c7da=_0x569c2d['layer'][_0x10dfd5(0xa2)]();if(!_0x34c7da[_0x10dfd5(0x97)]()){const _0x3b5c15=_0x34c7da[_0x10dfd5(0xaf)](_0x4d7a60[_0x10dfd5(0xda)][_0x10dfd5(0xfe)])['getExtent']();_0x3b5c15&&(_0x12ba71=getIntersection(_0x12ba71,_0x3b5c15));}return _0x12ba71;}class CanvasTileLayerRenderer extends _0x283b5d{constructor(_0x1c0ede,_0x5cb829){const _0x3b7595=_0x30d2;super(_0x1c0ede),_0x5cb829=_0x5cb829||{},this[_0x3b7595(0x8b)]=!![],this[_0x3b7595(0xae)]=![],this['renderedExtent_']=null,this[_0x3b7595(0xe9)],this[_0x3b7595(0xa4)]=null,this[_0x3b7595(0x93)],this[_0x3b7595(0x87)]=[],this[_0x3b7595(0xef)],this[_0x3b7595(0x8c)],this['tempExtent']=createEmpty(),this[_0x3b7595(0xb1)]=new _0x2fc2e9(0x0,0x0,0x0,0x0),this['tempTileCoord_']=_0xf29141(0x0,0x0,0x0);const _0x104e1d=_0x5cb829[_0x3b7595(0xc0)]!==undefined?_0x5cb829['cacheSize']:0x200;this[_0x3b7595(0xde)]=new _0x3eae31(_0x104e1d),this[_0x3b7595(0x94)]=_0x104e1d*0.5;}[_0x2fab2b(0xa0)](){const _0x4acb0c=_0x2fab2b;return this[_0x4acb0c(0xde)];}['getOrCreateTile'](_0x1309cb,_0x417827,_0x1ff31d,_0x5403f0){const _0x936125=_0x2fab2b,_0x43d9a7=this[_0x936125(0xde)],_0x41f116=this[_0x936125(0xac)](),_0x465c11=_0x41f116[_0x936125(0xa7)](),_0x30584c=getCacheKey(_0x465c11[_0x936125(0xed)](),_0x1309cb,_0x417827,_0x1ff31d);let _0x4c85d7;if(_0x43d9a7[_0x936125(0x84)](_0x30584c))_0x4c85d7=_0x43d9a7[_0x936125(0xdf)](_0x30584c);else{_0x4c85d7=_0x465c11['getTile'](_0x1309cb,_0x417827,_0x1ff31d,_0x5403f0['pixelRatio'],_0x5403f0[_0x936125(0xda)]['projection']);if(!_0x4c85d7)return null;_0x43d9a7[_0x936125(0xb6)](_0x30584c,_0x4c85d7);}return _0x4c85d7;}['getTile'](_0x27656f,_0x1e74a7,_0x145d68,_0x152b6b){const _0x1291bd=_0x2fab2b,_0x2c0d79=this[_0x1291bd(0xbb)](_0x27656f,_0x1e74a7,_0x145d68,_0x152b6b);if(!_0x2c0d79)return null;return _0x2c0d79;}[_0x2fab2b(0xf6)](_0x5f34ee){const _0x4522bd=_0x2fab2b,_0x25913a=this[_0x4522bd(0xf4)];if(!_0x25913a)return null;const _0x25535b=this[_0x4522bd(0xac)](),_0x4ebfda=_0x441ee2(_0x25913a[_0x4522bd(0x81)],_0x5f34ee[_0x4522bd(0x9a)]()),_0x95b9c4=_0x25535b['getExtent']();if(_0x95b9c4){if(!containsCoordinate(_0x95b9c4,_0x4ebfda))return null;}const _0x34ac2a=_0x25913a[_0x4522bd(0xda)],_0x341aaf=_0x25535b['getRenderSource'](),_0x539af0=_0x341aaf[_0x4522bd(0xaf)](_0x34ac2a['projection']),_0x3ed8a7=_0x341aaf[_0x4522bd(0x91)](_0x25913a[_0x4522bd(0x82)]);for(let _0x549268=_0x539af0[_0x4522bd(0xdb)](_0x34ac2a[_0x4522bd(0xcf)]);_0x549268>=_0x539af0[_0x4522bd(0xad)]();--_0x549268){const _0x1b971b=_0x539af0[_0x4522bd(0xc8)](_0x4ebfda,_0x549268),_0x133b95=this[_0x4522bd(0x95)](_0x549268,_0x1b971b[0x1],_0x1b971b[0x2],_0x25913a);if(!_0x133b95||_0x133b95['getState']()!==_0x26cf5e[_0x4522bd(0xca)])continue;const _0x4701e1=_0x539af0[_0x4522bd(0xeb)](_0x549268),_0x104611=toSize(_0x539af0[_0x4522bd(0xab)](_0x549268)),_0x8524e0=_0x539af0[_0x4522bd(0xd8)](_0x549268);let _0x53b94a;if(_0x133b95 instanceof _0x305752)_0x53b94a=_0x133b95[_0x4522bd(0x8a)]();else{if(_0x133b95 instanceof _0x50b21e){_0x53b94a=asImageLike(_0x133b95['getData']());if(!_0x53b94a)continue;}else continue;}const _0x3e223f=Math[_0x4522bd(0xc2)](_0x3ed8a7*((_0x4ebfda[0x0]-_0x4701e1[0x0])/_0x8524e0-_0x1b971b[0x1]*_0x104611[0x0])),_0x4d1f12=Math[_0x4522bd(0xc2)](_0x3ed8a7*((_0x4701e1[0x1]-_0x4ebfda[0x1])/_0x8524e0-_0x1b971b[0x2]*_0x104611[0x1])),_0x19eded=Math[_0x4522bd(0x8d)](_0x3ed8a7*_0x341aaf[_0x4522bd(0xb9)](_0x34ac2a['projection']));return this[_0x4522bd(0xcd)](_0x53b94a,_0x3e223f+_0x19eded,_0x4d1f12+_0x19eded);}return null;}['prepareFrame'](_0x5aafdc){const _0x201c0d=_0x2fab2b,_0x2c9a13=this[_0x201c0d(0xac)]()[_0x201c0d(0xa7)]();if(!_0x2c9a13)return![];const _0x52d00b=_0x2c9a13[_0x201c0d(0xf8)]();if(!this[_0x201c0d(0xf2)])this['renderedRevision_']=_0x52d00b;else this[_0x201c0d(0xf2)]!==_0x52d00b&&(this['renderedRevision_']=_0x52d00b,this[_0x201c0d(0xef)]===_0x2c9a13['getKey']()&&this[_0x201c0d(0xde)][_0x201c0d(0xfb)]());return!![];}[_0x2fab2b(0xd6)](_0x1668b0,_0x54dca6,_0x48ac6c,_0x23db3f,_0x4ef31b){const _0x44b4f9=_0x2fab2b,_0x562df2=_0x1668b0[_0x44b4f9(0xda)],_0x375b2b=this[_0x44b4f9(0xac)](),_0x3c6bff=_0x375b2b[_0x44b4f9(0xa2)](),_0xd29445=_0x3c6bff['getTileGridForProjection'](_0x562df2['projection']),_0x2633a2=getUid(_0x3c6bff);!(_0x2633a2 in _0x1668b0['wantedTiles'])&&(_0x1668b0[_0x44b4f9(0x86)][_0x2633a2]={});const _0x3a2106=_0x1668b0[_0x44b4f9(0x86)][_0x2633a2],_0x4a94be=_0x375b2b[_0x44b4f9(0xb3)](),_0xddd018=Math[_0x44b4f9(0xbc)](_0x48ac6c-_0x4ef31b,_0xd29445[_0x44b4f9(0xad)](),_0xd29445['getZForResolution'](Math['min'](_0x375b2b['getMaxResolution'](),_0x4a94be?_0x4a94be['getView']()[_0x44b4f9(0xf3)](Math[_0x44b4f9(0xbc)](_0x375b2b['getMinZoom'](),0x0)):_0xd29445[_0x44b4f9(0xd8)](0x0)),_0x3c6bff[_0x44b4f9(0xc4)]));for(let _0x231ea2=_0x48ac6c;_0x231ea2>=_0xddd018;--_0x231ea2){const _0x4f6e4f=_0xd29445['getTileRangeForExtentAndZ'](_0x54dca6,_0x231ea2,this[_0x44b4f9(0xb1)]),_0x797077=_0xd29445[_0x44b4f9(0xd8)](_0x231ea2);for(let _0x13f09b=_0x4f6e4f[_0x44b4f9(0xce)];_0x13f09b<=_0x4f6e4f['maxX'];++_0x13f09b){for(let _0xde4d59=_0x4f6e4f[_0x44b4f9(0xa8)];_0xde4d59<=_0x4f6e4f[_0x44b4f9(0xc9)];++_0xde4d59){const _0x2bcfe6=this[_0x44b4f9(0x95)](_0x231ea2,_0x13f09b,_0xde4d59,_0x1668b0);if(!_0x2bcfe6)continue;const _0x560461=addTileToLookup(_0x23db3f,_0x2bcfe6,_0x231ea2);if(!_0x560461)continue;const _0x58d410=_0x2bcfe6[_0x44b4f9(0xed)]();_0x3a2106[_0x58d410]=!![];if(_0x2bcfe6[_0x44b4f9(0xe0)]()===_0x26cf5e[_0x44b4f9(0x98)]){if(!_0x1668b0[_0x44b4f9(0xa5)][_0x44b4f9(0xf5)](_0x58d410)){const _0xb570fe=_0xf29141(_0x231ea2,_0x13f09b,_0xde4d59,this[_0x44b4f9(0xe5)]);_0x1668b0[_0x44b4f9(0xa5)][_0x44b4f9(0x96)]([_0x2bcfe6,_0x2633a2,_0xd29445['getTileCoordCenter'](_0xb570fe),_0x797077]);}}}}}}['findStaleTile_'](_0x2c494b,_0x411ec8){const _0x3586ed=_0x2fab2b,_0x9ae0db=this[_0x3586ed(0xde)],_0x36cba9=_0x2c494b[0x0],_0xb513e3=_0x2c494b[0x1],_0x210d5f=_0x2c494b[0x2],_0x1ce1fc=this[_0x3586ed(0xe7)]();for(let _0x165cba=0x0;_0x165cba<_0x1ce1fc[_0x3586ed(0xa9)];++_0x165cba){const _0x13075d=getCacheKey(_0x1ce1fc[_0x165cba],_0x36cba9,_0xb513e3,_0x210d5f);if(_0x9ae0db[_0x3586ed(0x84)](_0x13075d)){const _0x2a8c9b=_0x9ae0db[_0x3586ed(0xdf)](_0x13075d);if(_0x2a8c9b[_0x3586ed(0xe0)]()===_0x26cf5e[_0x3586ed(0xca)])return _0x2a8c9b[_0x3586ed(0xaa)](getUid(this)),addTileToLookup(_0x411ec8,_0x2a8c9b,_0x36cba9),!![];}}return![];}['findAltTiles_'](_0x443146,_0x26fbac,_0x52d529,_0x5a4abe){const _0x1d7cc2=_0x2fab2b,_0x28896b=_0x443146[_0x1d7cc2(0xfc)](_0x26fbac,_0x52d529,this[_0x1d7cc2(0xb1)]);if(!_0x28896b)return![];let _0x24ce81=!![];const _0x3a2aab=this['tileCache_'],_0x140b5e=this[_0x1d7cc2(0xac)]()[_0x1d7cc2(0xa2)](),_0x318294=_0x140b5e[_0x1d7cc2(0xed)]();for(let _0x17274b=_0x28896b[_0x1d7cc2(0xce)];_0x17274b<=_0x28896b['maxX'];++_0x17274b){for(let _0x20c175=_0x28896b[_0x1d7cc2(0xa8)];_0x20c175<=_0x28896b[_0x1d7cc2(0xc9)];++_0x20c175){const _0x3390b3=getCacheKey(_0x318294,_0x52d529,_0x17274b,_0x20c175);let _0x8f2f32=![];if(_0x3a2aab[_0x1d7cc2(0x84)](_0x3390b3)){const _0x28b9c0=_0x3a2aab['get'](_0x3390b3);_0x28b9c0[_0x1d7cc2(0xe0)]()===_0x26cf5e[_0x1d7cc2(0xca)]&&(addTileToLookup(_0x5a4abe,_0x28b9c0,_0x52d529),_0x8f2f32=!![]);}!_0x8f2f32&&(_0x24ce81=![]);}}return _0x24ce81;}[_0x2fab2b(0x88)](_0x1fee11,_0x39c560){const _0x1da01e=_0x2fab2b;this[_0x1da01e(0xae)]=!![];const _0x3df734=_0x1fee11[_0x1da01e(0xf0)][_0x1fee11[_0x1da01e(0xfa)]],_0x1b89ab=_0x1fee11[_0x1da01e(0xda)],_0x39aca1=_0x1b89ab[_0x1da01e(0xfe)],_0x17564a=_0x1b89ab[_0x1da01e(0xcf)],_0x3c6dc8=_0x1b89ab[_0x1da01e(0xff)],_0x239f30=_0x1fee11[_0x1da01e(0x82)],_0x49a674=this[_0x1da01e(0xac)](),_0x1ef933=_0x49a674[_0x1da01e(0xa7)](),_0xbc326b=_0x1ef933[_0x1da01e(0xf8)](),_0x385d2d=_0x1ef933[_0x1da01e(0xaf)](_0x39aca1),_0x39b396=_0x385d2d[_0x1da01e(0xdb)](_0x17564a,_0x1ef933[_0x1da01e(0xc4)]),_0x43a0a2=_0x385d2d[_0x1da01e(0xd8)](_0x39b396),_0x5c35c1=_0x1ef933[_0x1da01e(0xed)]();if(!this['renderedSourceKey_'])this[_0x1da01e(0xef)]=_0x5c35c1;else this[_0x1da01e(0xef)]!==_0x5c35c1&&(this[_0x1da01e(0xec)](this[_0x1da01e(0xef)]),this['renderedSourceKey_']=_0x5c35c1);let _0x3d8623=_0x1fee11[_0x1da01e(0xc7)];const _0x29a4c3=_0x1ef933[_0x1da01e(0x91)](_0x239f30);this[_0x1da01e(0xea)](_0x1fee11,_0x39c560);const _0x3b189b=this[_0x1da01e(0xba)][_0x1da01e(0x8f)][_0x1da01e(0xd0)],_0x5b60f0=this[_0x1da01e(0xba)]['canvas']['height'],_0x45d39f=_0x3df734[_0x1da01e(0xc7)]&&fromUserExtent(_0x3df734[_0x1da01e(0xc7)],_0x39aca1);_0x45d39f&&(_0x3d8623=getIntersection(_0x3d8623,fromUserExtent(_0x3df734[_0x1da01e(0xc7)],_0x39aca1)));const _0x5fc60a=_0x43a0a2*_0x3b189b/0x2/_0x29a4c3,_0x57e96f=_0x43a0a2*_0x5b60f0/0x2/_0x29a4c3,_0x359785=[_0x3c6dc8[0x0]-_0x5fc60a,_0x3c6dc8[0x1]-_0x57e96f,_0x3c6dc8[0x0]+_0x5fc60a,_0x3c6dc8[0x1]+_0x57e96f],_0x123134={};this['renderedTiles']['length']=0x0;const _0x30c7ac=_0x49a674[_0x1da01e(0xe3)]();if(_0x1fee11[_0x1da01e(0x9d)]){const _0xf977d=_0x385d2d[_0x1da01e(0xdb)](_0x1b89ab[_0x1da01e(0xb7)],_0x1ef933[_0x1da01e(0xc4)]),_0x5ec5f9=getRenderExtent(_0x1fee11,_0x1fee11[_0x1da01e(0x9d)]);this['enqueueTiles'](_0x1fee11,_0x5ec5f9,_0xf977d,_0x123134,_0x30c7ac);}const _0x14cf26=getRenderExtent(_0x1fee11,_0x3d8623);this[_0x1da01e(0xd6)](_0x1fee11,_0x14cf26,_0x39b396,_0x123134,0x0);_0x30c7ac>0x0&&setTimeout(()=>{const _0x1f1939=_0x1da01e;this[_0x1f1939(0xd6)](_0x1fee11,_0x14cf26,_0x39b396-0x1,_0x123134,_0x30c7ac-0x1);},0x0);if(!(_0x39b396 in _0x123134))return this['container'];const _0x51055a=getUid(this),_0x4ac6c1=_0x1fee11[_0x1da01e(0xd5)];for(const _0x5411cf of _0x123134[_0x39b396]){const _0x276383=_0x5411cf[_0x1da01e(0xe0)]();if((_0x5411cf instanceof _0x7fa5f6||_0x5411cf instanceof _0x1c1b6e)&&_0x276383===_0x26cf5e['EMPTY'])continue;const _0x3659c3=_0x5411cf[_0x1da01e(0xf9)];if(_0x276383===_0x26cf5e[_0x1da01e(0xca)]){const _0x14c74a=_0x5411cf[_0x1da01e(0xc3)](_0x51055a,_0x4ac6c1);if(_0x14c74a===0x1){_0x5411cf['endTransition'](_0x51055a);continue;}}this[_0x1da01e(0xae)]=![];const _0x4638d5=this['findStaleTile_'](_0x3659c3,_0x123134);if(_0x4638d5){removeTileFromLookup(_0x123134,_0x5411cf,_0x39b396),_0x1fee11[_0x1da01e(0x85)]=!![];continue;}const _0xa20553=this[_0x1da01e(0xdc)](_0x385d2d,_0x3659c3,_0x39b396+0x1,_0x123134);if(_0xa20553)continue;const _0x2cad8c=_0x385d2d[_0x1da01e(0xad)]();for(let _0x1e6c9b=_0x39b396-0x1;_0x1e6c9b>=_0x2cad8c;--_0x1e6c9b){const _0x4630f6=this['findAltTiles_'](_0x385d2d,_0x3659c3,_0x1e6c9b,_0x123134);if(_0x4630f6)break;}}const _0x1a5f1e=_0x43a0a2/_0x17564a*_0x239f30/_0x29a4c3,_0x346d13=this['getRenderContext'](_0x1fee11);_0x2664fc(this['tempTransform'],_0x3b189b/0x2,_0x5b60f0/0x2,_0x1a5f1e,_0x1a5f1e,0x0,-_0x3b189b/0x2,-_0x5b60f0/0x2);_0x3df734[_0x1da01e(0xc7)]&&this[_0x1da01e(0xe2)](_0x346d13,_0x1fee11,_0x45d39f);!_0x1ef933[_0x1da01e(0xd7)]()&&(_0x346d13[_0x1da01e(0x9e)]=![]);this[_0x1da01e(0xfd)](_0x346d13,_0x1fee11);const _0x187118=Object[_0x1da01e(0xbf)](_0x123134)['map'](Number);_0x187118[_0x1da01e(0x92)](ascending);let _0x40acab;const _0x253847=[],_0x553934=[];for(let _0x52b46f=_0x187118[_0x1da01e(0xa9)]-0x1;_0x52b46f>=0x0;--_0x52b46f){const _0x315c18=_0x187118[_0x52b46f],_0x10e835=_0x1ef933[_0x1da01e(0xbe)](_0x315c18,_0x239f30,_0x39aca1),_0x5cf3e6=_0x385d2d[_0x1da01e(0xd8)](_0x315c18),_0x365433=_0x5cf3e6/_0x43a0a2,_0x32bace=_0x10e835[0x0]*_0x365433*_0x1a5f1e,_0x1331be=_0x10e835[0x1]*_0x365433*_0x1a5f1e,_0x2b5e8f=_0x385d2d['getTileCoordForCoordAndZ'](getTopLeft(_0x359785),_0x315c18),_0x3a6b76=_0x385d2d['getTileCoordExtent'](_0x2b5e8f),_0x1b854d=_0x441ee2(this[_0x1da01e(0xee)],[_0x29a4c3*(_0x3a6b76[0x0]-_0x359785[0x0])/_0x43a0a2,_0x29a4c3*(_0x359785[0x3]-_0x3a6b76[0x3])/_0x43a0a2]),_0x3e8cb2=_0x29a4c3*_0x1ef933[_0x1da01e(0xb9)](_0x39aca1);for(const _0x102fa4 of _0x123134[_0x315c18]){if(_0x102fa4['getState']()!==_0x26cf5e['LOADED'])continue;const _0x54acaf=_0x102fa4[_0x1da01e(0xf9)],_0x4de9ea=_0x2b5e8f[0x1]-_0x54acaf[0x1],_0x2283cf=Math[_0x1da01e(0x8d)](_0x1b854d[0x0]-(_0x4de9ea-0x1)*_0x32bace),_0x581493=_0x2b5e8f[0x2]-_0x54acaf[0x2],_0x28ea47=Math[_0x1da01e(0x8d)](_0x1b854d[0x1]-(_0x581493-0x1)*_0x1331be),_0x208f86=Math[_0x1da01e(0x8d)](_0x1b854d[0x0]-_0x4de9ea*_0x32bace),_0x93ee19=Math[_0x1da01e(0x8d)](_0x1b854d[0x1]-_0x581493*_0x1331be),_0x133b00=_0x2283cf-_0x208f86,_0x4671b8=_0x28ea47-_0x93ee19,_0x362f2b=_0x187118[_0x1da01e(0xa9)]===0x1;let _0x3bc1db=![];_0x40acab=[_0x208f86,_0x93ee19,_0x208f86+_0x133b00,_0x93ee19,_0x208f86+_0x133b00,_0x93ee19+_0x4671b8,_0x208f86,_0x93ee19+_0x4671b8];for(let _0x4840c6=0x0,_0x728ed4=_0x253847[_0x1da01e(0xa9)];_0x4840c6<_0x728ed4;++_0x4840c6){if(!_0x362f2b&&_0x315c18<_0x553934[_0x4840c6]){const _0x1f8c11=_0x253847[_0x4840c6];intersects([_0x208f86,_0x93ee19,_0x208f86+_0x133b00,_0x93ee19+_0x4671b8],[_0x1f8c11[0x0],_0x1f8c11[0x3],_0x1f8c11[0x4],_0x1f8c11[0x7]])&&(!_0x3bc1db&&(_0x346d13['save'](),_0x3bc1db=!![]),_0x346d13[_0x1da01e(0x9b)](),_0x346d13[_0x1da01e(0xf1)](_0x40acab[0x0],_0x40acab[0x1]),_0x346d13[_0x1da01e(0xa1)](_0x40acab[0x2],_0x40acab[0x3]),_0x346d13[_0x1da01e(0xa1)](_0x40acab[0x4],_0x40acab[0x5]),_0x346d13[_0x1da01e(0xa1)](_0x40acab[0x6],_0x40acab[0x7]),_0x346d13['moveTo'](_0x1f8c11[0x6],_0x1f8c11[0x7]),_0x346d13[_0x1da01e(0xa1)](_0x1f8c11[0x4],_0x1f8c11[0x5]),_0x346d13[_0x1da01e(0xa1)](_0x1f8c11[0x2],_0x1f8c11[0x3]),_0x346d13[_0x1da01e(0xa1)](_0x1f8c11[0x0],_0x1f8c11[0x1]),_0x346d13[_0x1da01e(0xe1)]());}}_0x253847['push'](_0x40acab),_0x553934[_0x1da01e(0xe4)](_0x315c18),this[_0x1da01e(0xe6)](_0x102fa4,_0x1fee11,_0x208f86,_0x93ee19,_0x133b00,_0x4671b8,_0x3e8cb2,_0x362f2b),_0x3bc1db&&_0x346d13[_0x1da01e(0x90)](),this['renderedTiles']['unshift'](_0x102fa4),this[_0x1da01e(0xcc)](_0x1fee11[_0x1da01e(0xa3)],_0x1ef933,_0x102fa4);}}this[_0x1da01e(0x93)]=_0xbc326b,this[_0x1da01e(0xdd)]=_0x43a0a2,this[_0x1da01e(0x8b)]=!this[_0x1da01e(0xd1)]||!equals(this[_0x1da01e(0xd1)],_0x359785),this['renderedExtent_']=_0x359785,this['renderedPixelRatio']=_0x239f30,this['renderedProjection']=_0x39aca1,this['postRender'](this[_0x1da01e(0xba)],_0x1fee11);_0x3df734[_0x1da01e(0xc7)]&&_0x346d13[_0x1da01e(0x90)]();_0x346d13['imageSmoothingEnabled']=!![];const _0x1d0d5f=(_0x38e756,_0x28a09a)=>{const _0x2d7716=_0x1da01e,_0xdea64d=getUid(_0x1ef933),_0x1b68af=_0x28a09a[_0x2d7716(0x86)][_0xdea64d],_0x5dc742=_0x1b68af?Object['keys'](_0x1b68af)['length']:0x0;this['updateCacheSize'](_0x5dc742),this['tileCache_']['expireCache']();};return _0x1fee11['postRenderFunctions'][_0x1da01e(0xe4)](_0x1d0d5f),this[_0x1da01e(0x89)];}['updateCacheSize'](_0x3e5d97){const _0x1e4214=_0x2fab2b;this[_0x1e4214(0xde)]['highWaterMark']=Math['max'](this[_0x1e4214(0xde)][_0x1e4214(0xd2)],_0x3e5d97*0x2);}[_0x2fab2b(0xe6)](_0x1a4771,_0x4ebd0a,_0x495689,_0x3249b9,_0x565e52,_0x5cd424,_0x374beb,_0x5e395c){const _0x184e2a=_0x2fab2b;let _0x734a76;if(_0x1a4771 instanceof _0x50b21e){_0x734a76=asImageLike(_0x1a4771['getData']());if(!_0x734a76)throw new Error(_0x184e2a(0xd9));}else _0x734a76=this[_0x184e2a(0xd4)](_0x1a4771);if(!_0x734a76)return;const _0x308063=this['getRenderContext'](_0x4ebd0a),_0x31b951=getUid(this),_0x18af0d=_0x4ebd0a[_0x184e2a(0xf0)][_0x4ebd0a[_0x184e2a(0xfa)]],_0x308de5=_0x18af0d[_0x184e2a(0xb5)]*(_0x5e395c?_0x1a4771[_0x184e2a(0xc3)](_0x31b951,_0x4ebd0a[_0x184e2a(0xd5)]):0x1),_0x2b2a53=_0x308de5!==_0x308063['globalAlpha'];_0x2b2a53&&(_0x308063[_0x184e2a(0x8e)](),_0x308063[_0x184e2a(0xbd)]=_0x308de5);_0x308063[_0x184e2a(0x83)](_0x734a76,_0x374beb,_0x374beb,_0x734a76[_0x184e2a(0xd0)]-0x2*_0x374beb,_0x734a76[_0x184e2a(0xb4)]-0x2*_0x374beb,_0x495689,_0x3249b9,_0x565e52,_0x5cd424);_0x2b2a53&&_0x308063['restore']();if(_0x308de5!==_0x18af0d[_0x184e2a(0xb5)])_0x4ebd0a[_0x184e2a(0x85)]=!![];else _0x5e395c&&_0x1a4771[_0x184e2a(0xaa)](_0x31b951);}[_0x2fab2b(0x8a)](){const _0x309a9a=_0x2fab2b,_0x4b628e=this[_0x309a9a(0xba)];return _0x4b628e?_0x4b628e[_0x309a9a(0x8f)]:null;}[_0x2fab2b(0xd4)](_0x51cdc0){const _0x2c515=_0x2fab2b;return _0x51cdc0[_0x2c515(0x8a)]();}[_0x2fab2b(0xcc)](_0x1bb770,_0x2a7c20,_0xbfdd3){const _0x14e252=_0x2fab2b,_0x15bfd5=getUid(_0x2a7c20);!(_0x15bfd5 in _0x1bb770)&&(_0x1bb770[_0x15bfd5]={}),_0x1bb770[_0x15bfd5][_0xbfdd3[_0x14e252(0xed)]()]=!![];}}export default CanvasTileLayerRenderer;