const _0x32975c=_0x55d2;(function(_0x57cb72,_0x3ea041){const _0x43cc4d=_0x55d2,_0x1fb0c2=_0x57cb72();while(!![]){try{const _0x42e097=-parseInt(_0x43cc4d(0xc9))/0x1+parseInt(_0x43cc4d(0xed))/0x2+parseInt(_0x43cc4d(0xd5))/0x3*(-parseInt(_0x43cc4d(0xc8))/0x4)+-parseInt(_0x43cc4d(0xdb))/0x5*(parseInt(_0x43cc4d(0xf1))/0x6)+-parseInt(_0x43cc4d(0xec))/0x7*(parseInt(_0x43cc4d(0xef))/0x8)+-parseInt(_0x43cc4d(0xe3))/0x9*(-parseInt(_0x43cc4d(0xf3))/0xa)+parseInt(_0x43cc4d(0xcc))/0xb*(parseInt(_0x43cc4d(0xda))/0xc);if(_0x42e097===_0x3ea041)break;else _0x1fb0c2['push'](_0x1fb0c2['shift']());}catch(_0x42b1cc){_0x1fb0c2['push'](_0x1fb0c2['shift']());}}}(_0x1500,0xec9aa));import _0x533a06 from'../layer/BaseVector.js';import _0x2f8bd3 from'./Map.js';import _0x507843 from'../ObjectEventType.js';import _0x2eacb5 from'../render/Event.js';import _0x5c0655 from'../render/EventType.js';import{CLASS_UNSELECTABLE}from'../css.js';function _0x1500(){const _0x32aca9=['children_','\x20ol-layers','absolute','bind','4Tsowlu','1166487krPjtF','width','insertBefore','18942CFEvUZ','createElement','100%','PROPERTYCHANGE','hasListener','getDeclutter','renderFrame','element_','renderDeclutter','3092217jHkTbn','style','dispatchRenderEvent','redrawText','push','8076hxbHvM','60PaKsCG','renderedVisible_','none','firstChild','scheduleExpireIconCache','calculateMatrices2D','viewState','getSourceState','9iacLBr','undefined','height','POSTCOMPOSE','ready','position','fontChangeListenerKey_','declutter','dispatchEvent','7805GgspBn','3537076jCVrIi','layer','2216CKPNKT','disposeInternal','531228NmKFDP','render','16102230wGZjIG','length','display','remove'];_0x1500=function(){return _0x32aca9;};return _0x1500();}import{checkedFonts}from'../render/canvas.js';import{inView}from'../layer/Layer.js';function _0x55d2(_0x15305b,_0xabed92){const _0x150093=_0x1500();return _0x55d2=function(_0x55d2eb,_0x4e2493){_0x55d2eb=_0x55d2eb-0xc8;let _0x374a6f=_0x150093[_0x55d2eb];return _0x374a6f;},_0x55d2(_0x15305b,_0xabed92);}import{listen,unlistenByKey}from'../events.js';import{replaceChildren}from'../dom.js';class CompositeMapRenderer extends _0x2f8bd3{constructor(_0x3ef264){const _0x497e3f=_0x55d2;super(_0x3ef264),this[_0x497e3f(0xe9)]=listen(checkedFonts,_0x507843[_0x497e3f(0xcf)],_0x3ef264[_0x497e3f(0xd8)][_0x497e3f(0xfa)](_0x3ef264)),this[_0x497e3f(0xd3)]=document[_0x497e3f(0xcd)]('div');const _0x42bc79=this[_0x497e3f(0xd3)][_0x497e3f(0xd6)];_0x42bc79[_0x497e3f(0xe8)]=_0x497e3f(0xf9),_0x42bc79[_0x497e3f(0xca)]=_0x497e3f(0xce),_0x42bc79[_0x497e3f(0xe5)]='100%',_0x42bc79['zIndex']='0',this[_0x497e3f(0xd3)]['className']=CLASS_UNSELECTABLE+_0x497e3f(0xf8);const _0x157c25=_0x3ef264['getViewport']();_0x157c25[_0x497e3f(0xcb)](this[_0x497e3f(0xd3)],_0x157c25[_0x497e3f(0xde)]||null),this['children_']=[],this[_0x497e3f(0xdc)]=!![];}[_0x32975c(0xd7)](_0x4e0be6,_0x143e4e){const _0x444d4c=_0x32975c,_0x4ac098=this['getMap']();if(_0x4ac098[_0x444d4c(0xd0)](_0x4e0be6)){const _0x3cfed9=new _0x2eacb5(_0x4e0be6,undefined,_0x143e4e);_0x4ac098[_0x444d4c(0xeb)](_0x3cfed9);}}[_0x32975c(0xf0)](){const _0x996d23=_0x32975c;unlistenByKey(this[_0x996d23(0xe9)]),this[_0x996d23(0xd3)][_0x996d23(0xf6)](),super[_0x996d23(0xf0)]();}[_0x32975c(0xd2)](_0x105c4a){const _0x12eb2a=_0x32975c;if(!_0x105c4a){this[_0x12eb2a(0xdc)]&&(this[_0x12eb2a(0xd3)]['style'][_0x12eb2a(0xf5)]=_0x12eb2a(0xdd),this[_0x12eb2a(0xdc)]=![]);return;}this[_0x12eb2a(0xe0)](_0x105c4a),this[_0x12eb2a(0xd7)](_0x5c0655['PRECOMPOSE'],_0x105c4a);const _0x2aa089=_0x105c4a['layerStatesArray']['sort']((_0x4036ff,_0x4178be)=>_0x4036ff['zIndex']-_0x4178be['zIndex']),_0x5bd50f=_0x2aa089['some'](_0x4ffc49=>_0x4ffc49['layer']instanceof _0x533a06&&_0x4ffc49[_0x12eb2a(0xee)]['getDeclutter']());_0x5bd50f&&(_0x105c4a['declutter']={});const _0x109c9c=_0x105c4a[_0x12eb2a(0xe1)];this[_0x12eb2a(0xf7)]['length']=0x0;const _0x41e2ca=[];let _0xfdb929=null;for(let _0x4b7093=0x0,_0x216833=_0x2aa089['length'];_0x4b7093<_0x216833;++_0x4b7093){const _0x2f3644=_0x2aa089[_0x4b7093];_0x105c4a['layerIndex']=_0x4b7093;const _0xe4cf32=_0x2f3644[_0x12eb2a(0xee)],_0x1e078b=_0xe4cf32[_0x12eb2a(0xe2)]();if(!inView(_0x2f3644,_0x109c9c)||_0x1e078b!=_0x12eb2a(0xe7)&&_0x1e078b!=_0x12eb2a(0xe4)){_0xe4cf32['unrender']();continue;}const _0x4a83a1=_0xe4cf32[_0x12eb2a(0xf2)](_0x105c4a,_0xfdb929);if(!_0x4a83a1)continue;_0x4a83a1!==_0xfdb929&&(this[_0x12eb2a(0xf7)][_0x12eb2a(0xd9)](_0x4a83a1),_0xfdb929=_0x4a83a1),_0x41e2ca[_0x12eb2a(0xd9)](_0x2f3644);}this[_0x12eb2a(0xea)](_0x105c4a,_0x41e2ca),replaceChildren(this[_0x12eb2a(0xd3)],this['children_']),this['dispatchRenderEvent'](_0x5c0655[_0x12eb2a(0xe6)],_0x105c4a),!this[_0x12eb2a(0xdc)]&&(this['element_']['style'][_0x12eb2a(0xf5)]='',this[_0x12eb2a(0xdc)]=!![]),this[_0x12eb2a(0xdf)](_0x105c4a);}[_0x32975c(0xea)](_0x147f17,_0x507f89){const _0x2e4937=_0x32975c;if(!_0x147f17[_0x2e4937(0xea)])return;for(let _0x37ffe1=_0x507f89[_0x2e4937(0xf4)]-0x1;_0x37ffe1>=0x0;--_0x37ffe1){const _0x5b252a=_0x507f89[_0x37ffe1],_0x4305ad=_0x5b252a['layer'];_0x4305ad[_0x2e4937(0xd1)]()&&_0x4305ad[_0x2e4937(0xd4)](_0x147f17,_0x5b252a);}_0x507f89['forEach'](_0xdae43f=>_0xdae43f[_0x2e4937(0xee)]['renderDeferred'](_0x147f17));}}export default CompositeMapRenderer;