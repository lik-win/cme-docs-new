const _0x60b881=_0x181e;function _0x9ee0(){const _0xf4038=['getExtentInternal','handlingDownUpSequence','createOrUpdateExtentFeature_','205160bFhyAB','condition','getPixelFromCoordinateInternal','sqrt','getCoordinateFromPixelInternal','getView','sort','getSource','snapToVertex_','88kmtOPj','handleDownEvent','once','setMap','pixelTolerance','extentchanged','addFeature','406940geDEZC','snappedToVertex_','setCoordinates','928350tujxQs','vertexFeature_','coordinate','getProjection','boxStyle','Point','getMap','Polygon','extentOverlay_','EXTENTCHANGED','266287XEgQHo','extentFeature_','370wPfqQD','type','wrapX','handlePointerMove_','createOrUpdatePointerFeature_','extent_','map','895gPIhfu','3628xZoafP','getGeometry','129861xBMYlv','vertexOverlay_','pointerHandler_','extent','dispatchEvent','handleUpEvent','handleEvent','pixel','condition_','pixelTolerance_','setExtent','10452wmZNzr'];_0x9ee0=function(){return _0xf4038;};return _0x9ee0();}(function(_0x2e990e,_0x853140){const _0x4c9787=_0x181e,_0x4567ae=_0x2e990e();while(!![]){try{const _0x4cf4f5=parseInt(_0x4c9787(0x1c0))/0x1+-parseInt(_0x4c9787(0x1d0))/0x2+parseInt(_0x4c9787(0x19b))/0x3+parseInt(_0x4c9787(0x1af))/0x4*(-parseInt(_0x4c9787(0x1ae))/0x5)+-parseInt(_0x4c9787(0x1bc))/0x6+-parseInt(_0x4c9787(0x1a5))/0x7*(parseInt(_0x4c9787(0x1c9))/0x8)+parseInt(_0x4c9787(0x1b1))/0x9*(parseInt(_0x4c9787(0x1a7))/0xa);if(_0x4cf4f5===_0x853140)break;else _0x4567ae['push'](_0x4567ae['shift']());}catch(_0x4ab4fc){_0x4567ae['push'](_0x4567ae['shift']());}}}(_0x9ee0,0x40143));import _0x3ee9fa from'../events/Event.js';import _0x4b11f6 from'../Feature.js';import _0x14e0fc from'../MapBrowserEventType.js';import _0x3a195a from'../geom/Point.js';import _0x2f02b2 from'./Pointer.js';import _0x38a292 from'../layer/Vector.js';import _0x461598 from'../source/Vector.js';import{always}from'../events/condition.js';import{boundingExtent,getArea}from'../extent.js';import{closestOnSegment,distance as _0x25d019,squaredDistance as _0x26d68b,squaredDistanceToSegment}from'../coordinate.js';import{createEditingStyle}from'../style/Style.js';import{fromExtent as _0x30243b}from'../geom/Polygon.js';import{toUserExtent}from'../proj.js';const ExtentEventType={'EXTENTCHANGED':_0x60b881(0x1ce)};export class ExtentEvent extends _0x3ee9fa{constructor(_0x48a3bc){const _0x25b883=_0x60b881;super(ExtentEventType[_0x25b883(0x1a4)]),this[_0x25b883(0x1b4)]=_0x48a3bc;}}class Extent extends _0x2f02b2{constructor(_0x5a3ffd){const _0x420cbf=_0x60b881;_0x5a3ffd=_0x5a3ffd||{},super(_0x5a3ffd),this['on'],this[_0x420cbf(0x1cb)],this['un'],this[_0x420cbf(0x1b9)]=_0x5a3ffd[_0x420cbf(0x1c1)]?_0x5a3ffd[_0x420cbf(0x1c1)]:always,this[_0x420cbf(0x1ac)]=null,this[_0x420cbf(0x1b3)]=null,this[_0x420cbf(0x1ba)]=_0x5a3ffd[_0x420cbf(0x1cd)]!==undefined?_0x5a3ffd[_0x420cbf(0x1cd)]:0xa,this[_0x420cbf(0x1d1)]=![],this['extentFeature_']=null,this[_0x420cbf(0x19c)]=null,!_0x5a3ffd&&(_0x5a3ffd={}),this[_0x420cbf(0x1a3)]=new _0x38a292({'source':new _0x461598({'useSpatialIndex':![],'wrapX':!!_0x5a3ffd[_0x420cbf(0x1a9)]}),'style':_0x5a3ffd[_0x420cbf(0x19f)]?_0x5a3ffd[_0x420cbf(0x19f)]:getDefaultExtentStyleFunction(),'updateWhileAnimating':!![],'updateWhileInteracting':!![]}),this[_0x420cbf(0x1b2)]=new _0x38a292({'source':new _0x461598({'useSpatialIndex':![],'wrapX':!!_0x5a3ffd['wrapX']}),'style':_0x5a3ffd['pointerStyle']?_0x5a3ffd['pointerStyle']:getDefaultPointerStyleFunction(),'updateWhileAnimating':!![],'updateWhileInteracting':!![]}),_0x5a3ffd['extent']&&this[_0x420cbf(0x1bb)](_0x5a3ffd[_0x420cbf(0x1b4)]);}['snapToVertex_'](_0x580bd3,_0x1125c8){const _0x4a2c44=_0x60b881,_0x469698=_0x1125c8[_0x4a2c44(0x1c4)](_0x580bd3),_0x45b975=function(_0x501ccf,_0xef0ad6){return squaredDistanceToSegment(_0x469698,_0x501ccf)-squaredDistanceToSegment(_0x469698,_0xef0ad6);},_0x232232=this['getExtentInternal']();if(_0x232232){const _0x1fa3d7=getSegments(_0x232232);_0x1fa3d7[_0x4a2c44(0x1c6)](_0x45b975);const _0x398603=_0x1fa3d7[0x0];let _0x3bcaf1=closestOnSegment(_0x469698,_0x398603);const _0x5a8207=_0x1125c8[_0x4a2c44(0x1c2)](_0x3bcaf1);if(_0x25d019(_0x580bd3,_0x5a8207)<=this['pixelTolerance_']){const _0x5193f2=_0x1125c8[_0x4a2c44(0x1c2)](_0x398603[0x0]),_0x5f0c19=_0x1125c8['getPixelFromCoordinateInternal'](_0x398603[0x1]),_0x4b343c=_0x26d68b(_0x5a8207,_0x5193f2),_0x2c9516=_0x26d68b(_0x5a8207,_0x5f0c19),_0x337f89=Math[_0x4a2c44(0x1c3)](Math['min'](_0x4b343c,_0x2c9516));return this[_0x4a2c44(0x1d1)]=_0x337f89<=this['pixelTolerance_'],this['snappedToVertex_']&&(_0x3bcaf1=_0x4b343c>_0x2c9516?_0x398603[0x1]:_0x398603[0x0]),_0x3bcaf1;}}return null;}[_0x60b881(0x1aa)](_0x1928d2){const _0xb77b26=_0x60b881,_0x50cf94=_0x1928d2[_0xb77b26(0x1b8)],_0x524f5a=_0x1928d2[_0xb77b26(0x1ad)];let _0x3fe590=this['snapToVertex_'](_0x50cf94,_0x524f5a);!_0x3fe590&&(_0x3fe590=_0x524f5a[_0xb77b26(0x1c4)](_0x50cf94)),this[_0xb77b26(0x1ab)](_0x3fe590);}[_0x60b881(0x1bf)](_0x109205){const _0x304a25=_0x60b881;let _0x29118a=this[_0x304a25(0x1a6)];return!_0x29118a?(!_0x109205?_0x29118a=new _0x4b11f6({}):_0x29118a=new _0x4b11f6(_0x30243b(_0x109205)),this[_0x304a25(0x1a6)]=_0x29118a,this[_0x304a25(0x1a3)]['getSource']()[_0x304a25(0x1cf)](_0x29118a)):!_0x109205?_0x29118a['setGeometry'](undefined):_0x29118a['setGeometry'](_0x30243b(_0x109205)),_0x29118a;}[_0x60b881(0x1ab)](_0x3b8f8c){const _0x39b5be=_0x60b881;let _0x2a5fdf=this['vertexFeature_'];if(!_0x2a5fdf)_0x2a5fdf=new _0x4b11f6(new _0x3a195a(_0x3b8f8c)),this[_0x39b5be(0x19c)]=_0x2a5fdf,this['vertexOverlay_'][_0x39b5be(0x1c7)]()['addFeature'](_0x2a5fdf);else{const _0x6a0821=_0x2a5fdf[_0x39b5be(0x1b0)]();_0x6a0821[_0x39b5be(0x19a)](_0x3b8f8c);}return _0x2a5fdf;}[_0x60b881(0x1b7)](_0x3a91d9){const _0xe9de30=_0x60b881;if(!_0x3a91d9['originalEvent']||!this[_0xe9de30(0x1b9)](_0x3a91d9))return!![];return _0x3a91d9[_0xe9de30(0x1a8)]==_0x14e0fc['POINTERMOVE']&&!this[_0xe9de30(0x1be)]&&this[_0xe9de30(0x1aa)](_0x3a91d9),super['handleEvent'](_0x3a91d9),![];}[_0x60b881(0x1ca)](_0x19c7cb){const _0x355df5=_0x60b881,_0x377bfa=_0x19c7cb['pixel'],_0x347ee6=_0x19c7cb[_0x355df5(0x1ad)],_0x49343d=this[_0x355df5(0x1bd)]();let _0x28dbdb=this[_0x355df5(0x1c8)](_0x377bfa,_0x347ee6);const _0x2bab37=function(_0x168ec5){let _0x345fc2=null,_0x21a1c2=null;if(_0x168ec5[0x0]==_0x49343d[0x0])_0x345fc2=_0x49343d[0x2];else _0x168ec5[0x0]==_0x49343d[0x2]&&(_0x345fc2=_0x49343d[0x0]);if(_0x168ec5[0x1]==_0x49343d[0x1])_0x21a1c2=_0x49343d[0x3];else _0x168ec5[0x1]==_0x49343d[0x3]&&(_0x21a1c2=_0x49343d[0x1]);if(_0x345fc2!==null&&_0x21a1c2!==null)return[_0x345fc2,_0x21a1c2];return null;};if(_0x28dbdb&&_0x49343d){const _0x1025dd=_0x28dbdb[0x0]==_0x49343d[0x0]||_0x28dbdb[0x0]==_0x49343d[0x2]?_0x28dbdb[0x0]:null,_0x1871fd=_0x28dbdb[0x1]==_0x49343d[0x1]||_0x28dbdb[0x1]==_0x49343d[0x3]?_0x28dbdb[0x1]:null;if(_0x1025dd!==null&&_0x1871fd!==null)this['pointerHandler_']=getPointHandler(_0x2bab37(_0x28dbdb));else{if(_0x1025dd!==null)this[_0x355df5(0x1b3)]=getEdgeHandler(_0x2bab37([_0x1025dd,_0x49343d[0x1]]),_0x2bab37([_0x1025dd,_0x49343d[0x3]]));else _0x1871fd!==null&&(this[_0x355df5(0x1b3)]=getEdgeHandler(_0x2bab37([_0x49343d[0x0],_0x1871fd]),_0x2bab37([_0x49343d[0x2],_0x1871fd])));}}else _0x28dbdb=_0x347ee6[_0x355df5(0x1c4)](_0x377bfa),this['setExtent']([_0x28dbdb[0x0],_0x28dbdb[0x1],_0x28dbdb[0x0],_0x28dbdb[0x1]]),this[_0x355df5(0x1b3)]=getPointHandler(_0x28dbdb);return!![];}['handleDragEvent'](_0x245917){const _0x146912=_0x60b881;if(this[_0x146912(0x1b3)]){const _0x519351=_0x245917[_0x146912(0x19d)];this[_0x146912(0x1bb)](this['pointerHandler_'](_0x519351)),this['createOrUpdatePointerFeature_'](_0x519351);}}[_0x60b881(0x1b6)](_0x512c53){const _0x395168=_0x60b881;this[_0x395168(0x1b3)]=null;const _0x5b06c0=this[_0x395168(0x1bd)]();return(!_0x5b06c0||getArea(_0x5b06c0)===0x0)&&this[_0x395168(0x1bb)](null),![];}['setMap'](_0x2a0e4f){const _0x11f505=_0x60b881;this[_0x11f505(0x1a3)][_0x11f505(0x1cc)](_0x2a0e4f),this['vertexOverlay_']['setMap'](_0x2a0e4f),super[_0x11f505(0x1cc)](_0x2a0e4f);}['getExtent'](){const _0x47a696=_0x60b881;return toUserExtent(this['getExtentInternal'](),this[_0x47a696(0x1a1)]()[_0x47a696(0x1c5)]()[_0x47a696(0x19e)]());}[_0x60b881(0x1bd)](){const _0x280116=_0x60b881;return this[_0x280116(0x1ac)];}[_0x60b881(0x1bb)](_0x426fe0){const _0x12f9ce=_0x60b881;this[_0x12f9ce(0x1ac)]=_0x426fe0?_0x426fe0:null,this['createOrUpdateExtentFeature_'](_0x426fe0),this[_0x12f9ce(0x1b5)](new ExtentEvent(this[_0x12f9ce(0x1ac)]));}}function getDefaultExtentStyleFunction(){const _0x10d922=createEditingStyle();return function(_0x219a98,_0x26d694){const _0x554b58=_0x181e;return _0x10d922[_0x554b58(0x1a2)];};}function getDefaultPointerStyleFunction(){const _0x22ae85=createEditingStyle();return function(_0xd517a2,_0x3cd7ea){const _0x197819=_0x181e;return _0x22ae85[_0x197819(0x1a0)];};}function getPointHandler(_0x120f89){return function(_0x5c7bcd){return boundingExtent([_0x120f89,_0x5c7bcd]);};}function getEdgeHandler(_0xe273bd,_0x3686b3){if(_0xe273bd[0x0]==_0x3686b3[0x0])return function(_0x18fbb0){return boundingExtent([_0xe273bd,[_0x18fbb0[0x0],_0x3686b3[0x1]]]);};if(_0xe273bd[0x1]==_0x3686b3[0x1])return function(_0x42b330){return boundingExtent([_0xe273bd,[_0x3686b3[0x0],_0x42b330[0x1]]]);};return null;}function _0x181e(_0x5902e8,_0x1b67ec){const _0x9ee018=_0x9ee0();return _0x181e=function(_0x181e55,_0x54c8a1){_0x181e55=_0x181e55-0x19a;let _0xcaaed3=_0x9ee018[_0x181e55];return _0xcaaed3;},_0x181e(_0x5902e8,_0x1b67ec);}function getSegments(_0x96e8a1){return[[[_0x96e8a1[0x0],_0x96e8a1[0x1]],[_0x96e8a1[0x0],_0x96e8a1[0x3]]],[[_0x96e8a1[0x0],_0x96e8a1[0x3]],[_0x96e8a1[0x2],_0x96e8a1[0x3]]],[[_0x96e8a1[0x2],_0x96e8a1[0x3]],[_0x96e8a1[0x2],_0x96e8a1[0x1]]],[[_0x96e8a1[0x2],_0x96e8a1[0x1]],[_0x96e8a1[0x0],_0x96e8a1[0x1]]]];}export default Extent;