const _0x348ce0=_0x4c76;function _0x4d7b(){const _0x3b870b=['ADD','1565105AMXJFR','getStyle','restorePreviousStyle_','style','getLength','boundAddFeature_','layerFilter_','forEachFeatureAtPixel','selected','removeCondition_','7pZeOee','getInteractions','push','setStyle','multi_','Polygon','removeFeature_','features','201990aKkGZN','setMap','layers','addEventListener','boundRemoveFeature_','map','REMOVE','hitTolerance_','featureLayerAssociation_','1103184fwKDhM','find','select','getFeatures','pixel','addFeature_','getSource','287824RZtRyF','mapBrowserEvent','filter_','includes','features_','SELECT','multi','getArray','applySelectedStyle_','getLayer','1491246JSBlyy','condition','459WnpKbH','toggleCondition','function','lastIndexOf','addCondition_','deselected','getHitTolerance','remove','removeCondition','forEach','getAllLayers','length','condition_','2lKvzHh','284938pJPAHl','bind','getMap','hitTolerance','addCondition','splice','removeFeatureLayerAssociation_','getGeometry','toggleCondition_','removeEventListener','style_','extend','410064INOafc','setHitTolerance','handleEvent','addFeatureLayerAssociation_','element','LineString','item'];_0x4d7b=function(){return _0x3b870b;};return _0x4d7b();}(function(_0x58e9f7,_0x2c964f){const _0x1c812a=_0x4c76,_0xaf8573=_0x58e9f7();while(!![]){try{const _0x34197e=-parseInt(_0x1c812a(0x19f))/0x1*(parseInt(_0x1c812a(0x19e))/0x2)+-parseInt(_0x1c812a(0x1ce))/0x3+-parseInt(_0x1c812a(0x1d5))/0x4+-parseInt(_0x1c812a(0x1b3))/0x5+parseInt(_0x1c812a(0x18f))/0x6*(parseInt(_0x1c812a(0x1bd))/0x7)+-parseInt(_0x1c812a(0x1ab))/0x8+parseInt(_0x1c812a(0x191))/0x9*(parseInt(_0x1c812a(0x1c5))/0xa);if(_0x34197e===_0x2c964f)break;else _0xaf8573['push'](_0xaf8573['shift']());}catch(_0x50cf63){_0xaf8573['push'](_0xaf8573['shift']());}}}(_0x4d7b,0x2e55d));import _0x18a836 from'../Collection.js';import _0x5eda2d from'../CollectionEventType.js';import _0xff610 from'../events/Event.js';import _0x22a71a from'../Feature.js';import _0x1ba48a from'./Interaction.js';import _0x163bd2 from'../layer/Vector.js';import{TRUE}from'../functions.js';import{clear}from'../obj.js';import{createEditingStyle}from'../style/Style.js';import{extend}from'../array.js';import{getUid}from'../util.js';import{never,shiftKeyOnly,singleClick}from'../events/condition.js';const SelectEventType={'SELECT':_0x348ce0(0x1d0)};export class SelectEvent extends _0xff610{constructor(_0x3ae5cb,_0x5d8da6,_0x25854e,_0xa7d8ba){const _0x577216=_0x348ce0;super(_0x3ae5cb),this[_0x577216(0x1bb)]=_0x5d8da6,this[_0x577216(0x196)]=_0x25854e,this[_0x577216(0x1d6)]=_0xa7d8ba;}}const originalFeatureStyles={};class Select extends _0x1ba48a{constructor(_0x2249d2){const _0x477223=_0x348ce0;super(),this['on'],this['once'],this['un'],_0x2249d2=_0x2249d2?_0x2249d2:{},this[_0x477223(0x1b8)]=this[_0x477223(0x1d3)][_0x477223(0x1a0)](this),this['boundRemoveFeature_']=this[_0x477223(0x1c3)][_0x477223(0x1a0)](this),this[_0x477223(0x19d)]=_0x2249d2[_0x477223(0x190)]?_0x2249d2['condition']:singleClick,this[_0x477223(0x195)]=_0x2249d2['addCondition']?_0x2249d2[_0x477223(0x1a3)]:never,this[_0x477223(0x1bc)]=_0x2249d2[_0x477223(0x199)]?_0x2249d2[_0x477223(0x199)]:never,this[_0x477223(0x1a7)]=_0x2249d2[_0x477223(0x192)]?_0x2249d2[_0x477223(0x192)]:shiftKeyOnly,this[_0x477223(0x1c1)]=_0x2249d2[_0x477223(0x18b)]?_0x2249d2[_0x477223(0x18b)]:![],this[_0x477223(0x1d7)]=_0x2249d2['filter']?_0x2249d2['filter']:TRUE,this[_0x477223(0x1cc)]=_0x2249d2[_0x477223(0x1a2)]?_0x2249d2[_0x477223(0x1a2)]:0x0,this[_0x477223(0x1a9)]=_0x2249d2[_0x477223(0x1b6)]!==undefined?_0x2249d2[_0x477223(0x1b6)]:getDefaultStyleFunction(),this['features_']=_0x2249d2[_0x477223(0x1c4)]||new _0x18a836();let _0x3451a0;if(_0x2249d2['layers']){if(typeof _0x2249d2['layers']===_0x477223(0x193))_0x3451a0=_0x2249d2[_0x477223(0x1c7)];else{const _0x373694=_0x2249d2[_0x477223(0x1c7)];_0x3451a0=function(_0x466d5a){const _0x1a64df=_0x477223;return _0x373694[_0x1a64df(0x188)](_0x466d5a);};}}else _0x3451a0=TRUE;this[_0x477223(0x1b9)]=_0x3451a0,this[_0x477223(0x1cd)]={};}[_0x348ce0(0x1ae)](_0x13ac86,_0x1e107b){const _0x44da46=_0x348ce0;this[_0x44da46(0x1cd)][getUid(_0x13ac86)]=_0x1e107b;}[_0x348ce0(0x1d1)](){return this['features_'];}[_0x348ce0(0x197)](){const _0x5afd26=_0x348ce0;return this[_0x5afd26(0x1cc)];}[_0x348ce0(0x18e)](_0x466438){const _0x500f7c=_0x348ce0;return this[_0x500f7c(0x1cd)][getUid(_0x466438)];}[_0x348ce0(0x1ac)](_0x39ce09){const _0x461da0=_0x348ce0;this[_0x461da0(0x1cc)]=_0x39ce09;}[_0x348ce0(0x1c6)](_0x69f476){const _0x39f89d=_0x348ce0,_0x268a94=this[_0x39f89d(0x1a1)]();_0x268a94&&this[_0x39f89d(0x1a9)]&&this[_0x39f89d(0x189)][_0x39f89d(0x19a)](this['restorePreviousStyle_'][_0x39f89d(0x1a0)](this)),super['setMap'](_0x69f476),_0x69f476?(this[_0x39f89d(0x189)][_0x39f89d(0x1c8)](_0x5eda2d['ADD'],this[_0x39f89d(0x1b8)]),this[_0x39f89d(0x189)][_0x39f89d(0x1c8)](_0x5eda2d[_0x39f89d(0x1cb)],this[_0x39f89d(0x1c9)]),this[_0x39f89d(0x1a9)]&&this[_0x39f89d(0x189)][_0x39f89d(0x19a)](this['applySelectedStyle_'][_0x39f89d(0x1a0)](this))):(this['features_'][_0x39f89d(0x1a8)](_0x5eda2d[_0x39f89d(0x1b2)],this[_0x39f89d(0x1b8)]),this[_0x39f89d(0x189)][_0x39f89d(0x1a8)](_0x5eda2d['REMOVE'],this[_0x39f89d(0x1c9)]));}['addFeature_'](_0x314b9c){const _0x282b9a=_0x348ce0,_0x18a351=_0x314b9c[_0x282b9a(0x1af)];this[_0x282b9a(0x1a9)]&&this[_0x282b9a(0x18d)](_0x18a351);if(!this[_0x282b9a(0x18e)](_0x18a351)){const _0x3e3b42=this[_0x282b9a(0x1a1)]()[_0x282b9a(0x19b)]()[_0x282b9a(0x1cf)](function(_0xf2d5b8){const _0x531983=_0x282b9a;if(_0xf2d5b8 instanceof _0x163bd2&&_0xf2d5b8[_0x531983(0x1d4)]()&&_0xf2d5b8['getSource']()['hasFeature'](_0x18a351))return _0xf2d5b8;});_0x3e3b42&&this[_0x282b9a(0x1ae)](_0x18a351,_0x3e3b42);}}[_0x348ce0(0x1c3)](_0x5a8032){const _0x3f3ab0=_0x348ce0;this[_0x3f3ab0(0x1a9)]&&this['restorePreviousStyle_'](_0x5a8032['element']);}['getStyle'](){const _0x28b852=_0x348ce0;return this[_0x28b852(0x1a9)];}[_0x348ce0(0x18d)](_0x12f8f1){const _0x411fad=_0x348ce0,_0x42c827=getUid(_0x12f8f1);!(_0x42c827 in originalFeatureStyles)&&(originalFeatureStyles[_0x42c827]=_0x12f8f1[_0x411fad(0x1b4)]()),_0x12f8f1[_0x411fad(0x1c0)](this['style_']);}[_0x348ce0(0x1b5)](_0x6b0d38){const _0xbd13ca=_0x348ce0,_0x68e67c=this[_0xbd13ca(0x1a1)]()[_0xbd13ca(0x1be)]()[_0xbd13ca(0x18c)]();for(let _0x276093=_0x68e67c['length']-0x1;_0x276093>=0x0;--_0x276093){const _0x943f2=_0x68e67c[_0x276093];if(_0x943f2!==this&&_0x943f2 instanceof Select&&_0x943f2[_0xbd13ca(0x1b4)]()&&_0x943f2[_0xbd13ca(0x1d1)]()[_0xbd13ca(0x18c)]()[_0xbd13ca(0x194)](_0x6b0d38)!==-0x1){_0x6b0d38[_0xbd13ca(0x1c0)](_0x943f2[_0xbd13ca(0x1b4)]());return;}}const _0x2ff2af=getUid(_0x6b0d38);_0x6b0d38[_0xbd13ca(0x1c0)](originalFeatureStyles[_0x2ff2af]),delete originalFeatureStyles[_0x2ff2af];}['removeFeatureLayerAssociation_'](_0x53efd4){const _0x1794bc=_0x348ce0;delete this[_0x1794bc(0x1cd)][getUid(_0x53efd4)];}[_0x348ce0(0x1ad)](_0xda6392){const _0xbff3f3=_0x348ce0;if(!this[_0xbff3f3(0x19d)](_0xda6392))return!![];const _0x2cece5=this[_0xbff3f3(0x195)](_0xda6392),_0xc3ef76=this[_0xbff3f3(0x1bc)](_0xda6392),_0x159e55=this[_0xbff3f3(0x1a7)](_0xda6392),_0x2c0b8c=!_0x2cece5&&!_0xc3ef76&&!_0x159e55,_0x4ec387=_0xda6392[_0xbff3f3(0x1ca)],_0x280c3f=this[_0xbff3f3(0x1d1)](),_0xc37287=[],_0x500f60=[];if(_0x2c0b8c){clear(this['featureLayerAssociation_']),_0x4ec387[_0xbff3f3(0x1ba)](_0xda6392[_0xbff3f3(0x1d2)],(_0x1bd7ea,_0x3e0a9b)=>{const _0x49a52f=_0xbff3f3;if(!(_0x1bd7ea instanceof _0x22a71a)||!this[_0x49a52f(0x1d7)](_0x1bd7ea,_0x3e0a9b))return;return this[_0x49a52f(0x1ae)](_0x1bd7ea,_0x3e0a9b),_0x500f60[_0x49a52f(0x1bf)](_0x1bd7ea),!this[_0x49a52f(0x1c1)];},{'layerFilter':this['layerFilter_'],'hitTolerance':this[_0xbff3f3(0x1cc)]});for(let _0x362abb=_0x280c3f[_0xbff3f3(0x1b7)]()-0x1;_0x362abb>=0x0;--_0x362abb){const _0x3902f7=_0x280c3f[_0xbff3f3(0x1b1)](_0x362abb),_0x4805be=_0x500f60['indexOf'](_0x3902f7);_0x4805be>-0x1?_0x500f60[_0xbff3f3(0x1a4)](_0x4805be,0x1):(_0x280c3f[_0xbff3f3(0x198)](_0x3902f7),_0xc37287[_0xbff3f3(0x1bf)](_0x3902f7));}_0x500f60['length']!==0x0&&_0x280c3f[_0xbff3f3(0x1aa)](_0x500f60);}else{_0x4ec387[_0xbff3f3(0x1ba)](_0xda6392[_0xbff3f3(0x1d2)],(_0x3c83e4,_0x4adfea)=>{const _0x506c3c=_0xbff3f3;if(!(_0x3c83e4 instanceof _0x22a71a)||!this[_0x506c3c(0x1d7)](_0x3c83e4,_0x4adfea))return;if((_0x2cece5||_0x159e55)&&!_0x280c3f['getArray']()[_0x506c3c(0x188)](_0x3c83e4))this[_0x506c3c(0x1ae)](_0x3c83e4,_0x4adfea),_0x500f60[_0x506c3c(0x1bf)](_0x3c83e4);else(_0xc3ef76||_0x159e55)&&_0x280c3f[_0x506c3c(0x18c)]()[_0x506c3c(0x188)](_0x3c83e4)&&(_0xc37287[_0x506c3c(0x1bf)](_0x3c83e4),this[_0x506c3c(0x1a5)](_0x3c83e4));return!this[_0x506c3c(0x1c1)];},{'layerFilter':this[_0xbff3f3(0x1b9)],'hitTolerance':this[_0xbff3f3(0x1cc)]});for(let _0x4a4ed4=_0xc37287[_0xbff3f3(0x19c)]-0x1;_0x4a4ed4>=0x0;--_0x4a4ed4){_0x280c3f[_0xbff3f3(0x198)](_0xc37287[_0x4a4ed4]);}_0x280c3f['extend'](_0x500f60);}return(_0x500f60[_0xbff3f3(0x19c)]>0x0||_0xc37287[_0xbff3f3(0x19c)]>0x0)&&this['dispatchEvent'](new SelectEvent(SelectEventType[_0xbff3f3(0x18a)],_0x500f60,_0xc37287,_0xda6392)),!![];}}function _0x4c76(_0x1a7f33,_0x2f2d08){const _0x4d7b3d=_0x4d7b();return _0x4c76=function(_0x4c76f0,_0x130aac){_0x4c76f0=_0x4c76f0-0x188;let _0x4b7c96=_0x4d7b3d[_0x4c76f0];return _0x4b7c96;},_0x4c76(_0x1a7f33,_0x2f2d08);}function getDefaultStyleFunction(){const _0x1b368e=_0x348ce0,_0x5994f4=createEditingStyle();return extend(_0x5994f4[_0x1b368e(0x1c2)],_0x5994f4[_0x1b368e(0x1b0)]),extend(_0x5994f4['GeometryCollection'],_0x5994f4[_0x1b368e(0x1b0)]),function(_0xacf4b4){const _0x3d8c7a=_0x1b368e;if(!_0xacf4b4['getGeometry']())return null;return _0x5994f4[_0xacf4b4[_0x3d8c7a(0x1a6)]()['getType']()];};}export default Select;