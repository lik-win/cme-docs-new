const _0x268f9f=_0xba44;(function(_0x3ed847,_0x1e394b){const _0x589a8c=_0xba44,_0x19912e=_0x3ed847();while(!![]){try{const _0x256337=-parseInt(_0x589a8c(0x117))/0x1*(parseInt(_0x589a8c(0x131))/0x2)+-parseInt(_0x589a8c(0x142))/0x3*(parseInt(_0x589a8c(0x127))/0x4)+parseInt(_0x589a8c(0x12d))/0x5+-parseInt(_0x589a8c(0x121))/0x6+parseInt(_0x589a8c(0x128))/0x7*(parseInt(_0x589a8c(0x147))/0x8)+-parseInt(_0x589a8c(0x12a))/0x9*(-parseInt(_0x589a8c(0x111))/0xa)+parseInt(_0x589a8c(0x132))/0xb;if(_0x256337===_0x1e394b)break;else _0x19912e['push'](_0x19912e['shift']());}catch(_0x1c4f8c){_0x19912e['push'](_0x19912e['shift']());}}}(_0x2318,0x5f34c));import _0x3e8b70 from'../events/EventType.js';import _0x5ed32b from'./Interaction.js';import _0x1f4cfc from'../MapEventType.js';import{listen,unlistenByKey}from'../events.js';function _0xba44(_0x3b24d4,_0x29c075){const _0x2318f9=_0x2318();return _0xba44=function(_0xba444,_0x20000e){_0xba444=_0xba444-0x10c;let _0x3a6eec=_0x2318f9[_0xba444];return _0x3a6eec;},_0xba44(_0x3b24d4,_0x29c075);}import{toFixed}from'../math.js';function to5(_0x4391b0){return toFixed(_0x4391b0,0x5);}function readNumber(_0x16f87a){return parseFloat(_0x16f87a);}function writeNumber(_0x4fe7da){return to5(_0x4fe7da)['toString']();}function differentNumber(_0x23c353,_0x48b9b0){if(isNaN(_0x23c353))return![];return _0x23c353!==readNumber(writeNumber(_0x48b9b0));}function differentArray(_0x2f0fc3,_0x12bf4b){return differentNumber(_0x2f0fc3[0x0],_0x12bf4b[0x0])||differentNumber(_0x2f0fc3[0x1],_0x12bf4b[0x1]);}function _0x2318(){const _0x47fefc=['getParamName_','push','delete','get','animationOptions_','rotation','getZoom','replace_','center','4230342ODezsy','delete_','join','updateState_','update','unregisterListeners_','2891496vNqYdq','4673445HoiBlh','reduce','3349728qNkOmk','prefix_','set','2101345hBnzCy','set_','replaceState','length','6238eFvHtO','1934526pVrRLL','updateUrl_','animate','searchParams','setVisible','handleChangeLayerGroup_','listenerKeys_','getMap','href','initial_','zoom','location','setMap','setZoom','get_','history','3xgNWVd','setRotation','registerListeners_','popstate','getLayerGroup','8mNzBho','getVisible','assign','getAllLayers','CHANGE','replace','track','getRotation','20lUtWdY','getCenter','params_','updateHistory_','trackedValues_','trackedCallbacks_','61JdHuTQ'];_0x2318=function(){return _0x47fefc;};return _0x2318();}class Link extends _0x5ed32b{constructor(_0x4799ca){const _0x3cec2d=_0xba44;super(),_0x4799ca=Object['assign']({'animate':!![],'params':['x','y','z','r','l'],'replace':![],'prefix':''},_0x4799ca||{});let _0x4e2f50;if(_0x4799ca[_0x3cec2d(0x134)]===!![])_0x4e2f50={'duration':0xfa};else!_0x4799ca[_0x3cec2d(0x134)]?_0x4e2f50=null:_0x4e2f50=_0x4799ca[_0x3cec2d(0x134)];this[_0x3cec2d(0x11c)]=_0x4e2f50,this['params_']=_0x4799ca['params'][_0x3cec2d(0x129)]((_0x4e0013,_0x5909a9)=>{return _0x4e0013[_0x5909a9]=!![],_0x4e0013;},{}),this['replace_']=_0x4799ca[_0x3cec2d(0x10e)],this[_0x3cec2d(0x12b)]=_0x4799ca['prefix'],this[_0x3cec2d(0x138)]=[],this[_0x3cec2d(0x13b)]=!![],this['updateState_']=this['updateState_']['bind'](this),this[_0x3cec2d(0x116)]={},this[_0x3cec2d(0x115)]={};}[_0x268f9f(0x118)](_0x433c96){const _0x3f1437=_0x268f9f;if(!this[_0x3f1437(0x12b)])return _0x433c96;return this['prefix_']+_0x433c96;}[_0x268f9f(0x140)](_0x4a65c6,_0x3c76a0){const _0x638407=_0x268f9f;return _0x4a65c6[_0x638407(0x11b)](this['getParamName_'](_0x3c76a0));}[_0x268f9f(0x12e)](_0x50ec83,_0x17dc66,_0x238595){const _0x2a78a5=_0x268f9f;if(!(_0x17dc66 in this[_0x2a78a5(0x113)]))return;_0x50ec83[_0x2a78a5(0x12c)](this['getParamName_'](_0x17dc66),_0x238595);}['delete_'](_0x2e26cd,_0xff33e9){const _0x56e123=_0x268f9f;if(!(_0xff33e9 in this[_0x56e123(0x113)]))return;_0x2e26cd[_0x56e123(0x11a)](this[_0x56e123(0x118)](_0xff33e9));}[_0x268f9f(0x13e)](_0x4a5436){const _0x1131ac=_0x268f9f,_0x5035e9=this[_0x1131ac(0x139)]();super['setMap'](_0x4a5436);if(_0x4a5436===_0x5035e9)return;_0x5035e9&&this[_0x1131ac(0x126)](_0x5035e9),_0x4a5436&&(this[_0x1131ac(0x13b)]=!![],this[_0x1131ac(0x124)](),this[_0x1131ac(0x144)](_0x4a5436));}[_0x268f9f(0x144)](_0x5a6533){const _0x2b47fe=_0x268f9f;this[_0x2b47fe(0x138)][_0x2b47fe(0x119)](listen(_0x5a6533,_0x1f4cfc['MOVEEND'],this['updateUrl_'],this),listen(_0x5a6533[_0x2b47fe(0x146)](),_0x3e8b70[_0x2b47fe(0x10d)],this[_0x2b47fe(0x133)],this),listen(_0x5a6533,'change:layergroup',this[_0x2b47fe(0x137)],this)),!this[_0x2b47fe(0x11f)]&&addEventListener(_0x2b47fe(0x145),this['updateState_']);}[_0x268f9f(0x126)](_0x4b4cf2){const _0x43f909=_0x268f9f;for(let _0x122d39=0x0,_0x3310e8=this[_0x43f909(0x138)][_0x43f909(0x130)];_0x122d39<_0x3310e8;++_0x122d39){unlistenByKey(this[_0x43f909(0x138)][_0x122d39]);}this[_0x43f909(0x138)][_0x43f909(0x130)]=0x0;!this[_0x43f909(0x11f)]&&removeEventListener(_0x43f909(0x145),this['updateState_']);const _0x32c73b=new URL(window[_0x43f909(0x13d)][_0x43f909(0x13a)]),_0xc6d179=_0x32c73b[_0x43f909(0x135)];this[_0x43f909(0x122)](_0xc6d179,'x'),this[_0x43f909(0x122)](_0xc6d179,'y'),this[_0x43f909(0x122)](_0xc6d179,'z'),this['delete_'](_0xc6d179,'r'),this[_0x43f909(0x122)](_0xc6d179,'l'),window[_0x43f909(0x141)][_0x43f909(0x12f)](null,'',_0x32c73b);}['handleChangeLayerGroup_'](){const _0x434cf0=_0x268f9f,_0x280d4d=this[_0x434cf0(0x139)]();if(!_0x280d4d)return;this['unregisterListeners_'](_0x280d4d),this[_0x434cf0(0x144)](_0x280d4d),this[_0x434cf0(0x13b)]=!![],this['updateUrl_']();}[_0x268f9f(0x124)](){const _0x178276=_0x268f9f,_0xe8f3f7=new URL(window['location'][_0x178276(0x13a)]),_0xe7cb5f=_0xe8f3f7['searchParams'];for(const _0x359d6e in this[_0x178276(0x116)]){const _0x3abed3=_0xe7cb5f[_0x178276(0x11b)](_0x359d6e);_0x359d6e in this[_0x178276(0x116)]&&_0x3abed3!==this[_0x178276(0x115)][_0x359d6e]&&(this[_0x178276(0x115)][_0x359d6e]=_0x3abed3,this['trackedCallbacks_'][_0x359d6e](_0x3abed3));}const _0x554fa2=this['getMap']();if(!_0x554fa2)return;const _0x21095f=_0x554fa2['getView']();if(!_0x21095f)return;let _0xcc1817=![];const _0x73a19a={},_0x1b5efa=readNumber(this[_0x178276(0x140)](_0xe7cb5f,'z'));'z'in this[_0x178276(0x113)]&&differentNumber(_0x1b5efa,_0x21095f['getZoom']())&&(_0xcc1817=!![],_0x73a19a[_0x178276(0x13c)]=_0x1b5efa);const _0x2c057b=readNumber(this[_0x178276(0x140)](_0xe7cb5f,'r'));'r'in this[_0x178276(0x113)]&&differentNumber(_0x2c057b,_0x21095f[_0x178276(0x110)]())&&(_0xcc1817=!![],_0x73a19a[_0x178276(0x11d)]=_0x2c057b);const _0x466df2=[readNumber(this[_0x178276(0x140)](_0xe7cb5f,'x')),readNumber(this[_0x178276(0x140)](_0xe7cb5f,'y'))];('x'in this[_0x178276(0x113)]||'y'in this[_0x178276(0x113)])&&differentArray(_0x466df2,_0x21095f[_0x178276(0x112)]())&&(_0xcc1817=!![],_0x73a19a['center']=_0x466df2);_0xcc1817&&(!this[_0x178276(0x13b)]&&this[_0x178276(0x11c)]?_0x21095f[_0x178276(0x134)](Object[_0x178276(0x149)](_0x73a19a,this[_0x178276(0x11c)])):(_0x73a19a[_0x178276(0x120)]&&_0x21095f['setCenter'](_0x73a19a[_0x178276(0x120)]),_0x178276(0x13c)in _0x73a19a&&_0x21095f[_0x178276(0x13f)](_0x73a19a[_0x178276(0x13c)]),_0x178276(0x11d)in _0x73a19a&&_0x21095f[_0x178276(0x143)](_0x73a19a['rotation'])));const _0x4c8ff7=_0x554fa2[_0x178276(0x10c)](),_0x2bd0ad=this[_0x178276(0x140)](_0xe7cb5f,'l');if('l'in this[_0x178276(0x113)]&&_0x2bd0ad&&_0x2bd0ad[_0x178276(0x130)]===_0x4c8ff7[_0x178276(0x130)])for(let _0x1a460e=0x0,_0x54279c=_0x4c8ff7[_0x178276(0x130)];_0x1a460e<_0x54279c;++_0x1a460e){const _0x18e4fd=parseInt(_0x2bd0ad[_0x1a460e]);if(!isNaN(_0x18e4fd)){const _0x359480=Boolean(_0x18e4fd),_0x339dcb=_0x4c8ff7[_0x1a460e];_0x339dcb[_0x178276(0x148)]()!==_0x359480&&_0x339dcb[_0x178276(0x136)](_0x359480);}}}[_0x268f9f(0x10f)](_0xe69f5d,_0x3e0097){const _0xcd4a7=_0x268f9f;this[_0xcd4a7(0x116)][_0xe69f5d]=_0x3e0097;const _0x338eed=new URL(window[_0xcd4a7(0x13d)][_0xcd4a7(0x13a)]),_0x449063=_0x338eed['searchParams'],_0x2996fc=_0x449063[_0xcd4a7(0x11b)](_0xe69f5d);return this[_0xcd4a7(0x115)][_0xe69f5d]=_0x2996fc,_0x2996fc;}[_0x268f9f(0x125)](_0x2ec6fc,_0x2992f6){const _0x539097=_0x268f9f,_0x5b0fca=new URL(window[_0x539097(0x13d)][_0x539097(0x13a)]),_0x23b99f=_0x5b0fca[_0x539097(0x135)];_0x2992f6===null?_0x23b99f[_0x539097(0x11a)](_0x2ec6fc):_0x23b99f['set'](_0x2ec6fc,_0x2992f6),_0x2ec6fc in this['trackedValues_']&&(this[_0x539097(0x115)][_0x2ec6fc]=_0x2992f6),this[_0x539097(0x114)](_0x5b0fca);}['updateUrl_'](){const _0x235476=_0x268f9f,_0x25057e=this[_0x235476(0x139)]();if(!_0x25057e)return;const _0x23d5d5=_0x25057e['getView']();if(!_0x23d5d5)return;const _0x1fd1df=_0x23d5d5[_0x235476(0x112)](),_0x546a2e=_0x23d5d5[_0x235476(0x11e)](),_0x5533f3=_0x23d5d5[_0x235476(0x110)](),_0x51cd87=_0x25057e[_0x235476(0x10c)](),_0x2f1d24=new Array(_0x51cd87['length']);for(let _0x799cbf=0x0,_0x434a48=_0x51cd87['length'];_0x799cbf<_0x434a48;++_0x799cbf){_0x2f1d24[_0x799cbf]=_0x51cd87[_0x799cbf][_0x235476(0x148)]()?'1':'0';}const _0xa2c6df=new URL(window[_0x235476(0x13d)][_0x235476(0x13a)]),_0x200a3b=_0xa2c6df['searchParams'];this['set_'](_0x200a3b,'x',writeNumber(_0x1fd1df[0x0])),this['set_'](_0x200a3b,'y',writeNumber(_0x1fd1df[0x1])),this[_0x235476(0x12e)](_0x200a3b,'z',writeNumber(_0x546a2e)),this[_0x235476(0x12e)](_0x200a3b,'r',writeNumber(_0x5533f3)),this[_0x235476(0x12e)](_0x200a3b,'l',_0x2f1d24[_0x235476(0x123)]('')),this[_0x235476(0x114)](_0xa2c6df),this[_0x235476(0x13b)]=![];}[_0x268f9f(0x114)](_0x991a2){const _0x5222f1=_0x268f9f;_0x991a2[_0x5222f1(0x13a)]!==window[_0x5222f1(0x13d)][_0x5222f1(0x13a)]&&(this['initial_']||this[_0x5222f1(0x11f)]?window[_0x5222f1(0x141)]['replaceState'](history['state'],'',_0x991a2):window[_0x5222f1(0x141)]['pushState'](null,'',_0x991a2));}}export default Link;