const _0x470cc1=_0x1709;(function(_0x56d89a,_0xe5a3a5){const _0x785458=_0x1709,_0x1e13d4=_0x56d89a();while(!![]){try{const _0x50dda3=parseInt(_0x785458(0x174))/0x1+parseInt(_0x785458(0x164))/0x2+-parseInt(_0x785458(0x179))/0x3*(parseInt(_0x785458(0x176))/0x4)+-parseInt(_0x785458(0x14d))/0x5*(-parseInt(_0x785458(0x153))/0x6)+parseInt(_0x785458(0x143))/0x7+parseInt(_0x785458(0x144))/0x8+-parseInt(_0x785458(0x152))/0x9;if(_0x50dda3===_0xe5a3a5)break;else _0x1e13d4['push'](_0x1e13d4['shift']());}catch(_0xdd6b03){_0x1e13d4['push'](_0x1e13d4['shift']());}}}(_0x5689,0xa8ba6));import _0x193beb from'../events/Event.js';import _0x2f669a from'../events/EventType.js';import _0x251c5b from'./Interaction.js';import{TRUE}from'../functions.js';import{get as _0x6eeb3a,getUserProjection}from'../proj.js';import{listen,unlistenByKey}from'../events.js';const DragAndDropEventType={'ADD_FEATURES':_0x470cc1(0x14e)};function _0x1709(_0x52db0b,_0x144c7b){const _0x5689c0=_0x5689();return _0x1709=function(_0x170920,_0x59e95c){_0x170920=_0x170920-0x142;let _0x4977d7=_0x5689c0[_0x170920];return _0x4977d7;},_0x1709(_0x52db0b,_0x144c7b);}export class DragAndDropEvent extends _0x193beb{constructor(_0x5cff55,_0xbeaa0d,_0x5ec9a5,_0x46c636){const _0x4343ac=_0x470cc1;super(_0x5cff55),this[_0x4343ac(0x17a)]=_0x5ec9a5,this[_0x4343ac(0x169)]=_0xbeaa0d,this[_0x4343ac(0x154)]=_0x46c636;}}class DragAndDrop extends _0x251c5b{constructor(_0x4a9bef){const _0x52bf11=_0x470cc1;_0x4a9bef=_0x4a9bef?_0x4a9bef:{},super({'handleEvent':TRUE}),this['on'],this[_0x52bf11(0x16c)],this['un'],this[_0x52bf11(0x15d)]=![],this[_0x52bf11(0x150)]=[];const _0x20c041=_0x4a9bef['formatConstructors']?_0x4a9bef[_0x52bf11(0x16f)]:[];for(let _0x37a18c=0x0,_0x298cf9=_0x20c041[_0x52bf11(0x178)];_0x37a18c<_0x298cf9;++_0x37a18c){let _0x505be2=_0x20c041[_0x37a18c];typeof _0x505be2===_0x52bf11(0x168)&&(_0x505be2=new _0x505be2()),this['formats_']['push'](_0x505be2),this[_0x52bf11(0x15d)]=this[_0x52bf11(0x15d)]||_0x505be2['getType']()==='arraybuffer';}this[_0x52bf11(0x172)]=_0x4a9bef[_0x52bf11(0x154)]?_0x6eeb3a(_0x4a9bef['projection']):null,this[_0x52bf11(0x14b)]=null,this[_0x52bf11(0x156)]=_0x4a9bef[_0x52bf11(0x146)]||null,this[_0x52bf11(0x149)]=_0x4a9bef['target']?_0x4a9bef[_0x52bf11(0x149)]:null;}[_0x470cc1(0x166)](_0x556f33,_0x45b12c){const _0x1e3ac1=_0x470cc1,_0x1beeca=_0x45b12c[_0x1e3ac1(0x149)][_0x1e3ac1(0x163)],_0x4905df=this[_0x1e3ac1(0x15a)]();let _0x3a627d=this[_0x1e3ac1(0x172)];if(!_0x3a627d){_0x3a627d=getUserProjection();if(!_0x3a627d){const _0x402e10=_0x4905df[_0x1e3ac1(0x167)]();_0x3a627d=_0x402e10[_0x1e3ac1(0x16a)]();}}let _0x3e0cc6;const _0x47ec24=this[_0x1e3ac1(0x150)];for(let _0x2d3a10=0x0,_0x4ee2da=_0x47ec24[_0x1e3ac1(0x178)];_0x2d3a10<_0x4ee2da;++_0x2d3a10){const _0x5d84c0=_0x47ec24[_0x2d3a10];let _0x4d5080=_0x1beeca;this[_0x1e3ac1(0x15d)]&&_0x5d84c0[_0x1e3ac1(0x15c)]()!==_0x1e3ac1(0x170)&&(_0x3e0cc6===undefined&&(_0x3e0cc6=new TextDecoder()[_0x1e3ac1(0x162)](_0x1beeca)),_0x4d5080=_0x3e0cc6);const _0x2216af=this['tryReadFeatures_'](_0x5d84c0,_0x4d5080,{'featureProjection':_0x3a627d});if(_0x2216af&&_0x2216af[_0x1e3ac1(0x178)]>0x0){this['source_']&&(this[_0x1e3ac1(0x156)]['clear'](),this['source_'][_0x1e3ac1(0x142)](_0x2216af));this[_0x1e3ac1(0x173)](new DragAndDropEvent(DragAndDropEventType[_0x1e3ac1(0x165)],_0x556f33,_0x2216af,_0x3a627d));break;}}}[_0x470cc1(0x148)](){const _0x330cd9=_0x470cc1,_0x43a047=this[_0x330cd9(0x15a)]();if(_0x43a047){const _0x57e80a=this[_0x330cd9(0x149)]?this[_0x330cd9(0x149)]:_0x43a047[_0x330cd9(0x14f)]();this[_0x330cd9(0x14b)]=[listen(_0x57e80a,_0x2f669a[_0x330cd9(0x155)],this[_0x330cd9(0x177)],this),listen(_0x57e80a,_0x2f669a[_0x330cd9(0x16b)],this[_0x330cd9(0x17b)],this),listen(_0x57e80a,_0x2f669a[_0x330cd9(0x171)],this[_0x330cd9(0x17b)],this),listen(_0x57e80a,_0x2f669a[_0x330cd9(0x155)],this[_0x330cd9(0x17b)],this)];}}[_0x470cc1(0x14c)](_0x13576c){const _0x3276e6=_0x470cc1;!this['getActive']()&&_0x13576c&&this[_0x3276e6(0x148)](),this[_0x3276e6(0x175)]()&&!_0x13576c&&this[_0x3276e6(0x161)](),super[_0x3276e6(0x14c)](_0x13576c);}['setMap'](_0x4b9ac8){const _0x13f85b=_0x470cc1;this[_0x13f85b(0x161)](),super[_0x13f85b(0x147)](_0x4b9ac8),this[_0x13f85b(0x175)]()&&this[_0x13f85b(0x148)]();}[_0x470cc1(0x145)](_0x2409cf,_0x3f8bbb,_0x5e0344){const _0x2a14e0=_0x470cc1;try{return _0x2409cf[_0x2a14e0(0x16e)](_0x3f8bbb,_0x5e0344);}catch(_0x325ae1){return null;}}[_0x470cc1(0x161)](){const _0x56f8ec=_0x470cc1;this['dropListenKeys_']&&(this[_0x56f8ec(0x14b)][_0x56f8ec(0x160)](unlistenByKey),this[_0x56f8ec(0x14b)]=null);}[_0x470cc1(0x177)](_0x3b25db){const _0x301253=_0x470cc1,_0xd3ed9=_0x3b25db[_0x301253(0x15b)][_0x301253(0x158)];for(let _0x4639cc=0x0,_0x3f10ef=_0xd3ed9[_0x301253(0x178)];_0x4639cc<_0x3f10ef;++_0x4639cc){const _0x19f4ad=_0xd3ed9['item'](_0x4639cc),_0x40d631=new FileReader();_0x40d631['addEventListener'](_0x2f669a[_0x301253(0x16d)],this[_0x301253(0x166)]['bind'](this,_0x19f4ad)),this[_0x301253(0x15d)]?_0x40d631[_0x301253(0x159)](_0x19f4ad):_0x40d631[_0x301253(0x14a)](_0x19f4ad);}}[_0x470cc1(0x17b)](_0x853f5d){const _0x52648e=_0x470cc1;_0x853f5d[_0x52648e(0x15e)](),_0x853f5d[_0x52648e(0x151)](),_0x853f5d['dataTransfer'][_0x52648e(0x157)]=_0x52648e(0x15f);}}export default DragAndDrop;function _0x5689(){const _0xf3360b=['preventDefault','21621780fGpNaA','1520382DFisql','projection','DROP','source_','dropEffect','files','readAsArrayBuffer','getMap','dataTransfer','getType','readAsBuffer_','stopPropagation','copy','forEach','unregisterListeners_','decode','result','2557224UNuCFR','ADD_FEATURES','handleResult_','getView','function','file','getProjection','DRAGENTER','once','LOAD','readFeatures','formatConstructors','arraybuffer','DRAGOVER','projection_','dispatchEvent','491908XaYJzK','getActive','8NlxYBR','handleDrop','length','1480899pRCZZh','features','handleStop','addFeatures','1812664dRESAd','6274712ctpUWn','tryReadFeatures_','source','setMap','registerListeners_','target','readAsText','dropListenKeys_','setActive','25uOiHXa','addfeatures','getViewport','formats_'];_0x5689=function(){return _0xf3360b;};return _0x5689();}