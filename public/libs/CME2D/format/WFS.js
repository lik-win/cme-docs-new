const _0x1ef52e=_0x5892;(function(_0x4d33c4,_0x26a7f2){const _0x14d6de=_0x5892,_0x51e211=_0x4d33c4();while(!![]){try{const _0x6ecbdc=-parseInt(_0x14d6de(0x240))/0x1+parseInt(_0x14d6de(0x20b))/0x2+-parseInt(_0x14d6de(0x1ee))/0x3*(parseInt(_0x14d6de(0x252))/0x4)+parseInt(_0x14d6de(0x1f5))/0x5+parseInt(_0x14d6de(0x264))/0x6*(-parseInt(_0x14d6de(0x223))/0x7)+-parseInt(_0x14d6de(0x260))/0x8*(-parseInt(_0x14d6de(0x25b))/0x9)+-parseInt(_0x14d6de(0x1f3))/0xa;if(_0x6ecbdc===_0x26a7f2)break;else _0x51e211['push'](_0x51e211['shift']());}catch(_0x32a985){_0x51e211['push'](_0x51e211['shift']());}}}(_0x4c55,0xa7c42));import _0x225a98 from'./GML2.js';import _0xe37f10 from'./GML3.js';import _0x3bfbe6 from'./GML32.js';import _0xe6f740,{GMLNS}from'./GMLBase.js';import _0x179226 from'./XMLFeature.js';import{XML_SCHEMA_INSTANCE_URI,createElementNS,isDocument,makeArrayPusher,makeChildAppender,makeObjectPropertySetter,makeSimpleNodeFactory,parse,parseNode,pushParseAndPop,pushSerializeAndPop}from'../xml.js';import{and as _0x41ec59,bbox as _0x47cdb0}from'./filter.js';import{assert}from'../asserts.js';import{get as _0x595a4a}from'../proj.js';import{readNonNegativeIntegerString,readPositiveInteger,writeStringTextNode}from'./xsd.js';const FEATURE_COLLECTION_PARSERS={'http://www.opengis.net/gml':{'boundedBy':makeObjectPropertySetter(_0xe6f740[_0x1ef52e(0x26e)][_0x1ef52e(0x274)],'bounds')},'http://www.opengis.net/wfs/2.0':{'member':makeArrayPusher(_0xe6f740[_0x1ef52e(0x26e)]['readFeaturesInternal'])}},TRANSACTION_SUMMARY_PARSERS={'http://www.opengis.net/wfs':{'totalInserted':makeObjectPropertySetter(readPositiveInteger),'totalUpdated':makeObjectPropertySetter(readPositiveInteger),'totalDeleted':makeObjectPropertySetter(readPositiveInteger)},'http://www.opengis.net/wfs/2.0':{'totalInserted':makeObjectPropertySetter(readPositiveInteger),'totalUpdated':makeObjectPropertySetter(readPositiveInteger),'totalDeleted':makeObjectPropertySetter(readPositiveInteger)}},TRANSACTION_RESPONSE_PARSERS={'http://www.opengis.net/wfs':{'TransactionSummary':makeObjectPropertySetter(readTransactionSummary,_0x1ef52e(0x238)),'InsertResults':makeObjectPropertySetter(readInsertResults,_0x1ef52e(0x200))},'http://www.opengis.net/wfs/2.0':{'TransactionSummary':makeObjectPropertySetter(readTransactionSummary,_0x1ef52e(0x238)),'InsertResults':makeObjectPropertySetter(readInsertResults,_0x1ef52e(0x200))}},QUERY_SERIALIZERS={'http://www.opengis.net/wfs':{'PropertyName':makeChildAppender(writeStringTextNode)},'http://www.opengis.net/wfs/2.0':{'PropertyName':makeChildAppender(writeStringTextNode)}},TRANSACTION_SERIALIZERS={'http://www.opengis.net/wfs':{'Insert':makeChildAppender(writeFeature),'Update':makeChildAppender(writeUpdate),'Delete':makeChildAppender(writeDelete),'Property':makeChildAppender(writeProperty),'Native':makeChildAppender(writeNative)},'http://www.opengis.net/wfs/2.0':{'Insert':makeChildAppender(writeFeature),'Update':makeChildAppender(writeUpdate),'Delete':makeChildAppender(writeDelete),'Property':makeChildAppender(writeProperty),'Native':makeChildAppender(writeNative)}},FEATURE_PREFIX=_0x1ef52e(0x23d),XMLNS=_0x1ef52e(0x201),OGCNS={'2.0.0':_0x1ef52e(0x231),'1.1.0':_0x1ef52e(0x24f),'1.0.0':'http://www.opengis.net/ogc'},WFSNS={'2.0.0':'http://www.opengis.net/wfs/2.0','1.1.0':_0x1ef52e(0x246),'1.0.0':'http://www.opengis.net/wfs'},FESNS={'2.0.0':'http://www.opengis.net/fes/2.0','1.1.0':_0x1ef52e(0x239),'1.0.0':_0x1ef52e(0x239)},SCHEMA_LOCATIONS={'2.0.0':_0x1ef52e(0x22f),'1.1.0':'http://www.opengis.net/wfs\x20http://schemas.opengis.net/wfs/1.1.0/wfs.xsd','1.0.0':_0x1ef52e(0x23a)},GML_FORMATS={'2.0.0':_0x3bfbe6,'1.1.0':_0xe37f10,'1.0.0':_0x225a98},DEFAULT_VERSION=_0x1ef52e(0x250);class WFS extends _0x179226{constructor(_0x5e9a6d){const _0x1fd3eb=_0x1ef52e;super(),_0x5e9a6d=_0x5e9a6d?_0x5e9a6d:{},this['version_']=_0x5e9a6d[_0x1fd3eb(0x26c)]?_0x5e9a6d['version']:DEFAULT_VERSION,this[_0x1fd3eb(0x262)]=_0x5e9a6d[_0x1fd3eb(0x211)],this[_0x1fd3eb(0x21e)]=_0x5e9a6d[_0x1fd3eb(0x26b)],this[_0x1fd3eb(0x255)]=_0x5e9a6d['gmlFormat']?_0x5e9a6d['gmlFormat']:new GML_FORMATS[this[(_0x1fd3eb(0x204))]](),this[_0x1fd3eb(0x1fa)]=_0x5e9a6d[_0x1fd3eb(0x21d)]?_0x5e9a6d[_0x1fd3eb(0x21d)]:SCHEMA_LOCATIONS[this[_0x1fd3eb(0x204)]];}[_0x1ef52e(0x20f)](){const _0x19e685=_0x1ef52e;return this[_0x19e685(0x262)];}[_0x1ef52e(0x233)](_0x1098ee){this['featureType_']=_0x1098ee;}['readFeaturesFromNode'](_0xca8cb8,_0x374d06){const _0x12a011=_0x1ef52e,_0x5d607b={'node':_0xca8cb8};Object['assign'](_0x5d607b,{'featureType':this[_0x12a011(0x262)],'featureNS':this[_0x12a011(0x21e)]}),Object['assign'](_0x5d607b,this['getReadOptions'](_0xca8cb8,_0x374d06?_0x374d06:{}));const _0x5ee556=[_0x5d607b];let _0x2e0746;this['version_']===_0x12a011(0x1fd)?_0x2e0746=FEATURE_COLLECTION_PARSERS:_0x2e0746=this['gmlFormat_'][_0x12a011(0x1fc)];let _0x2363ab=pushParseAndPop([],_0x2e0746,_0xca8cb8,_0x5ee556,this['gmlFormat_']);return!_0x2363ab&&(_0x2363ab=[]),_0x2363ab;}[_0x1ef52e(0x208)](_0x2102ae){const _0x245405=_0x1ef52e;if(!_0x2102ae)return undefined;if(typeof _0x2102ae===_0x245405(0x224)){const _0x493809=parse(_0x2102ae);return this[_0x245405(0x20e)](_0x493809);}if(isDocument(_0x2102ae))return this[_0x245405(0x20e)](_0x2102ae);return this[_0x245405(0x243)](_0x2102ae);}[_0x1ef52e(0x221)](_0x186b53){const _0x1294ed=_0x1ef52e;if(!_0x186b53)return undefined;if(typeof _0x186b53===_0x1294ed(0x224)){const _0x27ebc1=parse(_0x186b53);return this['readFeatureCollectionMetadataFromDocument'](_0x27ebc1);}if(isDocument(_0x186b53))return this['readFeatureCollectionMetadataFromDocument'](_0x186b53);return this['readFeatureCollectionMetadataFromNode'](_0x186b53);}['readFeatureCollectionMetadataFromDocument'](_0x3a4ada){const _0x53a2a1=_0x1ef52e;for(let _0x463c88=_0x3a4ada[_0x53a2a1(0x220)];_0x463c88;_0x463c88=_0x463c88['nextSibling']){if(_0x463c88[_0x53a2a1(0x214)]==Node[_0x53a2a1(0x242)])return this['readFeatureCollectionMetadataFromNode'](_0x463c88);}return undefined;}[_0x1ef52e(0x261)](_0x44f94a){const _0x36134d=_0x1ef52e,_0x6fc9ad={},_0x3fbee8=readNonNegativeIntegerString(_0x44f94a[_0x36134d(0x24a)](_0x36134d(0x24d)));return _0x6fc9ad[_0x36134d(0x24d)]=_0x3fbee8,pushParseAndPop(_0x6fc9ad,FEATURE_COLLECTION_PARSERS,_0x44f94a,[],this[_0x36134d(0x255)]);}[_0x1ef52e(0x20e)](_0x267808){const _0x499090=_0x1ef52e;for(let _0x323320=_0x267808[_0x499090(0x220)];_0x323320;_0x323320=_0x323320[_0x499090(0x26f)]){if(_0x323320['nodeType']==Node[_0x499090(0x242)])return this[_0x499090(0x243)](_0x323320);}return undefined;}['readTransactionResponseFromNode'](_0x28af14){return pushParseAndPop({},TRANSACTION_RESPONSE_PARSERS,_0x28af14,[]);}['writeGetFeature'](_0x486f61){const _0x346866=_0x1ef52e,_0x2506c4=createElementNS(WFSNS[this[_0x346866(0x204)]],_0x346866(0x22e));_0x2506c4[_0x346866(0x217)](_0x346866(0x23e),_0x346866(0x205)),_0x2506c4['setAttribute'](_0x346866(0x26c),this[_0x346866(0x204)]);_0x486f61[_0x346866(0x234)]&&_0x2506c4[_0x346866(0x217)](_0x346866(0x234),_0x486f61[_0x346866(0x234)]);_0x486f61['outputFormat']&&_0x2506c4[_0x346866(0x217)](_0x346866(0x213),_0x486f61['outputFormat']);_0x486f61['maxFeatures']!==undefined&&_0x2506c4['setAttribute'](_0x346866(0x1f7),String(_0x486f61[_0x346866(0x1f7)]));_0x486f61[_0x346866(0x20a)]&&_0x2506c4[_0x346866(0x217)](_0x346866(0x20a),_0x486f61[_0x346866(0x20a)]);_0x486f61[_0x346866(0x237)]!==undefined&&_0x2506c4[_0x346866(0x217)](_0x346866(0x237),String(_0x486f61[_0x346866(0x237)]));_0x486f61[_0x346866(0x26d)]!==undefined&&_0x2506c4[_0x346866(0x217)](_0x346866(0x26d),String(_0x486f61[_0x346866(0x26d)]));_0x486f61[_0x346866(0x227)]!==undefined&&_0x2506c4[_0x346866(0x217)](_0x346866(0x227),_0x486f61[_0x346866(0x227)]);_0x2506c4[_0x346866(0x20c)](XML_SCHEMA_INSTANCE_URI,_0x346866(0x210),this[_0x346866(0x1fa)]);const _0x32a7f9={'node':_0x2506c4};Object[_0x346866(0x216)](_0x32a7f9,{'version':this[_0x346866(0x204)],'srsName':_0x486f61['srsName'],'featureNS':_0x486f61[_0x346866(0x26b)]?_0x486f61[_0x346866(0x26b)]:this[_0x346866(0x21e)],'featurePrefix':_0x486f61[_0x346866(0x1fe)],'propertyNames':_0x486f61[_0x346866(0x241)]?_0x486f61[_0x346866(0x241)]:[]}),assert(Array[_0x346866(0x23c)](_0x486f61[_0x346866(0x24b)]),'`options.featureTypes`\x20must\x20be\x20an\x20Array');if(typeof _0x486f61[_0x346866(0x24b)][0x0]===_0x346866(0x224)){let _0x3eb6f4=_0x486f61['filter'];_0x486f61['bbox']&&(assert(_0x486f61[_0x346866(0x207)],_0x346866(0x270)),_0x3eb6f4=this[_0x346866(0x269)](_0x486f61[_0x346866(0x207)],_0x486f61['bbox'],_0x486f61[_0x346866(0x1e9)],_0x3eb6f4)),Object[_0x346866(0x216)](_0x32a7f9,{'geometryName':_0x486f61[_0x346866(0x207)],'filter':_0x3eb6f4}),writeGetFeature(_0x2506c4,_0x486f61[_0x346866(0x24b)],[_0x32a7f9]);}else _0x486f61[_0x346866(0x24b)][_0x346866(0x20d)](_0xe1fd37=>{const _0x242cf8=_0x346866,_0x41c7c7=this[_0x242cf8(0x269)](_0xe1fd37[_0x242cf8(0x207)],_0xe1fd37[_0x242cf8(0x1f9)],_0x486f61[_0x242cf8(0x1e9)],_0x486f61[_0x242cf8(0x22d)]);Object[_0x242cf8(0x216)](_0x32a7f9,{'geometryName':_0xe1fd37[_0x242cf8(0x207)],'filter':_0x41c7c7}),writeGetFeature(_0x2506c4,[_0xe1fd37[_0x242cf8(0x24c)]],[_0x32a7f9]);});return _0x2506c4;}[_0x1ef52e(0x269)](_0x397015,_0x43c5a4,_0x33bd20,_0x142ecb){const _0x213b16=_0x47cdb0(_0x397015,_0x43c5a4,_0x33bd20);if(_0x142ecb)return _0x41ec59(_0x142ecb,_0x213b16);return _0x213b16;}[_0x1ef52e(0x230)](_0x5e6148,_0x1ca96d,_0x39d608,_0xd44ad6){const _0xed60b5=_0x1ef52e,_0x1b4e1a=[],_0x5c1585=_0xd44ad6[_0xed60b5(0x26c)]?_0xd44ad6['version']:this[_0xed60b5(0x204)],_0x542d25=createElementNS(WFSNS[_0x5c1585],'Transaction');_0x542d25['setAttribute'](_0xed60b5(0x23e),'WFS'),_0x542d25[_0xed60b5(0x217)](_0xed60b5(0x26c),_0x5c1585);let _0x1f6e19;_0xd44ad6&&(_0x1f6e19=_0xd44ad6[_0xed60b5(0x244)]?_0xd44ad6[_0xed60b5(0x244)]:{},_0xd44ad6[_0xed60b5(0x234)]&&_0x542d25[_0xed60b5(0x217)]('handle',_0xd44ad6[_0xed60b5(0x234)]));_0x542d25[_0xed60b5(0x20c)](XML_SCHEMA_INSTANCE_URI,_0xed60b5(0x210),SCHEMA_LOCATIONS[_0x5c1585]);const _0x4f4181=createTransactionRequest(_0x542d25,_0x1f6e19,_0x5c1585,_0xd44ad6);return _0x5e6148&&serializeTransactionRequest(_0xed60b5(0x219),_0x5e6148,_0x1b4e1a,_0x4f4181),_0x1ca96d&&serializeTransactionRequest('Update',_0x1ca96d,_0x1b4e1a,_0x4f4181),_0x39d608&&serializeTransactionRequest('Delete',_0x39d608,_0x1b4e1a,_0x4f4181),_0xd44ad6[_0xed60b5(0x1f1)]&&serializeTransactionRequest(_0xed60b5(0x235),_0xd44ad6[_0xed60b5(0x1f1)],_0x1b4e1a,_0x4f4181),_0x542d25;}[_0x1ef52e(0x245)](_0x4e7e9c){const _0x596e51=_0x1ef52e;for(let _0x3f61ef=_0x4e7e9c['firstChild'];_0x3f61ef;_0x3f61ef=_0x3f61ef['nextSibling']){if(_0x3f61ef['nodeType']==Node[_0x596e51(0x242)])return this[_0x596e51(0x273)](_0x3f61ef);}return null;}[_0x1ef52e(0x273)](_0x40ab20){const _0x55f991=_0x1ef52e;if(_0x40ab20[_0x55f991(0x1ef)]&&_0x40ab20[_0x55f991(0x1ef)][_0x55f991(0x1ef)]){_0x40ab20=_0x40ab20['firstElementChild']['firstElementChild'];for(let _0x29d034=_0x40ab20[_0x55f991(0x1ef)];_0x29d034;_0x29d034=_0x29d034[_0x55f991(0x1f0)]){if(!(_0x29d034[_0x55f991(0x21a)][_0x55f991(0x258)]===0x0||_0x29d034[_0x55f991(0x21a)][_0x55f991(0x258)]===0x1&&_0x29d034['firstChild'][_0x55f991(0x214)]===0x3)){const _0x4c26df=[{}];return this['gmlFormat_'][_0x55f991(0x254)](_0x29d034,_0x4c26df),_0x595a4a(_0x4c26df[_0x55f991(0x26a)]()[_0x55f991(0x1e9)]);}}}return null;}}function createTransactionRequest(_0x36402c,_0x41aec9,_0x2bb653,_0x47b8a3){const _0x5871d1=_0x1ef52e,_0x81e7e0=_0x47b8a3[_0x5871d1(0x1fe)]?_0x47b8a3[_0x5871d1(0x1fe)]:FEATURE_PREFIX;let _0x2d1ab8;if(_0x2bb653==='1.0.0')_0x2d1ab8=0x2;else{if(_0x2bb653==='1.1.0')_0x2d1ab8=0x3;else _0x2bb653===_0x5871d1(0x1fd)&&(_0x2d1ab8=3.2);}const _0xebe9e4=Object['assign']({'node':_0x36402c},{'version':_0x2bb653,'featureNS':_0x47b8a3[_0x5871d1(0x26b)],'featureType':_0x47b8a3['featureType'],'featurePrefix':_0x81e7e0,'gmlVersion':_0x2d1ab8,'hasZ':_0x47b8a3['hasZ'],'srsName':_0x47b8a3[_0x5871d1(0x1e9)]},_0x41aec9);return _0xebe9e4;}function serializeTransactionRequest(_0x65887,_0x35516b,_0x488fe9,_0x4ec3f0){pushSerializeAndPop(_0x4ec3f0,TRANSACTION_SERIALIZERS,makeSimpleNodeFactory(_0x65887),_0x35516b,_0x488fe9);}function readTransactionSummary(_0x2165c3,_0xd2a640){return pushParseAndPop({},TRANSACTION_SUMMARY_PARSERS,_0x2165c3,_0xd2a640);}const OGC_FID_PARSERS={'http://www.opengis.net/ogc':{'FeatureId':makeArrayPusher(function(_0x5f2ca2,_0x126ed5){const _0x8bc679=_0x1ef52e;return _0x5f2ca2[_0x8bc679(0x24a)](_0x8bc679(0x1fb));})},'http://www.opengis.net/ogc/1.1':{'FeatureId':makeArrayPusher(function(_0x3111d6,_0x19c34d){const _0x17d872=_0x1ef52e;return _0x3111d6['getAttribute'](_0x17d872(0x1fb));})}};function fidParser(_0x23eee4,_0x39f7e7){parseNode(OGC_FID_PARSERS,_0x23eee4,_0x39f7e7);}const INSERT_RESULTS_PARSERS={'http://www.opengis.net/wfs':{'Feature':fidParser},'http://www.opengis.net/wfs/2.0':{'Feature':fidParser}};function readInsertResults(_0x19e65a,_0x140f40){return pushParseAndPop([],INSERT_RESULTS_PARSERS,_0x19e65a,_0x140f40);}function writeFeature(_0x3f8c2b,_0x4b7789,_0xbe9bbf){const _0x5b7dae=_0x1ef52e,_0x8131ff=_0xbe9bbf[_0xbe9bbf['length']-0x1],_0xe6ef4c=_0x8131ff['featureType'],_0x3ac7fc=_0x8131ff['featureNS'],_0x2f26a5=_0x8131ff['gmlVersion'],_0x6463a8=createElementNS(_0x3ac7fc,_0xe6ef4c);_0x3f8c2b[_0x5b7dae(0x24e)](_0x6463a8);if(_0x2f26a5===0x2)_0x225a98[_0x5b7dae(0x26e)][_0x5b7dae(0x212)](_0x6463a8,_0x4b7789,_0xbe9bbf);else _0x2f26a5===0x3?_0xe37f10['prototype'][_0x5b7dae(0x212)](_0x6463a8,_0x4b7789,_0xbe9bbf):_0x3bfbe6[_0x5b7dae(0x26e)]['writeFeatureElement'](_0x6463a8,_0x4b7789,_0xbe9bbf);}function writeOgcFidFilter(_0x1f0fd5,_0x1eb262,_0x3eb4c7){const _0x495bee=_0x1ef52e,_0x5beb37=_0x3eb4c7[_0x3eb4c7[_0x495bee(0x258)]-0x1],_0x12f13f=_0x5beb37[_0x495bee(0x26c)],_0x103fb8=OGCNS[_0x12f13f],_0x47e2ca=createElementNS(_0x103fb8,_0x495bee(0x267)),_0x1e449c=createElementNS(_0x103fb8,'FeatureId');_0x47e2ca[_0x495bee(0x24e)](_0x1e449c),_0x1e449c[_0x495bee(0x217)](_0x495bee(0x1fb),_0x1eb262),_0x1f0fd5['appendChild'](_0x47e2ca);}function getTypeName(_0x48767b,_0x5d4af4){const _0x10a45c=_0x1ef52e;_0x48767b=_0x48767b?_0x48767b:FEATURE_PREFIX;const _0x326594=_0x48767b+':';if(_0x5d4af4[_0x10a45c(0x21c)](_0x326594))return _0x5d4af4;return _0x326594+_0x5d4af4;}function writeDelete(_0x5586df,_0x2b9112,_0x2bd707){const _0x2507a=_0x1ef52e,_0x52b240=_0x2bd707[_0x2bd707[_0x2507a(0x258)]-0x1];assert(_0x2b9112['getId']()!==undefined,'Features\x20must\x20have\x20an\x20id\x20set');const _0x4443de=_0x52b240[_0x2507a(0x211)],_0x7ad852=_0x52b240[_0x2507a(0x1fe)],_0x53efd4=_0x52b240[_0x2507a(0x26b)],_0x578f94=getTypeName(_0x7ad852,_0x4443de);_0x5586df[_0x2507a(0x217)]('typeName',_0x578f94),_0x5586df[_0x2507a(0x20c)](XMLNS,_0x2507a(0x25d)+_0x7ad852,_0x53efd4);const _0x50bade=_0x2b9112[_0x2507a(0x257)]();_0x50bade!==undefined&&writeOgcFidFilter(_0x5586df,_0x50bade,_0x2bd707);}function writeUpdate(_0x575357,_0x4060c3,_0x39874a){const _0x1543d6=_0x1ef52e,_0x153fc1=_0x39874a[_0x39874a[_0x1543d6(0x258)]-0x1];assert(_0x4060c3[_0x1543d6(0x257)]()!==undefined,_0x1543d6(0x215));const _0x3af6ad=_0x153fc1[_0x1543d6(0x26c)],_0x310245=_0x153fc1['featureType'],_0x5890ac=_0x153fc1[_0x1543d6(0x1fe)],_0x59c236=_0x153fc1[_0x1543d6(0x26b)],_0x3dd4dd=getTypeName(_0x5890ac,_0x310245),_0x28bbbb=_0x4060c3[_0x1543d6(0x1eb)]();_0x575357[_0x1543d6(0x217)](_0x1543d6(0x25c),_0x3dd4dd),_0x575357[_0x1543d6(0x20c)](XMLNS,_0x1543d6(0x25d)+_0x5890ac,_0x59c236);const _0x20371f=_0x4060c3[_0x1543d6(0x257)]();if(_0x20371f!==undefined){const _0x1853f4=_0x4060c3[_0x1543d6(0x21f)](),_0x3a314a=[];for(let _0x1e9811=0x0,_0x557c50=_0x1853f4['length'];_0x1e9811<_0x557c50;_0x1e9811++){const _0x495511=_0x4060c3[_0x1543d6(0x206)](_0x1853f4[_0x1e9811]);if(_0x495511!==undefined){let _0x19d2d9=_0x1853f4[_0x1e9811];_0x495511&&typeof _0x495511[_0x1543d6(0x247)]===_0x1543d6(0x271)&&(_0x19d2d9=_0x28bbbb),_0x3a314a['push']({'name':_0x19d2d9,'value':_0x495511});}}pushSerializeAndPop({'version':_0x3af6ad,'gmlVersion':_0x153fc1[_0x1543d6(0x23b)],'node':_0x575357,'hasZ':_0x153fc1['hasZ'],'srsName':_0x153fc1[_0x1543d6(0x1e9)]},TRANSACTION_SERIALIZERS,makeSimpleNodeFactory(_0x1543d6(0x256)),_0x3a314a,_0x39874a),writeOgcFidFilter(_0x575357,_0x20371f,_0x39874a);}}function writeProperty(_0x1adf57,_0x562610,_0x2ddd01){const _0x933cbd=_0x1ef52e,_0x226bf5=_0x2ddd01[_0x2ddd01[_0x933cbd(0x258)]-0x1],_0x11d24c=_0x226bf5[_0x933cbd(0x26c)],_0x5e3974=WFSNS[_0x11d24c],_0x3fec48=_0x11d24c==='2.0.0'?_0x933cbd(0x1ec):_0x933cbd(0x248),_0x14aec6=createElementNS(_0x5e3974,_0x3fec48),_0x156423=_0x226bf5[_0x933cbd(0x23b)];_0x1adf57[_0x933cbd(0x24e)](_0x14aec6),writeStringTextNode(_0x14aec6,_0x562610[_0x933cbd(0x24c)]);if(_0x562610[_0x933cbd(0x203)]!==undefined&&_0x562610['value']!==null){const _0x995fd2=createElementNS(_0x5e3974,_0x933cbd(0x25f));_0x1adf57['appendChild'](_0x995fd2);if(_0x562610[_0x933cbd(0x203)]&&typeof _0x562610[_0x933cbd(0x203)]['getSimplifiedGeometry']===_0x933cbd(0x271)){if(_0x156423===0x2)_0x225a98[_0x933cbd(0x26e)][_0x933cbd(0x251)](_0x995fd2,_0x562610[_0x933cbd(0x203)],_0x2ddd01);else _0x156423===0x3?_0xe37f10[_0x933cbd(0x26e)][_0x933cbd(0x251)](_0x995fd2,_0x562610[_0x933cbd(0x203)],_0x2ddd01):_0x3bfbe6[_0x933cbd(0x26e)][_0x933cbd(0x251)](_0x995fd2,_0x562610[_0x933cbd(0x203)],_0x2ddd01);}else writeStringTextNode(_0x995fd2,_0x562610['value']);}}function writeNative(_0x641f5f,_0x3717c0,_0x5dc775){const _0x442a5f=_0x1ef52e;_0x3717c0[_0x442a5f(0x228)]&&_0x641f5f[_0x442a5f(0x217)]('vendorId',_0x3717c0[_0x442a5f(0x228)]),_0x3717c0['safeToIgnore']!==undefined&&_0x641f5f[_0x442a5f(0x217)]('safeToIgnore',String(_0x3717c0[_0x442a5f(0x1f4)])),_0x3717c0[_0x442a5f(0x203)]!==undefined&&writeStringTextNode(_0x641f5f,_0x3717c0[_0x442a5f(0x203)]);}const GETFEATURE_SERIALIZERS={'http://www.opengis.net/wfs':{'Query':makeChildAppender(writeQuery)},'http://www.opengis.net/wfs/2.0':{'Query':makeChildAppender(writeQuery)},'http://www.opengis.net/ogc':{'During':makeChildAppender(writeDuringFilter),'And':makeChildAppender(writeLogicalFilter),'Or':makeChildAppender(writeLogicalFilter),'Not':makeChildAppender(writeNotFilter),'BBOX':makeChildAppender(writeBboxFilter),'Contains':makeChildAppender(writeSpatialFilter),'Intersects':makeChildAppender(writeSpatialFilter),'Within':makeChildAppender(writeSpatialFilter),'DWithin':makeChildAppender(writeDWithinFilter),'PropertyIsEqualTo':makeChildAppender(writeComparisonFilter),'PropertyIsNotEqualTo':makeChildAppender(writeComparisonFilter),'PropertyIsLessThan':makeChildAppender(writeComparisonFilter),'PropertyIsLessThanOrEqualTo':makeChildAppender(writeComparisonFilter),'PropertyIsGreaterThan':makeChildAppender(writeComparisonFilter),'PropertyIsGreaterThanOrEqualTo':makeChildAppender(writeComparisonFilter),'PropertyIsNull':makeChildAppender(writeIsNullFilter),'PropertyIsBetween':makeChildAppender(writeIsBetweenFilter),'PropertyIsLike':makeChildAppender(writeIsLikeFilter)},'http://www.opengis.net/fes/2.0':{'During':makeChildAppender(writeDuringFilter),'And':makeChildAppender(writeLogicalFilter),'Or':makeChildAppender(writeLogicalFilter),'Not':makeChildAppender(writeNotFilter),'BBOX':makeChildAppender(writeBboxFilter),'Contains':makeChildAppender(writeSpatialFilter),'Disjoint':makeChildAppender(writeSpatialFilter),'Intersects':makeChildAppender(writeSpatialFilter),'ResourceId':makeChildAppender(writeResourceIdFilter),'Within':makeChildAppender(writeSpatialFilter),'DWithin':makeChildAppender(writeDWithinFilter),'PropertyIsEqualTo':makeChildAppender(writeComparisonFilter),'PropertyIsNotEqualTo':makeChildAppender(writeComparisonFilter),'PropertyIsLessThan':makeChildAppender(writeComparisonFilter),'PropertyIsLessThanOrEqualTo':makeChildAppender(writeComparisonFilter),'PropertyIsGreaterThan':makeChildAppender(writeComparisonFilter),'PropertyIsGreaterThanOrEqualTo':makeChildAppender(writeComparisonFilter),'PropertyIsNull':makeChildAppender(writeIsNullFilter),'PropertyIsBetween':makeChildAppender(writeIsBetweenFilter),'PropertyIsLike':makeChildAppender(writeIsLikeFilter)}};function writeQuery(_0x2a600f,_0x1ca5f5,_0x5e1b68){const _0x3ee735=_0x1ef52e,_0x4ba127=_0x5e1b68[_0x5e1b68['length']-0x1],_0x57694e=_0x4ba127[_0x3ee735(0x26c)],_0x4d9561=_0x4ba127['featurePrefix'],_0x564e6a=_0x4ba127[_0x3ee735(0x26b)],_0x111536=_0x4ba127[_0x3ee735(0x241)],_0x3a3eab=_0x4ba127[_0x3ee735(0x1e9)];let _0x596b89;_0x4d9561?_0x596b89=getTypeName(_0x4d9561,_0x1ca5f5):_0x596b89=_0x1ca5f5;let _0x498b12;_0x57694e===_0x3ee735(0x1fd)?_0x498b12='typeNames':_0x498b12=_0x3ee735(0x25c);_0x2a600f[_0x3ee735(0x217)](_0x498b12,_0x596b89);_0x3a3eab&&_0x2a600f['setAttribute'](_0x3ee735(0x1e9),_0x3a3eab);_0x564e6a&&_0x2a600f[_0x3ee735(0x20c)](XMLNS,_0x3ee735(0x25d)+_0x4d9561,_0x564e6a);const _0x1c3274=Object[_0x3ee735(0x216)]({},_0x4ba127);_0x1c3274[_0x3ee735(0x22c)]=_0x2a600f,pushSerializeAndPop(_0x1c3274,QUERY_SERIALIZERS,makeSimpleNodeFactory('PropertyName'),_0x111536,_0x5e1b68);const _0x1f6e93=_0x4ba127[_0x3ee735(0x22d)];if(_0x1f6e93){const _0x2a726c=createElementNS(getFilterNS(_0x57694e),_0x3ee735(0x267));_0x2a600f[_0x3ee735(0x24e)](_0x2a726c),writeFilterCondition(_0x2a726c,_0x1f6e93,_0x5e1b68);}}function writeFilterCondition(_0x491a77,_0x2a6873,_0x1e65c0){const _0x2af175=_0x1ef52e,_0xe2b0eb=_0x1e65c0[_0x1e65c0['length']-0x1],_0xf91498={'node':_0x491a77};Object[_0x2af175(0x216)](_0xf91498,{'context':_0xe2b0eb}),pushSerializeAndPop(_0xf91498,GETFEATURE_SERIALIZERS,makeSimpleNodeFactory(_0x2a6873[_0x2af175(0x1ed)]()),[_0x2a6873],_0x1e65c0);}function writeBboxFilter(_0x13b27b,_0x112cd5,_0x1f970f){const _0x4ce9d9=_0x1ef52e,_0x845687=_0x1f970f[_0x1f970f[_0x4ce9d9(0x258)]-0x1],_0x17b12e=_0x845687[_0x4ce9d9(0x1ea)],_0x328533=_0x17b12e[_0x4ce9d9(0x26c)];_0x845687['srsName']=_0x112cd5[_0x4ce9d9(0x1e9)];const _0x57d269=GML_FORMATS[_0x328533];writePropertyName(_0x328533,_0x13b27b,_0x112cd5[_0x4ce9d9(0x207)]),_0x57d269[_0x4ce9d9(0x26e)][_0x4ce9d9(0x251)](_0x13b27b,_0x112cd5[_0x4ce9d9(0x225)],_0x1f970f);}function writeResourceIdFilter(_0x370d82,_0x52f152,_0x117dce){const _0x4d2a69=_0x1ef52e;_0x370d82[_0x4d2a69(0x217)](_0x4d2a69(0x1f8),_0x52f152[_0x4d2a69(0x1f8)]);}function writeSpatialFilter(_0x32448e,_0xeac601,_0xfbd28f){const _0x222f3e=_0x1ef52e,_0x432069=_0xfbd28f[_0xfbd28f[_0x222f3e(0x258)]-0x1],_0x3cb8d0=_0x432069[_0x222f3e(0x1ea)],_0x30a907=_0x3cb8d0[_0x222f3e(0x26c)];_0x432069[_0x222f3e(0x1e9)]=_0xeac601[_0x222f3e(0x1e9)];const _0x3ed1e8=GML_FORMATS[_0x30a907];writePropertyName(_0x30a907,_0x32448e,_0xeac601[_0x222f3e(0x207)]),_0x3ed1e8[_0x222f3e(0x26e)][_0x222f3e(0x251)](_0x32448e,_0xeac601[_0x222f3e(0x25e)],_0xfbd28f);}function writeDWithinFilter(_0x2ad89d,_0x1b3b3c,_0x41ec29){const _0x3c90b9=_0x1ef52e,_0x18cc8d=_0x41ec29[_0x41ec29['length']-0x1],_0x5f1a4d=_0x18cc8d[_0x3c90b9(0x1ea)],_0x256f81=_0x5f1a4d[_0x3c90b9(0x26c)];writeSpatialFilter(_0x2ad89d,_0x1b3b3c,_0x41ec29);const _0x485c36=createElementNS(getFilterNS(_0x256f81),_0x3c90b9(0x263));writeStringTextNode(_0x485c36,_0x1b3b3c[_0x3c90b9(0x25a)]['toString']()),_0x256f81===_0x3c90b9(0x1fd)?_0x485c36[_0x3c90b9(0x217)](_0x3c90b9(0x226),_0x1b3b3c[_0x3c90b9(0x222)]):_0x485c36[_0x3c90b9(0x217)]('units',_0x1b3b3c['unit']),_0x2ad89d[_0x3c90b9(0x24e)](_0x485c36);}function writeDuringFilter(_0x30f428,_0x5dbaa9,_0x438482){const _0x50cc83=_0x1ef52e,_0x1e0bab=_0x438482[_0x438482[_0x50cc83(0x258)]-0x1],_0xccf21c=_0x1e0bab['context'],_0x5f1fbe=_0xccf21c['version'];writeExpression(FESNS[_0x5f1fbe],'ValueReference',_0x30f428,_0x5dbaa9[_0x50cc83(0x232)]);const _0x14a244=createElementNS(GMLNS,'TimePeriod');_0x30f428[_0x50cc83(0x24e)](_0x14a244);const _0xf62556=createElementNS(GMLNS,_0x50cc83(0x22b));_0x14a244[_0x50cc83(0x24e)](_0xf62556),writeTimeInstant(_0xf62556,_0x5dbaa9[_0x50cc83(0x22b)]);const _0xe96fdd=createElementNS(GMLNS,_0x50cc83(0x218));_0x14a244[_0x50cc83(0x24e)](_0xe96fdd),writeTimeInstant(_0xe96fdd,_0x5dbaa9['end']);}function writeLogicalFilter(_0x257e5e,_0x231594,_0x1e83bb){const _0x44b6ba=_0x1ef52e,_0x27da03=_0x1e83bb[_0x1e83bb[_0x44b6ba(0x258)]-0x1],_0x1751ef=_0x27da03['context'],_0x34c6fc={'node':_0x257e5e};Object[_0x44b6ba(0x216)](_0x34c6fc,{'context':_0x1751ef});const _0xe19009=_0x231594[_0x44b6ba(0x249)];for(let _0x1fd892=0x0,_0x59fa62=_0xe19009[_0x44b6ba(0x258)];_0x1fd892<_0x59fa62;++_0x1fd892){const _0x5e0eb4=_0xe19009[_0x1fd892];pushSerializeAndPop(_0x34c6fc,GETFEATURE_SERIALIZERS,makeSimpleNodeFactory(_0x5e0eb4[_0x44b6ba(0x1ed)]()),[_0x5e0eb4],_0x1e83bb);}}function writeNotFilter(_0x54e8e5,_0x3ff286,_0x245ba2){const _0x465578=_0x1ef52e,_0x3d285c=_0x245ba2[_0x245ba2[_0x465578(0x258)]-0x1],_0x256ba0=_0x3d285c['context'],_0x3127fe={'node':_0x54e8e5};Object['assign'](_0x3127fe,{'context':_0x256ba0});const _0x5cd8f4=_0x3ff286[_0x465578(0x229)];pushSerializeAndPop(_0x3127fe,GETFEATURE_SERIALIZERS,makeSimpleNodeFactory(_0x5cd8f4[_0x465578(0x1ed)]()),[_0x5cd8f4],_0x245ba2);}function writeComparisonFilter(_0x3defbd,_0x15fb7f,_0xf60076){const _0x3aa36f=_0x1ef52e,_0x57ec3e=_0xf60076[_0xf60076[_0x3aa36f(0x258)]-0x1],_0x1716aa=_0x57ec3e[_0x3aa36f(0x1ea)],_0xeb46a6=_0x1716aa['version'];_0x15fb7f[_0x3aa36f(0x236)]!==undefined&&_0x3defbd[_0x3aa36f(0x217)](_0x3aa36f(0x236),_0x15fb7f[_0x3aa36f(0x236)]['toString']()),writePropertyName(_0xeb46a6,_0x3defbd,_0x15fb7f[_0x3aa36f(0x232)]),writeLiteral(_0xeb46a6,_0x3defbd,''+_0x15fb7f[_0x3aa36f(0x22a)]);}function writeIsNullFilter(_0x134595,_0x35f648,_0x21df08){const _0x45baa2=_0x1ef52e,_0x2f6879=_0x21df08[_0x21df08[_0x45baa2(0x258)]-0x1],_0xa940bb=_0x2f6879[_0x45baa2(0x1ea)],_0x5eec41=_0xa940bb[_0x45baa2(0x26c)];writePropertyName(_0x5eec41,_0x134595,_0x35f648[_0x45baa2(0x232)]);}function writeIsBetweenFilter(_0x42d100,_0x421242,_0x5e0372){const _0x4cba14=_0x1ef52e,_0x614ec2=_0x5e0372[_0x5e0372['length']-0x1],_0x18661b=_0x614ec2[_0x4cba14(0x1ea)],_0x146309=_0x18661b[_0x4cba14(0x26c)],_0x3066e0=getFilterNS(_0x146309);writePropertyName(_0x146309,_0x42d100,_0x421242['propertyName']);const _0x45e0e8=createElementNS(_0x3066e0,'LowerBoundary');_0x42d100[_0x4cba14(0x24e)](_0x45e0e8),writeLiteral(_0x146309,_0x45e0e8,''+_0x421242[_0x4cba14(0x259)]);const _0x1d6aa3=createElementNS(_0x3066e0,_0x4cba14(0x265));_0x42d100[_0x4cba14(0x24e)](_0x1d6aa3),writeLiteral(_0x146309,_0x1d6aa3,''+_0x421242[_0x4cba14(0x202)]);}function writeIsLikeFilter(_0xbeeccc,_0x2a3d14,_0x1082a3){const _0x198f64=_0x1ef52e,_0x593dde=_0x1082a3[_0x1082a3['length']-0x1],_0x52d508=_0x593dde[_0x198f64(0x1ea)],_0x353296=_0x52d508[_0x198f64(0x26c)];_0xbeeccc[_0x198f64(0x217)](_0x198f64(0x253),_0x2a3d14[_0x198f64(0x253)]),_0xbeeccc[_0x198f64(0x217)](_0x198f64(0x23f),_0x2a3d14['singleChar']),_0xbeeccc[_0x198f64(0x217)](_0x198f64(0x266),_0x2a3d14[_0x198f64(0x266)]),_0x2a3d14[_0x198f64(0x236)]!==undefined&&_0xbeeccc[_0x198f64(0x217)]('matchCase',_0x2a3d14[_0x198f64(0x236)][_0x198f64(0x1f2)]()),writePropertyName(_0x353296,_0xbeeccc,_0x2a3d14[_0x198f64(0x232)]),writeLiteral(_0x353296,_0xbeeccc,''+_0x2a3d14[_0x198f64(0x209)]);}function writeExpression(_0x47b321,_0x17c708,_0x59ead4,_0x20fe43){const _0x39b06e=_0x1ef52e,_0xede24b=createElementNS(_0x47b321,_0x17c708);writeStringTextNode(_0xede24b,_0x20fe43),_0x59ead4[_0x39b06e(0x24e)](_0xede24b);}function writeLiteral(_0x48b9ba,_0x50dc1d,_0x424e3d){const _0x54d2cd=_0x1ef52e;writeExpression(getFilterNS(_0x48b9ba),_0x54d2cd(0x268),_0x50dc1d,_0x424e3d);}function writePropertyName(_0x3bdca2,_0x45212c,_0x398a3b){const _0x57c182=_0x1ef52e;_0x3bdca2==='2.0.0'?writeExpression(FESNS[_0x3bdca2],_0x57c182(0x1ec),_0x45212c,_0x398a3b):writeExpression(OGCNS[_0x3bdca2],_0x57c182(0x1f6),_0x45212c,_0x398a3b);}function writeTimeInstant(_0x1dcf0e,_0x172800){const _0x35db81=_0x1ef52e,_0x53e927=createElementNS(GMLNS,_0x35db81(0x21b));_0x1dcf0e[_0x35db81(0x24e)](_0x53e927);const _0x32bbca=createElementNS(GMLNS,_0x35db81(0x1ff));_0x53e927['appendChild'](_0x32bbca),writeStringTextNode(_0x32bbca,_0x172800);}export function writeFilter(_0x12c298,_0x21c26e){const _0x1184ff=_0x1ef52e;_0x21c26e=_0x21c26e||_0x1184ff(0x250);const _0x410aa0=createElementNS(getFilterNS(_0x21c26e),_0x1184ff(0x267)),_0x38b9bf={'node':_0x410aa0};return Object['assign'](_0x38b9bf,{'version':_0x21c26e,'filter':_0x12c298}),writeFilterCondition(_0x410aa0,_0x12c298,[_0x38b9bf]),_0x410aa0;}function writeGetFeature(_0x2d7102,_0xe4bba4,_0x49a0a6){const _0x23b076=_0x1ef52e,_0x1aa8d1=_0x49a0a6[_0x49a0a6[_0x23b076(0x258)]-0x1],_0x3e590b=Object[_0x23b076(0x216)]({},_0x1aa8d1);_0x3e590b[_0x23b076(0x22c)]=_0x2d7102,pushSerializeAndPop(_0x3e590b,GETFEATURE_SERIALIZERS,makeSimpleNodeFactory(_0x23b076(0x272)),_0xe4bba4,_0x49a0a6);}function getFilterNS(_0x131f49){let _0x358e40;return _0x131f49==='2.0.0'?_0x358e40=FESNS[_0x131f49]:_0x358e40=OGCNS[_0x131f49],_0x358e40;}function _0x4c55(){const _0x231593=['getSimplifiedGeometry','Name','conditions','getAttribute','featureTypes','name','numberOfFeatures','appendChild','http://www.opengis.net/ogc','1.1.0','writeGeometryElement','14184yvpJwQ','wildCard','readGeometryElement','gmlFormat_','Property','getId','length','lowerBoundary','distance','963639kYXNcu','typeName','xmlns:','geometry','Value','72vnMckW','readFeatureCollectionMetadataFromNode','featureType_','Distance','3179532nhkkSo','UpperBoundary','escapeChar','Filter','Literal','combineBboxAndFilter','pop','featureNS','version','count','prototype','nextSibling','`options.geometryName`\x20must\x20also\x20be\x20provided\x20when\x20`options.bbox`\x20is\x20set','function','Query','readProjectionFromNode','readExtentElement','srsName','context','getGeometryName','ValueReference','getTagName','195brbheB','firstElementChild','nextElementSibling','nativeElements','toString','11350120zOrFtv','safeToIgnore','3425890RryAbg','PropertyName','maxFeatures','rid','bbox','schemaLocation_','fid','FEATURE_COLLECTION_PARSERS','2.0.0','featurePrefix','timePosition','insertIds','http://www.w3.org/2000/xmlns/','upperBoundary','value','version_','WFS','get','geometryName','readTransactionResponse','pattern','resultType','2256520mwUAGY','setAttributeNS','forEach','readTransactionResponseFromDocument','getFeatureType','xsi:schemaLocation','featureType','writeFeatureElement','outputFormat','nodeType','Features\x20must\x20have\x20an\x20id\x20set','assign','setAttribute','end','Insert','childNodes','TimeInstant','startsWith','schemaLocation','featureNS_','getKeys','firstChild','readFeatureCollectionMetadata','unit','7JhnsMJ','string','extent','uom','viewParams','vendorId','condition','expression','begin','node','filter','GetFeature','http://www.opengis.net/wfs/2.0\x20http://schemas.opengis.net/wfs/2.0/wfs.xsd','writeTransaction','http://www.opengis.net/ogc/1.1','propertyName','setFeatureType','handle','Native','matchCase','startIndex','transactionSummary','http://www.opengis.net/fes','http://www.opengis.net/wfs\x20http://schemas.opengis.net/wfs/1.0.0/wfs.xsd','gmlVersion','isArray','feature','service','singleChar','194483mXkcrp','propertyNames','ELEMENT_NODE','readTransactionResponseFromNode','gmlOptions','readProjectionFromDocument','http://www.opengis.net/wfs'];_0x4c55=function(){return _0x231593;};return _0x4c55();}function _0x5892(_0x5630ab,_0x1f383d){const _0x4c5529=_0x4c55();return _0x5892=function(_0x589282,_0x36aa34){_0x589282=_0x589282-0x1e9;let _0x4646d6=_0x4c5529[_0x589282];return _0x4646d6;},_0x5892(_0x5630ab,_0x1f383d);}export default WFS;