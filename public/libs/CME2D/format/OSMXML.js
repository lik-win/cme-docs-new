const _0xe8d7e0=_0x5f11;(function(_0x5938ad,_0x1ea4ee){const _0x3306eb=_0x5f11,_0x535764=_0x5938ad();while(!![]){try{const _0x4fcfce=-parseInt(_0x3306eb(0xe7))/0x1*(-parseInt(_0x3306eb(0xdc))/0x2)+-parseInt(_0x3306eb(0xea))/0x3*(parseInt(_0x3306eb(0xe8))/0x4)+parseInt(_0x3306eb(0xdd))/0x5*(parseInt(_0x3306eb(0xd1))/0x6)+-parseInt(_0x3306eb(0xe1))/0x7+parseInt(_0x3306eb(0xe6))/0x8+parseInt(_0x3306eb(0xe9))/0x9*(parseInt(_0x3306eb(0xe5))/0xa)+-parseInt(_0x3306eb(0xdf))/0xb;if(_0x4fcfce===_0x1ea4ee)break;else _0x535764['push'](_0x535764['shift']());}catch(_0x4f2edc){_0x535764['push'](_0x535764['shift']());}}}(_0x1f58,0xa3eb5));import _0x55c505 from'../Feature.js';import _0x5cbf73 from'../geom/LineString.js';import _0x2c95dc from'../geom/Point.js';function _0x5f11(_0x51a18a,_0x58f68c){const _0x1f58a6=_0x1f58();return _0x5f11=function(_0x5f113a,_0x153d38){_0x5f113a=_0x5f113a-0xce;let _0x51ff92=_0x1f58a6[_0x5f113a];return _0x51ff92;},_0x5f11(_0x51a18a,_0x58f68c);}import _0x26d720 from'../geom/Polygon.js';function _0x1f58(){const _0x3cd039=['hasAttribute','setId','lat','flatCoordinates','getAttribute','ndrefs','ways','features','14258dkcnDr','362070jjdddg','getReadOptions','8392956qwdqOM','lon','4537288KAtAum','EPSG:4326','ref','readFeaturesFromNode','1580bUYPdZ','5602376jnWXlP','2XhuzrQ','40720JmeSQj','30933WXVIsa','141vMbbFd','length','push','setProperties','tags','108YFppjm','localName','nodes'];_0x1f58=function(){return _0x3cd039;};return _0x1f58();}import _0x378e4b from'./XMLFeature.js';import{extend}from'../array.js';import{get as _0x575447}from'../proj.js';import{isEmpty}from'../obj.js';import{makeStructureNS,pushParseAndPop}from'../xml.js';import{transformGeometryWithOptions}from'./Feature.js';const NAMESPACE_URIS=[null],WAY_PARSERS=makeStructureNS(NAMESPACE_URIS,{'nd':readNd,'tag':readTag}),PARSERS=makeStructureNS(NAMESPACE_URIS,{'node':readNode,'way':readWay});class OSMXML extends _0x378e4b{constructor(){const _0xbe2014=_0x5f11;super(),this['dataProjection']=_0x575447(_0xbe2014(0xe2));}[_0xe8d7e0(0xe4)](_0x514f87,_0x1dc153){const _0x4a0efd=_0xe8d7e0;_0x1dc153=this[_0x4a0efd(0xde)](_0x514f87,_0x1dc153);if(_0x514f87[_0x4a0efd(0xd2)]=='osm'){const _0x5dc8c1=pushParseAndPop({'nodes':{},'ways':[],'features':[]},PARSERS,_0x514f87,[_0x1dc153]);for(let _0x26df22=0x0;_0x26df22<_0x5dc8c1[_0x4a0efd(0xda)][_0x4a0efd(0xeb)];_0x26df22++){const _0xfdc05a=_0x5dc8c1[_0x4a0efd(0xda)][_0x26df22],_0x123655=_0xfdc05a[_0x4a0efd(0xd7)];if(!_0x123655[_0x4a0efd(0xeb)])for(let _0x52e553=0x0,_0x4dfd42=_0xfdc05a[_0x4a0efd(0xd9)][_0x4a0efd(0xeb)];_0x52e553<_0x4dfd42;_0x52e553++){const _0x14030d=_0x5dc8c1[_0x4a0efd(0xd3)][_0xfdc05a[_0x4a0efd(0xd9)][_0x52e553]];extend(_0x123655,_0x14030d);}let _0x1f211f;_0xfdc05a[_0x4a0efd(0xd9)][0x0]==_0xfdc05a[_0x4a0efd(0xd9)][_0xfdc05a['ndrefs'][_0x4a0efd(0xeb)]-0x1]?_0x1f211f=new _0x26d720(_0x123655,'XY',[_0x123655[_0x4a0efd(0xeb)]]):_0x1f211f=new _0x5cbf73(_0x123655,'XY');transformGeometryWithOptions(_0x1f211f,![],_0x1dc153);const _0x5620d5=new _0x55c505(_0x1f211f);_0xfdc05a['id']!==undefined&&_0x5620d5[_0x4a0efd(0xd5)](_0xfdc05a['id']),_0x5620d5['setProperties'](_0xfdc05a[_0x4a0efd(0xd0)],!![]),_0x5dc8c1[_0x4a0efd(0xdb)][_0x4a0efd(0xce)](_0x5620d5);}if(_0x5dc8c1[_0x4a0efd(0xdb)])return _0x5dc8c1[_0x4a0efd(0xdb)];}return[];}}const NODE_PARSERS=makeStructureNS(NAMESPACE_URIS,{'tag':readTag});function readNode(_0x114814,_0x4da287){const _0x1baa9e=_0xe8d7e0,_0x18bd98=_0x4da287[0x0],_0x480d1d=_0x4da287[_0x4da287[_0x1baa9e(0xeb)]-0x1],_0x3cbcb2=_0x114814[_0x1baa9e(0xd8)]('id'),_0x2f9418=[parseFloat(_0x114814[_0x1baa9e(0xd8)](_0x1baa9e(0xe0))),parseFloat(_0x114814[_0x1baa9e(0xd8)](_0x1baa9e(0xd6)))];_0x480d1d[_0x1baa9e(0xd3)][_0x3cbcb2]=_0x2f9418;const _0xcb8992=pushParseAndPop({'tags':{}},NODE_PARSERS,_0x114814,_0x4da287);if(!isEmpty(_0xcb8992['tags'])){const _0x530be4=new _0x2c95dc(_0x2f9418);transformGeometryWithOptions(_0x530be4,![],_0x18bd98);const _0x3cccd8=new _0x55c505(_0x530be4);_0x3cbcb2!==undefined&&_0x3cccd8[_0x1baa9e(0xd5)](_0x3cbcb2),_0x3cccd8[_0x1baa9e(0xcf)](_0xcb8992['tags'],!![]),_0x480d1d[_0x1baa9e(0xdb)][_0x1baa9e(0xce)](_0x3cccd8);}}function readWay(_0xb92ef0,_0x4e925c){const _0x5ff337=_0xe8d7e0,_0x267206=_0xb92ef0[_0x5ff337(0xd8)]('id'),_0x2fb430=pushParseAndPop({'id':_0x267206,'ndrefs':[],'flatCoordinates':[],'tags':{}},WAY_PARSERS,_0xb92ef0,_0x4e925c),_0x2121e1=_0x4e925c[_0x4e925c['length']-0x1];_0x2121e1[_0x5ff337(0xda)]['push'](_0x2fb430);}function readNd(_0x4d16af,_0x19c099){const _0x20050b=_0xe8d7e0,_0x3bfb1e=_0x19c099[_0x19c099['length']-0x1];_0x3bfb1e[_0x20050b(0xd9)][_0x20050b(0xce)](_0x4d16af[_0x20050b(0xd8)](_0x20050b(0xe3))),_0x4d16af[_0x20050b(0xd4)](_0x20050b(0xe0))&&_0x4d16af[_0x20050b(0xd4)](_0x20050b(0xd6))&&(_0x3bfb1e[_0x20050b(0xd7)][_0x20050b(0xce)](parseFloat(_0x4d16af['getAttribute'](_0x20050b(0xe0)))),_0x3bfb1e[_0x20050b(0xd7)][_0x20050b(0xce)](parseFloat(_0x4d16af[_0x20050b(0xd8)](_0x20050b(0xd6)))));}function readTag(_0x2e402f,_0x55643f){const _0x184f53=_0xe8d7e0,_0x367376=_0x55643f[_0x55643f[_0x184f53(0xeb)]-0x1];_0x367376['tags'][_0x2e402f[_0x184f53(0xd8)]('k')]=_0x2e402f[_0x184f53(0xd8)]('v');}export default OSMXML;