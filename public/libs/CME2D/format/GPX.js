const _0x4b3183=_0x1fcc;(function(_0x68a5cb,_0x51fc7c){const _0x517c7a=_0x1fcc,_0x3a6ba7=_0x68a5cb();while(!![]){try{const _0x160dda=parseInt(_0x517c7a(0x191))/0x1*(parseInt(_0x517c7a(0x149))/0x2)+-parseInt(_0x517c7a(0x174))/0x3+parseInt(_0x517c7a(0x176))/0x4*(parseInt(_0x517c7a(0x157))/0x5)+-parseInt(_0x517c7a(0x197))/0x6*(-parseInt(_0x517c7a(0x164))/0x7)+parseInt(_0x517c7a(0x156))/0x8+-parseInt(_0x517c7a(0x185))/0x9*(parseInt(_0x517c7a(0x175))/0xa)+-parseInt(_0x517c7a(0x19f))/0xb;if(_0x160dda===_0x51fc7c)break;else _0x3a6ba7['push'](_0x3a6ba7['shift']());}catch(_0x52b091){_0x3a6ba7['push'](_0x3a6ba7['shift']());}}}(_0x7043,0xd2769));import _0x5986e8 from'../Feature.js';import _0x137d6a from'../geom/LineString.js';import _0x65fa63 from'../geom/MultiLineString.js';import _0xb0655e from'../geom/Point.js';import _0x3c693a from'./XMLFeature.js';import{OBJECT_PROPERTY_NODE_FACTORY,XML_SCHEMA_INSTANCE_URI,createElementNS,isDocument,makeArrayPusher,makeArraySerializer,makeChildAppender,makeObjectPropertySetter,makeSequence,makeSimpleNodeFactory,makeStructureNS,parse,parseNode,pushParseAndPop,pushSerializeAndPop}from'../xml.js';import{get as _0x36ed30}from'../proj.js';import{readDateTime,readDecimal,readPositiveInteger,readString,writeDateTimeTextNode,writeDecimalTextNode,writeNonNegativeIntegerTextNode,writeStringTextNode}from'./xsd.js';import{transformGeometryWithOptions}from'./Feature.js';function _0x1fcc(_0x4a9144,_0x547e0c){const _0x70434b=_0x7043();return _0x1fcc=function(_0x1fccc9,_0x4943e3){_0x1fccc9=_0x1fccc9-0x13e;let _0x182c8c=_0x70434b[_0x1fccc9];return _0x182c8c;},_0x1fcc(_0x4a9144,_0x547e0c);}const NAMESPACE_URIS=[null,_0x4b3183(0x181),_0x4b3183(0x151)],SCHEMA_LOCATION=_0x4b3183(0x14e)+_0x4b3183(0x17d),FEATURE_READER={'rte':readRte,'trk':readTrk,'wpt':readWpt},GPX_PARSERS=makeStructureNS(NAMESPACE_URIS,{'rte':makeArrayPusher(readRte),'trk':makeArrayPusher(readTrk),'wpt':makeArrayPusher(readWpt)}),LINK_PARSERS=makeStructureNS(NAMESPACE_URIS,{'text':makeObjectPropertySetter(readString,_0x4b3183(0x16a)),'type':makeObjectPropertySetter(readString,_0x4b3183(0x13f))}),AUTHOR_PARSERS=makeStructureNS(NAMESPACE_URIS,{'name':makeObjectPropertySetter(readString),'email':parseEmail,'link':parseLink}),METADATA_PARSERS=makeStructureNS(NAMESPACE_URIS,{'name':makeObjectPropertySetter(readString),'desc':makeObjectPropertySetter(readString),'author':makeObjectPropertySetter(readAuthor),'copyright':makeObjectPropertySetter(readCopyright),'link':parseLink,'time':makeObjectPropertySetter(readDateTime),'keywords':makeObjectPropertySetter(readString),'bounds':parseBounds,'extensions':parseExtensions}),COPYRIGHT_PARSERS=makeStructureNS(NAMESPACE_URIS,{'year':makeObjectPropertySetter(readPositiveInteger),'license':makeObjectPropertySetter(readString)}),GPX_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{'rte':makeChildAppender(writeRte),'trk':makeChildAppender(writeTrk),'wpt':makeChildAppender(writeWpt)});class GPX extends _0x3c693a{constructor(_0x427710){const _0x253d8d=_0x4b3183;super(),_0x427710=_0x427710?_0x427710:{},this[_0x253d8d(0x196)]=_0x36ed30(_0x253d8d(0x178)),this['readExtensions_']=_0x427710[_0x253d8d(0x13e)];}[_0x4b3183(0x171)](_0x42a3d8){const _0x4ee0df=_0x4b3183;!_0x42a3d8&&(_0x42a3d8=[]);for(let _0x2e810b=0x0,_0x51c9b2=_0x42a3d8[_0x4ee0df(0x18a)];_0x2e810b<_0x51c9b2;++_0x2e810b){const _0x53b22d=_0x42a3d8[_0x2e810b];if(this['readExtensions_']){const _0x311227=_0x53b22d[_0x4ee0df(0x190)](_0x4ee0df(0x189))||null;this['readExtensions_'](_0x53b22d,_0x311227);}_0x53b22d[_0x4ee0df(0x154)](_0x4ee0df(0x189),undefined);}}[_0x4b3183(0x14b)](_0x410daa){const _0x439c34=_0x4b3183;if(!_0x410daa)return null;if(typeof _0x410daa===_0x439c34(0x173))return this['readMetadataFromDocument'](parse(_0x410daa));if(isDocument(_0x410daa))return this[_0x439c34(0x180)](_0x410daa);return this[_0x439c34(0x147)](_0x410daa);}[_0x4b3183(0x180)](_0x43e5c7){const _0x28bba3=_0x4b3183;for(let _0x456df5=_0x43e5c7[_0x28bba3(0x142)];_0x456df5;_0x456df5=_0x456df5[_0x28bba3(0x150)]){if(_0x456df5['nodeType']===Node['ELEMENT_NODE']){const _0x1f9269=this[_0x28bba3(0x147)](_0x456df5);if(_0x1f9269)return _0x1f9269;}}return null;}[_0x4b3183(0x147)](_0x212f9e){const _0x49cdd0=_0x4b3183;if(!NAMESPACE_URIS['includes'](_0x212f9e['namespaceURI']))return null;for(let _0x19281e=_0x212f9e[_0x49cdd0(0x16b)];_0x19281e;_0x19281e=_0x19281e['nextElementSibling']){if(NAMESPACE_URIS[_0x49cdd0(0x184)](_0x19281e['namespaceURI'])&&_0x19281e['localName']===_0x49cdd0(0x166))return pushParseAndPop({},METADATA_PARSERS,_0x19281e,[]);}return null;}[_0x4b3183(0x163)](_0x2df342,_0x1da1ce){const _0x219747=_0x4b3183;if(!NAMESPACE_URIS[_0x219747(0x184)](_0x2df342['namespaceURI']))return null;const _0x4d3708=FEATURE_READER[_0x2df342[_0x219747(0x141)]];if(!_0x4d3708)return null;const _0x13e9b5=_0x4d3708(_0x2df342,[this[_0x219747(0x183)](_0x2df342,_0x1da1ce)]);if(!_0x13e9b5)return null;return this['handleReadExtensions_']([_0x13e9b5]),_0x13e9b5;}['readFeaturesFromNode'](_0xf30905,_0x4bb49c){const _0x21a830=_0x4b3183;if(!NAMESPACE_URIS[_0x21a830(0x184)](_0xf30905['namespaceURI']))return[];if(_0xf30905[_0x21a830(0x141)]==_0x21a830(0x143)){const _0x12c2e9=pushParseAndPop([],GPX_PARSERS,_0xf30905,[this[_0x21a830(0x183)](_0xf30905,_0x4bb49c)]);if(_0x12c2e9)return this[_0x21a830(0x171)](_0x12c2e9),_0x12c2e9;return[];}return[];}[_0x4b3183(0x17c)](_0x480b49,_0x49093a){const _0x3a573d=_0x4b3183;_0x49093a=this[_0x3a573d(0x15f)](_0x49093a);const _0x4141ce=createElementNS(_0x3a573d(0x151),_0x3a573d(0x143)),_0x344fa9=_0x3a573d(0x17e);return _0x4141ce[_0x3a573d(0x148)](_0x344fa9,_0x3a573d(0x195),XML_SCHEMA_INSTANCE_URI),_0x4141ce[_0x3a573d(0x148)](XML_SCHEMA_INSTANCE_URI,_0x3a573d(0x17f),SCHEMA_LOCATION),_0x4141ce['setAttribute']('version','1.1'),_0x4141ce[_0x3a573d(0x16e)](_0x3a573d(0x192),_0x3a573d(0x18f)),pushSerializeAndPop({'node':_0x4141ce},GPX_SERIALIZERS,GPX_NODE_FACTORY,_0x480b49,[_0x49093a]),_0x4141ce;}}const RTE_PARSERS=makeStructureNS(NAMESPACE_URIS,{'name':makeObjectPropertySetter(readString),'cmt':makeObjectPropertySetter(readString),'desc':makeObjectPropertySetter(readString),'src':makeObjectPropertySetter(readString),'link':parseLink,'number':makeObjectPropertySetter(readPositiveInteger),'extensions':parseExtensions,'type':makeObjectPropertySetter(readString),'rtept':parseRtePt}),RTEPT_PARSERS=makeStructureNS(NAMESPACE_URIS,{'ele':makeObjectPropertySetter(readDecimal),'time':makeObjectPropertySetter(readDateTime)}),TRK_PARSERS=makeStructureNS(NAMESPACE_URIS,{'name':makeObjectPropertySetter(readString),'cmt':makeObjectPropertySetter(readString),'desc':makeObjectPropertySetter(readString),'src':makeObjectPropertySetter(readString),'link':parseLink,'number':makeObjectPropertySetter(readPositiveInteger),'type':makeObjectPropertySetter(readString),'extensions':parseExtensions,'trkseg':parseTrkSeg}),TRKSEG_PARSERS=makeStructureNS(NAMESPACE_URIS,{'trkpt':parseTrkPt}),TRKPT_PARSERS=makeStructureNS(NAMESPACE_URIS,{'ele':makeObjectPropertySetter(readDecimal),'time':makeObjectPropertySetter(readDateTime)}),WPT_PARSERS=makeStructureNS(NAMESPACE_URIS,{'ele':makeObjectPropertySetter(readDecimal),'time':makeObjectPropertySetter(readDateTime),'magvar':makeObjectPropertySetter(readDecimal),'geoidheight':makeObjectPropertySetter(readDecimal),'name':makeObjectPropertySetter(readString),'cmt':makeObjectPropertySetter(readString),'desc':makeObjectPropertySetter(readString),'src':makeObjectPropertySetter(readString),'link':parseLink,'sym':makeObjectPropertySetter(readString),'type':makeObjectPropertySetter(readString),'fix':makeObjectPropertySetter(readString),'sat':makeObjectPropertySetter(readPositiveInteger),'hdop':makeObjectPropertySetter(readDecimal),'vdop':makeObjectPropertySetter(readDecimal),'pdop':makeObjectPropertySetter(readDecimal),'ageofdgpsdata':makeObjectPropertySetter(readDecimal),'dgpsid':makeObjectPropertySetter(readPositiveInteger),'extensions':parseExtensions}),LINK_SEQUENCE=[_0x4b3183(0x170),_0x4b3183(0x18c)],LINK_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{'text':makeChildAppender(writeStringTextNode),'type':makeChildAppender(writeStringTextNode)}),RTE_SEQUENCE=makeStructureNS(NAMESPACE_URIS,['name',_0x4b3183(0x19e),_0x4b3183(0x160),_0x4b3183(0x19b),_0x4b3183(0x193),'number',_0x4b3183(0x18c),'rtept']),RTE_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{'name':makeChildAppender(writeStringTextNode),'cmt':makeChildAppender(writeStringTextNode),'desc':makeChildAppender(writeStringTextNode),'src':makeChildAppender(writeStringTextNode),'link':makeChildAppender(writeLink),'number':makeChildAppender(writeNonNegativeIntegerTextNode),'type':makeChildAppender(writeStringTextNode),'rtept':makeArraySerializer(makeChildAppender(writeWptType))}),RTEPT_TYPE_SEQUENCE=makeStructureNS(NAMESPACE_URIS,[_0x4b3183(0x199),_0x4b3183(0x15e)]),TRK_SEQUENCE=makeStructureNS(NAMESPACE_URIS,[_0x4b3183(0x159),_0x4b3183(0x19e),'desc',_0x4b3183(0x19b),_0x4b3183(0x193),'number',_0x4b3183(0x18c),'trkseg']),TRK_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{'name':makeChildAppender(writeStringTextNode),'cmt':makeChildAppender(writeStringTextNode),'desc':makeChildAppender(writeStringTextNode),'src':makeChildAppender(writeStringTextNode),'link':makeChildAppender(writeLink),'number':makeChildAppender(writeNonNegativeIntegerTextNode),'type':makeChildAppender(writeStringTextNode),'trkseg':makeArraySerializer(makeChildAppender(writeTrkSeg))}),TRKSEG_NODE_FACTORY=makeSimpleNodeFactory(_0x4b3183(0x177)),TRKSEG_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{'trkpt':makeChildAppender(writeWptType)}),WPT_TYPE_SEQUENCE=makeStructureNS(NAMESPACE_URIS,[_0x4b3183(0x199),_0x4b3183(0x15e),_0x4b3183(0x19a),_0x4b3183(0x165),_0x4b3183(0x159),_0x4b3183(0x19e),_0x4b3183(0x160),_0x4b3183(0x19b),'link','sym',_0x4b3183(0x18c),'fix','sat',_0x4b3183(0x167),_0x4b3183(0x153),'pdop',_0x4b3183(0x168),'dgpsid']),WPT_TYPE_SERIALIZERS=makeStructureNS(NAMESPACE_URIS,{'ele':makeChildAppender(writeDecimalTextNode),'time':makeChildAppender(writeDateTimeTextNode),'magvar':makeChildAppender(writeDecimalTextNode),'geoidheight':makeChildAppender(writeDecimalTextNode),'name':makeChildAppender(writeStringTextNode),'cmt':makeChildAppender(writeStringTextNode),'desc':makeChildAppender(writeStringTextNode),'src':makeChildAppender(writeStringTextNode),'link':makeChildAppender(writeLink),'sym':makeChildAppender(writeStringTextNode),'type':makeChildAppender(writeStringTextNode),'fix':makeChildAppender(writeStringTextNode),'sat':makeChildAppender(writeNonNegativeIntegerTextNode),'hdop':makeChildAppender(writeDecimalTextNode),'vdop':makeChildAppender(writeDecimalTextNode),'pdop':makeChildAppender(writeDecimalTextNode),'ageofdgpsdata':makeChildAppender(writeDecimalTextNode),'dgpsid':makeChildAppender(writeNonNegativeIntegerTextNode)}),GEOMETRY_TYPE_TO_NODENAME={'Point':_0x4b3183(0x155),'LineString':'rte','MultiLineString':_0x4b3183(0x152)};function GPX_NODE_FACTORY(_0x35ca70,_0x2ecf3b,_0x1a1100){const _0x5b93d9=_0x4b3183,_0x12f5a6=_0x35ca70[_0x5b93d9(0x15c)]();if(_0x12f5a6){const _0xdde83b=GEOMETRY_TYPE_TO_NODENAME[_0x12f5a6[_0x5b93d9(0x14f)]()];if(_0xdde83b){const _0x5c66bf=_0x2ecf3b[_0x2ecf3b[_0x5b93d9(0x18a)]-0x1][_0x5b93d9(0x169)];return createElementNS(_0x5c66bf[_0x5b93d9(0x17a)],_0xdde83b);}}}function appendCoordinate(_0x819f15,_0xb85c06,_0x26584c,_0x2fe90e){const _0x1cfa1a=_0x4b3183;return _0x819f15[_0x1cfa1a(0x18e)](parseFloat(_0x26584c['getAttribute'](_0x1cfa1a(0x182))),parseFloat(_0x26584c[_0x1cfa1a(0x161)](_0x1cfa1a(0x18d)))),_0x1cfa1a(0x199)in _0x2fe90e?(_0x819f15[_0x1cfa1a(0x18e)](_0x2fe90e[_0x1cfa1a(0x199)]),delete _0x2fe90e['ele'],_0xb85c06[_0x1cfa1a(0x16f)]=!![]):_0x819f15[_0x1cfa1a(0x18e)](0x0),_0x1cfa1a(0x15e)in _0x2fe90e?(_0x819f15[_0x1cfa1a(0x18e)](_0x2fe90e[_0x1cfa1a(0x15e)]),delete _0x2fe90e[_0x1cfa1a(0x15e)],_0xb85c06[_0x1cfa1a(0x144)]=!![]):_0x819f15[_0x1cfa1a(0x18e)](0x0),_0x819f15;}function applyLayoutOptions(_0x2b857e,_0x13726e,_0x9e5b0d){const _0x2a13b8=_0x4b3183;let _0x26780a='XY',_0x11223b=0x2;if(_0x2b857e[_0x2a13b8(0x16f)]&&_0x2b857e[_0x2a13b8(0x144)])_0x26780a=_0x2a13b8(0x18b),_0x11223b=0x4;else{if(_0x2b857e[_0x2a13b8(0x16f)])_0x26780a=_0x2a13b8(0x14a),_0x11223b=0x3;else _0x2b857e[_0x2a13b8(0x144)]&&(_0x26780a=_0x2a13b8(0x188),_0x11223b=0x3);}if(_0x11223b!==0x4){for(let _0x35fd71=0x0,_0xe08880=_0x13726e['length']/0x4;_0x35fd71<_0xe08880;_0x35fd71++){_0x13726e[_0x35fd71*_0x11223b]=_0x13726e[_0x35fd71*0x4],_0x13726e[_0x35fd71*_0x11223b+0x1]=_0x13726e[_0x35fd71*0x4+0x1],_0x2b857e['hasZ']&&(_0x13726e[_0x35fd71*_0x11223b+0x2]=_0x13726e[_0x35fd71*0x4+0x2]),_0x2b857e[_0x2a13b8(0x144)]&&(_0x13726e[_0x35fd71*_0x11223b+0x2]=_0x13726e[_0x35fd71*0x4+0x3]);}_0x13726e['length']=_0x13726e[_0x2a13b8(0x18a)]/0x4*_0x11223b;if(_0x9e5b0d)for(let _0x331387=0x0,_0x41985b=_0x9e5b0d['length'];_0x331387<_0x41985b;_0x331387++){_0x9e5b0d[_0x331387]=_0x9e5b0d[_0x331387]/0x4*_0x11223b;}}return _0x26780a;}function readAuthor(_0x3a8a59,_0x47e8d5){const _0x592814=pushParseAndPop({},AUTHOR_PARSERS,_0x3a8a59,_0x47e8d5);if(_0x592814)return _0x592814;return undefined;}function readCopyright(_0x3b4c43,_0x3d47db){const _0x2faabc=_0x4b3183,_0x599e66=pushParseAndPop({},COPYRIGHT_PARSERS,_0x3b4c43,_0x3d47db);if(_0x599e66){const _0x565b41=_0x3b4c43[_0x2faabc(0x161)](_0x2faabc(0x162));return _0x565b41!==null&&(_0x599e66['author']=_0x565b41),_0x599e66;}return undefined;}function parseBounds(_0x5bc118,_0x3acf93){const _0x1ae902=_0x4b3183,_0x5dc4bc=_0x3acf93[_0x3acf93[_0x1ae902(0x18a)]-0x1],_0x431bec=_0x5bc118[_0x1ae902(0x161)](_0x1ae902(0x15a)),_0x493cc2=_0x5bc118[_0x1ae902(0x161)](_0x1ae902(0x140)),_0x2775de=_0x5bc118['getAttribute'](_0x1ae902(0x17b)),_0xd58bad=_0x5bc118[_0x1ae902(0x161)](_0x1ae902(0x146));_0x493cc2!==null&&_0x431bec!==null&&_0xd58bad!==null&&_0x2775de!==null&&(_0x5dc4bc[_0x1ae902(0x15b)]=[[parseFloat(_0x493cc2),parseFloat(_0x431bec)],[parseFloat(_0xd58bad),parseFloat(_0x2775de)]]);}function parseEmail(_0x6fe127,_0x5b2c15){const _0x480563=_0x4b3183,_0x2824d1=_0x5b2c15[_0x5b2c15['length']-0x1],_0x188327=_0x6fe127[_0x480563(0x161)]('id'),_0x1f766b=_0x6fe127[_0x480563(0x161)]('domain');_0x188327!==null&&_0x1f766b!==null&&(_0x2824d1['email']=_0x188327+'@'+_0x1f766b);}function parseLink(_0x5e9c55,_0x4cf1ef){const _0xfdf333=_0x4b3183,_0xcabb6e=_0x4cf1ef[_0x4cf1ef[_0xfdf333(0x18a)]-0x1],_0x7b2858=_0x5e9c55[_0xfdf333(0x161)](_0xfdf333(0x16c));_0x7b2858!==null&&(_0xcabb6e['link']=_0x7b2858),parseNode(LINK_PARSERS,_0x5e9c55,_0x4cf1ef);}function parseExtensions(_0x4362eb,_0x4b704c){const _0x5574d1=_0x4b3183,_0x1e98ff=_0x4b704c[_0x4b704c[_0x5574d1(0x18a)]-0x1];_0x1e98ff[_0x5574d1(0x189)]=_0x4362eb;}function _0x7043(){const _0x184625=['nextSibling','http://www.topografix.com/GPX/1/1','trk','vdop','set','wpt','6855344OQdjKP','2780PSfWLw','getLayout','name','minlat','bounds','getGeometry','ends','time','adaptOptions','desc','getAttribute','author','readFeatureFromNode','7sIWlMq','geoidheight','metadata','hdop','ageofdgpsdata','node','linkText','firstElementChild','href','geometryLayout','setAttribute','hasZ','text','handleReadExtensions_','rtept','string','4210362kQqHQu','80YNOdZW','4204gkzGHC','trkpt','EPSG:4326','getProperties','namespaceURI','maxlat','writeFeaturesNode','http://www.topografix.com/GPX/1/1/gpx.xsd','http://www.w3.org/2000/xmlns/','xsi:schemaLocation','readMetadataFromDocument','http://www.topografix.com/GPX/1/0','lon','getReadOptions','includes','173223ZJvWfH','layoutOptions','Point','XYM','extensionsNode_','length','XYZM','type','lat','push','OpenLayers','get','78yabwTt','creator','link','MultiLineString','xmlns:xsi','dataProjection','8663718oMNzwC','setProperties','ele','magvar','src','flatCoordinates','trkseg','cmt','21155728KDluvb','readExtensions','linkType','minlon','localName','firstChild','gpx','hasM','getCoordinates','maxlon','readMetadataFromNode','setAttributeNS','37372JqRNgm','XYZ','readMetadata','getLineStrings','properties','http://www.topografix.com/GPX/1/1\x20','getType'];_0x7043=function(){return _0x184625;};return _0x7043();}function parseRtePt(_0x894d03,_0x1e7e59){const _0x794b54=_0x4b3183,_0x51c4b1=pushParseAndPop({},RTEPT_PARSERS,_0x894d03,_0x1e7e59);if(_0x51c4b1){const _0x4dde84=_0x1e7e59[_0x1e7e59['length']-0x1],_0x2db160=_0x4dde84[_0x794b54(0x19c)],_0x2990bf=_0x4dde84[_0x794b54(0x186)];appendCoordinate(_0x2db160,_0x2990bf,_0x894d03,_0x51c4b1);}}function parseTrkPt(_0x2d7595,_0x494596){const _0x66f1df=_0x4b3183,_0x348013=pushParseAndPop({},TRKPT_PARSERS,_0x2d7595,_0x494596);if(_0x348013){const _0x332946=_0x494596[_0x494596['length']-0x1],_0xe362c0=_0x332946[_0x66f1df(0x19c)],_0x15eb9b=_0x332946[_0x66f1df(0x186)];appendCoordinate(_0xe362c0,_0x15eb9b,_0x2d7595,_0x348013);}}function parseTrkSeg(_0x4d01e6,_0x1cab21){const _0x540cb3=_0x4b3183,_0x3fd215=_0x1cab21[_0x1cab21[_0x540cb3(0x18a)]-0x1];parseNode(TRKSEG_PARSERS,_0x4d01e6,_0x1cab21);const _0x2702da=_0x3fd215[_0x540cb3(0x19c)],_0x2d3d5e=_0x3fd215[_0x540cb3(0x15d)];_0x2d3d5e['push'](_0x2702da['length']);}function readRte(_0x27a231,_0x1fb0bd){const _0x5e2177=_0x4b3183,_0xe822fb=_0x1fb0bd[0x0],_0x38633d=pushParseAndPop({'flatCoordinates':[],'layoutOptions':{}},RTE_PARSERS,_0x27a231,_0x1fb0bd);if(!_0x38633d)return undefined;const _0x5c9cfc=_0x38633d[_0x5e2177(0x19c)];delete _0x38633d[_0x5e2177(0x19c)];const _0x35876b=_0x38633d[_0x5e2177(0x186)];delete _0x38633d[_0x5e2177(0x186)];const _0x422f5b=applyLayoutOptions(_0x35876b,_0x5c9cfc),_0x4ecb1c=new _0x137d6a(_0x5c9cfc,_0x422f5b);transformGeometryWithOptions(_0x4ecb1c,![],_0xe822fb);const _0x315f82=new _0x5986e8(_0x4ecb1c);return _0x315f82[_0x5e2177(0x198)](_0x38633d,!![]),_0x315f82;}function readTrk(_0x1e5a8d,_0x28f675){const _0x448d22=_0x4b3183,_0x158eac=_0x28f675[0x0],_0x349ad9=pushParseAndPop({'flatCoordinates':[],'ends':[],'layoutOptions':{}},TRK_PARSERS,_0x1e5a8d,_0x28f675);if(!_0x349ad9)return undefined;const _0x55ca48=_0x349ad9[_0x448d22(0x19c)];delete _0x349ad9[_0x448d22(0x19c)];const _0x4e49a4=_0x349ad9['ends'];delete _0x349ad9[_0x448d22(0x15d)];const _0x42413d=_0x349ad9[_0x448d22(0x186)];delete _0x349ad9[_0x448d22(0x186)];const _0x4566cb=applyLayoutOptions(_0x42413d,_0x55ca48,_0x4e49a4),_0x191f02=new _0x65fa63(_0x55ca48,_0x4566cb,_0x4e49a4);transformGeometryWithOptions(_0x191f02,![],_0x158eac);const _0x2593ed=new _0x5986e8(_0x191f02);return _0x2593ed['setProperties'](_0x349ad9,!![]),_0x2593ed;}function readWpt(_0x28348e,_0x92f990){const _0x9173c6=_0x4b3183,_0x53e17a=_0x92f990[0x0],_0xe23c61=pushParseAndPop({},WPT_PARSERS,_0x28348e,_0x92f990);if(!_0xe23c61)return undefined;const _0x13f090={},_0x35f38c=appendCoordinate([],_0x13f090,_0x28348e,_0xe23c61),_0x505f1f=applyLayoutOptions(_0x13f090,_0x35f38c),_0x3dd6f5=new _0xb0655e(_0x35f38c,_0x505f1f);transformGeometryWithOptions(_0x3dd6f5,![],_0x53e17a);const _0x311e3c=new _0x5986e8(_0x3dd6f5);return _0x311e3c[_0x9173c6(0x198)](_0xe23c61,!![]),_0x311e3c;}function writeLink(_0x58dcea,_0x32ea09,_0x498791){const _0x35dd01=_0x4b3183;_0x58dcea['setAttribute'](_0x35dd01(0x16c),_0x32ea09);const _0x1d1991=_0x498791[_0x498791[_0x35dd01(0x18a)]-0x1],_0x31afd3=_0x1d1991[_0x35dd01(0x14d)],_0x395131=[_0x31afd3['linkText'],_0x31afd3[_0x35dd01(0x13f)]];pushSerializeAndPop({'node':_0x58dcea},LINK_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,_0x395131,_0x498791,LINK_SEQUENCE);}function writeWptType(_0x171ef5,_0x5e474a,_0x2ef36f){const _0x5e96b1=_0x4b3183,_0x528c65=_0x2ef36f[_0x2ef36f[_0x5e96b1(0x18a)]-0x1],_0x43a5b5=_0x528c65[_0x5e96b1(0x169)],_0x3a5b40=_0x43a5b5[_0x5e96b1(0x17a)],_0x3e0d61=_0x528c65['properties'];_0x171ef5[_0x5e96b1(0x148)](null,'lat',String(_0x5e474a[0x1])),_0x171ef5[_0x5e96b1(0x148)](null,_0x5e96b1(0x182),String(_0x5e474a[0x0]));const _0x1ab77d=_0x528c65[_0x5e96b1(0x16d)];switch(_0x1ab77d){case _0x5e96b1(0x18b):_0x5e474a[0x3]!==0x0&&(_0x3e0d61[_0x5e96b1(0x15e)]=_0x5e474a[0x3]);case'XYZ':_0x5e474a[0x2]!==0x0&&(_0x3e0d61['ele']=_0x5e474a[0x2]);break;case _0x5e96b1(0x188):_0x5e474a[0x2]!==0x0&&(_0x3e0d61[_0x5e96b1(0x15e)]=_0x5e474a[0x2]);break;default:}const _0x1d4779=_0x171ef5['nodeName']==_0x5e96b1(0x172)?RTEPT_TYPE_SEQUENCE[_0x3a5b40]:WPT_TYPE_SEQUENCE[_0x3a5b40],_0x1b8d3b=makeSequence(_0x3e0d61,_0x1d4779);pushSerializeAndPop({'node':_0x171ef5,'properties':_0x3e0d61},WPT_TYPE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,_0x1b8d3b,_0x2ef36f,_0x1d4779);}function writeRte(_0x3bc69c,_0x3758cf,_0x166ade){const _0x1ca960=_0x4b3183,_0x38de24=_0x166ade[0x0],_0x4b778d=_0x3758cf[_0x1ca960(0x179)](),_0x42a268={'node':_0x3bc69c};_0x42a268[_0x1ca960(0x14d)]=_0x4b778d;const _0xb39107=_0x3758cf[_0x1ca960(0x15c)]();if(_0xb39107[_0x1ca960(0x14f)]()=='LineString'){const _0x42eb4e=transformGeometryWithOptions(_0xb39107,!![],_0x38de24);_0x42a268[_0x1ca960(0x16d)]=_0x42eb4e[_0x1ca960(0x158)](),_0x4b778d[_0x1ca960(0x172)]=_0x42eb4e[_0x1ca960(0x145)]();}const _0x5a251c=_0x166ade[_0x166ade[_0x1ca960(0x18a)]-0x1][_0x1ca960(0x169)],_0x41bcb0=RTE_SEQUENCE[_0x5a251c[_0x1ca960(0x17a)]],_0x25ecfb=makeSequence(_0x4b778d,_0x41bcb0);pushSerializeAndPop(_0x42a268,RTE_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,_0x25ecfb,_0x166ade,_0x41bcb0);}function writeTrk(_0x136a67,_0x247a71,_0x1d2eb1){const _0x11dabf=_0x4b3183,_0x2f046b=_0x1d2eb1[0x0],_0x5e488a=_0x247a71['getProperties'](),_0x1f762a={'node':_0x136a67};_0x1f762a[_0x11dabf(0x14d)]=_0x5e488a;const _0xb4a899=_0x247a71[_0x11dabf(0x15c)]();if(_0xb4a899[_0x11dabf(0x14f)]()==_0x11dabf(0x194)){const _0x800906=transformGeometryWithOptions(_0xb4a899,!![],_0x2f046b);_0x5e488a[_0x11dabf(0x19d)]=_0x800906[_0x11dabf(0x14c)]();}const _0x58fe1c=_0x1d2eb1[_0x1d2eb1[_0x11dabf(0x18a)]-0x1][_0x11dabf(0x169)],_0x29abc5=TRK_SEQUENCE[_0x58fe1c[_0x11dabf(0x17a)]],_0x48a149=makeSequence(_0x5e488a,_0x29abc5);pushSerializeAndPop(_0x1f762a,TRK_SERIALIZERS,OBJECT_PROPERTY_NODE_FACTORY,_0x48a149,_0x1d2eb1,_0x29abc5);}function writeTrkSeg(_0x351cfe,_0x37c7e8,_0x217cbf){const _0x2640d8=_0x4b3183,_0x2fbf91={'node':_0x351cfe};_0x2fbf91[_0x2640d8(0x16d)]=_0x37c7e8[_0x2640d8(0x158)](),_0x2fbf91[_0x2640d8(0x14d)]={},pushSerializeAndPop(_0x2fbf91,TRKSEG_SERIALIZERS,TRKSEG_NODE_FACTORY,_0x37c7e8[_0x2640d8(0x145)](),_0x217cbf);}function writeWpt(_0x36ed83,_0x1a682f,_0x18401f){const _0x1205b9=_0x4b3183,_0x5eb142=_0x18401f[0x0],_0x13313c=_0x18401f[_0x18401f['length']-0x1];_0x13313c[_0x1205b9(0x14d)]=_0x1a682f[_0x1205b9(0x179)]();const _0x20444b=_0x1a682f['getGeometry']();if(_0x20444b['getType']()==_0x1205b9(0x187)){const _0x3dab8c=transformGeometryWithOptions(_0x20444b,!![],_0x5eb142);_0x13313c[_0x1205b9(0x16d)]=_0x3dab8c[_0x1205b9(0x158)](),writeWptType(_0x36ed83,_0x3dab8c[_0x1205b9(0x145)](),_0x18401f);}}export default GPX;