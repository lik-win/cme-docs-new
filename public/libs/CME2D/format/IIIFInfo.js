const _0x14921f=_0x2041;(function(_0x38ac21,_0x44287d){const _0x28d2bc=_0x2041,_0x4eed3e=_0x38ac21();while(!![]){try{const _0x1b77ab=-parseInt(_0x28d2bc(0x107))/0x1*(parseInt(_0x28d2bc(0x116))/0x2)+-parseInt(_0x28d2bc(0x10d))/0x3*(-parseInt(_0x28d2bc(0x10a))/0x4)+-parseInt(_0x28d2bc(0xfb))/0x5*(-parseInt(_0x28d2bc(0x10e))/0x6)+parseInt(_0x28d2bc(0xf5))/0x7+parseInt(_0x28d2bc(0xfe))/0x8+parseInt(_0x28d2bc(0xfa))/0x9*(parseInt(_0x28d2bc(0xea))/0xa)+-parseInt(_0x28d2bc(0xef))/0xb;if(_0x1b77ab===_0x44287d)break;else _0x4eed3e['push'](_0x4eed3e['shift']());}catch(_0x28a3ef){_0x4eed3e['push'](_0x4eed3e['shift']());}}}(_0x4840,0x69e9c));import{assert}from'../asserts.js';function _0x4840(){const _0x185803=['http://iiif.io/api/image/1/context.json','test','bitonal','map','scale_factors','extraQualities','sizeByW','tile_width','@context','.json','getTileSourceOptions','includes','Cannot\x20determine\x20IIIF\x20Image\x20API\x20version\x20from\x20provided\x20image\x20information\x20JSON','isArray','VERSION1','supports','sort','regionByPx','qualities','ol-no-context','sizeByWh','10nQQHIX','replace','grey','@id','scaleFactors','29283243mYgdrQ','http://library.stanford.edu/iiif/image-api/1.1/context.json','getComplianceLevelEntryFromProfile','profile','version2','setImageInfo','4690350oJSsOW','sizeByH','height','resolutions','default','7308441IeddAJ','5QVgSpm','tile_height','width','4076984EEFeEI','length','VERSION2','jpg','imageInfo','http://iiif.io/api/image/3/context.json','sizes','getComplianceLevelFromProfile','preferredFormats','8MOUhUi','version3','regionSquare','763876egspXx','color','sizeByConfinedWh','12EsKnVf','2567082EPpssd','string','extraFormats','extraFeatures','regionByPct','preferredFormat','png','format','21878PYtxOd','parse','tileSize','sizeByPct','level0','tiles','VERSION3','none','getImageApiVersion','version1','formats','filter','native','quality','getComplianceLevelSupportedFeatures','identifier'];_0x4840=function(){return _0x185803;};return _0x4840();}function _0x2041(_0x2aa192,_0x38f4d4){const _0x4840fb=_0x4840();return _0x2041=function(_0x2041da,_0x498f81){_0x2041da=_0x2041da-0xd3;let _0x5c071a=_0x4840fb[_0x2041da];return _0x5c071a;},_0x2041(_0x2aa192,_0x38f4d4);}export const Versions={'VERSION1':_0x14921f(0x11f),'VERSION2':_0x14921f(0xf3),'VERSION3':_0x14921f(0x108)};const IIIF_PROFILE_VALUES={};IIIF_PROFILE_VALUES[Versions[_0x14921f(0xe3)]]={'level0':{'supports':[],'formats':[],'qualities':[_0x14921f(0x122)]},'level1':{'supports':[_0x14921f(0xe6),'sizeByW',_0x14921f(0xf6),_0x14921f(0x119)],'formats':['jpg'],'qualities':[_0x14921f(0x122)]},'level2':{'supports':[_0x14921f(0xe6),'regionByPct',_0x14921f(0xdb),_0x14921f(0xf6),_0x14921f(0x119),_0x14921f(0x10c),_0x14921f(0xe9)],'formats':[_0x14921f(0x101),_0x14921f(0x114)],'qualities':['native',_0x14921f(0x10b),_0x14921f(0xec),_0x14921f(0xd7)]}},IIIF_PROFILE_VALUES[Versions[_0x14921f(0x100)]]={'level0':{'supports':[],'formats':[_0x14921f(0x101)],'qualities':['default']},'level1':{'supports':[_0x14921f(0xe6),_0x14921f(0xdb),_0x14921f(0xf6),_0x14921f(0x119)],'formats':[_0x14921f(0x101)],'qualities':['default']},'level2':{'supports':[_0x14921f(0xe6),_0x14921f(0x112),_0x14921f(0xdb),_0x14921f(0xf6),_0x14921f(0x119),_0x14921f(0x10c),'sizeByDistortedWh',_0x14921f(0xe9)],'formats':[_0x14921f(0x101),_0x14921f(0x114)],'qualities':[_0x14921f(0xf9),'bitonal']}},IIIF_PROFILE_VALUES[Versions[_0x14921f(0x11c)]]={'level0':{'supports':[],'formats':[_0x14921f(0x101)],'qualities':['default']},'level1':{'supports':[_0x14921f(0xe6),_0x14921f(0x109),_0x14921f(0xdb),'sizeByH','sizeByWh'],'formats':[_0x14921f(0x101)],'qualities':[_0x14921f(0xf9)]},'level2':{'supports':[_0x14921f(0xe6),_0x14921f(0x109),_0x14921f(0x112),_0x14921f(0xdb),'sizeByH','sizeByPct','sizeByConfinedWh',_0x14921f(0xe9)],'formats':[_0x14921f(0x101),_0x14921f(0x114)],'qualities':[_0x14921f(0xf9)]}},IIIF_PROFILE_VALUES[_0x14921f(0x11d)]={'none':{'supports':[],'formats':[],'qualities':[]}};const COMPLIANCE_VERSION1=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,COMPLIANCE_VERSION2=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,COMPLIANCE_VERSION3=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/;function generateVersion1Options(_0x436dff){const _0x47bcea=_0x14921f;let _0x3f7f3a=_0x436dff[_0x47bcea(0xd3)]();return _0x3f7f3a===undefined&&(_0x3f7f3a=IIIF_PROFILE_VALUES[Versions[_0x47bcea(0xe3)]][_0x47bcea(0x11a)]),{'url':_0x436dff[_0x47bcea(0x102)][_0x47bcea(0xed)]===undefined?undefined:_0x436dff[_0x47bcea(0x102)]['@id'][_0x47bcea(0xeb)](/\/?(?:info\.json)?$/g,''),'supports':_0x3f7f3a[_0x47bcea(0xe4)],'formats':[..._0x3f7f3a[_0x47bcea(0x120)],_0x436dff['imageInfo'][_0x47bcea(0x120)]===undefined?[]:_0x436dff[_0x47bcea(0x102)][_0x47bcea(0x120)]],'qualities':[..._0x3f7f3a[_0x47bcea(0xe7)],_0x436dff[_0x47bcea(0x102)][_0x47bcea(0xe7)]===undefined?[]:_0x436dff['imageInfo'][_0x47bcea(0xe7)]],'resolutions':_0x436dff[_0x47bcea(0x102)][_0x47bcea(0xd9)],'tileSize':_0x436dff[_0x47bcea(0x102)]['tile_width']!==undefined?_0x436dff[_0x47bcea(0x102)][_0x47bcea(0xfc)]!==undefined?[_0x436dff[_0x47bcea(0x102)][_0x47bcea(0xdc)],_0x436dff[_0x47bcea(0x102)][_0x47bcea(0xfc)]]:[_0x436dff[_0x47bcea(0x102)][_0x47bcea(0xdc)],_0x436dff[_0x47bcea(0x102)][_0x47bcea(0xdc)]]:_0x436dff[_0x47bcea(0x102)]['tile_height']!=undefined?[_0x436dff[_0x47bcea(0x102)][_0x47bcea(0xfc)],_0x436dff[_0x47bcea(0x102)][_0x47bcea(0xfc)]]:undefined};}function generateVersion2Options(_0x2c030e){const _0x544e4f=_0x14921f,_0x33ac4a=_0x2c030e[_0x544e4f(0xd3)](),_0x5e60b9=Array['isArray'](_0x2c030e['imageInfo']['profile'])&&_0x2c030e[_0x544e4f(0x102)][_0x544e4f(0xf2)]['length']>0x1,_0x25236a=_0x5e60b9&&_0x2c030e['imageInfo'][_0x544e4f(0xf2)][0x1][_0x544e4f(0xe4)]?_0x2c030e[_0x544e4f(0x102)][_0x544e4f(0xf2)][0x1][_0x544e4f(0xe4)]:[],_0x4fa54b=_0x5e60b9&&_0x2c030e[_0x544e4f(0x102)][_0x544e4f(0xf2)][0x1][_0x544e4f(0x120)]?_0x2c030e['imageInfo'][_0x544e4f(0xf2)][0x1][_0x544e4f(0x120)]:[],_0xecd19c=_0x5e60b9&&_0x2c030e[_0x544e4f(0x102)][_0x544e4f(0xf2)][0x1]['qualities']?_0x2c030e['imageInfo'][_0x544e4f(0xf2)][0x1][_0x544e4f(0xe7)]:[];return{'url':_0x2c030e[_0x544e4f(0x102)]['@id'][_0x544e4f(0xeb)](/\/?(?:info\.json)?$/g,''),'sizes':_0x2c030e[_0x544e4f(0x102)][_0x544e4f(0x104)]===undefined?undefined:_0x2c030e['imageInfo'][_0x544e4f(0x104)][_0x544e4f(0xd8)](function(_0xef0de8){const _0x5c23c8=_0x544e4f;return[_0xef0de8['width'],_0xef0de8[_0x5c23c8(0xf7)]];}),'tileSize':_0x2c030e[_0x544e4f(0x102)][_0x544e4f(0x11b)]===undefined?undefined:[_0x2c030e[_0x544e4f(0x102)][_0x544e4f(0x11b)][_0x544e4f(0xd8)](function(_0x488248){return _0x488248['width'];})[0x0],_0x2c030e[_0x544e4f(0x102)][_0x544e4f(0x11b)][_0x544e4f(0xd8)](function(_0x8c24d6){const _0x2dbedf=_0x544e4f;return _0x8c24d6['height']===undefined?_0x8c24d6['width']:_0x8c24d6[_0x2dbedf(0xf7)];})[0x0]],'resolutions':_0x2c030e[_0x544e4f(0x102)]['tiles']===undefined?undefined:_0x2c030e[_0x544e4f(0x102)]['tiles'][_0x544e4f(0xd8)](function(_0x1fc6fd){const _0x4462b9=_0x544e4f;return _0x1fc6fd[_0x4462b9(0xee)];})[0x0],'supports':[..._0x33ac4a[_0x544e4f(0xe4)],..._0x25236a],'formats':[..._0x33ac4a[_0x544e4f(0x120)],..._0x4fa54b],'qualities':[..._0x33ac4a[_0x544e4f(0xe7)],..._0xecd19c]};}function generateVersion3Options(_0x781286){const _0x139790=_0x14921f,_0x4464dc=_0x781286[_0x139790(0xd3)](),_0x47a312=_0x781286[_0x139790(0x102)][_0x139790(0x110)]===undefined?_0x4464dc[_0x139790(0x120)]:[..._0x4464dc['formats'],..._0x781286['imageInfo'][_0x139790(0x110)]],_0x3c6b80=_0x781286[_0x139790(0x102)][_0x139790(0x106)]!==undefined&&Array[_0x139790(0xe2)](_0x781286[_0x139790(0x102)]['preferredFormats'])&&_0x781286[_0x139790(0x102)][_0x139790(0x106)][_0x139790(0xff)]>0x0?_0x781286[_0x139790(0x102)]['preferredFormats'][_0x139790(0x121)](function(_0x593c4d){const _0x46cef4=_0x139790;return[_0x46cef4(0x101),_0x46cef4(0x114),'gif'][_0x46cef4(0xe0)](_0x593c4d);})['reduce'](function(_0x367c08,_0x2c3f7d){const _0x3fe0e9=_0x139790;return _0x367c08===undefined&&_0x47a312[_0x3fe0e9(0xe0)](_0x2c3f7d)?_0x2c3f7d:_0x367c08;},undefined):undefined;return{'url':_0x781286[_0x139790(0x102)]['id'],'sizes':_0x781286['imageInfo'][_0x139790(0x104)]===undefined?undefined:_0x781286[_0x139790(0x102)][_0x139790(0x104)][_0x139790(0xd8)](function(_0x3e1290){const _0x3d1017=_0x139790;return[_0x3e1290[_0x3d1017(0xfd)],_0x3e1290[_0x3d1017(0xf7)]];}),'tileSize':_0x781286[_0x139790(0x102)][_0x139790(0x11b)]===undefined?undefined:[_0x781286['imageInfo'][_0x139790(0x11b)][_0x139790(0xd8)](function(_0x4d6b19){const _0x49e205=_0x139790;return _0x4d6b19[_0x49e205(0xfd)];})[0x0],_0x781286[_0x139790(0x102)]['tiles'][_0x139790(0xd8)](function(_0x28c0a6){const _0x19730e=_0x139790;return _0x28c0a6[_0x19730e(0xf7)];})[0x0]],'resolutions':_0x781286['imageInfo'][_0x139790(0x11b)]===undefined?undefined:_0x781286[_0x139790(0x102)][_0x139790(0x11b)][_0x139790(0xd8)](function(_0x2d7a66){const _0x24f014=_0x139790;return _0x2d7a66[_0x24f014(0xee)];})[0x0],'supports':_0x781286['imageInfo']['extraFeatures']===undefined?_0x4464dc[_0x139790(0xe4)]:[..._0x4464dc[_0x139790(0xe4)],..._0x781286[_0x139790(0x102)][_0x139790(0x111)]],'formats':_0x47a312,'qualities':_0x781286[_0x139790(0x102)][_0x139790(0xda)]===undefined?_0x4464dc[_0x139790(0xe7)]:[..._0x4464dc[_0x139790(0xe7)],..._0x781286[_0x139790(0x102)]['extraQualities']],'preferredFormat':_0x3c6b80};}const versionFunctions={};versionFunctions[Versions[_0x14921f(0xe3)]]=generateVersion1Options,versionFunctions[Versions[_0x14921f(0x100)]]=generateVersion2Options,versionFunctions[Versions[_0x14921f(0x11c)]]=generateVersion3Options;class IIIFInfo{constructor(_0x539e55){const _0x5ed594=_0x14921f;this[_0x5ed594(0xf4)](_0x539e55);}[_0x14921f(0xf4)](_0x3e4e52){const _0x36af73=_0x14921f;typeof _0x3e4e52==_0x36af73(0x10f)?this[_0x36af73(0x102)]=JSON[_0x36af73(0x117)](_0x3e4e52):this[_0x36af73(0x102)]=_0x3e4e52;}[_0x14921f(0x11e)](){const _0x2f9c2e=_0x14921f;if(this[_0x2f9c2e(0x102)]===undefined)return undefined;let _0x25068e=this['imageInfo'][_0x2f9c2e(0xdd)]||_0x2f9c2e(0xe8);typeof _0x25068e==_0x2f9c2e(0x10f)&&(_0x25068e=[_0x25068e]);for(let _0xc4f32e=0x0;_0xc4f32e<_0x25068e[_0x2f9c2e(0xff)];_0xc4f32e++){switch(_0x25068e[_0xc4f32e]){case _0x2f9c2e(0xf0):case _0x2f9c2e(0xd5):return Versions[_0x2f9c2e(0xe3)];case'http://iiif.io/api/image/2/context.json':return Versions[_0x2f9c2e(0x100)];case _0x2f9c2e(0x103):return Versions['VERSION3'];case _0x2f9c2e(0xe8):if(this[_0x2f9c2e(0xf1)](Versions[_0x2f9c2e(0xe3)])&&this['imageInfo'][_0x2f9c2e(0xd4)])return Versions[_0x2f9c2e(0xe3)];break;default:}}assert(![],_0x2f9c2e(0xe1));}['getComplianceLevelEntryFromProfile'](_0x54f336){const _0xd2d35d=_0x14921f;if(this[_0xd2d35d(0x102)]===undefined||this[_0xd2d35d(0x102)]['profile']===undefined)return undefined;_0x54f336===undefined&&(_0x54f336=this['getImageApiVersion']());switch(_0x54f336){case Versions[_0xd2d35d(0xe3)]:if(COMPLIANCE_VERSION1[_0xd2d35d(0xd6)](this['imageInfo'][_0xd2d35d(0xf2)]))return this['imageInfo'][_0xd2d35d(0xf2)];break;case Versions['VERSION3']:if(COMPLIANCE_VERSION3[_0xd2d35d(0xd6)](this[_0xd2d35d(0x102)][_0xd2d35d(0xf2)]))return this['imageInfo'][_0xd2d35d(0xf2)];break;case Versions[_0xd2d35d(0x100)]:if(typeof this['imageInfo'][_0xd2d35d(0xf2)]===_0xd2d35d(0x10f)&&COMPLIANCE_VERSION2[_0xd2d35d(0xd6)](this[_0xd2d35d(0x102)]['profile']))return this['imageInfo'][_0xd2d35d(0xf2)];if(Array[_0xd2d35d(0xe2)](this['imageInfo'][_0xd2d35d(0xf2)])&&this[_0xd2d35d(0x102)][_0xd2d35d(0xf2)][_0xd2d35d(0xff)]>0x0&&typeof this[_0xd2d35d(0x102)][_0xd2d35d(0xf2)][0x0]===_0xd2d35d(0x10f)&&COMPLIANCE_VERSION2[_0xd2d35d(0xd6)](this[_0xd2d35d(0x102)][_0xd2d35d(0xf2)][0x0]))return this[_0xd2d35d(0x102)][_0xd2d35d(0xf2)][0x0];break;default:}return undefined;}['getComplianceLevelFromProfile'](_0x536630){const _0x24e16b=_0x14921f,_0x2af60f=this[_0x24e16b(0xf1)](_0x536630);if(_0x2af60f===undefined)return undefined;const _0x26b79e=_0x2af60f['match'](/level[0-2](?:\.json)?$/g);return Array[_0x24e16b(0xe2)](_0x26b79e)?_0x26b79e[0x0]['replace'](_0x24e16b(0xde),''):undefined;}[_0x14921f(0xd3)](){const _0x2922d5=_0x14921f;if(this['imageInfo']===undefined)return undefined;const _0x4e5168=this[_0x2922d5(0x11e)](),_0xdaccf1=this[_0x2922d5(0x105)](_0x4e5168);if(_0xdaccf1===undefined)return IIIF_PROFILE_VALUES[_0x2922d5(0x11d)][_0x2922d5(0x11d)];return IIIF_PROFILE_VALUES[_0x4e5168][_0xdaccf1];}[_0x14921f(0xdf)](_0x21861b){const _0x4c4d7e=_0x14921f,_0x34c630=_0x21861b||{},_0x228ef7=this['getImageApiVersion']();if(_0x228ef7===undefined)return undefined;const _0x308b83=_0x228ef7===undefined?undefined:versionFunctions[_0x228ef7](this);if(_0x308b83===undefined)return undefined;return{'url':_0x308b83['url'],'version':_0x228ef7,'size':[this[_0x4c4d7e(0x102)][_0x4c4d7e(0xfd)],this[_0x4c4d7e(0x102)]['height']],'sizes':_0x308b83[_0x4c4d7e(0x104)],'format':_0x34c630[_0x4c4d7e(0x115)]!==undefined&&_0x308b83[_0x4c4d7e(0x120)][_0x4c4d7e(0xe0)](_0x34c630[_0x4c4d7e(0x115)])?_0x34c630['format']:_0x308b83[_0x4c4d7e(0x113)]!==undefined?_0x308b83[_0x4c4d7e(0x113)]:_0x4c4d7e(0x101),'supports':_0x308b83[_0x4c4d7e(0xe4)],'quality':_0x34c630[_0x4c4d7e(0x123)]&&_0x308b83[_0x4c4d7e(0xe7)][_0x4c4d7e(0xe0)](_0x34c630[_0x4c4d7e(0x123)])?_0x34c630[_0x4c4d7e(0x123)]:_0x308b83['qualities'][_0x4c4d7e(0xe0)](_0x4c4d7e(0x122))?'native':'default','resolutions':Array[_0x4c4d7e(0xe2)](_0x308b83[_0x4c4d7e(0xf8)])?_0x308b83[_0x4c4d7e(0xf8)][_0x4c4d7e(0xe5)](function(_0x597f05,_0xdaccb3){return _0xdaccb3-_0x597f05;}):undefined,'tileSize':_0x308b83[_0x4c4d7e(0x118)]};}}export default IIIFInfo;