const _0x393bf0=_0x4a80;(function(_0x33f755,_0x4eafd1){const _0x34c07d=_0x4a80,_0x2174a1=_0x33f755();while(!![]){try{const _0x51bee6=-parseInt(_0x34c07d(0x1ee))/0x1*(parseInt(_0x34c07d(0x1d0))/0x2)+parseInt(_0x34c07d(0x1de))/0x3+parseInt(_0x34c07d(0x1d8))/0x4+parseInt(_0x34c07d(0x1e9))/0x5+parseInt(_0x34c07d(0x1c6))/0x6+-parseInt(_0x34c07d(0x1f1))/0x7*(parseInt(_0x34c07d(0x1fa))/0x8)+parseInt(_0x34c07d(0x1d3))/0x9;if(_0x51bee6===_0x4eafd1)break;else _0x2174a1['push'](_0x2174a1['shift']());}catch(_0x28df4f){_0x2174a1['push'](_0x2174a1['shift']());}}}(_0x3b84,0xd789c));import _0x44794e,{transformGeometryWithOptions}from'./Feature.js';import _0xd4c84b from'../geom/LineString.js';import _0x167ea5 from'../geom/MultiLineString.js';import _0x39abc6 from'../geom/MultiPoint.js';import _0x5f1e8c from'../geom/MultiPolygon.js';import _0x29d048 from'pbf';function _0x4a80(_0x134256,_0x4245a0){const _0x3b84be=_0x3b84();return _0x4a80=function(_0x4a8052,_0x260ead){_0x4a8052=_0x4a8052-0x1c3;let _0x1ca055=_0x3b84be[_0x4a8052];return _0x1ca055;},_0x4a80(_0x134256,_0x4245a0);}function _0x3b84(){const _0xba221f=['type','5279736XThRjh','createFeature_','layers_','Polygon','geometryName_','application/x-protobuf','setGeometryName','setProperties','readSVarint','readFields','938yBayvb','keys','includes','5097537APGYfq','dataProjection','geometry','transform','featureClass','1241968jvrtbv','extent','layerName','readVarint64','layers','setId','2472966GhUZaD','readRawGeometry_','length','MultiPoint','tile-pixels','values','push','readFloat','layer','getType','readDouble','292935znkLge','Point','idProperty_','readVarint','properties','3453jmvKiE','readString','version','91XDzKFF','LineString','arraybuffer','name','geometryName','setGeometry','Invalid\x20command\x20found\x20in\x20the\x20PBF','MultiLineString','setLayers','84584FszweL','readProjection','supportedMediaTypes','layerName_','features','pos','application/vnd.mapbox-vector-tile'];_0x3b84=function(){return _0xba221f;};return _0x3b84();}import _0x320cf9 from'../geom/Point.js';import _0x2f0435 from'../geom/Polygon.js';import _0x14ba55 from'../proj/Projection.js';import _0xd767b3 from'../render/Feature.js';import{get}from'../proj.js';import{inflateEnds}from'../geom/flat/orient.js';class MVT extends _0x44794e{constructor(_0x130783){const _0x4add25=_0x4a80;super(),_0x130783=_0x130783?_0x130783:{},this['dataProjection']=new _0x14ba55({'code':'','units':_0x4add25(0x1e2)}),this['featureClass']=_0x130783['featureClass']?_0x130783[_0x4add25(0x1d7)]:_0xd767b3,this[_0x4add25(0x1ca)]=_0x130783[_0x4add25(0x1f5)],this[_0x4add25(0x1fd)]=_0x130783[_0x4add25(0x1da)]?_0x130783['layerName']:_0x4add25(0x1e6),this['layers_']=_0x130783[_0x4add25(0x1dc)]?_0x130783[_0x4add25(0x1dc)]:null,this['idProperty_']=_0x130783['idProperty'],this[_0x4add25(0x1fc)]=[_0x4add25(0x1c4),_0x4add25(0x1cb)];}[_0x393bf0(0x1df)](_0x3024b2,_0x3b125e,_0x2b2c4a,_0x5f0d1a){const _0x2a6a9b=_0x393bf0;_0x3024b2['pos']=_0x3b125e['geometry'];const _0x35f99f=_0x3024b2[_0x2a6a9b(0x1ec)]()+_0x3024b2[_0x2a6a9b(0x1c3)];let _0x202ed3=0x1,_0x2fc4c1=0x0,_0x22ab0b=0x0,_0x2fb419=0x0,_0x1c0448=0x0,_0x507536=0x0;while(_0x3024b2[_0x2a6a9b(0x1c3)]<_0x35f99f){if(!_0x2fc4c1){const _0x195a84=_0x3024b2[_0x2a6a9b(0x1ec)]();_0x202ed3=_0x195a84&0x7,_0x2fc4c1=_0x195a84>>0x3;}_0x2fc4c1--;if(_0x202ed3===0x1||_0x202ed3===0x2)_0x22ab0b+=_0x3024b2[_0x2a6a9b(0x1ce)](),_0x2fb419+=_0x3024b2['readSVarint'](),_0x202ed3===0x1&&(_0x1c0448>_0x507536&&(_0x5f0d1a[_0x2a6a9b(0x1e4)](_0x1c0448),_0x507536=_0x1c0448)),_0x2b2c4a[_0x2a6a9b(0x1e4)](_0x22ab0b,_0x2fb419),_0x1c0448+=0x2;else{if(_0x202ed3===0x7)_0x1c0448>_0x507536&&(_0x2b2c4a[_0x2a6a9b(0x1e4)](_0x2b2c4a[_0x507536],_0x2b2c4a[_0x507536+0x1]),_0x1c0448+=0x2);else throw new Error(_0x2a6a9b(0x1f7));}}_0x1c0448>_0x507536&&(_0x5f0d1a[_0x2a6a9b(0x1e4)](_0x1c0448),_0x507536=_0x1c0448);}[_0x393bf0(0x1c7)](_0x272123,_0xf4905d,_0x40e52b){const _0x547e70=_0x393bf0,_0xe27a42=_0xf4905d[_0x547e70(0x1c5)];if(_0xe27a42===0x0)return null;let _0x3709dc;const _0x519cd6=_0xf4905d[_0x547e70(0x1ed)];let _0x551e9a;!this[_0x547e70(0x1eb)]?_0x551e9a=_0xf4905d['id']:(_0x551e9a=_0x519cd6[this['idProperty_']],delete _0x519cd6[this[_0x547e70(0x1eb)]]);_0x519cd6[this[_0x547e70(0x1fd)]]=_0xf4905d['layer'][_0x547e70(0x1f4)];const _0x594644=[],_0x4175c5=[];this['readRawGeometry_'](_0x272123,_0xf4905d,_0x594644,_0x4175c5);const _0x2ba797=getGeometryType(_0xe27a42,_0x4175c5[_0x547e70(0x1e0)]);if(this[_0x547e70(0x1d7)]===_0xd767b3)_0x3709dc=new this[(_0x547e70(0x1d7))](_0x2ba797,_0x594644,_0x4175c5,0x2,_0x519cd6,_0x551e9a),_0x3709dc[_0x547e70(0x1d6)](_0x40e52b[_0x547e70(0x1d4)]);else{let _0x330dce;if(_0x2ba797==_0x547e70(0x1c9)){const _0x5273aa=inflateEnds(_0x594644,_0x4175c5);_0x330dce=_0x5273aa[_0x547e70(0x1e0)]>0x1?new _0x5f1e8c(_0x594644,'XY',_0x5273aa):new _0x2f0435(_0x594644,'XY',_0x4175c5);}else _0x330dce=_0x2ba797===_0x547e70(0x1ea)?new _0x320cf9(_0x594644,'XY'):_0x2ba797===_0x547e70(0x1f2)?new _0xd4c84b(_0x594644,'XY'):_0x2ba797===_0x547e70(0x1e1)?new _0x39abc6(_0x594644,'XY'):_0x2ba797===_0x547e70(0x1f8)?new _0x167ea5(_0x594644,'XY',_0x4175c5):null;const _0x980f4e=this['featureClass'];_0x3709dc=new _0x980f4e();this[_0x547e70(0x1ca)]&&_0x3709dc[_0x547e70(0x1cc)](this[_0x547e70(0x1ca)]);const _0x69776e=transformGeometryWithOptions(_0x330dce,![],_0x40e52b);_0x3709dc[_0x547e70(0x1f6)](_0x69776e),_0x551e9a!==undefined&&_0x3709dc[_0x547e70(0x1dd)](_0x551e9a),_0x3709dc[_0x547e70(0x1cd)](_0x519cd6,!![]);}return _0x3709dc;}[_0x393bf0(0x1e7)](){const _0x2a9af4=_0x393bf0;return _0x2a9af4(0x1f3);}['readFeatures'](_0x12b973,_0x1d1ce6){const _0x41f50d=_0x393bf0,_0x2d105b=this[_0x41f50d(0x1c8)];_0x1d1ce6=this['adaptOptions'](_0x1d1ce6);const _0x3a3eb7=get(_0x1d1ce6['dataProjection']);_0x3a3eb7['setWorldExtent'](_0x1d1ce6[_0x41f50d(0x1d9)]),_0x1d1ce6[_0x41f50d(0x1d4)]=_0x3a3eb7;const _0x5de76f=new _0x29d048(_0x12b973),_0x4f095c=_0x5de76f[_0x41f50d(0x1cf)](layersPBFReader,{}),_0x458741=[];for(const _0x32cde1 in _0x4f095c){if(_0x2d105b&&!_0x2d105b[_0x41f50d(0x1d2)](_0x32cde1))continue;const _0x399713=_0x4f095c[_0x32cde1],_0x158508=_0x399713?[0x0,0x0,_0x399713['extent'],_0x399713['extent']]:null;_0x3a3eb7['setExtent'](_0x158508);for(let _0x3762ae=0x0,_0x4e1af1=_0x399713['length'];_0x3762ae<_0x4e1af1;++_0x3762ae){const _0x5c7bec=readRawFeature(_0x5de76f,_0x399713,_0x3762ae),_0x59ae32=this['createFeature_'](_0x5de76f,_0x5c7bec,_0x1d1ce6);_0x59ae32!==null&&_0x458741['push'](_0x59ae32);}}return _0x458741;}[_0x393bf0(0x1fb)](_0x588e57){const _0x4b5067=_0x393bf0;return this[_0x4b5067(0x1d4)];}[_0x393bf0(0x1f9)](_0x2a0e5f){const _0x4bf50a=_0x393bf0;this[_0x4bf50a(0x1c8)]=_0x2a0e5f;}}function layersPBFReader(_0x2cadcf,_0x2927db,_0x301a00){const _0x365cc7=_0x393bf0;if(_0x2cadcf===0x3){const _0x105b28={'keys':[],'values':[],'features':[]},_0x1834b3=_0x301a00[_0x365cc7(0x1ec)]()+_0x301a00[_0x365cc7(0x1c3)];_0x301a00[_0x365cc7(0x1cf)](layerPBFReader,_0x105b28,_0x1834b3),_0x105b28[_0x365cc7(0x1e0)]=_0x105b28[_0x365cc7(0x1fe)][_0x365cc7(0x1e0)],_0x105b28['length']&&(_0x2927db[_0x105b28[_0x365cc7(0x1f4)]]=_0x105b28);}}function layerPBFReader(_0x3fb857,_0x4e949b,_0x417502){const _0x5437e3=_0x393bf0;if(_0x3fb857===0xf)_0x4e949b[_0x5437e3(0x1f0)]=_0x417502['readVarint']();else{if(_0x3fb857===0x1)_0x4e949b['name']=_0x417502['readString']();else{if(_0x3fb857===0x5)_0x4e949b[_0x5437e3(0x1d9)]=_0x417502[_0x5437e3(0x1ec)]();else{if(_0x3fb857===0x2)_0x4e949b['features']['push'](_0x417502[_0x5437e3(0x1c3)]);else{if(_0x3fb857===0x3)_0x4e949b[_0x5437e3(0x1d1)][_0x5437e3(0x1e4)](_0x417502[_0x5437e3(0x1ef)]());else{if(_0x3fb857===0x4){let _0x10608b=null;const _0x422401=_0x417502[_0x5437e3(0x1ec)]()+_0x417502[_0x5437e3(0x1c3)];while(_0x417502[_0x5437e3(0x1c3)]<_0x422401){_0x3fb857=_0x417502[_0x5437e3(0x1ec)]()>>0x3,_0x10608b=_0x3fb857===0x1?_0x417502[_0x5437e3(0x1ef)]():_0x3fb857===0x2?_0x417502[_0x5437e3(0x1e5)]():_0x3fb857===0x3?_0x417502[_0x5437e3(0x1e8)]():_0x3fb857===0x4?_0x417502[_0x5437e3(0x1db)]():_0x3fb857===0x5?_0x417502[_0x5437e3(0x1ec)]():_0x3fb857===0x6?_0x417502[_0x5437e3(0x1ce)]():_0x3fb857===0x7?_0x417502['readBoolean']():null;}_0x4e949b['values'][_0x5437e3(0x1e4)](_0x10608b);}}}}}}}function featurePBFReader(_0x431103,_0x4c50a5,_0x4538a5){const _0x4b4b83=_0x393bf0;if(_0x431103==0x1)_0x4c50a5['id']=_0x4538a5[_0x4b4b83(0x1ec)]();else{if(_0x431103==0x2){const _0x221929=_0x4538a5['readVarint']()+_0x4538a5[_0x4b4b83(0x1c3)];while(_0x4538a5[_0x4b4b83(0x1c3)]<_0x221929){const _0x36a350=_0x4c50a5[_0x4b4b83(0x1e6)][_0x4b4b83(0x1d1)][_0x4538a5[_0x4b4b83(0x1ec)]()],_0x6c3520=_0x4c50a5[_0x4b4b83(0x1e6)][_0x4b4b83(0x1e3)][_0x4538a5[_0x4b4b83(0x1ec)]()];_0x4c50a5[_0x4b4b83(0x1ed)][_0x36a350]=_0x6c3520;}}else{if(_0x431103==0x3)_0x4c50a5['type']=_0x4538a5[_0x4b4b83(0x1ec)]();else _0x431103==0x4&&(_0x4c50a5[_0x4b4b83(0x1d5)]=_0x4538a5[_0x4b4b83(0x1c3)]);}}}function readRawFeature(_0x5cc742,_0x39b137,_0x190f81){const _0x4799fe=_0x393bf0;_0x5cc742['pos']=_0x39b137[_0x4799fe(0x1fe)][_0x190f81];const _0x548524=_0x5cc742[_0x4799fe(0x1ec)]()+_0x5cc742['pos'],_0x52f080={'layer':_0x39b137,'type':0x0,'properties':{}};return _0x5cc742['readFields'](featurePBFReader,_0x52f080,_0x548524),_0x52f080;}function getGeometryType(_0xf8324b,_0x1fdf2d){const _0x4cc93a=_0x393bf0;let _0x2624c1;if(_0xf8324b===0x1)_0x2624c1=_0x1fdf2d===0x1?'Point':_0x4cc93a(0x1e1);else{if(_0xf8324b===0x2)_0x2624c1=_0x1fdf2d===0x1?'LineString':_0x4cc93a(0x1f8);else _0xf8324b===0x3&&(_0x2624c1=_0x4cc93a(0x1c9));}return _0x2624c1;}export default MVT;