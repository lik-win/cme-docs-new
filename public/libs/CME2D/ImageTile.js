const _0x1c827e=_0x4894;(function(_0x3f1c53,_0x8f714e){const _0x2e37de=_0x4894,_0x326646=_0x3f1c53();while(!![]){try{const _0x4188a1=-parseInt(_0x2e37de(0x188))/0x1*(parseInt(_0x2e37de(0x185))/0x2)+-parseInt(_0x2e37de(0x186))/0x3+parseInt(_0x2e37de(0x18f))/0x4*(-parseInt(_0x2e37de(0x19d))/0x5)+-parseInt(_0x2e37de(0x18a))/0x6*(parseInt(_0x2e37de(0x18c))/0x7)+-parseInt(_0x2e37de(0x1a0))/0x8+parseInt(_0x2e37de(0x18d))/0x9+parseInt(_0x2e37de(0x19e))/0xa;if(_0x4188a1===_0x8f714e)break;else _0x326646['push'](_0x326646['shift']());}catch(_0x4b492c){_0x326646['push'](_0x326646['shift']());}}}(_0x4807,0x6b34a));import _0x1724c4 from'./Tile.js';function _0x4807(){const _0x4f3433=['handleImageError_','3169632frUbQG','rgba(0,0,0,0)','crossOrigin_','state','76XZWMcx','1917486nMGRzr','key','16221NuvslA','naturalWidth','6oeKetM','handleImageLoad_','4911816sZpMIl','4363182udQcfa','unlistenImage_','17308OEzaGO','tileLoadFunction_','LOADING','image_','fillStyle','LOADED','setImage','ERROR','EMPTY','src_','IDLE','bind','unlisten_','changed','985MuXeNy','31601870rysOYf'];_0x4807=function(){return _0x4f3433;};return _0x4807();}import _0x47b3e4 from'./TileState.js';import{createCanvasContext2D}from'./dom.js';function _0x4894(_0x46d290,_0x38c575){const _0x480764=_0x4807();return _0x4894=function(_0x489469,_0x3090e0){_0x489469=_0x489469-0x182;let _0xf46d98=_0x480764[_0x489469];return _0xf46d98;},_0x4894(_0x46d290,_0x38c575);}import{listenImage}from'./Image.js';class ImageTile extends _0x1724c4{constructor(_0x31248d,_0x4363e4,_0x1da30c,_0x39fdfb,_0x57abc5,_0x520cff){const _0x5379d0=_0x4894;super(_0x31248d,_0x4363e4,_0x520cff),this['crossOrigin_']=_0x39fdfb,this[_0x5379d0(0x198)]=_0x1da30c,this[_0x5379d0(0x187)]=_0x1da30c,this[_0x5379d0(0x192)]=new Image(),_0x39fdfb!==null&&(this[_0x5379d0(0x192)]['crossOrigin']=_0x39fdfb),this[_0x5379d0(0x19b)]=null,this[_0x5379d0(0x190)]=_0x57abc5;}['getImage'](){const _0x4f23d4=_0x4894;return this[_0x4f23d4(0x192)];}[_0x1c827e(0x195)](_0x5f39af){const _0x88b84b=_0x1c827e;this[_0x88b84b(0x192)]=_0x5f39af,this[_0x88b84b(0x184)]=_0x47b3e4[_0x88b84b(0x194)],this[_0x88b84b(0x18e)](),this[_0x88b84b(0x19c)]();}['handleImageError_'](){const _0x4f8bbc=_0x1c827e;this[_0x4f8bbc(0x184)]=_0x47b3e4[_0x4f8bbc(0x196)],this[_0x4f8bbc(0x18e)](),this[_0x4f8bbc(0x192)]=getBlankImage(),this[_0x4f8bbc(0x19c)]();}['handleImageLoad_'](){const _0x5c6bda=_0x1c827e,_0x3856cf=this[_0x5c6bda(0x192)];_0x3856cf[_0x5c6bda(0x189)]&&_0x3856cf['naturalHeight']?this[_0x5c6bda(0x184)]=_0x47b3e4[_0x5c6bda(0x194)]:this[_0x5c6bda(0x184)]=_0x47b3e4[_0x5c6bda(0x197)],this[_0x5c6bda(0x18e)](),this[_0x5c6bda(0x19c)]();}['load'](){const _0x359479=_0x1c827e;this['state']==_0x47b3e4[_0x359479(0x196)]&&(this[_0x359479(0x184)]=_0x47b3e4[_0x359479(0x199)],this[_0x359479(0x192)]=new Image(),this[_0x359479(0x183)]!==null&&(this[_0x359479(0x192)]['crossOrigin']=this[_0x359479(0x183)])),this[_0x359479(0x184)]==_0x47b3e4[_0x359479(0x199)]&&(this[_0x359479(0x184)]=_0x47b3e4[_0x359479(0x191)],this['changed'](),this['tileLoadFunction_'](this,this[_0x359479(0x198)]),this[_0x359479(0x19b)]=listenImage(this[_0x359479(0x192)],this[_0x359479(0x18b)]['bind'](this),this[_0x359479(0x19f)][_0x359479(0x19a)](this)));}[_0x1c827e(0x18e)](){const _0x3d1df3=_0x1c827e;this['unlisten_']&&(this[_0x3d1df3(0x19b)](),this[_0x3d1df3(0x19b)]=null);}}function getBlankImage(){const _0x267322=_0x1c827e,_0x206a1b=createCanvasContext2D(0x1,0x1);return _0x206a1b[_0x267322(0x193)]=_0x267322(0x182),_0x206a1b['fillRect'](0x0,0x0,0x1,0x1),_0x206a1b['canvas'];}export default ImageTile;