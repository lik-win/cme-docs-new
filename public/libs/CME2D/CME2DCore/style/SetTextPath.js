function _0x3981(){var _0x1c7bdf=['textPathStyle_','scale','visible','textOverflow','textPath_','center','pixelRatio','getSource','ellipsis','textAlign','resolution','389618FLPsXD','getGeometry','3MbyyLa','2405513SsLUdy','getFill','font','context','right','getTextAlign','length','strokeText','viewState','frameState','getWidth','save','slice','postrender','5dVbsJe','name','10sghtNN','getCoordinates','extent','textOverflow_','162549LRQgSU','1953588bzwHmz','call','textPath','MAX_VALUE','end','getStroke','atan2','bind','width','push','function','24FOdLGs','textBaseline','translate','textJustify','#fff','get','minWidth','getText','LineString','MultiLineString','getRotateWithView','1587036HERCpm','split','1859151ZiXoAm','getFont','getColor','justify','getType','fillText','textPathMaxResolution_','unByKey','changed','measureText','prototype','undefined','#000','403153sNsNZa','lineWidth','getFeaturesInExtent','getTextOverflow','getMinWidth'];_0x3981=function(){return _0x1c7bdf;};return _0x3981();}function _0x4c33(_0x341c04,_0xa5077b){var _0x398151=_0x3981();return _0x4c33=function(_0x4c33f7,_0x4e8bfa){_0x4c33f7=_0x4c33f7-0xa2;var _0x544f77=_0x398151[_0x4c33f7];return _0x544f77;},_0x4c33(_0x341c04,_0xa5077b);}var _0x48f2bd=_0x4c33;(function(_0x36e172,_0x319bbb){var _0x205c77=_0x4c33,_0x3907b3=_0x36e172();while(!![]){try{var _0x28636d=parseInt(_0x205c77(0xc2))/0x1+parseInt(_0x205c77(0xd2))/0x2*(-parseInt(_0x205c77(0xd4))/0x3)+parseInt(_0x205c77(0xb3))/0x4*(parseInt(_0x205c77(0xe3))/0x5)+-parseInt(_0x205c77(0xea))/0x6+parseInt(_0x205c77(0xb5))/0x7+-parseInt(_0x205c77(0xa8))/0x8*(parseInt(_0x205c77(0xe9))/0x9)+parseInt(_0x205c77(0xe5))/0xa*(-parseInt(_0x205c77(0xd5))/0xb);if(_0x28636d===_0x319bbb)break;else _0x3907b3['push'](_0x3907b3['shift']());}catch(_0x371bde){_0x3907b3['push'](_0x3907b3['shift']());}}}(_0x3981,0x42768));import _0x576903 from'../util/ext.js';import _0x4cff9e from'../../layer/Vector.js';import _0x5ea923 from'../../style/Style.js';import _0x4f1504 from'../../style/Text.js';(function(){var _0x52a4f2=_0x4c33;function _0x3635c8(_0x220b81){var _0x293dd6=_0x4c33;if(_0x220b81[_0x293dd6(0xde)][_0x293dd6(0xdd)][_0x293dd6(0xd1)]>this[_0x293dd6(0xbb)])return;var _0x2fce8b=_0x220b81[_0x293dd6(0xde)][_0x293dd6(0xe7)],_0x243a99=_0x220b81[_0x293dd6(0xde)]['coordinateToPixelTransform'],_0xbd1d09;function _0x3144ed(_0x2aafc2,_0x4bcd46){var _0xcaa05a=_0x293dd6,_0x474917=[];for(_0xbd1d09=0x0;_0xbd1d09<_0x2aafc2[_0xcaa05a(0xdb)];_0xbd1d09++){_0x474917[_0xcaa05a(0xa6)](_0x243a99[0x0]*_0x2aafc2[_0xbd1d09][0x0]+_0x243a99[0x1]*_0x2aafc2[_0xbd1d09][0x1]+_0x243a99[0x4]),_0x474917[_0xcaa05a(0xa6)](_0x243a99[0x2]*_0x2aafc2[_0xbd1d09][0x0]+_0x243a99[0x3]*_0x2aafc2[_0xbd1d09][0x1]+_0x243a99[0x5]);}if(_0x4bcd46&&_0x474917[0x0]>_0x474917[_0x474917['length']-0x2]){var _0x3c46d1=[];for(_0xbd1d09=_0x474917[_0xcaa05a(0xdb)]-0x2;_0xbd1d09>=0x0;_0xbd1d09-=0x2){_0x3c46d1['push'](_0x474917[_0xbd1d09]),_0x3c46d1[_0xcaa05a(0xa6)](_0x474917[_0xbd1d09+0x1]);}return _0x3c46d1;}else return _0x474917;}var _0x5be2f6=_0x220b81[_0x293dd6(0xd8)];_0x5be2f6[_0x293dd6(0xe0)](),_0x5be2f6[_0x293dd6(0xc8)](_0x220b81[_0x293dd6(0xde)][_0x293dd6(0xcd)],_0x220b81['frameState'][_0x293dd6(0xcd)]);var _0x3cf4e3=this[_0x293dd6(0xce)]()[_0x293dd6(0xc4)](_0x2fce8b);for(var _0x4924f7=0x0,_0x59b47b;_0x59b47b=_0x3cf4e3[_0x4924f7];_0x4924f7++){{var _0x339fa2=this[_0x293dd6(0xc7)](_0x59b47b,_0x220b81[_0x293dd6(0xde)][_0x293dd6(0xdd)][_0x293dd6(0xd1)]);for(var _0x686811,_0x247341=0x0;_0x686811=_0x339fa2[_0x247341];_0x247341++){var _0x522145=_0x686811[_0x293dd6(0xd3)]()||_0x59b47b[_0x293dd6(0xd3)](),_0x26a95a;switch(_0x522145[_0x293dd6(0xb9)]()){case _0x293dd6(0xb0):_0x26a95a=_0x522145[_0x293dd6(0xe6)]();break;case _0x293dd6(0xb1):_0x26a95a=_0x522145['getLineString'](0x0)[_0x293dd6(0xe6)]();break;default:continue;}var _0x960e44=_0x686811[_0x293dd6(0xaf)](),_0xfa66e7=_0x3144ed(_0x26a95a,_0x960e44[_0x293dd6(0xb2)]());_0x5be2f6[_0x293dd6(0xd7)]=_0x960e44[_0x293dd6(0xb6)](),_0x5be2f6[_0x293dd6(0xa9)]=_0x960e44['getTextBaseline'](),_0x5be2f6[_0x293dd6(0xd0)]=_0x960e44[_0x293dd6(0xda)](),_0x5be2f6[_0x293dd6(0xc3)]=_0x960e44[_0x293dd6(0xa2)]()?_0x960e44[_0x293dd6(0xa2)]()[_0x293dd6(0xdf)]()||0x0:0x0,_0x5be2f6['strokeStyle']=_0x960e44[_0x293dd6(0xa2)]()?_0x960e44['getStroke']()[_0x293dd6(0xb7)]()||'#fff':_0x293dd6(0xac),_0x5be2f6['fillStyle']=_0x960e44['getFill']()?_0x960e44[_0x293dd6(0xd6)]()[_0x293dd6(0xb7)]()||'#000':_0x293dd6(0xc1),_0x5be2f6[_0x293dd6(0xab)]=_0x960e44[_0x293dd6(0xda)]()==_0x293dd6(0xb8),_0x5be2f6[_0x293dd6(0xca)]=_0x960e44[_0x293dd6(0xc5)]?_0x960e44[_0x293dd6(0xc5)]():'',_0x5be2f6[_0x293dd6(0xae)]=_0x960e44[_0x293dd6(0xc6)]?_0x960e44[_0x293dd6(0xc6)]():0x0,_0x5be2f6[_0x293dd6(0xec)](_0x960e44['getText']()||_0x59b47b[_0x293dd6(0xad)](_0x293dd6(0xe4)),_0xfa66e7);}}}_0x5be2f6['restore']();}_0x4cff9e['prototype']['setTextPathStyle']=function(_0x2e3fd4,_0x221e89){var _0x37fc7f=_0x4c33;if(_0x2e3fd4===null){if(this[_0x37fc7f(0xcb)])this[_0x37fc7f(0xbc)](this[_0x37fc7f(0xcb)]);this[_0x37fc7f(0xcb)]=null,this[_0x37fc7f(0xbd)]();return;}!this['textPath_']&&(this[_0x37fc7f(0xcb)]=this['on'](['postcompose',_0x37fc7f(0xe2)],_0x3635c8[_0x37fc7f(0xa4)](this)));_0x2e3fd4===undefined&&(_0x2e3fd4=[new _0x5ea923({'text':new _0x4f1504()})]);if(typeof _0x2e3fd4==_0x37fc7f(0xa7))this[_0x37fc7f(0xc7)]=_0x2e3fd4;else this[_0x37fc7f(0xc7)]=function(){return _0x2e3fd4;};this[_0x37fc7f(0xbb)]=Number(_0x221e89)||Number[_0x37fc7f(0xed)],this[_0x37fc7f(0xbd)]();};var _0x3f86a4=function(_0x4a420e){var _0x28a5d3=_0x4c33;if(!_0x4a420e)_0x4a420e={};_0x4f1504[_0x28a5d3(0xeb)](this,_0x4a420e),this[_0x28a5d3(0xe8)]=typeof _0x4a420e['textOverflow']!=_0x28a5d3(0xc0)?_0x4a420e[_0x28a5d3(0xca)]:_0x28a5d3(0xc9),this['minWidth_']=_0x4a420e['minWidth']||0x0;};_0x576903(_0x3f86a4,_0x4f1504),_0x3f86a4['prototype']['getTextOverflow']=function(){var _0x53e591=_0x4c33;return this[_0x53e591(0xe8)];},_0x3f86a4[_0x52a4f2(0xbf)][_0x52a4f2(0xc6)]=function(){return this['minWidth_'];};}()),CanvasRenderingContext2D[_0x48f2bd(0xbf)]['textPath']=function(_0x27566d,_0x58fadf){var _0x40962a=_0x48f2bd,_0x55863d=this;function _0x2dbc32(_0x5e3635,_0x47c024,_0x234627,_0x44591e){var _0x5200bb=_0x234627-_0x5e3635,_0x3c645c=_0x44591e-_0x47c024;return Math['sqrt'](_0x5200bb*_0x5200bb+_0x3c645c*_0x3c645c);}var _0x59ce12,_0x3f141b=0x0,_0x226f2f=0x2;function _0x255ceb(_0x1a5d7d,_0xbfc92e){var _0x4861e3=_0x4c33;if(!_0x59ce12||_0x3f141b+_0x59ce12<_0xbfc92e)for(;_0x226f2f<_0x1a5d7d[_0x4861e3(0xdb)];){_0x59ce12=_0x2dbc32(_0x1a5d7d[_0x226f2f-0x2],_0x1a5d7d[_0x226f2f-0x1],_0x1a5d7d[_0x226f2f],_0x1a5d7d[_0x226f2f+0x1]);if(_0x3f141b+_0x59ce12>_0xbfc92e)break;_0x226f2f+=0x2;if(_0x226f2f>=_0x1a5d7d[_0x4861e3(0xdb)])break;_0x3f141b+=_0x59ce12;}var _0x58b270,_0x2f67d0,_0x36e020,_0x2e1ed3=_0xbfc92e-_0x3f141b;return _0x226f2f>=_0x1a5d7d[_0x4861e3(0xdb)]&&(_0x226f2f=_0x1a5d7d['length']-0x2),!_0x2e1ed3?(_0x58b270=_0x1a5d7d[_0x226f2f-0x2],_0x2f67d0=_0x1a5d7d[_0x226f2f-0x1],_0x36e020=Math[_0x4861e3(0xa3)](_0x1a5d7d[_0x226f2f+0x1]-_0x1a5d7d[_0x226f2f-0x1],_0x1a5d7d[_0x226f2f]-_0x1a5d7d[_0x226f2f-0x2])):(_0x58b270=_0x1a5d7d[_0x226f2f-0x2]+(_0x1a5d7d[_0x226f2f]-_0x1a5d7d[_0x226f2f-0x2])*_0x2e1ed3/_0x59ce12,_0x2f67d0=_0x1a5d7d[_0x226f2f-0x1]+(_0x1a5d7d[_0x226f2f+0x1]-_0x1a5d7d[_0x226f2f-0x1])*_0x2e1ed3/_0x59ce12,_0x36e020=Math[_0x4861e3(0xa3)](_0x1a5d7d[_0x226f2f+0x1]-_0x1a5d7d[_0x226f2f-0x1],_0x1a5d7d[_0x226f2f]-_0x1a5d7d[_0x226f2f-0x2])),[_0x58b270,_0x2f67d0,_0x36e020];}var _0x989a7a=_0x55863d[_0x40962a(0xbe)]('\x20')['width']*0.25,_0x2c4e20=0x0,_0x20f85d=0x0;for(var _0x388e4d=0x2;_0x388e4d<_0x58fadf[_0x40962a(0xdb)];_0x388e4d+=0x2){_0x20f85d+=_0x2dbc32(_0x58fadf[_0x388e4d-0x2],_0x58fadf[_0x388e4d-0x1],_0x58fadf[_0x388e4d],_0x58fadf[_0x388e4d+0x1]);}if(_0x20f85d<_0x55863d['minWidth'])return;var _0x375a01=_0x27566d['split']('\x20')['length']-0x1;if(_0x55863d[_0x40962a(0xca)]!=_0x40962a(0xc9)){if(_0x20f85d<_0x55863d['measureText'](_0x27566d)[_0x40962a(0xa5)]+(_0x27566d[_0x40962a(0xdb)]-0x1+_0x375a01)*_0x989a7a){var _0x1c048d=_0x55863d[_0x40962a(0xca)]==_0x40962a(0xcf)?'â€¦':_0x55863d[_0x40962a(0xca)];do{_0x375a01=_0x27566d[_0x40962a(0xb4)]('\x20')[_0x40962a(0xdb)]-0x1,_0x27566d=_0x27566d[_0x40962a(0xe1)](0x0,_0x27566d[_0x40962a(0xdb)]-0x1);}while(_0x27566d&&_0x20f85d<_0x55863d[_0x40962a(0xbe)](_0x27566d+_0x1c048d)[_0x40962a(0xa5)]+(_0x27566d[_0x40962a(0xdb)]+_0x1c048d['length']-0x1+_0x375a01)*_0x989a7a);_0x27566d+=_0x1c048d;}}switch(_0x55863d[_0x40962a(0xab)]||_0x55863d[_0x40962a(0xd0)]){case!![]:case'center':case _0x40962a(0xee):case _0x40962a(0xd9):{if(_0x55863d[_0x40962a(0xab)])_0x2c4e20=0x0,_0x989a7a=(_0x20f85d-_0x55863d[_0x40962a(0xbe)](_0x27566d)[_0x40962a(0xa5)])/(_0x27566d[_0x40962a(0xdb)]-0x1+_0x375a01);else{_0x2c4e20=_0x20f85d-_0x55863d[_0x40962a(0xbe)](_0x27566d)['width']-(_0x27566d['length']+_0x375a01)*_0x989a7a;if(_0x55863d[_0x40962a(0xd0)]==_0x40962a(0xcc))_0x2c4e20/=0x2;}break;}default:break;}for(var _0x5586e3=0x0;_0x5586e3<_0x27566d[_0x40962a(0xdb)];_0x5586e3++){var _0x28ee10=_0x27566d[_0x5586e3],_0x37d04d=_0x55863d['measureText'](_0x28ee10)['width'],_0x9b6f22=_0x255ceb(_0x58fadf,_0x2c4e20+_0x37d04d/0x2);_0x55863d[_0x40962a(0xe0)](),_0x55863d['textAlign']=_0x40962a(0xcc),_0x55863d[_0x40962a(0xaa)](_0x9b6f22[0x0],_0x9b6f22[0x1]),_0x55863d['rotate'](_0x9b6f22[0x2]);if(_0x55863d[_0x40962a(0xc3)])_0x55863d[_0x40962a(0xdc)](_0x28ee10,0x0,0x0);_0x55863d[_0x40962a(0xba)](_0x28ee10,0x0,0x0),_0x55863d['restore'](),_0x2c4e20+=_0x37d04d+_0x989a7a*(_0x28ee10=='\x20'?0x2:0x1);}};