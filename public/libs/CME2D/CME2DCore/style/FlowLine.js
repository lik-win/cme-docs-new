var _0x4d6b99=_0x3180;function _0xaf37(){var _0x351bbb=['LineString','_acolor','feature','round','setOffset','21WBiSxQ','color','setWidth','setRenderer','_noOverlap','cos','_render','_offset','104131XhwevU','setArrow','getType','_width','color2','geometry','setWidth2','_widthFn','shift','getOffset','10hSGqCs','bind','12174AnqZBm','_color','_arrowSize','getArrow','strokeStyle','rotation','arrow','6604695fnkWJI','push','stroke','function','isArray','1784868hOiKHW','lineCap','_arrow','setArrowSize','butt','drawArrow','unshift','save','length','fillStyle','lineJoin','setColor2','_splitInto','lineWidth','max','_visible','restore','width2','lineTo','number','setColor','getCoordinates','2020248vUcocZ','arrowSize','_width2','resolution','getColor','getWidth','pixelRatio','_colorFn','context','setLineCap','getArrowSize','_splitAsize','_lineCap','pop','158976cdMfhf','width','offset1','visible','setArrowColor','beginPath','694680rhhAJk','460wQOSkq','rgba(','_color2'];_0xaf37=function(){return _0x351bbb;};return _0xaf37();}(function(_0x4c0cc0,_0x5c3252){var _0x28f3a6=_0x3180,_0x2a5059=_0x4c0cc0();while(!![]){try{var _0x39ce5a=parseInt(_0x28f3a6(0x14f))/0x1+parseInt(_0x28f3a6(0x13f))/0x2*(parseInt(_0x28f3a6(0x15b))/0x3)+parseInt(_0x28f3a6(0x138))/0x4+-parseInt(_0x28f3a6(0x13e))/0x5+parseInt(_0x28f3a6(0x167))/0x6*(-parseInt(_0x28f3a6(0x147))/0x7)+-parseInt(_0x28f3a6(0x17d))/0x8+parseInt(_0x28f3a6(0x162))/0x9*(parseInt(_0x28f3a6(0x159))/0xa);if(_0x39ce5a===_0x5c3252)break;else _0x2a5059['push'](_0x2a5059['shift']());}catch(_0x24f3d4){_0x2a5059['push'](_0x2a5059['shift']());}}}(_0xaf37,0x80b41));import _0x4415ed from'../../style/Style.js';import{asString as _0x555f88}from'../../color.js';import{asArray as _0x3139d6}from'../../color.js';import{cme_coordinate_dist2d}from'../geom/GeomUtils.js';function _0x3180(_0x334878,_0x3a3c31){var _0xaf3730=_0xaf37();return _0x3180=function(_0x318002,_0x2c8311){_0x318002=_0x318002-0x135;var _0x3aa26c=_0xaf3730[_0x318002];return _0x3aa26c;},_0x3180(_0x334878,_0x3a3c31);}import'../geom/LineStringSplitAt.js';var cme_style_FlowLine=class olstyleFlowLine extends _0x4415ed{constructor(_0x1713f7){var _0x1dd77e=_0x3180;_0x1713f7=_0x1713f7||{},super({'stroke':_0x1713f7[_0x1dd77e(0x164)],'text':_0x1713f7['text'],'zIndex':_0x1713f7['zIndex'],'geometry':_0x1713f7[_0x1dd77e(0x154)]}),this[_0x1dd77e(0x14a)](this['_render'][_0x1dd77e(0x15a)](this)),this[_0x1dd77e(0x176)]=_0x1713f7[_0x1dd77e(0x13b)]!==![],typeof _0x1713f7[_0x1dd77e(0x139)]==='function'?this[_0x1dd77e(0x156)]=_0x1713f7[_0x1dd77e(0x139)]:this[_0x1dd77e(0x149)](_0x1713f7[_0x1dd77e(0x139)]),this['setWidth2'](_0x1713f7[_0x1dd77e(0x178)]),typeof _0x1713f7['color']===_0x1dd77e(0x165)?this[_0x1dd77e(0x184)]=_0x1713f7[_0x1dd77e(0x148)]:this[_0x1dd77e(0x17b)](_0x1713f7[_0x1dd77e(0x148)]),this['setColor2'](_0x1713f7[_0x1dd77e(0x153)]),this[_0x1dd77e(0x186)](_0x1713f7[_0x1dd77e(0x168)]),this[_0x1dd77e(0x150)](_0x1713f7[_0x1dd77e(0x161)]),this[_0x1dd77e(0x16a)](_0x1713f7[_0x1dd77e(0x17e)]),this['setArrowColor'](_0x1713f7['arrowColor']),this['_offset']=[0x0,0x0],this[_0x1dd77e(0x146)](_0x1713f7['offset0'],0x0),this['setOffset'](_0x1713f7[_0x1dd77e(0x13a)],0x1),this[_0x1dd77e(0x14b)]=_0x1713f7['noOverlap'];}[_0x4d6b99(0x149)](_0x344e4b){var _0x485d30=_0x4d6b99;this[_0x485d30(0x152)]=_0x344e4b||0x0;}[_0x4d6b99(0x155)](_0x10f4b9){var _0x397333=_0x4d6b99;this[_0x397333(0x17f)]=_0x10f4b9;}[_0x4d6b99(0x158)](_0x34a459){var _0x5ae91a=_0x4d6b99;return this[_0x5ae91a(0x14e)][_0x34a459];}[_0x4d6b99(0x146)](_0x5a9790,_0x2e96a9){var _0x5ea80f=_0x4d6b99;_0x5a9790=Math[_0x5ea80f(0x175)](0x0,parseFloat(_0x5a9790));switch(_0x2e96a9){case 0x0:{this[_0x5ea80f(0x14e)][0x0]=_0x5a9790;break;}case 0x1:{this[_0x5ea80f(0x14e)][0x1]=_0x5a9790;break;}}}[_0x4d6b99(0x186)](_0x233678){var _0x48b70b=_0x4d6b99;this[_0x48b70b(0x136)]=_0x233678===_0x48b70b(0x145)?_0x48b70b(0x145):_0x48b70b(0x16b);}[_0x4d6b99(0x182)](_0x110fc0,_0x5c90f7){var _0x27c9e2=_0x4d6b99;if(this[_0x27c9e2(0x156)])return this[_0x27c9e2(0x156)](_0x110fc0,_0x5c90f7);var _0x209c8d=typeof this[_0x27c9e2(0x17f)]===_0x27c9e2(0x17a)?this[_0x27c9e2(0x17f)]:this[_0x27c9e2(0x152)];return this[_0x27c9e2(0x152)]+(_0x209c8d-this[_0x27c9e2(0x152)])*_0x5c90f7;}[_0x4d6b99(0x17b)](_0x24b33a){var _0x2b95e9=_0x4d6b99;try{this['_color']=_0x3139d6(_0x24b33a);}catch(_0x144d56){this[_0x2b95e9(0x15c)]=[0x0,0x0,0x0,0x1];}}[_0x4d6b99(0x172)](_0x3fdee0){var _0x5b68e4=_0x4d6b99;try{this[_0x5b68e4(0x141)]=_0x3139d6(_0x3fdee0);}catch(_0x2d7db3){this[_0x5b68e4(0x141)]=null;}}[_0x4d6b99(0x13c)](_0x1a7721){var _0x1a1d4a=_0x4d6b99;try{this[_0x1a1d4a(0x143)]=_0x555f88(_0x1a7721);}catch(_0x139e21){this[_0x1a1d4a(0x143)]=null;}}[_0x4d6b99(0x181)](_0x477523,_0x10fd9c){var _0x2e5971=_0x4d6b99;if(this[_0x2e5971(0x184)])return _0x555f88(this[_0x2e5971(0x184)](_0x477523,_0x10fd9c));var _0x2916ea=this[_0x2e5971(0x15c)],_0x25b973=this['_color2']||this[_0x2e5971(0x15c)];return _0x2e5971(0x140)+ +Math[_0x2e5971(0x145)](_0x2916ea[0x0]+(_0x25b973[0x0]-_0x2916ea[0x0])*_0x10fd9c)+','+Math['round'](_0x2916ea[0x1]+(_0x25b973[0x1]-_0x2916ea[0x1])*_0x10fd9c)+','+Math['round'](_0x2916ea[0x2]+(_0x25b973[0x2]-_0x2916ea[0x2])*_0x10fd9c)+','+(_0x2916ea[0x3]+(_0x25b973[0x3]-_0x2916ea[0x3])*_0x10fd9c)+')';}[_0x4d6b99(0x15e)](){var _0x3bb4d3=_0x4d6b99;return this[_0x3bb4d3(0x169)];}['setArrow'](_0xce8f26){var _0x501660=_0x4d6b99;this[_0x501660(0x169)]=parseInt(_0xce8f26);if(this[_0x501660(0x169)]<-0x1||this[_0x501660(0x169)]>0x2)this[_0x501660(0x169)]=0x0;}[_0x4d6b99(0x187)](){var _0x124902=_0x4d6b99;return this[_0x124902(0x15d)]||[0x10,0x10];}[_0x4d6b99(0x16a)](_0x581ba8){var _0x1a7182=_0x4d6b99;if(Array[_0x1a7182(0x166)](_0x581ba8))this[_0x1a7182(0x15d)]=_0x581ba8;else{if(typeof _0x581ba8===_0x1a7182(0x17a))this['_arrowSize']=[_0x581ba8,_0x581ba8];}}[_0x4d6b99(0x16c)](_0x1516f3,_0x3bf0c8,_0x28b879,_0x5cc6ac,_0x5460f7){var _0x45358c=_0x4d6b99,_0x24bc41=this[_0x45358c(0x187)]()[0x0]*_0x5460f7,_0x1f7bdc=cme_coordinate_dist2d(_0x3bf0c8,_0x28b879),_0xd10632=(_0x3bf0c8[0x0]-_0x28b879[0x0])/_0x1f7bdc,_0x4877b2=(_0x3bf0c8[0x1]-_0x28b879[0x1])/_0x1f7bdc;_0x5cc6ac=Math[_0x45358c(0x175)](this['getArrowSize']()[0x1]/0x2,_0x5cc6ac/0x2)*_0x5460f7,_0x1516f3[_0x45358c(0x13d)](),_0x1516f3['moveTo'](_0x3bf0c8[0x0],_0x3bf0c8[0x1]),_0x1516f3['lineTo'](_0x3bf0c8[0x0]-_0x24bc41*_0xd10632+_0x5cc6ac*_0x4877b2,_0x3bf0c8[0x1]-_0x24bc41*_0x4877b2-_0x5cc6ac*_0xd10632),_0x1516f3[_0x45358c(0x179)](_0x3bf0c8[0x0]-_0x24bc41*_0xd10632-_0x5cc6ac*_0x4877b2,_0x3bf0c8[0x1]-_0x24bc41*_0x4877b2+_0x5cc6ac*_0xd10632),_0x1516f3[_0x45358c(0x179)](_0x3bf0c8[0x0],_0x3bf0c8[0x1]),_0x1516f3['fill']();}[_0x4d6b99(0x14d)](_0x165dd1,_0x200bff){var _0x37bb70=_0x4d6b99;if(_0x200bff[_0x37bb70(0x154)][_0x37bb70(0x151)]()===_0x37bb70(0x142)){var _0x598397,_0x5f389b,_0x425fac,_0x23a1b5=_0x200bff[_0x37bb70(0x185)];if(!this['_visible']){var _0x45b17c=_0x200bff[_0x37bb70(0x183)]/_0x200bff[_0x37bb70(0x180)],_0x143aa3=Math[_0x37bb70(0x14c)](_0x200bff[_0x37bb70(0x160)]),_0x38a52e=Math['sin'](_0x200bff[_0x37bb70(0x160)]);_0x5f389b=_0x200bff[_0x37bb70(0x154)][_0x37bb70(0x17c)]();var _0x212f9c=_0x165dd1[0x0][0x0]-_0x5f389b[0x0][0x0]*_0x45b17c*_0x143aa3-_0x5f389b[0x0][0x1]*_0x45b17c*_0x38a52e,_0x463739=_0x165dd1[0x0][0x1]-_0x5f389b[0x0][0x0]*_0x45b17c*_0x38a52e+_0x5f389b[0x0][0x1]*_0x45b17c*_0x143aa3;_0x165dd1=[];for(_0x598397=0x0;_0x425fac=_0x5f389b[_0x598397];_0x598397++){_0x165dd1[_0x598397]=[_0x212f9c+_0x425fac[0x0]*_0x45b17c*_0x143aa3+_0x425fac[0x1]*_0x45b17c*_0x38a52e,_0x463739+_0x425fac[0x0]*_0x45b17c*_0x38a52e-_0x425fac[0x1]*_0x45b17c*_0x143aa3,_0x425fac[0x2]];}}var _0x296330=this[_0x37bb70(0x187)]()[0x0]*_0x200bff[_0x37bb70(0x183)];_0x23a1b5[_0x37bb70(0x16e)]();if(this['getOffset'](0x0))this[_0x37bb70(0x135)](_0x165dd1,this[_0x37bb70(0x158)](0x0)*_0x200bff[_0x37bb70(0x183)]);if(this[_0x37bb70(0x158)](0x1))this['_splitAsize'](_0x165dd1,this[_0x37bb70(0x158)](0x1)*_0x200bff[_0x37bb70(0x183)],!![]);if(_0x165dd1[_0x37bb70(0x16f)]>0x1&&(this[_0x37bb70(0x15e)]()===-0x1||this[_0x37bb70(0x15e)]()===0x2)){_0x425fac=this[_0x37bb70(0x135)](_0x165dd1,_0x296330);if(this[_0x37bb70(0x143)])_0x23a1b5['fillStyle']=this['_acolor'];else _0x23a1b5['fillStyle']=this['getColor'](_0x200bff['feature'],0x0);this[_0x37bb70(0x16c)](_0x23a1b5,_0x425fac[0x0],_0x425fac[0x1],this[_0x37bb70(0x182)](_0x200bff['feature'],0x0),_0x200bff[_0x37bb70(0x183)]);}if(_0x165dd1[_0x37bb70(0x16f)]>0x1&&this[_0x37bb70(0x15e)]()>0x0){_0x425fac=this[_0x37bb70(0x135)](_0x165dd1,_0x296330,!![]);if(this['_acolor'])_0x23a1b5[_0x37bb70(0x170)]=this[_0x37bb70(0x143)];else _0x23a1b5[_0x37bb70(0x170)]=this[_0x37bb70(0x181)](_0x200bff[_0x37bb70(0x144)],0x1);this[_0x37bb70(0x16c)](_0x23a1b5,_0x425fac[0x0],_0x425fac[0x1],this[_0x37bb70(0x182)](_0x200bff[_0x37bb70(0x144)],0x1),_0x200bff[_0x37bb70(0x183)]);}var _0x575af6=this[_0x37bb70(0x173)](_0x165dd1,0xff,0x2),_0x16e709=0x0,_0x5dd7b4=_0x575af6['length'];_0x23a1b5[_0x37bb70(0x171)]=_0x37bb70(0x145),_0x23a1b5[_0x37bb70(0x168)]=this[_0x37bb70(0x136)]||'butt';if(_0x575af6[_0x37bb70(0x16f)]>0x1)for(_0x16e709=0x0;_0x16e709<_0x575af6[_0x37bb70(0x16f)];_0x16e709++){var _0x14e418=_0x16e709/_0x5dd7b4;_0x5f389b=_0x575af6[_0x16e709],_0x23a1b5[_0x37bb70(0x174)]=this[_0x37bb70(0x182)](_0x200bff['feature'],_0x14e418)*_0x200bff[_0x37bb70(0x183)],_0x23a1b5[_0x37bb70(0x15f)]=this[_0x37bb70(0x181)](_0x200bff[_0x37bb70(0x144)],_0x14e418),_0x23a1b5[_0x37bb70(0x13d)](),_0x23a1b5['moveTo'](_0x5f389b[0x0][0x0],_0x5f389b[0x0][0x1]);for(_0x598397=0x1;_0x425fac=_0x5f389b[_0x598397];_0x598397++){_0x23a1b5[_0x37bb70(0x179)](_0x425fac[0x0],_0x425fac[0x1]);}_0x23a1b5[_0x37bb70(0x164)]();}_0x23a1b5[_0x37bb70(0x177)]();}}[_0x4d6b99(0x135)](_0x25c8df,_0x1eb087,_0x1e0a9e){var _0x55627a=_0x4d6b99,_0x3e6ccb,_0x2f68a8,_0x262f9f,_0x29728b,_0xf49c19=0x0;if(_0x1e0a9e)_0x262f9f=_0x25c8df[_0x55627a(0x137)]();else _0x262f9f=_0x25c8df[_0x55627a(0x157)]();_0x3e6ccb=_0x262f9f;while(_0x25c8df[_0x55627a(0x16f)]){if(_0x1e0a9e)_0x2f68a8=_0x25c8df[_0x55627a(0x137)]();else _0x2f68a8=_0x25c8df['shift']();_0x29728b=cme_coordinate_dist2d(_0x3e6ccb,_0x2f68a8);if(_0xf49c19+_0x29728b>_0x1eb087){_0x3e6ccb=[_0x3e6ccb[0x0]+(_0x2f68a8[0x0]-_0x3e6ccb[0x0])*(_0x1eb087-_0xf49c19)/_0x29728b,_0x3e6ccb[0x1]+(_0x2f68a8[0x1]-_0x3e6ccb[0x1])*(_0x1eb087-_0xf49c19)/_0x29728b],_0x29728b=cme_coordinate_dist2d(_0x3e6ccb,_0x262f9f);_0x1e0a9e?(_0x25c8df[_0x55627a(0x163)](_0x2f68a8),_0x25c8df['push'](_0x3e6ccb),_0x25c8df[_0x55627a(0x163)]([_0x3e6ccb[0x0]+(_0x262f9f[0x0]-_0x3e6ccb[0x0])/_0x29728b,_0x3e6ccb[0x1]+(_0x262f9f[0x1]-_0x3e6ccb[0x1])/_0x29728b])):(_0x25c8df[_0x55627a(0x16d)](_0x2f68a8),_0x25c8df[_0x55627a(0x16d)](_0x3e6ccb),_0x25c8df[_0x55627a(0x16d)]([_0x3e6ccb[0x0]+(_0x262f9f[0x0]-_0x3e6ccb[0x0])/_0x29728b,_0x3e6ccb[0x1]+(_0x262f9f[0x1]-_0x3e6ccb[0x1])/_0x29728b]));break;}_0xf49c19+=_0x29728b,_0x3e6ccb=_0x2f68a8;}return[_0x262f9f,_0x3e6ccb];}[_0x4d6b99(0x173)](_0x4ed141,_0x5361eb,_0x572d1d){var _0x4e8c33=_0x4d6b99,_0x3619e4,_0x360fb8,_0x5a69e8=this['_noOverlap']?0x1:0.9,_0x1a8628=[],_0x22e8d5,_0xd6b84c=0x0;for(_0x3619e4=0x1;_0x360fb8=_0x4ed141[_0x3619e4];_0x3619e4++){_0xd6b84c+=cme_coordinate_dist2d(_0x4ed141[_0x3619e4-0x1],_0x360fb8);}var _0x575132=Math[_0x4e8c33(0x175)](_0x572d1d||0x2,_0xd6b84c/(_0x5361eb||0xff)),_0x7dc013=_0x4ed141[0x0];_0xd6b84c=0x0;var _0x55d9be=[_0x7dc013];_0x3619e4=0x1,_0x360fb8=_0x4ed141[0x1];while(_0x3619e4<_0x4ed141[_0x4e8c33(0x16f)]){var _0x2e786f=_0x360fb8[0x0]-_0x7dc013[0x0],_0x1f1fb8=_0x360fb8[0x1]-_0x7dc013[0x1];_0x22e8d5=Math['sqrt'](_0x2e786f*_0x2e786f+_0x1f1fb8*_0x1f1fb8);if(_0xd6b84c+_0x22e8d5>_0x575132){var _0x391d09=(_0x575132-_0xd6b84c)/_0x22e8d5;_0x55d9be['push']([_0x7dc013[0x0]+_0x2e786f*_0x391d09,_0x7dc013[0x1]+_0x1f1fb8*_0x391d09]),_0x1a8628['push'](_0x55d9be),_0x7dc013=[_0x7dc013[0x0]+_0x2e786f*_0x391d09*_0x5a69e8,_0x7dc013[0x1]+_0x1f1fb8*_0x391d09*_0x5a69e8],_0x55d9be=[_0x7dc013],_0xd6b84c=0x0;}else _0xd6b84c+=_0x22e8d5,_0x7dc013=_0x360fb8,_0x55d9be[_0x4e8c33(0x163)](_0x7dc013),_0x3619e4++,_0x360fb8=_0x4ed141[_0x3619e4];}return _0x1a8628[_0x4e8c33(0x163)](_0x55d9be),_0x1a8628;}};export default cme_style_FlowLine;