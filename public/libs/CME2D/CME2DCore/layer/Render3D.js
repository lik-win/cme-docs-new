var _0x40aa7b=_0x4660;(function(_0x5ba567,_0x433bc5){var _0x359407=_0x4660,_0x4978e3=_0x5ba567();while(!![]){try{var _0x709466=-parseInt(_0x359407(0x1b7))/0x1*(-parseInt(_0x359407(0x192))/0x2)+parseInt(_0x359407(0x1ec))/0x3*(parseInt(_0x359407(0x1f4))/0x4)+parseInt(_0x359407(0x1dd))/0x5+parseInt(_0x359407(0x1b4))/0x6*(-parseInt(_0x359407(0x194))/0x7)+parseInt(_0x359407(0x1d0))/0x8+parseInt(_0x359407(0x1d8))/0x9+-parseInt(_0x359407(0x1d3))/0xa;if(_0x709466===_0x433bc5)break;else _0x4978e3['push'](_0x4978e3['shift']());}catch(_0xeb6e66){_0x4978e3['push'](_0x4978e3['shift']());}}}(_0x39fc,0xbc972));import _0x1b3ab7 from'../../layer/Vector.js';import{unByKey as _0x3d2049}from'../../Observable.js';import{easeOut as _0x5879b9}from'../../easing.js';function _0x39fc(){var _0x5cc45e=['height_','_style','13143rNyBYt','bottom','fillText','type','getFeaturesInExtent','easing_','getStyle','getType','hvector_','animate','res_','setActive','defaultHeight','addColorStop','rgba(255,255,255,0)','stroke','function','bind','strokeStyle','elapsedRatio_','animateDuration_','coordinateToPixelMatrix','resolution','beginPath','extent','11069656WxKmAk','strokeRect','context','40443970xGiyff','getFeature3D_','animate_','coordinateToPixelTransform','closePath','11670759nUMIpQ','getStroke','layer_','time','getGeometry','5361835EzANQh','scale','rgba(255,255,255,.2)','toHeight_','height','getFill','forEach','get','center','getActive','save','evenodd','getSource','length','getHfn','3jvxIqL','center_','Polygon','_listener','duration','matrix_','push','rgba(255,255,255,0.5)','4030436cmxLMu','getColor','style','geom','moveTo','set','onPostcompose_','frameState','156fmVuAk','string','175GarqRS','font','getTime','setLayer','viewState','postcompose','ghost','lineWidth','label','postrender','_active','setRender3D','red','rgba(0,0,255,0.5)','geometry','lineTo','getCoordinates','getWidth','fillStyle','maxResolution','Point','setStyle','measureText','fill','drawFeature3D_','width','MultiPolygon','textAlign','feature','number','easing','getFeatureHeight','232494EbiHcu'];_0x39fc=function(){return _0x5cc45e;};return _0x39fc();}function _0x4660(_0x44a8a1,_0x47cee2){var _0x39fc09=_0x39fc();return _0x4660=function(_0x466072,_0x5a6be0){_0x466072=_0x466072-0x18e;var _0x37a3f8=_0x39fc09[_0x466072];return _0x37a3f8;},_0x4660(_0x44a8a1,_0x47cee2);}import _0x2b8327 from'../../Object.js';import _0x4a5fd6 from'../../style/Style.js';import _0x4ae17c from'../../style/Stroke.js';import _0x3a0abe from'../../style/Fill.js';import{asString as _0xe9eb6e}from'../../color.js';import{cme_coordinate_getIntersectionPoint}from'../geom/GeomUtils.js';_0x1b3ab7['prototype'][_0x40aa7b(0x19f)]=function(_0x1ccbdf){var _0x902699=_0x40aa7b;_0x1ccbdf[_0x902699(0x197)](this);};var cme_render3D=class olrender3D extends _0x2b8327{constructor(_0x13381d){var _0x57a99e=_0x40aa7b;_0x13381d=_0x13381d||{},_0x13381d[_0x57a99e(0x1a7)]=_0x13381d[_0x57a99e(0x1a7)]||0x64,_0x13381d['defaultHeight']=_0x13381d[_0x57a99e(0x1c3)]||0x0,super(_0x13381d),this[_0x57a99e(0x1a9)](_0x13381d[_0x57a99e(0x1f6)]),this[_0x57a99e(0x18f)](_0x57a99e(0x19a),_0x13381d[_0x57a99e(0x19a)]),this[_0x57a99e(0x1c2)](_0x13381d['active']||_0x13381d['active']!==![]),this[_0x57a99e(0x1b5)]=_0x13381d[_0x57a99e(0x1e1)]=this[_0x57a99e(0x1eb)](_0x13381d['height']);if(_0x13381d['layer'])this[_0x57a99e(0x197)](_0x13381d['layer']);}[_0x40aa7b(0x1a9)](_0x1af3d6){var _0x694dda=_0x40aa7b;if(_0x1af3d6 instanceof _0x4a5fd6)this['_style']=_0x1af3d6;else this['_style']=new _0x4a5fd6();!this[_0x694dda(0x1b6)][_0x694dda(0x1d9)]()&&this['_style']['setStroke'](new _0x4ae17c({'width':0x1,'color':_0x694dda(0x1a0)}));!this['_style'][_0x694dda(0x1e2)]()&&this['_style']['setFill'](new _0x3a0abe({'color':_0x694dda(0x1a1)}));if(_0x1af3d6&&_0x1af3d6[_0x694dda(0x1dc)]()){var _0x50e4f1=_0x1af3d6[_0x694dda(0x1dc)]();typeof _0x50e4f1===_0x694dda(0x1c7)?this[_0x694dda(0x18f)](_0x694dda(0x1a2),_0x50e4f1):this[_0x694dda(0x18f)](_0x694dda(0x1a2),function(){return _0x50e4f1;});}else this[_0x694dda(0x18f)]('geometry',function(_0x2a3e60){return _0x2a3e60['getGeometry']();});}[_0x40aa7b(0x1bd)](){return this['_style'];}[_0x40aa7b(0x1c2)](_0x48bac4){var _0x564aff=_0x40aa7b;typeof _0x48bac4===_0x564aff(0x1c7)?this[_0x564aff(0x19e)]=_0x48bac4:this[_0x564aff(0x19e)]=function(){return _0x48bac4;};if(this['layer_'])this[_0x564aff(0x1da)]['changed']();}['getActive'](){var _0x5d7837=_0x40aa7b;return this[_0x5d7837(0x19e)]();}[_0x40aa7b(0x190)](_0x4f503e){var _0x4e8402=_0x40aa7b;if(!this[_0x4e8402(0x1e6)]())return;var _0x489259=_0x4f503e[_0x4e8402(0x191)][_0x4e8402(0x198)][_0x4e8402(0x1cd)];if(_0x489259>this['get']('maxResolution'))return;this[_0x4e8402(0x1c1)]=_0x489259*0x190;if(this['animate_']){var _0xdc59dc=_0x4f503e[_0x4e8402(0x191)][_0x4e8402(0x1db)]-this[_0x4e8402(0x1d5)];_0xdc59dc<this['animateDuration_']?(this[_0x4e8402(0x1ca)]=this[_0x4e8402(0x1bc)](_0xdc59dc/this[_0x4e8402(0x1cb)]),_0x4f503e[_0x4e8402(0x191)][_0x4e8402(0x1c0)]=!![]):(this['animate_']=![],this['height_']=this[_0x4e8402(0x1e0)]);}var _0x909b9c=_0x4f503e[_0x4e8402(0x191)]['pixelRatio'],_0x10ab1b=_0x4f503e[_0x4e8402(0x1d2)],_0x3fd22e=this[_0x4e8402(0x1f1)]=_0x4f503e[_0x4e8402(0x191)][_0x4e8402(0x1d6)];!_0x3fd22e&&(_0x3fd22e=_0x4f503e[_0x4e8402(0x191)][_0x4e8402(0x1cc)],_0x3fd22e[0x2]=_0x3fd22e[0x4],_0x3fd22e[0x3]=_0x3fd22e[0x5],_0x3fd22e[0x4]=_0x3fd22e[0xc],_0x3fd22e[0x5]=_0x3fd22e[0xd]);this[_0x4e8402(0x1ed)]=[_0x10ab1b['canvas'][_0x4e8402(0x1ad)]/0x2/_0x909b9c,_0x10ab1b['canvas'][_0x4e8402(0x1e1)]/_0x909b9c];var _0x1945e0=this['layer_'][_0x4e8402(0x1e9)]()[_0x4e8402(0x1bb)](_0x4f503e[_0x4e8402(0x191)][_0x4e8402(0x1cf)]);_0x10ab1b[_0x4e8402(0x1e7)](),_0x10ab1b[_0x4e8402(0x1de)](_0x909b9c,_0x909b9c);var _0x56635e=this[_0x4e8402(0x1bd)]();_0x10ab1b[_0x4e8402(0x19b)]=_0x56635e[_0x4e8402(0x1d9)]()[_0x4e8402(0x1a5)](),_0x10ab1b['strokeStyle']=_0xe9eb6e(_0x56635e['getStroke']()[_0x4e8402(0x1f5)]()),_0x10ab1b[_0x4e8402(0x1a6)]=_0xe9eb6e(_0x56635e[_0x4e8402(0x1e2)]()['getColor']());var _0x5c5caf=[];for(var _0x4412b9=0x0;_0x4412b9<_0x1945e0['length'];_0x4412b9++){var _0xc47ff1=this['getFeatureHeight'](_0x1945e0[_0x4412b9]);if(_0xc47ff1)_0x5c5caf['push'](this['getFeature3D_'](_0x1945e0[_0x4412b9],_0xc47ff1));}if(this[_0x4e8402(0x1e4)](_0x4e8402(0x19a)))this['drawGhost3D_'](_0x10ab1b,_0x5c5caf);else this[_0x4e8402(0x1ac)](_0x10ab1b,_0x5c5caf);_0x10ab1b['restore']();}['setLayer'](_0x37f159){var _0x285646=_0x40aa7b;this[_0x285646(0x1ef)]&&this['_listener'][_0x285646(0x1e3)](function(_0x314794){_0x3d2049(_0x314794);}),this[_0x285646(0x1da)]=_0x37f159,this[_0x285646(0x1ef)]=_0x37f159['on']([_0x285646(0x199),_0x285646(0x19d)],this['onPostcompose_'][_0x285646(0x1c8)](this));}[_0x40aa7b(0x1eb)](_0x403ca5){var _0xf8927f=_0x40aa7b;switch(typeof _0x403ca5){case _0xf8927f(0x1c7):return _0x403ca5;case _0xf8927f(0x193):{var _0x2807f6=this[_0xf8927f(0x1e4)](_0xf8927f(0x1c3));return function(_0x221ffa){var _0x4586d8=_0xf8927f;return Number(_0x221ffa[_0x4586d8(0x1e4)](_0x403ca5))||_0x2807f6;};}case _0xf8927f(0x1b1):return function(){return _0x403ca5;};default:return function(){return 0xa;};}}['animate'](_0x5b8c35){var _0x50406b=_0x40aa7b;_0x5b8c35=_0x5b8c35||{},this[_0x50406b(0x1e0)]=this[_0x50406b(0x1eb)](_0x5b8c35[_0x50406b(0x1e1)]),this['animate_']=new Date()[_0x50406b(0x196)](),this[_0x50406b(0x1cb)]=_0x5b8c35[_0x50406b(0x1f0)]||0x3e8,this['easing_']=_0x5b8c35[_0x50406b(0x1b2)]||_0x5879b9,this['layer_']['changed']();}['animating'](){var _0x3ea132=_0x40aa7b;return this[_0x3ea132(0x1d5)]&&new Date()[_0x3ea132(0x196)]()-this[_0x3ea132(0x1d5)]>this['animateDuration_']&&(this[_0x3ea132(0x1d5)]=![]),!!this[_0x3ea132(0x1d5)];}[_0x40aa7b(0x1b3)](_0x5b2cc5){var _0x2917c9=_0x40aa7b;if(this[_0x2917c9(0x1d5)]){var _0x1cf55d=this[_0x2917c9(0x1b5)](_0x5b2cc5),_0x3fa5a0=this['toHeight_'](_0x5b2cc5);return _0x1cf55d*(0x1-this[_0x2917c9(0x1ca)])+this[_0x2917c9(0x1ca)]*_0x3fa5a0;}else return this[_0x2917c9(0x1b5)](_0x5b2cc5);}[_0x40aa7b(0x1bf)](_0x403ee4,_0x559dc7){var _0x3f4a3f=_0x40aa7b,_0x5d1bbe=[_0x403ee4[0x0]*this[_0x3f4a3f(0x1f1)][0x0]+_0x403ee4[0x1]*this['matrix_'][0x1]+this[_0x3f4a3f(0x1f1)][0x4],_0x403ee4[0x0]*this[_0x3f4a3f(0x1f1)][0x2]+_0x403ee4[0x1]*this[_0x3f4a3f(0x1f1)][0x3]+this[_0x3f4a3f(0x1f1)][0x5]];return{'p0':_0x5d1bbe,'p1':[_0x5d1bbe[0x0]+_0x559dc7/this['res_']*(_0x5d1bbe[0x0]-this[_0x3f4a3f(0x1ed)][0x0]),_0x5d1bbe[0x1]+_0x559dc7/this[_0x3f4a3f(0x1c1)]*(_0x5d1bbe[0x1]-this[_0x3f4a3f(0x1ed)][0x1])]};}[_0x40aa7b(0x1d4)](_0x18cf5b,_0x11a8c2){var _0x38dfb1=_0x40aa7b,_0x35b4e8=this[_0x38dfb1(0x1e4)](_0x38dfb1(0x1a2))(_0x18cf5b),_0x429dd3=_0x35b4e8[_0x38dfb1(0x1a4)]();switch(_0x35b4e8[_0x38dfb1(0x1be)]()){case _0x38dfb1(0x1ee):_0x429dd3=[_0x429dd3];case _0x38dfb1(0x1ae):var _0x3fe86d=[];for(var _0x382965=0x0;_0x382965<_0x429dd3[_0x38dfb1(0x1ea)];_0x382965++){for(var _0x27edb4=0x0;_0x27edb4<_0x429dd3[_0x382965]['length'];_0x27edb4++){var _0x39ec5c=[];for(var _0x5bf580=0x0;_0x5bf580<_0x429dd3[_0x382965][_0x27edb4][_0x38dfb1(0x1ea)];_0x5bf580++){_0x39ec5c[_0x38dfb1(0x1f2)](this['hvector_'](_0x429dd3[_0x382965][_0x27edb4][_0x5bf580],_0x11a8c2));}_0x3fe86d[_0x38dfb1(0x1f2)](_0x39ec5c);}}return{'type':'MultiPolygon','feature':_0x18cf5b,'geom':_0x3fe86d,'height':_0x11a8c2};case _0x38dfb1(0x1a8):return{'type':_0x38dfb1(0x1a8),'feature':_0x18cf5b,'geom':this[_0x38dfb1(0x1bf)](_0x429dd3,_0x11a8c2),'height':_0x11a8c2};default:return{};}}[_0x40aa7b(0x1ac)](_0x4c18f5,_0x122c96){var _0xe88827=_0x40aa7b,_0x5af721,_0x27b4eb,_0x5d378a,_0x2e4e80;for(_0x5af721=0x0;_0x5af721<_0x122c96[_0xe88827(0x1ea)];_0x5af721++){switch(_0x122c96[_0x5af721][_0xe88827(0x1ba)]){case _0xe88827(0x1ae):{for(_0x27b4eb=0x0;_0x27b4eb<_0x122c96[_0x5af721][_0xe88827(0x1f7)]['length'];_0x27b4eb++){_0x5d378a=_0x122c96[_0x5af721][_0xe88827(0x1f7)][_0x27b4eb];for(_0x2e4e80=0x0;_0x2e4e80<_0x5d378a[_0xe88827(0x1ea)];_0x2e4e80++){_0x4c18f5[_0xe88827(0x1ce)](),_0x4c18f5[_0xe88827(0x18e)](_0x5d378a[_0x2e4e80]['p0'][0x0],_0x5d378a[_0x2e4e80]['p0'][0x1]),_0x4c18f5['lineTo'](_0x5d378a[_0x2e4e80]['p1'][0x0],_0x5d378a[_0x2e4e80]['p1'][0x1]),_0x4c18f5[_0xe88827(0x1c6)]();}}break;}case _0xe88827(0x1a8):{var _0x200bc8=_0x122c96[_0x5af721][_0xe88827(0x1f7)];_0x4c18f5['beginPath'](),_0x4c18f5[_0xe88827(0x18e)](_0x200bc8['p0'][0x0],_0x200bc8['p0'][0x1]),_0x4c18f5['lineTo'](_0x200bc8['p1'][0x0],_0x200bc8['p1'][0x1]),_0x4c18f5[_0xe88827(0x1c6)]();break;}default:break;}}for(_0x5af721=0x0;_0x5af721<_0x122c96[_0xe88827(0x1ea)];_0x5af721++){switch(_0x122c96[_0x5af721][_0xe88827(0x1ba)]){case _0xe88827(0x1ae):{_0x4c18f5['beginPath']();for(_0x27b4eb=0x0;_0x27b4eb<_0x122c96[_0x5af721][_0xe88827(0x1f7)][_0xe88827(0x1ea)];_0x27b4eb++){_0x5d378a=_0x122c96[_0x5af721][_0xe88827(0x1f7)][_0x27b4eb];if(_0x27b4eb==0x0){_0x4c18f5[_0xe88827(0x18e)](_0x5d378a[0x0]['p1'][0x0],_0x5d378a[0x0]['p1'][0x1]);for(_0x2e4e80=0x1;_0x2e4e80<_0x5d378a[_0xe88827(0x1ea)];_0x2e4e80++){_0x4c18f5['lineTo'](_0x5d378a[_0x2e4e80]['p1'][0x0],_0x5d378a[_0x2e4e80]['p1'][0x1]);}}else{_0x4c18f5['moveTo'](_0x5d378a[0x0]['p1'][0x0],_0x5d378a[0x0]['p1'][0x1]);for(_0x2e4e80=_0x5d378a[_0xe88827(0x1ea)]-0x2;_0x2e4e80>=0x0;_0x2e4e80--){_0x4c18f5[_0xe88827(0x1a3)](_0x5d378a[_0x2e4e80]['p1'][0x0],_0x5d378a[_0x2e4e80]['p1'][0x1]);}}_0x4c18f5[_0xe88827(0x1d7)]();}_0x4c18f5['fill'](_0xe88827(0x1e8)),_0x4c18f5['stroke']();break;}case _0xe88827(0x1a8):{_0x5d378a=_0x122c96[_0x5af721];var _0x12c89b=_0x5d378a[_0xe88827(0x1b0)][_0xe88827(0x1e4)](_0xe88827(0x19c));if(_0x12c89b){var _0x57c94a=_0x5d378a[_0xe88827(0x1f7)]['p1'],_0x2650f9=_0x4c18f5[_0xe88827(0x1a6)];_0x4c18f5[_0xe88827(0x1a6)]=_0x4c18f5[_0xe88827(0x1c9)],_0x4c18f5[_0xe88827(0x1af)]=_0xe88827(0x1e5),_0x4c18f5['textBaseline']=_0xe88827(0x1b8),_0x4c18f5[_0xe88827(0x1b9)](_0x12c89b,_0x57c94a[0x0],_0x57c94a[0x1]);var _0x15f3ce=_0x4c18f5[_0xe88827(0x1aa)](_0x12c89b),_0x278239=Number(_0x4c18f5[_0xe88827(0x195)]['match'](/\d+(\.\d+)?/g)['join']([]));_0x4c18f5[_0xe88827(0x1a6)]=_0xe88827(0x1f3),_0x4c18f5['fillRect'](_0x57c94a[0x0]-_0x15f3ce[_0xe88827(0x1ad)]/0x2-0x5,_0x57c94a[0x1]-_0x278239-0x5,_0x15f3ce[_0xe88827(0x1ad)]+0xa,_0x278239+0xa),_0x4c18f5[_0xe88827(0x1d1)](_0x57c94a[0x0]-_0x15f3ce[_0xe88827(0x1ad)]/0x2-0x5,_0x57c94a[0x1]-_0x278239-0x5,_0x15f3ce[_0xe88827(0x1ad)]+0xa,_0x278239+0xa),_0x4c18f5[_0xe88827(0x1a6)]=_0x2650f9;}break;}default:break;}}}['drawGhost3D_'](_0x55d5b3,_0xdf0961){var _0x4e433b=_0x40aa7b,_0x161abf,_0x2e5ab9,_0x133939,_0x565102;for(_0x161abf=0x0;_0x161abf<_0xdf0961[_0x4e433b(0x1ea)];_0x161abf++){switch(_0xdf0961[_0x161abf][_0x4e433b(0x1ba)]){case _0x4e433b(0x1ae):{for(_0x2e5ab9=0x0;_0x2e5ab9<_0xdf0961[_0x161abf][_0x4e433b(0x1f7)][_0x4e433b(0x1ea)];_0x2e5ab9++){_0x133939=_0xdf0961[_0x161abf][_0x4e433b(0x1f7)][_0x2e5ab9];for(_0x565102=0x0;_0x565102<_0x133939['length']-0x1;_0x565102++){_0x55d5b3[_0x4e433b(0x1ce)](),_0x55d5b3[_0x4e433b(0x18e)](_0x133939[_0x565102]['p0'][0x0],_0x133939[_0x565102]['p0'][0x1]),_0x55d5b3[_0x4e433b(0x1a3)](_0x133939[_0x565102]['p1'][0x0],_0x133939[_0x565102]['p1'][0x1]),_0x55d5b3[_0x4e433b(0x1a3)](_0x133939[_0x565102+0x1]['p1'][0x0],_0x133939[_0x565102+0x1]['p1'][0x1]),_0x55d5b3['lineTo'](_0x133939[_0x565102+0x1]['p0'][0x0],_0x133939[_0x565102+0x1]['p0'][0x1]),_0x55d5b3[_0x4e433b(0x1a3)](_0x133939[_0x565102]['p0'][0x0],_0x133939[_0x565102]['p0'][0x1]);var _0x4409b2=[(_0x133939[_0x565102]['p0'][0x0]+_0x133939[_0x565102+0x1]['p0'][0x0])/0x2,(_0x133939[_0x565102]['p0'][0x1]+_0x133939[_0x565102+0x1]['p0'][0x1])/0x2],_0x3cb4cf=[_0x133939[_0x565102]['p0'][0x1]-_0x133939[_0x565102+0x1]['p0'][0x1],-_0x133939[_0x565102]['p0'][0x0]+_0x133939[_0x565102+0x1]['p0'][0x0]],_0xf1696f=cme_coordinate_getIntersectionPoint([_0x4409b2,[_0x4409b2[0x0]+_0x3cb4cf[0x0],_0x4409b2[0x1]+_0x3cb4cf[0x1]]],[_0x133939[_0x565102]['p1'],_0x133939[_0x565102+0x1]['p1']]),_0x3bdaa3=_0x55d5b3['createLinearGradient'](_0x4409b2[0x0],_0x4409b2[0x1],_0xf1696f[0x0],_0xf1696f[0x1]);_0x3bdaa3[_0x4e433b(0x1c4)](0x0,_0x4e433b(0x1df)),_0x3bdaa3[_0x4e433b(0x1c4)](0x1,_0x4e433b(0x1c5)),_0x55d5b3['fillStyle']=_0x3bdaa3,_0x55d5b3[_0x4e433b(0x1ab)]();}}break;}case _0x4e433b(0x1a8):{var _0x1d06ce=_0xdf0961[_0x161abf][_0x4e433b(0x1f7)];_0x55d5b3[_0x4e433b(0x1ce)](),_0x55d5b3[_0x4e433b(0x18e)](_0x1d06ce['p0'][0x0],_0x1d06ce['p0'][0x1]),_0x55d5b3[_0x4e433b(0x1a3)](_0x1d06ce['p1'][0x0],_0x1d06ce['p1'][0x1]),_0x55d5b3['stroke']();break;}default:break;}}}};export default cme_render3D;