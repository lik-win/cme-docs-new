function _0x48e2(){const _0x341959=['addColorStop','3104610hWyaEo','program','setWind','resize','2777058QOBlOP','getContext','215kEpKhH','data','1182KQJYzm','clearColor','uniform1f','width','canvas','aVertexCoords','createTexture','bindTexture','u_proj','image','length','uMin','uniform2f','15256cEANVy','useProgram','vertexCoordsBuffer','options','56QwmvTN','uniform1i','latLngCoordsBuffer','40408xGmpfP','fillRect','colorRampTexture','createElement','vMin','141111ImZuxL','drawArrays','enable','u_wind_max','fillStyle','windTexture','windData','setColorRamp','createBuffer','182sSkjhG','uTexture','6485lCpsMO','updateLatLngCoords','BLEND','makeCilirRamp','height','uColorRamp','createProgram','draw','LINEAR'];_0x48e2=function(){return _0x341959;};return _0x48e2();}const _0x35e7b5=_0x4289;(function(_0x121933,_0x4761a6){const _0x52a4c4=_0x4289,_0x434e43=_0x121933();while(!![]){try{const _0x1e1245=parseInt(_0x52a4c4(0xcc))/0x1*(-parseInt(_0x52a4c4(0xa9))/0x2)+parseInt(_0x52a4c4(0xb1))/0x3+parseInt(_0x52a4c4(0xa5))/0x4+-parseInt(_0x52a4c4(0xbc))/0x5*(-parseInt(_0x52a4c4(0xce))/0x6)+-parseInt(_0x52a4c4(0xba))/0x7*(parseInt(_0x52a4c4(0xac))/0x8)+parseInt(_0x52a4c4(0xca))/0x9+-parseInt(_0x52a4c4(0xc6))/0xa;if(_0x1e1245===_0x4761a6)break;else _0x434e43['push'](_0x434e43['shift']());}catch(_0x2273c9){_0x434e43['push'](_0x434e43['shift']());}}}(_0x48e2,0x28ccb));import*as _0x77caa0 from'./util.js';function _0x4289(_0x313796,_0xe66f5b){const _0x48e2e5=_0x48e2();return _0x4289=function(_0x4289a9,_0x4e7612){_0x4289a9=_0x4289a9-0x9f;let _0x55882f=_0x48e2e5[_0x4289a9];return _0x55882f;},_0x4289(_0x313796,_0xe66f5b);}import _0x290a8d from'./shaders/fill.vert.glsl.js';import _0x39a4a4 from'./shaders/windfill.frag.glsl.js';export default class ColorSpot{constructor(_0x3b63f2,_0x534d58){const _0x3bd438=_0x4289;this['gl']=_0x3b63f2,this[_0x3bd438(0xa8)]=_0x534d58,this[_0x3bd438(0xc7)]=_0x77caa0[_0x3bd438(0xc2)](_0x3b63f2,_0x290a8d,_0x39a4a4),_0x3b63f2[_0x3bd438(0xa6)](this['program'][_0x3bd438(0xc7)]),this[_0x3bd438(0xa7)]=_0x77caa0[_0x3bd438(0xb9)](_0x3b63f2,new Float32Array([-0x1,0x1,-0x1,-0x1,0x1,0x1,0x1,-0x1])),this[_0x3bd438(0xab)]=_0x77caa0[_0x3bd438(0xb9)](_0x3b63f2,new Float32Array([0x0,0x1,0x0,0x0,0x1,0x1,0x1,0x0]));}[_0x35e7b5(0xc9)](){const _0x23a1a4=_0x35e7b5,_0x15fdba=this['gl'];_0x15fdba['viewport'](0x0,0x0,_0x15fdba[_0x23a1a4(0xd2)][_0x23a1a4(0xd1)],_0x15fdba[_0x23a1a4(0xd2)][_0x23a1a4(0xc0)]),_0x15fdba[_0x23a1a4(0xcf)](0.5,0.5,0.5,0x0),_0x15fdba[_0x23a1a4(0xb3)](_0x15fdba[_0x23a1a4(0xbe)]),this[_0x23a1a4(0xc3)]();}[_0x35e7b5(0xc3)](){const _0x4dd69f=_0x35e7b5,_0x5c52a2=this['gl'],_0x3a2415=this[_0x4dd69f(0xc7)];_0x77caa0['bindAttribute'](_0x5c52a2,this['vertexCoordsBuffer'],_0x3a2415[_0x4dd69f(0xd3)],0x2),_0x77caa0['bindAttribute'](_0x5c52a2,this[_0x4dd69f(0xab)],_0x3a2415['aLatLngCoords'],0x2);const _0x5c1c39=this[_0x4dd69f(0xa8)]?.['proj']||0x10e6;_0x5c52a2[_0x4dd69f(0xd0)](_0x3a2415[_0x4dd69f(0xa0)],_0x5c1c39),_0x5c52a2[_0x4dd69f(0xa4)](_0x3a2415['u_wind_min'],this[_0x4dd69f(0xb7)][_0x4dd69f(0xa3)],this['windData'][_0x4dd69f(0xb0)]),_0x5c52a2['uniform2f'](_0x3a2415[_0x4dd69f(0xb4)],this[_0x4dd69f(0xb7)]['uMax'],this[_0x4dd69f(0xb7)]['vMax']),_0x77caa0[_0x4dd69f(0x9f)](_0x5c52a2,this['windTexture'],0x0),_0x77caa0[_0x4dd69f(0x9f)](_0x5c52a2,this['colorRampTexture'],0x1),_0x5c52a2[_0x4dd69f(0xaa)](_0x3a2415[_0x4dd69f(0xbb)],0x0),_0x5c52a2[_0x4dd69f(0xaa)](_0x3a2415[_0x4dd69f(0xc1)],0x1),_0x5c52a2[_0x4dd69f(0xb2)](_0x5c52a2['TRIANGLE_STRIP'],0x0,0x4);}[_0x35e7b5(0xc8)](_0x45f240){const _0x5f2f3c=_0x35e7b5;this[_0x5f2f3c(0xb7)]=_0x45f240,this[_0x5f2f3c(0xb6)]=_0x77caa0[_0x5f2f3c(0xd4)](this['gl'],this['gl'][_0x5f2f3c(0xc4)],_0x45f240[_0x5f2f3c(0xa1)]),this[_0x5f2f3c(0xc9)]();}[_0x35e7b5(0xbd)](_0x363224){const _0x4e9a9a=_0x35e7b5;this[_0x4e9a9a(0xab)]=_0x77caa0[_0x4e9a9a(0xb9)](this['gl'],new Float32Array(_0x363224));}[_0x35e7b5(0xb8)](_0x4d204e){const _0x2c99da=_0x35e7b5;this[_0x2c99da(0xae)]=_0x77caa0['createTexture'](this['gl'],this['gl']['LINEAR'],this[_0x2c99da(0xbf)](_0x4d204e),0x10,0x10);}[_0x35e7b5(0xbf)](_0x233b1c){const _0x5e30d8=_0x35e7b5,_0x2cfff8=_0x233b1c[0x0][0x0],_0x266720=_0x233b1c[_0x233b1c[_0x5e30d8(0xa2)]-0x1][0x0],_0x4caa20=this['gl'],_0x8f3b4c=this[_0x5e30d8(0xc7)];_0x4caa20['uniform1f'](_0x8f3b4c['ramp_min'],_0x2cfff8),_0x4caa20[_0x5e30d8(0xd0)](_0x8f3b4c['ramp_max'],_0x266720);const _0x3abd6b=document[_0x5e30d8(0xaf)](_0x5e30d8(0xd2)),_0x3f0f39=_0x3abd6b[_0x5e30d8(0xcb)]('2d');_0x3abd6b['width']=0x100,_0x3abd6b[_0x5e30d8(0xc0)]=0x1;const _0x13184a=_0x3f0f39['createLinearGradient'](0x0,0x0,0x100,0x0);for(let _0x1eee5b=0x0;_0x1eee5b<_0x233b1c[_0x5e30d8(0xa2)];_0x1eee5b++){const _0x8ad4f4=(_0x233b1c[_0x1eee5b][0x0]-_0x2cfff8)/(_0x266720-_0x2cfff8);_0x13184a[_0x5e30d8(0xc5)](_0x8ad4f4,_0x233b1c[_0x1eee5b][0x1]);}return _0x3f0f39[_0x5e30d8(0xb5)]=_0x13184a,_0x3f0f39[_0x5e30d8(0xad)](0x0,0x0,0x100,0x1),new Uint8Array(_0x3f0f39['getImageData'](0x0,0x0,0x100,0x1)[_0x5e30d8(0xcd)]);}}