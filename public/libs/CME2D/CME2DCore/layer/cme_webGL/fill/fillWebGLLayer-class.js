const _0x1a894c=_0x4b7d;(function(_0xacd54c,_0x4f846b){const _0xe91e12=_0x4b7d,_0x26adcb=_0xacd54c();while(!![]){try{const _0x3947d7=-parseInt(_0xe91e12(0x129))/0x1+parseInt(_0xe91e12(0x11b))/0x2*(-parseInt(_0xe91e12(0x108))/0x3)+parseInt(_0xe91e12(0x109))/0x4*(-parseInt(_0xe91e12(0x148))/0x5)+-parseInt(_0xe91e12(0x117))/0x6+-parseInt(_0xe91e12(0x126))/0x7+parseInt(_0xe91e12(0x10b))/0x8+parseInt(_0xe91e12(0x133))/0x9;if(_0x3947d7===_0x4f846b)break;else _0x26adcb['push'](_0x26adcb['shift']());}catch(_0x3b3759){_0x26adcb['push'](_0x26adcb['shift']());}}}(_0x3042,0x3bb98));import _0x4de776 from'../../../../source/ImageCanvas.js';import _0x4090a8 from'../../../../layer/Image.js';import{transformExtent,transform}from'../../../../proj.js';function _0x3042(){const _0x1db92b=['uColorRamp','440727fxZaaN','worldPixelRatio','webgl','bindTexture','TEXTURE0','rgb(58,\x20117,\x2053)','uBuffer_','TEXTURE_MAG_FILTER','u_max','EPSG:4326','16218261Oxnfxe','getProjection','height','setProperties','uTexture','_glOpts','getView','setSource','worldExtent','createGL','width','addfillWebGLLayer','program','MOZ_EXT_texture_filter_anisotropic','CLAMP_TO_EDGE','TRIANGLE_STRIP','getPixelFromCoordinate','vertexCoordsBuffer','setFillData','LUMINANCE','map','55SYyURN','InitWebGLFunction','WEBKIT_EXT_texture_filter_anisotropic','experimental-webgl','colorRampTexture','colors','createTexture','rgb(57,\x20131,\x20147)','params','ramp_min','uniform1i','_boundsToCoords','makeCilirRamp','windData','viewport','rgb(57,\x2091,\x20147)','windTexture','abs','TEXTURE_WRAP_T','texParameteri','activateTexture','latLngCoordsBuffer','createProgram','getExtension','getContext','BLEND','TEXTURE_MIN_FILTER','getCode','rgb(173,\x20136,\x2057)','EXT_texture_filter_anisotropic','TEXTURE_2D','aVertexCoords','getImageData','length','24paBVkI','162612tDAyAh','texImage2D','289632rjklWw','layer','addLayer','_getScaleBounds','addColorStop','createBuffer','vBuffer_','uniform1f','rgb(104,\x20180,\x20179)','bindAttribute','opacity','data','2422176cKqqPC','fillStyle','u_min','ramp_max','4734JFNCpT','dataHeight_','canvas','createElement','_render','rgb(94,60,81)','image','LINEAR','updateLatLngCoords','aLatLngCoords','FLOAT','1981413uppUyG','EPSG:3857'];_0x3042=function(){return _0x1db92b;};return _0x3042();}import*as _0x36924b from'./utilFill.js';import _0x5880b1 from'../shaders/fill.vert.glsl.js';import _0x2655fe from'../shaders/fill.frag.glsl-3857.js';function _0x4b7d(_0x1664c9,_0x328c4e){const _0x304239=_0x3042();return _0x4b7d=function(_0x4b7dd6,_0x5c3bc1){_0x4b7dd6=_0x4b7dd6-0x101;let _0x36ac68=_0x304239[_0x4b7dd6];return _0x36ac68;},_0x4b7d(_0x1664c9,_0x328c4e);}export class fillWebGLLayer{constructor(){const _0xfe6214=_0x4b7d;this[_0xfe6214(0x115)]=0.75,this[_0xfe6214(0x14d)]=[[0x3de,_0xfe6214(0x120)],[0x3e3,'rgb(170,\x2084,\x2067)'],[0x3e8,_0xfe6214(0x102)],[0x3ed,_0xfe6214(0x12e)],[0x3f2,_0xfe6214(0x157)],[0x3f7,'rgb(57,\x20131,\x20147)'],[0x3fc,_0xfe6214(0x14f)],[0x401,_0xfe6214(0x113)],[0x406,'rgb(142,\x20179,\x20184)']],this[_0xfe6214(0x138)]='',this[_0xfe6214(0x147)]='',this[_0xfe6214(0x155)]='',this[_0xfe6214(0x11d)]='',this['gl']='',this[_0xfe6214(0x13f)]='',this[_0xfe6214(0x158)]='',this[_0xfe6214(0x10c)]='',this[_0xfe6214(0x14c)]='',this[_0xfe6214(0x144)]='',this[_0xfe6214(0x15d)]='',this[_0xfe6214(0x13b)]='',this[_0xfe6214(0x12a)]='';}[_0x1a894c(0x13e)](_0x4d8872){const _0x5a4ff6=_0x1a894c;let _0xd36ad5=this[_0x5a4ff6(0x149)](_0x4d8872);return this[_0x5a4ff6(0x10c)]=new _0x4090a8({'source':_0xd36ad5}),this['layer'][_0x5a4ff6(0x136)](_0x4d8872[_0x5a4ff6(0x150)]),this[_0x5a4ff6(0x147)][_0x5a4ff6(0x10d)](this[_0x5a4ff6(0x10c)]),this[_0x5a4ff6(0x10c)];}[_0x1a894c(0x149)](_0x452226){const _0x26b2c9=_0x1a894c;this['map']=_0x452226[_0x26b2c9(0x147)];let _0x56766a=_0x452226[_0x26b2c9(0x150)];this[_0x26b2c9(0x155)]=_0x56766a[_0x26b2c9(0x155)],this['opacity']=_0x56766a['opacity'],this['colors']=_0x56766a[_0x26b2c9(0x14d)],this[_0x26b2c9(0x11d)]=document[_0x26b2c9(0x11e)]('canvas'),this['gl']=this[_0x26b2c9(0x13c)](this[_0x26b2c9(0x11d)]);let _0x45db78=this[_0x26b2c9(0x147)]['getView']()[_0x26b2c9(0x134)]()[_0x26b2c9(0x101)]();this[_0x26b2c9(0x13f)]=_0x36924b[_0x26b2c9(0x15e)](this['gl'],_0x5880b1,_0x2655fe),this['gl']['useProgram'](this['program'][_0x26b2c9(0x13f)]),this['colorRampTexture']=_0x36924b[_0x26b2c9(0x14e)](this['gl'],this['gl'][_0x26b2c9(0x122)],this[_0x26b2c9(0x154)](this['colors']),0x10,0x10),this[_0x26b2c9(0x144)]=_0x36924b['createBuffer'](this['gl'],new Float32Array([-0x1,0x1,-0x1,-0x1,0x1,0x1,0x1,-0x1])),this[_0x26b2c9(0x15d)]=_0x36924b[_0x26b2c9(0x110)](this['gl'],new Float32Array([0x0,0x1,0x0,0x0,0x1,0x1,0x1,0x0])),this[_0x26b2c9(0x158)]=_0x36924b[_0x26b2c9(0x14e)](this['gl'],this['gl']['LINEAR'],this[_0x26b2c9(0x155)][_0x26b2c9(0x121)]);let _0x55974a=this;const _0x5f2ca1=new _0x4de776({'ratio':0x1,'projection':this['map']['getView']()[_0x26b2c9(0x134)]()[_0x26b2c9(0x101)](),'canvasFunction':(_0x510512,_0x34a6ff,_0x428ca6,_0x217b6f)=>{const _0x44d5d9=_0x26b2c9;return this['worldExtent']=_0x510512,this[_0x44d5d9(0x12a)]=_0x428ca6,this['canvas'][_0x44d5d9(0x13d)]=_0x217b6f[0x0],this['canvas']['height']=_0x217b6f[0x1],this['gl'][_0x44d5d9(0x156)](0x0,0x0,this[_0x44d5d9(0x11d)]['width'],this['canvas'][_0x44d5d9(0x135)]),_0x55974a['setFillData'](this[_0x44d5d9(0x155)]),this[_0x44d5d9(0x11d)];}});return _0x5f2ca1;}['updateSpotWebGLLayer'](_0x136a6b){const _0x26b0dc=_0x1a894c;let _0x51c7a0=this[_0x26b0dc(0x149)](_0x136a6b);this[_0x26b0dc(0x10c)]=new _0x4090a8({'source':_0x51c7a0}),this[_0x26b0dc(0x10c)][_0x26b0dc(0x13a)](_0x51c7a0),this[_0x26b0dc(0x10c)][_0x26b0dc(0x136)](_0x136a6b[_0x26b0dc(0x150)]);}[_0x1a894c(0x13c)](_0x189f0c){const _0x66d4c7=_0x1a894c;this[_0x66d4c7(0x138)]={'antialiasing':!![],'alpha':!![]};let _0x5607ce=_0x189f0c[_0x66d4c7(0x160)](_0x66d4c7(0x12b),this[_0x66d4c7(0x138)])||_0x189f0c['getContext'](_0x66d4c7(0x14b),this['_glOpts']);if(_0x5607ce){let _0xc051c4=_0x5607ce[_0x66d4c7(0x15f)](_0x66d4c7(0x103))||_0x5607ce[_0x66d4c7(0x15f)](_0x66d4c7(0x140))||_0x5607ce[_0x66d4c7(0x15f)](_0x66d4c7(0x14a));if(!_0xc051c4){}}else{}return _0x5607ce;}[_0x1a894c(0x145)](_0x1ee0f8){const _0x23127a=_0x1a894c;this[_0x23127a(0x11f)]();}['_render'](){const _0x15a06d=_0x1a894c;this['gl'][_0x15a06d(0x156)](0x0,0x0,this['gl']['canvas'][_0x15a06d(0x13d)],this['gl']['canvas'][_0x15a06d(0x135)]),this['gl']['clearColor'](0.5,0.5,0.5,0x0),this['gl']['enable'](this['gl'][_0x15a06d(0x161)]);let _0x2416ab=this[_0x15a06d(0x10e)]();this['updateLatLngCoords'](this[_0x15a06d(0x153)](_0x2416ab)),_0x36924b[_0x15a06d(0x114)](this['gl'],this[_0x15a06d(0x144)],this[_0x15a06d(0x13f)][_0x15a06d(0x105)],0x2),_0x36924b[_0x15a06d(0x114)](this['gl'],this['latLngCoordsBuffer'],this[_0x15a06d(0x13f)][_0x15a06d(0x124)],0x2),this['gl'][_0x15a06d(0x112)](this['program'][_0x15a06d(0x119)],this[_0x15a06d(0x155)]['min']),this['gl']['uniform1f'](this[_0x15a06d(0x13f)][_0x15a06d(0x131)],this[_0x15a06d(0x155)]['max']),_0x36924b[_0x15a06d(0x12c)](this['gl'],this[_0x15a06d(0x158)],0x0),_0x36924b[_0x15a06d(0x12c)](this['gl'],this[_0x15a06d(0x14c)],0x1),this['gl']['uniform1i'](this[_0x15a06d(0x13f)][_0x15a06d(0x137)],0x0),this['gl'][_0x15a06d(0x152)](this[_0x15a06d(0x13f)][_0x15a06d(0x128)],0x1),this['gl']['drawArrays'](this['gl'][_0x15a06d(0x142)],0x0,0x4);}['_getScaleBounds'](){const _0x549b8b=_0x1a894c;let _0x3db12c=this['map'][_0x549b8b(0x139)]()['getProjection']()[_0x549b8b(0x101)](),_0x975daf=0x0,_0x3389ee=0x0;if(_0x3db12c==_0x549b8b(0x127))_0x975daf=this[_0x549b8b(0x147)]['getPixelFromCoordinate'](transform([-0xb4,85.05112877980659],_0x549b8b(0x132),_0x3db12c)),_0x3389ee=this['map'][_0x549b8b(0x143)](transform([0xb4,-85.05112877980659],_0x549b8b(0x132),_0x3db12c));else{if(_0x3db12c=='EPSG:4326')_0x975daf=this[_0x549b8b(0x147)]['getPixelFromCoordinate'](transform([-0xb4,0x5a],_0x549b8b(0x132),_0x3db12c)),_0x3389ee=this[_0x549b8b(0x147)]['getPixelFromCoordinate'](transform([0xb4,-0x5a],_0x549b8b(0x132),_0x3db12c));else _0x3db12c=='Albers'&&(_0x975daf=this[_0x549b8b(0x147)][_0x549b8b(0x143)](transform([-0xb3,0x5a],_0x549b8b(0x132),_0x3db12c)),_0x3389ee=this[_0x549b8b(0x147)][_0x549b8b(0x143)](transform([0xb3,-0x5a],_0x549b8b(0x132),_0x3db12c)));}let _0x59e11c=Math[_0x549b8b(0x159)](_0x3389ee[0x0]-_0x975daf[0x0]),_0x3f77b6=Math[_0x549b8b(0x159)](_0x3389ee[0x1]-_0x975daf[0x1]),_0x33613d=this[_0x549b8b(0x147)][_0x549b8b(0x143)]([this['worldExtent'][0x0],this['worldExtent'][0x3]]),_0x43adbd=[];_0x43adbd[0x0]=_0x33613d[0x0]-_0x975daf[0x0],_0x43adbd[0x1]=_0x33613d[0x1]-_0x975daf[0x1];let _0x37b43c=this[_0x549b8b(0x147)][_0x549b8b(0x143)]([this[_0x549b8b(0x13b)][0x2],this[_0x549b8b(0x13b)][0x1]]),_0x851f6f=[];_0x851f6f[0x0]=_0x37b43c[0x0]-_0x975daf[0x0],_0x851f6f[0x1]=_0x37b43c[0x1]-_0x975daf[0x1];let _0x5eea6b=_0x43adbd[0x0],_0x541478=_0x851f6f[0x0],_0x483615=_0x43adbd[0x1],_0x1ea252=_0x851f6f[0x1],_0x4a4fd9=_0x5eea6b/_0x59e11c-0.5,_0x5658d9=_0x541478/_0x59e11c-0.5,_0x169942=0x1-_0x483615/_0x3f77b6,_0x34f80d=0x1-_0x1ea252/_0x3f77b6;return[_0x4a4fd9,_0x5658d9,_0x34f80d,_0x169942];}[_0x1a894c(0x153)](_0x1a332f){let _0x161750=[_0x1a332f[0x0],_0x1a332f[0x3],_0x1a332f[0x0],_0x1a332f[0x2],_0x1a332f[0x1],_0x1a332f[0x3],_0x1a332f[0x1],_0x1a332f[0x2]];return _0x161750;}[_0x1a894c(0x15c)](_0x1b4731,_0x55c8a1,_0x21aee1){const _0x79a575=_0x1a894c;this['gl']['activeTexture'](_0x55c8a1===0x0?this['gl'][_0x79a575(0x12d)]:this['gl']['TEXTURE1']);const _0x59b1cd=this['gl'][_0x79a575(0x14e)]();this['gl']['bindTexture'](this['gl'][_0x79a575(0x104)],_0x59b1cd),this['gl']['texParameterf'](this['gl'][_0x79a575(0x104)],this['gl'][_0x79a575(0x130)],this['gl'][_0x79a575(0x122)]),this['gl']['texParameterf'](this['gl'][_0x79a575(0x104)],this['gl'][_0x79a575(0x162)],this['gl'][_0x79a575(0x122)]),this['gl'][_0x79a575(0x15b)](this['gl'][_0x79a575(0x104)],this['gl']['TEXTURE_WRAP_S'],this['gl'][_0x79a575(0x141)]),this['gl']['texParameteri'](this['gl'][_0x79a575(0x104)],this['gl'][_0x79a575(0x15a)],this['gl'][_0x79a575(0x141)]);const _0x49be34=this['gl'][_0x79a575(0x146)],_0x96de99=_0x21aee1['dataWidth_'],_0x525a36=_0x21aee1[_0x79a575(0x11c)],_0x46f745=0x0,_0x483ba9=this['gl'][_0x79a575(0x146)],_0x476b81=this['gl'][_0x79a575(0x125)],_0x4e7f1c=_0x55c8a1===0x0?_0x21aee1[_0x79a575(0x12f)]:_0x21aee1[_0x79a575(0x111)];this['gl'][_0x79a575(0x10a)](this['gl'][_0x79a575(0x104)],0x0,_0x49be34,_0x96de99,_0x525a36,_0x46f745,_0x483ba9,_0x476b81,_0x4e7f1c);}[_0x1a894c(0x123)](_0x474e5b){const _0x635e28=_0x1a894c;this['latLngCoordsBuffer']=_0x36924b[_0x635e28(0x110)](this['gl'],new Float32Array(_0x474e5b));}[_0x1a894c(0x154)](_0x3e7676){const _0x1e4a20=_0x1a894c,_0x14bd63=this[_0x1e4a20(0x14d)][0x0][0x0],_0x55c3b9=this['colors'][this[_0x1e4a20(0x14d)][_0x1e4a20(0x107)]-0x1][0x0];this['gl'][_0x1e4a20(0x112)](this[_0x1e4a20(0x13f)][_0x1e4a20(0x151)],_0x14bd63),this['gl'][_0x1e4a20(0x112)](this[_0x1e4a20(0x13f)][_0x1e4a20(0x11a)],_0x55c3b9);const _0x1271b0=document[_0x1e4a20(0x11e)](_0x1e4a20(0x11d)),_0x16b032=_0x1271b0[_0x1e4a20(0x160)]('2d');_0x1271b0[_0x1e4a20(0x13d)]=0x100,_0x1271b0[_0x1e4a20(0x135)]=0x1;const _0x2c527d=_0x16b032['createLinearGradient'](0x0,0x0,0x100,0x0);for(let _0x215d4d=0x0;_0x215d4d<this[_0x1e4a20(0x14d)][_0x1e4a20(0x107)];_0x215d4d++){const _0x1de459=(this['colors'][_0x215d4d][0x0]-_0x14bd63)/(_0x55c3b9-_0x14bd63);_0x2c527d[_0x1e4a20(0x10f)](_0x1de459,this[_0x1e4a20(0x14d)][_0x215d4d][0x1]);}return _0x16b032[_0x1e4a20(0x118)]=_0x2c527d,_0x16b032['fillRect'](0x0,0x0,0x100,0x1),new Uint8Array(_0x16b032[_0x1e4a20(0x106)](0x0,0x0,0x100,0x1)[_0x1e4a20(0x116)]);}}