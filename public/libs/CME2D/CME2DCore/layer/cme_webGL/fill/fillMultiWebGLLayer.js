const _0x3146af=_0x5641;function _0x5641(_0x2eb03d,_0x4cf672){const _0x19fe0c=_0x19fe();return _0x5641=function(_0x56418d,_0x42cdea){_0x56418d=_0x56418d-0x148;let _0x5b65ff=_0x19fe0c[_0x56418d];return _0x5b65ff;},_0x5641(_0x2eb03d,_0x4cf672);}(function(_0x334384,_0x5dca96){const _0x520fd8=_0x5641,_0x194870=_0x334384();while(!![]){try{const _0x48a214=-parseInt(_0x520fd8(0x17b))/0x1*(parseInt(_0x520fd8(0x165))/0x2)+parseInt(_0x520fd8(0x16a))/0x3+parseInt(_0x520fd8(0x161))/0x4+-parseInt(_0x520fd8(0x16c))/0x5*(parseInt(_0x520fd8(0x15b))/0x6)+-parseInt(_0x520fd8(0x153))/0x7*(-parseInt(_0x520fd8(0x157))/0x8)+parseInt(_0x520fd8(0x183))/0x9*(parseInt(_0x520fd8(0x174))/0xa)+parseInt(_0x520fd8(0x175))/0xb;if(_0x48a214===_0x5dca96)break;else _0x194870['push'](_0x194870['shift']());}catch(_0x3e7155){_0x194870['push'](_0x194870['shift']());}}}(_0x19fe,0x4d57c));import _0x4c0a21 from'../../../../source/ImageCanvas.js';function _0x19fe(){const _0x564355=['1468446VnmeDU','canvas','226035jztLNo','setSource','dataUrl','createGL','add','anonymous','updateLatLngCoords','params','136270hxJNlp','562661Rcdihg','MOZ_EXT_texture_filter_anisotropic','windFill','height','getSize','windData','5513lfZFXc','WEBKIT_EXT_texture_filter_anisotropic','src','resize','getPixelFromCoordinate','layer','abs','setProperties','135dkjWrr','_boundsToCoords','Albers','onload','worldPixelRatio','EPSG:4326','InitWebGLFunction','worldExtent','getExtension','map','webgl','_render','EXT_texture_filter_anisotropic','77IRoyih','image','width','random','99208dQhuUA','crossOrigin','getView','viewport','36kpONRz','?v=','setColorRamp','getContext','setWind','colors','612568FRMqWL','_glOpts','classList','_getScaleBounds','162DYhjxp','getCode','opacity','getProjection','createElement'];_0x19fe=function(){return _0x564355;};return _0x19fe();}import _0x3ce41c from'../../../../layer/Image.js';import{transformExtent,transform}from'../../../../proj.js';import _0x1596ba from'./colorSpot/colorSpot.js';export class fillMultiWebGLLayer{constructor(){const _0x31fb0b=_0x5641;this[_0x31fb0b(0x167)]=0.75,this[_0x31fb0b(0x160)]=[],this[_0x31fb0b(0x162)]='',this[_0x31fb0b(0x14f)]='',this[_0x31fb0b(0x17a)]='',this[_0x31fb0b(0x16b)]='',this['gl']='',this['worldExtent']='',this[_0x31fb0b(0x14a)]='',this[_0x31fb0b(0x177)]='',this['layer'];}async['AddfillMultiWebGLLayer'](_0x4403cc){return await new Promise(_0x24f91c=>{const _0x377f1c=_0x5641;this['map']=_0x4403cc['map'];let _0x17fc1f=_0x4403cc['params'];this[_0x377f1c(0x173)]=_0x17fc1f,this['colors']=_0x17fc1f['colors'],this[_0x377f1c(0x17a)]=_0x17fc1f['windData'],this[_0x377f1c(0x167)]=_0x17fc1f[_0x377f1c(0x167)],this[_0x377f1c(0x16b)]=document[_0x377f1c(0x169)]('canvas'),this[_0x377f1c(0x16b)][_0x377f1c(0x163)][_0x377f1c(0x170)]('custom-canvas'),this['gl']=this[_0x377f1c(0x16f)](this[_0x377f1c(0x16b)]);const _0x5b2057=this[_0x377f1c(0x14f)][_0x377f1c(0x159)]()[_0x377f1c(0x168)]()['getCode'](),_0x12006b=_0x5b2057['match'](/(\d+)/)[0x1];this[_0x377f1c(0x177)]=new _0x1596ba(this['gl'],{'proj':+_0x12006b}),this['windFill']['setColorRamp'](this[_0x377f1c(0x160)]),this['worldExtent']=this[_0x377f1c(0x14f)][_0x377f1c(0x159)]()['calculateExtent'](this[_0x377f1c(0x14f)][_0x377f1c(0x179)]());let _0x3db190=this[_0x377f1c(0x164)]();this[_0x377f1c(0x177)][_0x377f1c(0x172)](this[_0x377f1c(0x184)](_0x3db190));const _0x3ddf38=new Image();_0x3ddf38[_0x377f1c(0x158)]=_0x377f1c(0x171),this[_0x377f1c(0x17a)][_0x377f1c(0x154)]=_0x3ddf38,_0x3ddf38[_0x377f1c(0x17d)]=this[_0x377f1c(0x17a)][_0x377f1c(0x16e)]+_0x377f1c(0x15c)+Math[_0x377f1c(0x156)](),_0x3ddf38[_0x377f1c(0x149)]=()=>{const _0x2ca986=_0x377f1c;this['windFill'][_0x2ca986(0x15f)](this[_0x2ca986(0x17a)]),this[_0x2ca986(0x151)]();const _0x584ec2=new _0x4c0a21({'ratio':0x1,'projection':_0x5b2057,'canvasFunction':(_0x51330e,_0xfeaa71,_0xe1160b,_0x70550e)=>{const _0x195fe6=_0x2ca986;return this[_0x195fe6(0x14d)]=_0x51330e,this[_0x195fe6(0x14a)]=_0xe1160b,this[_0x195fe6(0x16b)]['width']=_0x70550e[0x0],this['canvas'][_0x195fe6(0x178)]=_0x70550e[0x1],this['gl'][_0x195fe6(0x15a)](0x0,0x0,this[_0x195fe6(0x16b)][_0x195fe6(0x155)],this[_0x195fe6(0x16b)][_0x195fe6(0x178)]),this[_0x195fe6(0x151)](),this[_0x195fe6(0x16b)];}});return this[_0x2ca986(0x180)]=new _0x3ce41c({'source':_0x584ec2}),this[_0x2ca986(0x180)][_0x2ca986(0x182)](this[_0x2ca986(0x173)]),_0x24f91c(this['layer']);};});}['UpdateDataSource'](_0x4cdd0d){const _0x42fe18=_0x5641;let _0x2597bc=this[_0x42fe18(0x14c)](_0x4cdd0d);}['InitWebGLFunction'](_0x1ca43f){const _0x5375fd=_0x5641;this[_0x5375fd(0x14f)]=_0x1ca43f[_0x5375fd(0x14f)];let _0x2ec141=_0x1ca43f[_0x5375fd(0x173)];this['colors']=_0x2ec141['colors'],this[_0x5375fd(0x17a)]=_0x2ec141['windData'],this[_0x5375fd(0x167)]=_0x2ec141[_0x5375fd(0x167)],this[_0x5375fd(0x177)][_0x5375fd(0x15d)](this['colors']),this[_0x5375fd(0x14d)]=this[_0x5375fd(0x14f)][_0x5375fd(0x159)]()['calculateExtent'](this[_0x5375fd(0x14f)][_0x5375fd(0x179)]());let _0x49c15d=this['_getScaleBounds']();this[_0x5375fd(0x177)][_0x5375fd(0x172)](this[_0x5375fd(0x184)](_0x49c15d));const _0x10aefa=new Image();_0x10aefa[_0x5375fd(0x158)]=_0x5375fd(0x171),this[_0x5375fd(0x17a)][_0x5375fd(0x154)]=_0x10aefa,_0x10aefa[_0x5375fd(0x17d)]=this[_0x5375fd(0x17a)]['dataUrl']+_0x5375fd(0x15c)+Math['random'](),_0x10aefa[_0x5375fd(0x149)]=()=>{const _0xf0ea82=_0x5375fd;this['windFill'][_0xf0ea82(0x15f)](this['windData']);const _0x2175b5=new _0x4c0a21({'ratio':0x1,'projection':this[_0xf0ea82(0x14f)][_0xf0ea82(0x159)]()[_0xf0ea82(0x168)]()[_0xf0ea82(0x166)](),'canvasFunction':(_0x17210a,_0x5583e7,_0x4c3a95,_0x1387d7)=>{const _0x1c2cfe=_0xf0ea82;return this[_0x1c2cfe(0x14d)]=_0x17210a,this['worldPixelRatio']=_0x4c3a95,this[_0x1c2cfe(0x16b)][_0x1c2cfe(0x155)]=_0x1387d7[0x0],this[_0x1c2cfe(0x16b)]['height']=_0x1387d7[0x1],this['gl'][_0x1c2cfe(0x15a)](0x0,0x0,this['canvas'][_0x1c2cfe(0x155)],this[_0x1c2cfe(0x16b)][_0x1c2cfe(0x178)]),this[_0x1c2cfe(0x151)](),this[_0x1c2cfe(0x16b)];}});return this[_0xf0ea82(0x180)][_0xf0ea82(0x16d)](_0x2175b5),this[_0xf0ea82(0x180)][_0xf0ea82(0x182)](_0x1ca43f[_0xf0ea82(0x173)]),_0x2175b5;};}[_0x3146af(0x16f)](_0x3ce63b){const _0x12b95a=_0x3146af;this[_0x12b95a(0x162)]={'antialiasing':!![],'alpha':!![]};var _0x3cf3c0=_0x3ce63b[_0x12b95a(0x15e)](_0x12b95a(0x150),this[_0x12b95a(0x162)])||_0x3ce63b['getContext']('experimental-webgl',this['_glOpts']);if(_0x3cf3c0){let _0x41d2f2=_0x3cf3c0[_0x12b95a(0x14e)](_0x12b95a(0x152))||_0x3cf3c0[_0x12b95a(0x14e)](_0x12b95a(0x176))||_0x3cf3c0['getExtension'](_0x12b95a(0x17c));if(!_0x41d2f2){}}else{}return _0x3cf3c0;}['_render'](){const _0x3b157c=_0x3146af;let _0x4b7f1e=this[_0x3b157c(0x164)]();this[_0x3b157c(0x177)][_0x3b157c(0x172)](this['_boundsToCoords'](_0x4b7f1e)),this[_0x3b157c(0x177)][_0x3b157c(0x17e)]();}['_getScaleBounds'](){const _0x18b73b=_0x3146af;let _0x5665da=this[_0x18b73b(0x14f)][_0x18b73b(0x159)]()['getProjection']()[_0x18b73b(0x166)](),_0x4c0144=0x0,_0x3ac09e=0x0;if(_0x5665da=='EPSG:3857')_0x4c0144=this[_0x18b73b(0x14f)][_0x18b73b(0x17f)](transform([-0xb4,85.05112877980659],_0x18b73b(0x14b),_0x5665da)),_0x3ac09e=this['map'][_0x18b73b(0x17f)](transform([0xb4,-85.05112877980659],_0x18b73b(0x14b),_0x5665da));else{if(_0x5665da==_0x18b73b(0x14b))_0x4c0144=this[_0x18b73b(0x14f)][_0x18b73b(0x17f)](transform([-0xb4,0x5a],_0x18b73b(0x14b),_0x5665da)),_0x3ac09e=this['map'][_0x18b73b(0x17f)](transform([0xb4,-0x5a],'EPSG:4326',_0x5665da));else _0x5665da==_0x18b73b(0x148)&&(_0x4c0144=this[_0x18b73b(0x14f)][_0x18b73b(0x17f)](transform([-0xb3,0x5a],_0x18b73b(0x14b),_0x5665da)),_0x3ac09e=this['map'][_0x18b73b(0x17f)](transform([0xb3,-0x5a],'EPSG:4326',_0x5665da)));}let _0x170064=Math[_0x18b73b(0x181)](_0x3ac09e[0x0]-_0x4c0144[0x0]),_0x277c0f=Math[_0x18b73b(0x181)](_0x3ac09e[0x1]-_0x4c0144[0x1]),_0x20da8f=this[_0x18b73b(0x14f)][_0x18b73b(0x17f)]([this[_0x18b73b(0x14d)][0x0],this[_0x18b73b(0x14d)][0x3]]),_0x2d4966=[];_0x2d4966[0x0]=_0x20da8f[0x0]-_0x4c0144[0x0],_0x2d4966[0x1]=_0x20da8f[0x1]-_0x4c0144[0x1];let _0x1a3c66=this[_0x18b73b(0x14f)][_0x18b73b(0x17f)]([this[_0x18b73b(0x14d)][0x2],this[_0x18b73b(0x14d)][0x1]]),_0x1886db=[];_0x1886db[0x0]=_0x1a3c66[0x0]-_0x4c0144[0x0],_0x1886db[0x1]=_0x1a3c66[0x1]-_0x4c0144[0x1];let _0x1cfecc=_0x2d4966[0x0],_0x8a3c22=_0x1886db[0x0],_0x435afe=_0x2d4966[0x1],_0x37d750=_0x1886db[0x1],_0xf931eb=_0x1cfecc/_0x170064-0.5,_0x448751=_0x8a3c22/_0x170064-0.5,_0x4dd97b=0x1-_0x435afe/_0x277c0f,_0x1f4cd6=0x1-_0x37d750/_0x277c0f;return[_0xf931eb,_0x448751,_0x1f4cd6,_0x4dd97b];}[_0x3146af(0x184)](_0x5e72cc){let _0x2d3054=[_0x5e72cc[0x0],_0x5e72cc[0x3],_0x5e72cc[0x0],_0x5e72cc[0x2],_0x5e72cc[0x1],_0x5e72cc[0x3],_0x5e72cc[0x1],_0x5e72cc[0x2]];return _0x2d3054;}}