const _0x45e18d=_0x282e;(function(_0x391808,_0x57b1e9){const _0x2591a9=_0x282e,_0x4e776b=_0x391808();while(!![]){try{const _0x41866c=-parseInt(_0x2591a9(0xa1))/0x1*(-parseInt(_0x2591a9(0xce))/0x2)+-parseInt(_0x2591a9(0x111))/0x3*(-parseInt(_0x2591a9(0xe3))/0x4)+parseInt(_0x2591a9(0xed))/0x5*(parseInt(_0x2591a9(0x130))/0x6)+parseInt(_0x2591a9(0xa3))/0x7*(parseInt(_0x2591a9(0x134))/0x8)+parseInt(_0x2591a9(0x12a))/0x9+parseInt(_0x2591a9(0x10b))/0xa+-parseInt(_0x2591a9(0xfd))/0xb*(parseInt(_0x2591a9(0xea))/0xc);if(_0x41866c===_0x57b1e9)break;else _0x4e776b['push'](_0x4e776b['shift']());}catch(_0x678015){_0x4e776b['push'](_0x4e776b['shift']());}}}(_0xab74,0x9ef8e));import{colorscales}from'./colorscales.js';import{parse as _0x5d750c}from'./arithmetics-parser.js';function hasOwnProperty(_0x4686fd,_0x4cc44e){const _0x58f481=_0x282e;return Object[_0x58f481(0x10e)][_0x58f481(0xca)][_0x58f481(0xef)](_0x4686fd,_0x4cc44e);}function defaultFor(_0x33e0e1,_0x1ef844){return typeof _0x33e0e1!=='undefined'?_0x33e0e1:_0x1ef844;}function create3DContext(_0x53b80a,_0x3ea5ee){const _0x54c262=_0x282e,_0x1aeea2=[_0x54c262(0xe0),_0x54c262(0xb6)];let _0x535dc7=null;for(let _0x53dbcf=0x0;_0x53dbcf<_0x1aeea2[_0x54c262(0xfc)];++_0x53dbcf){try{_0x535dc7=_0x53b80a[_0x54c262(0xc0)](_0x1aeea2[_0x53dbcf],_0x3ea5ee);}catch(_0x2eed93){}if(_0x535dc7)break;}if(!_0x535dc7||!_0x535dc7['getExtension']('OES_texture_float'))return null;return _0x535dc7;}function createProgram(_0x49a3b9,_0x3f6d18,_0x19bae9){const _0x2ea8ef=_0x282e,_0x13cb5f=_0x49a3b9[_0x2ea8ef(0xe7)](_0x49a3b9[_0x2ea8ef(0x12f)]);_0x49a3b9[_0x2ea8ef(0xad)](_0x13cb5f,_0x3f6d18),_0x49a3b9[_0x2ea8ef(0x124)](_0x13cb5f);if(!_0x49a3b9['getShaderParameter'](_0x13cb5f,_0x49a3b9[_0x2ea8ef(0x102)]))throw new Error(_0x49a3b9[_0x2ea8ef(0xf9)](_0x13cb5f));const _0x428d18=_0x49a3b9['createShader'](_0x49a3b9[_0x2ea8ef(0x107)]);_0x49a3b9[_0x2ea8ef(0xad)](_0x428d18,_0x19bae9),_0x49a3b9['compileShader'](_0x428d18);if(!_0x49a3b9['getShaderParameter'](_0x428d18,_0x49a3b9[_0x2ea8ef(0x102)]))throw new Error(_0x49a3b9[_0x2ea8ef(0xf9)](_0x428d18));const _0x46e966=_0x49a3b9[_0x2ea8ef(0xf8)]();return _0x49a3b9[_0x2ea8ef(0xdb)](_0x46e966,_0x13cb5f),_0x49a3b9[_0x2ea8ef(0xdb)](_0x46e966,_0x428d18),_0x49a3b9[_0x2ea8ef(0xf3)](_0x46e966),_0x46e966;}function setRectangle(_0x3bcf3d,_0x151959,_0x4d13a8,_0x49d967,_0xd34f49){const _0x45c98a=_0x282e,_0x1977a0=_0x151959,_0x15f887=_0x151959+_0x49d967,_0x357197=_0x4d13a8,_0x5d914d=_0x4d13a8+_0xd34f49;_0x3bcf3d[_0x45c98a(0xbe)](_0x3bcf3d[_0x45c98a(0xb3)],new Float32Array([_0x1977a0,_0x357197,_0x15f887,_0x357197,_0x1977a0,_0x5d914d,_0x1977a0,_0x5d914d,_0x15f887,_0x357197,_0x15f887,_0x5d914d]),_0x3bcf3d[_0x45c98a(0xb9)]);}function createDataset(_0xa7e37a,_0x2f0db0,_0x23a1db,_0x5c517b,_0x1dfc7c){const _0x4d82f5=_0x282e;let _0x4241b8;return _0xa7e37a&&(_0xa7e37a[_0x4d82f5(0xa0)](0x0,0x0,_0x5c517b,_0x1dfc7c),_0x4241b8=_0xa7e37a[_0x4d82f5(0xf0)](),_0xa7e37a[_0x4d82f5(0x100)](_0xa7e37a[_0x4d82f5(0xec)],_0x4241b8),_0xa7e37a[_0x4d82f5(0x103)](_0xa7e37a[_0x4d82f5(0xec)],_0xa7e37a[_0x4d82f5(0xdf)],_0xa7e37a['CLAMP_TO_EDGE']),_0xa7e37a['texParameteri'](_0xa7e37a['TEXTURE_2D'],_0xa7e37a[_0x4d82f5(0xd5)],_0xa7e37a[_0x4d82f5(0x105)]),_0xa7e37a[_0x4d82f5(0x103)](_0xa7e37a[_0x4d82f5(0xec)],_0xa7e37a[_0x4d82f5(0xff)],_0xa7e37a[_0x4d82f5(0x101)]),_0xa7e37a[_0x4d82f5(0x103)](_0xa7e37a[_0x4d82f5(0xec)],_0xa7e37a[_0x4d82f5(0xa8)],_0xa7e37a['NEAREST']),_0xa7e37a[_0x4d82f5(0x11c)](_0xa7e37a[_0x4d82f5(0xec)],0x0,_0xa7e37a[_0x4d82f5(0x129)],_0x5c517b,_0x1dfc7c,0x0,_0xa7e37a[_0x4d82f5(0x129)],_0xa7e37a['FLOAT'],new Float32Array(_0x23a1db))),{'textureData':_0x4241b8,'width':_0x5c517b,'height':_0x1dfc7c,'data':_0x23a1db,'id':_0x2f0db0};}function destroyDataset(_0xaec89e,_0xcaf078){const _0x1675a1=_0x282e;_0xaec89e&&_0xaec89e['deleteTexture'](_0xcaf078[_0x1675a1(0x131)]);}function _0xab74(){const _0x356e57=['TEXTURE_WRAP_T','textureScale','u_textureScale','removeDataset','add','setClamp','attachShader','a_texCoord','pow(','u_noDataValue','TEXTURE_WRAP_S','webgl','name','colorScale','3444FWsVqJ','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20','drawArrays','colorScaleImage','createShader','useProgram','ctx','120DDLqvA','getCanvas','TEXTURE_2D','5MPrlNy','rhs','call','createTexture','Invalid\x20color\x20scale.','setData','linkProgram',';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(value\x20==\x20u_noDataValue)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0,\x200,\x200,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20((!u_clampLow\x20&&\x20value\x20<\x20u_domain[0])\x20||\x20(!u_clampHigh\x20&&\x20value\x20>\x20u_domain[1]))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0,\x200,\x200,\x200);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20normalisedValue\x20=\x20(value\x20-\x20u_domain[0])\x20/\x20(u_domain[1]\x20-\x20u_domain[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(u_textureScale,\x20vec2(normalisedValue,\x200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','uniform2f','uniformMatrix3fv','texCoordBuffer','createProgram','getShaderInfoLog','datasetCollection','createElement','length','3963663PMgkJW','Color\x20scale\x20not\x20defined.','TEXTURE_MIN_FILTER','bindTexture','NEAREST','COMPILE_STATUS','texParameteri','currentDataset','CLAMP_TO_EDGE','uniform2fv','FRAGMENT_SHADER','activeTexture','_value','putImageData','12528490lhhljR','uniform1f','render','prototype','Invalid\x20domain\x20specified.','lhs','3885wQCORM','datasets','getUniformLocation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20precision\x20mediump\x20float;\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20our\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20u_textureScale;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20add\x20all\x20required\x20textures\x0a','bindBuffer','setExpression','addDataset','colors','getColorScaleImage','canvas','setDomain','texImage2D','u_resolution','floor','u_clampLow','createImageData','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20u_textureSize;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20u_domain;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20u_noDataValue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20u_clampLow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20u_clampHigh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20the\x20texCoords\x20passed\x20in\x20from\x20the\x20vertex\x20shader.\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20v_texCoord;\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a','atPoint','program','compileShader','toString','TEXTURE0','a_position','There\x20is\x20already\x20a\x20dataset\x20registered\x20with\x20id\x20\x27','LUMINANCE','6229530ylpUcj','No\x20such\x20color\x20scale\x20\x27','No\x20dataset\x20available.','uniform1i','createLinearGradient','VERTEX_SHADER','4606452tccmZx','textureData','expressionAst','datasetAvailable','16FHHLed','replace','undefined','applyDisplayRange',',\x20v_texCoord)[0];','setCurrentDataset','viewport','10dqxJcg','setColorScaleImage','225974GKGtlS','width','vertexAttribPointer','u_textureData','data','TEXTURE_MAG_FILTER','object','createBuffer','clampLow','getData','shaderSource','TEXTURE1','getColor','join','getAttribLocation','FLOAT','ARRAY_BUFFER','Coordinates\x20are\x20outside\x20of\x20image\x20bounds.','set','experimental-webgl','map','[object\x20Uint8Array]','STATIC_DRAW','viridis','matrix','addColorStop','float(','bufferData','setNoDataValue','getContext','displayRange','enableVertexAttribArray','noDataValue','colorScaleCanvas','RGBA','height','TEXTURE','u_clampHigh','No\x20such\x20dataset\x20registered:\x20\x27','hasOwnProperty','getImageData','string','TRIANGLES','72432vshfjL','domain','setCanvas','clampHigh','fillStyle','from','setColorScale'];_0xab74=function(){return _0x356e57;};return _0xab74();}function addColorScale(_0x4d58b6,_0xa0bdce,_0x47f47d){const _0x3ccb34=_0x282e;if(_0xa0bdce[_0x3ccb34(0xfc)]!==_0x47f47d[_0x3ccb34(0xfc)])throw new Error(_0x3ccb34(0xf1));colorscales[_0x4d58b6]={'colors':_0xa0bdce,'positions':_0x47f47d};}function renderColorScaleToCanvas(_0x45b57b,_0x30a326){const _0x19d29a=_0x282e,_0x40aaad=colorscales[_0x45b57b];_0x30a326['height']=0x1;const _0x2fdb79=_0x30a326['getContext']('2d');if(Object[_0x19d29a(0x10e)][_0x19d29a(0x125)]['call'](_0x40aaad)==='[object\x20Object]'){_0x30a326[_0x19d29a(0xa4)]=0x100;const _0x58467d=_0x2fdb79[_0x19d29a(0x12e)](0x0,0x0,0x100,0x1);for(let _0x54c4dc=0x0;_0x54c4dc<_0x40aaad[_0x19d29a(0x118)][_0x19d29a(0xfc)];++_0x54c4dc){_0x58467d[_0x19d29a(0xbc)](_0x40aaad['positions'][_0x54c4dc],_0x40aaad[_0x19d29a(0x118)][_0x54c4dc]);}_0x2fdb79[_0x19d29a(0xd2)]=_0x58467d,_0x2fdb79['fillRect'](0x0,0x0,0x100,0x1);}else{if(Object[_0x19d29a(0x10e)]['toString']['call'](_0x40aaad)===_0x19d29a(0xb8)){_0x30a326[_0x19d29a(0xa4)]=0x100;const _0x37b119=_0x2fdb79['createImageData'](0x100,0x1);_0x37b119[_0x19d29a(0xa7)][_0x19d29a(0xb5)](_0x40aaad),_0x2fdb79['putImageData'](_0x37b119,0x0,0x0);}else throw new Error(_0x19d29a(0xfe));}}const vertexShaderSource='\x0aattribute\x20vec2\x20a_position;\x0aattribute\x20vec2\x20a_texCoord;\x0auniform\x20mat3\x20u_matrix;\x0auniform\x20vec2\x20u_resolution;\x0avarying\x20vec2\x20v_texCoord;\x0avoid\x20main()\x20{\x0a\x20\x20//\x20apply\x20transformation\x20matrix\x0a\x20\x20vec2\x20position\x20=\x20(u_matrix\x20*\x20vec3(a_position,\x201)).xy;\x0a\x20\x20//\x20convert\x20the\x20rectangle\x20from\x20pixels\x20to\x200.0\x20to\x201.0\x0a\x20\x20vec2\x20zeroToOne\x20=\x20position\x20/\x20u_resolution;\x0a\x20\x20//\x20convert\x20from\x200->1\x20to\x200->2\x0a\x20\x20vec2\x20zeroToTwo\x20=\x20zeroToOne\x20*\x202.0;\x0a\x20\x20//\x20convert\x20from\x200->2\x20to\x20-1->+1\x20(clipspace)\x0a\x20\x20vec2\x20clipSpace\x20=\x20zeroToTwo\x20-\x201.0;\x0a\x20\x20gl_Position\x20=\x20vec4(clipSpace\x20*\x20vec2(1,\x20-1),\x200,\x201);\x0a\x20\x20//\x20pass\x20the\x20texCoord\x20to\x20the\x20fragment\x20shader\x0a\x20\x20//\x20The\x20GPU\x20will\x20interpolate\x20this\x20value\x20between\x20points.\x0a\x20\x20v_texCoord\x20=\x20a_texCoord;\x0a}',fragmentShaderSource='\x0aprecision\x20mediump\x20float;\x0a//\x20our\x20texture\x0auniform\x20sampler2D\x20u_textureData;\x0auniform\x20sampler2D\x20u_textureScale;\x0auniform\x20vec2\x20u_textureSize;\x0auniform\x20vec2\x20u_domain;\x0auniform\x20vec2\x20u_display_range;\x0auniform\x20bool\x20u_apply_display_range;\x0auniform\x20float\x20u_noDataValue;\x0auniform\x20bool\x20u_clampLow;\x0auniform\x20bool\x20u_clampHigh;\x0a//\x20the\x20texCoords\x20passed\x20in\x20from\x20the\x20vertex\x20shader.\x0avarying\x20vec2\x20v_texCoord;\x0a\x0abool\x20isnan(\x20float\x20val\x20)\x20{\x0a\x20\x20return\x20(\x20val\x20<\x200.0\x20||\x200.0\x20<\x20val\x20||\x20val\x20==\x200.0\x20)\x20?\x20false\x20:\x20true;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20onePixel\x20=\x20vec2(1.0,\x201.0)\x20/\x20u_textureSize;\x0a\x20\x20float\x20value\x20=\x20texture2D(u_textureData,\x20v_texCoord)[0];\x0a\x20\x20if(value\x20<\x20-3.402823466e+38)\x20//\x20Check\x20for\x20possible\x20NaN\x20value\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0,\x200,\x200,\x200.0);\x0a\x20\x20else\x20if\x20(value\x20==\x20u_noDataValue\x20||\x20isnan(value))\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0,\x200,\x200,\x200.0);\x0a\x20\x20else\x20if\x20(u_apply_display_range\x20&&\x20(value\x20<\x20u_display_range[0]\x20||\x20value\x20>=\x20u_display_range[1]))\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0,\x200,\x200,\x200.0);\x0a\x20\x20else\x20if\x20((!u_clampLow\x20&&\x20value\x20<\x20u_domain[0])\x20||\x20(!u_clampHigh\x20&&\x20value\x20>\x20u_domain[1]))\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0,\x200,\x200,\x200);\x0a\x20\x20else\x20{\x0a\x20\x20\x20\x20float\x20normalisedValue\x20=\x20(value\x20-\x20u_domain[0])\x20/\x20(u_domain[1]\x20-\x20u_domain[0]);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(u_textureScale,\x20vec2(normalisedValue,\x200));\x0a\x20\x20}\x0a}';class plot{constructor(_0x13053){const _0x358052=_0x282e;this[_0x358052(0xfa)]={},this[_0x358052(0x104)]=null,this[_0x358052(0xd0)](_0x13053[_0x358052(0x11a)]);if(defaultFor(_0x13053['useWebGL'],!![])){if(create3DContext(document[_0x358052(0xfb)]('canvas'),{'premultipliedAlpha':![]})!==null){this['canvas']=document[_0x358052(0xfb)](_0x358052(0x11a)),this[_0x358052(0x11a)][_0x358052(0xa4)]=_0x13053[_0x358052(0x11a)][_0x358052(0xa4)],this['canvas'][_0x358052(0xc6)]=_0x13053[_0x358052(0x11a)]['height'];const _0x17cca0=create3DContext(this[_0x358052(0x11a)],{'premultipliedAlpha':![]});this['gl']=_0x17cca0,this['program']=createProgram(_0x17cca0,vertexShaderSource,fragmentShaderSource),_0x17cca0['useProgram'](this[_0x358052(0x123)]);const _0x3f993a=_0x17cca0[_0x358052(0xb1)](this[_0x358052(0x123)],_0x358052(0xdc));this[_0x358052(0xf7)]=_0x17cca0[_0x358052(0xaa)](),_0x17cca0[_0x358052(0x115)](_0x17cca0[_0x358052(0xb3)],this[_0x358052(0xf7)]),_0x17cca0[_0x358052(0xbe)](_0x17cca0['ARRAY_BUFFER'],new Float32Array([0x0,0x0,0x1,0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1,0x1]),_0x17cca0[_0x358052(0xb9)]),_0x17cca0[_0x358052(0xc2)](_0x3f993a),_0x17cca0[_0x358052(0xa5)](_0x3f993a,0x2,_0x17cca0['FLOAT'],![],0x0,0x0);}else this[_0x358052(0xe9)]=this['canvas'][_0x358052(0xc0)]('2d');}else this[_0x358052(0xe9)]=this['canvas'][_0x358052(0xc0)]('2d');_0x13053[_0x358052(0xe6)]?this[_0x358052(0xa2)](_0x13053['colorScaleImage']):this['setColorScale'](defaultFor(_0x13053[_0x358052(0xe2)],_0x358052(0xba)));this['setDomain'](defaultFor(_0x13053[_0x358052(0xcf)],[0x0,0x1])),this[_0x358052(0xc1)]=defaultFor(_0x13053[_0x358052(0xc1)],[0x0,0x1]),this[_0x358052(0x137)]=defaultFor(_0x13053[_0x358052(0x137)],![]),this['setClamp'](defaultFor(_0x13053[_0x358052(0xab)],!![]),_0x13053[_0x358052(0xd1)]),this[_0x358052(0xbf)](_0x13053['noDataValue']);if(_0x13053[_0x358052(0xa7)]){const _0x29109e=_0x13053[_0x358052(0xa7)][_0x358052(0xfc)];this[_0x358052(0xf2)](_0x13053[_0x358052(0xa7)],defaultFor(_0x13053['width'],_0x13053[_0x358052(0xa7)][_0x29109e-0x2]),defaultFor(_0x13053[_0x358052(0xc6)],_0x13053[_0x358052(0xa7)][_0x29109e-0x2]));}if(_0x13053[_0x358052(0x112)])for(let _0x10a48b=0x0;_0x10a48b<_0x13053['datasets'][_0x358052(0xfc)];++_0x10a48b){const _0x1cb9fc=_0x13053[_0x358052(0x112)][_0x10a48b];this[_0x358052(0x117)](_0x1cb9fc['id'],_0x1cb9fc['data'],_0x1cb9fc[_0x358052(0xa4)],_0x1cb9fc[_0x358052(0xc6)]);}_0x13053[_0x358052(0xbb)]?this[_0x358052(0xbb)]=_0x13053[_0x358052(0xbb)]:this[_0x358052(0xbb)]=[0x1,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x1];}[_0x45e18d(0xac)](){const _0x9ce83=_0x45e18d,_0x294c63=this[_0x9ce83(0x104)];if(!_0x294c63)throw new Error(_0x9ce83(0x12c));return _0x294c63[_0x9ce83(0xa7)];}[_0x45e18d(0x122)](_0x52a0ef,_0x5c5e46){const _0x35cfad=_0x45e18d,_0x105bda=this[_0x35cfad(0x104)];if(!_0x105bda)throw new Error(_0x35cfad(0x12c));else{if(_0x52a0ef>=_0x105bda[_0x35cfad(0xa4)]||_0x5c5e46>=_0x105bda['height'])throw new Error(_0x35cfad(0xb4));}return _0x105bda[_0x35cfad(0xa7)][_0x5c5e46*_0x105bda['width']+_0x52a0ef];}[_0x45e18d(0xf2)](_0x582bb8,_0x2108b3,_0x4cd93e){const _0x559ad9=_0x45e18d;this[_0x559ad9(0x104)]&&this[_0x559ad9(0x104)]['id']===null&&destroyDataset(this['gl'],this[_0x559ad9(0x104)]),this['currentDataset']=createDataset(this['gl'],null,_0x582bb8,_0x2108b3,_0x4cd93e);}[_0x45e18d(0x117)](_0x512103,_0x2082d0,_0x386cfb,_0x2b9495){const _0x4be2ca=_0x45e18d;if(this[_0x4be2ca(0x133)](_0x512103))throw new Error(_0x4be2ca(0x128)+_0x512103+'\x27');this[_0x4be2ca(0xfa)][_0x512103]=createDataset(this['gl'],_0x512103,_0x2082d0,_0x386cfb,_0x2b9495),!this[_0x4be2ca(0x104)]&&(this['currentDataset']=this[_0x4be2ca(0xfa)][_0x512103]);}['setCurrentDataset'](_0x540f06){const _0x36e84a=_0x45e18d;if(!this[_0x36e84a(0x133)](_0x540f06))throw new Error(_0x36e84a(0xc9)+_0x540f06+'\x27');this[_0x36e84a(0x104)]&&this['currentDataset']['id']===null&&destroyDataset(this['gl'],this[_0x36e84a(0x104)]),this[_0x36e84a(0x104)]=this[_0x36e84a(0xfa)][_0x540f06];}[_0x45e18d(0xd8)](_0x934c9a){const _0x43f14a=_0x45e18d,_0x1b8e26=this[_0x43f14a(0xfa)][_0x934c9a];if(!_0x1b8e26)throw new Error(_0x43f14a(0xc9)+_0x934c9a+'\x27');destroyDataset(this['gl'],_0x1b8e26),this['currentDataset']===_0x1b8e26&&(this[_0x43f14a(0x104)]=null),delete this[_0x43f14a(0xfa)][_0x934c9a];}[_0x45e18d(0x133)](_0x134f40){const _0x4f36bb=_0x45e18d;return hasOwnProperty(this[_0x4f36bb(0xfa)],_0x134f40);}[_0x45e18d(0x119)](){const _0x519b0a=_0x45e18d;return this[_0x519b0a(0xe6)];}[_0x45e18d(0xd0)](_0x53e55d){const _0x284b75=_0x45e18d;this[_0x284b75(0x11a)]=_0x53e55d||document[_0x284b75(0xfb)](_0x284b75(0x11a));}[_0x45e18d(0x11b)](_0x30315f){const _0xe1811b=_0x45e18d;if(!_0x30315f||_0x30315f[_0xe1811b(0xfc)]!==0x2)throw new Error(_0xe1811b(0x10f));this[_0xe1811b(0xcf)]=_0x30315f;}['setDisplayRange'](_0x629d9c){const _0x36bfe4=_0x45e18d;if(!_0x629d9c||_0x629d9c[_0x36bfe4(0xfc)]!==0x2)throw new Error('Invalid\x20view\x20range\x20specified.');this[_0x36bfe4(0xc1)]=_0x629d9c,this[_0x36bfe4(0x137)]=!![];}[_0x45e18d(0xeb)](){return this['canvas'];}[_0x45e18d(0xd4)](_0x5069bf){const _0x5d4707=_0x45e18d;if(!hasOwnProperty(colorscales,_0x5069bf))throw new Error(_0x5d4707(0x12b)+_0x5069bf+'\x27');!this[_0x5d4707(0xc4)]&&(this[_0x5d4707(0xc4)]=document[_0x5d4707(0xfb)](_0x5d4707(0x11a)),this[_0x5d4707(0xc4)][_0x5d4707(0xa4)]=0x100,this['colorScaleCanvas']['height']=0x1),renderColorScaleToCanvas(_0x5069bf,this[_0x5d4707(0xc4)]),this[_0x5d4707(0xe1)]=_0x5069bf,this[_0x5d4707(0xa2)](this[_0x5d4707(0xc4)]);}[_0x45e18d(0xda)](_0x374bb1,_0x3140b9){const _0x4990a7=_0x45e18d;this[_0x4990a7(0xab)]=_0x374bb1,this[_0x4990a7(0xd1)]=typeof _0x3140b9!==_0x4990a7(0x136)?_0x3140b9:_0x374bb1;}[_0x45e18d(0xa2)](_0x5556b2){const _0x54a29a=_0x45e18d;this[_0x54a29a(0xe6)]=_0x5556b2;const _0x1184ae=this['gl'];_0x1184ae&&(this[_0x54a29a(0xd6)]&&_0x1184ae['deleteTexture'](this[_0x54a29a(0xd6)]),this[_0x54a29a(0xd6)]=_0x1184ae[_0x54a29a(0xf0)](),_0x1184ae['bindTexture'](_0x1184ae['TEXTURE_2D'],this[_0x54a29a(0xd6)]),_0x1184ae[_0x54a29a(0x103)](_0x1184ae[_0x54a29a(0xec)],_0x1184ae['TEXTURE_WRAP_S'],_0x1184ae[_0x54a29a(0x105)]),_0x1184ae[_0x54a29a(0x103)](_0x1184ae[_0x54a29a(0xec)],_0x1184ae['TEXTURE_WRAP_T'],_0x1184ae[_0x54a29a(0x105)]),_0x1184ae['texParameteri'](_0x1184ae[_0x54a29a(0xec)],_0x1184ae[_0x54a29a(0xff)],_0x1184ae['NEAREST']),_0x1184ae[_0x54a29a(0x103)](_0x1184ae[_0x54a29a(0xec)],_0x1184ae[_0x54a29a(0xa8)],_0x1184ae[_0x54a29a(0x101)]),_0x1184ae[_0x54a29a(0x11c)](_0x1184ae[_0x54a29a(0xec)],0x0,_0x1184ae[_0x54a29a(0xc5)],_0x1184ae[_0x54a29a(0xc5)],_0x1184ae['UNSIGNED_BYTE'],_0x5556b2));}['setNoDataValue'](_0x395911){const _0x5da2aa=_0x45e18d;this[_0x5da2aa(0xc3)]=_0x395911;}[_0x45e18d(0x10d)](){const _0x40cabc=_0x45e18d,_0x1e5dbf=this[_0x40cabc(0x11a)],_0x322463=this[_0x40cabc(0x104)];_0x1e5dbf['width']=_0x322463[_0x40cabc(0xa4)],_0x1e5dbf['height']=_0x322463[_0x40cabc(0xc6)];let _0x1ed559=null;if(this[_0x40cabc(0x132)]){const _0x49ee03=new Set([]),_0x1adb2d=_0x20c594=>{const _0x48c817=_0x40cabc;typeof _0x20c594===_0x48c817(0xcc)&&_0x49ee03[_0x48c817(0xd9)](_0x20c594[_0x48c817(0x135)](new RegExp(/[+-]/,'g'),''));if(typeof _0x20c594[_0x48c817(0x110)]===_0x48c817(0xcc))_0x49ee03['add'](_0x20c594[_0x48c817(0x110)][_0x48c817(0x135)](new RegExp(/[+-]/,'g'),''));else typeof _0x20c594[_0x48c817(0x110)]===_0x48c817(0xa9)&&_0x1adb2d(_0x20c594['lhs']);if(typeof _0x20c594['rhs']==='string')_0x49ee03[_0x48c817(0xd9)](_0x20c594[_0x48c817(0xee)][_0x48c817(0x135)](new RegExp(/[+-]/,'g'),''));else typeof _0x20c594[_0x48c817(0xee)]===_0x48c817(0xa9)&&_0x1adb2d(_0x20c594[_0x48c817(0xee)]);};_0x1adb2d(this[_0x40cabc(0x132)]),_0x1ed559=Array[_0x40cabc(0xd3)](_0x49ee03);}let _0x1c7efb=null;if(this['gl']){const _0x2e7e05=this['gl'];_0x2e7e05[_0x40cabc(0xa0)](0x0,0x0,_0x322463[_0x40cabc(0xa4)],_0x322463[_0x40cabc(0xc6)]);if(this['expressionAst']){const _0x24d00a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20a_position;\x0a\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20a_texCoord;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat3\x20u_matrix;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20u_resolution;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20v_texCoord;\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20transformation\x20matrix\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20position\x20=\x20(u_matrix\x20*\x20vec3(a_position,\x201)).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20convert\x20the\x20rectangle\x20from\x20pixels\x20to\x200.0\x20to\x201.0\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20zeroToOne\x20=\x20position\x20/\x20u_resolution;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20convert\x20from\x200->1\x20to\x200->2\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20zeroToTwo\x20=\x20zeroToOne\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20convert\x20from\x200->2\x20to\x20-1->+1\x20(clipspace)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20clipSpace\x20=\x20zeroToTwo\x20-\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20vec4(clipSpace\x20*\x20vec2(1,\x20-1),\x200,\x201);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20pass\x20the\x20texCoord\x20to\x20the\x20fragment\x20shader\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20The\x20GPU\x20will\x20interpolate\x20this\x20value\x20between\x20points.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v_texCoord\x20=\x20a_texCoord;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}',_0x33b3dc=_0x189a62=>{const _0x1e024c=_0x40cabc;if(typeof _0x189a62==='object'){if(_0x189a62['op']==='**')return _0x1e024c(0xdd)+_0x33b3dc(_0x189a62[_0x1e024c(0x110)])+',\x20'+_0x33b3dc(_0x189a62['rhs'])+')';if(_0x189a62['fn'])return'('+_0x189a62['fn']+'('+_0x33b3dc(_0x189a62[_0x1e024c(0x110)])+'))';return'('+_0x33b3dc(_0x189a62[_0x1e024c(0x110)])+'\x20'+_0x189a62['op']+'\x20'+_0x33b3dc(_0x189a62[_0x1e024c(0xee)])+')';}else{if(typeof _0x189a62==='string')return _0x189a62+_0x1e024c(0x109);}return _0x1e024c(0xbd)+_0x189a62+')';},_0x1037dc=_0x33b3dc(this[_0x40cabc(0x132)]),_0x94ec8b=_0x40cabc(0x114)+_0x1ed559[_0x40cabc(0xb7)](_0x241afe=>'\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20u_texture_'+_0x241afe+';')[_0x40cabc(0xb0)]('\x0a')+_0x40cabc(0x121)+_0x1ed559['map'](_0xdc2a1d=>_0x40cabc(0xe4)+_0xdc2a1d+'_value\x20=\x20texture2D(u_texture_'+_0xdc2a1d+_0x40cabc(0x138))[_0x40cabc(0xb0)]('\x0a')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20value\x20=\x20'+_0x1037dc+_0x40cabc(0xf4);_0x1c7efb=createProgram(_0x2e7e05,vertexShaderSource,_0x94ec8b),_0x2e7e05[_0x40cabc(0xe8)](_0x1c7efb),_0x2e7e05[_0x40cabc(0x12d)](_0x2e7e05[_0x40cabc(0x113)](_0x1c7efb,'u_textureScale'),0x0),_0x2e7e05[_0x40cabc(0x108)](_0x2e7e05['TEXTURE0']),_0x2e7e05[_0x40cabc(0x100)](_0x2e7e05['TEXTURE_2D'],this['textureScale']);for(let _0x55ab23=0x0;_0x55ab23<_0x1ed559[_0x40cabc(0xfc)];++_0x55ab23){const _0x26ad5=_0x55ab23+0x1,_0x55f8c7=_0x1ed559[_0x55ab23],_0x1103cf=this[_0x40cabc(0xfa)][_0x55f8c7];if(!_0x1103cf)throw new Error(_0x40cabc(0xc9)+_0x55f8c7+'\x27');_0x2e7e05[_0x40cabc(0x12d)](_0x2e7e05['getUniformLocation'](_0x1c7efb,'u_texture_'+_0x55f8c7),_0x26ad5),_0x2e7e05[_0x40cabc(0x108)](_0x2e7e05[_0x40cabc(0xc7)+_0x26ad5]),_0x2e7e05['bindTexture'](_0x2e7e05['TEXTURE_2D'],_0x1103cf[_0x40cabc(0x131)]);}}else _0x1c7efb=this[_0x40cabc(0x123)],_0x2e7e05[_0x40cabc(0xe8)](_0x1c7efb),_0x2e7e05[_0x40cabc(0x12d)](_0x2e7e05[_0x40cabc(0x113)](_0x1c7efb,_0x40cabc(0xa6)),0x0),_0x2e7e05['uniform1i'](_0x2e7e05[_0x40cabc(0x113)](_0x1c7efb,_0x40cabc(0xd7)),0x1),_0x2e7e05[_0x40cabc(0x108)](_0x2e7e05[_0x40cabc(0x126)]),_0x2e7e05[_0x40cabc(0x100)](_0x2e7e05[_0x40cabc(0xec)],_0x322463[_0x40cabc(0x131)]),_0x2e7e05['activeTexture'](_0x2e7e05[_0x40cabc(0xae)]),_0x2e7e05['bindTexture'](_0x2e7e05[_0x40cabc(0xec)],this[_0x40cabc(0xd6)]);const _0x387412=_0x2e7e05[_0x40cabc(0xb1)](_0x1c7efb,_0x40cabc(0x127)),_0x490d5e=_0x2e7e05['getUniformLocation'](_0x1c7efb,'u_domain'),_0x172dd1=_0x2e7e05['getUniformLocation'](_0x1c7efb,'u_display_range'),_0x5ef345=_0x2e7e05[_0x40cabc(0x113)](_0x1c7efb,'u_apply_display_range'),_0x2d6ded=_0x2e7e05[_0x40cabc(0x113)](_0x1c7efb,_0x40cabc(0x11d)),_0x21079e=_0x2e7e05[_0x40cabc(0x113)](_0x1c7efb,_0x40cabc(0xde)),_0x4e0313=_0x2e7e05[_0x40cabc(0x113)](_0x1c7efb,_0x40cabc(0x11f)),_0x5c4f75=_0x2e7e05[_0x40cabc(0x113)](_0x1c7efb,_0x40cabc(0xc8)),_0x2eec4a=_0x2e7e05[_0x40cabc(0x113)](_0x1c7efb,'u_matrix');_0x2e7e05[_0x40cabc(0xf5)](_0x2d6ded,_0x1e5dbf[_0x40cabc(0xa4)],_0x1e5dbf[_0x40cabc(0xc6)]),_0x2e7e05[_0x40cabc(0x106)](_0x490d5e,this[_0x40cabc(0xcf)]),_0x2e7e05[_0x40cabc(0x106)](_0x172dd1,this[_0x40cabc(0xc1)]),_0x2e7e05[_0x40cabc(0x12d)](_0x5ef345,this['applyDisplayRange']),_0x2e7e05[_0x40cabc(0x12d)](_0x4e0313,this[_0x40cabc(0xab)]),_0x2e7e05['uniform1i'](_0x5c4f75,this['clampHigh']),_0x2e7e05[_0x40cabc(0x10c)](_0x21079e,this[_0x40cabc(0xc3)]),_0x2e7e05[_0x40cabc(0xf6)](_0x2eec4a,![],this['matrix']);const _0x20450d=_0x2e7e05[_0x40cabc(0xaa)]();_0x2e7e05[_0x40cabc(0x115)](_0x2e7e05[_0x40cabc(0xb3)],_0x20450d),_0x2e7e05[_0x40cabc(0xc2)](_0x387412),_0x2e7e05[_0x40cabc(0xa5)](_0x387412,0x2,_0x2e7e05[_0x40cabc(0xb2)],![],0x0,0x0),setRectangle(_0x2e7e05,0x0,0x0,_0x1e5dbf[_0x40cabc(0xa4)],_0x1e5dbf[_0x40cabc(0xc6)]),_0x2e7e05[_0x40cabc(0xe5)](_0x2e7e05[_0x40cabc(0xcd)],0x0,0x6);}else{if(this[_0x40cabc(0xe9)]){const _0x88eaa5=this[_0x40cabc(0xe9)],_0x130f18=_0x1e5dbf[_0x40cabc(0xa4)],_0xce423f=_0x1e5dbf[_0x40cabc(0xc6)],_0x8a6b32=_0x88eaa5[_0x40cabc(0x120)](_0x130f18,_0xce423f),_0x191578=this[_0x40cabc(0xcf)][0x1]-this[_0x40cabc(0xcf)][0x0],_0x5d900b=this['colorScaleCanvas'][_0x40cabc(0xa4)],_0x13a9f3=this[_0x40cabc(0xc4)][_0x40cabc(0xc0)]('2d')[_0x40cabc(0xcb)](0x0,0x0,_0x5d900b,0x1)[_0x40cabc(0xa7)];let _0xfeeac1;const _0x4d535a=_0x322463[_0x40cabc(0xa7)];for(let _0x3152d2=0x0;_0x3152d2<_0xce423f;_0x3152d2++){for(let _0x45bd87=0x0;_0x45bd87<_0x130f18;_0x45bd87++){const _0x8b01ca=_0x3152d2*_0x130f18+_0x45bd87;let _0x24ba10=Math[_0x40cabc(0x11e)]((_0x4d535a[_0x8b01ca]-this[_0x40cabc(0xcf)][0x0])/_0x191578*(_0x5d900b-0x1));_0xfeeac1=0xff;if(_0x24ba10<0x0)_0x24ba10=0x0,!this[_0x40cabc(0xab)]&&(_0xfeeac1=0x0);else _0x24ba10>0xff&&(_0x24ba10=0xff,!this[_0x40cabc(0xd1)]&&(_0xfeeac1=0x0));if(_0x4d535a[_0x8b01ca]===this['noDataValue']||_0x4d535a[_0x8b01ca]!==_0x4d535a[_0x8b01ca])_0xfeeac1=0x0;else this[_0x40cabc(0x137)]&&(_0x4d535a[_0x8b01ca]<this['displayRange'][0x0]||_0x4d535a[_0x8b01ca]>=this[_0x40cabc(0xc1)][0x1])&&(_0xfeeac1=0x0);const _0x49206f=(_0x3152d2*_0x130f18+_0x45bd87)*0x4;_0x8a6b32[_0x40cabc(0xa7)][_0x49206f+0x0]=_0x13a9f3[_0x24ba10*0x4],_0x8a6b32['data'][_0x49206f+0x1]=_0x13a9f3[_0x24ba10*0x4+0x1],_0x8a6b32[_0x40cabc(0xa7)][_0x49206f+0x2]=_0x13a9f3[_0x24ba10*0x4+0x2],_0x8a6b32['data'][_0x49206f+0x3]=Math['min'](_0xfeeac1,_0x13a9f3[_0x24ba10*0x4+0x3]);}}_0x88eaa5[_0x40cabc(0x10a)](_0x8a6b32,0x0,0x0);}}}['renderDataset'](_0x34bf2a){const _0x15563a=_0x45e18d;return this[_0x15563a(0x9f)](_0x34bf2a),this[_0x15563a(0x10d)]();}[_0x45e18d(0xaf)](_0x2fa309){const _0x222853=_0x45e18d,_0x16ef0b=this[_0x222853(0xc4)][_0x222853(0xa4)],_0x4b0111=this[_0x222853(0xc4)][_0x222853(0xc0)]('2d')[_0x222853(0xcb)](0x0,0x0,_0x16ef0b,0x1)[_0x222853(0xa7)],_0xbcb36a=this[_0x222853(0xcf)][0x1]-this[_0x222853(0xcf)][0x0];let _0x28f889=Math['round']((_0x2fa309-this[_0x222853(0xcf)][0x0])/_0xbcb36a*_0x16ef0b),_0x22007b=0xff;return _0x28f889<0x0&&(_0x28f889=0x0,!this[_0x222853(0xab)]&&(_0x22007b=0x0)),_0x28f889>0xff&&(_0x28f889=0xff,!this[_0x222853(0xd1)]&&(_0x22007b=0x0)),[_0x4b0111[_0x28f889*0x4],_0x4b0111[_0x28f889*0x4+0x1],_0x4b0111[_0x28f889*0x4+0x2],_0x22007b];}[_0x45e18d(0x116)](_0x1b9eee){const _0x290150=_0x45e18d;!_0x1b9eee||!_0x1b9eee[_0x290150(0xfc)]?this['expressionAst']=null:this[_0x290150(0x132)]=_0x5d750c(_0x1b9eee);}}function _0x282e(_0x4484ae,_0x10ae7d){const _0xab7405=_0xab74();return _0x282e=function(_0x282e0d,_0x932e8a){_0x282e0d=_0x282e0d-0x9f;let _0xa21748=_0xab7405[_0x282e0d];return _0xa21748;},_0x282e(_0x4484ae,_0x10ae7d);}export{plot,addColorScale,colorscales,renderColorScaleToCanvas};