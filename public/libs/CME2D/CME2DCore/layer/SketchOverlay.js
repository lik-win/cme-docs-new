var _0x46970b=_0x183b;(function(_0x465705,_0x3a7477){var _0x2312e7=_0x183b,_0x1ac0d0=_0x465705();while(!![]){try{var _0x1ead42=parseInt(_0x2312e7(0x16c))/0x1*(parseInt(_0x2312e7(0x174))/0x2)+-parseInt(_0x2312e7(0x18a))/0x3*(parseInt(_0x2312e7(0x175))/0x4)+-parseInt(_0x2312e7(0x189))/0x5*(-parseInt(_0x2312e7(0x17a))/0x6)+-parseInt(_0x2312e7(0x17c))/0x7*(parseInt(_0x2312e7(0x165))/0x8)+-parseInt(_0x2312e7(0x16a))/0x9*(-parseInt(_0x2312e7(0x18c))/0xa)+-parseInt(_0x2312e7(0x173))/0xb*(parseInt(_0x2312e7(0x171))/0xc)+parseInt(_0x2312e7(0x16d))/0xd;if(_0x1ead42===_0x3a7477)break;else _0x1ac0d0['push'](_0x1ac0d0['shift']());}catch(_0x3ff16b){_0x1ac0d0['push'](_0x1ac0d0['shift']());}}}(_0x4d78,0xdd0e6));import _0x1b9cbf from'../../layer/Vector.js';function _0x4d78(){var _0x42d37b=['length','drawSketch','45fzMoRB','abortDrawing','1OPOhpI','10872238DXCEjN','Polygon','startDrawing','getFeature','430788oAsPrp','setPosition','220fVbhFe','2282078NKuxWd','404mIFWGx','getSource','_drawing','setCoordinates','setGeometryType','2526teACYe','type','19621ZOPcWu','_position','_type','dispatchEvent','sketch','drawLink','getGeometryType','drawend','Point','getFeatures','test','drawabort','sketchStyle','13560uWHuki','18597XwjLXj','_lastCoord','1170330BaKusX','setGeometry','LineString','setRadius','finishDrawing','Circle','clone','[../../layer/SketchOverlay~drawSketch]\x20geometry\x20type\x20not\x20supported\x20(','addPoint','removeLastPoint','getPosition','push','getGeometry','4152ZprpMH','_geom','pop'];_0x4d78=function(){return _0x42d37b;};return _0x4d78();}import _0x44e2a0 from'../../style/Style.js';import _0xb532a0 from'../../style/RegularShape.js';import _0x368b08 from'../../style/Stroke.js';import _0x184cf8 from'../../source/Vector.js';import _0x2af4e5 from'../../Feature.js';import _0x2339f5 from'../../geom/Point.js';import _0x5b7790 from'../../geom/LineString.js';import _0x10de64 from'../../geom/Polygon.js';import _0x98eba2 from'../../geom/Circle.js';import _0x27afac from'../style/defaultStyle.js';import{cme_coordinate_dist2d}from'../geom/GeomUtils.js';function _0x183b(_0x832aac,_0x441abc){var _0x4d7836=_0x4d78();return _0x183b=function(_0x183b67,_0x1dd279){_0x183b67=_0x183b67-0x15d;var _0x54592b=_0x4d7836[_0x183b67];return _0x54592b;},_0x183b(_0x832aac,_0x441abc);}var cme_layer_SketchOverlay=class ollayerSketchOverlay extends _0x1b9cbf{constructor(_0x423217){var _0x4f99cc=_0x183b;_0x423217=_0x423217||{};var _0x4ee5c6=_0x423217['style']||_0x27afac(!![]),_0xdbff14=_0x423217[_0x4f99cc(0x188)];!_0xdbff14&&(_0xdbff14=_0x27afac(),_0xdbff14=[new _0x44e2a0({'image':new _0xb532a0({'points':0x4,'radius':0xa,'radius2':0x0,'stroke':new _0x368b08({'color':[0xff,0xff,0xff,0.5],'width':0x3})})}),_0xdbff14[0x0]['clone']()],_0xdbff14[0x1]['setImage'](new _0xb532a0({'points':0x4,'radius':0xa,'radius2':0x0,'stroke':new _0x368b08({'color':[0x0,0x99,0xff,0x1],'width':1.25})}))),super({'name':_0x4f99cc(0x180),'source':new _0x184cf8({'useSpatialIndex':![]}),'style':function(_0x4be5b2){var _0x42c595=_0x4f99cc;return _0x4be5b2['get'](_0x42c595(0x180))?_0xdbff14:_0x4ee5c6;},'updateWhileAnimating':!![],'updateWhileInteracting':!![]}),this['_geom']=[],this[_0x4f99cc(0x176)]()['addFeatures']([new _0x2af4e5({'sketch':!![],'geometry':new _0x2339f5([])}),new _0x2af4e5({'sketch':!![],'geometry':new _0x5b7790([])}),new _0x2af4e5(),new _0x2af4e5(new _0x2339f5([]))]),this[_0x4f99cc(0x179)](_0x423217['type']);}[_0x46970b(0x179)](_0x479762){var _0x42f7bd=_0x46970b,_0x3b7ef7=/^Point$|^LineString$|^Polygon$|^Circle$/[_0x42f7bd(0x186)](_0x479762)?_0x479762:_0x42f7bd(0x18e);return _0x3b7ef7!==this[_0x42f7bd(0x17e)]&&(this['abortDrawing'](),this[_0x42f7bd(0x17e)]=_0x3b7ef7),this[_0x42f7bd(0x17e)];}['getGeometryType'](){var _0x4f2139=_0x46970b;return this[_0x4f2139(0x17e)];}[_0x46970b(0x160)](_0x503746){var _0x5ab9bc=_0x46970b;if(this['_lastCoord']!==this[_0x5ab9bc(0x17d)])return!this[_0x5ab9bc(0x166)][_0x5ab9bc(0x168)]&&this[_0x5ab9bc(0x16f)](),this['_geom'][_0x5ab9bc(0x163)](_0x503746),this[_0x5ab9bc(0x18b)]=_0x503746,this[_0x5ab9bc(0x17d)]=_0x503746,this[_0x5ab9bc(0x169)](),this[_0x5ab9bc(0x182)]()==='Point'&&this[_0x5ab9bc(0x190)](),this[_0x5ab9bc(0x182)]()===_0x5ab9bc(0x15d)&&this[_0x5ab9bc(0x166)][_0x5ab9bc(0x168)]>=0x2&&this[_0x5ab9bc(0x190)](),!![];return![];}[_0x46970b(0x161)](){var _0xb215c1=_0x46970b;this['_geom'][_0xb215c1(0x167)](),this[_0xb215c1(0x18b)]=this[_0xb215c1(0x166)][this['_geom'][_0xb215c1(0x168)]-0x1],this[_0xb215c1(0x169)]();}[_0x46970b(0x16f)](_0xff8fc){var _0xb62f4a=_0x46970b;_0xff8fc=_0xff8fc||{},this[_0xb62f4a(0x166)]=[];if(_0xff8fc[_0xb62f4a(0x17b)])this['setGeometryType'](_0xff8fc[_0xb62f4a(0x17b)]);this[_0xb62f4a(0x169)](),!this['_drawing']&&this[_0xb62f4a(0x17f)]({'type':'drawstart','feature':this[_0xb62f4a(0x170)]()}),this[_0xb62f4a(0x177)]=!![];}[_0x46970b(0x190)](_0x57df33){var _0x2e27db=_0x46970b,_0x336acd=this[_0x2e27db(0x176)]()[_0x2e27db(0x185)]()[0x2][_0x2e27db(0x15e)](),_0x2e6315=!!_0x336acd;switch(this['getGeometryType']()){case'Circle':case _0x2e27db(0x18e):{_0x2e6315=this['_geom'][_0x2e27db(0x168)]>0x1;break;}case _0x2e27db(0x16e):{_0x2e6315=this['_geom'][_0x2e27db(0x168)]>0x2;break;}}if(_0x57df33&&!_0x2e6315)return![];return this[_0x2e27db(0x166)]=[],this[_0x2e27db(0x18b)]=null,this[_0x2e27db(0x169)](),this['_drawing']&&this[_0x2e27db(0x17f)]({'type':_0x2e27db(0x183),'valid':_0x2e6315,'feature':_0x336acd}),this[_0x2e27db(0x177)]=![],_0x336acd;}[_0x46970b(0x16b)](){var _0x2be419=_0x46970b;this[_0x2be419(0x177)]&&this[_0x2be419(0x17f)]({'type':_0x2be419(0x187),'feature':this[_0x2be419(0x170)]()}),this['_drawing']=![],this[_0x2be419(0x166)]=[],this[_0x2be419(0x18b)]=null,this['drawSketch']();}[_0x46970b(0x172)](_0x1b38ee){var _0x23306f=_0x46970b;this[_0x23306f(0x17d)]=_0x1b38ee,this[_0x23306f(0x181)]();}[_0x46970b(0x162)](){var _0xc40ff6=_0x46970b;return this[_0xc40ff6(0x17d)];}[_0x46970b(0x181)](){var _0x320c50=_0x46970b,_0x583e5e=this['getSource']()['getFeatures']();if(this[_0x320c50(0x17d)]){this['_lastCoord']&&this[_0x320c50(0x18b)]===this[_0x320c50(0x17d)]?_0x583e5e[0x0]['getGeometry']()[_0x320c50(0x178)]([]):_0x583e5e[0x0][_0x320c50(0x164)]()[_0x320c50(0x178)](this[_0x320c50(0x17d)]);if(this['_geom']['length']){if(this[_0x320c50(0x182)]()==='Circle')_0x583e5e[0x1]['setGeometry'](new _0x98eba2(this[_0x320c50(0x166)][0x0],cme_coordinate_dist2d(this[_0x320c50(0x166)][0x0],this[_0x320c50(0x17d)])));else this[_0x320c50(0x182)]()==='Polygon'?_0x583e5e[0x1][_0x320c50(0x18d)](new _0x5b7790([this[_0x320c50(0x18b)],this[_0x320c50(0x17d)],this['_geom'][0x0]])):_0x583e5e[0x1]['setGeometry'](new _0x5b7790([this[_0x320c50(0x18b)],this[_0x320c50(0x17d)]]));}else _0x583e5e[0x1][_0x320c50(0x18d)](new _0x5b7790([]));}else _0x583e5e[0x0][_0x320c50(0x164)]()[_0x320c50(0x178)]([]),_0x583e5e[0x1][_0x320c50(0x18d)](new _0x5b7790([]));}[_0x46970b(0x170)](){var _0x1e3ca2=_0x46970b;return this[_0x1e3ca2(0x176)]()[_0x1e3ca2(0x185)]()[0x2];}[_0x46970b(0x169)](){var _0x60a0e8=_0x46970b;this[_0x60a0e8(0x181)]();var _0x432602=this[_0x60a0e8(0x176)]()['getFeatures']();if(!this[_0x60a0e8(0x166)][_0x60a0e8(0x168)])_0x432602[0x2][_0x60a0e8(0x18d)](null),_0x432602[0x3]['setGeometry'](new _0x2339f5([]));else{if(!this[_0x60a0e8(0x18b)])this[_0x60a0e8(0x18b)]=this[_0x60a0e8(0x166)][this['_geom'][_0x60a0e8(0x168)]-0x1];_0x432602[0x3][_0x60a0e8(0x164)]()['setCoordinates'](this[_0x60a0e8(0x18b)]);switch(this['_type']){case _0x60a0e8(0x184):{_0x432602[0x2]['setGeometry'](new _0x2339f5(this[_0x60a0e8(0x18b)]));break;}case _0x60a0e8(0x15d):{!_0x432602[0x2][_0x60a0e8(0x164)]()?_0x432602[0x2][_0x60a0e8(0x18d)](new _0x98eba2(this[_0x60a0e8(0x166)][0x0],cme_coordinate_dist2d(this[_0x60a0e8(0x166)][0x0],this[_0x60a0e8(0x166)][this['_geom'][_0x60a0e8(0x168)]-0x1]))):_0x432602[0x2]['getGeometry']()[_0x60a0e8(0x18f)](cme_coordinate_dist2d(this[_0x60a0e8(0x166)][0x0],this[_0x60a0e8(0x166)][this[_0x60a0e8(0x166)][_0x60a0e8(0x168)]-0x1]));break;}case _0x60a0e8(0x18e):{!_0x432602[0x2][_0x60a0e8(0x164)]()?_0x432602[0x2][_0x60a0e8(0x18d)](new _0x5b7790(this[_0x60a0e8(0x166)])):_0x432602[0x2][_0x60a0e8(0x164)]()[_0x60a0e8(0x178)](this[_0x60a0e8(0x166)]);break;}case _0x60a0e8(0x16e):{this[_0x60a0e8(0x166)][_0x60a0e8(0x163)](this['_geom'][0x0]);!_0x432602[0x2]['getGeometry']()?_0x432602[0x2]['setGeometry'](new _0x10de64([this[_0x60a0e8(0x166)]])):_0x432602[0x2][_0x60a0e8(0x164)]()[_0x60a0e8(0x178)]([this['_geom']]);this[_0x60a0e8(0x166)][_0x60a0e8(0x167)]();break;}default:{console['error'](_0x60a0e8(0x15f)+this[_0x60a0e8(0x17e)]+')');break;}}}}};export default cme_layer_SketchOverlay;