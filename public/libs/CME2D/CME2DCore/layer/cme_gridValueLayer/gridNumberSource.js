const _0x1ef22f=_0x5927;function _0x5927(_0x4dabd3,_0x1e3cb9){const _0x39ccf9=_0x39cc();return _0x5927=function(_0x592724,_0x4c71e9){_0x592724=_0x592724-0x163;let _0x4127a1=_0x39ccf9[_0x592724];return _0x4127a1;},_0x5927(_0x4dabd3,_0x1e3cb9);}(function(_0x4c4fb8,_0x54cdb9){const _0x52d9ea=_0x5927,_0x3fed9d=_0x4c4fb8();while(!![]){try{const _0x5274ee=parseInt(_0x52d9ea(0x18e))/0x1+-parseInt(_0x52d9ea(0x176))/0x2*(parseInt(_0x52d9ea(0x18f))/0x3)+parseInt(_0x52d9ea(0x166))/0x4*(parseInt(_0x52d9ea(0x194))/0x5)+parseInt(_0x52d9ea(0x169))/0x6*(-parseInt(_0x52d9ea(0x190))/0x7)+parseInt(_0x52d9ea(0x175))/0x8+parseInt(_0x52d9ea(0x16b))/0x9+-parseInt(_0x52d9ea(0x17c))/0xa;if(_0x5274ee===_0x54cdb9)break;else _0x3fed9d['push'](_0x3fed9d['shift']());}catch(_0x4d31f1){_0x3fed9d['push'](_0x3fed9d['shift']());}}}(_0x39cc,0x73ca7));import _0x3f3341 from'../../../source/ImageCanvas.js';import{getCanvasExtent,getGridPoints,mergeObject}from'./../cme_gridArrowLayer/gridHelper.js';import{transformExtent}from'../../../proj.js';import{getWindSpeedAndDirection}from'../common/commonLayerUnit.js';function _0x39cc(){const _0x14a528=['bandsNumber','color','width','includes','strokeText','map','InitWebGLFunctionSingle','proj','getData','getResolutions','canvas','lineWidth','#00000000','822690dkiXLU','99657YjkavU','7bLZKvN','getMetaDatas','ceil','getSource','33595hwXxTZ','#fff','14px\x20Calibri,sans-serif','getContext','center','getProperties','strokeStyle','min','212ZaXnIj','stroke','scale','428970iVQlMO','extent','5747607YrMeTg','height','#ffffff','projection','assign','getView','slice','getCode','options','textAlign','5114488LEuSam','6mlOcmd','fillRect','font','textStyle','length','max','18113000xGblTA','offsetNumber','fill','padding','setOptions'];_0x39cc=function(){return _0x14a528;};return _0x39cc();}class gridNumberSource{constructor(_0x495860){const _0x5b7bb0=_0x5927;this[_0x5b7bb0(0x173)]=null,this[_0x5b7bb0(0x186)]=_0x495860,this['padding']=0xa,this[_0x5b7bb0(0x18b)]=document['createElement'](_0x5b7bb0(0x18b));}[_0x1ef22f(0x187)](_0x88bf19){const _0x5c9430=_0x1ef22f;this['options']=_0x88bf19;const _0x335b0e=['â„ƒ','C'];function _0x4fd12b(_0x29e039,_0x328326){const _0x1fe03d=_0x5927;return _0x29e039>=_0x328326[_0x1fe03d(0x165)]&&_0x29e039<=_0x328326[_0x1fe03d(0x17b)];}const _0x2db4e1=new _0x3f3341({'ratio':0x1,'projection':this[_0x5c9430(0x186)][_0x5c9430(0x170)]()['getProjection']()[_0x5c9430(0x172)](),'canvasFunction':(_0x4111c0,_0x455989,_0x2dd4d2,_0x376327,_0x3e63f0)=>{const _0x43c7f1=_0x5c9430,_0x48afdc=this['options'],{distanceArrow:_0x5b3acf,fixedPixel:_0x37ef3a,layer:_0x1b6468,showTextRange:_0x3417c3,precision:_0x2a8ef6}=_0x48afdc,_0xe583c0=_0x2a8ef6||0x1,_0x59f318=_0x1b6468['style_'],_0x5d2fdc=_0x1b6468[_0x43c7f1(0x193)](),_0x5b2eff=_0x5d2fdc[_0x43c7f1(0x18a)](),_0x210132=_0x5b2eff[_0x43c7f1(0x171)](-0x1)[0x0];let _0x4b600c=0x0;if(_0x5d2fdc[_0x43c7f1(0x191)]){const {bandCount:_0x993fbb}=_0x5d2fdc[_0x43c7f1(0x191)]();_0x4b600c=_0x993fbb;}else _0x4b600c=_0x59f318[_0x43c7f1(0x181)]||0x0;const _0x1ca86c=Object[_0x43c7f1(0x16f)]({'min':-0x270f,'max':0x270f},_0x3417c3);var _0x35f93d=this['canvas'];_0x35f93d[_0x43c7f1(0x183)]=_0x376327[0x0],_0x35f93d[_0x43c7f1(0x16c)]=_0x376327[0x1];var _0x273c60=_0x35f93d[_0x43c7f1(0x197)]('2d');_0x273c60[_0x43c7f1(0x168)](_0x2dd4d2,_0x2dd4d2);let _0x285d2d={'font':_0x43c7f1(0x196),'fill':{'color':'#000'},'stroke':{'color':_0x43c7f1(0x195),'width':0x4}};_0x48afdc[_0x43c7f1(0x179)]&&mergeObject(_0x285d2d,_0x48afdc[_0x43c7f1(0x179)]);_0x273c60['fillStyle']=_0x43c7f1(0x18d),_0x273c60[_0x43c7f1(0x177)](0x0,0x0,_0x376327[0x0],_0x376327[0x1]),_0x273c60['fillStyle']=_0x285d2d['fill']?.[_0x43c7f1(0x182)]||'#000000ff';_0x285d2d['stroke']&&(_0x273c60[_0x43c7f1(0x164)]=_0x285d2d[_0x43c7f1(0x167)][_0x43c7f1(0x164)]||_0x43c7f1(0x16d),_0x273c60[_0x43c7f1(0x18c)]=_0x285d2d['stroke'][_0x43c7f1(0x18c)]||0x1);_0x273c60[_0x43c7f1(0x178)]=_0x285d2d[_0x43c7f1(0x178)],_0x273c60[_0x43c7f1(0x174)]=_0x43c7f1(0x198);let _0x214c0c=_0x3e63f0[_0x43c7f1(0x172)](),_0x493da9=_0x1b6468[_0x43c7f1(0x163)]()[_0x43c7f1(0x188)],_0x5a4a29=_0x493da9[_0x43c7f1(0x16e)],_0x30c900=_0x493da9[_0x43c7f1(0x17d)]||0x0,_0x5589c3=_0x493da9['unit'];var _0x417cf6=_0x493da9[_0x43c7f1(0x16a)];_0x5a4a29!=_0x214c0c&&(_0x417cf6=transformExtent(_0x493da9[_0x43c7f1(0x16a)],_0x5a4a29,_0x214c0c));let _0x5c5516=+_0x5b3acf||0x50;_0x37ef3a&&(_0x5c5516=Math[_0x43c7f1(0x17b)](_0x210132/_0x455989,_0x5c5516));this[_0x43c7f1(0x17f)]=Math[_0x43c7f1(0x192)](_0x5c5516/0x5);const _0x594933=getCanvasExtent(this[_0x43c7f1(0x186)],_0x4111c0),_0x4d1de2=getCanvasExtent(this[_0x43c7f1(0x186)],_0x417cf6,this[_0x43c7f1(0x17f)]),_0xaef170=getGridPoints(_0x4d1de2,_0x5c5516,_0x594933,this[_0x43c7f1(0x17f)]),{scala:_0x37d70b,scale:_0x1bceb6,offset:_0x2398b0}=_0x59f318,_0x4d559f=_0x1bceb6||_0x37d70b;for(let _0x43ad88=0x0;_0x43ad88<_0xaef170['length'];_0x43ad88++){let _0x1da40d=_0x1b6468[_0x43c7f1(0x189)](_0xaef170[_0x43ad88]);if(!(_0x1da40d&&_0x1da40d[_0x43c7f1(0x17a)]))continue;let _0x39cb99=(_0x1da40d[0x0]-_0x2398b0)/_0x4d559f;if(_0x4b600c>=0x2){let _0x4df4e4=getWindSpeedAndDirection(_0x39cb99,(_0x1da40d[0x1]-_0x2398b0)/_0x4d559f);_0x39cb99=_0x4df4e4['speed'];}else _0x335b0e[_0x43c7f1(0x184)](_0x5589c3)&&(_0x39cb99-=273.15);if(!_0x4fd12b(_0x39cb99,_0x1ca86c))continue;_0x39cb99=_0x39cb99['toFixed'](_0xe583c0);let _0x49a378=_0xaef170[_0x43ad88][0x0]-_0x30c900,_0x5cecbc=_0xaef170[_0x43ad88][0x1]-_0x30c900;_0x285d2d['stroke']&&_0x273c60[_0x43c7f1(0x185)](_0x39cb99,_0x49a378,_0x5cecbc),_0x273c60['fillText'](_0x39cb99,_0x49a378,_0x5cecbc),_0x273c60[_0x43c7f1(0x17e)]();}return _0x35f93d;}});return _0x2db4e1;}[_0x1ef22f(0x180)](_0x3d5aad){const _0x226648=_0x1ef22f;this[_0x226648(0x173)]=_0x3d5aad;}}export{gridNumberSource};