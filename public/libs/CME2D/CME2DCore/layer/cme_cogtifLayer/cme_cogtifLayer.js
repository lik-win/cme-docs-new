const _0x356a66=_0x2e7c;(function(_0x4b93b3,_0x147110){const _0xe1db29=_0x2e7c,_0x384990=_0x4b93b3();while(!![]){try{const _0x4b1212=-parseInt(_0xe1db29(0xb9))/0x1*(parseInt(_0xe1db29(0xcc))/0x2)+-parseInt(_0xe1db29(0x93))/0x3*(-parseInt(_0xe1db29(0x96))/0x4)+parseInt(_0xe1db29(0xcb))/0x5*(parseInt(_0xe1db29(0xb3))/0x6)+parseInt(_0xe1db29(0xb0))/0x7*(-parseInt(_0xe1db29(0x9a))/0x8)+parseInt(_0xe1db29(0x8b))/0x9*(-parseInt(_0xe1db29(0xc6))/0xa)+-parseInt(_0xe1db29(0xb7))/0xb+parseInt(_0xe1db29(0xbe))/0xc;if(_0x4b1212===_0x147110)break;else _0x384990['push'](_0x384990['shift']());}catch(_0x37090c){_0x384990['push'](_0x384990['shift']());}}}(_0x34a3,0x2102f));function _0x2e7c(_0x43a8d0,_0x4a529b){const _0x34a37d=_0x34a3();return _0x2e7c=function(_0x2e7ce7,_0x38dacf){_0x2e7ce7=_0x2e7ce7-0x88;let _0xc69d18=_0x34a37d[_0x2e7ce7];return _0xc69d18;},_0x2e7c(_0x43a8d0,_0x4a529b);}function _0x34a3(){const _0x4900c0=['change','1249589esIshP','log','232123FExfud','hasOwnProperty','rendercomplete','style','dispose','8715636VigZQn','EPSG:4326','setZIndex','stringify','getSource','图层更新source加载完成','bounds','color','466370NBNGhg','CustomStyle','unshift','_setSourceMap','getStyleOpactiy','16370XXiwXB','2fFIqNj','setSource','orignColor','_getWorldCogtif','_remove','postrender','layerName','proj','scale','临时图层加载成功-----','opacity','getView','_render','45YtZTKL','options','addLayer','length','projection','set','layerExit','computedNewExtent','3rfagKM','getCode','sources','175024YkFsyj','that.cogtifLayer.getProperties()','getSourceProperties','getLayers','8cfovuM','图层不用加载了','style_','getProperties','_setStyle','sourceready','setProperties','cogtifLayer','extent','scala','parse','临时图层-----','setOpacity','values','Greater','then','00000000','values_','postcompose','once','push','assign','1743721AMYQXT','interpolate','_setSource','354DzHkdK','tempLayer','source'];_0x34a3=function(){return _0x4900c0;};return _0x34a3();}import _0x229758 from'../../../source/GeoTIFF.js';import _0xf84fd from'../../../layer/WebGLTile.js';import{getLayerStyle,getUpdateLayerStyle,mergeObjects}from'../common/commonLayerUnit.js';import{getCofTifData}from'./cogtifWorld.js';import _0xa971f8 from'./cogtifLayer/cogtifLayer.js';var cme_cogtifLayer=class cogtifLayerClass extends _0xf84fd{constructor(_0x343869){const _0xa305d1=_0x2e7c;let _0x5ce375=JSON[_0xa305d1(0xa4)](JSON[_0xa305d1(0xc1)](_0x343869));if(_0x343869[_0xa305d1(0xa8)]){if(_0x343869['Greater'][0x0]==0x0){let _0x4ae1ee=_0x5ce375[_0xa305d1(0xbc)]['color'][0x0][0x0];_0x4ae1ee=_0x4ae1ee-0.1,_0x5ce375[_0xa305d1(0xbc)][_0xa305d1(0xc5)][_0xa305d1(0xc8)]([_0x4ae1ee,[0x0,0x0,0x0,0x0]]),_0x5ce375[_0xa305d1(0xbc)]['color'][_0xa305d1(0xc8)]([-0x270f,[0x0,0x0,0x0,0x0]]);}if(_0x343869[_0xa305d1(0xa8)][0x1]==0x0){let _0x5ca0f1=_0x5ce375['style'][_0xa305d1(0xc5)][_0x5ce375[_0xa305d1(0xbc)]['color']['length']-0x1][0x0];_0x5ca0f1=_0x5ca0f1+0.1,_0x5ce375[_0xa305d1(0xbc)]['color'][_0xa305d1(0xae)]([_0x5ca0f1,[0x0,0x0,0x0,0x0]]);}}_0x5ce375[_0xa305d1(0xbc)]&&(_0x5ce375[_0xa305d1(0xbc)][_0xa305d1(0xc5)]?_0x5ce375['orignColor']=JSON[_0xa305d1(0xa4)](JSON[_0xa305d1(0xc1)](_0x5ce375['style'][_0xa305d1(0xc5)])):_0x5ce375[_0xa305d1(0xce)]={});_0x5ce375['style'][_0xa305d1(0xc5)]['length']!=0x0?(_0x5ce375[_0xa305d1(0xc7)]=_0x5ce375[_0xa305d1(0xbc)],_0x5ce375=getLayerStyle(_0x5ce375)):_0x5ce375['style']={};let _0x539b03=JSON[_0xa305d1(0xa4)](JSON['stringify'](_0x5ce375));_0x5ce375[_0xa305d1(0xb5)]?(_0x5ce375[_0xa305d1(0xb5)]=new _0x229758(_0x5ce375[_0xa305d1(0xb5)]),_0x5ce375[_0xa305d1(0xb5)][_0xa305d1(0xab)]=_0x539b03[_0xa305d1(0xb5)]):_0x5ce375['source']=new _0x229758(),super(_0x5ce375),this[_0xa305d1(0x8c)]=_0x5ce375,this[_0xa305d1(0xa0)](_0x5ce375),this[_0xa305d1(0xa1)]=new _0xa971f8(_0x343869),this[_0xa305d1(0xa1)][_0xa305d1(0xa0)]({'layerName':_0xa305d1(0xb4)}),this[_0xa305d1(0xa1)][_0xa305d1(0x90)](_0xa305d1(0xd2),_0xa305d1(0xb4));}[_0x356a66(0x8a)](_0x45b440){const _0x25db61=_0x356a66;let _0x3eba6c=this;return this[_0x25db61(0x8c)]=JSON['parse'](JSON['stringify'](_0x45b440)),getCofTifData(this[_0x25db61(0x8c)][_0x25db61(0xb5)]['sources'][0x0]['url'])[_0x25db61(0xa9)](_0x590f36=>{const _0x15bae1=_0x25db61;let _0x11bfa1=_0x590f36[_0x15bae1(0xd4)],_0x393e48={'extent':_0x590f36[_0x15bae1(0xc4)],'projection':_0x590f36[_0x15bae1(0xd3)]};return _0x3eba6c[_0x15bae1(0xa0)]({'proj':_0x393e48}),new Promise(_0x5a2107=>{const _0x13a57f=_0x15bae1;_0x45b440['style'][_0x13a57f(0xc5)][_0x13a57f(0x8e)]!=0x0?(_0x45b440['style'][_0x13a57f(0xa3)]=_0x11bfa1,_0x45b440['CustomStyle']=_0x45b440[_0x13a57f(0xbc)],_0x45b440=getLayerStyle(_0x45b440)):_0x45b440[_0x13a57f(0xbc)]={};let _0x383c39=JSON['parse'](JSON[_0x13a57f(0xc1)](_0x45b440));_0x45b440[_0x13a57f(0xb5)]?(_0x45b440[_0x13a57f(0xb5)]=new _0x229758(_0x45b440[_0x13a57f(0xb5)]),_0x45b440[_0x13a57f(0xb5)][_0x13a57f(0xab)]=_0x383c39['source']):_0x45b440[_0x13a57f(0xb5)]=new _0x229758(),_0x3eba6c[_0x13a57f(0xa0)](_0x45b440),_0x3eba6c[_0x13a57f(0xad)](_0x13a57f(0x9f),function(_0x46f72b){const _0x46c92a=_0x13a57f;_0x3eba6c[_0x46c92a(0xad)](_0x46c92a(0xd1),function(_0x314e5b){_0x5a2107(!![]);});}),_0x3eba6c[_0x13a57f(0xcd)](_0x45b440[_0x13a57f(0xb5)]);});});}[_0x356a66(0xb2)](_0x1c04cc){const _0x34b953=_0x356a66;let _0x1e05c7=JSON[_0x34b953(0xa4)](JSON[_0x34b953(0xc1)](_0x1c04cc)),_0x5829c8=this;if(_0x1e05c7[_0x34b953(0xb5)]==null)return new Promise(_0x21e541=>{_0x21e541(!![]);});return new Promise(_0x52f6e8=>{const _0x11f15c=_0x34b953;_0x1e05c7[_0x11f15c(0xb5)]?_0x1e05c7[_0x11f15c(0xb5)]=new _0x229758(_0x1e05c7[_0x11f15c(0xb5)]):_0x1e05c7[_0x11f15c(0xb5)]=new _0x229758(),_0x1e05c7['source'][_0x11f15c(0x89)]()[_0x11f15c(0xa9)](_0x4ffe95=>{const _0x565087=_0x11f15c;let _0x533377=_0x565087(0xbf);_0x4ffe95[_0x565087(0x8f)]&&(_0x533377=_0x4ffe95[_0x565087(0x8f)][_0x565087(0x94)]());let _0x2dbb16={'extent':_0x4ffe95[_0x565087(0xa2)],'projection':_0x533377};_0x5829c8[_0x565087(0xa0)]({'proj':_0x2dbb16}),_0x5829c8[_0x565087(0xad)](_0x565087(0x9f),function(_0x4529bb){_0x52f6e8(!![]);}),_0x5829c8[_0x565087(0xcd)](_0x1e05c7[_0x565087(0xb5)]);});});}[_0x356a66(0xc9)](_0x5c55fa,_0x453167){const _0x45323f=_0x356a66;let _0x8d3281=JSON['parse'](JSON[_0x45323f(0xc1)](_0x453167)),_0x471412=this;if(_0x8d3281[_0x45323f(0xb5)]==null)return new Promise(_0x5cde70=>{_0x5cde70(!![]);});return new Promise(_0x7af7ca=>{const _0x26eaa7=_0x45323f;_0x8d3281['source']?_0x8d3281[_0x26eaa7(0xb5)]=new _0x229758(_0x8d3281['source']):_0x8d3281['source']=new _0x229758(),_0x8d3281[_0x26eaa7(0xb5)]['getView']()[_0x26eaa7(0xa9)](_0x9d5a28=>{const _0xe70558=_0x26eaa7;let _0x4772c1=_0xe70558(0xbf);_0x9d5a28[_0xe70558(0x8f)]&&(_0x4772c1=_0x9d5a28[_0xe70558(0x8f)]['getCode']());let _0x5e1e29={'extent':_0x9d5a28['extent'],'projection':_0x4772c1};_0x471412[_0xe70558(0xa0)]({'proj':_0x5e1e29}),_0x471412[_0xe70558(0xad)](_0xe70558(0x9f),function(_0x4e9374){const _0x7212e2=_0xe70558;_0x471412[_0x7212e2(0xad)](_0x7212e2(0xac),function(_0x3834c2){const _0x343d0c=_0x7212e2;_0x5c55fa[_0x343d0c(0xad)]('rendercomplete',function(){const _0x3ea20b=_0x343d0c;console[_0x3ea20b(0xb8)](_0x3ea20b(0xc3)),_0x7af7ca(!![]);});});}),_0x471412[_0xe70558(0xcd)](_0x8d3281[_0xe70558(0xb5)]);});});}['setTempLayer'](_0x5758ba){let _0x462008=this;return new Promise(_0x5bdc5d=>{const _0x3924b8=_0x2e7c;if(!_0x462008[_0x3924b8(0x91)]){_0x462008['layerExit']=!![],_0x5758ba[_0x3924b8(0x8d)](_0x462008[_0x3924b8(0xa1)]);let _0x219517=_0x462008['getSource']();_0x462008[_0x3924b8(0xa1)][_0x3924b8(0xcd)](_0x219517),_0x462008[_0x3924b8(0xa1)][_0x3924b8(0xad)](_0x3924b8(0x9f),function(_0x213ab2){const _0x56b980=_0x3924b8;_0x5758ba[_0x56b980(0xad)](_0x56b980(0xbb),function(){const _0x2c6fa8=_0x56b980;console[_0x2c6fa8(0xb8)](_0x2c6fa8(0xd5)),_0x5bdc5d(!![]);});});}else{let _0x5cd266=_0x462008[_0x3924b8(0xc2)]();_0x462008[_0x3924b8(0xa1)][_0x3924b8(0xcd)](_0x5cd266),_0x462008['cogtifLayer'][_0x3924b8(0xad)](_0x3924b8(0x9f),function(_0x14e1f9){const _0x4e3e89=_0x3924b8;_0x5758ba[_0x4e3e89(0xad)](_0x4e3e89(0xbb),function(){_0x5bdc5d(!![]);});});}});}['setTempLayerOpacity'](){let _0x18d414=this;return new Promise(_0x4cd7f8=>{const _0x4bd9e0=_0x2e7c;_0x18d414[_0x4bd9e0(0xa1)][_0x4bd9e0(0xad)](_0x4bd9e0(0xac),function(_0x28f20f){const _0x2fad13=_0x4bd9e0;console[_0x2fad13(0xb8)]('设置临时图层的透明度'),_0x4cd7f8(!![]);}),_0x18d414[_0x4bd9e0(0xa1)]['setProperties'](_0x18d414[_0x4bd9e0(0x9d)]()),console[_0x4bd9e0(0xb8)](_0x4bd9e0(0x97)),console[_0x4bd9e0(0xb8)](_0x18d414[_0x4bd9e0(0xa1)][_0x4bd9e0(0x9d)]()),_0x18d414[_0x4bd9e0(0xa1)][_0x4bd9e0(0x9d)]()[_0x4bd9e0(0x88)]?_0x18d414[_0x4bd9e0(0xa1)][_0x4bd9e0(0xa6)](_0x18d414['cogtifLayer'][_0x4bd9e0(0x9d)]()[_0x4bd9e0(0x88)]):_0x18d414[_0x4bd9e0(0xa1)][_0x4bd9e0(0xa6)](0x1);});}['_setTempLayerToMap'](_0x1a57d5){let _0x2e5f40=this;return new Promise(_0x118c32=>{const _0x2bb62a=_0x2e7c;if(!_0x2e5f40[_0x2bb62a(0x91)]){_0x2e5f40[_0x2bb62a(0x91)]=!![],_0x1a57d5['addLayer'](_0x2e5f40['cogtifLayer']);var _0x342356=_0x1a57d5[_0x2bb62a(0x99)]();let _0x46518c=_0x342356['getLength']()-0x1,_0x41a554=_0x2e5f40[_0x2bb62a(0xc2)]();_0x2e5f40[_0x2bb62a(0xa1)][_0x2bb62a(0xcd)](_0x41a554),_0x2e5f40[_0x2bb62a(0xa1)][_0x2bb62a(0xad)](_0x2bb62a(0xac),function(_0x43322e){_0x1a57d5['once']('rendercomplete',function(){const _0x51fc0f=_0x2e7c;console['log'](_0x51fc0f(0xa5)),_0x2e5f40[_0x51fc0f(0xa1)][_0x51fc0f(0xc0)](-0xa),_0x118c32(!![]);});});}else console[_0x2bb62a(0xb8)](_0x2bb62a(0xaa)),console[_0x2bb62a(0xb8)](_0x2bb62a(0x9b)),_0x118c32(!![]);});}[_0x356a66(0x9e)](_0xc54b2){let _0x1234a4=this;return new Promise(_0x5ad424=>{const _0x3ec4a4=_0x2e7c;_0xc54b2['Greater']&&(_0xc54b2[_0x3ec4a4(0xbc)]=this[_0x3ec4a4(0xca)](_0xc54b2[_0x3ec4a4(0xa8)],_0xc54b2[_0x3ec4a4(0xbc)]));_0xc54b2['style']?_0xc54b2['style'][_0x3ec4a4(0xc5)]?this['options']['orignColor']=_0xc54b2[_0x3ec4a4(0xbc)]['color']:_0xc54b2[_0x3ec4a4(0xbc)]['color']=JSON[_0x3ec4a4(0xa4)](JSON[_0x3ec4a4(0xc1)](this['options'][_0x3ec4a4(0xce)])):_0xc54b2['style'][_0x3ec4a4(0xc5)]=JSON['parse'](JSON[_0x3ec4a4(0xc1)](this[_0x3ec4a4(0x8c)][_0x3ec4a4(0xce)]));if(_0xc54b2[_0x3ec4a4(0xb5)]){if(_0x3ec4a4(0xb1)in _0xc54b2['source']){if(this[_0x3ec4a4(0xc2)]()[_0x3ec4a4(0x9d)]()['interpolate']!=_0xc54b2[_0x3ec4a4(0xb5)][_0x3ec4a4(0xb1)]){this[_0x3ec4a4(0xc2)]()[_0x3ec4a4(0x90)]('interpolate',_0xc54b2[_0x3ec4a4(0xb5)][_0x3ec4a4(0xb1)]);let _0x4fd29a=JSON[_0x3ec4a4(0xa4)](JSON[_0x3ec4a4(0xc1)](this['getSource']()['getProperties']()));this['setSource'](new _0x229758(this[_0x3ec4a4(0xc2)]()[_0x3ec4a4(0x9d)]())),this[_0x3ec4a4(0xc2)]()[_0x3ec4a4(0xa0)](_0x4fd29a);}}}this['options']=mergeObjects(this[_0x3ec4a4(0x8c)],_0xc54b2),this[_0x3ec4a4(0x8c)]['CustomStyle']=this['options'][_0x3ec4a4(0xbc)],this[_0x3ec4a4(0x8c)][_0x3ec4a4(0xbc)][_0x3ec4a4(0xc5)]=Object[_0x3ec4a4(0xa7)](this[_0x3ec4a4(0x8c)][_0x3ec4a4(0xbc)][_0x3ec4a4(0xc5)]),this[_0x3ec4a4(0x8c)]=getLayerStyle(this[_0x3ec4a4(0x8c)]),this[_0x3ec4a4(0x9c)]=this[_0x3ec4a4(0x8c)][_0x3ec4a4(0xbc)],_0x1234a4['getSource']()['on'](_0x3ec4a4(0xb6),function(_0x4604b0){}),_0x1234a4[_0x3ec4a4(0xad)](_0x3ec4a4(0xb6),function(_0x32dda5){const _0x544339=_0x3ec4a4;if(_0x1234a4[_0x544339(0x9d)]()[_0x544339(0xc7)]){let _0x1e483a=Object[_0x544339(0xaf)]({},_0x1234a4[_0x544339(0x9d)]()[_0x544339(0xc7)],_0xc54b2[_0x544339(0xbc)]);_0x1234a4[_0x544339(0x90)]('CustomStyle',_0x1e483a);}else _0x1234a4[_0x544339(0x90)](_0x544339(0xc7),_0xc54b2['style']);_0x5ad424(!![]);}),this['setStyle'](this[_0x3ec4a4(0x9c)]),this['setProperties']('style',this[_0x3ec4a4(0x9c)]),this['setProperties'](_0x3ec4a4(0xce),this[_0x3ec4a4(0x8c)]['orignColor']);});}[_0x356a66(0xca)](_0x39763e,_0x23740e){const _0xb7667=_0x356a66;let _0x22d792=JSON[_0xb7667(0xa4)](JSON[_0xb7667(0xc1)](_0x23740e));if(_0x39763e){if(_0x39763e[0x0]==0x0){let _0xa7d28a=_0x22d792[_0xb7667(0xc5)][0x0][0x0];_0xa7d28a=_0xa7d28a-0.1,_0x22d792[_0xb7667(0xc5)][_0xb7667(0xc8)]([_0xa7d28a,[0x0,0x0,0x0,0x0]]),_0x22d792['color']['unshift']([-0x270f,[0x0,0x0,0x0,0x0]]);}if(_0x39763e[0x1]==0x0){let _0x588957=_0x22d792['color'][_0x22d792[_0xb7667(0xc5)][_0xb7667(0x8e)]-0x1][0x0];_0x588957=_0x588957+0.1,_0x22d792[_0xb7667(0xc5)]['push']([_0x588957,[0x0,0x0,0x0,0x0]]);}}return _0x22d792;}[_0x356a66(0xd0)](){const _0x2853ad=_0x356a66;this[_0x2853ad(0xbd)]();}[_0x356a66(0xcf)](){}[_0x356a66(0x92)](_0x1de836,_0x38737f){let _0x557c1b=_0x1de836[0x0]+0x168*_0x38737f,_0x3b0b95=_0x1de836[0x2]+0x168*_0x38737f;return[_0x557c1b,_0x1de836[0x1],_0x3b0b95,_0x1de836[0x3]];}[_0x356a66(0x98)](_0x2700c){const _0x10aa7d=_0x356a66;let _0x434d55=this['options'][_0x10aa7d(0xb5)][_0x10aa7d(0xab)];for(let _0x3e94c9 in _0x434d55){if(_0x434d55[_0x10aa7d(0xba)](_0x3e94c9))for(let _0x22948b in _0x2700c[_0x10aa7d(0xb5)]){if(_0x2700c[_0x10aa7d(0xb5)]['hasOwnProperty'](_0x22948b)){if(_0x3e94c9==_0x22948b)_0x434d55[_0x3e94c9]=_0x2700c['source'][_0x22948b];}}}let _0x410360=[];for(let _0x44a2dd in _0x434d55[_0x10aa7d(0x95)]){_0x434d55['sources']['hasOwnProperty'](_0x44a2dd)&&_0x410360[_0x10aa7d(0xae)](_0x434d55[_0x10aa7d(0x95)][_0x44a2dd]);}return _0x434d55[_0x10aa7d(0x95)]=_0x410360,_0x434d55;}};export default cme_cogtifLayer;