var _0x83590d=_0x5228;(function(_0x5bfc76,_0x1a8f2d){var _0x137abe=_0x5228,_0x47e4d2=_0x5bfc76();while(!![]){try{var _0x4b5c53=parseInt(_0x137abe(0x106))/0x1+parseInt(_0x137abe(0x10c))/0x2+parseInt(_0x137abe(0x102))/0x3*(parseInt(_0x137abe(0xfb))/0x4)+parseInt(_0x137abe(0xda))/0x5+parseInt(_0x137abe(0xd9))/0x6+parseInt(_0x137abe(0xfd))/0x7*(-parseInt(_0x137abe(0x115))/0x8)+-parseInt(_0x137abe(0xf5))/0x9*(parseInt(_0x137abe(0x111))/0xa);if(_0x4b5c53===_0x1a8f2d)break;else _0x47e4d2['push'](_0x47e4d2['shift']());}catch(_0xf785b){_0x47e4d2['push'](_0x47e4d2['shift']());}}}(_0x2110,0x39882));function _0x2110(){var _0x24519f=['84484AZOCvo','hanging','8974CLuvHz','stopAnimation','getStyle','getTime','getOffsetX','3gUwSKA','animate','time','match','379582jXjFaM','function','context','clone','setOffsetX','top','117356ATimFt','bind','clip_','alphabetic','precompose','90bZUonZ','setText','getClusterForFeature','vectorContext','1400xvFNgO','push','saveCluster','animation','setOffsetY','clip','frameState','getSource','postrender','bottom','restore','getFont','start','change','sourceChanged','getOffsetY','cos','slice','sin','viewState','920592nzYqma','2239640mhgKLR','test','beginPath','extent','setImage','getFeatures','set','getTextBaseline','10px','clusters','resolution','save','length','postanimate','getFeaturesInExtent','rect','features','setFill','getOpacity','get','oldcluster','getCoordinates','revers','clear','number','animationDuration','forEach','600741eSObiJ','getGeometry','globalAlpha','getText','postcompose','animationMethod'];_0x2110=function(){return _0x24519f;};return _0x2110();}function _0x5228(_0x3d4b64,_0x54e20e){var _0x211051=_0x2110();return _0x5228=function(_0x52281e,_0x257d5e){_0x52281e=_0x52281e-0xc8;var _0xf78ee7=_0x211051[_0x52281e];return _0xf78ee7;},_0x5228(_0x3d4b64,_0x54e20e);}import _0x114055 from'../../layer/Vector.js';import _0x5c608e from'../../source/Vector.js';import _0x56a497 from'../../Feature.js';import{easeOut as _0x2af22f}from'../../easing.js';import{buffer as _0x54b620}from'../../extent.js';import _0x424a0a from'../../geom/Point.js';import _0x2aaced from'../util/getVectorContext.js';import _0x287c14 from'../util/getVectorContextStyle.js';var cme_layer_AnimatedCluster=class ollayerAnimatedCluster extends _0x114055{constructor(_0x2b317a){var _0x4f8658=_0x5228,_0x558799=_0x2b317a||{};super(_0x558799),this[_0x4f8658(0xee)]=new _0x5c608e(),this[_0x4f8658(0xe3)]=[],this[_0x4f8658(0xc8)]={'start':![]},this[_0x4f8658(0xe0)](_0x4f8658(0xf3),typeof _0x558799['animationDuration']==_0x4f8658(0xf2)?_0x558799[_0x4f8658(0xf3)]:0x2bc),this[_0x4f8658(0xe0)]('animationMethod',_0x558799[_0x4f8658(0xfa)]||_0x2af22f),this['getSource']()['on'](_0x4f8658(0xd2),this[_0x4f8658(0x117)][_0x4f8658(0x10d)](this)),this['on']([_0x4f8658(0x110),'prerender'],this[_0x4f8658(0x103)][_0x4f8658(0x10d)](this)),this['on']([_0x4f8658(0xf9),_0x4f8658(0xcd)],this[_0x4f8658(0xe7)][_0x4f8658(0x10d)](this));}[_0x83590d(0x117)](){var _0x8a1c95=_0x83590d;if(this['oldcluster']){this[_0x8a1c95(0xee)][_0x8a1c95(0xf1)]();if(!this['get'](_0x8a1c95(0xf3)))return;var _0x5dd78c=this[_0x8a1c95(0xcc)]()[_0x8a1c95(0xdf)]();_0x5dd78c[_0x8a1c95(0xe6)]&&_0x5dd78c[0x0]['get'](_0x8a1c95(0xea))&&(this[_0x8a1c95(0xee)]['addFeatures'](this[_0x8a1c95(0xe3)]),this['clusters']=_0x5dd78c[_0x8a1c95(0xd6)](0x0),this[_0x8a1c95(0xd3)]=!![]);}}[_0x83590d(0x113)](_0x3b03a1,_0x5e06ef){var _0x2054d1=_0x83590d;for(var _0x4fe954=0x0,_0x28fbcd;_0x28fbcd=_0x5e06ef[_0x4fe954];_0x4fe954++){var _0x17a759=_0x28fbcd['get'](_0x2054d1(0xea));if(_0x17a759&&_0x17a759[_0x2054d1(0xe6)])for(var _0x4795dd=0x0,_0x4e4bb3;_0x4e4bb3=_0x17a759[_0x4795dd];_0x4795dd++){if(_0x3b03a1===_0x4e4bb3)return _0x28fbcd;}}return![];}[_0x83590d(0xfe)](){var _0x2bc8de=_0x83590d;this[_0x2bc8de(0xc8)][_0x2bc8de(0xd1)]=![],this[_0x2bc8de(0xc8)]['cA']=[],this[_0x2bc8de(0xc8)]['cB']=[];}[_0x83590d(0x103)](_0x14441b){var _0x5b1464=_0x83590d,_0x8e3306=this[_0x5b1464(0xed)](_0x5b1464(0xf3));if(!_0x8e3306)return;var _0x57d733=_0x14441b[_0x5b1464(0xcb)][_0x5b1464(0xd8)][_0x5b1464(0xe4)],_0x18f589,_0x180cea,_0x1d8430=this[_0x5b1464(0xc8)],_0x375383=_0x14441b[_0x5b1464(0xcb)][_0x5b1464(0x104)];if(_0x1d8430[_0x5b1464(0xe4)]!=_0x57d733&&this['sourceChanged']){var _0x535cbb=_0x14441b[_0x5b1464(0xcb)][_0x5b1464(0xdd)];_0x1d8430[_0x5b1464(0xe4)]<_0x57d733?(_0x535cbb=_0x54b620(_0x535cbb,0x64*_0x57d733),_0x1d8430['cA']=this['oldcluster']['getFeaturesInExtent'](_0x535cbb),_0x1d8430['cB']=this['getSource']()[_0x5b1464(0xe8)](_0x535cbb),_0x1d8430[_0x5b1464(0xf0)]=![]):(_0x535cbb=_0x54b620(_0x535cbb,0x64*_0x57d733),_0x1d8430['cA']=this[_0x5b1464(0xcc)]()[_0x5b1464(0xe8)](_0x535cbb),_0x1d8430['cB']=this[_0x5b1464(0xee)]['getFeaturesInExtent'](_0x535cbb),_0x1d8430[_0x5b1464(0xf0)]=!![]);_0x1d8430[_0x5b1464(0xe3)]=[];for(_0x18f589=0x0,_0x180cea;_0x180cea=_0x1d8430['cA'][_0x18f589];_0x18f589++){var _0x46d156=_0x180cea[_0x5b1464(0xed)]('features');if(_0x46d156&&_0x46d156[_0x5b1464(0xe6)]){var _0xb0e6d2=this[_0x5b1464(0x113)](_0x46d156[0x0],_0x1d8430['cB']);if(_0xb0e6d2)_0x1d8430[_0x5b1464(0xe3)][_0x5b1464(0x116)]({'f':_0x180cea,'pt':_0xb0e6d2[_0x5b1464(0xf6)]()[_0x5b1464(0xef)]()});}}_0x1d8430[_0x5b1464(0xe4)]=_0x57d733,this[_0x5b1464(0xd3)]=![];if(!_0x1d8430[_0x5b1464(0xe3)][_0x5b1464(0xe6)]||_0x1d8430['clusters'][_0x5b1464(0xe6)]>0x3e8){this[_0x5b1464(0xfe)]();return;}_0x375383=_0x1d8430[_0x5b1464(0xd1)]=new Date()[_0x5b1464(0x100)]();}if(_0x1d8430['start']){var _0x190ac4=_0x14441b[_0x5b1464(0x114)]||_0x2aaced(_0x14441b),_0x11915a=(_0x375383-_0x1d8430['start'])/_0x8e3306;_0x11915a>0x1&&(this[_0x5b1464(0xfe)](),_0x11915a=0x1);_0x11915a=this['get']('animationMethod')(_0x11915a);var _0x35a566=this[_0x5b1464(0xff)](),_0x3af3b3=typeof _0x35a566==_0x5b1464(0x107)?_0x35a566:_0x35a566['length']?function(){return _0x35a566;}:function(){return[_0x35a566];};_0x14441b[_0x5b1464(0x108)][_0x5b1464(0xe5)](),_0x14441b[_0x5b1464(0x108)][_0x5b1464(0xf7)]=this[_0x5b1464(0xec)]();for(_0x18f589=0x0,_0xb0e6d2;_0xb0e6d2=_0x1d8430[_0x5b1464(0xe3)][_0x18f589];_0x18f589++){var _0x1044f9=_0xb0e6d2['f'][_0x5b1464(0xf6)]()['getCoordinates'](),_0x4b1fd4=_0x1044f9[0x0]-_0xb0e6d2['pt'][0x0],_0x53138d=_0x1044f9[0x1]-_0xb0e6d2['pt'][0x1];_0x1d8430[_0x5b1464(0xf0)]?(_0x1044f9[0x0]=_0xb0e6d2['pt'][0x0]+_0x11915a*_0x4b1fd4,_0x1044f9[0x1]=_0xb0e6d2['pt'][0x1]+_0x11915a*_0x53138d):(_0x1044f9[0x0]=_0x1044f9[0x0]-_0x11915a*_0x4b1fd4,_0x1044f9[0x1]=_0x1044f9[0x1]-_0x11915a*_0x53138d);var _0x15cfed=_0x3af3b3(_0xb0e6d2['f'],_0x57d733,!![]);if(!_0x15cfed[_0x5b1464(0xe6)])_0x15cfed=[_0x15cfed];if(_0xb0e6d2['f'][_0x5b1464(0xed)](_0x5b1464(0xea))['length']===0x1&&!_0x4b1fd4&&!_0x53138d)_0x46d156=_0xb0e6d2['f'][_0x5b1464(0xed)](_0x5b1464(0xea))[0x0];else{var _0x4dc750=new _0x424a0a(_0x1044f9);_0x46d156=new _0x56a497(_0x4dc750);}for(var _0x2ee817=0x0,_0x32e9be;_0x32e9be=_0x15cfed[_0x2ee817];_0x2ee817++){if(_0x32e9be[_0x5b1464(0xf8)]()&&/\n/[_0x5b1464(0xdb)](_0x32e9be[_0x5b1464(0xf8)]()[_0x5b1464(0xf8)]())){var _0x2bfd2a=_0x32e9be[_0x5b1464(0xf8)]()[_0x5b1464(0x101)](),_0x5bc503=_0x32e9be['getText']()[_0x5b1464(0xd4)](),_0x5e5708=_0x32e9be[_0x5b1464(0xf8)]()['getRotation']()||0x0,_0x2b1b20=Number((_0x32e9be[_0x5b1464(0xf8)]()[_0x5b1464(0xd0)]()||_0x5b1464(0xe2))[_0x5b1464(0x105)](/\d+/))*1.2,_0x6d3c3b=_0x32e9be[_0x5b1464(0xf8)]()['getText']()['split']('\x0a'),_0x4dc0ad,_0x51c594=_0x6d3c3b[_0x5b1464(0xe6)]-0x1,_0x599635=_0x32e9be[_0x5b1464(0x109)]();_0x6d3c3b[_0x5b1464(0xf4)](function(_0x3c88f1,_0x5cd3b7){var _0x559661=_0x5b1464;_0x5cd3b7==0x1&&(_0x599635[_0x559661(0xde)](),_0x599635[_0x559661(0xeb)](),_0x599635['setStroke']());switch(_0x32e9be[_0x559661(0xf8)]()[_0x559661(0xe1)]()){case _0x559661(0x10f):case'ideographic':case _0x559661(0xce):{_0x4dc0ad=_0x51c594;break;}case _0x559661(0xfc):case _0x559661(0x10b):{_0x4dc0ad=0x0;break;}default:{_0x4dc0ad=_0x51c594/0x2;break;}}_0x599635['getText']()[_0x559661(0x10a)](_0x2bfd2a-Math[_0x559661(0xd7)](_0x5e5708)*_0x2b1b20*(_0x5cd3b7-_0x4dc0ad)),_0x599635[_0x559661(0xf8)]()[_0x559661(0xc9)](_0x5bc503+Math[_0x559661(0xd5)](_0x5e5708)*_0x2b1b20*(_0x5cd3b7-_0x4dc0ad)),_0x599635['getText']()[_0x559661(0x112)](_0x3c88f1),_0x190ac4['drawFeature'](_0x46d156,_0x287c14(_0x14441b,_0x599635));});}else _0x190ac4['drawFeature'](_0x46d156,_0x287c14(_0x14441b,_0x32e9be));}}_0x14441b[_0x5b1464(0x108)][_0x5b1464(0xcf)](),_0x14441b[_0x5b1464(0xcb)][_0x5b1464(0x103)]=!![],_0x14441b[_0x5b1464(0x108)][_0x5b1464(0xe5)](),_0x14441b['context'][_0x5b1464(0xdc)](),_0x14441b[_0x5b1464(0x108)][_0x5b1464(0xe9)](0x0,0x0,0x0,0x0),_0x14441b[_0x5b1464(0x108)][_0x5b1464(0xca)](),this[_0x5b1464(0x10e)]=!![];}return;}[_0x83590d(0xe7)](_0xb249f3){var _0x1956dd=_0x83590d;this[_0x1956dd(0x10e)]&&(_0xb249f3['context'][_0x1956dd(0xcf)](),this[_0x1956dd(0x10e)]=![]);}};export default cme_layer_AnimatedCluster;