const _0x32220a=_0xcd0b;(function(_0x2563aa,_0x41f0fb){const _0x3f22e3=_0xcd0b,_0x2db881=_0x2563aa();while(!![]){try{const _0x5a6f73=-parseInt(_0x3f22e3(0x9f))/0x1*(parseInt(_0x3f22e3(0x98))/0x2)+-parseInt(_0x3f22e3(0xb8))/0x3*(-parseInt(_0x3f22e3(0x89))/0x4)+-parseInt(_0x3f22e3(0xa7))/0x5+-parseInt(_0x3f22e3(0xab))/0x6+-parseInt(_0x3f22e3(0x91))/0x7+parseInt(_0x3f22e3(0xa1))/0x8*(parseInt(_0x3f22e3(0xb6))/0x9)+parseInt(_0x3f22e3(0xa0))/0xa;if(_0x5a6f73===_0x41f0fb)break;else _0x2db881['push'](_0x2db881['shift']());}catch(_0x1a3648){_0x2db881['push'](_0x2db881['shift']());}}}(_0x41ee,0xbddc7));import _0xe7f6c9 from'../../../source/ImageCanvas.js';import{transformExtent}from'../../../proj.js';import{getWindSpeedAndDirection}from'../common/commonLayerUnit.js';function _0x41ee(){const _0x6cd229=['28333650NbyxuR','6632gtobRa','map','#000000ff','defaultStyle','min','lineWidth','5162180PQZdbJ','getCode','slice','style_','8368716wlHNiy','drawImage','padding','fillRect','CustomStyle','#fff','getData','getSource','length','color','stroke','6822zIZxOs','scale','4203429MGqphc','height','textStyle','setOptions','getCoordinateFromPixel','max','parse','ceil','save','createElement','4YgGfnU','direction','rotate','proj','getView','assign','fillStyle','getProperties','7703906IkDNVb','extent','font','drawWindInfo','restore','canvas','speed','6SsJbUu','getContext','#00000000','strokeStyle','InitWebGLFunctionSingle','translate','options','185813zoVblV'];_0x41ee=function(){return _0x6cd229;};return _0x41ee();}function _0xcd0b(_0x37a179,_0x13753a){const _0x41ee2f=_0x41ee();return _0xcd0b=function(_0xcd0bce,_0x2681b8){_0xcd0bce=_0xcd0bce-0x89;let _0x2bca8e=_0x41ee2f[_0xcd0bce];return _0x2bca8e;},_0xcd0b(_0x37a179,_0x13753a);}import{wind}from'./wind.js';import{GeoJsonFormatFeilds}from'./styleFeilds.js';import{getCanvasExtent,getGridPoints,mergeObject,setArrowOffset}from'./gridHelper.js';class gridSource{constructor(_0x5d8e92){const _0x5905f4=_0xcd0b;this[_0x5905f4(0x9e)]=null,this[_0x5905f4(0xa2)]=_0x5d8e92,this[_0x5905f4(0xad)]=0xa,this[_0x5905f4(0x96)]=document[_0x5905f4(0xc1)](_0x5905f4(0x96)),this[_0x5905f4(0xa4)]={'font':'14px\x20Calibri,sans-serif','fill':{'color':'#000'},'stroke':{'color':_0x5905f4(0xb0),'width':0x4}};}['drawWindInfo'](_0x18a00c,_0x2b910c,_0x414ee2,_0x22395e,_0x58e22e){const _0x504c21=_0xcd0b;if(!(_0x18a00c&&_0x2b910c[_0x504c21(0x97)]&&_0x414ee2))return;const {iconName:_0xc2139a}=GeoJsonFormatFeilds['AutomaticStationFeilds'],_0xe002a3=Math[_0x504c21(0xa5)](Math[_0x504c21(0xbf)](_0x2b910c[_0x504c21(0x97)]/0x2)-0x1,0x1d),_0x430495=(''+_0xe002a3)['padStart'](0x2,'0'),_0x4386b6=wind[''+_0xc2139a+_0x430495],{peak:_0x19182e,image:_0x53f343,picOffset:_0x473391}=_0x58e22e;if(!(_0x4386b6&&_0x53f343))return;const _0x1a3691=this[_0x504c21(0xa2)][_0x504c21(0xbc)](_0x414ee2),_0x3ff755=_0x1a3691[0x1]<0x0,_0x291922=0x1e/_0x22395e,_0x472c6b=_0x414ee2[0x0],_0x37ff2c=_0x414ee2[0x1]-_0x291922;let _0x83e2d8=(_0x3ff755?-0x1:0x1)*(_0x2b910c[_0x504c21(0x8a)]*Math['PI'])/0xb4;_0x18a00c[_0x504c21(0xc0)](),_0x18a00c['translate'](_0x414ee2[0x0],_0x414ee2[0x1]);_0x3ff755&&_0x18a00c[_0x504c21(0xb7)](-0x1,0x1);_0x18a00c[_0x504c21(0x8b)](_0x83e2d8),_0x18a00c[_0x504c21(0x9d)](-_0x414ee2[0x0],-_0x414ee2[0x1]);const _0x59f9ff=_0x19182e&&_0x2b910c[_0x504c21(0x97)]>=0x10?0xdc:_0x473391||0x54;_0x18a00c[_0x504c21(0xac)](_0x53f343,+_0x4386b6['x'],_0x59f9ff,0x1e,0x1e,_0x472c6b-0xa,_0x37ff2c,_0x291922,_0x291922),_0x18a00c[_0x504c21(0x95)]();}[_0x32220a(0x9c)](_0x26b55d){const _0x287684=_0x32220a;this[_0x287684(0x9e)]=_0x26b55d;function _0x4b097d(_0xd95548,_0x594557){const _0x556bc4=_0x287684;return _0xd95548>=_0x594557[_0x556bc4(0xa5)]&&_0xd95548<=_0x594557[_0x556bc4(0xbd)];}const _0x8b4a25=new _0xe7f6c9({'ratio':0x1,'projection':this['map'][_0x287684(0x8d)]()['getProjection']()['getCode'](),'canvasFunction':(_0x1e9ab9,_0x1fca05,_0x1a2009,_0x2a7c61,_0x1b8ef2)=>{const _0x53388d=_0x287684,_0x42fcb3=this[_0x53388d(0x9e)],{distanceArrow:_0x1cd862,fixedPixel:_0x3df4ad,layer:_0x1d94f8,showTextRange:_0x4dffd2}=_0x42fcb3,_0x3cad9f=_0x1d94f8[_0x53388d(0xaf)]||_0x1d94f8[_0x53388d(0xaa)],_0x181e34=_0x1d94f8[_0x53388d(0xb2)](),_0x1d17b0=_0x181e34['getResolutions'](),_0x2c71b0=_0x1d17b0[_0x53388d(0xa9)](-0x1)[0x0],_0x13dcca=Object[_0x53388d(0x8e)]({'min':-0x270f,'max':0x270f},_0x4dffd2);var _0x1ed110=this[_0x53388d(0x96)];_0x1ed110['width']=_0x2a7c61[0x0],_0x1ed110[_0x53388d(0xb9)]=_0x2a7c61[0x1];var _0x23f3f3=_0x1ed110[_0x53388d(0x99)]('2d');_0x23f3f3[_0x53388d(0xb7)](_0x1a2009,_0x1a2009);let _0x52f491=JSON[_0x53388d(0xbe)](JSON['stringify'](this[_0x53388d(0xa4)]));_0x42fcb3[_0x53388d(0xba)]&&mergeObject(_0x52f491,_0x42fcb3[_0x53388d(0xba)]);_0x23f3f3[_0x53388d(0x8f)]=_0x53388d(0x9a),_0x23f3f3[_0x53388d(0xae)](0x0,0x0,_0x2a7c61[0x0],_0x2a7c61[0x1]),_0x23f3f3['fillStyle']=_0x52f491['fill']?.[_0x53388d(0xb4)]||_0x53388d(0xa3);_0x52f491[_0x53388d(0xb5)]&&(_0x23f3f3[_0x53388d(0x9b)]=_0x52f491[_0x53388d(0xb5)]['strokeStyle']||'#ffffff',_0x23f3f3[_0x53388d(0xa6)]=_0x52f491[_0x53388d(0xb5)][_0x53388d(0xa6)]||0x1);_0x23f3f3[_0x53388d(0x93)]=_0x52f491['font'];let _0x3df659=_0x1b8ef2[_0x53388d(0xa8)](),_0x1cd5b6=_0x1d94f8[_0x53388d(0x90)]()[_0x53388d(0x8c)],_0x38159f=_0x1cd5b6['projection'];var _0x5a60b5=_0x1cd5b6[_0x53388d(0x92)];_0x38159f!=_0x3df659&&(_0x5a60b5=transformExtent(_0x1cd5b6[_0x53388d(0x92)],_0x38159f,_0x3df659));let _0x2390a4=+_0x1cd862||0x50;_0x3df4ad&&(_0x2390a4=Math[_0x53388d(0xbd)](_0x2c71b0/_0x1fca05,_0x2390a4));this[_0x53388d(0xad)]=Math[_0x53388d(0xbf)](_0x2390a4/0x5);const _0x38a5d0=getCanvasExtent(this['map'],_0x1e9ab9),_0x4b3b79=getCanvasExtent(this['map'],_0x5a60b5,this[_0x53388d(0xad)]),_0x31c6e5=getGridPoints(_0x4b3b79,_0x2390a4,_0x38a5d0,this['padding']),{scala:_0x5da297,scale:_0x51efda,offset:_0x1e9f80}=_0x3cad9f,_0xbeaaf5=_0x51efda||_0x5da297;for(let _0x51c1e0=0x0;_0x51c1e0<_0x31c6e5['length'];_0x51c1e0++){let _0x4030de=_0x1d94f8[_0x53388d(0xb1)](_0x31c6e5[_0x51c1e0]);if(!(_0x4030de&&_0x4030de[_0x53388d(0xb3)]>=0x2))continue;const _0x4cc64f=_0x4030de[_0x53388d(0xa2)](_0xb5dece=>(_0xb5dece-_0x1e9f80)/_0xbeaaf5);let _0x5ed31f=getWindSpeedAndDirection(..._0x4cc64f);if(!_0x4b097d(_0x5ed31f[_0x53388d(0x97)],_0x13dcca))continue;const _0x2810dc=setArrowOffset(_0x42fcb3);this[_0x53388d(0x94)](_0x23f3f3,_0x5ed31f,_0x31c6e5[_0x51c1e0],_0x1a2009,_0x2810dc);}return _0x1ed110;}});return _0x8b4a25;}[_0x32220a(0xbb)](_0x3f2976){const _0x10a7f4=_0x32220a;this[_0x10a7f4(0x9e)]=_0x3f2976;}}export{gridSource};