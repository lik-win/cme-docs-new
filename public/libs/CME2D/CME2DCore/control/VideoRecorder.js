var _0x448ca2=_0x5200;function _0x2cda(){var _0x213093=['framerate','get','createObjectURL','target','data','ondataavailable','rec','start','_printCtrl','data-state','14548578gCkhln','ol-videorec','querySelector','VIDEO','_dialog','556744EXSprx','removeControl','onpause','src','video','BUTTON','error','dispatchEvent','DIV','show','videoTarget','body','ol-stop','element','DIALOG','tips','getMap','ol-pause','prototype','inactive','189IeXxDK','bind','captureStream','324WckQSW','setMap','45WLpfnI','onstop','fastPrint','pause','setAttribute','stop','4186528UqcozW','151390dSwflE','27704DZFjZU','tagName','ol-fullscreen-dialog','_videoTarget','resume','onresume','className','setTooltip','button','addControl','create','ol-start','button.ol-','set','_mediaRecorder','1YGKVqs','video/mp4','10926LeBocr','2706256rcHcTy','start\x20video','videoBitsPerSecond'];_0x2cda=function(){return _0x213093;};return _0x2cda();}(function(_0x255202,_0x55c5ea){var _0x570fac=_0x5200,_0x42e987=_0x255202();while(!![]){try{var _0x485149=parseInt(_0x570fac(0x9d))/0x1*(parseInt(_0x570fac(0xb2))/0x2)+-parseInt(_0x570fac(0xc9))/0x3*(parseInt(_0x570fac(0x8e))/0x4)+parseInt(_0x570fac(0xcb))/0x5*(-parseInt(_0x570fac(0x9f))/0x6)+parseInt(_0x570fac(0xa0))/0x7+-parseInt(_0x570fac(0xd1))/0x8+parseInt(_0x570fac(0xc6))/0x9*(-parseInt(_0x570fac(0x8d))/0xa)+parseInt(_0x570fac(0xad))/0xb;if(_0x485149===_0x55c5ea)break;else _0x42e987['push'](_0x42e987['shift']());}catch(_0x4d5f4a){_0x42e987['push'](_0x42e987['shift']());}}}(_0x2cda,0x5d3fa));import _0xb92a87 from'../../control/Control.js';function _0x5200(_0x437b4d,_0x572663){var _0x2cdac9=_0x2cda();return _0x5200=function(_0x5200e9,_0x4bf4ec){_0x5200e9=_0x5200e9-0x8d;var _0x405786=_0x2cdac9[_0x5200e9];return _0x405786;},_0x5200(_0x437b4d,_0x572663);}import _0x2c221f from'../util/element.js';import _0x159175 from'./Print.js';import _0x259534 from'./Dialog.js';var cme_contrcme_VideoRecorder=class olcontrolVideoRecorder extends _0xb92a87{constructor(_0x488313){var _0x1545df=_0x5200;_0x488313=_0x488313||{};var _0x25a6c3=_0x2c221f[_0x1545df(0x98)]('DIV',{'className':(_0x488313[_0x1545df(0x94)]||_0x1545df(0xae))+'\x20ol-unselectable\x20ol-control'});super({'element':_0x25a6c3,'target':_0x488313[_0x1545df(0xa6)]}),_0x2c221f[_0x1545df(0x98)]('BUTTON',{'type':_0x1545df(0x96),'className':_0x1545df(0x99),'title':cme_contrcme_VideoRecorder['prototype']['tips'][_0x1545df(0xaa)],'click':function(){this['start']();}['bind'](this),'parent':_0x25a6c3}),_0x2c221f['create'](_0x1545df(0xb7),{'type':_0x1545df(0x96),'className':_0x1545df(0xbe),'title':cme_contrcme_VideoRecorder['prototype'][_0x1545df(0xc1)][_0x1545df(0xd0)],'click':function(){this['stop']();}[_0x1545df(0xc7)](this),'parent':_0x25a6c3}),_0x2c221f['create'](_0x1545df(0xb7),{'type':_0x1545df(0x96),'className':_0x1545df(0xc3),'title':cme_contrcme_VideoRecorder[_0x1545df(0xc4)][_0x1545df(0xc1)][_0x1545df(0xce)],'click':function(){var _0x86e312=_0x1545df;this[_0x86e312(0xce)]();}[_0x1545df(0xc7)](this),'parent':_0x25a6c3}),_0x2c221f['create'](_0x1545df(0xb7),{'type':_0x1545df(0x96),'className':'ol-resume','title':cme_contrcme_VideoRecorder[_0x1545df(0xc4)][_0x1545df(0xc1)]['resume'],'click':function(){this['resume']();}[_0x1545df(0xc7)](this),'parent':_0x25a6c3}),this['set'](_0x1545df(0xa3),0x1e),this[_0x1545df(0x9b)](_0x1545df(0xa2),0x4c4b40),_0x488313[_0x1545df(0xbc)]===_0x1545df(0xc0)?(this[_0x1545df(0xb1)]=new _0x259534({'className':_0x1545df(0x90),'target':document[_0x1545df(0xbd)],'closeBox':!![]}),this[_0x1545df(0x91)]=this['_dialog']['getContentElement']()):this[_0x1545df(0x91)]=_0x488313['videoTarget'],this[_0x1545df(0xab)]=new _0x159175({'target':_0x2c221f[_0x1545df(0x98)](_0x1545df(0xba))});}[_0x448ca2(0x95)](_0x4cdbf0,_0x31d461){var _0x213e9e=_0x448ca2,_0x54bf2d=this['element']['querySelector'](_0x213e9e(0x9a)+_0x4cdbf0);_0x54bf2d&&(_0x54bf2d['title']=_0x31d461);}[_0x448ca2(0xca)](_0x3fa4fe){var _0x1e0d0a=_0x448ca2;if(this[_0x1e0d0a(0xc2)]()){this[_0x1e0d0a(0xc2)]()[_0x1e0d0a(0xb3)](this[_0x1e0d0a(0xab)]);if(this['_dialog'])this[_0x1e0d0a(0xc2)]()[_0x1e0d0a(0xb3)](this['_dialog']);}super[_0x1e0d0a(0xca)](_0x3fa4fe);if(this['getMap']()){this[_0x1e0d0a(0xc2)]()[_0x1e0d0a(0x97)](this[_0x1e0d0a(0xab)]);if(this[_0x1e0d0a(0xb1)])this[_0x1e0d0a(0xc2)]()[_0x1e0d0a(0x97)](this['_dialog']);}}['start'](){var _0x190b8b=_0x448ca2,_0x3fce27=this[_0x190b8b(0xab)],_0x574ad5=![];function _0x4752ea(_0x3ac19e){if(_0x574ad5)return;_0x3fce27['fastPrint']({'canvas':_0x3ac19e},_0x4752ea);}_0x3fce27[_0x190b8b(0xcd)]({},function(_0x3c44a3){var _0x22581d=_0x190b8b,_0x286779;try{_0x286779=_0x3c44a3[_0x22581d(0xc8)](this[_0x22581d(0xa4)](_0x22581d(0xa3))||0x1e);}catch(_0x20795f){this[_0x22581d(0xb9)]({'type':_0x22581d(0xb8),'error':_0x20795f});return;}this['_mediaRecorder']=new MediaRecorder(_0x286779,{'videoBitsPerSecond':this[_0x22581d(0xa4)](_0x22581d(0xa2))||0x4c4b40});var _0x1dd45b=[];this[_0x22581d(0x9c)][_0x22581d(0xa8)]=function(_0x5438e0){var _0x134435=_0x22581d;_0x1dd45b['push'](_0x5438e0[_0x134435(0xa7)]);},this[_0x22581d(0x9c)][_0x22581d(0xcc)]=function(){var _0x5ece10=_0x22581d;_0x574ad5=!![];var _0x4cc73b=new Blob(_0x1dd45b,{'type':_0x5ece10(0x9e)});_0x1dd45b=[];if(this[_0x5ece10(0x91)]instanceof Element){var _0x440034;this[_0x5ece10(0x91)][_0x5ece10(0x8f)]===_0x5ece10(0xb0)?_0x440034=this[_0x5ece10(0x91)]:(_0x440034=this[_0x5ece10(0x91)][_0x5ece10(0xaf)](_0x5ece10(0xb6)),!_0x440034&&(_0x440034=_0x2c221f[_0x5ece10(0x98)]('VIDEO',{'controls':'','parent':this[_0x5ece10(0x91)]})));if(this[_0x5ece10(0xb1)])this[_0x5ece10(0xb1)][_0x5ece10(0xbb)]();_0x440034[_0x5ece10(0xb5)]=URL['createObjectURL'](_0x4cc73b),this[_0x5ece10(0xb9)]({'type':_0x5ece10(0xd0),'videoURL':_0x440034[_0x5ece10(0xb5)]});}else this['dispatchEvent']({'type':_0x5ece10(0xd0),'videoURL':URL[_0x5ece10(0xa5)](_0x4cc73b)});}[_0x22581d(0xc7)](this),this[_0x22581d(0x9c)][_0x22581d(0xb4)]=function(){var _0x4bc2bf=_0x22581d;_0x574ad5=!![],this[_0x4bc2bf(0xb9)]({'type':'pause'});}['bind'](this),this[_0x22581d(0x9c)][_0x22581d(0x93)]=function(){_0x574ad5=![],_0x4752ea(_0x3c44a3),this['dispatchEvent']({'type':'resume'});}[_0x22581d(0xc7)](this),this['_mediaRecorder']['onerror']=function(_0x3a1bb6){var _0x2e886a=_0x22581d;this[_0x2e886a(0xb9)]({'type':'error','error':_0x3a1bb6});}[_0x22581d(0xc7)](this),_0x574ad5=![],_0x4752ea(_0x3c44a3),this[_0x22581d(0x9c)]['start'](),this[_0x22581d(0xb9)]({'type':_0x22581d(0xaa),'canvas':_0x3c44a3}),this[_0x22581d(0xbf)][_0x22581d(0xcf)]('data-state',_0x22581d(0xa9));}[_0x190b8b(0xc7)](this));}[_0x448ca2(0xd0)](){var _0x1f1df1=_0x448ca2;this[_0x1f1df1(0x9c)]&&(this[_0x1f1df1(0x9c)][_0x1f1df1(0xd0)](),this[_0x1f1df1(0x9c)]=null,this[_0x1f1df1(0xbf)]['setAttribute'](_0x1f1df1(0xac),_0x1f1df1(0xc5)));}[_0x448ca2(0xce)](){var _0x519b26=_0x448ca2;this[_0x519b26(0x9c)]&&(this[_0x519b26(0x9c)]['pause'](),this[_0x519b26(0xbf)][_0x519b26(0xcf)]('data-state',_0x519b26(0xce)));}[_0x448ca2(0x92)](){var _0x337fd6=_0x448ca2;this[_0x337fd6(0x9c)]&&(this['_mediaRecorder'][_0x337fd6(0x92)](),this[_0x337fd6(0xbf)][_0x337fd6(0xcf)]('data-state','rec'));}};cme_contrcme_VideoRecorder[_0x448ca2(0xc4)][_0x448ca2(0xc1)]={'start':_0x448ca2(0xa1),'stop':_0x448ca2(0xd0),'pause':_0x448ca2(0xce),'resume':_0x448ca2(0x92)};export default cme_contrcme_VideoRecorder;