function _0x365b(){var _0x5f3ad0=['length','25165jigDdH','removeFeature','getActive','13602Yilwpm','coordinate','style','Polygon','sqrt','getClosestPoint','setModifyInteraction','setActive','addOrthoGuide','setMap','44901610GxvPuO','getType','modifystart','1580cLhBQR','getModifiedFeatures','Snap\x20overlay','addGuide','projExtent_','overlaySource_','getCoordinates','vertexFeature_','frameState','pixelTolerance','enableInitialGuides_','viewState','getMap','4282352YWAFcj','9iJGFni','clear','getProjection','image','findIndex','drawstart','3060972pHxWUq','5671376ktJHAY','slice','addFeature','setDrawInteraction','change:active','concat','82cpzcKv','getFeatures','getFeaturesCollection','feature','setVisible','resolution','vectorClass','change','Point','target','3535826QZGxXN','getGeometry','calculateExtent','overlayLayer_','max','getSize','snapDistance_','clearGuides'];_0x365b=function(){return _0x5f3ad0;};return _0x365b();}var _0x4e399d=_0x3a4b;(function(_0x1af4c5,_0x61422c){var _0x414c35=_0x3a4b,_0xbad022=_0x1af4c5();while(!![]){try{var _0x2d1eac=parseInt(_0x414c35(0x179))/0x1*(parseInt(_0x414c35(0x166))/0x2)+parseInt(_0x414c35(0x15f))/0x3+parseInt(_0x414c35(0x160))/0x4+parseInt(_0x414c35(0x189))/0x5*(parseInt(_0x414c35(0x17c))/0x6)+parseInt(_0x414c35(0x170))/0x7+parseInt(_0x414c35(0x196))/0x8*(parseInt(_0x414c35(0x197))/0x9)+-parseInt(_0x414c35(0x186))/0xa;if(_0x2d1eac===_0x61422c)break;else _0xbad022['push'](_0xbad022['shift']());}catch(_0x5551c7){_0xbad022['push'](_0xbad022['shift']());}}}(_0x365b,0xb3d2c));import _0x566a76 from'../../interaction/Interaction.js';import _0x13cff8 from'../../style/Style.js';import _0x21ee55 from'../../style/Stroke.js';import{buffer as _0x39e76e,containsCoordinate as _0x1e61ee}from'../../extent.js';import _0x37771b from'../../source/Vector.js';import _0x33fd3f from'../../layer/Vector.js';import _0x3e3276 from'../../Collection.js';import _0x23b999 from'../../Feature.js';import _0x25990c from'../../geom/LineString.js';import'./Modify.js';function _0x3a4b(_0x559cd6,_0x5ca118){var _0x365bb3=_0x365b();return _0x3a4b=function(_0x3a4b15,_0xcfaef9){_0x3a4b15=_0x3a4b15-0x15a;var _0x56e176=_0x365bb3[_0x3a4b15];return _0x56e176;},_0x3a4b(_0x559cd6,_0x5ca118);}var cme_interaction_SnapGuides=class olinteractionSnapGuides extends _0x566a76{constructor(_0x2275cb){var _0x48dbd3=_0x3a4b;_0x2275cb=_0x2275cb||{};function _0x4f323e(_0x32c256,_0x1d1367){var _0x3259fb=_0x32c256[0x1][0x0]-_0x32c256[0x0][0x0],_0x5b5614=_0x32c256[0x1][0x1]-_0x32c256[0x0][0x1],_0x2f1a10=_0x1d1367[0x1][0x0]-_0x1d1367[0x0][0x0],_0x492b5b=_0x1d1367[0x1][0x1]-_0x1d1367[0x0][0x1],_0x2c85f1=_0x3259fb*_0x492b5b-_0x5b5614*_0x2f1a10;if(_0x2c85f1!=0x0){var _0x5b9855=(_0x3259fb*_0x32c256[0x0][0x1]-_0x3259fb*_0x1d1367[0x0][0x1]-_0x5b5614*_0x32c256[0x0][0x0]+_0x5b5614*_0x1d1367[0x0][0x0])/_0x2c85f1;return[_0x1d1367[0x0][0x0]+_0x5b9855*_0x2f1a10,_0x1d1367[0x0][0x1]+_0x5b9855*_0x492b5b];}else return![];}function _0x317769(_0x7c6581,_0x1ee49f){var _0x158d01=_0x7c6581[0x0]-_0x1ee49f[0x0],_0x3bfa0d=_0x7c6581[0x1]-_0x1ee49f[0x1];return Math['sqrt'](_0x158d01*_0x158d01+_0x3bfa0d*_0x3bfa0d);}super({'handleEvent':function(_0x3af8f8){var _0x442e34=_0x3a4b;if(this[_0x442e34(0x17b)]()){var _0x58c195=this[_0x442e34(0x18e)][_0x442e34(0x167)](),_0x4fe05b=null,_0x4512a7=null,_0x36b261=_0x3af8f8[_0x442e34(0x191)][_0x442e34(0x194)][_0x442e34(0x16b)];for(var _0x4b7a4d=0x0,_0x1eaa24;_0x1eaa24=_0x58c195[_0x4b7a4d];_0x4b7a4d++){var _0x376881=_0x1eaa24[_0x442e34(0x171)]()[_0x442e34(0x181)](_0x3af8f8[_0x442e34(0x17d)]);if(_0x317769(_0x376881,_0x3af8f8[_0x442e34(0x17d)])/_0x36b261<this[_0x442e34(0x176)]){if(_0x4fe05b){var _0x4603fc=_0x4f323e(_0x4fe05b['getGeometry']()[_0x442e34(0x18f)](),_0x1eaa24[_0x442e34(0x171)]()[_0x442e34(0x18f)]());_0x4603fc&&(_0x317769(_0x4603fc,_0x3af8f8['coordinate'])/_0x36b261<this[_0x442e34(0x176)]&&(_0x4512a7=_0x4603fc));}else _0x4512a7=_0x376881;_0x4fe05b=_0x1eaa24;}}if(_0x4512a7)_0x3af8f8[_0x442e34(0x17d)]=_0x4512a7;}return!![];}}),this['snapDistance_']=_0x2275cb[_0x48dbd3(0x192)]||0xa,this[_0x48dbd3(0x193)]=_0x2275cb['enableInitialGuides']||![];var _0x3cfa94=[new _0x13cff8({'stroke':new _0x21ee55({'color':'#ffcc33','lineDash':[0x8,0x5],'width':1.25})})];_0x2275cb['style']&&(_0x3cfa94=_0x2275cb[_0x48dbd3(0x17e)]instanceof Array?_0x2275cb[_0x48dbd3(0x17e)]:[_0x2275cb[_0x48dbd3(0x17e)]]);this['overlaySource_']=new _0x37771b({'features':new _0x3e3276(),'useSpatialIndex':![]});const _0x4b81c7=_0x2275cb[_0x48dbd3(0x16c)]||_0x33fd3f;this[_0x48dbd3(0x173)]=new _0x4b81c7({'renderMode':_0x48dbd3(0x15c),'source':this[_0x48dbd3(0x18e)],'style':function(){return _0x3cfa94;},'name':_0x48dbd3(0x18b),'displayInLayerSwitcher':![]}),this[_0x48dbd3(0x173)][_0x48dbd3(0x16a)](this['getActive']());}['setMap'](_0x5e63ec){var _0x1956fd=_0x3a4b;if(this['getMap']())this[_0x1956fd(0x195)]()['removeLayer'](this[_0x1956fd(0x173)]);super[_0x1956fd(0x185)](_0x5e63ec),this[_0x1956fd(0x173)]['setMap'](_0x5e63ec);if(_0x5e63ec)this[_0x1956fd(0x18d)]=_0x5e63ec['getView']()[_0x1956fd(0x15b)]()['getExtent']();}['setActive'](_0x1efb5d){var _0x2d2431=_0x3a4b;if(this[_0x2d2431(0x173)])this['overlayLayer_']['setVisible'](_0x1efb5d);super[_0x2d2431(0x183)](_0x1efb5d);}['clearGuides'](_0x301ed5){var _0x403f05=_0x3a4b;if(!_0x301ed5)this['overlaySource_'][_0x403f05(0x15a)]();else for(var _0x426619=0x0,_0x1f5932;_0x1f5932=_0x301ed5[_0x426619];_0x426619++){try{this['overlaySource_'][_0x403f05(0x17a)](_0x1f5932);}catch(_0x47f277){}}}['getGuides'](){var _0x114f0d=_0x3a4b;return this[_0x114f0d(0x18e)][_0x114f0d(0x168)]();}[_0x4e399d(0x18c)](_0x4f4b07,_0x452200){var _0x3d24cf=_0x4e399d;if(_0x4f4b07){var _0x32c284=this[_0x3d24cf(0x195)](),_0x58a9ce=_0x32c284['getView']()[_0x3d24cf(0x172)](_0x32c284[_0x3d24cf(0x175)]()),_0x58d60b=Math[_0x3d24cf(0x174)](this[_0x3d24cf(0x18d)][0x2]-this['projExtent_'][0x0],this['projExtent_'][0x3]-this[_0x3d24cf(0x18d)][0x1]);_0x58a9ce=_0x39e76e(_0x58a9ce,_0x58d60b*1.5);if(_0x58a9ce[0x0]<this['projExtent_'][0x0])_0x58a9ce[0x0]=this['projExtent_'][0x0];if(_0x58a9ce[0x1]<this[_0x3d24cf(0x18d)][0x1])_0x58a9ce[0x1]=this[_0x3d24cf(0x18d)][0x1];if(_0x58a9ce[0x2]>this['projExtent_'][0x2])_0x58a9ce[0x2]=this[_0x3d24cf(0x18d)][0x2];if(_0x58a9ce[0x3]>this[_0x3d24cf(0x18d)][0x3])_0x58a9ce[0x3]=this['projExtent_'][0x3];var _0xb235b8=_0x4f4b07[0x0][0x0]-_0x4f4b07[0x1][0x0],_0x20c4ec=_0x4f4b07[0x0][0x1]-_0x4f4b07[0x1][0x1],_0x99d5e3=0x1/Math[_0x3d24cf(0x180)](_0xb235b8*_0xb235b8+_0x20c4ec*_0x20c4ec),_0xc0a615=function(_0x3d9dbd){var _0x2b3c21=_0x3d24cf,_0x4e58a8,_0x2f3b5f=[],_0x367574=_0x58d60b*_0x3d9dbd*0x2;for(var _0x535c4d=0x0;_0x3d9dbd>0x0?_0x535c4d<_0x367574:_0x535c4d>_0x367574;_0x535c4d+=_0x58d60b*_0x3d9dbd/0x64){if(_0x452200)_0x4e58a8=[_0x4f4b07[0x0][0x0]+_0x20c4ec*_0x99d5e3*_0x535c4d,_0x4f4b07[0x0][0x1]-_0xb235b8*_0x99d5e3*_0x535c4d];else _0x4e58a8=[_0x4f4b07[0x0][0x0]+_0xb235b8*_0x99d5e3*_0x535c4d,_0x4f4b07[0x0][0x1]+_0x20c4ec*_0x99d5e3*_0x535c4d];if(_0x1e61ee(_0x58a9ce,_0x4e58a8))_0x2f3b5f['push'](_0x4e58a8);else break;}return new _0x23b999(new _0x25990c([_0x2f3b5f[0x0],_0x2f3b5f[_0x2f3b5f[_0x2b3c21(0x178)]-0x1]]));},_0x493094=_0xc0a615(0x1),_0x17df9d=_0xc0a615(-0x1);return this[_0x3d24cf(0x18e)]['addFeature'](_0x493094),this[_0x3d24cf(0x18e)][_0x3d24cf(0x162)](_0x17df9d),[_0x493094,_0x17df9d];}}[_0x4e399d(0x184)](_0x44d612){var _0x568461=_0x4e399d;return this[_0x568461(0x18c)](_0x44d612,!![]);}[_0x4e399d(0x163)](_0x423743){var _0x3242a1=_0x4e399d,_0x2676ae=this,_0x118ffd=0x0,_0x37c33a=[];function _0x2784ab(_0x3de57f){var _0x385579=_0x3a4b,_0x30d440=_0x3de57f[_0x385579(0x16f)][_0x385579(0x18f)](),_0x313c20=0x2;switch(_0x3de57f[_0x385579(0x16f)][_0x385579(0x187)]()){case _0x385579(0x16e):return;case'Polygon':_0x30d440=_0x30d440[0x0][_0x385579(0x161)](0x0,-0x1);break;default:break;}var _0x56215c=_0x30d440['length'];if(_0x56215c===_0x313c20&&_0x2676ae[_0x385579(0x193)]){var _0x5c8db0=_0x30d440[0x0][0x0],_0x200191=_0x30d440[0x0][0x1];_0x30d440=[[_0x5c8db0,_0x200191],[_0x5c8db0,_0x200191-0x1]];}if(_0x56215c!=_0x118ffd&&(_0x2676ae[_0x385579(0x193)]?_0x56215c>=_0x313c20:_0x56215c>_0x313c20)){_0x2676ae[_0x385579(0x177)](_0x37c33a);try{var _0x28c55f=_0x30d440[_0x56215c-_0x313c20],_0x4864f1=_0x30d440[_0x56215c-_0x313c20-0x1];_0x56215c>_0x313c20&&!(_0x28c55f[0x0]===_0x4864f1[0x0]&&_0x28c55f[0x1]===_0x4864f1[0x1])&&(_0x37c33a=_0x2676ae[_0x385579(0x184)]([_0x30d440[_0x56215c-_0x313c20],_0x30d440[_0x56215c-_0x313c20-0x1]])),_0x37c33a=_0x37c33a[_0x385579(0x165)](_0x2676ae[_0x385579(0x18c)]([_0x30d440[0x0],_0x30d440[0x1]])),_0x37c33a=_0x37c33a[_0x385579(0x165)](_0x2676ae[_0x385579(0x184)]([_0x30d440[0x0],_0x30d440[0x1]])),_0x118ffd=_0x56215c;}catch(_0x27c07c){}}}_0x423743['on'](_0x3242a1(0x15e),function(_0x1706c1){var _0x31c98f=_0x3242a1;_0x1706c1[_0x31c98f(0x169)][_0x31c98f(0x171)]()['on'](_0x31c98f(0x16d),_0x2784ab);}),_0x423743['on'](['drawend',_0x3242a1(0x164)],function(_0x3269a4){var _0x171665=_0x3242a1;_0x2676ae['clearGuides'](_0x37c33a);if(_0x3269a4[_0x171665(0x169)])_0x3269a4['feature'][_0x171665(0x171)]()['un'](_0x171665(0x16d),_0x2784ab);_0x118ffd=0x0,_0x37c33a=[];});}[_0x4e399d(0x182)](_0x28fea3){var _0x14aa3f=_0x4e399d;function _0x58d17e(_0x1ef646,_0x431f19){return(_0x1ef646%_0x431f19+_0x431f19)%_0x431f19;}var _0x5054a7=this,_0x14a53f=[];function _0x6e4a5(_0x3c7f34){var _0x264d2e=_0x3a4b,_0x24a1c6=_0x3c7f34[_0x264d2e(0x17d)];if(!_0x24a1c6){var _0x365586=_0x3c7f34[_0x264d2e(0x16f)][_0x264d2e(0x190)];if(!_0x365586)return;_0x24a1c6=_0x365586['getGeometry']()[_0x264d2e(0x18f)]();}var _0xb46708=_0x3c7f34[_0x264d2e(0x16f)][_0x264d2e(0x18a)]()[0x0],_0x439c05=_0xb46708[_0x264d2e(0x171)](),_0x4d46d6=_0x439c05['getCoordinates']();switch(_0x439c05[_0x264d2e(0x187)]()){case _0x264d2e(0x16e):return;case _0x264d2e(0x17f):_0x4d46d6=_0x4d46d6[0x0]['slice'](0x0,-0x1);break;default:break;}var _0x3aae8f=_0x4d46d6[_0x264d2e(0x15d)](function(_0x1f73c0){return _0x1f73c0[0x0]===_0x24a1c6[0x0]&&_0x1f73c0[0x1]===_0x24a1c6[0x1];}),_0x5d84cc=_0x4d46d6[_0x264d2e(0x178)];_0x5054a7[_0x264d2e(0x177)](_0x14a53f),_0x14a53f=_0x5054a7[_0x264d2e(0x184)]([_0x4d46d6[_0x58d17e(_0x3aae8f-0x1,_0x5d84cc)],_0x4d46d6[_0x58d17e(_0x3aae8f-0x2,_0x5d84cc)]]),_0x14a53f=_0x14a53f[_0x264d2e(0x165)](_0x5054a7[_0x264d2e(0x18c)]([_0x4d46d6[_0x58d17e(_0x3aae8f-0x1,_0x5d84cc)],_0x4d46d6[_0x58d17e(_0x3aae8f-0x2,_0x5d84cc)]])),_0x14a53f=_0x14a53f[_0x264d2e(0x165)](_0x5054a7[_0x264d2e(0x18c)]([_0x4d46d6[_0x58d17e(_0x3aae8f+0x1,_0x5d84cc)],_0x4d46d6[_0x58d17e(_0x3aae8f+0x2,_0x5d84cc)]])),_0x14a53f=_0x14a53f['concat'](_0x5054a7[_0x264d2e(0x184)]([_0x4d46d6[_0x58d17e(_0x3aae8f+0x1,_0x5d84cc)],_0x4d46d6[_0x58d17e(_0x3aae8f+0x2,_0x5d84cc)]]));}function _0x4df178(_0x29b0fc){setTimeout(_0x6e4a5,0x0,_0x29b0fc);}function _0x282107(){_0x5054a7['clearGuides'](_0x14a53f),_0x14a53f=[];}_0x28fea3['on'](_0x14aa3f(0x188),_0x4df178),_0x28fea3['on']('modifyend',_0x282107);}};export default cme_interaction_SnapGuides;