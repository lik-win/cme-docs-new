var _0x453502=_0xeb60;(function(_0x49c0e4,_0x21233c){var _0x59c8b6=_0xeb60,_0x16ac26=_0x49c0e4();while(!![]){try{var _0x199a2a=parseInt(_0x59c8b6(0x1fc))/0x1*(-parseInt(_0x59c8b6(0x1eb))/0x2)+parseInt(_0x59c8b6(0x1f5))/0x3+-parseInt(_0x59c8b6(0x1d7))/0x4*(parseInt(_0x59c8b6(0x1ec))/0x5)+parseInt(_0x59c8b6(0x1f8))/0x6*(-parseInt(_0x59c8b6(0x1e4))/0x7)+parseInt(_0x59c8b6(0x1fb))/0x8*(-parseInt(_0x59c8b6(0x1e6))/0x9)+parseInt(_0x59c8b6(0x1f2))/0xa+parseInt(_0x59c8b6(0x1d4))/0xb;if(_0x199a2a===_0x21233c)break;else _0x16ac26['push'](_0x16ac26['shift']());}catch(_0x52d589){_0x16ac26['push'](_0x16ac26['shift']());}}}(_0x2e41,0x8b37e));import{unByKey as _0xc8266a}from'../../Observable.js';import _0x19d94b from'../../interaction/Pointer.js';import{asString as _0x11426f}from'../../color.js';function _0xeb60(_0x584b33,_0x245d34){var _0x2e415b=_0x2e41();return _0xeb60=function(_0xeb6014,_0x5302d3){_0xeb6014=_0xeb6014-0x1d4;var _0x4b6ebe=_0x2e415b[_0xeb6014];return _0x4b6ebe;},_0xeb60(_0x584b33,_0x245d34);}import _0xbe07c2 from'../util/getMapCanvas.js';var cme_interaction_TinkerBell=class olinteractionTinkerBell extends _0x19d94b{constructor(_0x224b78){var _0x5c3af5=_0xeb60;_0x224b78=_0x224b78||{},super({'handleDownEvent':function(_0x2ee458){var _0x1a3a83=_0xeb60;this[_0x1a3a83(0x1e0)](_0x2ee458);},'handleMoveEvent':function(_0x45bd02){var _0x13e254=_0xeb60;this[_0x13e254(0x1e0)](_0x45bd02);}}),this[_0x5c3af5(0x1ee)](_0x5c3af5(0x1f0),_0x224b78[_0x5c3af5(0x1f0)]?_0x11426f(_0x224b78[_0x5c3af5(0x1f0)]):_0x5c3af5(0x1f7)),this['sparkle']=[0x0,0x0],this[_0x5c3af5(0x1fd)]=[],this[_0x5c3af5(0x1dd)]=this[_0x5c3af5(0x1e2)]=new Date();var _0x27a26d=this;this[_0x5c3af5(0x1da)]=function(){var _0x4e06de=_0x5c3af5;_0x27a26d[_0x4e06de(0x1e7)]=!![];},this['isout_']=!![];}[_0x453502(0x1d8)](_0x1fb330){var _0x91c18f=_0x453502;if(this[_0x91c18f(0x1d6)])_0xc8266a(this[_0x91c18f(0x1d6)]);this[_0x91c18f(0x1d6)]=null,this[_0x91c18f(0x1f1)]()&&(_0x1fb330[_0x91c18f(0x1ed)]()[_0x91c18f(0x1d9)](_0x91c18f(0x1ff),this[_0x91c18f(0x1da)],![]),this[_0x91c18f(0x1f1)]()[_0x91c18f(0x1e8)]()),super[_0x91c18f(0x1d8)](_0x1fb330),_0x1fb330&&(this[_0x91c18f(0x1d6)]=_0x1fb330['on']('postcompose',this['postcompose_']['bind'](this)),_0x1fb330[_0x91c18f(0x1ed)]()[_0x91c18f(0x1e1)](_0x91c18f(0x1ff),this[_0x91c18f(0x1da)],![]));}[_0x453502(0x1e0)](_0x1f8f1b){var _0x52191c=_0x453502;this[_0x52191c(0x1f3)]=_0x1f8f1b[_0x52191c(0x1dc)],this[_0x52191c(0x1e7)]=![],this['getMap']()[_0x52191c(0x1e8)]();}[_0x453502(0x200)](_0x3b3a50){var _0x4ae50f=_0x453502,_0x2c113c=0xf,_0x3c722e=_0x3b3a50[_0x4ae50f(0x1de)]||_0xbe07c2(this[_0x4ae50f(0x1f1)]())['getContext']('2d'),_0x1dd652=_0x3b3a50[_0x4ae50f(0x1df)]['time']-this['time'];this[_0x4ae50f(0x1e2)]=_0x3b3a50[_0x4ae50f(0x1df)]['time'];_0x3b3a50[_0x4ae50f(0x1df)][_0x4ae50f(0x1e2)]-this[_0x4ae50f(0x1dd)]>0x1e&&!this[_0x4ae50f(0x1e7)]&&(this['lastSparkle']=_0x3b3a50[_0x4ae50f(0x1df)][_0x4ae50f(0x1e2)],this[_0x4ae50f(0x1fd)]['push']({'p':[this['sparkle'][0x0]+Math[_0x4ae50f(0x1ea)]()*_0x2c113c-_0x2c113c/0x2,this[_0x4ae50f(0x1f3)][0x1]+Math[_0x4ae50f(0x1ea)]()*_0x2c113c],'o':0x1}));_0x3c722e[_0x4ae50f(0x1fe)](),_0x3c722e[_0x4ae50f(0x1e3)](_0x3b3a50['frameState'][_0x4ae50f(0x1fa)],_0x3b3a50[_0x4ae50f(0x1df)][_0x4ae50f(0x1fa)]),_0x3c722e[_0x4ae50f(0x1e5)]=this[_0x4ae50f(0x1f9)](_0x4ae50f(0x1f0));for(var _0x25e22a=this[_0x4ae50f(0x1fd)][_0x4ae50f(0x1db)]-0x1,_0x11aa70;_0x11aa70=this[_0x4ae50f(0x1fd)][_0x25e22a];_0x25e22a--){if(_0x11aa70['o']<0.2){this[_0x4ae50f(0x1fd)][_0x4ae50f(0x1f6)](0x0,_0x25e22a+0x1);break;}_0x3c722e['globalAlpha']=_0x11aa70['o'],_0x3c722e[_0x4ae50f(0x1e9)](),_0x3c722e[_0x4ae50f(0x1ef)](_0x11aa70['p'][0x0],_0x11aa70['p'][0x1],2.2,0x0,0x2*Math['PI'],![]),_0x3c722e[_0x4ae50f(0x1d5)](),_0x11aa70['o']*=0.98,_0x11aa70['p'][0x0]+=Math['random']()-0.5,_0x11aa70['p'][0x1]+=_0x1dd652*(0x1+Math[_0x4ae50f(0x1ea)]())/0x1e;}_0x3c722e[_0x4ae50f(0x1f4)]();if(this['sparkles'][_0x4ae50f(0x1db)])this[_0x4ae50f(0x1f1)]()['render']();}};function _0x2e41(){var _0x15e1b1=['#fff','319290HuaASR','get','pixelRatio','4252304WVoVGW','578918poEJSJ','sparkles','save','mouseout','postcompose_','26157296JNZbCe','fill','_listener','1434076fKkWKj','setMap','removeEventListener','out_','length','pixel','lastSparkle','context','frameState','onMove','addEventListener','time','scale','63TnSERO','fillStyle','18bfVFtt','isout_','render','beginPath','random','2NtCERg','5hlAeox','getViewport','set','arc','color','getMap','1366760dUJbSz','sparkle','restore','1605222CIEfjk','splice'];_0x2e41=function(){return _0x15e1b1;};return _0x2e41();}export default cme_interaction_TinkerBell;