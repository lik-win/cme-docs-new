var _0x4e8407=_0x2d0a;(function(_0x44079a,_0x46a54d){var _0x473382=_0x2d0a,_0x49af2f=_0x44079a();while(!![]){try{var _0x46a857=-parseInt(_0x473382(0x217))/0x1+parseInt(_0x473382(0x1ec))/0x2+parseInt(_0x473382(0x22f))/0x3*(-parseInt(_0x473382(0x222))/0x4)+-parseInt(_0x473382(0x22d))/0x5*(-parseInt(_0x473382(0x1fa))/0x6)+parseInt(_0x473382(0x21d))/0x7*(-parseInt(_0x473382(0x232))/0x8)+parseInt(_0x473382(0x1f5))/0x9+-parseInt(_0x473382(0x207))/0xa*(-parseInt(_0x473382(0x224))/0xb);if(_0x46a857===_0x46a54d)break;else _0x49af2f['push'](_0x49af2f['shift']());}catch(_0x2b32b8){_0x49af2f['push'](_0x49af2f['shift']());}}}(_0x54cf,0xa8f93));import _0x3cbc2c from'../../interaction/Interaction.js';import _0x47e9fb from'../../style/Style.js';import _0x1ec2a1 from'../../style/Stroke.js';function _0x2d0a(_0x290a2c,_0x244a78){var _0x54cf49=_0x54cf();return _0x2d0a=function(_0x2d0a5b,_0xba3f02){_0x2d0a5b=_0x2d0a5b-0x1ec;var _0x170e88=_0x54cf49[_0x2d0a5b];return _0x170e88;},_0x2d0a(_0x290a2c,_0x244a78);}import _0x566816 from'../../source/Vector.js';import _0x358fb2 from'../../style/Fill.js';import _0x524cb6 from'../../style/Circle.js';import _0x4b67a4 from'../../layer/Vector.js';function _0x54cf(){var _0x130975=['push','781dgqCjv','dispatchEvent','forEach','setMap','filterSplit_','getClosestFeature','snapDistance','#3399CC','originalEvent','6478015MTstNf','getSources','261bTWcRr','cursor','getLayers','40GLBmIT','style','2701674VbimIa','pointermove','type','clear','coord','featureStyle','getTargetElement','removeFeature','getLength','4748697KKbCif','overlayLayer_','addFeature','beforesplit','getClosestPoint','6WhDKyU','previousCursor_','getMap','source','MAX_VALUE','setGeometry','link','viewState','Split\x20overlay','sources_','aftersplit','setSources','cursor_','47590rfIAyh','tolerance','removeLayer','frameState','sketchStyle','pixel','getGeometry','getNearestCoord','splitAt','map','rgba(255,255,255,0.4)','getCoordinates','handleDownEvent','tolerance_','sources','handleMoveEvent','1189155PDhEtH','_sketch_','getSource','getClosestFeatureToCoordinate','snapDistance_','feature','598353Ibitml','filter','features','length','coordinate','55324fuPNyO'];_0x54cf=function(){return _0x130975;};return _0x54cf();}import _0x1ca578 from'../../geom/Point.js';import _0x88166f from'../../Feature.js';import _0x154404 from'../../geom/LineString.js';import{cme_coordinate_dist2d}from'../geom/GeomUtils.js';import'../geom/LineStringSplitAt.js';var cme_interaction_Split=class olinteractionSplit extends _0x3cbc2c{constructor(_0x1d7199){var _0x353645=_0x2d0a;if(!_0x1d7199)_0x1d7199={};super({'handleEvent':function(_0x5dbb2f){var _0x2d2c6e=_0x2d0a;switch(_0x5dbb2f[_0x2d2c6e(0x1ee)]){case'singleclick':return this[_0x2d2c6e(0x213)](_0x5dbb2f);case _0x2d2c6e(0x1ed):return this[_0x2d2c6e(0x216)](_0x5dbb2f);default:return!![];}}}),this['snapDistance_']=_0x1d7199[_0x353645(0x22a)]||0x19,this[_0x353645(0x214)]=_0x1d7199[_0x353645(0x208)]||1e-10,this['cursor_']=_0x1d7199['cursor'],this['setSources'](_0x1d7199[_0x353645(0x215)]);if(_0x1d7199[_0x353645(0x21f)]){if(!this[_0x353645(0x203)])this[_0x353645(0x203)]=[];this['sources_'][_0x353645(0x223)](new _0x566816({'features':_0x1d7199[_0x353645(0x21f)]}));}this['filterSplit_']=_0x1d7199[_0x353645(0x21e)]||function(){return!![];};var _0x52642a=[0xff,0xff,0xff,0x1],_0x53723b=[0x0,0x99,0xff,0x1],_0x20645a=0x3,_0x326861=new _0x358fb2({'color':_0x353645(0x211)}),_0x25570b=new _0x1ec2a1({'color':_0x353645(0x22b),'width':1.25}),_0x10c037=[new _0x47e9fb({'image':new _0x524cb6({'fill':_0x326861,'stroke':_0x25570b,'radius':0x5}),'fill':_0x326861,'stroke':_0x25570b})],_0x8822e8=[new _0x47e9fb({'stroke':new _0x1ec2a1({'color':_0x52642a,'width':_0x20645a+0x2})}),new _0x47e9fb({'image':new _0x524cb6({'radius':0x2*_0x20645a,'fill':new _0x358fb2({'color':_0x53723b}),'stroke':new _0x1ec2a1({'color':_0x52642a,'width':_0x20645a/0x2})}),'stroke':new _0x1ec2a1({'color':_0x53723b,'width':_0x20645a})})];if(_0x1d7199['sketchStyle'])_0x10c037=_0x1d7199[_0x353645(0x20b)]instanceof Array?_0x1d7199['sketchStyle']:[_0x1d7199['sketchStyle']];if(_0x1d7199[_0x353645(0x1f1)])_0x8822e8=_0x1d7199[_0x353645(0x1f1)]instanceof Array?_0x1d7199[_0x353645(0x1f1)]:[_0x1d7199['featureStyle']];this['overlayLayer_']=new _0x4b67a4({'source':new _0x566816({'useSpatialIndex':![]}),'name':_0x353645(0x202),'displayInLayerSwitcher':![],'style':function(_0x50add1){var _0x280443=_0x353645;if(_0x50add1[_0x280443(0x218)])return _0x10c037;else return _0x8822e8;}});}[_0x4e8407(0x227)](_0x3ed189){var _0x24ee0d=_0x4e8407;this[_0x24ee0d(0x1fc)]()&&this[_0x24ee0d(0x1fc)]()[_0x24ee0d(0x209)](this['overlayLayer_']),super[_0x24ee0d(0x227)](_0x3ed189),this[_0x24ee0d(0x1f6)][_0x24ee0d(0x227)](_0x3ed189);}[_0x4e8407(0x22e)](){var _0x4a9c78=_0x4e8407;if(!this['sources_']&&this[_0x4a9c78(0x1fc)]()){var _0x1f6951=[],_0x565441=function(_0x4307fc){var _0x3c6dd0=_0x4a9c78;_0x4307fc[_0x3c6dd0(0x226)](function(_0xcfe9bc){var _0x3747ab=_0x3c6dd0;if(_0xcfe9bc['getVisible']()){if(_0xcfe9bc[_0x3747ab(0x219)]&&_0xcfe9bc['getSource']()instanceof _0x566816)_0x1f6951['unshift'](_0xcfe9bc[_0x3747ab(0x219)]());else _0xcfe9bc[_0x3747ab(0x231)]&&_0x565441(_0xcfe9bc['getLayers']());}});};return _0x565441(this[_0x4a9c78(0x1fc)]()[_0x4a9c78(0x231)]()),_0x1f6951;}return this[_0x4a9c78(0x203)]||[];}[_0x4e8407(0x205)](_0x2b80f9){var _0x3e5822=_0x4e8407;this[_0x3e5822(0x203)]=_0x2b80f9?_0x2b80f9 instanceof Array?_0x2b80f9||![]:[_0x2b80f9]:![];}[_0x4e8407(0x229)](_0x38e437){var _0x102909=_0x4e8407,_0xd02f83,_0x297f3c,_0x5a4f4a,_0x5a30d3,_0x4aba66=this[_0x102909(0x21b)]+0x1;this['getSources']()[_0x102909(0x226)](function(_0x30da47){var _0x8a74fd=_0x102909,_0x1bf970=_0x30da47[_0x8a74fd(0x21a)](_0x38e437[_0x8a74fd(0x221)]);if(_0x1bf970&&_0x1bf970[_0x8a74fd(0x20d)]()['splitAt']){var _0x56868c=_0x1bf970['getGeometry']()[_0x8a74fd(0x1f9)](_0x38e437[_0x8a74fd(0x221)]),_0x53c851=new _0x154404([_0x38e437[_0x8a74fd(0x221)],_0x56868c]),_0xcd303a=_0x53c851[_0x8a74fd(0x1f4)]()/_0x38e437['frameState'][_0x8a74fd(0x201)]['resolution'];_0xcd303a<_0x4aba66&&(_0xd02f83=_0x30da47,_0x4aba66=_0xcd303a,_0x297f3c=_0x1bf970,_0x5a30d3=_0x53c851,_0x5a4f4a=_0x56868c);}});if(_0x4aba66>this[_0x102909(0x21b)])return![];else{var _0xcd6f6f=this[_0x102909(0x20e)](_0x5a4f4a,_0x297f3c[_0x102909(0x20d)]()[_0x102909(0x212)]()),_0x2a8095=this['getMap']()['getPixelFromCoordinate'](_0xcd6f6f);return cme_coordinate_dist2d(_0x38e437[_0x102909(0x20c)],_0x2a8095)<this['snapDistance_']&&(_0x5a4f4a=_0xcd6f6f),{'source':_0xd02f83,'feature':_0x297f3c,'coord':_0x5a4f4a,'link':_0x5a30d3};}}[_0x4e8407(0x20e)](_0x52d8e3,_0x3adac6){var _0x3a5e8f=_0x4e8407,_0x5ec9c5,_0x33b58e=Number[_0x3a5e8f(0x1fe)],_0x3fabf3;for(var _0x5f4adc=0x0;_0x5f4adc<_0x3adac6[_0x3a5e8f(0x220)];_0x5f4adc++){_0x5ec9c5=cme_coordinate_dist2d(_0x52d8e3,_0x3adac6[_0x5f4adc]),_0x5ec9c5<_0x33b58e&&(_0x33b58e=_0x5ec9c5,_0x3fabf3=_0x3adac6[_0x5f4adc]);}return _0x3fabf3;}[_0x4e8407(0x213)](_0x4f3e6d){var _0x589930=_0x4e8407,_0x5bbd77=this[_0x589930(0x229)](_0x4f3e6d);if(_0x5bbd77){var _0x4454ab=this;_0x4454ab[_0x589930(0x1f6)][_0x589930(0x219)]()[_0x589930(0x1ef)]();var _0x2aea44=_0x5bbd77[_0x589930(0x21c)][_0x589930(0x20d)]()[_0x589930(0x20f)](_0x5bbd77['coord'],this[_0x589930(0x214)]),_0x4d7335;if(_0x2aea44[_0x589930(0x220)]>0x1){var _0x3b61b0=[];for(_0x4d7335=0x0;_0x4d7335<_0x2aea44[_0x589930(0x220)];_0x4d7335++){var _0x10f052=_0x5bbd77[_0x589930(0x21c)]['clone']();_0x10f052[_0x589930(0x1ff)](_0x2aea44[_0x4d7335]),_0x3b61b0[_0x589930(0x223)](_0x10f052);}_0x4454ab['dispatchEvent']({'type':'beforesplit','original':_0x5bbd77[_0x589930(0x21c)],'features':_0x3b61b0}),_0x5bbd77['source'][_0x589930(0x225)]({'type':_0x589930(0x1f8),'original':_0x5bbd77['feature'],'features':_0x3b61b0}),_0x5bbd77[_0x589930(0x1fd)][_0x589930(0x1f3)](_0x5bbd77[_0x589930(0x21c)]);for(_0x4d7335=0x0;_0x4d7335<_0x3b61b0['length'];_0x4d7335++){_0x5bbd77['source']['addFeature'](_0x3b61b0[_0x4d7335]);}_0x4454ab[_0x589930(0x225)]({'type':_0x589930(0x204),'original':_0x5bbd77[_0x589930(0x21c)],'features':_0x3b61b0}),_0x5bbd77[_0x589930(0x1fd)][_0x589930(0x225)]({'type':'aftersplit','original':_0x5bbd77[_0x589930(0x21c)],'features':_0x3b61b0});}}return![];}[_0x4e8407(0x216)](_0x3ea6bd){var _0xba070=_0x4e8407,_0x31bcc8=_0x3ea6bd[_0xba070(0x210)];this['overlayLayer_'][_0xba070(0x219)]()[_0xba070(0x1ef)]();var _0x1d13cf=this[_0xba070(0x229)](_0x3ea6bd);if(_0x1d13cf&&this[_0xba070(0x228)](_0x1d13cf[_0xba070(0x21c)])){var _0x359da0,_0x5c482b;this[_0xba070(0x1f6)]['getSource']()[_0xba070(0x1f7)](_0x1d13cf[_0xba070(0x21c)]),_0x359da0=new _0x88166f(new _0x1ca578(_0x1d13cf[_0xba070(0x1f0)])),_0x359da0[_0xba070(0x218)]=!![],this['overlayLayer_'][_0xba070(0x219)]()[_0xba070(0x1f7)](_0x359da0),_0x5c482b=new _0x88166f(_0x1d13cf[_0xba070(0x200)]),_0x5c482b[_0xba070(0x218)]=!![],this[_0xba070(0x1f6)]['getSource']()[_0xba070(0x1f7)](_0x5c482b),this[_0xba070(0x225)]({'type':_0xba070(0x1ed),'coordinate':_0x3ea6bd[_0xba070(0x221)],'frameState':_0x3ea6bd[_0xba070(0x20a)],'originalEvent':_0x3ea6bd[_0xba070(0x22c)],'map':_0x3ea6bd['map'],'pixel':_0x3ea6bd[_0xba070(0x20c)],'feature':_0x1d13cf[_0xba070(0x21c)],'linkGeometry':_0x1d13cf[_0xba070(0x200)]});}else this[_0xba070(0x225)](_0x3ea6bd);var _0x168cd2=_0x31bcc8[_0xba070(0x1f2)]();if(this[_0xba070(0x206)]){if(_0x1d13cf)_0x168cd2[_0xba070(0x233)][_0xba070(0x230)]!=this[_0xba070(0x206)]&&(this[_0xba070(0x1fb)]=_0x168cd2[_0xba070(0x233)][_0xba070(0x230)],_0x168cd2['style']['cursor']=this[_0xba070(0x206)]);else this[_0xba070(0x1fb)]!==undefined&&(_0x168cd2[_0xba070(0x233)]['cursor']=this[_0xba070(0x1fb)],this[_0xba070(0x1fb)]=undefined);}}};export default cme_interaction_Split;