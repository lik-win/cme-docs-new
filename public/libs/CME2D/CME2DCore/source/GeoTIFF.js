function _0xed1a(_0x7e4476,_0xa81a3b){const _0x4cb9d3=_0x4cb9();return _0xed1a=function(_0xed1ad2,_0x474e1b){_0xed1ad2=_0xed1ad2-0x85;let _0x1e9f7f=_0x4cb9d3[_0xed1ad2];return _0x1e9f7f;},_0xed1a(_0x7e4476,_0xa81a3b);}const _0x3385e1=_0xed1a;(function(_0x1257b2,_0x49671d){const _0x4dcb71=_0xed1a,_0x3f4c8b=_0x1257b2();while(!![]){try{const _0x3f6a7b=parseInt(_0x4dcb71(0xa8))/0x1+-parseInt(_0x4dcb71(0xc7))/0x2+-parseInt(_0x4dcb71(0x99))/0x3+parseInt(_0x4dcb71(0xa5))/0x4*(-parseInt(_0x4dcb71(0x91))/0x5)+parseInt(_0x4dcb71(0xae))/0x6*(parseInt(_0x4dcb71(0x9d))/0x7)+-parseInt(_0x4dcb71(0x87))/0x8+parseInt(_0x4dcb71(0xc8))/0x9;if(_0x3f6a7b===_0x49671d)break;else _0x3f4c8b['push'](_0x3f4c8b['shift']());}catch(_0x1d703d){_0x3f4c8b['push'](_0x3f4c8b['shift']());}}}(_0x4cb9,0x2efb1));import _0x5687d1 from'./../../source/GeoTIFF.js';import{TileGrid}from'./../../tilegrid.js';import{toUserCoordinate,toUserExtent}from'./../../proj.js';import{getCenter,getIntersection}from'./../../extent.js';function assertEqual(_0x3c8b88,_0x4a1c6f,_0x52ca0e,_0x3c8e00,_0x43f8d2){const _0x41a09f=_0xed1a;if(Array[_0x41a09f(0xb2)](_0x3c8b88)){const _0x24c868=_0x3c8b88[_0x41a09f(0xd1)];if(!Array[_0x41a09f(0xb2)](_0x4a1c6f)||_0x24c868!=_0x4a1c6f[_0x41a09f(0xd1)]){const _0x72927f=new Error(_0x3c8e00);_0x43f8d2(_0x72927f);throw _0x72927f;}for(let _0x424dda=0x0;_0x424dda<_0x24c868;++_0x424dda){assertEqual(_0x3c8b88[_0x424dda],_0x4a1c6f[_0x424dda],_0x52ca0e,_0x3c8e00,_0x43f8d2);}return;}_0x4a1c6f=_0x4a1c6f;if(Math[_0x41a09f(0xb6)](_0x3c8b88-_0x4a1c6f)>_0x52ca0e*_0x3c8b88)throw new Error(_0x3c8e00);}function isMask(_0x2b3f4f){const _0x43944d=_0xed1a,_0x11814=_0x2b3f4f['fileDirectory'],_0x39ee07=_0x11814[_0x43944d(0xa4)]||0x0;return(_0x39ee07&0x4)===0x4;}function _0x4cb9(){const _0x244104=['configure_','bands','ready','sourceImagery_','parseXMLMetas','setState','getProjection','357490GcWRdK','getResolution','getGDALMetadata','Tile\x20size\x20mismatch\x20for\x20source\x20','GDAL_METADATA','getView','addAlpha_','max','864414NnMIoQ','push','reduce','getAttribute','137963dGmkvP','reverse','min','name','textContent','metadata_','getWidth','NewSubfileType','4MHbuiU','gdalMetaDatas','sourceInfo_','309393ahXsMZ','getExtremums','trim','parseFromString','loadTile_','tileGrid','6yWZPBG','getGDALNoData',',\x20got\x20[','\x20images','isArray','Resolution\x20mismatch\x20for\x20source\x20','nodata','getOrigin','abs','forEach','map','slice','setTileSizes','setLoader','projection','extremums','resolve','Origin\x20mismatch\x20for\x20source\x20','getMetaDatas','viewResolver','prototype',']\x20but\x20expected\x20[','text/xml','GDALMetadata\x20Item','getHeight','427280yjAcdz','5701392nwbNeh','getBoundingBox','sourceMasks_','fileDirectory','readRasters','Expected\x20one\x20mask\x20per\x20image\x20found\x20','\x20masks\x20and\x20','then','getSamplesPerPixel','length','getTileWidth','nodataValues_','1575048fGqAfo','samplesPerPixel_','viewRejector'];_0x4cb9=function(){return _0x244104;};return _0x4cb9();}function getBoundingBox(_0x444613){const _0x9f67e=_0xed1a;try{return _0x444613[_0x9f67e(0xc9)]();}catch(_0x56bc68){return[0x0,0x0,_0x444613[_0x9f67e(0xa3)](),_0x444613[_0x9f67e(0xc6)]()];}}function getOrigin(_0x555c7b){const _0x43f66a=_0xed1a;try{return _0x555c7b[_0x43f66a(0xb5)]()[_0x43f66a(0xb9)](0x0,0x2);}catch(_0x104a77){return[0x0,_0x555c7b['getHeight']()];}}function getResolutions(_0x43818c,_0x146e88){const _0x126269=_0xed1a;try{return _0x43818c[_0x126269(0x92)](_0x146e88);}catch(_0x5aec6e){return[_0x146e88['getWidth']()/_0x43818c[_0x126269(0xa3)](),_0x146e88['getHeight']()/_0x43818c[_0x126269(0xc6)]()];}}function parseXML(_0x32ef4c){const _0x3e4ee2=_0xed1a,_0x23bc48=new DOMParser(),_0x170649=_0x23bc48[_0x3e4ee2(0xab)](_0x32ef4c,_0x3e4ee2(0xc4)),_0x149fc1=_0x170649['querySelectorAll'](_0x3e4ee2(0xc5)),_0x4c12d5={};return _0x149fc1[_0x3e4ee2(0xb7)](_0x4d37b5=>{const _0x5e4dc7=_0x3e4ee2,_0x21f015=_0x4d37b5[_0x5e4dc7(0x9c)](_0x5e4dc7(0xa0)),_0x207eb8=_0x4d37b5[_0x5e4dc7(0xa1)][_0x5e4dc7(0xaa)]();_0x4c12d5[_0x21f015]=_0x207eb8;}),_0x4c12d5;}const defaultTileSize=0x100;class cme_GeoTIFFSource extends _0x5687d1{constructor(_0xde3661){const _0x32b78f=_0xed1a;super(_0xde3661),this[_0x32b78f(0xa6)]={},this[_0x32b78f(0xbd)]=[];}['parseXMLMetas'](_0x18da1f){const _0xe609bd=_0xed1a;if(!_0x18da1f?.['length'])return;const _0x3a2bc6=_0x18da1f[0x0][_0xe609bd(0xcb)]?.[_0xe609bd(0x95)];_0x3a2bc6&&(this[_0xe609bd(0xa6)]=parseXML(_0x3a2bc6));}[_0x3385e1(0xa9)](_0x39904f){const _0x3e4269=_0x3385e1;return _0x39904f[0x0][_0x3e4269(0xcc)]()[_0x3e4269(0xcf)](_0x307794=>{const _0x1e56b4=_0x3e4269,_0x2e661f=_0x307794[_0x1e56b4(0xb8)](_0x59c3de=>{const _0x284aee=_0x1e56b4,_0x4cb2ec=_0x59c3de[_0x284aee(0x9b)]((_0x18da70,_0x1516ba)=>Math[_0x284aee(0x9f)](_0x18da70,_0x1516ba),0x0),_0x14ac90=_0x59c3de[_0x284aee(0x9b)]((_0x314173,_0x18906d)=>Math[_0x284aee(0x98)](_0x314173,_0x18906d),0x0);return{'minValue':_0x4cb2ec,'maxValue':_0x14ac90};});return _0x2e661f;});}[_0x3385e1(0xc0)](){const _0x4fe47f=_0x3385e1,{metadata_:_0x374310,normalize_:_0x1c5568,nodataValues_:_0x16cea1,bandCount:_0x55cd96,addAlpha_:_0x1ad720}=this,{extent_:_0x35b3f4}=this['tileGrid'],{code_:_0x42cd9b}=this[_0x4fe47f(0x90)]();return{'metadata':_0x374310[0x0][0x0],'nodata':_0x16cea1[0x0][0x0],'normalize':_0x1c5568,'extent':_0x35b3f4,'proj':_0x42cd9b,'bandCount':_0x55cd96-(_0x1ad720?0x1:0x0),...this[_0x4fe47f(0xa6)]};}[_0x3385e1(0x8a)](_0x3e446b){const _0x1b231b=_0x3385e1;let _0x532319,_0x2670e2,_0x2d0c98,_0x4ed35f,_0x5010a7;const _0x56c6a8=new Array(_0x3e446b[_0x1b231b(0xd1)]),_0x127f08=new Array(_0x3e446b[_0x1b231b(0xd1)]),_0x4a8913=new Array(_0x3e446b[_0x1b231b(0xd1)]);let _0x488860=0x0;const _0x4ba7db=_0x3e446b[_0x1b231b(0xd1)];for(let _0xfb18ae=0x0;_0xfb18ae<_0x4ba7db;++_0xfb18ae){const _0xb825f7=[],_0x236007=[];_0x3e446b[_0xfb18ae][_0x1b231b(0xb7)](_0x1f09e8=>{const _0x514331=_0x1b231b;isMask(_0x1f09e8)?_0x236007['push'](_0x1f09e8):_0xb825f7[_0x514331(0x9a)](_0x1f09e8);});const _0x38019c=_0xb825f7['length'];if(_0x236007[_0x1b231b(0xd1)]>0x0&&_0x236007[_0x1b231b(0xd1)]!==_0x38019c)throw new Error(_0x1b231b(0xcd)+_0x236007['length']+_0x1b231b(0xce)+_0x38019c+_0x1b231b(0xb1));let _0x540b90,_0x5298f6;const _0x38791b=new Array(_0x38019c),_0x5bdc7d=new Array(_0x38019c),_0x1aca81=new Array(_0x38019c);_0x127f08[_0xfb18ae]=new Array(_0x38019c),_0x4a8913[_0xfb18ae]=new Array(_0x38019c);for(let _0x4283ac=0x0;_0x4283ac<_0x38019c;++_0x4283ac){const _0x1b5bc7=_0xb825f7[_0x4283ac],_0x3f6bf7=_0x1b5bc7[_0x1b231b(0xaf)]();_0x4a8913[_0xfb18ae][_0x4283ac]=_0x1b5bc7[_0x1b231b(0x93)](0x0),_0x127f08[_0xfb18ae][_0x4283ac]=_0x3f6bf7;const _0x42b15b=this[_0x1b231b(0xa7)][_0xfb18ae][_0x1b231b(0x8b)];_0x56c6a8[_0xfb18ae]=_0x42b15b?_0x42b15b[_0x1b231b(0xd1)]:_0x1b5bc7[_0x1b231b(0xd0)]();const _0x54a405=_0x38019c-(_0x4283ac+0x1);!_0x540b90&&(_0x540b90=getBoundingBox(_0x1b5bc7));!_0x5298f6&&(_0x5298f6=getOrigin(_0x1b5bc7));const _0x50b1ac=getResolutions(_0x1b5bc7,_0xb825f7[0x0]);console['log']('imageResolutions',_0x50b1ac),_0x1aca81[_0x54a405]=_0x50b1ac[0x0];const _0x39af3c=[_0x1b5bc7[_0x1b231b(0x85)](),_0x1b5bc7['getTileHeight']()];_0x39af3c[0x0]!==_0x39af3c[0x1]&&_0x39af3c[0x1]<defaultTileSize&&(_0x39af3c[0x0]=defaultTileSize,_0x39af3c[0x1]=defaultTileSize);_0x38791b[_0x54a405]=_0x39af3c;const _0x5d0672=_0x50b1ac[0x0]/Math[_0x1b231b(0xb6)](_0x50b1ac[0x1]);_0x5bdc7d[_0x54a405]=[_0x39af3c[0x0],_0x39af3c[0x1]/_0x5d0672];}!_0x532319?_0x532319=_0x540b90:getIntersection(_0x532319,_0x540b90,_0x532319);if(!_0x2670e2)_0x2670e2=_0x5298f6;else{const _0x392c75=_0x1b231b(0xbf)+_0xfb18ae+_0x1b231b(0xb0)+_0x5298f6+_0x1b231b(0xc3)+_0x2670e2+']';assertEqual(_0x2670e2,_0x5298f6,0x0,_0x392c75,this['viewRejector']);}if(!_0x5010a7)_0x5010a7=_0x1aca81,this['resolutionFactors_'][_0xfb18ae]=0x1;else{_0x5010a7[_0x1b231b(0xd1)]-_0x488860>_0x1aca81[_0x1b231b(0xd1)]&&(_0x488860=_0x5010a7[_0x1b231b(0xd1)]-_0x1aca81[_0x1b231b(0xd1)]);const _0x3b8f22=_0x5010a7[_0x5010a7[_0x1b231b(0xd1)]-0x1]/_0x1aca81[_0x1aca81[_0x1b231b(0xd1)]-0x1];this['resolutionFactors_'][_0xfb18ae]=_0x3b8f22;const _0x346fa2=_0x1aca81[_0x1b231b(0xb8)](_0x3f5946=>_0x3f5946*=_0x3b8f22),_0x53fa2c=_0x1b231b(0xb3)+_0xfb18ae+',\x20got\x20['+_0x346fa2+_0x1b231b(0xc3)+_0x5010a7+']';assertEqual(_0x5010a7[_0x1b231b(0xb9)](_0x488860,_0x5010a7[_0x1b231b(0xd1)]),_0x346fa2,0.02,_0x53fa2c,this[_0x1b231b(0x89)]);}!_0x2d0c98?_0x2d0c98=_0x5bdc7d:assertEqual(_0x2d0c98[_0x1b231b(0xb9)](_0x488860,_0x2d0c98['length']),_0x5bdc7d,0.01,_0x1b231b(0x94)+_0xfb18ae,this[_0x1b231b(0x89)]),!_0x4ed35f?_0x4ed35f=_0x38791b:assertEqual(_0x4ed35f[_0x1b231b(0xb9)](_0x488860,_0x4ed35f[_0x1b231b(0xd1)]),_0x38791b,0x0,_0x1b231b(0x94)+_0xfb18ae,this['viewRejector']),this[_0x1b231b(0x8d)][_0xfb18ae]=_0xb825f7[_0x1b231b(0x9e)](),this[_0x1b231b(0xca)][_0xfb18ae]=_0x236007[_0x1b231b(0x9e)]();}Promise[_0x1b231b(0xbe)]()['then'](()=>this[_0x1b231b(0x8e)](_0x3e446b[0x0]));for(let _0x39a67a=0x0,_0x428fd8=this[_0x1b231b(0x8d)][_0x1b231b(0xd1)];_0x39a67a<_0x428fd8;++_0x39a67a){const _0x5a6914=this[_0x1b231b(0x8d)][_0x39a67a];while(_0x5a6914[_0x1b231b(0xd1)]<_0x5010a7['length']){_0x5a6914['unshift'](undefined);}}!this[_0x1b231b(0x90)]()&&this['determineProjection'](_0x3e446b);this[_0x1b231b(0x88)]=_0x56c6a8,this[_0x1b231b(0x86)]=_0x127f08,this[_0x1b231b(0xa2)]=_0x4a8913;_0x4e5914:for(let _0x1f2b51=0x0;_0x1f2b51<_0x4ba7db;++_0x1f2b51){if(this['sourceInfo_'][_0x1f2b51][_0x1b231b(0xb4)]!==undefined){this[_0x1b231b(0x97)]=!![];break;}if(this[_0x1b231b(0xca)][_0x1f2b51][_0x1b231b(0xd1)]){this[_0x1b231b(0x97)]=!![];break;}const _0x236334=_0x127f08[_0x1f2b51],_0x11c12e=this[_0x1b231b(0xa7)][_0x1f2b51]['bands'];if(_0x11c12e){for(let _0x42da50=0x0;_0x42da50<_0x11c12e[_0x1b231b(0xd1)];++_0x42da50){if(_0x236334[_0x11c12e[_0x42da50]-0x1]!==null){this[_0x1b231b(0x97)]=!![];break _0x4e5914;}}continue;}for(let _0x32f141=0x0;_0x32f141<_0x236334[_0x1b231b(0xd1)];++_0x32f141){if(_0x236334[_0x32f141]!==null){this['addAlpha_']=!![];break _0x4e5914;}}}let _0x5715bb=this['addAlpha_']?0x1:0x0;for(let _0x544b0d=0x0;_0x544b0d<_0x4ba7db;++_0x544b0d){_0x5715bb+=_0x56c6a8[_0x544b0d];}this['bandCount']=_0x5715bb;const _0x145a76=new TileGrid({'extent':_0x532319,'minZoom':_0x488860,'origin':_0x2670e2,'resolutions':_0x5010a7,'tileSizes':_0x2d0c98});this[_0x1b231b(0xad)]=_0x145a76,this[_0x1b231b(0xba)](_0x4ed35f),this[_0x1b231b(0xbb)](this[_0x1b231b(0xac)]['bind'](this)),this[_0x1b231b(0x8f)](_0x1b231b(0x8c));const _0x41a8df=0x1;if(_0x5010a7[_0x1b231b(0xd1)]===0x2)_0x5010a7=[_0x5010a7[0x0],_0x5010a7[0x1],_0x5010a7[0x1]/0x2];else _0x5010a7[_0x1b231b(0xd1)]===0x1&&(_0x5010a7=[_0x5010a7[0x0]*0x2,_0x5010a7[0x0],_0x5010a7[0x0]/0x2]);this[_0x1b231b(0xc1)]({'showFullExtent':!![],'projection':this['projection'],'resolutions':_0x5010a7,'center':toUserCoordinate(getCenter(_0x532319),this[_0x1b231b(0xbc)]),'extent':toUserExtent(_0x532319,this[_0x1b231b(0xbc)]),'zoom':_0x41a8df});}}cme_GeoTIFFSource[_0x3385e1(0xc2)][_0x3385e1(0x96)];export default cme_GeoTIFFSource;