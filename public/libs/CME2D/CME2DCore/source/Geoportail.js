var _0x7a2a7=_0x49a9;(function(_0x5c1012,_0x1738dc){var _0x360357=_0x49a9,_0x4dbbb6=_0x5c1012();while(!![]){try{var _0x1da609=parseInt(_0x360357(0x1bc))/0x1+-parseInt(_0x360357(0x1e9))/0x2*(-parseInt(_0x360357(0x1b4))/0x3)+parseInt(_0x360357(0x1a8))/0x4*(parseInt(_0x360357(0x1a9))/0x5)+-parseInt(_0x360357(0x1b0))/0x6*(-parseInt(_0x360357(0x1cd))/0x7)+parseInt(_0x360357(0x1af))/0x8*(parseInt(_0x360357(0x1ec))/0x9)+parseInt(_0x360357(0x1e3))/0xa+-parseInt(_0x360357(0x1d3))/0xb*(parseInt(_0x360357(0x1eb))/0xc);if(_0x1da609===_0x1738dc)break;else _0x4dbbb6['push'](_0x4dbbb6['shift']());}catch(_0x3e9577){_0x4dbbb6['push'](_0x4dbbb6['shift']());}}}(_0x7a39,0x54d94));import _0x48fb90 from'../../source/WMTS.js';import{getWidth as _0x2700ef}from'../../extent.js';import _0x4f0f8d from'../../tilegrid/WMTS.js';function _0x49a9(_0x2af9e1,_0x5716e4){var _0x7a395a=_0x7a39();return _0x49a9=function(_0x49a905,_0x3b0858){_0x49a905=_0x49a905-0x1a6;var _0x3275aa=_0x7a395a[_0x49a905];return _0x3275aa;},_0x49a9(_0x2af9e1,_0x5716e4);}function _0x7a39(){var _0x280460=['responseType','text/plain','style','callback','setTileLoadFunction','open','235384dVBZtu','Request=getFeatureInfo','arraybuffer','attributions','prototype','onerror','server','maxZoom','<a\x20href=\x22https://geoservices.ign.fr/\x22>GÃ©oservices</a>\x20&copy;\x20<a\x20href=\x22http://www.ign.fr/\x22>IGN-France</a>','gppKey','https://data.geopf.fr/private/wmts','Authorization','&J=','setTileUrlFunction','crossOrigin','key','wrapX','270074ozyFJy','serviceURL','setGPPKey','defaultAttribution','EPSG:3857','tileGrid','11Zhscxh','error','onload','layer','$1/','normal','getFormat','undefined','_server','createObjectURL','minZoom','split','authentication','https://data.geopf.fr/wmts','response','GET','3640780vxektG','anonymous','getFeatureInfoUrl','replace','?apikey=','pow','8QXPAPd','INFO_FORMAT','17968656vCQgyi','2129553wYUbyL','format','getResolution','getServiceURL','tileLoadFunctionWithAuthentication','getFeatureInfo','gpf','src','getImage','818956xxkPpS','15OjWGWH','apply','&INFOFORMAT=','_gppKey','getTileCoordExtent','image/jpeg','8waTPdH','24NlVTHp','floor','getTileUrlFunction','setRequestHeader','180228YxtqWO','getProjection'];_0x7a39=function(){return _0x280460;};return _0x7a39();}import{get as _0x5e4c24}from'../../proj.js';import _0x2f5cd4 from'../util/Ajax.js';var cme_source_Geoportail=class olsourceGeoportail extends _0x48fb90{constructor(_0x35e25b,_0x1fb3b9){var _0x16ed0e=_0x49a9;_0x1fb3b9=_0x1fb3b9||{};_0x35e25b['layer']&&(_0x1fb3b9=_0x35e25b,_0x35e25b=_0x1fb3b9[_0x16ed0e(0x1d6)]);var _0x2af399=new Array(),_0x250559=new Array(),_0x3ce16d=_0x2700ef(_0x5e4c24(_0x16ed0e(0x1d1))['getExtent']())/0x100;for(var _0x30eb27=0x0;_0x30eb27<=(_0x1fb3b9['maxZoom']?_0x1fb3b9[_0x16ed0e(0x1c3)]:0x14);_0x30eb27++){_0x2af399[_0x30eb27]=_0x30eb27,_0x250559[_0x30eb27]=_0x3ce16d/Math[_0x16ed0e(0x1e8)](0x2,_0x30eb27);}var _0x1e8265=new _0x4f0f8d({'origin':[-0x131bf84,0x131bf84],'resolutions':_0x250559,'matrixIds':_0x2af399});_0x1e8265['minZoom']=_0x1fb3b9[_0x16ed0e(0x1dd)]?_0x1fb3b9[_0x16ed0e(0x1dd)]:0x0;var _0xafa17=[cme_source_Geoportail['defaultAttribution']];if(_0x1fb3b9['attributions'])_0xafa17=_0x1fb3b9[_0x16ed0e(0x1bf)];var _0x520ca2=_0x1fb3b9[_0x16ed0e(0x1c2)]||_0x16ed0e(0x1e0),_0x57c620=_0x1fb3b9[_0x16ed0e(0x1c5)]||_0x1fb3b9[_0x16ed0e(0x1cb)]||'',_0x41794b={'url':cme_source_Geoportail[_0x16ed0e(0x1ef)](_0x520ca2,_0x57c620),'layer':_0x35e25b,'matrixSet':'PM','format':_0x1fb3b9[_0x16ed0e(0x1ed)]?_0x1fb3b9[_0x16ed0e(0x1ed)]:_0x16ed0e(0x1ae),'projection':'EPSG:3857','tileGrid':_0x1e8265,'style':_0x1fb3b9['style']?_0x1fb3b9[_0x16ed0e(0x1b8)]:_0x16ed0e(0x1d8),'attributions':_0xafa17,'crossOrigin':typeof _0x1fb3b9[_0x16ed0e(0x1ca)]==_0x16ed0e(0x1da)?_0x16ed0e(0x1e4):_0x1fb3b9['crossOrigin'],'wrapX':!(_0x1fb3b9[_0x16ed0e(0x1cc)]===![])};super(_0x41794b),this[_0x16ed0e(0x1db)]=_0x520ca2,this['_gppKey']=_0x57c620,_0x1fb3b9[_0x16ed0e(0x1df)]&&this[_0x16ed0e(0x1ba)](cme_source_Geoportail[_0x16ed0e(0x1f0)](_0x1fb3b9[_0x16ed0e(0x1df)],this['getFormat']()));}static['tileLoadFunctionWithAuthentication'](_0x7895c4,_0x1f17b2){if(!_0x7895c4)return undefined;return function(_0x28f7ef,_0x1603cc){var _0x215415=_0x49a9,_0x832e53=new XMLHttpRequest();_0x832e53[_0x215415(0x1bb)](_0x215415(0x1e2),_0x1603cc),_0x832e53[_0x215415(0x1b3)](_0x215415(0x1c7),'Basic\x20'+_0x7895c4),_0x832e53[_0x215415(0x1b6)]=_0x215415(0x1be),_0x832e53[_0x215415(0x1d5)]=function(){var _0x1a6379=_0x215415,_0x69fd38=new Uint8Array(this[_0x1a6379(0x1e1)]),_0x54984b=new Blob([_0x69fd38],{'type':_0x1f17b2}),_0x5c27c2=window['URL']||window['webkitURL'],_0x5a38d4=_0x5c27c2[_0x1a6379(0x1dc)](_0x54984b);_0x28f7ef[_0x1a6379(0x1a7)]()[_0x1a6379(0x1a6)]=_0x5a38d4;},_0x832e53[_0x215415(0x1c1)]=function(){var _0x2e1f05=_0x215415;_0x28f7ef[_0x2e1f05(0x1a7)]()[_0x2e1f05(0x1a6)]='';},_0x832e53['send']();};}[_0x7a2a7(0x1ce)](){var _0x44141b=_0x7a2a7;return cme_source_Geoportail[_0x44141b(0x1ef)](this[_0x44141b(0x1db)],this[_0x44141b(0x1ac)]);}['getGPPKey'](){var _0x608c48=_0x7a2a7;return this[_0x608c48(0x1ac)];}[_0x7a2a7(0x1cf)](_0x22823e,_0x1e9561){var _0x2bbf31=_0x7a2a7;this[_0x2bbf31(0x1ac)]=_0x22823e;var _0x43ccd9=this[_0x2bbf31(0x1ce)]();this[_0x2bbf31(0x1c9)](function(){var _0x44d0a1=_0x2bbf31,_0x448d89=cme_source_Geoportail[_0x44d0a1(0x1c0)]['getTileUrlFunction']()[_0x44d0a1(0x1aa)](this,arguments);if(_0x448d89){var _0x37133a=_0x448d89[_0x44d0a1(0x1de)]('?');return _0x43ccd9+'?'+_0x37133a[0x1];}else return _0x448d89;}),_0x1e9561&&this[_0x2bbf31(0x1ba)](cme_source_Geoportail['tileLoadFunctionWithAuthentication'](_0x1e9561,this[_0x2bbf31(0x1d9)]()));}['getFeatureInfoUrl'](_0x35e164,_0x17a293,_0x4b0e31,_0xe0e2df){var _0x29aeba=_0x7a2a7;_0xe0e2df=_0xe0e2df||{};if(!_0x4b0e31)_0x4b0e31=this[_0x29aeba(0x1b5)]();var _0x10c2c6=this['tileGrid']['getTileCoordForCoordAndResolution'](_0x35e164,_0x17a293),_0x5706b1=0x1,_0xfae1b6=this[_0x29aeba(0x1b2)]()(_0x10c2c6,_0x5706b1,_0x4b0e31);if(!_0xfae1b6)return _0xfae1b6;var _0x4508f0=this['tileGrid'][_0x29aeba(0x1ee)](_0x10c2c6[0x0]),_0x44d188=this[_0x29aeba(0x1d2)][_0x29aeba(0x1ad)](_0x10c2c6),_0x22798a=Math[_0x29aeba(0x1b1)]((_0x35e164[0x0]-_0x44d188[0x0])/(_0x4508f0/_0x5706b1)),_0x209bd1=Math[_0x29aeba(0x1b1)]((_0x44d188[0x3]-_0x35e164[0x1])/(_0x4508f0/_0x5706b1));return _0xfae1b6[_0x29aeba(0x1e6)](/Request=GetTile/i,_0x29aeba(0x1bd))+_0x29aeba(0x1ab)+(_0xe0e2df[_0x29aeba(0x1ea)]||_0x29aeba(0x1b7))+'&I='+_0x22798a+_0x29aeba(0x1c8)+_0x209bd1;}[_0x7a2a7(0x1f1)](_0x1b93a6,_0x1d90e8,_0x39c27f){var _0x21dafc=_0x7a2a7,_0x826265=this[_0x21dafc(0x1e5)](_0x1b93a6,_0x1d90e8,null,_0x39c27f);_0x2f5cd4['get']({'url':_0x826265,'dataType':_0x39c27f[_0x21dafc(0x1ed)]||_0x21dafc(0x1b7),'options':{'encode':![]},'success':function(_0x547cae){var _0x448ce4=_0x21dafc;if(_0x39c27f[_0x448ce4(0x1b9)])_0x39c27f[_0x448ce4(0x1b9)](_0x547cae);},'error':_0x39c27f[_0x21dafc(0x1d4)]||function(){}});}};cme_source_Geoportail[_0x7a2a7(0x1d0)]=_0x7a2a7(0x1c4),cme_source_Geoportail['getServiceURL']=function(_0x3ac155,_0x39a045){var _0x410f7f=_0x7a2a7;if(_0x39a045===_0x410f7f(0x1f2))_0x39a045='';return!_0x3ac155&&(_0x39a045?_0x3ac155=_0x410f7f(0x1c6):_0x3ac155=_0x410f7f(0x1e0)),/geopf/['test'](_0x3ac155)?_0x39a045?_0x3ac155+_0x410f7f(0x1e7)+_0x39a045:_0x3ac155:_0x3ac155[_0x410f7f(0x1e6)](/^(https?:\/\/[^/]*)(.*)$/,_0x410f7f(0x1d7)+_0x39a045+'$2');};export default cme_source_Geoportail;